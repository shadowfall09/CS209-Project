{"items":[{"tags":["java","angular","spring"],"comments":[{"owner":{"account_id":6122124,"reputation":7373,"user_id":4775350,"accept_rate":72,"display_name":"Alejandro Lora"},"score":0,"creation_date":1641523771,"post_id":70611580,"comment_id":124832200,"body_markdown":"The server is sending a 500 error which means server error, that part I think is wrong, you should send other status with logs. Apart of that, if you want to still have control over that error from Angular, you can use the catchError operator from RxJS in the pipe of that observable, that way when failing you can do some logic in your app.","body":"The server is sending a 500 error which means server error, that part I think is wrong, you should send other status with logs. Apart of that, if you want to still have control over that error from Angular, you can use the catchError operator from RxJS in the pipe of that observable, that way when failing you can do some logic in your app."},{"owner":{"account_id":9287983,"reputation":7,"user_id":6897230,"display_name":"Garen"},"score":0,"creation_date":1641595077,"post_id":70611580,"comment_id":124854115,"body_markdown":"Yeah I&#39;ve managed to track down my problem: I needed an ExceptionControllerAdvice for my backend. Neat thanks!","body":"Yeah I&#39;ve managed to track down my problem: I needed an ExceptionControllerAdvice for my backend. Neat thanks!"}],"answers":[{"tags":[],"owner":{"account_id":23855339,"reputation":11,"user_id":17858876,"display_name":"Alejandro Alvarez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641535270,"creation_date":1641535270,"answer_id":70617160,"question_id":70611580,"body_markdown":"If you send a String from your backend, then you need to tell to the httpClient the response type is going to be a text. By default it spects a json response. So either you return a json response from api, or do this on your service:\r\n\r\n    getData(){\r\n      return this.httpClient.get(&#39;whateverUrl&#39;, {responseType: &#39;text&#39;});\r\n    }\r\n\r\n","title":"Angular .subscribe not showing error/success message","body":"<p>If you send a String from your backend, then you need to tell to the httpClient the response type is going to be a text. By default it spects a json response. So either you return a json response from api, or do this on your service:</p>\n<pre><code>getData(){\n  return this.httpClient.get('whateverUrl', {responseType: 'text'});\n}\n</code></pre>\n"}],"owner":{"account_id":9287983,"reputation":7,"user_id":6897230,"display_name":"Garen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641535270,"creation_date":1641492241,"question_id":70611580,"body_markdown":"My angular frontend .subscribe is not console.log(errorMessage) or console.log(successMessage)... why?\r\n\r\nI need to push my error strings from backend java to angular frontend. The backend is logging errors correctly (on console) and all functionalities are working in frontend too,\r\n\r\nBut angular is not displaying my registration/login validation error strings at all. I suspect *angular error/success message is null in frontend*\r\n\r\nInspect chrome gives error code 500 and I need to narrow down where my error is... HELP!\r\n\r\n**Backend (Java) showing correct error message:**\r\n```\r\nn: CustomerService.EMAIL_ID_ALREADY_IN_USE\r\n        at com.java.app2.service.CustomerServiceImpl.registerNewCustomer(CustomerServiceImpl.java:48) ~[classes/:na]\r\n        at com.java.app2.service.CustomerServiceImpl$$FastClassBySpringCGLIB$$3b86d440.invoke(&lt;generated&gt;) ~[classes/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.13.jar:5.3.13]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.13.jar:5.3.13]\r\n```\r\n\r\n**chrome (inspect) showing pretty much nothing:** \r\n```\r\nzone.js:2863 POST http://localhost:3333/EKart_Server/customer-api/customers 500\r\n...\r\n...\r\nShow 37 more frames\r\nregistration.service.ts:25 HttpErrorResponse&#160;{headers: HttpHeaders, status: 500, statusText: &#39;OK&#39;, url: &#39;http://localhost:3333/EKart_Server/customer-api/customers&#39;, ok: false,&#160;…}\r\nregistration.component.ts:54 undefined\r\n```\r\n**I think my error is here(component.ts):**\r\n```\r\n    customer: Customer = new Customer\r\n    registerUserForm!: FormGroup\r\n    errorMessage: string = &#39;&#39;\r\n    successMessage: string = &#39;&#39;\r\n    constructor(private fb: FormBuilder, private registerService: RegistrationService) {}\r\n    ngOnInit() {\r\n        this.customer = new Customer()\r\n        this.createForm()\r\n    }\r\n    registerUser() {\r\n        this.errorMessage = &#39;&#39;\r\n        this.successMessage = &#39;&#39;\r\n        this.customer = this.registerUserForm.value as Customer\r\n\r\n        this.registerService.registerCustomer(this.customer).subscribe(\r\n            {\r\n                next: message =&gt; {\r\n                    this.successMessage = message\r\n                    console.log(message)\r\n                    console.log(&quot;meow meow&quot;)\r\n                    this.registerUserForm.reset()\r\n\r\n                },\r\n                error: error =&gt; {\r\n                    this.errorMessage = &lt;any&gt; error\r\n                    console.log(error)\r\n                }\r\n            }\r\n        )\r\n    }\r\n```\r\n**or maybe here(component.html)**\r\n```\r\n&lt;form [formGroup]=&quot;registerUserForm&quot; (ngSubmit)=&quot;registerUser()&quot;&gt;\r\n...\r\nvalidation stuff...\r\n...\r\n&lt;/form&gt;\r\n&lt;h5 class=&quot;success-message&quot;&gt;{{successMessage}}&lt;/h5&gt;\r\n&lt;h5 class=&quot;error-message&quot;&gt;{{errorMessage}}&lt;/h5&gt;\r\n&lt;div class=&quot;text-info&quot;&gt;Are you a registered user? &lt;a routerLink=&quot;../login&quot;&gt;Sign in&lt;/a&gt;&lt;/div&gt;\r\n```","title":"Angular .subscribe not showing error/success message","body":"<p>My angular frontend .subscribe is not console.log(errorMessage) or console.log(successMessage)... why?</p>\n<p>I need to push my error strings from backend java to angular frontend. The backend is logging errors correctly (on console) and all functionalities are working in frontend too,</p>\n<p>But angular is not displaying my registration/login validation error strings at all. I suspect <em>angular error/success message is null in frontend</em></p>\n<p>Inspect chrome gives error code 500 and I need to narrow down where my error is... HELP!</p>\n<p><strong>Backend (Java) showing correct error message:</strong></p>\n<pre><code>n: CustomerService.EMAIL_ID_ALREADY_IN_USE\n        at com.java.app2.service.CustomerServiceImpl.registerNewCustomer(CustomerServiceImpl.java:48) ~[classes/:na]\n        at com.java.app2.service.CustomerServiceImpl$$FastClassBySpringCGLIB$$3b86d440.invoke(&lt;generated&gt;) ~[classes/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.13.jar:5.3.13]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.13.jar:5.3.13]\n</code></pre>\n<p><strong>chrome (inspect) showing pretty much nothing:</strong></p>\n<pre><code>zone.js:2863 POST http://localhost:3333/EKart_Server/customer-api/customers 500\n...\n...\nShow 37 more frames\nregistration.service.ts:25 HttpErrorResponse {headers: HttpHeaders, status: 500, statusText: 'OK', url: 'http://localhost:3333/EKart_Server/customer-api/customers', ok: false, …}\nregistration.component.ts:54 undefined\n</code></pre>\n<p><strong>I think my error is here(component.ts):</strong></p>\n<pre><code>    customer: Customer = new Customer\n    registerUserForm!: FormGroup\n    errorMessage: string = ''\n    successMessage: string = ''\n    constructor(private fb: FormBuilder, private registerService: RegistrationService) {}\n    ngOnInit() {\n        this.customer = new Customer()\n        this.createForm()\n    }\n    registerUser() {\n        this.errorMessage = ''\n        this.successMessage = ''\n        this.customer = this.registerUserForm.value as Customer\n\n        this.registerService.registerCustomer(this.customer).subscribe(\n            {\n                next: message =&gt; {\n                    this.successMessage = message\n                    console.log(message)\n                    console.log(&quot;meow meow&quot;)\n                    this.registerUserForm.reset()\n\n                },\n                error: error =&gt; {\n                    this.errorMessage = &lt;any&gt; error\n                    console.log(error)\n                }\n            }\n        )\n    }\n</code></pre>\n<p><strong>or maybe here(component.html)</strong></p>\n<pre><code>&lt;form [formGroup]=&quot;registerUserForm&quot; (ngSubmit)=&quot;registerUser()&quot;&gt;\n...\nvalidation stuff...\n...\n&lt;/form&gt;\n&lt;h5 class=&quot;success-message&quot;&gt;{{successMessage}}&lt;/h5&gt;\n&lt;h5 class=&quot;error-message&quot;&gt;{{errorMessage}}&lt;/h5&gt;\n&lt;div class=&quot;text-info&quot;&gt;Are you a registered user? &lt;a routerLink=&quot;../login&quot;&gt;Sign in&lt;/a&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1641480976,"post_id":70607974,"comment_id":124818974,"body_markdown":"What is failing? Inbound (to you tomcat) calls or outbound (from your tomcat app to another app) calls? It sounds like outbounds calls are failing in which case the server/api you are calling has the certificate you need to fetch and install on the local tomcat/server (assuming you trust it).","body":"What is failing? Inbound (to you tomcat) calls or outbound (from your tomcat app to another app) calls? It sounds like outbounds calls are failing in which case the server/api you are calling has the certificate you need to fetch and install on the local tomcat/server (assuming you trust it)."},{"owner":{"account_id":23846480,"reputation":3,"user_id":17850905,"display_name":"Simran"},"score":0,"creation_date":1641546982,"post_id":70607974,"comment_id":124837021,"body_markdown":"It is for outbound on the tomcat installed on the CentOS 6. The issue did fix after adding correct certificate in jvm","body":"It is for outbound on the tomcat installed on the CentOS 6. The issue did fix after adding correct certificate in jvm"}],"answers":[{"tags":[],"owner":{"account_id":23734997,"reputation":359,"user_id":17753770,"display_name":"Monali Ghotekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641534988,"creation_date":1641534988,"answer_id":70617123,"question_id":70607974,"body_markdown":"Updating the cacert in JVM with proper certificate, will resolve the ssl certificate issue. But make sure you use correct certificate to complete certificate chain.&lt;br/&gt;\r\nReference document - https://www.grim.se/guide/jre-cert\r\n","title":"SSL error for external API calls with the tomcat server","body":"<p>Updating the cacert in JVM with proper certificate, will resolve the ssl certificate issue. But make sure you use correct certificate to complete certificate chain.<br/>\nReference document - <a href=\"https://www.grim.se/guide/jre-cert\" rel=\"nofollow noreferrer\">https://www.grim.se/guide/jre-cert</a></p>\n"}],"owner":{"account_id":23846480,"reputation":3,"user_id":17850905,"display_name":"Simran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70617123,"answer_count":1,"score":0,"last_activity_date":1641534988,"creation_date":1641476371,"question_id":70607974,"body_markdown":"Something was changed in network configuration at my company to remediate log4j vulnerability but now my API calls are failing saying: SSL certificate chain is invalid . \r\n\r\nI have tried setting cacert in jvm with the certificate from chrome but it does not work. Any suggestion on where to get the correct certificate from? and jvm cacert is the right place to update it?","title":"SSL error for external API calls with the tomcat server","body":"<p>Something was changed in network configuration at my company to remediate log4j vulnerability but now my API calls are failing saying: SSL certificate chain is invalid .</p>\n<p>I have tried setting cacert in jvm with the certificate from chrome but it does not work. Any suggestion on where to get the correct certificate from? and jvm cacert is the right place to update it?</p>\n"},{"tags":["java","json","jakarta-ee","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1497022691,"creation_date":1497021218,"answer_id":44461292,"question_id":44461034,"body_markdown":"Looks like `e.getMessage()` won&#39;t give you a valid JSON.\r\n\r\n---\r\n\r\nOnce a valid JSON can be a quoted String, you could simply add quotes to the exception message:\r\n\r\n\tString message = &quot;\\&quot;&quot; + e.getMessage() + &quot;\\&quot;&quot;;\r\n\r\n\trequestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).entity(message)\r\n\t                                 .type(MediaType.APPLICATION_JSON).build());\r\n\r\n---\r\n\r\nAlternatively you could wrap the message into a bean:\r\n\r\n    public class ApiError {\r\n\r\n        private String message;\r\n\r\n        // Getters and setters\r\n    }\r\n\r\nAnd then return it as the response entity:\r\n\r\n\tApiError error = new ApiError();\r\n\terror.setMessage(e.getMessage());\r\n\r\n\trequestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).entity(error)\r\n\t                                 .type(MediaType.APPLICATION_JSON).build());","title":"How abort request with JSON from ContainerRequestFilter?","body":"<p>Looks like <code>e.getMessage()</code> won't give you a valid JSON.</p>\n\n<hr>\n\n<p>Once a valid JSON can be a quoted String, you could simply add quotes to the exception message:</p>\n\n<pre><code>String message = \"\\\"\" + e.getMessage() + \"\\\"\";\n\nrequestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).entity(message)\n                                 .type(MediaType.APPLICATION_JSON).build());\n</code></pre>\n\n<hr>\n\n<p>Alternatively you could wrap the message into a bean:</p>\n\n<pre><code>public class ApiError {\n\n    private String message;\n\n    // Getters and setters\n}\n</code></pre>\n\n<p>And then return it as the response entity:</p>\n\n<pre><code>ApiError error = new ApiError();\nerror.setMessage(e.getMessage());\n\nrequestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).entity(error)\n                                 .type(MediaType.APPLICATION_JSON).build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3453927,"reputation":176,"user_id":2892844,"display_name":"Duncan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641534783,"creation_date":1641534783,"answer_id":70617104,"question_id":44461034,"body_markdown":"I expanded on the other helpful response.\r\n\r\n        import org.json.JSONObject;\r\n\r\n\r\n        try {\r\n        \r\n        .  .  . \r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tJSONObject json = new JSONObject();\r\n\t\t\tjson.put(&quot;error-message&quot;, e.getMessage());\r\n\t\t\tjson.put(&quot;status&quot;, &quot;error&quot;);\r\n\t\t\trequest.abortWith(\r\n\t\t\t\t\tResponse.status(Response.Status.UNAUTHORIZED)\r\n\t\t\t\t\t\t\t.entity(json.toString())\r\n\t\t\t\t\t\t\t.type(MediaType.APPLICATION_JSON_TYPE)\r\n\t\t\t\t\t\t\t.build());\r\n\t\t}","title":"How abort request with JSON from ContainerRequestFilter?","body":"<p>I expanded on the other helpful response.</p>\n<pre><code>    import org.json.JSONObject;\n\n\n    try {\n    \n    .  .  . \n\n    } catch (Exception e) {\n        JSONObject json = new JSONObject();\n        json.put(&quot;error-message&quot;, e.getMessage());\n        json.put(&quot;status&quot;, &quot;error&quot;);\n        request.abortWith(\n                Response.status(Response.Status.UNAUTHORIZED)\n                        .entity(json.toString())\n                        .type(MediaType.APPLICATION_JSON_TYPE)\n                        .build());\n    }\n</code></pre>\n"}],"owner":{"account_id":457598,"reputation":24938,"user_id":857025,"accept_rate":55,"display_name":"Don Rhummy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44461292,"answer_count":2,"score":1,"last_activity_date":1641534783,"creation_date":1497020475,"question_id":44461034,"body_markdown":"I want to abort the request on an error and return JSON. But the below code simply returns a string saying `&quot;Unexpected &#39;U&#39;&quot;` (That&#39;s not my message)\r\n\r\nHow do i get it to abort with a JSON response?\r\n\r\n    requestContext.abortWith(\r\n\t\tResponse.status( Response.Status.UNAUTHORIZED ).entity(\r\n\t\t\te.getMessage()\r\n\t\t).type(\r\n\t\t\tMediaType.APPLICATION_JSON\r\n\t\t).build()\r\n\t);","title":"How abort request with JSON from ContainerRequestFilter?","body":"<p>I want to abort the request on an error and return JSON. But the below code simply returns a string saying <code>\"Unexpected 'U'\"</code> (That's not my message)</p>\n\n<p>How do i get it to abort with a JSON response?</p>\n\n<pre><code>requestContext.abortWith(\n    Response.status( Response.Status.UNAUTHORIZED ).entity(\n        e.getMessage()\n    ).type(\n        MediaType.APPLICATION_JSON\n    ).build()\n);\n</code></pre>\n"},{"tags":["java","arrays","sorting","matrix","data-structures"],"answers":[{"tags":[],"owner":{"account_id":7826453,"reputation":3061,"user_id":5917837,"accept_rate":29,"display_name":"mantri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641532564,"creation_date":1641532564,"answer_id":70616898,"question_id":70616467,"body_markdown":"You can levarage `Arrays.sort` and pass a `Comparator` accordingly.\r\nThis will work in your case:\r\n\r\n```\r\n        int [][] intervals =\r\n                {\r\n                        {3,4},\r\n                        {2,3},\r\n                        {1,2},\r\n                };\r\n\r\n        int mRows = intervals.length;\r\n        int nCols = intervals[0].length;\r\n\r\n        int [][]intervalsNew = new int[mRows][nCols + 1];\r\n\r\n        for (int i = 0; i &lt; mRows; i++) {\r\n            intervalsNew[i] = Arrays.copyOf(intervals[i], nCols + 1);\r\n            intervalsNew[i][nCols] = i;\r\n        }\r\n\r\n        Arrays.sort(intervalsNew, new Comparator&lt;int[]&gt;() {\r\n            public int compare(int[] a, int[] b) {\r\n                return Double.compare(a[1], b[1]);\r\n            }\r\n        });\r\n\r\n        for (int i = 0; i &lt; mRows; i++) {\r\n            System.out.println(Arrays.toString(intervalsNew[i]));\r\n        }\r\n```\r\nOutput:\r\n```\r\n[1, 2, 2]\r\n[2, 3, 1]\r\n[3, 4, 0]\r\n```","title":"How To Sort 2d array by column value with saving initial indexing","body":"<p>You can levarage <code>Arrays.sort</code> and pass a <code>Comparator</code> accordingly.\nThis will work in your case:</p>\n<pre><code>        int [][] intervals =\n                {\n                        {3,4},\n                        {2,3},\n                        {1,2},\n                };\n\n        int mRows = intervals.length;\n        int nCols = intervals[0].length;\n\n        int [][]intervalsNew = new int[mRows][nCols + 1];\n\n        for (int i = 0; i &lt; mRows; i++) {\n            intervalsNew[i] = Arrays.copyOf(intervals[i], nCols + 1);\n            intervalsNew[i][nCols] = i;\n        }\n\n        Arrays.sort(intervalsNew, new Comparator&lt;int[]&gt;() {\n            public int compare(int[] a, int[] b) {\n                return Double.compare(a[1], b[1]);\n            }\n        });\n\n        for (int i = 0; i &lt; mRows; i++) {\n            System.out.println(Arrays.toString(intervalsNew[i]));\n        }\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 2, 2]\n[2, 3, 1]\n[3, 4, 0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641532852,"creation_date":1641532852,"answer_id":70616925,"question_id":70616467,"body_markdown":"I had less knowledge than mantri about certain methods, hence I rely heavily on streams here, and the code is more verbose. Here is my attempt:\r\n\r\n```\r\npublic class Intervals {\r\n\r\n    public static void main(String[] args) {\r\n\tint[][] intervals = { { 3, 4 }, { 2, 3 }, { 1, 2 }, };\r\n\r\n\t// Convert to List to make easier to work on.\r\n\tList&lt;List&lt;Integer&gt;&gt; outer = new ArrayList&lt;&gt;();\r\n\tfor (int[] x : intervals) {\r\n\t    List&lt;Integer&gt; inner = new ArrayList&lt;&gt;();\r\n\t    for (int y : x) {\r\n\t\tinner.add(y);\r\n\t    }\r\n\t    outer.add(inner);\r\n\t}\r\n\r\n\t// Create list of ints 0,1,2,3 to add to end.\r\n\tList&lt;Integer&gt; range = IntStream.rangeClosed(0, outer.size() - 1)\r\n\t                               .boxed()\r\n\t                               .collect(Collectors.toList());\r\n\r\n\trange.stream()\r\n\t     .forEach(i -&gt; {\r\n\t         outer.get(i)\r\n\t              .add(i);\r\n\t     });\r\n\r\n\tList&lt;int[]&gt; temp_new_intervals = new ArrayList&lt;&gt;();\r\n\r\n\touter.stream()\r\n\t     .sorted((c1, c2) -&gt; {\r\n\t         if (c1.get(0) &gt; c2.get(0)) {\r\n\t\t     return 1;\r\n\t         } else if (c1.get(0) == c2.get(0)) {\r\n\t\t     return 0;\r\n\t         } else {\r\n\t\t     return -1;\r\n\t         }\r\n\t     })\r\n\t     .forEach(arr -&gt; {\r\n\t         // Because arr is Object [] we need to make it int[]\r\n\t         Object[] objects = arr.toArray();\r\n\t         int[] ints = Arrays.stream(objects)\r\n\t                            .mapToInt(o -&gt; (int) o)\r\n\t                            .toArray();\r\n\r\n\t         temp_new_intervals.add(ints);\r\n\r\n\t     });\r\n\r\n\tint[][] new_intervals = new int[outer.size()][];\r\n\r\n\tfor (int i = 0; i &lt; outer.size(); i++) {\r\n\t    new_intervals[i] = temp_new_intervals.get(i);\r\n\t}\r\n\r\n\tfor (int[] x : new_intervals) {\r\n\t    System.out.println(Arrays.toString(x));\r\n\t}\r\n\r\n    }\r\n\r\n}\r\n```\r\nOutput:\r\n```\r\n[1, 2, 2]\r\n[2, 3, 1]\r\n[3, 4, 0]\r\n```","title":"How To Sort 2d array by column value with saving initial indexing","body":"<p>I had less knowledge than mantri about certain methods, hence I rely heavily on streams here, and the code is more verbose. Here is my attempt:</p>\n<pre><code>public class Intervals {\n\n    public static void main(String[] args) {\n    int[][] intervals = { { 3, 4 }, { 2, 3 }, { 1, 2 }, };\n\n    // Convert to List to make easier to work on.\n    List&lt;List&lt;Integer&gt;&gt; outer = new ArrayList&lt;&gt;();\n    for (int[] x : intervals) {\n        List&lt;Integer&gt; inner = new ArrayList&lt;&gt;();\n        for (int y : x) {\n        inner.add(y);\n        }\n        outer.add(inner);\n    }\n\n    // Create list of ints 0,1,2,3 to add to end.\n    List&lt;Integer&gt; range = IntStream.rangeClosed(0, outer.size() - 1)\n                                   .boxed()\n                                   .collect(Collectors.toList());\n\n    range.stream()\n         .forEach(i -&gt; {\n             outer.get(i)\n                  .add(i);\n         });\n\n    List&lt;int[]&gt; temp_new_intervals = new ArrayList&lt;&gt;();\n\n    outer.stream()\n         .sorted((c1, c2) -&gt; {\n             if (c1.get(0) &gt; c2.get(0)) {\n             return 1;\n             } else if (c1.get(0) == c2.get(0)) {\n             return 0;\n             } else {\n             return -1;\n             }\n         })\n         .forEach(arr -&gt; {\n             // Because arr is Object [] we need to make it int[]\n             Object[] objects = arr.toArray();\n             int[] ints = Arrays.stream(objects)\n                                .mapToInt(o -&gt; (int) o)\n                                .toArray();\n\n             temp_new_intervals.add(ints);\n\n         });\n\n    int[][] new_intervals = new int[outer.size()][];\n\n    for (int i = 0; i &lt; outer.size(); i++) {\n        new_intervals[i] = temp_new_intervals.get(i);\n    }\n\n    for (int[] x : new_intervals) {\n        System.out.println(Arrays.toString(x));\n    }\n\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 2, 2]\n[2, 3, 1]\n[3, 4, 0]\n</code></pre>\n"}],"owner":{"account_id":18544661,"reputation":29,"user_id":13512337,"display_name":"Meet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641532852,"creation_date":1641528049,"question_id":70616467,"body_markdown":"I am looking to sort the following array based on the values in first column with saving initial position of row in input 2D array.\r\n```\r\nint [][]intervals =\r\n{\r\n    {3,4},\r\n    {2,3},\r\n    {1,2},\r\n};\r\n```\r\n***Output Will be***\r\n```\r\n{1,2,2}\r\n{2,3,1}\r\n{3,4,0}\r\n```\r\n*Here third column is for initial Position of row in input 2D Array.*","title":"How To Sort 2d array by column value with saving initial indexing","body":"<p>I am looking to sort the following array based on the values in first column with saving initial position of row in input 2D array.</p>\n<pre><code>int [][]intervals =\n{\n    {3,4},\n    {2,3},\n    {1,2},\n};\n</code></pre>\n<p><em><strong>Output Will be</strong></em></p>\n<pre><code>{1,2,2}\n{2,3,1}\n{3,4,0}\n</code></pre>\n<p><em>Here third column is for initial Position of row in input 2D Array.</em></p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":21304689,"reputation":313,"user_id":15680126,"display_name":"Ali Ahmed"},"score":0,"creation_date":1641444114,"post_id":70602410,"comment_id":124807845,"body_markdown":"Have you changed rules for Firebase Realtime Database to allow everyone to read/write?","body":"Have you changed rules for Firebase Realtime Database to allow everyone to read/write?"},{"owner":{"account_id":23786188,"reputation":1,"user_id":17798219,"display_name":"Atrikesh Mishra"},"score":0,"creation_date":1641530080,"post_id":70602410,"comment_id":124833142,"body_markdown":"Yes I changed the rules to allow for read and write in Firebase Realtime Database. but How we know that the rules is changed for everyone or not?","body":"Yes I changed the rules to allow for read and write in Firebase Realtime Database. but How we know that the rules is changed for everyone or not?"}],"answers":[{"tags":[],"owner":{"account_id":21304689,"reputation":313,"user_id":15680126,"display_name":"Ali Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641532552,"creation_date":1641444875,"answer_id":70602640,"question_id":70602410,"body_markdown":"First of all please have a look at rules defined for Firebase Realtime Database.\r\nIf you&#39;re not using Firebase Auth, You can Update rules like this.\r\n\r\nGoto **Realtime Database** then change tab to **Rules** and update rules.\r\n\r\n    {  \r\n     &quot;rules&quot;: {\r\n        &quot;.read&quot;: true,\r\n        &quot;.write&quot;: true\r\n      }\r\n    }\r\n\r\n\r\nThen you can write data.\r\n\r\n\r\n\r\n    private void InsertStudentData(){\r\n\r\n        String name=stname.getText().toString();\r\n        String email=stemail.getText().toString();\r\n        String phone=stphone.getText().toString();\r\n        String password=stpassword.getText().toString();\r\n\r\n        Students students=new Students(name,email,phone,password);\r\n\r\n        studentref.setValue(students).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                 Toast.makeText(StudentregisterActivity.this,&quot;Register Successfully&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n        })\r\n        .addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(StudentregisterActivity.this,&quot;Register failed&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\nOne more thing..\r\nYou&#39;re using multiple dependencies, please change\r\n\r\n    implementation &#39;com.google.firebase:firebase-auth:19.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:19.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.3&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:20.0.2&#39;\r\n\r\nTo\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n    implementation &#39;com.google.firebase:firebase-database&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n\r\n","title":"I want to add data in Realtime database from android studio from the following code but it should not worked","body":"<p>First of all please have a look at rules defined for Firebase Realtime Database.\nIf you're not using Firebase Auth, You can Update rules like this.</p>\n<p>Goto <strong>Realtime Database</strong> then change tab to <strong>Rules</strong> and update rules.</p>\n<pre><code>{  \n &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p>Then you can write data.</p>\n<pre><code>private void InsertStudentData(){\n\n    String name=stname.getText().toString();\n    String email=stemail.getText().toString();\n    String phone=stphone.getText().toString();\n    String password=stpassword.getText().toString();\n\n    Students students=new Students(name,email,phone,password);\n\n    studentref.setValue(students).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void aVoid) {\n             Toast.makeText(StudentregisterActivity.this,&quot;Register Successfully&quot;,Toast.LENGTH_SHORT).show();\n        }\n    })\n    .addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Toast.makeText(StudentregisterActivity.this,&quot;Register failed&quot;,Toast.LENGTH_SHORT).show();\n\n        }\n    });\n\n}\n</code></pre>\n<p>One more thing..\nYou're using multiple dependencies, please change</p>\n<pre><code>implementation 'com.google.firebase:firebase-auth:19.2.0'\nimplementation 'com.google.firebase:firebase-database:19.2.1'\nimplementation 'com.google.firebase:firebase-database:20.0.3'\nimplementation platform('com.google.firebase:firebase-bom:29.0.3')\nimplementation 'com.google.firebase:firebase-analytics'\nimplementation 'com.google.firebase:firebase-analytics:20.0.2'\n</code></pre>\n<p>To</p>\n<pre><code>implementation platform('com.google.firebase:firebase-bom:29.0.3')\nimplementation 'com.google.firebase:firebase-auth'\nimplementation 'com.google.firebase:firebase-database'\nimplementation 'com.google.firebase:firebase-analytics'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641445468,"creation_date":1641445468,"answer_id":70602707,"question_id":70602410,"body_markdown":"**Make sure following things**\r\n1) Internet permission in Manifest.\r\n2) Set Firebase Realtime database Rules to Public/Authenticate user for private rules.\r\n3) Internet Availability on testing device to push data into database.\r\n\r\n**To set Internet Permission** \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n**To set rules to public** \r\n1) Goto Firebase console\r\n2) Realtime database rules\r\n3) Paste this code in rules\r\n \r\n\r\n**\r\n\r\n    {\r\n     “rules”: {\r\n     “.read”: true,\r\n     “.write”: true\r\n     }\r\n    }\r\n\r\n**\r\n\r\n**At the end try uploading data using the code below**\r\n\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference tasksRef = rootRef.child(&quot;Students&quot;).push();\r\n    Students students=new Students(name,email,phone,password);\r\n    tasksRef.setValue(student);\r\n\r\n","title":"I want to add data in Realtime database from android studio from the following code but it should not worked","body":"<p><strong>Make sure following things</strong></p>\n<ol>\n<li>Internet permission in Manifest.</li>\n<li>Set Firebase Realtime database Rules to Public/Authenticate user for private rules.</li>\n<li>Internet Availability on testing device to push data into database.</li>\n</ol>\n<p><strong>To set Internet Permission</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p><strong>To set rules to public</strong></p>\n<ol>\n<li>Goto Firebase console</li>\n<li>Realtime database rules</li>\n<li>Paste this code in rules</li>\n</ol>\n<p>**</p>\n<pre><code>{\n “rules”: {\n “.read”: true,\n “.write”: true\n }\n}\n</code></pre>\n<p>**</p>\n<p><strong>At the end try uploading data using the code below</strong></p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference tasksRef = rootRef.child(&quot;Students&quot;).push();\nStudents students=new Students(name,email,phone,password);\ntasksRef.setValue(student);\n</code></pre>\n"}],"owner":{"account_id":23786188,"reputation":1,"user_id":17798219,"display_name":"Atrikesh Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641532552,"creation_date":1641442606,"question_id":70602410,"body_markdown":"**Code for registration**\r\n\r\n//Code used for inserting the data of students \r\nI am not adding import parts because this question is not submitted at that time.\r\n    \r\n    public class StudentregisterActivity extends AppCompatActivity {\r\n    \r\n        EditText stname;\r\n        EditText stphone;\r\n        EditText stemail;\r\n        EditText stpassword;\r\n        Button stbtn;\r\n    \r\n    \r\n        DatabaseReference studentref;\r\n        \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.studentregister);\r\n    \r\n            stname=findViewById(R.id.editTextTextPersonName);\r\n            stemail=findViewById(R.id.editTextTextEmailAddress);\r\n            stphone=findViewById(R.id.editTextPhone);\r\n            stpassword=findViewById(R.id.editTextTextPassword);\r\n            stbtn=findViewById(R.id.button7);\r\n    \r\n            studentref=FirebaseDatabase.getInstance().getReference().child(&quot;Students&quot;);\r\n    \r\n            stbtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    \r\n                    InsertStudentData();\r\n    \r\n                }\r\n            });\r\n        }\r\n        private void InsertStudentData(){\r\n    \r\n            String name=stname.getText().toString();\r\n            String email=stemail.getText().toString();\r\n            String phone=stphone.getText().toString();\r\n            String password=stpassword.getText().toString();\r\n    \r\n            Students students=new Students(name,email,phone,password);\r\n    \r\n            studentref.push().setValue(students);\r\n            Toast.makeText(StudentregisterActivity.this,&quot;Register Successfully&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n        }\r\n    }\r\n**Students**\r\n    \r\n    package com.example.pariksha;\r\n    \r\n    public class Students {\r\n    \r\n        String name;\r\n        String email;\r\n        String phone;\r\n        String password;\r\n    \r\n        public Students(String name, String email, String phone, String password) {\r\n            this.name = name;\r\n            this.email = email;\r\n            this.phone = phone;\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n        public void setPhone(String phone) {\r\n            this.phone = phone;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    }\r\n    \r\n    \r\n**setting-gradle**\r\n\r\n//Gradle setting of the project\r\n    \r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter()\r\n            maven { url &quot;https://maven.xyz.com&quot; }\r\n        }\r\n    }\r\n    rootProject.name = &quot;Pariksha&quot;\r\n    include &#39;:app&#39;\r\n    \r\n**gradle-properties**\r\n\r\n//Gradle properties of the project\r\n\r\n    # Project-wide Gradle settings.\r\n    # IDE (e.g. Android Studio) users:\r\n    # Gradle settings configured through the IDE *will override*\r\n    # any settings specified in this file.\r\n    # For more details on how to configure your build environment visit\r\n    # http://www.gradle.org/docs/current/userguide/build_environment.html\r\n    # Specifies the JVM arguments used for the daemon process.\r\n    # The setting is particularly useful for tweaking memory settings.\r\n    org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\n    # When configured, Gradle will run in incubating parallel mode.\r\n    # This option should only be used with decoupled projects. More details, visit\r\n    # http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n    # org.gradle.parallel=true\r\n    # Kotlin code style for this project: &quot;official&quot; or &quot;obsolete&quot;:\r\n    kotlin.code.style=official\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n    \r\n**gradle-build app**\r\n\r\n//Gradle properties of app\r\n    \r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;kotlin-android&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdk 31\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.pariksha&quot;\r\n            minSdk 19\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        //noinspection GradleCompatible\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:19.2.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:19.2.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.3&#39;\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics:20.0.2&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    \r\n    }\r\n    \r\n**build gradle project**\r\n    \r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.0&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n    \r\n        repositories {\r\n            // Check that you have the following line (if not, add it):\r\n            google()  // Google&#39;s Maven repository\r\n            mavenCentral()\r\n    \r\n    \r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }","title":"I want to add data in Realtime database from android studio from the following code but it should not worked","body":"<p><strong>Code for registration</strong></p>\n<p>//Code used for inserting the data of students\nI am not adding import parts because this question is not submitted at that time.</p>\n<pre><code>public class StudentregisterActivity extends AppCompatActivity {\n\n    EditText stname;\n    EditText stphone;\n    EditText stemail;\n    EditText stpassword;\n    Button stbtn;\n\n\n    DatabaseReference studentref;\n    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.studentregister);\n\n        stname=findViewById(R.id.editTextTextPersonName);\n        stemail=findViewById(R.id.editTextTextEmailAddress);\n        stphone=findViewById(R.id.editTextPhone);\n        stpassword=findViewById(R.id.editTextTextPassword);\n        stbtn=findViewById(R.id.button7);\n\n        studentref=FirebaseDatabase.getInstance().getReference().child(&quot;Students&quot;);\n\n        stbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                \n                InsertStudentData();\n\n            }\n        });\n    }\n    private void InsertStudentData(){\n\n        String name=stname.getText().toString();\n        String email=stemail.getText().toString();\n        String phone=stphone.getText().toString();\n        String password=stpassword.getText().toString();\n\n        Students students=new Students(name,email,phone,password);\n\n        studentref.push().setValue(students);\n        Toast.makeText(StudentregisterActivity.this,&quot;Register Successfully&quot;,Toast.LENGTH_SHORT).show();\n\n    }\n}\n</code></pre>\n<p><strong>Students</strong></p>\n<pre><code>package com.example.pariksha;\n\npublic class Students {\n\n    String name;\n    String email;\n    String phone;\n    String password;\n\n    public Students(String name, String email, String phone, String password) {\n        this.name = name;\n        this.email = email;\n        this.phone = phone;\n        this.password = password;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<p><strong>setting-gradle</strong></p>\n<p>//Gradle setting of the project</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter()\n        maven { url &quot;https://maven.xyz.com&quot; }\n    }\n}\nrootProject.name = &quot;Pariksha&quot;\ninclude ':app'\n</code></pre>\n<p><strong>gradle-properties</strong></p>\n<p>//Gradle properties of the project</p>\n<pre><code># Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n# Kotlin code style for this project: &quot;official&quot; or &quot;obsolete&quot;:\nkotlin.code.style=official\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p><strong>gradle-build app</strong></p>\n<p>//Gradle properties of app</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.pariksha&quot;\n        minSdk 19\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    //noinspection GradleCompatible\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-auth:19.2.0'\n    implementation 'com.google.firebase:firebase-database:19.2.1'\n    implementation 'com.google.firebase:firebase-database:20.0.3'\n    implementation platform('com.google.firebase:firebase-bom:29.0.3')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-analytics:20.0.2'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n\n}\n</code></pre>\n<p><strong>build gradle project</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.0&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n\n    repositories {\n        // Check that you have the following line (if not, add it):\n        google()  // Google's Maven repository\n        mavenCentral()\n\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","sql","database","jpa","h2"],"comments":[{"owner":{"account_id":12842085,"reputation":101,"user_id":9289813,"display_name":"Hassan Liasu"},"score":1,"creation_date":1641498641,"post_id":70612783,"comment_id":124826117,"body_markdown":"Looks like spring security is still enabled.","body":"Looks like spring security is still enabled."},{"owner":{"account_id":12842085,"reputation":101,"user_id":9289813,"display_name":"Hassan Liasu"},"score":0,"creation_date":1641501807,"post_id":70612783,"comment_id":124827230,"body_markdown":"you can check this https://stackoverflow.com/questions/43952259/springboot-accessing-h2-console","body":"you can check this <a href=\"https://stackoverflow.com/questions/43952259/springboot-accessing-h2-console\" title=\"springboot accessing h2 console\">stackoverflow.com/questions/43952259/&hellip;</a>"}],"owner":{"account_id":19605932,"reputation":13,"user_id":14349620,"display_name":"Dennis van Putten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641532470,"creation_date":1641498149,"question_id":70612783,"body_markdown":"Is anyone using H2 in memory database? I want to use it in combination with springboot, only when I go to the link of the database I apparently get another login screen. As far as I know nothing is running on port 8080. I also disabled the spring security dependency just to be sure.\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.h2.console.path=/h2-console\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.enabled=true\r\nspring.jpa.defer-datasource-initialization=true\r\n```\r\n\r\n[and the login screen i get:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D9eUr.png\r\n\r\n---\r\n\r\n[In the photo you see my dependencies][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GVHFD.png","title":"Cant connect with H2 in memory DB. cant see the reason why","body":"<p>Is anyone using H2 in memory database? I want to use it in combination with springboot, only when I go to the link of the database I apparently get another login screen. As far as I know nothing is running on port 8080. I also disabled the spring security dependency just to be sure.</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.h2.console.path=/h2-console\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/D9eUr.png\" rel=\"nofollow noreferrer\">and the login screen i get:</a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/D9eUr.png\" rel=\"nofollow noreferrer\">In the photo you see my dependencies</a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":82707,"reputation":2911,"user_id":232337,"accept_rate":80,"display_name":"RockyMountainHigh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474083196,"creation_date":1474083196,"answer_id":39542594,"question_id":39542559,"body_markdown":"Well, I found the answer to my own question. If you just replace the + with &quot; &quot; you will get the proper result.\r\n\r\n    objectKey = file.replace(&quot;+&quot;, &quot; &quot;);","title":"Generating pre-signed S3 URL for file with spaces","body":"<p>Well, I found the answer to my own question. If you just replace the + with \" \" you will get the proper result.</p>\n\n<pre><code>objectKey = file.replace(\"+\", \" \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4700831,"reputation":5120,"user_id":3804422,"accept_rate":88,"display_name":"TRiNE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641532407,"creation_date":1641532407,"answer_id":70616883,"question_id":39542559,"body_markdown":"Do you get your S3 object key from another event (E.g. SQS, SNS)? So your key might be already URL encoded. Do an URL decode before giving the object key to the pre-sign URL generator.\r\n\r\n**Object key should NOT be URL encoded when you are requesting for a presign URL.**\r\n\r\n(I&#39;m just writing my experience here so some other person who felt in to the same problem will be beneficial.)","title":"Generating pre-signed S3 URL for file with spaces","body":"<p>Do you get your S3 object key from another event (E.g. SQS, SNS)? So your key might be already URL encoded. Do an URL decode before giving the object key to the pre-sign URL generator.</p>\n<p><strong>Object key should NOT be URL encoded when you are requesting for a presign URL.</strong></p>\n<p>(I'm just writing my experience here so some other person who felt in to the same problem will be beneficial.)</p>\n"}],"owner":{"account_id":82707,"reputation":2911,"user_id":232337,"accept_rate":80,"display_name":"RockyMountainHigh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2944,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1641532407,"creation_date":1474082799,"question_id":39542559,"body_markdown":"I trying to generate a pre-signed URL link for passing to a client. My logic works great as long as the file does not contain spaces. However, if it does I get a &quot;The specified key does not exist.&quot; error. \r\n\r\nTo be clear, I am taking the URL itself and parsing it. So, the key will look something like this when I get it:\r\n\r\n    mybucket/my+file+with+spaces.pdf\r\n\r\nSo, the S3 SDK appears to take the pluses and URL-encodes them to %2b so when the link is clicked it doesn&#39;t recognize the path. If I re-write the link putting the &#39;+&#39; back I get the following error:\r\n\r\n&gt; The request signature we calculated does not match the signature you provided. Check your key and signing method.\r\n","title":"Generating pre-signed S3 URL for file with spaces","body":"<p>I trying to generate a pre-signed URL link for passing to a client. My logic works great as long as the file does not contain spaces. However, if it does I get a \"The specified key does not exist.\" error. </p>\n\n<p>To be clear, I am taking the URL itself and parsing it. So, the key will look something like this when I get it:</p>\n\n<pre><code>mybucket/my+file+with+spaces.pdf\n</code></pre>\n\n<p>So, the S3 SDK appears to take the pluses and URL-encodes them to %2b so when the link is clicked it doesn't recognize the path. If I re-write the link putting the '+' back I get the following error:</p>\n\n<blockquote>\n  <p>The request signature we calculated does not match the signature you provided. Check your key and signing method.</p>\n</blockquote>\n"},{"tags":["java","swing","awt"],"owner":{"account_id":8782507,"reputation":531,"user_id":6565716,"accept_rate":75,"display_name":"Imal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641532089,"creation_date":1641532089,"question_id":70616849,"body_markdown":"I&#39;m trying to display a tooltip window to the left or right of the mouse pointer based on the space available on either side.\r\n\r\nIn the java.awt.Window#setLocation(int x, int y) method, x and y parameters specifies the coordinates of the top-left corner. \r\n\r\nIs there any other way to specify for example supply the coordinates of the bottom-right corner?\r\n\r\np.s. getSize() of the component isn&#39;t working for me (it returns 0,0 always) so I cannot give the location like (x1-width, y1-height) if I want to display the tooltip to the upper-left of the mouse pointer.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BAFRE.jpg","title":"Alternatives to java.awt.Window#setLocation(int x, int y) which are possible to specify the coordinates other than the top-left of the component","body":"<p>I'm trying to display a tooltip window to the left or right of the mouse pointer based on the space available on either side.</p>\n<p>In the java.awt.Window#setLocation(int x, int y) method, x and y parameters specifies the coordinates of the top-left corner.</p>\n<p>Is there any other way to specify for example supply the coordinates of the bottom-right corner?</p>\n<p>p.s. getSize() of the component isn't working for me (it returns 0,0 always) so I cannot give the location like (x1-width, y1-height) if I want to display the tooltip to the upper-left of the mouse pointer.<a href=\"https://i.stack.imgur.com/BAFRE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BAFRE.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","icons","mouse-cursor"],"comments":[{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":0,"creation_date":1326347049,"post_id":8830642,"comment_id":11024852,"body_markdown":"what version of java in what platform ?","body":"what version of java in what platform ?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1326347314,"post_id":8830642,"comment_id":11024900,"body_markdown":"1) For better help sooner, post an [SSCCE](http://sscce.org/). 2) *&quot;Can this be considered as a bug..&quot;* Probably. *&quot;..in Java Swing..&quot;* Probably not. *&quot;..or is there a solution for this issue?&quot;* Fix your code (probably).","body":"1) For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. 2) <i>&quot;Can this be considered as a bug..&quot;</i> Probably. <i>&quot;..in Java Swing..&quot;</i> Probably not. <i>&quot;..or is there a solution for this issue?&quot;</i> Fix your code (probably)."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":1,"creation_date":1326349134,"post_id":8830642,"comment_id":11025228,"body_markdown":"@Andrew Thompson how much probably for today, agreed with 4 probably from your 3.","body":"@Andrew Thompson how much probably for today, agreed with 4 probably from your 3."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1326349334,"post_id":8830642,"comment_id":11025269,"body_markdown":"@AnupD there talking about Action invoked from JButton ended with exceptions / Action still running, because you are starting long and hard events","body":"@AnupD there talking about Action invoked from JButton ended with exceptions / Action still running, because you are starting long and hard events"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1326352629,"post_id":8830642,"comment_id":11025857,"body_markdown":"no bug - most probably you are doing something wrong in re-/setting the cursor (there are three cursors involved, detecting which is the correct one to re-/set to is not entirely trivial)","body":"no bug - most probably you are doing something wrong in re-/setting the cursor (there are three cursors involved, detecting which is the correct one to re-/set to is not entirely trivial)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1326359563,"post_id":8830642,"comment_id":11027382,"body_markdown":"@mKorbel ..I think I have a cache of 7 or 8 more probably&#39;s spare for today.  Call me if you need some.  ;)","body":"@mKorbel ..I think I have a cache of 7 or 8 more probably&#39;s spare for today.  Call me if you need some.  ;)"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1326361540,"post_id":8830642,"comment_id":11028023,"body_markdown":"@Andrew Thompson sorry your cell is un_available, please can you call me byck at +00 000 000 000, please carrefully with international No. prefix, otherwise you could call by mistake to the heavens","body":"@Andrew Thompson sorry your cell is un_available, please can you call me byck at +00 000 000 000, please carrefully with international No. prefix, otherwise you could call by mistake to the heavens"},{"owner":{"account_id":1033773,"reputation":53,"user_id":1041569,"display_name":"AnupD"},"score":0,"creation_date":1326363600,"post_id":8830642,"comment_id":11028680,"body_markdown":"@AndrewThompson Please excuse me for my mistakes as I am very new to this forum. I have attached the sample code. Please try it and see it yourself. I have screenshots but I do not know how to attach them here.","body":"@AndrewThompson Please excuse me for my mistakes as I am very new to this forum. I have attached the sample code. Please try it and see it yourself. I have screenshots but I do not know how to attach them here."},{"owner":{"account_id":1033773,"reputation":53,"user_id":1041569,"display_name":"AnupD"},"score":0,"creation_date":1326363771,"post_id":8830642,"comment_id":11028733,"body_markdown":"@ringbearer Thanks for a supporting comment. I use jdk 1.6 u18 in win XP","body":"@ringbearer Thanks for a supporting comment. I use jdk 1.6 u18 in win XP"},{"owner":{"account_id":1033773,"reputation":53,"user_id":1041569,"display_name":"AnupD"},"score":0,"creation_date":1326363845,"post_id":8830642,"comment_id":11028759,"body_markdown":"@mKorbel I am settign the wait sursor at starting of the action and changing it back to default cursor at the end of action.","body":"@mKorbel I am settign the wait sursor at starting of the action and changing it back to default cursor at the end of action."},{"owner":{"account_id":1033773,"reputation":53,"user_id":1041569,"display_name":"AnupD"},"score":0,"creation_date":1326363901,"post_id":8830642,"comment_id":11028784,"body_markdown":"@kleopatra I hope it is something wrong with my code and I can fix it. I have attached the code now. Do yo have any idea what could be wtong here?","body":"@kleopatra I hope it is something wrong with my code and I can fix it. I have attached the code now. Do yo have any idea what could be wtong here?"}],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326366952,"creation_date":1326366952,"answer_id":8834164,"question_id":8830642,"body_markdown":"1) you have redirect code \r\n\r\n    for(int i=0; i&lt;2000; i++) {\r\n        System.out.print(i);\r\n    }\r\n\r\nto the BackGround Task, you can implements [javax.swing.Timer][1], [SwingWorke][2]r, or wrap these code lines inside [Runnable#Thread][3], example [here][4] \r\n\r\n2) you have to restore `Cursor` on `Error/Exception` too, that&#39;s probably reason why Cursor wasn&#39;t changed\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\r\n  [3]: http://java.sun.com/developer/technicalArticles/Threads/swing/\r\n  [4]: https://stackoverflow.com/a/6060678/714968","title":"Cursor icon does not change after triggering setCursor method","body":"<p>1) you have redirect code </p>\n\n<pre><code>for(int i=0; i&lt;2000; i++) {\n    System.out.print(i);\n}\n</code></pre>\n\n<p>to the BackGround Task, you can implements <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">javax.swing.Timer</a>, <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">SwingWorke</a>r, or wrap these code lines inside <a href=\"http://java.sun.com/developer/technicalArticles/Threads/swing/\" rel=\"nofollow noreferrer\">Runnable#Thread</a>, example <a href=\"https://stackoverflow.com/a/6060678/714968\">here</a> </p>\n\n<p>2) you have to restore <code>Cursor</code> on <code>Error/Exception</code> too, that's probably reason why Cursor wasn't changed</p>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1326373767,"creation_date":1326373107,"answer_id":8835448,"question_id":8830642,"body_markdown":"As already mentioned in my comment: it&#39;s not entirely trivial to re-/set the cursors, not even for a single component :-) The base problem (in the recursive cursor setting to wait) is the assumption that all components _do_ have the default cursor. \r\n\r\nAs you see on the table header, that assumption is not correct: on that component, the &quot;default&quot; is either the defaultCursor or the resizeCursor, depending on mouse location. Additionally, the internal cursor toggling is not very intelligent: it doesn&#39;t check for state (from the top of my head, was hit by that fact a while ago :-)\r\n\r\nNot entirely sure what you want to reach, so don&#39;t have a concrete solution, except dropping the recursive setting entirely, it&#39;s too hard to get right. Options might be\r\n\r\n- make the glassPane (of the frame&#39;s rootpane) visible and set the waitCursor on it\r\n- use JLayer (jdk7) or [JXLayer][1] (jdk6) on a smaller area and set the waitCursor on that\r\n- use a less intrusive visualization, f.i. JProgressBar or a JXBusyLabel ([in the SwingX project][2]) somewhere \r\n\r\n**Addendum** (for @mKorbel :-)\r\n\r\nthe problem is easily reproducible, with a little change to the OPs SSCCE (thanks for that!): change the addButton method as below, then click on the button and while the wait cursor is shown, move the mouse into the header and then to another column (across the column border). Doing so several times will lead to unpredicable cursors on the header ...\r\n\r\n    private void addButton() {\r\n        button = new JButton(&quot;Click Me&quot;);\r\n        final ActionListener off = new ActionListener() {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                setDefaultCursor();\r\n                button.setEnabled(true);\r\n            }\r\n            \r\n        };\r\n        button.addActionListener( new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                setWaitCursor();\r\n                button.setEnabled(false);\r\n                Timer timer = new Timer(2000, off);\r\n                timer.setRepeats(false);\r\n                timer.start();\r\n            }\r\n        });\r\n        \r\n        add(button, BorderLayout.NORTH);\r\n    }\r\n\r\n\r\n\r\n  [1]: http://jxlayer.java.net\r\n  [2]: http://swingx.java.net","title":"Cursor icon does not change after triggering setCursor method","body":"<p>As already mentioned in my comment: it's not entirely trivial to re-/set the cursors, not even for a single component :-) The base problem (in the recursive cursor setting to wait) is the assumption that all components <em>do</em> have the default cursor. </p>\n\n<p>As you see on the table header, that assumption is not correct: on that component, the \"default\" is either the defaultCursor or the resizeCursor, depending on mouse location. Additionally, the internal cursor toggling is not very intelligent: it doesn't check for state (from the top of my head, was hit by that fact a while ago :-)</p>\n\n<p>Not entirely sure what you want to reach, so don't have a concrete solution, except dropping the recursive setting entirely, it's too hard to get right. Options might be</p>\n\n<ul>\n<li>make the glassPane (of the frame's rootpane) visible and set the waitCursor on it</li>\n<li>use JLayer (jdk7) or <a href=\"http://jxlayer.java.net\" rel=\"noreferrer\">JXLayer</a> (jdk6) on a smaller area and set the waitCursor on that</li>\n<li>use a less intrusive visualization, f.i. JProgressBar or a JXBusyLabel (<a href=\"http://swingx.java.net\" rel=\"noreferrer\">in the SwingX project</a>) somewhere </li>\n</ul>\n\n<p><strong>Addendum</strong> (for @mKorbel :-)</p>\n\n<p>the problem is easily reproducible, with a little change to the OPs SSCCE (thanks for that!): change the addButton method as below, then click on the button and while the wait cursor is shown, move the mouse into the header and then to another column (across the column border). Doing so several times will lead to unpredicable cursors on the header ...</p>\n\n<pre><code>private void addButton() {\n    button = new JButton(\"Click Me\");\n    final ActionListener off = new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            setDefaultCursor();\n            button.setEnabled(true);\n        }\n\n    };\n    button.addActionListener( new ActionListener() {\n        public void actionPerformed(ActionEvent ae) {\n            setWaitCursor();\n            button.setEnabled(false);\n            Timer timer = new Timer(2000, off);\n            timer.setRepeats(false);\n            timer.start();\n        }\n    });\n\n    add(button, BorderLayout.NORTH);\n}\n</code></pre>\n"}],"owner":{"account_id":1033773,"reputation":53,"user_id":1041569,"display_name":"AnupD"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8601,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8835448,"answer_count":2,"score":5,"last_activity_date":1641532025,"creation_date":1326346948,"question_id":8830642,"body_markdown":"There is a `JTable` in my application with resizable header columns. Normally when I move the cursor over table header for resizing, the cursor icon changes to resize arrow, like &lt;--&gt;.\r\n\r\nBut things are different in the following scenario.\r\n\r\nThere is a button action in the same `Frame`, and during action performed, I am setting the cursor to busy icon and change it back to default cursor once the action is completed, using `Container.setCursor(Cursor cursor)` method.\r\n\r\nSometimes if I move the cursor over table header of resizing, after a button action, the cursor icon does not change to resize arrow, cursor does not change at all.\r\n\r\nCan this be considered as a bug in Java Swing or is there a solution for this issue?\r\n\r\n**Update : Sample code attached**\r\n\r\n    import java.util.*;  \r\n    import java.awt.*;  \r\n    import javax.swing.*;  \r\n    import java.awt.event.*;\r\n\r\n    public class ColumnResizeIconTest extends JFrame {\r\n\r\n\tJScrollPane scrollPane;\r\n\tJTable table;\r\n\tJButton button;\r\n\t\r\n\tpublic ColumnResizeIconTest() {\r\n\t\tsetLayout(new BorderLayout());\r\n\t\taddComponents();\r\n\t\tsetSize(300,300);\r\n\t}\r\n\t\r\n\tprivate void addComponents() {\r\n\t\taddButton();\r\n\t\taddTable();\r\n\t}\r\n\t\r\n\tprivate void addButton() {\r\n\t\tbutton = new JButton(&quot;Click Me&quot;);\r\n\t\tbutton.addActionListener( new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent ae) {\r\n\t\t\t\tsetWaitCursor();\r\n\t\t\t\tfor(int i=0; i&lt;2000; i++) {\r\n\t\t\t\t\tSystem.out.print(i);\r\n\t\t\t\t}\r\n\t\t\t\tsetDefaultCursor();\r\n\t\t\t}\r\n\t\t});\r\n\t\tadd(button, BorderLayout.NORTH);\r\n\t}\r\n\t\r\n\tprivate void addTable() {\r\n\t\tscrollPane = new JScrollPane(createTable());\r\n\t\tadd(scrollPane, BorderLayout.CENTER);\r\n\t}\r\n\t\r\n\tprivate JTable createTable() {\r\n\t\tObject[][] cellData = { { &quot;1-1&quot;, &quot;1-2&quot;,&quot;1-3&quot; }, { &quot;2-1&quot;, &quot;2-2&quot;, &quot;2-3&quot; }, { &quot;3-1&quot;, &quot;3-2&quot;, &quot;3-3&quot; } };\r\n\t\tString[] columnNames = { &quot;column1&quot;, &quot;column2&quot;, &quot;column3&quot; };\r\n\t\ttable = new JTable(cellData, columnNames);\r\n\t\treturn table;\r\n\t}\r\n\t\r\n\tprivate void setWaitCursor() {\r\n\t\tContainer container = getContentPane();\r\n\t\tsetWaitCursor(container);\r\n\t}\r\n\t\r\n\tprivate void setWaitCursor(Container container) {\r\n\t\tfor(int iCount = 0; iCount &lt; container.getComponentCount(); iCount++) {\r\n\t\t\tComponent child = (Component) container.getComponent(iCount);\r\n\t\t\tif(child instanceof Container) {\r\n\t\t\t\tsetWaitCursor((Container) child);\r\n\t\t\t} else {\r\n\t\t\t\tchild.setCursor(new Cursor(Cursor.WAIT_CURSOR));\r\n\t\t\t}\r\n\t\t}\r\n\t\tcontainer.setCursor(new Cursor(Cursor.WAIT_CURSOR));\r\n\t}\r\n\t\r\n\tprivate void setDefaultCursor() {\r\n\t\tContainer container = getContentPane();\r\n\t\tsetDefaultCursor(container);\r\n\t}\r\n\t\r\n\tprivate void setDefaultCursor(Container container) {\r\n\t\tfor(int iCount = 0; iCount &lt; container.getComponentCount(); iCount++) {\r\n\t\t\tComponent child = (Component) container.getComponent(iCount);\r\n\t\t\tif(child instanceof Container) {\r\n\t\t\t\tsetDefaultCursor((Container) child);\r\n\t\t\t} else {\r\n\t\t\t\tchild.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n\t\t\t}\r\n\t\t}\r\n\t\tcontainer.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n\t}\r\n\t\r\n\tpublic static void main(String[] argv) throws Exception {\r\n\t\tColumnResizeIconTest test = new ColumnResizeIconTest();\r\n\t\ttest.setVisible(true);\r\n\t}\r\n    }\r\n\r\nClick on the button a few times and try to resize the table column. The cursor is stuck with Default cursor.","title":"Cursor icon does not change after triggering setCursor method","body":"<p>There is a <code>JTable</code> in my application with resizable header columns. Normally when I move the cursor over table header for resizing, the cursor icon changes to resize arrow, like &lt;--&gt;.</p>\n<p>But things are different in the following scenario.</p>\n<p>There is a button action in the same <code>Frame</code>, and during action performed, I am setting the cursor to busy icon and change it back to default cursor once the action is completed, using <code>Container.setCursor(Cursor cursor)</code> method.</p>\n<p>Sometimes if I move the cursor over table header of resizing, after a button action, the cursor icon does not change to resize arrow, cursor does not change at all.</p>\n<p>Can this be considered as a bug in Java Swing or is there a solution for this issue?</p>\n<p><strong>Update : Sample code attached</strong></p>\n<pre><code>import java.util.*;  \nimport java.awt.*;  \nimport javax.swing.*;  \nimport java.awt.event.*;\n\npublic class ColumnResizeIconTest extends JFrame {\n\nJScrollPane scrollPane;\nJTable table;\nJButton button;\n\npublic ColumnResizeIconTest() {\n    setLayout(new BorderLayout());\n    addComponents();\n    setSize(300,300);\n}\n\nprivate void addComponents() {\n    addButton();\n    addTable();\n}\n\nprivate void addButton() {\n    button = new JButton(&quot;Click Me&quot;);\n    button.addActionListener( new ActionListener() {\n        public void actionPerformed(ActionEvent ae) {\n            setWaitCursor();\n            for(int i=0; i&lt;2000; i++) {\n                System.out.print(i);\n            }\n            setDefaultCursor();\n        }\n    });\n    add(button, BorderLayout.NORTH);\n}\n\nprivate void addTable() {\n    scrollPane = new JScrollPane(createTable());\n    add(scrollPane, BorderLayout.CENTER);\n}\n\nprivate JTable createTable() {\n    Object[][] cellData = { { &quot;1-1&quot;, &quot;1-2&quot;,&quot;1-3&quot; }, { &quot;2-1&quot;, &quot;2-2&quot;, &quot;2-3&quot; }, { &quot;3-1&quot;, &quot;3-2&quot;, &quot;3-3&quot; } };\n    String[] columnNames = { &quot;column1&quot;, &quot;column2&quot;, &quot;column3&quot; };\n    table = new JTable(cellData, columnNames);\n    return table;\n}\n\nprivate void setWaitCursor() {\n    Container container = getContentPane();\n    setWaitCursor(container);\n}\n\nprivate void setWaitCursor(Container container) {\n    for(int iCount = 0; iCount &lt; container.getComponentCount(); iCount++) {\n        Component child = (Component) container.getComponent(iCount);\n        if(child instanceof Container) {\n            setWaitCursor((Container) child);\n        } else {\n            child.setCursor(new Cursor(Cursor.WAIT_CURSOR));\n        }\n    }\n    container.setCursor(new Cursor(Cursor.WAIT_CURSOR));\n}\n\nprivate void setDefaultCursor() {\n    Container container = getContentPane();\n    setDefaultCursor(container);\n}\n\nprivate void setDefaultCursor(Container container) {\n    for(int iCount = 0; iCount &lt; container.getComponentCount(); iCount++) {\n        Component child = (Component) container.getComponent(iCount);\n        if(child instanceof Container) {\n            setDefaultCursor((Container) child);\n        } else {\n            child.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n        }\n    }\n    container.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n}\n\npublic static void main(String[] argv) throws Exception {\n    ColumnResizeIconTest test = new ColumnResizeIconTest();\n    test.setVisible(true);\n}\n}\n</code></pre>\n<p>Click on the button a few times and try to resize the table column. The cursor is stuck with Default cursor.</p>\n"},{"tags":["java","android","sqlite","blob","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372181163,"creation_date":1372181163,"answer_id":17303691,"question_id":17300407,"body_markdown":"Android&#39;s Java API always has the 1 MB limit.\r\n\r\nYou should not store BLOBs of that size in the database; the file system is more efficient at handling them.\r\n\r\nIf you really want to use BLOBs, you have to go through the NDK to access the C API directly.","title":"Access Large BLOB in Android Sqlite without Cursor","body":"<p>Android's Java API always has the 1 MB limit.</p>\n\n<p>You should not store BLOBs of that size in the database; the file system is more efficient at handling them.</p>\n\n<p>If you really want to use BLOBs, you have to go through the NDK to access the C API directly.</p>\n"},{"tags":[],"owner":{"account_id":1933364,"reputation":1586,"user_id":1742295,"accept_rate":100,"display_name":"Bms270"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1389860987,"creation_date":1372288141,"answer_id":17331947,"question_id":17300407,"body_markdown":"As CL mentioned, using NDK is indeed a way to access Sqlite natively via C language in Java language. However I realized it could get really messy if I wanted to write a custom wrapper myself and try to access the functions in Java. \r\n\r\nAfter searching around, I came across a brilliant open source project called Sqlite4java which is a tight wrapper around Sqlite, compiled to use on various platforms including Android. This library allows you to interact with Sqlite without using Android Cursor which removes the limitations.\r\n\r\nI am able to retrieve 20 MB of Blob in 480 milliseconds. This is even faster than reading a small record from Sqlite via Cursors. I believe this can be used to enhance any query to Sqlite by skipping the use of Cursor. Here&#39;s the link to this great library: http://code.google.com/p/sqlite4java/\r\n\r\n ","title":"Access Large BLOB in Android Sqlite without Cursor","body":"<p>As CL mentioned, using NDK is indeed a way to access Sqlite natively via C language in Java language. However I realized it could get really messy if I wanted to write a custom wrapper myself and try to access the functions in Java. </p>\n\n<p>After searching around, I came across a brilliant open source project called Sqlite4java which is a tight wrapper around Sqlite, compiled to use on various platforms including Android. This library allows you to interact with Sqlite without using Android Cursor which removes the limitations.</p>\n\n<p>I am able to retrieve 20 MB of Blob in 480 milliseconds. This is even faster than reading a small record from Sqlite via Cursors. I believe this can be used to enhance any query to Sqlite by skipping the use of Cursor. Here's the link to this great library: <a href=\"http://code.google.com/p/sqlite4java/\" rel=\"noreferrer\">http://code.google.com/p/sqlite4java/</a></p>\n"}],"owner":{"account_id":1933364,"reputation":1586,"user_id":1742295,"accept_rate":100,"display_name":"Bms270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5645,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":17331947,"answer_count":2,"score":5,"last_activity_date":1641531976,"creation_date":1372171401,"question_id":17300407,"body_markdown":"There seems to be a 1MB limit on Android&#39;s Cursor Window size which limits the ability to read BLOBs from SQLite. I know you may say we should not store BLOBs in database but by definition, BLOB is considered a Binary Large Object and if there was no need to store them in database, there was no need to implement such object type in any database engines. \r\n\r\nThe 1 MB limit on the implementation of Cursor however, seems to be insufficient in almost all cases. I need to store my binary data for valid reasons in SQLite database and they are well over 1 MB. SQLite is capable of handling BLOBs perfectly since the C API is working perfectly fine in Xcode (iPhone platform) to retrieve large objects without any issues. \r\n\r\nI&#39;m wondering if we can possibly access the BLOB data in Android without using cursors. I am thinking of a lower level access to Sqlite in Java. Any suggestions?","title":"Access Large BLOB in Android Sqlite without Cursor","body":"<p>There seems to be a 1MB limit on Android's Cursor Window size which limits the ability to read BLOBs from SQLite. I know you may say we should not store BLOBs in database but by definition, BLOB is considered a Binary Large Object and if there was no need to store them in database, there was no need to implement such object type in any database engines.</p>\n<p>The 1 MB limit on the implementation of Cursor however, seems to be insufficient in almost all cases. I need to store my binary data for valid reasons in SQLite database and they are well over 1 MB. SQLite is capable of handling BLOBs perfectly since the C API is working perfectly fine in Xcode (iPhone platform) to retrieve large objects without any issues.</p>\n<p>I'm wondering if we can possibly access the BLOB data in Android without using cursors. I am thinking of a lower level access to Sqlite in Java. Any suggestions?</p>\n"},{"tags":["java","swt","mouse-cursor"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1535557054,"post_id":12466393,"comment_id":91112823,"body_markdown":"It is probably better to use `Display.getSystemCursor(int)` instead of creating cursor objects yourself since you need to dispose them yourself otherwise.","body":"It is probably better to use <code>Display.getSystemCursor(int)</code> instead of creating cursor objects yourself since you need to dispose them yourself otherwise."}],"answers":[{"tags":[],"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1347914013,"creation_date":1347914013,"answer_id":12466697,"question_id":12466393,"body_markdown":"You could use \r\n\r\n        BusyIndicator.showWhile(Display.getDefault(), new Runnable(){\r\n        \r\n        public void run(){\r\n           //your code\r\n        }\r\n        });","title":"SWT - Showing a busy Cursor","body":"<p>You could use </p>\n\n<pre><code>    BusyIndicator.showWhile(Display.getDefault(), new Runnable(){\n\n    public void run(){\n       //your code\n    }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1381250381,"creation_date":1347916443,"answer_id":12467190,"question_id":12466393,"body_markdown":"This works for me:\r\n\r\n\tprivate static boolean wait = false;\r\n\r\n\tprivate static Cursor cursor = null;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tfinal Display display = new Display();\r\n\t\tfinal Shell shell = new Shell(display);\r\n\t\tshell.setLayout(new FillLayout());\r\n\t\t\r\n\t\tButton button = new Button(shell, SWT.PUSH);\r\n\t\tbutton.setText(&quot;Change cursor&quot;);\r\n\t\t\r\n\t\tbutton.addListener(SWT.Selection, new Listener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void handleEvent(Event arg0) {\r\n\t\t\t\twait = !wait;\r\n\t\t\t\t\r\n\t\t\t\tif(cursor != null)\r\n\t\t\t\t\tcursor.dispose();\r\n\r\n\t\t\t\tcursor = wait ? new Cursor(display, SWT.CURSOR_WAIT) : new Cursor(display, SWT.CURSOR_ARROW);\r\n\r\n\t\t\t\tshell.setCursor(cursor);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tshell.setSize(200,200);\r\n\t\tshell.open();\r\n\t\twhile (!shell.isDisposed()) {\r\n\t\t\tif (!display.readAndDispatch()) {\r\n\t\t\t\tdisplay.sleep();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdisplay.dispose();\r\n\r\n\t\tif(cursor != null)\r\n\t\t\tcursor.dispose();\r\n\t}\r\n\r\n\r\nJust set the cursor of your containing shell via [`setCursor(Display, int)`](http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Control.html#setCursor(org.eclipse.swt.graphics.Cursor)).\r\n\r\nIf you don&#39;t want to change the cursor for the whole shell, use a `Composite` or `Control` of your choice.\r\n\r\n---\r\n\r\nRemember that you have to `dispose()` each `Cursor` instance you create yourself.","title":"SWT - Showing a busy Cursor","body":"<p>This works for me:</p>\n\n<pre><code>private static boolean wait = false;\n\nprivate static Cursor cursor = null;\n\npublic static void main(String[] args) {\n    final Display display = new Display();\n    final Shell shell = new Shell(display);\n    shell.setLayout(new FillLayout());\n\n    Button button = new Button(shell, SWT.PUSH);\n    button.setText(\"Change cursor\");\n\n    button.addListener(SWT.Selection, new Listener() {\n\n        @Override\n        public void handleEvent(Event arg0) {\n            wait = !wait;\n\n            if(cursor != null)\n                cursor.dispose();\n\n            cursor = wait ? new Cursor(display, SWT.CURSOR_WAIT) : new Cursor(display, SWT.CURSOR_ARROW);\n\n            shell.setCursor(cursor);\n        }\n    });\n\n\n    shell.setSize(200,200);\n    shell.open();\n    while (!shell.isDisposed()) {\n        if (!display.readAndDispatch()) {\n            display.sleep();\n        }\n    }\n    display.dispose();\n\n    if(cursor != null)\n        cursor.dispose();\n}\n</code></pre>\n\n<p>Just set the cursor of your containing shell via <a href=\"http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Control.html#setCursor%28org.eclipse.swt.graphics.Cursor%29\" rel=\"nofollow\"><code>setCursor(Display, int)</code></a>.</p>\n\n<p>If you don't want to change the cursor for the whole shell, use a <code>Composite</code> or <code>Control</code> of your choice.</p>\n\n<hr>\n\n<p>Remember that you have to <code>dispose()</code> each <code>Cursor</code> instance you create yourself.</p>\n"}],"owner":{"account_id":1451722,"reputation":1391,"user_id":1368445,"accept_rate":94,"display_name":"jkteater"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12893,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12467190,"answer_count":2,"score":5,"last_activity_date":1641531625,"creation_date":1347912613,"question_id":12466393,"body_markdown":"I am trying to change the cursor when I start a operation.  I want the cursor showing busy until the operation is finished.  I have a separate class for the operationListener.\r\nI am not sure how to assign the cursor?\r\n\r\nCall from AplotBaseDialog class\r\n\r\n    listOp.addOperationListener(new MyOperationListener(this) {\r\n        etc....\r\n    } \r\n\r\n     \r\nSeparate Class \r\n\r\n     public abstract class MyOperationListener implements InterfaceAIFOperationListener {\r\n       Cursor busyCursor = null;\r\n       AplotBaseDialog w = null;\r\n\r\n      public MyOperationListener(AplotBaseDialog win) {\r\n      \r\n      **Should this not be getCurrent?**\r\n        busyCursor = new Cursor(Display.getCurrent(), SWT.CURSOR_WAIT);\r\n      \r\n        w = win;\r\n      } // end constructor\r\n\r\n      public void startOperation(String startMessage) {\r\n         ** should this be getting a Shell form the AplotBaseDialog? **\r\n         w.???.setCursor(busyCursor);\r\n         \r\n      } // end startOperation()\r\n\r\n      public void endOperation() {\r\n         try {\r\n            endOperationImpl();\r\n         }\r\n         finally {\r\n            w.???.setCursor(null);\r\n         }\r\n      } // end endOperation()\r\n\r\n      abstract protected void endOperationImpl();\r\n     } // end class MyOperationListener\r\n\r\n\r\n**EDIT**\r\n\r\n\r\n      plotButton.addSelectionListener(new SelectionAdapter() {\r\n             public void widgetSelected(SelectionEvent e) {\r\n                BusyIndicator.showWhile(Display.getDefault(), new Runnable(){\r\n                   public void run(){\r\n                      startPrinterListOperation(); \r\n                   }\r\n                 });\r\n             }\r\n       });  \r\n\r\n**EDIT**\r\n\r\n\r\n     private void startPrinterListOperation() {\r\n     \r\n      listOp = new AplotPrinterListOperation(appReg.getString(&quot;aplot.message.GETPRINTERLIST&quot;), session);\r\n      listOp.addOperationListener(new MyOperationListener(this) {\r\n         public void endOperationImpl() {\r\n            try {\r\n               printers.clear();\r\n               printers.addAll((ArrayList&lt;PrinterProfile&gt;) listOp.getPrinters());\r\n               Display.getDefault().asyncExec(new Runnable() {\r\n                  public void run() {\r\n                     \r\n                     showAplotPlotterDialog();\r\n                  }\r\n               });\r\n            }\r\n            finally {\r\n              \r\n               listOp.removeOperationListener(this);\r\n               listOp = null;\r\n            }\r\n         }\r\n      });\r\n      session.queueOperation(listOp);\r\n      \r\n     \r\n     } // end startPrinterListOperation()","title":"SWT - Showing a busy Cursor","body":"<p>I am trying to change the cursor when I start a operation.  I want the cursor showing busy until the operation is finished.  I have a separate class for the operationListener.\nI am not sure how to assign the cursor?</p>\n\n<p>Call from AplotBaseDialog class</p>\n\n<pre><code>listOp.addOperationListener(new MyOperationListener(this) {\n    etc....\n} \n</code></pre>\n\n<p>Separate Class </p>\n\n<pre><code> public abstract class MyOperationListener implements InterfaceAIFOperationListener {\n   Cursor busyCursor = null;\n   AplotBaseDialog w = null;\n\n  public MyOperationListener(AplotBaseDialog win) {\n\n  **Should this not be getCurrent?**\n    busyCursor = new Cursor(Display.getCurrent(), SWT.CURSOR_WAIT);\n\n    w = win;\n  } // end constructor\n\n  public void startOperation(String startMessage) {\n     ** should this be getting a Shell form the AplotBaseDialog? **\n     w.???.setCursor(busyCursor);\n\n  } // end startOperation()\n\n  public void endOperation() {\n     try {\n        endOperationImpl();\n     }\n     finally {\n        w.???.setCursor(null);\n     }\n  } // end endOperation()\n\n  abstract protected void endOperationImpl();\n } // end class MyOperationListener\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>  plotButton.addSelectionListener(new SelectionAdapter() {\n         public void widgetSelected(SelectionEvent e) {\n            BusyIndicator.showWhile(Display.getDefault(), new Runnable(){\n               public void run(){\n                  startPrinterListOperation(); \n               }\n             });\n         }\n   });  \n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code> private void startPrinterListOperation() {\n\n  listOp = new AplotPrinterListOperation(appReg.getString(\"aplot.message.GETPRINTERLIST\"), session);\n  listOp.addOperationListener(new MyOperationListener(this) {\n     public void endOperationImpl() {\n        try {\n           printers.clear();\n           printers.addAll((ArrayList&lt;PrinterProfile&gt;) listOp.getPrinters());\n           Display.getDefault().asyncExec(new Runnable() {\n              public void run() {\n\n                 showAplotPlotterDialog();\n              }\n           });\n        }\n        finally {\n\n           listOp.removeOperationListener(this);\n           listOp = null;\n        }\n     }\n  });\n  session.queueOperation(listOp);\n\n\n } // end startPrinterListOperation()\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","azure-keyvault","azure-pipelines-yaml"],"comments":[{"owner":{"account_id":22497044,"reputation":2917,"user_id":16693876,"display_name":"RamaraoAdapa"},"score":0,"creation_date":1641963184,"post_id":70604091,"comment_id":124942649,"body_markdown":"If my answer is helpful for you, you can accept it as answer( click on the check mark beside the answer to toggle it from greyed out to filled in.). This can be beneficial to other community members. Thank you","body":"If my answer is helpful for you, you can accept it as answer( click on the check mark beside the answer to toggle it from greyed out to filled in.). This can be beneficial to other community members. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":22497044,"reputation":2917,"user_id":16693876,"display_name":"RamaraoAdapa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641531413,"creation_date":1641531413,"answer_id":70616774,"question_id":70604091,"body_markdown":"Use the below Key vault task in the pipeline to fetch the secrets in your key vault :\r\n\r\n    - task: AzureKeyVault@2\r\n        displayName: &#39;Configure Key Vault&#39;\r\n        inputs:\r\n          azureSubscription: &#39;my_subscription&#39;\r\n          KeyVaultName: &#39;my_KV&#39;\r\n          SecretsFilter: &#39;*&#39;\r\n          RunAsPreJob: false\r\n\r\nNow in your maven build task, define an environment variable as below:\r\n\r\n    env:\r\n        MySecret: $(key-vault-secret-name)\r\n\r\n\r\nIn your java code, you can use the key vault secrets as below:\r\n\r\n    String Connection_URL = System.getenv(&quot;MySecret&quot;)\r\n\r\n\r\n","title":"Azure Key Vault References Java Code/Yaml Pipeline","body":"<p>Use the below Key vault task in the pipeline to fetch the secrets in your key vault :</p>\n<pre><code>- task: AzureKeyVault@2\n    displayName: 'Configure Key Vault'\n    inputs:\n      azureSubscription: 'my_subscription'\n      KeyVaultName: 'my_KV'\n      SecretsFilter: '*'\n      RunAsPreJob: false\n</code></pre>\n<p>Now in your maven build task, define an environment variable as below:</p>\n<pre><code>env:\n    MySecret: $(key-vault-secret-name)\n</code></pre>\n<p>In your java code, you can use the key vault secrets as below:</p>\n<pre><code>String Connection_URL = System.getenv(&quot;MySecret&quot;)\n</code></pre>\n"}],"owner":{"account_id":23657861,"reputation":1,"user_id":17685852,"display_name":"sthottem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641531413,"creation_date":1641456161,"question_id":70604091,"body_markdown":"I need help figuring out how to properly setup Key Vault Secrets in my pipeline.\r\n\r\nI am building a Java Web App using maven and deploying it on app service linux web container.\r\n\r\nMy entire pipeline is run on ADO Yaml File with my first task being the Azure Key Vault Task to pull secrets, followed by Maven build task and artifact publish task.\r\n\r\nOverall the web container deploys successfully but what I need to do now is to secure my secrets in Key Vault and remove it from the hard code in my web app. That is where I am confused on how to make it all work together.\r\n\r\nIn my Azure Key Vault Task in Yaml file ,I have the following code:\r\n```\r\nsteps:\r\n   -task: AzureKeyVault@2\r\n    inputs:\r\n      azureSubscription: &#39;my_subscription&#39;\r\n      KeyVaultName: &#39;my_KV&#39;\r\n      SecretsFilter: &#39;*&#39;\r\n      RunAsPreJob: false\r\n      script: Write-Host $env:MY_MAPPED_ENV_VAR\r\n    env:\r\n      MY_MAPPED_ENV_VAR:$(my_secret)\r\n\r\n```\r\n\r\nFollowed by Maven Build Task and Artifact Publish tasks\r\n\r\nIn Azure Portal, I already created a secret(my_secret) containing the value of my connection string that was in my java code.\r\n\r\nIn my Java code, \r\n\r\nI have a file called Provider.java that contains the following code:\r\n```\r\npackage com.***.***.***;\r\n\r\npublic interface Provider {\r\n    String DRIVER=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n    String Connection_URL=&quot;jdbc:sqlserver://11.2.4.11:8433;databaseName=TPNTFDB;user=tpntf_potsfinder;password=Potsfinder2!&quot;;\r\n\r\n}\r\n\r\n```\r\n\r\nNo I am not even sure I have mapped my env var properly for my secrets.\r\n\r\nIn addition I am unsure how I can remove my hardcode connection url from my java code and replace with with a key vault reference or env var that will allow my code to resolve my secrets from Key vault.\r\n\r\nIn other words, after I store my connection url as a secrets in Key vault, and pull it using a Key Vault task in Yaml File, how can I remove my hard coded connection url and replace it with Key Vault Secrets?\r\n","title":"Azure Key Vault References Java Code/Yaml Pipeline","body":"<p>I need help figuring out how to properly setup Key Vault Secrets in my pipeline.</p>\n<p>I am building a Java Web App using maven and deploying it on app service linux web container.</p>\n<p>My entire pipeline is run on ADO Yaml File with my first task being the Azure Key Vault Task to pull secrets, followed by Maven build task and artifact publish task.</p>\n<p>Overall the web container deploys successfully but what I need to do now is to secure my secrets in Key Vault and remove it from the hard code in my web app. That is where I am confused on how to make it all work together.</p>\n<p>In my Azure Key Vault Task in Yaml file ,I have the following code:</p>\n<pre><code>steps:\n   -task: AzureKeyVault@2\n    inputs:\n      azureSubscription: 'my_subscription'\n      KeyVaultName: 'my_KV'\n      SecretsFilter: '*'\n      RunAsPreJob: false\n      script: Write-Host $env:MY_MAPPED_ENV_VAR\n    env:\n      MY_MAPPED_ENV_VAR:$(my_secret)\n\n</code></pre>\n<p>Followed by Maven Build Task and Artifact Publish tasks</p>\n<p>In Azure Portal, I already created a secret(my_secret) containing the value of my connection string that was in my java code.</p>\n<p>In my Java code,</p>\n<p>I have a file called Provider.java that contains the following code:</p>\n<pre><code>package com.***.***.***;\n\npublic interface Provider {\n    String DRIVER=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\n    String Connection_URL=&quot;jdbc:sqlserver://11.2.4.11:8433;databaseName=TPNTFDB;user=tpntf_potsfinder;password=Potsfinder2!&quot;;\n\n}\n\n</code></pre>\n<p>No I am not even sure I have mapped my env var properly for my secrets.</p>\n<p>In addition I am unsure how I can remove my hardcode connection url from my java code and replace with with a key vault reference or env var that will allow my code to resolve my secrets from Key vault.</p>\n<p>In other words, after I store my connection url as a secrets in Key vault, and pull it using a Key Vault task in Yaml File, how can I remove my hard coded connection url and replace it with Key Vault Secrets?</p>\n"},{"tags":["java","intellij-idea","intellij-14","build-error"],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641530800,"creation_date":1641530800,"answer_id":70616715,"question_id":70615533,"body_markdown":"Looks like the JDK compiler fails to initialize due to non-ascii path to the project which contains &quot;&#227;&quot; symbol. The issue similar to https://github.com/eclipse-openj9/openj9/issues/10945\r\n\r\nPlease try using different JDKs to build the project. If it does not help, please install the JDK (and IDE) into a path that has only ASCII characters in path.","title":"Abnormal build process termination on IntelliJ","body":"<p>Looks like the JDK compiler fails to initialize due to non-ascii path to the project which contains &quot;ã&quot; symbol. The issue similar to <a href=\"https://github.com/eclipse-openj9/openj9/issues/10945\" rel=\"nofollow noreferrer\">https://github.com/eclipse-openj9/openj9/issues/10945</a></p>\n<p>Please try using different JDKs to build the project. If it does not help, please install the JDK (and IDE) into a path that has only ASCII characters in path.</p>\n"}],"owner":{"account_id":22104938,"reputation":13,"user_id":16360791,"display_name":"Rapid12340"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2723,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":70616715,"answer_count":1,"score":-2,"last_activity_date":1641530800,"creation_date":1641518450,"question_id":70615533,"body_markdown":"So i was using IntelliJ to run Java code on IntelliJ but i get a build error and i don&#39;t know what to do about it.I am still new to this and I&#39;ve found no fixes to this. The error is as follows:\r\n\r\n```\r\nAbnormal build process termination: \r\nC:\\Users\\Jo&#227;o\\.jdks\\openjdk-17.0.1\\bin\\java.exe -Xmx700m -Djava.awt.headless=true --add-opens\r\njdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED --add-opens\r\njdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED -Dcompile.parallel=false \r\n-Drebuild.on.dependency.change=true -Djdt.compiler.useSingleThread=true \r\n-Daether.connector.resumeDownloads=false -Dio.netty.initialSeedUniquifier=-3741024844704571861 \r\n-Dfile.encoding=windows-1252 -Duser.language=pt -Duser.country=PT \r\n-Didea.paths.selector=IdeaIC2021.2 &quot;-Didea.home.path=C:/Program Files/JetBrains/IntelliJ IDEA\r\nCommunity Edition 2021.2.2&quot; \r\n-Didea.config.path=C:/Users/Jo&#227;o/AppData/Roaming/JetBrains/IdeaIC2021.2 \r\n-Didea.plugins.path=C:/Users/Jo&#227;o/AppData/Roaming/JetBrains/IdeaIC2021.2/plugins \r\n-Djps.log.dir=C:/Users/Jo&#227;o/AppData/Local/JetBrains/IdeaIC2021.2/log/build-log &quot;\r\n-Djps.fallback.jdk.home=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/jbr&quot; \r\n-Djps.fallback.jdk.version=11.0.12 -Dio.netty.noUnsafe=true \r\n-Djava.io.tmpdir=C:/Users/Jo&#227;o/AppData/Local/JetBrains/IdeaIC2021.2/compile\r\n-server/xpto_iml_3a183f53/_temp_ -Djps.backward.ref.index.builder=true \r\n-Dtmh.instrument.annotations=true -Dtmh.generate.line.numbers=true \r\n-Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true \r\n-Dkotlin.daemon.enabled \r\n-Dkotlin.daemon.client.alive.path=\\&quot;C:\\Users\\Jo&#227;o\\AppData\\Local\\Temp\\kotlin-idea-4273125567973766633-is-running\\&quot; \r\n-classpath &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/jps-launcher.jar&quot;\r\norg.jetbrains.jps.cmdline.Launcher &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/aether-dependency-resolver.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/jna-platform.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/slf4j.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/jps-javac-extension-1.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/maven-resolver-transport-file-1.3.3.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/maven-resolver-connector-basic-1.3.3.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/annotations.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/jps-builders-6.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/util.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/3rd-party.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/jps-builders.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/maven-resolver-transport-http-1.3.3.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/jna.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/javac2.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/jps-model.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/kotlin-stdlib-jdk8.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/protobuf-java-3.15.8.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/forms_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/platform-api.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/idea_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/kotlin-reflect.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/kotlin-plugin.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/eclipse/lib/eclipse-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/eclipse/lib/eclipse-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/IntelliLang/lib/java-langInjection-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/javaFX/lib/javaFX-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/javaFX/lib/javaFX-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/ant/lib/ant-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Groovy/lib/groovy-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Groovy/lib/groovy-constants-rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/maven/lib/maven-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/gradle-java/lib/gradle-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/devkit/lib/devkit-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/kotlin-jps-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/kotlin-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/space/lib/space-java-jps.jar&quot;\r\norg.jetbrains.jps.cmdline.BuildMain 127.0.0.1 60583 35355ea6-7208-4290-b6c4-f7ca910824f4\r\nC:/Users/Jo&#227;o/AppData/Local/JetBrains/IdeaIC2021.2/compile-server\r\n\r\nError: LinkageError occurred while loading main class org.jetbrains.jps.cmdline.Launcher\r\n\tjava.lang.UnsatisfiedLinkError: &#39;void sun.nio.fs.WindowsNativeDispatcher.initIDs()&#39;\r\n```\r\nI tried to seperate the error in pieces so it would be easier to read(no idea if that helps or not and to be fair i don&#39;t even know if it was correctly seperated).Please help me solve this error and Thanks in advance! \r\n","title":"Abnormal build process termination on IntelliJ","body":"<p>So i was using IntelliJ to run Java code on IntelliJ but i get a build error and i don't know what to do about it.I am still new to this and I've found no fixes to this. The error is as follows:</p>\n<pre><code>Abnormal build process termination: \nC:\\Users\\João\\.jdks\\openjdk-17.0.1\\bin\\java.exe -Xmx700m -Djava.awt.headless=true --add-opens\njdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED --add-opens\njdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED -Dcompile.parallel=false \n-Drebuild.on.dependency.change=true -Djdt.compiler.useSingleThread=true \n-Daether.connector.resumeDownloads=false -Dio.netty.initialSeedUniquifier=-3741024844704571861 \n-Dfile.encoding=windows-1252 -Duser.language=pt -Duser.country=PT \n-Didea.paths.selector=IdeaIC2021.2 &quot;-Didea.home.path=C:/Program Files/JetBrains/IntelliJ IDEA\nCommunity Edition 2021.2.2&quot; \n-Didea.config.path=C:/Users/João/AppData/Roaming/JetBrains/IdeaIC2021.2 \n-Didea.plugins.path=C:/Users/João/AppData/Roaming/JetBrains/IdeaIC2021.2/plugins \n-Djps.log.dir=C:/Users/João/AppData/Local/JetBrains/IdeaIC2021.2/log/build-log &quot;\n-Djps.fallback.jdk.home=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/jbr&quot; \n-Djps.fallback.jdk.version=11.0.12 -Dio.netty.noUnsafe=true \n-Djava.io.tmpdir=C:/Users/João/AppData/Local/JetBrains/IdeaIC2021.2/compile\n-server/xpto_iml_3a183f53/_temp_ -Djps.backward.ref.index.builder=true \n-Dtmh.instrument.annotations=true -Dtmh.generate.line.numbers=true \n-Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true \n-Dkotlin.daemon.enabled \n-Dkotlin.daemon.client.alive.path=\\&quot;C:\\Users\\João\\AppData\\Local\\Temp\\kotlin-idea-4273125567973766633-is-running\\&quot; \n-classpath &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/jps-launcher.jar&quot;\norg.jetbrains.jps.cmdline.Launcher &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/aether-dependency-resolver.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/jna-platform.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/slf4j.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/jps-javac-extension-1.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/maven-resolver-transport-file-1.3.3.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/maven-resolver-connector-basic-1.3.3.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/annotations.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/jps-builders-6.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/util.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/3rd-party.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/jps-builders.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/maven-resolver-transport-http-1.3.3.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/jna.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/java/lib/javac2.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/jps-model.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/kotlin-stdlib-jdk8.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/protobuf-java-3.15.8.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/forms_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/platform-api.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/lib/idea_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/kotlin-reflect.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/kotlin-plugin.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/eclipse/lib/eclipse-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/eclipse/lib/eclipse-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/IntelliLang/lib/java-langInjection-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/javaFX/lib/javaFX-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/javaFX/lib/javaFX-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/ant/lib/ant-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Groovy/lib/groovy-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Groovy/lib/groovy-constants-rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/maven/lib/maven-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/gradle-java/lib/gradle-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/devkit/lib/devkit-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/kotlin-jps-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/Kotlin/lib/kotlin-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2021.2.2/plugins/space/lib/space-java-jps.jar&quot;\norg.jetbrains.jps.cmdline.BuildMain 127.0.0.1 60583 35355ea6-7208-4290-b6c4-f7ca910824f4\nC:/Users/João/AppData/Local/JetBrains/IdeaIC2021.2/compile-server\n\nError: LinkageError occurred while loading main class org.jetbrains.jps.cmdline.Launcher\n    java.lang.UnsatisfiedLinkError: 'void sun.nio.fs.WindowsNativeDispatcher.initIDs()'\n</code></pre>\n<p>I tried to seperate the error in pieces so it would be easier to read(no idea if that helps or not and to be fair i don't even know if it was correctly seperated).Please help me solve this error and Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1641529715,"post_id":70616465,"comment_id":124833098,"body_markdown":"Whenever the user clicks on any of the buttons, method `actionPerformed` is executed. That&#39;s why _everytime I click a button the if blocks ran again by themselves_ Put a breakpoint in method `actionPerformed` and run your code using the debugger of your IDE and see how that method changes the contents of `textarea`.","body":"Whenever the user clicks on any of the buttons, method <code>actionPerformed</code> is executed. That&#39;s why <i>everytime I click a button the if blocks ran again by themselves</i> Put a breakpoint in method <code>actionPerformed</code> and run your code using the debugger of your IDE and see how that method changes the contents of <code>textarea</code>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1641530321,"post_id":70616465,"comment_id":124833179,"body_markdown":"1) *&quot;How do I continue on with the current sum in a Calculator program made using Swing?&quot;* The same way you would in a JavaFX app., a servlet or a console app. I.E. this has nothing to do with Swing. But since you&#39;ve put that code up.. 2) `new Font(&quot;Arial&quot;, Font.PLAIN, 30);` should be `new Font(Font.SANS_SERIF, Font.PLAIN, 30);` to get a sans-serif font reliably on systems that don&#39;t install Arial. In fact, the users of Mac OS will get the font they prefer - Helvetica. 3) `t1 = new JTextField();` should be something like `t1 = new JTextField(20);` for a number of columns and ..","body":"1) <i>&quot;How do I continue on with the current sum in a Calculator program made using Swing?&quot;</i> The same way you would in a JavaFX app., a servlet or a console app. I.E. this has nothing to do with Swing. But since you&#39;ve put that code up.. 2) <code>new Font(&quot;Arial&quot;, Font.PLAIN, 30);</code> should be <code>new Font(Font.SANS_SERIF, Font.PLAIN, 30);</code> to get a sans-serif font reliably on systems that don&#39;t install Arial. In fact, the users of Mac OS will get the font they prefer - Helvetica. 3) <code>t1 = new JTextField();</code> should be something like <code>t1 = new JTextField(20);</code> for a number of columns and .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1641530549,"post_id":70616465,"comment_id":124833211,"body_markdown":".. `setPreferredSize` should not be used as it is no better than a guess. Even if it happens to be right on one PC, it will be wrong on others. Leave it to the layouts which can size the component according to the natural preferred size. 4) `this.setSize(325,400);` another guess. Get the correct size by calling `this.pack();`, but do so after calling `this.setResizable(false);` &amp; before calling &#39;this.setVisible(true);`","body":".. <code>setPreferredSize</code> should not be used as it is no better than a guess. Even if it happens to be right on one PC, it will be wrong on others. Leave it to the layouts which can size the component according to the natural preferred size. 4) <code>this.setSize(325,400);</code> another guess. Get the correct size by calling <code>this.pack();</code>, but do so after calling <code>this.setResizable(false);</code> &amp; before calling &#39;this.setVisible(true);`"}],"owner":{"account_id":23854741,"reputation":1,"user_id":17858322,"display_name":"Milknees"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641530566,"creation_date":1641528022,"question_id":70616465,"body_markdown":"     class Test extends JFrame implements ActionListener {\r\n\t\r\n    public static Font jtfont = new Font(&quot;Arial&quot;, Font.PLAIN, 30);\r\n    JCheckBox checkbox;\r\n    JButton jb1, jb2, jb3, jb4, jb5;\r\n    JTextField t1, t2;\r\n\tJTextArea textarea;\r\n\t\r\n\tboolean a;\r\n\tdouble factor1, factor2, factor3, sum;\r\n    Test() {\r\n    \t\r\n        Font jtfont = new Font(&quot;Arial&quot;, Font.PLAIN, 30);\r\n        Font ta = new Font(&quot;Arial&quot;, Font.PLAIN, 20);\r\n\r\n    \t\r\n    \ttextarea = new JTextArea();\r\n        textarea.setPreferredSize(new Dimension(300,60));\r\n        textarea.setFont(ta);\r\n\t\ttextarea.setText(&quot; Input the first number below and \\n the second number below that&quot;);\r\n        textarea.setEditable(false);\r\n        add(textarea);\r\n        \r\n        t1 = new JTextField();\r\n        t1.setPreferredSize(new Dimension(300,50));\r\n        t1.setFont(jtfont);\r\n        add(t1);\r\n\r\n        t2 = new JTextField();\r\n        t2.setPreferredSize(new Dimension(300,50));\r\n        t2.setFont(jtfont);\r\n        add(t2);\r\n\r\n        jb1 = new JButton(&quot;+&quot;);\r\n        jb1.setPreferredSize(new Dimension(50,40));\r\n        add(jb1);\r\n        \r\n        jb2 = new JButton(&quot;-&quot;);\r\n        jb2.setPreferredSize(new Dimension(50,40));\r\n        add(jb2);\r\n\r\n        jb3 = new JButton(&quot;*&quot;);\r\n        jb3.setPreferredSize(new Dimension(50,40));\r\n        add(jb3);\r\n\r\n        jb4 = new JButton(&quot;/&quot;);\r\n        jb4.setPreferredSize(new Dimension(50,40));\r\n        add(jb4);\r\n        \r\n        checkbox = new JCheckBox();\r\n        checkbox.setText(&quot;Continue with the current product&quot;);\r\n        checkbox.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n        \r\n        jb5 = new JButton(&quot;Submit&quot;);\r\n        jb5.setPreferredSize(new Dimension(100,40));\r\n        \r\n        jb1.addActionListener(this);\r\n        jb2.addActionListener(this);\r\n        jb3.addActionListener(this);\r\n        jb4.addActionListener(this);\r\n        jb5.addActionListener(this);\r\n        checkbox.addActionListener(this);\r\n\r\n\r\n        this.setTitle(&quot;Calculator&quot;); //title\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit\r\n\t\tthis.setLayout(new FlowLayout());\r\n\t\tthis.getContentPane().setBackground(new Color(36, 36, 36)); \r\n\t\tthis.setSize(325,400); //x and y dimension\r\n\t\tthis.setVisible(true); //this visibility\r\n\t\tthis.setResizable(false);\r\n\t\t}\r\n    \r\n    \r\n    \t@Override\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        factor1 = Float.parseFloat(t1.getText());\r\n        factor2 = Float.parseFloat(t2.getText());\r\n        sum = 0;\r\n      \r\n        if (e.getSource() == jb1) {\r\n            sum = factor1 + factor2;\r\n            textarea.setText(String.valueOf(sum));\r\n            add(checkbox);\r\n            add(jb5);\r\n\r\n        } else if (e.getSource() == jb2) {\r\n            sum = factor1 - factor2;\r\n            textarea.setFont(jtfont);\r\n            textarea.setText(String.valueOf(sum));\r\n            add(checkbox);\r\n            add(jb5);\r\n\r\n        } else if (e.getSource() == jb3) {\r\n            sum = factor1 * factor2;\r\n            textarea.setFont(jtfont);\r\n            textarea.setText(String.valueOf(sum));\r\n            add(checkbox);\r\n            add(jb5);\r\n\r\n        } else if (e.getSource() == jb4) {\r\n            sum = factor1 / factor2;\r\n            textarea.setFont(jtfont);\r\n            textarea.setText(String.valueOf(sum));\r\n            add(checkbox);\r\n            add(jb5);\r\n        } \r\n        \r\n        if (e.getSource() == jb5) {\r\n        \ta = checkbox.isSelected(); }\r\n        \r\n        if (a == true) {\r\n          \r\n            if (e.getSource() == jb1) {\r\n            \tfactor3 = Float.parseFloat(t2.getText());\r\n            \tsum = Float.parseFloat(textarea.getText());\r\n                textarea.setText(String.valueOf(sum));\r\n\r\n                \r\n\r\n            } else if (e.getSource() == jb2) {\r\n            \tfactor1 = factor1 - factor2;\r\n                textarea.setFont(jtfont);\r\n                textarea.setText(String.valueOf(factor1));\r\n                \r\n\r\n            } else if (e.getSource() == jb3) {\r\n            \tfactor1 = factor1 * factor2;\r\n                textarea.setFont(jtfont);\r\n                textarea.setText(String.valueOf(factor1));\r\n                \r\n\r\n            } else if (e.getSource() == jb4) {\r\n            \tfactor1 = factor1 / factor2;\r\n                textarea.setFont(jtfont);\r\n                textarea.setText(String.valueOf(factor1));\r\n                \r\n            } \r\n        \t\r\n        }\r\n        \r\n    }// end actionPerformed\r\n\r\n    public static void main(String args[]) {\r\n        Test t = new Test();\r\n    }\r\n        }\r\n\r\nWhenever I try to continue on with the previous sum after ticking the checkbox and clicking submit  the calculations get messed up. It looks like that it is still adding the numbers from t1 and t2 together even though it isn&#39;t supposed to. I also noticed that everytime I click a button the if blocks ran again by themselves. Maybe it is getting messed up cuz of that, I&#39;m still not entirely sure since I am a beginner in Java and don&#39;t know anything about Swing.\r\n","title":"How do I continue on with the current sum in a Calculator program made using Swing?","body":"<pre><code> class Test extends JFrame implements ActionListener {\n\npublic static Font jtfont = new Font(&quot;Arial&quot;, Font.PLAIN, 30);\nJCheckBox checkbox;\nJButton jb1, jb2, jb3, jb4, jb5;\nJTextField t1, t2;\nJTextArea textarea;\n\nboolean a;\ndouble factor1, factor2, factor3, sum;\nTest() {\n    \n    Font jtfont = new Font(&quot;Arial&quot;, Font.PLAIN, 30);\n    Font ta = new Font(&quot;Arial&quot;, Font.PLAIN, 20);\n\n    \n    textarea = new JTextArea();\n    textarea.setPreferredSize(new Dimension(300,60));\n    textarea.setFont(ta);\n    textarea.setText(&quot; Input the first number below and \\n the second number below that&quot;);\n    textarea.setEditable(false);\n    add(textarea);\n    \n    t1 = new JTextField();\n    t1.setPreferredSize(new Dimension(300,50));\n    t1.setFont(jtfont);\n    add(t1);\n\n    t2 = new JTextField();\n    t2.setPreferredSize(new Dimension(300,50));\n    t2.setFont(jtfont);\n    add(t2);\n\n    jb1 = new JButton(&quot;+&quot;);\n    jb1.setPreferredSize(new Dimension(50,40));\n    add(jb1);\n    \n    jb2 = new JButton(&quot;-&quot;);\n    jb2.setPreferredSize(new Dimension(50,40));\n    add(jb2);\n\n    jb3 = new JButton(&quot;*&quot;);\n    jb3.setPreferredSize(new Dimension(50,40));\n    add(jb3);\n\n    jb4 = new JButton(&quot;/&quot;);\n    jb4.setPreferredSize(new Dimension(50,40));\n    add(jb4);\n    \n    checkbox = new JCheckBox();\n    checkbox.setText(&quot;Continue with the current product&quot;);\n    checkbox.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n    \n    jb5 = new JButton(&quot;Submit&quot;);\n    jb5.setPreferredSize(new Dimension(100,40));\n    \n    jb1.addActionListener(this);\n    jb2.addActionListener(this);\n    jb3.addActionListener(this);\n    jb4.addActionListener(this);\n    jb5.addActionListener(this);\n    checkbox.addActionListener(this);\n\n\n    this.setTitle(&quot;Calculator&quot;); //title\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit\n    this.setLayout(new FlowLayout());\n    this.getContentPane().setBackground(new Color(36, 36, 36)); \n    this.setSize(325,400); //x and y dimension\n    this.setVisible(true); //this visibility\n    this.setResizable(false);\n    }\n\n\n    @Override\npublic void actionPerformed(ActionEvent e) {\n\n    factor1 = Float.parseFloat(t1.getText());\n    factor2 = Float.parseFloat(t2.getText());\n    sum = 0;\n  \n    if (e.getSource() == jb1) {\n        sum = factor1 + factor2;\n        textarea.setText(String.valueOf(sum));\n        add(checkbox);\n        add(jb5);\n\n    } else if (e.getSource() == jb2) {\n        sum = factor1 - factor2;\n        textarea.setFont(jtfont);\n        textarea.setText(String.valueOf(sum));\n        add(checkbox);\n        add(jb5);\n\n    } else if (e.getSource() == jb3) {\n        sum = factor1 * factor2;\n        textarea.setFont(jtfont);\n        textarea.setText(String.valueOf(sum));\n        add(checkbox);\n        add(jb5);\n\n    } else if (e.getSource() == jb4) {\n        sum = factor1 / factor2;\n        textarea.setFont(jtfont);\n        textarea.setText(String.valueOf(sum));\n        add(checkbox);\n        add(jb5);\n    } \n    \n    if (e.getSource() == jb5) {\n        a = checkbox.isSelected(); }\n    \n    if (a == true) {\n      \n        if (e.getSource() == jb1) {\n            factor3 = Float.parseFloat(t2.getText());\n            sum = Float.parseFloat(textarea.getText());\n            textarea.setText(String.valueOf(sum));\n\n            \n\n        } else if (e.getSource() == jb2) {\n            factor1 = factor1 - factor2;\n            textarea.setFont(jtfont);\n            textarea.setText(String.valueOf(factor1));\n            \n\n        } else if (e.getSource() == jb3) {\n            factor1 = factor1 * factor2;\n            textarea.setFont(jtfont);\n            textarea.setText(String.valueOf(factor1));\n            \n\n        } else if (e.getSource() == jb4) {\n            factor1 = factor1 / factor2;\n            textarea.setFont(jtfont);\n            textarea.setText(String.valueOf(factor1));\n            \n        } \n        \n    }\n    \n}// end actionPerformed\n\npublic static void main(String args[]) {\n    Test t = new Test();\n}\n    }\n</code></pre>\n<p>Whenever I try to continue on with the previous sum after ticking the checkbox and clicking submit  the calculations get messed up. It looks like that it is still adding the numbers from t1 and t2 together even though it isn't supposed to. I also noticed that everytime I click a button the if blocks ran again by themselves. Maybe it is getting messed up cuz of that, I'm still not entirely sure since I am a beginner in Java and don't know anything about Swing.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1641504073,"post_id":70613736,"comment_id":124827959,"body_markdown":"Any reason you&#39;re using a stream instead of a counting variable that you update by looping over your map&#39;s `.values()`?","body":"Any reason you&#39;re using a stream instead of a counting variable that you update by looping over your map&#39;s <code>.values()</code>?"},{"owner":{"account_id":10763675,"reputation":2426,"user_id":7919372,"accept_rate":91,"display_name":"Always Learner"},"score":1,"creation_date":1641504112,"post_id":70613736,"comment_id":124827975,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans My goal is using streams and not regular for each loop. Thanks","body":"@Mike&#39;Pomax&#39;Kamermans My goal is using streams and not regular for each loop. Thanks"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1641504149,"post_id":70613736,"comment_id":124827984,"body_markdown":"That&#39;s fine, but then please explain in your post why that is, because if the _goal_ is to get the sum, there&#39;s not really any reason to use streams.","body":"That&#39;s fine, but then please explain in your post why that is, because if the <i>goal</i> is to get the sum, there&#39;s not really any reason to use streams."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":4,"creation_date":1641504203,"post_id":70613736,"comment_id":124828007,"body_markdown":"@JoanP. Don&#39;t use floating number types like `double` for money value. These can lead to unexpected calculation results. See https://stackoverflow.com/questions/8148684/what-data-type-to-use-for-money-in-java and https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency","body":"@JoanP. Don&#39;t use floating number types like <code>double</code> for money value. These can lead to unexpected calculation results. See <a href=\"https://stackoverflow.com/questions/8148684/what-data-type-to-use-for-money-in-java\" title=\"what data type to use for money in java\">stackoverflow.com/questions/8148684/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\" title=\"why not use double or float to represent currency\">stackoverflow.com/questions/3730019/&hellip;</a>"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1641504491,"post_id":70613736,"comment_id":124828085,"body_markdown":"`1.99 * 4 = 7.96` but not `3.98`!","body":"<code>1.99 * 4 = 7.96</code> but not <code>3.98</code>!"},{"owner":{"account_id":10763675,"reputation":2426,"user_id":7919372,"accept_rate":91,"display_name":"Always Learner"},"score":0,"creation_date":1641504629,"post_id":70613736,"comment_id":124828117,"body_markdown":"@oleg.cherednik Oh, sorry about that. You&#39;re right. Just edited my question.","body":"@oleg.cherednik Oh, sorry about that. You&#39;re right. Just edited my question."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1641504644,"post_id":70613736,"comment_id":124828120,"body_markdown":"@JoanP. Please see: [What Do You Mean “It Doesn&#39;t Work”?](https://meta.stackexchange.com/q/147616)","body":"@JoanP. Please see: <a href=\"https://meta.stackexchange.com/q/147616\">What Do You Mean “It Doesn&#39;t Work”?</a>"},{"owner":{"account_id":10763675,"reputation":2426,"user_id":7919372,"accept_rate":91,"display_name":"Always Learner"},"score":0,"creation_date":1641504705,"post_id":70613736,"comment_id":124828137,"body_markdown":"@Progman Cannot resolve method getValue().","body":"@Progman Cannot resolve method getValue()."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1641504801,"post_id":70613736,"comment_id":124828164,"body_markdown":"@JoanP. Are you looking for `k.getValue()`?","body":"@JoanP. Are you looking for <code>k.getValue()</code>?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":3,"creation_date":1641504992,"post_id":70613736,"comment_id":124828211,"body_markdown":"In your lambda, k is already the key and v already the value. That&#39;s why it doesn&#39;t compile k.getKey() (you&#39;re not handling a Map.Entry, you&#39;re already handling the key)","body":"In your lambda, k is already the key and v already the value. That&#39;s why it doesn&#39;t compile k.getKey() (you&#39;re not handling a Map.Entry, you&#39;re already handling the key)"},{"owner":{"account_id":10763675,"reputation":2426,"user_id":7919372,"accept_rate":91,"display_name":"Always Learner"},"score":0,"creation_date":1641542224,"post_id":70613736,"comment_id":124835493,"body_markdown":"@Progman Really helpful, thanks.","body":"@Progman Really helpful, thanks."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1641511624,"creation_date":1641505373,"answer_id":70613968,"question_id":70613736,"body_markdown":"The stream of entries needs single parameter lambda for each entry, not `(k,v)`:\r\n\r\n    double total = products.entrySet().stream().mapToDouble(e -&gt; e.getKey().price * e.getValue()).sum();","title":"How to multiply key * value in Map in Java?","body":"<p>The stream of entries needs single parameter lambda for each entry, not <code>(k,v)</code>:</p>\n<pre><code>double total = products.entrySet().stream().mapToDouble(e -&gt; e.getKey().price * e.getValue()).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641511756,"creation_date":1641511451,"answer_id":70614835,"question_id":70613736,"body_markdown":"You can also do it like so.\r\n```\r\ndouble sum = 0;\r\nfor(Entry&lt;Product, Integer&gt; e : products.entrySet()) {\r\n\tsum += e.getKey().price * e.getValue();\r\n}\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n13.940000000000001\r\n```\r\nBut you have a fundamental flaw in your class.  You don&#39;t override `equals` or `hashCode`. So you&#39;re are you using the object reference as the key.  Try doing the following:\r\n```\r\nSystem.out.println(products.get(new Product(1.99));\r\n```\r\nIt will print `null` since there is no entry for that reference (it&#39;s a different object than the one used to store the value 4).\r\n\r\nAnd finally you should make certain your keys are immutable. Otherwise, circumstances could result in the same error.\r\n\r\nCheck out [why do I need to override hashcode and equals](https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java).\r\nAnd since it was mentioned in the comments, also check out [what data type to use for money in java](https://stackoverflow.com/questions/8148684/what-data-type-to-use-for-money-in-java/8148773#8148773).","title":"How to multiply key * value in Map in Java?","body":"<p>You can also do it like so.</p>\n<pre><code>double sum = 0;\nfor(Entry&lt;Product, Integer&gt; e : products.entrySet()) {\n    sum += e.getKey().price * e.getValue();\n}\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>13.940000000000001\n</code></pre>\n<p>But you have a fundamental flaw in your class.  You don't override <code>equals</code> or <code>hashCode</code>. So you're are you using the object reference as the key.  Try doing the following:</p>\n<pre><code>System.out.println(products.get(new Product(1.99));\n</code></pre>\n<p>It will print <code>null</code> since there is no entry for that reference (it's a different object than the one used to store the value 4).</p>\n<p>And finally you should make certain your keys are immutable. Otherwise, circumstances could result in the same error.</p>\n<p>Check out <a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\">why do I need to override hashcode and equals</a>.\nAnd since it was mentioned in the comments, also check out <a href=\"https://stackoverflow.com/questions/8148684/what-data-type-to-use-for-money-in-java/8148773#8148773\">what data type to use for money in java</a>.</p>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641524073,"creation_date":1641520669,"answer_id":70615754,"question_id":70613736,"body_markdown":"Not directly related to your question, but I wouldn&#39;t use a map for what you are doing. Instead create a new class\r\n\r\n    public class ProductAmount {\r\n        private Product product;\r\n        private int amount;\r\n\r\n        public ProductAmount(Product product, int amount) {\r\n            this.product = product;\r\n            this.amount = amount;\r\n        }\r\n\r\n        public double getCombinedPrice() {\r\n            return product.price * amount;\r\n        }\r\n    }\r\n\r\nThen you can use a `List` instead of a `Map`.\r\n```\r\nList&lt;ProductAmount&gt; products = Arrays.asList(\r\n        new ProductAmount(new Product(2.99), 2),\r\n        new ProductAmount (new Product(1.99), 4)); \r\n  \r\nproducts.stream().mapToDouble(ProductAmount::getCombinedPrice).sum();","title":"How to multiply key * value in Map in Java?","body":"<p>Not directly related to your question, but I wouldn't use a map for what you are doing. Instead create a new class</p>\n<pre><code>public class ProductAmount {\n    private Product product;\n    private int amount;\n\n    public ProductAmount(Product product, int amount) {\n        this.product = product;\n        this.amount = amount;\n    }\n\n    public double getCombinedPrice() {\n        return product.price * amount;\n    }\n}\n</code></pre>\n<p>Then you can use a <code>List</code> instead of a <code>Map</code>.</p>\n<pre><code>List&lt;ProductAmount&gt; products = Arrays.asList(\n        new ProductAmount(new Product(2.99), 2),\n        new ProductAmount (new Product(1.99), 4)); \n  \nproducts.stream().mapToDouble(ProductAmount::getCombinedPrice).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641529596,"creation_date":1641529596,"answer_id":70616607,"question_id":70613736,"body_markdown":"You can avoid the explicit creation of a `doubleStream` with something like:\r\n\r\n```java\r\ndouble total = products.entrySet()\r\n                       .stream()\r\n                       .collect(Collectors.summingDouble(e -&gt; e.getKey().price * e.getValue()));","title":"How to multiply key * value in Map in Java?","body":"<p>You can avoid the explicit creation of a <code>doubleStream</code> with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double total = products.entrySet()\n                       .stream()\n                       .collect(Collectors.summingDouble(e -&gt; e.getKey().price * e.getValue()));\n</code></pre>\n"}],"owner":{"account_id":10763675,"reputation":2426,"user_id":7919372,"accept_rate":91,"display_name":"Always Learner"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70613968,"answer_count":4,"score":0,"last_activity_date":1641529596,"creation_date":1641503918,"question_id":70613736,"body_markdown":"I have this class:\r\n\r\n```\r\nclass Product {\r\n    public double price;\r\n\r\n    public Product(double price) {\r\n        this.price = price;\r\n    }\r\n}\r\n```\r\n\r\nAnd a Map:\r\n\r\n    Map&lt;Product, Integer&gt; products = new HashMap&lt;&gt;();\r\n\r\nThat contains several products added like so:\r\n\r\n    products.put(new Product(2.99), 2);\r\n    products.put(new Product(1.99), 4);\r\n\r\nAnd I want to calculate the sum of all products multiple the values using streams? I tried:\r\n\r\n    double total = products.entrySet().stream().mapToDouble((k, v) -&gt; k.getKey().price * v.getValue()).sum();\r\n\r\nBut it doesn&#39;t compile, I get “_Cannot resolve method `getValue()`_”.\r\n\r\nI expect:\r\n\r\n    (2.99 * 2) + (1.99 * 4) = 5.98 + 7.96 = 13.94","title":"How to multiply key * value in Map in Java?","body":"<p>I have this class:</p>\n<pre><code>class Product {\n    public double price;\n\n    public Product(double price) {\n        this.price = price;\n    }\n}\n</code></pre>\n<p>And a Map:</p>\n<pre><code>Map&lt;Product, Integer&gt; products = new HashMap&lt;&gt;();\n</code></pre>\n<p>That contains several products added like so:</p>\n<pre><code>products.put(new Product(2.99), 2);\nproducts.put(new Product(1.99), 4);\n</code></pre>\n<p>And I want to calculate the sum of all products multiple the values using streams? I tried:</p>\n<pre><code>double total = products.entrySet().stream().mapToDouble((k, v) -&gt; k.getKey().price * v.getValue()).sum();\n</code></pre>\n<p>But it doesn't compile, I get “<em>Cannot resolve method <code>getValue()</code></em>”.</p>\n<p>I expect:</p>\n<pre><code>(2.99 * 2) + (1.99 * 4) = 5.98 + 7.96 = 13.94\n</code></pre>\n"},{"tags":["java","contains","hashset"],"comments":[{"owner":{"account_id":23157653,"reputation":126,"user_id":17258696,"display_name":"Ethan"},"score":1,"creation_date":1641528589,"post_id":70616486,"comment_id":124832954,"body_markdown":"override `hashCode()` method","body":"override <code>hashCode()</code> method"}],"answers":[{"tags":[],"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641528760,"creation_date":1641528760,"answer_id":70616531,"question_id":70616486,"body_markdown":"Whenever you overide `equals`, you should also override `hashCode`:\r\n```java\r\n@Override\r\npublic int hashCode() {\r\n    return Objects.hash(x,y);\r\n}\r\n```\r\nSee the general contract of `equals` and `hashCode`:\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html","title":"How to make two objects equal in contains method of Hashset","body":"<p>Whenever you overide <code>equals</code>, you should also override <code>hashCode</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    return Objects.hash(x,y);\n}\n</code></pre>\n<p>See the general contract of <code>equals</code> and <code>hashCode</code>:\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html</a></p>\n"},{"tags":[],"owner":{"account_id":19468365,"reputation":606,"user_id":14241245,"display_name":"p2kr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641529487,"creation_date":1641529487,"answer_id":70616597,"question_id":70616486,"body_markdown":"It is generally necessary to override the `hashCode` method whenever `equals` method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.\r\n```java\r\nimport java.util.HashSet;\r\n\r\nclass Point extends Object {\r\n    int x, y, dis;\r\n\r\n    Point(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.dis = (int) Math.sqrt(x * x + y * y);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (o instanceof Point) {\r\n            Point p = (Point) o;\r\n            return p.x == x &amp;&amp; p.y == y;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(x, y);\r\n    }\r\n}\r\n\r\npublic class Equals {\r\n    public static void main(String[] args) {\r\n        HashSet&lt;Point&gt; set = new HashSet&lt;Point&gt;();\r\n        set.add(new Point(1, 2));\r\n        set.add(new Point(1, 2));\r\n        set.add(new Point(1, 3));\r\n        System.out.println(set.size());\r\n    }\r\n}\r\n```\r\n\r\nSee [`equals`][1] API doc.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)","title":"How to make two objects equal in contains method of Hashset","body":"<p>It is generally necessary to override the <code>hashCode</code> method whenever <code>equals</code> method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashSet;\n\nclass Point extends Object {\n    int x, y, dis;\n\n    Point(int x, int y) {\n        this.x = x;\n        this.y = y;\n        this.dis = (int) Math.sqrt(x * x + y * y);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (o instanceof Point) {\n            Point p = (Point) o;\n            return p.x == x &amp;&amp; p.y == y;\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(x, y);\n    }\n}\n\npublic class Equals {\n    public static void main(String[] args) {\n        HashSet&lt;Point&gt; set = new HashSet&lt;Point&gt;();\n        set.add(new Point(1, 2));\n        set.add(new Point(1, 2));\n        set.add(new Point(1, 3));\n        System.out.println(set.size());\n    }\n}\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> API doc.</p>\n"}],"owner":{"account_id":22936540,"reputation":75,"user_id":17069937,"display_name":"Al Pa chino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1641529750,"accepted_answer_id":70616531,"answer_count":2,"score":2,"last_activity_date":1641529487,"creation_date":1641528280,"question_id":70616486,"body_markdown":"I have created a Pair Class which has 3 variables mentioned below and overrides the equals method as well assuming this is used in contains method of hashset. But it is not. Can someone explain what to implement in Pair class to make sure it equats the values of x and y only.\r\n\r\n```\r\nClass Pair extends Object {\r\nint x;\r\nint y;\r\nint dis;\r\n   public Pair(int x, int y, int d) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.dis = d;\r\n   }\r\n  @override\r\n  public boolean equals(Pair p) {\r\n  return this.x == p.x &amp;&amp; this.y == p.y\r\n  }\r\n}\r\n```","title":"How to make two objects equal in contains method of Hashset","body":"<p>I have created a Pair Class which has 3 variables mentioned below and overrides the equals method as well assuming this is used in contains method of hashset. But it is not. Can someone explain what to implement in Pair class to make sure it equats the values of x and y only.</p>\n<pre><code>Class Pair extends Object {\nint x;\nint y;\nint dis;\n   public Pair(int x, int y, int d) {\n    this.x = x;\n    this.y = y;\n    this.dis = d;\n   }\n  @override\n  public boolean equals(Pair p) {\n  return this.x == p.x &amp;&amp; this.y == p.y\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1641462916,"post_id":70605287,"comment_id":124812299,"body_markdown":"Without more information this will be impossible to answer. Disabling JPA is obviously **not** the solution as that is what you are using.","body":"Without more information this will be impossible to answer. Disabling JPA is obviously <b>not</b> the solution as that is what you are using."},{"owner":{"account_id":23844580,"reputation":31,"user_id":17849232,"display_name":"abel saju"},"score":0,"creation_date":1641463318,"post_id":70605287,"comment_id":124812463,"body_markdown":"after spring boot migration to 2.6.2 , i am getting the exception :  &quot;org.springframework.orm.jpa.EntityManagerHolder cannot be cast to org.springframework.orm.hibernate5.SessionHolder&quot;","body":"after spring boot migration to 2.6.2 , i am getting the exception :  &quot;org.springframework.orm.jpa.EntityManagerHolder cannot be cast to org.springframework.orm.hibernate5.SessionHolder&quot;"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641463806,"post_id":70605287,"comment_id":124812648,"body_markdown":"Please don&#39;t add it as comments add it to your question. Also add your dependencies (your `pom.xml` or `build.gradle` and the full stacktrace).","body":"Please don&#39;t add it as comments add it to your question. Also add your dependencies (your <code>pom.xml</code> or <code>build.gradle</code> and the full stacktrace)."},{"owner":{"account_id":23844580,"reputation":31,"user_id":17849232,"display_name":"abel saju"},"score":0,"creation_date":1641465255,"post_id":70605287,"comment_id":124813155,"body_markdown":"@M.Deinum added the details in description","body":"@M.Deinum added the details in description"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641466413,"post_id":70605287,"comment_id":124813524,"body_markdown":"Why do you have a `HibernateTransactionManager` in the first place? YOu don&#39;t need that as you are using JPA which should use the `JpaTransactionManager` which is auto configured by default.","body":"Why do you have a <code>HibernateTransactionManager</code> in the first place? YOu don&#39;t need that as you are using JPA which should use the <code>JpaTransactionManager</code> which is auto configured by default."},{"owner":{"account_id":23844580,"reputation":31,"user_id":17849232,"display_name":"abel saju"},"score":0,"creation_date":1641471455,"post_id":70605287,"comment_id":124815278,"body_markdown":"@M.Deinum In the old code the code is like below: (can u suggest how we can use JpaTransactionManager instead of HibernateTransactionManager )? @ Bean @ Primary public HibernateTransactionManager transactionManager() { HibernateTransactionManager txManager = new HibernateTransactionManager(); txManager.setSessionFactory(SessionFactory().getObject()); return txManager; }","body":"@M.Deinum In the old code the code is like below: (can u suggest how we can use JpaTransactionManager instead of HibernateTransactionManager )? @ Bean @ Primary public HibernateTransactionManager transactionManager() { HibernateTransactionManager txManager = new HibernateTransactionManager(); txManager.setSessionFactory(SessionFactory().getObject()); return txManager; }"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641472811,"post_id":70605287,"comment_id":124815774,"body_markdown":"Please don&#39;t add code as comments (as mentioned before). Extend your question. Remove your transaction manager and remove the configuration of the `SessionFactory`. Just use JPA instead of the session factory.","body":"Please don&#39;t add code as comments (as mentioned before). Extend your question. Remove your transaction manager and remove the configuration of the <code>SessionFactory</code>. Just use JPA instead of the session factory."},{"owner":{"account_id":23844580,"reputation":31,"user_id":17849232,"display_name":"abel saju"},"score":0,"creation_date":1641528180,"post_id":70605287,"comment_id":124832896,"body_markdown":"@M.Deinum I added the some code part of my HiebrnateConfiguration  in description .Still I have confusion how to change the code as you said.","body":"@M.Deinum I added the some code part of my HiebrnateConfiguration  in description .Still I have confusion how to change the code as you said."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641541348,"post_id":70605287,"comment_id":124835271,"body_markdown":"I wonder why you have this code in the first place? You are using Spirng Boot, why not use that to configure your datasource and hibernate in the first place? Seems like you are attempting to work around the framework instead of using it. For the datasource add the proper `spring.datasource` properties to your `application.properties`. For hibernate do the same using the `spring.jpa` properties. Then remove this configuration.","body":"I wonder why you have this code in the first place? You are using Spirng Boot, why not use that to configure your datasource and hibernate in the first place? Seems like you are attempting to work around the framework instead of using it. For the datasource add the proper <code>spring.datasource</code> properties to your <code>application.properties</code>. For hibernate do the same using the <code>spring.jpa</code> properties. Then remove this configuration."}],"owner":{"account_id":23844580,"reputation":31,"user_id":17849232,"display_name":"abel saju"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641528021,"creation_date":1641462757,"question_id":70605287,"body_markdown":"Currently I am migrating from spring boot 1.5.6 to 2.6.2 but due to the latest version of hibernate getting class cast exception \r\nI add &quot;exclude=HibernateJpaAutoConfiguration&quot; after that getting exception &quot;Spring boot hibernate no transaction is in progress&quot; .Could you please help me to resolve the issue?\r\n\r\npom.xml\r\n******\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.mycomp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;myproject&lt;/name&gt;\r\n    \t&lt;description&gt; &lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;io.springfox.version&gt;3.0.0&lt;/io.springfox.version&gt;\r\n    \t\t \r\n    \t&lt;/properties&gt;\r\n    \r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;!-- &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.2.2.jre8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${io.springfox.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${io.springfox.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;mdmscheldt&lt;/finalName&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n stacktrace\r\n**********\r\n\r\n    6:06:02,934 ERROR [stderr] (default task-1) java.lang.ClassCastException: class org.springframework.orm.jpa.EntityManagerHolder cannot be cast to class org.springframework.orm.hibernate5.SessionHolder (org.springframework.orm.jpa.EntityManagerHolder and org.springframework.orm.hibernate5.SessionHolder are in unnamed module of loader &#39;deployment.mdmscheldt.war&#39; @322eec05)\r\n    \r\n    16:06:02,935 ERROR [stderr] (default task-1) \tat deployment.mdmscheldt.war//org.springframework.orm.hibernate5.HibernateTransactionManager.doGetTransaction(HibernateTransactionManager.java:423)\r\n    \r\n    16:06:02,935 ERROR [stderr] (default task-1) \tat deployment.mdmscheldt.war//org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:347)\r\n    \r\n    16:06:02,935 ERROR [stderr] (default task-1) \tat deployment.mdmscheldt.war//org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\r\n    \r\n    16:06:02,935 ERROR [stderr] (default task-1) \tat deployment.mdmscheldt.war//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\r\n    \r\n    16:06:02,935 ERROR [stderr] (default task-1) \tat deployment.mdmscheldt.war//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \r\n    16:06:02,936 ERROR [stderr] (default task-1) \tat deployment.mdmscheldt.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \r\n    16:06:02,936 ERROR [stderr] (default task-1) \tat deployment.mdmscheldt.war//org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \r\n    16:06:02,936 ERROR [stderr] (default task-1) \tat deployment.mdmscheldt.war//org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\r\n\r\n\r\n\r\n\r\n\r\nHibernate Configuration File\r\n***************************\r\n\r\n\r\n\r\n\t@Bean\r\n\t@Primary\r\n\tpublic LocalSessionFactoryBean SessionFactory() {\r\n\t\tLocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n\t\tsessionFactory.setDataSource(dataSource());\r\n\t\tsessionFactory.setPackagesToScan(new String[] { this.ENTITYMANAGER_PACKAGES_TO_SCAN });\r\n\t\tProperties hibernateProperties = new Properties();\r\n\t\thibernateProperties.put(&quot;hibernate.dialect&quot;, this.HIBERNATE_DIALECT);\r\n\t\thibernateProperties.put(&quot;hibernate.show_sql&quot;, this.HIBERNATE_SHOW_SQL);\r\n\t\thibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, this.HIBERNATE_HBM2DDL_AUTO);\r\n\t\thibernateProperties.put(&quot;hibernate.format_sql&quot;, true);\r\n\t\thibernateProperties.put(&quot;hibernate.use_sql_comments&quot;, true);\r\n\t\tsessionFactory.setHibernateProperties(hibernateProperties);\r\n\t\treturn sessionFactory;\r\n\t}\r\n\t@Bean\r\n\t@Primary\r\n\tpublic DataSource dataSource() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(this.DB_DRIVER);\r\n\t\tdataSource.setUrl(this.DEV_DB_URL + &quot;databaseName=&quot;+ DEV_DB_NAME +&quot;;&quot;);\r\n\t\tdataSource.setUsername(this.DEV_DB_USERNAME);\r\n\t\tdataSource.setPassword(this.DEV_DB_PASSWORD);\r\n\t\treturn (DataSource)dataSource;\r\n\t}\r\n\r\n\t@Bean\r\n\t@Primary\r\n\tpublic HibernateTransactionManager transactionManager() {\r\n\t\tHibernateTransactionManager txManager = new HibernateTransactionManager();\r\n\t\ttxManager.setSessionFactory(SessionFactory().getObject());\r\n\t\treturn txManager;\r\n\t}\r\n\t......\r\n\t}\r\n\r\n","title":"After Migration from spring boot 1.5.6 to 2.6.2 getting exception","body":"<p>Currently I am migrating from spring boot 1.5.6 to 2.6.2 but due to the latest version of hibernate getting class cast exception\nI add &quot;exclude=HibernateJpaAutoConfiguration&quot; after that getting exception &quot;Spring boot hibernate no transaction is in progress&quot; .Could you please help me to resolve the issue?</p>\n<p>pom.xml</p>\n<hr />\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycomp&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myproject&lt;/name&gt;\n    &lt;description&gt; &lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;io.springfox.version&gt;3.0.0&lt;/io.springfox.version&gt;\n         \n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;!-- &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;7.2.2.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n     &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;${io.springfox.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;${io.springfox.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;finalName&gt;mdmscheldt&lt;/finalName&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>stacktrace</p>\n<hr />\n<pre><code>6:06:02,934 ERROR [stderr] (default task-1) java.lang.ClassCastException: class org.springframework.orm.jpa.EntityManagerHolder cannot be cast to class org.springframework.orm.hibernate5.SessionHolder (org.springframework.orm.jpa.EntityManagerHolder and org.springframework.orm.hibernate5.SessionHolder are in unnamed module of loader 'deployment.mdmscheldt.war' @322eec05)\n\n16:06:02,935 ERROR [stderr] (default task-1)    at deployment.mdmscheldt.war//org.springframework.orm.hibernate5.HibernateTransactionManager.doGetTransaction(HibernateTransactionManager.java:423)\n\n16:06:02,935 ERROR [stderr] (default task-1)    at deployment.mdmscheldt.war//org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:347)\n\n16:06:02,935 ERROR [stderr] (default task-1)    at deployment.mdmscheldt.war//org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\n\n16:06:02,935 ERROR [stderr] (default task-1)    at deployment.mdmscheldt.war//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\n\n16:06:02,935 ERROR [stderr] (default task-1)    at deployment.mdmscheldt.war//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\n16:06:02,936 ERROR [stderr] (default task-1)    at deployment.mdmscheldt.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\n16:06:02,936 ERROR [stderr] (default task-1)    at deployment.mdmscheldt.war//org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n\n16:06:02,936 ERROR [stderr] (default task-1)    at deployment.mdmscheldt.war//org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n</code></pre>\n<p>Hibernate Configuration File</p>\n<hr />\n<pre><code>@Bean\n@Primary\npublic LocalSessionFactoryBean SessionFactory() {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n    sessionFactory.setDataSource(dataSource());\n    sessionFactory.setPackagesToScan(new String[] { this.ENTITYMANAGER_PACKAGES_TO_SCAN });\n    Properties hibernateProperties = new Properties();\n    hibernateProperties.put(&quot;hibernate.dialect&quot;, this.HIBERNATE_DIALECT);\n    hibernateProperties.put(&quot;hibernate.show_sql&quot;, this.HIBERNATE_SHOW_SQL);\n    hibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, this.HIBERNATE_HBM2DDL_AUTO);\n    hibernateProperties.put(&quot;hibernate.format_sql&quot;, true);\n    hibernateProperties.put(&quot;hibernate.use_sql_comments&quot;, true);\n    sessionFactory.setHibernateProperties(hibernateProperties);\n    return sessionFactory;\n}\n@Bean\n@Primary\npublic DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(this.DB_DRIVER);\n    dataSource.setUrl(this.DEV_DB_URL + &quot;databaseName=&quot;+ DEV_DB_NAME +&quot;;&quot;);\n    dataSource.setUsername(this.DEV_DB_USERNAME);\n    dataSource.setPassword(this.DEV_DB_PASSWORD);\n    return (DataSource)dataSource;\n}\n\n@Bean\n@Primary\npublic HibernateTransactionManager transactionManager() {\n    HibernateTransactionManager txManager = new HibernateTransactionManager();\n    txManager.setSessionFactory(SessionFactory().getObject());\n    return txManager;\n}\n......\n}\n</code></pre>\n"},{"tags":["jvm","java","g1gc"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":1,"creation_date":1484127848,"post_id":41561195,"comment_id":70378506,"body_markdown":"GC logs should also be lightweight enough for production use.","body":"GC logs should also be lightweight enough for production use."}],"answers":[{"tags":[],"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484041960,"creation_date":1484041960,"answer_id":41565882,"question_id":41561195,"body_markdown":"You can see this blog https://blogs.oracle.com/poonam/entry/understanding_g1_gc_logs , which has more detailed information about understanding the G1GC logs","title":"jstat for G1 Garbage Collector","body":"<p>You can see this blog <a href=\"https://blogs.oracle.com/poonam/entry/understanding_g1_gc_logs\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/poonam/entry/understanding_g1_gc_logs</a> , which has more detailed information about understanding the G1GC logs</p>\n"},{"tags":[],"owner":{"account_id":186214,"reputation":131,"user_id":423437,"display_name":"Elliott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641527062,"creation_date":1641527062,"answer_id":70616369,"question_id":41561195,"body_markdown":"At least as of JDK11, there&#39;s three different time counters for -gc:\r\n 1. YGCT: Young Garbage Collection Time, spent on young-only garbage collection.\r\n 2. FGCT: Full Garbage Collection Time, spent on the fallback full stop-the-world GC.\r\n 3. GCT: Total time spent on garbage collections of all types. \r\n\r\nSo, young-only gets accounted to YGCT and GCT, mixed goes to GCT only (not sure whether the Young portion is accounted to YGCT, but I suspect so based on the times), full/fallback goes to FGCT and GCT.  So, GCT minus FGCT minus YGCT equals time spent collecting the old-gen within mixed collections.\r\n\r\n ","title":"jstat for G1 Garbage Collector","body":"<p>At least as of JDK11, there's three different time counters for -gc:</p>\n<ol>\n<li>YGCT: Young Garbage Collection Time, spent on young-only garbage collection.</li>\n<li>FGCT: Full Garbage Collection Time, spent on the fallback full stop-the-world GC.</li>\n<li>GCT: Total time spent on garbage collections of all types.</li>\n</ol>\n<p>So, young-only gets accounted to YGCT and GCT, mixed goes to GCT only (not sure whether the Young portion is accounted to YGCT, but I suspect so based on the times), full/fallback goes to FGCT and GCT.  So, GCT minus FGCT minus YGCT equals time spent collecting the old-gen within mixed collections.</p>\n"}],"owner":{"account_id":176297,"reputation":4545,"user_id":406896,"accept_rate":64,"display_name":"Arnab Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2101,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1641527062,"creation_date":1484022837,"question_id":41561195,"body_markdown":"I am trying to analyze memory usage pattern of Java Process with G1 Garbage Collector using jstat:\r\n\r\n    jstat -gc &lt;Process_ID&gt; 60s\r\n\r\nThe output looks like following:\r\n\r\n     S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n     0.0   229376.0  0.0   229376.0 1998848.0 1253376.0 16646144.0  301183.5  50176.0 40977.8 8704.0 5303.9     10    0.296   0      0.000    0.296\r\n\r\nAs understood, jstat provides information about Young Generation GC as well as Full GC. But it doesn&#39;t distinguish between Minor and Mixed collections. Considering that in an well tuned G1 collector, Full GC is not expected and mostly Mixed GC takes care of Tenured generations, I want to get information about different types YGC.\r\n\r\nIs there any specific option for jstat which I should use?\r\n\r\nI have noticed [this discussion][1] on Open JDK forum, but not sure if such feature is available at this point of time.\r\n\r\nPlease note, I am aware of the fact that GC logs can help me here, but I am specifically interested about jstat (considering it&#39;s light weight and can be used in production as per the need basis).\r\n\r\n\r\n  [1]: http://mail.openjdk.java.net/pipermail/serviceability-dev/2016-March/019003.html","title":"jstat for G1 Garbage Collector","body":"<p>I am trying to analyze memory usage pattern of Java Process with G1 Garbage Collector using jstat:</p>\n\n<pre><code>jstat -gc &lt;Process_ID&gt; 60s\n</code></pre>\n\n<p>The output looks like following:</p>\n\n<pre><code> S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n 0.0   229376.0  0.0   229376.0 1998848.0 1253376.0 16646144.0  301183.5  50176.0 40977.8 8704.0 5303.9     10    0.296   0      0.000    0.296\n</code></pre>\n\n<p>As understood, jstat provides information about Young Generation GC as well as Full GC. But it doesn't distinguish between Minor and Mixed collections. Considering that in an well tuned G1 collector, Full GC is not expected and mostly Mixed GC takes care of Tenured generations, I want to get information about different types YGC.</p>\n\n<p>Is there any specific option for jstat which I should use?</p>\n\n<p>I have noticed <a href=\"http://mail.openjdk.java.net/pipermail/serviceability-dev/2016-March/019003.html\" rel=\"nofollow noreferrer\">this discussion</a> on Open JDK forum, but not sure if such feature is available at this point of time.</p>\n\n<p>Please note, I am aware of the fact that GC logs can help me here, but I am specifically interested about jstat (considering it's light weight and can be used in production as per the need basis).</p>\n"},{"tags":["java","reactjs","spring-boot","tomcat"],"comments":[{"owner":{"account_id":2227274,"reputation":671,"user_id":1965713,"accept_rate":20,"display_name":"basit raza"},"score":2,"creation_date":1641226603,"post_id":70568495,"comment_id":124745892,"body_markdown":"You can use websockets to send the uploaded file info once the scan is finished.","body":"You can use websockets to send the uploaded file info once the scan is finished."}],"answers":[{"tags":[],"owner":{"account_id":16048714,"reputation":150,"user_id":11583213,"display_name":"Nikhil Adiga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641525273,"creation_date":1641521504,"answer_id":70615823,"question_id":70568495,"body_markdown":"You can use websockets to notify frontend without a controller. Here is the example code to send a message to the client from backend using STOMP at any time.\r\n\r\n    @Component\r\n    public class PushMessage {\r\n    \r\n      @Autowired\r\n      SimpMessagingTemplate simpMessagingTemplate;\r\n    \r\n    \r\n      public &lt;T&gt; void invokeWebSocketEndpoint(String endpoint, T payload) {\r\n        this.simpMessagingTemplate.convertAndSend(endpoint, payload);\r\n      }\r\n    \r\n    }\r\n\r\nFor more info on STOMP websockets, check out this link\r\n[https://spring.io/guides/gs/messaging-stomp-websocket/][1]\r\n\r\n\r\nIf you do not want bi-directional communication between the client and the server and just want to push messages to client from the server you can also make use of Server sent events. Here&#39;s a simple example.\r\n\r\n      @GetMapping(value = &quot;/test&quot;)\r\n      public SseEmitter test() {\r\n        SseEmitter emitter = new SseEmitter();\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        executorService.execute(() -&gt; {\r\n          try {\r\n            Process p = Runtime.getRuntime().exec(&quot;ping -c 10 www.google.com&quot;);\r\n            try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()))) {\r\n              String line;\r\n              while ((line = bufferedReader.readLine()) != null) {\r\n                emitter.send(line);\r\n              }\r\n              emitter.complete();\r\n            }\r\n          } catch (IOException e) {\r\n            emitter.completeWithError(e);\r\n            e.printStackTrace();\r\n          }\r\n        });\r\n        executorService.shutdown();\r\n        return emitter;\r\n      }\r\n\r\nFor more information on Server sent events see this\r\n[https://www.baeldung.com/spring-server-sent-events][2]\r\n\r\n\r\nYou can consume server sent events from your frontend using the EventSource API\r\n[https://developer.mozilla.org/en-US/docs/Web/API/EventSource][3]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/messaging-stomp-websocket/\r\n  [2]: https://www.baeldung.com/spring-server-sent-events\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/API/EventSource","title":"How to send data from backend Springboot to client frontend without the use of a Controller?","body":"<p>You can use websockets to notify frontend without a controller. Here is the example code to send a message to the client from backend using STOMP at any time.</p>\n<pre><code>@Component\npublic class PushMessage {\n\n  @Autowired\n  SimpMessagingTemplate simpMessagingTemplate;\n\n\n  public &lt;T&gt; void invokeWebSocketEndpoint(String endpoint, T payload) {\n    this.simpMessagingTemplate.convertAndSend(endpoint, payload);\n  }\n\n}\n</code></pre>\n<p>For more info on STOMP websockets, check out this link\n<a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/messaging-stomp-websocket/</a></p>\n<p>If you do not want bi-directional communication between the client and the server and just want to push messages to client from the server you can also make use of Server sent events. Here's a simple example.</p>\n<pre><code>  @GetMapping(value = &quot;/test&quot;)\n  public SseEmitter test() {\n    SseEmitter emitter = new SseEmitter();\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\n    executorService.execute(() -&gt; {\n      try {\n        Process p = Runtime.getRuntime().exec(&quot;ping -c 10 www.google.com&quot;);\n        try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()))) {\n          String line;\n          while ((line = bufferedReader.readLine()) != null) {\n            emitter.send(line);\n          }\n          emitter.complete();\n        }\n      } catch (IOException e) {\n        emitter.completeWithError(e);\n        e.printStackTrace();\n      }\n    });\n    executorService.shutdown();\n    return emitter;\n  }\n</code></pre>\n<p>For more information on Server sent events see this\n<a href=\"https://www.baeldung.com/spring-server-sent-events\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-server-sent-events</a></p>\n<p>You can consume server sent events from your frontend using the EventSource API\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventSource\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/EventSource</a></p>\n"}],"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70615823,"answer_count":1,"score":1,"last_activity_date":1641525273,"creation_date":1641226240,"question_id":70568495,"body_markdown":"The overview of the project is this:\r\n\r\n 1. Upload file to Springboot server via an endpoint\r\n 2. The endpoint sends an `OK` response when the file is received, but continues to process the file in the background, running tests on the file.\r\n\r\nSo, since the endpoint of the controller has already returned a response, how can I send info from the backend to the frontend outside of using the Controller.\r\n\r\n**Here is what is running after the Controller returns the response:**\r\n\r\n```\r\n     CompletableFuture.runAsync(() -&gt; {\r\n            int count = 0;\r\n            boolean stillProcessing = true;\r\n            while (stillProcessing) {\r\n                stillProcessing = !test.isTestComplete();\r\n                if (test.getNumberOfInstancesComplete() &gt; count) {\r\n                    count = test.getNumberOfInstancesComplete();\r\n                    log.info(&quot;{}/{} instances completed so far&quot;, count, test.getInstances().size());\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nThe `log.info` line is what I need to return to the frontend React side of things. \r\n\r\nThe end goal is to basically have a loading bar shown to users using the values printed in `log.info()`.","title":"How to send data from backend Springboot to client frontend without the use of a Controller?","body":"<p>The overview of the project is this:</p>\n<ol>\n<li>Upload file to Springboot server via an endpoint</li>\n<li>The endpoint sends an <code>OK</code> response when the file is received, but continues to process the file in the background, running tests on the file.</li>\n</ol>\n<p>So, since the endpoint of the controller has already returned a response, how can I send info from the backend to the frontend outside of using the Controller.</p>\n<p><strong>Here is what is running after the Controller returns the response:</strong></p>\n<pre><code>     CompletableFuture.runAsync(() -&gt; {\n            int count = 0;\n            boolean stillProcessing = true;\n            while (stillProcessing) {\n                stillProcessing = !test.isTestComplete();\n                if (test.getNumberOfInstancesComplete() &gt; count) {\n                    count = test.getNumberOfInstancesComplete();\n                    log.info(&quot;{}/{} instances completed so far&quot;, count, test.getInstances().size());\n                }\n            }\n        });\n</code></pre>\n<p>The <code>log.info</code> line is what I need to return to the frontend React side of things.</p>\n<p>The end goal is to basically have a loading bar shown to users using the values printed in <code>log.info()</code>.</p>\n"},{"tags":["python","java","python-3.x","spring-boot","amazon-sqs"],"owner":{"account_id":23832518,"reputation":1,"user_id":17838617,"display_name":"SandZn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641525261,"creation_date":1641525261,"question_id":70616185,"body_markdown":"Seniors, first of all thank you\r\n\r\nAt present, I have a piece of python code running normally, but my main program is on Java. I hope to use Java to replace the piece of python mentioned above, but I have found a lot of official documents and it still has no effect.\r\n\r\nBelow is my python code\r\n~~~\r\nimport boto3\r\n\tsession = boto3.Session(\r\n\t\taws_access_key_id = accessID,\r\n\t\taws_secret_access_key = secretKey,\r\n\t\taws_session_token = sessionToken,\r\n\t\tregion_name = REGION\r\n\t)\r\n    while 1:\r\n        resp = sqs.receive_message(QueueUrl = endpoint, WaitTimeSeconds = 10)\r\n        resp[&#39;Messages&#39;]\r\n...\r\n~~~\r\nBelow is the Java code I tried\r\n~~~\r\npublic AmazonSQSAsync amazonSQSAsync() {\r\n\t\treturn AmazonSQSAsyncClientBuilder.standard().withRegion(Regions.US_EAST_1)\r\n\t\t\t\t.withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsAccessKey, awsSecretKey)))\r\n\t\t\t\t.build();\r\n\t}\r\n@GetMapping\r\npublic void sendMessage() {\r\n\tqueueMessagingTemplate.send(sqsEndPoint, MessageBuilder.withPayload(&quot;hello from Spring Boot&quot;).build());\r\n}\t\r\n@SqsListener(&quot;spring-boot-sqs&quot;)\r\npublic void getMessage(String message) {\r\n\tLOG.info(&quot;Message from SQS Queue - &quot;+message);\r\n}\r\n~~~\r\nThe following is the error I encountered when trying Java code\r\n~~~\r\nCaused by: com.amazonaws.services.sqs.model.AmazonSQSException: The security token included in the request is invalid (Service: AmazonSQS; Status Code: 403; Error Code: InvalidClientTokenId; Request ID: 0b4d3daa-df44-5057-8bb0-67fb6fa23ddc)\r\n~~~\r\n\r\nI sincerely hope that all the great gods will help me, thank you","title":"I want to simulate a boto3 library in python with java（jdk1.8）","body":"<p>Seniors, first of all thank you</p>\n<p>At present, I have a piece of python code running normally, but my main program is on Java. I hope to use Java to replace the piece of python mentioned above, but I have found a lot of official documents and it still has no effect.</p>\n<p>Below is my python code</p>\n<pre><code>import boto3\n    session = boto3.Session(\n        aws_access_key_id = accessID,\n        aws_secret_access_key = secretKey,\n        aws_session_token = sessionToken,\n        region_name = REGION\n    )\n    while 1:\n        resp = sqs.receive_message(QueueUrl = endpoint, WaitTimeSeconds = 10)\n        resp['Messages']\n...\n</code></pre>\n<p>Below is the Java code I tried</p>\n<pre><code>public AmazonSQSAsync amazonSQSAsync() {\n        return AmazonSQSAsyncClientBuilder.standard().withRegion(Regions.US_EAST_1)\n                .withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(awsAccessKey, awsSecretKey)))\n                .build();\n    }\n@GetMapping\npublic void sendMessage() {\n    queueMessagingTemplate.send(sqsEndPoint, MessageBuilder.withPayload(&quot;hello from Spring Boot&quot;).build());\n}   \n@SqsListener(&quot;spring-boot-sqs&quot;)\npublic void getMessage(String message) {\n    LOG.info(&quot;Message from SQS Queue - &quot;+message);\n}\n</code></pre>\n<p>The following is the error I encountered when trying Java code</p>\n<pre><code>Caused by: com.amazonaws.services.sqs.model.AmazonSQSException: The security token included in the request is invalid (Service: AmazonSQS; Status Code: 403; Error Code: InvalidClientTokenId; Request ID: 0b4d3daa-df44-5057-8bb0-67fb6fa23ddc)\n</code></pre>\n<p>I sincerely hope that all the great gods will help me, thank you</p>\n"},{"tags":["java","arrays","if-statement","while-loop"],"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1641526045,"post_id":70616127,"comment_id":124832573,"body_markdown":"what exactly is &quot;not working&quot;? Is there an exception? is the output wrong? Did you try debugging the code?","body":"what exactly is &quot;not working&quot;? Is there an exception? is the output wrong? Did you try debugging the code?"},{"owner":{"account_id":12295551,"reputation":61,"user_id":8971296,"accept_rate":0,"display_name":"dMd"},"score":0,"creation_date":1641526210,"post_id":70616127,"comment_id":124832605,"body_markdown":"Yeah, my implementation is not working for some reasons... It&#39;s not jumping to the next platform after stating the conditions","body":"Yeah, my implementation is not working for some reasons... It&#39;s not jumping to the next platform after stating the conditions"}],"owner":{"account_id":12295551,"reputation":61,"user_id":8971296,"accept_rate":0,"display_name":"dMd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641524626,"creation_date":1641524626,"question_id":70616127,"body_markdown":"Please I&#39;m trying to implement a game in Java with these rules... \r\nYou start the game from platform ‘0’ with 500 points.\r\n• You jump to platform ‘1’. It is the first jump to that platform, so you’re going to have to pay the cost.\r\nPoints: 500 - 200 = 300\r\n• You cannot jump to platform ‘2’ because it costs 400 points, but you only have 300. It is time to go\r\nback. You jump to platform ‘0’. Points: 300 + 100 = 400.\r\n• You jump to platform ‘1’. Points: 400 + 200 = 600\r\n• After taking a detour, you finally have enough points to jump to platform &#39;2&#39;, so you jump there.\r\nPoints: 600 - 400 = 200\r\n• You jump to platform ‘3’. Points: 200 - 100 = 100\r\n\r\nI have tried my implementation but it&#39;s not working..\r\n\r\nHere is my Game.java file\r\n```\r\npublic class Game {\r\n    public static void main(String[] args) {\r\n        Game game = new Game(&quot;platforms.csv&quot;);\r\n        game.run();\r\n\r\n\r\n    }\r\n\r\n    private Integer points = 500;\r\n    private Platform activePlatform;\r\n    private final String gameFile;\r\n\r\n    public Game(String gameFile) {\r\n        this.gameFile = gameFile;\r\n    }\r\n\r\n    public Platform findNextPlatform(Platform aPlatform) {\r\n        List&lt;Platform&gt; allPlatforms = readPlatforms();\r\n\r\n        if (points &gt; aPlatform.getCost() ){\r\n            points = points - aPlatform.getCost();\r\n            System.out.println(allPlatforms.get(i + 1));\r\n            aPlatform = allPlatforms.get(i + 1);\r\n            return aPlatform;\r\n\r\n        }\r\n        else {\r\n           aPlatform = allPlatforms.get(i-1);\r\n           points = points + aPlatform.getCost();\r\n           System.out.println(aPlatform);\r\n           return aPlatform;\r\n        }\r\n\r\n//        return aPlatform;\r\n    }\r\n    int i = 0;\r\n    public void run() {\r\n        List&lt;Platform&gt; platforms = readPlatforms();\r\n\r\n        // TODO: Implement your mighty algorithm and jump to oblivion.\r\n        activePlatform = platforms.get(0);\r\n\r\n        while (i &lt; platforms.size()){\r\n\r\n        Platform nextPlatform = findNextPlatform(activePlatform);\r\n        jumpTo(nextPlatform);\r\n\r\n        }\r\n```\r\n\r\nplatforms.csv\r\n```\r\nindex, cost\r\n0, 100\r\n1, 200\r\n2, 400\r\n3, 900\r\n4, 100\r\n```\r\n\r\n","title":"Error: Exception in thread &quot;main&quot; java.lang during Java Game implementation","body":"<p>Please I'm trying to implement a game in Java with these rules...\nYou start the game from platform ‘0’ with 500 points.\n• You jump to platform ‘1’. It is the first jump to that platform, so you’re going to have to pay the cost.\nPoints: 500 - 200 = 300\n• You cannot jump to platform ‘2’ because it costs 400 points, but you only have 300. It is time to go\nback. You jump to platform ‘0’. Points: 300 + 100 = 400.\n• You jump to platform ‘1’. Points: 400 + 200 = 600\n• After taking a detour, you finally have enough points to jump to platform '2', so you jump there.\nPoints: 600 - 400 = 200\n• You jump to platform ‘3’. Points: 200 - 100 = 100</p>\n<p>I have tried my implementation but it's not working..</p>\n<p>Here is my Game.java file</p>\n<pre><code>public class Game {\n    public static void main(String[] args) {\n        Game game = new Game(&quot;platforms.csv&quot;);\n        game.run();\n\n\n    }\n\n    private Integer points = 500;\n    private Platform activePlatform;\n    private final String gameFile;\n\n    public Game(String gameFile) {\n        this.gameFile = gameFile;\n    }\n\n    public Platform findNextPlatform(Platform aPlatform) {\n        List&lt;Platform&gt; allPlatforms = readPlatforms();\n\n        if (points &gt; aPlatform.getCost() ){\n            points = points - aPlatform.getCost();\n            System.out.println(allPlatforms.get(i + 1));\n            aPlatform = allPlatforms.get(i + 1);\n            return aPlatform;\n\n        }\n        else {\n           aPlatform = allPlatforms.get(i-1);\n           points = points + aPlatform.getCost();\n           System.out.println(aPlatform);\n           return aPlatform;\n        }\n\n//        return aPlatform;\n    }\n    int i = 0;\n    public void run() {\n        List&lt;Platform&gt; platforms = readPlatforms();\n\n        // TODO: Implement your mighty algorithm and jump to oblivion.\n        activePlatform = platforms.get(0);\n\n        while (i &lt; platforms.size()){\n\n        Platform nextPlatform = findNextPlatform(activePlatform);\n        jumpTo(nextPlatform);\n\n        }\n</code></pre>\n<p>platforms.csv</p>\n<pre><code>index, cost\n0, 100\n1, 200\n2, 400\n3, 900\n4, 100\n</code></pre>\n"},{"tags":["java","tomcat","logging","slf4j","catalina.out"],"owner":{"account_id":2905088,"reputation":369,"user_id":2490695,"accept_rate":67,"display_name":"maxi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641524458,"creation_date":1641508825,"question_id":70614482,"body_markdown":"I have a java web application (war file) that is hosted by a tomcat (9.0.45) inside Ubuntu (20.04.2 LTS) virtual server. Tomcat writes logs into file `/opt/tomcat/logs/catalina.out` where the application sends logs via logging facade slf4j (1.7.5) that uses slf4j-log4j12 (1.7.5). \r\n\r\nRecently I noticed that sometimes some of the servers stop writing logs at some point. I couldn&#39;t define any triggers for this, it just suddenly stops. The application keeps functioning the same way it only doesn&#39;t append any more logs. When I check the file descriptors by `sudo ls -l /proc/PID/fd` one of the lines I get back: \r\n```\r\nl-wx------ 1 tomcat tomcat 64 Jan  6 17:16 1 -&gt; /opt/tomcat/logs/catalina.out (deleted)\r\n```\r\nwhich assumes that the log file has been deleted. But in fact, it wasn&#39;t and when I restart the server, log file is there and tomcat keeps writing in it like nothing happened\r\n\r\nI know that there are lots variables in this issue, but I will appreciate if someone can just point the direction where I can start digging\r\n\r\nUPDATED\r\n\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;[%d{dd.MM.yyyy HH:mm:ss.SSS}] %-5level [%X{hash}] %logger{18} - %replace(%msg){&#39;\\n&#39;,\r\n                &#39;&#39;}%n%xEx{20}\r\n            &lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;","title":"Tomcat stops appending logs to catalina.out, the log file marked as deleted in /proc/PID/fd","body":"<p>I have a java web application (war file) that is hosted by a tomcat (9.0.45) inside Ubuntu (20.04.2 LTS) virtual server. Tomcat writes logs into file <code>/opt/tomcat/logs/catalina.out</code> where the application sends logs via logging facade slf4j (1.7.5) that uses slf4j-log4j12 (1.7.5).</p>\n<p>Recently I noticed that sometimes some of the servers stop writing logs at some point. I couldn't define any triggers for this, it just suddenly stops. The application keeps functioning the same way it only doesn't append any more logs. When I check the file descriptors by <code>sudo ls -l /proc/PID/fd</code> one of the lines I get back:</p>\n<pre><code>l-wx------ 1 tomcat tomcat 64 Jan  6 17:16 1 -&gt; /opt/tomcat/logs/catalina.out (deleted)\n</code></pre>\n<p>which assumes that the log file has been deleted. But in fact, it wasn't and when I restart the server, log file is there and tomcat keeps writing in it like nothing happened</p>\n<p>I know that there are lots variables in this issue, but I will appreciate if someone can just point the direction where I can start digging</p>\n<p>UPDATED</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\n\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;[%d{dd.MM.yyyy HH:mm:ss.SSS}] %-5level [%X{hash}] %logger{18} - %replace(%msg){'\\n',\n            ''}%n%xEx{20}\n        &lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n\n"},{"tags":["java","javafx","javafx-webengine"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1641523432,"post_id":70615363,"comment_id":124832130,"body_markdown":"I really wish that askers would not [delete old related posts](https://stackoverflow.com/questions/70604776/how-do-i-properly-load-youtube-com-with-the-javafx-webview). Instead, keep the posts there, and edit them to get them reopened if the become worthy.  Or, if you have new improved info like this case and prefer to ask a new question, then fine, ask a new question like you have done, highlight the new info like you have done, but link back to the prior question for reference and context, otherwise it is very confusing, repeats work for potential answerers and useful comments are lost.","body":"I really wish that askers would not <a href=\"https://stackoverflow.com/questions/70604776/how-do-i-properly-load-youtube-com-with-the-javafx-webview\">delete old related posts</a>. Instead, keep the posts there, and edit them to get them reopened if the become worthy.  Or, if you have new improved info like this case and prefer to ask a new question, then fine, ask a new question like you have done, highlight the new info like you have done, but link back to the prior question for reference and context, otherwise it is very confusing, repeats work for potential answerers and useful comments are lost."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641523665,"post_id":70615363,"comment_id":124832179,"body_markdown":"Edit your question, add *full* version info for your OS, jdk and JavaFX versions as well as the user agent string returned by WebView.","body":"Edit your question, add <i>full</i> version info for your OS, jdk and JavaFX versions as well as the user agent string returned by WebView."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641524219,"post_id":70615363,"comment_id":124832281,"body_markdown":"“I&#39;ve been searching for solutions to this for quite a while now” -&gt; if you located relevant info you should link to the info you found in the question.","body":"“I&#39;ve been searching for solutions to this for quite a while now” -&gt; if you located relevant info you should link to the info you found in the question."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641524297,"post_id":70615363,"comment_id":124832299,"body_markdown":"Can you play an embedded YouTube video and it is only loading the home page which does not work?","body":"Can you play an embedded YouTube video and it is only loading the home page which does not work?"},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1641524878,"post_id":70615363,"comment_id":124832393,"body_markdown":"It can play embedded youtube videos perfectly fine. Its the youtube home page which does not load. It seems to only load the videos and not the rest of the YouTube. For an example look here: [link](https://imgur.com/c3n4mwl)","body":"It can play embedded youtube videos perfectly fine. Its the youtube home page which does not load. It seems to only load the videos and not the rest of the YouTube. For an example look here: <a href=\"https://imgur.com/c3n4mwl\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1641525025,"post_id":70615363,"comment_id":124832420,"body_markdown":"It produces the same error when I load youtube urls such as [link](https://www.youtube.com/watch?v=JslxPjrMzqY)```Console: [null:0] The source list for Content Security Policy directive &#39;script-src&#39; contains an invalid source: &#39;&#39;report-sample&#39;&#39;. It will be ignored.\nConsole: [null:0] Refused to display &#39;https://accounts.google.com/ServiceLogin?service=youtube&amp;uilel=3&amp;passive=true&amp;continue=https%3A%2F%2Fwww.youtube.com%2Fsignin%3Faction_handle_signin%3Dtrue%26app%3Ddesktop%26hl%3Den%26next%3D%252Fsignin_passive%26feature%3Dpassive&amp;hl=en&#39; in a frame because it set &#39;X-Frame-Options&#39; to &#39;DENY&#39;.```","body":"It produces the same error when I load youtube urls such as <a href=\"https://www.youtube.com/watch?v=JslxPjrMzqY\" rel=\"nofollow noreferrer\">link</a><code>Console: [null:0] The source list for Content Security Policy directive &#39;script-src&#39; contains an invalid source: &#39;&#39;report-sample&#39;&#39;. It will be ignored. Console: [null:0] Refused to display &#39;https:&#47;&#47;accounts.google.com&#47;ServiceLogin?service=youtube&amp;ui&zwnj;&#8203;lel=3&amp;passive=true&amp;c&zwnj;&#8203;ontinue=https%3A%2F%&zwnj;&#8203;2Fwww.youtube.com%2F&zwnj;&#8203;signin%3Faction_hand&zwnj;&#8203;le_signin%3Dtrue%26a&zwnj;&#8203;pp%3Ddesktop%26hl%3D&zwnj;&#8203;en%26next%3D%252Fsig&zwnj;&#8203;nin_passive%26featur&zwnj;&#8203;e%3Dpassive&amp;hl=en&#39; in a frame because it set &#39;X-Frame-Options&#39; to &#39;DENY&#39;.</code>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641525537,"post_id":70615363,"comment_id":124832498,"body_markdown":"Info on [require-trusted-types-for](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for), it is a relatively new browser feature not supported by all browsers. Probably it is not supported by whatever version of WebEngine you are using.  You should try the latest JavaFX early access release to see if it still gives the same message, if it does you can create an issue report for the openjfx project.","body":"Info on <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for\" rel=\"nofollow noreferrer\">require-trusted-types-for</a>, it is a relatively new browser feature not supported by all browsers. Probably it is not supported by whatever version of WebEngine you are using.  You should try the latest JavaFX early access release to see if it still gives the same message, if it does you can create an issue report for the openjfx project."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641525625,"post_id":70615363,"comment_id":124832509,"body_markdown":"Don’t put error messages in comments, they aren’t readable, instead edit the question, if responding to a comment, you can quote the comment in your edit.","body":"Don’t put error messages in comments, they aren’t readable, instead edit the question, if responding to a comment, you can quote the comment in your edit."},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1641525853,"post_id":70615363,"comment_id":124832547,"body_markdown":"Okay sorry, I will make sure to do that next time!","body":"Okay sorry, I will make sure to do that next time!"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641526102,"post_id":70615363,"comment_id":124832584,"body_markdown":"See this info on [embed vs watch urls](https://stackoverflow.com/questions/9934944/embedding-youtube-video-refused-to-display-document-because-display-forbidden-b) in reference to `&#39;X-Frame-Options&#39; to &#39;DENY&#39;`. Not related to home page display but related to your comment with the watch link.","body":"See this info on <a href=\"https://stackoverflow.com/questions/9934944/embedding-youtube-video-refused-to-display-document-because-display-forbidden-b\">embed vs watch urls</a> in reference to <code>&#39;X-Frame-Options&#39; to &#39;DENY&#39;</code>. Not related to home page display but related to your comment with the watch link."},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1641526842,"post_id":70615363,"comment_id":124832703,"body_markdown":"Okay I will check out the link, thank you!","body":"Okay I will check out the link, thank you!"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641549348,"post_id":70615363,"comment_id":124837883,"body_markdown":"FWIW, I tried this on Windows 11 + JDK 17 + JavaFX 17.0.1 &amp; 18-ea+9 and the issue replicated.  I also got an additional error in the console `RangeError: Maximum call stack size exceeded.` as well as a log about preloading failed.  The preloading failed log I get if I access the page in MS Edge (which loads youtube fine), so can be ignored.  What is causing the failed display I cannot say, could be the CSP error, but my guess is it is due to the RangeError and whatever is causing that.","body":"FWIW, I tried this on Windows 11 + JDK 17 + JavaFX 17.0.1 &amp; 18-ea+9 and the issue replicated.  I also got an additional error in the console <code>RangeError: Maximum call stack size exceeded.</code> as well as a log about preloading failed.  The preloading failed log I get if I access the page in MS Edge (which loads youtube fine), so can be ignored.  What is causing the failed display I cannot say, could be the CSP error, but my guess is it is due to the RangeError and whatever is causing that."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641549499,"post_id":70615363,"comment_id":124837937,"body_markdown":"Perhaps you could track down the issue further using a [webview debugger](https://github.com/vsch/Javafx-WebView-Debugger), though that would be difficult I believe.  My advice, unless you are very skilled and dedicated, is to give up on the idea of displaying the youtube home page in WebView and try a different approach.  Also log a [bug report about it](https://wiki.openjdk.java.net/display/OpenJFX/Submitting+a+Bug+Report) in case the JavaFX devs want to fix it.","body":"Perhaps you could track down the issue further using a <a href=\"https://github.com/vsch/Javafx-WebView-Debugger\" rel=\"nofollow noreferrer\">webview debugger</a>, though that would be difficult I believe.  My advice, unless you are very skilled and dedicated, is to give up on the idea of displaying the youtube home page in WebView and try a different approach.  Also log a <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Submitting+a+Bug+Report\" rel=\"nofollow noreferrer\">bug report about it</a> in case the JavaFX devs want to fix it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641549595,"post_id":70615363,"comment_id":124837975,"body_markdown":"Also note WebView in 17.0.1 and 18ea was [updated reasonably recently](https://bugs.openjdk.java.net/browse/JDK-8268849), so I don&#39;t think the issues are around the WebView being out of date but are instead due to some other set of causes.","body":"Also note WebView in 17.0.1 and 18ea was <a href=\"https://bugs.openjdk.java.net/browse/JDK-8268849\" rel=\"nofollow noreferrer\">updated reasonably recently</a>, so I don&#39;t think the issues are around the WebView being out of date but are instead due to some other set of causes."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641549794,"post_id":70615363,"comment_id":124838046,"body_markdown":"If anybody else wants to spend time on this, ***be careful***, `com.sun.javafx.webkit.WebConsoleListener` is not public API, so getting it to work in a modular environment in something like Idea is a pain (you need to export the com.sun.javafx.webkit package to your module in to both the compile settings as well as the VM runtime options in order for it to work at all.","body":"If anybody else wants to spend time on this, <b><i>be careful</i></b>, <code>com.sun.javafx.webkit.WebConsoleListener</code> is not public API, so getting it to work in a modular environment in something like Idea is a pain (you need to export the com.sun.javafx.webkit package to your module in to both the compile settings as well as the VM runtime options in order for it to work at all."},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1641587033,"post_id":70615363,"comment_id":124852021,"body_markdown":"Okay, thank you!","body":"Okay, thank you!"}],"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641524436,"creation_date":1641516831,"question_id":70615363,"body_markdown":"Basically I want my javafx WebEngine to display the youtube homepage. My code to start up the browser is shown below.\r\n```\r\n        browserWebView.getEngine().setJavaScriptEnabled(true);\r\n        WebConsoleListener.setDefaultListener(new WebConsoleListener() {\r\n            @Override\r\n            public void messageAdded(WebView webView, String message, int lineNumber, String sourceId) {\r\n                System.out.println(&quot;Console: [&quot; + sourceId + &quot;:&quot; + lineNumber + &quot;] &quot; + message);\r\n            }\r\n        });\r\n        browserWebView.getEngine().load(&quot;https://www.youtube.com/&quot;);\r\n```\r\nWhat I end up with is a youtube homepage which looks like this [unloadedYoutubeHomePage][1]\r\n\r\nThe WebConsoleListener is a debugger which helps me find out why the youtube homepage isn&#39;t loading and it returned this.\r\n```\r\nConsole: [null:0] Unrecognized Content-Security-Policy directive &#39;require-trusted-types-for&#39;.\r\n\r\nConsole: [null:0] Refused to display &#39;https://accounts.google.com/ServiceLogin?service=youtube&amp;uilel=3&amp;passive=true&amp;continue=https%3A%2F%2Fwww.youtube.com%2Fsignin%3Faction_handle_signin%3Dtrue%26app%3Ddesktop%26hl%3Den%26next%3D%252Fsignin_passive%26feature%3Dpassive&amp;hl=en&#39; in a frame because it set &#39;X-Frame-Options&#39; to &#39;DENY&#39;.\r\n```\r\nI&#39;ve been searching for solutions to this for quite a while now and it would be great if someone could help me out with my problem. Also, using embedded YouTube video URLs really isn&#39;t a solution for me as I would like to load the YouTube homepage itself, not the videos it displays.\r\nAdditional info: \r\nSystem type: 64-bit operating system, x64-based processor\r\nJava platform: Jdk 11\r\nUsing javafx version: javafx-sdk-17.0.1\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iBJNP.png","title":"What Javafx WebEngine settings can I change to allow google to let me load the YouTube homepage?","body":"<p>Basically I want my javafx WebEngine to display the youtube homepage. My code to start up the browser is shown below.</p>\n<pre><code>        browserWebView.getEngine().setJavaScriptEnabled(true);\n        WebConsoleListener.setDefaultListener(new WebConsoleListener() {\n            @Override\n            public void messageAdded(WebView webView, String message, int lineNumber, String sourceId) {\n                System.out.println(&quot;Console: [&quot; + sourceId + &quot;:&quot; + lineNumber + &quot;] &quot; + message);\n            }\n        });\n        browserWebView.getEngine().load(&quot;https://www.youtube.com/&quot;);\n</code></pre>\n<p>What I end up with is a youtube homepage which looks like this <a href=\"https://i.stack.imgur.com/iBJNP.png\" rel=\"nofollow noreferrer\">unloadedYoutubeHomePage</a></p>\n<p>The WebConsoleListener is a debugger which helps me find out why the youtube homepage isn't loading and it returned this.</p>\n<pre><code>Console: [null:0] Unrecognized Content-Security-Policy directive 'require-trusted-types-for'.\n\nConsole: [null:0] Refused to display 'https://accounts.google.com/ServiceLogin?service=youtube&amp;uilel=3&amp;passive=true&amp;continue=https%3A%2F%2Fwww.youtube.com%2Fsignin%3Faction_handle_signin%3Dtrue%26app%3Ddesktop%26hl%3Den%26next%3D%252Fsignin_passive%26feature%3Dpassive&amp;hl=en' in a frame because it set 'X-Frame-Options' to 'DENY'.\n</code></pre>\n<p>I've been searching for solutions to this for quite a while now and it would be great if someone could help me out with my problem. Also, using embedded YouTube video URLs really isn't a solution for me as I would like to load the YouTube homepage itself, not the videos it displays.\nAdditional info:\nSystem type: 64-bit operating system, x64-based processor\nJava platform: Jdk 11\nUsing javafx version: javafx-sdk-17.0.1</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641524179,"creation_date":1641254379,"answer_id":70572715,"question_id":70572512,"body_markdown":"You can&#39;t create a generic array in Java. Arrays are reifiable types, and carry their type information at runtime whereas generics are non reifiable, and their type information is erased after the compile time due to erasure. This is due to the implementation of the type system in java and even though this causes some rough edges and corner cases, it eases the evolution of code into generics. Since generic type information is erased, you don&#39;t have them at runtime and that&#39;s why you can&#39;t create a generic array in java.\r\n\r\nThere are two solutions to circumvent the issue you are facing. You can either create an Object array and cast it to the generic type you need. \r\n\r\n    final T[] arr = (T[]) new Object[n]\r\n\r\nor else\r\n\r\n    final Object[] arr = new Object[]\r\n\r\nYou can do the cast when you get the items from this array like this\r\n\r\n    T itm = (T) arr[1];\r\n\r\n\r\nBoth of the above approaches work if you don&#39;t return this internal array.\r\n\r\nHowever, if you are returning the internal array, you need to create it reflectively, since you need to maintain the proper reifiable type.\r\n\r\n    static &lt;T&gt; T[] createArr(Class&lt;T&gt; clz) {\r\n    \treturn (T[]) Array.newInstance(clz, 5);\r\n    }","title":"Why can&#39;t I create generic array in Java?","body":"<p>You can't create a generic array in Java. Arrays are reifiable types, and carry their type information at runtime whereas generics are non reifiable, and their type information is erased after the compile time due to erasure. This is due to the implementation of the type system in java and even though this causes some rough edges and corner cases, it eases the evolution of code into generics. Since generic type information is erased, you don't have them at runtime and that's why you can't create a generic array in java.</p>\n<p>There are two solutions to circumvent the issue you are facing. You can either create an Object array and cast it to the generic type you need.</p>\n<pre><code>final T[] arr = (T[]) new Object[n]\n</code></pre>\n<p>or else</p>\n<pre><code>final Object[] arr = new Object[]\n</code></pre>\n<p>You can do the cast when you get the items from this array like this</p>\n<pre><code>T itm = (T) arr[1];\n</code></pre>\n<p>Both of the above approaches work if you don't return this internal array.</p>\n<p>However, if you are returning the internal array, you need to create it reflectively, since you need to maintain the proper reifiable type.</p>\n<pre><code>static &lt;T&gt; T[] createArr(Class&lt;T&gt; clz) {\n    return (T[]) Array.newInstance(clz, 5);\n}\n</code></pre>\n"}],"owner":{"account_id":22697623,"reputation":23,"user_id":16865504,"display_name":"hwanguemyang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70572715,"answer_count":1,"score":2,"last_activity_date":1641524179,"creation_date":1641252384,"question_id":70572512,"body_markdown":"I had a problem creating some arrays.\r\n\r\nHere is the code\r\n\r\n``` lang-java\r\nPredicate&lt;Integer[]&gt;[] endOfLine = {\r\n    curPoint -&gt; curPoint[0]==r2,\r\n    curPoint -&gt; curPoint[0]==c2,\r\n    curPoint -&gt; curPoint[0]==r1,\r\n    curPoint -&gt; curPoint[0]==c1\r\n};\r\nConsumer&lt;Integer[]&gt;[] move = {\r\n    curPoint -&gt; { curPoint[0]++; },\r\n    curPoint -&gt; { curPoint[1]++; },\r\n    curPoint -&gt; { curPoint[0]--; },\r\n    curPoint -&gt; { curPoint[1]--; }            \r\n};\r\n```\r\n\r\nand eclipse (maybe compiler?) said:\r\n```none\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tCannot create a generic array of Predicate&lt;Integer[]&gt;\r\n```\r\n\r\nI Googled, and found that generic type parameter array can&#39;t be made in Java.\r\n\r\nI read about compile time and runtime, and I thought it may be not my problem. \r\n\r\nI saw some code which compile compiled:\r\n\r\n``` lang-java\r\nList&lt;Integer&gt;[] arrayOfLists = new ArrayList[2];\r\nArrayList&lt;Integer[]&gt; lists =new ArrayList&lt;&gt;();\r\nArrayList&lt;Consumer []&gt; [] lists = new ArrayList[5];\r\n\t\t\r\nPredicate&lt;Integer[]&gt;[] p = new Predicate[5];\r\np[0] = a -&gt; a[0] == 0;\r\n\r\nPredicate&lt;Integer[]&gt;[] pp = { a -&gt; a[0] == 0 }; //cant be compile\r\n```\r\n\r\nand I read oracle doc and found this:\r\n\r\n&gt;&quot;Cannot Create Arrays of Parameterized Types&quot;\r\n\r\nI concluded my shortcut syntax, {} is the problem. Shortcut syntax create code with parameterized type. Is this correct?","title":"Why can&#39;t I create generic array in Java?","body":"<p>I had a problem creating some arrays.</p>\n<p>Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;Integer[]&gt;[] endOfLine = {\n    curPoint -&gt; curPoint[0]==r2,\n    curPoint -&gt; curPoint[0]==c2,\n    curPoint -&gt; curPoint[0]==r1,\n    curPoint -&gt; curPoint[0]==c1\n};\nConsumer&lt;Integer[]&gt;[] move = {\n    curPoint -&gt; { curPoint[0]++; },\n    curPoint -&gt; { curPoint[1]++; },\n    curPoint -&gt; { curPoint[0]--; },\n    curPoint -&gt; { curPoint[1]--; }            \n};\n</code></pre>\n<p>and eclipse (maybe compiler?) said:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    Cannot create a generic array of Predicate&lt;Integer[]&gt;\n</code></pre>\n<p>I Googled, and found that generic type parameter array can't be made in Java.</p>\n<p>I read about compile time and runtime, and I thought it may be not my problem.</p>\n<p>I saw some code which compile compiled:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt;[] arrayOfLists = new ArrayList[2];\nArrayList&lt;Integer[]&gt; lists =new ArrayList&lt;&gt;();\nArrayList&lt;Consumer []&gt; [] lists = new ArrayList[5];\n        \nPredicate&lt;Integer[]&gt;[] p = new Predicate[5];\np[0] = a -&gt; a[0] == 0;\n\nPredicate&lt;Integer[]&gt;[] pp = { a -&gt; a[0] == 0 }; //cant be compile\n</code></pre>\n<p>and I read oracle doc and found this:</p>\n<blockquote>\n<p>&quot;Cannot Create Arrays of Parameterized Types&quot;</p>\n</blockquote>\n<p>I concluded my shortcut syntax, {} is the problem. Shortcut syntax create code with parameterized type. Is this correct?</p>\n"},{"tags":["java","increment"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1641522512,"creation_date":1641522512,"answer_id":70615932,"question_id":70615885,"body_markdown":"You just need to know 3 things and use logic to put it together:\r\n\r\n1. `x++` means: &quot;Increment x, but the expression&#39;s value is what x was before you increment&quot;.\r\n2. `++x` means: &quot;Increment x, and the expression&#39;s value is what x is _after_ you increment&quot;.\r\n3. Things resolve left to right for the `==` operator. So, java &#39;resolves&#39; the thing on the left, then the thing on the right, then does the calculation.\r\n\r\nThus, given: `++x==x++`, and let&#39;s say `x` starts out as 107. Let&#39;s break it down:\r\n\r\n1. First, resolve the left side, which is `++x`. To do that, increment (`x` is now 108), then resolve the expression as the  value _after_ increment. So, the left hand side is `108`.\r\n2. Next resolve right side, which is `x++`. To do that, increment (`x` is now 109), then resolve the expression as the value _before_ increment. So, the right hand side is `108`.\r\n3. Now do the operation. `108 == 108`. That&#39;s `true`, so the if &#39;passes&#39;, and the result is printed. Given that `x` is now 109, it would print &quot;++x==x++ : 109&quot;.\r\n\r\nWhich is exactly what it does.\r\n","title":"How increment and decrement with if condition","body":"<p>You just need to know 3 things and use logic to put it together:</p>\n<ol>\n<li><code>x++</code> means: &quot;Increment x, but the expression's value is what x was before you increment&quot;.</li>\n<li><code>++x</code> means: &quot;Increment x, and the expression's value is what x is <em>after</em> you increment&quot;.</li>\n<li>Things resolve left to right for the <code>==</code> operator. So, java 'resolves' the thing on the left, then the thing on the right, then does the calculation.</li>\n</ol>\n<p>Thus, given: <code>++x==x++</code>, and let's say <code>x</code> starts out as 107. Let's break it down:</p>\n<ol>\n<li>First, resolve the left side, which is <code>++x</code>. To do that, increment (<code>x</code> is now 108), then resolve the expression as the  value <em>after</em> increment. So, the left hand side is <code>108</code>.</li>\n<li>Next resolve right side, which is <code>x++</code>. To do that, increment (<code>x</code> is now 109), then resolve the expression as the value <em>before</em> increment. So, the right hand side is <code>108</code>.</li>\n<li>Now do the operation. <code>108 == 108</code>. That's <code>true</code>, so the if 'passes', and the result is printed. Given that <code>x</code> is now 109, it would print &quot;++x==x++ : 109&quot;.</li>\n</ol>\n<p>Which is exactly what it does.</p>\n"},{"tags":[],"owner":{"account_id":23808129,"reputation":924,"user_id":17817329,"display_name":"robni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641523766,"creation_date":1641522690,"answer_id":70615943,"question_id":70615885,"body_markdown":"`++x` is pre-increment\r\n`x++` is post-increment\r\n\r\nEven if your condition gets a false, the incrementing will be done.","title":"How increment and decrement with if condition","body":"<p><code>++x</code> is pre-increment\n<code>x++</code> is post-increment</p>\n<p>Even if your condition gets a false, the incrementing will be done.</p>\n"}],"owner":{"account_id":20937832,"reputation":136,"user_id":15382640,"display_name":"Madhura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70615932,"answer_count":2,"score":2,"last_activity_date":1641523766,"creation_date":1641522063,"question_id":70615885,"body_markdown":"I have this code:\r\n\r\n    class Example {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tint x = 99;\r\n\r\n    \t\tif (x++ == x) {\r\n      \t\t    System.out.println(&quot;x++==x : &quot; + x);\r\n    \t\t}\r\n\r\n    \t\tif (++x == x ) {\r\n    \t\t    System.out.println(&quot;++x==x : &quot; + x); // ++x == x : 101\r\n    \t\t}\r\n\r\n    \t\tif (x == x++) {\r\n    \t\t    System.out.println(&quot;x==x++ : &quot; + x); //x==x++ : 102\r\n    \t\t}\r\n\r\n    \t\tif (x == ++x) {\r\n    \t\t    System.out.println(&quot;x==++x : &quot; + x);\r\n    \t\t}\r\n\r\n    \t\tif (++x == ++x) {\r\n    \t\t    System.out.println(&quot;++x==++x : &quot; + x);\r\n    \t\t}\r\n\r\n    \t\tif (x++ == x++) {\r\n    \t\t    System.out.println(&quot;x++==x++ : &quot; + x);\r\n    \t\t}\r\n\r\n    \t\tif (++x == x++) {\r\n    \t\t    System.out.println(&quot;++x==x++ : &quot; + x); // ++x==x++ : 109\r\n    \t\t}\t\t\t\r\n    \t}\r\n    }\r\n\r\nand this is the output --&gt;\r\n\r\n\r\n\r\n    ++x==x : 101\r\n    x==x++ : 102\r\n    ++x==x++ : 109\r\n\r\nI want to figure out how the java compiler handles this code. I could figure out how it came up with this part of the output:\r\n\r\n    ++x==x : 101\r\n    x==x++ : 102\r\n\r\nBut I couldn&#39;t with this part of the output:\r\n\r\n    ++x==x++ : 109\r\n\r\nHow does this code work? And most importantly how does the last output work?","title":"How increment and decrement with if condition","body":"<p>I have this code:</p>\n<pre><code>class Example {\n    public static void main(String args[]) {\n        int x = 99;\n\n        if (x++ == x) {\n            System.out.println(&quot;x++==x : &quot; + x);\n        }\n\n        if (++x == x ) {\n            System.out.println(&quot;++x==x : &quot; + x); // ++x == x : 101\n        }\n\n        if (x == x++) {\n            System.out.println(&quot;x==x++ : &quot; + x); //x==x++ : 102\n        }\n\n        if (x == ++x) {\n            System.out.println(&quot;x==++x : &quot; + x);\n        }\n\n        if (++x == ++x) {\n            System.out.println(&quot;++x==++x : &quot; + x);\n        }\n\n        if (x++ == x++) {\n            System.out.println(&quot;x++==x++ : &quot; + x);\n        }\n\n        if (++x == x++) {\n            System.out.println(&quot;++x==x++ : &quot; + x); // ++x==x++ : 109\n        }           \n    }\n}\n</code></pre>\n<p>and this is the output --&gt;</p>\n<pre><code>++x==x : 101\nx==x++ : 102\n++x==x++ : 109\n</code></pre>\n<p>I want to figure out how the java compiler handles this code. I could figure out how it came up with this part of the output:</p>\n<pre><code>++x==x : 101\nx==x++ : 102\n</code></pre>\n<p>But I couldn't with this part of the output:</p>\n<pre><code>++x==x++ : 109\n</code></pre>\n<p>How does this code work? And most importantly how does the last output work?</p>\n"},{"tags":["java"],"owner":{"account_id":23854260,"reputation":1,"user_id":17857896,"display_name":"qddwqd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641523633,"answer_count":0,"score":-1,"last_activity_date":1641523573,"creation_date":1641523573,"question_id":70616018,"body_markdown":"normally when I implement a interface, I have to implement all methods from the interface, when I dont want a compiler error, what is when I have a abstract class? Must I implement also the methods form the interface?","title":"When a abstract class implements a interface, do I have to implements the methods from the interface? (Java)","body":"<p>normally when I implement a interface, I have to implement all methods from the interface, when I dont want a compiler error, what is when I have a abstract class? Must I implement also the methods form the interface?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":20033488,"reputation":13,"user_id":14685750,"display_name":"alanLoveCode"},"score":0,"creation_date":1641523323,"post_id":70615955,"comment_id":124832112,"body_markdown":"by the way, when it was throwing exceptions, that is, in the org package, IDEA can show me all components in the current packages and sub packages it should have scanned.","body":"by the way, when it was throwing exceptions, that is, in the org package, IDEA can show me all components in the current packages and sub packages it should have scanned."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1641529566,"post_id":70615955,"comment_id":124833074,"body_markdown":"Because you want to limit the scanning to *your* application. There&#39;s a plethora of classes in `org.*`, and you&#39;re not going to want to scan all of them (that&#39;ll bound to result in all kinds of errors).","body":"Because you want to limit the scanning to <i>your</i> application. There&#39;s a plethora of classes in <code>org.*</code>, and you&#39;re not going to want to scan all of them (that&#39;ll bound to result in all kinds of errors)."},{"owner":{"account_id":14521658,"reputation":138,"user_id":10489165,"display_name":"japhy"},"score":1,"creation_date":1641550662,"post_id":70615955,"comment_id":124838318,"body_markdown":"I think it&#39;s a good habit to have more domains in your demo applications&#39; base package, something like &#39;com.name.project&#39;","body":"I think it&#39;s a good habit to have more domains in your demo applications&#39; base package, something like &#39;com.name.project&#39;"}],"owner":{"account_id":20033488,"reputation":13,"user_id":14685750,"display_name":"alanLoveCode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641522802,"creation_date":1641522802,"question_id":70615955,"body_markdown":"guys. I&#39;m new in spring and face an issue with @ComponentScan annotation. According to the [official spring API][1], it says @ComponentScan can scan the current package and all subpackages without argument and can scan the specified package and its subpakcages with arguement.\r\n\r\nHowever, when I was practicing by implementing my own mini-program, I found that @ComponentScan can only work with the nested package with or without argument.\r\n\r\nI created a project using maven as the build tool, and the structure is shown below.[![enter image description here][2]][2]\r\n\r\nand the AppConfig is [![enter image description here][3]][3]\r\nthe App will call Corolla and its marked as Component, I dont give @ComponentScan argument here. I think it should work but give me Exception\r\n\r\n&gt; WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.context.annotation.internalAsyncAnnotationProcessor&#39;\r\n\r\nThen I tried to give the argument to @ComponentScan to specify the package\r\n\r\n&gt; @ComponentScan(&quot;org&quot;)\r\n\r\nIt still didn&#39;t work, throwing same exception.\r\n\r\nThen I tried to move these three classess into inner package studyhard and change argument to org.studyhard\r\n[![enter image description here][4]][4]\r\n\r\nit worked as what I expected.\r\nThen I remove argument, it still worked.\r\n\r\nWhy does @ComponentScan only work when given nested packages such as &quot;org.studyhard&quot; rather than the single one &quot;org&quot;?\r\n\r\n  [1]: https://www.baeldung.com/spring-component-scanning\r\n  [2]: https://i.stack.imgur.com/LpRVB.png\r\n  [3]: https://i.stack.imgur.com/SOhlB.png\r\n  [4]: https://i.stack.imgur.com/1ap7F.png","title":"Why @ComponentScan requires nested packages to work","body":"<p>guys. I'm new in spring and face an issue with @ComponentScan annotation. According to the <a href=\"https://www.baeldung.com/spring-component-scanning\" rel=\"nofollow noreferrer\">official spring API</a>, it says @ComponentScan can scan the current package and all subpackages without argument and can scan the specified package and its subpakcages with arguement.</p>\n<p>However, when I was practicing by implementing my own mini-program, I found that @ComponentScan can only work with the nested package with or without argument.</p>\n<p>I created a project using maven as the build tool, and the structure is shown below.<a href=\"https://i.stack.imgur.com/LpRVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LpRVB.png\" alt=\"enter image description here\" /></a></p>\n<p>and the AppConfig is <a href=\"https://i.stack.imgur.com/SOhlB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SOhlB.png\" alt=\"enter image description here\" /></a>\nthe App will call Corolla and its marked as Component, I dont give @ComponentScan argument here. I think it should work but give me Exception</p>\n<blockquote>\n<p>WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.context.annotation.internalAsyncAnnotationProcessor'</p>\n</blockquote>\n<p>Then I tried to give the argument to @ComponentScan to specify the package</p>\n<blockquote>\n<p>@ComponentScan(&quot;org&quot;)</p>\n</blockquote>\n<p>It still didn't work, throwing same exception.</p>\n<p>Then I tried to move these three classess into inner package studyhard and change argument to org.studyhard\n<a href=\"https://i.stack.imgur.com/1ap7F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ap7F.png\" alt=\"enter image description here\" /></a></p>\n<p>it worked as what I expected.\nThen I remove argument, it still worked.</p>\n<p>Why does @ComponentScan only work when given nested packages such as &quot;org.studyhard&quot; rather than the single one &quot;org&quot;?</p>\n"},{"tags":["java","lua","aes","openresty"],"comments":[{"owner":{"account_id":2073637,"reputation":23437,"user_id":1847592,"accept_rate":80,"display_name":"Egor Skriptunoff"},"score":1,"creation_date":1640805401,"post_id":70523285,"comment_id":124664765,"body_markdown":"Replace `str_to_hex(encrypted_base64)` with `str_to_hex(encrypted)`","body":"Replace <code>str_to_hex(encrypted_base64)</code> with <code>str_to_hex(encrypted)</code>"},{"owner":{"account_id":23477086,"reputation":5,"user_id":17529749,"display_name":"yang37"},"score":0,"creation_date":1640828004,"post_id":70523285,"comment_id":124670207,"body_markdown":"Thank you for your advice. I have tried to do this before. Now I have revised the content of the question and converted it into hex using base64, but they are still inconsistent.","body":"Thank you for your advice. I have tried to do this before. Now I have revised the content of the question and converted it into hex using base64, but they are still inconsistent."}],"answers":[{"tags":[],"owner":{"account_id":23132943,"reputation":116,"user_id":17237579,"display_name":"Brynne Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641522245,"creation_date":1641521517,"answer_id":70615828,"question_id":70523285,"body_markdown":"First I want to tell you that what you did in Java is AES-256-CBC encryption with PKCS7 padding. The number 256 is the key length in bits, which means 32 bytes as you used in Java code. \r\n\r\n```lua\r\nlocal aes = require &quot;resty.aes&quot;\r\nlocal str = require &quot;resty.string&quot;\r\nlocal key = &#39;1938703285589872452&#39;\r\n\r\nlocal aes_java = aes:new(key .. string.rep(&#39;\\0&#39;, 32-#key), nil,\r\n  aes.cipher(256,&quot;cbc&quot;), { iv = &#39;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0&#39; })\r\nngx.say(str.to_hex(aes_java:encrypt(&#39;111111&#39;)))\r\n-- output: 740f0edd2f00a64cf2a42b9d5458f964\r\n```\r\n\r\nAs your key is shorter than required 32 bytes, we need to append zeros to get the real key used in AES-256-CBC encryption. One more thing, the iv vector has to be specified to achieve PKCS7 padding. In Java, I think `PaddedBufferedBlockCipher` generates the default iv vector for you, but for Lua, you have to pass the default iv vector to `aes:new`.","title":"The AES encryption results calculated by Lua and Java are inconsistent","body":"<p>First I want to tell you that what you did in Java is AES-256-CBC encryption with PKCS7 padding. The number 256 is the key length in bits, which means 32 bytes as you used in Java code.</p>\n<pre class=\"lang-lua prettyprint-override\"><code>local aes = require &quot;resty.aes&quot;\nlocal str = require &quot;resty.string&quot;\nlocal key = '1938703285589872452'\n\nlocal aes_java = aes:new(key .. string.rep('\\0', 32-#key), nil,\n  aes.cipher(256,&quot;cbc&quot;), { iv = '\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0' })\nngx.say(str.to_hex(aes_java:encrypt('111111')))\n-- output: 740f0edd2f00a64cf2a42b9d5458f964\n</code></pre>\n<p>As your key is shorter than required 32 bytes, we need to append zeros to get the real key used in AES-256-CBC encryption. One more thing, the iv vector has to be specified to achieve PKCS7 padding. In Java, I think <code>PaddedBufferedBlockCipher</code> generates the default iv vector for you, but for Lua, you have to pass the default iv vector to <code>aes:new</code>.</p>\n"}],"owner":{"account_id":23477086,"reputation":5,"user_id":17529749,"display_name":"yang37"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70615828,"answer_count":1,"score":0,"last_activity_date":1641522245,"creation_date":1640801360,"question_id":70523285,"body_markdown":"Background: java has a set of ready-made code, which needs to be migrated to lua now.\r\n\r\nWhen testing: the same key is used\r\n\r\n``` key = &quot;1938703285589872452&quot;; ```\r\n\r\n```data = &quot;111111&quot;;```\r\n\r\n1.java&#39;s encryption code\r\n\r\npom\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.55&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.55&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\ncode\r\n\r\n\r\n\r\n```java\r\nimport org.apache.commons.codec.binary.Base64;\r\nimport org.bouncycastle.crypto.engines.AESEngine;\r\nimport org.bouncycastle.crypto.modes.CBCBlockCipher;\r\nimport org.bouncycastle.crypto.paddings.PKCS7Padding;\r\nimport org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\r\nimport org.bouncycastle.crypto.params.KeyParameter;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\n// ... \r\n\r\n// 加密方法\r\n    public static String encryptWithBC(String data, String key) throws Exception {\r\n        // key\r\n        ByteBuffer keyBuffer = ByteBuffer.allocate(32);\r\n        keyBuffer.put(key.getBytes());\r\n        KeyParameter keyParameter = new KeyParameter(keyBuffer.array());\r\n        // 请求数据\r\n        byte[] dataByteArr = data.getBytes(StandardCharsets.UTF_8);\r\n\r\n        // init\r\n        CBCBlockCipher aes = new CBCBlockCipher(new AESEngine());\r\n        PaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(aes, new PKCS7Padding());\r\n        cipher.init(true, keyParameter);\r\n\r\n        byte[] output = new byte[cipher.getOutputSize(dataByteArr.length)];\r\n        int len = cipher.processBytes(dataByteArr, 0, dataByteArr.length, output, 0);\r\n        cipher.doFinal(output, len);\r\n\r\n        return Base64.encodeBase64String(output);\r\n    }\r\n```\r\n\r\n2.lua&#39;s encryption code\r\n\r\n\r\n```lua\r\n-- AES加密\r\nlocal aes = require &quot;resty.aes&quot;\r\n\r\n-- ...\r\n\r\n-- 加密方法\r\nfunction _M.encrypt_128_cbc_pkcs7(en_data, aes_key)\r\n    --local aes_256_cbc_with_padding = aes:new(key, nil, aes.cipher(256,&quot;cbc&quot;), {iv = string.sub(key, 1, 16)}, nil, nil, enable_padding)\r\n    local aes_128_cbc_pkcs7 = aes:new(aes_key, nil, aes.cipher(128, &quot;cbc&quot;), nil, nil, nil, &quot;PKCS7&quot;)\r\n    local encrypted = aes_128_cbc_pkcs7:encrypt(en_data)\r\n    -- 转base64\r\n    local encrypted_base64 = wkg_hex_utils.str_to_base64(encrypted)\r\n    local encrypted_hex = wkg_hex_utils.base64_to_hex(encrypted_base64)\r\n\r\n\r\n    wkg_log_utils.log(&quot;AES加密结果(BASE64): {}&quot;, encrypted_base64)\r\n    wkg_log_utils.log(&quot;AES加密结果(Hex): {}&quot;, encrypted_hex)\r\n    return encrypted_base64\r\nend\r\n```\r\n\r\n\r\nLua is a reference git:https://github.com/openresty/lua-resty-string\r\n\r\nI can only see the information of cbc and pkcs7Padding, but now the result values are completely wrong.\r\n\r\nResults of lua:\r\n```\r\n111111\r\nX32vI7ROqoK3hjQ9fvrOKg==\r\n5F7DAF23B44EAA82B786343D7EFACE2A\r\n```\r\n\r\nResults of java:\r\n```\r\n111111\r\ndA8O3S8ApkzypCudVFj5ZA==\r\n740F0EDD2F00A64CF2A42B9D5458F964\r\n```\r\nThe treatment of base64 in both languages is similar.\r\n\r\njava:\r\n```java\r\n    public static String base64ToHex(String base64Str) {\r\n        byte[] decode = Base64.decode(base64Str);\r\n        return byteArrToHex(decode).toUpperCase(Locale.ROOT);\r\n    }\r\n```\r\nlua:\r\n```lua\r\n    function wkg_hex_utils.base64_to_hex(base64_str)\r\n    local temp = ngx.decode_base64(base64_str)\r\n    wkg_log_utils.log(&quot;base64解码类型: {},值: {}&quot;, type(temp), temp)\r\n            return wkg_hex_utils.str_to_hex(temp)\r\n    end\r\n```\r\n\r\nThere is no direction. I hope you can give me some guidance. Thank you.\r\n\r\n------------------------------------------------------\r\nNow I&#39;m trying to convert the encrypted result into byteArr. They are like this.\r\n\r\njava:\r\n\r\n```java\r\n[116, 15, 14, -35, 47, 0, -90, 76, -14, -92, 43, -99, 84, 88, -7, 100]\r\n```\r\n\r\nlua:\r\n\r\n```lua\r\n[95, 125, 175, 35, 180, 78, 170, 130, 183, 134, 52, 61, 126, 250, 206, 42]\r\n```\r\n\r\n------------------------------------------------------\r\nCan someone help me answer it? thanks  \r\n\r\n  [1]: https://i.stack.imgur.com/hNsWf.png\r\n  [2]: https://i.stack.imgur.com/gvPPe.png\r\n\r\n\r\n","title":"The AES encryption results calculated by Lua and Java are inconsistent","body":"<p>Background: java has a set of ready-made code, which needs to be migrated to lua now.</p>\n<p>When testing: the same key is used</p>\n<p><code>key = &quot;1938703285589872452&quot;;</code></p>\n<p><code>data = &quot;111111&quot;;</code></p>\n<p>1.java's encryption code</p>\n<p>pom</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.55&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.55&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.codec.binary.Base64;\nimport org.bouncycastle.crypto.engines.AESEngine;\nimport org.bouncycastle.crypto.modes.CBCBlockCipher;\nimport org.bouncycastle.crypto.paddings.PKCS7Padding;\nimport org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\nimport org.bouncycastle.crypto.params.KeyParameter;\n\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\n\n// ... \n\n// 加密方法\n    public static String encryptWithBC(String data, String key) throws Exception {\n        // key\n        ByteBuffer keyBuffer = ByteBuffer.allocate(32);\n        keyBuffer.put(key.getBytes());\n        KeyParameter keyParameter = new KeyParameter(keyBuffer.array());\n        // 请求数据\n        byte[] dataByteArr = data.getBytes(StandardCharsets.UTF_8);\n\n        // init\n        CBCBlockCipher aes = new CBCBlockCipher(new AESEngine());\n        PaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(aes, new PKCS7Padding());\n        cipher.init(true, keyParameter);\n\n        byte[] output = new byte[cipher.getOutputSize(dataByteArr.length)];\n        int len = cipher.processBytes(dataByteArr, 0, dataByteArr.length, output, 0);\n        cipher.doFinal(output, len);\n\n        return Base64.encodeBase64String(output);\n    }\n</code></pre>\n<p>2.lua's encryption code</p>\n<pre class=\"lang-lua prettyprint-override\"><code>-- AES加密\nlocal aes = require &quot;resty.aes&quot;\n\n-- ...\n\n-- 加密方法\nfunction _M.encrypt_128_cbc_pkcs7(en_data, aes_key)\n    --local aes_256_cbc_with_padding = aes:new(key, nil, aes.cipher(256,&quot;cbc&quot;), {iv = string.sub(key, 1, 16)}, nil, nil, enable_padding)\n    local aes_128_cbc_pkcs7 = aes:new(aes_key, nil, aes.cipher(128, &quot;cbc&quot;), nil, nil, nil, &quot;PKCS7&quot;)\n    local encrypted = aes_128_cbc_pkcs7:encrypt(en_data)\n    -- 转base64\n    local encrypted_base64 = wkg_hex_utils.str_to_base64(encrypted)\n    local encrypted_hex = wkg_hex_utils.base64_to_hex(encrypted_base64)\n\n\n    wkg_log_utils.log(&quot;AES加密结果(BASE64): {}&quot;, encrypted_base64)\n    wkg_log_utils.log(&quot;AES加密结果(Hex): {}&quot;, encrypted_hex)\n    return encrypted_base64\nend\n</code></pre>\n<p>Lua is a reference git:<a href=\"https://github.com/openresty/lua-resty-string\" rel=\"nofollow noreferrer\">https://github.com/openresty/lua-resty-string</a></p>\n<p>I can only see the information of cbc and pkcs7Padding, but now the result values are completely wrong.</p>\n<p>Results of lua:</p>\n<pre><code>111111\nX32vI7ROqoK3hjQ9fvrOKg==\n5F7DAF23B44EAA82B786343D7EFACE2A\n</code></pre>\n<p>Results of java:</p>\n<pre><code>111111\ndA8O3S8ApkzypCudVFj5ZA==\n740F0EDD2F00A64CF2A42B9D5458F964\n</code></pre>\n<p>The treatment of base64 in both languages is similar.</p>\n<p>java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String base64ToHex(String base64Str) {\n        byte[] decode = Base64.decode(base64Str);\n        return byteArrToHex(decode).toUpperCase(Locale.ROOT);\n    }\n</code></pre>\n<p>lua:</p>\n<pre class=\"lang-lua prettyprint-override\"><code>    function wkg_hex_utils.base64_to_hex(base64_str)\n    local temp = ngx.decode_base64(base64_str)\n    wkg_log_utils.log(&quot;base64解码类型: {},值: {}&quot;, type(temp), temp)\n            return wkg_hex_utils.str_to_hex(temp)\n    end\n</code></pre>\n<p>There is no direction. I hope you can give me some guidance. Thank you.</p>\n<hr />\n<p>Now I'm trying to convert the encrypted result into byteArr. They are like this.</p>\n<p>java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[116, 15, 14, -35, 47, 0, -90, 76, -14, -92, 43, -99, 84, 88, -7, 100]\n</code></pre>\n<p>lua:</p>\n<pre class=\"lang-lua prettyprint-override\"><code>[95, 125, 175, 35, 180, 78, 170, 130, 183, 134, 52, 61, 126, 250, 206, 42]\n</code></pre>\n<hr />\n<p>Can someone help me answer it? thanks</p>\n"},{"tags":["java","hibernate","jakarta-ee","ejb","postgresql-8.4"],"answers":[{"tags":[],"owner":{"account_id":904738,"reputation":617065,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641522196,"creation_date":1366766926,"answer_id":16181882,"question_id":16168974,"body_markdown":"&lt;!-- language-all: lang-sql --&gt;\r\n\r\nYou are running the rather dated Postgres 8.4. Default setting for [**`standard_conforming_strings`**][1] in this version is `off`.\r\n\r\nWhat does this give you?\r\n\r\n    SHOW standard_conforming_strings;\r\n\r\nIf you get `off`, backslashes in strings are treated as escape characters. It&#39;s not clear to me from the question what&#39;s supposed to be an escape character and what should be a literal backslash. Sanitize your strings accordingly.\r\n\r\nDouble up literal backslashes and prepend the string with `E` so they keep working after the switch. Or switch to `on`. Be sure to read about the consequences first.\r\n\r\nAlso check if any of your software layers treat `\\` as escape character as well. You might have to double up again. If in doubt, log statements with [`log_statement = on`][2] in your database log ans check what Postgres actually gets.\r\n\r\nUpgrade to a current version of Postgres.\r\n\r\n---\r\n\r\nAsides:\r\n\r\nIn Postgres, an expression like:\r\n\r\n    fts(...) = true\r\n\r\n... in the `WHERE` clause can be simplified to just:\r\n\r\n    fts(...)\r\n\r\n[Identifiers are cast to lower case][3] if not double-quoted. Therefore:\r\n\r\n    from Object object\r\n\r\n... is effectively just a noisy way of saying:\r\n\r\n    from object\r\n\r\nSee:\r\n\r\n- https://stackoverflow.com/questions/20878932/are-postgresql-column-names-case-sensitive/20880247#20880247\r\n\r\n  [1]: https://www.postgresql.org/docs/current/runtime-config-compatible.html#GUC-STANDARD-CONFORMING-STRINGS\r\n  [2]: https://www.postgresql.org/docs/current/runtime-config-logging.html#GUC-LOG-STATEMENT\r\n  [3]: https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS","title":"Full text search exception with special characters in PostgreSQL","body":"\n<p>You are running the rather dated Postgres 8.4. Default setting for <a href=\"https://www.postgresql.org/docs/current/runtime-config-compatible.html#GUC-STANDARD-CONFORMING-STRINGS\" rel=\"nofollow noreferrer\"><strong><code>standard_conforming_strings</code></strong></a> in this version is <code>off</code>.</p>\n<p>What does this give you?</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SHOW standard_conforming_strings;\n</code></pre>\n<p>If you get <code>off</code>, backslashes in strings are treated as escape characters. It's not clear to me from the question what's supposed to be an escape character and what should be a literal backslash. Sanitize your strings accordingly.</p>\n<p>Double up literal backslashes and prepend the string with <code>E</code> so they keep working after the switch. Or switch to <code>on</code>. Be sure to read about the consequences first.</p>\n<p>Also check if any of your software layers treat <code>\\</code> as escape character as well. You might have to double up again. If in doubt, log statements with <a href=\"https://www.postgresql.org/docs/current/runtime-config-logging.html#GUC-LOG-STATEMENT\" rel=\"nofollow noreferrer\"><code>log_statement = on</code></a> in your database log ans check what Postgres actually gets.</p>\n<p>Upgrade to a current version of Postgres.</p>\n<hr />\n<p>Asides:</p>\n<p>In Postgres, an expression like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>fts(...) = true\n</code></pre>\n<p>... in the <code>WHERE</code> clause can be simplified to just:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>fts(...)\n</code></pre>\n<p><a href=\"https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS\" rel=\"nofollow noreferrer\">Identifiers are cast to lower case</a> if not double-quoted. Therefore:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>from Object object\n</code></pre>\n<p>... is effectively just a noisy way of saying:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>from object\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/20878932/are-postgresql-column-names-case-sensitive/20880247#20880247\">Are PostgreSQL column names case-sensitive?</a></li>\n</ul>\n"}],"owner":{"account_id":2649720,"reputation":36,"user_id":2291714,"display_name":"christopher wilbert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641522196,"creation_date":1366718867,"question_id":16168974,"body_markdown":"I am trying to get the list of objects by search text. If I proceed this with special character string for ex,\r\n\r\n    searchText =&quot;Agenya\\\\&amp;\\&amp;&quot;;\r\n\r\nquery like this\r\n(I am using Postgres&#39;s full text search method)\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    select object from Object object where object.Id = :Id and fts(&#39;english&#39;,object.searchColumn,&#39;Agenya\\\\&amp;\\&amp;&#39;) = true  order by object.objectName asc\r\n\r\nI am getting the exception like this:\r\n\r\n    javax.ejb.EJBException: org.hibernate.exception.SQLGrammarException: could not execute query\r\n    \tat org.jboss.ejb3.tx.Ejb3TxPolicy.handleExceptionInOurTx(Ejb3TxPolicy.java:63)\r\n    \tat org.jboss.aspects.tx.TxPolicy.invokeInOurTx(TxPolicy.java:83)\r\n    \tat org.jboss.aspects.tx.TxInterceptor$Required.invoke(TxInterceptor.java:191)\r\n    \tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\r\n    \tat org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:95)\r\n    \tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\r\n    \tat org.jboss.ejb3.stateless.StatelessInstanceInterceptor.invoke(StatelessInstanceInterceptor.java:62)\r\n    \tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\r\n    \tat org.jboss.aspects.security.AuthenticationInterceptor.invoke(AuthenticationInterceptor.java:77)\r\n    \tat org.jboss.ejb3.security.Ejb3AuthenticationInterceptor.invoke(Ejb3AuthenticationInterceptor.java:110)\r\n    \tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\r\n    \tat org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:46)\r\n    \tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\r\n    \tat org.jboss.ejb3.asynchronous.AsynchronousInterceptor.invoke(AsynchronousInterceptor.java:106)\r\n    \tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\r\n    \tat org.jboss.ejb3.stateless.StatelessContainer.dynamicInvoke(StatelessContainer.java:304)\r\n    \tat org.jboss.ejb3.remoting.IsLocalInterceptor.invokeLocal(IsLocalInterceptor.java:81)\r\n    \tat org.jboss.ejb3.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:72)\r\n    \tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\r\n    \tat org.jboss.ejb3.stateless.StatelessRemoteProxy.invoke(StatelessRemoteProxy.java:107)\r\n    \tat $Proxy1152.getAllOpportunitiesBySearchText(Unknown Source)\r\n    \r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not execute query\r\n    \tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:67)\r\n    \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2223)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2099)\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:378)\r\n    \tat org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:338)\r\n    \tat org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:172)\r\n    \tat org.hibernate.impl.SessionImpl.list(SessionImpl.java:1121)\r\n    \tat org.hibernate.impl.QueryImpl.list(QueryImpl.java:79)\r\n\r\nPlease help me to resolve this problem.","title":"Full text search exception with special characters in PostgreSQL","body":"<p>I am trying to get the list of objects by search text. If I proceed this with special character string for ex,</p>\n\n<pre><code>searchText =\"Agenya\\\\&amp;\\&amp;\";\n</code></pre>\n\n<p>query like this\n(I am using Postgres's full text search method)</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select object from Object object where object.Id = :Id and fts('english',object.searchColumn,'Agenya\\\\&amp;\\&amp;') = true  order by object.objectName asc\n</code></pre>\n\n<p>I am getting the exception like this:</p>\n\n<pre><code>javax.ejb.EJBException: org.hibernate.exception.SQLGrammarException: could not execute query\n    at org.jboss.ejb3.tx.Ejb3TxPolicy.handleExceptionInOurTx(Ejb3TxPolicy.java:63)\n    at org.jboss.aspects.tx.TxPolicy.invokeInOurTx(TxPolicy.java:83)\n    at org.jboss.aspects.tx.TxInterceptor$Required.invoke(TxInterceptor.java:191)\n    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n    at org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:95)\n    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n    at org.jboss.ejb3.stateless.StatelessInstanceInterceptor.invoke(StatelessInstanceInterceptor.java:62)\n    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n    at org.jboss.aspects.security.AuthenticationInterceptor.invoke(AuthenticationInterceptor.java:77)\n    at org.jboss.ejb3.security.Ejb3AuthenticationInterceptor.invoke(Ejb3AuthenticationInterceptor.java:110)\n    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n    at org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:46)\n    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n    at org.jboss.ejb3.asynchronous.AsynchronousInterceptor.invoke(AsynchronousInterceptor.java:106)\n    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n    at org.jboss.ejb3.stateless.StatelessContainer.dynamicInvoke(StatelessContainer.java:304)\n    at org.jboss.ejb3.remoting.IsLocalInterceptor.invokeLocal(IsLocalInterceptor.java:81)\n    at org.jboss.ejb3.remoting.IsLocalInterceptor.invoke(IsLocalInterceptor.java:72)\n    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n    at org.jboss.ejb3.stateless.StatelessRemoteProxy.invoke(StatelessRemoteProxy.java:107)\n    at $Proxy1152.getAllOpportunitiesBySearchText(Unknown Source)\n\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute query\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:67)\n    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)\n    at org.hibernate.loader.Loader.doList(Loader.java:2223)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2104)\n    at org.hibernate.loader.Loader.list(Loader.java:2099)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:378)\n    at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:338)\n    at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:172)\n    at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1121)\n    at org.hibernate.impl.QueryImpl.list(QueryImpl.java:79)\n</code></pre>\n\n<p>Please help me to resolve this problem.</p>\n"},{"tags":["java","xml","xpath","xml-namespaces"],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641520077,"creation_date":1641520077,"answer_id":70615696,"question_id":70615423,"body_markdown":"Your XML is not [namespace-well-formed][1]: It uses undefined namespace prefixes.\r\n\r\nFirst fix your XML.  Then fix your `getNamespaceURI()` method to return the right namespace URI for each used namespace prefix.\r\n\r\nSee https://stackoverflow.com/q/40796231/290085 for an example of a working `getNamespaceURI()` method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25830482/290085","title":"Java XPath resolver for documents with namespaces","body":"<p>Your XML is not <a href=\"https://stackoverflow.com/a/25830482/290085\">namespace-well-formed</a>: It uses undefined namespace prefixes.</p>\n<p>First fix your XML.  Then fix your <code>getNamespaceURI()</code> method to return the right namespace URI for each used namespace prefix.</p>\n<p>See <a href=\"https://stackoverflow.com/q/40796231/290085\">How does XPath deal with XML namespaces?</a> for an example of a working <code>getNamespaceURI()</code> method.</p>\n"}],"owner":{"account_id":12352220,"reputation":49,"user_id":9010200,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70615696,"answer_count":1,"score":1,"last_activity_date":1641521669,"creation_date":1641517379,"question_id":70615423,"body_markdown":"I need to query XML documents using XPath expressions in a Java application. I have created the following classes, which accepts a file (location of the XML document on a local hard drive) and an XPath \r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\nimport javax.xml.XMLConstants;\r\nimport javax.xml.namespace.NamespaceContext;\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.xpath.XPath;\r\nimport javax.xml.xpath.XPathConstants;\r\nimport javax.xml.xpath.XPathExpression;\r\nimport javax.xml.xpath.XPathExpressionException;\r\nimport javax.xml.xpath.XPathFactory;\r\n \r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.NodeList;\r\n \r\npublic class Try \r\n{\r\n    public static void main(String[] args) throws Exception \r\n    {\r\n        //Get DOM Node for XML\r\n        String fileName= &quot;xmd.xml&quot;;\r\n        Document document = getDocument(fileName);\r\n         \r\n        String xpathExpression = &quot;&quot;;\r\n             \r\n        /*******Get attribute values using xpath******/\r\n         \r\n        \r\n        xpathExpression = &quot;//isebel:story/dc:title/text()&quot;;\r\n        System.out.println( evaluateXPath(document, xpathExpression) );\r\n        \r\n    }\r\n     \r\n    private static List&lt;String&gt; evaluateXPath(Document document, String xpathExpression) throws Exception \r\n    {\r\n        // Create XPathFactory object\r\n        XPathFactory xpathFactory = XPathFactory.newInstance();\r\n         \r\n        // Create XPath object\r\n        XPath xpath = xpathFactory.newXPath();\r\n        \r\n        List&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n        try\r\n        {\r\n            // Create XPathExpression object\r\n            XPathExpression expr = xpath.compile(xpathExpression);\r\n             \r\n            // Evaluate expression result on XML document\r\n            NodeList nodes = (NodeList) expr.evaluate(document, XPathConstants.NODESET);\r\n             \r\n            for (int i = 0; i &lt; nodes.getLength(); i++) {\r\n                values.add(nodes.item(i).getNodeValue());\r\n            }\r\n                 \r\n        } catch (XPathExpressionException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return values;\r\n    }\r\n \r\n    private static Document getDocument(String fileName) throws Exception \r\n    {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        factory.setNamespaceAware(true);\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n        Document doc = builder.parse(fileName);\r\n        return doc;\r\n    }\r\n    class NamespaceResolver implements NamespaceContext \r\n    {\r\n        //Store the source document to search the namespaces\r\n        private Document sourceDocument;\r\n     \r\n        public NamespaceResolver(Document document) {\r\n            sourceDocument = document;\r\n        }\r\n     \r\n        //The lookup for the namespace uris is delegated to the stored document.\r\n        public String getNamespaceURI(String prefix) {\r\n            if (prefix.equals(XMLConstants.DEFAULT_NS_PREFIX)) {\r\n                return sourceDocument.lookupNamespaceURI(null);\r\n            } else {\r\n                return sourceDocument.lookupNamespaceURI(prefix);\r\n            }\r\n        }\r\n     \r\n        public String getPrefix(String namespaceURI) {\r\n            return sourceDocument.lookupPrefix(namespaceURI);\r\n        }\r\n     \r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        public Iterator getPrefixes(String namespaceURI) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\nSuppose now that I have the following XML document.\r\n\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;isebel:story xmlns:isebel=&quot;http://www.isebel.eu/ns/isebel&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot; xml:id=&quot;xmd-s001-000-000-069&quot; xml:lang=&quot;deu&quot;&gt;\r\n  &lt;dc:identifier&gt;de.wossidia.xmd-s001-000-000-069&lt;/dc:identifier&gt;\r\n  &lt;isebel:purl&gt;https://apps.wossidia.de/webapp/run/node/XMD-S001-000-000-069&lt;/isebel:purl&gt;\r\n  &lt;dc:title&gt;[69] Mit Peitsche und Kn&#252;ppel&lt;/dc:title&gt;\r\n  &lt;dc:title xml:lang=&quot;nds&quot;/&gt;\r\n  &lt;dc:title xml:lang=&quot;deu&quot;/&gt;\r\n  &lt;isebel:contents&gt;\r\n    &lt;isebel:content xml:lang=&quot;nds&quot;&gt;De Kutscher hett bi Vierecksch deent. Vierecksch het twee b&#246;se Jungens hatt, de hebben de Pier de Sw&#228;nz afsn&#228;den. Se hebben dat up sienen, dennʼ Kutscher sienen Schalm daan (ego: d. h. Kutscher als T&#228;ter angegeben, d. h. gesagt, er habe es getan). Dor het Vierecksch dennʼ Kutscher slagen, dat de Schoh vull Bloot stahn hebben bet up de Sch&#228;nen. Dor het he sik verdrunken inʼn Radenschen See. De m&#246;&#246;t hier jo begraben warden (nescit, wo). De ward jo haalt. As se kamen bi ʼn Kirchhoff, koenen keen Pier em trecken, un dor warden von s&#252;lben de Klocken gahn. Dor warden Ossen vorspannt, de trecken em hen na ʼn Gerichtsbarg (in Wattmannshagen), dor is he begraben. De Swester het ʼn dr&#246;gen Hasselstock hatt, dennʼ steckt se em up sien Graff un seggt: Wenn de utgr&#228;unt, is ehr Broder selig storben. De is utgr&#228;unt, dor is se ruhig w&#228;st.\r\n\r\nErz&#228;hler: Frau Oppermann, Hohenfelde b. Laiendorf, Kreis Neustrelitz; Aufzeichner: Wossidlo, 15. 6. 1913.&lt;/isebel:content&gt;\r\n    &lt;isebel:content xml:lang=&quot;deu&quot;&gt;Der Kutscher hat bei der alten Viereck gedient. Die alte Viereck hat zwei b&#246;se Jungen gehabt. Die haben den Pferden die Schw&#228;nze abgeschnitten. Sie haben das aber auf den Kutscher geschoben. Da hat die Vierecken den Kutscher geschlagen, da&#223; die Schuhe voll Blut gestanden haben bis an die Schienbeine. Da hat er sich im Radenschen See ertr&#228;nkt. Er mu&#223; ja hier begraben werden (Erz&#228;hler wei&#223; nicht wo). Er wird ja auch geholt. Als sie beim Kirchhof vorbeikommen, k&#246;nnen ihn die Pferde nicht ziehen und die Glocken beginnen von selbst zu l&#228;uten. Da werden Ochsen vorgespannt, die ziehen ihn bis zum Gerichtsberg. In Wattmannshagen ist er begraben. Die Schwester hat einen trocknen Haselstock gehabt, den steckt sie auf sein Grab und sagt: wenn der ausschl&#228;gt, ist ihr Bruder selig gestorben. Er ist ausgeschlagen, da ist sie ruhig gewesen.&lt;/isebel:content&gt;\r\n  &lt;/isebel:contents&gt;\r\n&lt;/isebel:story&gt;\r\n```\r\n\r\nand I want as aresult to get:\r\n\r\n```\r\n[[69] Mit Peitsche und Kn&#252;ppel]\r\n```\r\n\r\nit dose not work can someone pls help\r\n\r\n","title":"Java XPath resolver for documents with namespaces","body":"<p>I need to query XML documents using XPath expressions in a Java application. I have created the following classes, which accepts a file (location of the XML document on a local hard drive) and an XPath</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.namespace.NamespaceContext;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpression;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\n \nimport org.w3c.dom.Document;\nimport org.w3c.dom.NodeList;\n \npublic class Try \n{\n    public static void main(String[] args) throws Exception \n    {\n        //Get DOM Node for XML\n        String fileName= &quot;xmd.xml&quot;;\n        Document document = getDocument(fileName);\n         \n        String xpathExpression = &quot;&quot;;\n             \n        /*******Get attribute values using xpath******/\n         \n        \n        xpathExpression = &quot;//isebel:story/dc:title/text()&quot;;\n        System.out.println( evaluateXPath(document, xpathExpression) );\n        \n    }\n     \n    private static List&lt;String&gt; evaluateXPath(Document document, String xpathExpression) throws Exception \n    {\n        // Create XPathFactory object\n        XPathFactory xpathFactory = XPathFactory.newInstance();\n         \n        // Create XPath object\n        XPath xpath = xpathFactory.newXPath();\n        \n        List&lt;String&gt; values = new ArrayList&lt;&gt;();\n        try\n        {\n            // Create XPathExpression object\n            XPathExpression expr = xpath.compile(xpathExpression);\n             \n            // Evaluate expression result on XML document\n            NodeList nodes = (NodeList) expr.evaluate(document, XPathConstants.NODESET);\n             \n            for (int i = 0; i &lt; nodes.getLength(); i++) {\n                values.add(nodes.item(i).getNodeValue());\n            }\n                 \n        } catch (XPathExpressionException e) {\n            e.printStackTrace();\n        }\n        return values;\n    }\n \n    private static Document getDocument(String fileName) throws Exception \n    {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        factory.setNamespaceAware(true);\n        DocumentBuilder builder = factory.newDocumentBuilder();\n        Document doc = builder.parse(fileName);\n        return doc;\n    }\n    class NamespaceResolver implements NamespaceContext \n    {\n        //Store the source document to search the namespaces\n        private Document sourceDocument;\n     \n        public NamespaceResolver(Document document) {\n            sourceDocument = document;\n        }\n     \n        //The lookup for the namespace uris is delegated to the stored document.\n        public String getNamespaceURI(String prefix) {\n            if (prefix.equals(XMLConstants.DEFAULT_NS_PREFIX)) {\n                return sourceDocument.lookupNamespaceURI(null);\n            } else {\n                return sourceDocument.lookupNamespaceURI(prefix);\n            }\n        }\n     \n        public String getPrefix(String namespaceURI) {\n            return sourceDocument.lookupPrefix(namespaceURI);\n        }\n     \n        @SuppressWarnings(&quot;rawtypes&quot;)\n        public Iterator getPrefixes(String namespaceURI) {\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Suppose now that I have the following XML document.</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;isebel:story xmlns:isebel=&quot;http://www.isebel.eu/ns/isebel&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:html=&quot;http://www.w3.org/1999/xhtml&quot; xml:id=&quot;xmd-s001-000-000-069&quot; xml:lang=&quot;deu&quot;&gt;\n  &lt;dc:identifier&gt;de.wossidia.xmd-s001-000-000-069&lt;/dc:identifier&gt;\n  &lt;isebel:purl&gt;https://apps.wossidia.de/webapp/run/node/XMD-S001-000-000-069&lt;/isebel:purl&gt;\n  &lt;dc:title&gt;[69] Mit Peitsche und Knüppel&lt;/dc:title&gt;\n  &lt;dc:title xml:lang=&quot;nds&quot;/&gt;\n  &lt;dc:title xml:lang=&quot;deu&quot;/&gt;\n  &lt;isebel:contents&gt;\n    &lt;isebel:content xml:lang=&quot;nds&quot;&gt;De Kutscher hett bi Vierecksch deent. Vierecksch het twee böse Jungens hatt, de hebben de Pier de Swänz afsnäden. Se hebben dat up sienen, dennʼ Kutscher sienen Schalm daan (ego: d. h. Kutscher als Täter angegeben, d. h. gesagt, er habe es getan). Dor het Vierecksch dennʼ Kutscher slagen, dat de Schoh vull Bloot stahn hebben bet up de Schänen. Dor het he sik verdrunken inʼn Radenschen See. De mööt hier jo begraben warden (nescit, wo). De ward jo haalt. As se kamen bi ʼn Kirchhoff, koenen keen Pier em trecken, un dor warden von sülben de Klocken gahn. Dor warden Ossen vorspannt, de trecken em hen na ʼn Gerichtsbarg (in Wattmannshagen), dor is he begraben. De Swester het ʼn drögen Hasselstock hatt, dennʼ steckt se em up sien Graff un seggt: Wenn de utgräunt, is ehr Broder selig storben. De is utgräunt, dor is se ruhig wäst.\n\nErzähler: Frau Oppermann, Hohenfelde b. Laiendorf, Kreis Neustrelitz; Aufzeichner: Wossidlo, 15. 6. 1913.&lt;/isebel:content&gt;\n    &lt;isebel:content xml:lang=&quot;deu&quot;&gt;Der Kutscher hat bei der alten Viereck gedient. Die alte Viereck hat zwei böse Jungen gehabt. Die haben den Pferden die Schwänze abgeschnitten. Sie haben das aber auf den Kutscher geschoben. Da hat die Vierecken den Kutscher geschlagen, daß die Schuhe voll Blut gestanden haben bis an die Schienbeine. Da hat er sich im Radenschen See ertränkt. Er muß ja hier begraben werden (Erzähler weiß nicht wo). Er wird ja auch geholt. Als sie beim Kirchhof vorbeikommen, können ihn die Pferde nicht ziehen und die Glocken beginnen von selbst zu läuten. Da werden Ochsen vorgespannt, die ziehen ihn bis zum Gerichtsberg. In Wattmannshagen ist er begraben. Die Schwester hat einen trocknen Haselstock gehabt, den steckt sie auf sein Grab und sagt: wenn der ausschlägt, ist ihr Bruder selig gestorben. Er ist ausgeschlagen, da ist sie ruhig gewesen.&lt;/isebel:content&gt;\n  &lt;/isebel:contents&gt;\n&lt;/isebel:story&gt;\n</code></pre>\n<p>and I want as aresult to get:</p>\n<pre><code>[[69] Mit Peitsche und Knüppel]\n</code></pre>\n<p>it dose not work can someone pls help</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1641521535,"post_id":70615814,"comment_id":124831850,"body_markdown":"What do you think is the difference? Walk through the code mentally and you should see it.","body":"What do you think is the difference? Walk through the code mentally and you should see it."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1641522016,"post_id":70615814,"comment_id":124831939,"body_markdown":"As an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.","body":"As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others."},{"owner":{"account_id":23350243,"reputation":29,"user_id":17423907,"display_name":"JOEGREEN"},"score":0,"creation_date":1641522529,"post_id":70615814,"comment_id":124831999,"body_markdown":"Thank You, I Will surely learn these naming conventions","body":"Thank You, I Will surely learn these naming conventions"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1641523801,"post_id":70615814,"comment_id":124832208,"body_markdown":"My first comment was much more important than the second since to solve similar problems in the future, you will absolutely need to learn to do mental walk-throughs of your code, asking yourself &quot;does this code make sense?&quot; and &quot;what is this code currently doing?&quot; as you walk through it -- also known as &quot;[Rubber Duck Debugging](https://en.wikipedia.org/wiki/Rubber_duck_debugging)&quot;. Also, in the future, tell your thoughts on the code, why you think that one code is doing one thing and the other is doing something different. Your question quality would benefit.","body":"My first comment was much more important than the second since to solve similar problems in the future, you will absolutely need to learn to do mental walk-throughs of your code, asking yourself &quot;does this code make sense?&quot; and &quot;what is this code currently doing?&quot; as you walk through it -- also known as &quot;<a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow noreferrer\">Rubber Duck Debugging</a>&quot;. Also, in the future, tell your thoughts on the code, why you think that one code is doing one thing and the other is doing something different. Your question quality would benefit."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641521577,"creation_date":1641521577,"answer_id":70615835,"question_id":70615814,"body_markdown":"The first snippet copies the label of the button (`&quot;2&quot;`) into the text field, replacing its prior content.\r\n\r\nThe second snippet looks at what&#39;s already in the text field, which could be anything, and adds the label of the button (`&quot;2&quot;`) to the end of it.  This way, you can add `&quot;2&quot;` to the text field as many times as you press the button.","title":"What is is the difference between these two codes?","body":"<p>The first snippet copies the label of the button (<code>&quot;2&quot;</code>) into the text field, replacing its prior content.</p>\n<p>The second snippet looks at what's already in the text field, which could be anything, and adds the label of the button (<code>&quot;2&quot;</code>) to the end of it.  This way, you can add <code>&quot;2&quot;</code> to the text field as many times as you press the button.</p>\n"}],"owner":{"account_id":23350243,"reputation":29,"user_id":17423907,"display_name":"JOEGREEN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70615835,"answer_count":1,"score":-1,"last_activity_date":1641521577,"creation_date":1641521364,"question_id":70615814,"body_markdown":"This code right here is a button of a calculator that is when pressed shows &quot;2&quot; in the calculator&#39;s textbox\r\nI was just curious why the first code allows me to enter number &quot;2&quot; just once \r\n\r\nwhile the second one allows me to enter the number &quot;2&quot; Many times, in other words, what does ` textbox.getText() ` adds to this code?\r\n\r\n``` \r\nprivate void BUT2ActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n    String enternumber =  BUT2.getText();\r\n    textbox.setText(enternumber);\r\n} \r\n```                                   \r\n\r\n``` \r\nprivate void BUT2ActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n    String enternumber = textbox.getText() +BUT2.getText();\r\n    textbox.setText(enternumber);\r\n} \r\n```    ","title":"What is is the difference between these two codes?","body":"<p>This code right here is a button of a calculator that is when pressed shows &quot;2&quot; in the calculator's textbox\nI was just curious why the first code allows me to enter number &quot;2&quot; just once</p>\n<p>while the second one allows me to enter the number &quot;2&quot; Many times, in other words, what does <code>textbox.getText()</code> adds to this code?</p>\n<pre><code>private void BUT2ActionPerformed(java.awt.event.ActionEvent evt) {                                     \n    String enternumber =  BUT2.getText();\n    textbox.setText(enternumber);\n} \n</code></pre>\n<pre><code>private void BUT2ActionPerformed(java.awt.event.ActionEvent evt) {                                     \n    String enternumber = textbox.getText() +BUT2.getText();\n    textbox.setText(enternumber);\n} \n</code></pre>\n"},{"tags":["java","threadpool","do-while","linkedblockingqueue"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1641054027,"post_id":70550128,"comment_id":124712859,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/70550128/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1641054394,"post_id":70550128,"comment_id":124712931,"body_markdown":"If your queue being accessed by multiple threads then the queue&#39;s contents may change between when you check its size and when you poll it.","body":"If your queue being accessed by multiple threads then the queue&#39;s contents may change between when you check its size and when you poll it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1641076480,"post_id":70550128,"comment_id":124717044,"body_markdown":"Are you certain that you&#39;re not just calling the do/while twice? It will fail as described if the queue is empty to start with. (that is, you should use `while` not `do/while`.","body":"Are you certain that you&#39;re not just calling the do/while twice? It will fail as described if the queue is empty to start with. (that is, you should use <code>while</code> not <code>do&#47;while</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641521146,"creation_date":1641519632,"answer_id":70615656,"question_id":70550128,"body_markdown":"You appear to have a number of concurrency / threading bugs in your code.\r\n\r\nAssumptions:\r\n\r\nIt looks like there could be multiple `MessageHandler` objects, each with its own pair of queues and (supposedly) at most one `MessageLooper` thread.  It also looks as if a given `MessageHandler` *could* be used by multiple request worker threads.  \r\n\r\nIf that is the case, then one problem is that `MessageHandler` is not thread-safe.  Specifically, the `handleMessage` is accessing and updating fields of the `MessageHandler` instance without doing any synchronization.  \r\n\r\nSome of the fields are initialized during object creation and then never changed.  They are probably OK.  (But you **should** declare them as `final` to be sure!)  But some of the variables are supposed to change during operation, and they *must* be handled correctly.\r\n\r\nOne section that rings particular alarm bells is this:\r\n\r\n        if (!running) {\r\n            workerThread = new MessageLooper();\r\n            running = true;\r\n            workerThread.start();\r\n        } else if (running &amp;&amp; !workerThread.active) {\r\n            latch.await();\r\n            latch.reset();\r\n        }\r\n\r\nSince this is not synchronized, and the variables are not `volatile`:\r\n\r\n  - There are race conditions if two threads call this code simultaneously; e.g. between testing `running` and assigning `true` to it.\r\n  - If one thread sets `running` to `true`, there are no guarantees that a second thread will see the new value.\r\n\r\nThe net result is that you could potentially get two or more `MessageLooper` threads for a given set of queues.  That **breaks** your assumptions in the `MessageLooper` code.\r\n\r\n----------------\r\n\r\nLooking at the `MessageLooper` code, I see that you have declared the `run` method as `synchronized`.  Unfortunately, that doesn&#39;t help.  The problem is that the `run` method will be synchronizing on `this` ... which is the specific instance of `MessageLooper`.  And it will acquire the lock once and release it once.  On short, the `synchronized` is wrong.\r\n\r\n&lt;sup&gt;(For Java `synchronized` methods and `synchronized` blocks to work properly, 1) the threads involved need to synchronize on the same object (i.e. the same primitive lock), and 2) all read and write operations on the state guarded by the lock need to be done while holding the lock.  This applies to use of `Lock` objects as well.)&lt;/sup&gt;\r\n\r\nSo ...\r\n\r\n  - There is no synchronization between a `MessageLooper` thread and any other threads that are adding to or removing from the queues.\r\n  - There are no guarantees that the `MessageLooper` thread will notice changes to the `running` flag.\r\n  - As I previously noted, you could have two or more `MessageLooper` polling the same pair of queues.\r\n\r\n-----------------\r\n\r\nIn short, there are lots of possible explanations for strange behavior in the code in the Question.  This includes the specific problem you noticed with the queue size.\r\n\r\nWriting correct multi-threaded code is difficult.  This is why you *should* be using an `ExecutorService` rather than attempting to roll  your own code.  \r\n\r\nBut it you do need to roll your own concurrency code, I recommend buying and reading [&quot;Java: Concurrency in Practice&quot;](https://jcip.net/) by Brian Goetz et al.  It is still the only good textbook on this topic ...","title":"Do while loop behaving unexpectedly, for some inexplicable reason","body":"<p>You appear to have a number of concurrency / threading bugs in your code.</p>\n<p>Assumptions:</p>\n<p>It looks like there could be multiple <code>MessageHandler</code> objects, each with its own pair of queues and (supposedly) at most one <code>MessageLooper</code> thread.  It also looks as if a given <code>MessageHandler</code> <em>could</em> be used by multiple request worker threads.</p>\n<p>If that is the case, then one problem is that <code>MessageHandler</code> is not thread-safe.  Specifically, the <code>handleMessage</code> is accessing and updating fields of the <code>MessageHandler</code> instance without doing any synchronization.</p>\n<p>Some of the fields are initialized during object creation and then never changed.  They are probably OK.  (But you <strong>should</strong> declare them as <code>final</code> to be sure!)  But some of the variables are supposed to change during operation, and they <em>must</em> be handled correctly.</p>\n<p>One section that rings particular alarm bells is this:</p>\n<pre><code>    if (!running) {\n        workerThread = new MessageLooper();\n        running = true;\n        workerThread.start();\n    } else if (running &amp;&amp; !workerThread.active) {\n        latch.await();\n        latch.reset();\n    }\n</code></pre>\n<p>Since this is not synchronized, and the variables are not <code>volatile</code>:</p>\n<ul>\n<li>There are race conditions if two threads call this code simultaneously; e.g. between testing <code>running</code> and assigning <code>true</code> to it.</li>\n<li>If one thread sets <code>running</code> to <code>true</code>, there are no guarantees that a second thread will see the new value.</li>\n</ul>\n<p>The net result is that you could potentially get two or more <code>MessageLooper</code> threads for a given set of queues.  That <strong>breaks</strong> your assumptions in the <code>MessageLooper</code> code.</p>\n<hr />\n<p>Looking at the <code>MessageLooper</code> code, I see that you have declared the <code>run</code> method as <code>synchronized</code>.  Unfortunately, that doesn't help.  The problem is that the <code>run</code> method will be synchronizing on <code>this</code> ... which is the specific instance of <code>MessageLooper</code>.  And it will acquire the lock once and release it once.  On short, the <code>synchronized</code> is wrong.</p>\n<p><sup>(For Java <code>synchronized</code> methods and <code>synchronized</code> blocks to work properly, 1) the threads involved need to synchronize on the same object (i.e. the same primitive lock), and 2) all read and write operations on the state guarded by the lock need to be done while holding the lock.  This applies to use of <code>Lock</code> objects as well.)</sup></p>\n<p>So ...</p>\n<ul>\n<li>There is no synchronization between a <code>MessageLooper</code> thread and any other threads that are adding to or removing from the queues.</li>\n<li>There are no guarantees that the <code>MessageLooper</code> thread will notice changes to the <code>running</code> flag.</li>\n<li>As I previously noted, you could have two or more <code>MessageLooper</code> polling the same pair of queues.</li>\n</ul>\n<hr />\n<p>In short, there are lots of possible explanations for strange behavior in the code in the Question.  This includes the specific problem you noticed with the queue size.</p>\n<p>Writing correct multi-threaded code is difficult.  This is why you <em>should</em> be using an <code>ExecutorService</code> rather than attempting to roll  your own code.</p>\n<p>But it you do need to roll your own concurrency code, I recommend buying and reading <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\">&quot;Java: Concurrency in Practice&quot;</a> by Brian Goetz et al.  It is still the only good textbook on this topic ...</p>\n"}],"owner":{"account_id":22438029,"reputation":55,"user_id":16642996,"display_name":"LocalHackersUnion5156"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641521146,"creation_date":1641053775,"question_id":70550128,"body_markdown":"I&#39;ve been all over the internet and the Java docs regarding this one; I can&#39;t seem to figure out what it is about do while loops I&#39;m not understanding. Here&#39;s the background: I have some message handler code that takes some JSON formatted data from a REST endpoint, parses it into a runnable task, then adds this task to a linked blocking queue for processing by the worker thread. Meanwhile, on the worker thread, I have this do while loop to process the message tasks:\r\n```\r\ndo {\r\n    PublicTask currentTask = pubMsgQ.poll();\r\n\tcurrentTask.run();\r\n} while(pubMsgQ.size() &gt; 0);\r\n```\r\npubMsgQ is a `LinkedBlockingQueue&lt;PublicTask&gt;` (PublicTask implements the Runnable interface). I can&#39;t see any problems with this loop (obviously, or else I wouldn&#39;t be here), but this is how it behaves during execution: Upon entering the do block, pubMsgQ is polled and returns the runnable task as expected. The task is then run successfully with expected results, but then we get to the while statement. Now, according to the Java docs, poll() should return *and remove* the head of the queue, so I should expect that `pubMsgQ.size()` will return 0, right? Wrong I guess, because somehow the while statement passes and the program enters the do block again; of course this time `pubMsgQ.poll()` returns null (as I would have expected it should) and the program crashes with NullPointerException. What? Please explain like I&#39;m five...\r\n\r\n**EDIT:**\r\nI decided to leave my original post as is above; because I think I actually explain the undesired behavior of that specific piece of the code quite succinctly (the loop is being executed twice while I&#39;m fairly certain there is no way the loop should be executing twice). However, I realize that probably doesn&#39;t give enough context for that loop&#39;s existence and purpose in the first place, so here is the complete breakdown for what I am actually trying to accomplish with this code as I am sure there is a better way to implement this altogether anyways.\r\n\r\nWhat this loop is actually a part of is a message handler class which implements the MessageHandler interface belonging to my Client Endpoint class [correction from my previous post; I had said the messages coming in were JSON formatted strings from a REST endpoint. This is technically not true: they are JSON formatted strings being received through a web socket connection. Note that while I am using the Spring framework, this is not a STOMP client; I am only using the built-in javax WebSocketContainer as this is more lightweight and easier for me to implement]. When a new message comes in onMessage() is called, which passes the JSON string to the MessageHandler; so here is the code for the entire MessageHandler class:\r\n```\r\npublic class MessageHandler implements com.innotech.gofish.AutoBrokerClient.MessageHandler {\r\n\tprivate LinkedBlockingQueue&lt;PublicTask&gt; pubMsgQ = new LinkedBlockingQueue&lt;PublicTask&gt;();\r\n\tprivate LinkedBlockingQueue&lt;AuthenticatedTask&gt; authMsgQ = new LinkedBlockingQueue&lt;AuthenticatedTask&gt;();\r\n\tprivate MessageLooper workerThread;\r\n\tprivate CyclicBarrier latch = new CyclicBarrier(2);\r\n\tprivate boolean running = false;\r\n\tprivate final boolean authenticated;\r\n\t\r\n\tpublic MessageHandler(boolean authenticated) {\r\n\t\tthis.authenticated = authenticated;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void handleMessage(String msg) {\r\n\t\ttry {\r\n\t\t\t//Create new Task and submit it to the message queue:\r\n\t\t\tif(authenticated) {\r\n\t\t\t\tAuthenticatedTask msgTsk = new AuthenticatedTask(msg);\r\n\t\t\t\tauthMsgQ.put(msgTsk);\r\n\t\t\t} else {\r\n\t\t\t\tPublicTask msgTsk = new PublicTask(msg);\r\n\t\t\t\tpubMsgQ.put(msgTsk);\r\n\t\t\t}\r\n\t\t\t//Check status of worker thread:\r\n\t\t\tif(!running) {\r\n\t\t\t\tworkerThread = new MessageLooper();\r\n\t\t\t\trunning = true;\r\n\t\t\t\tworkerThread.start();\r\n\t\t\t} else if(running &amp;&amp; !workerThread.active) {\r\n\t\t\t\tlatch.await();\r\n\t\t\t\tlatch.reset();\r\n\t\t\t}\r\n\t\t} catch(InterruptedException | BrokenBarrierException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class MessageLooper extends Thread {\r\n\t\tboolean active = false;\r\n\t\t\r\n\t\tpublic MessageLooper() {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic synchronized void run() {\r\n\t\t\twhile(running) {\r\n\t\t\t\tactive = true;\r\n\t\t\t\tif(authenticated) {\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tAuthenticatedTask currentTask = authMsgQ.poll();\r\n\t\t\t\t\t\tcurrentTask.run();\r\n\t\t\t\t\t\tif(GoFishApplication.halt) {\r\n\t\t\t\t\t\t\tGoFishApplication.reset();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} while(authMsgQ.size() &gt; 0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tPublicTask currentTask = pubMsgQ.poll();\r\n\t\t\t\t\t\tcurrentTask.run();\r\n\t\t\t\t\t} while(pubMsgQ.size() &gt; 0);\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tactive = false;\r\n\t\t\t\t\tlatch.await();\r\n\t\t\t\t} catch (InterruptedException | BrokenBarrierException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nYou may probably see where I&#39;m going with this...what this Gerry-rigged code is trying to do is act as a facsimile for the Looper class provided by the Android Development Kit. The actual desired behavior is as messages are received, the handleMessage() method adds the messages to the queue for processing and the messages are processed on the worker thread separately as long as there are messages to process. If there are no more messages to process, the worker thread waits until it is notified by the handler that more messages have been received; at which point it resumes processing those messages until the queue is once again empty. Rinse and repeat until the user stops the program.\r\n\r\nOf course, the closest thing the JDK provides to this is the ThreadPoolExecutor (which I know is probably the actual _proper_ way to implement this); but for the life of me I couldn&#39;t figure out how to for this exact case. Finally, as a quick aside so I can be sure to explain everything fully, The reason why there are two queues (and a public and authenticated handler) is because there are two web socket connections. One is an authenticated channel for sending/receiving private messages; the other is un-authenticated and used only to send/receive public messages. There should be no interference, however, given that the authenticated status is final and set at construction; and each Client Endpoint is passed it&#39;s own Handler which is instantiated at the time of server connection.","title":"Do while loop behaving unexpectedly, for some inexplicable reason","body":"<p>I've been all over the internet and the Java docs regarding this one; I can't seem to figure out what it is about do while loops I'm not understanding. Here's the background: I have some message handler code that takes some JSON formatted data from a REST endpoint, parses it into a runnable task, then adds this task to a linked blocking queue for processing by the worker thread. Meanwhile, on the worker thread, I have this do while loop to process the message tasks:</p>\n<pre><code>do {\n    PublicTask currentTask = pubMsgQ.poll();\n    currentTask.run();\n} while(pubMsgQ.size() &gt; 0);\n</code></pre>\n<p>pubMsgQ is a <code>LinkedBlockingQueue&lt;PublicTask&gt;</code> (PublicTask implements the Runnable interface). I can't see any problems with this loop (obviously, or else I wouldn't be here), but this is how it behaves during execution: Upon entering the do block, pubMsgQ is polled and returns the runnable task as expected. The task is then run successfully with expected results, but then we get to the while statement. Now, according to the Java docs, poll() should return <em>and remove</em> the head of the queue, so I should expect that <code>pubMsgQ.size()</code> will return 0, right? Wrong I guess, because somehow the while statement passes and the program enters the do block again; of course this time <code>pubMsgQ.poll()</code> returns null (as I would have expected it should) and the program crashes with NullPointerException. What? Please explain like I'm five...</p>\n<p><strong>EDIT:</strong>\nI decided to leave my original post as is above; because I think I actually explain the undesired behavior of that specific piece of the code quite succinctly (the loop is being executed twice while I'm fairly certain there is no way the loop should be executing twice). However, I realize that probably doesn't give enough context for that loop's existence and purpose in the first place, so here is the complete breakdown for what I am actually trying to accomplish with this code as I am sure there is a better way to implement this altogether anyways.</p>\n<p>What this loop is actually a part of is a message handler class which implements the MessageHandler interface belonging to my Client Endpoint class [correction from my previous post; I had said the messages coming in were JSON formatted strings from a REST endpoint. This is technically not true: they are JSON formatted strings being received through a web socket connection. Note that while I am using the Spring framework, this is not a STOMP client; I am only using the built-in javax WebSocketContainer as this is more lightweight and easier for me to implement]. When a new message comes in onMessage() is called, which passes the JSON string to the MessageHandler; so here is the code for the entire MessageHandler class:</p>\n<pre><code>public class MessageHandler implements com.innotech.gofish.AutoBrokerClient.MessageHandler {\n    private LinkedBlockingQueue&lt;PublicTask&gt; pubMsgQ = new LinkedBlockingQueue&lt;PublicTask&gt;();\n    private LinkedBlockingQueue&lt;AuthenticatedTask&gt; authMsgQ = new LinkedBlockingQueue&lt;AuthenticatedTask&gt;();\n    private MessageLooper workerThread;\n    private CyclicBarrier latch = new CyclicBarrier(2);\n    private boolean running = false;\n    private final boolean authenticated;\n    \n    public MessageHandler(boolean authenticated) {\n        this.authenticated = authenticated;\n    }\n\n    @Override\n    public void handleMessage(String msg) {\n        try {\n            //Create new Task and submit it to the message queue:\n            if(authenticated) {\n                AuthenticatedTask msgTsk = new AuthenticatedTask(msg);\n                authMsgQ.put(msgTsk);\n            } else {\n                PublicTask msgTsk = new PublicTask(msg);\n                pubMsgQ.put(msgTsk);\n            }\n            //Check status of worker thread:\n            if(!running) {\n                workerThread = new MessageLooper();\n                running = true;\n                workerThread.start();\n            } else if(running &amp;&amp; !workerThread.active) {\n                latch.await();\n                latch.reset();\n            }\n        } catch(InterruptedException | BrokenBarrierException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    private class MessageLooper extends Thread {\n        boolean active = false;\n        \n        public MessageLooper() {\n            \n        }\n        \n        @Override\n        public synchronized void run() {\n            while(running) {\n                active = true;\n                if(authenticated) {\n                    do {\n                        AuthenticatedTask currentTask = authMsgQ.poll();\n                        currentTask.run();\n                        if(GoFishApplication.halt) {\n                            GoFishApplication.reset();\n                        }\n                    } while(authMsgQ.size() &gt; 0);\n                } else {\n                    do {\n                        PublicTask currentTask = pubMsgQ.poll();\n                        currentTask.run();\n                    } while(pubMsgQ.size() &gt; 0);\n                }\n                try {\n                    active = false;\n                    latch.await();\n                } catch (InterruptedException | BrokenBarrierException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>You may probably see where I'm going with this...what this Gerry-rigged code is trying to do is act as a facsimile for the Looper class provided by the Android Development Kit. The actual desired behavior is as messages are received, the handleMessage() method adds the messages to the queue for processing and the messages are processed on the worker thread separately as long as there are messages to process. If there are no more messages to process, the worker thread waits until it is notified by the handler that more messages have been received; at which point it resumes processing those messages until the queue is once again empty. Rinse and repeat until the user stops the program.</p>\n<p>Of course, the closest thing the JDK provides to this is the ThreadPoolExecutor (which I know is probably the actual <em>proper</em> way to implement this); but for the life of me I couldn't figure out how to for this exact case. Finally, as a quick aside so I can be sure to explain everything fully, The reason why there are two queues (and a public and authenticated handler) is because there are two web socket connections. One is an authenticated channel for sending/receiving private messages; the other is un-authenticated and used only to send/receive public messages. There should be no interference, however, given that the authenticated status is final and set at construction; and each Client Endpoint is passed it's own Handler which is instantiated at the time of server connection.</p>\n"},{"tags":["java","if-statement"],"owner":{"account_id":23852300,"reputation":3,"user_id":17856106,"display_name":"turbojax07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1641522001,"answer_count":0,"score":-3,"last_activity_date":1641520935,"creation_date":1641520852,"question_id":70615774,"body_markdown":"It completely ignores when I enter in `banana` or `Banana`, and just moves on to the `else` statement.\r\n\r\n[![picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kLBdX.png","title":"Is there a way for me to fix the if statement?","body":"<p>It completely ignores when I enter in <code>banana</code> or <code>Banana</code>, and just moves on to the <code>else</code> statement.</p>\n<p><a href=\"https://i.stack.imgur.com/kLBdX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kLBdX.png\" alt=\"picture\" /></a></p>\n"},{"tags":["java","spring","concurrency","executorservice","callable"],"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1641355605,"post_id":70587586,"comment_id":124781472,"body_markdown":"It doesn&#39;t look like the future object is null. Do you mean the result inside future is null? in that case, your `sm.callAPIx` could be returning null. Can you post a [minimum reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"It doesn&#39;t look like the future object is null. Do you mean the result inside future is null? in that case, your <code>sm.callAPIx</code> could be returning null. Can you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimum reproducible example</a>?"},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1641356109,"post_id":70587586,"comment_id":124781537,"body_markdown":"@ArunGowda If I don&#39;t use the multithreading, it can return normally, but takes so long to obtain the results from those 4 functions","body":"@ArunGowda If I don&#39;t use the multithreading, it can return normally, but takes so long to obtain the results from those 4 functions"},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1641356917,"post_id":70587586,"comment_id":124781645,"body_markdown":"@ArunGowda Is this already enough to explain?","body":"@ArunGowda Is this already enough to explain?"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1641358263,"post_id":70587586,"comment_id":124781808,"body_markdown":"are you sure the future objects `result1,result2,result3..` are null? I can&#39;t replicate this.","body":"are you sure the future objects <code>result1,result2,result3..</code> are null? I can&#39;t replicate this."},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1641358566,"post_id":70587586,"comment_id":124781854,"body_markdown":"Also, you don&#39;t need so many executors every time that method is called.. create a bean of it and inject it wherever needed.","body":"Also, you don&#39;t need so many executors every time that method is called.. create a bean of it and inject it wherever needed."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":1,"creation_date":1641366522,"post_id":70587586,"comment_id":124783333,"body_markdown":"So, do you mean that I just need to `ExecutorService e = Executors.newFixedThreadPool(5);` and use that `e` for `submit` for those 5 functions??","body":"So, do you mean that I just need to <code>ExecutorService e = Executors.newFixedThreadPool(5);</code> and use that <code>e</code> for <code>submit</code> for those 5 functions??"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1641366670,"post_id":70587586,"comment_id":124783367,"body_markdown":"that&#39;s right. Why do you want to create  a new executor and destroy it after the method call.","body":"that&#39;s right. Why do you want to create  a new executor and destroy it after the method call."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1641477186,"post_id":70587586,"comment_id":124817459,"body_markdown":"What is “`getReturnsCon`”? Besides that, any of your problems may come from the `catch (Exception e){ logger.debug(e.getMessage()); }` An exception should be logged with at least *warning* level, further, you should not proceed after an exception, as your result map may be missing entries or even be entirely empty.","body":"What is “<code>getReturnsCon</code>”? Besides that, any of your problems may come from the <code>catch (Exception e){ logger.debug(e.getMessage()); }</code> An exception should be logged with at least <i>warning</i> level, further, you should not proceed after an exception, as your result map may be missing entries or even be entirely empty."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1641520462,"post_id":70587586,"comment_id":124831674,"body_markdown":"@Holger Edited. Thanks for the correction.","body":"@Holger Edited. Thanks for the correction."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1641520555,"post_id":70587586,"comment_id":124831688,"body_markdown":"And I met HibernateException due to multithreading @Holger","body":"And I met HibernateException due to multithreading @Holger"}],"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641520888,"creation_date":1641354247,"question_id":70587586,"body_markdown":"I want to call several external APIs concurrently with multithreading in java spring, then I use it like this:\r\n\r\n```\r\n@Service\r\npublic class ServiceImpl implements Service {\r\n    public static final Logger logger = LoggerFactory.getLogger(&quot;ServiceImpl&quot;);\r\n    \r\n    @Autowired\r\n    SM sm;\r\n\r\n    @Transactional\r\n    @Override\r\n    public Map getReturnsSeq(Map params) throws Exception {\r\n        Map result1 = sm.callAPI1(params);\r\n        Map result2 = sm.callAPI2(params);\r\n        Map result3 = sm.callAPI3(params);\r\n        Map result4 = sm.callAPI4(params);\r\n        Map returnMap = new HashMap&lt;&gt;();\r\n        List comb1and2 = new ArrayList();\r\n        comb1and2.addAll((List) result1.get(&quot;data&quot;));\r\n        comb1and2.addAll((List) result2.get(&quot;list_data&quot;));\r\n        Comparator&lt;Map&lt;String, String&gt;&gt; mapComparator = (o1, o2) -&gt; o2.get(&quot;date&quot;).compareTo(o1.get(&quot;date&quot;));\r\n        comb1and2.sort(mapComparator);\r\n        returnMap.put(&quot;cmb12&quot;, comb1and2);\r\n        returnMap.put(&quot;api_3&quot;, result3);\r\n        returnMap.put(&quot;api_4&quot;, result4);\r\n        return returnMap\r\n    }\r\n    \r\n    @Transactional\r\n    @Override\r\n    public Map getReturnsCon(Map params) throws Exception {\r\n        ExecutorService e1 = Executors.newFixedThreadPool(1);\r\n        ExecutorService e2 = Executors.newFixedThreadPool(1);\r\n        ExecutorService e3 = Executors.newFixedThreadPool(1);\r\n        ExecutorService e4 = Executors.newFixedThreadPool(1);\r\n        Map returnMap = new HashMap&lt;&gt;();\r\n        try {\r\n            Future&lt;Map&gt; result1 = e1.submit(new RecommendationAndHistory(params, 1));\r\n            Future&lt;Map&gt; result2 = e2.submit(new RecommendationAndHistory(params, 2));\r\n            Future&lt;Map&gt; result3 = e3.submit(new RecommendationAndHistory(params, 3));\r\n            Future&lt;Map&gt; result4 = e4.submit(new RecommendationAndHistory(params, 4));\r\n            \r\n            List comb1and2 = new ArrayList();\r\n            comb1and2.addAll(result1.get().get(&quot;data&quot;));\r\n            comb1and2.addAll(result2.get().get(&quot;list_data&quot;));\r\n            Comparator&lt;Map&lt;String, String&gt;&gt; mapComparator = (o1, o2) -&gt; o2.get(&quot;date&quot;).compareTo(o1.get(&quot;date&quot;));\r\n            comb1and2.sort(mapComparator);\r\n            returnMap.put(&quot;cmb12&quot;, comb1and2);\r\n            returnMap.put(&quot;api_3&quot;, result3.get());\r\n            returnMap.put(&quot;api_4&quot;, result4.get());\r\n        } catch (Exception e){\r\n            logger.debug(e.getMessage());\r\n        } finally {\r\n            e1.shutdown();\r\n            e2.shutdown();\r\n            e3.shutdown();\r\n            e4.shutdown();\r\n        }\r\n        return returnMap;\r\n    }\r\n\r\n    class RecommendationAndHistory implements Callable&lt;Map&gt; {\r\n        private Map params;\r\n        private int code;\r\n        public RecommendationAndHistory(Map param, int cd) {\r\n            this.params = param;\r\n            this.code = cd;\r\n        }\r\n        \r\n        @Override\r\n        public Map call() throws Exception {\r\n            if(code == 1) {\r\n                return sm.callAPI1(params);\r\n            } else if(code == 2) {\r\n                return sm.callAPI2(params);\r\n            } else if(code == 3) {\r\n                return sm.callAPI3(params);\r\n            } else if(code == 4) {\r\n                return sm.callAPI4(params);\r\n            }\r\n            return null;\r\n        } \r\n    }\r\n}\r\n```\r\n\r\nHere is example of the `callAPI1`:\r\n\r\n```\r\n    @Override\r\n    public function callAPI1(Map params) {\r\n        ExternalAPI e = externalAPIDao.getExternalAPI(&quot;API_1&quot;);\r\n        String url = e.getUrl() + &quot;/get_history&quot;;\r\n        RestMiddlewareCommunicator rest = new RestMiddlewareCommunicator();\r\n        rest.setInputStream(true);\r\n        rest.setOutputStream(true);\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        RestTemplate restTemplate = this.get_resttemplate();\r\n        HttpEntity entity = new HttpEntity(headers);\r\n        ResponseEntity&lt;Map&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, Map.class);\r\n        return response.getBody();\r\n    }\r\n```\r\nThe `externalAPIDao.getExternalAPI(String name)` contains:\r\n\r\n```\r\nSession session = this.sessionFactory.getCurrentSession();\r\nExternalAPI e = session.createQuery(&quot;from EAPI where name = :name&quot;).setParameter(&quot;name&quot;, name).uniqueResult();\r\nreturn e;\r\n```\r\n\r\nI can run the `getReturnsSeq` normally everytime, but takes very very long time. However, I got null everytime I run `getReturnsCon`. So, what is actually wrong from my code above and how to resolve it?\r\n\r\n\r\n### Edit\r\n--------------\r\n\r\n\r\nThe results of the executors were null because of the `HibernateException` that can&#39;t get the `currentSession` for the currently running thread. Therefore I come back to the sequential process although it takes a long time, since currently I can&#39;t find the way out of this.\r\n\r\nI am still wondering about how can I overcome this long execution time with multithreading without getting such exception from Hibernate. Any help is greatly appreciated!\r\n","title":"Why does my executorservice.submit returns null?","body":"<p>I want to call several external APIs concurrently with multithreading in java spring, then I use it like this:</p>\n<pre><code>@Service\npublic class ServiceImpl implements Service {\n    public static final Logger logger = LoggerFactory.getLogger(&quot;ServiceImpl&quot;);\n    \n    @Autowired\n    SM sm;\n\n    @Transactional\n    @Override\n    public Map getReturnsSeq(Map params) throws Exception {\n        Map result1 = sm.callAPI1(params);\n        Map result2 = sm.callAPI2(params);\n        Map result3 = sm.callAPI3(params);\n        Map result4 = sm.callAPI4(params);\n        Map returnMap = new HashMap&lt;&gt;();\n        List comb1and2 = new ArrayList();\n        comb1and2.addAll((List) result1.get(&quot;data&quot;));\n        comb1and2.addAll((List) result2.get(&quot;list_data&quot;));\n        Comparator&lt;Map&lt;String, String&gt;&gt; mapComparator = (o1, o2) -&gt; o2.get(&quot;date&quot;).compareTo(o1.get(&quot;date&quot;));\n        comb1and2.sort(mapComparator);\n        returnMap.put(&quot;cmb12&quot;, comb1and2);\n        returnMap.put(&quot;api_3&quot;, result3);\n        returnMap.put(&quot;api_4&quot;, result4);\n        return returnMap\n    }\n    \n    @Transactional\n    @Override\n    public Map getReturnsCon(Map params) throws Exception {\n        ExecutorService e1 = Executors.newFixedThreadPool(1);\n        ExecutorService e2 = Executors.newFixedThreadPool(1);\n        ExecutorService e3 = Executors.newFixedThreadPool(1);\n        ExecutorService e4 = Executors.newFixedThreadPool(1);\n        Map returnMap = new HashMap&lt;&gt;();\n        try {\n            Future&lt;Map&gt; result1 = e1.submit(new RecommendationAndHistory(params, 1));\n            Future&lt;Map&gt; result2 = e2.submit(new RecommendationAndHistory(params, 2));\n            Future&lt;Map&gt; result3 = e3.submit(new RecommendationAndHistory(params, 3));\n            Future&lt;Map&gt; result4 = e4.submit(new RecommendationAndHistory(params, 4));\n            \n            List comb1and2 = new ArrayList();\n            comb1and2.addAll(result1.get().get(&quot;data&quot;));\n            comb1and2.addAll(result2.get().get(&quot;list_data&quot;));\n            Comparator&lt;Map&lt;String, String&gt;&gt; mapComparator = (o1, o2) -&gt; o2.get(&quot;date&quot;).compareTo(o1.get(&quot;date&quot;));\n            comb1and2.sort(mapComparator);\n            returnMap.put(&quot;cmb12&quot;, comb1and2);\n            returnMap.put(&quot;api_3&quot;, result3.get());\n            returnMap.put(&quot;api_4&quot;, result4.get());\n        } catch (Exception e){\n            logger.debug(e.getMessage());\n        } finally {\n            e1.shutdown();\n            e2.shutdown();\n            e3.shutdown();\n            e4.shutdown();\n        }\n        return returnMap;\n    }\n\n    class RecommendationAndHistory implements Callable&lt;Map&gt; {\n        private Map params;\n        private int code;\n        public RecommendationAndHistory(Map param, int cd) {\n            this.params = param;\n            this.code = cd;\n        }\n        \n        @Override\n        public Map call() throws Exception {\n            if(code == 1) {\n                return sm.callAPI1(params);\n            } else if(code == 2) {\n                return sm.callAPI2(params);\n            } else if(code == 3) {\n                return sm.callAPI3(params);\n            } else if(code == 4) {\n                return sm.callAPI4(params);\n            }\n            return null;\n        } \n    }\n}\n</code></pre>\n<p>Here is example of the <code>callAPI1</code>:</p>\n<pre><code>    @Override\n    public function callAPI1(Map params) {\n        ExternalAPI e = externalAPIDao.getExternalAPI(&quot;API_1&quot;);\n        String url = e.getUrl() + &quot;/get_history&quot;;\n        RestMiddlewareCommunicator rest = new RestMiddlewareCommunicator();\n        rest.setInputStream(true);\n        rest.setOutputStream(true);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        RestTemplate restTemplate = this.get_resttemplate();\n        HttpEntity entity = new HttpEntity(headers);\n        ResponseEntity&lt;Map&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, Map.class);\n        return response.getBody();\n    }\n</code></pre>\n<p>The <code>externalAPIDao.getExternalAPI(String name)</code> contains:</p>\n<pre><code>Session session = this.sessionFactory.getCurrentSession();\nExternalAPI e = session.createQuery(&quot;from EAPI where name = :name&quot;).setParameter(&quot;name&quot;, name).uniqueResult();\nreturn e;\n</code></pre>\n<p>I can run the <code>getReturnsSeq</code> normally everytime, but takes very very long time. However, I got null everytime I run <code>getReturnsCon</code>. So, what is actually wrong from my code above and how to resolve it?</p>\n<h3>Edit</h3>\n<hr />\n<p>The results of the executors were null because of the <code>HibernateException</code> that can't get the <code>currentSession</code> for the currently running thread. Therefore I come back to the sequential process although it takes a long time, since currently I can't find the way out of this.</p>\n<p>I am still wondering about how can I overcome this long execution time with multithreading without getting such exception from Hibernate. Any help is greatly appreciated!</p>\n"},{"tags":["java","android","android-mediaplayer","mediabrowserservice"],"owner":{"account_id":18150016,"reputation":31,"user_id":13202887,"display_name":"Nahuel Albornoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641519164,"creation_date":1641519164,"question_id":70615606,"body_markdown":"I&#39;m creating an application where you can play all .wav files using the  [Media App Architecture][1].\r\nSo while user is listening a song, internally app is creating the reverse file of the song and save it in an specific path. It&#39;s working fine.\r\n(&quot;/storage/emulated/0/VoiceRecorder/reverse-finish.wav&quot;).\r\n\r\nBut when I want to get MediaMetadataCompat from the specific URI, it return null.\r\nThis is the code:\r\n\r\n```\r\n    public static MediaMetadataCompat getMediaMetadataFromFilePath(Context context,\r\n                                                                   Uri path) {\r\n        String[] projection = {\r\n                MediaStore.Audio.Media._ID,\r\n                MediaStore.Audio.Media.DISPLAY_NAME,\r\n                MediaStore.Audio.Media.TITLE,\r\n                MediaStore.Audio.Media.DURATION,\r\n                MediaStore.Audio.Media.DATA\r\n        };\r\n        Cursor audioCursor = context.getContentResolver().query(\r\n                MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,\r\n                projection,\r\n                MediaStore.Audio.Media._ID + &quot; = ?&quot;,\r\n                new String[]{path.getPath()},\r\n                &quot;&quot;);\r\n\r\n        if (audioCursor == null) {\r\n            return null;\r\n        }\r\n        audioCursor.moveToFirst();\r\n        int mediaId = audioCursor.getColumnIndexOrThrow(\r\n                MediaStore.Audio.Media._ID);\r\n        int name = audioCursor.getColumnIndexOrThrow(\r\n                MediaStore.Audio.Media.DISPLAY_NAME);\r\n        int duration = audioCursor.getColumnIndexOrThrow(\r\n                MediaStore.Audio.Media.DURATION);\r\n        int title = audioCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.TITLE);\r\n        int data = audioCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA);\r\n        String id = audioCursor.getString(mediaId);\r\n        MediaMetadataCompat media = createMediaMetadataCompat(\r\n                id, audioCursor.getString(title),\r\n                null, null, null,\r\n                audioCursor.getLong(duration), TimeUnit.SECONDS,\r\n                audioCursor.getString(name), 0, null,\r\n                audioCursor.getString(data));\r\n        return media;\r\n    }\r\n```\r\n\r\nCan you help what&#39;s wrong here?\r\n\r\n\r\n[1]: https://developer.android.com/guide/topics/media-apps/media-apps-overview","title":"How to get MediaMetadataCompat from an specific single File","body":"<p>I'm creating an application where you can play all .wav files using the  <a href=\"https://developer.android.com/guide/topics/media-apps/media-apps-overview\" rel=\"nofollow noreferrer\">Media App Architecture</a>.\nSo while user is listening a song, internally app is creating the reverse file of the song and save it in an specific path. It's working fine.\n(&quot;/storage/emulated/0/VoiceRecorder/reverse-finish.wav&quot;).</p>\n<p>But when I want to get MediaMetadataCompat from the specific URI, it return null.\nThis is the code:</p>\n<pre><code>    public static MediaMetadataCompat getMediaMetadataFromFilePath(Context context,\n                                                                   Uri path) {\n        String[] projection = {\n                MediaStore.Audio.Media._ID,\n                MediaStore.Audio.Media.DISPLAY_NAME,\n                MediaStore.Audio.Media.TITLE,\n                MediaStore.Audio.Media.DURATION,\n                MediaStore.Audio.Media.DATA\n        };\n        Cursor audioCursor = context.getContentResolver().query(\n                MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,\n                projection,\n                MediaStore.Audio.Media._ID + &quot; = ?&quot;,\n                new String[]{path.getPath()},\n                &quot;&quot;);\n\n        if (audioCursor == null) {\n            return null;\n        }\n        audioCursor.moveToFirst();\n        int mediaId = audioCursor.getColumnIndexOrThrow(\n                MediaStore.Audio.Media._ID);\n        int name = audioCursor.getColumnIndexOrThrow(\n                MediaStore.Audio.Media.DISPLAY_NAME);\n        int duration = audioCursor.getColumnIndexOrThrow(\n                MediaStore.Audio.Media.DURATION);\n        int title = audioCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.TITLE);\n        int data = audioCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA);\n        String id = audioCursor.getString(mediaId);\n        MediaMetadataCompat media = createMediaMetadataCompat(\n                id, audioCursor.getString(title),\n                null, null, null,\n                audioCursor.getLong(duration), TimeUnit.SECONDS,\n                audioCursor.getString(name), 0, null,\n                audioCursor.getString(data));\n        return media;\n    }\n</code></pre>\n<p>Can you help what's wrong here?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641517936,"creation_date":1641517936,"answer_id":70615479,"question_id":70606218,"body_markdown":"Inside, \r\n\r\n&gt; NewPassword() \r\n\r\nmethod just change the following code.\r\n\r\n    public void NewPassword(){\r\n     ......\r\n     save.setOnClickListener(...){\r\n        ........\r\n        temp.setOnClickListener(new View.OnClickListener(){\r\n           @Override\r\n           public void onClick(View v){\r\n              int btn_id = v.getId(); // remove this line.\r\n              btn2String(temp);  //directly pass temp i.e. Button you created. \r\n             }\r\n         });\r\n          dialog.dismiss();\r\n        }\r\n      });\r\n     ..........\r\n    }\r\n\r\n\r\nAnd, pass Button type as a parameter in btn2String() method. as below:\r\n\r\n    public void btn2String(Button x){\r\n      Button btn  = findViewById(x); // remove this line of code.\r\n      name_x = x.getText().toString();\r\n      pass_y = x.getHint().toString();\r\n      See_Password(name_x, pass_y);\r\n    }","title":"How to get Hint and Text of a button In android studio","body":"<p>Inside,</p>\n<blockquote>\n<p>NewPassword()</p>\n</blockquote>\n<p>method just change the following code.</p>\n<pre><code>public void NewPassword(){\n ......\n save.setOnClickListener(...){\n    ........\n    temp.setOnClickListener(new View.OnClickListener(){\n       @Override\n       public void onClick(View v){\n          int btn_id = v.getId(); // remove this line.\n          btn2String(temp);  //directly pass temp i.e. Button you created. \n         }\n     });\n      dialog.dismiss();\n    }\n  });\n ..........\n}\n</code></pre>\n<p>And, pass Button type as a parameter in btn2String() method. as below:</p>\n<pre><code>public void btn2String(Button x){\n  Button btn  = findViewById(x); // remove this line of code.\n  name_x = x.getText().toString();\n  pass_y = x.getHint().toString();\n  See_Password(name_x, pass_y);\n}\n</code></pre>\n"}],"owner":{"account_id":22628352,"reputation":3,"user_id":16806122,"display_name":"Malay Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70615479,"answer_count":1,"score":0,"last_activity_date":1641517936,"creation_date":1641467442,"question_id":70606218,"body_markdown":"I am using this code to get the id of the button which is clicked and then use the id to get the text and hint of the same button\r\nI don&#39;t know why but maybe this code this crashing the app after I use getID() method.\r\nI am using Relative Layout.\r\n\r\nThe Java code\r\n\r\n    package com.example.firstapp;\r\n\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.constraintlayout.widget.ConstraintLayout;\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.os.Bundle;\r\n    import android.provider.ContactsContract;\r\n    import android.text.TextUtils;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.ListView;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.ArrayList;\r\n\r\n    public class MainActivity extends AppCompatActivity{\r\n\r\n    public AlertDialog.Builder dialogBuilder;\r\n    public AlertDialog dialog;\r\n    public EditText Name,Password;\r\n    public Button Save,Cancel,temp,ok,x;\r\n    public String file_location = &quot;Passwords.txt&quot;;\r\n    public String name_x,pass_y;\r\n    public LinearLayout mylayout = null;\r\n    public RelativeLayout rl = null;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void View_Password(Button x){\r\n        ok = (Button) findViewById(R.id.button6);\r\n        ok.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    public void NewPassword(){\r\n        dialogBuilder = new AlertDialog.Builder(this);\r\n        final View NewPassSaveView = getLayoutInflater().inflate(R.layout.newpasspopup, null);\r\n\r\n        Name = (EditText) NewPassSaveView.findViewById(R.id.editTextTextPersonName);\r\n        Password = (EditText) NewPassSaveView.findViewById(R.id.editTextTextPersonName2);\r\n\r\n        Save = (Button) NewPassSaveView.findViewById(R.id.button4);\r\n        Cancel = (Button) NewPassSaveView.findViewById(R.id.button);\r\n\r\n        dialogBuilder.setView(NewPassSaveView);\r\n        dialog = dialogBuilder.create();\r\n        dialog.show();\r\n\r\n       \r\n        Save.setOnClickListener(new View.OnClickListener() {\r\n            @SuppressLint(&quot;ResourceType&quot;)\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (TextUtils.isEmpty(Name.getText().toString())) {\r\n                    Name.setError(&quot;This Field is compulsory&quot;);\r\n                    return;\r\n                } else if (TextUtils.isEmpty(Password.getText().toString())) {\r\n                    Password.setError(&quot;This Field is compulsory&quot;);\r\n                    return;\r\n                }\r\n                rl = (RelativeLayout) findViewById(R.id.layout2);\r\n                Toast.makeText(getApplicationContext(), &quot;Password Saving...&quot;, Toast.LENGTH_SHORT).show();\r\n                Toast.makeText(getApplicationContext(), &quot;Password Saved&quot;, Toast.LENGTH_SHORT).show();\r\n                Button temp = new Button(MainActivity.this);\r\n                temp.setLayoutParams(new RelativeLayout.LayoutParams(\r\n                        RelativeLayout.LayoutParams.MATCH_PARENT,\r\n                        RelativeLayout.LayoutParams.WRAP_CONTENT\r\n                ));\r\n                rl.addView(temp);\r\n                temp.setText(Name.getText().toString());\r\n                temp.setHint(Password.getText().toString());\r\n                temp.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int btn_id = v.getId();\r\n                        btn2string(btn_id);\r\n                    }\r\n                });\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n        Cancel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void AddNew(View view) {\r\n        NewPassword();\r\n    }\r\n\r\n\r\n    public void btn2string(int x){\r\n        Button btn = findViewById(x);\r\n        name_x = btn.getText().toString();\r\n        pass_y = btn.getHint().toString();\r\n        See_Password(name_x,pass_y);\r\n    }\r\n\r\n    public void See_Password(String name,String pass){\r\n        Toast.makeText(getApplicationContext(), &quot;Name: &quot;+name+&quot;\\n&quot;+&quot;Password: &quot;+pass, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n\r\n\r\n//The XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/heading&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;319dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:text=&quot;Password Manager&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.051&quot; /&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;28dp&quot;\r\n        android:layout_marginRight=&quot;28dp&quot;\r\n        android:onClick=&quot;AddNew&quot;\r\n        android:text=&quot;Add new&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.973&quot; /&gt;\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/layout2&quot;\r\n        android:layout_width=&quot;366dp&quot;\r\n        android:layout_height=&quot;541dp&quot;\r\n        android:layout_marginTop=&quot;28dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.488&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;/&gt;\r\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nPlease tell if there is any other way to do this or tell the mistakes in the above code so that I can get the hint and text of that button which is clicked...\r\n\r\nThank You.","title":"How to get Hint and Text of a button In android studio","body":"<p>I am using this code to get the id of the button which is clicked and then use the id to get the text and hint of the same button\nI don't know why but maybe this code this crashing the app after I use getID() method.\nI am using Relative Layout.</p>\n<p>The Java code</p>\n<pre><code>package com.example.firstapp;\n\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintLayout;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.provider.ContactsContract;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.ListView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity{\n\npublic AlertDialog.Builder dialogBuilder;\npublic AlertDialog dialog;\npublic EditText Name,Password;\npublic Button Save,Cancel,temp,ok,x;\npublic String file_location = &quot;Passwords.txt&quot;;\npublic String name_x,pass_y;\npublic LinearLayout mylayout = null;\npublic RelativeLayout rl = null;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n}\n\npublic void View_Password(Button x){\n    ok = (Button) findViewById(R.id.button6);\n    ok.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            dialog.dismiss();\n        }\n    });\n\n};\n\npublic void NewPassword(){\n    dialogBuilder = new AlertDialog.Builder(this);\n    final View NewPassSaveView = getLayoutInflater().inflate(R.layout.newpasspopup, null);\n\n    Name = (EditText) NewPassSaveView.findViewById(R.id.editTextTextPersonName);\n    Password = (EditText) NewPassSaveView.findViewById(R.id.editTextTextPersonName2);\n\n    Save = (Button) NewPassSaveView.findViewById(R.id.button4);\n    Cancel = (Button) NewPassSaveView.findViewById(R.id.button);\n\n    dialogBuilder.setView(NewPassSaveView);\n    dialog = dialogBuilder.create();\n    dialog.show();\n\n   \n    Save.setOnClickListener(new View.OnClickListener() {\n        @SuppressLint(&quot;ResourceType&quot;)\n        @Override\n        public void onClick(View view) {\n            if (TextUtils.isEmpty(Name.getText().toString())) {\n                Name.setError(&quot;This Field is compulsory&quot;);\n                return;\n            } else if (TextUtils.isEmpty(Password.getText().toString())) {\n                Password.setError(&quot;This Field is compulsory&quot;);\n                return;\n            }\n            rl = (RelativeLayout) findViewById(R.id.layout2);\n            Toast.makeText(getApplicationContext(), &quot;Password Saving...&quot;, Toast.LENGTH_SHORT).show();\n            Toast.makeText(getApplicationContext(), &quot;Password Saved&quot;, Toast.LENGTH_SHORT).show();\n            Button temp = new Button(MainActivity.this);\n            temp.setLayoutParams(new RelativeLayout.LayoutParams(\n                    RelativeLayout.LayoutParams.MATCH_PARENT,\n                    RelativeLayout.LayoutParams.WRAP_CONTENT\n            ));\n            rl.addView(temp);\n            temp.setText(Name.getText().toString());\n            temp.setHint(Password.getText().toString());\n            temp.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    int btn_id = v.getId();\n                    btn2string(btn_id);\n                }\n            });\n            dialog.dismiss();\n        }\n    });\n\n    Cancel.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            dialog.dismiss();\n        }\n    });\n}\n\npublic void AddNew(View view) {\n    NewPassword();\n}\n\n\npublic void btn2string(int x){\n    Button btn = findViewById(x);\n    name_x = btn.getText().toString();\n    pass_y = btn.getHint().toString();\n    See_Password(name_x,pass_y);\n}\n\npublic void See_Password(String name,String pass){\n    Toast.makeText(getApplicationContext(), &quot;Name: &quot;+name+&quot;\\n&quot;+&quot;Password: &quot;+pass, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>}</p>\n<p>//The XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/heading&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n&lt;TextView\n    android:id=&quot;@+id/textView4&quot;\n    android:layout_width=&quot;319dp&quot;\n    android:layout_height=&quot;50dp&quot;\n    android:text=&quot;Password Manager&quot;\n    android:textSize=&quot;34sp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.051&quot; /&gt;\n&lt;Button\n    android:id=&quot;@+id/button2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginEnd=&quot;28dp&quot;\n    android:layout_marginRight=&quot;28dp&quot;\n    android:onClick=&quot;AddNew&quot;\n    android:text=&quot;Add new&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;\n    app:layout_constraintVertical_bias=&quot;0.973&quot; /&gt;\n&lt;RelativeLayout\n    android:id=&quot;@+id/layout2&quot;\n    android:layout_width=&quot;366dp&quot;\n    android:layout_height=&quot;541dp&quot;\n    android:layout_marginTop=&quot;28dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.488&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;\n    app:layout_constraintVertical_bias=&quot;0.0&quot;/&gt;\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Please tell if there is any other way to do this or tell the mistakes in the above code so that I can get the hint and text of that button which is clicked...</p>\n<p>Thank You.</p>\n"},{"tags":["java","spring","spring-boot","caching","redis"],"answers":[{"tags":[],"owner":{"account_id":7145290,"reputation":28,"user_id":5461225,"display_name":"Ty Viera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641413729,"creation_date":1641413397,"answer_id":70599045,"question_id":70594575,"body_markdown":"You couldn&#39;t do this, because all cache technology uses key-value store. So if you use multiple parameters for key like this:\r\n\r\n    key = &quot;{#customerName+&#39;s orders&#39;, #page, #size}&quot;\r\n\r\nSpring creates a hash as key, for example: -172893112.\r\n\r\nRef: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/cache.html#cache-annotations-cacheable-default-key\r\n\r\nI recommend to you that change the cache name to use &quot;&#39;List&lt;Order&gt;&#39; + #customerName+&#39;s orders&#39;&quot; but that is not supported using annotations at least that you use CacheResolver. See &lt;a href=&quot;https://spring.io/blog/2014/06/16/further-cache-improvements-in-spring-4-1&quot;&gt;here&lt;/a&gt;.\r\n\r\n    @GetMapping(&quot;/orders&quot;)\r\n    @Cacheable(value = &quot;List&lt;Order&gt;&quot;, key = &quot;{#customerName+&#39;s orders&#39;, #page, #size}&quot;)\r\n    public List&lt;Order&gt; findOrders(@RequestParam(&quot;customerName&quot;) String customerName, @RequestParam(name = &quot;page&quot;) int page, @RequestParam(name = &quot;size&quot;) int size) {\r\n      //...\r\n      List&lt;Order&gt; result = //...Do the operation\r\n      String cacheName = &quot;List&lt;Order&gt;&quot; + customerName + &quot;s orders&quot;;\r\n      redisTemplate\r\n        .opsForHash()\r\n        .put(cacheName, Objects.hash(customerName, page, size), result);\r\n    }\r\n\r\nAfter that, the evict method should be:\r\n\r\n    @PostMapping(&quot;/order&quot;)\r\n    public Order makeOrder(@RequestBody MakeOrderDTO makeOrderDTO) {\r\n      String cacheName = &quot;List&lt;Order&gt;&quot; + makeOrderDTO.getCustomerDTO().getName() + &quot;s orders&quot;;\r\n      redisTemplate\r\n        .opsForHash()\r\n        .keys(cacheName)\r\n        .forEach(x -&gt; redisTemplate.opsForHash().delete(cacheName, x));\r\n\r\n      //...Do operations\r\n    }\r\n\r\nYou could check this another post: https://stackoverflow.com/questions/40992604/cache-evict-on-one-of-multiple-keys","title":"Spring Boot Redis Cache remove cache with multiple key","body":"<p>You couldn't do this, because all cache technology uses key-value store. So if you use multiple parameters for key like this:</p>\n<pre><code>key = &quot;{#customerName+'s orders', #page, #size}&quot;\n</code></pre>\n<p>Spring creates a hash as key, for example: -172893112.</p>\n<p>Ref: <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/cache.html#cache-annotations-cacheable-default-key\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/cache.html#cache-annotations-cacheable-default-key</a></p>\n<p>I recommend to you that change the cache name to use &quot;'List' + #customerName+'s orders'&quot; but that is not supported using annotations at least that you use CacheResolver. See <a href=\"https://spring.io/blog/2014/06/16/further-cache-improvements-in-spring-4-1\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>@GetMapping(&quot;/orders&quot;)\n@Cacheable(value = &quot;List&lt;Order&gt;&quot;, key = &quot;{#customerName+'s orders', #page, #size}&quot;)\npublic List&lt;Order&gt; findOrders(@RequestParam(&quot;customerName&quot;) String customerName, @RequestParam(name = &quot;page&quot;) int page, @RequestParam(name = &quot;size&quot;) int size) {\n  //...\n  List&lt;Order&gt; result = //...Do the operation\n  String cacheName = &quot;List&lt;Order&gt;&quot; + customerName + &quot;s orders&quot;;\n  redisTemplate\n    .opsForHash()\n    .put(cacheName, Objects.hash(customerName, page, size), result);\n}\n</code></pre>\n<p>After that, the evict method should be:</p>\n<pre><code>@PostMapping(&quot;/order&quot;)\npublic Order makeOrder(@RequestBody MakeOrderDTO makeOrderDTO) {\n  String cacheName = &quot;List&lt;Order&gt;&quot; + makeOrderDTO.getCustomerDTO().getName() + &quot;s orders&quot;;\n  redisTemplate\n    .opsForHash()\n    .keys(cacheName)\n    .forEach(x -&gt; redisTemplate.opsForHash().delete(cacheName, x));\n\n  //...Do operations\n}\n</code></pre>\n<p>You could check this another post: <a href=\"https://stackoverflow.com/questions/40992604/cache-evict-on-one-of-multiple-keys\">Cache evict on one of multiple keys</a></p>\n"},{"tags":[],"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641517892,"creation_date":1641517892,"answer_id":70615469,"question_id":70594575,"body_markdown":"Looking at your initial method:\r\n\r\n\r\n````\r\n@GetMapping(&quot;/orders&quot;)\r\n@Cacheable(value = &quot;List&lt;Order&gt;&quot;, key = &quot;{#customerName+&#39;s orders&#39;, #page, #size}&quot;)\r\npublic List&lt;Order&gt; findOrders(@RequestParam(&quot;customerName&quot;) String customerName,\r\n                              @RequestParam(name = &quot;page&quot;) int page,\r\n                              @RequestParam(name = &quot;size&quot;) int size) {\r\n...\r\n````\r\n\r\nGuessing from the signature, the method is doing many things:\r\n\r\n- retrieve orders from somewhere\r\n- do some pagination\r\n- providing a REST interface\r\n\r\nIf the pagination parameter varies, you may retrieve and cache the same order multiple times. Once making a new order, you would need to re-read the previous orders, that were not changed. That is sub optimal.\r\n\r\nI suggest separating the concerns of data access and caching the data and servicing the web request in two classes or layers, since the web layer sits on top of the data access layer.\r\n\r\nAlso, always use ids and not the customer name as key, since names may have duplicates and also change (yes, it happens! Typos, marriage and company mergers).\r\n\r\nFor caching query results I always suggest caching the query result and the data separately. E.g. in your case in the data access layer:\r\n\r\n````\r\npublic List&lt;Integer&gt; findOrders(int customerId);\r\npublic Order retrieveOrder(int orderId);\r\n````\r\n\r\nUse two separate caches for it.\r\n\r\nYou can then implement the pagination in the REST layer.\r\n\r\n````\r\npublic Order makeOrder(MakeOrderDTO makeOrderDTO)\r\n````\r\n\r\nWhen placing a new order, the query result with the order list becomes invalid. You can either add the ID, or use evict to invalidate the query result cache. However, this will not effect the cache with the actual order data.\r\n\r\nI left out the actual Spring caching annotations. As soon as you have sorted the interfaces, these should be simple and straight forward.","title":"Spring Boot Redis Cache remove cache with multiple key","body":"<p>Looking at your initial method:</p>\n<pre><code>@GetMapping(&quot;/orders&quot;)\n@Cacheable(value = &quot;List&lt;Order&gt;&quot;, key = &quot;{#customerName+'s orders', #page, #size}&quot;)\npublic List&lt;Order&gt; findOrders(@RequestParam(&quot;customerName&quot;) String customerName,\n                              @RequestParam(name = &quot;page&quot;) int page,\n                              @RequestParam(name = &quot;size&quot;) int size) {\n...\n</code></pre>\n<p>Guessing from the signature, the method is doing many things:</p>\n<ul>\n<li>retrieve orders from somewhere</li>\n<li>do some pagination</li>\n<li>providing a REST interface</li>\n</ul>\n<p>If the pagination parameter varies, you may retrieve and cache the same order multiple times. Once making a new order, you would need to re-read the previous orders, that were not changed. That is sub optimal.</p>\n<p>I suggest separating the concerns of data access and caching the data and servicing the web request in two classes or layers, since the web layer sits on top of the data access layer.</p>\n<p>Also, always use ids and not the customer name as key, since names may have duplicates and also change (yes, it happens! Typos, marriage and company mergers).</p>\n<p>For caching query results I always suggest caching the query result and the data separately. E.g. in your case in the data access layer:</p>\n<pre><code>public List&lt;Integer&gt; findOrders(int customerId);\npublic Order retrieveOrder(int orderId);\n</code></pre>\n<p>Use two separate caches for it.</p>\n<p>You can then implement the pagination in the REST layer.</p>\n<pre><code>public Order makeOrder(MakeOrderDTO makeOrderDTO)\n</code></pre>\n<p>When placing a new order, the query result with the order list becomes invalid. You can either add the ID, or use evict to invalidate the query result cache. However, this will not effect the cache with the actual order data.</p>\n<p>I left out the actual Spring caching annotations. As soon as you have sorted the interfaces, these should be simple and straight forward.</p>\n"}],"owner":{"account_id":16066054,"reputation":29,"user_id":11595665,"display_name":"Mishamba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641517892,"creation_date":1641392877,"question_id":70594575,"body_markdown":"I have a method that saves cache. \r\n\r\n    @GetMapping(&quot;/orders&quot;)\r\n    @Cacheable(value = &quot;List&lt;Order&gt;&quot;, key = &quot;{#customerName+&#39;s orders&#39;, #page, #size}&quot;)\r\n    public List&lt;Order&gt; findOrders(@RequestParam(&quot;customerName&quot;) String customerName,\r\n                                  @RequestParam(name = &quot;page&quot;) int page,\r\n                                  @RequestParam(name = &quot;size&quot;) int size) {\r\n    ...\r\n\r\n\r\nAnd I want to remove this cache after calling of this method.\r\n\r\n    @PostMapping(&quot;/order&quot;)\r\n    @CacheEvict(value = &quot;*&quot;,key=&quot;{#makeOrderDTO.customerDTO.name+&#39;s orders&#39;, &#39;&#39;, &#39;regex:*&#39;}&quot;)\r\n    public Order makeOrder(@RequestBody MakeOrderDTO makeOrderDTO) {\r\n\r\nI have a problem that I want to remove all cached pages for customers, but I can&#39;t remove only one type of page. So I need to remove customers with all pages sizes and numbers. Maybe there is some kind of functionality like\r\n\r\n    @PostMapping(&quot;/order&quot;)\r\n    @CacheEvict(value = &quot;*&quot;,key=&quot;{#makeOrderDTO.customerDTO.name+&#39;s orders&#39;, &#39;regex:*&#39;, &#39;regex:*&#39;}&quot;)\r\n    public Order makeOrder(@RequestBody MakeOrderDTO makeOrderDTO) {\r\n\r\nor\r\n\r\n    @PostMapping(&quot;/order&quot;)\r\n    @CacheEvict(value = &quot;*&quot;,key=&quot;{#makeOrderDTO.customerDTO.name+&#39;s orders&#39;, &#39;any&#39;, &#39;any&#39;}&quot;)\r\n    public Order makeOrder(@RequestBody MakeOrderDTO makeOrderDTO) {\r\n\r\nThanks in advance.\r\n\r\n\r\n----------\r\n","title":"Spring Boot Redis Cache remove cache with multiple key","body":"<p>I have a method that saves cache.</p>\n<pre><code>@GetMapping(&quot;/orders&quot;)\n@Cacheable(value = &quot;List&lt;Order&gt;&quot;, key = &quot;{#customerName+'s orders', #page, #size}&quot;)\npublic List&lt;Order&gt; findOrders(@RequestParam(&quot;customerName&quot;) String customerName,\n                              @RequestParam(name = &quot;page&quot;) int page,\n                              @RequestParam(name = &quot;size&quot;) int size) {\n...\n</code></pre>\n<p>And I want to remove this cache after calling of this method.</p>\n<pre><code>@PostMapping(&quot;/order&quot;)\n@CacheEvict(value = &quot;*&quot;,key=&quot;{#makeOrderDTO.customerDTO.name+'s orders', '', 'regex:*'}&quot;)\npublic Order makeOrder(@RequestBody MakeOrderDTO makeOrderDTO) {\n</code></pre>\n<p>I have a problem that I want to remove all cached pages for customers, but I can't remove only one type of page. So I need to remove customers with all pages sizes and numbers. Maybe there is some kind of functionality like</p>\n<pre><code>@PostMapping(&quot;/order&quot;)\n@CacheEvict(value = &quot;*&quot;,key=&quot;{#makeOrderDTO.customerDTO.name+'s orders', 'regex:*', 'regex:*'}&quot;)\npublic Order makeOrder(@RequestBody MakeOrderDTO makeOrderDTO) {\n</code></pre>\n<p>or</p>\n<pre><code>@PostMapping(&quot;/order&quot;)\n@CacheEvict(value = &quot;*&quot;,key=&quot;{#makeOrderDTO.customerDTO.name+'s orders', 'any', 'any'}&quot;)\npublic Order makeOrder(@RequestBody MakeOrderDTO makeOrderDTO) {\n</code></pre>\n<p>Thanks in advance.</p>\n<hr />\n"},{"tags":["java","regex","java-8"],"answers":[{"tags":[],"owner":{"account_id":3541863,"reputation":626,"user_id":2958717,"display_name":"doctorgu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641515573,"creation_date":1641515465,"answer_id":70615242,"question_id":70615198,"body_markdown":"I modified your pattern to fit your requirement as following.\r\n\r\n```\r\n([0-9]{1,2}(\\.[0-9]{1,2})*)-([0-9]{1,2}(\\.[0-9]{1,2})*)[%]*\r\n```\r\n\r\nI only added optional (`*`) to the decimal place and second number part.\r\nAnd I assumed that number before or after the decimal place is limited to length 1 to 2, although you did not say so.\r\n\r\nhttps://regex101.com/r/5fpUB2/1\r\n","title":"Plucking ranged percentages via regex","body":"<p>I modified your pattern to fit your requirement as following.</p>\n<pre><code>([0-9]{1,2}(\\.[0-9]{1,2})*)-([0-9]{1,2}(\\.[0-9]{1,2})*)[%]*\n</code></pre>\n<p>I only added optional (<code>*</code>) to the decimal place and second number part.\nAnd I assumed that number before or after the decimal place is limited to length 1 to 2, although you did not say so.</p>\n<p><a href=\"https://regex101.com/r/5fpUB2/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/5fpUB2/1</a></p>\n"},{"tags":[],"owner":{"account_id":15702039,"reputation":18231,"user_id":11329890,"display_name":"Ryszard Czech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641516550,"creation_date":1641516550,"answer_id":70615338,"question_id":70615198,"body_markdown":"Use\r\n```java\r\nPattern pattern = Pattern.compile(&quot;(\\\\d+(?:\\\\.\\\\d+)?)-(\\\\d+(?:\\\\.\\\\d+)?)%*&quot;);\r\n```\r\nSee [regex proof][1].\r\n\r\n**EXPLANATION**\r\n```java\r\n--------------------------------------------------------------------------------\r\n  (                        group and capture to \\1:\r\n--------------------------------------------------------------------------------\r\n    \\d+                      digits (0-9) (1 or more times (matching\r\n                             the most amount possible))\r\n--------------------------------------------------------------------------------\r\n    (?:                      group, but do not capture (optional\r\n                             (matching the most amount possible)):\r\n--------------------------------------------------------------------------------\r\n      \\.                       &#39;.&#39;\r\n--------------------------------------------------------------------------------\r\n      \\d+                      digits (0-9) (1 or more times\r\n                               (matching the most amount possible))\r\n--------------------------------------------------------------------------------\r\n    )?                       end of grouping\r\n--------------------------------------------------------------------------------\r\n  )                        end of \\1\r\n--------------------------------------------------------------------------------\r\n  -                        &#39;-&#39;\r\n--------------------------------------------------------------------------------\r\n  (                        group and capture to \\2:\r\n--------------------------------------------------------------------------------\r\n    \\d+                      digits (0-9) (1 or more times (matching\r\n                             the most amount possible))\r\n--------------------------------------------------------------------------------\r\n    (?:                      group, but do not capture (optional\r\n                             (matching the most amount possible)):\r\n--------------------------------------------------------------------------------\r\n      \\.                       &#39;.&#39;\r\n--------------------------------------------------------------------------------\r\n      \\d+                      digits (0-9) (1 or more times\r\n                               (matching the most amount possible))\r\n--------------------------------------------------------------------------------\r\n    )?                       end of grouping\r\n--------------------------------------------------------------------------------\r\n  )                        end of \\2\r\n--------------------------------------------------------------------------------\r\n  %*                       &#39;%&#39; (0 or more times (matching the most\r\n                           amount possible))\r\n```\r\n\r\n  [1]: https://regex101.com/r/eJfX7y/1","title":"Plucking ranged percentages via regex","body":"<p>Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;(\\\\d+(?:\\\\.\\\\d+)?)-(\\\\d+(?:\\\\.\\\\d+)?)%*&quot;);\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/eJfX7y/1\" rel=\"nofollow noreferrer\">regex proof</a>.</p>\n<p><strong>EXPLANATION</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>--------------------------------------------------------------------------------\n  (                        group and capture to \\1:\n--------------------------------------------------------------------------------\n    \\d+                      digits (0-9) (1 or more times (matching\n                             the most amount possible))\n--------------------------------------------------------------------------------\n    (?:                      group, but do not capture (optional\n                             (matching the most amount possible)):\n--------------------------------------------------------------------------------\n      \\.                       '.'\n--------------------------------------------------------------------------------\n      \\d+                      digits (0-9) (1 or more times\n                               (matching the most amount possible))\n--------------------------------------------------------------------------------\n    )?                       end of grouping\n--------------------------------------------------------------------------------\n  )                        end of \\1\n--------------------------------------------------------------------------------\n  -                        '-'\n--------------------------------------------------------------------------------\n  (                        group and capture to \\2:\n--------------------------------------------------------------------------------\n    \\d+                      digits (0-9) (1 or more times (matching\n                             the most amount possible))\n--------------------------------------------------------------------------------\n    (?:                      group, but do not capture (optional\n                             (matching the most amount possible)):\n--------------------------------------------------------------------------------\n      \\.                       '.'\n--------------------------------------------------------------------------------\n      \\d+                      digits (0-9) (1 or more times\n                               (matching the most amount possible))\n--------------------------------------------------------------------------------\n    )?                       end of grouping\n--------------------------------------------------------------------------------\n  )                        end of \\2\n--------------------------------------------------------------------------------\n  %*                       '%' (0 or more times (matching the most\n                           amount possible))\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70615242,"answer_count":2,"score":0,"last_activity_date":1641516550,"creation_date":1641514885,"question_id":70615198,"body_markdown":"I am accepting a string from user input and trying to determine if it matches a regex. If it does I need to pluck certain matched groups out of the input and process them.\r\n\r\nThe valid string must be of the form:\r\n\r\n- 1 number that can consist of integers or floating points (decimal point)\r\n- followed by a hyphen (&quot;`-`&quot;)\r\n- followed by another number (same as the first)\r\n- **optionally** ended with a percent sign (&quot;`%`&quot;)\r\n\r\nExamples of valid string inputs:\r\n\r\n- &quot;6-9&quot;\r\n- &quot;6.5-9&quot;\r\n- &quot;6-9.24&quot;\r\n- &quot;6-9%&quot;\r\n- &quot;6.5-9%&quot;\r\n- &quot;6.24-9.23%&quot;\r\n\r\nMy best attempt:\r\n```\r\nString numRange = getFromUser();\r\nPattern pattern = Pattern.compile(&quot;([0-9]{1,2}\\.[0-9]{1,2})-([0-9]{1,2}\\.[0-9]{1,2})[%]*&quot;);\r\nMatcher matcher = pattern.matcher(numRange);\r\nif (matcher.matches()) {\r\n    String lowRangeVal = matcher.group(1);\r\n    String highRangeVal = matcher.group(2);\r\n\r\n    // continue processing here\r\n}\r\n```\r\n\r\nDoes not work. Can anyone spot where I&#39;m going awry?","title":"Plucking ranged percentages via regex","body":"<p>I am accepting a string from user input and trying to determine if it matches a regex. If it does I need to pluck certain matched groups out of the input and process them.</p>\n<p>The valid string must be of the form:</p>\n<ul>\n<li>1 number that can consist of integers or floating points (decimal point)</li>\n<li>followed by a hyphen (&quot;<code>-</code>&quot;)</li>\n<li>followed by another number (same as the first)</li>\n<li><strong>optionally</strong> ended with a percent sign (&quot;<code>%</code>&quot;)</li>\n</ul>\n<p>Examples of valid string inputs:</p>\n<ul>\n<li>&quot;6-9&quot;</li>\n<li>&quot;6.5-9&quot;</li>\n<li>&quot;6-9.24&quot;</li>\n<li>&quot;6-9%&quot;</li>\n<li>&quot;6.5-9%&quot;</li>\n<li>&quot;6.24-9.23%&quot;</li>\n</ul>\n<p>My best attempt:</p>\n<pre><code>String numRange = getFromUser();\nPattern pattern = Pattern.compile(&quot;([0-9]{1,2}\\.[0-9]{1,2})-([0-9]{1,2}\\.[0-9]{1,2})[%]*&quot;);\nMatcher matcher = pattern.matcher(numRange);\nif (matcher.matches()) {\n    String lowRangeVal = matcher.group(1);\n    String highRangeVal = matcher.group(2);\n\n    // continue processing here\n}\n</code></pre>\n<p>Does not work. Can anyone spot where I'm going awry?</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1513274121,"post_id":3284979,"comment_id":82600847,"body_markdown":"Related to https://stackoverflow.com/questions/3678136/managing-several-versions-of-serialized-java-objects/14946099#14946099","body":"Related to <a href=\"https://stackoverflow.com/questions/3678136/managing-several-versions-of-serialized-java-objects/14946099#14946099\" title=\"managing several versions of serialized java objects\">stackoverflow.com/questions/3678136/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1641515937,"creation_date":1279573003,"answer_id":3285023,"question_id":3284979,"body_markdown":"The value of the serialVersionUID field should ideally be changed when incompatible changes are made to the structure of the class. The complete list of incompatible changes is present \r\nin the [Java Object Serialization Specification][1].\r\n\r\nTo expand further, incompatible changes to a class will prevent the deserialization mechanism from creating an instance of the object, because there is information in the stream that does not map to the current class definition.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/platform/serialization/spec/version.html#6678","title":"When do I have to change the serialVersionUID?","body":"<p>The value of the serialVersionUID field should ideally be changed when incompatible changes are made to the structure of the class. The complete list of incompatible changes is present\nin the <a href=\"http://docs.oracle.com/javase/6/docs/platform/serialization/spec/version.html#6678\" rel=\"noreferrer\">Java Object Serialization Specification</a>.</p>\n<p>To expand further, incompatible changes to a class will prevent the deserialization mechanism from creating an instance of the object, because there is information in the stream that does not map to the current class definition.</p>\n"},{"tags":[],"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1316323615,"creation_date":1279578469,"answer_id":3285596,"question_id":3284979,"body_markdown":"If you don&#39;t specify a `serialVersionUID` field in your `Serializable` classes, the Java compiler will specify one for you -- essentially it&#39;s a hash of the class name, interface names, methods, and fields of the class. Methods can be altered at any time, though, so if you need to change how a stored class is deserialized, you can override the readObject method. If you do specify the `serialVersionUID` field in your code, though, the compiler won&#39;t override that even if you do make incompatible changes, which can result in an **exception at runtime -- your IDE or compiler won&#39;t give you a warning. (EDIT -- thanks EJP)** IDEs such as Eclipse can insert the compiler&#39;s UID for you, if you want to easily check how the compiler views certain changes.\r\n\r\nIf you make changes often, keep an old version of the disk file around to test deserialization with. You can write unit tests to try and read in the old file, and see if it works or if it&#39;s totally incompatible.\r\n\r\nOne caveat, I&#39;ve personally experienced the pain that is working with `Serializable` classes originally intended for long-term storage that were improperly designed. For example, storing GUI elements on disk rather than creating them when needed. Ask yourself if `Serializable` is really the best way to save your data.","title":"When do I have to change the serialVersionUID?","body":"<p>If you don't specify a <code>serialVersionUID</code> field in your <code>Serializable</code> classes, the Java compiler will specify one for you -- essentially it's a hash of the class name, interface names, methods, and fields of the class. Methods can be altered at any time, though, so if you need to change how a stored class is deserialized, you can override the readObject method. If you do specify the <code>serialVersionUID</code> field in your code, though, the compiler won't override that even if you do make incompatible changes, which can result in an <strong>exception at runtime -- your IDE or compiler won't give you a warning. (EDIT -- thanks EJP)</strong> IDEs such as Eclipse can insert the compiler's UID for you, if you want to easily check how the compiler views certain changes.</p>\n\n<p>If you make changes often, keep an old version of the disk file around to test deserialization with. You can write unit tests to try and read in the old file, and see if it works or if it's totally incompatible.</p>\n\n<p>One caveat, I've personally experienced the pain that is working with <code>Serializable</code> classes originally intended for long-term storage that were improperly designed. For example, storing GUI elements on disk rather than creating them when needed. Ask yourself if <code>Serializable</code> is really the best way to save your data.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1569026210,"creation_date":1279615221,"answer_id":3288280,"question_id":3284979,"body_markdown":"The frequently-repeated mantra about changing the `serialVersionUID` every time you change the class is complete and utter nonsense. See [this Sun article][1] which they republished on their site and which was migrated to the Oracle Technology Network after the acquisition.\r\n\r\nYou should change the `serialVersionUID` *only* when you deliberately want to break compatibility with all existing serializations, or when your changes to the class are so radical that you have no choice - in which case you should really think several times about what it is that you are actually doing.\r\n\r\nIn all other cases you should bust your boiler trying to use custom `readObject()/writeObject()` and/or `writeReplace()/readResolve()` methods and/or `serialFields` annotations so that you can continue to read objects from those existing serializations. Once you break that you are in for a major headache, indeed nightmare.\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/javaserial-1536170.html &quot;this Sun article&quot;","title":"When do I have to change the serialVersionUID?","body":"<p>The frequently-repeated mantra about changing the <code>serialVersionUID</code> every time you change the class is complete and utter nonsense. See <a href=\"http://www.oracle.com/technetwork/articles/java/javaserial-1536170.html\" rel=\"noreferrer\" title=\"this Sun article\">this Sun article</a> which they republished on their site and which was migrated to the Oracle Technology Network after the acquisition.</p>\n\n<p>You should change the <code>serialVersionUID</code> <em>only</em> when you deliberately want to break compatibility with all existing serializations, or when your changes to the class are so radical that you have no choice - in which case you should really think several times about what it is that you are actually doing.</p>\n\n<p>In all other cases you should bust your boiler trying to use custom <code>readObject()/writeObject()</code> and/or <code>writeReplace()/readResolve()</code> methods and/or <code>serialFields</code> annotations so that you can continue to read objects from those existing serializations. Once you break that you are in for a major headache, indeed nightmare.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1279837832,"creation_date":1279837832,"answer_id":3314019,"question_id":3284979,"body_markdown":"You can set serialiVersionUID to the same value for the life of the class. (Not always a good idea) Note: you can implement your own serialization version checking strategy with readObject/writeObject if you need this and leave the UID unchanged.\r\n\r\nThe only time you MUST change it is if you have already serialized some data to a file and you want to read it. If it has changed for any reason you MUST set the serialiVersionUID to the version in the file to have any hope of being able to read the data.","title":"When do I have to change the serialVersionUID?","body":"<p>You can set serialiVersionUID to the same value for the life of the class. (Not always a good idea) Note: you can implement your own serialization version checking strategy with readObject/writeObject if you need this and leave the UID unchanged.</p>\n\n<p>The only time you MUST change it is if you have already serialized some data to a file and you want to read it. If it has changed for any reason you MUST set the serialiVersionUID to the version in the file to have any hope of being able to read the data.</p>\n"},{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550690077,"creation_date":1550683183,"answer_id":54792016,"question_id":3284979,"body_markdown":"For the sake of completeness, here&#39;s a list of changes that break the compatibility of Java serialization according to the [java 8 spec][1]:\r\n\r\n- Deleting fields\r\n- Moving classes up or down the hierarchy\r\n- Changing a nonstatic field to static or a nontransient field to transient \r\n- Changing the declared type of a primitive field \r\n- Changing the writeObject or readObject method so that it no longer writes or reads the default field data or changing it so that it attempts to write it or read it when the previous version did not.\r\n- Changing a class from Serializable to Externalizable or vice versa\r\n- Changing a class from a non-enum type to an enum type or vice versa \r\n- Removing either Serializable or Externalizable\r\n- Adding the writeReplace or readResolve method to a class\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/platform/serialization/spec/version.html#a6678","title":"When do I have to change the serialVersionUID?","body":"<p>For the sake of completeness, here's a list of changes that break the compatibility of Java serialization according to the <a href=\"https://docs.oracle.com/javase/8/docs/platform/serialization/spec/version.html#a6678\" rel=\"noreferrer\">java 8 spec</a>:</p>\n\n<ul>\n<li>Deleting fields</li>\n<li>Moving classes up or down the hierarchy</li>\n<li>Changing a nonstatic field to static or a nontransient field to transient </li>\n<li>Changing the declared type of a primitive field </li>\n<li>Changing the writeObject or readObject method so that it no longer writes or reads the default field data or changing it so that it attempts to write it or read it when the previous version did not.</li>\n<li>Changing a class from Serializable to Externalizable or vice versa</li>\n<li>Changing a class from a non-enum type to an enum type or vice versa </li>\n<li>Removing either Serializable or Externalizable</li>\n<li>Adding the writeReplace or readResolve method to a class</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22517241,"reputation":21,"user_id":16711293,"display_name":"Thien Diep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631928350,"creation_date":1631928350,"answer_id":69230879,"question_id":3284979,"body_markdown":"To declare your own serialVersionUID in java, type this in the \r\nserialized object class:\r\n\r\n\r\n@Serial\r\n\r\nprivate static final long serialVersionUID = desired_number;\r\n","title":"When do I have to change the serialVersionUID?","body":"<p>To declare your own serialVersionUID in java, type this in the\nserialized object class:</p>\n<p>@Serial</p>\n<p>private static final long serialVersionUID = desired_number;</p>\n"}],"owner":{"account_id":87908,"reputation":21547,"user_id":243494,"accept_rate":81,"display_name":"Kyle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26561,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":3285023,"answer_count":6,"score":63,"last_activity_date":1641515937,"creation_date":1279572706,"question_id":3284979,"body_markdown":"I know that I can use serialVersionUID to control the version of classes.  And I read that I can then add or remove fields and the class will still be compatible, it will just use default values.\r\n\r\nWhen **must** I change the serialVersionUID?","title":"When do I have to change the serialVersionUID?","body":"<p>I know that I can use serialVersionUID to control the version of classes.  And I read that I can then add or remove fields and the class will still be compatible, it will just use default values.</p>\n\n<p>When <strong>must</strong> I change the serialVersionUID?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1641495953,"post_id":70612314,"comment_id":124825137,"body_markdown":"So, you need to delete from the 1st list all elements that are present in the 2nd?","body":"So, you need to delete from the 1st list all elements that are present in the 2nd?"},{"owner":{"account_id":22809330,"reputation":23,"user_id":16960910,"display_name":"nbhat01"},"score":0,"creation_date":1641496448,"post_id":70612314,"comment_id":124825330,"body_markdown":"@PM77-1 Yeah, would rather it be in brute force because this is for a class","body":"@PM77-1 Yeah, would rather it be in brute force because this is for a class"}],"answers":[{"tags":[],"owner":{"account_id":22809330,"reputation":23,"user_id":16960910,"display_name":"nbhat01"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641515780,"creation_date":1641497614,"answer_id":70612675,"question_id":70612314,"body_markdown":"Solution was pretty simple, I just had to do `i--` after I removed an element since everything moves left 1. \r\n\r\nHad to do the prompt this way since it was a assignment for a class, I know there are much better ways. ","title":"How to clear duplicates comparing two arraylists?","body":"<p>Solution was pretty simple, I just had to do <code>i--</code> after I removed an element since everything moves left 1.</p>\n<p>Had to do the prompt this way since it was a assignment for a class, I know there are much better ways.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641507693,"creation_date":1641505411,"answer_id":70613977,"question_id":70612314,"body_markdown":"There are many ways to do this. However, one thing you need to keep in mind is that your loop should not be depending on the collection size if you are going to be modifying it; particularly if you are removing elements. The best way to modify a collection while iterating through it, is to use the collection&#39;s Iterator object and use that to determine your loop condition. For example, the code below is equivalent to what you are trying to do:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        List&lt;String&gt; firstArr = new ArrayList&lt;&gt;();\r\n        firstArr.add(&quot;Jeremy&quot;);\r\n        firstArr.add(&quot;Nick&quot;);\r\n        firstArr.add(&quot;Noah&quot;);\r\n        firstArr.add(&quot;Liam&quot;);\r\n        firstArr.add(&quot;Olivia&quot;);\r\n    \r\n        List&lt;String&gt; secondArr = new ArrayList&lt;&gt;();\r\n        secondArr.add(&quot;Elijah&quot;);\r\n        secondArr.add(&quot;Jeremy&quot;);\r\n        secondArr.add(&quot;Olivia&quot;);\r\n        secondArr.add(&quot;Sophia&quot;);\r\n        secondArr.add(&quot;Charlotte&quot;);\r\n    \r\n        Iterator&lt;String&gt; firstIter = firstArr.iterator();\r\n        while (firstIter.hasNext()) {\r\n            String elem = firstIter.next();\r\n            Iterator&lt;String&gt; secondIter = secondArr.iterator();\r\n            while (secondIter.hasNext()) {\r\n                String otherElem = secondIter.next(); // reacquire the iterator after each iteration. \r\n                if (elem.equals(otherElem)) {\r\n                    firstIter.remove(); // safely removes the current item using Iterator#remove()\r\n                }\r\n            }\r\n        }\r\n        System.out.println(firstArr);\r\n    }\r\n\r\nThe output is as expected `[Nick, Noah, Liam]`\r\n\r\nAs you can see, the loop condition doesn&#39;t depend on the collection&#39;s size; only in a condition that checks is there are more elements to check. If there aren&#39;t any, it simply exits the loop (or won&#39;t allow the loop to start altogether). This is the recommended way to iterate while modifying a collection.\r\n\r\nI am not saying this is the best way for THIS particular problem, but it is one way of solving this problem AND something you have to know if you ever need to modify a collection while iterating through it. IN FACT. this specific problem can be best solved using Java Streams:\r\n\r\n    firstArr = firstArr.stream().distinct().filter(Predicate.not(secondArr::contains)).collect.(Collectors.toList));\r\n\r\nThis expression replaces that entire nested loop structure. Basically, you want to collect the members of the first list that ARE NOT in the second. The reason the predicate is negated is because the filter function will return the matching elements if not negated.","title":"How to clear duplicates comparing two arraylists?","body":"<p>There are many ways to do this. However, one thing you need to keep in mind is that your loop should not be depending on the collection size if you are going to be modifying it; particularly if you are removing elements. The best way to modify a collection while iterating through it, is to use the collection's Iterator object and use that to determine your loop condition. For example, the code below is equivalent to what you are trying to do:</p>\n<pre><code>public static void main(String[] args) {\n\n    List&lt;String&gt; firstArr = new ArrayList&lt;&gt;();\n    firstArr.add(&quot;Jeremy&quot;);\n    firstArr.add(&quot;Nick&quot;);\n    firstArr.add(&quot;Noah&quot;);\n    firstArr.add(&quot;Liam&quot;);\n    firstArr.add(&quot;Olivia&quot;);\n\n    List&lt;String&gt; secondArr = new ArrayList&lt;&gt;();\n    secondArr.add(&quot;Elijah&quot;);\n    secondArr.add(&quot;Jeremy&quot;);\n    secondArr.add(&quot;Olivia&quot;);\n    secondArr.add(&quot;Sophia&quot;);\n    secondArr.add(&quot;Charlotte&quot;);\n\n    Iterator&lt;String&gt; firstIter = firstArr.iterator();\n    while (firstIter.hasNext()) {\n        String elem = firstIter.next();\n        Iterator&lt;String&gt; secondIter = secondArr.iterator();\n        while (secondIter.hasNext()) {\n            String otherElem = secondIter.next(); // reacquire the iterator after each iteration. \n            if (elem.equals(otherElem)) {\n                firstIter.remove(); // safely removes the current item using Iterator#remove()\n            }\n        }\n    }\n    System.out.println(firstArr);\n}\n</code></pre>\n<p>The output is as expected <code>[Nick, Noah, Liam]</code></p>\n<p>As you can see, the loop condition doesn't depend on the collection's size; only in a condition that checks is there are more elements to check. If there aren't any, it simply exits the loop (or won't allow the loop to start altogether). This is the recommended way to iterate while modifying a collection.</p>\n<p>I am not saying this is the best way for THIS particular problem, but it is one way of solving this problem AND something you have to know if you ever need to modify a collection while iterating through it. IN FACT. this specific problem can be best solved using Java Streams:</p>\n<pre><code>firstArr = firstArr.stream().distinct().filter(Predicate.not(secondArr::contains)).collect.(Collectors.toList));\n</code></pre>\n<p>This expression replaces that entire nested loop structure. Basically, you want to collect the members of the first list that ARE NOT in the second. The reason the predicate is negated is because the filter function will return the matching elements if not negated.</p>\n"}],"owner":{"account_id":22809330,"reputation":23,"user_id":16960910,"display_name":"nbhat01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70613977,"answer_count":2,"score":1,"last_activity_date":1641515780,"creation_date":1641495746,"question_id":70612314,"body_markdown":"So I have two arraylists (these are just as an example) [Jeremy, Nick, Noah, Liam, Olivia] and [Elijah, Jeremy, Olivia, Sophia, Charlotte]. How would I go about removing the duplicates &quot;Jeremy&quot; and &quot;Olivia&quot; since they are in the second array. So the output would be firstArr: [Nick, Noah, Liam] and the second arraylist would be unchanged. Here&#39;s my method that isn&#39;t working. \r\n```\r\npublic static ArrayList&lt;String&gt; removeDuplicates(ArrayList&lt;String&gt; firstArr, ArrayList&lt;String&gt; secArr) {\r\n        for (int i = 0; i &lt; firstArr.size(); ++i) {\r\n            for (int p = 0; p &lt; secArr.size(); ++p) {\r\n                if (firstArr.get(i).equals(secArr.get(p))) {\r\n                    firstArr.remove(i);\r\n                    p = secArr.size();\r\n                }\r\n            }\r\n        }\r\n        return firstArr;\r\n}\r\n```\r\n","title":"How to clear duplicates comparing two arraylists?","body":"<p>So I have two arraylists (these are just as an example) [Jeremy, Nick, Noah, Liam, Olivia] and [Elijah, Jeremy, Olivia, Sophia, Charlotte]. How would I go about removing the duplicates &quot;Jeremy&quot; and &quot;Olivia&quot; since they are in the second array. So the output would be firstArr: [Nick, Noah, Liam] and the second arraylist would be unchanged. Here's my method that isn't working.</p>\n<pre><code>public static ArrayList&lt;String&gt; removeDuplicates(ArrayList&lt;String&gt; firstArr, ArrayList&lt;String&gt; secArr) {\n        for (int i = 0; i &lt; firstArr.size(); ++i) {\n            for (int p = 0; p &lt; secArr.size(); ++p) {\n                if (firstArr.get(i).equals(secArr.get(p))) {\n                    firstArr.remove(i);\n                    p = secArr.size();\n                }\n            }\n        }\n        return firstArr;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","aop"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1580298371,"post_id":59966405,"comment_id":106049644,"body_markdown":"you don&#39;t apply your aspect to the methods of ClassA, so why should it work?","body":"you don&#39;t apply your aspect to the methods of ClassA, so why should it work?"},{"owner":{"account_id":12435962,"reputation":35,"user_id":9056383,"display_name":"qbabor4"},"score":0,"creation_date":1580300155,"post_id":59966405,"comment_id":106050593,"body_markdown":"I don&#39;t need aspect to run for methods in ClassA (shouldn&#39;t work for testMethod). I need it to run when extendedClassMethod1 or extendedClassMethod2 from ClassB are used.","body":"I don&#39;t need aspect to run for methods in ClassA (shouldn&#39;t work for testMethod). I need it to run when extendedClassMethod1 or extendedClassMethod2 from ClassB are used."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1580300421,"post_id":59966405,"comment_id":106050728,"body_markdown":"yes, but they will be executed from ClassA, not ClassB. so: you don&#39;t apply your aspect to the methods of ClassA ...","body":"yes, but they will be executed from ClassA, not ClassB. so: you don&#39;t apply your aspect to the methods of ClassA ..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1580300461,"post_id":59966405,"comment_id":106050749,"body_markdown":"in your ClassA, overwrite the methods and call them by super(testString, testInteger);","body":"in your ClassA, overwrite the methods and call them by super(testString, testInteger);"},{"owner":{"account_id":5757383,"reputation":13785,"user_id":4544823,"display_name":"Ken Bekov"},"score":0,"creation_date":1580301064,"post_id":59966405,"comment_id":106051063,"body_markdown":"Do you use Spring AOP or AspectJ? If you use Spring AOP then your objects have to be beans. Are they?","body":"Do you use Spring AOP or AspectJ? If you use Spring AOP then your objects have to be beans. Are they?"},{"owner":{"account_id":12435962,"reputation":35,"user_id":9056383,"display_name":"qbabor4"},"score":0,"creation_date":1580304422,"post_id":59966405,"comment_id":106052920,"body_markdown":"@KenBekov i use AspectJ and ClassA is a bean.","body":"@KenBekov i use AspectJ and ClassA is a bean."},{"owner":{"account_id":12435962,"reputation":35,"user_id":9056383,"display_name":"qbabor4"},"score":0,"creation_date":1580304426,"post_id":59966405,"comment_id":106052921,"body_markdown":"@Stultuske So i have to override this methods in every class that extends ClassB and pointcut has to point to every class that does so? If not can you please write how this pointcut should look like?","body":"@Stultuske So i have to override this methods in every class that extends ClassB and pointcut has to point to every class that does so? If not can you please write how this pointcut should look like?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1580364228,"post_id":59966405,"comment_id":106074718,"body_markdown":"If you really use AspectJ (e.g. via load-time weaving configuration) and not Spring AOP, it works as you wish. If it does not work, you are not using AspectJ. It is as simple as that. If you want to challenge my statement, just provide an [MCVE](https://stackoverflow.com/help/mcve) incl. Maven POM and ideally on GitHub, so I can just clone and run the application, e.g. via Spring Boot. BTW, in order to make this work with POJOs you don&#39;t need Spring at all. I tested your code outside of Spring.","body":"If you really use AspectJ (e.g. via load-time weaving configuration) and not Spring AOP, it works as you wish. If it does not work, you are not using AspectJ. It is as simple as that. If you want to challenge my statement, just provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> incl. Maven POM and ideally on GitHub, so I can just clone and run the application, e.g. via Spring Boot. BTW, in order to make this work with POJOs you don&#39;t need Spring at all. I tested your code outside of Spring."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1580367789,"post_id":59966405,"comment_id":106075912,"body_markdown":"This doesn&#39;t work because Spring AOP, by default, is proxy based. Only method calls INTO an object will pass through the proxy. You are doing self-invocation from a super class, those don&#39;t pass thought the proxy hence no AOP. The only solution is to use full blown AspectJ if you want that (with either load- or compile timeweaving).","body":"This doesn&#39;t work because Spring AOP, by default, is proxy based. Only method calls INTO an object will pass through the proxy. You are doing self-invocation from a super class, those don&#39;t pass thought the proxy hence no AOP. The only solution is to use full blown AspectJ if you want that (with either load- or compile timeweaving)."},{"owner":{"account_id":12435962,"reputation":35,"user_id":9056383,"display_name":"qbabor4"},"score":0,"creation_date":1580390607,"post_id":59966405,"comment_id":106087323,"body_markdown":"As you said i was not using AspectJ so methods used from inside of ClassA were not catched by aspect","body":"As you said i was not using AspectJ so methods used from inside of ClassA were not catched by aspect"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641515542,"creation_date":1580364491,"answer_id":59980002,"question_id":59966405,"body_markdown":"I commented:\r\n\r\n&gt; If you really use AspectJ (e.g. via load-time weaving configuration) and not Spring AOP, it works as you wish. If it does not work, you are not using AspectJ. It is as simple as that. If you want to challenge my statement, just provide an [MCVE](https://stackoverflow.com/help/mcve) incl. Maven POM and ideally on GitHub, so I can just clone and run the application, e.g. via Spring Boot. BTW, in order to make this work with POJOs you don&#39;t need Spring at all. I tested your code outside of Spring.\r\n\r\nIn order to support my statement, here is my MCVE using POJOs + AspectJ:\r\n\r\n**Base class (why ever abstract because there are no abstract methods):**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public abstract class ClassB {\r\n      public String extendedClassMethod1(String testString, Integer testInteger) {\r\n        return testString + &quot; / &quot; + testInteger.toString();\r\n      }\r\n    \r\n      public String extendedClassMethod2(String testString, Integer testInteger) {\r\n        return testString + &quot; / &quot; + testInteger.toString();\r\n      }\r\n    }\r\n\r\n**(Concrete) subclass:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class ClassA extends ClassB {\r\n      public void testMethod(String testString, Integer testInt) {\r\n        extendedClassMethod1(testString, testInt);\r\n        extendedClassMethod2(testString, testInt);\r\n      }\r\n    }\r\n\r\n**Driver application:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class Application {\r\n      public static void main(String[] args) {\r\n        ClassA classA = new ClassA();\r\n        classA.extendedClassMethod1(&quot;eleven&quot;, 11);\r\n        classA.extendedClassMethod2(&quot;twenty-two&quot;, 22);\r\n        classA.testMethod(&quot;thirty-three&quot;, 33);\r\n      }\r\n    }\r\n\r\n**Aspect:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.aspect;\r\n    \r\n    import org.aspectj.lang.JoinPoint;\r\n    import org.aspectj.lang.annotation.AfterReturning;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    \r\n    @Aspect\r\n    public class AspectClass {\r\n      @AfterReturning(\r\n        value = &quot;execution(* de.scrum_master.app.ClassB.*(..)) &amp;&amp; args(testString, testInteger)&quot;,\r\n        returning = &quot;result&quot;\r\n      )\r\n      public void aspectMethod(JoinPoint joinPoint, String testString, Integer testInteger, String result) {\r\n        System.out.println(joinPoint);\r\n        System.out.println(&quot;  testString = &quot; + testString);\r\n        System.out.println(&quot;  testInteger = &quot; + testInteger);\r\n        System.out.println(&quot;  result = &quot; + result);\r\n      }\r\n    }\r\n\r\n**Console log:**\r\n\r\n```none\r\nexecution(String de.scrum_master.app.ClassB.extendedClassMethod1(String, Integer))\r\n  testString = eleven\r\n  testInteger = 11\r\n  result = eleven / 11\r\nexecution(String de.scrum_master.app.ClassB.extendedClassMethod2(String, Integer))\r\n  testString = twenty-two\r\n  testInteger = 22\r\n  result = twenty-two / 22\r\nexecution(String de.scrum_master.app.ClassB.extendedClassMethod1(String, Integer))\r\n  testString = thirty-three\r\n  testInteger = 33\r\n  result = thirty-three / 33\r\nexecution(String de.scrum_master.app.ClassB.extendedClassMethod2(String, Integer))\r\n  testString = thirty-three\r\n  testInteger = 33\r\n  result = thirty-three / 33\r\n```","title":"Aspect for methods in extended class does not work","body":"<p>I commented:</p>\n<blockquote>\n<p>If you really use AspectJ (e.g. via load-time weaving configuration) and not Spring AOP, it works as you wish. If it does not work, you are not using AspectJ. It is as simple as that. If you want to challenge my statement, just provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> incl. Maven POM and ideally on GitHub, so I can just clone and run the application, e.g. via Spring Boot. BTW, in order to make this work with POJOs you don't need Spring at all. I tested your code outside of Spring.</p>\n</blockquote>\n<p>In order to support my statement, here is my MCVE using POJOs + AspectJ:</p>\n<p><strong>Base class (why ever abstract because there are no abstract methods):</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic abstract class ClassB {\n  public String extendedClassMethod1(String testString, Integer testInteger) {\n    return testString + &quot; / &quot; + testInteger.toString();\n  }\n\n  public String extendedClassMethod2(String testString, Integer testInteger) {\n    return testString + &quot; / &quot; + testInteger.toString();\n  }\n}\n</code></pre>\n<p><strong>(Concrete) subclass:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class ClassA extends ClassB {\n  public void testMethod(String testString, Integer testInt) {\n    extendedClassMethod1(testString, testInt);\n    extendedClassMethod2(testString, testInt);\n  }\n}\n</code></pre>\n<p><strong>Driver application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public static void main(String[] args) {\n    ClassA classA = new ClassA();\n    classA.extendedClassMethod1(&quot;eleven&quot;, 11);\n    classA.extendedClassMethod2(&quot;twenty-two&quot;, 22);\n    classA.testMethod(&quot;thirty-three&quot;, 33);\n  }\n}\n</code></pre>\n<p><strong>Aspect:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.AfterReturning;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class AspectClass {\n  @AfterReturning(\n    value = &quot;execution(* de.scrum_master.app.ClassB.*(..)) &amp;&amp; args(testString, testInteger)&quot;,\n    returning = &quot;result&quot;\n  )\n  public void aspectMethod(JoinPoint joinPoint, String testString, Integer testInteger, String result) {\n    System.out.println(joinPoint);\n    System.out.println(&quot;  testString = &quot; + testString);\n    System.out.println(&quot;  testInteger = &quot; + testInteger);\n    System.out.println(&quot;  result = &quot; + result);\n  }\n}\n</code></pre>\n<p><strong>Console log:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>execution(String de.scrum_master.app.ClassB.extendedClassMethod1(String, Integer))\n  testString = eleven\n  testInteger = 11\n  result = eleven / 11\nexecution(String de.scrum_master.app.ClassB.extendedClassMethod2(String, Integer))\n  testString = twenty-two\n  testInteger = 22\n  result = twenty-two / 22\nexecution(String de.scrum_master.app.ClassB.extendedClassMethod1(String, Integer))\n  testString = thirty-three\n  testInteger = 33\n  result = thirty-three / 33\nexecution(String de.scrum_master.app.ClassB.extendedClassMethod2(String, Integer))\n  testString = thirty-three\n  testInteger = 33\n  result = thirty-three / 33\n</code></pre>\n"}],"owner":{"account_id":12435962,"reputation":35,"user_id":9056383,"display_name":"qbabor4"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59980002,"answer_count":1,"score":0,"last_activity_date":1641515542,"creation_date":1580298284,"question_id":59966405,"body_markdown":"I try to apply aspect for two methods that are in abstract class, that is extended by another class.\r\n\r\nProblem is that pointcut i am using doesn&#39;t work. \r\n\r\nCode looks like this:\r\n\r\n```\r\npublic class ClassA extends ClassB {\r\n\r\n    public void testMethod(String testString, Integer testInt){\r\n        extendedClassMethod1(testString, testInt);\r\n        extendedClassMethod2(testString, testInt);\r\n    }\r\n}\r\n\r\npublic abstract class ClassB {\r\n\r\n   public String extendedClassMethod1(String testString, Integer testInteger) {\r\n        return testString + testString.toString();\r\n    }\r\n\r\n    public String extendedClassMethod2(String testString, Integer testInteger) {\r\n        return testString + testString.toString();\r\n    }\r\n}\r\n\r\n@Aspect\r\npublic class AspectClass {\r\n \r\n   @AfterReturning(\r\n            value = &quot;execution(* com.test.ClassB.*(..)) &amp;&amp; args(testString, testInteger)&quot;,\r\n            returning = &quot;result&quot;)\r\n    public void aspectMethod(JoinPoint joinPoint, String testString, Integer testInteger, String result){\r\n        // do something\r\n    }\r\n}\r\n```\r\n\r\nGoal is to create aspect thay will work when extendedClassMethod1 or extendedClassMethod2 is used in classes (f.e. ClassA) that extends ClassB.\r\n\r\nAnother thing is that Intellij shows that aspect method should be applied to this two methods, but in runtime it does not.","title":"Aspect for methods in extended class does not work","body":"<p>I try to apply aspect for two methods that are in abstract class, that is extended by another class.</p>\n\n<p>Problem is that pointcut i am using doesn't work. </p>\n\n<p>Code looks like this:</p>\n\n<pre><code>public class ClassA extends ClassB {\n\n    public void testMethod(String testString, Integer testInt){\n        extendedClassMethod1(testString, testInt);\n        extendedClassMethod2(testString, testInt);\n    }\n}\n\npublic abstract class ClassB {\n\n   public String extendedClassMethod1(String testString, Integer testInteger) {\n        return testString + testString.toString();\n    }\n\n    public String extendedClassMethod2(String testString, Integer testInteger) {\n        return testString + testString.toString();\n    }\n}\n\n@Aspect\npublic class AspectClass {\n\n   @AfterReturning(\n            value = \"execution(* com.test.ClassB.*(..)) &amp;&amp; args(testString, testInteger)\",\n            returning = \"result\")\n    public void aspectMethod(JoinPoint joinPoint, String testString, Integer testInteger, String result){\n        // do something\n    }\n}\n</code></pre>\n\n<p>Goal is to create aspect thay will work when extendedClassMethod1 or extendedClassMethod2 is used in classes (f.e. ClassA) that extends ClassB.</p>\n\n<p>Another thing is that Intellij shows that aspect method should be applied to this two methods, but in runtime it does not.</p>\n"},{"tags":["java","xml","xerces","jaxp","xerces2-j"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641515155,"creation_date":1641515155,"answer_id":70615223,"question_id":70614136,"body_markdown":"I&#39;m no expert and I don&#39;t understand all the details, but: first find out what the implementation class of the `Schema` object is; see whether this has a method to extract a `Grammar` or `GrammarPool`; see if you can cast the result to a `SchemaGrammar`; and then the `SchemaGrammar.toXSModel()` method gives you what you&#39;re after. ","title":"Can XSModel object be obtained from a Schema Object?","body":"<p>I'm no expert and I don't understand all the details, but: first find out what the implementation class of the <code>Schema</code> object is; see whether this has a method to extract a <code>Grammar</code> or <code>GrammarPool</code>; see if you can cast the result to a <code>SchemaGrammar</code>; and then the <code>SchemaGrammar.toXSModel()</code> method gives you what you're after.</p>\n"}],"owner":{"account_id":875894,"reputation":3530,"user_id":925549,"accept_rate":73,"display_name":"yas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70615223,"answer_count":1,"score":0,"last_activity_date":1641515155,"creation_date":1641506412,"question_id":70614136,"body_markdown":"Using JAXP I can create a Schema object. e.g.\r\n\r\n\t\tPath schemaPath = ...;\r\n\t\t\r\n\t\tStreamSource source = new StreamSource(schemaPath.toFile());\r\n\t\tSchemaFactory factory = \r\n\t\t    SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n\t\t\r\n\t\tSchema schema = factory.newSchema(source);\r\n\r\nI am using Xerces.  Is there way to obtain the XSModel (org.apache.xerces.xs.XSModel) corresponding to the schema object?\r\n","title":"Can XSModel object be obtained from a Schema Object?","body":"<p>Using JAXP I can create a Schema object. e.g.</p>\n<pre><code>    Path schemaPath = ...;\n    \n    StreamSource source = new StreamSource(schemaPath.toFile());\n    SchemaFactory factory = \n        SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n    \n    Schema schema = factory.newSchema(source);\n</code></pre>\n<p>I am using Xerces.  Is there way to obtain the XSModel (org.apache.xerces.xs.XSModel) corresponding to the schema object?</p>\n"},{"tags":["java","caching","ehcache","ehcache-2"],"comments":[{"owner":{"account_id":6566574,"reputation":33,"user_id":5075974,"display_name":"Mike"},"score":0,"creation_date":1641600305,"post_id":70615201,"comment_id":124855176,"body_markdown":"After looking at this a bit more, I don&#39;t think `evictExpiredElements` will help because this particular cache is `eternal=true` which means entries don&#39;t expire.","body":"After looking at this a bit more, I don&#39;t think <code>evictExpiredElements</code> will help because this particular cache is <code>eternal=true</code> which means entries don&#39;t expire."}],"owner":{"account_id":6566574,"reputation":33,"user_id":5075974,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641514921,"creation_date":1641514921,"question_id":70615201,"body_markdown":"EhCache version: 2.8.4  \r\nJVM version: 11.0.7\r\n\r\n\r\nCache configuration:\r\n```\r\n&lt;ehcache&gt;\r\n    &lt;cache\r\n\t\tname=&quot;myCache&quot;\r\n\t\tmaxBytesLocalHeap=&quot;100m&quot;\r\n\t\teternal=&quot;true&quot;\r\n\t\toverflowToOffHeap=&quot;false&quot;\r\n\t\toverflowToDisk=&quot;true&quot;\r\n\t\tdiskPersistent=&quot;false&quot;\r\n\t    maxEntriesLocalDisk=&quot;2000000&quot;\r\n    /&gt;\r\n&lt;/ehcache&gt;\r\n```\r\n\r\nI&#39;ve noticed when using a cache that overflows to disk (like in the above configuration) that there is a DiskStore object in memory which seems to grow indefinitely.  I thought that limiting the number of entries on disk using `maxEntriesLocalDisk` might prevent this from happening, but it does not appear to be helping.\r\n\r\nRecently I looked at a heap dump from my application, and I can see that there are over 17M cache keys referenced by the DiskStore despite the `maxEntiresLocalDisk` value being set to 2M.  This is consuming over 2.5GB of memory which is not ideal given the application is only allocated 4GB of heap.\r\n\r\nIs there some way to limit how many cache keys are referenced by the DiskStore in order to prevent it from getting so large?  I&#39;m considering calling `Cache.evictExpiredElements()` on some kind of schedule to see if it helps, but was hoping `maxEntriesLocalDisk` would prevent needing to do that.  I&#39;m actually sure if the entries are are expired, so it&#39;s possible `evictExpiredElements` won&#39;t help.","title":"Ehcache DiskStore object growing indefinitely","body":"<p>EhCache version: 2.8.4<br />\nJVM version: 11.0.7</p>\n<p>Cache configuration:</p>\n<pre><code>&lt;ehcache&gt;\n    &lt;cache\n        name=&quot;myCache&quot;\n        maxBytesLocalHeap=&quot;100m&quot;\n        eternal=&quot;true&quot;\n        overflowToOffHeap=&quot;false&quot;\n        overflowToDisk=&quot;true&quot;\n        diskPersistent=&quot;false&quot;\n        maxEntriesLocalDisk=&quot;2000000&quot;\n    /&gt;\n&lt;/ehcache&gt;\n</code></pre>\n<p>I've noticed when using a cache that overflows to disk (like in the above configuration) that there is a DiskStore object in memory which seems to grow indefinitely.  I thought that limiting the number of entries on disk using <code>maxEntriesLocalDisk</code> might prevent this from happening, but it does not appear to be helping.</p>\n<p>Recently I looked at a heap dump from my application, and I can see that there are over 17M cache keys referenced by the DiskStore despite the <code>maxEntiresLocalDisk</code> value being set to 2M.  This is consuming over 2.5GB of memory which is not ideal given the application is only allocated 4GB of heap.</p>\n<p>Is there some way to limit how many cache keys are referenced by the DiskStore in order to prevent it from getting so large?  I'm considering calling <code>Cache.evictExpiredElements()</code> on some kind of schedule to see if it helps, but was hoping <code>maxEntriesLocalDisk</code> would prevent needing to do that.  I'm actually sure if the entries are are expired, so it's possible <code>evictExpiredElements</code> won't help.</p>\n"},{"tags":["java","jls"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1641514019,"post_id":70614816,"comment_id":124830496,"body_markdown":"&quot;Contains&quot; doesn&#39;t mean supertype. Per the rules in [4.5.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.5.1-400), `? super T &lt;= ? super S` if `S &lt;: T`. So if `Integer &lt;: Number`, `? super Integer` _contains_ `? super Number`.","body":"&quot;Contains&quot; doesn&#39;t mean supertype. Per the rules in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.5.1-400\" rel=\"nofollow noreferrer\">4.5.1</a>, <code>? super T &lt;= ? super S</code> if <code>S &lt;: T</code>. So if <code>Integer &lt;: Number</code>, <code>? super Integer</code> <i>contains</i> <code>? super Number</code>."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1641516865,"post_id":70614816,"comment_id":124831053,"body_markdown":"I don’t say it does.","body":"I don’t say it does."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1641517761,"post_id":70614816,"comment_id":124831241,"body_markdown":"A parameterized type `P&lt;A&gt;` does have as one of its direct supertypes another parameterized type whose type argument is a containing type of `A`—that&#39;s pretty explicit, so as noted in my example `P&lt;? extends A&gt;` is a supertype of `P&lt;A&gt;` according to the rules, even though `? extends A` is not a supertype, direct or otherwise, of `A`.","body":"A parameterized type <code>P&lt;A&gt;</code> does have as one of its direct supertypes another parameterized type whose type argument is a containing type of <code>A</code>—that&#39;s pretty explicit, so as noted in my example <code>P&lt;? extends A&gt;</code> is a supertype of <code>P&lt;A&gt;</code> according to the rules, even though <code>? extends A</code> is not a supertype, direct or otherwise, of <code>A</code>."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1641527193,"post_id":70614816,"comment_id":124832758,"body_markdown":"(Sorry; mistyped `extends` for `super` in my comment above, though it still basically holds: supertypes are reflexive so `P&lt;? extends A&gt;` and `P&lt;? super A&gt;` are both among the direct supertypes of `P&lt;A&gt;` per section 4.5.1.)","body":"(Sorry; mistyped <code>extends</code> for <code>super</code> in my comment above, though it still basically holds: supertypes are reflexive so <code>P&lt;? extends A&gt;</code> and <code>P&lt;? super A&gt;</code> are both among the direct supertypes of <code>P&lt;A&gt;</code> per section 4.5.1.)"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1641514377,"creation_date":1641511326,"question_id":70614816,"body_markdown":"Suppose I have this (contrived) situation:\r\n```\r\npublic final Comparable&lt;? super Number&gt; frob() {\r\n  return x -&gt; 0; // whatever\r\n}\r\n\r\nfinal Comparable&lt;? super Integer&gt; c = frob();\r\n```\r\nThe JLS defines [assignability of reference types in terms of supertypes and subtypes only](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.2).  Fine.\r\n\r\nOne of the [direct supertypes of a parameterized type is an otherwise equivalent parameterized type with an appropriate _containing_ type (a wildcard expression) in one of its type argument slots](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.10.2).  A parameterized type with the same raw type and owner type and that [containing type argument](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.5.1) (among its others) is thus a direct supertype of the original parameterized type.  (So by these rules `Comparable&lt;?&gt;` is a _direct supertype_ of `Comparable&lt;Whatever&gt;`, as is `Comparable&lt;? extends Whatever&gt;`, and `Comparable&lt;? super Whatever&gt;`, and plenty of others that section 4.5.1 lays out.)\r\n\r\nThe implication of all this is, loosely speaking, if you have a &quot;receiver&quot; reference `a` bearing type `A` in your left hand, and a &quot;payload&quot; reference `b` bearing type `B` in your right hand, then `b` is assignable to `a` if and only if `A` is a supertype (not just direct) of `B`.  So presumably what the compiler does is calculate `B`&#39;s supertypes, and then see if the resulting collection of types contains `A`.\r\n\r\nI must be wrong in this presumption, though, because analyzing the supertypes of `Comparable&lt;? super Number&gt;` by itself following these rules will seemingly never yield `Comparable&lt;? super Integer&gt;`.  (That is, looking at just the type arguments, if you &quot;start from&quot; `Number` and &quot;go up&quot; its supertype hierarchy to calculate its containing types, you&#39;ll never &quot;reach&quot; `Integer`, because as we all know `Integer` is a _subtype_ of `Number`, not a supertype of it.)\r\n\r\nSo in my example above, **what rules in the JLS permit `Comparable&lt;? super Integer&gt;` to be derived as a direct supertype of `Comparable&lt;? super Number&gt;`**?  Is it to be found in the [section on type inference](https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.2.3), even though to my eye there&#39;s no inference going on here (i.e. no diamond operator, no `var`, etc.)?\r\n\r\nTo make it clear: my problem is not with the assignment, which I know in practice is of course just fine (if the example method above returns a new `Comparable&lt;Object&gt;` anonymous class, for example, that would work).  It&#39;s with my understanding of how the JLS allows this.","title":"What subtyping/supertyping rule in the Java Language Specification allows this assignment?","body":"<p>Suppose I have this (contrived) situation:</p>\n<pre><code>public final Comparable&lt;? super Number&gt; frob() {\n  return x -&gt; 0; // whatever\n}\n\nfinal Comparable&lt;? super Integer&gt; c = frob();\n</code></pre>\n<p>The JLS defines <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.2\" rel=\"nofollow noreferrer\">assignability of reference types in terms of supertypes and subtypes only</a>.  Fine.</p>\n<p>One of the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.10.2\" rel=\"nofollow noreferrer\">direct supertypes of a parameterized type is an otherwise equivalent parameterized type with an appropriate <em>containing</em> type (a wildcard expression) in one of its type argument slots</a>.  A parameterized type with the same raw type and owner type and that <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.5.1\" rel=\"nofollow noreferrer\">containing type argument</a> (among its others) is thus a direct supertype of the original parameterized type.  (So by these rules <code>Comparable&lt;?&gt;</code> is a <em>direct supertype</em> of <code>Comparable&lt;Whatever&gt;</code>, as is <code>Comparable&lt;? extends Whatever&gt;</code>, and <code>Comparable&lt;? super Whatever&gt;</code>, and plenty of others that section 4.5.1 lays out.)</p>\n<p>The implication of all this is, loosely speaking, if you have a &quot;receiver&quot; reference <code>a</code> bearing type <code>A</code> in your left hand, and a &quot;payload&quot; reference <code>b</code> bearing type <code>B</code> in your right hand, then <code>b</code> is assignable to <code>a</code> if and only if <code>A</code> is a supertype (not just direct) of <code>B</code>.  So presumably what the compiler does is calculate <code>B</code>'s supertypes, and then see if the resulting collection of types contains <code>A</code>.</p>\n<p>I must be wrong in this presumption, though, because analyzing the supertypes of <code>Comparable&lt;? super Number&gt;</code> by itself following these rules will seemingly never yield <code>Comparable&lt;? super Integer&gt;</code>.  (That is, looking at just the type arguments, if you &quot;start from&quot; <code>Number</code> and &quot;go up&quot; its supertype hierarchy to calculate its containing types, you'll never &quot;reach&quot; <code>Integer</code>, because as we all know <code>Integer</code> is a <em>subtype</em> of <code>Number</code>, not a supertype of it.)</p>\n<p>So in my example above, <strong>what rules in the JLS permit <code>Comparable&lt;? super Integer&gt;</code> to be derived as a direct supertype of <code>Comparable&lt;? super Number&gt;</code></strong>?  Is it to be found in the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.2.3\" rel=\"nofollow noreferrer\">section on type inference</a>, even though to my eye there's no inference going on here (i.e. no diamond operator, no <code>var</code>, etc.)?</p>\n<p>To make it clear: my problem is not with the assignment, which I know in practice is of course just fine (if the example method above returns a new <code>Comparable&lt;Object&gt;</code> anonymous class, for example, that would work).  It's with my understanding of how the JLS allows this.</p>\n"},{"tags":["java","android","kotlin","android-bluetooth"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1641517758,"post_id":70615086,"comment_id":124831240,"body_markdown":"Have you registered your receiver in the manifest? https://developer.android.com/guide/topics/media-apps/mediabuttons#mediabuttons-and-active-mediasessions","body":"Have you registered your receiver in the manifest? <a href=\"https://developer.android.com/guide/topics/media-apps/mediabuttons#mediabuttons-and-active-mediasessions\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/media-apps/&hellip;</a>"}],"owner":{"account_id":15287741,"reputation":143,"user_id":11030252,"display_name":"Viktor Pesic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1641513915,"creation_date":1641513915,"question_id":70615086,"body_markdown":"How can i detect bluetooth headphones buttons press i tried every possible code and it does not work.\r\nI am not building media app just need to detect headphone buttons and print in console.\r\n\r\nI tried: \r\n\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_DOWN){\r\n            Toast.makeText(MainActivity.this,  &quot;volume down&quot; ,Toast.LENGTH_SHORT).show();\r\n        }\r\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_UP){\r\n            Toast.makeText(MainActivity.this,  &quot;volume up&quot; ,Toast.LENGTH_SHORT).show();\r\n        }\r\n        if (keyCode == KeyEvent.KEYCODE_MUTE){\r\n            Toast.makeText(MainActivity.this,  &quot;volume mute&quot; ,Toast.LENGTH_SHORT).show();\r\n        }\r\n        return false;\r\n    }\r\n\r\nAlso:\r\n\r\n    public class MediaButtonIntentReceiver extends BroadcastReceiver {\r\n    \r\n        public MediaButtonIntentReceiver() {\r\n            super();\r\n        }\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String intentAction = intent.getAction();\r\n            if (!Intent.ACTION_MEDIA_BUTTON.equals(intentAction)) {\r\n                return;\r\n            }\r\n            KeyEvent event = (KeyEvent)intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\r\n            if (event == null) {\r\n                return;\r\n            }\r\n            int action = event.getAction();\r\n            if (action == KeyEvent.ACTION_DOWN) {\r\n                Log.d(&quot;aaaaaa&quot;,&quot;aaaaaaaaaaaaaaaaaaaaaaaaa&quot;);\r\n                Toast.makeText(context, &quot;BUTTON PRESSED!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            abortBroadcast();\r\n        }\r\nwith: \r\n\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n        IntentFilter filter = new IntentFilter(Intent.ACTION_MEDIA_BUTTON);//&quot;android.intent.action.MEDIA_BUTTON&quot;\r\n        MediaButtonIntentReceiver r = new MediaButtonIntentReceiver();\r\n        filter.setPriority(1000); //this line sets receiver priority\r\n        registerReceiver(r, filter);\r\n    }\r\n\r\nNone of that works, i tested on S21+ and JBL Tune BT560 headphones.","title":"Detect bluetooth headphone&#39;s buttons click","body":"<p>How can i detect bluetooth headphones buttons press i tried every possible code and it does not work.\nI am not building media app just need to detect headphone buttons and print in console.</p>\n<p>I tried:</p>\n<pre><code>public boolean onKeyDown(int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_VOLUME_DOWN){\n        Toast.makeText(MainActivity.this,  &quot;volume down&quot; ,Toast.LENGTH_SHORT).show();\n    }\n    if (keyCode == KeyEvent.KEYCODE_VOLUME_UP){\n        Toast.makeText(MainActivity.this,  &quot;volume up&quot; ,Toast.LENGTH_SHORT).show();\n    }\n    if (keyCode == KeyEvent.KEYCODE_MUTE){\n        Toast.makeText(MainActivity.this,  &quot;volume mute&quot; ,Toast.LENGTH_SHORT).show();\n    }\n    return false;\n}\n</code></pre>\n<p>Also:</p>\n<pre><code>public class MediaButtonIntentReceiver extends BroadcastReceiver {\n\n    public MediaButtonIntentReceiver() {\n        super();\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String intentAction = intent.getAction();\n        if (!Intent.ACTION_MEDIA_BUTTON.equals(intentAction)) {\n            return;\n        }\n        KeyEvent event = (KeyEvent)intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n        if (event == null) {\n            return;\n        }\n        int action = event.getAction();\n        if (action == KeyEvent.ACTION_DOWN) {\n            Log.d(&quot;aaaaaa&quot;,&quot;aaaaaaaaaaaaaaaaaaaaaaaaa&quot;);\n            Toast.makeText(context, &quot;BUTTON PRESSED!&quot;, Toast.LENGTH_SHORT).show();\n        }\n        abortBroadcast();\n    }\n</code></pre>\n<p>with:</p>\n<pre><code> protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n    IntentFilter filter = new IntentFilter(Intent.ACTION_MEDIA_BUTTON);//&quot;android.intent.action.MEDIA_BUTTON&quot;\n    MediaButtonIntentReceiver r = new MediaButtonIntentReceiver();\n    filter.setPriority(1000); //this line sets receiver priority\n    registerReceiver(r, filter);\n}\n</code></pre>\n<p>None of that works, i tested on S21+ and JBL Tune BT560 headphones.</p>\n"},{"tags":["java","android","kotlin","epoxy","epoxy-modelview"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":2,"creation_date":1532196224,"post_id":51458230,"comment_id":89886884,"body_markdown":"Did you add `apply plugin: &#39;kotlin-kapt&#39;`?","body":"Did you add <code>apply plugin: &#39;kotlin-kapt&#39;</code>?"},{"owner":{"account_id":10602947,"reputation":941,"user_id":7809349,"accept_rate":14,"display_name":"manwhotrycoding"},"score":0,"creation_date":1532275547,"post_id":51458230,"comment_id":89902185,"body_markdown":"Yes, I have this line","body":"Yes, I have this line"},{"owner":{"account_id":4557091,"reputation":1653,"user_id":3700517,"accept_rate":55,"display_name":"shakil.k"},"score":0,"creation_date":1535876851,"post_id":51458230,"comment_id":91220400,"body_markdown":"how did u declare dependencies ?","body":"how did u declare dependencies ?"},{"owner":{"account_id":8936340,"reputation":105,"user_id":6667045,"accept_rate":20,"display_name":"sri"},"score":0,"creation_date":1576047794,"post_id":51458230,"comment_id":104767208,"body_markdown":"Did you solve this issue?  I&#39;m also facing this same issue now.- @manwhotrycoding","body":"Did you solve this issue?  I&#39;m also facing this same issue now.- @manwhotrycoding"}],"answers":[{"tags":[],"owner":{"account_id":6188049,"reputation":1305,"user_id":4821585,"accept_rate":40,"display_name":"Achraf Amil"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1584698846,"creation_date":1584698846,"answer_id":60772101,"question_id":51458230,"body_markdown":"One common mistake when using Epoxy in Kotlin is mixing annotation processing engines. If you copied this from Epoxy&#39;s readme:\r\n\r\n    dependencies {\r\n      implementation &#39;com.airbnb.android:epoxy:3.x.y&#39;\r\n      // Add the annotation processor if you are using Epoxy&#39;s annotations (recommended)\r\n      annotationProcessor &#39;com.airbnb.android:epoxy-processor:3.x.y&#39;\r\n    }\r\n\r\nYou probably forgot to apply what they suggest for kotlin users few lines later in the same readme:\r\n\r\n**make sure to use `kapt` instead of `annotationProcessor`**","title":"Why Epoxy does not generate model class?","body":"<p>One common mistake when using Epoxy in Kotlin is mixing annotation processing engines. If you copied this from Epoxy's readme:</p>\n\n<pre><code>dependencies {\n  implementation 'com.airbnb.android:epoxy:3.x.y'\n  // Add the annotation processor if you are using Epoxy's annotations (recommended)\n  annotationProcessor 'com.airbnb.android:epoxy-processor:3.x.y'\n}\n</code></pre>\n\n<p>You probably forgot to apply what they suggest for kotlin users few lines later in the same readme:</p>\n\n<p><strong>make sure to use <code>kapt</code> instead of <code>annotationProcessor</code></strong></p>\n"},{"tags":[],"owner":{"account_id":219207,"reputation":4257,"user_id":475978,"accept_rate":100,"display_name":"Krešimir Prcela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641513799,"creation_date":1641513799,"answer_id":70615072,"question_id":51458230,"body_markdown":"I mistakenly deleted the first line from my model file:\r\n\r\n    package com.myCustomDomain.myapp.epoxyModel\r\n\r\nso the auto generated files were generated with wrong filename.","title":"Why Epoxy does not generate model class?","body":"<p>I mistakenly deleted the first line from my model file:</p>\n<pre><code>package com.myCustomDomain.myapp.epoxyModel\n</code></pre>\n<p>so the auto generated files were generated with wrong filename.</p>\n"}],"owner":{"account_id":10602947,"reputation":941,"user_id":7809349,"accept_rate":14,"display_name":"manwhotrycoding"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1641513799,"creation_date":1532191859,"question_id":51458230,"body_markdown":"I want to use Epoxy for my recyclerView with kotlin, but Epoxy Model does not generate PostModel_() class, what wrong with it?\r\n\r\n\r\n    @EpoxyModelClass(layout = R.layout.iteam)\r\n    abstract class PostModel : EpoxyModelWithHolder&lt;PostModel.PostHolder&gt;() {\r\n      @EpoxyAttribute\r\n      lateinit var userName: String\r\n      @EpoxyAttribute\r\n      lateinit var avatarIcon: Drawable\r\n      @EpoxyAttribute\r\n      lateinit var post: Drawable\r\n    \r\n      override fun bind(holder: PostHolder) {\r\n        holder.avatarIcon.setImageDrawable(avatarIcon)\r\n        holder.post.setImageDrawable(post)\r\n        holder.name.text = userName\r\n    \r\n      }\r\n    \r\n      class PostHolder : BaseEpoxyHolder() {\r\n        @BindView(R.id.name)\r\n        lateinit var name: TextView\r\n        @BindView(R.id.ic_avatar)\r\n        lateinit var avatarIcon: ImageView\r\n        @BindView(R.id.post)\r\n        lateinit var post: ImageView\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Why Epoxy does not generate model class?","body":"<p>I want to use Epoxy for my recyclerView with kotlin, but Epoxy Model does not generate PostModel_() class, what wrong with it?</p>\n\n<pre><code>@EpoxyModelClass(layout = R.layout.iteam)\nabstract class PostModel : EpoxyModelWithHolder&lt;PostModel.PostHolder&gt;() {\n  @EpoxyAttribute\n  lateinit var userName: String\n  @EpoxyAttribute\n  lateinit var avatarIcon: Drawable\n  @EpoxyAttribute\n  lateinit var post: Drawable\n\n  override fun bind(holder: PostHolder) {\n    holder.avatarIcon.setImageDrawable(avatarIcon)\n    holder.post.setImageDrawable(post)\n    holder.name.text = userName\n\n  }\n\n  class PostHolder : BaseEpoxyHolder() {\n    @BindView(R.id.name)\n    lateinit var name: TextView\n    @BindView(R.id.ic_avatar)\n    lateinit var avatarIcon: ImageView\n    @BindView(R.id.post)\n    lateinit var post: ImageView\n  }\n\n}\n</code></pre>\n"},{"tags":["java","azure","azure-storage","azure-table-storage"],"owner":{"account_id":23778564,"reputation":11,"user_id":17791624,"display_name":"Alejandro Huamani Re&#225;tegui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641513692,"creation_date":1640809511,"question_id":70524643,"body_markdown":"I am working with Azure Storage. I made the connections for the Token table and I get the values ​​correctly. But in another table I only get values ​​from 3 fields and the other 4 return as null.\r\n\r\nthis is my model:\r\n\r\n```\r\n@Data\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class BoltonInfo  extends TableServiceEntity implements Serializable {\r\n\tprivate String boltonCode;\r\n    private String boltonName;\r\n    private String boltonType;\r\n    private boolean isAltaVelocidad;\r\n    private String boltonOrder;\r\n\r\n}\r\n```\r\n \r\nthis is my ServicesImpl:\r\n\r\n```\r\nprivate void processBalances(List&lt;SaldosResponse&gt; boltons, JsonNode jsonBucketsList, int productID) throws ParseException {\r\n    List&lt;String&gt; listBucketCode = new ArrayList&lt;&gt;();\r\n    \r\n    for (JsonNode infoBucket : jsonBucketsList) {\r\n    \tif (infoBucket.has(BUCKETCOUNTERS) &amp;&amp; !MONEY.equals(infoBucket.path(USAGETYPE).asText())) {\r\n    \t\tlistBucketCode.add(infoBucket.get(&quot;id&quot;).asText());\r\n    \t\t\t}\r\n    }\r\n    List&lt;BoltonInfo&gt; boltonList = new ArrayList&lt;&gt;(); \r\n\tlistBucketCode.forEach(boltonCode -&gt; {\r\n\t\tBoltonInfo response = new BoltonInfo();\r\n\t\ttry {\r\n\t\t\tresponse = (BoltonInfo) cloudMethodServiceImpl.readEntity(configProperties.getBultonsTable(), boltonCode, boltonCode, BoltonInfo.class);\r\n\t\t\tboltonList.add(response);\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (StorageException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\t\r\n\t});\r\n```\r\n\r\nThe connection with the table readEntity:\r\n\r\n```\r\npublic &lt;T&gt; Object readEntity(String table, String partitionKey, String rowKey, Object value) throws URISyntaxException, StorageException {\r\n\tObject response = null;\r\n\tCloudTable entity = initCloudTable().getTableReference(table);\r\n\tSystem.out.println(&quot;La tabla existe  ? &quot; + entity.exists());\r\n\tClass&lt;? extends TableEntity&gt; tableEntity = (Class&lt;? extends TableEntity&gt;) value;\r\n\tTableOperation operation = TableOperation.retrieve(partitionKey, rowKey, tableEntity);\r\n\tresponse = entity.execute(operation).getResultAsType();\r\n\treturn response;\r\n}\r\n```\r\n\r\nthe response returns four null fields:\r\n![enter image description here][1]\r\n\r\nthis is the table with its fields\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MAu88.png\r\n  [2]: https://i.stack.imgur.com/ynXuK.png\r\n\r\n","title":"Tests with Azure storage return null fields in a table","body":"<p>I am working with Azure Storage. I made the connections for the Token table and I get the values ​​correctly. But in another table I only get values ​​from 3 fields and the other 4 return as null.</p>\n<p>this is my model:</p>\n<pre><code>@Data\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class BoltonInfo  extends TableServiceEntity implements Serializable {\n    private String boltonCode;\n    private String boltonName;\n    private String boltonType;\n    private boolean isAltaVelocidad;\n    private String boltonOrder;\n\n}\n</code></pre>\n<p>this is my ServicesImpl:</p>\n<pre><code>private void processBalances(List&lt;SaldosResponse&gt; boltons, JsonNode jsonBucketsList, int productID) throws ParseException {\n    List&lt;String&gt; listBucketCode = new ArrayList&lt;&gt;();\n    \n    for (JsonNode infoBucket : jsonBucketsList) {\n        if (infoBucket.has(BUCKETCOUNTERS) &amp;&amp; !MONEY.equals(infoBucket.path(USAGETYPE).asText())) {\n            listBucketCode.add(infoBucket.get(&quot;id&quot;).asText());\n                }\n    }\n    List&lt;BoltonInfo&gt; boltonList = new ArrayList&lt;&gt;(); \n    listBucketCode.forEach(boltonCode -&gt; {\n        BoltonInfo response = new BoltonInfo();\n        try {\n            response = (BoltonInfo) cloudMethodServiceImpl.readEntity(configProperties.getBultonsTable(), boltonCode, boltonCode, BoltonInfo.class);\n            boltonList.add(response);\n        } catch (URISyntaxException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (StorageException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            System.out.println(e.getMessage());\n        }   \n    });\n</code></pre>\n<p>The connection with the table readEntity:</p>\n<pre><code>public &lt;T&gt; Object readEntity(String table, String partitionKey, String rowKey, Object value) throws URISyntaxException, StorageException {\n    Object response = null;\n    CloudTable entity = initCloudTable().getTableReference(table);\n    System.out.println(&quot;La tabla existe  ? &quot; + entity.exists());\n    Class&lt;? extends TableEntity&gt; tableEntity = (Class&lt;? extends TableEntity&gt;) value;\n    TableOperation operation = TableOperation.retrieve(partitionKey, rowKey, tableEntity);\n    response = entity.execute(operation).getResultAsType();\n    return response;\n}\n</code></pre>\n<p>the response returns four null fields:\n<img src=\"https://i.stack.imgur.com/MAu88.png\" alt=\"enter image description here\" /></p>\n<p>this is the table with its fields\n<img src=\"https://i.stack.imgur.com/ynXuK.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","maven","junit","build","resources"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1641508309,"post_id":70614390,"comment_id":124829220,"body_markdown":"Q: do you have a &quot;&lt;testresources&gt;&quot; entry in your Maven pom.xml?  Look here: https://stackoverflow.com/a/18082816/421195","body":"Q: do you have a &quot;&lt;testresources&gt;&quot; entry in your Maven pom.xml?  Look here: <a href=\"https://stackoverflow.com/a/18082816/421195\">stackoverflow.com/a/18082816/421195</a>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1641508563,"post_id":70614390,"comment_id":124829281,"body_markdown":"`C:*\\target\\test-classes\\sample-*.txt` I don&#39;t think the leading asterisk in the path will work here unless you&#39;re using a path matcher.","body":"<code>C:*\\target\\test-classes\\sample-*.txt</code> I don&#39;t think the leading asterisk in the path will work here unless you&#39;re using a path matcher."},{"owner":{"account_id":18869983,"reputation":73,"user_id":13764842,"display_name":"KJ21"},"score":0,"creation_date":1641509356,"post_id":70614390,"comment_id":124829486,"body_markdown":"asterisk was placed only to hide real folder structure. I updated it in my question","body":"asterisk was placed only to hide real folder structure. I updated it in my question"},{"owner":{"account_id":15249444,"reputation":479,"user_id":11003330,"display_name":"Anass ABEA"},"score":1,"creation_date":1641509535,"post_id":70614390,"comment_id":124829532,"body_markdown":"Does this answer your question? [How to read a text-file resource into Java unit test?](https://stackoverflow.com/questions/3891375/how-to-read-a-text-file-resource-into-java-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3891375/how-to-read-a-text-file-resource-into-java-unit-test\">How to read a text-file resource into Java unit test?</a>"},{"owner":{"account_id":18869983,"reputation":73,"user_id":13764842,"display_name":"KJ21"},"score":0,"creation_date":1641509820,"post_id":70614390,"comment_id":124829595,"body_markdown":"I&#39;ve tried all other options. I was able to run JUnits some months before  without any issues. No code changes since then. Now there is some issue with eclipse or build path.","body":"I&#39;ve tried all other options. I was able to run JUnits some months before  without any issues. No code changes since then. Now there is some issue with eclipse or build path."}],"owner":{"account_id":18869983,"reputation":73,"user_id":13764842,"display_name":"KJ21"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641639657,"answer_count":0,"score":0,"last_activity_date":1641512607,"creation_date":1641508047,"question_id":70614390,"body_markdown":"Application runs in production environment and there is no change in code since long time.\r\n\r\nAfter setting up application in eclipse in local machine, I am trying to run JUnits and they are failing due to resources file not found located in src/test/resources folder in Java maven project directory.\r\n\r\n    java.io.FileNotFoundException: File &#39;C:\\[redacted]\\target\\test-classes\\sample.txt&#39; does not exist\r\n\r\nIn code, files are read through below code.\r\n```\r\nString content = IOUtils.toString(openInputStream(this.getClass().getClassLoader().getResource(filename).getPath()), &quot;UTF-8&quot;)\r\n```\r\n\r\nNOTE: application has been set up before also without any issue of JUnits.\r\napplication is passed through Jenkin build JUnit check also.\r\nI am able to run my application in eclipse.\r\n\r\nSo there should be something missing at eclipse setting or build path. Please guide me.\r\n\t","title":"while running JUnit, FileNotFoundException , text files are not found located in src/test/resource folder","body":"<p>Application runs in production environment and there is no change in code since long time.</p>\n<p>After setting up application in eclipse in local machine, I am trying to run JUnits and they are failing due to resources file not found located in src/test/resources folder in Java maven project directory.</p>\n<pre><code>java.io.FileNotFoundException: File 'C:\\[redacted]\\target\\test-classes\\sample.txt' does not exist\n</code></pre>\n<p>In code, files are read through below code.</p>\n<pre><code>String content = IOUtils.toString(openInputStream(this.getClass().getClassLoader().getResource(filename).getPath()), &quot;UTF-8&quot;)\n</code></pre>\n<p>NOTE: application has been set up before also without any issue of JUnits.\napplication is passed through Jenkin build JUnit check also.\nI am able to run my application in eclipse.</p>\n<p>So there should be something missing at eclipse setting or build path. Please guide me.</p>\n"},{"tags":["java","spring","xml-parsing","jaxb","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":7145290,"reputation":28,"user_id":5461225,"display_name":"Ty Viera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641507414,"creation_date":1641507414,"answer_id":70614298,"question_id":70612756,"body_markdown":"You could use the combination of the following tools:\r\n\r\n1. Parse XML to JSON (https://www.convertjson.com/xml-to-json.htm)\r\n2. Create POJOs from JSON (https://json2csharp.com/json-to-pojo)\r\n\r\nThe result is the next:\r\n\r\n    // import com.fasterxml.jackson.databind.ObjectMapper; // version 2.11.1\r\n    // import com.fasterxml.jackson.annotation.JsonProperty; // version 2.11.1\r\n    /* ObjectMapper om = new ObjectMapper();\r\n    Root root = om.readValue(myJsonString), Root.class); */\r\n    public class Value2{\r\n        public String string;\r\n        public Struct struct;\r\n    }\r\n    \r\n    public class Member{\r\n        public String name;\r\n        public Value value;\r\n    }\r\n    \r\n    public class Struct{\r\n        public List&lt;Member&gt; member;\r\n    }\r\n    \r\n    public class Param{\r\n        public Value value;\r\n    }\r\n    \r\n    public class Params{\r\n        public Param param;\r\n    }\r\n    \r\n    public class MethodCall{\r\n        public String methodName;\r\n        public Params params;\r\n    }\r\n    \r\n    public class Root{\r\n        public MethodCall methodCall;\r\n    }\r\n\r\nI hope I was able to help you.\r\n","title":"JAXB Unmarshalling to Java POJO","body":"<p>You could use the combination of the following tools:</p>\n<ol>\n<li>Parse XML to JSON (<a href=\"https://www.convertjson.com/xml-to-json.htm\" rel=\"nofollow noreferrer\">https://www.convertjson.com/xml-to-json.htm</a>)</li>\n<li>Create POJOs from JSON (<a href=\"https://json2csharp.com/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/json-to-pojo</a>)</li>\n</ol>\n<p>The result is the next:</p>\n<pre><code>// import com.fasterxml.jackson.databind.ObjectMapper; // version 2.11.1\n// import com.fasterxml.jackson.annotation.JsonProperty; // version 2.11.1\n/* ObjectMapper om = new ObjectMapper();\nRoot root = om.readValue(myJsonString), Root.class); */\npublic class Value2{\n    public String string;\n    public Struct struct;\n}\n\npublic class Member{\n    public String name;\n    public Value value;\n}\n\npublic class Struct{\n    public List&lt;Member&gt; member;\n}\n\npublic class Param{\n    public Value value;\n}\n\npublic class Params{\n    public Param param;\n}\n\npublic class MethodCall{\n    public String methodName;\n    public Params params;\n}\n\npublic class Root{\n    public MethodCall methodCall;\n}\n</code></pre>\n<p>I hope I was able to help you.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641512559,"creation_date":1641511653,"answer_id":70614853,"question_id":70612756,"body_markdown":"### Pojo Approach\r\n\r\nTaking this xml to https://codebeautify.org/xml-to-java-converter , it produces us (&quot;quickly&quot;, &quot;good&quot;) results:\r\n\r\nWe can copy&amp;paste the generated class, but still need to refactor little:\r\n- un-public all classes (or move them to separate files)\r\n- complete getters/setters of `Struct`\r\n\r\nBut, we &quot;suspect already&quot;: The problem is in the details and details are in the structure:\r\n\r\n```lang-java\r\npackage com.example.simpleschema;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MethodCall {\r\n\r\n  private String methodName;\r\n  Params ParamsObject;\r\n\r\n  // Getter Methods \r\n  public String getMethodName() {\r\n    return methodName;\r\n  }\r\n\r\n  public Params getParams() {\r\n    return ParamsObject;\r\n  }\r\n\r\n  // Setter Methods \r\n  public void setMethodName(String methodName) {\r\n    this.methodName = methodName;\r\n  }\r\n\r\n  public void setParams(Params paramsObject) {\r\n    this.ParamsObject = paramsObject;\r\n  }\r\n}\r\n\r\nclass Params {\r\n\r\n  Param ParamObject;\r\n\r\n  // Getter Methods \r\n  public Param getParam() {\r\n    return ParamObject;\r\n  }\r\n\r\n  // Setter Methods \r\n  public void setParam(Param paramObject) {\r\n    this.ParamObject = paramObject;\r\n  }\r\n}\r\n\r\nclass Param {\r\n\r\n  Value ValueObject;\r\n\r\n  // Getter Methods \r\n  public Value getValue() {\r\n    return ValueObject;\r\n  }\r\n\r\n  // Setter Methods \r\n  public void setValue(Value valueObject) {\r\n    this.ValueObject = valueObject;\r\n  }\r\n}\r\n\r\nclass Value {\r\n\r\n  Struct StructObject;\r\n\r\n  // Getter Methods \r\n  public Struct getStruct() {\r\n    return StructObject;\r\n  }\r\n\r\n  // Setter Methods \r\n  public void setStruct(Struct structObject) {\r\n    this.StructObject = structObject;\r\n  }\r\n}\r\n\r\nclass Struct {\r\n\r\n  ArrayList&lt; Object&gt; member = new ArrayList&lt; Object&gt;();\r\n\r\n  public ArrayList&lt;Object&gt; getMember() {\r\n    return member;\r\n  }\r\n\r\n  public void setMember(ArrayList&lt;Object&gt; member) {\r\n    this.member = member;\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nWith (only) this in our pom:\r\n```lang-xml\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.13.1&lt;/version&gt; &lt;!-- or newer --&gt; \r\n  &lt;/dependency&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nWe can do that:\r\n```\r\npackage com.example.xmltest.simple;\r\n\r\nimport com.example.simpleschema.MethodCall;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport java.io.IOException;\r\n\r\npublic class MainSimple {\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    final XmlMapper xmlMapper = new XmlMapper();\r\n    MethodCall value = xmlMapper\r\n        .readValue(MainSimple.class.getResourceAsStream(&quot;/test.xml&quot;), MethodCall.class);\r\n    System.out.println(value);\r\n    xmlMapper.writeValue(System.out, value);\r\n  }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nPrints:\r\n```\r\ncom.example.simpleschema.MethodCall@23529fee\r\n&lt;MethodCall&gt;&lt;methodName&gt;name&lt;/methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;&lt;struct&gt;&lt;member&gt;&lt;member&gt;transactionId&lt;/member&gt;&lt;member&gt;&lt;string&gt;0122716414746578950&lt;/string&gt;&lt;/member&gt;&lt;/member&gt;&lt;/struct&gt;&lt;/value&gt;&lt;/param&gt;&lt;/params&gt;&lt;/MethodCall&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n### With JAXB\r\n\r\nWe need to an xsd first! We can:\r\n\r\n- ask our provider, if he would supply us... or\r\n- we generate it ourself...\r\n\r\nA &quot;quick&quot; lookup leads us (nowadays, with open-source) to https://learn.microsoft.com/en-us/visualstudio/xml-tools/how-to-create-an-xml-schema-from-an-xml-document .\r\n   click-clack in [tag:vscode], and our xsd looks like:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n  &lt;xs:element name=&quot;methodCall&quot;&gt;\r\n    &lt;xs:complexType&gt;\r\n      &lt;xs:sequence&gt;\r\n        &lt;xs:element name=&quot;methodName&quot; type=&quot;xs:string&quot; /&gt;\r\n        &lt;xs:element name=&quot;params&quot;&gt;\r\n          &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n              &lt;xs:element name=&quot;param&quot;&gt;\r\n                &lt;xs:complexType&gt;\r\n                  &lt;xs:sequence&gt;\r\n                    &lt;xs:element name=&quot;value&quot;&gt;\r\n                      &lt;xs:complexType&gt;\r\n                        &lt;xs:sequence&gt;\r\n                          &lt;xs:element name=&quot;struct&quot;&gt;\r\n                            &lt;xs:complexType&gt;\r\n                              &lt;xs:sequence&gt;\r\n                                &lt;xs:element name=&quot;member&quot; maxOccurs=&quot;unbounded&quot;&gt;\r\n                                  &lt;xs:complexType&gt;\r\n                                    &lt;xs:sequence&gt;\r\n                                      &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot; /&gt;\r\n                                      &lt;xs:element name=&quot;value&quot;&gt;\r\n                                        &lt;xs:complexType&gt;\r\n                                          &lt;xs:sequence&gt;\r\n                                            &lt;xs:element name=&quot;string&quot; type=&quot;xs:string&quot; /&gt;\r\n                                          &lt;/xs:sequence&gt;\r\n                                        &lt;/xs:complexType&gt;\r\n                                      &lt;/xs:element&gt;\r\n                                    &lt;/xs:sequence&gt;\r\n                                  &lt;/xs:complexType&gt;\r\n                                &lt;/xs:element&gt;\r\n                              &lt;/xs:sequence&gt;\r\n                            &lt;/xs:complexType&gt;\r\n                          &lt;/xs:element&gt;\r\n                        &lt;/xs:sequence&gt;\r\n                      &lt;/xs:complexType&gt;\r\n                    &lt;/xs:element&gt;\r\n                  &lt;/xs:sequence&gt;\r\n                &lt;/xs:complexType&gt;\r\n              &lt;/xs:element&gt;\r\n            &lt;/xs:sequence&gt;\r\n          &lt;/xs:complexType&gt;\r\n        &lt;/xs:element&gt;\r\n      &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n  &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nPutting this `test.xsd` under `src/main/xsd` (standard loaction of codehaus:jaxb2-maven-plugin), and add the following to our pom (sorry @all gradel-users):\r\n```lang-xml\r\n...\r\n &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt; &lt;!-- this depends on org.glassfish.jaxb:2.3.2!! --&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;xjc&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;xjc&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;!-- The (target) package of your generated sources --&gt;\r\n              &lt;packageName&gt;com.example.jaxbschema&lt;/packageName&gt; &lt;!-- .${project.version} --&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n...\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nOn the next `mvn process-classes` (or above/or accomplished by IDE), this will generate us some &quot;fine&quot; classes in `src/target/generated-sources/jaxb/`...\r\nThese are not compilable!! (Or the structure is too recursive, or it is a jaxb(impl)-bug, consider it as you like)\r\n\r\n\r\n----------\r\n\r\n\r\n#### We can fix!\r\nManually ... but have to move the generated `com.example.myschema` to &quot;main&quot; sources, de-activate the jaxb-plugin, and fix the name clash caused by the most inner `Value`:\r\n\r\n```lang-java\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;value&quot;, propOrder = {\r\n  &quot;string&quot;\r\n})\r\npublic static class Value2 { ...\r\n```\r\n... and resolving remaining compiler conflicts.\r\n\r\n\r\n----------\r\n\r\n\r\nThis (generated&amp;adjusted model) seems still to be buggy at least for jackson.\r\n\r\n\r\n----------\r\n\r\n\r\nWith this, [tag:spring-boot] and [tag:spring-oxm]:\r\n```lang-xml\r\n...\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.2&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n  &lt;/parent&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Spring OXM: needs jaxb --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n      &lt;!-- managed by spring-boot: 5.3.14 --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;!-- managed by spring-boo: 2.3.1 --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;!-- managed by spring-boo: 2.3.5 --&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n...\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nWe can:\r\n\r\n```lang-java\r\n// ...\r\nimport com.example.jaxbschema.MethodCall; // !! same as generated/refactored.\r\n// ...\r\n@SpringBootApplication\r\npublic class SpringMain {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(SpringMain.class, args);\r\n  }\r\n\r\n  @Bean\r\n  org.springframework.oxm.jaxb.Jaxb2Marshaller jaxb2Marshaller() {\r\n    Jaxb2Marshaller mler = new org.springframework.oxm.jaxb.Jaxb2Marshaller();\r\n    mler.setClassesToBeBound(MethodCall.class);\r\n    return mler;\r\n  }\r\n\r\n  @Bean\r\n  @Autowired\r\n  CommandLineRunner runner(\r\n      @Value(&quot;test.xml&quot;) Resource xmlFile,\r\n      org.springframework.oxm.jaxb.Jaxb2Marshaller jaxb2Marshaller\r\n  ) {\r\n    return (args) -&gt; {\r\n      MethodCall readValue2 = (MethodCall) jaxb2Marshaller.unmarshal(new StreamSource(xmlFile.getInputStream()));\r\n      jaxb2Marshaller.marshal(readValue2, new StreamResult(System.out));\r\n    };\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n...which prints:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;methodCall&gt;&lt;methodName&gt;name&lt;/methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;&lt;struct&gt;&lt;member&gt;&lt;name&gt;subscriberInput&lt;/name&gt;&lt;value&gt;&lt;string&gt;678&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;language&lt;/name&gt;&lt;value&gt;&lt;string&gt;en&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;sessionId&lt;/name&gt;&lt;value&gt;&lt;string&gt;16414746570268014&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;msisdn&lt;/name&gt;&lt;value&gt;&lt;string&gt;1234&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;newRequest&lt;/name&gt;&lt;value&gt;&lt;string&gt;1&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;transactionId&lt;/name&gt;&lt;value&gt;&lt;string&gt;0122716414746578950&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;/struct&gt;&lt;/value&gt;&lt;/param&gt;&lt;/params&gt;&lt;/methodCall&gt;\r\n```\r\n\r\n----------\r\n\r\n### When Structure/XML is big/complex\r\n\r\n..and we only need &quot;few values&quot; form that, we should consider a more effcient (parser based) approach...\r\n","title":"JAXB Unmarshalling to Java POJO","body":"<h3>Pojo Approach</h3>\n<p>Taking this xml to <a href=\"https://codebeautify.org/xml-to-java-converter\" rel=\"nofollow noreferrer\">https://codebeautify.org/xml-to-java-converter</a> , it produces us (&quot;quickly&quot;, &quot;good&quot;) results:</p>\n<p>We can copy&amp;paste the generated class, but still need to refactor little:</p>\n<ul>\n<li>un-public all classes (or move them to separate files)</li>\n<li>complete getters/setters of <code>Struct</code></li>\n</ul>\n<p>But, we &quot;suspect already&quot;: The problem is in the details and details are in the structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.simpleschema;\n\nimport java.util.ArrayList;\n\npublic class MethodCall {\n\n  private String methodName;\n  Params ParamsObject;\n\n  // Getter Methods \n  public String getMethodName() {\n    return methodName;\n  }\n\n  public Params getParams() {\n    return ParamsObject;\n  }\n\n  // Setter Methods \n  public void setMethodName(String methodName) {\n    this.methodName = methodName;\n  }\n\n  public void setParams(Params paramsObject) {\n    this.ParamsObject = paramsObject;\n  }\n}\n\nclass Params {\n\n  Param ParamObject;\n\n  // Getter Methods \n  public Param getParam() {\n    return ParamObject;\n  }\n\n  // Setter Methods \n  public void setParam(Param paramObject) {\n    this.ParamObject = paramObject;\n  }\n}\n\nclass Param {\n\n  Value ValueObject;\n\n  // Getter Methods \n  public Value getValue() {\n    return ValueObject;\n  }\n\n  // Setter Methods \n  public void setValue(Value valueObject) {\n    this.ValueObject = valueObject;\n  }\n}\n\nclass Value {\n\n  Struct StructObject;\n\n  // Getter Methods \n  public Struct getStruct() {\n    return StructObject;\n  }\n\n  // Setter Methods \n  public void setStruct(Struct structObject) {\n    this.StructObject = structObject;\n  }\n}\n\nclass Struct {\n\n  ArrayList&lt; Object&gt; member = new ArrayList&lt; Object&gt;();\n\n  public ArrayList&lt;Object&gt; getMember() {\n    return member;\n  }\n\n  public void setMember(ArrayList&lt;Object&gt; member) {\n    this.member = member;\n  }\n\n}\n</code></pre>\n<hr />\n<p>With (only) this in our pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.13.1&lt;/version&gt; &lt;!-- or newer --&gt; \n  &lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>We can do that:</p>\n<pre><code>package com.example.xmltest.simple;\n\nimport com.example.simpleschema.MethodCall;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport java.io.IOException;\n\npublic class MainSimple {\n\n  public static void main(String[] args) throws IOException {\n    final XmlMapper xmlMapper = new XmlMapper();\n    MethodCall value = xmlMapper\n        .readValue(MainSimple.class.getResourceAsStream(&quot;/test.xml&quot;), MethodCall.class);\n    System.out.println(value);\n    xmlMapper.writeValue(System.out, value);\n  }\n}\n</code></pre>\n<hr />\n<p>Prints:</p>\n<pre><code>com.example.simpleschema.MethodCall@23529fee\n&lt;MethodCall&gt;&lt;methodName&gt;name&lt;/methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;&lt;struct&gt;&lt;member&gt;&lt;member&gt;transactionId&lt;/member&gt;&lt;member&gt;&lt;string&gt;0122716414746578950&lt;/string&gt;&lt;/member&gt;&lt;/member&gt;&lt;/struct&gt;&lt;/value&gt;&lt;/param&gt;&lt;/params&gt;&lt;/MethodCall&gt;\n</code></pre>\n<hr />\n<h3>With JAXB</h3>\n<p>We need to an xsd first! We can:</p>\n<ul>\n<li>ask our provider, if he would supply us... or</li>\n<li>we generate it ourself...</li>\n</ul>\n<p>A &quot;quick&quot; lookup leads us (nowadays, with open-source) to <a href=\"https://learn.microsoft.com/en-us/visualstudio/xml-tools/how-to-create-an-xml-schema-from-an-xml-document\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/visualstudio/xml-tools/how-to-create-an-xml-schema-from-an-xml-document</a> .\nclick-clack in <a href=\"/questions/tagged/vscode\" class=\"post-tag\" title=\"show questions tagged &#39;vscode&#39;\" rel=\"tag\">vscode</a>, and our xsd looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n  &lt;xs:element name=&quot;methodCall&quot;&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;methodName&quot; type=&quot;xs:string&quot; /&gt;\n        &lt;xs:element name=&quot;params&quot;&gt;\n          &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n              &lt;xs:element name=&quot;param&quot;&gt;\n                &lt;xs:complexType&gt;\n                  &lt;xs:sequence&gt;\n                    &lt;xs:element name=&quot;value&quot;&gt;\n                      &lt;xs:complexType&gt;\n                        &lt;xs:sequence&gt;\n                          &lt;xs:element name=&quot;struct&quot;&gt;\n                            &lt;xs:complexType&gt;\n                              &lt;xs:sequence&gt;\n                                &lt;xs:element name=&quot;member&quot; maxOccurs=&quot;unbounded&quot;&gt;\n                                  &lt;xs:complexType&gt;\n                                    &lt;xs:sequence&gt;\n                                      &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot; /&gt;\n                                      &lt;xs:element name=&quot;value&quot;&gt;\n                                        &lt;xs:complexType&gt;\n                                          &lt;xs:sequence&gt;\n                                            &lt;xs:element name=&quot;string&quot; type=&quot;xs:string&quot; /&gt;\n                                          &lt;/xs:sequence&gt;\n                                        &lt;/xs:complexType&gt;\n                                      &lt;/xs:element&gt;\n                                    &lt;/xs:sequence&gt;\n                                  &lt;/xs:complexType&gt;\n                                &lt;/xs:element&gt;\n                              &lt;/xs:sequence&gt;\n                            &lt;/xs:complexType&gt;\n                          &lt;/xs:element&gt;\n                        &lt;/xs:sequence&gt;\n                      &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                  &lt;/xs:sequence&gt;\n                &lt;/xs:complexType&gt;\n              &lt;/xs:element&gt;\n            &lt;/xs:sequence&gt;\n          &lt;/xs:complexType&gt;\n        &lt;/xs:element&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<hr />\n<p>Putting this <code>test.xsd</code> under <code>src/main/xsd</code> (standard loaction of codehaus:jaxb2-maven-plugin), and add the following to our pom (sorry @all gradel-users):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt; &lt;!-- this depends on org.glassfish.jaxb:2.3.2!! --&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;xjc&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;xjc&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n              &lt;!-- The (target) package of your generated sources --&gt;\n              &lt;packageName&gt;com.example.jaxbschema&lt;/packageName&gt; &lt;!-- .${project.version} --&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n...\n</code></pre>\n<hr />\n<p>On the next <code>mvn process-classes</code> (or above/or accomplished by IDE), this will generate us some &quot;fine&quot; classes in <code>src/target/generated-sources/jaxb/</code>...\nThese are not compilable!! (Or the structure is too recursive, or it is a jaxb(impl)-bug, consider it as you like)</p>\n<hr />\n<h4>We can fix!</h4>\n<p>Manually ... but have to move the generated <code>com.example.myschema</code> to &quot;main&quot; sources, de-activate the jaxb-plugin, and fix the name clash caused by the most inner <code>Value</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;value&quot;, propOrder = {\n  &quot;string&quot;\n})\npublic static class Value2 { ...\n</code></pre>\n<p>... and resolving remaining compiler conflicts.</p>\n<hr />\n<p>This (generated&amp;adjusted model) seems still to be buggy at least for jackson.</p>\n<hr />\n<p>With this, <a href=\"/questions/tagged/spring-boot\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot&#39;\" rel=\"tag\">spring-boot</a> and <a href=\"/questions/tagged/spring-oxm\" class=\"post-tag\" title=\"show questions tagged &#39;spring-oxm&#39;\" rel=\"tag\">spring-oxm</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Spring OXM: needs jaxb --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n      &lt;!-- managed by spring-boot: 5.3.14 --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;!-- managed by spring-boo: 2.3.1 --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;!-- managed by spring-boo: 2.3.5 --&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n...\n</code></pre>\n<hr />\n<p>We can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\nimport com.example.jaxbschema.MethodCall; // !! same as generated/refactored.\n// ...\n@SpringBootApplication\npublic class SpringMain {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SpringMain.class, args);\n  }\n\n  @Bean\n  org.springframework.oxm.jaxb.Jaxb2Marshaller jaxb2Marshaller() {\n    Jaxb2Marshaller mler = new org.springframework.oxm.jaxb.Jaxb2Marshaller();\n    mler.setClassesToBeBound(MethodCall.class);\n    return mler;\n  }\n\n  @Bean\n  @Autowired\n  CommandLineRunner runner(\n      @Value(&quot;test.xml&quot;) Resource xmlFile,\n      org.springframework.oxm.jaxb.Jaxb2Marshaller jaxb2Marshaller\n  ) {\n    return (args) -&gt; {\n      MethodCall readValue2 = (MethodCall) jaxb2Marshaller.unmarshal(new StreamSource(xmlFile.getInputStream()));\n      jaxb2Marshaller.marshal(readValue2, new StreamResult(System.out));\n    };\n  }\n\n}\n</code></pre>\n<hr />\n<p>...which prints:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;methodCall&gt;&lt;methodName&gt;name&lt;/methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;&lt;struct&gt;&lt;member&gt;&lt;name&gt;subscriberInput&lt;/name&gt;&lt;value&gt;&lt;string&gt;678&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;language&lt;/name&gt;&lt;value&gt;&lt;string&gt;en&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;sessionId&lt;/name&gt;&lt;value&gt;&lt;string&gt;16414746570268014&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;msisdn&lt;/name&gt;&lt;value&gt;&lt;string&gt;1234&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;newRequest&lt;/name&gt;&lt;value&gt;&lt;string&gt;1&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;member&gt;&lt;name&gt;transactionId&lt;/name&gt;&lt;value&gt;&lt;string&gt;0122716414746578950&lt;/string&gt;&lt;/value&gt;&lt;/member&gt;&lt;/struct&gt;&lt;/value&gt;&lt;/param&gt;&lt;/params&gt;&lt;/methodCall&gt;\n</code></pre>\n<hr />\n<h3>When Structure/XML is big/complex</h3>\n<p>..and we only need &quot;few values&quot; form that, we should consider a more effcient (parser based) approach...</p>\n"}],"owner":{"account_id":16619015,"reputation":11,"user_id":12009917,"display_name":"Shubham Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641512559,"creation_date":1641497999,"question_id":70612756,"body_markdown":"I want to convert this XMl into java Object but nit getting how to make POJO class for it. I can not change this xml because it is comning from remote server as a request and I need all information that it contains in order to response.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;methodCall&gt;\r\n    &lt;methodName&gt;name&lt;/methodName&gt;\r\n    &lt;params&gt;\r\n    &lt;param&gt;&lt;value&gt;&lt;struct&gt;\r\n    &lt;member&gt;\r\n    &lt;name&gt;subscriberInput&lt;/name&gt;\r\n    &lt;value&gt;&lt;string&gt;678&lt;/string&gt;&lt;/value&gt;\r\n    &lt;/member&gt;\r\n    &lt;member&gt;\r\n    &lt;name&gt;language&lt;/name&gt;\r\n    &lt;value&gt;&lt;string&gt;en&lt;/string&gt;&lt;/value&gt;\r\n    &lt;/member&gt;\r\n    &lt;member&gt;\r\n    &lt;name&gt;sessionId&lt;/name&gt;\r\n    &lt;value&gt;&lt;string&gt;16414746570268014&lt;/string&gt;&lt;/value&gt;\r\n    &lt;/member&gt;\r\n    &lt;member&gt;&lt;name&gt;msisdn&lt;/name&gt;&lt;value&gt;&lt;string&gt;1234&lt;/string&gt;&lt;/value&gt;\r\n    &lt;/member&gt;\r\n    &lt;member&gt;\r\n    &lt;name&gt;newRequest&lt;/name&gt;\r\n    &lt;value&gt;&lt;string&gt;1&lt;/string&gt;&lt;/value&gt;\r\n    &lt;/member&gt;\r\n    &lt;member&gt;\r\n    &lt;name&gt;transactionId&lt;/name&gt;\r\n    &lt;value&gt;&lt;string&gt;0122716414746578950&lt;/string&gt;\r\n    &lt;/value&gt;\r\n    &lt;/member&gt;\r\n    &lt;/struct&gt;\r\n    &lt;/value&gt;\r\n    &lt;/param&gt;\r\n    &lt;/params&gt;\\&lt;/methodCall&gt;","title":"JAXB Unmarshalling to Java POJO","body":"<p>I want to convert this XMl into java Object but nit getting how to make POJO class for it. I can not change this xml because it is comning from remote server as a request and I need all information that it contains in order to response.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;methodCall&gt;\n&lt;methodName&gt;name&lt;/methodName&gt;\n&lt;params&gt;\n&lt;param&gt;&lt;value&gt;&lt;struct&gt;\n&lt;member&gt;\n&lt;name&gt;subscriberInput&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;678&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;language&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;en&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;sessionId&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;16414746570268014&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;&lt;name&gt;msisdn&lt;/name&gt;&lt;value&gt;&lt;string&gt;1234&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;newRequest&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;1&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;transactionId&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;0122716414746578950&lt;/string&gt;\n&lt;/value&gt;\n&lt;/member&gt;\n&lt;/struct&gt;\n&lt;/value&gt;\n&lt;/param&gt;\n&lt;/params&gt;\\&lt;/methodCall&gt;\n</code></pre>\n"},{"tags":["java","oracle","jdbc","jboss","modeshape"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1641511996,"post_id":70614873,"comment_id":124830083,"body_markdown":"It may not be a dirty read, but one of caching, either on the server or in the client.  Check the timestamp for when the &quot;failing&quot; query is executed. If it runs before the commit but the data is fetched after you could have a race condition.","body":"It may not be a dirty read, but one of caching, either on the server or in the client.  Check the timestamp for when the &quot;failing&quot; query is executed. If it runs before the commit but the data is fetched after you could have a race condition."},{"owner":{"account_id":61244,"reputation":589,"user_id":182650,"accept_rate":38,"display_name":"lartkma"},"score":0,"creation_date":1641512911,"post_id":70614873,"comment_id":124830277,"body_markdown":"@JimGarrison I&#39;ve been just checking that data. In my current scenario, the call to the JDBC&#39;s `commit` happens at timestamp 1641421234154. The next call to `executeQuery`, that is happening *in the same thread the commit happens* occurs at 1641421234161 (7 ms after), this is the one right now returning the outdated value. There is another `executeQuery` at 1641421234168 (14 ms after the commit) in another thread, that returns the updated value","body":"@JimGarrison I&#39;ve been just checking that data. In my current scenario, the call to the JDBC&#39;s <code>commit</code> happens at timestamp 1641421234154. The next call to <code>executeQuery</code>, that is happening <i>in the same thread the commit happens</i> occurs at 1641421234161 (7 ms after), this is the one right now returning the outdated value. There is another <code>executeQuery</code> at 1641421234168 (14 ms after the commit) in another thread, that returns the updated value"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1641513452,"post_id":70614873,"comment_id":124830391,"body_markdown":"`READ_COMMITTED` is the second-_weakest_ isolation level, and is probably not enough.  All it guarantees is that you will not &quot;see&quot; inside a transaction.  It doesn&#39;t guarantee you get the _latest_ values. Have you read [On Transaction Isolation Levels](https://blogs.oracle.com/oraclemagazine/post/on-transaction-isolation-levels)?","body":"<code>READ_COMMITTED</code> is the second-<i>weakest</i> isolation level, and is probably not enough.  All it guarantees is that you will not &quot;see&quot; inside a transaction.  It doesn&#39;t guarantee you get the <i>latest</i> values. Have you read <a href=\"https://blogs.oracle.com/oraclemagazine/post/on-transaction-isolation-levels\" rel=\"nofollow noreferrer\">On Transaction Isolation Levels</a>?"}],"owner":{"account_id":61244,"reputation":589,"user_id":182650,"accept_rate":38,"display_name":"lartkma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641511814,"creation_date":1641511814,"question_id":70614873,"body_markdown":"I&#39;m currently debugging an application that uses [Modeshape](https://modeshape.jboss.org/) to store values and that is getting some random errors lately. Through extensive logging and the use of [P6Spy](https://github.com/p6spy/p6spy) to check the internal calls, I found something.\r\n\r\nFor context, Modeshape has an internal data model based on nodes, but at the end they are persisted in a database (In our case, an Oracle DB). Basically one table MP_CONFIG_CFGMGMT_REPOSITORY is used for this and contains an ID field, a modified date, and a BLOB with the contents of the node (encoded as Binary JSON).\r\n\r\nAt some point, Modeshape needs to edit a node, so updates the corresponding record in MP_CONFIG_CFGMGMT_REPOSITORY (by ID) changing the content field. This update is commited in a transaction.\r\n\r\nAfter that commit, two threads (one of them being the same thread that updated and commited the table) makes a query to the same record. Using P6Spy, I could confirm that, sometimes, one of the queries **returns a content field with the value prior to the commited update**, whereas the other returns the correct updated value. This causes problems further in the code.\r\n\r\nReading the Modeshape code, I find that it creates connections using the isolation level `Connection.TRANSACTION_READ_COMMITTED` (and also the queries are confirmed to happen after the commited update) so it cannot be an issue of dirty reads.\r\n\r\nThe datasource is a JNDI resource defined in JBoss (the application server where my application is deployed) defined with the following configuration:\r\n\r\n    &lt;datasource jta=&quot;false&quot; jndi-name=&quot;java:jboss/nameOfDatasource&quot; pool-name=&quot;nameOfDatasource&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;true&quot;&gt;\r\n        &lt;connection-url&gt;jdbc:oracle:thin:@//db-host:6789/DB_NAME&lt;/connection-url&gt;\r\n        &lt;driver&gt;oracle&lt;/driver&gt;\r\n        &lt;pool&gt;\r\n            &lt;min-pool-size&gt;100&lt;/min-pool-size&gt;\r\n            &lt;max-pool-size&gt;100&lt;/max-pool-size&gt;\r\n        &lt;/pool&gt;\r\n        &lt;security&gt;\r\n            &lt;user-name&gt;${USERNAME}&lt;/user-name&gt;\r\n            &lt;password&gt;${PASSWORD}&lt;/password&gt;\r\n        &lt;/security&gt;\r\n        &lt;validation&gt;\r\n            &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker&quot;/&gt;\r\n            &lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\r\n            &lt;background-validation&gt;true&lt;/background-validation&gt;\r\n            &lt;background-validation-millis&gt;30000&lt;/background-validation-millis&gt;\r\n            &lt;exception-sorter class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter&quot;/&gt;\r\n        &lt;/validation&gt;\r\n        &lt;statement&gt;\r\n            &lt;prepared-statement-cache-size&gt;25&lt;/prepared-statement-cache-size&gt;\r\n        &lt;/statement&gt;\r\n    &lt;/datasource&gt;\r\n    ...\r\n    &lt;drivers&gt;\r\n        ...\r\n        &lt;driver name=&quot;oracle&quot; module=&quot;org.jdbc.oracle&quot;&gt;\r\n            &lt;driver-class&gt;oracle.jdbc.driver.OracleDriver&lt;/driver-class&gt;\r\n        &lt;/driver&gt;\r\n    &lt;/drivers&gt;\r\n\r\nMy question is: **what are the possible causes for this behavior?** Possibly something with Oracle itself? Or maybe an intermediate setup by JBoss between Oracle and the application?\r\n\r\nOracle version: 19c Enterprise Edition Release 19.0.0.0.0\r\n\r\n&lt;sub&gt;I read Oracle has [LOB cache options](https://docs.oracle.com/cd/B28359_01/appdev.111/b28415/ch_dba.htm#sthref293), but it&#39;s advised to avoid it only [&quot;if you are rarely accessing the LOBs or if the LOBs are extremely large&quot;](https://logicalread.com/oracle-lobs-io-tuning-buffer-cache-alternates-mc08/), that is not the case here&lt;/sub&gt;","title":"Oracle query is returning outdated values after commited update","body":"<p>I'm currently debugging an application that uses <a href=\"https://modeshape.jboss.org/\" rel=\"nofollow noreferrer\">Modeshape</a> to store values and that is getting some random errors lately. Through extensive logging and the use of <a href=\"https://github.com/p6spy/p6spy\" rel=\"nofollow noreferrer\">P6Spy</a> to check the internal calls, I found something.</p>\n<p>For context, Modeshape has an internal data model based on nodes, but at the end they are persisted in a database (In our case, an Oracle DB). Basically one table MP_CONFIG_CFGMGMT_REPOSITORY is used for this and contains an ID field, a modified date, and a BLOB with the contents of the node (encoded as Binary JSON).</p>\n<p>At some point, Modeshape needs to edit a node, so updates the corresponding record in MP_CONFIG_CFGMGMT_REPOSITORY (by ID) changing the content field. This update is commited in a transaction.</p>\n<p>After that commit, two threads (one of them being the same thread that updated and commited the table) makes a query to the same record. Using P6Spy, I could confirm that, sometimes, one of the queries <strong>returns a content field with the value prior to the commited update</strong>, whereas the other returns the correct updated value. This causes problems further in the code.</p>\n<p>Reading the Modeshape code, I find that it creates connections using the isolation level <code>Connection.TRANSACTION_READ_COMMITTED</code> (and also the queries are confirmed to happen after the commited update) so it cannot be an issue of dirty reads.</p>\n<p>The datasource is a JNDI resource defined in JBoss (the application server where my application is deployed) defined with the following configuration:</p>\n<pre><code>&lt;datasource jta=&quot;false&quot; jndi-name=&quot;java:jboss/nameOfDatasource&quot; pool-name=&quot;nameOfDatasource&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;true&quot;&gt;\n    &lt;connection-url&gt;jdbc:oracle:thin:@//db-host:6789/DB_NAME&lt;/connection-url&gt;\n    &lt;driver&gt;oracle&lt;/driver&gt;\n    &lt;pool&gt;\n        &lt;min-pool-size&gt;100&lt;/min-pool-size&gt;\n        &lt;max-pool-size&gt;100&lt;/max-pool-size&gt;\n    &lt;/pool&gt;\n    &lt;security&gt;\n        &lt;user-name&gt;${USERNAME}&lt;/user-name&gt;\n        &lt;password&gt;${PASSWORD}&lt;/password&gt;\n    &lt;/security&gt;\n    &lt;validation&gt;\n        &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker&quot;/&gt;\n        &lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\n        &lt;background-validation&gt;true&lt;/background-validation&gt;\n        &lt;background-validation-millis&gt;30000&lt;/background-validation-millis&gt;\n        &lt;exception-sorter class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter&quot;/&gt;\n    &lt;/validation&gt;\n    &lt;statement&gt;\n        &lt;prepared-statement-cache-size&gt;25&lt;/prepared-statement-cache-size&gt;\n    &lt;/statement&gt;\n&lt;/datasource&gt;\n...\n&lt;drivers&gt;\n    ...\n    &lt;driver name=&quot;oracle&quot; module=&quot;org.jdbc.oracle&quot;&gt;\n        &lt;driver-class&gt;oracle.jdbc.driver.OracleDriver&lt;/driver-class&gt;\n    &lt;/driver&gt;\n&lt;/drivers&gt;\n</code></pre>\n<p>My question is: <strong>what are the possible causes for this behavior?</strong> Possibly something with Oracle itself? Or maybe an intermediate setup by JBoss between Oracle and the application?</p>\n<p>Oracle version: 19c Enterprise Edition Release 19.0.0.0.0</p>\n<p><sub>I read Oracle has <a href=\"https://docs.oracle.com/cd/B28359_01/appdev.111/b28415/ch_dba.htm#sthref293\" rel=\"nofollow noreferrer\">LOB cache options</a>, but it's advised to avoid it only <a href=\"https://logicalread.com/oracle-lobs-io-tuning-buffer-cache-alternates-mc08/\" rel=\"nofollow noreferrer\">&quot;if you are rarely accessing the LOBs or if the LOBs are extremely large&quot;</a>, that is not the case here</sub></p>\n"},{"tags":["java","android","kotlin","socket.io"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1641511520,"post_id":70614676,"comment_id":124829992,"body_markdown":"*&quot;Thanks in advance for your wasted time&quot;* - [Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551).  It wastes our time to continually need to remind people of this.","body":"<i>&quot;Thanks in advance for your wasted time&quot;</i> - <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>.  It wastes our time to continually need to remind people of this."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641511458,"creation_date":1641511031,"answer_id":70614778,"question_id":70614676,"body_markdown":"You don&#39;t read from a `Reader` like this:\r\n\r\n    reader.toString()\r\n\r\nThat just renders the `Reader` &gt;&gt;object&lt;&lt; as a string.  Since `toString` has not been overridden by `Reader`, you get the `Object::toString` implementation.  (It prints the internal class name and the object&#39;s &quot;identity hash code&quot; in hexadecimal.)\r\n\r\nTo read from a `Reader` use one of the `read` methods in the [Reader API][1], or wrap it in a `Scanner` or a `BufferedReader` so that you can use those APIs.\r\n\r\n---------------\r\n\r\nIn your &quot;P.S.&quot; you are also calling toString() on an object that doesn&#39;t override toString(). Based on the class name, it looks like it is a byte[].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/Reader.html","title":"How can i read text from socket Kotlin/Android?","body":"<p>You don't read from a <code>Reader</code> like this:</p>\n<pre><code>reader.toString()\n</code></pre>\n<p>That just renders the <code>Reader</code> &gt;&gt;object&lt;&lt; as a string.  Since <code>toString</code> has not been overridden by <code>Reader</code>, you get the <code>Object::toString</code> implementation.  (It prints the internal class name and the object's &quot;identity hash code&quot; in hexadecimal.)</p>\n<p>To read from a <code>Reader</code> use one of the <code>read</code> methods in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Reader.html\" rel=\"nofollow noreferrer\">Reader API</a>, or wrap it in a <code>Scanner</code> or a <code>BufferedReader</code> so that you can use those APIs.</p>\n<hr />\n<p>In your &quot;P.S.&quot; you are also calling toString() on an object that doesn't override toString(). Based on the class name, it looks like it is a byte[].</p>\n"}],"owner":{"account_id":20005798,"reputation":1,"user_id":14708541,"display_name":"NIKITA76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641511458,"creation_date":1641510333,"question_id":70614676,"body_markdown":"I will say right away that I started to study Kotlin recently, and I just want to rewrite one program, and therefore I took up this\r\n\r\nI want to read the text received from the incoming stream, but as a result, I get the following\r\n\r\nPerhaps I make terribly stupid mistakes, but I hardly understand what and how it works here \r\n(I read half Internet)\r\n\r\n[I don&#39;t know what is this][1]\r\n\r\n\r\nP.S.\r\n[I already tried to use this, but the program just doesn&#39;t go further and that&#39;s it\r\n ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BzXZX.png\r\n  [2]: https://i.stack.imgur.com/SgJQc.png\r\n\r\n\r\n```kotlin\r\npackage com.example.appisone\r\nimport java.net.Socket\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.Button\r\nimport android.widget.EditText\r\nimport android.widget.TextView\r\nimport kotlinx.coroutines.*\r\nimport java.io.InputStreamReader\r\nimport java.util.*\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private var Text_Edit: EditText? = null\r\n    private var btn: Button? = null\r\n    private var Text_view: TextView? = null\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n\r\n        Text_Edit = findViewById(R.id.EditText)\r\n        btn = findViewById(R.id.Button)\r\n        Text_view = findViewById(R.id.TextView)\r\n        btn?.setOnClickListener {\r\n            Text_view?.text = Text_Edit?.text\r\n            println(&quot;Button is pressed!&quot;)\r\n            GlobalScope.launch(Dispatchers.IO) {\r\n                send_text()\r\n\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private fun send_text() {\r\n        var data: Any\r\n        println(&quot;send_text is pressed!&quot;)\r\n        val client = Socket(&quot;192.168.0.3&quot;, 9090)\r\n        val text = Text_Edit?.text.toString()\r\n        println(text.toByteArray())\r\n        client.getOutputStream().write(text.toByteArray())\r\n\r\n        val reader = client.getInputStream()\r\n\r\n\r\n\r\n        data = reader.toString()\r\n        println(&quot;Сообщение --- &gt;$data&quot;)\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}  ```\r\n\r\n\r\nThanks in advance for your wasted time\r\n\r\n","title":"How can i read text from socket Kotlin/Android?","body":"<p>I will say right away that I started to study Kotlin recently, and I just want to rewrite one program, and therefore I took up this</p>\n<p>I want to read the text received from the incoming stream, but as a result, I get the following</p>\n<p>Perhaps I make terribly stupid mistakes, but I hardly understand what and how it works here\n(I read half Internet)</p>\n<p><a href=\"https://i.stack.imgur.com/BzXZX.png\" rel=\"nofollow noreferrer\">I don't know what is this</a></p>\n<p>P.S.\n<a href=\"https://i.stack.imgur.com/SgJQc.png\" rel=\"nofollow noreferrer\">I already tried to use this, but the program just doesn't go further and that's it\n</a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.example.appisone\nimport java.net.Socket\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.TextView\nimport kotlinx.coroutines.*\nimport java.io.InputStreamReader\nimport java.util.*\n\n\nclass MainActivity : AppCompatActivity() {\n\n    private var Text_Edit: EditText? = null\n    private var btn: Button? = null\n    private var Text_view: TextView? = null\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        Text_Edit = findViewById(R.id.EditText)\n        btn = findViewById(R.id.Button)\n        Text_view = findViewById(R.id.TextView)\n        btn?.setOnClickListener {\n            Text_view?.text = Text_Edit?.text\n            println(&quot;Button is pressed!&quot;)\n            GlobalScope.launch(Dispatchers.IO) {\n                send_text()\n\n            }\n        }\n\n\n    }\n\n    private fun send_text() {\n        var data: Any\n        println(&quot;send_text is pressed!&quot;)\n        val client = Socket(&quot;192.168.0.3&quot;, 9090)\n        val text = Text_Edit?.text.toString()\n        println(text.toByteArray())\n        client.getOutputStream().write(text.toByteArray())\n\n        val reader = client.getInputStream()\n\n\n\n        data = reader.toString()\n        println(&quot;Сообщение --- &gt;$data&quot;)\n\n\n\n    }\n\n\n}  ```\n\n\nThanks in advance for your wasted time\n\n</code></pre>\n"},{"tags":["java","spring","exception","sonarqube"],"comments":[{"owner":{"account_id":2992656,"reputation":692,"user_id":2539898,"accept_rate":75,"display_name":"Ravindra Devadiga"},"score":1,"creation_date":1473423860,"post_id":39411450,"comment_id":66147234,"body_markdown":"Is it going recursion ?? Try removing convertStringtoDate() method call from your logger and keep only string staement","body":"Is it going recursion ?? Try removing convertStringtoDate() method call from your logger and keep only string staement"},{"owner":{"account_id":3058944,"reputation":445,"user_id":2592045,"display_name":"Romano"},"score":0,"creation_date":1522870986,"post_id":39411450,"comment_id":86327683,"body_markdown":"In case you wanted to ignore this warning on purpose (e.g. an exception is part of your business logic), you can use the following annotation:\n\n@SuppressWarnings(&quot;squid:S1166&quot;) // The exception is part of the process and is avoided on purpose to prevent flooding logs.\n\nOn a side note, I&#39;m surprised that Sonar does not complain about catching Exception instead of one of its implementations.","body":"In case you wanted to ignore this warning on purpose (e.g. an exception is part of your business logic), you can use the following annotation:  @SuppressWarnings(&quot;squid:S1166&quot;) // The exception is part of the process and is avoided on purpose to prevent flooding logs.  On a side note, I&#39;m surprised that Sonar does not complain about catching Exception instead of one of its implementations."}],"answers":[{"tags":[],"owner":{"account_id":9116459,"reputation":842,"user_id":6783451,"display_name":"Jose Ignacio Acin Pozo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1473423878,"creation_date":1473423878,"answer_id":39411556,"question_id":39411450,"body_markdown":"First of all, is this behaviour correct? Seems a bit weird that you are trying to call `convertStringtoDate` on the exception message as well.\r\n\r\nSecondly, I had the same problem with Sonar recently. Seems like you need to pass the whole exception as a parameter to the logger, instead of `e.getMessage()` for Sonar to realize you are logging the exception.\r\n\r\nTry this instead:\r\n\r\n\r\n    public static Date convertStringtoDate(String stringDate){\r\n        stringDate = StringUtils.trimToNull(stringDate);\r\n        SimpleDateFormat dfm = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\r\n        Date date = null;\r\n        if(stringDate!=null){\r\n            try {\r\n                date = dfm.parse(stringDate);\r\n            } catch (Exception e) {\r\n                logger.info(&quot;Cannot convert String to Date: &quot;, e);\r\n            }\r\n        }\r\n        return date;    \r\n    }","title":"SonarQube complains: Either log or rethrow this exception","body":"<p>First of all, is this behaviour correct? Seems a bit weird that you are trying to call <code>convertStringtoDate</code> on the exception message as well.</p>\n\n<p>Secondly, I had the same problem with Sonar recently. Seems like you need to pass the whole exception as a parameter to the logger, instead of <code>e.getMessage()</code> for Sonar to realize you are logging the exception.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>public static Date convertStringtoDate(String stringDate){\n    stringDate = StringUtils.trimToNull(stringDate);\n    SimpleDateFormat dfm = new SimpleDateFormat(\"dd-MMM-yyyy\");\n    Date date = null;\n    if(stringDate!=null){\n        try {\n            date = dfm.parse(stringDate);\n        } catch (Exception e) {\n            logger.info(\"Cannot convert String to Date: \", e);\n        }\n    }\n    return date;    \n}\n</code></pre>\n"}],"owner":{"account_id":8550816,"reputation":463,"user_id":6407770,"accept_rate":60,"display_name":"Aawan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11018,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39411556,"answer_count":1,"score":2,"last_activity_date":1641511229,"creation_date":1473423556,"question_id":39411450,"body_markdown":"I am running SonarQube 5 for code quality check after integrating the code with Maven.\r\n\r\nSonar is complaining that I should:\r\n&gt; Either log or rethrow this exception.\r\n\r\nin following piece of code: \r\n```java\r\npublic static Date convertStringtoDate(String stringDate) {\r\n\tstringDate = StringUtils.trimToNull(stringDate);\r\n\tSimpleDateFormat dfm = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\r\n\tDate date = null;\r\n\r\n\tif (stringDate != null) {\r\n\t\ttry {\r\n\t\t\tdate = dfm.parse(stringDate);\r\n\t\t} catch (Exception e) {\r\n\t\t    logger.info(&quot;Cannot convert String to Date: &quot;,convertStringtoDate(e.getMessage()));\r\n\t\t}\r\n\t}\r\n\r\n\treturn date; \t\r\n}\r\n```\r\nWhat am I missing here?","title":"SonarQube complains: Either log or rethrow this exception","body":"<p>I am running SonarQube 5 for code quality check after integrating the code with Maven.</p>\n<p>Sonar is complaining that I should:</p>\n<blockquote>\n<p>Either log or rethrow this exception.</p>\n</blockquote>\n<p>in following piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Date convertStringtoDate(String stringDate) {\n    stringDate = StringUtils.trimToNull(stringDate);\n    SimpleDateFormat dfm = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\n    Date date = null;\n\n    if (stringDate != null) {\n        try {\n            date = dfm.parse(stringDate);\n        } catch (Exception e) {\n            logger.info(&quot;Cannot convert String to Date: &quot;,convertStringtoDate(e.getMessage()));\n        }\n    }\n\n    return date;    \n}\n</code></pre>\n<p>What am I missing here?</p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1641504439,"post_id":70613535,"comment_id":124828067,"body_markdown":"Specify your particular database and JDBC drivers, their versions, and the *exact* data type of your database column.","body":"Specify your particular database and JDBC drivers, their versions, and the <i>exact</i> data type of your database column."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641510361,"creation_date":1641505514,"answer_id":70613989,"question_id":70613535,"body_markdown":"&gt; when it comes to understanding the ZonedDateTime, LocalDateTime, and how to pass this information around. \r\n\r\nDate-time handling is surprisingly tricky. Our quotidian intuitive understanding of date-time works *against* us as programmers. \r\n\r\nBooking appointments has been handled many times on Stack Overflow, so I will try to be brief. Search to learn more, and see more examples.\r\n\r\nThe `Instant`, `OffsetDateTime`, and `ZonedDateTime` classes each represent a moment, a specific point on the time line. For example, when logging, use `Instant`. \r\n\r\nThe `LocalDateTime` class does *not* represent a moment. Holding only a date and a time of day, this class lacks the context of a time zone or offset. For example, “noon on the 23rd of January this year” does not tell us if you mean noon in Tokyo Japan or noon in Toledo Ohio US, two very different moments several hours apart. \r\n\r\nBooking appointments generally focuses on a particular time-of-day rather than a moment. Politicians around the world have shown a penchant for changing the rules of the time zones under their jurisdiction. They do so with little or no forewarning. So we must record an appointment in a database as two columns, the date with time when appointment begins goes in a column of type `TIMESTAMP WITHOUT TIME ZONE `, a column of type text keeps the name of the intended time zone, and a third column tracks the duration of the appointment. If the database does not have a type for span-of-time, then use a textual type to store the [ISO 8601 format for durations][1].\r\n\r\nYou seem to have the additional complication of wanting to provide a user interface that displays the range of possible appointments by the user’s time zone rather than the vendor’s. \r\n\r\nSo you need to record the appointment in those two columns using the vendor’s zone, but adjust display to the user’s zone. The use’s time zone will be used only for display, not storage. \r\n\r\nYou said:\r\n\r\n&gt;The business is open from 8a-5p EST\r\n\r\n\tLocalTime open = LocalTime.of( 8 , 0 ) ;\r\n\tLocalTime close = LocalTime.of( 17 , 0 ) ;\r\n\r\nThere is no such time zone as `EST`. Those 2-4 letter abbreviations are non-standard vague indicators of an intended time zone along with whether or not Daylight Saving Time (DST) is in effect. Never use these pseudo-zones in your work. User real time zone names in format of `Continent/Region`. \r\n\r\n    ZoneId zoneOfBusiness = ZoneId.of( &quot;America/New_York&quot; ) ;\r\n\r\nYou said:\r\n\r\n&gt;1 hour increments for start and end times \r\n\r\n\tList&lt; LocalTime &gt; hoursOfBusiness = new ArrayList&lt;&gt;() ;\r\n\tLocalTime lt = open ; \r\n\twhile( lt.isBefore( close ) ) \r\n\t{\r\n\t\thoursOfBusiness.add( lt ) ;\r\n\t\t// Set up next loop.\r\n\t\tlt = lt.plusHours( 1 ) ;\r\n\t}\r\n\r\n&gt;[08:00, 09:00, 10:00, 11:00, 12:00, 13:00, 14:00, 15:00, 16:00]\r\n\r\nTo get moments, specify a date. Keep in mind that a date in ambiguous. For any given moment, the date varies around the globe by time zone.\r\n\r\n    LocalDate ld = LocalDate.of( 2022 , Month.JANUARY , 23 ) ;\r\n\r\nDetermine moments for each of those hours.\r\n\r\n\tLocalDate ld = LocalDate.of( 2022 , Month.JANUARY , 23 ) ;\r\n\tArrayList&lt; ZonedDateTime &gt; hoursOfBusinessOnDate = new ArrayList&lt;&gt;() ;\r\n\tfor( LocalTime localTime : hoursOfBusiness )\r\n\t{\r\n\t\tZonedDateTime zdt = ZonedDateTime.of( ld , localTime , zoneOfBusiness ) ;\r\n\t\thoursOfBusinessOnDate.add( zdt ) ;\r\n\t}\r\n\r\n&gt;[2022-01-23T08:00-05:00[America/New_York], 2022-01-23T09:00-05:00[America/New_York], 2022-01-23T10:00-05:00[America/New_York], 2022-01-23T11:00-05:00[America/New_York], 2022-01-23T12:00-05:00[America/New_York], 2022-01-23T13:00-05:00[America/New_York], 2022-01-23T14:00-05:00[America/New_York], 2022-01-23T15:00-05:00[America/New_York], 2022-01-23T16:00-05:00[America/New_York]]\r\n\r\n\r\n\tZoneId zoneOfUser = ZoneId.of( &quot;America/Los_Angeles&quot; ) ;\r\n\tArrayList&lt; ZonedDateTime &gt; hoursOfUserOnDate = new ArrayList&lt;&gt;() ;\r\n\tfor( ZonedDateTime zdtBusiness : hoursOfBusinessOnDate )\r\n\t{\r\n\t\tZonedDateTime zdtUser = zdtBusiness.withZoneSameInstant( zoneOfUser ) ;\r\n\t\thoursOfUserOnDate.add( zdtUser ) ;\r\n\t}\r\n\r\n\r\n&gt;[2022-01-23T05:00-08:00[America/Los_Angeles], 2022-01-23T06:00-08:00[America/Los_Angeles], 2022-01-23T07:00-08:00[America/Los_Angeles], 2022-01-23T08:00-08:00[America/Los_Angeles], 2022-01-23T09:00-08:00[America/Los_Angeles], 2022-01-23T10:00-08:00[America/Los_Angeles], 2022-01-23T11:00-08:00[America/Los_Angeles], 2022-01-23T12:00-08:00[America/Los_Angeles], 2022-01-23T13:00-08:00[America/Los_Angeles]]\r\n\r\n\r\nPresent that list to the user, after automatically localizing. Let’s suppose our user is from Qu&#233;bec.\r\n\r\n\tLocale locale = Locale.CANADA_FRENCH ;\r\n\tDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( locale ) ;\r\n\tList&lt; String &gt; choices = new ArrayList&lt;&gt;() ;\r\n\tfor( ZonedDateTime zdt : hoursOfUserOnDate ) \r\n\t{\r\n\t\tString choice = zdt.format( f ) ;\r\n\t\tchoices.add( choice ) ;\r\n\t}\r\n\r\n&gt;choices: [23 janv. 2022 05 h 00 min 00 s, 23 janv. 2022 06 h 00 min 00 s, 23 janv. 2022 07 h 00 min 00 s, 23 janv. 2022 08 h 00 min 00 s, 23 janv. 2022 09 h 00 min 00 s, 23 janv. 2022 10 h 00 min 00 s, 23 janv. 2022 11 h 00 min 00 s, 23 janv. 2022 12 h 00 min 00 s, 23 janv. 2022 13 h 00 min 00 s]\r\n\r\n\r\nWhen the user chooses one, convert back to the business zone.\r\n\r\n\tZonedDateTime userChoice = hoursOfUserOnDate.get( 1 ) ; // Get second element, simulating user&#39;s choice.\r\n\tZonedDateTime userChoiceForBusiness = userChoice.withZoneSameInstant( zoneOfBusiness ) ;\r\n\r\n&gt;userChoice: 2022-01-23T06:00-08:00[America/Los_Angeles]\r\n&gt;\r\n&gt;userChoiceForBusiness: 2022-01-23T09:00-05:00[America/New_York]\r\n\r\n\t\r\nExtract the date and time only, omitting the time zone.\r\n\r\n    LocalDateTime appointmentStart = userChoiceForBusiness.toLocalDateTime() ;\r\n\r\n&gt;appointmentStart: 2022-01-23T09:00\r\n    \r\nIn database, record the start, the intended time zone, and the duration.\r\n\r\n    myPreparedStatement.setObject( … , appointmentStart ) ;\r\n    myPreparedStatement.setString( … , zoneOfBusiness.toString() ) ;\r\n    myPreparedStatement.setString( … , Duration.ofHours( 1 ).toString() ) ;\r\n\r\n\r\nRetrieve from database.\r\n\r\n    LocalDateTime appointmentStart = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n    ZoneId zoneOfBusiness = ZoneId.of( myResultSet.getString( … ) ) ;\r\n    Duration duration = Duration.parse( myResultSet.getString( … ) ) ;\r\n\r\nWhen building a schedule, you will need to determine a moment. **Never store this moment**, as it is not really your appointment. It represents the moment of your appointment *as it seems now* given the current set of time zone rules. \r\n\r\n    ZonedDateTime begin = appointmentStart.atZone( zoneOfBusiness ) ;\r\n    ZonedDateTime end = begin.plus( duration ) ;\r\n\r\n&gt;begin: 2022-01-23T09:00-05:00[America/New_York]\r\n&gt;\r\n&gt;end: 2022-01-23T10:00-05:00[America/New_York]\r\n\r\nTo adjust to UTC, extract an `Instant`.\r\n\r\n    Instant beginUtc = begin.toInstant() ;\r\n\r\n&gt;beginUtc: 2022-01-23T14:00:00Z\r\n\r\nSee most of that [code run live at IdeOne.com][2].\r\n\r\n\r\n----------\r\n\r\nBe sure to keep all the [*tzdata*][3] data files up-to-date. Your server’s host operating system has one. Your [JVM][4] has one. And if your database is sophisticated, such as [Postgres][5], you&#39;ll find a *tzdata* there too.\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [2]: https://ideone.com/eBs2fU\r\n  [3]: https://en.wikipedia.org/wiki/Tz_database\r\n  [4]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [5]: https://en.wikipedia.org/wiki/PostgreSQL","title":"Java Time Zones","body":"<blockquote>\n<p>when it comes to understanding the ZonedDateTime, LocalDateTime, and how to pass this information around.</p>\n</blockquote>\n<p>Date-time handling is surprisingly tricky. Our quotidian intuitive understanding of date-time works <em>against</em> us as programmers.</p>\n<p>Booking appointments has been handled many times on Stack Overflow, so I will try to be brief. Search to learn more, and see more examples.</p>\n<p>The <code>Instant</code>, <code>OffsetDateTime</code>, and <code>ZonedDateTime</code> classes each represent a moment, a specific point on the time line. For example, when logging, use <code>Instant</code>.</p>\n<p>The <code>LocalDateTime</code> class does <em>not</em> represent a moment. Holding only a date and a time of day, this class lacks the context of a time zone or offset. For example, “noon on the 23rd of January this year” does not tell us if you mean noon in Tokyo Japan or noon in Toledo Ohio US, two very different moments several hours apart.</p>\n<p>Booking appointments generally focuses on a particular time-of-day rather than a moment. Politicians around the world have shown a penchant for changing the rules of the time zones under their jurisdiction. They do so with little or no forewarning. So we must record an appointment in a database as two columns, the date with time when appointment begins goes in a column of type <code>TIMESTAMP WITHOUT TIME ZONE </code>, a column of type text keeps the name of the intended time zone, and a third column tracks the duration of the appointment. If the database does not have a type for span-of-time, then use a textual type to store the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601 format for durations</a>.</p>\n<p>You seem to have the additional complication of wanting to provide a user interface that displays the range of possible appointments by the user’s time zone rather than the vendor’s.</p>\n<p>So you need to record the appointment in those two columns using the vendor’s zone, but adjust display to the user’s zone. The use’s time zone will be used only for display, not storage.</p>\n<p>You said:</p>\n<blockquote>\n<p>The business is open from 8a-5p EST</p>\n</blockquote>\n<pre><code>LocalTime open = LocalTime.of( 8 , 0 ) ;\nLocalTime close = LocalTime.of( 17 , 0 ) ;\n</code></pre>\n<p>There is no such time zone as <code>EST</code>. Those 2-4 letter abbreviations are non-standard vague indicators of an intended time zone along with whether or not Daylight Saving Time (DST) is in effect. Never use these pseudo-zones in your work. User real time zone names in format of <code>Continent/Region</code>.</p>\n<pre><code>ZoneId zoneOfBusiness = ZoneId.of( &quot;America/New_York&quot; ) ;\n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>1 hour increments for start and end times</p>\n</blockquote>\n<pre><code>List&lt; LocalTime &gt; hoursOfBusiness = new ArrayList&lt;&gt;() ;\nLocalTime lt = open ; \nwhile( lt.isBefore( close ) ) \n{\n    hoursOfBusiness.add( lt ) ;\n    // Set up next loop.\n    lt = lt.plusHours( 1 ) ;\n}\n</code></pre>\n<blockquote>\n<p>[08:00, 09:00, 10:00, 11:00, 12:00, 13:00, 14:00, 15:00, 16:00]</p>\n</blockquote>\n<p>To get moments, specify a date. Keep in mind that a date in ambiguous. For any given moment, the date varies around the globe by time zone.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2022 , Month.JANUARY , 23 ) ;\n</code></pre>\n<p>Determine moments for each of those hours.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2022 , Month.JANUARY , 23 ) ;\nArrayList&lt; ZonedDateTime &gt; hoursOfBusinessOnDate = new ArrayList&lt;&gt;() ;\nfor( LocalTime localTime : hoursOfBusiness )\n{\n    ZonedDateTime zdt = ZonedDateTime.of( ld , localTime , zoneOfBusiness ) ;\n    hoursOfBusinessOnDate.add( zdt ) ;\n}\n</code></pre>\n<blockquote>\n<p>[2022-01-23T08:00-05:00[America/New_York], 2022-01-23T09:00-05:00[America/New_York], 2022-01-23T10:00-05:00[America/New_York], 2022-01-23T11:00-05:00[America/New_York], 2022-01-23T12:00-05:00[America/New_York], 2022-01-23T13:00-05:00[America/New_York], 2022-01-23T14:00-05:00[America/New_York], 2022-01-23T15:00-05:00[America/New_York], 2022-01-23T16:00-05:00[America/New_York]]</p>\n</blockquote>\n<pre><code>ZoneId zoneOfUser = ZoneId.of( &quot;America/Los_Angeles&quot; ) ;\nArrayList&lt; ZonedDateTime &gt; hoursOfUserOnDate = new ArrayList&lt;&gt;() ;\nfor( ZonedDateTime zdtBusiness : hoursOfBusinessOnDate )\n{\n    ZonedDateTime zdtUser = zdtBusiness.withZoneSameInstant( zoneOfUser ) ;\n    hoursOfUserOnDate.add( zdtUser ) ;\n}\n</code></pre>\n<blockquote>\n<p>[2022-01-23T05:00-08:00[America/Los_Angeles], 2022-01-23T06:00-08:00[America/Los_Angeles], 2022-01-23T07:00-08:00[America/Los_Angeles], 2022-01-23T08:00-08:00[America/Los_Angeles], 2022-01-23T09:00-08:00[America/Los_Angeles], 2022-01-23T10:00-08:00[America/Los_Angeles], 2022-01-23T11:00-08:00[America/Los_Angeles], 2022-01-23T12:00-08:00[America/Los_Angeles], 2022-01-23T13:00-08:00[America/Los_Angeles]]</p>\n</blockquote>\n<p>Present that list to the user, after automatically localizing. Let’s suppose our user is from Québec.</p>\n<pre><code>Locale locale = Locale.CANADA_FRENCH ;\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.MEDIUM ).withLocale( locale ) ;\nList&lt; String &gt; choices = new ArrayList&lt;&gt;() ;\nfor( ZonedDateTime zdt : hoursOfUserOnDate ) \n{\n    String choice = zdt.format( f ) ;\n    choices.add( choice ) ;\n}\n</code></pre>\n<blockquote>\n<p>choices: [23 janv. 2022 05 h 00 min 00 s, 23 janv. 2022 06 h 00 min 00 s, 23 janv. 2022 07 h 00 min 00 s, 23 janv. 2022 08 h 00 min 00 s, 23 janv. 2022 09 h 00 min 00 s, 23 janv. 2022 10 h 00 min 00 s, 23 janv. 2022 11 h 00 min 00 s, 23 janv. 2022 12 h 00 min 00 s, 23 janv. 2022 13 h 00 min 00 s]</p>\n</blockquote>\n<p>When the user chooses one, convert back to the business zone.</p>\n<pre><code>ZonedDateTime userChoice = hoursOfUserOnDate.get( 1 ) ; // Get second element, simulating user's choice.\nZonedDateTime userChoiceForBusiness = userChoice.withZoneSameInstant( zoneOfBusiness ) ;\n</code></pre>\n<blockquote>\n<p>userChoice: 2022-01-23T06:00-08:00[America/Los_Angeles]</p>\n<p>userChoiceForBusiness: 2022-01-23T09:00-05:00[America/New_York]</p>\n</blockquote>\n<p>Extract the date and time only, omitting the time zone.</p>\n<pre><code>LocalDateTime appointmentStart = userChoiceForBusiness.toLocalDateTime() ;\n</code></pre>\n<blockquote>\n<p>appointmentStart: 2022-01-23T09:00</p>\n</blockquote>\n<p>In database, record the start, the intended time zone, and the duration.</p>\n<pre><code>myPreparedStatement.setObject( … , appointmentStart ) ;\nmyPreparedStatement.setString( … , zoneOfBusiness.toString() ) ;\nmyPreparedStatement.setString( … , Duration.ofHours( 1 ).toString() ) ;\n</code></pre>\n<p>Retrieve from database.</p>\n<pre><code>LocalDateTime appointmentStart = myResultSet.getObject( … , LocalDateTime.class ) ;\nZoneId zoneOfBusiness = ZoneId.of( myResultSet.getString( … ) ) ;\nDuration duration = Duration.parse( myResultSet.getString( … ) ) ;\n</code></pre>\n<p>When building a schedule, you will need to determine a moment. <strong>Never store this moment</strong>, as it is not really your appointment. It represents the moment of your appointment <em>as it seems now</em> given the current set of time zone rules.</p>\n<pre><code>ZonedDateTime begin = appointmentStart.atZone( zoneOfBusiness ) ;\nZonedDateTime end = begin.plus( duration ) ;\n</code></pre>\n<blockquote>\n<p>begin: 2022-01-23T09:00-05:00[America/New_York]</p>\n<p>end: 2022-01-23T10:00-05:00[America/New_York]</p>\n</blockquote>\n<p>To adjust to UTC, extract an <code>Instant</code>.</p>\n<pre><code>Instant beginUtc = begin.toInstant() ;\n</code></pre>\n<blockquote>\n<p>beginUtc: 2022-01-23T14:00:00Z</p>\n</blockquote>\n<p>See most of that <a href=\"https://ideone.com/eBs2fU\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<hr />\n<p>Be sure to keep all the <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\"><em>tzdata</em></a> data files up-to-date. Your server’s host operating system has one. Your <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a> has one. And if your database is sophisticated, such as <a href=\"https://en.wikipedia.org/wiki/PostgreSQL\" rel=\"nofollow noreferrer\">Postgres</a>, you'll find a <em>tzdata</em> there too.</p>\n"}],"owner":{"account_id":23851018,"reputation":9,"user_id":17854967,"display_name":"axk5216"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1641568674,"answer_count":1,"score":0,"last_activity_date":1641510361,"creation_date":1641502625,"question_id":70613535,"body_markdown":"I&#39;m using Java FX form and controller.  It is connected to a MySQL database as well.  I am on a screen to input data, and one of the fields is &quot;start&quot; and &quot;end&quot; times for a specified date. In the database, there is a start timestamp, and end timestamp.\r\n\r\nProblem is, this application is set to run in a variety of time zones.  It needs validation.  So, I was thinking - maybe I could populate combo boxes in 1 hour increments for start and end times based on the end-users time zone.\r\n\r\nThe business is open from 8a-5p EST\r\n\r\nSo what I was thinking is I could grab the time zone to figure out what 8a is in the end-users time zone, and figure out what 5p is in the end-users time zone, and write code to populate the combo boxes with this time information in one hour increments.  Therefore it would be bypassing the validation.\r\n\r\nIf I don&#39;t do this, I have to populate combo boxes with a very wide time range and validate the time falls within 8a-5p EST.  I am also totally stupid when it comes to understanding the ZonedDateTime, LocalDateTime, and how to pass this information around.  A brief explanation would be much appreciated or examples of how I can do this without losing my mind.  When I push or pull data from the database this happens on the fly, but not so much inside the program.  thanks!","title":"Java Time Zones","body":"<p>I'm using Java FX form and controller.  It is connected to a MySQL database as well.  I am on a screen to input data, and one of the fields is &quot;start&quot; and &quot;end&quot; times for a specified date. In the database, there is a start timestamp, and end timestamp.</p>\n<p>Problem is, this application is set to run in a variety of time zones.  It needs validation.  So, I was thinking - maybe I could populate combo boxes in 1 hour increments for start and end times based on the end-users time zone.</p>\n<p>The business is open from 8a-5p EST</p>\n<p>So what I was thinking is I could grab the time zone to figure out what 8a is in the end-users time zone, and figure out what 5p is in the end-users time zone, and write code to populate the combo boxes with this time information in one hour increments.  Therefore it would be bypassing the validation.</p>\n<p>If I don't do this, I have to populate combo boxes with a very wide time range and validate the time falls within 8a-5p EST.  I am also totally stupid when it comes to understanding the ZonedDateTime, LocalDateTime, and how to pass this information around.  A brief explanation would be much appreciated or examples of how I can do this without losing my mind.  When I push or pull data from the database this happens on the fly, but not so much inside the program.  thanks!</p>\n"},{"tags":["java","spring","spring-boot","jms"],"answers":[{"tags":[],"owner":{"account_id":8505780,"reputation":16,"user_id":6377407,"display_name":"Zeel Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641510348,"creation_date":1641510348,"answer_id":70614678,"question_id":70384604,"body_markdown":"You&#39;re not setting the MessageConverter to the `jmsMessagingTemplate` bean that you&#39;re using. You need to set the message converter using `setJmsMessageConverter()` method before calling `convertSendAndReceive()`.\r\n\r\nHere&#39;s the javadocs - https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsMessagingTemplate.html#setJmsMessageConverter-org.springframework.jms.support.converter.MessageConverter-","title":"How to configure JmsMessagingTemplate to use MappingJackson2MessageConverter","body":"<p>You're not setting the MessageConverter to the <code>jmsMessagingTemplate</code> bean that you're using. You need to set the message converter using <code>setJmsMessageConverter()</code> method before calling <code>convertSendAndReceive()</code>.</p>\n<p>Here's the javadocs - <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsMessagingTemplate.html#setJmsMessageConverter-org.springframework.jms.support.converter.MessageConverter-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsMessagingTemplate.html#setJmsMessageConverter-org.springframework.jms.support.converter.MessageConverter-</a></p>\n"}],"owner":{"account_id":99458,"reputation":470,"user_id":268634,"display_name":"Andr&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70614678,"answer_count":1,"score":1,"last_activity_date":1641510348,"creation_date":1639683076,"question_id":70384604,"body_markdown":"I am looking at using `JmsMessagingTemplate` instead of `JmsTemplate` because I would like to use `convertSendAndReceive`. The messages should be send in JSON format. I am having difficulties convincing `JmsMessagingTemplate` to use `MappingJackson2MessageConverter` instead of the `SimpleMessageConverter`. The [documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#messaging.jms.sending) seems to indicate that having a bean for `MappingJackson2MessageConverter` is enough to have it been used.\r\n\r\nI created a small reproducing project. Given the following files:\r\n\r\n```xml\r\n// pom.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;15&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```java\r\n// Payload.java\r\npackage com.example.demo;\r\n\r\npublic class Payload {\r\n    public String value;\r\n\r\n    public Payload(String v) {\r\n        value = v;\r\n    }\r\n\r\n    public Payload() {}\r\n}\r\n\r\n// Listener.java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.jms.annotation.JmsListener;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.jms.JMSException;\r\nimport javax.jms.Message;\r\n\r\n@Component\r\npublic class Listener {\r\n\r\n    @JmsListener(destination = &quot;my-topic&quot;)\r\n    public String listen(Message msg) throws JMSException {\r\n        System.out.println(msg.getJMSDestination().toString());\r\n        return &quot;reply&quot;;\r\n    }\r\n}\r\n\r\n\r\n// Sender.java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.jms.core.JmsMessagingTemplate;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Sender {\r\n    @Autowired\r\n    JmsMessagingTemplate jms;\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void send() {\r\n        final var result = jms.convertSendAndReceive(&quot;my-topic&quot;, new Payload(&quot;hello&quot;), String.class);\r\n        System.out.println(result);\r\n    }\r\n}\r\n\r\n\r\n// Config.java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.messaging.converter.MappingJackson2MessageConverter;\r\n\r\n@Configuration\r\npublic class Config {\r\n    @Bean\r\n    MappingJackson2MessageConverter messageConverter() {\r\n        return new MappingJackson2MessageConverter();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI get the following exception:\r\n\r\n```\r\norg.springframework.messaging.converter.MessageConversionException: Could not convert &#39;GenericMessage [payload=com.example.demo.Payload@5f8dd865, headers={id=d39f719b-4120-ceb1-a2ea-6468aeed5e13, timestamp=1639682065670}]&#39;; nested exception is org.springframework.jms.support.converter.MessageConversionException: Cannot convert object of type [com.example.demo.Payload] to JMS message. Supported message payloads are: String, byte array, Map&lt;String,?&gt;, Serializable object.\r\n\tat org.springframework.jms.core.JmsMessagingTemplate$MessagingMessageCreator.createMessage(JmsMessagingTemplate.java:476) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsTemplate.doSendAndReceive(JmsTemplate.java:915) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsTemplate.lambda$sendAndReceive$11(JmsTemplate.java:896) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsTemplate.executeLocal(JmsTemplate.java:954) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsTemplate.sendAndReceive(JmsTemplate.java:894) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsMessagingTemplate.doSendAndReceive(JmsMessagingTemplate.java:411) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsMessagingTemplate.sendAndReceive(JmsMessagingTemplate.java:297) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsMessagingTemplate.convertSendAndReceive(JmsMessagingTemplate.java:349) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsMessagingTemplate.convertSendAndReceive(JmsMessagingTemplate.java:319) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsMessagingTemplate.convertSendAndReceive(JmsMessagingTemplate.java:305) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat com.example.demo.Sender.send(Sender.java:16) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:114) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:82) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:82) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n\tat org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:563) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\nCaused by: org.springframework.jms.support.converter.MessageConversionException: Cannot convert object of type [com.example.demo.Payload] to JMS message. Supported message payloads are: String, byte array, Map&lt;String,?&gt;, Serializable object.\r\n\tat org.springframework.jms.support.converter.SimpleMessageConverter.toMessage(SimpleMessageConverter.java:79) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.support.converter.MessagingMessageConverter.createMessageForPayload(MessagingMessageConverter.java:144) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.support.converter.MessagingMessageConverter.toMessage(MessagingMessageConverter.java:111) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.core.JmsMessagingTemplate$MessagingMessageCreator.createMessage(JmsMessagingTemplate.java:473) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\t... 38 common frames omitted\r\n```\r\n\r\nDebugging the `JmsMessagingTemplate` I end up in `AbstractMessageSendingTemplate` where the message converter is of type `SimpleMessageConverter` in stead of the expected `MappingJackson2MessageConverter`.\r\n\r\nI hope someone can show me the missing configuration or relevant docs.","title":"How to configure JmsMessagingTemplate to use MappingJackson2MessageConverter","body":"<p>I am looking at using <code>JmsMessagingTemplate</code> instead of <code>JmsTemplate</code> because I would like to use <code>convertSendAndReceive</code>. The messages should be send in JSON format. I am having difficulties convincing <code>JmsMessagingTemplate</code> to use <code>MappingJackson2MessageConverter</code> instead of the <code>SimpleMessageConverter</code>. The <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#messaging.jms.sending\" rel=\"nofollow noreferrer\">documentation</a> seems to indicate that having a bean for <code>MappingJackson2MessageConverter</code> is enough to have it been used.</p>\n<p>I created a small reproducing project. Given the following files:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>// pom.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Payload.java\npackage com.example.demo;\n\npublic class Payload {\n    public String value;\n\n    public Payload(String v) {\n        value = v;\n    }\n\n    public Payload() {}\n}\n\n// Listener.java\npackage com.example.demo;\n\nimport org.springframework.jms.annotation.JmsListener;\nimport org.springframework.stereotype.Component;\n\nimport javax.jms.JMSException;\nimport javax.jms.Message;\n\n@Component\npublic class Listener {\n\n    @JmsListener(destination = &quot;my-topic&quot;)\n    public String listen(Message msg) throws JMSException {\n        System.out.println(msg.getJMSDestination().toString());\n        return &quot;reply&quot;;\n    }\n}\n\n\n// Sender.java\npackage com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.jms.core.JmsMessagingTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Sender {\n    @Autowired\n    JmsMessagingTemplate jms;\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void send() {\n        final var result = jms.convertSendAndReceive(&quot;my-topic&quot;, new Payload(&quot;hello&quot;), String.class);\n        System.out.println(result);\n    }\n}\n\n\n// Config.java\npackage com.example.demo;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.converter.MappingJackson2MessageConverter;\n\n@Configuration\npublic class Config {\n    @Bean\n    MappingJackson2MessageConverter messageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n}\n\n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>org.springframework.messaging.converter.MessageConversionException: Could not convert 'GenericMessage [payload=com.example.demo.Payload@5f8dd865, headers={id=d39f719b-4120-ceb1-a2ea-6468aeed5e13, timestamp=1639682065670}]'; nested exception is org.springframework.jms.support.converter.MessageConversionException: Cannot convert object of type [com.example.demo.Payload] to JMS message. Supported message payloads are: String, byte array, Map&lt;String,?&gt;, Serializable object.\n    at org.springframework.jms.core.JmsMessagingTemplate$MessagingMessageCreator.createMessage(JmsMessagingTemplate.java:476) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsTemplate.doSendAndReceive(JmsTemplate.java:915) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsTemplate.lambda$sendAndReceive$11(JmsTemplate.java:896) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsTemplate.executeLocal(JmsTemplate.java:954) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsTemplate.sendAndReceive(JmsTemplate.java:894) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsMessagingTemplate.doSendAndReceive(JmsMessagingTemplate.java:411) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsMessagingTemplate.sendAndReceive(JmsMessagingTemplate.java:297) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsMessagingTemplate.convertSendAndReceive(JmsMessagingTemplate.java:349) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsMessagingTemplate.convertSendAndReceive(JmsMessagingTemplate.java:319) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsMessagingTemplate.convertSendAndReceive(JmsMessagingTemplate.java:305) ~[spring-jms-5.3.13.jar:5.3.13]\n    at com.example.demo.Sender.send(Sender.java:16) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:114) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:82) ~[spring-boot-2.6.1.jar:2.6.1]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:82) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:563) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\nCaused by: org.springframework.jms.support.converter.MessageConversionException: Cannot convert object of type [com.example.demo.Payload] to JMS message. Supported message payloads are: String, byte array, Map&lt;String,?&gt;, Serializable object.\n    at org.springframework.jms.support.converter.SimpleMessageConverter.toMessage(SimpleMessageConverter.java:79) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.support.converter.MessagingMessageConverter.createMessageForPayload(MessagingMessageConverter.java:144) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.support.converter.MessagingMessageConverter.toMessage(MessagingMessageConverter.java:111) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.core.JmsMessagingTemplate$MessagingMessageCreator.createMessage(JmsMessagingTemplate.java:473) ~[spring-jms-5.3.13.jar:5.3.13]\n    ... 38 common frames omitted\n</code></pre>\n<p>Debugging the <code>JmsMessagingTemplate</code> I end up in <code>AbstractMessageSendingTemplate</code> where the message converter is of type <code>SimpleMessageConverter</code> in stead of the expected <code>MappingJackson2MessageConverter</code>.</p>\n<p>I hope someone can show me the missing configuration or relevant docs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":14,"creation_date":1361543371,"post_id":15026412,"comment_id":21114452,"body_markdown":"Why don&#39;t you just fix your code?","body":"Why don&#39;t you just fix your code?"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":5,"creation_date":1361543596,"post_id":15026412,"comment_id":21114593,"body_markdown":"The advice from the warning is right. Listen to it instead of suppressing.","body":"The advice from the warning is right. Listen to it instead of suppressing."},{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":2,"creation_date":1361544190,"post_id":15026412,"comment_id":21114929,"body_markdown":"Above comments are not constructive, do not contribute to answering the question, and only serve to further alienate new users.","body":"Above comments are not constructive, do not contribute to answering the question, and only serve to further alienate new users."},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":2,"creation_date":1361544703,"post_id":15026412,"comment_id":21115215,"body_markdown":"@Jeff - I think the above comments are appropriate (if perhaps a little blunt)","body":"@Jeff - I think the above comments are appropriate (if perhaps a little blunt)"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1361544884,"post_id":15026412,"comment_id":21115348,"body_markdown":"indeed they are. There are few really valid uses for @SuppressWarnings, most having to do with being required to use code structures that cause warnings because of a reliance on outdated libraries (usually this means suppressing specific deprecation warnings).","body":"indeed they are. There are few really valid uses for @SuppressWarnings, most having to do with being required to use code structures that cause warnings because of a reliance on outdated libraries (usually this means suppressing specific deprecation warnings)."},{"owner":{"display_name":"user9599745"},"score":0,"creation_date":1585950011,"post_id":15026412,"comment_id":107955700,"body_markdown":"I think Jeff is right. Alot of times I really dont care what the compiler thinks. I am the master, not the compiler.","body":"I think Jeff is right. Alot of times I really dont care what the compiler thinks. I am the master, not the compiler."}],"answers":[{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641509797,"creation_date":1361544133,"answer_id":15026664,"question_id":15026412,"body_markdown":"This one:\r\n\r\n    @SuppressWarnings(&quot;static-access&quot;)\r\n\r\nAnd to nay-sayers, yes ideally the code would be fixed. But in the real world, sadly that isn&#39;t always possible. Besides, it&#39;s not what @user941059 asked for.\r\n","title":"@SuppressWarnings - Static Variable","body":"<p>This one:</p>\n<pre><code>@SuppressWarnings(&quot;static-access&quot;)\n</code></pre>\n<p>And to nay-sayers, yes ideally the code would be fixed. But in the real world, sadly that isn't always possible. Besides, it's not what @user941059 asked for.</p>\n"}],"owner":{"account_id":906215,"reputation":157,"user_id":941059,"accept_rate":56,"display_name":"user941059"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4001,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641509797,"creation_date":1361543301,"question_id":15026412,"body_markdown":"Which parameter **@SuppressWarnings** use to hide **Warning(209.56): static variable Should be qualified by type name, javax.swing.ListSelectionModel, instead of by an expression**?","title":"@SuppressWarnings - Static Variable","body":"<p>Which parameter <strong>@SuppressWarnings</strong> use to hide <strong>Warning(209.56): static variable Should be qualified by type name, javax.swing.ListSelectionModel, instead of by an expression</strong>?</p>\n"},{"tags":["java","swagger","openapi-generator","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":17461971,"reputation":71,"user_id":12659432,"display_name":"devurandom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641509213,"creation_date":1641509213,"answer_id":70614535,"question_id":68027510,"body_markdown":"Adding a static initializer that does\r\n\r\n```\r\nSpringDocUtils.getConfig().addRestControllers(SvcApiController.class) \r\n```\r\n\r\nresolves the issue. The AddonController is not needed in this case.","title":"Swagger UI with springdoc-openapi-ui doesn&#39;t show the APIs in the generated &quot;@Controller&quot; class","body":"<p>Adding a static initializer that does</p>\n<pre><code>SpringDocUtils.getConfig().addRestControllers(SvcApiController.class) \n</code></pre>\n<p>resolves the issue. The AddonController is not needed in this case.</p>\n"}],"owner":{"account_id":17461971,"reputation":71,"user_id":12659432,"display_name":"devurandom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2080,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1641509213,"creation_date":1623971466,"question_id":68027510,"body_markdown":"I have a Spring Boot application where the API is specified as a OpenAPI 3.0.2 YAML document. I used the openapi-generator-maven-plugin to generate code from the spec. When I open up http://localhost:8080/swagger-ui.html, it displays: &quot;No operations defined in spec!&quot;\r\n\r\nIn the spec, I have: \r\n```\r\nservers:\r\n    - url: /books/api/v1\r\n```\r\nWhich results in this in the controller class:\r\n\r\n```\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2021-06-17T14:52:43.686820-07:00[America/Los_Angeles]&quot;)\r\n@Controller\r\n@RequestMapping(&quot;${openapi.axmPlatformKeyService.base-path:/books/api/v1}&quot;)\r\npublic class SvcApiController implements SvcApi {\r\n    // ...\r\n    // ...\r\n}\r\n```\r\n\r\nIf I load the openapi-definition.yaml in editor.swagger.io, it shows the definitions as expected.\r\n\r\nIf I create another controller this way:\r\n\r\n```\r\n@RestController\r\npublic class AddonController implements SvcApi {\r\n    // ...\r\n    // ...\r\n}\r\n```\r\n\r\n\r\nthen Swagger UI shows the APIs, which basically means that if the generated code had &quot;@RestController&quot; it would have worked okay. \r\n\r\nSince the generated controller is annotated with @Controller, Swagger UI is not able to pick it up. Even after adding this extra @RestController, Swagger UI&#39;s Try it out function doesn&#39;t include &quot;/books/api/v1&quot; in the URL it generates.\r\n\r\nNet-effect is with this AddonController, if I have one request /book/{id} in the spec, there are two endpoints in the service:\r\n\r\n/books/api/v1/book/{id}\r\n/book/{id}\r\n\r\nand the latter is invoked by Swagger UI.\r\n\r\n\r\nThese are the relevant dependencies:\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```","title":"Swagger UI with springdoc-openapi-ui doesn&#39;t show the APIs in the generated &quot;@Controller&quot; class","body":"<p>I have a Spring Boot application where the API is specified as a OpenAPI 3.0.2 YAML document. I used the openapi-generator-maven-plugin to generate code from the spec. When I open up http://localhost:8080/swagger-ui.html, it displays: &quot;No operations defined in spec!&quot;</p>\n<p>In the spec, I have:</p>\n<pre><code>servers:\n    - url: /books/api/v1\n</code></pre>\n<p>Which results in this in the controller class:</p>\n<pre><code>@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2021-06-17T14:52:43.686820-07:00[America/Los_Angeles]&quot;)\n@Controller\n@RequestMapping(&quot;${openapi.axmPlatformKeyService.base-path:/books/api/v1}&quot;)\npublic class SvcApiController implements SvcApi {\n    // ...\n    // ...\n}\n</code></pre>\n<p>If I load the openapi-definition.yaml in editor.swagger.io, it shows the definitions as expected.</p>\n<p>If I create another controller this way:</p>\n<pre><code>@RestController\npublic class AddonController implements SvcApi {\n    // ...\n    // ...\n}\n</code></pre>\n<p>then Swagger UI shows the APIs, which basically means that if the generated code had &quot;@RestController&quot; it would have worked okay.</p>\n<p>Since the generated controller is annotated with @Controller, Swagger UI is not able to pick it up. Even after adding this extra @RestController, Swagger UI's Try it out function doesn't include &quot;/books/api/v1&quot; in the URL it generates.</p>\n<p>Net-effect is with this AddonController, if I have one request /book/{id} in the spec, there are two endpoints in the service:</p>\n<p>/books/api/v1/book/{id}\n/book/{id}</p>\n<p>and the latter is invoked by Swagger UI.</p>\n<p>These are the relevant dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n      &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","iteration"],"comments":[{"owner":{"account_id":4225251,"reputation":2272,"user_id":3458919,"accept_rate":55,"display_name":"Balwinder Singh"},"score":2,"creation_date":1448329579,"post_id":33884029,"comment_id":55532369,"body_markdown":"Try printing values of `fib` and `a` in each loop and you will understand what it is doing","body":"Try printing values of <code>fib</code> and <code>a</code> in each loop and you will understand what it is doing"},{"owner":{"account_id":1092106,"reputation":3199,"user_id":1086521,"accept_rate":100,"display_name":"Don Scott"},"score":0,"creation_date":1448329585,"post_id":33884029,"comment_id":55532370,"body_markdown":"This appears like a homework problem.  Could you be more specific about what you don&#39;t understand?","body":"This appears like a homework problem.  Could you be more specific about what you don&#39;t understand?"},{"owner":{"account_id":5661389,"reputation":81,"user_id":5552580,"accept_rate":25,"display_name":"AinJalut"},"score":0,"creation_date":1448403627,"post_id":33884029,"comment_id":55572542,"body_markdown":"Don Scott -  I don&#39;t really understand the return statement. Is this implemented when we get past the condition of i&lt;n? Also, when we are assigning a to a=fib;, is this the earlier value of fib or the value of fib from fib=fib+a? Thanks.","body":"Don Scott -  I don&#39;t really understand the return statement. Is this implemented when we get past the condition of i&lt;n? Also, when we are assigning a to a=fib;, is this the earlier value of fib or the value of fib from fib=fib+a? Thanks."},{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":0,"creation_date":1616465752,"post_id":33884029,"comment_id":118005375,"body_markdown":"Get your concepts cleared about recursion.","body":"Get your concepts cleared about recursion."}],"answers":[{"tags":[],"owner":{"account_id":21032390,"reputation":1,"user_id":15456462,"display_name":"BlastedMechanism"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1616458842,"creation_date":1616458103,"answer_id":66755494,"question_id":33884029,"body_markdown":"Keep track of fibbonnacci stack with a temporary var to store latest result before switching fib(n-1),fib(n-2) totals. NB: fibb(2) never hits the loop (nobody is perfect)\r\n\r\n    def fibb(n_):\r\n        if n_ &lt; 2:\r\n           return 1\r\n        else\r\n           fun1,fun2,i_= [1,1,2]\r\n           while i_ &lt; n_:\r\n               tmp_= fun1 + fun2\r\n               fun2= fun1\r\n               fun1= tmp_\r\n               i_ += 1 \r\n           return fun1+fun2","title":"Iterative Fibonacci code in Java?","body":"<p>Keep track of fibbonnacci stack with a temporary var to store latest result before switching fib(n-1),fib(n-2) totals. NB: fibb(2) never hits the loop (nobody is perfect)</p>\n<pre><code>def fibb(n_):\n    if n_ &lt; 2:\n       return 1\n    else\n       fun1,fun2,i_= [1,1,2]\n       while i_ &lt; n_:\n           tmp_= fun1 + fun2\n           fun2= fun1\n           fun1= tmp_\n           i_ += 1 \n       return fun1+fun2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17908197,"reputation":51,"user_id":13010837,"display_name":"Chowsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628661164,"creation_date":1628661164,"answer_id":68736625,"question_id":33884029,"body_markdown":"Your code does not work when the input is 2. It returns 2. However, it should be 1 i.e. fib(2) = 1 as fib(0) + fib (1) return 1. \r\n\r\n```\r\nint fib (int n) {\r\n    int fib = 0;\r\n    int a = 1;\r\n    for(int i=0; i&lt;n; i++) {\r\n        int temp = fib;\r\n        fib = fib + a;\r\n        a = temp;\r\n    }\r\n    return fib;\r\n}\r\n```\r\n\r\nI added the temp to store the previous prev value. So to make sure the it is always adding the previous value and the previous prev value.","title":"Iterative Fibonacci code in Java?","body":"<p>Your code does not work when the input is 2. It returns 2. However, it should be 1 i.e. fib(2) = 1 as fib(0) + fib (1) return 1.</p>\n<pre><code>int fib (int n) {\n    int fib = 0;\n    int a = 1;\n    for(int i=0; i&lt;n; i++) {\n        int temp = fib;\n        fib = fib + a;\n        a = temp;\n    }\n    return fib;\n}\n</code></pre>\n<p>I added the temp to store the previous prev value. So to make sure the it is always adding the previous value and the previous prev value.</p>\n"},{"tags":[],"owner":{"account_id":22264408,"reputation":11,"user_id":16495408,"display_name":"Vinit Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641508660,"creation_date":1641484094,"answer_id":70609755,"question_id":33884029,"body_markdown":"As we can see\r\n\r\n&quot;fib&quot; is assigned value as 1 and &quot;a&quot; is assigned value as 0 , this is done because as we know in Fibonacci series we need to add the previous 2 numbers, and the beginning two numbers are 0 and 1, so they are stored at beginning as there is no other way to get those two number. Now as per your question \r\n\r\n    fib = fib + a;\r\n       a = fib;\r\n    }\r\n    return fib;\r\n\r\nthe above line of code means that, we are simply adding previous two numbers and saving pointer to it so that we can refer to them. As &quot;fib&quot; will be the previous number and &quot;a&quot; will be previous to previous number and by adding those two number we get the current Fibonacci number and this process continues until the loop ends\r\n\r\nThis is a bit simpler version of the code that I wrote maybe this helps:\r\n\r\n\tpublic static int fibonacciIterative(int num) {\r\n\r\n\t\tint ptp = 0;\r\n\t\tint p = 1;\r\n\t\tint sum = 0;\r\n\r\n\t\tif (num == 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\telse if (num == 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tfor (int i = 2; i &lt;= num; i++) {\r\n\r\n\t\t\t\tsum = ptp + p;\r\n\t\t\t\tptp = p;\r\n\t\t\t\tp = sum;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\nptp - previous to previous\r\n\r\np - previous\r\n\r\nIn my code loop starts from 2 because I have handled the case for 0 and 1 using the If conditions","title":"Iterative Fibonacci code in Java?","body":"<p>As we can see</p>\n<p>&quot;fib&quot; is assigned value as 1 and &quot;a&quot; is assigned value as 0 , this is done because as we know in Fibonacci series we need to add the previous 2 numbers, and the beginning two numbers are 0 and 1, so they are stored at beginning as there is no other way to get those two number. Now as per your question</p>\n<pre><code>fib = fib + a;\n   a = fib;\n}\nreturn fib;\n</code></pre>\n<p>the above line of code means that, we are simply adding previous two numbers and saving pointer to it so that we can refer to them. As &quot;fib&quot; will be the previous number and &quot;a&quot; will be previous to previous number and by adding those two number we get the current Fibonacci number and this process continues until the loop ends</p>\n<p>This is a bit simpler version of the code that I wrote maybe this helps:</p>\n<pre><code>public static int fibonacciIterative(int num) {\n\n    int ptp = 0;\n    int p = 1;\n    int sum = 0;\n\n    if (num == 0) {\n        return 0;\n    }\n\n    else if (num == 1) {\n        return 1;\n    }\n\n    else {\n        for (int i = 2; i &lt;= num; i++) {\n\n            sum = ptp + p;\n            ptp = p;\n            p = sum;\n        }\n    }\n    return sum;\n}\n</code></pre>\n<p>ptp - previous to previous</p>\n<p>p - previous</p>\n<p>In my code loop starts from 2 because I have handled the case for 0 and 1 using the If conditions</p>\n"}],"owner":{"account_id":5661389,"reputation":81,"user_id":5552580,"accept_rate":25,"display_name":"AinJalut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14463,"favorite_count":0,"down_vote_count":5,"up_vote_count":5,"answer_count":3,"score":0,"last_activity_date":1641508660,"creation_date":1448329398,"question_id":33884029,"body_markdown":"I have the following for finding the nth Fibonacci number in the sequence, in Java:\r\n\r\n    int fib (int n) {\r\n        int fib = 0;\r\n        int a = 1;\r\n        for(int i=0; i&lt;n; i++) {\r\n            fib = fib + a;\r\n            a = fib;\r\n        }\r\n        return fib;\r\n    }\r\n\r\n                   \r\n              \r\nI don&#39;t really understand this part\r\n\r\n    fib = fib + a;\r\n       a = fib;\r\n    }\r\n    return fib;","title":"Iterative Fibonacci code in Java?","body":"<p>I have the following for finding the nth Fibonacci number in the sequence, in Java:</p>\n<pre><code>int fib (int n) {\n    int fib = 0;\n    int a = 1;\n    for(int i=0; i&lt;n; i++) {\n        fib = fib + a;\n        a = fib;\n    }\n    return fib;\n}\n\n               \n          \n</code></pre>\n<p>I don't really understand this part</p>\n<pre><code>fib = fib + a;\n   a = fib;\n}\nreturn fib;\n</code></pre>\n"},{"tags":["java","glsl","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":7756158,"reputation":884,"user_id":5870394,"display_name":"CConard96"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1463702656,"creation_date":1463702656,"answer_id":37335966,"question_id":37335445,"body_markdown":"GLSL does not allow varying array sizes. It does however, as of OpenGL 4, support Shader Storage Buffer Objects which can be varying sizes.\r\n\r\nMore information on SSBOs: https://www.opengl.org/wiki/Shader_Storage_Buffer_Object\r\n\r\nThinking about it now, a hack way of doing it as well could be to encode your data into a texture and then pass that into the shader. For example, each of the 4 rgba components could be 1 byte of the data you wanted to pass. For data larger than a byte, you would break it out into bytes.","title":"Variable size array GLSL","body":"<p>GLSL does not allow varying array sizes. It does however, as of OpenGL 4, support Shader Storage Buffer Objects which can be varying sizes.</p>\n\n<p>More information on SSBOs: <a href=\"https://www.opengl.org/wiki/Shader_Storage_Buffer_Object\" rel=\"noreferrer\">https://www.opengl.org/wiki/Shader_Storage_Buffer_Object</a></p>\n\n<p>Thinking about it now, a hack way of doing it as well could be to encode your data into a texture and then pass that into the shader. For example, each of the 4 rgba components could be 1 byte of the data you wanted to pass. For data larger than a byte, you would break it out into bytes.</p>\n"},{"tags":[],"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1463725471,"creation_date":1463725471,"answer_id":37339360,"question_id":37335445,"body_markdown":"You can&#39;t. \r\n\r\nEither do as CConard96 said, or if you can&#39;t use SSBOs then just declare an hardcoded maximum value and set a lower value that you need.\r\n\r\nFor example like Nicol Bolas says [here][1]:\r\n\r\n    #define MAX_NUM_TOTAL_LIGHTS 100\r\n    struct Light {\r\n      vec3 position;\r\n      float padding;\r\n    }\r\n    layout (std140) uniform Lights {\r\n      Light light[MAX_NUM_TOTAL_LIGHTS];\r\n      int numLights;\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://www.opengl.org/discussion_boards/showthread.php/182312-Uniform-Buffer-Objects-dynamic-sized-arrays-and-lights?p=1253008&amp;viewfull=1#post1253008","title":"Variable size array GLSL","body":"<p>You can't. </p>\n\n<p>Either do as CConard96 said, or if you can't use SSBOs then just declare an hardcoded maximum value and set a lower value that you need.</p>\n\n<p>For example like Nicol Bolas says <a href=\"https://www.opengl.org/discussion_boards/showthread.php/182312-Uniform-Buffer-Objects-dynamic-sized-arrays-and-lights?p=1253008&amp;viewfull=1#post1253008\" rel=\"noreferrer\">here</a>:</p>\n\n<pre><code>#define MAX_NUM_TOTAL_LIGHTS 100\nstruct Light {\n  vec3 position;\n  float padding;\n}\nlayout (std140) uniform Lights {\n  Light light[MAX_NUM_TOTAL_LIGHTS];\n  int numLights;\n}\n</code></pre>\n"}],"owner":{"account_id":4768650,"reputation":1454,"user_id":3854096,"accept_rate":100,"display_name":"Nick Clark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11193,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":37335966,"answer_count":2,"score":10,"last_activity_date":1641507908,"creation_date":1463699116,"question_id":37335445,"body_markdown":"I am working on creating shaders for an OpenGL/Java engine that I am building.  I have searched for a while, but I cannot find a way to have an array of variable size.  I know that I can create a statically sized one like:\r\n\r\n    uniform vec3 variable[4];\r\n\r\nBut how would I go about creating an array of size X based on what I load to the shader from the CPU, if this is even possible.\r\n\r\nThanks in advance!","title":"Variable size array GLSL","body":"<p>I am working on creating shaders for an OpenGL/Java engine that I am building.  I have searched for a while, but I cannot find a way to have an array of variable size.  I know that I can create a statically sized one like:</p>\n\n<pre><code>uniform vec3 variable[4];\n</code></pre>\n\n<p>But how would I go about creating an array of size X based on what I load to the shader from the CPU, if this is even possible.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","sockets","networking","server","inputstreamreader"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1641508630,"post_id":70614348,"comment_id":124829295,"body_markdown":"Welcome to Stack Overflow. Please read [ask].  [Edit] your post and include the complete stack trace.","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  <a href=\"https://stackoverflow.com/posts/70614348/edit\">Edit</a> your post and include the complete stack trace."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1641509387,"post_id":70614348,"comment_id":124829492,"body_markdown":"You&#39;re not writing anything in your client. In fact, **both** your server and client are both waiting for data. Calling `ready()` has nothing to do with anything and is the wrong thing to do, your design is wrong since the client isn&#39;t writing data like the server is expecting.","body":"You&#39;re not writing anything in your client. In fact, <b>both</b> your server and client are both waiting for data. Calling <code>ready()</code> has nothing to do with anything and is the wrong thing to do, your design is wrong since the client isn&#39;t writing data like the server is expecting."},{"owner":{"account_id":21019262,"reputation":1,"user_id":15446013,"display_name":"Oside"},"score":0,"creation_date":1641509986,"post_id":70614348,"comment_id":124829626,"body_markdown":"@Kayaman That makes sense but how would I solve this? What method should I be using to write the data? If you don&#39;t want to explain to me could you send me some resources on this matter because I&#39;m inexperienced with this type of stuff.","body":"@Kayaman That makes sense but how would I solve this? What method should I be using to write the data? If you don&#39;t want to explain to me could you send me some resources on this matter because I&#39;m inexperienced with this type of stuff."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1641514336,"post_id":70614348,"comment_id":124830567,"body_markdown":"@Oside you&#39;ll have to decide how you want your protocol to work. Think of it like two people having a conversation: if both people are waiting for the other to say something before they talk themselves, nobody will ever say anything and they&#39;ll both wait forever.","body":"@Oside you&#39;ll have to decide how you want your protocol to work. Think of it like two people having a conversation: if both people are waiting for the other to say something before they talk themselves, nobody will ever say anything and they&#39;ll both wait forever."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1641528411,"post_id":70614348,"comment_id":124832927,"body_markdown":"One possibility is to make the client use a do-while loop, so it writes before reading. You&#39;ll find hundreds of related questions on SO, so I guess the best resource is stackoverflow and google (SO&#39;s own search is pretty poor).","body":"One possibility is to make the client use a do-while loop, so it writes before reading. You&#39;ll find hundreds of related questions on SO, so I guess the best resource is stackoverflow and google (SO&#39;s own search is pretty poor)."}],"owner":{"account_id":21019262,"reputation":1,"user_id":15446013,"display_name":"Oside"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641507769,"creation_date":1641507769,"question_id":70614348,"body_markdown":"I am having some trouble with Input Stream reader as its never ready to receive data from my client script \r\n\r\nThis is my server side code (There are a lot of variables and things that are not used but there going to be implemented later) also I Apologize about the formatting of the code I don&#39;t really use stack overflow that often so I don&#39;t know how to format that well.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    public class Stream {\r\n    public static void main(String[] args) throws Exception {\r\n        InputStreamReader input = null;\r\n        OutputStreamWriter output = null;\r\n        ServerSocket serverSocket = null;\r\n        Socket ss = null;\r\n        BufferedReader buffIn = null;\r\n        BufferedWriter buffOut = null;\r\n\r\n        serverSocket = new ServerSocket(700);\r\n\r\n        try {\r\n\r\n            ss = serverSocket.accept();\r\n \r\n            System.out.print(&quot;new client recieved: &quot; + ss);\r\n\r\n            input = new InputStreamReader(ss.getInputStream());\r\n            output = new OutputStreamWriter(ss.getOutputStream());\r\n\r\n            buffIn = new BufferedReader(input);\r\n            buffOut = new BufferedWriter(output);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        **System.out.print(input.ready());\r\n        while (!buffIn.readLine().equalsIgnoreCase(&quot;Button&quot;)){**\r\n            try {\r\n                System.out.print(&quot;here&quot;);\r\n                System.out.println(&quot;msg from client: &quot; + buffIn.readLine());\r\n   \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n\r\n        }\r\n        try {\r\n            System.out.print(&quot;close&quot;);\r\n            ss.close();    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n\r\n    }\r\n}\r\n\r\n\r\nThe bolded part of the code is where the errors are occurring, the code never progresses past that while loop because the input stream reader is never ready to read data. I know this because the system out print always says false.\r\n\r\nI&#39;m not sure if this is relevant but just in case I will post the client side code (once again there are some unused vars)\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.util.Scanner;\r\n\r\n\r\n    public class Client {\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        \r\n        Socket socket = null;\r\n        InputStreamReader input = null;\r\n        OutputStreamWriter output = null;\r\n        BufferedReader buffIn = null;\r\n        BufferedWriter buffOut = null;\r\n\r\n\r\n        socket = new Socket(&quot;localhost&quot;, 700);\r\n\r\n        try {\r\n            input = new InputStreamReader(socket.getInputStream());\r\n            output = new OutputStreamWriter(socket.getOutputStream());\r\n\r\n            buffIn = new BufferedReader(input);\r\n            buffOut = new BufferedWriter(output);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        Scanner src = new Scanner(System.in);\r\n        String msg = src.nextLine();\r\n\r\n        while(!buffIn.readLine().equalsIgnoreCase(&quot;Button&quot;)){\r\n\r\n            try {\r\n                buffOut.write(msg);\r\n                buffOut.newLine();\r\n                buffOut.flush();\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        try {\r\n            socket.close();            \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","title":"Why is InputStreamReader not ready to read data (I am relatively new to java networking so this is probably a simple issue)","body":"<p>I am having some trouble with Input Stream reader as its never ready to receive data from my client script</p>\n<p>This is my server side code (There are a lot of variables and things that are not used but there going to be implemented later) also I Apologize about the formatting of the code I don't really use stack overflow that often so I don't know how to format that well.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\npublic class Stream {\npublic static void main(String[] args) throws Exception {\n    InputStreamReader input = null;\n    OutputStreamWriter output = null;\n    ServerSocket serverSocket = null;\n    Socket ss = null;\n    BufferedReader buffIn = null;\n    BufferedWriter buffOut = null;\n\n    serverSocket = new ServerSocket(700);\n\n    try {\n\n        ss = serverSocket.accept();\n\n        System.out.print(&quot;new client recieved: &quot; + ss);\n\n        input = new InputStreamReader(ss.getInputStream());\n        output = new OutputStreamWriter(ss.getOutputStream());\n\n        buffIn = new BufferedReader(input);\n        buffOut = new BufferedWriter(output);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    **System.out.print(input.ready());\n    while (!buffIn.readLine().equalsIgnoreCase(&quot;Button&quot;)){**\n        try {\n            System.out.print(&quot;here&quot;);\n            System.out.println(&quot;msg from client: &quot; + buffIn.readLine());\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n\n    }\n    try {\n        System.out.print(&quot;close&quot;);\n        ss.close();    \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    \n\n}\n</code></pre>\n<p>}</p>\n<p>The bolded part of the code is where the errors are occurring, the code never progresses past that while loop because the input stream reader is never ready to read data. I know this because the system out print always says false.</p>\n<p>I'm not sure if this is relevant but just in case I will post the client side code (once again there are some unused vars)</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.util.Scanner;\n\n\npublic class Client {\n\npublic static void main(String[] args) throws Exception {\n    \n    Socket socket = null;\n    InputStreamReader input = null;\n    OutputStreamWriter output = null;\n    BufferedReader buffIn = null;\n    BufferedWriter buffOut = null;\n\n\n    socket = new Socket(&quot;localhost&quot;, 700);\n\n    try {\n        input = new InputStreamReader(socket.getInputStream());\n        output = new OutputStreamWriter(socket.getOutputStream());\n\n        buffIn = new BufferedReader(input);\n        buffOut = new BufferedWriter(output);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    Scanner src = new Scanner(System.in);\n    String msg = src.nextLine();\n\n    while(!buffIn.readLine().equalsIgnoreCase(&quot;Button&quot;)){\n\n        try {\n            buffOut.write(msg);\n            buffOut.newLine();\n            buffOut.flush();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    try {\n        socket.close();            \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526970637,"creation_date":1526970637,"answer_id":50461183,"question_id":50460950,"body_markdown":"You&#39;ll have to tell jackson what class you expect:\r\n\r\n`Foo readValue = mapper.readValue(json, Foo.class);`\r\n\r\n`Bar readValue = mapper.readValue(json, Bar.class);`\r\n\r\nOtherwise it may be worth using XML in this case if you strong types are necessary for your design.","title":"Jackson deserialize based on property name","body":"<p>You'll have to tell jackson what class you expect:</p>\n\n<p><code>Foo readValue = mapper.readValue(json, Foo.class);</code></p>\n\n<p><code>Bar readValue = mapper.readValue(json, Bar.class);</code></p>\n\n<p>Otherwise it may be worth using XML in this case if you strong types are necessary for your design.</p>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1597993325,"creation_date":1526978062,"answer_id":50463226,"question_id":50460950,"body_markdown":"Jackson doesn&#39;t offer an [out of the box solution][1] for that, but it doesn&#39;t mean that you are out of luck.\r\n\r\n---\r\n\r\nAssuming that your classes implement a common interface or extend a common class, as shown below:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public interface Animal {\r\n\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    public class Dog implements Animal {\r\n\r\n       private String bark;\r\n       \r\n       // Default constructor, getters and setters\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    public class Cat implements Animal {\r\n\r\n       private String meow;\r\n       \r\n       // Default constructor, getters and setters\r\n    }\r\n    \r\nYou can create a custom deserializer based on the property name. It allows you to define a _unique_ property that will be used to look up the class to perform the deserialization to:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class PropertyBasedDeserializer&lt;T&gt; extends StdDeserializer&lt;T&gt; {\r\n\r\n        private Map&lt;String, Class&lt;? extends T&gt;&gt; deserializationClasses;\r\n\r\n        public PropertyBasedDeserializer(Class&lt;T&gt; baseClass) {\r\n            super(baseClass);\r\n            deserializationClasses = new HashMap&lt;String, Class&lt;? extends T&gt;&gt;();\r\n        }\r\n\r\n        public void register(String property, Class&lt;? extends T&gt; deserializationClass) {\r\n            deserializationClasses.put(property, deserializationClass);\r\n        }\r\n\r\n        @Override\r\n        public T deserialize(JsonParser p, DeserializationContext ctxt)\r\n                throws IOException, JsonProcessingException {\r\n\r\n            ObjectMapper mapper = (ObjectMapper) p.getCodec();\r\n            JsonNode tree = mapper.readTree(p);\r\n            \r\n            Class&lt;? extends T&gt; deserializationClass = findDeserializationClass(tree);\r\n            if (deserializationClass == null) {\r\n                throw JsonMappingException.from(ctxt, \r\n                   &quot;No registered unique properties found for polymorphic deserialization&quot;);\r\n            }\r\n\r\n            return mapper.treeToValue(tree, deserializationClass);\r\n        }\r\n        \r\n        private Class&lt;? extends T&gt; findDeserializationClass(JsonNode tree) {\r\n            \r\n            Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = tree.fields();\r\n            Class&lt;? extends T&gt; deserializationClass = null;\r\n            \r\n            while (fields.hasNext()) {\r\n                Entry&lt;String, JsonNode&gt; field = fields.next();\r\n                String property = field.getKey();\r\n                if (deserializationClasses.containsKey(property)) {\r\n                    deserializationClass = deserializationClasses.get(property);\r\n                    break;  \r\n                }\r\n            }\r\n            \r\n            return deserializationClass;\r\n        }\r\n    }\r\n    \r\nThen instantiate and configure the deserializer:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    PropertyBasedDeserializer&lt;Animal&gt; deserializer = \r\n            new PropertyBasedDeserializer&lt;&gt;(Animal.class);\r\n    \r\n    deserializer.register(&quot;bark&quot;, Dog.class); // If &quot;bark&quot; is present, then it&#39;s a Dog\r\n    deserializer.register(&quot;meow&quot;, Cat.class); // If &quot;meow&quot; is present, then it&#39;s a Cat\r\n    \r\nAdd it to a module:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    SimpleModule module = new SimpleModule(&quot;custom-deserializers&quot;, Version.unknownVersion());\r\n    module.addDeserializer(Animal.class, deserializer);\r\n    \r\nRegister the module and perform the deserialization as usual:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(module);\r\n    \r\n    String json = &quot;[{\\&quot;bark\\&quot;:\\&quot;bowwow\\&quot;}, {\\&quot;bark\\&quot;:\\&quot;woofWoof\\&quot;}, {\\&quot;meow\\&quot;:\\&quot;meeeOwww\\&quot;}]&quot;;\r\n    List&lt;Animal&gt; animals = mapper.readValue(json, new TypeReference&lt;List&lt;Animal&gt;&gt;() { });\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization","title":"Jackson deserialize based on property name","body":"<p>Jackson doesn't offer an <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"nofollow noreferrer\">out of the box solution</a> for that, but it doesn't mean that you are out of luck.</p>\n<hr />\n<p>Assuming that your classes implement a common interface or extend a common class, as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Animal {\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dog implements Animal {\n\n   private String bark;\n   \n   // Default constructor, getters and setters\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat implements Animal {\n\n   private String meow;\n   \n   // Default constructor, getters and setters\n}\n</code></pre>\n<p>You can create a custom deserializer based on the property name. It allows you to define a <em>unique</em> property that will be used to look up the class to perform the deserialization to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PropertyBasedDeserializer&lt;T&gt; extends StdDeserializer&lt;T&gt; {\n\n    private Map&lt;String, Class&lt;? extends T&gt;&gt; deserializationClasses;\n\n    public PropertyBasedDeserializer(Class&lt;T&gt; baseClass) {\n        super(baseClass);\n        deserializationClasses = new HashMap&lt;String, Class&lt;? extends T&gt;&gt;();\n    }\n\n    public void register(String property, Class&lt;? extends T&gt; deserializationClass) {\n        deserializationClasses.put(property, deserializationClass);\n    }\n\n    @Override\n    public T deserialize(JsonParser p, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n\n        ObjectMapper mapper = (ObjectMapper) p.getCodec();\n        JsonNode tree = mapper.readTree(p);\n        \n        Class&lt;? extends T&gt; deserializationClass = findDeserializationClass(tree);\n        if (deserializationClass == null) {\n            throw JsonMappingException.from(ctxt, \n               &quot;No registered unique properties found for polymorphic deserialization&quot;);\n        }\n\n        return mapper.treeToValue(tree, deserializationClass);\n    }\n    \n    private Class&lt;? extends T&gt; findDeserializationClass(JsonNode tree) {\n        \n        Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = tree.fields();\n        Class&lt;? extends T&gt; deserializationClass = null;\n        \n        while (fields.hasNext()) {\n            Entry&lt;String, JsonNode&gt; field = fields.next();\n            String property = field.getKey();\n            if (deserializationClasses.containsKey(property)) {\n                deserializationClass = deserializationClasses.get(property);\n                break;  \n            }\n        }\n        \n        return deserializationClass;\n    }\n}\n</code></pre>\n<p>Then instantiate and configure the deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PropertyBasedDeserializer&lt;Animal&gt; deserializer = \n        new PropertyBasedDeserializer&lt;&gt;(Animal.class);\n\ndeserializer.register(&quot;bark&quot;, Dog.class); // If &quot;bark&quot; is present, then it's a Dog\ndeserializer.register(&quot;meow&quot;, Cat.class); // If &quot;meow&quot; is present, then it's a Cat\n</code></pre>\n<p>Add it to a module:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleModule module = new SimpleModule(&quot;custom-deserializers&quot;, Version.unknownVersion());\nmodule.addDeserializer(Animal.class, deserializer);\n</code></pre>\n<p>Register the module and perform the deserialization as usual:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(module);\n\nString json = &quot;[{\\&quot;bark\\&quot;:\\&quot;bowwow\\&quot;}, {\\&quot;bark\\&quot;:\\&quot;woofWoof\\&quot;}, {\\&quot;meow\\&quot;:\\&quot;meeeOwww\\&quot;}]&quot;;\nList&lt;Animal&gt; animals = mapper.readValue(json, new TypeReference&lt;List&lt;Animal&gt;&gt;() { });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10582925,"reputation":377,"user_id":7796141,"display_name":"geliba187"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567070999,"creation_date":1567063246,"answer_id":57705016,"question_id":50460950,"body_markdown":"With `fasterxml jackson`, you can do this:\r\n\r\n```\r\nabstract class FooOrBar {\r\n    companion object {\r\n        @JvmStatic\r\n        @JsonCreator\r\n        private fun creator(json: Map&lt;String, String&gt;): FooOrBar? {\r\n            return when {\r\n                json.containsKey(&quot;foo&quot;) -&gt; Foo(json[&quot;foo&quot;] as String)\r\n                json.containsKey(&quot;bar&quot;) -&gt; Foo(json[&quot;bar&quot;] as String)\r\n                else -&gt; null\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass Foo(val foo: String) : FooOrBar() // even can use map delegate if you know what it is\r\nclass Bar(val bar: String) : FooOrBar()\r\n```\r\n\r\nIt is Kotlin, but you will get the idea. \r\n\r\nNote the\r\n[`@JsonCreator`][1] is used. the annotated `creator` function has single argument (which is one kind of the two signatures required by `JsonCreator`), JSON is deserialized as a `Map` instance and passed to the `creator`. From here, you can create your class instance.\r\n\r\n----------------UPDATE-------------------------\r\n\r\nYou can also use `JsonNode` for the `creator` function for nested and complex JSON. \r\n```\r\nprivate fun creator(json: JsonNode): FooOrBar?\r\n```\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonCreator.html","title":"Jackson deserialize based on property name","body":"<p>With <code>fasterxml jackson</code>, you can do this:</p>\n\n<pre><code>abstract class FooOrBar {\n    companion object {\n        @JvmStatic\n        @JsonCreator\n        private fun creator(json: Map&lt;String, String&gt;): FooOrBar? {\n            return when {\n                json.containsKey(\"foo\") -&gt; Foo(json[\"foo\"] as String)\n                json.containsKey(\"bar\") -&gt; Foo(json[\"bar\"] as String)\n                else -&gt; null\n            }\n        }\n    }\n}\n\nclass Foo(val foo: String) : FooOrBar() // even can use map delegate if you know what it is\nclass Bar(val bar: String) : FooOrBar()\n</code></pre>\n\n<p>It is Kotlin, but you will get the idea. </p>\n\n<p>Note the\n<a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"nofollow noreferrer\"><code>@JsonCreator</code></a> is used. the annotated <code>creator</code> function has single argument (which is one kind of the two signatures required by <code>JsonCreator</code>), JSON is deserialized as a <code>Map</code> instance and passed to the <code>creator</code>. From here, you can create your class instance.</p>\n\n<p>----------------UPDATE-------------------------</p>\n\n<p>You can also use <code>JsonNode</code> for the <code>creator</code> function for nested and complex JSON. </p>\n\n<pre><code>private fun creator(json: JsonNode): FooOrBar?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23852017,"reputation":1,"user_id":17855859,"display_name":"user17855859"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641507693,"creation_date":1641507693,"answer_id":70614338,"question_id":50460950,"body_markdown":"I might be too late to answer, but still posting my findings.\r\nI encountered exact similar situation, and after going through documentation I came across following [doc][1]:\r\n\r\n    // Include logical type name (defined in impl classes) as wrapper; 2 annotations\r\n  @JsonTypeInfo(use=Id.NAME, include=As.WRAPPER_OBJECT)\r\n  @JsonSubTypes({com.myemp.Impl1.class, com.myempl.Impl2.class})\r\n\r\nFollowing is the setup that I used to get it working: (Using same example used by @cassiomolin in above post)\r\n\r\n    \r\n    @JsonTypeInfo(use=Id.NAME, include=As.WRAPPER_OBJECT)\r\n    @JsonSubTypes({\r\n       @JsonSubTypes.Type(Dog.class),\r\n       @JsonSubTypes.Type(Cat.class)})\r\n    public interface Animal {\r\n    \r\n    }\r\n\r\n    @JsonTypeName(&quot;bark&quot;)\r\n    public class Dog implements Animal {\r\n    \r\n       private String bark;\r\n       \r\n       // Default constructor, getters and setters\r\n    }\r\n\r\n    @JsonTypeName(&quot;meow&quot;)\r\n    public class Cat implements Animal {\r\n    \r\n       private String meow;\r\n       \r\n       // Default constructor, getters and setters\r\n    }\r\n\r\n\r\nYou can skip writing custom deserializer unless you have any specific need to handle.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html","title":"Jackson deserialize based on property name","body":"<p>I might be too late to answer, but still posting my findings.\nI encountered exact similar situation, and after going through documentation I came across following <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\">doc</a>:</p>\n<pre><code>// Include logical type name (defined in impl classes) as wrapper; 2 annotations\n</code></pre>\n<p>@JsonTypeInfo(use=Id.NAME, include=As.WRAPPER_OBJECT)\n@JsonSubTypes({com.myemp.Impl1.class, com.myempl.Impl2.class})</p>\n<p>Following is the setup that I used to get it working: (Using same example used by @cassiomolin in above post)</p>\n<pre><code>@JsonTypeInfo(use=Id.NAME, include=As.WRAPPER_OBJECT)\n@JsonSubTypes({\n   @JsonSubTypes.Type(Dog.class),\n   @JsonSubTypes.Type(Cat.class)})\npublic interface Animal {\n\n}\n\n@JsonTypeName(&quot;bark&quot;)\npublic class Dog implements Animal {\n\n   private String bark;\n   \n   // Default constructor, getters and setters\n}\n\n@JsonTypeName(&quot;meow&quot;)\npublic class Cat implements Animal {\n\n   private String meow;\n   \n   // Default constructor, getters and setters\n}\n</code></pre>\n<p>You can skip writing custom deserializer unless you have any specific need to handle.</p>\n"}],"owner":{"account_id":2174311,"reputation":342,"user_id":1925405,"accept_rate":56,"display_name":"user1925405"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9749,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1641507693,"creation_date":1526969692,"question_id":50460950,"body_markdown":"I have the following two types of JSON objects:\r\n\r\n    {&quot;foo&quot;: &quot;String value&quot;}\r\nand\r\n\r\n    {&quot;bar&quot;: &quot;String value&quot;}\r\n\r\nBoth of them represent a specialized type of the same base object. How can I use Jackson for deserializing them ? The type information is only represented by the keys themselves and not the value for any key (almost all examples use the value of the key for determining the type : https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization)","title":"Jackson deserialize based on property name","body":"<p>I have the following two types of JSON objects:</p>\n\n<pre><code>{\"foo\": \"String value\"}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>{\"bar\": \"String value\"}\n</code></pre>\n\n<p>Both of them represent a specialized type of the same base object. How can I use Jackson for deserializing them ? The type information is only represented by the keys themselves and not the value for any key (almost all examples use the value of the key for determining the type : <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization</a>)</p>\n"},{"tags":["java","c","pragma"],"comments":[{"owner":{"account_id":418832,"reputation":437,"user_id":795625,"accept_rate":50,"display_name":"Ram"},"score":2,"creation_date":1372320125,"post_id":17337744,"comment_id":25152615,"body_markdown":"http://stackoverflow.com/questions/3379190/avoiding-the-main-entry-point-in-a-c-program","body":"<a href=\"http://stackoverflow.com/questions/3379190/avoiding-the-main-entry-point-in-a-c-program\" title=\"avoiding the main entry point in a c program\">stackoverflow.com/questions/3379190/&hellip;</a>"},{"owner":{"account_id":481416,"reputation":355324,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1507018354,"post_id":17337744,"comment_id":80034113,"body_markdown":"C subset https://stackoverflow.com/questions/8713470/executing-code-before-main","body":"C subset <a href=\"https://stackoverflow.com/questions/8713470/executing-code-before-main\" title=\"executing code before main\">stackoverflow.com/questions/8713470/executing-code-before-ma&zwnj;&#8203;in</a>"}],"answers":[{"tags":[],"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372399518,"creation_date":1372320052,"answer_id":17337760,"question_id":17337744,"body_markdown":"in java you can use static block \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class JavaApplication2 {\r\n\r\n        static {\r\n            System.out.println(&quot;in static &quot;);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;in main &quot;);\r\n        }\r\n    }","title":"How to execute a particular function before main() in C and JAVA ?","body":"<p>in java you can use static block </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaApplication2 {\n\n    static {\n        System.out.println(\"in static \");\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"in main \");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2903878,"reputation":1133,"user_id":2489815,"accept_rate":100,"display_name":"Goatcat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1372320087,"creation_date":1372320087,"answer_id":17337770,"question_id":17337744,"body_markdown":"It could be the first thing you call from your main function. That way it will run before your &quot;real&quot; main function.","title":"How to execute a particular function before main() in C and JAVA ?","body":"<p>It could be the first thing you call from your main function. That way it will run before your \"real\" main function.</p>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372320249,"creation_date":1372320249,"answer_id":17337824,"question_id":17337744,"body_markdown":"Use  that method(what you want to run before main method) as your main method.\r\n\r\nThen it is so simple\r\n\r\nOr use `static` block before `main()`","title":"How to execute a particular function before main() in C and JAVA ?","body":"<p>Use  that method(what you want to run before main method) as your main method.</p>\n\n<p>Then it is so simple</p>\n\n<p>Or use <code>static</code> block before <code>main()</code></p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372399619,"creation_date":1372320281,"answer_id":17337836,"question_id":17337744,"body_markdown":"Try combining a static block and a static method containing what you want executed before your main method. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package test;\r\n    \r\n    public class Main {\r\n    \tstatic {\r\n    \t\tbeforeMain();\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;after&quot;);\r\n    \t}\r\n    \tprivate static void beforeMain() {\r\n    \t\tSystem.out.println(&quot;before&quot;);\r\n    \t}\r\n    }\r\n\r\nOutput: \r\n\r\n    before\r\n    after","title":"How to execute a particular function before main() in C and JAVA ?","body":"<p>Try combining a static block and a static method containing what you want executed before your main method. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\npublic class Main {\n    static {\n        beforeMain();\n    }\n    public static void main(String[] args) {\n        System.out.println(\"after\");\n    }\n    private static void beforeMain() {\n        System.out.println(\"before\");\n    }\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>before\nafter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372321258,"creation_date":1372320838,"answer_id":17338003,"question_id":17337744,"body_markdown":"I can think of two simple(-ish) ways to do it in Java:\r\n\r\nMethod #1 - static initializers\r\n-------------------------------\r\n\r\nFor example:\r\n\r\n    public class Test {\r\n        static {\r\n            System.err.println(&quot;Static initializer first&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.err.println(&quot;In main&quot;);\r\n        }\r\n    }\r\n\r\nMethod #2 - A proxy main.\r\n-------------------------\r\n\r\n    public class ProxyMain {\r\n        public static void main(String[] args) {\r\n            String classname = args[0];\r\n            // Do some other stuff.\r\n            // Load the class\r\n            // Reflectively find the &#39;public static void main(String[])&#39; method\r\n            // Reflectively invoke it with the rest of the args.\r\n        }\r\n    }\r\n\r\nYou then launch this as:\r\n\r\n    java &lt;jvm-options&gt; ... ProxyMain &lt;real-Main&gt; arg ...\r\n\r\n-------------\r\n\r\nThere is also a 3rd method, but it requires some &quot;extreme measures&quot;.  Basically you have to create your own JVM launcher that uses a different scheme for starting the application.  Have this do the extra stuff before loading the entry point class and calling its `main` method.  (Or do something different entirely.)\r\n\r\nYou could even replace the default classloader; e.g. https://stackoverflow.com/questions/6366288/how-to-change-default-class-loader-in-java\r\n\r\n\r\n\r\n\r\n","title":"How to execute a particular function before main() in C and JAVA ?","body":"<p>I can think of two simple(-ish) ways to do it in Java:</p>\n\n<h2>Method #1 - static initializers</h2>\n\n<p>For example:</p>\n\n<pre><code>public class Test {\n    static {\n        System.err.println(\"Static initializer first\");\n    }\n\n    public static void main(String[] args) {\n        System.err.println(\"In main\");\n    }\n}\n</code></pre>\n\n<h2>Method #2 - A proxy main.</h2>\n\n<pre><code>public class ProxyMain {\n    public static void main(String[] args) {\n        String classname = args[0];\n        // Do some other stuff.\n        // Load the class\n        // Reflectively find the 'public static void main(String[])' method\n        // Reflectively invoke it with the rest of the args.\n    }\n}\n</code></pre>\n\n<p>You then launch this as:</p>\n\n<pre><code>java &lt;jvm-options&gt; ... ProxyMain &lt;real-Main&gt; arg ...\n</code></pre>\n\n<hr>\n\n<p>There is also a 3rd method, but it requires some \"extreme measures\".  Basically you have to create your own JVM launcher that uses a different scheme for starting the application.  Have this do the extra stuff before loading the entry point class and calling its <code>main</code> method.  (Or do something different entirely.)</p>\n\n<p>You could even replace the default classloader; e.g. <a href=\"https://stackoverflow.com/questions/6366288/how-to-change-default-class-loader-in-java\">How to change default class loader in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":355564,"reputation":70046,"user_id":694576,"accept_rate":71,"display_name":"alk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372322769,"creation_date":1372322341,"answer_id":17338503,"question_id":17337744,"body_markdown":"As an extension to the C standard gcc provides the function attribute `constructor` which allows functions to be called before `main()`.\r\n\r\n[For details please see here][1] (scroll down). Also [this SO question and its answers][2] help on this.\r\n\r\n\r\n  [1]: http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html#Function-Attributes\r\n  [2]: https://stackoverflow.com/q/2053029/694576","title":"How to execute a particular function before main() in C and JAVA ?","body":"<p>As an extension to the C standard gcc provides the function attribute <code>constructor</code> which allows functions to be called before <code>main()</code>.</p>\n\n<p><a href=\"http://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html#Function-Attributes\" rel=\"nofollow noreferrer\">For details please see here</a> (scroll down). Also <a href=\"https://stackoverflow.com/q/2053029/694576\">this SO question and its answers</a> help on this.</p>\n"},{"tags":[],"owner":{"account_id":10915898,"reputation":1,"user_id":8023703,"display_name":"Sandeepan Banerjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641507646,"creation_date":1641507646,"answer_id":70614329,"question_id":17337744,"body_markdown":"In java, execution of any other method is possible before ***main()*** method execution. We need a static initializer block for that. It starts with a static keyword.\r\nLike:\r\n\r\n    static {\r\n        // statements\r\n    }\r\n\r\nNow try to understand with actual code implementation.\r\n\r\n    public class BefourMain {\r\n    \t\r\n    \tstatic int  sum;\r\n    \t\r\n    \tstatic {\r\n    \t\tsum = add(4,5,6);\r\n    \t\tSystem.out.println(&quot;Calling add() method: &quot; + sum);\r\n    \t\tSystem.out.println(&quot;\\ncalling main&quot;);\r\n    \t\tmain(null);\r\n    \t\tSystem.out.println(&quot;Main end\\n&quot;);\r\n    \t\tSystem.out.println(&quot;Now JVM calling main()\\n&quot;);\r\n    \t}\r\n    \t\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint sum = add(1,2,3);\r\n    \t\tSystem.out.println(sum);\r\n    \r\n    \t}\r\n    \t\r\n    \tstatic int add(int a, int b, int c) {\r\n    \t\treturn a + b + c;\r\n    \t}\r\n    }\r\n\r\nNow try to understand with actual code implementation.\r\n\r\nWhen we start executing this code the static initializer block will start execution first, in the static initializer block we are calling the ***add()*** method and storing the value in the static variable, and printing it. Next, we are calling the ***main()*** method, which will execute. when the static initializer block execution will complete JVM will call the ***main()*** method again.\r\n\r\n**Output**\r\n[Output of the above code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9b9K1.jpg","title":"How to execute a particular function before main() in C and JAVA ?","body":"<p>In java, execution of any other method is possible before <em><strong>main()</strong></em> method execution. We need a static initializer block for that. It starts with a static keyword.\nLike:</p>\n<pre><code>static {\n    // statements\n}\n</code></pre>\n<p>Now try to understand with actual code implementation.</p>\n<pre><code>public class BefourMain {\n    \n    static int  sum;\n    \n    static {\n        sum = add(4,5,6);\n        System.out.println(&quot;Calling add() method: &quot; + sum);\n        System.out.println(&quot;\\ncalling main&quot;);\n        main(null);\n        System.out.println(&quot;Main end\\n&quot;);\n        System.out.println(&quot;Now JVM calling main()\\n&quot;);\n    }\n    \n\n    \n    public static void main(String[] args) {\n\n        int sum = add(1,2,3);\n        System.out.println(sum);\n\n    }\n    \n    static int add(int a, int b, int c) {\n        return a + b + c;\n    }\n}\n</code></pre>\n<p>Now try to understand with actual code implementation.</p>\n<p>When we start executing this code the static initializer block will start execution first, in the static initializer block we are calling the <em><strong>add()</strong></em> method and storing the value in the static variable, and printing it. Next, we are calling the <em><strong>main()</strong></em> method, which will execute. when the static initializer block execution will complete JVM will call the <em><strong>main()</strong></em> method again.</p>\n<p><strong>Output</strong>\n<a href=\"https://i.stack.imgur.com/9b9K1.jpg\" rel=\"nofollow noreferrer\">Output of the above code</a></p>\n"}],"owner":{"account_id":1885277,"reputation":395,"user_id":1704622,"display_name":"New_User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10068,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":7,"score":4,"last_activity_date":1641507646,"creation_date":1372319991,"question_id":17337744,"body_markdown":"I want to execute one function before main function in C and JAVA language.\r\nI know one way that is, by using `#pragma` directive in C language. Is there any other way to do that in both languages?","title":"How to execute a particular function before main() in C and JAVA ?","body":"<p>I want to execute one function before main function in C and JAVA language.\nI know one way that is, by using <code>#pragma</code> directive in C language. Is there any other way to do that in both languages?</p>\n"},{"tags":["java","binary-search-tree","nodes"],"answers":[{"tags":[],"owner":{"account_id":20511313,"reputation":2360,"user_id":15102459,"display_name":"Thiyanesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1612210518,"creation_date":1612209588,"answer_id":65999349,"question_id":65999246,"body_markdown":"1. In a Binary Search Tree(as per common understanding), `root` will not be minimum or maximum(unless your insertion order ensure or rotations are performed to manage the property. in such case, it will have worst case  time complexity)\r\n2. If you always need the minimum or maximum, try looking into `Binomial Heap`\r\n\r\n## Update based on author&#39;s clarification\r\n\r\nAs the existing code is inserting `lesser` values to `left` subtree and `bigger` values to the right subtree, changing the `&lt;` to `&gt;=` should solve your use case. \r\n\r\n```java\r\n    protected BNode insert(BNode parent, BNode newNode) {\r\n        if (parent == null) {\r\n            return newNode;\r\n        }\r\n        if (newNode.obj.getKey().compareTo(parent.obj.getKey()) &gt;= 0) {\r\n            parent.left = insert (parent.left, newNode);\r\n        } else {\r\n            parent.right = insert (parent.right, newNode);\r\n        }\r\n        return parent;\r\n    }\r\n```\r\n\r\nWith this new property of `descending`, ensure to update your search function also from `&lt;` to `&gt;=`. Else insert will work and search will fail to recognize the node.\r\n\r\n## Suggestion\r\nAlternatively, the insertion order can remain the same and retrieval logic can be changed to traverse the (`ascending`) tree from `right` to `left` to get the same behavior.\r\n\r\nKeeping the existing code as it is for insertion (`&lt;` comparison) \r\n```java\r\n    protected List&lt;Patient&gt; descendingInorder(BNode node, List&lt;Patient&gt; values) {\r\n        if (node == null) {\r\n            return values;\r\n        }\r\n        descendingInorder(node.right, values);\r\n        values.add(node.obj);\r\n        descendingInorder(node.left, values);\r\n        return values;\r\n    }\r\n```\r\n\r\n## Note\r\n1. If the tree can contain, duplicates, then ensure to define the behavior for that.","title":"Ascending and descending sorting using BST insert method query","body":"<ol>\n<li>In a Binary Search Tree(as per common understanding), <code>root</code> will not be minimum or maximum(unless your insertion order ensure or rotations are performed to manage the property. in such case, it will have worst case  time complexity)</li>\n<li>If you always need the minimum or maximum, try looking into <code>Binomial Heap</code></li>\n</ol>\n<h2>Update based on author's clarification</h2>\n<p>As the existing code is inserting <code>lesser</code> values to <code>left</code> subtree and <code>bigger</code> values to the right subtree, changing the <code>&lt;</code> to <code>&gt;=</code> should solve your use case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected BNode insert(BNode parent, BNode newNode) {\n        if (parent == null) {\n            return newNode;\n        }\n        if (newNode.obj.getKey().compareTo(parent.obj.getKey()) &gt;= 0) {\n            parent.left = insert (parent.left, newNode);\n        } else {\n            parent.right = insert (parent.right, newNode);\n        }\n        return parent;\n    }\n</code></pre>\n<p>With this new property of <code>descending</code>, ensure to update your search function also from <code>&lt;</code> to <code>&gt;=</code>. Else insert will work and search will fail to recognize the node.</p>\n<h2>Suggestion</h2>\n<p>Alternatively, the insertion order can remain the same and retrieval logic can be changed to traverse the (<code>ascending</code>) tree from <code>right</code> to <code>left</code> to get the same behavior.</p>\n<p>Keeping the existing code as it is for insertion (<code>&lt;</code> comparison)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected List&lt;Patient&gt; descendingInorder(BNode node, List&lt;Patient&gt; values) {\n        if (node == null) {\n            return values;\n        }\n        descendingInorder(node.right, values);\n        values.add(node.obj);\n        descendingInorder(node.left, values);\n        return values;\n    }\n</code></pre>\n<h2>Note</h2>\n<ol>\n<li>If the tree can contain, duplicates, then ensure to define the behavior for that.</li>\n</ol>\n"}],"owner":{"account_id":17437698,"reputation":39,"user_id":12640391,"display_name":"xor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65999349,"answer_count":1,"score":0,"last_activity_date":1641507615,"creation_date":1612209090,"question_id":65999246,"body_markdown":"I want to insert a new object newPat as a binary node to the BST in descending order of urgency data field. I am doing the below code in ascending order. How can I change it to descending order?\r\n\r\nBST class:\r\n\r\n    public void insertPatient(Patient newPat)\r\n    {\r\n        BNode temp = new BNode(newPat);\r\n        root = insert(root, temp);\r\n    }\r\n\r\n\r\n    protected BNode insert(BNode rt, BNode newNode)\r\n    {\r\n        //attach newnode to correct subtree keeping ascending order and returns pointer to the node which it was called\r\n        if(rt == null){\r\n            rt = newNode; //last node becomes root           \r\n        }else \r\n        {\r\n            if((newNode.obj.getKey().compareTo(rt.obj.getKey()) &lt; 0))\r\n            {\r\n                rt.left = insert (rt.left, newNode);\r\n            } \r\n            else \r\n            {\r\n                rt.right = insert (rt.right, newNode);\r\n            }\r\n        }\r\n        return rt;\r\n    }","title":"Ascending and descending sorting using BST insert method query","body":"<p>I want to insert a new object newPat as a binary node to the BST in descending order of urgency data field. I am doing the below code in ascending order. How can I change it to descending order?</p>\n<p>BST class:</p>\n<pre><code>public void insertPatient(Patient newPat)\n{\n    BNode temp = new BNode(newPat);\n    root = insert(root, temp);\n}\n\n\nprotected BNode insert(BNode rt, BNode newNode)\n{\n    //attach newnode to correct subtree keeping ascending order and returns pointer to the node which it was called\n    if(rt == null){\n        rt = newNode; //last node becomes root           \n    }else \n    {\n        if((newNode.obj.getKey().compareTo(rt.obj.getKey()) &lt; 0))\n        {\n            rt.left = insert (rt.left, newNode);\n        } \n        else \n        {\n            rt.right = insert (rt.right, newNode);\n        }\n    }\n    return rt;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jboss","postman"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1641501235,"post_id":70613206,"comment_id":124827022,"body_markdown":"The map is send as request parameters not as json. Use a regular map not the `LinkedMultiValueMap`. Also your controller should use a `Map` not the `HashMap` in the method signature. Finally set the proper content type (json) when sending, currently you set nothing.","body":"The map is send as request parameters not as json. Use a regular map not the <code>LinkedMultiValueMap</code>. Also your controller should use a <code>Map</code> not the <code>HashMap</code> in the method signature. Finally set the proper content type (json) when sending, currently you set nothing."}],"answers":[{"tags":[],"owner":{"account_id":20713334,"reputation":109,"user_id":15209447,"display_name":"Isakots"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641501349,"creation_date":1641501349,"answer_id":70613342,"question_id":70613206,"body_markdown":"You defined your endpoint to receive HTTP **GET** requests:\r\n\r\n    @RequestMapping(value=&quot;/helloworld&quot;, method=RequestMethod.GET, consumes=MediaType.APPLICATION_JSON_VALUE)\r\n\r\nBut actually with RestTemplate you are performing a HTTP **POST** request:\r\n\r\n    HttpEntity&lt;String&gt; response = rt.exchange(\r\n            &quot;http://localhost:8080/GraphClient/helloworld&quot;,\r\n            HttpMethod.POST,\r\n            entity,\r\n            String.class\r\n    );","title":"Why passing Map&lt;String,String&gt; in postman as JSON works but passing the map in Java RestTemplate does not work?","body":"<p>You defined your endpoint to receive HTTP <strong>GET</strong> requests:</p>\n<pre><code>@RequestMapping(value=&quot;/helloworld&quot;, method=RequestMethod.GET, consumes=MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>But actually with RestTemplate you are performing a HTTP <strong>POST</strong> request:</p>\n<pre><code>HttpEntity&lt;String&gt; response = rt.exchange(\n        &quot;http://localhost:8080/GraphClient/helloworld&quot;,\n        HttpMethod.POST,\n        entity,\n        String.class\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9064433,"reputation":568,"user_id":6749813,"display_name":"S.Tushinov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641507225,"creation_date":1641507225,"answer_id":70614260,"question_id":70613206,"body_markdown":"Building on top of both answers by @Isakots and @M.Deinum.\r\n\r\nYou have two issues to fix here:\r\n 1. You&#39;re sending a JSON body through a GET request which is not favorable\r\n 2. You&#39;re trying to send a simple json object similar to {&quot;key1&quot;:&quot;value1&quot;..} using LinkedValueMap.\r\n\r\nIn order to resolve the  first issue. You should define your endpoint as a **POST**.\r\nExample:\r\n\r\n    @RequestMapping(value=&quot;/helloworld&quot;, method=RequestMethod.POST, consumes=MediaType.APPLICATION_JSON_VALUE)\r\n\r\nIn order to resolve the second issues replace your `LinkedValueMap` with a `Map`. Example:\r\n\r\n        Map&lt;String, String&gt; body = new HashMap&lt;&gt;();\r\n        body.put(&quot;planet1&quot;,&quot;Jupiter&quot;);\r\n        body.put(&quot;planet2&quot;, &quot;Mercury&quot;);\r\n        body.put(&quot;planet3&quot;, &quot;Venus&quot;);\r\n        body.put(&quot;planet4&quot;, &quot;Mars&quot;);\r\n        body.put(&quot;planet5&quot;, &quot;Earth&quot;);\r\n\r\n        HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(body);\r\n\r\n        RestTemplate rt = new RestTemplate();\r\n\r\n        HttpEntity&lt;String&gt; response = rt.exchange(\r\n                &quot;http://localhost:8080/GraphClient/helloworld&quot;,\r\n                HttpMethod.POST,\r\n                entity,\r\n                String.class\r\n        );\r\n\r\nAfter these two changes everything should work as expected.","title":"Why passing Map&lt;String,String&gt; in postman as JSON works but passing the map in Java RestTemplate does not work?","body":"<p>Building on top of both answers by @Isakots and @M.Deinum.</p>\n<p>You have two issues to fix here:</p>\n<ol>\n<li>You're sending a JSON body through a GET request which is not favorable</li>\n<li>You're trying to send a simple json object similar to {&quot;key1&quot;:&quot;value1&quot;..} using LinkedValueMap.</li>\n</ol>\n<p>In order to resolve the  first issue. You should define your endpoint as a <strong>POST</strong>.\nExample:</p>\n<pre><code>@RequestMapping(value=&quot;/helloworld&quot;, method=RequestMethod.POST, consumes=MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>In order to resolve the second issues replace your <code>LinkedValueMap</code> with a <code>Map</code>. Example:</p>\n<pre><code>    Map&lt;String, String&gt; body = new HashMap&lt;&gt;();\n    body.put(&quot;planet1&quot;,&quot;Jupiter&quot;);\n    body.put(&quot;planet2&quot;, &quot;Mercury&quot;);\n    body.put(&quot;planet3&quot;, &quot;Venus&quot;);\n    body.put(&quot;planet4&quot;, &quot;Mars&quot;);\n    body.put(&quot;planet5&quot;, &quot;Earth&quot;);\n\n    HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(body);\n\n    RestTemplate rt = new RestTemplate();\n\n    HttpEntity&lt;String&gt; response = rt.exchange(\n            &quot;http://localhost:8080/GraphClient/helloworld&quot;,\n            HttpMethod.POST,\n            entity,\n            String.class\n    );\n</code></pre>\n<p>After these two changes everything should work as expected.</p>\n"}],"owner":{"account_id":22674405,"reputation":41,"user_id":16845703,"display_name":"Sabila2022"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70614260,"answer_count":2,"score":1,"last_activity_date":1641507225,"creation_date":1641500590,"question_id":70613206,"body_markdown":"This project is for a WAR application which run over JBOSS Application Server (GraphClient.war), after the deployment of it I can do requests to it using URLs like:\r\n\r\n    http://localhost:8080/GraphClient/helloworld\r\n\r\nI call this controller passing a Map&lt;String,String&gt;, using postman an configuring Body &gt; RAW &gt; Json (application/json) and passing the map like:\r\n\r\n    {\r\n    &quot;hello1&quot;:&quot;Jupiter&quot;,\r\n    &quot;hello2&quot;:&quot;Mercury&quot;,\r\n    &quot;hello3&quot;:&quot;Venus&quot;,\r\n    &quot;hello4&quot;:&quot;Mars&quot;,\r\n    &quot;hello5&quot;:&quot;Earth&quot;\r\n    }\r\n\r\n\r\nIT WORKS, but if I send the same Map&lt;String,String&gt; in Java from another controller I get a 405 method not allowed. Here is the code:\r\n\r\n\r\n    @RequestMapping(value=&quot;/callhelloworld&quot;, method=RequestMethod.GET)\r\n    public String  caller( )\r\n    {\r\n\r\n        MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;String,String&gt;();\r\n\r\n        body.add(&quot;planet1&quot;,&quot;Jupiter&quot;);\r\n        body.add(&quot;planet2&quot;,&quot;Mercury&quot;);\r\n        body.add(&quot;planet3&quot;,&quot;Venus&quot;);\r\n        body.add(&quot;planet4&quot;,&quot;Mars&quot;);\r\n        body.add(&quot;planet5&quot;,&quot;Earth&quot;);\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n\r\n\r\n\r\n       // headers.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE);\r\n        HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n        RestTemplate rt = new RestTemplate();\r\n\r\n        HttpEntity&lt;String&gt; response = rt.exchange(\r\n                &quot;http://localhost:8080/GraphClient/helloworld&quot;,\r\n                HttpMethod.POST,\r\n                entity,\r\n                String.class\r\n        );\r\n\r\n        return response.getBody();\r\n    }\r\n\r\n\r\n    @RequestMapping(value=&quot;/helloworld&quot;, method=RequestMethod.GET, consumes=MediaType.APPLICATION_JSON_VALUE)\r\n    public String  helper( @RequestBody HashMap&lt;String,String&gt; values )\r\n    {\r\n        String acumPlanets = &quot;PLANETS HERE = &quot;;\r\n        for (Map.Entry&lt;String, String&gt; item : values.entrySet()) {\r\n            System.out.println(&quot;Key &quot; + item.getKey() + &quot; Value &quot; + item.getValue() );\r\n            acumPlanets += item.getValue();\r\n        }\r\n        return acumPlanets;\r\n    }\r\n\r\nCan you realize what I&#39;m doing wrong with the RestTemplate?\r\n\r\nThanks,","title":"Why passing Map&lt;String,String&gt; in postman as JSON works but passing the map in Java RestTemplate does not work?","body":"<p>This project is for a WAR application which run over JBOSS Application Server (GraphClient.war), after the deployment of it I can do requests to it using URLs like:</p>\n<pre><code>http://localhost:8080/GraphClient/helloworld\n</code></pre>\n<p>I call this controller passing a Map&lt;String,String&gt;, using postman an configuring Body &gt; RAW &gt; Json (application/json) and passing the map like:</p>\n<pre><code>{\n&quot;hello1&quot;:&quot;Jupiter&quot;,\n&quot;hello2&quot;:&quot;Mercury&quot;,\n&quot;hello3&quot;:&quot;Venus&quot;,\n&quot;hello4&quot;:&quot;Mars&quot;,\n&quot;hello5&quot;:&quot;Earth&quot;\n}\n</code></pre>\n<p>IT WORKS, but if I send the same Map&lt;String,String&gt; in Java from another controller I get a 405 method not allowed. Here is the code:</p>\n<pre><code>@RequestMapping(value=&quot;/callhelloworld&quot;, method=RequestMethod.GET)\npublic String  caller( )\n{\n\n    MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;String,String&gt;();\n\n    body.add(&quot;planet1&quot;,&quot;Jupiter&quot;);\n    body.add(&quot;planet2&quot;,&quot;Mercury&quot;);\n    body.add(&quot;planet3&quot;,&quot;Venus&quot;);\n    body.add(&quot;planet4&quot;,&quot;Mars&quot;);\n    body.add(&quot;planet5&quot;,&quot;Earth&quot;);\n\n    HttpHeaders headers = new HttpHeaders();\n\n\n\n   // headers.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE);\n    HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(body, headers);\n\n    RestTemplate rt = new RestTemplate();\n\n    HttpEntity&lt;String&gt; response = rt.exchange(\n            &quot;http://localhost:8080/GraphClient/helloworld&quot;,\n            HttpMethod.POST,\n            entity,\n            String.class\n    );\n\n    return response.getBody();\n}\n\n\n@RequestMapping(value=&quot;/helloworld&quot;, method=RequestMethod.GET, consumes=MediaType.APPLICATION_JSON_VALUE)\npublic String  helper( @RequestBody HashMap&lt;String,String&gt; values )\n{\n    String acumPlanets = &quot;PLANETS HERE = &quot;;\n    for (Map.Entry&lt;String, String&gt; item : values.entrySet()) {\n        System.out.println(&quot;Key &quot; + item.getKey() + &quot; Value &quot; + item.getValue() );\n        acumPlanets += item.getValue();\n    }\n    return acumPlanets;\n}\n</code></pre>\n<p>Can you realize what I'm doing wrong with the RestTemplate?</p>\n<p>Thanks,</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641499626,"post_id":70612348,"comment_id":124826466,"body_markdown":"I doubt that that are all your dependencies. That class has been added in newer Spring versions and not the version used with Spring Boot 2.4.","body":"I doubt that that are all your dependencies. That class has been added in newer Spring versions and not the version used with Spring Boot 2.4."}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1641506445,"creation_date":1641506445,"answer_id":70614142,"question_id":70612348,"body_markdown":"Have you tried to specify a lower version of dependency?\r\n\r\nI think that issue is with 2.4.X\r\n\r\nFrom what I know 2.3.X will not cause any issues.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup","body":"<p>Have you tried to specify a lower version of dependency?</p>\n<p>I think that issue is with 2.4.X</p>\n<p>From what I know 2.3.X will not cause any issues.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":21675627,"reputation":33,"user_id":15992638,"display_name":"Liam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8886,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641506445,"creation_date":1641495941,"question_id":70612348,"body_markdown":"I am currently trying to upgrade one of my spring applications from java 8 -&gt; 11 and I am getting this error on startup:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n\tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:254)\r\n\tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:267)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1318)\r\n\r\nThese are all my spring dependancies in my pom file:\r\n\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\nAlong with the spring boot starter parent version:\r\n2.4.6\r\n\r\nI am not sure what other information is need to let me know\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup","body":"<p>I am currently trying to upgrade one of my spring applications from java 8 -&gt; 11 and I am getting this error on startup:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\nat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:254)\nat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:267)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1318)\n</code></pre>\n<p>These are all my spring dependancies in my pom file:</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;${springfox.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;${springfox.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Along with the spring boot starter parent version:\n2.4.6</p>\n<p>I am not sure what other information is need to let me know</p>\n"},{"tags":["java","sql","sql-server","database","scenebuilder"],"owner":{"account_id":21032363,"reputation":1,"user_id":15456440,"display_name":"Oussama Essalehi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641506362,"creation_date":1641506362,"question_id":70614128,"body_markdown":"so i have this problem, I&#39;ve been trying to load my data from sql server to java FX(Table View) but it doesnt work, it seems that smthing is missing in my code.\r\nFirst i created an sql connection class to connect with my database then i created another class to load my data to my table view in scene builder\r\n\r\nHere is my data loader code\r\n\r\n    package application;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    \r\n    import TableClasses.Client;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.scene.input.MouseEvent;\r\n    \r\n    public class ClientController {\r\n    \r\n    \t@FXML\r\n        private TableColumn&lt;Client, String&gt; Address;\r\n    \r\n        @FXML\r\n        private TableView&lt;Client&gt; ClientTable;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Client, String&gt; FirstName;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Client, Integer&gt; ID;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Client, String&gt; IDNumber;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Client, String&gt; LastName;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Client, Integer&gt; PhoneNumber;\r\n    \r\n    \tprivate ObservableList&lt;Client&gt; data;\r\n    \r\n    \t@FXML\r\n    void initialize() {\r\n    \t\t\r\n    \tdata=FXCollections.observableArrayList();\r\n    \t\r\n    \t ID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id_client&quot;));\r\n    \t FirstName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_fname&quot;));\r\n         LastName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_lname&quot;));\r\n         Address.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_adress&quot;));\r\n         IDNumber.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_cin&quot;));\r\n         PhoneNumber.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_phone&quot;));\r\n         \r\n         ClientTable.setItems(data);\r\n    \t\r\n    \tgetAll();\r\n    }\r\n    \r\n    public void getAll() {\r\n    \tdata.clear();\r\n    \ttry {\r\n    \t\tConnection connection = SQLconnection.getDBConnection();\r\n    \t\t\r\n    \t\tString sql=&quot;SELECT * FROM `Client`&quot;; \r\n    \t\tPreparedStatement ps=connection.prepareStatement(sql);\r\n    \t\t\r\n    \t\tResultSet results = ps.executeQuery();\r\n    \t\twhile (results.next()) {\r\n    \t\t\tint id_client=results.getInt(&quot;id_client&quot;);\r\n    \t\t\tString client_fname=results.getString(&quot;client_fname&quot;);\r\n    \t\t\tString client_lname=results.getString(&quot;client_lname&quot;);\r\n    \t\t\tString client_adress=results.getString(&quot;client_adress&quot;);\r\n    \t\t\tString client_cin=results.getString(&quot;client_cin&quot;);\r\n    \t\t\tint client_phone=results.getInt(&quot;client_phone&quot;);\r\n    \t\t\tdata.add(new Client(id_client,client_fname,client_lname,client_adress,client_cin,client_phone));\r\n    \t\t\t\r\n    \t\t}\r\n    \t} catch (Exception e) {\r\n    \t}\r\n    }\r\n    \r\n    }\r\n\r\nAnd here is my sql connection code\r\n\r\n    package application;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class SQLconnection {\r\n    public static Connection getDBConnection() {\r\n    \t\tConnection connection = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    \t\t\tconnection = DriverManager.getConnection(&quot;jdbc:sqlserver://DESKTOP-9EA0HN8;database=cabinet_avocat;integratedSecurity=true&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn connection;\r\n    \t}\r\n    \r\n    }\r\n\r\nits my first project with java FX, so thanks :)","title":"Load Data from SQL Server To Table View in Java FX","body":"<p>so i have this problem, I've been trying to load my data from sql server to java FX(Table View) but it doesnt work, it seems that smthing is missing in my code.\nFirst i created an sql connection class to connect with my database then i created another class to load my data to my table view in scene builder</p>\n<p>Here is my data loader code</p>\n<pre><code>package application;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\nimport TableClasses.Client;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.input.MouseEvent;\n\npublic class ClientController {\n\n    @FXML\n    private TableColumn&lt;Client, String&gt; Address;\n\n    @FXML\n    private TableView&lt;Client&gt; ClientTable;\n\n    @FXML\n    private TableColumn&lt;Client, String&gt; FirstName;\n\n    @FXML\n    private TableColumn&lt;Client, Integer&gt; ID;\n\n    @FXML\n    private TableColumn&lt;Client, String&gt; IDNumber;\n\n    @FXML\n    private TableColumn&lt;Client, String&gt; LastName;\n\n    @FXML\n    private TableColumn&lt;Client, Integer&gt; PhoneNumber;\n\n    private ObservableList&lt;Client&gt; data;\n\n    @FXML\nvoid initialize() {\n        \n    data=FXCollections.observableArrayList();\n    \n     ID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id_client&quot;));\n     FirstName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_fname&quot;));\n     LastName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_lname&quot;));\n     Address.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_adress&quot;));\n     IDNumber.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_cin&quot;));\n     PhoneNumber.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;client_phone&quot;));\n     \n     ClientTable.setItems(data);\n    \n    getAll();\n}\n\npublic void getAll() {\n    data.clear();\n    try {\n        Connection connection = SQLconnection.getDBConnection();\n        \n        String sql=&quot;SELECT * FROM `Client`&quot;; \n        PreparedStatement ps=connection.prepareStatement(sql);\n        \n        ResultSet results = ps.executeQuery();\n        while (results.next()) {\n            int id_client=results.getInt(&quot;id_client&quot;);\n            String client_fname=results.getString(&quot;client_fname&quot;);\n            String client_lname=results.getString(&quot;client_lname&quot;);\n            String client_adress=results.getString(&quot;client_adress&quot;);\n            String client_cin=results.getString(&quot;client_cin&quot;);\n            int client_phone=results.getInt(&quot;client_phone&quot;);\n            data.add(new Client(id_client,client_fname,client_lname,client_adress,client_cin,client_phone));\n            \n        }\n    } catch (Exception e) {\n    }\n}\n\n}\n</code></pre>\n<p>And here is my sql connection code</p>\n<pre><code>package application;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport javax.swing.JOptionPane;\n\npublic class SQLconnection {\npublic static Connection getDBConnection() {\n        Connection connection = null;\n        \n        try {\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:sqlserver://DESKTOP-9EA0HN8;database=cabinet_avocat;integratedSecurity=true&quot;);\n        } catch (Exception e) {\n        }\n        \n        return connection;\n    }\n\n}\n</code></pre>\n<p>its my first project with java FX, so thanks :)</p>\n"},{"tags":["java","oop","inheritance","memory-management","polymorphism"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1482886796,"post_id":41353762,"comment_id":69910058,"body_markdown":"Not entirely sure what you&#39;re asking.  The _reference_ `bello` goes on the stack, because it&#39;s local to `main`.  The `Dog` itself goes on the heap because you created it with `new`.  But this is the same for all objects and all local variables that are references to them.  The inheritance makes no difference.","body":"Not entirely sure what you&#39;re asking.  The <i>reference</i> <code>bello</code> goes on the stack, because it&#39;s local to <code>main</code>.  The <code>Dog</code> itself goes on the heap because you created it with <code>new</code>.  But this is the same for all objects and all local variables that are references to them.  The inheritance makes no difference."},{"owner":{"account_id":9926261,"reputation":31,"user_id":7347721,"display_name":"max muster"},"score":0,"creation_date":1482888712,"post_id":41353762,"comment_id":69910371,"body_markdown":"@DavidWallace but won&#39;t it make any difference if the data type of the reference isn&#39;t the same like the the one of the object?","body":"@DavidWallace but won&#39;t it make any difference if the data type of the reference isn&#39;t the same like the the one of the object?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1482888715,"post_id":41353762,"comment_id":69910373,"body_markdown":"No.  The object knows its own `class`, but it doesn&#39;t know the type of the variable that references it.","body":"No.  The object knows its own <code>class</code>, but it doesn&#39;t know the type of the variable that references it."},{"owner":{"account_id":9926261,"reputation":31,"user_id":7347721,"display_name":"max muster"},"score":0,"creation_date":1482889277,"post_id":41353762,"comment_id":69910494,"body_markdown":"@DavidWallace ah okay and there would be also be no difference for the object itsef if the reference type were also Dog?","body":"@DavidWallace ah okay and there would be also be no difference for the object itsef if the reference type were also Dog?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1482889340,"post_id":41353762,"comment_id":69910501,"body_markdown":"Correct.  A `Dog` is a `Dog` regardless of what variables there are that refer to it, and whether those variables are of type `Dog`, or `Animal` or `Object`.","body":"Correct.  A <code>Dog</code> is a <code>Dog</code> regardless of what variables there are that refer to it, and whether those variables are of type <code>Dog</code>, or <code>Animal</code> or <code>Object</code>."},{"owner":{"account_id":9926261,"reputation":31,"user_id":7347721,"display_name":"max muster"},"score":0,"creation_date":1482891077,"post_id":41353762,"comment_id":69910822,"body_markdown":"@DavidWallace Then for what reason do you even have to use a data type(like `Animal` here) for the reference variable, if only the data type of the object (`Dog`) for the object itself (`bello`) counts? Is this for place where the variable is saved on the stack?","body":"@DavidWallace Then for what reason do you even have to use a data type(like <code>Animal</code> here) for the reference variable, if only the data type of the object (<code>Dog</code>) for the object itself (<code>bello</code>) counts? Is this for place where the variable is saved on the stack?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1482891197,"post_id":41353762,"comment_id":69910848,"body_markdown":"Because if you just used `Object` all the time, you&#39;d never be able to call any methods, except those defined in the `Object` class.  The compiler makes sure that you only call methods that are appropriate for the type of the variable.  So for example, suppose the `Animal` class has a method called `eat` and the `Dog` class has a method called `bark`.  Now if you declare `bello` as `Animal`, then you can write `bello.eat()` but the compiler will stop you from writing `bello.bark()`.","body":"Because if you just used <code>Object</code> all the time, you&#39;d never be able to call any methods, except those defined in the <code>Object</code> class.  The compiler makes sure that you only call methods that are appropriate for the type of the variable.  So for example, suppose the <code>Animal</code> class has a method called <code>eat</code> and the <code>Dog</code> class has a method called <code>bark</code>.  Now if you declare <code>bello</code> as <code>Animal</code>, then you can write <code>bello.eat()</code> but the compiler will stop you from writing <code>bello.bark()</code>."},{"owner":{"account_id":9926261,"reputation":31,"user_id":7347721,"display_name":"max muster"},"score":0,"creation_date":1482891900,"post_id":41353762,"comment_id":69910995,"body_markdown":"@DavidWallace Thank you very much for your good answers. Just to be clear so  a data type of a reference variable hasn&#39;t anything to do with the place or adress in the stack but with the methods it can use? Is this concept the same in other languages like c++?","body":"@DavidWallace Thank you very much for your good answers. Just to be clear so  a data type of a reference variable hasn&#39;t anything to do with the place or adress in the stack but with the methods it can use? Is this concept the same in other languages like c++?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1482892020,"post_id":41353762,"comment_id":69911025,"body_markdown":"No, C++ is different.  In C++, the object itself can go on the stack.  In Java, you can only have objects on the heap.","body":"No, C++ is different.  In C++, the object itself can go on the stack.  In Java, you can only have objects on the heap."},{"owner":{"account_id":9926261,"reputation":31,"user_id":7347721,"display_name":"max muster"},"score":0,"creation_date":1482892753,"post_id":41353762,"comment_id":69911160,"body_markdown":"Ah okay but the rest that I asked is true?","body":"Ah okay but the rest that I asked is true?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1482893144,"post_id":41353762,"comment_id":69911248,"body_markdown":"Sure.  Data types of reference variables are only really relevant at compile time.  Their purpose is to stop you from writing code that doesn&#39;t make sense.  Like `myCatFluffy.bark();`","body":"Sure.  Data types of reference variables are only really relevant at compile time.  Their purpose is to stop you from writing code that doesn&#39;t make sense.  Like <code>myCatFluffy.bark();</code>"}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483050807,"creation_date":1483050807,"answer_id":41388121,"question_id":41353762,"body_markdown":"Java defines classes as reference types. The [Java specifications][1] explain how this works:  \r\n\r\n&gt; **4.3.1 Objects**&lt;br/&gt; An  object  is a  class instance  or an  array.&lt;br/&gt; The  reference  values  (often  just   references )  are  **pointers** \r\n&gt; to  these  objects,  and  a special null reference, which refers to no\r\n&gt; object.\r\n\r\nThe language completely hides this implementation detail,  but a reference is a value that is passed (as parameter or as local variable on the the stack, or as object field in the heap) and that allows to find the real object in memory (in the heap).  So when you write:  \r\n\r\n        Animal bello = new Dog();\r\n\r\nthe JVM will allocate a `Dog` object in heap memory and `new` will return the reference to find it.  The assignment just copies the reference into `bello` local variable (the compiler will of course have checked that the types are compatible).  \r\n\r\nThe trick then is in the object layout.To make it simple, the object keeps a track of its real class.  The compiler will produce an astute layout where the layout of a `Dog` object is a an extension to the `Animal` layout.   When you call a method, the method corresponding to the real object&#39;s class will then be called. Of course, in reality, all this is [a little more complex][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/\r\n  [2]: https://zeroturnaround.com/rebellabs/dangerous-code-how-to-be-unsafe-with-java-classes-objects-in-memory/4/","title":"How is the memory management in polymorphism?","body":"<p>Java defines classes as reference types. The <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java specifications</a> explain how this works:  </p>\n\n<blockquote>\n  <p><strong>4.3.1 Objects</strong><br/> An  object  is a  class instance  or an  array.<br/> The  reference  values  (often  just   references )  are  <strong>pointers</strong> \n  to  these  objects,  and  a special null reference, which refers to no\n  object.</p>\n</blockquote>\n\n<p>The language completely hides this implementation detail,  but a reference is a value that is passed (as parameter or as local variable on the the stack, or as object field in the heap) and that allows to find the real object in memory (in the heap).  So when you write:  </p>\n\n<pre><code>    Animal bello = new Dog();\n</code></pre>\n\n<p>the JVM will allocate a <code>Dog</code> object in heap memory and <code>new</code> will return the reference to find it.  The assignment just copies the reference into <code>bello</code> local variable (the compiler will of course have checked that the types are compatible).  </p>\n\n<p>The trick then is in the object layout.To make it simple, the object keeps a track of its real class.  The compiler will produce an astute layout where the layout of a <code>Dog</code> object is a an extension to the <code>Animal</code> layout.   When you call a method, the method corresponding to the real object's class will then be called. Of course, in reality, all this is <a href=\"https://zeroturnaround.com/rebellabs/dangerous-code-how-to-be-unsafe-with-java-classes-objects-in-memory/4/\" rel=\"nofollow noreferrer\">a little more complex</a>.</p>\n"},{"tags":[],"owner":{"account_id":12592088,"reputation":1595,"user_id":9158346,"display_name":"Omar Essam El-Din"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641505906,"creation_date":1641489376,"answer_id":70610968,"question_id":41353762,"body_markdown":" Simply **Parent(base) class** will point to its **Child** extending it ,\r\n and assigning its parent properties &amp; methods implementation from the way that child implementing it\r\n\r\n       //parent class\r\n       public class Animal {\r\n            int x = 5;\r\n            int y = 5;\r\n            void fun() { return &quot;from Animal&quot;;}\r\n        }\r\n\r\n       //child class\r\n        public class Dog extends Animal {\r\n            //constructor\r\n            Dog( ) {   x++; }\r\n\r\n            @override\r\n            void fun() { return &quot;from Dog&quot;;}\r\n        }\r\n        \r\n        public class Test {\r\n            public static void main(String[] args) {\r\n                Animal bello = new Dog();\r\n\r\n                bello.fun(); //return &quot;from Dog&quot;\r\n                bello.x ; //6\r\n                bello.y ; //5\r\n            }\r\n    }\r\n\r\n**I hope this diagram explains it well** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0EeGP.png","title":"How is the memory management in polymorphism?","body":"<p>Simply <strong>Parent(base) class</strong> will point to its <strong>Child</strong> extending it ,\nand assigning its parent properties &amp; methods implementation from the way that child implementing it</p>\n<pre><code>   //parent class\n   public class Animal {\n        int x = 5;\n        int y = 5;\n        void fun() { return &quot;from Animal&quot;;}\n    }\n\n   //child class\n    public class Dog extends Animal {\n        //constructor\n        Dog( ) {   x++; }\n\n        @override\n        void fun() { return &quot;from Dog&quot;;}\n    }\n    \n    public class Test {\n        public static void main(String[] args) {\n            Animal bello = new Dog();\n\n            bello.fun(); //return &quot;from Dog&quot;\n            bello.x ; //6\n            bello.y ; //5\n        }\n}\n</code></pre>\n<p><strong>I hope this diagram explains it well</strong></p>\n<p><a href=\"https://i.stack.imgur.com/0EeGP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0EeGP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9926261,"reputation":31,"user_id":7347721,"display_name":"max muster"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1157,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1641505906,"creation_date":1482883840,"question_id":41353762,"body_markdown":"How is something like this saved in memory(like stack, heap etc.)?\r\n\r\n   \r\n\r\n    public class Animal {\r\n    \t// Stuff\r\n    }\r\n    \r\n    public class Dog extends Animal {\r\n    \t// Stuff\r\n    }\r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tAnimal bello = new Dog();\r\n    \t}\r\n    }\r\n\r\nhow is this: `Animal bello = new Dog();`  managed in *terms of memory*?\r\nHow is this saved in memory when `bello` is a reference of type `Animal` but the objects it&#39;s pointing to is of type `Dog`","title":"How is the memory management in polymorphism?","body":"<p>How is something like this saved in memory(like stack, heap etc.)?</p>\n\n<pre><code>public class Animal {\n    // Stuff\n}\n\npublic class Dog extends Animal {\n    // Stuff\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        Animal bello = new Dog();\n    }\n}\n</code></pre>\n\n<p>how is this: <code>Animal bello = new Dog();</code>  managed in <em>terms of memory</em>?\nHow is this saved in memory when <code>bello</code> is a reference of type <code>Animal</code> but the objects it's pointing to is of type <code>Dog</code></p>\n"},{"tags":["java","wsdl"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1641512079,"post_id":70614050,"comment_id":124830100,"body_markdown":"What&#39;s the data type of the column in the database?  It looks to me like the value stored in the database is being interpreted somewhere along the way as a UTC date, in which case it is being read correctly.  You could try using `TIMESTAMP WITHOUT TIME ZONE` as the database time zone; or you could try reading the date into a `LocalDate` object.  Without knowing what&#39;s going on in your database, it&#39;s hard to know which of those will do the trick.","body":"What&#39;s the data type of the column in the database?  It looks to me like the value stored in the database is being interpreted somewhere along the way as a UTC date, in which case it is being read correctly.  You could try using <code>TIMESTAMP WITHOUT TIME ZONE</code> as the database time zone; or you could try reading the date into a <code>LocalDate</code> object.  Without knowing what&#39;s going on in your database, it&#39;s hard to know which of those will do the trick."},{"owner":{"account_id":13826190,"reputation":493,"user_id":9980464,"display_name":"rolo"},"score":0,"creation_date":1641522604,"post_id":70614050,"comment_id":124832007,"body_markdown":"Thanks for the answer. The database is mysql, the type of the column is &#39;date&#39;. I cant use localdate because is java 6.\nI will try with TIMESTAMP WITHOUT TIME ZONE","body":"Thanks for the answer. The database is mysql, the type of the column is &#39;date&#39;. I cant use localdate because is java 6. I will try with TIMESTAMP WITHOUT TIME ZONE"}],"owner":{"account_id":13826190,"reputation":493,"user_id":9980464,"display_name":"rolo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641505895,"creation_date":1641505895,"question_id":70614050,"body_markdown":"I have a wsdl client, the problem is with one of the methods that returns an entity, this entity have a Date type and always subtract one day from the date.\r\n\r\nThe field in the entity is defined like this:\r\n\r\n    @XmlSchemaType(name = &quot;dateTime&quot;)\r\n    protected Date intDate;\r\n\r\nIn the backend the field is defined like this:\r\n\r\n    @Column(name = &quot;int_date&quot;)\r\n    @Temporal(TemporalType.DATE)\r\n    private Date intDate;\r\n\r\nIf in the database the date is &#39;2022-01-10&#39; the value returned in the client is &#39;Sun Jan 09 21:00:00 UYT 2022&#39; (printed with toString())\r\n\r\nWhats wrong with the conversion?\r\n\r\nThe code of the client was generated with the command wsimport","title":"WSDL client return wrong date in entity","body":"<p>I have a wsdl client, the problem is with one of the methods that returns an entity, this entity have a Date type and always subtract one day from the date.</p>\n<p>The field in the entity is defined like this:</p>\n<pre><code>@XmlSchemaType(name = &quot;dateTime&quot;)\nprotected Date intDate;\n</code></pre>\n<p>In the backend the field is defined like this:</p>\n<pre><code>@Column(name = &quot;int_date&quot;)\n@Temporal(TemporalType.DATE)\nprivate Date intDate;\n</code></pre>\n<p>If in the database the date is '2022-01-10' the value returned in the client is 'Sun Jan 09 21:00:00 UYT 2022' (printed with toString())</p>\n<p>Whats wrong with the conversion?</p>\n<p>The code of the client was generated with the command wsimport</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641505712,"creation_date":1641505712,"answer_id":70614026,"question_id":70613815,"body_markdown":"```java\r\npublic static List&lt;Person&gt; mergeByName(List&lt;Person&gt; persons) {\r\n    return persons.stream().collect(Collectors.groupingBy(Person::getName,\r\n            Collectors.summingInt(Person::getPoints)))\r\n                  .entrySet().stream()\r\n                  .map(entry -&gt; new Person(entry.getKey(), entry.getValue()))\r\n                  .collect(Collectors.toList());\r\n\r\n}\r\n```","title":"Filter a list processing attributes of the objects contained in the list","body":"<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Person&gt; mergeByName(List&lt;Person&gt; persons) {\n    return persons.stream().collect(Collectors.groupingBy(Person::getName,\n            Collectors.summingInt(Person::getPoints)))\n                  .entrySet().stream()\n                  .map(entry -&gt; new Person(entry.getKey(), entry.getValue()))\n                  .collect(Collectors.toList());\n\n}\n</code></pre>\n"}],"owner":{"account_id":6113295,"reputation":128,"user_id":4769095,"accept_rate":42,"display_name":"pablo casanovas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641551944,"accepted_answer_id":70614026,"answer_count":1,"score":0,"last_activity_date":1641505712,"creation_date":1641504404,"question_id":70613815,"body_markdown":"I have a list of objects of the class Person. Person has 2 attributes: String name, int points\r\n\r\nMy original list contains the following objects:\r\n\r\n    person1 = Person(&quot;Samuel&quot;, 5)\r\n    person2 = Person(&quot;Maria&quot;, 3)\r\n    person3 = Person(&quot;Samuel&quot;, 3)\r\n    person4 = Person(&quot;Maria&quot;, 6)\r\n    person5 = Person(&quot;Clara&quot;, 1)\r\n\r\nI want to process my original list and get the following one:\r\n\r\n    person1 = Person(&quot;Samuel&quot;, 8)\r\n    person2 = Person(&quot;Maria&quot;, 9)\r\n    person3 = Person(&quot;Clara&quot;, 1);\r\n\r\nSo only objects with unique name are allowed. In case that one or more objects have the same name, the points of those objects have to be summed\r\n\r\nAny idea how can I proceed?","title":"Filter a list processing attributes of the objects contained in the list","body":"<p>I have a list of objects of the class Person. Person has 2 attributes: String name, int points</p>\n<p>My original list contains the following objects:</p>\n<pre><code>person1 = Person(&quot;Samuel&quot;, 5)\nperson2 = Person(&quot;Maria&quot;, 3)\nperson3 = Person(&quot;Samuel&quot;, 3)\nperson4 = Person(&quot;Maria&quot;, 6)\nperson5 = Person(&quot;Clara&quot;, 1)\n</code></pre>\n<p>I want to process my original list and get the following one:</p>\n<pre><code>person1 = Person(&quot;Samuel&quot;, 8)\nperson2 = Person(&quot;Maria&quot;, 9)\nperson3 = Person(&quot;Clara&quot;, 1);\n</code></pre>\n<p>So only objects with unique name are allowed. In case that one or more objects have the same name, the points of those objects have to be summed</p>\n<p>Any idea how can I proceed?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1641478262,"post_id":70608381,"comment_id":124817877,"body_markdown":"It means that [`n` is negative](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NegativeArraySizeException.html).","body":"It means that <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NegativeArraySizeException.html\" rel=\"nofollow noreferrer\"><code>n</code> is negative</a>."},{"owner":{"account_id":23846768,"reputation":1,"user_id":17851168,"display_name":"Matt"},"score":0,"creation_date":1641478319,"post_id":70608381,"comment_id":124817904,"body_markdown":"@AndyTurner how? How can we solve this issue sir?","body":"@AndyTurner how? How can we solve this issue sir?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1641478384,"post_id":70608381,"comment_id":124817935,"body_markdown":"&quot;how?&quot; because it&#39;s reading a negative number from the scanner. &quot;How can we solve this issue&quot; you need to understand what is being passed into your program. I don&#39;t know.","body":"&quot;how?&quot; because it&#39;s reading a negative number from the scanner. &quot;How can we solve this issue&quot; you need to understand what is being passed into your program. I don&#39;t know."},{"owner":{"account_id":23846768,"reputation":1,"user_id":17851168,"display_name":"Matt"},"score":0,"creation_date":1641478437,"post_id":70608381,"comment_id":124817960,"body_markdown":"The condition was to show &quot;invalid number of elements&quot; when a negative number is entered.","body":"The condition was to show &quot;invalid number of elements&quot; when a negative number is entered."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1641478480,"post_id":70608381,"comment_id":124817978,"body_markdown":"OK, so in between the `n = sc.nextInt();` and `int arr[] = new int[n];` lines, you need to do something more.","body":"OK, so in between the <code>n = sc.nextInt();</code> and <code>int arr[] = new int[n];</code> lines, you need to do something more."},{"owner":{"account_id":23846768,"reputation":1,"user_id":17851168,"display_name":"Matt"},"score":0,"creation_date":1641478576,"post_id":70608381,"comment_id":124818018,"body_markdown":"@AndyTurner while(n&gt;0) ?","body":"@AndyTurner while(n&gt;0) ?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1641478654,"post_id":70608381,"comment_id":124818042,"body_markdown":"What happened when you tried that?","body":"What happened when you tried that?"},{"owner":{"account_id":23846768,"reputation":1,"user_id":17851168,"display_name":"Matt"},"score":0,"creation_date":1641478997,"post_id":70608381,"comment_id":124818183,"body_markdown":"It shows Errors.","body":"It shows Errors."},{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1641479832,"post_id":70608381,"comment_id":124818509,"body_markdown":"@Matt Have you considered using a statement to check if n is a valid number?","body":"@Matt Have you considered using a statement to check if n is a valid number?"},{"owner":{"account_id":23846768,"reputation":1,"user_id":17851168,"display_name":"Matt"},"score":0,"creation_date":1641480203,"post_id":70608381,"comment_id":124818655,"body_markdown":"The problem is, when i run the program and provide the inputs(even a negative no.), it doesn&#39;t show any error, but when the compiler checks with its own test cases, it shows the above error. I&#39;m confused.","body":"The problem is, when i run the program and provide the inputs(even a negative no.), it doesn&#39;t show any error, but when the compiler checks with its own test cases, it shows the above error. I&#39;m confused."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1641483453,"post_id":70608381,"comment_id":124820075,"body_markdown":"In between when you read `n` and when you create the array, you do not do anything to validate that `n` is positive. Also, during the loop, you keep checking `arr[0]` to see if it is zero or negative. But these are the constraints you should be putting on `n`, not on `arr[0]`.","body":"In between when you read <code>n</code> and when you create the array, you do not do anything to validate that <code>n</code> is positive. Also, during the loop, you keep checking <code>arr[0]</code> to see if it is zero or negative. But these are the constraints you should be putting on <code>n</code>, not on <code>arr[0]</code>."},{"owner":{"account_id":23846768,"reputation":1,"user_id":17851168,"display_name":"Matt"},"score":0,"creation_date":1641486168,"post_id":70608381,"comment_id":124821202,"body_markdown":"I put arr[0] because condition said that if the first input was a 0 or a negative then we have to show the respective output...","body":"I put arr[0] because condition said that if the first input was a 0 or a negative then we have to show the respective output..."}],"answers":[{"tags":[],"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641505023,"creation_date":1641505023,"answer_id":70613911,"question_id":70608381,"body_markdown":"The exception `java.lang.NegativeArraySizeException` means that you attempted to create an array with a negative size. An array with a negative size does not make sense, so it throws this exception.\r\n\r\nThe exception must be thrown on the line `int arr[] = new int[n];` since this is the only place where you created an array, and the cause of the exception is that `n` is negative. Since you define `n` as `n = sc.nextInt();`, `n` is negative when a negative number is passed into stdin (the command line).\r\n\r\nIt looks from your code that `n` is supposed to be the number of elements to be summed; however, when you check to see if there is a negative number of elements, you write `if (arr[0] &lt; 0)`. This is checking if the first element of the array is less than zero which is not the same as `n`: `n` is the length of the array. To prevent a `NegativeArraySizeException` you need to check if `n` is negative before you attempt to create an array of size `n`.\r\n\r\nAlso I don&#39;t know why you put\r\n\r\n    if (arr[0] == 0) {\r\n\r\n           System.out.println(&quot;No elements to sum&quot;);\r\n\r\n           break;\r\n\r\n     }\r\n\r\n     else if (arr[0] &lt; 0) {\r\n\r\n           System.out.println(&quot;Invalid number of elements&quot;);\r\n\r\n           break;\r\n\r\n     }\r\ninside the loop: there is no point in checking for each iteration since the value of `arr[0]` (and `n`) is not going to change.","title":"Input array shows exception in thread &quot;main&quot; java.lang.negativearraysizeexception","body":"<p>The exception <code>java.lang.NegativeArraySizeException</code> means that you attempted to create an array with a negative size. An array with a negative size does not make sense, so it throws this exception.</p>\n<p>The exception must be thrown on the line <code>int arr[] = new int[n];</code> since this is the only place where you created an array, and the cause of the exception is that <code>n</code> is negative. Since you define <code>n</code> as <code>n = sc.nextInt();</code>, <code>n</code> is negative when a negative number is passed into stdin (the command line).</p>\n<p>It looks from your code that <code>n</code> is supposed to be the number of elements to be summed; however, when you check to see if there is a negative number of elements, you write <code>if (arr[0] &lt; 0)</code>. This is checking if the first element of the array is less than zero which is not the same as <code>n</code>: <code>n</code> is the length of the array. To prevent a <code>NegativeArraySizeException</code> you need to check if <code>n</code> is negative before you attempt to create an array of size <code>n</code>.</p>\n<p>Also I don't know why you put</p>\n<pre><code>if (arr[0] == 0) {\n\n       System.out.println(&quot;No elements to sum&quot;);\n\n       break;\n\n }\n\n else if (arr[0] &lt; 0) {\n\n       System.out.println(&quot;Invalid number of elements&quot;);\n\n       break;\n\n }\n</code></pre>\n<p>inside the loop: there is no point in checking for each iteration since the value of <code>arr[0]</code> (and <code>n</code>) is not going to change.</p>\n"}],"owner":{"account_id":23846768,"reputation":1,"user_id":17851168,"display_name":"Matt"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":739,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641505023,"creation_date":1641478138,"question_id":70608381,"body_markdown":"It works fine on VS Code, but when I run it on the compiler required for our training exam ,it shows the above error. What could be the reason?\r\n\r\nWhat does it mean? I&#39;m new to programming languages. So please ignore my mistake.\r\n\r\n\r\n    \r\n        import java.util.Scanner;\r\n    \r\n        public class sum {\r\n        public static void main(String[] args) {\r\n    \r\n            // Write solution here\r\n    \r\n            int n = 0, sum = 0;\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            n = sc.nextInt();\r\n    \r\n            int arr[] = new int[n];\r\n    \r\n            for (int i = 0; i &lt; n; i++) {\r\n    \r\n                arr[i] = sc.nextInt();\r\n    \r\n                if (arr[0] == 0) {\r\n    \r\n                    System.out.println(&quot;No elements to sum&quot;);\r\n    \r\n                    break;\r\n    \r\n                }\r\n    \r\n                else if (arr[0] &lt; 0) {\r\n    \r\n                    System.out.println(&quot;Invalid number of elements&quot;);\r\n    \r\n                    break;\r\n    \r\n                }\r\n    \r\n                else {\r\n    \r\n                    sum = sum + arr[i];\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n            System.out.println(sum);\r\n            sc.close();\r\n        }\r\n    }","title":"Input array shows exception in thread &quot;main&quot; java.lang.negativearraysizeexception","body":"<p>It works fine on VS Code, but when I run it on the compiler required for our training exam ,it shows the above error. What could be the reason?</p>\n<p>What does it mean? I'm new to programming languages. So please ignore my mistake.</p>\n<pre><code>    import java.util.Scanner;\n\n    public class sum {\n    public static void main(String[] args) {\n\n        // Write solution here\n\n        int n = 0, sum = 0;\n\n        Scanner sc = new Scanner(System.in);\n\n        n = sc.nextInt();\n\n        int arr[] = new int[n];\n\n        for (int i = 0; i &lt; n; i++) {\n\n            arr[i] = sc.nextInt();\n\n            if (arr[0] == 0) {\n\n                System.out.println(&quot;No elements to sum&quot;);\n\n                break;\n\n            }\n\n            else if (arr[0] &lt; 0) {\n\n                System.out.println(&quot;Invalid number of elements&quot;);\n\n                break;\n\n            }\n\n            else {\n\n                sum = sum + arr[i];\n\n            }\n\n        }\n\n        System.out.println(sum);\n        sc.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","keycloak","event-listener"],"answers":[{"tags":[],"owner":{"account_id":15914325,"reputation":71,"user_id":11534590,"display_name":"Micah Ludwick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641504720,"creation_date":1641504720,"answer_id":70613866,"question_id":70610763,"body_markdown":"I am providing this as an answer to my issue for anyone else who may be running into this issue.\r\n\r\nThe issue I was running into was documented as an enhancement [here](https://issues.redhat.com/browse/KEYCLOAK-18700). I was running Keycloak v15.0.2 when I experienced this issue. This has since been fixed in the latest version of Keycloak, v16.1.0.","title":"Keycloak custom Event Listener SPI: UPDATE_PROFILE event details returns null for changes to custom attributes","body":"<p>I am providing this as an answer to my issue for anyone else who may be running into this issue.</p>\n<p>The issue I was running into was documented as an enhancement <a href=\"https://issues.redhat.com/browse/KEYCLOAK-18700\" rel=\"nofollow noreferrer\">here</a>. I was running Keycloak v15.0.2 when I experienced this issue. This has since been fixed in the latest version of Keycloak, v16.1.0.</p>\n"}],"owner":{"account_id":15914325,"reputation":71,"user_id":11534590,"display_name":"Micah Ludwick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641504720,"creation_date":1641488381,"question_id":70610763,"body_markdown":"I am working on a custom Event Listener SPI for Keycloak. The event listener works; however, I am having issues with getting the details of the UPDATE_PROFILE event type. When using `event.getDetails()` which should return a Map of the details of the event, it instead returns `null`.\r\n\r\nI am trying to get the details of what fields were updated by the user, their old values, and their new values for auditing purposes.\r\n\r\nThe code I currently have for trying to log the event details is the following:\r\n```\r\nlogger.info(&quot;Got an event of type: {}&quot;, event.getType());\r\nlogger.info(&quot;Event details:&quot;);\r\nif (event.getDetails() != null) {\r\n   for (String key : event.getDetails().keySet()) {\r\n      logger.info(&quot;Key: {}, Value: {}&quot;, key, event.getDetails().get(key));\r\n   }\r\n}\r\n\r\n...\r\n\r\nswitch (event.getType()) {\r\n\tcase UPDATE_PROFILE:\r\n\t\tlogger.info(&quot;User updated his/her profile&quot;);\r\n\t\tlogger.info(&quot;UPDATE_PROFILE event details: {}&quot;, event.getDetails());\r\n\t\tbreak;\r\n```\r\nWith the above code, after updating the profile, the logs show this:&lt;br&gt;\r\n[![Keycloak event listener log output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yfT3P.png\r\n\r\n**EDIT:**\r\nIt logs changes only to fields that existed in the base Keycloak theme (email, first name, and last name). Any changes to any of the custom fields we added to our custom theme is when the event details are null and it does not log anything. \r\n\r\nAny help is greatly appreciated.","title":"Keycloak custom Event Listener SPI: UPDATE_PROFILE event details returns null for changes to custom attributes","body":"<p>I am working on a custom Event Listener SPI for Keycloak. The event listener works; however, I am having issues with getting the details of the UPDATE_PROFILE event type. When using <code>event.getDetails()</code> which should return a Map of the details of the event, it instead returns <code>null</code>.</p>\n<p>I am trying to get the details of what fields were updated by the user, their old values, and their new values for auditing purposes.</p>\n<p>The code I currently have for trying to log the event details is the following:</p>\n<pre><code>logger.info(&quot;Got an event of type: {}&quot;, event.getType());\nlogger.info(&quot;Event details:&quot;);\nif (event.getDetails() != null) {\n   for (String key : event.getDetails().keySet()) {\n      logger.info(&quot;Key: {}, Value: {}&quot;, key, event.getDetails().get(key));\n   }\n}\n\n...\n\nswitch (event.getType()) {\n    case UPDATE_PROFILE:\n        logger.info(&quot;User updated his/her profile&quot;);\n        logger.info(&quot;UPDATE_PROFILE event details: {}&quot;, event.getDetails());\n        break;\n</code></pre>\n<p>With the above code, after updating the profile, the logs show this:<br>\n<a href=\"https://i.stack.imgur.com/yfT3P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfT3P.png\" alt=\"Keycloak event listener log output\" /></a></p>\n<p><strong>EDIT:</strong>\nIt logs changes only to fields that existed in the base Keycloak theme (email, first name, and last name). Any changes to any of the custom fields we added to our custom theme is when the event details are null and it does not log anything.</p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","ms-word","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":952545,"reputation":101,"user_id":978407,"display_name":"tsd.tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466152058,"creation_date":1466152058,"answer_id":37876661,"question_id":37028935,"body_markdown":"After some intense research, especially about Open Packaging Conventions, I found the answer by myself. There is no &quot;getThumbnai()&quot; convenience method in XWPF Document API. The thumbnail must be extract via the specific package relationship:\r\n\r\n    XWPFDocument wordDocument = new XWPFDocument(new FileInputStream(docxFile));\r\n\r\n    ArrayList&lt;PackagePart&gt; packageParts= wordDocument.getPackage().getPartsByRelationshipType\r\n    (&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/thumbnail&quot;);\r\n\r\n    PackagePart packagePart = packageParts.get(0);\r\n    FileOutputStream fos = new FileOutputStream(&quot;c:\\\\temp\\\\thumb.emf&quot;);\r\n    IOUtils.copy(packagePart.getInputStream(), fos);\r\n","title":"Get thumbnail of word in java using Apache POI with XWPF","body":"<p>After some intense research, especially about Open Packaging Conventions, I found the answer by myself. There is no \"getThumbnai()\" convenience method in XWPF Document API. The thumbnail must be extract via the specific package relationship:</p>\n\n<pre><code>XWPFDocument wordDocument = new XWPFDocument(new FileInputStream(docxFile));\n\nArrayList&lt;PackagePart&gt; packageParts= wordDocument.getPackage().getPartsByRelationshipType\n(\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/thumbnail\");\n\nPackagePart packagePart = packageParts.get(0);\nFileOutputStream fos = new FileOutputStream(\"c:\\\\temp\\\\thumb.emf\");\nIOUtils.copy(packagePart.getInputStream(), fos);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466520229,"creation_date":1466520229,"answer_id":37947584,"question_id":37028935,"body_markdown":"You need to upgrade you version of Apache POI! You need to use [Apache POI 3.15 beta 2 or newer](http://poi.apache.org/changes.html#3.15-beta2)\r\n\r\nOn those newer versions, you&#39;ll find a few Thumbnail-related methods on [POIXMLProperties](https://poi.apache.org/apidocs/org/apache/poi/POIXMLProperties.html), such as [getThumbnailFilename()](https://poi.apache.org/apidocs/org/apache/poi/POIXMLProperties.html#getThumbnailFilename()) and [getThumbnailImage()](https://poi.apache.org/apidocs/org/apache/poi/POIXMLProperties.html#getThumbnailImage())\r\n\r\nTo save the thumbnail image to a file, with XWPF, you&#39;d do something like:\r\n\r\n    XWPFDocument wordDocument = new XWPFDocument(new FileInputStream(docxFile));\r\n    POIXMLProperties props = workDocument.getProperties();\r\n\r\n    String thumbnail = props.getThumbnailFilename();\r\n    if (thumbnail == null) {\r\n       // No thumbnail\r\n    } else {\r\n       FileOutputStream fos = new FileOutputStream(&quot;c:\\\\temp\\\\&quot;+thumbnail);\r\n       IOUtils.copy(props.getThumbnailImage(), fos);\r\n    }\r\n","title":"Get thumbnail of word in java using Apache POI with XWPF","body":"<p>You need to upgrade you version of Apache POI! You need to use <a href=\"http://poi.apache.org/changes.html#3.15-beta2\" rel=\"nofollow\">Apache POI 3.15 beta 2 or newer</a></p>\n\n<p>On those newer versions, you'll find a few Thumbnail-related methods on <a href=\"https://poi.apache.org/apidocs/org/apache/poi/POIXMLProperties.html\" rel=\"nofollow\">POIXMLProperties</a>, such as <a href=\"https://poi.apache.org/apidocs/org/apache/poi/POIXMLProperties.html#getThumbnailFilename()\" rel=\"nofollow\">getThumbnailFilename()</a> and <a href=\"https://poi.apache.org/apidocs/org/apache/poi/POIXMLProperties.html#getThumbnailImage()\" rel=\"nofollow\">getThumbnailImage()</a></p>\n\n<p>To save the thumbnail image to a file, with XWPF, you'd do something like:</p>\n\n<pre><code>XWPFDocument wordDocument = new XWPFDocument(new FileInputStream(docxFile));\nPOIXMLProperties props = workDocument.getProperties();\n\nString thumbnail = props.getThumbnailFilename();\nif (thumbnail == null) {\n   // No thumbnail\n} else {\n   FileOutputStream fos = new FileOutputStream(\"c:\\\\temp\\\\\"+thumbnail);\n   IOUtils.copy(props.getThumbnailImage(), fos);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2890337,"reputation":2345,"user_id":2479282,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641504512,"creation_date":1641414991,"answer_id":70599293,"question_id":37028935,"body_markdown":"There&#39;s a JVM library for making thumbnails, [Thumbnails4j][1] (I&#39;m a maintainer, but it&#39;s owned by [Elastic][2]), that uses POI under the hood for docx files.\r\n\r\n```\r\nFile input = new File(&quot;/path/to/my_file.docx&quot;);\r\nThumbnailer thumbnailer = new DOCXThumbnailer();\r\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\r\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\r\n```\r\n\r\n\r\n  [1]: https://github.com/elastic/thumbnails4j\r\n  [2]: https://elastic.co","title":"Get thumbnail of word in java using Apache POI with XWPF","body":"<p>There's a JVM library for making thumbnails, <a href=\"https://github.com/elastic/thumbnails4j\" rel=\"nofollow noreferrer\">Thumbnails4j</a> (I'm a maintainer, but it's owned by <a href=\"https://elastic.co\" rel=\"nofollow noreferrer\">Elastic</a>), that uses POI under the hood for docx files.</p>\n<pre><code>File input = new File(&quot;/path/to/my_file.docx&quot;);\nThumbnailer thumbnailer = new DOCXThumbnailer();\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\n</code></pre>\n"}],"owner":{"account_id":952545,"reputation":101,"user_id":978407,"display_name":"tsd.tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641504512,"creation_date":1462367712,"question_id":37028935,"body_markdown":"this question deals with getting the thumbnail of a word doc using HWPF:\r\n\r\nhttps://stackoverflow.com/questions/13673337/get-thumbnail-of-word-in-java-using-apache-poi\r\n\r\nI want to do this with XWPF - the Apache POI API for word xml documents (.docx). There is no getThumbnail() method, or similar. How can I do this? I want to extract the embedded thumbnail generated by Word using the &quot;generate thumbnail&quot; option in the &quot;Save As...&quot; Dialog - which works fine for .doc documents with HWPF.\r\n","title":"Get thumbnail of word in java using Apache POI with XWPF","body":"<p>this question deals with getting the thumbnail of a word doc using HWPF:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/13673337/get-thumbnail-of-word-in-java-using-apache-poi\">get thumbnail of word in java using Apache POI</a></p>\n\n<p>I want to do this with XWPF - the Apache POI API for word xml documents (.docx). There is no getThumbnail() method, or similar. How can I do this? I want to extract the embedded thumbnail generated by Word using the \"generate thumbnail\" option in the \"Save As...\" Dialog - which works fine for .doc documents with HWPF.</p>\n"},{"tags":["java","css","fullcalendar","fullcalendar-5"],"comments":[{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1641166790,"post_id":70545955,"comment_id":124731828,"body_markdown":"Not reproducible - demo: https://codepen.io/ADyson82/pen/ExwEJqd . If you can provide a [mre] of this issue in practice, we can perhaps assist further. Just the isolated snippets you&#39;ve shown do not, by themselves, demonstrate the problem.","body":"Not reproducible - demo: <a href=\"https://codepen.io/ADyson82/pen/ExwEJqd\" rel=\"nofollow noreferrer\">codepen.io/ADyson82/pen/ExwEJqd</a> . If you can provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of this issue in practice, we can perhaps assist further. Just the isolated snippets you&#39;ve shown do not, by themselves, demonstrate the problem."},{"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"score":0,"creation_date":1641337605,"post_id":70545955,"comment_id":124778496,"body_markdown":"@ADyson This is my sample code; however, it is client side not server side. My issue is with passing the parameter from server side and I do not know how to reproduce that in an example. https://codepen.io/Glyndwr/pen/RwLJbvR","body":"@ADyson This is my sample code; however, it is client side not server side. My issue is with passing the parameter from server side and I do not know how to reproduce that in an example. <a href=\"https://codepen.io/Glyndwr/pen/RwLJbvR\" rel=\"nofollow noreferrer\">codepen.io/Glyndwr/pen/RwLJbvR</a>"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1641338380,"post_id":70545955,"comment_id":124778668,"body_markdown":"Ok, so please update the question to show how, currently you&#39;re passing that value from the server-side - clearly something is not right, but there isn&#39;t enough detail. I don&#39;t even know what server-side language you&#39;re using! Presumably you are getting the server-side  to output the string `[&quot;cssItalic&quot;]` somehow into the fullcalendar config, but it isn&#39;t doing it the way you expected. Can you show the code you&#39;re using for that, in context?","body":"Ok, so please update the question to show how, currently you&#39;re passing that value from the server-side - clearly something is not right, but there isn&#39;t enough detail. I don&#39;t even know what server-side language you&#39;re using! Presumably you are getting the server-side  to output the string <code>[&quot;cssItalic&quot;]</code> somehow into the fullcalendar config, but it isn&#39;t doing it the way you expected. Can you show the code you&#39;re using for that, in context?"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1641373840,"post_id":70545955,"comment_id":124785466,"body_markdown":"What language is it? C#? Java? Please add a tag. Anyway, given you&#39;re building an object in the server-side code, I expect you should actually add the value as an array (contaning one string) in that language. Then it, along with the other values, it will all get JSON-encoded together when the event is output. I suspect if you look at what the final JSON of the event looks like with your current code, you&#39;d probably observe that the cssString has been double-encoded, and that&#39;s probably why it&#39;s failing.","body":"What language is it? C#? Java? Please add a tag. Anyway, given you&#39;re building an object in the server-side code, I expect you should actually add the value as an array (contaning one string) in that language. Then it, along with the other values, it will all get JSON-encoded together when the event is output. I suspect if you look at what the final JSON of the event looks like with your current code, you&#39;d probably observe that the cssString has been double-encoded, and that&#39;s probably why it&#39;s failing."}],"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641504471,"creation_date":1640988810,"question_id":70545955,"body_markdown":"I am trying to add classes to my Event in FullCalendar version 5. When I pass to classNames:\r\n\r\n    cssItalic\r\n\r\nIt works. However when I pass:\r\n\r\n    [&quot;cssItalic&quot;]\r\n\r\nI does not work (i.e., the Title is not italicised). I have also tried:\r\n\r\n    [&#39;cssItalic&#39;]\r\n\r\nI have noticed that many questions/answers on this use className (i.e., without the &#39;s&#39;).\r\n\r\nThe reason I need to resolve this is that I want to pass more than one css, for instance:\r\n\r\n    [&quot;cssItalic&quot;, &quot;cssUnderline&quot;]\r\n\r\nI am using MySQL and java on the server side and passing as JSON. For this test I am using the code below:\r\n\r\n    String cssString2 = &quot;[\\&#39;cssItalic\\&#39;]&quot;;\r\n\r\n    CalendarEvent calendarEventDtls = new CalendarEvent(\r\n    \tencoded_pat_id,\r\n    \tresult.getString(&quot;name&quot;),\r\n    \tresult.getString(&quot;daysOfWeek&quot;),\r\n    \tresult.getString(&quot;stt_start_date&quot;),\r\n    \tresult.getString(&quot;stt_end_date&quot;),\r\n    \tresult.getString(&quot;stt_start_time&quot;),\r\n    \tresult.getString(&quot;stt_end_time&quot;),\r\n    \tresult.getString(&quot;stt_colour&quot;),\r\n    \tcssString2,\r\n    \tencoded_stt_id,\r\n    \tresult.getString(&quot;icon&quot;));\r\n    calendarEventList.add(calendarEventDtls);\r\n\r\nWhere cssString2 is what ever I am trying to test:\r\n\r\n    String cssString2 = &quot;[\\&quot;cssItalic\\&quot;]&quot;;\r\n    String cssString2 = &quot;[\\&#39;cssItalic\\&#39;]&quot;;\r\n    String cssString2 = &quot;[cssItalic]&quot;;\r\n    String cssString2 = &quot;cssItalic&quot;;\r\n    String cssString2 = &quot;[\\&#39;cssItalic\\&#39;, \\&#39;csscssUnderline\\&#39;]&quot;;\r\n\r\nEverything else is working as I expect.\r\n\r\n","title":"FullCalendar 5 passing classes from the server side","body":"<p>I am trying to add classes to my Event in FullCalendar version 5. When I pass to classNames:</p>\n<pre><code>cssItalic\n</code></pre>\n<p>It works. However when I pass:</p>\n<pre><code>[&quot;cssItalic&quot;]\n</code></pre>\n<p>I does not work (i.e., the Title is not italicised). I have also tried:</p>\n<pre><code>['cssItalic']\n</code></pre>\n<p>I have noticed that many questions/answers on this use className (i.e., without the 's').</p>\n<p>The reason I need to resolve this is that I want to pass more than one css, for instance:</p>\n<pre><code>[&quot;cssItalic&quot;, &quot;cssUnderline&quot;]\n</code></pre>\n<p>I am using MySQL and java on the server side and passing as JSON. For this test I am using the code below:</p>\n<pre><code>String cssString2 = &quot;[\\'cssItalic\\']&quot;;\n\nCalendarEvent calendarEventDtls = new CalendarEvent(\n    encoded_pat_id,\n    result.getString(&quot;name&quot;),\n    result.getString(&quot;daysOfWeek&quot;),\n    result.getString(&quot;stt_start_date&quot;),\n    result.getString(&quot;stt_end_date&quot;),\n    result.getString(&quot;stt_start_time&quot;),\n    result.getString(&quot;stt_end_time&quot;),\n    result.getString(&quot;stt_colour&quot;),\n    cssString2,\n    encoded_stt_id,\n    result.getString(&quot;icon&quot;));\ncalendarEventList.add(calendarEventDtls);\n</code></pre>\n<p>Where cssString2 is what ever I am trying to test:</p>\n<pre><code>String cssString2 = &quot;[\\&quot;cssItalic\\&quot;]&quot;;\nString cssString2 = &quot;[\\'cssItalic\\']&quot;;\nString cssString2 = &quot;[cssItalic]&quot;;\nString cssString2 = &quot;cssItalic&quot;;\nString cssString2 = &quot;[\\'cssItalic\\', \\'csscssUnderline\\']&quot;;\n</code></pre>\n<p>Everything else is working as I expect.</p>\n"},{"tags":["java","pdf","thumbnails","image-generation"],"comments":[{"owner":{"display_name":"user319799"},"score":0,"creation_date":1274035126,"post_id":2844961,"comment_id":2887798,"body_markdown":"See if [jPod](http://sourceforge.net/projects/jpodlib/) can do that, I&#39;d bet it can.  (Not an answer, as it is just a suggestion.)","body":"See if <a href=\"http://sourceforge.net/projects/jpodlib/\" rel=\"nofollow noreferrer\">jPod</a> can do that, I&#39;d bet it can.  (Not an answer, as it is just a suggestion.)"},{"owner":{"account_id":53892,"reputation":27585,"user_id":161161,"accept_rate":61,"display_name":"Shaggy Frog"},"score":0,"creation_date":1274035347,"post_id":2844961,"comment_id":2887813,"body_markdown":"Looking at jPod now. I&#39;d prefer a free-open source solution if possible, I guess. Even 99 Euros is too much to spend if I can avoid it. Can&#39;t easily find an API for it, either.","body":"Looking at jPod now. I&#39;d prefer a free-open source solution if possible, I guess. Even 99 Euros is too much to spend if I can avoid it. Can&#39;t easily find an API for it, either."},{"owner":{"display_name":"user319799"},"score":0,"creation_date":1274035506,"post_id":2844961,"comment_id":2887821,"body_markdown":"Well, hmm, last time I downloaded jPod it was free.  I guess I need to check out what happened...","body":"Well, hmm, last time I downloaded jPod it was free.  I guess I need to check out what happened..."},{"owner":{"display_name":"user319799"},"score":0,"creation_date":1274036082,"post_id":2844961,"comment_id":2887868,"body_markdown":"As far as I understand, jPod itself is under BSD license (so is free).  You probably confused it with some their products built on top, which are probably not free.  Anyway, it&#39;s certainly not a ready solution and I see one already proposed below, so scratch jPod for this.","body":"As far as I understand, jPod itself is under BSD license (so is free).  You probably confused it with some their products built on top, which are probably not free.  Anyway, it&#39;s certainly not a ready solution and I see one already proposed below, so scratch jPod for this."},{"owner":{"account_id":53892,"reputation":27585,"user_id":161161,"accept_rate":61,"display_name":"Shaggy Frog"},"score":0,"creation_date":1274036880,"post_id":2844961,"comment_id":2887920,"body_markdown":"It wasn&#39;t really clear to me on the English version of the site. If jPod is distributed under a BSD license then that sounds good. The question is, does jPod do what I need?","body":"It wasn&#39;t really clear to me on the English version of the site. If jPod is distributed under a BSD license then that sounds good. The question is, does jPod do what I need?"},{"owner":{"display_name":"user319799"},"score":0,"creation_date":1274037493,"post_id":2844961,"comment_id":2887960,"body_markdown":"Not directly.  It is basically a good library that contains PDF framework, but to do anything real, you still need some code on top.  We now use it for text indexation of PDF files and for this it is vastly superior than Apache PDFBox, at least in current state of affairs.","body":"Not directly.  It is basically a good library that contains PDF framework, but to do anything real, you still need some code on top.  We now use it for text indexation of PDF files and for this it is vastly superior than Apache PDFBox, at least in current state of affairs."},{"owner":{"account_id":53892,"reputation":27585,"user_id":161161,"accept_rate":61,"display_name":"Shaggy Frog"},"score":0,"creation_date":1274127838,"post_id":2844961,"comment_id":2895816,"body_markdown":"So apparently jPod doesn&#39;t do PDF thumbnail generation... apparently &quot;jPodRenderer&quot; does, and it costs money for a commercial licence. I&#39;m going to pursue PDF Renderer for now.","body":"So apparently jPod doesn&#39;t do PDF thumbnail generation... apparently &quot;jPodRenderer&quot; does, and it costs money for a commercial licence. I&#39;m going to pursue PDF Renderer for now."},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1381442211,"post_id":2844961,"comment_id":28594004,"body_markdown":"See also http://stackoverflow.com/questions/4392640/thumbnail-of-a-pdf-page-java which references PDFBox and icePDF.","body":"See also <a href=\"http://stackoverflow.com/questions/4392640/thumbnail-of-a-pdf-page-java\" title=\"thumbnail of a pdf page java\">stackoverflow.com/questions/4392640/&hellip;</a> which references PDFBox and icePDF."}],"answers":[{"tags":[],"owner":{"account_id":48774,"reputation":3662,"user_id":145019,"accept_rate":83,"display_name":"FRotthowe"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1549463959,"creation_date":1274035392,"answer_id":2844994,"question_id":2844961,"body_markdown":"[PDF Renderer][1] is a LGPL licensed pure-java library that makes this as simple as (taken from their example page):\r\n\r\n    File file = new File(&quot;test.pdf&quot;);\r\n    RandomAccessFile raf = new RandomAccessFile(file, &quot;r&quot;);\r\n    FileChannel channel = raf.getChannel();\r\n    ByteBuffer buf = channel.map(FileChannel.MapMode.READ_ONLY, 0, channel.size());\r\n    PDFFile pdffile = new PDFFile(buf);\r\n    \r\n    // draw the first page to an image\r\n    PDFPage page = pdffile.getPage(0);\r\n            \r\n    //get the width and height for the doc at the default zoom \r\n    Rectangle rect = new Rectangle(0,0,\r\n                    (int)page.getBBox().getWidth(),\r\n                    (int)page.getBBox().getHeight());\r\n            \r\n    //generate the image\r\n    Image img = page.getImage(\r\n                    rect.width, rect.height, //width &amp; height\r\n                    rect, // clip rect\r\n                    null, // null for the ImageObserver\r\n                    true, // fill background with white\r\n                    true  // block until drawing is done\r\n                    );\r\n\r\n\r\n[1]:https://github.com/katjas/PDFrenderer","title":"Create thumbnail image for PDF in Java","body":"<p><a href=\"https://github.com/katjas/PDFrenderer\" rel=\"nofollow noreferrer\">PDF Renderer</a> is a LGPL licensed pure-java library that makes this as simple as (taken from their example page):</p>\n\n<pre><code>File file = new File(\"test.pdf\");\nRandomAccessFile raf = new RandomAccessFile(file, \"r\");\nFileChannel channel = raf.getChannel();\nByteBuffer buf = channel.map(FileChannel.MapMode.READ_ONLY, 0, channel.size());\nPDFFile pdffile = new PDFFile(buf);\n\n// draw the first page to an image\nPDFPage page = pdffile.getPage(0);\n\n//get the width and height for the doc at the default zoom \nRectangle rect = new Rectangle(0,0,\n                (int)page.getBBox().getWidth(),\n                (int)page.getBBox().getHeight());\n\n//generate the image\nImage img = page.getImage(\n                rect.width, rect.height, //width &amp; height\n                rect, // clip rect\n                null, // null for the ImageObserver\n                true, // fill background with white\n                true  // block until drawing is done\n                );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124206,"reputation":3205,"user_id":319149,"accept_rate":0,"display_name":"mark stephens"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1274080210,"creation_date":1274080210,"answer_id":2847195,"question_id":2844961,"body_markdown":"PDF Renderer is fine so long as you only use the subset of PDF files they use. With JPod and JPedal you are paying for an active and developed library not a dead project.","title":"Create thumbnail image for PDF in Java","body":"<p>PDF Renderer is fine so long as you only use the subset of PDF files they use. With JPod and JPedal you are paying for an active and developed library not a dead project.</p>\n"},{"tags":[],"owner":{"account_id":16908580,"reputation":601,"user_id":12228284,"display_name":"Rahul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1571251014,"creation_date":1571251014,"answer_id":58419712,"question_id":2844961,"body_markdown":"create Multiple PDF file&#39;s thumbnails in adapter as like images loading using Picasso or Glide\r\nYou need to integrate [picasso library][1]\r\n\r\nAfter that\r\n \r\nYou need to create **PdfRequestHandler** class :-\r\n\r\n    public class PdfRequestHandler extends RequestHandler{\r\n        public static String SCHEME_PDF=&quot;pdf&quot;;\r\n    \t@Override\r\n    \tpublic boolean canHandleRequest(Request data) \r\n    \t{\r\n    \t\tString scheme = data.uri.getScheme();\r\n            return (SCHEME_PDF.equals(scheme));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Result load(Request data, int arg1) throws IOException \r\n    \t{\r\n\t\t\tParcelFileDescriptor fileDescriptor = ParcelFileDescriptor.open(new File(data.uri.getPath()), MODE_READ_ONLY);\r\n\t\t\tPdfRenderer renderer = new PdfRenderer(fileDescriptor);\r\n\t\t\tfinal int pageCount = renderer.getPageCount();\r\n\t\t\tif(pageCount &gt; 0){\r\n\t\t\t\tPdfRenderer.Page page = renderer.openPage(0);\r\n\t\t\t\tBitmap bitmap = Bitmap.createBitmap(page.getWidth(), page.getHeight(),Bitmap.Config.ARGB_8888);\r\n\t\t\t\tCanvas canvas = new Canvas(bitmap);\r\n\t\t\t\tcanvas.drawColor(Color.WHITE);\r\n\t\t\t\tcanvas.drawBitmap(bitmap, 0, 0, null);\r\n\t\t\t\tpage.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n\t\t\t\tpage.close();\r\n\t\t\treturn new Result(bm,LoadedFrom.DISK);\r\n\t\t\t}\r\n    \t    return null;\t \r\n    \t}\r\n    }\r\n\r\nAfter That create instance in adapter\r\n\r\n    Picasso picassoInstance;\r\n\r\nInitilize the instance in constructor of adapter \r\n\r\n    picassoInstance = new Picasso.Builder(context.getApplicationContext())\r\n         \t.addRequestHandler(new PdfRequestHandler())\r\n          \t.build();\r\n\r\nThen load file from path in bindViewHolder method of adapter\r\n\r\n    picassoInstance.load(PdfRequestHandler.SCHEME_PDF+&quot;:&quot;+filePath)\r\n                   .fit()\r\n                   .into(holder.pdfThumbnailImageView);\r\n\r\n\r\n  [1]: https://github.com/square/picasso\r\n","title":"Create thumbnail image for PDF in Java","body":"<p>create Multiple PDF file's thumbnails in adapter as like images loading using Picasso or Glide\nYou need to integrate <a href=\"https://github.com/square/picasso\" rel=\"nofollow noreferrer\">picasso library</a></p>\n\n<p>After that</p>\n\n<p>You need to create <strong>PdfRequestHandler</strong> class :-</p>\n\n<pre><code>public class PdfRequestHandler extends RequestHandler{\n    public static String SCHEME_PDF=\"pdf\";\n    @Override\n    public boolean canHandleRequest(Request data) \n    {\n        String scheme = data.uri.getScheme();\n        return (SCHEME_PDF.equals(scheme));\n    }\n\n    @Override\n    public Result load(Request data, int arg1) throws IOException \n    {\n        ParcelFileDescriptor fileDescriptor = ParcelFileDescriptor.open(new File(data.uri.getPath()), MODE_READ_ONLY);\n        PdfRenderer renderer = new PdfRenderer(fileDescriptor);\n        final int pageCount = renderer.getPageCount();\n        if(pageCount &gt; 0){\n            PdfRenderer.Page page = renderer.openPage(0);\n            Bitmap bitmap = Bitmap.createBitmap(page.getWidth(), page.getHeight(),Bitmap.Config.ARGB_8888);\n            Canvas canvas = new Canvas(bitmap);\n            canvas.drawColor(Color.WHITE);\n            canvas.drawBitmap(bitmap, 0, 0, null);\n            page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n            page.close();\n        return new Result(bm,LoadedFrom.DISK);\n        }\n        return null;     \n    }\n}\n</code></pre>\n\n<p>After That create instance in adapter</p>\n\n<pre><code>Picasso picassoInstance;\n</code></pre>\n\n<p>Initilize the instance in constructor of adapter </p>\n\n<pre><code>picassoInstance = new Picasso.Builder(context.getApplicationContext())\n        .addRequestHandler(new PdfRequestHandler())\n        .build();\n</code></pre>\n\n<p>Then load file from path in bindViewHolder method of adapter</p>\n\n<pre><code>picassoInstance.load(PdfRequestHandler.SCHEME_PDF+\":\"+filePath)\n               .fit()\n               .into(holder.pdfThumbnailImageView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632929188,"creation_date":1632929188,"answer_id":69379299,"question_id":2844961,"body_markdown":"Qoppa Software has a java SDK that can convert PDFs to images.\r\nhttps://www.qoppa.com/pdfimages/\r\n\r\n    //Export the first page in all three formats\r\n    pdfDoc.savePagesAsJPEG(0, &quot;c:\\\\somefile.jpg&quot;,150,0.80f);\r\n    pdfDoc.savePagesAsTIFF(0, &quot;c:\\\\somefile.jpg&quot;,150,TIFFCompression.TIFF_FAX_GROUP4));\r\n    pdfDoc.savePagesAsPNG(0, &quot;c:\\\\somefile.jpg&quot;,150f);","title":"Create thumbnail image for PDF in Java","body":"<p>Qoppa Software has a java SDK that can convert PDFs to images.\n<a href=\"https://www.qoppa.com/pdfimages/\" rel=\"nofollow noreferrer\">https://www.qoppa.com/pdfimages/</a></p>\n<pre><code>//Export the first page in all three formats\npdfDoc.savePagesAsJPEG(0, &quot;c:\\\\somefile.jpg&quot;,150,0.80f);\npdfDoc.savePagesAsTIFF(0, &quot;c:\\\\somefile.jpg&quot;,150,TIFFCompression.TIFF_FAX_GROUP4));\npdfDoc.savePagesAsPNG(0, &quot;c:\\\\somefile.jpg&quot;,150f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2890337,"reputation":2345,"user_id":2479282,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641504436,"creation_date":1641415113,"answer_id":70599310,"question_id":2844961,"body_markdown":"[Thumbnails4j][1] (I&#39;m a maintainer, but it&#39;s owned by [Elastic][2]) is an Apache 2 licensed library for creating thumbnails, and supports PDF inputs.\r\n\r\n```\r\nFile input = new File(&quot;/path/to/my_file.pdf&quot;);\r\nThumbnailer thumbnailer = new PDFThumbnailer();\r\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\r\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\r\n```\r\n\r\n  [1]: https://github.com/elastic/thumbnails4j\r\n  [2]: https://elastic.co","title":"Create thumbnail image for PDF in Java","body":"<p><a href=\"https://github.com/elastic/thumbnails4j\" rel=\"nofollow noreferrer\">Thumbnails4j</a> (I'm a maintainer, but it's owned by <a href=\"https://elastic.co\" rel=\"nofollow noreferrer\">Elastic</a>) is an Apache 2 licensed library for creating thumbnails, and supports PDF inputs.</p>\n<pre><code>File input = new File(&quot;/path/to/my_file.pdf&quot;);\nThumbnailer thumbnailer = new PDFThumbnailer();\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\n</code></pre>\n"}],"owner":{"account_id":53892,"reputation":27585,"user_id":161161,"accept_rate":61,"display_name":"Shaggy Frog"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25550,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":2844994,"answer_count":5,"score":24,"last_activity_date":1641504436,"creation_date":1274034911,"question_id":2844961,"body_markdown":"I&#39;m looking for a Java library that will can take a PDF and create a thumbnail image (PNG) from the first page.\r\n\r\nI&#39;ve already looked at JPedal, but its insane licensing fee is completely prohibitive. I am using iText to manipulate PDF files at the moment, but I believe it doesn&#39;t do thumbnail generation. I can use something like Ghostscript on the command line, but I&#39;m hoping to keep my project all-Java if possible.","title":"Create thumbnail image for PDF in Java","body":"<p>I'm looking for a Java library that will can take a PDF and create a thumbnail image (PNG) from the first page.</p>\n\n<p>I've already looked at JPedal, but its insane licensing fee is completely prohibitive. I am using iText to manipulate PDF files at the moment, but I believe it doesn't do thumbnail generation. I can use something like Ghostscript on the command line, but I'm hoping to keep my project all-Java if possible.</p>\n"},{"tags":["java","macros","keyboard","jshell"],"owner":{"account_id":15872218,"reputation":109,"user_id":11506626,"display_name":"DHC19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641504422,"creation_date":1641342617,"question_id":70586564,"body_markdown":"I have been reading the Oracle [Jshell User Guide][1], one feature of Jshell Hotkeys escapes my grasp, the so called keyboard macro function, by definition it sounds quite useful, you should be able to press &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;x&lt;/kbd&gt; &lt;kbd&gt;(&lt;/kbd&gt; then type a Word hit &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;x&lt;/kbd&gt; &lt;kbd&gt;)&lt;/kbd&gt; and if you press &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;x&lt;/kbd&gt; &lt;kbd&gt;e&lt;/kbd&gt; it writes this word out again to jshell...\r\n\r\nThe problem is it doesn&#39;t work... or I am doing it wrong?! Has someone used this feature? Could you tell me how to use this? how exactly do I have to press the keys? is it hold &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;x&lt;/kbd&gt; and then hit &lt;kbd&gt;e&lt;/kbd&gt; or &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;x&lt;/kbd&gt;, let go and then type type &lt;kbd&gt;e&lt;/kbd&gt; ?\r\n\r\n the Cheatsheets on Github I found just tell you the hotkeys and nothing more...\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/jshell/editing.html#GUID-C6B72B18-E736-43B0-92CA-1B897BCA4079","title":"Java Jshell keyboard macros","body":"<p>I have been reading the Oracle <a href=\"https://docs.oracle.com/en/java/javase/17/jshell/editing.html#GUID-C6B72B18-E736-43B0-92CA-1B897BCA4079\" rel=\"nofollow noreferrer\">Jshell User Guide</a>, one feature of Jshell Hotkeys escapes my grasp, the so called keyboard macro function, by definition it sounds quite useful, you should be able to press <kbd>CTRL</kbd>+<kbd>x</kbd> <kbd>(</kbd> then type a Word hit <kbd>CTRL</kbd>+<kbd>x</kbd> <kbd>)</kbd> and if you press <kbd>CTRL</kbd>+<kbd>x</kbd> <kbd>e</kbd> it writes this word out again to jshell...</p>\n<p>The problem is it doesn't work... or I am doing it wrong?! Has someone used this feature? Could you tell me how to use this? how exactly do I have to press the keys? is it hold <kbd>CTRL</kbd>+<kbd>x</kbd> and then hit <kbd>e</kbd> or <kbd>CTRL</kbd>+<kbd>x</kbd>, let go and then type type <kbd>e</kbd> ?</p>\n<p>the Cheatsheets on Github I found just tell you the hotkeys and nothing more...</p>\n"},{"tags":["java","refactoring","java-11"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641504378,"creation_date":1641504378,"answer_id":70613809,"question_id":70612977,"body_markdown":"You could use `JsonPointer` for it, e.g.\r\n\r\n    String path = &quot;/glossary/GlossDiv/GlossList/GlossEntry/ID&quot;;\r\n    String nodeToRemove = path.substring(path.lastIndexOf(&#39;/&#39;)+1);\r\n    JsonPointer jp = JsonPointer.compile(path.substring(0, path.lastIndexOf(&#39;/&#39;)));\r\n    ObjectNode parent = (ObjectNode)node.at(jp);\r\n    parent.remove(nodeToRemove);\r\n\r\nThe `JsonPointer` can also be cached.","title":"Java Refactoring: To remove a element from JSON (making the code less verbose)","body":"<p>You could use <code>JsonPointer</code> for it, e.g.</p>\n<pre><code>String path = &quot;/glossary/GlossDiv/GlossList/GlossEntry/ID&quot;;\nString nodeToRemove = path.substring(path.lastIndexOf('/')+1);\nJsonPointer jp = JsonPointer.compile(path.substring(0, path.lastIndexOf('/')));\nObjectNode parent = (ObjectNode)node.at(jp);\nparent.remove(nodeToRemove);\n</code></pre>\n<p>The <code>JsonPointer</code> can also be cached.</p>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70613809,"answer_count":1,"score":0,"last_activity_date":1641504378,"creation_date":1641499158,"question_id":70612977,"body_markdown":"The ask is to remove a JSON element from a JSON file: In this case its ID element. I am able to get the desired result. But the code looks very verbose can it be written in a better way without hindering the performance. \r\n\r\nThe path for the same is provided from the root node: \r\n/glossary/GlossDiv/GlossList/GlossEntry/ID\r\n\r\n    {\r\n      &quot;glossary&quot;: {\r\n        &quot;title&quot;: &quot;example glossary&quot;,\r\n        &quot;GlossDiv&quot;: {\r\n          &quot;title&quot;: &quot;S&quot;,\r\n          &quot;GlossList&quot;: {\r\n            &quot;GlossEntry&quot;: {\r\n              &quot;ID&quot;: &quot;SGML&quot;,\r\n              &quot;SortAs&quot;: &quot;SGML&quot;,\r\n              &quot;GlossTerm&quot;: &quot;Standard Generalized Markup Language&quot;,\r\n              &quot;Acronym&quot;: &quot;SGML&quot;,\r\n              &quot;Abbrev&quot;: &quot;ISO 8879:1986&quot;,\r\n              &quot;GlossDef&quot;: {\r\n                &quot;para&quot;: &quot;A meta-markup language, used to create markup languages such as DocBook.&quot;,\r\n                &quot;GlossSeeAlso&quot;: [&quot;GML&quot;, &quot;XML&quot;]\r\n              },\r\n              &quot;GlossSee&quot;: &quot;markup&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThe code to remove the element is: As one can observe it  has two for loops and we are traversing to the parent of the element which needs to be removed and then removing the element. Is there a better way of writing the code?\r\n\r\n    public static JsonNode removeProperty(JsonNode node, List&lt;String&gt; removedField){\r\n        JsonNode modifiedNode = node;\r\n\r\n        for (String nodeToBeRemoved: removedField){\r\n            String[] array = nodeToBeRemoved.split(&quot;/&quot;);\r\n            for (int i =1;i&lt;array.length-1;i++){\r\n                String name=array[i];\r\n                modifiedNode = modifiedNode.get(name);\r\n            }\r\n            ((ObjectNode)modifiedNode).remove(array[array.length-1]);\r\n        }\r\n\r\n        return node;\r\n    }","title":"Java Refactoring: To remove a element from JSON (making the code less verbose)","body":"<p>The ask is to remove a JSON element from a JSON file: In this case its ID element. I am able to get the desired result. But the code looks very verbose can it be written in a better way without hindering the performance.</p>\n<p>The path for the same is provided from the root node:\n/glossary/GlossDiv/GlossList/GlossEntry/ID</p>\n<pre><code>{\n  &quot;glossary&quot;: {\n    &quot;title&quot;: &quot;example glossary&quot;,\n    &quot;GlossDiv&quot;: {\n      &quot;title&quot;: &quot;S&quot;,\n      &quot;GlossList&quot;: {\n        &quot;GlossEntry&quot;: {\n          &quot;ID&quot;: &quot;SGML&quot;,\n          &quot;SortAs&quot;: &quot;SGML&quot;,\n          &quot;GlossTerm&quot;: &quot;Standard Generalized Markup Language&quot;,\n          &quot;Acronym&quot;: &quot;SGML&quot;,\n          &quot;Abbrev&quot;: &quot;ISO 8879:1986&quot;,\n          &quot;GlossDef&quot;: {\n            &quot;para&quot;: &quot;A meta-markup language, used to create markup languages such as DocBook.&quot;,\n            &quot;GlossSeeAlso&quot;: [&quot;GML&quot;, &quot;XML&quot;]\n          },\n          &quot;GlossSee&quot;: &quot;markup&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>The code to remove the element is: As one can observe it  has two for loops and we are traversing to the parent of the element which needs to be removed and then removing the element. Is there a better way of writing the code?</p>\n<pre><code>public static JsonNode removeProperty(JsonNode node, List&lt;String&gt; removedField){\n    JsonNode modifiedNode = node;\n\n    for (String nodeToBeRemoved: removedField){\n        String[] array = nodeToBeRemoved.split(&quot;/&quot;);\n        for (int i =1;i&lt;array.length-1;i++){\n            String name=array[i];\n            modifiedNode = modifiedNode.get(name);\n        }\n        ((ObjectNode)modifiedNode).remove(array[array.length-1]);\n    }\n\n    return node;\n}\n</code></pre>\n"},{"tags":["java","image","thumbnails","resolution"],"comments":[{"owner":{"account_id":458917,"reputation":61,"user_id":859100,"display_name":"Antony"},"score":0,"creation_date":1312289318,"post_id":6801850,"comment_id":8232143,"body_markdown":"Guys i had got the clarity now, since i was using the rectina eye display the pixel size has to more to gain clarity. for eg: 70*70 has to be 210*210 so that u will get the clarity.","body":"Guys i had got the clarity now, since i was using the rectina eye display the pixel size has to more to gain clarity. for eg: 70*70 has to be 210*210 so that u will get the clarity."}],"answers":[{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1604593722,"creation_date":1311441752,"answer_id":6802062,"question_id":6801850,"body_markdown":"There are two possibilities from looking at the code:\r\n\r\n1. The original image is very large, and the thumbnail is very small, resulting in image quality being degraded by the simple [bilinear interpolation][1].\r\n\r\n2. The [compression artifacts][2] resulting from the JPEG encoding is degrading the quality of the thumbnail.\r\n\r\nUsing a simple bilinear interpolation can be adequate if the original image and the thumbnail doesn&#39;t differ in size by a whole lot, for example, going from a 200x200 to 100x100.\r\n\r\nHowever, when it comes to resizing images that are large (such as 1600x1200) to a thumbnail size image, bilinear interpolation (and bicubic interpolation, for that matter), so alternative techniques such as multi-step resizing should be used.\r\n\r\nThe article *[The Perils of Image.getScaledInstance()][3]* by Chris Campbell goes into more details about how and why downscaling large images can lead to degradation of image quality. \r\n\r\nThe book [Filthy Rich Clients][6] by Chet Haase and Romain Guy also goes into some details about creating high-quality thumbnails.\r\n\r\n---\r\n\r\nI maintain a thumbnail generation library called [Thumbnailator][4], which uses techniques such as multi-step resizing to create high-quality thumbnails with an easy-to-use API.\r\n\r\nFor example, your example code could be written using Thumbnailator like this:\r\n\r\n    Thumbnails.of(image)\r\n      .size(thumbWidth, thumbHeight)\r\n      .outputFormat(&quot;JPG&quot;)\r\n      .toFile(file);\r\n\r\nIt&#39;s also possible to specify the compression quality settings if compression artifacts are causing image quality degradation:\r\n\r\n    Thumbnails.of(image)\r\n      .size(thumbWidth, thumbHeight)\r\n      .outputFormat(&quot;JPG&quot;)\r\n      .outoutQuality(0.9)\r\n      .toFile(file);\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bilinear_interpolation\r\n  [2]: https://en.wikipedia.org/wiki/Compression_artifact\r\n  [3]: https://web.archive.org/web/20070414170207/http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html\r\n  [4]: https://github.com/coobird/thumbnailator\r\n  [6]: http://filthyrichclients.org/","title":"Getting low quality thumbnail from a high quality image in Java","body":"<p>There are two possibilities from looking at the code:</p>\n<ol>\n<li><p>The original image is very large, and the thumbnail is very small, resulting in image quality being degraded by the simple <a href=\"https://en.wikipedia.org/wiki/Bilinear_interpolation\" rel=\"nofollow noreferrer\">bilinear interpolation</a>.</p>\n</li>\n<li><p>The <a href=\"https://en.wikipedia.org/wiki/Compression_artifact\" rel=\"nofollow noreferrer\">compression artifacts</a> resulting from the JPEG encoding is degrading the quality of the thumbnail.</p>\n</li>\n</ol>\n<p>Using a simple bilinear interpolation can be adequate if the original image and the thumbnail doesn't differ in size by a whole lot, for example, going from a 200x200 to 100x100.</p>\n<p>However, when it comes to resizing images that are large (such as 1600x1200) to a thumbnail size image, bilinear interpolation (and bicubic interpolation, for that matter), so alternative techniques such as multi-step resizing should be used.</p>\n<p>The article <em><a href=\"https://web.archive.org/web/20070414170207/http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html\" rel=\"nofollow noreferrer\">The Perils of Image.getScaledInstance()</a></em> by Chris Campbell goes into more details about how and why downscaling large images can lead to degradation of image quality.</p>\n<p>The book <a href=\"http://filthyrichclients.org/\" rel=\"nofollow noreferrer\">Filthy Rich Clients</a> by Chet Haase and Romain Guy also goes into some details about creating high-quality thumbnails.</p>\n<hr />\n<p>I maintain a thumbnail generation library called <a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">Thumbnailator</a>, which uses techniques such as multi-step resizing to create high-quality thumbnails with an easy-to-use API.</p>\n<p>For example, your example code could be written using Thumbnailator like this:</p>\n<pre><code>Thumbnails.of(image)\n  .size(thumbWidth, thumbHeight)\n  .outputFormat(&quot;JPG&quot;)\n  .toFile(file);\n</code></pre>\n<p>It's also possible to specify the compression quality settings if compression artifacts are causing image quality degradation:</p>\n<pre><code>Thumbnails.of(image)\n  .size(thumbWidth, thumbHeight)\n  .outputFormat(&quot;JPG&quot;)\n  .outoutQuality(0.9)\n  .toFile(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2890337,"reputation":2345,"user_id":2479282,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641504336,"creation_date":1641415891,"answer_id":70599435,"question_id":6801850,"body_markdown":"[Thumbnails4j][1] (I&#39;m a maintainer, but it&#39;s owned by [Elastic][2]) is a java library that can be used to create thumbnails from image files, as well as from other file types.\r\n\r\n```java\r\nFile input = new File(&quot;/path/to/my_file.jpeg&quot;);\r\nThumbnailer thumbnailer = new ImageThumbnailer(&quot;png&quot;); // or &quot;jpg&quot;, whichever output format you want\r\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\r\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\r\n```\r\n\r\nOne of the approaches it takes is to iteratively resize the image, instead of jumping straight to the desired size, as this helps to preserve image quality. But this library allows you to avoid having to worry about the details of the image processing algorithm.\r\n\r\n  [1]: https://github.com/elastic/thumbnails4j\r\n  [2]: https://elastic.co","title":"Getting low quality thumbnail from a high quality image in Java","body":"<p><a href=\"https://github.com/elastic/thumbnails4j\" rel=\"nofollow noreferrer\">Thumbnails4j</a> (I'm a maintainer, but it's owned by <a href=\"https://elastic.co\" rel=\"nofollow noreferrer\">Elastic</a>) is a java library that can be used to create thumbnails from image files, as well as from other file types.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File input = new File(&quot;/path/to/my_file.jpeg&quot;);\nThumbnailer thumbnailer = new ImageThumbnailer(&quot;png&quot;); // or &quot;jpg&quot;, whichever output format you want\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\n</code></pre>\n<p>One of the approaches it takes is to iteratively resize the image, instead of jumping straight to the desired size, as this helps to preserve image quality. But this library allows you to avoid having to worry about the details of the image processing algorithm.</p>\n"}],"owner":{"account_id":458917,"reputation":61,"user_id":859100,"display_name":"Antony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4081,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1641504336,"creation_date":1311439669,"question_id":6801850,"body_markdown":"I have tried the below code to generate the high quality thumbnail image but got the thumb nail blurred and not that much clarity.\r\n\r\n    BufferedImage thumbImage = new BufferedImage(thumbWidth, thumbHeight, BufferedImage.TYPE_INT_RGB);\r\n    Graphics2D graphics2D = thumbImage.createGraphics();\r\n    graphics2D.setBackground(Color.WHITE);\r\n    graphics2D.setPaint(Color.WHITE); \r\n    graphics2D.fillRect(0, 0, thumbWidth, thumbHeight);\r\n    graphics2D.setComposite(AlphaComposite.Src);\r\n    graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n    graphics2D.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n    graphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n    graphics2D.drawImage(image, 0, 0, thumbWidth, thumbHeight, null);\r\n    graphics2D.dispose();      \r\n    File file = new File(thumbnailFile);\r\n    if (javax.imageio.ImageIO.write(thumbImage, &quot;JPG&quot;, file))\r\n        return file;\r\n    }\r\n\r\nThe original image is a high quality image. Why am I getting the thumbnail image distorted and low in quality?\r\n","title":"Getting low quality thumbnail from a high quality image in Java","body":"<p>I have tried the below code to generate the high quality thumbnail image but got the thumb nail blurred and not that much clarity.</p>\n\n<pre><code>BufferedImage thumbImage = new BufferedImage(thumbWidth, thumbHeight, BufferedImage.TYPE_INT_RGB);\nGraphics2D graphics2D = thumbImage.createGraphics();\ngraphics2D.setBackground(Color.WHITE);\ngraphics2D.setPaint(Color.WHITE); \ngraphics2D.fillRect(0, 0, thumbWidth, thumbHeight);\ngraphics2D.setComposite(AlphaComposite.Src);\ngraphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\ngraphics2D.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\ngraphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\ngraphics2D.drawImage(image, 0, 0, thumbWidth, thumbHeight, null);\ngraphics2D.dispose();      \nFile file = new File(thumbnailFile);\nif (javax.imageio.ImageIO.write(thumbImage, \"JPG\", file))\n    return file;\n}\n</code></pre>\n\n<p>The original image is a high quality image. Why am I getting the thumbnail image distorted and low in quality?</p>\n"},{"tags":["java","arrays","multidimensional-array","comparator"],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1556426057,"creation_date":1300806407,"answer_id":5393307,"question_id":5393254,"body_markdown":"&gt; *[...] How should Java Comparator class be declared to sort the arrays by their **first elements in decreasing order** [...]*\r\n\r\nHere&#39;s a complete example using **Java 8**:\r\n\r\n\r\n    import java.util.*;\r\n    \r\n    public class Test {\r\n        \r\n        public static void main(String args[]) {\r\n            \r\n            int[][] twoDim = { {1, 2}, {3, 7}, {8, 9}, {4, 2}, {5, 3} };\r\n            \r\n            Arrays.sort(twoDim, Comparator.comparingInt(a -&gt; a[0])\r\n                                          .reversed());\r\n\r\n            System.out.println(Arrays.deepToString(twoDim));\r\n        }\r\n    }\r\n\r\n\r\n**Output:**\r\n    \r\n    [[8, 9], [5, 3], [4, 2], [3, 7], [1, 2]]\r\n\r\n\r\n----------\r\n\r\nFor **Java 7** you can do:\r\n\r\n    Arrays.sort(twoDim, new Comparator&lt;int[]&gt;() {\r\n        @Override\r\n        public int compare(int[] o1, int[] o2) {\r\n            return Integer.compare(o2[0], o1[0]);\r\n        }\r\n    });\r\n        \r\n\r\n\r\n----------\r\n\r\nIf you unfortunate enough to work on **Java 6** or older, you&#39;d do:\r\n\r\n    \r\n\r\n    Arrays.sort(twoDim, new Comparator&lt;int[]&gt;() {\r\n        @Override\r\n        public int compare(int[] o1, int[] o2) {\r\n            return ((Integer) o2[0]).compareTo(o1[0]);\r\n        }\r\n    });","title":"Java Comparator class to sort arrays","body":"<blockquote>\n  <p><em>[...] How should Java Comparator class be declared to sort the arrays by their <strong>first elements in decreasing order</strong> [...]</em></p>\n</blockquote>\n\n<p>Here's a complete example using <strong>Java 8</strong>:</p>\n\n<pre><code>import java.util.*;\n\npublic class Test {\n\n    public static void main(String args[]) {\n\n        int[][] twoDim = { {1, 2}, {3, 7}, {8, 9}, {4, 2}, {5, 3} };\n\n        Arrays.sort(twoDim, Comparator.comparingInt(a -&gt; a[0])\n                                      .reversed());\n\n        System.out.println(Arrays.deepToString(twoDim));\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[[8, 9], [5, 3], [4, 2], [3, 7], [1, 2]]\n</code></pre>\n\n<hr>\n\n<p>For <strong>Java 7</strong> you can do:</p>\n\n<pre><code>Arrays.sort(twoDim, new Comparator&lt;int[]&gt;() {\n    @Override\n    public int compare(int[] o1, int[] o2) {\n        return Integer.compare(o2[0], o1[0]);\n    }\n});\n</code></pre>\n\n<hr>\n\n<p>If you unfortunate enough to work on <strong>Java 6</strong> or older, you'd do:</p>\n\n<pre><code>Arrays.sort(twoDim, new Comparator&lt;int[]&gt;() {\n    @Override\n    public int compare(int[] o1, int[] o2) {\n        return ((Integer) o2[0]).compareTo(o1[0]);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3371303,"reputation":2206,"user_id":2830451,"accept_rate":80,"display_name":"user2830451"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1533885274,"creation_date":1533885274,"answer_id":51780990,"question_id":5393254,"body_markdown":"The answer from @aioobe is excellent. I just want to add another way for Java 8. \r\n\r\n    int[][] twoDim = { { 1, 2 }, { 3, 7 }, { 8, 9 }, { 4, 2 }, { 5, 3 } };\r\n    \r\n    Arrays.sort(twoDim, (int[] o1, int[] o2) -&gt; o2[0] - o1[0]);\r\n    \r\n    System.out.println(Arrays.deepToString(twoDim));\r\n\r\nFor me it&#39;s intuitive and easy to remember with Java 8 syntax.","title":"Java Comparator class to sort arrays","body":"<p>The answer from @aioobe is excellent. I just want to add another way for Java 8. </p>\n\n<pre><code>int[][] twoDim = { { 1, 2 }, { 3, 7 }, { 8, 9 }, { 4, 2 }, { 5, 3 } };\n\nArrays.sort(twoDim, (int[] o1, int[] o2) -&gt; o2[0] - o1[0]);\n\nSystem.out.println(Arrays.deepToString(twoDim));\n</code></pre>\n\n<p>For me it's intuitive and easy to remember with Java 8 syntax.</p>\n"},{"tags":[],"owner":{"account_id":4565628,"reputation":93,"user_id":3706706,"display_name":"user3706706"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1577337164,"creation_date":1572651880,"answer_id":58667039,"question_id":5393254,"body_markdown":"Just tried this solution, we don&#39;t have to even write int.\r\n```\r\nint[][] twoDim = { { 1, 2 }, { 3, 7 }, { 8, 9 }, { 4, 2 }, { 5, 3 } };\r\nArrays.sort(twoDim, (a1,a2) -&gt; a2[0] - a1[0]);\r\n```\r\nThis thing will also work, it automatically detects the type of string.","title":"Java Comparator class to sort arrays","body":"<p>Just tried this solution, we don't have to even write int.</p>\n\n<pre><code>int[][] twoDim = { { 1, 2 }, { 3, 7 }, { 8, 9 }, { 4, 2 }, { 5, 3 } };\nArrays.sort(twoDim, (a1,a2) -&gt; a2[0] - a1[0]);\n</code></pre>\n\n<p>This thing will also work, it automatically detects the type of string.</p>\n"},{"tags":[],"owner":{"account_id":23151199,"reputation":1,"user_id":17253181,"display_name":"Drusilio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635316638,"creation_date":1635266196,"answer_id":69726915,"question_id":5393254,"body_markdown":"Here&#39;s sorting Arraylist of Date Arrays.\r\nMaybe smb smwhen will need it.\r\n\r\n```java\r\nList &lt;Date[]&gt; sortedDateList = new ArrayList&lt;&gt;(/* initialization */);\r\nCollections.sort(sortedDateList, new Comparator&lt;Date[]&gt;() {\r\n    @Override\r\n    public int compare(Date[] d1, Date[] d2) {\r\n        return (d1[0].compareTo(d2[0]));\r\n    }\r\n});\r\n```","title":"Java Comparator class to sort arrays","body":"<p>Here's sorting Arraylist of Date Arrays.\nMaybe smb smwhen will need it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt;Date[]&gt; sortedDateList = new ArrayList&lt;&gt;(/* initialization */);\nCollections.sort(sortedDateList, new Comparator&lt;Date[]&gt;() {\n    @Override\n    public int compare(Date[] d1, Date[] d2) {\n        return (d1[0].compareTo(d2[0]));\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641504040,"creation_date":1641504040,"answer_id":70613761,"question_id":5393254,"body_markdown":"`java.nio.IntBuffer#wrap(int[])` provides an excellent built-in way to compare two instances of `int[]`, since `IntBuffer` is both a lightweight wrapper for `int[]` instances, *and* implements `Comparable`.  Using it combined with other built-in `Comparator` features has several advantages over the examples in other answers I see here:\r\n\r\n - Compares all sub-array elements\r\n - Supports variable sub-array lengths\r\n - Supports `null` array elements\r\n\r\nThis example sorts the arrays in descending order, putting `null` array elements last:\r\n\r\n\tint[][] twoDim = {{1, 2}, {3, 7}, {8, 9}, {4, 2}, null, {5, 3}, {4}};\r\n\tSystem.out.println(&quot;Unsorted: &quot; + Arrays.deepToString(twoDim));\r\n\t\r\n\tComparator&lt;int[]&gt; c = Comparator.nullsFirst(Comparator.comparing(IntBuffer::wrap));\r\n\tArrays.sort(twoDim, c.reversed());\r\n\tSystem.out.println(&quot;Sorted: &quot; + Arrays.deepToString(twoDim));\r\n\r\nOutput:\r\n\r\n\tUnsorted: [[1, 2], [3, 7], [8, 9], [4, 2], null, [5, 3], [4]]\r\n\tSorted: [[8, 9], [5, 3], [4, 2], [4], [3, 7], [1, 2], null]\r\n","title":"Java Comparator class to sort arrays","body":"<p><code>java.nio.IntBuffer#wrap(int[])</code> provides an excellent built-in way to compare two instances of <code>int[]</code>, since <code>IntBuffer</code> is both a lightweight wrapper for <code>int[]</code> instances, <em>and</em> implements <code>Comparable</code>.  Using it combined with other built-in <code>Comparator</code> features has several advantages over the examples in other answers I see here:</p>\n<ul>\n<li>Compares all sub-array elements</li>\n<li>Supports variable sub-array lengths</li>\n<li>Supports <code>null</code> array elements</li>\n</ul>\n<p>This example sorts the arrays in descending order, putting <code>null</code> array elements last:</p>\n<pre><code>int[][] twoDim = {{1, 2}, {3, 7}, {8, 9}, {4, 2}, null, {5, 3}, {4}};\nSystem.out.println(&quot;Unsorted: &quot; + Arrays.deepToString(twoDim));\n\nComparator&lt;int[]&gt; c = Comparator.nullsFirst(Comparator.comparing(IntBuffer::wrap));\nArrays.sort(twoDim, c.reversed());\nSystem.out.println(&quot;Sorted: &quot; + Arrays.deepToString(twoDim));\n</code></pre>\n<p>Output:</p>\n<pre><code>Unsorted: [[1, 2], [3, 7], [8, 9], [4, 2], null, [5, 3], [4]]\nSorted: [[8, 9], [5, 3], [4, 2], [4], [3, 7], [1, 2], null]\n</code></pre>\n"}],"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184957,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":5393307,"answer_count":5,"score":56,"last_activity_date":1641504040,"creation_date":1300806166,"question_id":5393254,"body_markdown":"Say, we have the following 2-dimensional array:\r\n\r\n    int camels[][] = new int[n][2];\r\n\r\nHow should Java `Comparator` class be declared to sort the arrays by their first elements in decreasing order using `Arrays.sort(camels, comparator)`? The `compare` function for reference is:\r\n\r\n    @Override public int compare(int[] a, int [] b)\r\n    {\r\n        return b[0] - a[0];\r\n    }","title":"Java Comparator class to sort arrays","body":"<p>Say, we have the following 2-dimensional array:</p>\n\n<pre><code>int camels[][] = new int[n][2];\n</code></pre>\n\n<p>How should Java <code>Comparator</code> class be declared to sort the arrays by their first elements in decreasing order using <code>Arrays.sort(camels, comparator)</code>? The <code>compare</code> function for reference is:</p>\n\n<pre><code>@Override public int compare(int[] a, int [] b)\n{\n    return b[0] - a[0];\n}\n</code></pre>\n"},{"tags":["java","unit-testing","timezone","datetime-format","epoch"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1631111179,"post_id":69104805,"comment_id":122136352,"body_markdown":"Is there a good reason to be using `Date`, as opposed to `java.time.Instant` (which has its own `toString()` method, and _always_ prints in Zulu?","body":"Is there a good reason to be using <code>Date</code>, as opposed to <code>java.time.Instant</code> (which has its own <code>toString()</code> method, and <i>always</i> prints in Zulu?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1631111288,"post_id":69104805,"comment_id":122136396,"body_markdown":"(BTW, I hope you&#39;re just omitting the code to ensure that only one thread accesses the SimpleDateFormat at a time? If not, you need to ensure that, e.g. using a `ThreadLocal` instead. You wouldn&#39;t need to do this with an `Instant`)","body":"(BTW, I hope you&#39;re just omitting the code to ensure that only one thread accesses the SimpleDateFormat at a time? If not, you need to ensure that, e.g. using a <code>ThreadLocal</code> instead. You wouldn&#39;t need to do this with an <code>Instant</code>)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1631123039,"post_id":69104805,"comment_id":122141340,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `Instant` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>Instant</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1631348541,"post_id":69104805,"comment_id":122201780,"body_markdown":"Don’t ensure that the tests are run in a specific time zone. Write both your code and your tests so they are independent of the JVM’s default time zone.","body":"Don’t ensure that the tests are run in a specific time zone. Write both your code and your tests so they are independent of the JVM’s default time zone."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631113424,"creation_date":1631111387,"answer_id":69104970,"question_id":69104805,"body_markdown":"A better way to do this would be to use `java.time.Instant`:\r\n\r\n```\r\nInstant instant = Instant.ofEpochMilli(Long.parseLong(epochString));\r\nreturn instant.toString();\r\n```\r\n\r\nThis will always print in UTC, whatever the JVM&#39;s default time zone.\r\n\r\n---\r\n\r\nYou can also do this by [setting the time zone on the `SimpleDateFormatter`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/DateFormat.html#setTimeZone(java.util.TimeZone)):\r\n\r\n```\r\nREQIF_DATE_FORMAT_WITH_MILLIS.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n```\r\n\r\nNote that you need to take care with a shared `SimpleDateFormat` because it has mutable state, which is corrupted by access from multiple threads. You can have a separate instance per thread like so:\r\n\r\n```\r\nstatic final ThreadLocal&lt;SimpleDateFormat&gt; REQIF_DATE_FORMAT_WITH_MILLIS =\r\n    ThreadLocal.withInitial(() -&gt; {\r\n      SimpleDateFormat sdf = new SimpleDateFormat();\r\n      sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n      return sdf;\r\n    });\r\n```\r\n\r\nand then access it with:\r\n\r\n```\r\nreturn REQIF_DATE_FORMAT_WITH_MILLIS.get().format(timestamp);\r\n```\r\n\r\nBut this is getting quite messy, isn&#39;t it? Much easier just to use `Instant`.","title":"How to make sure test always runs in the same time zone","body":"<p>A better way to do this would be to use <code>java.time.Instant</code>:</p>\n<pre><code>Instant instant = Instant.ofEpochMilli(Long.parseLong(epochString));\nreturn instant.toString();\n</code></pre>\n<p>This will always print in UTC, whatever the JVM's default time zone.</p>\n<hr />\n<p>You can also do this by <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/DateFormat.html#setTimeZone(java.util.TimeZone)\" rel=\"nofollow noreferrer\">setting the time zone on the <code>SimpleDateFormatter</code></a>:</p>\n<pre><code>REQIF_DATE_FORMAT_WITH_MILLIS.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n</code></pre>\n<p>Note that you need to take care with a shared <code>SimpleDateFormat</code> because it has mutable state, which is corrupted by access from multiple threads. You can have a separate instance per thread like so:</p>\n<pre><code>static final ThreadLocal&lt;SimpleDateFormat&gt; REQIF_DATE_FORMAT_WITH_MILLIS =\n    ThreadLocal.withInitial(() -&gt; {\n      SimpleDateFormat sdf = new SimpleDateFormat();\n      sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n      return sdf;\n    });\n</code></pre>\n<p>and then access it with:</p>\n<pre><code>return REQIF_DATE_FORMAT_WITH_MILLIS.get().format(timestamp);\n</code></pre>\n<p>But this is getting quite messy, isn't it? Much easier just to use <code>Instant</code>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1631114127,"creation_date":1631113825,"answer_id":69105576,"question_id":69104805,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nYou can use [`Instant.ofEpochMilli`][1] to convert the epoch milliseconds into `Instant` and then use the `Instant#toString`. However, [`Instant#toString`][2] omits the fraction-of-second part if they are zero. Therefore, if you need the value strictly in the pattern, `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX`, you can convert the `Instant` to `OffsetDateTime` and format it using a `DateTimeFormatter`.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// An example epoch milliseconds\r\n    \t\tlong millis = 1631113620000L;\r\n\r\n    \t\tInstant instant = Instant.ofEpochMilli(millis);\r\n    \t\tString strDateTime = instant.toString();\r\n    \t\tSystem.out.println(strDateTime);\r\n    \r\n    \t\t// If you need the value strictly in the pattern, yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\r\n    \t\tOffsetDateTime odt = instant.atOffset(ZoneOffset.UTC);\r\n    \t\tstrDateTime = odt.format(dtf);\r\n    \t\tSystem.out.println(strDateTime);\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    2021-09-08T15:07:00Z\r\n    2021-09-08T15:07:00.000Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][3]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--\r\n  [3]: https://ideone.com/sxyCHU","title":"How to make sure test always runs in the same time zone","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\" rel=\"noreferrer\"><code>Instant.ofEpochMilli</code></a> to convert the epoch milliseconds into <code>Instant</code> and then use the <code>Instant#toString</code>. However, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--\" rel=\"noreferrer\"><code>Instant#toString</code></a> omits the fraction-of-second part if they are zero. Therefore, if you need the value strictly in the pattern, <code>yyyy-MM-dd'T'HH:mm:ss.SSSXXX</code>, you can convert the <code>Instant</code> to <code>OffsetDateTime</code> and format it using a <code>DateTimeFormatter</code>.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        // An example epoch milliseconds\n        long millis = 1631113620000L;\n\n        Instant instant = Instant.ofEpochMilli(millis);\n        String strDateTime = instant.toString();\n        System.out.println(strDateTime);\n\n        // If you need the value strictly in the pattern, yyyy-MM-dd'T'HH:mm:ss.SSSXXX\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\n        OffsetDateTime odt = instant.atOffset(ZoneOffset.UTC);\n        strDateTime = odt.format(dtf);\n        System.out.println(strDateTime);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-09-08T15:07:00Z\n2021-09-08T15:07:00.000Z\n</code></pre>\n<p><a href=\"https://ideone.com/sxyCHU\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69105576,"answer_count":2,"score":2,"last_activity_date":1641503848,"creation_date":1631110697,"question_id":69104805,"body_markdown":"I have a function that parses an Unix epoch time into the format `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX` like this in order to export it to a file:\r\n\r\n```\r\n\tpublic static final SimpleDateFormat REQIF_DATE_FORMAT_WITH_MILLIS\r\n\t\t= new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n\r\n\tpublic static String convertEpochStringToReqifDateString(String epochString) {\r\n\t\tDate timestamp = new Date(Long.parseLong(epochString));\r\n\t\treturn REQIF_DATE_FORMAT_WITH_MILLIS.format(timestamp);\r\n\t}\r\n```\r\n\r\nNow, I have tests for this export, but while they pass locally, they fail on the server because it&#39;s apparently in a different time zone. Specifically, the differences look like this:\r\n\r\n```\r\nLAST-CHANGE=&quot;2017-03-13T21:36:44.261+01:00&quot;\r\nLAST-CHANGE=&quot;2017-03-13T20:36:44.261Z&quot;\r\n```\r\n\r\nI have already tried running a number of things before the test in order to make sure that the test is always run in the same time zone, such as:\r\n\r\n```\r\nTimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n```\r\n\r\n```\r\nSystem.setProperty(&quot;user.timezone&quot;, &quot;UTC&quot;);\r\n```\r\n\r\nAs well as the JUnitPioneer annotation:\r\n\r\n```\r\n@DefaultTimeZone(&quot;UTC&quot;)\r\n```\r\n\r\n...however, none of them seemed to affect the parsing output at all.\r\n\r\nWhat can I do about this? All I want is some way to ensure that my tests are run in the same time zone regardless of where the machine they are run is standing so I can test the export correctly.","title":"How to make sure test always runs in the same time zone","body":"<p>I have a function that parses an Unix epoch time into the format <code>yyyy-MM-dd'T'HH:mm:ss.SSSXXX</code> like this in order to export it to a file:</p>\n<pre><code>    public static final SimpleDateFormat REQIF_DATE_FORMAT_WITH_MILLIS\n        = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n\n    public static String convertEpochStringToReqifDateString(String epochString) {\n        Date timestamp = new Date(Long.parseLong(epochString));\n        return REQIF_DATE_FORMAT_WITH_MILLIS.format(timestamp);\n    }\n</code></pre>\n<p>Now, I have tests for this export, but while they pass locally, they fail on the server because it's apparently in a different time zone. Specifically, the differences look like this:</p>\n<pre><code>LAST-CHANGE=&quot;2017-03-13T21:36:44.261+01:00&quot;\nLAST-CHANGE=&quot;2017-03-13T20:36:44.261Z&quot;\n</code></pre>\n<p>I have already tried running a number of things before the test in order to make sure that the test is always run in the same time zone, such as:</p>\n<pre><code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\n</code></pre>\n<pre><code>System.setProperty(&quot;user.timezone&quot;, &quot;UTC&quot;);\n</code></pre>\n<p>As well as the JUnitPioneer annotation:</p>\n<pre><code>@DefaultTimeZone(&quot;UTC&quot;)\n</code></pre>\n<p>...however, none of them seemed to affect the parsing output at all.</p>\n<p>What can I do about this? All I want is some way to ensure that my tests are run in the same time zone regardless of where the machine they are run is standing so I can test the export correctly.</p>\n"},{"tags":["java","linux","unix","tar"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1641452373,"post_id":70603524,"comment_id":124809287,"body_markdown":"Just use `-C`. Consider using a Java compression library to make your application portable.","body":"Just use <code>-C</code>. Consider using a Java compression library to make your application portable."},{"owner":{"account_id":10337571,"reputation":35,"user_id":7625146,"display_name":"Mike"},"score":0,"creation_date":1641452967,"post_id":70603524,"comment_id":124809396,"body_markdown":"@BoristheSpider didn&#39;t understand what should be the exact command, could you please elaborate. Manually can we check in linux promot first then from java same thing I can replicate line-- \n String[] command = new String[] { &quot;/bin/bash&quot;, &quot;-c&quot;, &quot;/usr/bin/tar -cvf &quot; + &quot;a.tgz&quot; + &quot; &quot; + &quot;/tmp/a.crt&quot; };\n            CommandResponse cmdResponse = cmdRunner.runCommandWithConsoleOutput(command);","body":"@BoristheSpider didn&#39;t understand what should be the exact command, could you please elaborate. Manually can we check in linux promot first then from java same thing I can replicate line--   String[] command = new String[] { &quot;/bin/bash&quot;, &quot;-c&quot;, &quot;/usr/bin/tar -cvf &quot; + &quot;a.tgz&quot; + &quot; &quot; + &quot;/tmp/a.crt&quot; };             CommandResponse cmdResponse = cmdRunner.runCommandWithConsoleOutput(command);"}],"answers":[{"tags":[],"owner":{"account_id":275035,"reputation":10886,"user_id":567650,"accept_rate":86,"display_name":"jwd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641503435,"creation_date":1641453454,"answer_id":70603690,"question_id":70603524,"body_markdown":"Here is a Bash session demonstrating what you want (as I understand it):\r\n\r\n    # first, create test files\r\n    $ mkdir tmp\r\n    $ touch tmp/a.crt\r\n    $ find .\r\n    .\r\n    ./tmp\r\n    ./tmp/a.crt\r\n\r\n    # use &quot;-C&quot; to keep the filename out of the archive\r\n    $ tar -C tmp -czvf a.tgz a.crt\r\n    a.crt\r\n\r\n    # confirm results\r\n    $ tar tf a.tgz \r\n    a.crt\r\n\r\n\r\nAs you can see, in the final `a.tgz` file, there is no `tmp/` directory present.\r\n\r\nThis is generally a bad idea, creating what is sometimes called a &quot;tar bomb&quot; ([link][1]). But presumably you have a good reason for it (:\r\n\r\n\r\n  [1]: http://www.linfo.org/tarbomb.html","title":"How to create tar file which contains only file","body":"<p>Here is a Bash session demonstrating what you want (as I understand it):</p>\n<pre><code># first, create test files\n$ mkdir tmp\n$ touch tmp/a.crt\n$ find .\n.\n./tmp\n./tmp/a.crt\n\n# use &quot;-C&quot; to keep the filename out of the archive\n$ tar -C tmp -czvf a.tgz a.crt\na.crt\n\n# confirm results\n$ tar tf a.tgz \na.crt\n</code></pre>\n<p>As you can see, in the final <code>a.tgz</code> file, there is no <code>tmp/</code> directory present.</p>\n<p>This is generally a bad idea, creating what is sometimes called a &quot;tar bomb&quot; (<a href=\"http://www.linfo.org/tarbomb.html\" rel=\"nofollow noreferrer\">link</a>). But presumably you have a good reason for it (:</p>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641461927,"creation_date":1641461927,"answer_id":70605097,"question_id":70603524,"body_markdown":"If you want to create a compressed tar file (`.tgz` or `.tar.gz`), you have to use the [option `z`][1]. Otherwise you have only an uncompressed tar file (`.tar`). You probably omitted this option during creation.\r\n\r\n\r\n  [1]: https://www.gnu.org/software/tar/manual/html_chapter/Formats.html#gzip","title":"How to create tar file which contains only file","body":"<p>If you want to create a compressed tar file (<code>.tgz</code> or <code>.tar.gz</code>), you have to use the <a href=\"https://www.gnu.org/software/tar/manual/html_chapter/Formats.html#gzip\" rel=\"nofollow noreferrer\">option <code>z</code></a>. Otherwise you have only an uncompressed tar file (<code>.tar</code>). You probably omitted this option during creation.</p>\n"}],"owner":{"account_id":10337571,"reputation":35,"user_id":7625146,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1641503435,"creation_date":1641452244,"question_id":70603524,"body_markdown":"  I have a file in /tmp/a.crt I will have to make a.tgz which contains a.crt not tmp/a.crt. As i am running tar command through java I can&#39;t navigate to /tmp and execute `tar -cvf a.tgz a.crt`\r\nIf i run `tar -cvf a.tgz /tmp/a.crt` it creates a a.tgz which contains tmp/a.crt .\r\n\r\nI tried `tar --exclude=&#39;/tmp&#39; -cvf a.tgz /tmp/a.crt`  but while untaring it says \r\n\r\n&gt; gzip: stdin: not in gzip format\r\n\r\n&gt; tar: Child returned status 1\r\n\r\n\r\nIs there any way to achieve my requirement.\r\n","title":"How to create tar file which contains only file","body":"<p>I have a file in /tmp/a.crt I will have to make a.tgz which contains a.crt not tmp/a.crt. As i am running tar command through java I can't navigate to /tmp and execute <code>tar -cvf a.tgz a.crt</code>\nIf i run <code>tar -cvf a.tgz /tmp/a.crt</code> it creates a a.tgz which contains tmp/a.crt .</p>\n<p>I tried <code>tar --exclude='/tmp' -cvf a.tgz /tmp/a.crt</code>  but while untaring it says</p>\n<blockquote>\n<p>gzip: stdin: not in gzip format</p>\n</blockquote>\n<blockquote>\n<p>tar: Child returned status 1</p>\n</blockquote>\n<p>Is there any way to achieve my requirement.</p>\n"},{"tags":["java","javafx","module-path"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641503263,"creation_date":1641370157,"answer_id":70589593,"question_id":70589427,"body_markdown":"Forget about trying to create a single executable jar that includes JavaFX components and depends on a pre-installed JVM (it is not a supported configuration).  \r\n\r\nHowever, [cwellm&#39;s answer here](https://stackoverflow.com/a/70613009/1155209) details a method that keeps the modular JavaFX dependencies separate from the created application jar by keeping the JavaFX modules in separate jars added to the module path, I believe that this might be a valid and supported deployment configuration.  It does require deploying multiple jar files to the client in the right locations in order for it to work.  Another alternative would be to assume a distribution of the JDK such as liberica or corretto which can come with JavaFX included in the base JDK distribution, then you don&#39;t need to specify a module path for JavaFX as it will already be present in the default boot module path for the JDK.\r\n\r\n**Recommended Solutions**\r\n\r\nInstead [create a runtime image using jlink](https://openjfx.io/openjfx-docs/#modular), this can be done by (among other methods) using the [openjfx maven plugin](https://github.com/openjfx/javafx-maven-plugin).\r\n\r\nOr if you want an installer, use jpackage which can also (among other methods) be created using maven, see [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) as an example.  \r\n\r\njpackage doesn’t create archlinux native packages. So if you want that, then jpackage wouldn’t be the thing to use.  Instead you could use a maven assembly or tar call to create a zip or tar.gz of the jlink output, or use the pacman tool to create a native archlinux package of the same.\r\n\r\nOr if you like gradle see the [badass jlink and runtime plugins](https://badass-jlink-plugin.beryx.org/releases/latest/).\r\n\r\nUsing a build tool (maven or gradle) to include the JavaFX dependencies rather than relying a JavaFX sdk download is preferred IMO.  Also, if possible, define a module-info. Then jlink can be used to create the required runtime from your app, it’s dependencies and the jre, as well as the execution script for the app, so that things are self-contained.  Native packages in rpm or deb format created by jpackage takes this further.  Installing apps packaged this way also ensures all required OS lib dependencies are correct.\r\n\r\nIf you want to understand more see the contextual info (FAQ section) in this answer:\r\n\r\n * https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr","title":"Customizing --module-path for Java","body":"<p>Forget about trying to create a single executable jar that includes JavaFX components and depends on a pre-installed JVM (it is not a supported configuration).</p>\n<p>However, <a href=\"https://stackoverflow.com/a/70613009/1155209\">cwellm's answer here</a> details a method that keeps the modular JavaFX dependencies separate from the created application jar by keeping the JavaFX modules in separate jars added to the module path, I believe that this might be a valid and supported deployment configuration.  It does require deploying multiple jar files to the client in the right locations in order for it to work.  Another alternative would be to assume a distribution of the JDK such as liberica or corretto which can come with JavaFX included in the base JDK distribution, then you don't need to specify a module path for JavaFX as it will already be present in the default boot module path for the JDK.</p>\n<p><strong>Recommended Solutions</strong></p>\n<p>Instead <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">create a runtime image using jlink</a>, this can be done by (among other methods) using the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\">openjfx maven plugin</a>.</p>\n<p>Or if you want an installer, use jpackage which can also (among other methods) be created using maven, see <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> as an example.</p>\n<p>jpackage doesn’t create archlinux native packages. So if you want that, then jpackage wouldn’t be the thing to use.  Instead you could use a maven assembly or tar call to create a zip or tar.gz of the jlink output, or use the pacman tool to create a native archlinux package of the same.</p>\n<p>Or if you like gradle see the <a href=\"https://badass-jlink-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">badass jlink and runtime plugins</a>.</p>\n<p>Using a build tool (maven or gradle) to include the JavaFX dependencies rather than relying a JavaFX sdk download is preferred IMO.  Also, if possible, define a module-info. Then jlink can be used to create the required runtime from your app, it’s dependencies and the jre, as well as the execution script for the app, so that things are self-contained.  Native packages in rpm or deb format created by jpackage takes this further.  Installing apps packaged this way also ensures all required OS lib dependencies are correct.</p>\n<p>If you want to understand more see the contextual info (FAQ section) in this answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr\">How to create a standalone .exe in Java (that runs without an installer and a JRE)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20140480,"reputation":64,"user_id":14836289,"display_name":"cwellm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641499387,"creation_date":1641499387,"answer_id":70613009,"question_id":70589427,"body_markdown":"It **is** possible to put several custom module paths into the command --module-path. It is important to really put in the full path of the required modules, including the filename of the module itself. For instance, let&#39;s assume I want to include the modules module1.jar and module2.jar for the execution of MyApplication.jar, and *all of these files* are put into the same folder, say /my/custom/folder. Then the command line command would look like this:\r\n\r\n    java -jar --module-path /my/custom/folder/module1.jar:/my/custom/folder/module2.jar --add-modules module1,module2 MyApplication.jar\r\n\r\n","title":"Customizing --module-path for Java","body":"<p>It <strong>is</strong> possible to put several custom module paths into the command --module-path. It is important to really put in the full path of the required modules, including the filename of the module itself. For instance, let's assume I want to include the modules module1.jar and module2.jar for the execution of MyApplication.jar, and <em>all of these files</em> are put into the same folder, say /my/custom/folder. Then the command line command would look like this:</p>\n<pre><code>java -jar --module-path /my/custom/folder/module1.jar:/my/custom/folder/module2.jar --add-modules module1,module2 MyApplication.jar\n</code></pre>\n"}],"owner":{"account_id":20140480,"reputation":64,"user_id":14836289,"display_name":"cwellm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641503263,"creation_date":1641369110,"question_id":70589427,"body_markdown":"I created a javafx application via the IDE IntelliJ IDEA on ArchLinux. Now, I want to start this program without any IDE, so I created a .jar file. When trying to start the program with java -jar myprogram.jar, then I get the error message that runtime components for javafx are missing. Fine - I&#39;ll add these with the --module-path option, and it runs. \r\n\r\nHowever, this --module-path thing only works somehow when I set the module path being somewhere in /lib/... On the other hand, when I try to copy the javafx modules into the folder where the myprogram.jar file is and set the module path there, the modules cannot be found. \r\n\r\nMy issue is the fact that I want to &quot;self-contain&quot; everything possible in one folder, such that I could copy&amp;paste everything on another machine where the JVM is installed and just run it, and **do not** want to depend on the specific path where the javafx modules are installed. Maybe there is another way than to customize the --module-path?\r\n\r\nAny help? Thanks :-) ","title":"Customizing --module-path for Java","body":"<p>I created a javafx application via the IDE IntelliJ IDEA on ArchLinux. Now, I want to start this program without any IDE, so I created a .jar file. When trying to start the program with java -jar myprogram.jar, then I get the error message that runtime components for javafx are missing. Fine - I'll add these with the --module-path option, and it runs.</p>\n<p>However, this --module-path thing only works somehow when I set the module path being somewhere in /lib/... On the other hand, when I try to copy the javafx modules into the folder where the myprogram.jar file is and set the module path there, the modules cannot be found.</p>\n<p>My issue is the fact that I want to &quot;self-contain&quot; everything possible in one folder, such that I could copy&amp;paste everything on another machine where the JVM is installed and just run it, and <strong>do not</strong> want to depend on the specific path where the javafx modules are installed. Maybe there is another way than to customize the --module-path?</p>\n<p>Any help? Thanks :-)</p>\n"},{"tags":["java","javafx-2"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1372137763,"creation_date":1372137763,"answer_id":17289707,"question_id":17288995,"body_markdown":"I create a `BorderedTitledPane` class which places a titled border around content.\r\n\r\nIf you don&#39;t need to have a title placing a border around things is even easier - just set the the [css border parameters on a region][1] (e.g. `-fx-border-color: black;`). \r\n\r\nHere is a [complete executable sample][2].\r\n\r\n![borderedtitledpane][4]\r\n\r\n    import javafx.beans.InvalidationListener;\r\n    import javafx.beans.Observable;\r\n    import javafx.beans.binding.Bindings;\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.StackPane;\r\n    \r\n    /** Places content in a bordered pane with a title. */\r\n    public class BorderedTitledPane extends StackPane {\r\n      private StringProperty title = new SimpleStringProperty();\r\n      private ObjectProperty&lt;Node&gt; graphic = new SimpleObjectProperty&lt;&gt;();\r\n      private ObjectProperty&lt;Node&gt; content = new SimpleObjectProperty&lt;&gt;();\r\n      private ObjectProperty&lt;Pos&gt;  titleAlignment = new SimpleObjectProperty&lt;&gt;();\r\n      // todo other than TOP_LEFT other alignments aren&#39;t really supported correctly, due to translation fudge for indentation of the title label in css =&gt; best to implement layoutChildren and handle layout there.\r\n      // todo work out how to make content the default node for fxml so you don&#39;t need to write a &lt;content&gt;&lt;/content&gt; tag.\r\n    \r\n      public BorderedTitledPane() {\r\n        this(&quot;&quot;, null);\r\n      }\r\n    \r\n      public BorderedTitledPane(String titleString, Node contentNode) {\r\n        final Label titleLabel = new Label();\r\n        titleLabel.textProperty().bind(Bindings.concat(title, &quot; &quot;));\r\n        titleLabel.getStyleClass().add(&quot;bordered-titled-title&quot;);\r\n        titleLabel.graphicProperty().bind(graphic);\r\n    \r\n        titleAlignment.addListener(new InvalidationListener() {\r\n          @Override\r\n          public void invalidated(Observable observable) {\r\n            StackPane.setAlignment(titleLabel, titleAlignment.get());\r\n          }\r\n        });\r\n    \r\n        final StackPane contentPane = new StackPane();\r\n    \r\n        getStyleClass().add(&quot;bordered-titled-border&quot;);\r\n        getChildren().addAll(titleLabel, contentPane);\r\n    \r\n        content.addListener(new InvalidationListener() {\r\n          @Override\r\n          public void invalidated(Observable observable) {\r\n            if (content.get() == null) {\r\n              contentPane.getChildren().clear();\r\n            } else {\r\n              if (!content.get().getStyleClass().contains(&quot;bordered-titled-content&quot;)) {\r\n                content.get().getStyleClass().add(&quot;bordered-titled-content&quot;);  // todo would be nice to remove this style class when it is no longer required.\r\n              }\r\n              contentPane.getChildren().setAll(content.get());\r\n            }\r\n          }\r\n        });\r\n    \r\n        titleAlignment.set(Pos.TOP_LEFT);\r\n        this.title.set(titleString);\r\n        this.content.set(contentNode);\r\n      }\r\n    \r\n      public String getTitle() {\r\n        return title.get();\r\n      }\r\n    \r\n      public StringProperty getTitleStringProperty() {\r\n        return title;\r\n      }\r\n    \r\n      public void setTitle(String title) {\r\n        this.title.set(title);\r\n      }\r\n    \r\n      public Pos getTitleAlignment() {\r\n        return titleAlignment.get();\r\n      }\r\n    \r\n      public ObjectProperty&lt;Pos&gt; titleAlignmentProperty() {\r\n        return titleAlignment;\r\n      }\r\n    \r\n      public void setTitleAlignment(Pos titleAlignment) {\r\n        this.titleAlignment.set(titleAlignment);\r\n      }\r\n    \r\n      public Node getContent() {\r\n        return content.get();\r\n      }\r\n    \r\n      public ObjectProperty&lt;Node&gt; contentProperty() {\r\n        return content;\r\n      }\r\n    \r\n      public void setContent(Node content) {\r\n        this.content.set(content);\r\n      }\r\n    \r\n      public Node getGraphic() {\r\n        return graphic.get();\r\n      }\r\n    \r\n      public ObjectProperty&lt;Node&gt; graphicProperty() {\r\n        return graphic;\r\n      }\r\n    \r\n      public void setGraphic(Node graphic) {\r\n        this.graphic.set(graphic);\r\n      }\r\n    }\r\n\r\nRelated CSS.\r\n\r\n    .bordered-titled-title {\r\n      -fx-translate-x:  8;\r\n      -fx-translate-y: -10;\r\n      -fx-padding: 0 0 0 4;\r\n      -fx-background-color: -fx-background;\r\n    }\r\n    \r\n    .bordered-titled-border {\r\n      -fx-content-display: top;\r\n      -fx-border-insets: 2 0 0 0;\r\n      -fx-border-color: -fx-text-box-border;\r\n      -fx-border-width: 2;\r\n    }\r\n    \r\n    .bordered-titled-content {\r\n      -fx-padding: 18 5 5 5;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#region\r\n  [2]: https://gist.github.com/jewelsea/2838292\r\n  [3]: http://i.stack.imgur.com/UhgEy.jpg\r\n  [4]: http://i.stack.imgur.com/cNKpM.jpg","title":"How to add border to panel of javafx?","body":"<p>I create a <code>BorderedTitledPane</code> class which places a titled border around content.</p>\n\n<p>If you don't need to have a title placing a border around things is even easier - just set the the <a href=\"http://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#region\">css border parameters on a region</a> (e.g. <code>-fx-border-color: black;</code>). </p>\n\n<p>Here is a <a href=\"https://gist.github.com/jewelsea/2838292\">complete executable sample</a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/cNKpM.jpg\" alt=\"borderedtitledpane\"></p>\n\n<pre><code>import javafx.beans.InvalidationListener;\nimport javafx.beans.Observable;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\n\n/** Places content in a bordered pane with a title. */\npublic class BorderedTitledPane extends StackPane {\n  private StringProperty title = new SimpleStringProperty();\n  private ObjectProperty&lt;Node&gt; graphic = new SimpleObjectProperty&lt;&gt;();\n  private ObjectProperty&lt;Node&gt; content = new SimpleObjectProperty&lt;&gt;();\n  private ObjectProperty&lt;Pos&gt;  titleAlignment = new SimpleObjectProperty&lt;&gt;();\n  // todo other than TOP_LEFT other alignments aren't really supported correctly, due to translation fudge for indentation of the title label in css =&gt; best to implement layoutChildren and handle layout there.\n  // todo work out how to make content the default node for fxml so you don't need to write a &lt;content&gt;&lt;/content&gt; tag.\n\n  public BorderedTitledPane() {\n    this(\"\", null);\n  }\n\n  public BorderedTitledPane(String titleString, Node contentNode) {\n    final Label titleLabel = new Label();\n    titleLabel.textProperty().bind(Bindings.concat(title, \" \"));\n    titleLabel.getStyleClass().add(\"bordered-titled-title\");\n    titleLabel.graphicProperty().bind(graphic);\n\n    titleAlignment.addListener(new InvalidationListener() {\n      @Override\n      public void invalidated(Observable observable) {\n        StackPane.setAlignment(titleLabel, titleAlignment.get());\n      }\n    });\n\n    final StackPane contentPane = new StackPane();\n\n    getStyleClass().add(\"bordered-titled-border\");\n    getChildren().addAll(titleLabel, contentPane);\n\n    content.addListener(new InvalidationListener() {\n      @Override\n      public void invalidated(Observable observable) {\n        if (content.get() == null) {\n          contentPane.getChildren().clear();\n        } else {\n          if (!content.get().getStyleClass().contains(\"bordered-titled-content\")) {\n            content.get().getStyleClass().add(\"bordered-titled-content\");  // todo would be nice to remove this style class when it is no longer required.\n          }\n          contentPane.getChildren().setAll(content.get());\n        }\n      }\n    });\n\n    titleAlignment.set(Pos.TOP_LEFT);\n    this.title.set(titleString);\n    this.content.set(contentNode);\n  }\n\n  public String getTitle() {\n    return title.get();\n  }\n\n  public StringProperty getTitleStringProperty() {\n    return title;\n  }\n\n  public void setTitle(String title) {\n    this.title.set(title);\n  }\n\n  public Pos getTitleAlignment() {\n    return titleAlignment.get();\n  }\n\n  public ObjectProperty&lt;Pos&gt; titleAlignmentProperty() {\n    return titleAlignment;\n  }\n\n  public void setTitleAlignment(Pos titleAlignment) {\n    this.titleAlignment.set(titleAlignment);\n  }\n\n  public Node getContent() {\n    return content.get();\n  }\n\n  public ObjectProperty&lt;Node&gt; contentProperty() {\n    return content;\n  }\n\n  public void setContent(Node content) {\n    this.content.set(content);\n  }\n\n  public Node getGraphic() {\n    return graphic.get();\n  }\n\n  public ObjectProperty&lt;Node&gt; graphicProperty() {\n    return graphic;\n  }\n\n  public void setGraphic(Node graphic) {\n    this.graphic.set(graphic);\n  }\n}\n</code></pre>\n\n<p>Related CSS.</p>\n\n<pre><code>.bordered-titled-title {\n  -fx-translate-x:  8;\n  -fx-translate-y: -10;\n  -fx-padding: 0 0 0 4;\n  -fx-background-color: -fx-background;\n}\n\n.bordered-titled-border {\n  -fx-content-display: top;\n  -fx-border-insets: 2 0 0 0;\n  -fx-border-color: -fx-text-box-border;\n  -fx-border-width: 2;\n}\n\n.bordered-titled-content {\n  -fx-padding: 18 5 5 5;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3809506,"reputation":77,"user_id":3160898,"display_name":"Gaurang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641502674,"creation_date":1641502674,"answer_id":70613540,"question_id":17288995,"body_markdown":"I have created TitledBorderedPane class that extends StackPane. I have used Shape objects to create Rectangle and Text. The class contains a container StackPane object that holds the contents. The following code is self-explanatory. \r\n\r\n    import javafx.collections.ObservableList;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.scene.shape.Shape;\r\n    import javafx.scene.text.Text;\r\n    \r\n    public class TitledBorderedPane extends StackPane{\r\n    \r\n        private final StackPane container;\r\n    \r\n        private final Group shapeGroup = new Group();\r\n        private final Rectangle rect;\r\n        private final Rectangle rectRemove;\r\n        private final Text title;\r\n    \r\n        public TitledBorderedPane(String titleText) {\r\n            \r\n            container = new StackPane();\r\n    \r\n            //Rectangle to create border\r\n            //Initial size of the rectangle is not important \r\n            //as it is set with action listener.\r\n            rect = new Rectangle(0, 0, 200, 200);\r\n            rect.setStroke(Color.BLACK);\r\n            rect.setFill(null);\r\n            rect.setStrokeWidth(1);\r\n            rect.setArcWidth(10.0);\r\n            rect.setArcHeight(10.0);\r\n    \r\n            //Border title text               \r\n            title = new Text(20.0, 4.0, titleText);        \r\n    \r\n            //Rectangle to remove part of the border to fit the text\r\n            rectRemove = new Rectangle(15, -2, title.getBoundsInLocal().getWidth() + 10, 5);\r\n    \r\n            //Set padding of the container, so the content of the container \r\n            //does not overlap the border\r\n            container.setPadding(new Insets(title.getBoundsInLocal().getHeight() + 5));\r\n    \r\n            super.getChildren().addAll(shapeGroup, container);\r\n    \r\n            //Add action listeners to width and height properties \r\n            widthProperty().addListener(\r\n                    (observable, oldvalue, newvalue) -&gt; {\r\n                        rect.setWidth((double)newvalue - title.getBoundsInLocal().getHeight());\r\n                        setShape();\r\n                    }\r\n            );\r\n            heightProperty().addListener(\r\n                    (observable, oldvalue, newvalue) -&gt; {\r\n                        rect.setHeight((double)newvalue - title.getBoundsInLocal().getHeight());\r\n                        setShape();\r\n                    }\r\n            );\r\n    \r\n            //The style should not be used here. I have used it only for the example.\r\n            setStyle(&quot;-fx-background-color: rgba(0, 100, 100, 0.5); -fx-background-radius: 0;&quot;);\r\n        }\r\n    \r\n        private void setShape() {        \r\n            Shape shape = Shape.subtract(rect, rectRemove);\r\n            shape.setSmooth(true);\r\n            shapeGroup.getChildren().clear();\r\n            shapeGroup.getChildren().addAll(shape, title);\r\n        }\r\n    \r\n        /**\r\n         * Returns ObservableList of the container pane\r\n         *\r\n         * @return\r\n         */\r\n        @Override\r\n        public ObservableList&lt;Node&gt; getChildren() {\r\n            return container.getChildren();\r\n        }\r\n    \r\n    }\r\n\r\nThe class can be used as a normal StackPane. It gives the following result.\r\n\r\n[![TitledBorderedPane showing two instances][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qj0bx.png","title":"How to add border to panel of javafx?","body":"<p>I have created TitledBorderedPane class that extends StackPane. I have used Shape objects to create Rectangle and Text. The class contains a container StackPane object that holds the contents. The following code is self-explanatory.</p>\n<pre><code>import javafx.collections.ObservableList;\nimport javafx.geometry.Insets;\nimport javafx.scene.Group;\nimport javafx.scene.Node;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.shape.Shape;\nimport javafx.scene.text.Text;\n\npublic class TitledBorderedPane extends StackPane{\n\n    private final StackPane container;\n\n    private final Group shapeGroup = new Group();\n    private final Rectangle rect;\n    private final Rectangle rectRemove;\n    private final Text title;\n\n    public TitledBorderedPane(String titleText) {\n        \n        container = new StackPane();\n\n        //Rectangle to create border\n        //Initial size of the rectangle is not important \n        //as it is set with action listener.\n        rect = new Rectangle(0, 0, 200, 200);\n        rect.setStroke(Color.BLACK);\n        rect.setFill(null);\n        rect.setStrokeWidth(1);\n        rect.setArcWidth(10.0);\n        rect.setArcHeight(10.0);\n\n        //Border title text               \n        title = new Text(20.0, 4.0, titleText);        \n\n        //Rectangle to remove part of the border to fit the text\n        rectRemove = new Rectangle(15, -2, title.getBoundsInLocal().getWidth() + 10, 5);\n\n        //Set padding of the container, so the content of the container \n        //does not overlap the border\n        container.setPadding(new Insets(title.getBoundsInLocal().getHeight() + 5));\n\n        super.getChildren().addAll(shapeGroup, container);\n\n        //Add action listeners to width and height properties \n        widthProperty().addListener(\n                (observable, oldvalue, newvalue) -&gt; {\n                    rect.setWidth((double)newvalue - title.getBoundsInLocal().getHeight());\n                    setShape();\n                }\n        );\n        heightProperty().addListener(\n                (observable, oldvalue, newvalue) -&gt; {\n                    rect.setHeight((double)newvalue - title.getBoundsInLocal().getHeight());\n                    setShape();\n                }\n        );\n\n        //The style should not be used here. I have used it only for the example.\n        setStyle(&quot;-fx-background-color: rgba(0, 100, 100, 0.5); -fx-background-radius: 0;&quot;);\n    }\n\n    private void setShape() {        \n        Shape shape = Shape.subtract(rect, rectRemove);\n        shape.setSmooth(true);\n        shapeGroup.getChildren().clear();\n        shapeGroup.getChildren().addAll(shape, title);\n    }\n\n    /**\n     * Returns ObservableList of the container pane\n     *\n     * @return\n     */\n    @Override\n    public ObservableList&lt;Node&gt; getChildren() {\n        return container.getChildren();\n    }\n\n}\n</code></pre>\n<p>The class can be used as a normal StackPane. It gives the following result.</p>\n<p><a href=\"https://i.stack.imgur.com/Qj0bx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qj0bx.png\" alt=\"TitledBorderedPane showing two instances\" /></a></p>\n"}],"owner":{"account_id":2118118,"reputation":2223,"user_id":1881962,"accept_rate":79,"display_name":"Rajesh Kumar Dash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43421,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":17289707,"answer_count":2,"score":10,"last_activity_date":1641502674,"creation_date":1372133173,"question_id":17288995,"body_markdown":"I am developing a application where I need some widgets to wrap up inside a panel. And I want to put a border around it. I am a swt programmer where in composite I can pass swt.border to put border. But how to do that in JavaFX. Any help on this is appreciated.\r\n\r\nCODE:\r\n\r\n    Label Center=new Label();\r\n    Center.setText(&quot;Center Frequency&quot;);\r\n    \r\n    GridPane.setConstraints(Center, 0, 0);\r\n    tb1[i].getChildren().add(Center);\r\n    TextField text=new TextField();\r\n    GridPane.setConstraints(text, 1, 0);\r\n    tb1[i].getChildren().add(text);\r\n    \r\n    Label chiprate=new Label();\r\n    chiprate.setText(&quot;Chiprate&quot;);\r\n    \r\n    GridPane.setConstraints(chiprate, 0, 1);\r\n    tb1[i].getChildren().add(chiprate);\r\n    TextField chip=new TextField();\r\n    GridPane.setConstraints(chip, 1, 1);\r\n    tb1[i].getChildren().add(chip);\r\n    \r\n    Label frequency=new Label();\r\n    frequency.setText(&quot;Frequency deviation&quot;);\r\n    \r\n    GridPane.setConstraints(frequency, 0, 2);\r\n    tb1[i].getChildren().add(frequency);\r\n    TextField frequencydeviation=new TextField();\r\n    GridPane.setConstraints(frequencydeviation, 1, 2);\r\n    tb1[i].getChildren().add(frequencydeviation);\r\n    \r\n    Label outputLabel=new Label();\r\n    outputLabel.setText(&quot;Output Power&quot;);\r\n    \r\n    GridPane.setConstraints(outputLabel, 0, 3);\r\n    tb1[i].getChildren().add(outputLabel);\r\n    TextField output=new TextField();\r\n    GridPane.setConstraints(output, 1, 3);\r\n    tb1[i].getChildren().add(output);\r\n            ","title":"How to add border to panel of javafx?","body":"<p>I am developing a application where I need some widgets to wrap up inside a panel. And I want to put a border around it. I am a swt programmer where in composite I can pass swt.border to put border. But how to do that in JavaFX. Any help on this is appreciated.</p>\n\n<p>CODE:</p>\n\n<pre><code>Label Center=new Label();\nCenter.setText(\"Center Frequency\");\n\nGridPane.setConstraints(Center, 0, 0);\ntb1[i].getChildren().add(Center);\nTextField text=new TextField();\nGridPane.setConstraints(text, 1, 0);\ntb1[i].getChildren().add(text);\n\nLabel chiprate=new Label();\nchiprate.setText(\"Chiprate\");\n\nGridPane.setConstraints(chiprate, 0, 1);\ntb1[i].getChildren().add(chiprate);\nTextField chip=new TextField();\nGridPane.setConstraints(chip, 1, 1);\ntb1[i].getChildren().add(chip);\n\nLabel frequency=new Label();\nfrequency.setText(\"Frequency deviation\");\n\nGridPane.setConstraints(frequency, 0, 2);\ntb1[i].getChildren().add(frequency);\nTextField frequencydeviation=new TextField();\nGridPane.setConstraints(frequencydeviation, 1, 2);\ntb1[i].getChildren().add(frequencydeviation);\n\nLabel outputLabel=new Label();\noutputLabel.setText(\"Output Power\");\n\nGridPane.setConstraints(outputLabel, 0, 3);\ntb1[i].getChildren().add(outputLabel);\nTextField output=new TextField();\nGridPane.setConstraints(output, 1, 3);\ntb1[i].getChildren().add(output);\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1446825177,"post_id":33568966,"comment_id":54919243,"body_markdown":"You are missing one important entity in your diagram: the user. When you try to model that you will notice, that the `consistsOf` attribute makes no sense.","body":"You are missing one important entity in your diagram: the user. When you try to model that you will notice, that the <code>consistsOf</code> attribute makes no sense."},{"owner":{"account_id":6163173,"reputation":125,"user_id":4804050,"accept_rate":75,"display_name":"bauz"},"score":0,"creation_date":1446828437,"post_id":33568966,"comment_id":54921228,"body_markdown":"Could you explain a bit more in detail? The `consistsOf` attribute means, that a course can (but not has to) have one or more &quot;sub-courses&quot;. Where should the user come in?","body":"Could you explain a bit more in detail? The <code>consistsOf</code> attribute means, that a course can (but not has to) have one or more &quot;sub-courses&quot;. Where should the user come in?"},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1446829192,"post_id":33568966,"comment_id":54921662,"body_markdown":"Did you mean to sort the courses and persons _per user_? That&#39;s what I guessed from _the ability for the user to add a manual sort sequence_. And in that case you would have to store the sequence per user.","body":"Did you mean to sort the courses and persons <i>per user</i>? That&#39;s what I guessed from <i>the ability for the user to add a manual sort sequence</i>. And in that case you would have to store the sequence per user."},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1446829378,"post_id":33568966,"comment_id":54921785,"body_markdown":"Btw. I&#39;m usually preach a _classes first_ approach. Usually a straight class design leads to a straight table design as well.","body":"Btw. I&#39;m usually preach a <i>classes first</i> approach. Usually a straight class design leads to a straight table design as well."},{"owner":{"account_id":6163173,"reputation":125,"user_id":4804050,"accept_rate":75,"display_name":"bauz"},"score":0,"creation_date":1446830459,"post_id":33568966,"comment_id":54922340,"body_markdown":"@TobiasLiefke I edited my post, hope that makes it a bit more clean. Thanks for your efforts.","body":"@TobiasLiefke I edited my post, hope that makes it a bit more clean. Thanks for your efforts."}],"answers":[{"tags":[],"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1447340949,"creation_date":1446833947,"answer_id":33573167,"question_id":33568966,"body_markdown":"Instead of creating a table layout or UML diagram lets look what JPA is able to do:\r\n\r\n    @Entity\r\n    public class Course {\r\n        ...\r\n        @OneToMany\r\n        @OrderColumn\r\n        private List&lt;Person&gt; responsiblePersons;\r\n\r\n        @OneToMany\r\n        @OrderColumn\r\n        private List&lt;Course&gt; consistsOf;\r\n    }\r\n\r\n    @Entity\r\n    public class Person {\r\n        ...\r\n        @OneToMany(mappedBy = &quot;responsiblePerson&quot;)\r\n        private List&lt;Course&gt; responsibleFor;\r\n    }\r\n\r\nThe important thing is the `List` with the `@OrderColumn` declaration which indicates that the mapping has a stable order.\r\n\r\nThis will create four tables:\r\n\r\n    COURSE\r\n    ------\r\n    id, ...\r\n\r\n    PERSON\r\n    ------\r\n    id, ...\r\n\r\n    COURSE_PERSON\r\n    ------\r\n    course_id, responsiblePersons_id, responsiblePersons_order\r\n\r\n    COURSE_COURSE\r\n    ------\r\n    course_id, consistsOf_id, consistsOf_order\r\n\r\nSo no need to invent some &quot;wrapper&quot; entities.","title":"Enabling manual sorting for entities","body":"<p>Instead of creating a table layout or UML diagram lets look what JPA is able to do:</p>\n\n<pre><code>@Entity\npublic class Course {\n    ...\n    @OneToMany\n    @OrderColumn\n    private List&lt;Person&gt; responsiblePersons;\n\n    @OneToMany\n    @OrderColumn\n    private List&lt;Course&gt; consistsOf;\n}\n\n@Entity\npublic class Person {\n    ...\n    @OneToMany(mappedBy = \"responsiblePerson\")\n    private List&lt;Course&gt; responsibleFor;\n}\n</code></pre>\n\n<p>The important thing is the <code>List</code> with the <code>@OrderColumn</code> declaration which indicates that the mapping has a stable order.</p>\n\n<p>This will create four tables:</p>\n\n<pre><code>COURSE\n------\nid, ...\n\nPERSON\n------\nid, ...\n\nCOURSE_PERSON\n------\ncourse_id, responsiblePersons_id, responsiblePersons_order\n\nCOURSE_COURSE\n------\ncourse_id, consistsOf_id, consistsOf_order\n</code></pre>\n\n<p>So no need to invent some \"wrapper\" entities.</p>\n"}],"owner":{"account_id":6163173,"reputation":125,"user_id":4804050,"accept_rate":75,"display_name":"bauz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33573167,"answer_count":1,"score":0,"last_activity_date":1641502291,"creation_date":1446819901,"question_id":33568966,"body_markdown":"I have two entities, &quot;Course&quot; and &quot;Person&quot;.\r\n\r\n1) One or more Persons are responsible for a course\r\n\r\n2) A course can contain of other courses.\r\n\r\nNow I want to realize the ability to add a manual sort sequence for both, the responsible persons and the contained courses.\r\n\r\nThat means, it should be able to display the courses like this:\r\n\r\n    Course 1:\r\n      Responsible Persons:\r\n       1. Person A\r\n       2. Person B\r\n       3. Person C\r\n\r\n    Course 2:\r\n      Responsible Persons:\r\n       1. Person B\r\n       2. Person A\r\n       3. Person C\r\n\r\nAnd this order can be declared when creating a Course. But there is nothing like a role-concept for different users, who are using the application. So to say, there will only be &quot;one&quot; user and nothing like a `User` class.\r\n\r\nAs you can see in the diagram below. I thought of two new classes called &quot;SortableCourse&quot; and &quot;SortablePerson&quot; which contain an additional ID for the sorting.\r\n\r\n1) Is this a good approach?\r\n\r\n2) I will use Java and Hibernate for the OR-Mapping:\r\n\r\n2.1) Do I miss something, that could cause problems later on with the mapping / creation of the tables?\r\n\r\n2.2) Could it be a problem, that Person has a List of Courses, but the Course has a list of SortablePersons? Because from the database-view I guess, it would be enough to have a table with Course IDs and SortablePerson IDs. Does anyone have experience how Hibernate will &quot;translate&quot; this?\r\n\r\nHope my idea got clear, thanks in advance for any hints!\r\n\r\n\r\n\r\n [![Course class diagram][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pIhSK.png","title":"Enabling manual sorting for entities","body":"<p>I have two entities, \"Course\" and \"Person\".</p>\n\n<p>1) One or more Persons are responsible for a course</p>\n\n<p>2) A course can contain of other courses.</p>\n\n<p>Now I want to realize the ability to add a manual sort sequence for both, the responsible persons and the contained courses.</p>\n\n<p>That means, it should be able to display the courses like this:</p>\n\n<pre><code>Course 1:\n  Responsible Persons:\n   1. Person A\n   2. Person B\n   3. Person C\n\nCourse 2:\n  Responsible Persons:\n   1. Person B\n   2. Person A\n   3. Person C\n</code></pre>\n\n<p>And this order can be declared when creating a Course. But there is nothing like a role-concept for different users, who are using the application. So to say, there will only be \"one\" user and nothing like a <code>User</code> class.</p>\n\n<p>As you can see in the diagram below. I thought of two new classes called \"SortableCourse\" and \"SortablePerson\" which contain an additional ID for the sorting.</p>\n\n<p>1) Is this a good approach?</p>\n\n<p>2) I will use Java and Hibernate for the OR-Mapping:</p>\n\n<p>2.1) Do I miss something, that could cause problems later on with the mapping / creation of the tables?</p>\n\n<p>2.2) Could it be a problem, that Person has a List of Courses, but the Course has a list of SortablePersons? Because from the database-view I guess, it would be enough to have a table with Course IDs and SortablePerson IDs. Does anyone have experience how Hibernate will \"translate\" this?</p>\n\n<p>Hope my idea got clear, thanks in advance for any hints!</p>\n\n<p><a href=\"https://i.stack.imgur.com/pIhSK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pIhSK.png\" alt=\"Course class diagram\"></a></p>\n"},{"tags":["java","spring","spring-boot","oop","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":13229986,"reputation":167,"user_id":9553927,"display_name":"S. Kostadinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640943913,"creation_date":1640943913,"answer_id":70540981,"question_id":70524363,"body_markdown":"Alright, I found a solution. First, I need to create a `BaseServiceFactory` and pass the repository to the `BaseService` constructor:\r\n```java\r\n@NoArgsConstructor\r\n@Service\r\npublic class BaseServiceFactory&lt;T&gt; {\r\n    public BaseService&lt;T&gt; getBaseService(BaseRepository&lt;T&gt; repository) {\r\n        return new BaseService&lt;T&gt;(repository);\r\n    }\r\n}\r\n```\r\nThen each new controller(that inherits `BaseController`) will invoke the factory and pass the repository explicitly(for example, pass `InkUsageRepository` or `MediaCategoryUsageRepository`, etc):\r\n```java\r\n@RequestMapping(&quot;InkUsage&quot;)\r\n@RestController\r\npublic class InkUsageController extends BaseController&lt;InkUsageDto&gt; {\r\n    public InkUsageController(BaseServiceFactory&lt;InkUsageDto&gt; baseServiceFactory,\r\n                              InkUsageRepository repository) {\r\n        super(baseServiceFactory.getBaseService(repository));\r\n    }\r\n}\r\n```\r\nAnd last, the `BaseService` needs to inject the repository lazily like this:\r\n```java\r\n@Service\r\npublic class BaseService&lt;T&gt; {\r\n    private final BaseRepository&lt;T&gt; repository;\r\n\r\n    public BaseService(@Lazy @Autowired BaseRepository&lt;T&gt; repository) {\r\n        this.repository = repository;\r\n    }\r\n    ...\r\n}\r\n```","title":"Spring can not pick a JpaRepository that extends a generic interface","body":"<p>Alright, I found a solution. First, I need to create a <code>BaseServiceFactory</code> and pass the repository to the <code>BaseService</code> constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@Service\npublic class BaseServiceFactory&lt;T&gt; {\n    public BaseService&lt;T&gt; getBaseService(BaseRepository&lt;T&gt; repository) {\n        return new BaseService&lt;T&gt;(repository);\n    }\n}\n</code></pre>\n<p>Then each new controller(that inherits <code>BaseController</code>) will invoke the factory and pass the repository explicitly(for example, pass <code>InkUsageRepository</code> or <code>MediaCategoryUsageRepository</code>, etc):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;InkUsage&quot;)\n@RestController\npublic class InkUsageController extends BaseController&lt;InkUsageDto&gt; {\n    public InkUsageController(BaseServiceFactory&lt;InkUsageDto&gt; baseServiceFactory,\n                              InkUsageRepository repository) {\n        super(baseServiceFactory.getBaseService(repository));\n    }\n}\n</code></pre>\n<p>And last, the <code>BaseService</code> needs to inject the repository lazily like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class BaseService&lt;T&gt; {\n    private final BaseRepository&lt;T&gt; repository;\n\n    public BaseService(@Lazy @Autowired BaseRepository&lt;T&gt; repository) {\n        this.repository = repository;\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20713334,"reputation":109,"user_id":15209447,"display_name":"Isakots"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641502175,"creation_date":1641495096,"answer_id":70612161,"question_id":70524363,"body_markdown":"Well, I think your solution is overcomplicated. I assume you have a Parent class (let&#39;s call it BaseEntity) for both InkUsageEntity and MediaCategoryUsageEntity. Just simply do this:\r\n\r\n    public interface BaseRepository&lt;T extends BaseEntity&gt; extends JpaRepository&lt;T, Long&gt; {\r\n        List&lt;T&gt; getAllAggregated(String dateFormat);\r\n        List&lt;T&gt; getAllNonAggregated(String dateFormat);\r\n        ...\r\n    }\r\n\r\nFor these child entites you can have:\r\n\r\n    public interface InkUsageRepository extends BaseRepository&lt;InkUsageEntity&gt; {\r\n        @Query(&quot;SELECT new api.coloradodashboard.inkusage.InkUsageDto(DATE_FORMAT(i.date, :dateFormat) AS formatted_date, sum(i.cyanLitresUsed), sum(i.magentaLitresUsed), sum(i.yellowLitresUsed), sum(i.blackLitresUsed)) &quot; +\r\n                &quot;FROM InkUsageEntity i &quot; +\r\n                &quot;GROUP BY formatted_date &quot; +\r\n                &quot;ORDER BY formatted_date ASC&quot;)\r\n        List&lt;InkUsageDto&gt; getAllAggregated(@Param(&quot;dateFormat&quot;) String dateFormat);\r\n    \r\n    }","title":"Spring can not pick a JpaRepository that extends a generic interface","body":"<p>Well, I think your solution is overcomplicated. I assume you have a Parent class (let's call it BaseEntity) for both InkUsageEntity and MediaCategoryUsageEntity. Just simply do this:</p>\n<pre><code>public interface BaseRepository&lt;T extends BaseEntity&gt; extends JpaRepository&lt;T, Long&gt; {\n    List&lt;T&gt; getAllAggregated(String dateFormat);\n    List&lt;T&gt; getAllNonAggregated(String dateFormat);\n    ...\n}\n</code></pre>\n<p>For these child entites you can have:</p>\n<pre><code>public interface InkUsageRepository extends BaseRepository&lt;InkUsageEntity&gt; {\n    @Query(&quot;SELECT new api.coloradodashboard.inkusage.InkUsageDto(DATE_FORMAT(i.date, :dateFormat) AS formatted_date, sum(i.cyanLitresUsed), sum(i.magentaLitresUsed), sum(i.yellowLitresUsed), sum(i.blackLitresUsed)) &quot; +\n            &quot;FROM InkUsageEntity i &quot; +\n            &quot;GROUP BY formatted_date &quot; +\n            &quot;ORDER BY formatted_date ASC&quot;)\n    List&lt;InkUsageDto&gt; getAllAggregated(@Param(&quot;dateFormat&quot;) String dateFormat);\n\n}\n</code></pre>\n"}],"owner":{"account_id":13229986,"reputation":167,"user_id":9553927,"display_name":"S. Kostadinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641502175,"creation_date":1640807677,"question_id":70524363,"body_markdown":"# Problem description #\r\n\r\nI have a couple of controllers that look like this:\r\n```java\r\n@RequestMapping(&quot;InkUsage&quot;)\r\n@RestController\r\npublic class InkUsageController extends BaseController&lt;InkUsageDto&gt; {\r\n    public InkUsageController(BaseService&lt;InkUsageDto&gt; service) {\r\n        super(service);\r\n    }\r\n}\r\n\r\n@RequestMapping(&quot;MediaCategoryUsage&quot;)\r\n@RestController\r\npublic class MediaCategoryUsageController extends BaseController&lt;MediaCategoryUsageDto&gt; {\r\n    public MediaCategoryUsageController(BaseService&lt;MediaCategoryUsageDto&gt; service) {\r\n        super(service);\r\n    }\r\n}\r\n```\r\nBoth of them extend a ```BaseController``` class that looks like this:\r\n```java\r\n@AllArgsConstructor\r\n@RestController\r\npublic class BaseController&lt;T&gt; {\r\n    private BaseService&lt;T&gt; service;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;List&lt;T&gt;&gt; getAll(){...}\r\n    \r\n\r\n    ...\r\n}\r\n```\r\nThe ```BaseService``` looks like this:\r\n```java\r\n@AllArgsConstructor\r\n@Service\r\npublic class BaseService&lt;T&gt; {\r\n    private BaseRepository&lt;T&gt; repository;\r\n    \r\n    public List&lt;T&gt; getAll() {...}\r\n\r\n    ...\r\n}\r\n```\r\nThe ```BaseRepository``` is just an interface that JpaRepositories extend:\r\n```\r\npublic interface BaseRepository&lt;T&gt; {\r\n    List&lt;T&gt; getAllAggregated(String dateFormat);\r\n    List&lt;T&gt; getAllNonAggregated(String dateFormat);\r\n    ...\r\n}\r\n```\r\nThis is how one of the JpaRepositories look like:\r\n```java\r\n@Repository(&quot;InkUsageRepository&quot;)\r\npublic interface InkUsageRepository extends JpaRepository&lt;InkUsageEntity, Long&gt;,\r\n        BaseRepository&lt;InkUsageDto&gt; {\r\n    @Query(&quot;SELECT new api.coloradodashboard.inkusage.InkUsageDto(DATE_FORMAT(i.date, :dateFormat) AS formatted_date, sum(i.cyanLitresUsed), sum(i.magentaLitresUsed), sum(i.yellowLitresUsed), sum(i.blackLitresUsed)) &quot; +\r\n            &quot;FROM InkUsageEntity i &quot; +\r\n            &quot;GROUP BY formatted_date &quot; +\r\n            &quot;ORDER BY formatted_date ASC&quot;)\r\n    List&lt;InkUsageDto&gt; getAllAggregated(@Param(&quot;dateFormat&quot;) String dateFormat);\r\n\r\n    ...\r\n}\r\n```\r\nThe problem is that when I run the application Spring complains that ```BaseService``` requires a single bean of type ```BaseRepository``` but it found 2, which is true. However, both implementations use a different class as a generic type(one uses ```BaseRepository&lt;InkUsageDto&gt;```, for example) and it seems Spring can not pick up that.\r\n\r\n# Question #\r\nHow can I tell Spring to use the proper repository?\r\n# What I already tried #\r\n - Spring suggests using a ```@Primary``` qualifier, but that will not solve my problem because I plan on having 5 JpaRepositories extending ```BaseRepository```.\r\n - I tried passing the repository into the ```BaseController``` constructor, then immediately create ```new BaseService(repository)``` in the ```BaseController``` constructor but Spring complains it can not find a bean of type ```BaseRepository```.\r\n - I checked whether passing a variable into a ```@Qualifier``` is possible, but they only take constant expressions.\r\n - A solution that will probably work but I avoid is to create BaseRepository class implementation for each repository, but that means having 5 implementations with the same code except the repository field.\r\n\r\n# Edit #\r\nI found [this article][1] but not sure whether it can help me.\r\n\r\n\r\n  [1]: https://javawithravi.com/spring-generic-type-factory/","title":"Spring can not pick a JpaRepository that extends a generic interface","body":"<h1>Problem description</h1>\n<p>I have a couple of controllers that look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;InkUsage&quot;)\n@RestController\npublic class InkUsageController extends BaseController&lt;InkUsageDto&gt; {\n    public InkUsageController(BaseService&lt;InkUsageDto&gt; service) {\n        super(service);\n    }\n}\n\n@RequestMapping(&quot;MediaCategoryUsage&quot;)\n@RestController\npublic class MediaCategoryUsageController extends BaseController&lt;MediaCategoryUsageDto&gt; {\n    public MediaCategoryUsageController(BaseService&lt;MediaCategoryUsageDto&gt; service) {\n        super(service);\n    }\n}\n</code></pre>\n<p>Both of them extend a <code>BaseController</code> class that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@RestController\npublic class BaseController&lt;T&gt; {\n    private BaseService&lt;T&gt; service;\n\n    @PostMapping\n    public ResponseEntity&lt;List&lt;T&gt;&gt; getAll(){...}\n    \n\n    ...\n}\n</code></pre>\n<p>The <code>BaseService</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Service\npublic class BaseService&lt;T&gt; {\n    private BaseRepository&lt;T&gt; repository;\n    \n    public List&lt;T&gt; getAll() {...}\n\n    ...\n}\n</code></pre>\n<p>The <code>BaseRepository</code> is just an interface that JpaRepositories extend:</p>\n<pre><code>public interface BaseRepository&lt;T&gt; {\n    List&lt;T&gt; getAllAggregated(String dateFormat);\n    List&lt;T&gt; getAllNonAggregated(String dateFormat);\n    ...\n}\n</code></pre>\n<p>This is how one of the JpaRepositories look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository(&quot;InkUsageRepository&quot;)\npublic interface InkUsageRepository extends JpaRepository&lt;InkUsageEntity, Long&gt;,\n        BaseRepository&lt;InkUsageDto&gt; {\n    @Query(&quot;SELECT new api.coloradodashboard.inkusage.InkUsageDto(DATE_FORMAT(i.date, :dateFormat) AS formatted_date, sum(i.cyanLitresUsed), sum(i.magentaLitresUsed), sum(i.yellowLitresUsed), sum(i.blackLitresUsed)) &quot; +\n            &quot;FROM InkUsageEntity i &quot; +\n            &quot;GROUP BY formatted_date &quot; +\n            &quot;ORDER BY formatted_date ASC&quot;)\n    List&lt;InkUsageDto&gt; getAllAggregated(@Param(&quot;dateFormat&quot;) String dateFormat);\n\n    ...\n}\n</code></pre>\n<p>The problem is that when I run the application Spring complains that <code>BaseService</code> requires a single bean of type <code>BaseRepository</code> but it found 2, which is true. However, both implementations use a different class as a generic type(one uses <code>BaseRepository&lt;InkUsageDto&gt;</code>, for example) and it seems Spring can not pick up that.</p>\n<h1>Question</h1>\n<p>How can I tell Spring to use the proper repository?</p>\n<h1>What I already tried</h1>\n<ul>\n<li>Spring suggests using a <code>@Primary</code> qualifier, but that will not solve my problem because I plan on having 5 JpaRepositories extending <code>BaseRepository</code>.</li>\n<li>I tried passing the repository into the <code>BaseController</code> constructor, then immediately create <code>new BaseService(repository)</code> in the <code>BaseController</code> constructor but Spring complains it can not find a bean of type <code>BaseRepository</code>.</li>\n<li>I checked whether passing a variable into a <code>@Qualifier</code> is possible, but they only take constant expressions.</li>\n<li>A solution that will probably work but I avoid is to create BaseRepository class implementation for each repository, but that means having 5 implementations with the same code except the repository field.</li>\n</ul>\n<h1>Edit</h1>\n<p>I found <a href=\"https://javawithravi.com/spring-generic-type-factory/\" rel=\"nofollow noreferrer\">this article</a> but not sure whether it can help me.</p>\n"},{"tags":["java","android","mvvm","rx-java","android-livedata"],"answers":[{"tags":[],"owner":{"account_id":11450008,"reputation":1948,"user_id":8392648,"display_name":"S. Gissel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641502123,"creation_date":1641502123,"answer_id":70613461,"question_id":68691308,"body_markdown":"This is how you can do it.\r\n\r\nNote the .toFlowable().\r\n\r\n        LiveData&lt;?&gt; liveData = LiveDataReactiveStreams.fromPublisher(Observable.zip(retrofitService.getData(), retrofitService.getData2(),\r\n                new BiFunction&lt;List&lt;float[]&gt;, List&lt;float[]&gt;, List&lt;Object&gt;&gt;() {\r\n                    @NonNull\r\n                    @Override\r\n                    public List&lt;Object&gt; apply(@NonNull List&lt;float[]&gt; floats, @NonNull List&lt;float[]&gt; floats2) throws Exception {\r\n                        // combine the two different api calls \r\n                        List&lt;Object&gt; newlist = ...\r\n                        return newList;\r\n                    }\r\n                }).toFlowable().subscribe(list -&gt; repository.updateLiveData(list)));","title":"Setting LiveData value from RxJava observable (Android)","body":"<p>This is how you can do it.</p>\n<p>Note the .toFlowable().</p>\n<pre><code>    LiveData&lt;?&gt; liveData = LiveDataReactiveStreams.fromPublisher(Observable.zip(retrofitService.getData(), retrofitService.getData2(),\n            new BiFunction&lt;List&lt;float[]&gt;, List&lt;float[]&gt;, List&lt;Object&gt;&gt;() {\n                @NonNull\n                @Override\n                public List&lt;Object&gt; apply(@NonNull List&lt;float[]&gt; floats, @NonNull List&lt;float[]&gt; floats2) throws Exception {\n                    // combine the two different api calls \n                    List&lt;Object&gt; newlist = ...\n                    return newList;\n                }\n            }).toFlowable().subscribe(list -&gt; repository.updateLiveData(list)));\n</code></pre>\n"}],"owner":{"account_id":18533776,"reputation":129,"user_id":13503924,"display_name":"ReefG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641502123,"creation_date":1628330452,"question_id":68691308,"body_markdown":"I have a `LiveData` in my repository class which is being observed (through a viewmodel of course) in an activity (I am using MVVM architecture) and when button is clicked, an API is called using Retrofit which returns an RxJava2 `Observable` (not a `Call`) because I need RxJava2 to zip together 2 api calls. The requested data from the API should then be set as the `LiveData`&#39;s new value. This is the `Observable` which is created from the Retrofit API calls:\r\n```\r\nObservable.zip(retrofitService.getData(), retrofitService.getData2(),\r\n                    new BiFunction&lt;List&lt;float[]&gt;, List&lt;float[]&gt;, List&lt;Object&gt;&gt;() {\r\n                        @NonNull\r\n                        @Override\r\n                        public List&lt;Object&gt; apply(@NonNull List&lt;float[]&gt; floats, @NonNull List&lt;float[]&gt; floats2) throws Exception {\r\n                             // combine the two different api calls \r\n                            List&lt;Object&gt; newlist = ...\r\n                            return newList;\r\n                        }\r\n                    });\r\n```\r\nNaturally, if another button is clicked in my app, another API is called.\r\nNow my question is, how can I update the `LiveData`&#39;s value from an Observable (like for example the one given above). I know of the `LiveDataReactiveStreams.fromPublisher()` method, but I am unsure how to apply this here. Is the only way then to subscribe to the observable and then call postvalue on the livedata?\r\n```\r\nObservable.zip(retrofitService.getData(), retrofitService.getData2(),\r\n                    new BiFunction&lt;List&lt;float[]&gt;, List&lt;float[]&gt;, List&lt;Object&gt;&gt;() {\r\n                        @NonNull\r\n                        @Override\r\n                        public List&lt;Object&gt; apply(@NonNull List&lt;float[]&gt; floats, @NonNull List&lt;float[]&gt; floats2) throws Exception {\r\n                             // combine the two different api calls \r\n                            List&lt;Object&gt; newlist = ...\r\n                            return newList;\r\n                        }\r\n                    }).subscribe(list -&gt; repository.updateLiveData(list));\r\n```\r\n\r\nMy apologies for the vague explanation, I am having a hard time expressing the issue.\r\n","title":"Setting LiveData value from RxJava observable (Android)","body":"<p>I have a <code>LiveData</code> in my repository class which is being observed (through a viewmodel of course) in an activity (I am using MVVM architecture) and when button is clicked, an API is called using Retrofit which returns an RxJava2 <code>Observable</code> (not a <code>Call</code>) because I need RxJava2 to zip together 2 api calls. The requested data from the API should then be set as the <code>LiveData</code>'s new value. This is the <code>Observable</code> which is created from the Retrofit API calls:</p>\n<pre><code>Observable.zip(retrofitService.getData(), retrofitService.getData2(),\n                    new BiFunction&lt;List&lt;float[]&gt;, List&lt;float[]&gt;, List&lt;Object&gt;&gt;() {\n                        @NonNull\n                        @Override\n                        public List&lt;Object&gt; apply(@NonNull List&lt;float[]&gt; floats, @NonNull List&lt;float[]&gt; floats2) throws Exception {\n                             // combine the two different api calls \n                            List&lt;Object&gt; newlist = ...\n                            return newList;\n                        }\n                    });\n</code></pre>\n<p>Naturally, if another button is clicked in my app, another API is called.\nNow my question is, how can I update the <code>LiveData</code>'s value from an Observable (like for example the one given above). I know of the <code>LiveDataReactiveStreams.fromPublisher()</code> method, but I am unsure how to apply this here. Is the only way then to subscribe to the observable and then call postvalue on the livedata?</p>\n<pre><code>Observable.zip(retrofitService.getData(), retrofitService.getData2(),\n                    new BiFunction&lt;List&lt;float[]&gt;, List&lt;float[]&gt;, List&lt;Object&gt;&gt;() {\n                        @NonNull\n                        @Override\n                        public List&lt;Object&gt; apply(@NonNull List&lt;float[]&gt; floats, @NonNull List&lt;float[]&gt; floats2) throws Exception {\n                             // combine the two different api calls \n                            List&lt;Object&gt; newlist = ...\n                            return newList;\n                        }\n                    }).subscribe(list -&gt; repository.updateLiveData(list));\n</code></pre>\n<p>My apologies for the vague explanation, I am having a hard time expressing the issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1641501340,"post_id":70613293,"comment_id":124827054,"body_markdown":"You don&#39;t have an array, but a List ;) you wrote well in title, but mistake in post","body":"You don&#39;t have an array, but a List ;) you wrote well in title, but mistake in post"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641501222,"creation_date":1641501222,"answer_id":70613320,"question_id":70613293,"body_markdown":"You have to use\r\n\r\n\r\n    MarkEdges(edges.toArray(new Edge[0]));","title":"pass a List to a method that accepts a variable number of arguments","body":"<p>You have to use</p>\n<pre><code>MarkEdges(edges.toArray(new Edge[0]));\n</code></pre>\n"}],"owner":{"account_id":22590774,"reputation":49,"user_id":16773919,"display_name":"ruth hadish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641501695,"answer_count":1,"score":0,"last_activity_date":1641501592,"creation_date":1641501093,"question_id":70613293,"body_markdown":"I am new to Java and got to access a legacy app that has a method like this which takes variable number of arguments.\r\n\r\n      MarkEdges(edge1,edge2,edge3...){...}\r\n\r\nwhere:\r\n\r\n     Edge edge1 = new Edge(/*edge arguments go here*);\r\n\r\nit works fine like that but I have a list of edges that I want to pass to MarkEdges:\r\n\r\n     List&lt;Edge&gt; edges = new ArrayList();\r\n     //populate the edges from a service then pass them for marking.\r\n     MarkEdges(edges);\r\n\r\nbut I can&#39;t compile it. I was hoping for something like spread operator of JS.","title":"pass a List to a method that accepts a variable number of arguments","body":"<p>I am new to Java and got to access a legacy app that has a method like this which takes variable number of arguments.</p>\n<pre><code>  MarkEdges(edge1,edge2,edge3...){...}\n</code></pre>\n<p>where:</p>\n<pre><code> Edge edge1 = new Edge(/*edge arguments go here*);\n</code></pre>\n<p>it works fine like that but I have a list of edges that I want to pass to MarkEdges:</p>\n<pre><code> List&lt;Edge&gt; edges = new ArrayList();\n //populate the edges from a service then pass them for marking.\n MarkEdges(edges);\n</code></pre>\n<p>but I can't compile it. I was hoping for something like spread operator of JS.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-context"],"answers":[{"tags":[],"owner":{"account_id":23777518,"reputation":11,"user_id":17790744,"display_name":"Manish Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641412533,"creation_date":1641412533,"answer_id":70598907,"question_id":70598656,"body_markdown":"you have upgraded from which version to 4.3.25-RELEASE\r\n\r\nIf we follow the spring documentation:\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/FullyQualifiedAnnotationBeanNameGenerator.html\r\n\r\nthis annotation was introduced since 5.2.3\r\n\r\ncan you please try using this 5.2.3 or above version and it should solve your problem.\r\n\r\n","title":"FullyQualifiedAnnotationBeanNameGenerator not present in latest spring-context","body":"<p>you have upgraded from which version to 4.3.25-RELEASE</p>\n<p>If we follow the spring documentation:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/FullyQualifiedAnnotationBeanNameGenerator.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/FullyQualifiedAnnotationBeanNameGenerator.html</a></p>\n<p>this annotation was introduced since 5.2.3</p>\n<p>can you please try using this 5.2.3 or above version and it should solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":21507820,"reputation":97,"user_id":15850958,"display_name":"mitali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641501480,"creation_date":1641495554,"answer_id":70612270,"question_id":70598656,"body_markdown":"Here is the solution. if your spring-context is lower than  5.2.3.RELEASE.\r\n\r\nUse this approach:\r\n\r\n1) You can implement your own bean-name generation strategy which use fully-qualified name:\r\n```\r\npublic class UniqueBeanNameGenerator extends AnnotationBeanNameGenerator {\r\n       \r\n    @Override\r\n    public String generateBeanName(BeanDefinition definition, BeanDefinitionRegistry registry) {\r\n    \treturn definition.getBeanClassName();\r\n    }\r\n}\r\n```\r\n\r\n2. Add this to spring boot app start class\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(nameGenerator=UniqueNameGenerator.class)\r\npublic class Application {\r\n   public static void main(String[] args) {\r\n       SpringApplication.run(Application.class, args);\r\n   }\r\n}\r\n```","title":"FullyQualifiedAnnotationBeanNameGenerator not present in latest spring-context","body":"<p>Here is the solution. if your spring-context is lower than  5.2.3.RELEASE.</p>\n<p>Use this approach:</p>\n<ol>\n<li>You can implement your own bean-name generation strategy which use fully-qualified name:</li>\n</ol>\n<pre><code>public class UniqueBeanNameGenerator extends AnnotationBeanNameGenerator {\n       \n    @Override\n    public String generateBeanName(BeanDefinition definition, BeanDefinitionRegistry registry) {\n        return definition.getBeanClassName();\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Add this to spring boot app start class</li>\n</ol>\n<pre><code>@SpringBootApplication\n@ComponentScan(nameGenerator=UniqueNameGenerator.class)\npublic class Application {\n   public static void main(String[] args) {\n       SpringApplication.run(Application.class, args);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":21507820,"reputation":97,"user_id":15850958,"display_name":"mitali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641501480,"creation_date":1641411203,"question_id":70598656,"body_markdown":"I am using FullyQualifiedAnnotationBeanNameGenerator which comes from org.springframework:spring-context. With the latest pom upgrade I see this class is not present in spring-context jar. What is the substitute of this class now? I am using org.springframework:spring-context:jar:4.3.25.RELEASE\r\n","title":"FullyQualifiedAnnotationBeanNameGenerator not present in latest spring-context","body":"<p>I am using FullyQualifiedAnnotationBeanNameGenerator which comes from org.springframework:spring-context. With the latest pom upgrade I see this class is not present in spring-context jar. What is the substitute of this class now? I am using org.springframework:spring-context:jar:4.3.25.RELEASE</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":1590931,"reputation":886,"user_id":1474264,"accept_rate":45,"display_name":"Rahul"},"score":0,"creation_date":1641500398,"post_id":70613151,"comment_id":124826744,"body_markdown":"My actual usecase is a bit complex so I want to avoid writing custom serializer/deserializer for entire class.\nI am ok with writing custom serializer/deserializer for DateOfBirth, but not sure how to emulate flattening of nested class.","body":"My actual usecase is a bit complex so I want to avoid writing custom serializer/deserializer for entire class. I am ok with writing custom serializer/deserializer for DateOfBirth, but not sure how to emulate flattening of nested class."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1641502965,"post_id":70613151,"comment_id":124827609,"body_markdown":"How would that work without a unique JSON field? What if the JSON was `{ &quot;day&quot;: 1 }`?","body":"How would that work without a unique JSON field? What if the JSON was <code>{ &quot;day&quot;: 1 }</code>?"},{"owner":{"account_id":1590931,"reputation":886,"user_id":1474264,"accept_rate":45,"display_name":"Rahul"},"score":0,"creation_date":1641505567,"post_id":70613151,"comment_id":124828370,"body_markdown":"In that case DateOfBirth would be initialised with day 1, month 0, year 0, which is fine.","body":"In that case DateOfBirth would be initialised with day 1, month 0, year 0, which is fine."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1641506691,"post_id":70613151,"comment_id":124828729,"body_markdown":"That might work for this case, but it&#39;s not very intuitive. And it&#39;s not how the framework is designed. Jackson doesn&#39;t know or care about uninitialized fields.","body":"That might work for this case, but it&#39;s not very intuitive. And it&#39;s not how the framework is designed. Jackson doesn&#39;t know or care about uninitialized fields."},{"owner":{"account_id":1590931,"reputation":886,"user_id":1474264,"accept_rate":45,"display_name":"Rahul"},"score":0,"creation_date":1641540473,"post_id":70613151,"comment_id":124835022,"body_markdown":"Not sure wdym. Behaviour is completely different when not using JsonUnwrapped. I do not want jackson to initialise the object when its null/not present in JSON","body":"Not sure wdym. Behaviour is completely different when not using JsonUnwrapped. I do not want jackson to initialise the object when its null/not present in JSON"}],"owner":{"account_id":1590931,"reputation":886,"user_id":1474264,"accept_rate":45,"display_name":"Rahul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641500884,"creation_date":1641500257,"question_id":70613151,"body_markdown":"I have following classes -\r\n\r\n    public class Request {\r\n       public String name;\r\n    \r\n       @JsonUnwrapped\r\n       @JsonInclude(JsonInclude.Include.NON_NULL)\r\n       public DateOfBirth dateOfBirth;\r\n    }\r\n\r\n    public class DateOfBirth {\r\n       public int day;\r\n       public int month;\r\n       public int year;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    {\r\n      &quot;name&quot; : &quot;John Doe&quot;\r\n    }\r\n\r\nDeserealization of this JSON creates a ```Request``` object with ```name``` John Doe and ```dateOfBirth``` with day, month and year 0.\r\nHow can I override this behaviour so that ```dateOfBirth``` is null. \r\n\r\n&gt;Worth noting that on removing @JsonUnwrapped annotation, such JSON is deserealized into null object, so I feel like I am missing some trick here.\r\n**Jackson version - 2.13.1**\r\n","title":"Jackson deserialization with @JsonUnwrapped","body":"<p>I have following classes -</p>\n<pre><code>public class Request {\n   public String name;\n\n   @JsonUnwrapped\n   @JsonInclude(JsonInclude.Include.NON_NULL)\n   public DateOfBirth dateOfBirth;\n}\n\npublic class DateOfBirth {\n   public int day;\n   public int month;\n   public int year;\n}\n</code></pre>\n<hr />\n<pre><code>{\n  &quot;name&quot; : &quot;John Doe&quot;\n}\n</code></pre>\n<p>Deserealization of this JSON creates a <code>Request</code> object with <code>name</code> John Doe and <code>dateOfBirth</code> with day, month and year 0.\nHow can I override this behaviour so that <code>dateOfBirth</code> is null.</p>\n<blockquote>\n<p>Worth noting that on removing @JsonUnwrapped annotation, such JSON is deserealized into null object, so I feel like I am missing some trick here.\n<strong>Jackson version - 2.13.1</strong></p>\n</blockquote>\n"},{"tags":["java","android-recyclerview","adapter"],"owner":{"account_id":16856034,"reputation":1,"user_id":12187912,"display_name":"virten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641500649,"creation_date":1641499807,"question_id":70613059,"body_markdown":"I have an android studio project in which I have a RecyclerView with CardView. When I define the adapter in the MainActivity.java, it gives me this error. I&#39;m using a service, I want to display the data I got from this service in the View section, but I couldn&#39;t. I don&#39;t know how to fix it but I think it&#39;s a simple mistake\r\n\r\n\r\n\r\nHere the main activity code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private List&lt;Kisiler&gt; list;\r\n    ImageView image_view;\r\n    private RecyclerView recyclerView;\r\n    private DataAdapter dataAdapter;\r\n    RecyclerView.Adapter mAdapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        image_view = findViewById(R.id.image_view);\r\n        recyclerView = findViewById(R.id.recycler_view);\r\n\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\r\n        layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n\r\n\r\n\r\n        IstekleriAl();\r\n    }\r\n\r\n    private void IstekleriAl() {\r\n        try {\r\n            new Service().getServiceApi().getkisiler().\r\n                    subscribeOn(Schedulers.io())\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribe(new Observer&lt;List&lt;Kisiler&gt;&gt;() {\r\n\r\n                        List&lt;Kisiler&gt; kisiler = new ArrayList&lt;&gt;();\r\n\r\n                        @Override\r\n                        public void onSubscribe(@NonNull Disposable d) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onNext(@NonNull List&lt;Kisiler&gt; kisileriAl) {\r\n                            kisiler = kisileriAl;\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError(@androidx.annotation.NonNull Throwable e) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onComplete() {\r\n                            if (kisiler.size()&gt;0)\r\n                            {\r\n                                list = new ArrayList&lt;Kisiler&gt;();\r\n                                for (Kisiler item: list)\r\n                                {\r\n\r\n                                    list.add(item.getAd());\r\n                                    list.add(item.getSoyad());\r\n\r\n                                    DataAdapter dataAdapter = new DataAdapter(list, new CustomItemClickListener() {\r\n                                        @Override\r\n                                        public void onItemClick(View v, int position) {\r\n\r\n                                        }\r\n                                    });\r\n                                    recyclerView.setAdapter(dataAdapter);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n            }\r\n        catch (Exception e)\r\n        {\r\n            Log.d(&quot;Hata&quot;, &quot;Hataaa&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nAdapter class:\r\n```\r\npublic class DataAdapter extends RecyclerView.Adapter&lt;KisilerViewHolder&gt; {\r\n\r\n     List&lt;Kisiler&gt; list = new ArrayList&lt;&gt;();\r\n     CustomItemClickListener listener;\r\n    public DataAdapter(List&lt;Kisiler&gt; list,CustomItemClickListener listener) {\r\n        this.list = list;\r\n        this.listener = listener;\r\n\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public KisilerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_layout, parent,false);\r\n        return new KisilerViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(KisilerViewHolder holder, int position) {\r\n        holder.Adtxt.setText(list.get(position).getAd());\r\n        holder.Soyadtxt.setText(list.get(position).getSoyad());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount()\r\n    {\r\n        return list.size();\r\n    }\r\n    public void onAttachedToRecyclerView(RecyclerView recyclerView) {\r\n        super.onAttachedToRecyclerView(recyclerView);\r\n    }\r\n}\r\n```\r\npackage Model;\r\n```\r\nimport com.google.gson.annotations.Expose;\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Kisiler {\r\n\r\n    @SerializedName(&quot;Ad&quot;)\r\n    @Expose\r\n    private String ad;\r\n    @SerializedName(&quot;Soyad&quot;)\r\n    @Expose\r\n    private String soyad;\r\n    @SerializedName(&quot;DogumTarihi&quot;)\r\n    @Expose\r\n    private String dogumTarihi;\r\n    @SerializedName(&quot;Fotograf&quot;)\r\n    @Expose\r\n    private String fotograf;\r\n    @SerializedName(&quot;Aciklama&quot;)\r\n    @Expose\r\n    private String aciklama;\r\n\r\n    public String getAd() {\r\n        return ad;\r\n    }\r\n\r\n    public void setAd(String ad) {\r\n        this.ad = ad;\r\n    }\r\n\r\n    public String getSoyad() {\r\n        return soyad;\r\n    }\r\n\r\n    public void setSoyad(String soyad) {\r\n        this.soyad = soyad;\r\n    }\r\n\r\n    public String getDogumTarihi() {\r\n        return dogumTarihi;\r\n    }\r\n\r\n    public void setDogumTarihi(String dogumTarihi) {\r\n        this.dogumTarihi = dogumTarihi;\r\n    }\r\n\r\n    public String getFotograf() {\r\n        return fotograf;\r\n    }\r\n\r\n    public void setFotograf(String fotograf) {\r\n        this.fotograf = fotograf;\r\n    }\r\n\r\n    public String getAciklama() {\r\n        return aciklama;\r\n    }\r\n\r\n    public void setAciklama(String aciklama) {\r\n        this.aciklama = aciklama;\r\n    }\r\n\r\n}\r\n```\r\nI need fix this eror. Thank you in advance...\r\n","title":"Eror: &#39;add(...)&#39; in &#39;java.util.List&#39; cannot be applied to &#39;(...)&#39; Android Java","body":"<p>I have an android studio project in which I have a RecyclerView with CardView. When I define the adapter in the MainActivity.java, it gives me this error. I'm using a service, I want to display the data I got from this service in the View section, but I couldn't. I don't know how to fix it but I think it's a simple mistake</p>\n<p>Here the main activity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private List&lt;Kisiler&gt; list;\n    ImageView image_view;\n    private RecyclerView recyclerView;\n    private DataAdapter dataAdapter;\n    RecyclerView.Adapter mAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        image_view = findViewById(R.id.image_view);\n        recyclerView = findViewById(R.id.recycler_view);\n\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n        layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n        recyclerView.setLayoutManager(layoutManager);\n\n\n\n        IstekleriAl();\n    }\n\n    private void IstekleriAl() {\n        try {\n            new Service().getServiceApi().getkisiler().\n                    subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe(new Observer&lt;List&lt;Kisiler&gt;&gt;() {\n\n                        List&lt;Kisiler&gt; kisiler = new ArrayList&lt;&gt;();\n\n                        @Override\n                        public void onSubscribe(@NonNull Disposable d) {\n\n                        }\n\n                        @Override\n                        public void onNext(@NonNull List&lt;Kisiler&gt; kisileriAl) {\n                            kisiler = kisileriAl;\n                        }\n\n                        @Override\n                        public void onError(@androidx.annotation.NonNull Throwable e) {\n\n                        }\n\n                        @Override\n                        public void onComplete() {\n                            if (kisiler.size()&gt;0)\n                            {\n                                list = new ArrayList&lt;Kisiler&gt;();\n                                for (Kisiler item: list)\n                                {\n\n                                    list.add(item.getAd());\n                                    list.add(item.getSoyad());\n\n                                    DataAdapter dataAdapter = new DataAdapter(list, new CustomItemClickListener() {\n                                        @Override\n                                        public void onItemClick(View v, int position) {\n\n                                        }\n                                    });\n                                    recyclerView.setAdapter(dataAdapter);\n                                }\n                            }\n                        }\n                    });\n            }\n        catch (Exception e)\n        {\n            Log.d(&quot;Hata&quot;, &quot;Hataaa&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>Adapter class:</p>\n<pre><code>public class DataAdapter extends RecyclerView.Adapter&lt;KisilerViewHolder&gt; {\n\n     List&lt;Kisiler&gt; list = new ArrayList&lt;&gt;();\n     CustomItemClickListener listener;\n    public DataAdapter(List&lt;Kisiler&gt; list,CustomItemClickListener listener) {\n        this.list = list;\n        this.listener = listener;\n\n    }\n    @NonNull\n    @Override\n    public KisilerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item_layout, parent,false);\n        return new KisilerViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(KisilerViewHolder holder, int position) {\n        holder.Adtxt.setText(list.get(position).getAd());\n        holder.Soyadtxt.setText(list.get(position).getSoyad());\n    }\n\n    @Override\n    public int getItemCount()\n    {\n        return list.size();\n    }\n    public void onAttachedToRecyclerView(RecyclerView recyclerView) {\n        super.onAttachedToRecyclerView(recyclerView);\n    }\n}\n</code></pre>\n<p>package Model;</p>\n<pre><code>import com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Kisiler {\n\n    @SerializedName(&quot;Ad&quot;)\n    @Expose\n    private String ad;\n    @SerializedName(&quot;Soyad&quot;)\n    @Expose\n    private String soyad;\n    @SerializedName(&quot;DogumTarihi&quot;)\n    @Expose\n    private String dogumTarihi;\n    @SerializedName(&quot;Fotograf&quot;)\n    @Expose\n    private String fotograf;\n    @SerializedName(&quot;Aciklama&quot;)\n    @Expose\n    private String aciklama;\n\n    public String getAd() {\n        return ad;\n    }\n\n    public void setAd(String ad) {\n        this.ad = ad;\n    }\n\n    public String getSoyad() {\n        return soyad;\n    }\n\n    public void setSoyad(String soyad) {\n        this.soyad = soyad;\n    }\n\n    public String getDogumTarihi() {\n        return dogumTarihi;\n    }\n\n    public void setDogumTarihi(String dogumTarihi) {\n        this.dogumTarihi = dogumTarihi;\n    }\n\n    public String getFotograf() {\n        return fotograf;\n    }\n\n    public void setFotograf(String fotograf) {\n        this.fotograf = fotograf;\n    }\n\n    public String getAciklama() {\n        return aciklama;\n    }\n\n    public void setAciklama(String aciklama) {\n        this.aciklama = aciklama;\n    }\n\n}\n</code></pre>\n<p>I need fix this eror. Thank you in advance...</p>\n"},{"tags":["java","android","sonarqube","code-analysis","sonar-runner"],"answers":[{"tags":[],"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1641500624,"creation_date":1440486559,"answer_id":32197619,"question_id":32197329,"body_markdown":"If you look at the description of rule [RSPEC-1166]( https://rules.sonarsource.com/java/RSPEC-1166), especially the title: \r\n\r\n&gt; Exception handlers should preserve the __original exception__\r\n\r\nIn your case you are only taking care of the _message_ of the exception, thus not preserving the original **exception (including its _stacktrace_)**. Thus your resulting logs will hide the root cause of the failure.\r\n\r\nThis rule detects that you are not using the caught exception as an entire object in the catch block. \r\n\r\n### Suitable fixes\r\nThis might not be suitable in your case:\r\n* either mark the rule as &quot;won&#39;t fix&quot;\r\n* or deactivate the rule in your quality profile","title":"Either log or rethrow this exception","body":"<p>If you look at the description of rule <a href=\"https://rules.sonarsource.com/java/RSPEC-1166\" rel=\"nofollow noreferrer\">RSPEC-1166</a>, especially the title:</p>\n<blockquote>\n<p>Exception handlers should preserve the <strong>original exception</strong></p>\n</blockquote>\n<p>In your case you are only taking care of the <em>message</em> of the exception, thus not preserving the original <strong>exception (including its <em>stacktrace</em>)</strong>. Thus your resulting logs will hide the root cause of the failure.</p>\n<p>This rule detects that you are not using the caught exception as an entire object in the catch block.</p>\n<h3>Suitable fixes</h3>\n<p>This might not be suitable in your case:</p>\n<ul>\n<li>either mark the rule as &quot;won't fix&quot;</li>\n<li>or deactivate the rule in your quality profile</li>\n</ul>\n"}],"owner":{"account_id":242113,"reputation":52552,"user_id":513413,"accept_rate":74,"display_name":"Hesam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28529,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":32197619,"answer_count":1,"score":5,"last_activity_date":1641500624,"creation_date":1440485583,"question_id":32197329,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/28122271/513413.\r\n\r\nThis is my code in a class:\r\n\r\n    try\r\n        {\r\n            this.processDeepLinkData(data);\r\n        }\r\n        catch (final Exception e)\r\n        {\r\n            // Error while parsing data\r\n            // Nothing we can do\r\n            Logger.error(TAG, &quot;Exception thrown on processDeepLinkData. Msg: &quot; + e.getMessage());\r\n        }\r\n\r\nand my Logger class:\r\n\r\n        import android.content.Context;\r\n        import android.util.Log;\r\n        import com.crashlytics.android.Crashlytics;\r\n        \r\n        public final class Logger\r\n        {\r\n            /**\r\n             * Convenience method.\r\n             *\r\n             * @see Logger#log(String, String)\r\n             */\r\n            public static void error(final String tag, final String msg)\r\n            {\r\n                if (Logger.DEBUG)\r\n                {\r\n                    Log.e(tag, &quot;&quot; + msg);\r\n                }\r\n                else\r\n                {\r\n                    Logger.log(tag, &quot;&quot; + msg);\r\n                }\r\n            }\r\n    \r\n            private static void log(final String tag, final String msg)\r\n            {\r\n                Crashlytics.log(tag + &quot;: &quot; + msg);\r\n            }\r\n    }\r\n\r\nSonar is pointing to `catch (final Exception e)` and says `Either log or rethrow this exception`. What do you think?  \r\n","title":"Either log or rethrow this exception","body":"<p>Possible duplicate of <a href=\"https://stackoverflow.com/q/28122271/513413\">Sonar complaining about logging and rethrowing the exception</a>.</p>\n\n<p>This is my code in a class:</p>\n\n<pre><code>try\n    {\n        this.processDeepLinkData(data);\n    }\n    catch (final Exception e)\n    {\n        // Error while parsing data\n        // Nothing we can do\n        Logger.error(TAG, \"Exception thrown on processDeepLinkData. Msg: \" + e.getMessage());\n    }\n</code></pre>\n\n<p>and my Logger class:</p>\n\n<pre><code>    import android.content.Context;\n    import android.util.Log;\n    import com.crashlytics.android.Crashlytics;\n\n    public final class Logger\n    {\n        /**\n         * Convenience method.\n         *\n         * @see Logger#log(String, String)\n         */\n        public static void error(final String tag, final String msg)\n        {\n            if (Logger.DEBUG)\n            {\n                Log.e(tag, \"\" + msg);\n            }\n            else\n            {\n                Logger.log(tag, \"\" + msg);\n            }\n        }\n\n        private static void log(final String tag, final String msg)\n        {\n            Crashlytics.log(tag + \": \" + msg);\n        }\n}\n</code></pre>\n\n<p>Sonar is pointing to <code>catch (final Exception e)</code> and says <code>Either log or rethrow this exception</code>. What do you think?  </p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641500584,"post_id":70613189,"comment_id":124826814,"body_markdown":"Nope, it&#39;s superfluous.","body":"Nope, it&#39;s superfluous."}],"owner":{"account_id":16974414,"reputation":131,"user_id":13105886,"display_name":"george.zrs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641500587,"creation_date":1641500507,"question_id":70613189,"body_markdown":"Cheers, let&#39;s suppose I have 3 different classes: A,B and C.\r\nA is abstract with a class of print() which is abstract again.\r\nB is a sub-class of A, and is again abstract.\r\nC is a sub-class of B, and here we want to implement print.\r\n\r\nSo in code (suppose they are in different files for the *public* part):\r\n\r\n```\r\npublic abstract class A {\r\n\r\n   public abstract void print();\r\n}\r\n\r\npublic abstract class B extends A {\r\n   // public abstract void print();\r\n}\r\n\r\npublic class C extends B {\r\n\r\n   public void print() {\r\n      // some code here\r\n   }\r\n}\r\n```\r\n\r\nWhat difference would it make if we redefined the print() function in B as abstract, and if we didn&#39;t? I see that in the compilation nothing changes, and in both ways it works correctly, but is there a reason one would be preferred over the other? Thanks =)","title":"Abstract method definition in tree inheritance in Java classes","body":"<p>Cheers, let's suppose I have 3 different classes: A,B and C.\nA is abstract with a class of print() which is abstract again.\nB is a sub-class of A, and is again abstract.\nC is a sub-class of B, and here we want to implement print.</p>\n<p>So in code (suppose they are in different files for the <em>public</em> part):</p>\n<pre><code>public abstract class A {\n\n   public abstract void print();\n}\n\npublic abstract class B extends A {\n   // public abstract void print();\n}\n\npublic class C extends B {\n\n   public void print() {\n      // some code here\n   }\n}\n</code></pre>\n<p>What difference would it make if we redefined the print() function in B as abstract, and if we didn't? I see that in the compilation nothing changes, and in both ways it works correctly, but is there a reason one would be preferred over the other? Thanks =)</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":2,"creation_date":1641495685,"post_id":70612114,"comment_id":124825062,"body_markdown":"Please read [How to format posts using Markdown](https://stackoverflow.com/help/formatting).","body":"Please read <a href=\"https://stackoverflow.com/help/formatting\">How to format posts using Markdown</a>."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1641496161,"post_id":70612114,"comment_id":124825221,"body_markdown":"I tried copying your code into my IDE.  I couldn&#39;t get your code to format, much less compile.","body":"I tried copying your code into my IDE.  I couldn&#39;t get your code to format, much less compile."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1641496859,"post_id":70612114,"comment_id":124825480,"body_markdown":"It seems you did not take the advice offered you in the comments to your [other question](https://stackoverflow.com/questions/70549113/getting-the-value-of-a-jbutton-from-a-class-to-another). If you want to get help, I think you need to improve the quality of your questions. Have you taken the [tour]? You get a bronze badge after taking it.","body":"It seems you did not take the advice offered you in the comments to your <a href=\"https://stackoverflow.com/questions/70549113/getting-the-value-of-a-jbutton-from-a-class-to-another\">other question</a>. If you want to get help, I think you need to improve the quality of your questions. Have you taken the <a href=\"https://stackoverflow.com/tour\">tour</a>? You get a bronze badge after taking it."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1641497281,"post_id":70612114,"comment_id":124825631,"body_markdown":"`Comentaire` is not defined as a class and you&#39;re missing an `initComponents` method.  You&#39;re using a null layout, which will lead to many more problems.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) sections.","body":"<code>Comentaire</code> is not defined as a class and you&#39;re missing an <code>initComponents</code> method.  You&#39;re using a null layout, which will lead to many more problems.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> sections."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1641500519,"post_id":70612114,"comment_id":124826787,"body_markdown":"Noting you have added a `comentaire` class: Please post a **[mre]**. We should be able to copy/paste the code into an IDE and compile it with no changes, and that is still not possible with the code seen. Tip: Once you *think* you have an MRE, copy/paste it into a new project in the IDE and check it *does* compile with absolutely no alterations. Plus it appears you&#39;ve still not completed the tour suggested by @Abra. Waste your time if you like, but please don&#39;t waste the time of people trying to help (for free).","body":"Noting you have added a <code>comentaire</code> class: Please post a <b><a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a></b>. We should be able to copy/paste the code into an IDE and compile it with no changes, and that is still not possible with the code seen. Tip: Once you <i>think</i> you have an MRE, copy/paste it into a new project in the IDE and check it <i>does</i> compile with absolutely no alterations. Plus it appears you&#39;ve still not completed the tour suggested by @Abra. Waste your time if you like, but please don&#39;t waste the time of people trying to help (for free)."}],"owner":{"account_id":23480642,"reputation":1,"user_id":17532830,"display_name":"Mohamed Mehdi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641500292,"creation_date":1641494833,"question_id":70612114,"body_markdown":"i have 2 classes in java swing in the first one i created JButton btn[]=new JButton[10]; and JButton add[]=new JButton[10]; so if I press add[i] the value of btn[i] is going to be stored in a Jlabel1 in the 2nd class and that jlabel1 will take that value and store it in another Jlabel2 but here when i run the programme i see the value btn[i] in Jlabel 1 but not in Jlabel 2 its like jlabel1 shows its value but when i try to take its value its shows null\r\n\r\nhere is the code of both classes:\r\n\r\n1st class:\r\n\r\n\r\n    import java.awt.event.ActionEvent;\r\n    \r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    public class Testid {\r\n    \r\n    \r\n    \r\n    public JButton btn[]=new JButton[10];\r\n    \r\n    public static String testhakou;\r\n    \r\n    public JButton add[] = new JButton[10];\r\n    \r\n    public JFrame jf = null;\r\n    \r\n    int bou=100;\r\n    \r\n    public Testid(){\r\n    \r\n    jf=new JFrame();\r\n    \r\n    jf.setSize(1300,1000);\r\n    \r\n    jf.setLocationRelativeTo(null);\r\n    \r\n    jf.setLayout(null);\r\n    \r\n    for(int i=0;i&lt;3;i++){\r\n    \r\n    btn[i]=new JButton(i+&quot;&quot;);\r\n    \r\n    btn[i].setBounds(0,bou,100,30);\r\n    \r\n    jf.add(btn[i]);\r\n    \r\n    bou=bou+50;\r\n    \r\n    }\r\n    \r\n    for(int k=0;k&lt;3;k++){\r\n    \r\n    add[k]=new JButton();\r\n    \r\n    add[k].setText(k+&quot;&quot;);\r\n    \r\n    add[k].setBounds(0,bou,100,30);\r\n    \r\n    String b=add[k].getText();\r\n    \r\n    bou=bou+50;\r\n    \r\n    jf.add(add[k]);\r\n    \r\n    add[k].addActionListener(new ActionListener() {\r\n    \r\n    u/Override\r\n    \r\n    public void actionPerformed(ActionEvent e) {\r\n    \r\n    comentaire cm=new comentaire();\r\n    \r\n    testhakou=b;\r\n    \r\n    cm.jLabel1.setText(testhakou);\r\n    \r\n    cm.setVisible(true);\r\n    \r\n    }\r\n    \r\n    } );}\r\n    \r\n    jf.setVisible(true);\r\n    \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n    new Testid();\r\n    \r\n    }\r\n    \r\n    }\r\n    \r\n--------------------------------------------------------\r\n\r\n2nd class:\r\n    \r\n    public comentaire() {\r\n    \r\n    initComponents();\r\n    \r\n    jLabel1.setText(publication.testide);\r\n    \r\n    jLabel1.setText(Testid.testhakou);\r\n    \r\n    label1.setText(jLabel1.getText());\r\n    \r\n    }","title":"My Jlabel get A value from another class from a JBUtton btn[i] the JLabel shw the value but when i try to get the value from it its shows notthing?","body":"<p>i have 2 classes in java swing in the first one i created JButton btn[]=new JButton[10]; and JButton add[]=new JButton[10]; so if I press add[i] the value of btn[i] is going to be stored in a Jlabel1 in the 2nd class and that jlabel1 will take that value and store it in another Jlabel2 but here when i run the programme i see the value btn[i] in Jlabel 1 but not in Jlabel 2 its like jlabel1 shows its value but when i try to take its value its shows null</p>\n<p>here is the code of both classes:</p>\n<p>1st class:</p>\n<pre><code>import java.awt.event.ActionEvent;\n\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\n\nimport javax.swing.JFrame;\n\n\n\n\n\npublic class Testid {\n\n\n\npublic JButton btn[]=new JButton[10];\n\npublic static String testhakou;\n\npublic JButton add[] = new JButton[10];\n\npublic JFrame jf = null;\n\nint bou=100;\n\npublic Testid(){\n\njf=new JFrame();\n\njf.setSize(1300,1000);\n\njf.setLocationRelativeTo(null);\n\njf.setLayout(null);\n\nfor(int i=0;i&lt;3;i++){\n\nbtn[i]=new JButton(i+&quot;&quot;);\n\nbtn[i].setBounds(0,bou,100,30);\n\njf.add(btn[i]);\n\nbou=bou+50;\n\n}\n\nfor(int k=0;k&lt;3;k++){\n\nadd[k]=new JButton();\n\nadd[k].setText(k+&quot;&quot;);\n\nadd[k].setBounds(0,bou,100,30);\n\nString b=add[k].getText();\n\nbou=bou+50;\n\njf.add(add[k]);\n\nadd[k].addActionListener(new ActionListener() {\n\nu/Override\n\npublic void actionPerformed(ActionEvent e) {\n\ncomentaire cm=new comentaire();\n\ntesthakou=b;\n\ncm.jLabel1.setText(testhakou);\n\ncm.setVisible(true);\n\n}\n\n} );}\n\njf.setVisible(true);\n\n}\n\npublic static void main(String[] args) {\n\nnew Testid();\n\n}\n\n}\n</code></pre>\n<hr />\n<p>2nd class:</p>\n<pre><code>public comentaire() {\n\ninitComponents();\n\njLabel1.setText(publication.testide);\n\njLabel1.setText(Testid.testhakou);\n\nlabel1.setText(jLabel1.getText());\n\n}\n</code></pre>\n"},{"tags":["java","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641493737,"creation_date":1641493737,"answer_id":70611882,"question_id":70611665,"body_markdown":"`BatchUpdateSpreadsheetRequest` accepts a list of requests to execute. You can add your Request to an ArrayList and then assign that to `BatchUpdateSpreadsheetRequest`.\r\n\r\nYou can add all the requests that you would like to execute in order in a single `BatchUpdateSpreadsheetRequest` in this way. Requests will be applied in the order they are specified in the list. If any request is not valid, no requests will be applied.\r\n\r\n\r\n```\r\nList&lt;Request&gt; requests = new ArrayList&lt;&gt;();\r\nrequests.add(request)\r\n\r\nvar batchUpdateSpreadsheetRequest = new BatchUpdateSpreadsheetRequest();\r\nbatchUpdateSpreadsheetRequest.setRequests(requests);\r\n\r\nreturn sheetService.spreadsheets()\r\n    .batchUpdate(sheetId, batchUpdateSpreadsheetRequest)\r\n    .execute();\r\n\r\n```","title":"Google sheet API, executing AddProtectedRangeRequest","body":"<p><code>BatchUpdateSpreadsheetRequest</code> accepts a list of requests to execute. You can add your Request to an ArrayList and then assign that to <code>BatchUpdateSpreadsheetRequest</code>.</p>\n<p>You can add all the requests that you would like to execute in order in a single <code>BatchUpdateSpreadsheetRequest</code> in this way. Requests will be applied in the order they are specified in the list. If any request is not valid, no requests will be applied.</p>\n<pre><code>List&lt;Request&gt; requests = new ArrayList&lt;&gt;();\nrequests.add(request)\n\nvar batchUpdateSpreadsheetRequest = new BatchUpdateSpreadsheetRequest();\nbatchUpdateSpreadsheetRequest.setRequests(requests);\n\nreturn sheetService.spreadsheets()\n    .batchUpdate(sheetId, batchUpdateSpreadsheetRequest)\n    .execute();\n\n</code></pre>\n"}],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70611882,"answer_count":1,"score":1,"last_activity_date":1641500276,"creation_date":1641492682,"question_id":70611665,"body_markdown":"based on: https://developers.google.com/sheets/api/samples/ranges\r\n\r\nHow to execute Google sheet API, executing AddProtectedRangeRequest ?\r\n\r\n\r\n     void addRangeRestriction(final String sheetId, final Sheets sheetService) throws IOException {\r\n\r\n        AddProtectedRangeRequest addProtectedRangeRequest = new AddProtectedRangeRequest();\r\n\r\n\r\n        var gridRange = new GridRange();\r\n            gridRange.setSheetId(1);\r\n            gridRange.setStartColumnIndex(1);\r\n            gridRange.setEndColumnIndex(1);\r\n            gridRange.setStartRowIndex(2);\r\n            gridRange.setEndRowIndex(2);\r\n\r\n        var protectedRange = new ProtectedRange();\r\n            protectedRange.setRange(gridRange);\r\n            protectedRange.setWarningOnly(true);\r\n\r\n        var request = new Request()\r\n                .setAddProtectedRange(new AddProtectedRangeRequest()\r\n                        .setProtectedRange(new ProtectedRange()\r\n                                .setRange(gridRange)\r\n                                .setRequestingUserCanEdit(false)));\r\n\r\n\r\n        addProtectedRangeRequest.setProtectedRange(protectedRange);\r\n\r\n        // TODO: ... ??\r\n    }\r\n\r\n--\r\n\r\nI can do it for  \r\n\r\n       var batchUpdateSpreadsheetRequest = new BatchUpdateSpreadsheetRequest();\r\n\r\nlike this:\r\n `return sheetService.spreadsheets().batchUpdate(sheetId, batchUpdateSpreadsheetRequest).execute();`\r\n\r\nbut not for AddProtectedRangeRequest or Request.. one\r\n\r\n","title":"Google sheet API, executing AddProtectedRangeRequest","body":"<p>based on: <a href=\"https://developers.google.com/sheets/api/samples/ranges\" rel=\"nofollow noreferrer\">https://developers.google.com/sheets/api/samples/ranges</a></p>\n<p>How to execute Google sheet API, executing AddProtectedRangeRequest ?</p>\n<pre><code> void addRangeRestriction(final String sheetId, final Sheets sheetService) throws IOException {\n\n    AddProtectedRangeRequest addProtectedRangeRequest = new AddProtectedRangeRequest();\n\n\n    var gridRange = new GridRange();\n        gridRange.setSheetId(1);\n        gridRange.setStartColumnIndex(1);\n        gridRange.setEndColumnIndex(1);\n        gridRange.setStartRowIndex(2);\n        gridRange.setEndRowIndex(2);\n\n    var protectedRange = new ProtectedRange();\n        protectedRange.setRange(gridRange);\n        protectedRange.setWarningOnly(true);\n\n    var request = new Request()\n            .setAddProtectedRange(new AddProtectedRangeRequest()\n                    .setProtectedRange(new ProtectedRange()\n                            .setRange(gridRange)\n                            .setRequestingUserCanEdit(false)));\n\n\n    addProtectedRangeRequest.setProtectedRange(protectedRange);\n\n    // TODO: ... ??\n}\n</code></pre>\n<p>--</p>\n<p>I can do it for</p>\n<pre><code>   var batchUpdateSpreadsheetRequest = new BatchUpdateSpreadsheetRequest();\n</code></pre>\n<p>like this:\n<code>return sheetService.spreadsheets().batchUpdate(sheetId, batchUpdateSpreadsheetRequest).execute();</code></p>\n<p>but not for AddProtectedRangeRequest or Request.. one</p>\n"},{"tags":["java","reactjs","push-notification","notifications","web-push"],"owner":{"account_id":17490535,"reputation":1,"user_id":12682786,"display_name":"test"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1641500222,"creation_date":1641500222,"question_id":70613146,"body_markdown":"I am currently doing a project, where I have to send a push notification from backend to frontend. I am using this tutorial:\r\nhttps://dev.to/marcushellberg/how-to-send-web-push-notifications-in-java-21lo\r\n\r\nThe problem is, I am not using the vaadin project, but React in frontend. So I am stucked at the part &quot;Create an Endpoint for accessing the server&quot;. Is there a way to create an endpoint for react to access server too?\r\n\r\nThank you in advance!","title":"How to create endpoint in Java for React browser to access","body":"<p>I am currently doing a project, where I have to send a push notification from backend to frontend. I am using this tutorial:\n<a href=\"https://dev.to/marcushellberg/how-to-send-web-push-notifications-in-java-21lo\" rel=\"nofollow noreferrer\">https://dev.to/marcushellberg/how-to-send-web-push-notifications-in-java-21lo</a></p>\n<p>The problem is, I am not using the vaadin project, but React in frontend. So I am stucked at the part &quot;Create an Endpoint for accessing the server&quot;. Is there a way to create an endpoint for react to access server too?</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1641928545,"post_id":70600555,"comment_id":124934936,"body_markdown":"If the answers resolved your question please mark them as answer, that&#39;s how SO community works..","body":"If the answers resolved your question please mark them as answer, that&#39;s how SO community works.."}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641429117,"creation_date":1641428553,"answer_id":70601124,"question_id":70600555,"body_markdown":"Since lombok is already generating `equals/hashCode` for you this should be very simple.\r\n\r\n    List&lt;MyItems.Details&gt; combined = Stream.concat(detailsList.stream(), detailsList2.stream()) // Create a Stream based on the two lists\r\n        .distinct() // Remove duplicates\r\n        .toList(); // Creates the list. Depending on your Java version you may need to write collect(Collectors.toList()) instead.\r\n    groupItemInfo1.setItems(combined);","title":"How to read the list element and store the value in another element of the same list based on conditional check using a stream","body":"<p>Since lombok is already generating <code>equals/hashCode</code> for you this should be very simple.</p>\n<pre><code>List&lt;MyItems.Details&gt; combined = Stream.concat(detailsList.stream(), detailsList2.stream()) // Create a Stream based on the two lists\n    .distinct() // Remove duplicates\n    .toList(); // Creates the list. Depending on your Java version you may need to write collect(Collectors.toList()) instead.\ngroupItemInfo1.setItems(combined);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641499973,"creation_date":1641430453,"answer_id":70601317,"question_id":70600555,"body_markdown":"If you want to have only unique elements, I would suggest you change the type of the `items` member of `GroupItemInfo` from `List&lt;Details&gt;` to `Set&lt;Details&gt;` (or `SortedSet&lt;Details&gt;` if an ordering is needed). \r\n\r\nSimilarly, you might want to think if you really need the `itemInfoList` member to be a `List&lt;MyItems.GroupItemInfo&gt;` or can it be a `Set&lt;MyItems.GroupItemInfo&gt;` instead (or again a `SortedSet&lt;MyItems.GroupItemInfo&gt;` depending on the ordering need).\r\n\r\nNow having said that, with the above code (assuming you can&#39;t change) we can do this as below,\r\n\r\n    // First get the one whose type==null..\r\n    MyItems.GroupItemInfo nullTypedGroupItemInfo = itemInfoList.stream().filter(groupItemInfo -&gt; groupItemInfo.getType() == null).findFirst().orElseThrow();\r\n    \r\n    // Get unique, ordered set of details from the others whose whose type!=null..\r\n    Collection&lt;Details&gt; detailsCollection = itemInfoList.stream().filter(groupItemInfo -&gt; groupItemInfo.getType() != null).flatMap(item -&gt; item.getItems().stream()).collect(Collectors.toCollection(TreeSet&lt;Details&gt;::new));\r\n    });\r\n    \r\n    // Finally set the above unique details collection in the one whose type==null that we obtained earlier..\r\n    nullTypedGroupItemInfo.setItems(new ArrayList&lt;&gt;(detailsCollection));\r\n\r\n","title":"How to read the list element and store the value in another element of the same list based on conditional check using a stream","body":"<p>If you want to have only unique elements, I would suggest you change the type of the <code>items</code> member of <code>GroupItemInfo</code> from <code>List&lt;Details&gt;</code> to <code>Set&lt;Details&gt;</code> (or <code>SortedSet&lt;Details&gt;</code> if an ordering is needed).</p>\n<p>Similarly, you might want to think if you really need the <code>itemInfoList</code> member to be a <code>List&lt;MyItems.GroupItemInfo&gt;</code> or can it be a <code>Set&lt;MyItems.GroupItemInfo&gt;</code> instead (or again a <code>SortedSet&lt;MyItems.GroupItemInfo&gt;</code> depending on the ordering need).</p>\n<p>Now having said that, with the above code (assuming you can't change) we can do this as below,</p>\n<pre><code>// First get the one whose type==null..\nMyItems.GroupItemInfo nullTypedGroupItemInfo = itemInfoList.stream().filter(groupItemInfo -&gt; groupItemInfo.getType() == null).findFirst().orElseThrow();\n\n// Get unique, ordered set of details from the others whose whose type!=null..\nCollection&lt;Details&gt; detailsCollection = itemInfoList.stream().filter(groupItemInfo -&gt; groupItemInfo.getType() != null).flatMap(item -&gt; item.getItems().stream()).collect(Collectors.toCollection(TreeSet&lt;Details&gt;::new));\n});\n\n// Finally set the above unique details collection in the one whose type==null that we obtained earlier..\nnullTypedGroupItemInfo.setItems(new ArrayList&lt;&gt;(detailsCollection));\n</code></pre>\n"}],"owner":{"account_id":11050822,"reputation":55,"user_id":8115347,"accept_rate":20,"display_name":"user8115347"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641499973,"creation_date":1641423207,"question_id":70600555,"body_markdown":"I have the below sample code. I want to read the values from the elements in the List and add in another element of the same List with conditional check.\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import lombok.*;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @JsonIgnoreProperties\r\n    class MyItems {\r\n        private List&lt;GroupItemInfo&gt; groupItemInfos;\r\n    \r\n        @Getter\r\n        @Setter\r\n        @EqualsAndHashCode\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @Builder\r\n        public static class Details {\r\n            private String id;\r\n            private String status;\r\n        }\r\n    \r\n        @Getter\r\n        @Setter\r\n        @EqualsAndHashCode\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @Builder\r\n        public static class GroupItemInfo {\r\n            private String type;\r\n            List&lt;Details&gt; items;\r\n        }\r\n    }\r\n    \r\n    public class ScreenTest {\r\n    \r\n        public static void main(String args[]) {\r\n            List&lt;MyItems.GroupItemInfo&gt; itemInfoList = new ArrayList&lt;&gt;();\r\n            MyItems.GroupItemInfo groupItemInfo1 = new MyItems.GroupItemInfo();\r\n            groupItemInfo1.setType(null);\r\n            groupItemInfo1.setItems(null);\r\n    \r\n            MyItems.GroupItemInfo groupItemInfo2 = new MyItems.GroupItemInfo();\r\n            List&lt;MyItems.Details&gt; detailsList = new ArrayList&lt;&gt;();\r\n            MyItems.Details details1 = new MyItems.Details();\r\n            details1.setId(&quot;A&quot;);\r\n            details1.setStatus(&quot;Active&quot;);\r\n            MyItems.Details details2 = new MyItems.Details();\r\n            details2.setId(&quot;B&quot;);\r\n            details2.setStatus(&quot;Active&quot;);\r\n            MyItems.Details details3 = new MyItems.Details();\r\n            details3.setId(&quot;C&quot;);\r\n            details3.setStatus(&quot;InActive&quot;);\r\n            detailsList.add(details1);\r\n            detailsList.add(details2);\r\n            detailsList.add(details3);\r\n    \r\n            groupItemInfo2.setType(&quot;WIRE&quot;);\r\n            groupItemInfo2.setItems(detailsList);\r\n    \r\n    \r\n            MyItems.GroupItemInfo groupItemInfo3 = new MyItems.GroupItemInfo();\r\n            MyItems.Details details4= new MyItems.Details();\r\n            details4.setId(&quot;A&quot;);\r\n            details4.setStatus(&quot;Active&quot;);\r\n            MyItems.Details details5 = new MyItems.Details();\r\n            details5.setId(&quot;H&quot;);\r\n            details5.setStatus(&quot;Active&quot;);\r\n            List&lt;MyItems.Details&gt; detailsList2 = new ArrayList&lt;&gt;();\r\n            detailsList2.add(details4);\r\n            detailsList2.add(details5);\r\n            groupItemInfo3.setType(&quot;MODEM&quot;);\r\n            groupItemInfo3.setItems(detailsList2);\r\n    \r\n            itemInfoList.add(groupItemInfo1);\r\n            itemInfoList.add(groupItemInfo2);\r\n            itemInfoList.add(groupItemInfo3);\r\n            System.out.println(&quot;---------itemInfoList------------ &quot; + itemInfoList);\r\n    \r\n          /*  itemInfoList.stream().forEach(groupItemInfo -&gt; {\r\n                groupItemInfo.setType();\r\n            });*/\r\n        }\r\n    }\r\n\r\nI want to store all the items from all objects whose `type!=null` (WIRE,MODEM) in the object with `type=null` and should be unique (duplicates should not be allowed).\r\nBelow is the sample image of how the data is stored.\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\nIn the above image, the result list has 3 elements and element 2 and element 3 has items that I wanted to read and store in the first element whose `type==null` (without duplicates).\r\nHaving difficulty in how to read the groupItemInfo.getItems() when already in the loop(itemsList.stream().forEach..).\r\n\r\n\r\nExpectation is for element zero with type=null and items=null, read all the items from other elements in the list and store with out duplicates (A,B,C,H should be stored) \r\n\r\n---EDITED---\r\n\r\nShowing error when tried the code as shown in the below image\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yOSyP.png\r\n  [2]: https://i.stack.imgur.com/ufpTn.png","title":"How to read the list element and store the value in another element of the same list based on conditional check using a stream","body":"<p>I have the below sample code. I want to read the values from the elements in the List and add in another element of the same List with conditional check.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@JsonIgnoreProperties\nclass MyItems {\n    private List&lt;GroupItemInfo&gt; groupItemInfos;\n\n    @Getter\n    @Setter\n    @EqualsAndHashCode\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    public static class Details {\n        private String id;\n        private String status;\n    }\n\n    @Getter\n    @Setter\n    @EqualsAndHashCode\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    public static class GroupItemInfo {\n        private String type;\n        List&lt;Details&gt; items;\n    }\n}\n\npublic class ScreenTest {\n\n    public static void main(String args[]) {\n        List&lt;MyItems.GroupItemInfo&gt; itemInfoList = new ArrayList&lt;&gt;();\n        MyItems.GroupItemInfo groupItemInfo1 = new MyItems.GroupItemInfo();\n        groupItemInfo1.setType(null);\n        groupItemInfo1.setItems(null);\n\n        MyItems.GroupItemInfo groupItemInfo2 = new MyItems.GroupItemInfo();\n        List&lt;MyItems.Details&gt; detailsList = new ArrayList&lt;&gt;();\n        MyItems.Details details1 = new MyItems.Details();\n        details1.setId(&quot;A&quot;);\n        details1.setStatus(&quot;Active&quot;);\n        MyItems.Details details2 = new MyItems.Details();\n        details2.setId(&quot;B&quot;);\n        details2.setStatus(&quot;Active&quot;);\n        MyItems.Details details3 = new MyItems.Details();\n        details3.setId(&quot;C&quot;);\n        details3.setStatus(&quot;InActive&quot;);\n        detailsList.add(details1);\n        detailsList.add(details2);\n        detailsList.add(details3);\n\n        groupItemInfo2.setType(&quot;WIRE&quot;);\n        groupItemInfo2.setItems(detailsList);\n\n\n        MyItems.GroupItemInfo groupItemInfo3 = new MyItems.GroupItemInfo();\n        MyItems.Details details4= new MyItems.Details();\n        details4.setId(&quot;A&quot;);\n        details4.setStatus(&quot;Active&quot;);\n        MyItems.Details details5 = new MyItems.Details();\n        details5.setId(&quot;H&quot;);\n        details5.setStatus(&quot;Active&quot;);\n        List&lt;MyItems.Details&gt; detailsList2 = new ArrayList&lt;&gt;();\n        detailsList2.add(details4);\n        detailsList2.add(details5);\n        groupItemInfo3.setType(&quot;MODEM&quot;);\n        groupItemInfo3.setItems(detailsList2);\n\n        itemInfoList.add(groupItemInfo1);\n        itemInfoList.add(groupItemInfo2);\n        itemInfoList.add(groupItemInfo3);\n        System.out.println(&quot;---------itemInfoList------------ &quot; + itemInfoList);\n\n      /*  itemInfoList.stream().forEach(groupItemInfo -&gt; {\n            groupItemInfo.setType();\n        });*/\n    }\n}\n</code></pre>\n<p>I want to store all the items from all objects whose <code>type!=null</code> (WIRE,MODEM) in the object with <code>type=null</code> and should be unique (duplicates should not be allowed).\nBelow is the sample image of how the data is stored.</p>\n<p><a href=\"https://i.stack.imgur.com/yOSyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yOSyP.png\" alt=\"enter image description here\" /></a></p>\n<p>In the above image, the result list has 3 elements and element 2 and element 3 has items that I wanted to read and store in the first element whose <code>type==null</code> (without duplicates).\nHaving difficulty in how to read the groupItemInfo.getItems() when already in the loop(itemsList.stream().forEach..).</p>\n<p>Expectation is for element zero with type=null and items=null, read all the items from other elements in the list and store with out duplicates (A,B,C,H should be stored)</p>\n<p>---EDITED---</p>\n<p>Showing error when tried the code as shown in the below image\n<a href=\"https://i.stack.imgur.com/ufpTn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ufpTn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","iso","unpack","hexdump","jpos"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641499400,"creation_date":1641499400,"answer_id":70613011,"question_id":70612701,"body_markdown":"If you want to unpack from the data you shared, you just need to use the same packager you used to pack the iso message to unpack what you generated.\r\n\r\nYou can instantiate a packager with the same parameters you used to pack the message and then:\r\n\r\n```java\r\nISOPackager pacakger = ....; //initialize the same way as used to pack\r\nISOMsg m = new ISOMsg();\r\n//here we are using the hexdump since the plain data has non printable chars, because of the binary bitmap\r\nbyte[] packed = ISOUtil.decodeHexDump(\r\n                &quot;30 38 30 30 82 20 01 00  00 00 00 00 04 00 00 00      0800. ..........\\n&quot; +\r\n                &quot;00 00 00 00 31 32 32 34  31 39 30 35 31 36 34 32      ....122419051642\\n&quot; +\r\n                &quot;34 39 39 37 30 30 31 30  30 33                        4997001003&quot;);\r\npackager.unpack(m, packed);\r\n```\r\n\r\nAlternatively you can\r\n```java\r\nISOMsg m = new ISOMsg();\r\nm.setPackager(packager);\r\nm.unpack(packed);\r\n```\r\n\r\nProvided that `packed` and `packager` variables are initialized in the ssame way as above.\r\n\r\nAnd you will have the iso message content in the `m` variable.\r\n","title":"ISO8583 Unpack Issue","body":"<p>If you want to unpack from the data you shared, you just need to use the same packager you used to pack the iso message to unpack what you generated.</p>\n<p>You can instantiate a packager with the same parameters you used to pack the message and then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ISOPackager pacakger = ....; //initialize the same way as used to pack\nISOMsg m = new ISOMsg();\n//here we are using the hexdump since the plain data has non printable chars, because of the binary bitmap\nbyte[] packed = ISOUtil.decodeHexDump(\n                &quot;30 38 30 30 82 20 01 00  00 00 00 00 04 00 00 00      0800. ..........\\n&quot; +\n                &quot;00 00 00 00 31 32 32 34  31 39 30 35 31 36 34 32      ....122419051642\\n&quot; +\n                &quot;34 39 39 37 30 30 31 30  30 33                        4997001003&quot;);\npackager.unpack(m, packed);\n</code></pre>\n<p>Alternatively you can</p>\n<pre class=\"lang-java prettyprint-override\"><code>ISOMsg m = new ISOMsg();\nm.setPackager(packager);\nm.unpack(packed);\n</code></pre>\n<p>Provided that <code>packed</code> and <code>packager</code> variables are initialized in the ssame way as above.</p>\n<p>And you will have the iso message content in the <code>m</code> variable.</p>\n"}],"owner":{"account_id":23787069,"reputation":5,"user_id":17798975,"display_name":"zubair mujeeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70613011,"answer_count":1,"score":0,"last_activity_date":1641499400,"creation_date":1641497749,"question_id":70612701,"body_markdown":"How I will unpack ISO message using JPOS library in java?\r\n\r\nhere is the sample ISO message.\r\n```\r\n0800. ..............1224190516424997001003\t\t\r\nSample Hex Dump:\r\n30 38 30 30 82 20 01 00  00 00 00 00 04 00 00 00  \t  0800. ..........\r\n00 00 00 00 31 32 32 34  31 39 30 35 31 36 34 32      ....122419051642\r\n34 39 39 37 30 30 31 30  30 33                        4997001003\t\r\n```\r\n\r\nPlease note that I have packed this above message using jpos library and bit map format is org.jpos.iso.IFB_BITMAP\t","title":"ISO8583 Unpack Issue","body":"<p>How I will unpack ISO message using JPOS library in java?</p>\n<p>here is the sample ISO message.</p>\n<pre><code>0800. ..............1224190516424997001003      \nSample Hex Dump:\n30 38 30 30 82 20 01 00  00 00 00 00 04 00 00 00      0800. ..........\n00 00 00 00 31 32 32 34  31 39 30 35 31 36 34 32      ....122419051642\n34 39 39 37 30 30 31 30  30 33                        4997001003    \n</code></pre>\n<p>Please note that I have packed this above message using jpos library and bit map format is org.jpos.iso.IFB_BITMAP</p>\n"},{"tags":["python","java","networkx","adjacency-matrix","minimum-spanning-tree"],"owner":{"account_id":23849870,"reputation":1,"user_id":17853939,"display_name":"Yesin N. Serrid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641499126,"creation_date":1641495582,"question_id":70612275,"body_markdown":"Does any have a GUI package that can find the MST of the matrix generated by the code below and display the MST graph something similar to Networkx In python?\r\n\r\nsome thing like this\r\n\r\n[enter image description here][1]\r\n\r\nThe link below contains two files. The file named src contains a GUI used to display the connectivity matrix and the minimum spanning tree generated by the prims and Kruskal algorithms.\r\n\r\n\r\nThe other file contains a code that generates a connectivity matrix using BFS. I want to input my matrix in the other file instead of the random matrix being used in the GUI file. In other words, I want the GUI to draw my matrix. \r\n\r\n\r\n\r\nThanks in advance :)\r\n\r\n\r\n[enter link description here][2]\r\n\r\n\r\n        package test;\r\n    \r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    import java.util.Random;\r\n    import java.util.concurrent.ThreadLocalRandom;\r\n    \r\n    \r\n    public class BFSInMatrix {\r\n        public void BFS(int[][] grid) {\r\n    \r\n            int h = grid.length;\r\n            if (h == 0)\r\n                return;\r\n            int l = grid[0].length;\r\n    \r\n            boolean[][] visited = new boolean[h][l];\r\n    \r\n            Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\r\n    \r\n            queue.add(0 + &quot;,&quot; + 0);\r\n    \r\n            System.out.println(&quot;Breadth-First Traversal: &quot;);\r\n            while (queue.isEmpty() == false) {\r\n    \r\n                String x = queue.remove();\r\n                int row = Integer.parseInt(x.split(&quot;,&quot;)[0]);\r\n                int col = Integer.parseInt(x.split(&quot;,&quot;)[1]);\r\n    \r\n                if (row &lt; 0 || col &lt; 0 || row &gt;= h || col &gt;= l || visited[row][col])\r\n                    continue;\r\n    \r\n                visited[row][col] = true;\r\n                System.out.print(grid[row][col] + &quot; &quot;);\r\n                queue.add(row + &quot;,&quot; + (col - 1)); //go left\r\n                queue.add(row + &quot;,&quot; + (col + 1)); //go right\r\n                queue.add((row - 1) + &quot;,&quot; + col); //go up\r\n                queue.add((row + 1) + &quot;,&quot; + col); //go down\r\n            }\r\n        }\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n    \r\n        \tRandom r=new Random(); //create variable r to generate me a random integer number\r\n    \t\t\r\n        \tint y = ThreadLocalRandom.current().nextInt(25, 30 + 1);\r\n    \t\t\r\n    \t\t\r\n    \t\t int[][] a=new int[y][y]; //create matrix a of size 4x4 [rows][columns]\r\n    \t\t \r\n    \t\t System.out.println();\r\n    \t\t \r\n    \t\t for(int i=0;i&lt;y;i++) //rows loop\r\n    \t\t  {\r\n    \t\t\t for(int j=0;j&lt;y;j++) //columns loop\r\n    \t\t      {\r\n    \t\t    \t  int x = r.nextInt(2);\r\n    \t\t    \t  a[i][j]=x;\r\n    \t\t    \t  a[j][i]=x; \r\n    \t\t    \t  \r\n    \t\t         if (i == j) //diagonal zero\r\n    \t\t    \t  {\r\n    \t\t    \t\t  a[i][j]=0;   \r\n    \t\t    \t  }\r\n    \t\t      }//column loop\r\n    \t\t  \r\n    \t\t  }//row loop\r\n    \t\t  \r\n    \t\t \r\n    \t\t for(int i = 0; i&lt;y; i++) //print Matrix\r\n    \t\t {\r\n    \t\t     for(int j = 0; j&lt;y; j++)\r\n    \t\t     {\r\n    \t\t         System.out.print(a[i][j]+ &quot;\\t&quot;);\r\n    \t\t     }//coulmn loop\r\n    \t\t     System.out.println();\r\n    \t\t }//row loop\r\n    \t\t \r\n    \t\t BFSInMatrix z = new BFSInMatrix();\r\n    \t\t System.out.println();\r\n    \t\t z.BFS(a);\r\n    \t\t \r\n    \t\t System.out.println();\r\n    \t\t \r\n    \t\t for(int i=0;i&lt;y;i++) //rows loop\r\n    \t\t  {\r\n    \t\t\t for(int j=0;j&lt;y;j++) //columns loop\r\n    \t\t      {\r\n    \t\t\t\t \r\n    \t\t\t\t int w = r.nextInt(100);\r\n    \t\t\t\t if ( a[i][j] == 1 )\r\n    \t\t\t\t { \r\n    \t\t\t\t\t a[i][j] = w; //assign random weight between 0 and 100\r\n    \t\t\t\t     a[j][i] = w; //assign random weight between 0 and 100\r\n    \t\t\t\t    \r\n    \t\t\t\t }\r\n    \t\t\t\r\n    \t\t\r\n    \t\t      }// column\r\n    \t\t \r\n    \t\t \r\n    \t\t  }//row\r\n    \t\t \r\n    \t\t System.out.println();\r\n    \t\t for(int i = 0; i&lt;y; i++) //print weighted Matrix\r\n    \t\t {\r\n    \t\t     for(int j = 0; j&lt;y; j++)\r\n    \t\t     {\r\n    \t\t    \t \r\n    \t\t         System.out.print(a[i][j]+ &quot;\\t&quot;);\r\n    \t\t     }//coulmn loop\r\n    \t\t     System.out.println();\r\n    \t\t }//row loop\r\n    \t\t \r\n    \r\n    \t\t \r\n    \t\r\n    \t\t  \r\n    \t\t    }//main\r\n        \r\n    }\r\n        \r\n    //References: \r\n    \r\n    /*\r\n    https://algorithms.tutorialhorizon.com/breadth-first-search-bfs-in-2d-matrix-2d-array/\r\n    https://stackoverflow.com/questions/47439033/java-2d-array-with-random-number-symetric-matrix\r\n    */\r\n    \r\n    \r\n    \r\n    \r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jTyiB.png\r\n  [2]: https://easyupload.io/m/w6ul1s","title":"Displaying MST graph in Java","body":"<p>Does any have a GUI package that can find the MST of the matrix generated by the code below and display the MST graph something similar to Networkx In python?</p>\n<p>some thing like this</p>\n<p><a href=\"https://i.stack.imgur.com/jTyiB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The link below contains two files. The file named src contains a GUI used to display the connectivity matrix and the minimum spanning tree generated by the prims and Kruskal algorithms.</p>\n<p>The other file contains a code that generates a connectivity matrix using BFS. I want to input my matrix in the other file instead of the random matrix being used in the GUI file. In other words, I want the GUI to draw my matrix.</p>\n<p>Thanks in advance :)</p>\n<p><a href=\"https://easyupload.io/m/w6ul1s\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n<pre><code>    package test;\n\nimport java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Random;\nimport java.util.concurrent.ThreadLocalRandom;\n\n\npublic class BFSInMatrix {\n    public void BFS(int[][] grid) {\n\n        int h = grid.length;\n        if (h == 0)\n            return;\n        int l = grid[0].length;\n\n        boolean[][] visited = new boolean[h][l];\n\n        Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\n\n        queue.add(0 + &quot;,&quot; + 0);\n\n        System.out.println(&quot;Breadth-First Traversal: &quot;);\n        while (queue.isEmpty() == false) {\n\n            String x = queue.remove();\n            int row = Integer.parseInt(x.split(&quot;,&quot;)[0]);\n            int col = Integer.parseInt(x.split(&quot;,&quot;)[1]);\n\n            if (row &lt; 0 || col &lt; 0 || row &gt;= h || col &gt;= l || visited[row][col])\n                continue;\n\n            visited[row][col] = true;\n            System.out.print(grid[row][col] + &quot; &quot;);\n            queue.add(row + &quot;,&quot; + (col - 1)); //go left\n            queue.add(row + &quot;,&quot; + (col + 1)); //go right\n            queue.add((row - 1) + &quot;,&quot; + col); //go up\n            queue.add((row + 1) + &quot;,&quot; + col); //go down\n        }\n    }\n    \n    \n    public static void main(String[] args) {\n\n        Random r=new Random(); //create variable r to generate me a random integer number\n        \n        int y = ThreadLocalRandom.current().nextInt(25, 30 + 1);\n        \n        \n         int[][] a=new int[y][y]; //create matrix a of size 4x4 [rows][columns]\n         \n         System.out.println();\n         \n         for(int i=0;i&lt;y;i++) //rows loop\n          {\n             for(int j=0;j&lt;y;j++) //columns loop\n              {\n                  int x = r.nextInt(2);\n                  a[i][j]=x;\n                  a[j][i]=x; \n                  \n                 if (i == j) //diagonal zero\n                  {\n                      a[i][j]=0;   \n                  }\n              }//column loop\n          \n          }//row loop\n          \n         \n         for(int i = 0; i&lt;y; i++) //print Matrix\n         {\n             for(int j = 0; j&lt;y; j++)\n             {\n                 System.out.print(a[i][j]+ &quot;\\t&quot;);\n             }//coulmn loop\n             System.out.println();\n         }//row loop\n         \n         BFSInMatrix z = new BFSInMatrix();\n         System.out.println();\n         z.BFS(a);\n         \n         System.out.println();\n         \n         for(int i=0;i&lt;y;i++) //rows loop\n          {\n             for(int j=0;j&lt;y;j++) //columns loop\n              {\n                 \n                 int w = r.nextInt(100);\n                 if ( a[i][j] == 1 )\n                 { \n                     a[i][j] = w; //assign random weight between 0 and 100\n                     a[j][i] = w; //assign random weight between 0 and 100\n                    \n                 }\n            \n        \n              }// column\n         \n         \n          }//row\n         \n         System.out.println();\n         for(int i = 0; i&lt;y; i++) //print weighted Matrix\n         {\n             for(int j = 0; j&lt;y; j++)\n             {\n                 \n                 System.out.print(a[i][j]+ &quot;\\t&quot;);\n             }//coulmn loop\n             System.out.println();\n         }//row loop\n         \n\n         \n    \n          \n            }//main\n    \n}\n    \n//References: \n\n/*\nhttps://algorithms.tutorialhorizon.com/breadth-first-search-bfs-in-2d-matrix-2d-array/\nhttps://stackoverflow.com/questions/47439033/java-2d-array-with-random-number-symetric-matrix\n*/\n</code></pre>\n"},{"tags":["java","file-io","io","opencsv"],"comments":[{"owner":{"account_id":110209,"reputation":1163,"user_id":2012422,"display_name":"matias elgart"},"score":0,"creation_date":1479076890,"post_id":40579601,"comment_id":68394938,"body_markdown":"what does csvBody look like before you write it out? you can use print statements to see.","body":"what does csvBody look like before you write it out? you can use print statements to see."},{"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"score":0,"creation_date":1479077391,"post_id":40579601,"comment_id":68395047,"body_markdown":"Can you try with this ? CSVWriter writer = new CSVWriter(new FileWriter(archivoProductos), &#39;,&#39;, CSVWriter.NO_QUOTE_CHARACTER,\n                CSVWriter.NO_ESCAPE_CHARACTER);","body":"Can you try with this ? CSVWriter writer = new CSVWriter(new FileWriter(archivoProductos), &#39;,&#39;, CSVWriter.NO_QUOTE_CHARACTER,                 CSVWriter.NO_ESCAPE_CHARACTER);"},{"owner":{"account_id":9639601,"reputation":121,"user_id":7154343,"display_name":"David Selem"},"score":0,"creation_date":1479077416,"post_id":40579601,"comment_id":68395055,"body_markdown":"I updated the post, as you can see there is no empty line in the csvBody, If I delete the empty line and want to modify another row, the empty line will be back. @melgart","body":"I updated the post, as you can see there is no empty line in the csvBody, If I delete the empty line and want to modify another row, the empty line will be back. @melgart"},{"owner":{"account_id":9639601,"reputation":121,"user_id":7154343,"display_name":"David Selem"},"score":0,"creation_date":1479077508,"post_id":40579601,"comment_id":68395085,"body_markdown":"I&#39;ve already tried that, didn&#39;t work :( @javaguy","body":"I&#39;ve already tried that, didn&#39;t work :( @javaguy"}],"answers":[{"tags":[],"owner":{"account_id":1611304,"reputation":101,"user_id":1490122,"display_name":"Marlin Ouverson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479078375,"creation_date":1479078375,"answer_id":40579817,"question_id":40579601,"body_markdown":"Perhaps you would like to insert a test so you don&#39;t write the final...\r\n\r\nSystem.getProperty(&quot;line.separator&quot;)\r\n\r\n...if there is no more data. Or, and this may execute faster, just trim the last separator character before writing/saving the file.","title":"How to remove empty line at the end of the file?","body":"<p>Perhaps you would like to insert a test so you don't write the final...</p>\n\n<p>System.getProperty(\"line.separator\")</p>\n\n<p>...if there is no more data. Or, and this may execute faster, just trim the last separator character before writing/saving the file.</p>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479496039,"creation_date":1479078638,"answer_id":40579843,"question_id":40579601,"body_markdown":"The problem is your line feed character, so instead of `System.getProperty(&quot;line.separator&quot;)`, you need to send the line feed (last argument) as &quot;&quot; for the `CSVWriter` constructor as shown below:\r\n\r\n    //Pass Empty string as line feed at the end\r\n    CSVWriter writer = new CSVWriter(new FileWriter(archivoProductos), &#39;,&#39;, \r\n                      CSVWriter.NO_QUOTE_CHARACTER,\r\n                      CSVWriter.NO_ESCAPE_CHARACTER,&quot;&quot;);\r\n","title":"How to remove empty line at the end of the file?","body":"<p>The problem is your line feed character, so instead of <code>System.getProperty(\"line.separator\")</code>, you need to send the line feed (last argument) as \"\" for the <code>CSVWriter</code> constructor as shown below:</p>\n\n<pre><code>//Pass Empty string as line feed at the end\nCSVWriter writer = new CSVWriter(new FileWriter(archivoProductos), ',', \n                  CSVWriter.NO_QUOTE_CHARACTER,\n                  CSVWriter.NO_ESCAPE_CHARACTER,\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4836940,"reputation":985,"user_id":3903279,"display_name":"Scott Conway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479391707,"creation_date":1479391707,"answer_id":40657026,"question_id":40579601,"body_markdown":"Okay so looking at it from a slightly different angle I would ask why are you sending in the System.getProperty(&quot;line.separator&quot;) - and the answer to that is that the system you are on is uses a line separator other than newline &quot;\\n&quot;.   \r\n\r\nWhat I am suspecting is that the editor you are using is not handling the different newline well.  If you are on a *Nix system (Linux, Unix, BSD, Mac, etc)  run &quot;wc -l &lt;name of your csv output file&gt;&quot; to get a real line count and see if that comes back with a three or four.  Otherwise try a different editor. \r\n\r\nAnother possibility is do a hexdump of you input file and see if it has an extra newline in it.  It could be that is the case and the reader is picking that up as an extra, empty, record and the CSVWriter is dutifully writing it out. If so you will need to write logic to loop through the List after it is read and remove the ones that are empty before writing.  I think this is the real culprit here.","title":"How to remove empty line at the end of the file?","body":"<p>Okay so looking at it from a slightly different angle I would ask why are you sending in the System.getProperty(\"line.separator\") - and the answer to that is that the system you are on is uses a line separator other than newline \"\\n\".   </p>\n\n<p>What I am suspecting is that the editor you are using is not handling the different newline well.  If you are on a *Nix system (Linux, Unix, BSD, Mac, etc)  run \"wc -l \" to get a real line count and see if that comes back with a three or four.  Otherwise try a different editor. </p>\n\n<p>Another possibility is do a hexdump of you input file and see if it has an extra newline in it.  It could be that is the case and the reader is picking that up as an extra, empty, record and the CSVWriter is dutifully writing it out. If so you will need to write logic to loop through the List after it is read and remove the ones that are empty before writing.  I think this is the real culprit here.</p>\n"}],"owner":{"account_id":9639601,"reputation":121,"user_id":7154343,"display_name":"David Selem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3421,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1641499049,"creation_date":1479076711,"question_id":40579601,"body_markdown":"I have a text file that I use to store information of Items.\r\n\r\n    10325,Test1,Producto del Hogar,12,17\r\n    10425,Test2,Videojuegos,11,17\r\n    12345,Test3,Producto del Hogar,56,17.0\r\n\r\n    \r\n\r\nI&#39;m using opencsv library to modify one column of the desired item, I&#39;m using this code:\r\n\r\n\tpublic void updateCSV(String replace, int fila, int col) throws IOException {\r\n\t\tif (replace != null) {\r\n\t\t\tFile archivoProductos = new File(&quot;productos.txt&quot;);\r\n\t\t\t// Read existing file\r\n\t\t\tCSVReader reader = new CSVReader(new FileReader(archivoProductos), &#39;,&#39;, CSVWriter.NO_QUOTE_CHARACTER,\r\n\t\t\t\t\tCSVWriter.NO_ESCAPE_CHARACTER);\r\n\t\t\tList&lt;String[]&gt; csvBody = reader.readAll();\r\n\t\t\t// get CSV row column and replace with by using row and column\r\n\t\t\tcsvBody.get(fila)[col] = replace;\r\n\t\t\treader.close();\r\n\t\t\t// Write to CSV file which is open\r\n\t\t\tCSVWriter writer = new CSVWriter(new FileWriter(archivoProductos), &#39;,&#39;, CSVWriter.NO_QUOTE_CHARACTER,\r\n\t\t\t\t\tCSVWriter.NO_ESCAPE_CHARACTER, System.getProperty(&quot;line.separator&quot;));\r\n\t\t\twriter.writeAll(csvBody);\r\n\t\t\twriter.flush();\r\n\t\t\twriter.close();\r\n\r\n\t\t}\r\n\t}\r\n\r\nThe problem is that when the modification is done, there is added one empty line at the end of the text file.\r\n\r\n    line1  10325,Test99,Producto del Hogar,12,17\r\n    line3  10425,Test2,Videojuegos,11,17\r\n    line2  12345,Test3,Producto del Hogar,56,17.0\r\n    line4\r\n\r\nHow can I avoid the empty line added at the end ?  \r\n\r\n\r\nAdded println of csvBody before it writes it out\r\n\r\n    [10325, Test99, Producto del Hogar, 12, 17]\r\n    [10425, Test2, Videojuegos, 11, 17]\r\n    [12345, Test3, Producto del Hogar, 56, 17.0]\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nTried so far:\r\n\r\nDoesn&#39;t add the empty line, but my 3 existent lines are now written in just one line.\r\n\r\n\tCSVWriter writer = new CSVWriter(new FileWriter(archivoProductos), &#39;,&#39;, \r\n\t                  CSVWriter.NO_QUOTE_CHARACTER,\r\n\t                  CSVWriter.NO_ESCAPE_CHARACTER,&quot;&quot;);","title":"How to remove empty line at the end of the file?","body":"<p>I have a text file that I use to store information of Items.</p>\n\n<pre><code>10325,Test1,Producto del Hogar,12,17\n10425,Test2,Videojuegos,11,17\n12345,Test3,Producto del Hogar,56,17.0\n</code></pre>\n\n<p>I'm using opencsv library to modify one column of the desired item, I'm using this code:</p>\n\n<pre><code>public void updateCSV(String replace, int fila, int col) throws IOException {\n    if (replace != null) {\n        File archivoProductos = new File(\"productos.txt\");\n        // Read existing file\n        CSVReader reader = new CSVReader(new FileReader(archivoProductos), ',', CSVWriter.NO_QUOTE_CHARACTER,\n                CSVWriter.NO_ESCAPE_CHARACTER);\n        List&lt;String[]&gt; csvBody = reader.readAll();\n        // get CSV row column and replace with by using row and column\n        csvBody.get(fila)[col] = replace;\n        reader.close();\n        // Write to CSV file which is open\n        CSVWriter writer = new CSVWriter(new FileWriter(archivoProductos), ',', CSVWriter.NO_QUOTE_CHARACTER,\n                CSVWriter.NO_ESCAPE_CHARACTER, System.getProperty(\"line.separator\"));\n        writer.writeAll(csvBody);\n        writer.flush();\n        writer.close();\n\n    }\n}\n</code></pre>\n\n<p>The problem is that when the modification is done, there is added one empty line at the end of the text file.</p>\n\n<pre><code>line1  10325,Test99,Producto del Hogar,12,17\nline3  10425,Test2,Videojuegos,11,17\nline2  12345,Test3,Producto del Hogar,56,17.0\nline4\n</code></pre>\n\n<p>How can I avoid the empty line added at the end ?  </p>\n\n<p>Added println of csvBody before it writes it out</p>\n\n<pre><code>[10325, Test99, Producto del Hogar, 12, 17]\n[10425, Test2, Videojuegos, 11, 17]\n[12345, Test3, Producto del Hogar, 56, 17.0]\n</code></pre>\n\n<hr>\n\n<p>Tried so far:</p>\n\n<p>Doesn't add the empty line, but my 3 existent lines are now written in just one line.</p>\n\n<pre><code>CSVWriter writer = new CSVWriter(new FileWriter(archivoProductos), ',', \n                  CSVWriter.NO_QUOTE_CHARACTER,\n                  CSVWriter.NO_ESCAPE_CHARACTER,\"\");\n</code></pre>\n"},{"tags":["java","spring-boot","sonarlint"],"comments":[{"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"score":1,"creation_date":1641477554,"post_id":70608131,"comment_id":124817603,"body_markdown":"Does this answer your question? [Sonar complaining about logging and rethrowing the exception](https://stackoverflow.com/questions/28122271/sonar-complaining-about-logging-and-rethrowing-the-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28122271/sonar-complaining-about-logging-and-rethrowing-the-exception\">Sonar complaining about logging and rethrowing the exception</a>"},{"owner":{"account_id":6825598,"reputation":4204,"user_id":5251414,"accept_rate":36,"display_name":"Krish"},"score":0,"creation_date":1641477831,"post_id":70608131,"comment_id":124817712,"body_markdown":"No my catch block diff compare to above solution","body":"No my catch block diff compare to above solution"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1641499830,"post_id":70608131,"comment_id":124826539,"body_markdown":"@eol Probably we should ask for the __RSPEC id__ shown when clicking on _Rule_ details. I suppose [RSPEC-1166](https://jira.sonarsource.com/browse/RSPEC-1166) ( answered by your marked duplicate) is __not the only__ non-compliant issue here: also and foremost [RSPEC-2139](https://rules.sonarsource.com/java/tag/error-handling/RSPEC-2139), see my answer &#129300;️","body":"@eol Probably we should ask for the <b>RSPEC id</b> shown when clicking on <i>Rule</i> details. I suppose <a href=\"https://jira.sonarsource.com/browse/RSPEC-1166\" rel=\"nofollow noreferrer\">RSPEC-1166</a> ( answered by your marked duplicate) is <b>not the only</b> non-compliant issue here: also and foremost <a href=\"https://rules.sonarsource.com/java/tag/error-handling/RSPEC-2139\" rel=\"nofollow noreferrer\">RSPEC-2139</a>, see my answer 🤔️"}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1641498486,"creation_date":1641479573,"answer_id":70608728,"question_id":70608131,"body_markdown":"It&#39;s about the __either__ ... __or__, see Sonar&#39;s [Rule spec RSPEC-2139](https://rules.sonarsource.com/java/tag/error-handling/RSPEC-2139):\r\n\r\n&gt; Exceptions should be either logged or rethrown __but not both__\r\n\r\nTo be compliant with the rule, decide for one:\r\n\r\n 1. either log only:\r\n```java\r\n            try {\r\n                object = MAPPER.readValue(jsonString.toString(), valueType);\r\n            } catch (IOException io) {\r\n                log.error(ERROR_LOG_STR + &quot; in method getObjectFromJson(). Exception Message={}, Exception Stack ={}&quot;,\r\n                        io.getMessage(), io);\r\n            }\r\n```\r\n 2. or throw only:\r\n\r\n ```java\r\n            try {\r\n                object = MAPPER.readValue(jsonString.toString(), valueType);\r\n            } catch (IOException io) {\r\n                throw new ServiceException(ErrorMessages.JSON_SERIALIZATION_ERROR, io);  // would use the full exception, not only the wrapped .getCause()\r\n            }\r\n```\r\n\r\n### Bonus: How to achieve both and simplify\r\nYou can log additionally in a global or local error-handling interceptor like Spring&#39;s `@ControllerAdvice` annotated error-handler.\r\n\r\nMost loggers allow to pass a `Throwable` when logging at error-level.\r\nFor example using [Slf4j](https://www.slf4j.org/apidocs/org/slf4j/Logger.html#error(java.lang.String,java.lang.Throwable)): `log.error(ERROR_LOG_STR + &quot; in method getObjectFromJson(): &quot; + io.getMessage(), io)`\r\n\r\nSee also:\r\n* https://stackoverflow.com/questions/5951209/how-to-log-exception-and-message-with-placeholders-with-slf4j\r\n* Baeldung tutorial: [Logging Exceptions Using SLF4J](https://www.baeldung.com/slf4j-log-exceptions)\r\n\r\n### Related Rules\r\n[RSPEC-1166](https://rules.sonarsource.com/java/tag/error-handling/RSPEC-1166): Exception handlers should preserve the original exceptions\r\n\r\nThe [spec feature](https://jira.sonarsource.com/browse/RSPEC-1166) was resolved 2018-11-02 with version 5.9, [implementation for Java](https://jira.sonarsource.com/browse/SONARJAVA-3029) fixed 2019-02-15 with version 5.11.\r\n\r\n__⚠️ Partial fix only__:\r\nThe [marked duplicate](https://stackoverflow.com/questions/70608131/either-log-this-exception-and-handle-it-or-rethrow-it-with-some-contextual-info/70608728#comment124817603_70608131)\r\nand [obourgain&#39;s answer](https://stackoverflow.com/a/70608346/5730279) do not solve the two-fold case here completely:\r\n1. they fix RSPEC-1166\r\n2. but not RSPEC-2139\r\n\r\nSimilar questions coping with RSPEC-1166:\r\n\r\n* https://stackoverflow.com/questions/39411450/sonar-complaining-about-logging-and-rethrowing-an-exception, asked 2016\r\n* https://stackoverflow.com/questions/32197329/either-log-or-rethrow-this-exception, asked 2015\r\n* https://stackoverflow.com/questions/28122271/sonar-complaining-about-logging-and-rethrowing-the-exception, asked 2015","title":"Either log this exception and handle it, or rethrow it with some contextual information","body":"<p>It's about the <strong>either</strong> ... <strong>or</strong>, see Sonar's <a href=\"https://rules.sonarsource.com/java/tag/error-handling/RSPEC-2139\" rel=\"nofollow noreferrer\">Rule spec RSPEC-2139</a>:</p>\n<blockquote>\n<p>Exceptions should be either logged or rethrown <strong>but not both</strong></p>\n</blockquote>\n<p>To be compliant with the rule, decide for one:</p>\n<ol>\n<li>either log only:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>            try {\n                object = MAPPER.readValue(jsonString.toString(), valueType);\n            } catch (IOException io) {\n                log.error(ERROR_LOG_STR + &quot; in method getObjectFromJson(). Exception Message={}, Exception Stack ={}&quot;,\n                        io.getMessage(), io);\n            }\n</code></pre>\n<ol start=\"2\">\n<li>or throw only:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>           try {\n               object = MAPPER.readValue(jsonString.toString(), valueType);\n           } catch (IOException io) {\n               throw new ServiceException(ErrorMessages.JSON_SERIALIZATION_ERROR, io);  // would use the full exception, not only the wrapped .getCause()\n           }\n</code></pre>\n<h3>Bonus: How to achieve both and simplify</h3>\n<p>You can log additionally in a global or local error-handling interceptor like Spring's <code>@ControllerAdvice</code> annotated error-handler.</p>\n<p>Most loggers allow to pass a <code>Throwable</code> when logging at error-level.\nFor example using <a href=\"https://www.slf4j.org/apidocs/org/slf4j/Logger.html#error(java.lang.String,java.lang.Throwable)\" rel=\"nofollow noreferrer\">Slf4j</a>: <code>log.error(ERROR_LOG_STR + &quot; in method getObjectFromJson(): &quot; + io.getMessage(), io)</code></p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/5951209/how-to-log-exception-and-message-with-placeholders-with-slf4j\">How to log exception and message with placeholders with SLF4J</a></li>\n<li>Baeldung tutorial: <a href=\"https://www.baeldung.com/slf4j-log-exceptions\" rel=\"nofollow noreferrer\">Logging Exceptions Using SLF4J</a></li>\n</ul>\n<h3>Related Rules</h3>\n<p><a href=\"https://rules.sonarsource.com/java/tag/error-handling/RSPEC-1166\" rel=\"nofollow noreferrer\">RSPEC-1166</a>: Exception handlers should preserve the original exceptions</p>\n<p>The <a href=\"https://jira.sonarsource.com/browse/RSPEC-1166\" rel=\"nofollow noreferrer\">spec feature</a> was resolved 2018-11-02 with version 5.9, <a href=\"https://jira.sonarsource.com/browse/SONARJAVA-3029\" rel=\"nofollow noreferrer\">implementation for Java</a> fixed 2019-02-15 with version 5.11.</p>\n<p><strong>⚠️ Partial fix only</strong>:\nThe <a href=\"https://stackoverflow.com/questions/70608131/either-log-this-exception-and-handle-it-or-rethrow-it-with-some-contextual-info/70608728#comment124817603_70608131\">marked duplicate</a>\nand <a href=\"https://stackoverflow.com/a/70608346/5730279\">obourgain's answer</a> do not solve the two-fold case here completely:</p>\n<ol>\n<li>they fix RSPEC-1166</li>\n<li>but not RSPEC-2139</li>\n</ol>\n<p>Similar questions coping with RSPEC-1166:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/39411450/sonar-complaining-about-logging-and-rethrowing-an-exception\">SONAR complaining about logging and rethrowing an Exception</a>, asked 2016</li>\n<li><a href=\"https://stackoverflow.com/questions/32197329/either-log-or-rethrow-this-exception\">Either log or rethrow this exception</a>, asked 2015</li>\n<li><a href=\"https://stackoverflow.com/questions/28122271/sonar-complaining-about-logging-and-rethrowing-the-exception\">Sonar complaining about logging and rethrowing the exception</a>, asked 2015</li>\n</ul>\n"}],"owner":{"account_id":6825598,"reputation":4204,"user_id":5251414,"accept_rate":36,"display_name":"Krish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4761,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1641498486,"creation_date":1641477039,"question_id":70608131,"body_markdown":"Can some one help me why SonarLint is showing this:\r\n\r\n&gt; Either log this exception and handle it, or rethrow it with some contextual information.\r\n\r\nfor below piece of code.\r\n\r\n\r\n    public static &lt;T&gt; T getObjectFromJson(final Object jsonString, final Class&lt;T&gt; valueType) {\r\n    \t\tT object = null;\r\n    \t\tif (jsonString != null) {\r\n    \t\t\ttry {\r\n    \t\t\t\tobject = MAPPER.readValue(jsonString.toString(), valueType);\r\n    \t\t\t} catch (IOException io) {\r\n    \t\t\t\tlog.error(ERROR_LOG_STR + &quot; in method getObjectFromJson(). Exception Message={}, Exception Stack ={}&quot;,\r\n    \t\t\t\t\t\tio.getMessage(), io);\r\n    \t\t\t\tthrow new ServiceException(ErrorMessages.JSON_SERIALIZATION_ERROR, io.getCause());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn object;\r\n    \t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mWbHU.png","title":"Either log this exception and handle it, or rethrow it with some contextual information","body":"<p>Can some one help me why SonarLint is showing this:</p>\n<blockquote>\n<p>Either log this exception and handle it, or rethrow it with some contextual information.</p>\n</blockquote>\n<p>for below piece of code.</p>\n<pre><code>public static &lt;T&gt; T getObjectFromJson(final Object jsonString, final Class&lt;T&gt; valueType) {\n        T object = null;\n        if (jsonString != null) {\n            try {\n                object = MAPPER.readValue(jsonString.toString(), valueType);\n            } catch (IOException io) {\n                log.error(ERROR_LOG_STR + &quot; in method getObjectFromJson(). Exception Message={}, Exception Stack ={}&quot;,\n                        io.getMessage(), io);\n                throw new ServiceException(ErrorMessages.JSON_SERIALIZATION_ERROR, io.getCause());\n            }\n        }\n        return object;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mWbHU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mWbHU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641498179,"creation_date":1641498179,"answer_id":70612786,"question_id":70612561,"body_markdown":"I just found out that query was working properly but parsing was bad.\r\n\r\nI shouldn&#39;t have used search.documents for result list, instead of that I should use\r\n\r\n    for (Hit&lt;TitleBasic&gt; hit: search.hits().hits()) {\r\n        TitleBasic item = hit.source();\r\n        found.add(item);\r\n    }","title":"ElasticsearchClient not returning results properly with lambda query","body":"<p>I just found out that query was working properly but parsing was bad.</p>\n<p>I shouldn't have used search.documents for result list, instead of that I should use</p>\n<pre><code>for (Hit&lt;TitleBasic&gt; hit: search.hits().hits()) {\n    TitleBasic item = hit.source();\n    found.add(item);\n}\n</code></pre>\n"}],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641498179,"creation_date":1641497034,"question_id":70612561,"body_markdown":"I recently upgraded my elasticsearch version to 7.16 and i found out that RestHighLevelClient is deprecated now so I&#39;m trying to migrate to ElasticsearchClient with it&#39;s lambda query but I have a problem when proper query results are 0\r\n\r\nI create client like this:\r\n\r\n    private ElasticsearchClient createClient() {\r\n        // Create the low-level client\r\n        RestClient restClient = RestClient.builder(\r\n                new HttpHost(ServerStatic.SERVER_URL, ServerStatic.ELASTIC_PORT)).build();\r\n    \r\n        // Create the transport with a Jackson mapper\r\n        ElasticsearchTransport transport = new RestClientTransport(\r\n                restClient, new JacksonJsonpMapper());\r\n    \r\n        // And create the API client\r\n        ElasticsearchClient client = new ElasticsearchClient(transport);\r\n        return client;\r\n    }\r\n\r\nThen i create my query\r\n\r\n\r\n    ElasticsearchClient client = createClient();\r\n        \r\n            List&lt;TitleBasic&gt; found = new ArrayList&lt;&gt;();\r\n            try {\r\n                    SearchResponse&lt;TitleBasic&gt; search = client.search(\r\n                        s -&gt; s.index(ServerStatic.ELASTIC_INDEX)\r\n                              .size(20)\r\n                              .from(0)\r\n                              .query(q -&gt; q.bool(\r\n                                      b -&gt; b.must(\r\n                                         m -&gt; m.queryString(\r\n                                                qs -&gt; qs.allowLeadingWildcard(true)\r\n                                                        .query(phrase + &quot;*&quot;)          \r\n                                                        .fields(&quot;originalTitle&quot;))))),\r\n                            TitleBasic.class);\r\n                    found = search.documents();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    return null;\r\n                }\r\n\r\nAnd it should fetch 6 documents as my query send from postman does\r\n\r\n    POST {{es_url}}/test-index/_search\r\n    \r\n    {\r\n        &quot;query&quot;: {\r\n            &quot;bool&quot;: {\r\n                &quot;must&quot;: [\r\n                    {\r\n                        &quot;query_string&quot;: {\r\n                            &quot;allow_leading_wildcard&quot;: true,\r\n                            &quot;query&quot;:&quot;Carmencita*&quot;,\r\n                            &quot;fields&quot;: [&quot;originalTitle&quot;]\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        &quot;size&quot;: 20,\r\n        &quot;from&quot;: 0\r\n    }\r\n\r\nI have no idea what I&#39;m doing wrong here, anyone have any ideas what&#39;s wrong with that lambda query?","title":"ElasticsearchClient not returning results properly with lambda query","body":"<p>I recently upgraded my elasticsearch version to 7.16 and i found out that RestHighLevelClient is deprecated now so I'm trying to migrate to ElasticsearchClient with it's lambda query but I have a problem when proper query results are 0</p>\n<p>I create client like this:</p>\n<pre><code>private ElasticsearchClient createClient() {\n    // Create the low-level client\n    RestClient restClient = RestClient.builder(\n            new HttpHost(ServerStatic.SERVER_URL, ServerStatic.ELASTIC_PORT)).build();\n\n    // Create the transport with a Jackson mapper\n    ElasticsearchTransport transport = new RestClientTransport(\n            restClient, new JacksonJsonpMapper());\n\n    // And create the API client\n    ElasticsearchClient client = new ElasticsearchClient(transport);\n    return client;\n}\n</code></pre>\n<p>Then i create my query</p>\n<pre><code>ElasticsearchClient client = createClient();\n    \n        List&lt;TitleBasic&gt; found = new ArrayList&lt;&gt;();\n        try {\n                SearchResponse&lt;TitleBasic&gt; search = client.search(\n                    s -&gt; s.index(ServerStatic.ELASTIC_INDEX)\n                          .size(20)\n                          .from(0)\n                          .query(q -&gt; q.bool(\n                                  b -&gt; b.must(\n                                     m -&gt; m.queryString(\n                                            qs -&gt; qs.allowLeadingWildcard(true)\n                                                    .query(phrase + &quot;*&quot;)          \n                                                    .fields(&quot;originalTitle&quot;))))),\n                        TitleBasic.class);\n                found = search.documents();\n            } catch (IOException e) {\n                e.printStackTrace();\n                return null;\n            }\n</code></pre>\n<p>And it should fetch 6 documents as my query send from postman does</p>\n<pre><code>POST {{es_url}}/test-index/_search\n\n{\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must&quot;: [\n                {\n                    &quot;query_string&quot;: {\n                        &quot;allow_leading_wildcard&quot;: true,\n                        &quot;query&quot;:&quot;Carmencita*&quot;,\n                        &quot;fields&quot;: [&quot;originalTitle&quot;]\n                    }\n                }\n            ]\n        }\n    },\n    &quot;size&quot;: 20,\n    &quot;from&quot;: 0\n}\n</code></pre>\n<p>I have no idea what I'm doing wrong here, anyone have any ideas what's wrong with that lambda query?</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641496477,"creation_date":1641496477,"answer_id":70612441,"question_id":70610993,"body_markdown":"You need to use install, package and deploy commands of maven for module B to make it accessible for module A. These commands make a .jar file for module B which can be imported by module A. Models and classes in different artifacts can not be visible for each other unless you define their dependencies in pom file of the other module.","title":"Add a local IntelliJ Project as Dependency for another Project via Maven","body":"<p>You need to use install, package and deploy commands of maven for module B to make it accessible for module A. These commands make a .jar file for module B which can be imported by module A. Models and classes in different artifacts can not be visible for each other unless you define their dependencies in pom file of the other module.</p>\n"}],"owner":{"account_id":1697181,"reputation":59,"user_id":10620930,"display_name":"Sigmund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70612441,"answer_count":1,"score":0,"last_activity_date":1641498170,"creation_date":1641489496,"question_id":70610993,"body_markdown":"I was given a project structure implementing a board game with GUI that contains two Projects/modules in one IntelliJ Project. Both use Maven to manage dependencies. \r\n\r\nModule A (Game-Logic) &lt;br/&gt;\r\nModule B (Game-gui)\r\n\r\nModule A uses Classes in Module B, and A&#39;s pom.xml contains the following dependency: \r\n\r\n```\t\t\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.bibucket.plt&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;Game-gui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nBut Game-gui is just Module B that is contained locally in the Project itself and the infos (groupId,artifactId etc.) are specified in Module B&#39;s pom.xml, so that&#39;s what it&#39;s pointing to!\r\n\r\nWhy would we specify a maven dependency to it? I thought the point of maven is to manage dependencies to remote artifacts. Is maven also used to specify local dependencies? \r\n\r\n**During Maven build I see this error:**\r\n&gt; The POM for io.bibucket.plt:Game-gui:jar:0.0.1-SNAPSHOT is missing, no dependency information available\r\n\r\n**What does this error mean? Why is this project using Maven to point to a local Module as an artifact?**\r\n","title":"Add a local IntelliJ Project as Dependency for another Project via Maven","body":"<p>I was given a project structure implementing a board game with GUI that contains two Projects/modules in one IntelliJ Project. Both use Maven to manage dependencies.</p>\n<p>Module A (Game-Logic) <br/>\nModule B (Game-gui)</p>\n<p>Module A uses Classes in Module B, and A's pom.xml contains the following dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.bibucket.plt&lt;/groupId&gt;\n            &lt;artifactId&gt;Game-gui&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But Game-gui is just Module B that is contained locally in the Project itself and the infos (groupId,artifactId etc.) are specified in Module B's pom.xml, so that's what it's pointing to!</p>\n<p>Why would we specify a maven dependency to it? I thought the point of maven is to manage dependencies to remote artifacts. Is maven also used to specify local dependencies?</p>\n<p><strong>During Maven build I see this error:</strong></p>\n<blockquote>\n<p>The POM for io.bibucket.plt:Game-gui:jar:0.0.1-SNAPSHOT is missing, no dependency information available</p>\n</blockquote>\n<p><strong>What does this error mean? Why is this project using Maven to point to a local Module as an artifact?</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8288,"page":1704,"page_size":100}
