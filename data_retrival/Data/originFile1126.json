{"items":[{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659956504,"post_id":73276144,"comment_id":129410376,"body_markdown":"Install the missing fonts on that system `sudo apt-get install ttf-mscorefonts-installer`. The ZapfDingbats font you&#39;ll have to buy or get elsewhere.","body":"Install the missing fonts on that system <code>sudo apt-get install ttf-mscorefonts-installer</code>. The ZapfDingbats font you&#39;ll have to buy or get elsewhere."}],"owner":{"account_id":18761713,"reputation":11,"user_id":13680544,"display_name":"Jay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659953095,"creation_date":1659953095,"question_id":73276144,"body_markdown":"I have tried to render image from image by using method renderImage of PDFRenderer. This work in local, but failed in Server Environment: \r\n\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.082+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Times-Roman&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.085+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Times-Bold&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.088+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Times-Italic&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.090+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Times-BoldItalic&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.092+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Helvetica&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.094+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Helvetica-Bold&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.096+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Helvetica-Oblique&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.098+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Helvetica-BoldOblique&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.100+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Courier&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.102+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Courier-Bold&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.103+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Courier-Oblique&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.105+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Courier-BoldOblique&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.147+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Symbol&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.149+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font ZapfDingbats&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.150+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for Helvetica-Bold&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\r\n\r\nHere is my code:\r\n\r\n    PDDocument pdDocument = PDDocument.load(pdfBytes);\r\n    PDFRenderer pdfRenderer = new PDFRenderer(pdDocument);\r\n    BufferedImage bufferedImage = pdfRenderer.renderImage(0, 6).getSubimage(57, 1420, 1164, 424);\r\n    pdDocument.close();\r\n\r\nMy pdfbox version: 2.0.26\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan someone help me to solve this issue?","title":"PdfBox Error &quot;Using fallback font LiberationSans for base font&quot; when render image from pdf","body":"<p>I have tried to render image from image by using method renderImage of PDFRenderer. This work in local, but failed in Server Environment:</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.082+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Times-Roman&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.085+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Times-Bold&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.088+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Times-Italic&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.090+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Times-BoldItalic&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.092+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Helvetica&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.094+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Helvetica-Bold&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.096+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Helvetica-Oblique&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.098+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Helvetica-BoldOblique&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.100+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Courier&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.102+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Courier-Bold&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.103+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Courier-Oblique&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.105+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Courier-BoldOblique&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.147+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font Symbol&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.149+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for base font ZapfDingbats&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n{&quot;@timestamp&quot;:&quot;2022-08-08T16:52:11.150+07:00&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;logger_name&quot;:&quot;org.apache.pdfbox.pdmodel.font.PDType1Font&quot;,&quot;message&quot;:&quot;Using fallback font LiberationSans for Helvetica-Bold&quot;,&quot;thread_name&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;}\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>PDDocument pdDocument = PDDocument.load(pdfBytes);\nPDFRenderer pdfRenderer = new PDFRenderer(pdDocument);\nBufferedImage bufferedImage = pdfRenderer.renderImage(0, 6).getSubimage(57, 1420, 1164, 424);\npdDocument.close();\n</code></pre>\n<p>My pdfbox version: 2.0.26</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n    &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n    &lt;version&gt;2.0.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Can someone help me to solve this issue?</p>\n"},{"tags":["java","android","android-studio","android-camera2"],"answers":[{"tags":[],"owner":{"account_id":16420385,"reputation":330,"user_id":11861734,"display_name":"Wasim Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659952577,"creation_date":1659952577,"answer_id":73276028,"question_id":73244546,"body_markdown":"You need to first turn off autofocus by using CaptureRequest.CONTROL_AF_MODE and then set desired focus distance value using this request key, CaptureRequest.LENS_FOCUS_DISTANCE.\r\n\r\n\r\nTo know if a device supports manual sensor or not, query characteristics and check for support.\r\nhttps://developer.android.com/reference/android/hardware/camera2/CameraMetadata#REQUEST_AVAILABLE_CAPABILITIES_MANUAL_SENSOR","title":"Set a fixed focus value in the main camera (Android Studio)","body":"<p>You need to first turn off autofocus by using CaptureRequest.CONTROL_AF_MODE and then set desired focus distance value using this request key, CaptureRequest.LENS_FOCUS_DISTANCE.</p>\n<p>To know if a device supports manual sensor or not, query characteristics and check for support.\n<a href=\"https://developer.android.com/reference/android/hardware/camera2/CameraMetadata#REQUEST_AVAILABLE_CAPABILITIES_MANUAL_SENSOR\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/hardware/camera2/CameraMetadata#REQUEST_AVAILABLE_CAPABILITIES_MANUAL_SENSOR</a></p>\n"}],"owner":{"account_id":25853650,"reputation":1,"user_id":19587287,"display_name":"rmz918"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659952577,"creation_date":1659672345,"question_id":73244546,"body_markdown":"I am developing an app for my project and I don&#39;t want my main camera to have autofocus. I want my camera to have a specific focus value that can focus on objects that are about 5-10 cm from the main camera.\r\n\r\nHere is the code on how the CameraManager is implemented:\r\n\r\n```\r\nprivate String chooseCamera() {\r\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n    try {\r\n      for (final String cameraId : manager.getCameraIdList()) {\r\n        final CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\r\n\r\n        // We don&#39;t use a front facing camera in this sample.\r\n        final Integer facing = characteristics.get(CameraCharacteristics.LENS_FACING);\r\n        if (facing != null &amp;&amp; facing == CameraCharacteristics.LENS_FACING_FRONT) {\r\n          continue;\r\n        }\r\n\r\n        final StreamConfigurationMap map =\r\n                characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n\r\n        if (map == null) {\r\n          continue;\r\n        }\r\n\r\n        // Fallback to camera1 API for internal cameras that don&#39;t have full support.\r\n        // This should help with legacy situations where using the camera2 API causes\r\n        // distorted or otherwise broken previews.\r\n        useCamera2API =\r\n                (facing == CameraCharacteristics.LENS_FACING_FRONT)\r\n                        || isHardwareLevelSupported(\r\n                        characteristics);\r\n        LOGGER.i(&quot;Camera API lv2?: %s&quot;, useCamera2API);\r\n\r\n//        manager.setTorchMode(cameraId, true);\r\n        return cameraId;\r\n      }\r\n    } catch (CameraAccessException e) {\r\n      LOGGER.e(e, &quot;Not allowed to access camera&quot;);\r\n    }\r\n    return null;\r\n  }\r\n\r\nprotected void setFragment() {\r\n  String cameraId = chooseCamera();\r\n  Fragment fragment;\r\n  if (useCamera2API) {\r\n     CameraConnectionFragment camera2Fragment =\r\n        CameraConnectionFragment.newInstance(\r\n                      (size, rotation) -&gt; {\r\n                        previewHeight = size.getHeight();\r\n                        previewWidth = size.getWidth();\r\n                        CameraActivity.this.onPreviewSizeChosen(size, rotation);\r\n                      },\r\n                      this,\r\n                      getLayoutId(),\r\n                      getDesiredPreviewFrameSize());\r\n\r\n      camera2Fragment.setCamera(cameraId);\r\n      fragment = camera2Fragment;\r\n    } else {\r\n      fragment =\r\n              new LegacyCameraConnectionFragment(this, getLayoutId(), getDesiredPreviewFrameSize());\r\n    }\r\n\r\n    getFragmentManager().beginTransaction().replace(R.id.container, fragment).commit();\r\n}\r\n```","title":"Set a fixed focus value in the main camera (Android Studio)","body":"<p>I am developing an app for my project and I don't want my main camera to have autofocus. I want my camera to have a specific focus value that can focus on objects that are about 5-10 cm from the main camera.</p>\n<p>Here is the code on how the CameraManager is implemented:</p>\n<pre><code>private String chooseCamera() {\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    try {\n      for (final String cameraId : manager.getCameraIdList()) {\n        final CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\n\n        // We don't use a front facing camera in this sample.\n        final Integer facing = characteristics.get(CameraCharacteristics.LENS_FACING);\n        if (facing != null &amp;&amp; facing == CameraCharacteristics.LENS_FACING_FRONT) {\n          continue;\n        }\n\n        final StreamConfigurationMap map =\n                characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n\n        if (map == null) {\n          continue;\n        }\n\n        // Fallback to camera1 API for internal cameras that don't have full support.\n        // This should help with legacy situations where using the camera2 API causes\n        // distorted or otherwise broken previews.\n        useCamera2API =\n                (facing == CameraCharacteristics.LENS_FACING_FRONT)\n                        || isHardwareLevelSupported(\n                        characteristics);\n        LOGGER.i(&quot;Camera API lv2?: %s&quot;, useCamera2API);\n\n//        manager.setTorchMode(cameraId, true);\n        return cameraId;\n      }\n    } catch (CameraAccessException e) {\n      LOGGER.e(e, &quot;Not allowed to access camera&quot;);\n    }\n    return null;\n  }\n\nprotected void setFragment() {\n  String cameraId = chooseCamera();\n  Fragment fragment;\n  if (useCamera2API) {\n     CameraConnectionFragment camera2Fragment =\n        CameraConnectionFragment.newInstance(\n                      (size, rotation) -&gt; {\n                        previewHeight = size.getHeight();\n                        previewWidth = size.getWidth();\n                        CameraActivity.this.onPreviewSizeChosen(size, rotation);\n                      },\n                      this,\n                      getLayoutId(),\n                      getDesiredPreviewFrameSize());\n\n      camera2Fragment.setCamera(cameraId);\n      fragment = camera2Fragment;\n    } else {\n      fragment =\n              new LegacyCameraConnectionFragment(this, getLayoutId(), getDesiredPreviewFrameSize());\n    }\n\n    getFragmentManager().beginTransaction().replace(R.id.container, fragment).commit();\n}\n</code></pre>\n"},{"tags":["java","pdf","itext","pdf-generation","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1660292916,"post_id":73275969,"comment_id":129503186,"body_markdown":"Can you make sure that `createBodyTable` is compilable (include the definition of the methods this method depends upon and minimize)? Can you elaborate on why you think the &quot;border bottom for the header cell isn&#39;t the correct width&quot; and what should be the correct width in your opinion?","body":"Can you make sure that <code>createBodyTable</code> is compilable (include the definition of the methods this method depends upon and minimize)? Can you elaborate on why you think the &quot;border bottom for the header cell isn&#39;t the correct width&quot; and what should be the correct width in your opinion?"},{"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"score":0,"creation_date":1660549360,"post_id":73275969,"comment_id":129550301,"body_markdown":"@AlexeySubach I&#39;m not sure what you mean by &quot;include the definition of methods this method depends upon and minimize&quot;. Could you elaborate? The function however is compilable, otherwise I wouldn&#39;t be able to get any results. \nThe correct width in my eyes would be the one I set for the table: new SolidBorder(1); The result however shows a thinner border below the header cells.","body":"@AlexeySubach I&#39;m not sure what you mean by &quot;include the definition of methods this method depends upon and minimize&quot;. Could you elaborate? The function however is compilable, otherwise I wouldn&#39;t be able to get any results.  The correct width in my eyes would be the one I set for the table: new SolidBorder(1); The result however shows a thinner border below the header cells."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1660550860,"post_id":73275969,"comment_id":129550712,"body_markdown":"How do I reproduce your problem? If I copy paste your code snippet and try to run it, I don&#39;t have the definition of `createHeader`, `createSum`, `createBody`. You need to attach the code that is runnable for everyone, and that is minimal.","body":"How do I reproduce your problem? If I copy paste your code snippet and try to run it, I don&#39;t have the definition of <code>createHeader</code>, <code>createSum</code>, <code>createBody</code>. You need to attach the code that is runnable for everyone, and that is minimal."}],"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659952346,"creation_date":1659952346,"question_id":73275969,"body_markdown":"I am trying to build a table with a custom border width in itext7.\r\n\r\nCurrently my code looks something like this:\r\n\r\n    public Table createBodyTable(Parameter parameter) throws XMLParserException {\r\n            Table table = new Table(1);\r\n\r\n        table.addHeaderCell(createHeader());\r\n\r\n        table.addCell(createBody())\r\n                .removeCellBorder()\r\n                .setHeight(450F));\r\n\r\n        table.addCell(createSum()\r\n                .removeCellBorder());\r\n\r\n        table.setBorder(new SolidBorder(1))\r\n                .setPadding(0);\r\n\r\n        return table;\r\n    }\r\n\r\n**createHeader(); is a function call that returns an itext Table**\r\n\r\nMy result looks something like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAs visible, the border AROUND the table is set correctly, but border bottom for the header cell isn&#39;t the correct width.\r\n\r\nIf i use \r\n\r\n    table.addHeaderCell(createHeader().setBorderBottom(new SolidBorder(1)));\r\n\r\nMy result looks like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wlBIs.png\r\n  [2]: https://i.stack.imgur.com/81ZJI.png\r\n\r\nAs you can see, there are double borders.\r\nAs of now my solution to that problem is the following method\r\n\r\n    public Cell setTableBorderOnOneCell(int cellPosition, Border border){\r\n            Cell cell = (Cell) this.getChildren().get(cellPosition);\r\n            cell.setBorder(border);\r\n            return cell;\r\n        }\r\n\r\nWhich is a functional workaround but makes me think: Is there a correct way to do that?","title":"Setting Border for Table Header in iText7","body":"<p>I am trying to build a table with a custom border width in itext7.</p>\n<p>Currently my code looks something like this:</p>\n<pre><code>public Table createBodyTable(Parameter parameter) throws XMLParserException {\n        Table table = new Table(1);\n\n    table.addHeaderCell(createHeader());\n\n    table.addCell(createBody())\n            .removeCellBorder()\n            .setHeight(450F));\n\n    table.addCell(createSum()\n            .removeCellBorder());\n\n    table.setBorder(new SolidBorder(1))\n            .setPadding(0);\n\n    return table;\n}\n</code></pre>\n<p><strong>createHeader(); is a function call that returns an itext Table</strong></p>\n<p>My result looks something like this</p>\n<p><a href=\"https://i.stack.imgur.com/wlBIs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wlBIs.png\" alt=\"enter image description here\" /></a></p>\n<p>As visible, the border AROUND the table is set correctly, but border bottom for the header cell isn't the correct width.</p>\n<p>If i use</p>\n<pre><code>table.addHeaderCell(createHeader().setBorderBottom(new SolidBorder(1)));\n</code></pre>\n<p>My result looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/81ZJI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81ZJI.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, there are double borders.\nAs of now my solution to that problem is the following method</p>\n<pre><code>public Cell setTableBorderOnOneCell(int cellPosition, Border border){\n        Cell cell = (Cell) this.getChildren().get(cellPosition);\n        cell.setBorder(border);\n        return cell;\n    }\n</code></pre>\n<p>Which is a functional workaround but makes me think: Is there a correct way to do that?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":23946271,"reputation":69,"user_id":17938577,"display_name":"DAHUANGGO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659951802,"creation_date":1659951480,"answer_id":73275786,"question_id":73274966,"body_markdown":"Could you please provide **more** valid information? Such as your error report or error log, otherwise I can&#39;t better understand the problem you are trying to understand, so I tried it myself, I hope it will help you. Here is **the code** I constructed with reference to your ideas:\r\n\r\n    public static void main(String[] args) {\r\n        TestDriver driver=new TestDriver(&quot;null title&quot;);\r\n        LinkedHashSet&lt;String&gt; windows = (LinkedHashSet&lt;String&gt;) \r\n    driver.getWindowHandles();\r\n        ArrayList&lt;String&gt; windowsList = new ArrayList&lt;&gt;(windows);\r\n        int size = windowsList.size();\r\n\r\n        String newTitle = windowsList.get(size - 2);\r\n        driver.switchTo().window(newTitle);\r\n\r\n        System.out.println(&quot;driver title:&quot;+driver.getTitle());\r\n        System.out.println(&quot;window title:&quot;+driver.switchTo().getTitle());\r\n    }\r\n\r\nTestDriver：\r\n\r\n    class TestDriver{\r\n    public String title;\r\n    private TestWindow testWindow;\r\n\r\n    public TestDriver(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public TestDriver(String title, TestWindow testWindow) {\r\n        this.title = title;\r\n        this.testWindow = testWindow;\r\n    }\r\n\r\n    public TestDriver(TestWindow testWindow) {\r\n        this.title=testWindow.title;\r\n        this.testWindow=testWindow;\r\n    }\r\n\r\n    public HashSet&lt;String&gt; getWindowHandles(){\r\n        LinkedHashSet&lt;String&gt; retLinkedHashSet = new LinkedHashSet&lt;&gt;(15);\r\n        for (int i = 0; i &lt;15 ; i++) {\r\n            retLinkedHashSet.add(i+&quot;&quot;);\r\n        }\r\n        return retLinkedHashSet;\r\n    }\r\n\r\n    /**\r\n     * switch\r\n     * For convenience, I don&#39;t use design patterns.\r\n     * @return\r\n     */\r\n    public TestWindow switchTo() {\r\n        return new TestWindow(this);\r\n    }\r\n\r\n    public void window(String title){\r\n        this.title=title;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    }\r\nTestWindow:\r\n\r\n    class TestWindow{\r\n    public String title;\r\n    private TestDriver testDriver;\r\n\r\n    public TestWindow(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public TestWindow(TestDriver testDriver) {\r\n        this.title=testDriver.title;\r\n        this.testDriver = testDriver;\r\n    }\r\n\r\n    public TestDriver switchTo() {\r\n        return new TestDriver(this);\r\n    }\r\n\r\n    public void window(String title){\r\n        this.title=title;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    }\r\nThis is the first to use your idea, and the final output is as expected.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div align=center&gt;&lt;img src=&quot;https://i.stack.imgur.com/7tu2q.png&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\nNext I&#39;ll give you the slightly tweaked code:\r\n\r\n    estDriver driver=new TestDriver(&quot;null title&quot;);\r\n        LinkedHashSet&lt;String&gt; windows = (LinkedHashSet&lt;String&gt;) \r\n    driver.getWindowHandles();\r\n        ArrayList&lt;String&gt; windowsList = new ArrayList&lt;&gt;(windows);\r\n        int size = windowsList.size();\r\n\r\n       /* String newTitle = windowsList.get(size - 2);\r\n        driver.switchTo().window(newTitle);*/\r\n        /**\r\n        * In the conversion I always create a new object for assignment.\r\n        * split a method,you can got a right question.\r\n        */\r\n        String newTitle = windowsList.get(size - 2);\r\n        TestWindow testWindow = driver.switchTo();\r\n\r\n        System.out.println(&quot;driver title:&quot;+driver.getTitle());\r\n        System.out.println(&quot;window title:&quot;+driver.switchTo().getTitle());\r\n    }\r\n    }\r\n\r\nThen you will find:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div align=center&gt;&lt;img src=&quot;https://i.stack.imgur.com/frIw0.png&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo the real thing that might get you wrong might be in @link{\r\nIn method:switchTo()}, if your transition uses a newly created class, you cannot call it again when you finally output the result, which will cause your result to reset.\r\nThe information you gave may be too little for me and I may not be able to actually recover your mistakes, hope this helps.\r\n\r\n\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7tu2q.png\r\n  [2]: https://i.stack.imgur.com/frIw0.png","title":"Print title of 2nd last tab if multiple tabs are open","body":"<p>Could you please provide <strong>more</strong> valid information? Such as your error report or error log, otherwise I can't better understand the problem you are trying to understand, so I tried it myself, I hope it will help you. Here is <strong>the code</strong> I constructed with reference to your ideas:</p>\n<pre><code>public static void main(String[] args) {\n    TestDriver driver=new TestDriver(&quot;null title&quot;);\n    LinkedHashSet&lt;String&gt; windows = (LinkedHashSet&lt;String&gt;) \ndriver.getWindowHandles();\n    ArrayList&lt;String&gt; windowsList = new ArrayList&lt;&gt;(windows);\n    int size = windowsList.size();\n\n    String newTitle = windowsList.get(size - 2);\n    driver.switchTo().window(newTitle);\n\n    System.out.println(&quot;driver title:&quot;+driver.getTitle());\n    System.out.println(&quot;window title:&quot;+driver.switchTo().getTitle());\n}\n</code></pre>\n<p>TestDriver：</p>\n<pre><code>class TestDriver{\npublic String title;\nprivate TestWindow testWindow;\n\npublic TestDriver(String title) {\n    this.title = title;\n}\n\npublic TestDriver(String title, TestWindow testWindow) {\n    this.title = title;\n    this.testWindow = testWindow;\n}\n\npublic TestDriver(TestWindow testWindow) {\n    this.title=testWindow.title;\n    this.testWindow=testWindow;\n}\n\npublic HashSet&lt;String&gt; getWindowHandles(){\n    LinkedHashSet&lt;String&gt; retLinkedHashSet = new LinkedHashSet&lt;&gt;(15);\n    for (int i = 0; i &lt;15 ; i++) {\n        retLinkedHashSet.add(i+&quot;&quot;);\n    }\n    return retLinkedHashSet;\n}\n\n/**\n * switch\n * For convenience, I don't use design patterns.\n * @return\n */\npublic TestWindow switchTo() {\n    return new TestWindow(this);\n}\n\npublic void window(String title){\n    this.title=title;\n}\n\npublic String getTitle() {\n    return title;\n}\n}\n</code></pre>\n<p>TestWindow:</p>\n<pre><code>class TestWindow{\npublic String title;\nprivate TestDriver testDriver;\n\npublic TestWindow(String title) {\n    this.title = title;\n}\n\npublic TestWindow(TestDriver testDriver) {\n    this.title=testDriver.title;\n    this.testDriver = testDriver;\n}\n\npublic TestDriver switchTo() {\n    return new TestDriver(this);\n}\n\npublic void window(String title){\n    this.title=title;\n}\n\npublic String getTitle() {\n    return title;\n}\n}\n</code></pre>\n<p>This is the first to use your idea, and the final output is as expected.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div align=center&gt;&lt;img src=\"https://i.stack.imgur.com/7tu2q.png\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nNext I'll give you the slightly tweaked code:</p>\n<pre><code>estDriver driver=new TestDriver(&quot;null title&quot;);\n    LinkedHashSet&lt;String&gt; windows = (LinkedHashSet&lt;String&gt;) \ndriver.getWindowHandles();\n    ArrayList&lt;String&gt; windowsList = new ArrayList&lt;&gt;(windows);\n    int size = windowsList.size();\n\n   /* String newTitle = windowsList.get(size - 2);\n    driver.switchTo().window(newTitle);*/\n    /**\n    * In the conversion I always create a new object for assignment.\n    * split a method,you can got a right question.\n    */\n    String newTitle = windowsList.get(size - 2);\n    TestWindow testWindow = driver.switchTo();\n\n    System.out.println(&quot;driver title:&quot;+driver.getTitle());\n    System.out.println(&quot;window title:&quot;+driver.switchTo().getTitle());\n}\n}\n</code></pre>\n<p>Then you will find:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div align=center&gt;&lt;img src=\"https://i.stack.imgur.com/frIw0.png\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So the real thing that might get you wrong might be in @link{\nIn method:switchTo()}, if your transition uses a newly created class, you cannot call it again when you finally output the result, which will cause your result to reset.\nThe information you gave may be too little for me and I may not be able to actually recover your mistakes, hope this helps.</p>\n<p><a href=\"https://i.stack.imgur.com/7tu2q.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/frIw0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659951637,"creation_date":1659951637,"answer_id":73275812,"question_id":73274966,"body_markdown":"`WebDriver` specification says:\r\n\r\n&gt; The order in which the window handles are returned is arbitrary. \r\n\r\nEven though `RemoteWebDriver` internally wraps the response with `LinkedHashSet` (no idea why) the order of what is coming from the `WebDriver` itself is not predictable.\r\n\r\nI would say that since your browser is under your control you do know which tab you opened in which order hence you could keep some map that would associate a handle with the position of that actual tab.\r\n\r\nThen you could pick the proper handle from that map by the position.","title":"Print title of 2nd last tab if multiple tabs are open","body":"<p><code>WebDriver</code> specification says:</p>\n<blockquote>\n<p>The order in which the window handles are returned is arbitrary.</p>\n</blockquote>\n<p>Even though <code>RemoteWebDriver</code> internally wraps the response with <code>LinkedHashSet</code> (no idea why) the order of what is coming from the <code>WebDriver</code> itself is not predictable.</p>\n<p>I would say that since your browser is under your control you do know which tab you opened in which order hence you could keep some map that would associate a handle with the position of that actual tab.</p>\n<p>Then you could pick the proper handle from that map by the position.</p>\n"}],"owner":{"account_id":26006596,"reputation":11,"user_id":19716227,"display_name":"ABHINAV THAKUR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659951802,"creation_date":1659947527,"question_id":73274966,"body_markdown":"I was asked in an interview to print title of 2nd last tab if multiple tabs are open.\r\nI tried this later:\r\n\r\n    LinkedHashSet&lt;String&gt; windows = (LinkedHashSet&lt;String&gt;) driver.getWindowHandles();\r\n    ArrayList&lt;String&gt; windowsList = new ArrayList&lt;String&gt;(windows);\r\n    int size = windowsList.size();\t\t\r\n    driver.switchTo().window(windowsList.get(size-2));\r\n    System.out.println(driver.getTitle());\r\n\r\nThe above one is not working correctly, but the below one is working:\r\n\r\n    driver.switchTo().window(windowsList.get(2));\r\n    System.out.println(driver.getTitle());\r\n\r\nIt is storing the parent window at 0th index but child windows in reverse order. Can someone explain?\r\n\r\n","title":"Print title of 2nd last tab if multiple tabs are open","body":"<p>I was asked in an interview to print title of 2nd last tab if multiple tabs are open.\nI tried this later:</p>\n<pre><code>LinkedHashSet&lt;String&gt; windows = (LinkedHashSet&lt;String&gt;) driver.getWindowHandles();\nArrayList&lt;String&gt; windowsList = new ArrayList&lt;String&gt;(windows);\nint size = windowsList.size();      \ndriver.switchTo().window(windowsList.get(size-2));\nSystem.out.println(driver.getTitle());\n</code></pre>\n<p>The above one is not working correctly, but the below one is working:</p>\n<pre><code>driver.switchTo().window(windowsList.get(2));\nSystem.out.println(driver.getTitle());\n</code></pre>\n<p>It is storing the parent window at 0th index but child windows in reverse order. Can someone explain?</p>\n"},{"tags":["java","android","exoplayer"],"comments":[{"owner":{"account_id":1805995,"reputation":3272,"user_id":1643076,"accept_rate":60,"display_name":"Gautam"},"score":1,"creation_date":1551271000,"post_id":54905518,"comment_id":96578308,"body_markdown":"Use setPlayWhenReady() - false to pause, true - to resume","body":"Use setPlayWhenReady() - false to pause, true - to resume"},{"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1551271158,"post_id":54905518,"comment_id":96578400,"body_markdown":"@Gautam thank you its working","body":"@Gautam thank you its working"},{"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1551271490,"post_id":54905518,"comment_id":96578604,"body_markdown":"@Gautam can you provide answer ? i am using code `videoView.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n\n                player.setPlayWhenReady(!player.getPlayWhenReady());\n                return false;\n            }\n        });`","body":"@Gautam can you provide answer ? i am using code <code>videoView.setOnTouchListener(new View.OnTouchListener() {             @Override             public boolean onTouch(View v, MotionEvent event) {                  player.setPlayWhenReady(!player.getPlayWhenReady());                 return false;             }         });</code>"}],"answers":[{"tags":[],"owner":{"account_id":10063363,"reputation":358,"user_id":8712139,"display_name":"Aravind V"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1659951767,"creation_date":1551270804,"answer_id":54905612,"question_id":54905518,"body_markdown":"**`For Play Video`**\r\n\r\n    private void playPlayer() {\r\n    \tif (player != null) {\r\n    \t\tplayer.setPlayWhenReady(true);\r\n    \t}\r\n    }\r\n\r\n**`For Pause Video`**\r\n\r\n    private void pausePlayer() {\r\n    \tif (player != null) {\r\n    \t\tplayer.setPlayWhenReady(false);\r\n    \t}\r\n    }\r\n\r\n**`From Specific Position`**\r\n\r\n    private void seekTo(long positionInMS) {\r\n    \tif (player != null) {\r\n    \t\tplayer.seekTo(positionInMS);\r\n    \t}\r\n    }\r\n\r\n**`Relase Player`**\r\n\r\n    private void releasePlayer() {\r\n    \tif (player != null) {\r\n    \t\tplayer.release();\r\n    \t}\r\n    }","title":"How to pause/resume video in Exoplayer?","body":"<p><strong><code>For Play Video</code></strong></p>\n<pre><code>private void playPlayer() {\n    if (player != null) {\n        player.setPlayWhenReady(true);\n    }\n}\n</code></pre>\n<p><strong><code>For Pause Video</code></strong></p>\n<pre><code>private void pausePlayer() {\n    if (player != null) {\n        player.setPlayWhenReady(false);\n    }\n}\n</code></pre>\n<p><strong><code>From Specific Position</code></strong></p>\n<pre><code>private void seekTo(long positionInMS) {\n    if (player != null) {\n        player.seekTo(positionInMS);\n    }\n}\n</code></pre>\n<p><strong><code>Relase Player</code></strong></p>\n<pre><code>private void releasePlayer() {\n    if (player != null) {\n        player.release();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5280,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54905612,"answer_count":1,"score":4,"last_activity_date":1659951767,"creation_date":1551270529,"question_id":54905518,"body_markdown":"I am using **[Exoplayer][1]** for playing video\r\n\r\n\r\n**`Code For Playing Video`**       \r\n \r\n-----------------------------------\r\n    private PlayerView videoView;\r\n    SimpleExoPlayer player;\r\n\r\n-----------------------------\r\n\r\n        videoView = findViewById(R.id.video_view);\r\n        player = ExoPlayerFactory.newSimpleInstance(this, new DefaultTrackSelector());\r\n        videoView.setPlayer(player);\r\n        player.prepare(buildMediaSource(Uri.parse(_videoUrl)));\r\n        player.setPlayWhenReady(true);\r\n\r\n        videoView.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                //i want to pause video\r\n                //next time i want to resume\r\n                return false;\r\n            }\r\n        });\r\n\r\n---------\r\n\r\n**`XML CODE`**\r\n\r\n---------\r\n\r\n    &lt;com.google.android.exoplayer2.ui.PlayerView\r\n        android:id=&quot;@+id/video_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;\r\n        //i don&#39;t want to use controls to i am setting false\r\n        app:use_controller=&quot;false&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\nI cant find any usefull docs to pause and resume video \r\n\r\nmy requirement is to **`pause/resume`** video when touch on VideoView any one now how to do it ?\r\n\r\n\r\n\r\n**`Dependency`**\r\n\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.7.3&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.7.3&#39;\r\n\r\n\r\n  [1]: https://github.com/google/ExoPlayer","title":"How to pause/resume video in Exoplayer?","body":"<p>I am using <strong><a href=\"https://github.com/google/ExoPlayer\" rel=\"nofollow noreferrer\">Exoplayer</a></strong> for playing video</p>\n\n<p><strong><code>Code For Playing Video</code></strong>       </p>\n\n<hr>\n\n<pre><code>private PlayerView videoView;\nSimpleExoPlayer player;\n</code></pre>\n\n<hr>\n\n<pre><code>    videoView = findViewById(R.id.video_view);\n    player = ExoPlayerFactory.newSimpleInstance(this, new DefaultTrackSelector());\n    videoView.setPlayer(player);\n    player.prepare(buildMediaSource(Uri.parse(_videoUrl)));\n    player.setPlayWhenReady(true);\n\n    videoView.setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n            //i want to pause video\n            //next time i want to resume\n            return false;\n        }\n    });\n</code></pre>\n\n<hr>\n\n<p><strong><code>XML CODE</code></strong></p>\n\n<hr>\n\n<pre><code>&lt;com.google.android.exoplayer2.ui.PlayerView\n    android:id=\"@+id/video_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginBottom=\"8dp\"\n    //i don't want to use controls to i am setting false\n    app:use_controller=\"false\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p>I cant find any usefull docs to pause and resume video </p>\n\n<p>my requirement is to <strong><code>pause/resume</code></strong> video when touch on VideoView any one now how to do it ?</p>\n\n<p><strong><code>Dependency</code></strong></p>\n\n<pre><code>implementation 'com.google.android.exoplayer:exoplayer:2.7.3'\nimplementation 'com.google.android.exoplayer:exoplayer-core:2.7.3'\nimplementation 'com.google.android.exoplayer:exoplayer-dash:2.7.3'\nimplementation 'com.google.android.exoplayer:exoplayer-ui:2.7.3'\n</code></pre>\n"},{"tags":["java","csv","export-to-csv","opencsv"],"comments":[{"owner":{"account_id":154865,"reputation":1331,"user_id":371110,"display_name":"hlg"},"score":0,"creation_date":1559975982,"post_id":56503087,"comment_id":99596326,"body_markdown":"In order to reproduce your issue it would be helpful if you could post a complete minimal code example of how you generate the csv, how the output looks like (not in Excel, but in the csv) and how you expect it to look like.","body":"In order to reproduce your issue it would be helpful if you could post a complete minimal code example of how you generate the csv, how the output looks like (not in Excel, but in the csv) and how you expect it to look like."}],"answers":[{"tags":[],"owner":{"account_id":14909312,"reputation":71,"user_id":10765376,"display_name":"Wireless4024"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559964466,"creation_date":1559963586,"answer_id":56503130,"question_id":56503087,"body_markdown":"have you tried to use String like this `&quot;&#39;&quot;+&quot;0123456&quot; `. `&#39;` char will mark number as text when parse into excel","title":"How to keep zero begin string when export data using opencsv library","body":"<p>have you tried to use String like this <code>\"'\"+\"0123456\"</code>. <code>'</code> char will mark number as text when parse into excel</p>\n"},{"tags":[],"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559970096,"creation_date":1559970096,"answer_id":56503586,"question_id":56503087,"body_markdown":"I think it is not really the problem when generating CSV but the way excel treats the data when opened via explorer.\r\n\r\nTried this code, and viewed the CSV in a text editor ( not excel ), notice that it shows up correctly, though when opened in excel, leading 0s are lost !\r\n\r\n\r\n    CSVWriter writer = new CSVWriter(new FileWriter(&quot;yourfile.csv&quot;));\r\n        // feed in your array (or convert your data to an array)\r\n        String[] entries = &quot;0123131#21212#021213&quot;.split(&quot;#&quot;);\r\n        List&lt;String[]&gt; a = new ArrayList&lt;&gt;();\r\n        a.add(entries);\r\n        //don&#39;t apply quotes\r\n        writer.writeAll(a,false);\r\n        writer.close();\r\n\r\n[![See correct leading 0s being retained in text editor][1]][1]\r\n\r\n\r\nIf you are really sure that you want to see the **leading 0s for numeric values** when excel is opened by user, then each **cell entry be in format =&quot;dataHere&quot;** format; see code below:\r\n\r\n     CSVWriter writer = new CSVWriter(new FileWriter(&quot;yourfile.csv&quot;));\r\n            // feed in your array (or convert your data to an array)\r\n            String[] entries = &quot;=\\&quot;0123131\\&quot;#=\\&quot;21212\\&quot;#=\\&quot;021213\\&quot;&quot;.split(&quot;#&quot;);\r\n            List&lt;String[]&gt; a = new ArrayList&lt;&gt;();\r\n            a.add(entries);\r\n            writer.writeAll(a);\r\n            writer.close();\r\n\r\nThis is how now excel shows when opening excel from windows explorer ( double clicking ):\r\n\r\n[![Excel displays with leading 0s][2]][2]\r\n\r\n\r\nBut now, if we see the CSV in a text editor, with the modified data to &quot;suit&quot; excel viewing, it shows as :\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAlso see link :\r\n[format-number-as-text-in-csv-when-open-in-both-excel-and-notepad][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8BGGk.png\r\n  [2]: https://i.stack.imgur.com/CO8RA.png\r\n  [3]: https://i.stack.imgur.com/TWMTT.png\r\n  [4]: https://stackoverflow.com/questions/32022211/format-number-as-text-in-csv-when-open-in-both-excel-and-notepad\r\n","title":"How to keep zero begin string when export data using opencsv library","body":"<p>I think it is not really the problem when generating CSV but the way excel treats the data when opened via explorer.</p>\n\n<p>Tried this code, and viewed the CSV in a text editor ( not excel ), notice that it shows up correctly, though when opened in excel, leading 0s are lost !</p>\n\n<pre><code>CSVWriter writer = new CSVWriter(new FileWriter(\"yourfile.csv\"));\n    // feed in your array (or convert your data to an array)\n    String[] entries = \"0123131#21212#021213\".split(\"#\");\n    List&lt;String[]&gt; a = new ArrayList&lt;&gt;();\n    a.add(entries);\n    //don't apply quotes\n    writer.writeAll(a,false);\n    writer.close();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8BGGk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BGGk.png\" alt=\"See correct leading 0s being retained in text editor\"></a></p>\n\n<p>If you are really sure that you want to see the <strong>leading 0s for numeric values</strong> when excel is opened by user, then each <strong>cell entry be in format =\"dataHere\"</strong> format; see code below:</p>\n\n<pre><code> CSVWriter writer = new CSVWriter(new FileWriter(\"yourfile.csv\"));\n        // feed in your array (or convert your data to an array)\n        String[] entries = \"=\\\"0123131\\\"#=\\\"21212\\\"#=\\\"021213\\\"\".split(\"#\");\n        List&lt;String[]&gt; a = new ArrayList&lt;&gt;();\n        a.add(entries);\n        writer.writeAll(a);\n        writer.close();\n</code></pre>\n\n<p>This is how now excel shows when opening excel from windows explorer ( double clicking ):</p>\n\n<p><a href=\"https://i.stack.imgur.com/CO8RA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CO8RA.png\" alt=\"Excel displays with leading 0s\"></a></p>\n\n<p>But now, if we see the CSV in a text editor, with the modified data to \"suit\" excel viewing, it shows as :</p>\n\n<p><a href=\"https://i.stack.imgur.com/TWMTT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TWMTT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also see link :\n<a href=\"https://stackoverflow.com/questions/32022211/format-number-as-text-in-csv-when-open-in-both-excel-and-notepad\">format-number-as-text-in-csv-when-open-in-both-excel-and-notepad</a></p>\n"},{"tags":[],"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659951720,"creation_date":1659951720,"answer_id":73275827,"question_id":56503087,"body_markdown":"For me OpenCsv works correctly ( vers. 5.6 ).\r\nfor example my csv file has a row as the following extract:\r\n\r\n     &quot;999739059&quot;;;;&quot;abcdefgh&quot;;&quot;001024&quot;;\r\n\r\n\r\nand opencsv reads the field &quot;1024&quot; as 001024 corretly. Of course I have mapped the field in a string, not in a Double.\r\n\r\nBut, if you still have problems, you can grab a simple yet powerful  parser that fully adheres with RFC 4180 standard:\r\n[mykong.com][1]\r\n\r\n\r\n  [1]: https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\r\n\r\n\r\nMykong shows you some examples using opencsv directly and, in the end, he writes a simple parser to use if you don&#39;t want to import OpenCSV , and the parser works very well , and you can use it if you still have any problems.\r\n\r\nSo you have an easy-to-understand source code of a simple parser that you can modify as you want if you still have any problem or if you want to customize it  for your  needs.\r\n\r\n","title":"How to keep zero begin string when export data using opencsv library","body":"<p>For me OpenCsv works correctly ( vers. 5.6 ).\nfor example my csv file has a row as the following extract:</p>\n<pre><code> &quot;999739059&quot;;;;&quot;abcdefgh&quot;;&quot;001024&quot;;\n</code></pre>\n<p>and opencsv reads the field &quot;1024&quot; as 001024 corretly. Of course I have mapped the field in a string, not in a Double.</p>\n<p>But, if you still have problems, you can grab a simple yet powerful  parser that fully adheres with RFC 4180 standard:\n<a href=\"https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\" rel=\"nofollow noreferrer\">mykong.com</a></p>\n<p>Mykong shows you some examples using opencsv directly and, in the end, he writes a simple parser to use if you don't want to import OpenCSV , and the parser works very well , and you can use it if you still have any problems.</p>\n<p>So you have an easy-to-understand source code of a simple parser that you can modify as you want if you still have any problem or if you want to customize it  for your  needs.</p>\n"}],"owner":{"account_id":16094197,"reputation":21,"user_id":11616824,"display_name":"trungdn92"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1659951720,"creation_date":1559962977,"question_id":56503087,"body_markdown":"I using **opencsv** library in java and export csv. But i have problem. When i used string begin zero look like : 0123456 , when i export it remove 0 and my csv look like : 123456. Zero is missing. I using way :\r\n\r\n`&quot;\\&quot;\\t&quot;+&quot;0123456&quot;+ &quot;\\&quot;&quot;;` but when csv export it look like : `&quot;0123456&quot;` . I don&#39;t want it. I want 0123456. I don&#39;t want edit from excel because some end user don&#39;t know how to edit. How to export csv using open csv and keep 0 begin string. Please help","title":"How to keep zero begin string when export data using opencsv library","body":"<p>I using <strong>opencsv</strong> library in java and export csv. But i have problem. When i used string begin zero look like : 0123456 , when i export it remove 0 and my csv look like : 123456. Zero is missing. I using way :</p>\n\n<p><code>\"\\\"\\t\"+\"0123456\"+ \"\\\"\";</code> but when csv export it look like : <code>\"0123456\"</code> . I don't want it. I want 0123456. I don't want edit from excel because some end user don't know how to edit. How to export csv using open csv and keep 0 begin string. Please help</p>\n"},{"tags":["java","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659064618,"post_id":73160189,"comment_id":129211611,"body_markdown":"Take a look at the JavaDoc for [`XDDFValueAxis`](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFValueAxis.html) it has a lot of good info, you can make use of [`getOrAddTextProperties()`](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFValueAxis.html#getOrAddTextProperties--) which returns a [XDDFRunProperties](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/text/XDDFRunProperties.html) object on which you can call things like `setFontSize(...)` or `setHighlight(...)` and many more","body":"Take a look at the JavaDoc for <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFValueAxis.html\" rel=\"nofollow noreferrer\"><code>XDDFValueAxis</code></a> it has a lot of good info, you can make use of <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFValueAxis.html#getOrAddTextProperties--\" rel=\"nofollow noreferrer\"><code>getOrAddTextProperties()</code></a> which returns a <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/text/XDDFRunProperties.html\" rel=\"nofollow noreferrer\">XDDFRunProperties</a> object on which you can call things like <code>setFontSize(...)</code> or <code>setHighlight(...)</code> and many more"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1659065552,"post_id":73160189,"comment_id":129211718,"body_markdown":"@sorifiend as I said, getOrAddTextProperties().setFontSize() works only for the labels. It does not work for the axis title (circled in red).","body":"@sorifiend as I said, getOrAddTextProperties().setFontSize() works only for the labels. It does not work for the axis title (circled in red)."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1659066591,"post_id":73160189,"comment_id":129211835,"body_markdown":"For axis titles see https://stackoverflow.com/questions/68893190/resizing-legend-and-axis-title-in-a-apache-poi-bar-chart/68948630#68948630. For add data labels see https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20add%20data%20labels.","body":"For axis titles see <a href=\"https://stackoverflow.com/questions/68893190/resizing-legend-and-axis-title-in-a-apache-poi-bar-chart/68948630#68948630\" title=\"resizing legend and axis title in a apache poi bar chart\">stackoverflow.com/questions/68893190/&hellip;</a>. For add data labels see <a href=\"https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20add%20data%20labels\">stackoverflow.com/&hellip;</a>."},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1659137424,"post_id":73160189,"comment_id":129229692,"body_markdown":"@AxelRichter I think I did not make myself clear: what I meant is a way to put the value at the end of the bar? I mean, at the in each bar, I want to put the value (number) accordingly?","body":"@AxelRichter I think I did not make myself clear: what I meant is a way to put the value at the end of the bar? I mean, at the in each bar, I want to put the value (number) accordingly?"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659951380,"creation_date":1659161474,"answer_id":73173280,"question_id":73160189,"body_markdown":"The question  about formatting the axes titles is answered already. See https://stackoverflow.com/questions/68893190/resizing-legend-and-axis-title-in-a-apache-poi-bar-chart/68948630#68948630.\r\n\r\n&quot;To add the precisely number of the value&quot; to the data bars means to have data labels set. This is not directly supported ny Apache POI until now. So using low level `org.openxmlformats.schemas.drawingml.x2006.chart.*` classes is necessary. See https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20add%20data%20labels. Of course this is not very comfortable. So I have tried to create a method `void setDataLabels(XDDFChartData.Series series, int pos, boolean... show)` for this.\r\n\r\nThere `int pos` can be one of the following:\r\n\r\n    INT_BEST_FIT   1 - positions data label at best fit to be readable\r\n    INT_B          2 - positions data label at bottom\r\n    INT_CTR        3 - positions data label at center\r\n    INT_IN_BASE    4 - positions data label inside at base\r\n    INT_IN_END     5 - positions data label inside at the end\r\n    INT_L          6 - positions data label at left\r\n    INT_OUT_END    7 - positions data label outside at the end\r\n    INT_R          8 - positions data label at right\r\n    INT_T          9 - positions data label at top\r\n\r\nNot all chart types support all positions. \r\n\r\nThe `boolean... show` is a list of boolean to tell what shall visible (`true`) or not visible (`false`) in the data labels. Sequence is as follows:\r\n\r\n    ShowVal, ShowLegendKey, ShowCatName, ShowSerName, ShowPercent, ShowBubbleSize, ShowLeaderLines\r\n\r\nComplete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.PresetColor;\r\n    import org.apache.poi.xddf.usermodel.XDDFColor;\r\n    import org.apache.poi.xddf.usermodel.XDDFShapeProperties;\r\n    import org.apache.poi.xddf.usermodel.XDDFSolidFillProperties;\r\n    import org.apache.poi.xddf.usermodel.chart.AxisCrosses;\r\n    import org.apache.poi.xddf.usermodel.chart.AxisCrossBetween;\r\n    import org.apache.poi.xddf.usermodel.chart.AxisPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.BarDirection;\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFBarChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFLineChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFCategoryAxis;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFValueAxis;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFTitle;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    /**\r\n     * Bar chart example.\r\n     */\r\n    public final class BarChart {\r\n        private BarChart() {}\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            \r\n            Object[][] chartData = new Object[][]{\r\n                new Object[]{&quot;Client 1&quot;, &quot;Client 2&quot;, &quot;Client 3&quot;, &quot;Client 4&quot;, &quot;Client 5&quot;, &quot;Client 6&quot;, &quot;Client 7&quot;, &quot;Client 8&quot;},    \r\n                new Object[]{12, 2.345d, 34, 6, 45.6d, .456d, 50.5d, 12.345d},    \r\n            };\r\n            \r\n            try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n                XSSFSheet sheet = wb.createSheet(&quot;barchart&quot;);\r\n                \r\n                // put sheet data\r\n                Row row;\r\n                Cell cell;\r\n                int rowIndex = 0;\r\n                int colIndex = 0;\r\n                for (Object[] dataRow : chartData) {\r\n                    row = sheet.createRow((short) rowIndex);\r\n                    colIndex = 0;\r\n                    for (Object value : dataRow) {\r\n                        cell = row.createCell((short) colIndex);\r\n                        if (value instanceof String) cell.setCellValue((String)value);\r\n                        if (value instanceof Number) cell.setCellValue(((Number)value).doubleValue());\r\n                        colIndex++;\r\n                    }\r\n                    rowIndex++;\r\n                }\r\n                \r\n                // create the chart\r\n                \r\n                // chart data sources\r\n                XDDFDataSource&lt;String&gt; xs = XDDFDataSourcesFactory.fromStringCellRange(sheet, new CellRangeAddress(0, 0, 0, colIndex - 1));\r\n                XDDFNumericalDataSource&lt;Double&gt; ys1 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(1, 1, 0, colIndex - 1));\r\n    \r\n                // chart in drawing\r\n                XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n                XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 3, 8, 20);\r\n                XSSFChart chart = drawing.createChart(anchor);\r\n                chart.setTitleText(&quot;Turnover Rate&quot;);\r\n                chart.setTitleOverlay(false);\r\n                chart.getFormattedTitle().getParagraph(0).addDefaultRunProperties().setFontSize(20d);\r\n    \r\n                // category axis\r\n                XDDFCategoryAxis catAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n                XDDFTitle title = getOrSetAxisTitle(catAxis);\r\n                title.setOverlay(false);\r\n                title.setText(&quot;Client Name&quot;);\r\n                title.getBody().getParagraph(0).addDefaultRunProperties().setFontSize(12d);\r\n    \r\n                // value axis\r\n                XDDFValueAxis valAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n                title = getOrSetAxisTitle(valAxis);\r\n                title.setOverlay(false);\r\n                title.setText(&quot;Value (Percentage)&quot;);\r\n                title.getBody().getParagraph(0).addDefaultRunProperties().setFontSize(12d);\r\n     \r\n                // cross axes \r\n                valAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n                valAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n    \r\n                // chart data\r\n                XDDFChartData data = chart.createData(ChartTypes.BAR, catAxis, valAxis);\r\n                // series\r\n                XDDFChartData.Series series1 = data.addSeries(xs, ys1);\r\n                series1.setTitle(&quot;Series 1&quot;, null); // there must be a series title even if no legend is needed\r\n                // add data labels\r\n                setDataLabels(series1, 7, true); // pos 7 = INT_OUT_END, showVal = true\r\n                \r\n                // plot chart\r\n                chart.plot(data);\r\n    \r\n                // in order to transform a bar chart into a column chart, you just need to change the bar direction\r\n                XDDFBarChartData bar = (XDDFBarChartData) data;\r\n                // bar.setBarDirection(BarDirection.COL);\r\n    \r\n                // set series fill color\r\n                solidFillSeries(data, 0, PresetColor.BLUE);\r\n    \r\n                // Write the output to a file\r\n                try (FileOutputStream fileOut = new FileOutputStream(&quot;./ooxml-bar-chart.xlsx&quot;)) {\r\n                    wb.write(fileOut);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void solidFillSeries(XDDFChartData data, int index, PresetColor color) {\r\n            XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\r\n            XDDFChartData.Series series = data.getSeries(index);\r\n            XDDFShapeProperties properties = series.getShapeProperties();\r\n            if (properties == null) {\r\n                properties = new XDDFShapeProperties();\r\n            }\r\n            properties.setFillProperties(fill);\r\n            series.setShapeProperties(properties);\r\n        }\r\n        \r\n        private static XDDFTitle getOrSetAxisTitle(XDDFValueAxis axis) {\r\n            try {\r\n                java.lang.reflect.Field _ctValAx = XDDFValueAxis.class.getDeclaredField(&quot;ctValAx&quot;);\r\n                _ctValAx.setAccessible(true);\r\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTValAx ctValAx =\r\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTValAx)_ctValAx.get(axis);\r\n                if (!ctValAx.isSetTitle()) {\r\n                    ctValAx.addNewTitle();\r\n                }\r\n                XDDFTitle title = new XDDFTitle(null, ctValAx.getTitle());\r\n                return title;\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n                return null;            \r\n            }\r\n        }\r\n    \r\n        private static XDDFTitle getOrSetAxisTitle(XDDFCategoryAxis axis) {\r\n            try {\r\n                java.lang.reflect.Field _ctCatAx = XDDFCategoryAxis.class.getDeclaredField(&quot;ctCatAx&quot;);\r\n                _ctCatAx.setAccessible(true);\r\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTCatAx ctCatAx =\r\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTCatAx)_ctCatAx.get(axis);\r\n                if (!ctCatAx.isSetTitle()) {\r\n                    ctCatAx.addNewTitle();\r\n                }\r\n                XDDFTitle title = new XDDFTitle(null, ctCatAx.getTitle());\r\n                return title;\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n                return null;            \r\n            }\r\n        }\r\n        \r\n        private static void setDataLabels(XDDFChartData.Series series, int pos, boolean... show) {\r\n            /*\r\n            INT_BEST_FIT   1\r\n            INT_B          2\r\n            INT_CTR        3\r\n            INT_IN_BASE    4\r\n            INT_IN_END     5\r\n            INT_L          6\r\n            INT_OUT_END    7\r\n            INT_R          8\r\n            INT_T          9                             \r\n            */\r\n            try {\r\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTDLbls ctDLbls = null;\r\n                if (series instanceof XDDFBarChartData.Series) {\r\n                    java.lang.reflect.Field _ctBarSer = XDDFBarChartData.Series.class.getDeclaredField(&quot;series&quot;);\r\n                    _ctBarSer.setAccessible(true);\r\n                    org.openxmlformats.schemas.drawingml.x2006.chart.CTBarSer ctBarSer =\r\n                        (org.openxmlformats.schemas.drawingml.x2006.chart.CTBarSer)_ctBarSer.get((XDDFBarChartData.Series)series);\r\n                    if (ctBarSer.isSetDLbls()) ctBarSer.unsetDLbls();\r\n                    ctDLbls = ctBarSer.addNewDLbls();                                                        \r\n                    if (!(pos == 3 || pos == 4 || pos == 5 || pos == 7)) pos = 3; // bar chart does not provide other pos\r\n                    ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\r\n                } else if (series instanceof XDDFLineChartData.Series) {\r\n                    java.lang.reflect.Field _ctLineSer = XDDFLineChartData.Series.class.getDeclaredField(&quot;series&quot;);\r\n                    _ctLineSer.setAccessible(true);\r\n                    org.openxmlformats.schemas.drawingml.x2006.chart.CTLineSer ctLineSer =\r\n                        (org.openxmlformats.schemas.drawingml.x2006.chart.CTLineSer)_ctLineSer.get((XDDFLineChartData.Series)series);\r\n                    if (ctLineSer.isSetDLbls()) ctLineSer.unsetDLbls();\r\n                    ctDLbls = ctLineSer.addNewDLbls();                                                      \r\n                    if (!(pos == 3 || pos == 6 || pos == 8 || pos == 9 || pos == 2)) pos = 3; // line chart does not provide other pos\r\n                    ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\r\n                } else if (series instanceof XDDFPieChartData.Series) {\r\n                    java.lang.reflect.Field _ctPieSer = XDDFPieChartData.Series.class.getDeclaredField(&quot;series&quot;);\r\n                    _ctPieSer.setAccessible(true);\r\n                    org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer ctPieSer =\r\n                        (org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer)_ctPieSer.get((XDDFPieChartData.Series)series);\r\n                    if (ctPieSer.isSetDLbls()) ctPieSer.unsetDLbls();\r\n                    ctDLbls = ctPieSer.addNewDLbls();                                                      \r\n                    if (!(pos == 3 || pos == 1 || pos == 4 || pos == 5)) pos = 3; // pie chart does not provide other pos\r\n                    ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\r\n                }// else if ...                                                          \r\n                                                                   \r\n                if (ctDLbls != null) {\r\n                    ctDLbls.addNewShowVal().setVal((show.length&gt;0)?show[0]:false);\r\n                    ctDLbls.addNewShowLegendKey().setVal((show.length&gt;1)?show[1]:false);\r\n                    ctDLbls.addNewShowCatName().setVal((show.length&gt;2)?show[2]:false);\r\n                    ctDLbls.addNewShowSerName().setVal((show.length&gt;3)?show[3]:false);\r\n                    ctDLbls.addNewShowPercent().setVal((show.length&gt;4)?show[4]:false);\r\n                    ctDLbls.addNewShowBubbleSize().setVal((show.length&gt;5)?show[5]:false);\r\n                    ctDLbls.addNewShowLeaderLines().setVal((show.length&gt;6)?show[6]:false);\r\n                }\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }                              \r\n        }          \r\n       \r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n                            \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x0jHi.png","title":"Setting axis title and adding values to the bar","body":"<p>The question  about formatting the axes titles is answered already. See <a href=\"https://stackoverflow.com/questions/68893190/resizing-legend-and-axis-title-in-a-apache-poi-bar-chart/68948630#68948630\">Resizing legend and axis title in a apache poi bar chart</a>.</p>\n<p>&quot;To add the precisely number of the value&quot; to the data bars means to have data labels set. This is not directly supported ny Apache POI until now. So using low level <code>org.openxmlformats.schemas.drawingml.x2006.chart.*</code> classes is necessary. See <a href=\"https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20add%20data%20labels\">https://stackoverflow.com/search?tab=newest&amp;q=user%3a3915431%20add%20data%20labels</a>. Of course this is not very comfortable. So I have tried to create a method <code>void setDataLabels(XDDFChartData.Series series, int pos, boolean... show)</code> for this.</p>\n<p>There <code>int pos</code> can be one of the following:</p>\n<pre><code>INT_BEST_FIT   1 - positions data label at best fit to be readable\nINT_B          2 - positions data label at bottom\nINT_CTR        3 - positions data label at center\nINT_IN_BASE    4 - positions data label inside at base\nINT_IN_END     5 - positions data label inside at the end\nINT_L          6 - positions data label at left\nINT_OUT_END    7 - positions data label outside at the end\nINT_R          8 - positions data label at right\nINT_T          9 - positions data label at top\n</code></pre>\n<p>Not all chart types support all positions.</p>\n<p>The <code>boolean... show</code> is a list of boolean to tell what shall visible (<code>true</code>) or not visible (<code>false</code>) in the data labels. Sequence is as follows:</p>\n<pre><code>ShowVal, ShowLegendKey, ShowCatName, ShowSerName, ShowPercent, ShowBubbleSize, ShowLeaderLines\n</code></pre>\n<p>Complete example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.PresetColor;\nimport org.apache.poi.xddf.usermodel.XDDFColor;\nimport org.apache.poi.xddf.usermodel.XDDFShapeProperties;\nimport org.apache.poi.xddf.usermodel.XDDFSolidFillProperties;\nimport org.apache.poi.xddf.usermodel.chart.AxisCrosses;\nimport org.apache.poi.xddf.usermodel.chart.AxisCrossBetween;\nimport org.apache.poi.xddf.usermodel.chart.AxisPosition;\nimport org.apache.poi.xddf.usermodel.chart.BarDirection;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFBarChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFLineChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFCategoryAxis;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFValueAxis;\nimport org.apache.poi.xddf.usermodel.chart.XDDFTitle;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n/**\n * Bar chart example.\n */\npublic final class BarChart {\n    private BarChart() {}\n\n    public static void main(String[] args) throws IOException {\n        \n        Object[][] chartData = new Object[][]{\n            new Object[]{&quot;Client 1&quot;, &quot;Client 2&quot;, &quot;Client 3&quot;, &quot;Client 4&quot;, &quot;Client 5&quot;, &quot;Client 6&quot;, &quot;Client 7&quot;, &quot;Client 8&quot;},    \n            new Object[]{12, 2.345d, 34, 6, 45.6d, .456d, 50.5d, 12.345d},    \n        };\n        \n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\n            XSSFSheet sheet = wb.createSheet(&quot;barchart&quot;);\n            \n            // put sheet data\n            Row row;\n            Cell cell;\n            int rowIndex = 0;\n            int colIndex = 0;\n            for (Object[] dataRow : chartData) {\n                row = sheet.createRow((short) rowIndex);\n                colIndex = 0;\n                for (Object value : dataRow) {\n                    cell = row.createCell((short) colIndex);\n                    if (value instanceof String) cell.setCellValue((String)value);\n                    if (value instanceof Number) cell.setCellValue(((Number)value).doubleValue());\n                    colIndex++;\n                }\n                rowIndex++;\n            }\n            \n            // create the chart\n            \n            // chart data sources\n            XDDFDataSource&lt;String&gt; xs = XDDFDataSourcesFactory.fromStringCellRange(sheet, new CellRangeAddress(0, 0, 0, colIndex - 1));\n            XDDFNumericalDataSource&lt;Double&gt; ys1 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(1, 1, 0, colIndex - 1));\n\n            // chart in drawing\n            XSSFDrawing drawing = sheet.createDrawingPatriarch();\n            XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 3, 8, 20);\n            XSSFChart chart = drawing.createChart(anchor);\n            chart.setTitleText(&quot;Turnover Rate&quot;);\n            chart.setTitleOverlay(false);\n            chart.getFormattedTitle().getParagraph(0).addDefaultRunProperties().setFontSize(20d);\n\n            // category axis\n            XDDFCategoryAxis catAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n            XDDFTitle title = getOrSetAxisTitle(catAxis);\n            title.setOverlay(false);\n            title.setText(&quot;Client Name&quot;);\n            title.getBody().getParagraph(0).addDefaultRunProperties().setFontSize(12d);\n\n            // value axis\n            XDDFValueAxis valAxis = chart.createValueAxis(AxisPosition.LEFT);\n            title = getOrSetAxisTitle(valAxis);\n            title.setOverlay(false);\n            title.setText(&quot;Value (Percentage)&quot;);\n            title.getBody().getParagraph(0).addDefaultRunProperties().setFontSize(12d);\n \n            // cross axes \n            valAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n            valAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n            // chart data\n            XDDFChartData data = chart.createData(ChartTypes.BAR, catAxis, valAxis);\n            // series\n            XDDFChartData.Series series1 = data.addSeries(xs, ys1);\n            series1.setTitle(&quot;Series 1&quot;, null); // there must be a series title even if no legend is needed\n            // add data labels\n            setDataLabels(series1, 7, true); // pos 7 = INT_OUT_END, showVal = true\n            \n            // plot chart\n            chart.plot(data);\n\n            // in order to transform a bar chart into a column chart, you just need to change the bar direction\n            XDDFBarChartData bar = (XDDFBarChartData) data;\n            // bar.setBarDirection(BarDirection.COL);\n\n            // set series fill color\n            solidFillSeries(data, 0, PresetColor.BLUE);\n\n            // Write the output to a file\n            try (FileOutputStream fileOut = new FileOutputStream(&quot;./ooxml-bar-chart.xlsx&quot;)) {\n                wb.write(fileOut);\n            }\n        }\n    }\n\n    private static void solidFillSeries(XDDFChartData data, int index, PresetColor color) {\n        XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\n        XDDFChartData.Series series = data.getSeries(index);\n        XDDFShapeProperties properties = series.getShapeProperties();\n        if (properties == null) {\n            properties = new XDDFShapeProperties();\n        }\n        properties.setFillProperties(fill);\n        series.setShapeProperties(properties);\n    }\n    \n    private static XDDFTitle getOrSetAxisTitle(XDDFValueAxis axis) {\n        try {\n            java.lang.reflect.Field _ctValAx = XDDFValueAxis.class.getDeclaredField(&quot;ctValAx&quot;);\n            _ctValAx.setAccessible(true);\n            org.openxmlformats.schemas.drawingml.x2006.chart.CTValAx ctValAx =\n                (org.openxmlformats.schemas.drawingml.x2006.chart.CTValAx)_ctValAx.get(axis);\n            if (!ctValAx.isSetTitle()) {\n                ctValAx.addNewTitle();\n            }\n            XDDFTitle title = new XDDFTitle(null, ctValAx.getTitle());\n            return title;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return null;            \n        }\n    }\n\n    private static XDDFTitle getOrSetAxisTitle(XDDFCategoryAxis axis) {\n        try {\n            java.lang.reflect.Field _ctCatAx = XDDFCategoryAxis.class.getDeclaredField(&quot;ctCatAx&quot;);\n            _ctCatAx.setAccessible(true);\n            org.openxmlformats.schemas.drawingml.x2006.chart.CTCatAx ctCatAx =\n                (org.openxmlformats.schemas.drawingml.x2006.chart.CTCatAx)_ctCatAx.get(axis);\n            if (!ctCatAx.isSetTitle()) {\n                ctCatAx.addNewTitle();\n            }\n            XDDFTitle title = new XDDFTitle(null, ctCatAx.getTitle());\n            return title;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return null;            \n        }\n    }\n    \n    private static void setDataLabels(XDDFChartData.Series series, int pos, boolean... show) {\n        /*\n        INT_BEST_FIT   1\n        INT_B          2\n        INT_CTR        3\n        INT_IN_BASE    4\n        INT_IN_END     5\n        INT_L          6\n        INT_OUT_END    7\n        INT_R          8\n        INT_T          9                             \n        */\n        try {\n            org.openxmlformats.schemas.drawingml.x2006.chart.CTDLbls ctDLbls = null;\n            if (series instanceof XDDFBarChartData.Series) {\n                java.lang.reflect.Field _ctBarSer = XDDFBarChartData.Series.class.getDeclaredField(&quot;series&quot;);\n                _ctBarSer.setAccessible(true);\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTBarSer ctBarSer =\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTBarSer)_ctBarSer.get((XDDFBarChartData.Series)series);\n                if (ctBarSer.isSetDLbls()) ctBarSer.unsetDLbls();\n                ctDLbls = ctBarSer.addNewDLbls();                                                        \n                if (!(pos == 3 || pos == 4 || pos == 5 || pos == 7)) pos = 3; // bar chart does not provide other pos\n                ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\n            } else if (series instanceof XDDFLineChartData.Series) {\n                java.lang.reflect.Field _ctLineSer = XDDFLineChartData.Series.class.getDeclaredField(&quot;series&quot;);\n                _ctLineSer.setAccessible(true);\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTLineSer ctLineSer =\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTLineSer)_ctLineSer.get((XDDFLineChartData.Series)series);\n                if (ctLineSer.isSetDLbls()) ctLineSer.unsetDLbls();\n                ctDLbls = ctLineSer.addNewDLbls();                                                      \n                if (!(pos == 3 || pos == 6 || pos == 8 || pos == 9 || pos == 2)) pos = 3; // line chart does not provide other pos\n                ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\n            } else if (series instanceof XDDFPieChartData.Series) {\n                java.lang.reflect.Field _ctPieSer = XDDFPieChartData.Series.class.getDeclaredField(&quot;series&quot;);\n                _ctPieSer.setAccessible(true);\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer ctPieSer =\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer)_ctPieSer.get((XDDFPieChartData.Series)series);\n                if (ctPieSer.isSetDLbls()) ctPieSer.unsetDLbls();\n                ctDLbls = ctPieSer.addNewDLbls();                                                      \n                if (!(pos == 3 || pos == 1 || pos == 4 || pos == 5)) pos = 3; // pie chart does not provide other pos\n                ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\n            }// else if ...                                                          \n                                                               \n            if (ctDLbls != null) {\n                ctDLbls.addNewShowVal().setVal((show.length&gt;0)?show[0]:false);\n                ctDLbls.addNewShowLegendKey().setVal((show.length&gt;1)?show[1]:false);\n                ctDLbls.addNewShowCatName().setVal((show.length&gt;2)?show[2]:false);\n                ctDLbls.addNewShowSerName().setVal((show.length&gt;3)?show[3]:false);\n                ctDLbls.addNewShowPercent().setVal((show.length&gt;4)?show[4]:false);\n                ctDLbls.addNewShowBubbleSize().setVal((show.length&gt;5)?show[5]:false);\n                ctDLbls.addNewShowLeaderLines().setVal((show.length&gt;6)?show[6]:false);\n            }\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }                              \n    }          \n   \n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/x0jHi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x0jHi.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73173280,"answer_count":1,"score":2,"last_activity_date":1659951380,"creation_date":1659051037,"question_id":73160189,"body_markdown":"I need to change the properties (like size of font) of the title axis (circled in red)  \r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m using the apache-poi library and here&#39;s the part of the code which generates both titles\r\n```\r\n                XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n                bottomAxis.setTitle(&quot;Client Name&quot;);\r\n                XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n                leftAxis.setTitle(&quot;Value (&quot;+clientDataObjectRequest.getDataFormatCodeValue()+&quot;)&quot;);\r\n                leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n                leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n```\r\nI&#39;ve already tried to use the method getOrAddTextProperties().setFontSize() but this change only the size of the labels (client names and numbers) and not the title itself.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RHfTJ.png\r\nIn yellow, I would like to add the precisely number of the value. For example, the value of &quot;client 3&quot; is 53,78, so I need to put this value in the chart just after the end of the bar (marked as yellow).","title":"Setting axis title and adding values to the bar","body":"<p>I need to change the properties (like size of font) of the title axis (circled in red)<br />\n<a href=\"https://i.stack.imgur.com/RHfTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RHfTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using the apache-poi library and here's the part of the code which generates both titles</p>\n<pre><code>                XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n                bottomAxis.setTitle(&quot;Client Name&quot;);\n                XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\n                leftAxis.setTitle(&quot;Value (&quot;+clientDataObjectRequest.getDataFormatCodeValue()+&quot;)&quot;);\n                leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n                leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n</code></pre>\n<p>I've already tried to use the method getOrAddTextProperties().setFontSize() but this change only the size of the labels (client names and numbers) and not the title itself.</p>\n<p>In yellow, I would like to add the precisely number of the value. For example, the value of &quot;client 3&quot; is 53,78, so I need to put this value in the chart just after the end of the bar (marked as yellow).</p>\n"},{"tags":["java","excel","charts","apache-poi","scatter-plot"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659951346,"creation_date":1659883746,"answer_id":73268435,"question_id":73266203,"body_markdown":"There is no [XDDFChartData](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html) prepared for a bubble chart up to now. So the first task would be to program a such.\r\n\r\nOne could take [XDDFScatterChartData.java](https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xddf/usermodel/chart/XDDFScatterChartData.java?view=markup) as a template.\r\n\r\nBut as often, the accessibility guidelines of Apache POI prevent classes from easy being extended. So in some cases using reflection will be necessary.\r\n\r\nA draft for a `XDDFBubbleChartData` could look like so:\r\n\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Collections;\r\n    \r\n    import org.apache.poi.util.Beta;\r\n    import org.apache.poi.util.Internal;\r\n    import org.apache.poi.xddf.usermodel.XDDFShapeProperties;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTDPt;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTBubbleChart;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTBubbleSer;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTSerTx;\r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.CTNumData;;\r\n    \r\n    @Beta\r\n    public class XDDFBubbleChartData extends XDDFChartData {\r\n        private CTBubbleChart chart;\r\n        \r\n        public XDDFBubbleChartData(\r\n               XDDFChart parent,\r\n               CTBubbleChart chart,\r\n               XDDFChartAxis category, \r\n               XDDFValueAxis values) {\r\n            super(parent);\r\n            this.chart = chart;\r\n            Map&lt;Long, XDDFChartAxis&gt; categories = null;\r\n    \t    Map&lt;Long, XDDFValueAxis&gt; mapValues = null;\r\n    \t    categories = Collections.singletonMap(category.getId(), category);\r\n    \t    mapValues = Collections.singletonMap(values.getId(), values);\r\n            for (CTBubbleSer series : chart.getSerList()) {\r\n                this.series.add(new Series(series, series.getXVal(), series.getYVal()));\r\n            }\r\n            defineAxes(categories, mapValues);\r\n    \t}\r\n    \r\n        @Internal\r\n        protected XDDFBubbleChartData(\r\n                XDDFChart parent,\r\n                CTBubbleChart chart,\r\n                Map&lt;Long, XDDFChartAxis&gt; categories,\r\n                Map&lt;Long, XDDFValueAxis&gt; values) {\r\n            super(parent);\r\n            this.chart = chart;\r\n            for (CTBubbleSer series : chart.getSerList()) {\r\n                this.series.add(new Series(series, series.getXVal(), series.getYVal()));\r\n            }\r\n            defineAxes(categories, values);\r\n        }\r\n    \r\n        private void defineAxes(Map&lt;Long, XDDFChartAxis&gt; categories, Map&lt;Long, XDDFValueAxis&gt; values) {\r\n            if (chart.sizeOfAxIdArray() == 0) {\r\n                for (Long id : categories.keySet()) {\r\n                    chart.addNewAxId().setVal(id);\r\n                }\r\n                for (Long id : values.keySet()) {\r\n                    chart.addNewAxId().setVal(id);\r\n                }\r\n            }\r\n            defineAxes(chart.getAxIdArray(), categories, values);\r\n        }\r\n    \r\n        @Internal\r\n        @Override\r\n        protected void removeCTSeries(int n) {\r\n            chart.removeSer(n);\r\n        }\r\n    \r\n        @Override\r\n        public void setVaryColors(Boolean varyColors) {\r\n            if (varyColors == null) {\r\n                if (chart.isSetVaryColors()) {\r\n                    chart.unsetVaryColors();\r\n                }\r\n            } else {\r\n                if (chart.isSetVaryColors()) {\r\n                    chart.getVaryColors().setVal(varyColors);\r\n                } else {\r\n                    chart.addNewVaryColors().setVal(varyColors);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public XDDFChartData.Series addSeries(XDDFDataSource&lt;?&gt; category,\r\n                XDDFNumericalDataSource&lt;? extends Number&gt; values) {\r\n            //final long index = this.parent.incrementSeriesCount();\r\n            try {\r\n                java.lang.reflect.Method incrementSeriesCount = XDDFChart.class.getDeclaredMethod(&quot;incrementSeriesCount&quot;);\r\n                incrementSeriesCount.setAccessible(true);\r\n                final long index = (long)incrementSeriesCount.invoke(this.parent);    \r\n                final CTBubbleSer ctSer = this.chart.addNewSer();\r\n                ctSer.addNewXVal();\r\n                ctSer.addNewYVal();\r\n                ctSer.addNewIdx().setVal(index);\r\n                ctSer.addNewOrder().setVal(index);\r\n                final Series added = new Series(ctSer, category, values);\r\n                this.series.add(added);\r\n                return added;\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public class Series extends XDDFChartData.Series {\r\n            private CTBubbleSer series;\r\n    \r\n            protected Series(CTBubbleSer series, XDDFDataSource&lt;?&gt; category, XDDFNumericalDataSource&lt;?&gt; values) {\r\n                super(category, values);\r\n                this.series = series;\r\n            }\r\n    \r\n            protected Series(CTBubbleSer series, CTAxDataSource category, CTNumDataSource values) {\r\n                super(XDDFDataSourcesFactory.fromDataSource(category), XDDFDataSourcesFactory.fromDataSource(values));\r\n                this.series = series;\r\n            }\r\n            \r\n            public void setBubbleSizes(XDDFNumericalDataSource&lt;?&gt; values) {\r\n                try {\r\n                    if (series.isSetBubbleSize()) series.unsetBubbleSize();\r\n                    CTNumDataSource bubbleSizes = series.addNewBubbleSize();\r\n                    java.lang.reflect.Method retrieveNumCache = XDDFChartData.Series.class.getDeclaredMethod(&quot;retrieveNumCache&quot;, CTNumDataSource.class, XDDFDataSource.class);\r\n                    retrieveNumCache.setAccessible(true);\r\n                    CTNumData cache = (CTNumData)retrieveNumCache.invoke(this, bubbleSizes, values);\r\n                    values.fillNumericalCache(cache);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n            \r\n            @Override\r\n            protected CTSerTx getSeriesText() {\r\n                if (series.isSetTx()) {\r\n                    return series.getTx();\r\n                } else {\r\n                    return series.addNewTx();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void setShowLeaderLines(boolean showLeaderLines) {\r\n                if (!series.isSetDLbls()) {\r\n                    series.addNewDLbls();\r\n                }\r\n                if (series.getDLbls().isSetShowLeaderLines()) {\r\n                    series.getDLbls().getShowLeaderLines().setVal(showLeaderLines);\r\n                } else {\r\n                    series.getDLbls().addNewShowLeaderLines().setVal(showLeaderLines);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public XDDFShapeProperties getShapeProperties() {\r\n                if (series.isSetSpPr()) {\r\n                    return new XDDFShapeProperties(series.getSpPr());\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void setShapeProperties(XDDFShapeProperties properties) {\r\n                if (properties == null) {\r\n                    if (series.isSetSpPr()) {\r\n                        series.unsetSpPr();\r\n                    }\r\n                } else {\r\n                    if (series.isSetSpPr()) {\r\n                        series.setSpPr(properties.getXmlObject());\r\n                    } else {\r\n                        series.addNewSpPr().set(properties.getXmlObject());\r\n                    }\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            protected CTAxDataSource getAxDS() {\r\n                return series.getXVal();\r\n            }\r\n    \r\n            @Override\r\n            protected CTNumDataSource getNumDS() {\r\n                return series.getYVal();\r\n            }\r\n    \r\n            @Override\r\n            protected void setIndex(long val) {\r\n                series.getIdx().setVal(val);\r\n            }\r\n    \r\n            @Override\r\n            protected void setOrder(long val) {\r\n                series.getOrder().setVal(val);\r\n            }\r\n            \r\n            @Override\r\n            protected List&lt;CTDPt&gt; getDPtList() {\r\n                return series.getDPtList();\r\n            }\r\n        }\r\n    }\r\n\r\nHaving that, one can program a bubble chart example taking the other examples as templates:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.DataFormat;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.ss.util.CellReference;\r\n    import org.apache.poi.xddf.usermodel.PresetColor;\r\n    import org.apache.poi.xddf.usermodel.XDDFColor;\r\n    import org.apache.poi.xddf.usermodel.XDDFShapeProperties;\r\n    import org.apache.poi.xddf.usermodel.XDDFSolidFillProperties;\r\n    import org.apache.poi.xddf.usermodel.chart.AxisCrosses;\r\n    import org.apache.poi.xddf.usermodel.chart.AxisPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChart;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFBarChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFLineChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFValueAxis;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFCellStyle;\r\n    \r\n    import java.util.GregorianCalendar;\r\n    \r\n    /**\r\n     * Bubble chart example.\r\n     */\r\n    public final class BubbleChart {\r\n        private BubbleChart() {}\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            \r\n            Object[][] chartData = new Object[][]{\r\n                new Object[]{&quot;&quot;, &quot;Category 1&quot;},    \r\n                new Object[]{&quot;Bubble Size&quot;, &quot;Bubble Date&quot;},    \r\n                new Object[]{1000, new GregorianCalendar(2020, 0, 1)},    \r\n                new Object[]{10, new GregorianCalendar(2020, 0, 1)},    \r\n                new Object[]{300, new GregorianCalendar(2021, 0, 1)},    \r\n                new Object[]{&quot;&quot;, &quot;&quot;},    \r\n                new Object[]{&quot;&quot;, &quot;Category 2&quot;},    \r\n                new Object[]{&quot;Bubble Size&quot;, &quot;Bubble Date&quot;},    \r\n                new Object[]{100, new GregorianCalendar(2018, 0, 1)},    \r\n                new Object[]{100, new GregorianCalendar(2020, 0, 1)}   \r\n            };\r\n            \r\n            try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n                XSSFSheet sheet = wb.createSheet(&quot;bubblechart&quot;);\r\n                DataFormat format = wb.createDataFormat();\r\n                XSSFCellStyle dateStyle = wb.createCellStyle();\r\n                dateStyle.setDataFormat(14);\r\n                \r\n                // put sheet data\r\n                Row row;\r\n                Cell cell;\r\n                int rowIndex = 0;\r\n                int colIndex = 0;\r\n                for (Object[] dataRow : chartData) {\r\n                    row = sheet.createRow((short) rowIndex);\r\n                    colIndex = 0;\r\n                    for (Object value : dataRow) {\r\n                        cell = row.createCell((short) colIndex);\r\n                        if (value instanceof String) cell.setCellValue((String)value);\r\n                        if (value instanceof Number) cell.setCellValue(((Number)value).doubleValue());\r\n                        if (value instanceof GregorianCalendar) {\r\n                            cell.setCellValue((GregorianCalendar)value);\r\n                            cell.setCellStyle(dateStyle);\r\n                        }\r\n                        colIndex++;\r\n                    }\r\n                    rowIndex++;\r\n                }\r\n                \r\n                sheet.autoSizeColumn(0);\r\n                sheet.autoSizeColumn(1);\r\n                \r\n                // create the chart\r\n                \r\n                // chart data sources\r\n                XDDFDataSource&lt;Double&gt; xs1 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(2, 4, 1, 1));\r\n                XDDFNumericalDataSource&lt;Double&gt; ys1 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(2, 4, 0, 0));\r\n                XDDFNumericalDataSource&lt;Double&gt; bSz1 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(2, 4, 0, 0));\r\n                \r\n                XDDFDataSource&lt;Double&gt; xs2 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(8, 9, 1, 1));\r\n                XDDFNumericalDataSource&lt;Double&gt; ys2 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(8, 9, 0, 0));\r\n                XDDFNumericalDataSource&lt;Double&gt; bSz2 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(8, 9, 0, 0));\r\n    \r\n                // chart in drawing\r\n                XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n                XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 3, 0, 15, 20);\r\n                XSSFChart chart = drawing.createChart(anchor);\r\n                chart.setTitleText(&quot;Chart Title&quot;);\r\n                chart.setTitleOverlay(false);\r\n                chart.getFormattedTitle().getParagraph(0).addDefaultRunProperties().setFontSize(20d);\r\n                \r\n                // value axis x\r\n                XDDFValueAxis valAxisX = chart.createValueAxis(AxisPosition.BOTTOM);\r\n                valAxisX.setTitle(&quot;Axis Title&quot;);\r\n    \r\n                // value axis y\r\n                XDDFValueAxis valAxisY = chart.createValueAxis(AxisPosition.LEFT);\r\n                valAxisY.setTitle(&quot;Axis Title&quot;);\r\n     \r\n                // cross axes \r\n                valAxisY.setCrosses(AxisCrosses.AUTO_ZERO);\r\n    \r\n                // chart data\r\n                //XDDFChartData data = chart.createData(ChartTypes.???, valAxisX, valAxisY);\r\n                XDDFBubbleChartData data = new XDDFBubbleChartData(chart, chart.getCTChart().getPlotArea().addNewBubbleChart(), valAxisX, valAxisY);\r\n    \r\n                // series\r\n                XDDFBubbleChartData.Series series1 = (XDDFBubbleChartData.Series)data.addSeries(xs1, ys1);\r\n                series1.setTitle(&quot;Category 1&quot;, new CellReference(sheet.getSheetName(), 0, 1, true, true));\r\n                // set bubble sizes\r\n                series1.setBubbleSizes(bSz1);\r\n                // add data labels\r\n                // pos 8 = INT_R , showVal = true, showLegendKey= false, showCatName = true\r\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTDLbls ctDLbls = setDataLabels(series1, 8, true, false, true); \r\n                \r\n                XDDFBubbleChartData.Series series2 = (XDDFBubbleChartData.Series)data.addSeries(xs2, ys2);\r\n                series2.setTitle(&quot;Category 2&quot;, new CellReference(sheet.getSheetName(), 6, 1, true, true));            \r\n                // set bubble sizes\r\n                series2.setBubbleSizes(bSz2);\r\n                // add data labels\r\n                // pos 8 = INT_R , showVal = true, showLegendKey= false, showCatName = true\r\n                ctDLbls = setDataLabels(series2, 8, true, false, true); \r\n    \r\n                // plot chart\r\n                chart.plot(data);\r\n                \r\n                // legend\r\n                XDDFChartLegend legend = chart.getOrAddLegend();\r\n                legend.setPosition(LegendPosition.RIGHT);\r\n    \r\n                // set series fill color\r\n                solidFillSeries(data, 0, PresetColor.BLUE);\r\n                solidFillSeries(data, 1, PresetColor.RED);\r\n                \r\n                // set rounded corners false\r\n                setRoundedCorners(chart, false);\r\n                \r\n                // Write the output to a file\r\n                try (FileOutputStream fileOut = new FileOutputStream(&quot;./ooxml-bubble-chart.xlsx&quot;)) {\r\n                    wb.write(fileOut);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void solidFillSeries(XDDFChartData data, int index, PresetColor color) {\r\n            XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\r\n            XDDFChartData.Series series = data.getSeries(index);\r\n            XDDFShapeProperties properties = series.getShapeProperties();\r\n            if (properties == null) {\r\n                properties = new XDDFShapeProperties();\r\n            }\r\n            properties.setFillProperties(fill);\r\n            series.setShapeProperties(properties);\r\n        }\r\n        \r\n        private static org.openxmlformats.schemas.drawingml.x2006.chart.CTDLbls setDataLabels(XDDFChartData.Series series, int pos, boolean... show) {\r\n            /*\r\n            INT_BEST_FIT   1\r\n            INT_B          2\r\n            INT_CTR        3\r\n            INT_IN_BASE    4\r\n            INT_IN_END     5\r\n            INT_L          6\r\n            INT_OUT_END    7\r\n            INT_R          8\r\n            INT_T          9                             \r\n            */\r\n            try {\r\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTDLbls ctDLbls = null;\r\n                if (series instanceof XDDFBarChartData.Series) {\r\n                    java.lang.reflect.Field _ctBarSer = XDDFBarChartData.Series.class.getDeclaredField(&quot;series&quot;);\r\n                    _ctBarSer.setAccessible(true);\r\n                    org.openxmlformats.schemas.drawingml.x2006.chart.CTBarSer ctBarSer =\r\n                        (org.openxmlformats.schemas.drawingml.x2006.chart.CTBarSer)_ctBarSer.get((XDDFBarChartData.Series)series);\r\n                    if (ctBarSer.isSetDLbls()) ctBarSer.unsetDLbls();\r\n                    ctDLbls = ctBarSer.addNewDLbls();                                                        \r\n                    if (!(pos == 3 || pos == 4 || pos == 5 || pos == 7)) pos = 3; // bar chart does not provide other pos\r\n                    ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\r\n                } else if (series instanceof XDDFLineChartData.Series) {\r\n                    java.lang.reflect.Field _ctLineSer = XDDFLineChartData.Series.class.getDeclaredField(&quot;series&quot;);\r\n                    _ctLineSer.setAccessible(true);\r\n                    org.openxmlformats.schemas.drawingml.x2006.chart.CTLineSer ctLineSer =\r\n                        (org.openxmlformats.schemas.drawingml.x2006.chart.CTLineSer)_ctLineSer.get((XDDFLineChartData.Series)series);\r\n                    if (ctLineSer.isSetDLbls()) ctLineSer.unsetDLbls();\r\n                    ctDLbls = ctLineSer.addNewDLbls();                                                      \r\n                    if (!(pos == 3 || pos == 6 || pos == 8 || pos == 9 || pos == 2)) pos = 3; // line chart does not provide other pos\r\n                    ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\r\n                } else if (series instanceof XDDFPieChartData.Series) {\r\n                    java.lang.reflect.Field _ctPieSer = XDDFPieChartData.Series.class.getDeclaredField(&quot;series&quot;);\r\n                    _ctPieSer.setAccessible(true);\r\n                    org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer ctPieSer =\r\n                        (org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer)_ctPieSer.get((XDDFPieChartData.Series)series);\r\n                    if (ctPieSer.isSetDLbls()) ctPieSer.unsetDLbls();\r\n                    ctDLbls = ctPieSer.addNewDLbls();                                                      \r\n                    if (!(pos == 3 || pos == 1 || pos == 4 || pos == 5)) pos = 3; // pie chart does not provide other pos\r\n                    ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\r\n                } else if (series instanceof XDDFBubbleChartData.Series) {\r\n                    java.lang.reflect.Field _ctBubbleSer = XDDFBubbleChartData.Series.class.getDeclaredField(&quot;series&quot;);\r\n                    _ctBubbleSer.setAccessible(true);\r\n                    org.openxmlformats.schemas.drawingml.x2006.chart.CTBubbleSer ctBubbleSer =\r\n                        (org.openxmlformats.schemas.drawingml.x2006.chart.CTBubbleSer)_ctBubbleSer.get((XDDFBubbleChartData.Series)series);\r\n                    if (ctBubbleSer.isSetDLbls()) ctBubbleSer.unsetDLbls();\r\n                    ctDLbls = ctBubbleSer.addNewDLbls();                                                      \r\n                    if (!(pos == 3 || pos == 2 || pos == 6 || pos == 8 || pos == 9)) pos = 3; // bubble chart does not provide other pos\r\n                    ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\r\n                }// else if ...                                                          \r\n                                                                   \r\n                if (ctDLbls != null) {\r\n                    ctDLbls.addNewShowVal().setVal((show.length&gt;0)?show[0]:false);\r\n                    ctDLbls.addNewShowLegendKey().setVal((show.length&gt;1)?show[1]:false);\r\n                    ctDLbls.addNewShowCatName().setVal((show.length&gt;2)?show[2]:false);\r\n                    ctDLbls.addNewShowSerName().setVal((show.length&gt;3)?show[3]:false);\r\n                    ctDLbls.addNewShowPercent().setVal((show.length&gt;4)?show[4]:false);\r\n                    ctDLbls.addNewShowBubbleSize().setVal((show.length&gt;5)?show[5]:false);\r\n                    ctDLbls.addNewShowLeaderLines().setVal((show.length&gt;6)?show[6]:false);\r\n                                    \r\n                    return ctDLbls;\r\n                }\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return null;        \r\n        }    \r\n    \r\n        private static void setRoundedCorners(XDDFChart chart, boolean setVal) {\r\n            if (chart.getCTChartSpace().getRoundedCorners() == null) chart.getCTChartSpace().addNewRoundedCorners();\r\n            chart.getCTChartSpace().getRoundedCorners().setVal(setVal);\r\n        }    \r\n    }\r\n\r\nSpecifics for a bubble chart are:\r\n\r\n - All data sources need to be numeric.\r\n - There is an additional data source for bubble sizes needed.\r\n - There is not a category axis and a value axis but one value axis for\r\n   x-values and one value axis for y-values.\r\n\r\nDisclaimer: This code is tested and works using current `apache poi 5.2.2`. I know that the question mentions former version `4.1.1`. But the Apache POI project is very fast in development. That&#39;s why one **always** should use the latest stable version, otherwise the code quickly become out of date.\r\n\r\nThis code needs the full jar of all of the schemas, which is `poi-ooxml-full-5.2.2.jar` for `apache poi 5.2.2`, as mentioned in [FAQ](https://poi.apache.org/help/faq.html#faq-N10025). Note, since `apache poi 5.*` the formerly used `ooxml-schemas-*.jar` cannot be used anymore. There must **not** be any `ooxml-schemas-*.jar` in class path when using `apache poi 5.*`.\r\n\r\n","title":"Apache POI Scatter Bubble Chart","body":"<p>There is no <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html\" rel=\"nofollow noreferrer\">XDDFChartData</a> prepared for a bubble chart up to now. So the first task would be to program a such.</p>\n<p>One could take <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xddf/usermodel/chart/XDDFScatterChartData.java?view=markup\" rel=\"nofollow noreferrer\">XDDFScatterChartData.java</a> as a template.</p>\n<p>But as often, the accessibility guidelines of Apache POI prevent classes from easy being extended. So in some cases using reflection will be necessary.</p>\n<p>A draft for a <code>XDDFBubbleChartData</code> could look like so:</p>\n<pre><code>import org.apache.poi.xddf.usermodel.chart.*;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Collections;\n\nimport org.apache.poi.util.Beta;\nimport org.apache.poi.util.Internal;\nimport org.apache.poi.xddf.usermodel.XDDFShapeProperties;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTDPt;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTAxDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTNumDataSource;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTBubbleChart;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTBubbleSer;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTSerTx;\nimport org.openxmlformats.schemas.drawingml.x2006.chart.CTNumData;;\n\n@Beta\npublic class XDDFBubbleChartData extends XDDFChartData {\n    private CTBubbleChart chart;\n    \n    public XDDFBubbleChartData(\n           XDDFChart parent,\n           CTBubbleChart chart,\n           XDDFChartAxis category, \n           XDDFValueAxis values) {\n        super(parent);\n        this.chart = chart;\n        Map&lt;Long, XDDFChartAxis&gt; categories = null;\n        Map&lt;Long, XDDFValueAxis&gt; mapValues = null;\n        categories = Collections.singletonMap(category.getId(), category);\n        mapValues = Collections.singletonMap(values.getId(), values);\n        for (CTBubbleSer series : chart.getSerList()) {\n            this.series.add(new Series(series, series.getXVal(), series.getYVal()));\n        }\n        defineAxes(categories, mapValues);\n    }\n\n    @Internal\n    protected XDDFBubbleChartData(\n            XDDFChart parent,\n            CTBubbleChart chart,\n            Map&lt;Long, XDDFChartAxis&gt; categories,\n            Map&lt;Long, XDDFValueAxis&gt; values) {\n        super(parent);\n        this.chart = chart;\n        for (CTBubbleSer series : chart.getSerList()) {\n            this.series.add(new Series(series, series.getXVal(), series.getYVal()));\n        }\n        defineAxes(categories, values);\n    }\n\n    private void defineAxes(Map&lt;Long, XDDFChartAxis&gt; categories, Map&lt;Long, XDDFValueAxis&gt; values) {\n        if (chart.sizeOfAxIdArray() == 0) {\n            for (Long id : categories.keySet()) {\n                chart.addNewAxId().setVal(id);\n            }\n            for (Long id : values.keySet()) {\n                chart.addNewAxId().setVal(id);\n            }\n        }\n        defineAxes(chart.getAxIdArray(), categories, values);\n    }\n\n    @Internal\n    @Override\n    protected void removeCTSeries(int n) {\n        chart.removeSer(n);\n    }\n\n    @Override\n    public void setVaryColors(Boolean varyColors) {\n        if (varyColors == null) {\n            if (chart.isSetVaryColors()) {\n                chart.unsetVaryColors();\n            }\n        } else {\n            if (chart.isSetVaryColors()) {\n                chart.getVaryColors().setVal(varyColors);\n            } else {\n                chart.addNewVaryColors().setVal(varyColors);\n            }\n        }\n    }\n\n    @Override\n    public XDDFChartData.Series addSeries(XDDFDataSource&lt;?&gt; category,\n            XDDFNumericalDataSource&lt;? extends Number&gt; values) {\n        //final long index = this.parent.incrementSeriesCount();\n        try {\n            java.lang.reflect.Method incrementSeriesCount = XDDFChart.class.getDeclaredMethod(&quot;incrementSeriesCount&quot;);\n            incrementSeriesCount.setAccessible(true);\n            final long index = (long)incrementSeriesCount.invoke(this.parent);    \n            final CTBubbleSer ctSer = this.chart.addNewSer();\n            ctSer.addNewXVal();\n            ctSer.addNewYVal();\n            ctSer.addNewIdx().setVal(index);\n            ctSer.addNewOrder().setVal(index);\n            final Series added = new Series(ctSer, category, values);\n            this.series.add(added);\n            return added;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n\n    public class Series extends XDDFChartData.Series {\n        private CTBubbleSer series;\n\n        protected Series(CTBubbleSer series, XDDFDataSource&lt;?&gt; category, XDDFNumericalDataSource&lt;?&gt; values) {\n            super(category, values);\n            this.series = series;\n        }\n\n        protected Series(CTBubbleSer series, CTAxDataSource category, CTNumDataSource values) {\n            super(XDDFDataSourcesFactory.fromDataSource(category), XDDFDataSourcesFactory.fromDataSource(values));\n            this.series = series;\n        }\n        \n        public void setBubbleSizes(XDDFNumericalDataSource&lt;?&gt; values) {\n            try {\n                if (series.isSetBubbleSize()) series.unsetBubbleSize();\n                CTNumDataSource bubbleSizes = series.addNewBubbleSize();\n                java.lang.reflect.Method retrieveNumCache = XDDFChartData.Series.class.getDeclaredMethod(&quot;retrieveNumCache&quot;, CTNumDataSource.class, XDDFDataSource.class);\n                retrieveNumCache.setAccessible(true);\n                CTNumData cache = (CTNumData)retrieveNumCache.invoke(this, bubbleSizes, values);\n                values.fillNumericalCache(cache);\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n        \n        @Override\n        protected CTSerTx getSeriesText() {\n            if (series.isSetTx()) {\n                return series.getTx();\n            } else {\n                return series.addNewTx();\n            }\n        }\n\n        @Override\n        public void setShowLeaderLines(boolean showLeaderLines) {\n            if (!series.isSetDLbls()) {\n                series.addNewDLbls();\n            }\n            if (series.getDLbls().isSetShowLeaderLines()) {\n                series.getDLbls().getShowLeaderLines().setVal(showLeaderLines);\n            } else {\n                series.getDLbls().addNewShowLeaderLines().setVal(showLeaderLines);\n            }\n        }\n\n        @Override\n        public XDDFShapeProperties getShapeProperties() {\n            if (series.isSetSpPr()) {\n                return new XDDFShapeProperties(series.getSpPr());\n            } else {\n                return null;\n            }\n        }\n\n        @Override\n        public void setShapeProperties(XDDFShapeProperties properties) {\n            if (properties == null) {\n                if (series.isSetSpPr()) {\n                    series.unsetSpPr();\n                }\n            } else {\n                if (series.isSetSpPr()) {\n                    series.setSpPr(properties.getXmlObject());\n                } else {\n                    series.addNewSpPr().set(properties.getXmlObject());\n                }\n            }\n        }\n\n        @Override\n        protected CTAxDataSource getAxDS() {\n            return series.getXVal();\n        }\n\n        @Override\n        protected CTNumDataSource getNumDS() {\n            return series.getYVal();\n        }\n\n        @Override\n        protected void setIndex(long val) {\n            series.getIdx().setVal(val);\n        }\n\n        @Override\n        protected void setOrder(long val) {\n            series.getOrder().setVal(val);\n        }\n        \n        @Override\n        protected List&lt;CTDPt&gt; getDPtList() {\n            return series.getDPtList();\n        }\n    }\n}\n</code></pre>\n<p>Having that, one can program a bubble chart example taking the other examples as templates:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.DataFormat;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.ss.util.CellReference;\nimport org.apache.poi.xddf.usermodel.PresetColor;\nimport org.apache.poi.xddf.usermodel.XDDFColor;\nimport org.apache.poi.xddf.usermodel.XDDFShapeProperties;\nimport org.apache.poi.xddf.usermodel.XDDFSolidFillProperties;\nimport org.apache.poi.xddf.usermodel.chart.AxisCrosses;\nimport org.apache.poi.xddf.usermodel.chart.AxisPosition;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChart;\nimport org.apache.poi.xddf.usermodel.chart.XDDFBarChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFLineChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFValueAxis;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFCellStyle;\n\nimport java.util.GregorianCalendar;\n\n/**\n * Bubble chart example.\n */\npublic final class BubbleChart {\n    private BubbleChart() {}\n\n    public static void main(String[] args) throws IOException {\n        \n        Object[][] chartData = new Object[][]{\n            new Object[]{&quot;&quot;, &quot;Category 1&quot;},    \n            new Object[]{&quot;Bubble Size&quot;, &quot;Bubble Date&quot;},    \n            new Object[]{1000, new GregorianCalendar(2020, 0, 1)},    \n            new Object[]{10, new GregorianCalendar(2020, 0, 1)},    \n            new Object[]{300, new GregorianCalendar(2021, 0, 1)},    \n            new Object[]{&quot;&quot;, &quot;&quot;},    \n            new Object[]{&quot;&quot;, &quot;Category 2&quot;},    \n            new Object[]{&quot;Bubble Size&quot;, &quot;Bubble Date&quot;},    \n            new Object[]{100, new GregorianCalendar(2018, 0, 1)},    \n            new Object[]{100, new GregorianCalendar(2020, 0, 1)}   \n        };\n        \n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\n            XSSFSheet sheet = wb.createSheet(&quot;bubblechart&quot;);\n            DataFormat format = wb.createDataFormat();\n            XSSFCellStyle dateStyle = wb.createCellStyle();\n            dateStyle.setDataFormat(14);\n            \n            // put sheet data\n            Row row;\n            Cell cell;\n            int rowIndex = 0;\n            int colIndex = 0;\n            for (Object[] dataRow : chartData) {\n                row = sheet.createRow((short) rowIndex);\n                colIndex = 0;\n                for (Object value : dataRow) {\n                    cell = row.createCell((short) colIndex);\n                    if (value instanceof String) cell.setCellValue((String)value);\n                    if (value instanceof Number) cell.setCellValue(((Number)value).doubleValue());\n                    if (value instanceof GregorianCalendar) {\n                        cell.setCellValue((GregorianCalendar)value);\n                        cell.setCellStyle(dateStyle);\n                    }\n                    colIndex++;\n                }\n                rowIndex++;\n            }\n            \n            sheet.autoSizeColumn(0);\n            sheet.autoSizeColumn(1);\n            \n            // create the chart\n            \n            // chart data sources\n            XDDFDataSource&lt;Double&gt; xs1 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(2, 4, 1, 1));\n            XDDFNumericalDataSource&lt;Double&gt; ys1 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(2, 4, 0, 0));\n            XDDFNumericalDataSource&lt;Double&gt; bSz1 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(2, 4, 0, 0));\n            \n            XDDFDataSource&lt;Double&gt; xs2 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(8, 9, 1, 1));\n            XDDFNumericalDataSource&lt;Double&gt; ys2 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(8, 9, 0, 0));\n            XDDFNumericalDataSource&lt;Double&gt; bSz2 = XDDFDataSourcesFactory.fromNumericCellRange(sheet, new CellRangeAddress(8, 9, 0, 0));\n\n            // chart in drawing\n            XSSFDrawing drawing = sheet.createDrawingPatriarch();\n            XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 3, 0, 15, 20);\n            XSSFChart chart = drawing.createChart(anchor);\n            chart.setTitleText(&quot;Chart Title&quot;);\n            chart.setTitleOverlay(false);\n            chart.getFormattedTitle().getParagraph(0).addDefaultRunProperties().setFontSize(20d);\n            \n            // value axis x\n            XDDFValueAxis valAxisX = chart.createValueAxis(AxisPosition.BOTTOM);\n            valAxisX.setTitle(&quot;Axis Title&quot;);\n\n            // value axis y\n            XDDFValueAxis valAxisY = chart.createValueAxis(AxisPosition.LEFT);\n            valAxisY.setTitle(&quot;Axis Title&quot;);\n \n            // cross axes \n            valAxisY.setCrosses(AxisCrosses.AUTO_ZERO);\n\n            // chart data\n            //XDDFChartData data = chart.createData(ChartTypes.???, valAxisX, valAxisY);\n            XDDFBubbleChartData data = new XDDFBubbleChartData(chart, chart.getCTChart().getPlotArea().addNewBubbleChart(), valAxisX, valAxisY);\n\n            // series\n            XDDFBubbleChartData.Series series1 = (XDDFBubbleChartData.Series)data.addSeries(xs1, ys1);\n            series1.setTitle(&quot;Category 1&quot;, new CellReference(sheet.getSheetName(), 0, 1, true, true));\n            // set bubble sizes\n            series1.setBubbleSizes(bSz1);\n            // add data labels\n            // pos 8 = INT_R , showVal = true, showLegendKey= false, showCatName = true\n            org.openxmlformats.schemas.drawingml.x2006.chart.CTDLbls ctDLbls = setDataLabels(series1, 8, true, false, true); \n            \n            XDDFBubbleChartData.Series series2 = (XDDFBubbleChartData.Series)data.addSeries(xs2, ys2);\n            series2.setTitle(&quot;Category 2&quot;, new CellReference(sheet.getSheetName(), 6, 1, true, true));            \n            // set bubble sizes\n            series2.setBubbleSizes(bSz2);\n            // add data labels\n            // pos 8 = INT_R , showVal = true, showLegendKey= false, showCatName = true\n            ctDLbls = setDataLabels(series2, 8, true, false, true); \n\n            // plot chart\n            chart.plot(data);\n            \n            // legend\n            XDDFChartLegend legend = chart.getOrAddLegend();\n            legend.setPosition(LegendPosition.RIGHT);\n\n            // set series fill color\n            solidFillSeries(data, 0, PresetColor.BLUE);\n            solidFillSeries(data, 1, PresetColor.RED);\n            \n            // set rounded corners false\n            setRoundedCorners(chart, false);\n            \n            // Write the output to a file\n            try (FileOutputStream fileOut = new FileOutputStream(&quot;./ooxml-bubble-chart.xlsx&quot;)) {\n                wb.write(fileOut);\n            }\n        }\n    }\n\n    private static void solidFillSeries(XDDFChartData data, int index, PresetColor color) {\n        XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\n        XDDFChartData.Series series = data.getSeries(index);\n        XDDFShapeProperties properties = series.getShapeProperties();\n        if (properties == null) {\n            properties = new XDDFShapeProperties();\n        }\n        properties.setFillProperties(fill);\n        series.setShapeProperties(properties);\n    }\n    \n    private static org.openxmlformats.schemas.drawingml.x2006.chart.CTDLbls setDataLabels(XDDFChartData.Series series, int pos, boolean... show) {\n        /*\n        INT_BEST_FIT   1\n        INT_B          2\n        INT_CTR        3\n        INT_IN_BASE    4\n        INT_IN_END     5\n        INT_L          6\n        INT_OUT_END    7\n        INT_R          8\n        INT_T          9                             \n        */\n        try {\n            org.openxmlformats.schemas.drawingml.x2006.chart.CTDLbls ctDLbls = null;\n            if (series instanceof XDDFBarChartData.Series) {\n                java.lang.reflect.Field _ctBarSer = XDDFBarChartData.Series.class.getDeclaredField(&quot;series&quot;);\n                _ctBarSer.setAccessible(true);\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTBarSer ctBarSer =\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTBarSer)_ctBarSer.get((XDDFBarChartData.Series)series);\n                if (ctBarSer.isSetDLbls()) ctBarSer.unsetDLbls();\n                ctDLbls = ctBarSer.addNewDLbls();                                                        \n                if (!(pos == 3 || pos == 4 || pos == 5 || pos == 7)) pos = 3; // bar chart does not provide other pos\n                ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\n            } else if (series instanceof XDDFLineChartData.Series) {\n                java.lang.reflect.Field _ctLineSer = XDDFLineChartData.Series.class.getDeclaredField(&quot;series&quot;);\n                _ctLineSer.setAccessible(true);\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTLineSer ctLineSer =\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTLineSer)_ctLineSer.get((XDDFLineChartData.Series)series);\n                if (ctLineSer.isSetDLbls()) ctLineSer.unsetDLbls();\n                ctDLbls = ctLineSer.addNewDLbls();                                                      \n                if (!(pos == 3 || pos == 6 || pos == 8 || pos == 9 || pos == 2)) pos = 3; // line chart does not provide other pos\n                ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\n            } else if (series instanceof XDDFPieChartData.Series) {\n                java.lang.reflect.Field _ctPieSer = XDDFPieChartData.Series.class.getDeclaredField(&quot;series&quot;);\n                _ctPieSer.setAccessible(true);\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer ctPieSer =\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTPieSer)_ctPieSer.get((XDDFPieChartData.Series)series);\n                if (ctPieSer.isSetDLbls()) ctPieSer.unsetDLbls();\n                ctDLbls = ctPieSer.addNewDLbls();                                                      \n                if (!(pos == 3 || pos == 1 || pos == 4 || pos == 5)) pos = 3; // pie chart does not provide other pos\n                ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\n            } else if (series instanceof XDDFBubbleChartData.Series) {\n                java.lang.reflect.Field _ctBubbleSer = XDDFBubbleChartData.Series.class.getDeclaredField(&quot;series&quot;);\n                _ctBubbleSer.setAccessible(true);\n                org.openxmlformats.schemas.drawingml.x2006.chart.CTBubbleSer ctBubbleSer =\n                    (org.openxmlformats.schemas.drawingml.x2006.chart.CTBubbleSer)_ctBubbleSer.get((XDDFBubbleChartData.Series)series);\n                if (ctBubbleSer.isSetDLbls()) ctBubbleSer.unsetDLbls();\n                ctDLbls = ctBubbleSer.addNewDLbls();                                                      \n                if (!(pos == 3 || pos == 2 || pos == 6 || pos == 8 || pos == 9)) pos = 3; // bubble chart does not provide other pos\n                ctDLbls.addNewDLblPos().setVal(org.openxmlformats.schemas.drawingml.x2006.chart.STDLblPos.Enum.forInt(pos));\n            }// else if ...                                                          \n                                                               \n            if (ctDLbls != null) {\n                ctDLbls.addNewShowVal().setVal((show.length&gt;0)?show[0]:false);\n                ctDLbls.addNewShowLegendKey().setVal((show.length&gt;1)?show[1]:false);\n                ctDLbls.addNewShowCatName().setVal((show.length&gt;2)?show[2]:false);\n                ctDLbls.addNewShowSerName().setVal((show.length&gt;3)?show[3]:false);\n                ctDLbls.addNewShowPercent().setVal((show.length&gt;4)?show[4]:false);\n                ctDLbls.addNewShowBubbleSize().setVal((show.length&gt;5)?show[5]:false);\n                ctDLbls.addNewShowLeaderLines().setVal((show.length&gt;6)?show[6]:false);\n                                \n                return ctDLbls;\n            }\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;        \n    }    \n\n    private static void setRoundedCorners(XDDFChart chart, boolean setVal) {\n        if (chart.getCTChartSpace().getRoundedCorners() == null) chart.getCTChartSpace().addNewRoundedCorners();\n        chart.getCTChartSpace().getRoundedCorners().setVal(setVal);\n    }    \n}\n</code></pre>\n<p>Specifics for a bubble chart are:</p>\n<ul>\n<li>All data sources need to be numeric.</li>\n<li>There is an additional data source for bubble sizes needed.</li>\n<li>There is not a category axis and a value axis but one value axis for\nx-values and one value axis for y-values.</li>\n</ul>\n<p>Disclaimer: This code is tested and works using current <code>apache poi 5.2.2</code>. I know that the question mentions former version <code>4.1.1</code>. But the Apache POI project is very fast in development. That's why one <strong>always</strong> should use the latest stable version, otherwise the code quickly become out of date.</p>\n<p>This code needs the full jar of all of the schemas, which is <code>poi-ooxml-full-5.2.2.jar</code> for <code>apache poi 5.2.2</code>, as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">FAQ</a>. Note, since <code>apache poi 5.*</code> the formerly used <code>ooxml-schemas-*.jar</code> cannot be used anymore. There must <strong>not</strong> be any <code>ooxml-schemas-*.jar</code> in class path when using <code>apache poi 5.*</code>.</p>\n"}],"owner":{"account_id":5202871,"reputation":89,"user_id":4161723,"accept_rate":43,"display_name":"BabyGluk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659951346,"creation_date":1659863539,"question_id":73266203,"body_markdown":"Currently, I&#39;m trying to figure out two things in Apache POI API (4.1.1):\r\n1) How to create a bubble chart with series data.\r\n2) How to modify bubble chart axes series data in case bubble chart already exists in excel sheet.\r\n\r\nI see a lot of examples of how to create a Scatter chart (x,y), but there is no for Bubble type (x,y,z)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jbnCr.jpg","title":"Apache POI Scatter Bubble Chart","body":"<p>Currently, I'm trying to figure out two things in Apache POI API (4.1.1):</p>\n<ol>\n<li>How to create a bubble chart with series data.</li>\n<li>How to modify bubble chart axes series data in case bubble chart already exists in excel sheet.</li>\n</ol>\n<p>I see a lot of examples of how to create a Scatter chart (x,y), but there is no for Bubble type (x,y,z)</p>\n<p><a href=\"https://i.stack.imgur.com/jbnCr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jbnCr.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","methods","functional-programming","code-duplication"],"answers":[{"tags":[],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659951330,"creation_date":1659951330,"answer_id":73275752,"question_id":73275529,"body_markdown":"Use [Function][1].\r\n\r\n```\r\npublic long byId(List&lt;Long&gt; ids) {\r\n    return general(pageRequest -&gt; repository.findByIdIn(ids, pageRequest));\r\n}\r\n\r\npublic long all() {\r\n    return general(pageRequest -&gt; repository.findAll(pageRequest));\r\n}\r\n\r\npublic long general(Function&lt;Pageable, Page&lt;SomeDAO&gt;&gt; find) {\r\n    Pageable pageRequest = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;id&quot;);\r\n    Page&lt;SomeDAO&gt; currentPage = find.apply(pageRequest);\r\n\r\n    long totalRecords = 0;\r\n    while (!currentPage.isEmpty()) {\r\n        pageRequest = pageRequest.next();\r\n        totalRecords += currentPage.getContent().size();\r\n        // some BL\r\n        currentPage = find.apply(pageRequest);\r\n    }\r\n    return totalRecords;\r\n}\r\n```\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html","title":"How to generalize methods using functional Java","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a>.</p>\n<pre><code>public long byId(List&lt;Long&gt; ids) {\n    return general(pageRequest -&gt; repository.findByIdIn(ids, pageRequest));\n}\n\npublic long all() {\n    return general(pageRequest -&gt; repository.findAll(pageRequest));\n}\n\npublic long general(Function&lt;Pageable, Page&lt;SomeDAO&gt;&gt; find) {\n    Pageable pageRequest = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;id&quot;);\n    Page&lt;SomeDAO&gt; currentPage = find.apply(pageRequest);\n\n    long totalRecords = 0;\n    while (!currentPage.isEmpty()) {\n        pageRequest = pageRequest.next();\n        totalRecords += currentPage.getContent().size();\n        // some BL\n        currentPage = find.apply(pageRequest);\n    }\n    return totalRecords;\n}\n</code></pre>\n"}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73275752,"answer_count":1,"score":0,"last_activity_date":1659951330,"creation_date":1659950439,"question_id":73275529,"body_markdown":"Can we reduce code duplication with these methods with the new java functional paradigm? I tried to pass the function as param. But one has Functional and the other BiFunctional. Unable to make it as from below code {1} &amp; {2} are diff JPA queries with different num of method args. I am honestly new to this and appreciate any help.\r\n\r\n    public long byId(List&lt;Long&gt; ids) {\r\n        Pageable pageRequest = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;id&quot;);\r\n        Page&lt;SomeDAO&gt; currentPage = repository.findByIdIn(ids, pageRequest); // {1}\r\n\r\n        long totalRecords = 0;\r\n        while (!currentPage.isEmpty()) {\r\n            pageRequest = pageRequest.next();\r\n            totalRecords += currentPage.getContent().size();\r\n            // some BL\r\n            currentPage = repository.findByIdIn(ids, pageRequest); // {1}\r\n        }\r\n        return totalRecords;\r\n    }\r\n\r\n    public long all() {\r\n        Pageable pageRequest = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;id&quot;);\r\n        Page&lt;SomeDAO&gt; currentPage = repository.findAll(pageRequest); // {2}\r\n\r\n        long totalRecords = 0;\r\n        while (!currentPage.isEmpty()) {\r\n            pageRequest = pageRequest.next();\r\n            totalRecords += currentPage.getContent().size();\r\n            // some BL\r\n            currentPage = repository.findAll(pageRequest);  // {2}\r\n        }\r\n        return totalRecords;\r\n    }\r\n","title":"How to generalize methods using functional Java","body":"<p>Can we reduce code duplication with these methods with the new java functional paradigm? I tried to pass the function as param. But one has Functional and the other BiFunctional. Unable to make it as from below code {1} &amp; {2} are diff JPA queries with different num of method args. I am honestly new to this and appreciate any help.</p>\n<pre><code>public long byId(List&lt;Long&gt; ids) {\n    Pageable pageRequest = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;id&quot;);\n    Page&lt;SomeDAO&gt; currentPage = repository.findByIdIn(ids, pageRequest); // {1}\n\n    long totalRecords = 0;\n    while (!currentPage.isEmpty()) {\n        pageRequest = pageRequest.next();\n        totalRecords += currentPage.getContent().size();\n        // some BL\n        currentPage = repository.findByIdIn(ids, pageRequest); // {1}\n    }\n    return totalRecords;\n}\n\npublic long all() {\n    Pageable pageRequest = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;id&quot;);\n    Page&lt;SomeDAO&gt; currentPage = repository.findAll(pageRequest); // {2}\n\n    long totalRecords = 0;\n    while (!currentPage.isEmpty()) {\n        pageRequest = pageRequest.next();\n        totalRecords += currentPage.getContent().size();\n        // some BL\n        currentPage = repository.findAll(pageRequest);  // {2}\n    }\n    return totalRecords;\n}\n</code></pre>\n"},{"tags":["java","spring","database","hibernate"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1655202301,"post_id":72615182,"comment_id":128270781,"body_markdown":"Thread.sleep would be more appropriate as it does not hog 100% of core time like while loop","body":"Thread.sleep would be more appropriate as it does not hog 100% of core time like while loop"},{"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"score":0,"creation_date":1655203960,"post_id":72615182,"comment_id":128271335,"body_markdown":"@Antoniossss, I tried using &quot;Thread.sleep(2000)&quot; but I get the same error as without it. Is it possible that the transaction is processed in the current thread? In that case, it makes sense. We pause the thread and pause the processing of the transaction. When the thread continues executing, the transaction is not yet closed.","body":"@Antoniossss, I tried using &quot;Thread.sleep(2000)&quot; but I get the same error as without it. Is it possible that the transaction is processed in the current thread? In that case, it makes sense. We pause the thread and pause the processing of the transaction. When the thread continues executing, the transaction is not yet closed."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1655208569,"post_id":72615182,"comment_id":128273038,"body_markdown":"I didnt say it will fix anything.","body":"I didnt say it will fix anything."}],"answers":[{"tags":[],"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659951212,"creation_date":1659951212,"answer_id":73275717,"question_id":72615182,"body_markdown":"I managed to solve the problem using the suggestion in this comment: https://stackoverflow.com/a/14369708/10871976\r\n\r\nI added an adapter to the delete transaction. On successful deletion in the &quot;afterCompletion&quot; method, I call project saving.","title":"Spring - Save entity after delete return EntityNotFoundException","body":"<p>I managed to solve the problem using the suggestion in this comment: <a href=\"https://stackoverflow.com/a/14369708/10871976\">https://stackoverflow.com/a/14369708/10871976</a></p>\n<p>I added an adapter to the delete transaction. On successful deletion in the &quot;afterCompletion&quot; method, I call project saving.</p>\n"}],"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73275717,"answer_count":1,"score":1,"last_activity_date":1659951212,"creation_date":1655201572,"question_id":72615182,"body_markdown":"I have many tables that belong to the same Project by ID. When I reload a Project with an existing ID, I need to clear all entities from the database.\r\n\r\nController:\r\n\r\n    @CrossOrigin\r\n    @RequestMapping(value = &quot;projects&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; uploadProject(MultipartFile file) {\r\n        JsonDataDto projectDto = converterService.convertToDto(file, JsonDataDto.class);\r\n        \r\n        if(projectRepository.exists(projectDto.getId())) {\r\n            // Delete all project entities from DB\r\n            projectService.delete(projectDto.getId());\r\n        }\r\n\r\n        // Save project to DB\r\n        importService.import(projectDto);\r\n    }\r\n\r\nProject Service (delete):\r\n\r\n    @Service\r\n    @Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.REPEATABLE_READ)\r\n    public class GenericProjectService implements ProjectService {\r\n        // Fields\r\n\r\n        @Override\r\n        public void delete(UUID projectId) {\r\n            entity1Repository.deleteByProjectId(projectId)\r\n            ...\r\n            // Most entities are associated with a project by a foreign key.\r\n            // Some entities are not linked by a foreign key and are removed manually (entity1Repository for example)\r\n            projectRepository.delete(projectId);\r\n        }\r\n    }\r\n\r\nImport Service (save):\r\n\r\n    @Service\r\n    public class GenericImportService implements ImportService {\r\n        // Fields\r\n\r\n        @Override\r\n        @Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.REPEATABLE_READ)\r\n        public void import(JsonDataDto projectDto)  {\r\n            Collection&lt;Entity1&gt; entity1 = projectDto.getEntity1()\r\n                                                    .stream().map(e -&gt; e1Repository.save(e1Mapper.to(e))).collect(...);\r\n\r\n            Map&lt;UUID, Type&gt; types = new HashMap&lt;&gt;();\r\n            Map&lt;UUID, TypeDto&gt; typeDtosById = projectDto.getTypes().stream()\r\n                .collect(Collectors.toMap(TypeDto::getId, Function.identity()));\r\n\r\n            for (UUID typeId : typeDtosById.keySet()) {\r\n                saveType(typeId, typeDtosById, types, ...);\r\n            }\r\n        }\r\n\r\n        private void saveType(...) {\r\n            Type type = new Type();\r\n\r\n            // Set fields and relations\r\n\r\n            // Get exception here\r\n            type = typeRepository.save(type);\r\n            types.put(typeId, type);\r\n        }\r\n    }\r\n\r\nType Class:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;...&quot;, schema = &quot;...&quot;)\r\n    public class Type {\r\n        @Id\r\n        private TypePK typeId;\r\n        /*\r\n            @Data\r\n            @NoArgsConstructor\r\n            @AllArgsConstructor\r\n            @Embeddable\r\n            public class TypePK implements Serializable {\r\n\t            @Type(type = &quot;pg-uuid&quot;)\r\n\t            @Column(name = &quot;id&quot;)\r\n\t            private UUID id;\r\n\r\n\t            @ManyToOne(cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n\t            @JoinColumn(name = &quot;project_id&quot;, insertable = false, updatable = false)\r\n\t            private Project project;\r\n            }\r\n        */\r\n\r\n        // Fields\r\n\r\n        @org.hibernate.annotations.Type(type = &quot;pg-uuid&quot;)\r\n        @Column(name = &quot;parent_id&quot;)\r\n        private UUID parentId;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        @JoinColumns({\r\n            @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;, updatable = false, insertable = false), \r\n            @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;project_id&quot;, updatable = false, insertable = false)})\r\n        private Type parent;\r\n    }\r\n\r\nWhen the project does not exist in database, the save is successful. If I delete project from controller, it will also be successfully deleted from the database.\r\n\r\nIf project exists in database and I try to save it again, I get an error: &quot;Unable to find package.Type with id TypePK(id=7e8281fe-77b8-475d-8ecd-c70522f5a403, project=Project(id=8d109d33-e15e-ca81-5f75-09e00a81a194))&quot;\r\n\r\nThe entities are removed from the database, but the save transaction is rolled back.\r\n\r\nI tried to force close the transaction after delete but it did not help:\r\n\r\n    public void delete(UUID projectId) {\r\n        TransactionStatus ts = TransactionAspectSupport.currentTransactionStatus();\r\n        entity1Repository.deleteByProjectId(projectId)\r\n        ...\r\n        ts.flush();\r\n    }\r\n\r\nThe only way I found is, in fact, a crutch. I just wait a couple of seconds before starting save:\r\n\r\n    if(projectRepository.exists(projectDto.getId())) {\r\n        // Delete all project entities from DB\r\n        projectService.delete(projectDto.getId());\r\n    }\r\n\r\n    // Any timer\r\n    DateTime waitFor = DateTime.now().plusSeconds(2);\r\n    while(DateTime.now().isBefore(waitFor)) { }\r\n\r\n    // Save project to DB\r\n    importService.import(projectDto);","title":"Spring - Save entity after delete return EntityNotFoundException","body":"<p>I have many tables that belong to the same Project by ID. When I reload a Project with an existing ID, I need to clear all entities from the database.</p>\n<p>Controller:</p>\n<pre><code>@CrossOrigin\n@RequestMapping(value = &quot;projects&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;?&gt; uploadProject(MultipartFile file) {\n    JsonDataDto projectDto = converterService.convertToDto(file, JsonDataDto.class);\n    \n    if(projectRepository.exists(projectDto.getId())) {\n        // Delete all project entities from DB\n        projectService.delete(projectDto.getId());\n    }\n\n    // Save project to DB\n    importService.import(projectDto);\n}\n</code></pre>\n<p>Project Service (delete):</p>\n<pre><code>@Service\n@Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.REPEATABLE_READ)\npublic class GenericProjectService implements ProjectService {\n    // Fields\n\n    @Override\n    public void delete(UUID projectId) {\n        entity1Repository.deleteByProjectId(projectId)\n        ...\n        // Most entities are associated with a project by a foreign key.\n        // Some entities are not linked by a foreign key and are removed manually (entity1Repository for example)\n        projectRepository.delete(projectId);\n    }\n}\n</code></pre>\n<p>Import Service (save):</p>\n<pre><code>@Service\npublic class GenericImportService implements ImportService {\n    // Fields\n\n    @Override\n    @Transactional(propagation = Propagation.REQUIRED, isolation = Isolation.REPEATABLE_READ)\n    public void import(JsonDataDto projectDto)  {\n        Collection&lt;Entity1&gt; entity1 = projectDto.getEntity1()\n                                                .stream().map(e -&gt; e1Repository.save(e1Mapper.to(e))).collect(...);\n\n        Map&lt;UUID, Type&gt; types = new HashMap&lt;&gt;();\n        Map&lt;UUID, TypeDto&gt; typeDtosById = projectDto.getTypes().stream()\n            .collect(Collectors.toMap(TypeDto::getId, Function.identity()));\n\n        for (UUID typeId : typeDtosById.keySet()) {\n            saveType(typeId, typeDtosById, types, ...);\n        }\n    }\n\n    private void saveType(...) {\n        Type type = new Type();\n\n        // Set fields and relations\n\n        // Get exception here\n        type = typeRepository.save(type);\n        types.put(typeId, type);\n    }\n}\n</code></pre>\n<p>Type Class:</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;...&quot;, schema = &quot;...&quot;)\npublic class Type {\n    @Id\n    private TypePK typeId;\n    /*\n        @Data\n        @NoArgsConstructor\n        @AllArgsConstructor\n        @Embeddable\n        public class TypePK implements Serializable {\n            @Type(type = &quot;pg-uuid&quot;)\n            @Column(name = &quot;id&quot;)\n            private UUID id;\n\n            @ManyToOne(cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n            @JoinColumn(name = &quot;project_id&quot;, insertable = false, updatable = false)\n            private Project project;\n        }\n    */\n\n    // Fields\n\n    @org.hibernate.annotations.Type(type = &quot;pg-uuid&quot;)\n    @Column(name = &quot;parent_id&quot;)\n    private UUID parentId;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumns({\n        @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;, updatable = false, insertable = false), \n        @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;project_id&quot;, updatable = false, insertable = false)})\n    private Type parent;\n}\n</code></pre>\n<p>When the project does not exist in database, the save is successful. If I delete project from controller, it will also be successfully deleted from the database.</p>\n<p>If project exists in database and I try to save it again, I get an error: &quot;Unable to find package.Type with id TypePK(id=7e8281fe-77b8-475d-8ecd-c70522f5a403, project=Project(id=8d109d33-e15e-ca81-5f75-09e00a81a194))&quot;</p>\n<p>The entities are removed from the database, but the save transaction is rolled back.</p>\n<p>I tried to force close the transaction after delete but it did not help:</p>\n<pre><code>public void delete(UUID projectId) {\n    TransactionStatus ts = TransactionAspectSupport.currentTransactionStatus();\n    entity1Repository.deleteByProjectId(projectId)\n    ...\n    ts.flush();\n}\n</code></pre>\n<p>The only way I found is, in fact, a crutch. I just wait a couple of seconds before starting save:</p>\n<pre><code>if(projectRepository.exists(projectDto.getId())) {\n    // Delete all project entities from DB\n    projectService.delete(projectDto.getId());\n}\n\n// Any timer\nDateTime waitFor = DateTime.now().plusSeconds(2);\nwhile(DateTime.now().isBefore(waitFor)) { }\n\n// Save project to DB\nimportService.import(projectDto);\n</code></pre>\n"},{"tags":["java","android","if-statement"],"answers":[{"tags":[],"owner":{"account_id":3242958,"reputation":6768,"user_id":2735471,"display_name":"Neerajlal K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1484245238,"creation_date":1484244721,"answer_id":41620139,"question_id":41618388,"body_markdown":"You have a lot of repeating code. The only thing that actually changes is the character set from which you generate the password. The first thing you should do is move the repeating code to a method.\r\n\r\n    private void generatePassword(char[] charset) {\r\n        final StringBuilder sb = new StringBuilder();\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; passLength; i++) {\r\n            char c = charset[random.nextInt(charset.length)];\r\n            sb.append(c);\r\n        }\r\n\r\n        final String output = sb.toString();\r\n        passView.setText(output);\r\n    }\r\n\r\nThe next part is to handle the character set generation. For this you can create variables that store the charset for each option like numbers, special characters, upper case, lower case and so on. Then based of the options that are turned on/off to generate the final character set.\r\n\r\n    private char[] generateCharSet() {\r\n        String numbers = &quot;0123456789&quot;;\r\n        String special = &quot;!&#163;$%^&amp;*()&quot;;\r\n        String alphabetsLower = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n        String alphabetsUpper = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\r\n        // Add lower alphabets by default\r\n        StringBuilder finalCharset = new StringBuilder(alphabetsLower);\r\n\r\n        // Add special chars if option is selected\r\n        if (isSpecChecked == 1) {\r\n            finalCharset.append(special);\r\n        }\r\n\r\n        // Add upper case chars if option is selected\r\n        if (isHighCaseChecked == 1) {\r\n            finalCharset.append(alphabetsUpper);\r\n        }\r\n\r\n        // Add numbers if option is selected\r\n        if (isNumbChecked == 1) {\r\n            finalCharset.append(numbers);\r\n        }\r\n\r\n        // build the final character set\r\n        return finalCharset.toString().toCharArray();\r\n    }\r\n\r\nCall these methods inside the `onClick` method. Hope you get the idea.\r\n\r\nHere is the whole java class I mocked with a unit to test the functions. It was written in Netbeans IDE. Good luck :)\r\n\r\n**PasswordGeneratorClass.java**\r\n\r\n    import java.util.Random;\r\n    \r\n    /**\r\n     *\r\n     * @author K Neeraj Lal\r\n     */\r\n    public class PasswordGeneratorClass {\r\n    \r\n        private static final int passLength = 40;\r\n    \r\n        private static int isSpecChecked;\r\n        private static int isHighCaseChecked;\r\n        private static int isNumbChecked;\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // Iterates from 000 to 111\r\n            for (int i = 0; i &lt; 7; i++) {\r\n                unitTest(i);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Used for testing only\r\n         *\r\n         * @param test input\r\n         */\r\n        private static void unitTest(int test) {\r\n            char[] arr = Integer.toBinaryString(test).toCharArray();\r\n    \r\n            // turn on/off the options based\r\n            isSpecChecked = Integer.parseInt(Character.toString(arr.length &gt; 0 ? arr[0] : &#39;0&#39;));\r\n            isHighCaseChecked = Integer.parseInt(Character.toString(arr.length &gt; 1 ? arr[1] : &#39;0&#39;));\r\n            isNumbChecked = Integer.parseInt(Character.toString(arr.length &gt; 2 ? arr[2] : &#39;0&#39;));\r\n    \r\n            char[] charset = generateCharSet();\r\n            generatePassword(charset);\r\n        }\r\n    \r\n        /**\r\n         * Generates character set\r\n         *\r\n         * @return character set\r\n         */\r\n        private static char[] generateCharSet() {\r\n            String numbers = &quot;0123456789&quot;;\r\n            String special = &quot;!&#163;$%^&amp;*()&quot;;\r\n            String alphabetsLower = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n            String alphabetsUpper = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    \r\n            // Add lower alphabets by default\r\n            StringBuilder finalCharset = new StringBuilder(alphabetsLower);\r\n    \r\n            // Add special chars if option is selected\r\n            if (isSpecChecked == 1) {\r\n                finalCharset.append(special);\r\n            }\r\n    \r\n            // Add upper case chars if option is selected\r\n            if (isHighCaseChecked == 1) {\r\n                finalCharset.append(alphabetsUpper);\r\n            }\r\n    \r\n            // Add numbers if option is selected\r\n            if (isNumbChecked == 1) {\r\n                finalCharset.append(numbers);\r\n            }\r\n    \r\n            // build the final character set\r\n            return finalCharset.toString().toCharArray();\r\n        }\r\n    \r\n        /**\r\n         * Generates the password based on character set\r\n         *\r\n         * @param charset the character set to generate the password from\r\n         */\r\n        private static void generatePassword(char[] charset) {\r\n            final StringBuilder sb = new StringBuilder();\r\n            Random random = new Random();\r\n            for (int i = 0; i &lt; passLength; i++) {\r\n                char c = charset[random.nextInt(charset.length)];\r\n                sb.append(c);\r\n            }\r\n    \r\n            final String output = sb.toString();\r\n            // passView.setText(output);\r\n            System.out.println(output);\r\n        }\r\n    }","title":"Settings Page- Settings Combination Results","body":"<p>You have a lot of repeating code. The only thing that actually changes is the character set from which you generate the password. The first thing you should do is move the repeating code to a method.</p>\n\n<pre><code>private void generatePassword(char[] charset) {\n    final StringBuilder sb = new StringBuilder();\n    Random random = new Random();\n    for (int i = 0; i &lt; passLength; i++) {\n        char c = charset[random.nextInt(charset.length)];\n        sb.append(c);\n    }\n\n    final String output = sb.toString();\n    passView.setText(output);\n}\n</code></pre>\n\n<p>The next part is to handle the character set generation. For this you can create variables that store the charset for each option like numbers, special characters, upper case, lower case and so on. Then based of the options that are turned on/off to generate the final character set.</p>\n\n<pre><code>private char[] generateCharSet() {\n    String numbers = \"0123456789\";\n    String special = \"!£$%^&amp;*()\";\n    String alphabetsLower = \"abcdefghijklmnopqrstuvwxyz\";\n    String alphabetsUpper = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n    // Add lower alphabets by default\n    StringBuilder finalCharset = new StringBuilder(alphabetsLower);\n\n    // Add special chars if option is selected\n    if (isSpecChecked == 1) {\n        finalCharset.append(special);\n    }\n\n    // Add upper case chars if option is selected\n    if (isHighCaseChecked == 1) {\n        finalCharset.append(alphabetsUpper);\n    }\n\n    // Add numbers if option is selected\n    if (isNumbChecked == 1) {\n        finalCharset.append(numbers);\n    }\n\n    // build the final character set\n    return finalCharset.toString().toCharArray();\n}\n</code></pre>\n\n<p>Call these methods inside the <code>onClick</code> method. Hope you get the idea.</p>\n\n<p>Here is the whole java class I mocked with a unit to test the functions. It was written in Netbeans IDE. Good luck :)</p>\n\n<p><strong>PasswordGeneratorClass.java</strong></p>\n\n<pre><code>import java.util.Random;\n\n/**\n *\n * @author K Neeraj Lal\n */\npublic class PasswordGeneratorClass {\n\n    private static final int passLength = 40;\n\n    private static int isSpecChecked;\n    private static int isHighCaseChecked;\n    private static int isNumbChecked;\n\n    public static void main(String[] args) {\n\n        // Iterates from 000 to 111\n        for (int i = 0; i &lt; 7; i++) {\n            unitTest(i);\n        }\n    }\n\n    /**\n     * Used for testing only\n     *\n     * @param test input\n     */\n    private static void unitTest(int test) {\n        char[] arr = Integer.toBinaryString(test).toCharArray();\n\n        // turn on/off the options based\n        isSpecChecked = Integer.parseInt(Character.toString(arr.length &gt; 0 ? arr[0] : '0'));\n        isHighCaseChecked = Integer.parseInt(Character.toString(arr.length &gt; 1 ? arr[1] : '0'));\n        isNumbChecked = Integer.parseInt(Character.toString(arr.length &gt; 2 ? arr[2] : '0'));\n\n        char[] charset = generateCharSet();\n        generatePassword(charset);\n    }\n\n    /**\n     * Generates character set\n     *\n     * @return character set\n     */\n    private static char[] generateCharSet() {\n        String numbers = \"0123456789\";\n        String special = \"!£$%^&amp;*()\";\n        String alphabetsLower = \"abcdefghijklmnopqrstuvwxyz\";\n        String alphabetsUpper = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n        // Add lower alphabets by default\n        StringBuilder finalCharset = new StringBuilder(alphabetsLower);\n\n        // Add special chars if option is selected\n        if (isSpecChecked == 1) {\n            finalCharset.append(special);\n        }\n\n        // Add upper case chars if option is selected\n        if (isHighCaseChecked == 1) {\n            finalCharset.append(alphabetsUpper);\n        }\n\n        // Add numbers if option is selected\n        if (isNumbChecked == 1) {\n            finalCharset.append(numbers);\n        }\n\n        // build the final character set\n        return finalCharset.toString().toCharArray();\n    }\n\n    /**\n     * Generates the password based on character set\n     *\n     * @param charset the character set to generate the password from\n     */\n    private static void generatePassword(char[] charset) {\n        final StringBuilder sb = new StringBuilder();\n        Random random = new Random();\n        for (int i = 0; i &lt; passLength; i++) {\n            char c = charset[random.nextInt(charset.length)];\n            sb.append(c);\n        }\n\n        final String output = sb.toString();\n        // passView.setText(output);\n        System.out.println(output);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7414214,"reputation":197,"user_id":5640606,"accept_rate":100,"display_name":"Jack Foulkes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41620139,"answer_count":1,"score":0,"last_activity_date":1659950635,"creation_date":1484238839,"question_id":41618388,"body_markdown":"I have a settings page for an app I am creating to generate passwords. In my option page there are 5 options the user can select.\r\n\r\nI am wondering how I can make my code much simpler than having an `if` for each possible outcome. I started out having 3 options which made it easy, but now there are so many combinations the code is becoming messy and I&#39;m not sure how to go about writing this better.\r\n\r\nThe code below is for three options the user can select:\r\n\r\nMain Activity Java\r\n\r\n      btnGenPass.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (SettingsPage.isSpecChecked ==  1 &amp;&amp; SettingsPage.isHighCaseChecked == 1 &amp;&amp; SettingsPage.isNumbChecked == 1) {\r\n                    char[] chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!&#163;$%^&amp;*()&quot;.toCharArray();\r\n                    final StringBuilder sb = new StringBuilder();\r\n                    Random random = new Random();\r\n                    for (int i = 0; i &lt; SettingsPage.passLength; i++) {\r\n                        char c = chars[random.nextInt(chars.length)];\r\n                        sb.append(c);\r\n                    }\r\n    \r\n                    final String output = sb.toString();\r\n                    passView.setText(output);\r\n    \r\n                }else if (SettingsPage.isSpecChecked == 0 &amp;&amp; SettingsPage.isHighCaseChecked == 1 &amp;&amp; SettingsPage.isNumbChecked == 1) {\r\n                    char[] chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;.toCharArray();\r\n                    final StringBuilder sb = new StringBuilder();\r\n                    Random random = new Random();\r\n                    for (int i = 0; i &lt; SettingsPage.passLength; i++) {\r\n                        char c = chars[random.nextInt(chars.length)];\r\n                        sb.append(c);\r\n                    }\r\n    \r\n                    final String output = sb.toString();\r\n                    passView.setText(output);\r\n    \r\n                }else if (SettingsPage.isSpecChecked == 0 &amp;&amp; SettingsPage.isHighCaseChecked == 0 &amp;&amp; SettingsPage.isNumbChecked == 1) {\r\n                    char[] chars = &quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;.toCharArray();\r\n                    final StringBuilder sb = new StringBuilder();\r\n                    Random random = new Random();\r\n                    for (int i = 0; i &lt; SettingsPage.passLength; i++) {\r\n                        char c = chars[random.nextInt(chars.length)];\r\n                        sb.append(c);\r\n                    }\r\n    \r\n                    final String output = sb.toString();\r\n                    passView.setText(output);\r\n    \r\n                }else if (SettingsPage.isSpecChecked == 0 &amp;&amp; SettingsPage.isHighCaseChecked == 0 &amp;&amp; SettingsPage.isNumbChecked == 0) {\r\n                    char[] chars = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\r\n                    final StringBuilder sb = new StringBuilder();\r\n                    Random random = new Random();\r\n                    for (int i = 0; i &lt; SettingsPage.passLength; i++) {\r\n                        char c = chars[random.nextInt(chars.length)];\r\n                        sb.append(c);\r\n                    }\r\n                    final String output = sb.toString();\r\n                    passView.setText(output);\r\n    \r\n                }else if (SettingsPage.isSpecChecked == 1 &amp;&amp; SettingsPage.isHighCaseChecked == 0 &amp;&amp; SettingsPage.isNumbChecked == 0) {\r\n                    char[] chars = &quot;abcdefghijklmnopqrstuvwxyz!&#163;$%^&amp;*()&quot;.toCharArray();\r\n                    final StringBuilder sb = new StringBuilder();\r\n                    Random random = new Random();\r\n                    for (int i = 0; i &lt; SettingsPage.passLength; i++) {\r\n                        char c = chars[random.nextInt(chars.length)];\r\n                        sb.append(c);\r\n                    }\r\n    \r\n                    final String output = sb.toString();\r\n                    passView.setText(output);\r\n    \r\n                }else if (SettingsPage.isSpecChecked == 1 &amp;&amp; SettingsPage.isHighCaseChecked == 0 &amp;&amp; SettingsPage.isNumbChecked == 1) {\r\n                    char[] chars = &quot;abcdefghijklmnopqrstuvwxyz1234567890!&#163;$%^&amp;*()&quot;.toCharArray();\r\n                    final StringBuilder sb = new StringBuilder();\r\n                    Random random = new Random();\r\n                    for (int i = 0; i &lt; SettingsPage.passLength; i++) {\r\n                        char c = chars[random.nextInt(chars.length)];\r\n                        sb.append(c);\r\n                    }\r\n    \r\n                    final String output = sb.toString();\r\n                    passView.setText(output);\r\n    \r\n                }else if (SettingsPage.isSpecChecked == 0 &amp;&amp; SettingsPage.isHighCaseChecked == 1 &amp;&amp; SettingsPage.isNumbChecked == 0) {\r\n                    char[] chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\r\n                    final StringBuilder sb = new StringBuilder();\r\n                    Random random = new Random();\r\n                    for (int i = 0; i &lt; SettingsPage.passLength; i++) {\r\n                        char c = chars[random.nextInt(chars.length)];\r\n                        sb.append(c);\r\n                    }\r\n    \r\n                    final String output = sb.toString();\r\n                    passView.setText(output);\r\n                }\r\n            }\r\n        });\r\n\r\nAs you can see there are a number of statements with all possible combinations, but now I have added more settings there are lots of combinations with possible results.\r\nI believe there are 32 possible combinations.","title":"Settings Page- Settings Combination Results","body":"<p>I have a settings page for an app I am creating to generate passwords. In my option page there are 5 options the user can select.</p>\n<p>I am wondering how I can make my code much simpler than having an <code>if</code> for each possible outcome. I started out having 3 options which made it easy, but now there are so many combinations the code is becoming messy and I'm not sure how to go about writing this better.</p>\n<p>The code below is for three options the user can select:</p>\n<p>Main Activity Java</p>\n<pre><code>  btnGenPass.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (SettingsPage.isSpecChecked ==  1 &amp;&amp; SettingsPage.isHighCaseChecked == 1 &amp;&amp; SettingsPage.isNumbChecked == 1) {\n                char[] chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!£$%^&amp;*()&quot;.toCharArray();\n                final StringBuilder sb = new StringBuilder();\n                Random random = new Random();\n                for (int i = 0; i &lt; SettingsPage.passLength; i++) {\n                    char c = chars[random.nextInt(chars.length)];\n                    sb.append(c);\n                }\n\n                final String output = sb.toString();\n                passView.setText(output);\n\n            }else if (SettingsPage.isSpecChecked == 0 &amp;&amp; SettingsPage.isHighCaseChecked == 1 &amp;&amp; SettingsPage.isNumbChecked == 1) {\n                char[] chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;.toCharArray();\n                final StringBuilder sb = new StringBuilder();\n                Random random = new Random();\n                for (int i = 0; i &lt; SettingsPage.passLength; i++) {\n                    char c = chars[random.nextInt(chars.length)];\n                    sb.append(c);\n                }\n\n                final String output = sb.toString();\n                passView.setText(output);\n\n            }else if (SettingsPage.isSpecChecked == 0 &amp;&amp; SettingsPage.isHighCaseChecked == 0 &amp;&amp; SettingsPage.isNumbChecked == 1) {\n                char[] chars = &quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;.toCharArray();\n                final StringBuilder sb = new StringBuilder();\n                Random random = new Random();\n                for (int i = 0; i &lt; SettingsPage.passLength; i++) {\n                    char c = chars[random.nextInt(chars.length)];\n                    sb.append(c);\n                }\n\n                final String output = sb.toString();\n                passView.setText(output);\n\n            }else if (SettingsPage.isSpecChecked == 0 &amp;&amp; SettingsPage.isHighCaseChecked == 0 &amp;&amp; SettingsPage.isNumbChecked == 0) {\n                char[] chars = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\n                final StringBuilder sb = new StringBuilder();\n                Random random = new Random();\n                for (int i = 0; i &lt; SettingsPage.passLength; i++) {\n                    char c = chars[random.nextInt(chars.length)];\n                    sb.append(c);\n                }\n                final String output = sb.toString();\n                passView.setText(output);\n\n            }else if (SettingsPage.isSpecChecked == 1 &amp;&amp; SettingsPage.isHighCaseChecked == 0 &amp;&amp; SettingsPage.isNumbChecked == 0) {\n                char[] chars = &quot;abcdefghijklmnopqrstuvwxyz!£$%^&amp;*()&quot;.toCharArray();\n                final StringBuilder sb = new StringBuilder();\n                Random random = new Random();\n                for (int i = 0; i &lt; SettingsPage.passLength; i++) {\n                    char c = chars[random.nextInt(chars.length)];\n                    sb.append(c);\n                }\n\n                final String output = sb.toString();\n                passView.setText(output);\n\n            }else if (SettingsPage.isSpecChecked == 1 &amp;&amp; SettingsPage.isHighCaseChecked == 0 &amp;&amp; SettingsPage.isNumbChecked == 1) {\n                char[] chars = &quot;abcdefghijklmnopqrstuvwxyz1234567890!£$%^&amp;*()&quot;.toCharArray();\n                final StringBuilder sb = new StringBuilder();\n                Random random = new Random();\n                for (int i = 0; i &lt; SettingsPage.passLength; i++) {\n                    char c = chars[random.nextInt(chars.length)];\n                    sb.append(c);\n                }\n\n                final String output = sb.toString();\n                passView.setText(output);\n\n            }else if (SettingsPage.isSpecChecked == 0 &amp;&amp; SettingsPage.isHighCaseChecked == 1 &amp;&amp; SettingsPage.isNumbChecked == 0) {\n                char[] chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\n                final StringBuilder sb = new StringBuilder();\n                Random random = new Random();\n                for (int i = 0; i &lt; SettingsPage.passLength; i++) {\n                    char c = chars[random.nextInt(chars.length)];\n                    sb.append(c);\n                }\n\n                final String output = sb.toString();\n                passView.setText(output);\n            }\n        }\n    });\n</code></pre>\n<p>As you can see there are a number of statements with all possible combinations, but now I have added more settings there are lots of combinations with possible results.\nI believe there are 32 possible combinations.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","lombok"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":1,"creation_date":1659950460,"post_id":73275459,"comment_id":129408280,"body_markdown":"why is your permName final?","body":"why is your permName final?"},{"owner":{"account_id":20617364,"reputation":11,"user_id":15135121,"display_name":"HidenxTT"},"score":0,"creation_date":1659950672,"post_id":73275459,"comment_id":129408342,"body_markdown":"@Icarus because it will make annotation Data of lombok generate contructor for it","body":"@Icarus because it will make annotation Data of lombok generate contructor for it"},{"owner":{"account_id":2616083,"reputation":201,"user_id":2265109,"accept_rate":71,"display_name":"fsch"},"score":0,"creation_date":1659952769,"post_id":73275459,"comment_id":129409064,"body_markdown":"Add a constructor whichs initializes your final variable.","body":"Add a constructor whichs initializes your final variable."}],"owner":{"account_id":20617364,"reputation":11,"user_id":15135121,"display_name":"HidenxTT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1659950525,"answer_count":0,"score":0,"last_activity_date":1659950044,"creation_date":1659950044,"question_id":73275459,"body_markdown":"Here is my DTO\r\n\r\n```\r\n@Data\r\npublic class PermissionAddDto {\r\n    @NotBlank\r\n    private final String permName;\r\n}\r\n```\r\n\r\nWhen I post this request\r\n```\r\n{\r\n    &quot;perm_name&quot;: &quot;account_write&quot;\r\n}\r\n```\r\n\r\nIt return an error :\r\n&gt; JSON parse error: Cannot construct instance of `com.hung.authentication.dtos.PermissionAddDto` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.hung.authentication.dtos.PermissionAddDto` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 2, column: 5]\r\n\r\nAnd I don&#39;t know why it not working . But when I add another property to my DTO , it works.","title":"Trying to use Spring Boot REST to Read Request Body DTO with one property","body":"<p>Here is my DTO</p>\n<pre><code>@Data\npublic class PermissionAddDto {\n    @NotBlank\n    private final String permName;\n}\n</code></pre>\n<p>When I post this request</p>\n<pre><code>{\n    &quot;perm_name&quot;: &quot;account_write&quot;\n}\n</code></pre>\n<p>It return an error :</p>\n<blockquote>\n<p>JSON parse error: Cannot construct instance of <code>com.hung.authentication.dtos.PermissionAddDto</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.hung.authentication.dtos.PermissionAddDto</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 2, column: 5]</p>\n</blockquote>\n<p>And I don't know why it not working . But when I add another property to my DTO , it works.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1440999491,"post_id":32304542,"comment_id":52484974,"body_markdown":"Cut off the part you appended there. If it is random, then you can&#39;t get the old string back.","body":"Cut off the part you appended there. If it is random, then you can&#39;t get the old string back."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440999483,"creation_date":1440999483,"answer_id":32304587,"question_id":32304542,"body_markdown":"Simply mantain a reference to the old String\r\n\r\n    String orig = &quot;ORIG&quot;;\r\n    String anotherOrigReference = orig;\r\n    orig = &quot;CHANGED&quot;;\r\n    System.out.println(orig); // Prints CHANGED\r\n    System.out.println(anotherOrigReference); // PRints ORIG","title":"How can I get old String object value once current object modified","body":"<p>Simply mantain a reference to the old String</p>\n\n<pre><code>String orig = \"ORIG\";\nString anotherOrigReference = orig;\norig = \"CHANGED\";\nSystem.out.println(orig); // Prints CHANGED\nSystem.out.println(anotherOrigReference); // PRints ORIG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5733611,"reputation":11,"user_id":4528437,"display_name":"deepu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441000414,"creation_date":1441000414,"answer_id":32304750,"question_id":32304542,"body_markdown":"String is immutable in java so when you manipulate the string,a new object is created and reference to the previous object is lost.there is no way to recover it.Java provides StringBuffer and StringBuilder to deal with this kind of  situation.important thing to note is no new object is created when you manipulate StringBuilder object.you can use it like this \r\n\r\n    StringBuilder str1 = new StringBuilder(&quot;Dilip&quot;);\r\n    System.out.println(str1.hashCode());\r\n    str1 = str1 + &quot; Singh&quot;;\r\n    System.out.println(str1.hashCode());","title":"How can I get old String object value once current object modified","body":"<p>String is immutable in java so when you manipulate the string,a new object is created and reference to the previous object is lost.there is no way to recover it.Java provides StringBuffer and StringBuilder to deal with this kind of  situation.important thing to note is no new object is created when you manipulate StringBuilder object.you can use it like this </p>\n\n<pre><code>StringBuilder str1 = new StringBuilder(\"Dilip\");\nSystem.out.println(str1.hashCode());\nstr1 = str1 + \" Singh\";\nSystem.out.println(str1.hashCode());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25981988,"reputation":1,"user_id":19695515,"display_name":"Shivaanand ADARI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659947039,"creation_date":1659657732,"answer_id":73243362,"question_id":32304542,"body_markdown":"String is immutable, string reference variable is not. As long as you don’t reassign your reference variable to a new value you can get the initial assigned value(here Java in example).\r\n\r\n Consider the below example: \r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        String sref = &quot;java&quot;;\r\n\r\n        sref.concat(&quot; rules&quot;);\r\n\r\n        // sref still refers to &quot;java&quot;\r\n\r\n        System.out.println(&quot;sref refers to &quot; + sref);\r\n    }\r\n\r\nHere you will get : sref refers to java. ","title":"How can I get old String object value once current object modified","body":"<p>String is immutable, string reference variable is not. As long as you don’t reassign your reference variable to a new value you can get the initial assigned value(here Java in example).</p>\n<p>Consider the below example:</p>\n<pre><code>public static void main(String[] args)\n{\n\n    String sref = &quot;java&quot;;\n\n    sref.concat(&quot; rules&quot;);\n\n    // sref still refers to &quot;java&quot;\n\n    System.out.println(&quot;sref refers to &quot; + sref);\n}\n</code></pre>\n<p>Here you will get : sref refers to java.</p>\n"},{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659949989,"creation_date":1659948923,"answer_id":73275224,"question_id":32304542,"body_markdown":"Is it this simple?\r\nIf you want to keep a value don&#39;t overwrite it. Just introduce new variables for new values you need.\r\n\r\n    public class MutableVsImmutable {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String str1 = new String(&quot;Dilip&quot;);\r\n    \r\n            System.out.println(str1.hashCode());\r\n            String str2 = str1 + &quot; Singh&quot;; //Don&#39;t overwrite str1.\r\n            System.out.println(str2.hashCode());\r\n    \r\n            System.out.println(str1); //str1 is still there and unchanged.  \r\n    \r\n        }\r\n    \r\n    }","title":"How can I get old String object value once current object modified","body":"<p>Is it this simple?\nIf you want to keep a value don't overwrite it. Just introduce new variables for new values you need.</p>\n<pre><code>public class MutableVsImmutable {\n\n    public static void main(String[] args) {\n\n        String str1 = new String(&quot;Dilip&quot;);\n\n        System.out.println(str1.hashCode());\n        String str2 = str1 + &quot; Singh&quot;; //Don't overwrite str1.\n        System.out.println(str2.hashCode());\n\n        System.out.println(str1); //str1 is still there and unchanged.  \n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3401488,"reputation":1,"user_id":2853527,"display_name":"Dilip Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1659949989,"creation_date":1440999234,"question_id":32304542,"body_markdown":"If String is immutable object , whenever we modify a String object it will create another instance i.e. in memory we have two objects currently. How can I get value of first initialized value?\r\n\r\n\r\n    public class MutableVsImmutable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tString str1 = new String(&quot;Dilip&quot;);\r\n    \t\t\t\r\n    \t\tSystem.out.println(str1.hashCode());\r\n    \t\tstr1 = str1 + &quot; Singh&quot;;\r\n    \t\tSystem.out.println(str1.hashCode());\r\n    \t\t\r\n    \t\t**// Here I want to get first initialized value of &quot;str1&quot; i.e. &quot;Dilip&quot;** \r\n    \t\t\t\t\t\t\r\n    \t}\r\n    \r\n    }","title":"How can I get old String object value once current object modified","body":"<p>If String is immutable object , whenever we modify a String object it will create another instance i.e. in memory we have two objects currently. How can I get value of first initialized value?</p>\n\n<pre><code>public class MutableVsImmutable {\n\n    public static void main(String[] args) {\n\n        String str1 = new String(\"Dilip\");\n\n        System.out.println(str1.hashCode());\n        str1 = str1 + \" Singh\";\n        System.out.println(str1.hashCode());\n\n        **// Here I want to get first initialized value of \"str1\" i.e. \"Dilip\"** \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","spring","list","spring-boot"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":1,"creation_date":1659947557,"post_id":73274845,"comment_id":129407247,"body_markdown":"what&#39;s going on here? `Factura factura = modelMapper.map(facturaDTO, Factura.class);` Is there a db query inside which gets the existing factura by id from dto?","body":"what&#39;s going on here? <code>Factura factura = modelMapper.map(facturaDTO, Factura.class);</code> Is there a db query inside which gets the existing factura by id from dto?"},{"owner":{"account_id":24896426,"reputation":41,"user_id":18767624,"display_name":"Nacho"},"score":0,"creation_date":1659948553,"post_id":73274845,"comment_id":129407562,"body_markdown":"No Marc, ModelMapper is what I am using to map the entities and DTOS","body":"No Marc, ModelMapper is what I am using to map the entities and DTOS"},{"owner":{"account_id":24896426,"reputation":41,"user_id":18767624,"display_name":"Nacho"},"score":0,"creation_date":1659948625,"post_id":73274845,"comment_id":129407581,"body_markdown":"Thanks for your help! How could I obtain the existing factura by id from dto?","body":"Thanks for your help! How could I obtain the existing factura by id from dto?"}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659949946,"creation_date":1659949946,"answer_id":73275442,"question_id":73274845,"body_markdown":"try like this (lines omitted due to readability, e.g. checks)\r\n\r\n\r\n\r\n    @Autowired\r\n    private FacturaRepository facturaRepository;\r\n\r\n    @Autowired\r\n    private FacturaDetallesRepository facturaDetallesRepository;\r\n\r\n\r\n    public Factura createFactura(...) {\r\n\r\n        // get factura from db (by id from dto)\r\n        Factura factura = facturaRepository.findByIdFactura(facura.getIdFactura())\r\n\r\n        // get facturaDetalles from db (by id from dto)\r\n        FacturaDetalles facturaDetalles = facturaDetallesRepository.findByIdFacturaDetalles(...)\r\n\r\n        // link entites, for each detalles object!\r\n        facturaDetalles.setFactura(factura)\r\n\r\n        // add to list, but check if already in list first\r\n        factura.getFacturaDetalles().add(facturaDetalles)\r\n\r\n        facturaRepository.save(factura);\r\n    }\r\n\r\n","title":"How can I receive the data of my List sent through a method POST in Java?","body":"<p>try like this (lines omitted due to readability, e.g. checks)</p>\n<pre><code>@Autowired\nprivate FacturaRepository facturaRepository;\n\n@Autowired\nprivate FacturaDetallesRepository facturaDetallesRepository;\n\n\npublic Factura createFactura(...) {\n\n    // get factura from db (by id from dto)\n    Factura factura = facturaRepository.findByIdFactura(facura.getIdFactura())\n\n    // get facturaDetalles from db (by id from dto)\n    FacturaDetalles facturaDetalles = facturaDetallesRepository.findByIdFacturaDetalles(...)\n\n    // link entites, for each detalles object!\n    facturaDetalles.setFactura(factura)\n\n    // add to list, but check if already in list first\n    factura.getFacturaDetalles().add(facturaDetalles)\n\n    facturaRepository.save(factura);\n}\n</code></pre>\n"}],"owner":{"account_id":24896426,"reputation":41,"user_id":18767624,"display_name":"Nacho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659949946,"creation_date":1659946905,"question_id":73274845,"body_markdown":"  I am making a REST api in Java with Spring boot JPA Hibernate and with H2 database, I am trying to do a POST to &quot;api/facturas&quot; which is the RequestMapping of FacturaController, in which I want to add data to the FacturaDetalles List, but It returns an empty array, as if the data had never been sent, what am I doing wrong here? \r\n\r\n**I am trying to make a POST to &quot;*/api/facturas*&quot; like this:**\r\n\r\n    {\r\n         &quot;cliente&quot;: {\r\n             &quot;idCliente&quot;: 1\r\n         },\r\n         &quot;facturaDetalles&quot;: [\r\n             {\r\n                 &quot;producto&quot;: {\r\n                     &quot;idProducto&quot;: 3\r\n                 }\r\n             }\r\n         ]\r\n    }\r\n\r\n**This is what it should return:**\r\n \r\n\r\n    {\r\n            &quot;cliente&quot;: {\r\n                &quot;idCliente&quot;: 1,\r\n                &quot;nombreCliente&quot;: &quot;Juan&quot;,\r\n                &quot;apellidoCliente&quot;: &quot;Rufiol&quot;,\r\n                &quot;dni&quot;: 35884121,\r\n                &quot;direccionCliente&quot;: &quot;Av. Siempre Viva 300&quot;,\r\n                &quot;telefonoCliente&quot;: 353654128,\r\n                &quot;emailCliente&quot;: &quot;juancito@gmail.com&quot;,\r\n                &quot;cuit&quot;: 5412456985510,\r\n                &quot;ciudad&quot;: &quot;Capital Federal&quot;,\r\n                &quot;provincia&quot;: &quot;Buenos Aires&quot;,\r\n                &quot;pais&quot;: &quot;Argentina&quot;,\r\n                &quot;codigoPostal&quot;: 1426,\r\n                &quot;fechaNacimiento&quot;: &quot;10-10-1980&quot;\r\n            },\r\n            &quot;facturaDetalles&quot;: [\r\n                {\r\n                    &quot;idFacturaDetalles&quot;: 1,\r\n                    &quot;producto&quot;: {\r\n                        &quot;idProducto&quot;: 3,\r\n                        &quot;nombreProducto&quot;: &quot;Pollo frito&quot;,\r\n                        &quot;precioProducto&quot;: 40,\r\n                        &quot;descripcion&quot;: &quot;Una delicia king chicken&quot;,\r\n                        &quot;stock&quot;: 3\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n\r\n**This is what i get:**\r\n \r\n\r\n    {\r\n            &quot;cliente&quot;: {\r\n                &quot;idCliente&quot;: 1,\r\n                &quot;nombreCliente&quot;: &quot;Juan&quot;,\r\n                &quot;apellidoCliente&quot;: &quot;Rufiol&quot;,\r\n                &quot;dni&quot;: 35884121,\r\n                &quot;direccionCliente&quot;: &quot;Av. Siempre Viva 300&quot;,\r\n                &quot;telefonoCliente&quot;: 353654128,\r\n                &quot;emailCliente&quot;: &quot;juancito@gmail.com&quot;,\r\n                &quot;cuit&quot;: 5412456985510,\r\n                &quot;ciudad&quot;: &quot;Capital Federal&quot;,\r\n                &quot;provincia&quot;: &quot;Buenos Aires&quot;,\r\n                &quot;pais&quot;: &quot;Argentina&quot;,\r\n                &quot;codigoPostal&quot;: 1426,\r\n                &quot;fechaNacimiento&quot;: &quot;10-10-1980&quot;\r\n            },\r\n            &quot;facturaDetalles&quot;: []\r\n        }\r\n\r\n[data.sql]\r\n\r\n    INSERT INTO clientes (nombre,apellido,dni,direccion,telefono,email,cuit,ciudad,provincia,pais,codigo_postal, fecha_nacimiento ) VALUES (&#39;Juan&#39;,&#39;Rufiol&#39;,&#39;35884121&#39;,&#39;Av. Siempre Viva 300&#39;,&#39;353654128&#39;,&#39;juancito@gmail.com&#39;,&#39;5412456985510&#39;,&#39;Capital Federal&#39;,&#39;Buenos Aires&#39;, &#39;Argentina&#39;,1426,&#39;10-10-1980&#39;  );\r\n    INSERT INTO clientes (nombre,apellido,dni,direccion,telefono,email,cuit,ciudad,provincia,pais,codigo_postal, fecha_nacimiento ) VALUES (&#39;Rolo&#39;,&#39;Garcia&#39;,&#39;41882121&#39;,&#39;Mariano Moreno 44&#39;,&#39;353614128&#39;,&#39;rolaso@rol.com&#39;,&#39;51134569854113&#39;,&#39;Capital Federal&#39;,&#39;Buenos Aires&#39;, &#39;Argentina&#39;,1426,&#39;01-03-1989&#39; );\r\n    \r\n    INSERT INTO facturas (nro_factura,tipo_factura,precio_total_factura,id_cliente) VALUES (4444,&#39;A&#39;,2000,1);\r\n    INSERT INTO facturas (nro_factura,tipo_factura,precio_total_factura,id_cliente ) VALUES (4444,&#39;A&#39;,2000,1);\r\n    \r\n    INSERT INTO facturas_detalles (cantidad,subtotal,id_facturas ,id_producto) VALUES (1,1,1,3);\r\n    INSERT INTO facturas_detalles (cantidad,subtotal,id_facturas ,id_producto) VALUES (1,1,1,2);\r\n\r\n[Factura]\r\n    \r\n    @Entity\r\n    @Table(name = &quot;facturas&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Factura {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long idFactura;\r\n    \r\n        @Column(name = &quot;nro_factura&quot;)\r\n        private Integer nroFactura;\r\n    \r\n        @Column(name = &quot;tipo_factura&quot;)\r\n        private String tipoFactura;\r\n    \r\n        @Column(name = &quot;fecha&quot;, columnDefinition = &quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;)\r\n        private String fechaFactura;\r\n    \r\n    \r\n        @Column(name = &quot;precio_total_factura&quot;)\r\n        private Integer precioTotalFactura;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;id_cliente&quot;)\r\n        private Cliente cliente;\r\n    \r\n    \r\n        @JsonManagedReference\r\n        @OneToMany(mappedBy = &quot;factura&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        private List&lt;FacturaDetalles&gt; facturaDetalles = new ArrayList&lt;&gt;();\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;id_empresa&quot;)\r\n        private Empresa empresa;\r\n    \r\n    \r\n    }\r\n\r\n[FacturaDTO]\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class FacturaDTO {\r\n        \r\n        private ClienteDTO cliente;\r\n        private List&lt;FacturaDetallesDTO&gt; facturaDetalles;\r\n    }\r\n\r\n[FacturaServiceImp]\r\n \r\n\r\n\r\n    @Service\r\n    public class FacturaServiceImp implements FacturaService {\r\n    \r\n        @Autowired\r\n        private FacturaRepository facturaRepository;\r\n    \r\n    \r\n        public List&lt;Factura&gt; getAllFacturas() {\r\n            return facturaRepository.findAll();\r\n    \r\n        }\r\n    \r\n        public Factura getOneFactura(Long id) {\r\n            return facturaRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Factura no encontrado&quot;));\r\n        }\r\n    \r\n    \r\n        public Factura createFactura(Factura factura) {\r\n            return facturaRepository.save(factura);\r\n        }\r\n    \r\n    \r\n        public void deleteFactura(Long id) {\r\n            facturaRepository.deleteById(id);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n[FacturaService]\r\n   \r\n\r\n     public interface FacturaService {\r\n    \r\n        List&lt;Factura&gt; getAllFacturas();\r\n    \r\n        Factura getOneFactura(Long id);\r\n    \r\n        Factura createFactura(Factura factura);\r\n    \r\n        void deleteFactura(Long id);\r\n    \r\n    \r\n    }\r\n\r\n[FacturaController]\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/facturas&quot;)\r\n    public class FacturaController {\r\n    \r\n        @Autowired\r\n        ModelMapper modelMapper;\r\n    \r\n        @Autowired\r\n        FacturaService facturaService;\r\n    \r\n    \r\n        @GetMapping()\r\n        public List&lt;FacturaDTO&gt; getAllFacturas() {\r\n            return facturaService.getAllFacturas().stream().map(factura -&gt; modelMapper.map(factura, FacturaDTO.class)).collect(Collectors.toList());\r\n    \r\n        }\r\n     \r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;FacturaDTO&gt; getOneFactura(@PathVariable Long id) {\r\n            Factura factura = facturaService.getOneFactura(id);\r\n            FacturaDTO facturaDTO = modelMapper.map(factura, FacturaDTO.class);\r\n            return ResponseEntity.ok().body(facturaDTO);\r\n    \r\n        }\r\n    \r\n        @PostMapping()\r\n        public ResponseEntity&lt;FacturaDTO&gt; createFactura(@RequestBody FacturaDTO facturaDTO) {\r\n            Factura factura = modelMapper.map(facturaDTO, Factura.class);\r\n            Factura facturaCreacion = facturaService.createFactura(factura);\r\n            FacturaDTO conversion = modelMapper.map(facturaCreacion, FacturaDTO.class);\r\n            return new ResponseEntity&lt;FacturaDTO&gt;(conversion, HttpStatus.CREATED);\r\n    \r\n        }\r\n    \r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;FacturaDTO&gt; deleteFactura(@PathVariable Long id) {\r\n            Factura factura = facturaService.getOneFactura(id);\r\n            facturaService.deleteFactura(id);\r\n            FacturaDTO facturaDTO = modelMapper.map(factura, FacturaDTO.class);\r\n            return ResponseEntity.ok().body(facturaDTO);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n[FacturaDetalles]\r\n    \r\n    @Entity(name = &quot;facturas_detalles&quot;)\r\n    @Table(name = &quot;facturas_detalles&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class FacturaDetalles {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long idFacturaDetalles;\r\n    \r\n        @Column(name = &quot;cantidad&quot;)\r\n        private Integer cantidadProductos;\r\n    \r\n        @Column(name = &quot;subtotal&quot;)\r\n        private Integer totalParcial;\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;id_facturas&quot;)\r\n        private Factura factura;\r\n    \r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;id_producto&quot;)\r\n        private Producto producto;\r\n    }\r\n\r\n[FacturaDetallesDTO]\r\n     \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class FacturaDetallesDTO {\r\n    \r\n        private Long idFacturaDetalles;\r\n        private ProductoDTO producto;\r\n    \r\n    }\r\n\r\n[FacturaDetallesServiceImp]\r\n    \r\n    @Service\r\n    public class FacturaDetallesServiceImp implements FacturaDetallesService {\r\n    \r\n        @Autowired\r\n        private FacturaDetallesRepository facturaDetallesRepository;\r\n    \r\n    \r\n        public List&lt;FacturaDetalles&gt; getAllFacturaDetalles() {\r\n            return facturaDetallesRepository.findAll();\r\n        }\r\n    \r\n        public FacturaDetalles getOneFacturaDetalles(Long id) {\r\n            return facturaDetallesRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Factura no encontrado&quot;));\r\n        }\r\n    \r\n        public FacturaDetalles createFacturaDetalles(FacturaDetalles facturaDetalles) {\r\n            return facturaDetallesRepository.save(facturaDetalles);\r\n         }\r\n    \r\n        public void deleteFacturaDetalles(Long id) {\r\n            facturaDetallesRepository.deleteById(id);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n[FacturaDetallesService]\r\n    \r\n    public interface FacturaDetallesService {\r\n        \r\n        List&lt;FacturaDetalles&gt; getAllFacturaDetalles();\r\n        FacturaDetalles getOneFacturaDetalles(Long id);\r\n        void deleteFacturaDetalles(Long id);\r\n        FacturaDetalles createFacturaDetalles(FacturaDetalles facturaDetalles);\r\n    \r\n    }\r\n\r\n[FacturaDetallesController]\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/detalles&quot;)\r\n    public class FacturaDetallesController {\r\n    \r\n        @Autowired\r\n        ModelMapper modelMapper;\r\n    \r\n        @Autowired\r\n          FacturaDetallesService facturaDetallesService;\r\n    \r\n    \r\n        @GetMapping()\r\n        public List&lt;FacturaDetallesDTO&gt; getAllFacturaDetalles() {\r\n            return facturaDetallesService.getAllFacturaDetalles().stream().map(facturaDetalles -&gt; modelMapper.map(facturaDetalles, FacturaDetallesDTO.class)).collect(Collectors.toList());\r\n    \r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;FacturaDetallesDTO&gt; getOneFacturaDetalles(@PathVariable Long id) {\r\n            FacturaDetalles facturaDetalles = facturaDetallesService.getOneFacturaDetalles(id);\r\n            FacturaDetallesDTO detallesDTO = modelMapper.map(facturaDetalles, FacturaDetallesDTO.class);\r\n            return ResponseEntity.ok().body(detallesDTO);\r\n        }\r\n    \r\n        @PostMapping()\r\n        public ResponseEntity&lt;FacturaDetallesDTO&gt; createFacturaDetalles(@RequestBody FacturaDetallesDTO facturaDetallesDTO) {\r\n               FacturaDetalles facturaDetalles = modelMapper.map(facturaDetallesDTO, FacturaDetalles.class);\r\n                FacturaDetalles facturaDetallesCreacion = facturaDetallesService.createFacturaDetalles(facturaDetalles);\r\n                FacturaDetallesDTO conversion = modelMapper.map(facturaDetallesCreacion, FacturaDetallesDTO.class);\r\n                return new ResponseEntity&lt;FacturaDetallesDTO&gt;(conversion, HttpStatus.CREATED);\r\n        }\r\n    \r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;FacturaDetallesDTO&gt; deleteFacturaDetalles(@PathVariable Long id){\r\n            FacturaDetalles facturaDetalles = facturaDetallesService.getOneFacturaDetalles(id);\r\n            facturaDetallesService.deleteFacturaDetalles(id);\r\n            FacturaDetallesDTO detallesDTO = modelMapper.map(facturaDetalles, FacturaDetallesDTO.class);\r\n            return ResponseEntity.ok().body(detallesDTO);\r\n        }\r\n    \r\n    \r\n    }","title":"How can I receive the data of my List sent through a method POST in Java?","body":"<p>I am making a REST api in Java with Spring boot JPA Hibernate and with H2 database, I am trying to do a POST to &quot;api/facturas&quot; which is the RequestMapping of FacturaController, in which I want to add data to the FacturaDetalles List, but It returns an empty array, as if the data had never been sent, what am I doing wrong here?</p>\n<p><strong>I am trying to make a POST to &quot;<em>/api/facturas</em>&quot; like this:</strong></p>\n<pre><code>{\n     &quot;cliente&quot;: {\n         &quot;idCliente&quot;: 1\n     },\n     &quot;facturaDetalles&quot;: [\n         {\n             &quot;producto&quot;: {\n                 &quot;idProducto&quot;: 3\n             }\n         }\n     ]\n}\n</code></pre>\n<p><strong>This is what it should return:</strong></p>\n<pre><code>{\n        &quot;cliente&quot;: {\n            &quot;idCliente&quot;: 1,\n            &quot;nombreCliente&quot;: &quot;Juan&quot;,\n            &quot;apellidoCliente&quot;: &quot;Rufiol&quot;,\n            &quot;dni&quot;: 35884121,\n            &quot;direccionCliente&quot;: &quot;Av. Siempre Viva 300&quot;,\n            &quot;telefonoCliente&quot;: 353654128,\n            &quot;emailCliente&quot;: &quot;juancito@gmail.com&quot;,\n            &quot;cuit&quot;: 5412456985510,\n            &quot;ciudad&quot;: &quot;Capital Federal&quot;,\n            &quot;provincia&quot;: &quot;Buenos Aires&quot;,\n            &quot;pais&quot;: &quot;Argentina&quot;,\n            &quot;codigoPostal&quot;: 1426,\n            &quot;fechaNacimiento&quot;: &quot;10-10-1980&quot;\n        },\n        &quot;facturaDetalles&quot;: [\n            {\n                &quot;idFacturaDetalles&quot;: 1,\n                &quot;producto&quot;: {\n                    &quot;idProducto&quot;: 3,\n                    &quot;nombreProducto&quot;: &quot;Pollo frito&quot;,\n                    &quot;precioProducto&quot;: 40,\n                    &quot;descripcion&quot;: &quot;Una delicia king chicken&quot;,\n                    &quot;stock&quot;: 3\n                }\n            }\n        ]\n    }\n</code></pre>\n<p><strong>This is what i get:</strong></p>\n<pre><code>{\n        &quot;cliente&quot;: {\n            &quot;idCliente&quot;: 1,\n            &quot;nombreCliente&quot;: &quot;Juan&quot;,\n            &quot;apellidoCliente&quot;: &quot;Rufiol&quot;,\n            &quot;dni&quot;: 35884121,\n            &quot;direccionCliente&quot;: &quot;Av. Siempre Viva 300&quot;,\n            &quot;telefonoCliente&quot;: 353654128,\n            &quot;emailCliente&quot;: &quot;juancito@gmail.com&quot;,\n            &quot;cuit&quot;: 5412456985510,\n            &quot;ciudad&quot;: &quot;Capital Federal&quot;,\n            &quot;provincia&quot;: &quot;Buenos Aires&quot;,\n            &quot;pais&quot;: &quot;Argentina&quot;,\n            &quot;codigoPostal&quot;: 1426,\n            &quot;fechaNacimiento&quot;: &quot;10-10-1980&quot;\n        },\n        &quot;facturaDetalles&quot;: []\n    }\n</code></pre>\n<p>[data.sql]</p>\n<pre><code>INSERT INTO clientes (nombre,apellido,dni,direccion,telefono,email,cuit,ciudad,provincia,pais,codigo_postal, fecha_nacimiento ) VALUES ('Juan','Rufiol','35884121','Av. Siempre Viva 300','353654128','juancito@gmail.com','5412456985510','Capital Federal','Buenos Aires', 'Argentina',1426,'10-10-1980'  );\nINSERT INTO clientes (nombre,apellido,dni,direccion,telefono,email,cuit,ciudad,provincia,pais,codigo_postal, fecha_nacimiento ) VALUES ('Rolo','Garcia','41882121','Mariano Moreno 44','353614128','rolaso@rol.com','51134569854113','Capital Federal','Buenos Aires', 'Argentina',1426,'01-03-1989' );\n\nINSERT INTO facturas (nro_factura,tipo_factura,precio_total_factura,id_cliente) VALUES (4444,'A',2000,1);\nINSERT INTO facturas (nro_factura,tipo_factura,precio_total_factura,id_cliente ) VALUES (4444,'A',2000,1);\n\nINSERT INTO facturas_detalles (cantidad,subtotal,id_facturas ,id_producto) VALUES (1,1,1,3);\nINSERT INTO facturas_detalles (cantidad,subtotal,id_facturas ,id_producto) VALUES (1,1,1,2);\n</code></pre>\n<p>[Factura]</p>\n<pre><code>@Entity\n@Table(name = &quot;facturas&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Factura {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long idFactura;\n\n    @Column(name = &quot;nro_factura&quot;)\n    private Integer nroFactura;\n\n    @Column(name = &quot;tipo_factura&quot;)\n    private String tipoFactura;\n\n    @Column(name = &quot;fecha&quot;, columnDefinition = &quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;)\n    private String fechaFactura;\n\n\n    @Column(name = &quot;precio_total_factura&quot;)\n    private Integer precioTotalFactura;\n\n    @OneToOne\n    @JoinColumn(name = &quot;id_cliente&quot;)\n    private Cliente cliente;\n\n\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;factura&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private List&lt;FacturaDetalles&gt; facturaDetalles = new ArrayList&lt;&gt;();\n\n    @OneToOne\n    @JoinColumn(name = &quot;id_empresa&quot;)\n    private Empresa empresa;\n\n\n}\n</code></pre>\n<p>[FacturaDTO]</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class FacturaDTO {\n    \n    private ClienteDTO cliente;\n    private List&lt;FacturaDetallesDTO&gt; facturaDetalles;\n}\n</code></pre>\n<p>[FacturaServiceImp]</p>\n<pre><code>@Service\npublic class FacturaServiceImp implements FacturaService {\n\n    @Autowired\n    private FacturaRepository facturaRepository;\n\n\n    public List&lt;Factura&gt; getAllFacturas() {\n        return facturaRepository.findAll();\n\n    }\n\n    public Factura getOneFactura(Long id) {\n        return facturaRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Factura no encontrado&quot;));\n    }\n\n\n    public Factura createFactura(Factura factura) {\n        return facturaRepository.save(factura);\n    }\n\n\n    public void deleteFactura(Long id) {\n        facturaRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<p>[FacturaService]</p>\n<pre><code> public interface FacturaService {\n\n    List&lt;Factura&gt; getAllFacturas();\n\n    Factura getOneFactura(Long id);\n\n    Factura createFactura(Factura factura);\n\n    void deleteFactura(Long id);\n\n\n}\n</code></pre>\n<p>[FacturaController]</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/facturas&quot;)\npublic class FacturaController {\n\n    @Autowired\n    ModelMapper modelMapper;\n\n    @Autowired\n    FacturaService facturaService;\n\n\n    @GetMapping()\n    public List&lt;FacturaDTO&gt; getAllFacturas() {\n        return facturaService.getAllFacturas().stream().map(factura -&gt; modelMapper.map(factura, FacturaDTO.class)).collect(Collectors.toList());\n\n    }\n \n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;FacturaDTO&gt; getOneFactura(@PathVariable Long id) {\n        Factura factura = facturaService.getOneFactura(id);\n        FacturaDTO facturaDTO = modelMapper.map(factura, FacturaDTO.class);\n        return ResponseEntity.ok().body(facturaDTO);\n\n    }\n\n    @PostMapping()\n    public ResponseEntity&lt;FacturaDTO&gt; createFactura(@RequestBody FacturaDTO facturaDTO) {\n        Factura factura = modelMapper.map(facturaDTO, Factura.class);\n        Factura facturaCreacion = facturaService.createFactura(factura);\n        FacturaDTO conversion = modelMapper.map(facturaCreacion, FacturaDTO.class);\n        return new ResponseEntity&lt;FacturaDTO&gt;(conversion, HttpStatus.CREATED);\n\n    }\n\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;FacturaDTO&gt; deleteFactura(@PathVariable Long id) {\n        Factura factura = facturaService.getOneFactura(id);\n        facturaService.deleteFactura(id);\n        FacturaDTO facturaDTO = modelMapper.map(factura, FacturaDTO.class);\n        return ResponseEntity.ok().body(facturaDTO);\n    }\n\n\n}\n</code></pre>\n<p>[FacturaDetalles]</p>\n<pre><code>@Entity(name = &quot;facturas_detalles&quot;)\n@Table(name = &quot;facturas_detalles&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class FacturaDetalles {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long idFacturaDetalles;\n\n    @Column(name = &quot;cantidad&quot;)\n    private Integer cantidadProductos;\n\n    @Column(name = &quot;subtotal&quot;)\n    private Integer totalParcial;\n\n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;id_facturas&quot;)\n    private Factura factura;\n\n\n    @OneToOne\n    @JoinColumn(name = &quot;id_producto&quot;)\n    private Producto producto;\n}\n</code></pre>\n<p>[FacturaDetallesDTO]</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class FacturaDetallesDTO {\n\n    private Long idFacturaDetalles;\n    private ProductoDTO producto;\n\n}\n</code></pre>\n<p>[FacturaDetallesServiceImp]</p>\n<pre><code>@Service\npublic class FacturaDetallesServiceImp implements FacturaDetallesService {\n\n    @Autowired\n    private FacturaDetallesRepository facturaDetallesRepository;\n\n\n    public List&lt;FacturaDetalles&gt; getAllFacturaDetalles() {\n        return facturaDetallesRepository.findAll();\n    }\n\n    public FacturaDetalles getOneFacturaDetalles(Long id) {\n        return facturaDetallesRepository.findById(id).orElseThrow(() -&gt; new RuntimeException(&quot;Factura no encontrado&quot;));\n    }\n\n    public FacturaDetalles createFacturaDetalles(FacturaDetalles facturaDetalles) {\n        return facturaDetallesRepository.save(facturaDetalles);\n     }\n\n    public void deleteFacturaDetalles(Long id) {\n        facturaDetallesRepository.deleteById(id);\n    }\n\n\n}\n</code></pre>\n<p>[FacturaDetallesService]</p>\n<pre><code>public interface FacturaDetallesService {\n    \n    List&lt;FacturaDetalles&gt; getAllFacturaDetalles();\n    FacturaDetalles getOneFacturaDetalles(Long id);\n    void deleteFacturaDetalles(Long id);\n    FacturaDetalles createFacturaDetalles(FacturaDetalles facturaDetalles);\n\n}\n</code></pre>\n<p>[FacturaDetallesController]</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/detalles&quot;)\npublic class FacturaDetallesController {\n\n    @Autowired\n    ModelMapper modelMapper;\n\n    @Autowired\n      FacturaDetallesService facturaDetallesService;\n\n\n    @GetMapping()\n    public List&lt;FacturaDetallesDTO&gt; getAllFacturaDetalles() {\n        return facturaDetallesService.getAllFacturaDetalles().stream().map(facturaDetalles -&gt; modelMapper.map(facturaDetalles, FacturaDetallesDTO.class)).collect(Collectors.toList());\n\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;FacturaDetallesDTO&gt; getOneFacturaDetalles(@PathVariable Long id) {\n        FacturaDetalles facturaDetalles = facturaDetallesService.getOneFacturaDetalles(id);\n        FacturaDetallesDTO detallesDTO = modelMapper.map(facturaDetalles, FacturaDetallesDTO.class);\n        return ResponseEntity.ok().body(detallesDTO);\n    }\n\n    @PostMapping()\n    public ResponseEntity&lt;FacturaDetallesDTO&gt; createFacturaDetalles(@RequestBody FacturaDetallesDTO facturaDetallesDTO) {\n           FacturaDetalles facturaDetalles = modelMapper.map(facturaDetallesDTO, FacturaDetalles.class);\n            FacturaDetalles facturaDetallesCreacion = facturaDetallesService.createFacturaDetalles(facturaDetalles);\n            FacturaDetallesDTO conversion = modelMapper.map(facturaDetallesCreacion, FacturaDetallesDTO.class);\n            return new ResponseEntity&lt;FacturaDetallesDTO&gt;(conversion, HttpStatus.CREATED);\n    }\n\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;FacturaDetallesDTO&gt; deleteFacturaDetalles(@PathVariable Long id){\n        FacturaDetalles facturaDetalles = facturaDetallesService.getOneFacturaDetalles(id);\n        facturaDetallesService.deleteFacturaDetalles(id);\n        FacturaDetallesDTO detallesDTO = modelMapper.map(facturaDetalles, FacturaDetallesDTO.class);\n        return ResponseEntity.ok().body(detallesDTO);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","linux","terminal","usb-drive"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1659945187,"post_id":73274386,"comment_id":129406442,"body_markdown":"My guess is that all processes you start will run in *parallel*, meaning the command can happen in any order. If it happens in the wrong order some commands will fail. You need to introduce some synchronization to make sure that the commands are executed one after the other.","body":"My guess is that all processes you start will run in <i>parallel</i>, meaning the command can happen in any order. If it happens in the wrong order some commands will fail. You need to introduce some synchronization to make sure that the commands are executed one after the other."},{"owner":{"account_id":25503464,"reputation":5,"user_id":19296274,"display_name":"FXPoWer_"},"score":0,"creation_date":1659945334,"post_id":73274386,"comment_id":129406502,"body_markdown":"thank you for answer. It might be, how can i do it?","body":"thank you for answer. It might be, how can i do it?"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1659945411,"post_id":73274386,"comment_id":129406534,"body_markdown":"In its simplest way, [wait for each to finish](https://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#waitFor()) before starting the next? And if you don&#39;t want to ducplicate code, put it all in a separate function.","body":"In its simplest way, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#waitFor()\" rel=\"nofollow noreferrer\">wait for each to finish</a> before starting the next? And if you don&#39;t want to ducplicate code, put it all in a separate function."},{"owner":{"account_id":25503464,"reputation":5,"user_id":19296274,"display_name":"FXPoWer_"},"score":0,"creation_date":1659945505,"post_id":73274386,"comment_id":129406571,"body_markdown":"yes, i meant, which method i have to call for wait the process?","body":"yes, i meant, which method i have to call for wait the process?"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1659946101,"post_id":73274386,"comment_id":129406746,"body_markdown":"And I just linked to it.","body":"And I just linked to it."},{"owner":{"account_id":25503464,"reputation":5,"user_id":19296274,"display_name":"FXPoWer_"},"score":0,"creation_date":1659946486,"post_id":73274386,"comment_id":129406874,"body_markdown":"it doesn&#39;t work, my program doesn&#39;t go on. Freezes on wait","body":"it doesn&#39;t work, my program doesn&#39;t go on. Freezes on wait"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1659946805,"post_id":73274386,"comment_id":129406987,"body_markdown":"That seems like a new problem, for a new question. I&#39;ll write an answer for the synchronization problem while you start *debugging* your new problem to see when and where the &quot;lockup&quot; seems to happen.","body":"That seems like a new problem, for a new question. I&#39;ll write an answer for the synchronization problem while you start <i>debugging</i> your new problem to see when and where the &quot;lockup&quot; seems to happen."}],"answers":[{"tags":[],"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659947277,"creation_date":1659947277,"answer_id":73274914,"question_id":73274386,"body_markdown":"The commands you try to run will all run in parallel, without any control over which will run first or their order.\r\n\r\nThat means some command can (and will) fail if the are happening in the wrong order.\r\n\r\nOne simple way to solve it is to call [`waitFor`](https://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#waitFor()) on the `Process` object, to wait for each command to finish before starting the next.\r\n\r\nI recommend you create a new function to run a command and wait for it to finish:\r\n\r\n    private void runCommand(String command) {\r\n        try {\r\n            Process proc = Runtime.getRuntime().exec(command);\r\n\r\n            // Wait for command to finish\r\n            proc.waitFor();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error running command: &quot;  + e.toString());\r\n        }\r\n    }\r\n\r\nThen you can call this for each of your commands:\r\n\r\n    runCommand(&quot;rm -r /home/ctm-tech/Documenti/App/Thermaskin&quot;);\r\n    runCommand(&quot;cp -r /media/ctm-tech/FXPoWer_1/Thermaskin /home/ctm-tech/Documenti/App/&quot;);\r\n    runCommand(&quot;java -jar /home/ctm-tech/Documenti/App/Thermaskin/dist/Thermaskin.jar&quot;);\r\n    runCommand(&quot;sudo eject /media/ctm-tech/FXPoWer_1&quot;);\r\n\r\nThese commands will now run in the exact sequence called.","title":"Linux terminal command execution with java","body":"<p>The commands you try to run will all run in parallel, without any control over which will run first or their order.</p>\n<p>That means some command can (and will) fail if the are happening in the wrong order.</p>\n<p>One simple way to solve it is to call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#waitFor()\" rel=\"nofollow noreferrer\"><code>waitFor</code></a> on the <code>Process</code> object, to wait for each command to finish before starting the next.</p>\n<p>I recommend you create a new function to run a command and wait for it to finish:</p>\n<pre><code>private void runCommand(String command) {\n    try {\n        Process proc = Runtime.getRuntime().exec(command);\n\n        // Wait for command to finish\n        proc.waitFor();\n    } catch (IOException e) {\n        System.out.println(&quot;Error running command: &quot;  + e.toString());\n    }\n}\n</code></pre>\n<p>Then you can call this for each of your commands:</p>\n<pre><code>runCommand(&quot;rm -r /home/ctm-tech/Documenti/App/Thermaskin&quot;);\nrunCommand(&quot;cp -r /media/ctm-tech/FXPoWer_1/Thermaskin /home/ctm-tech/Documenti/App/&quot;);\nrunCommand(&quot;java -jar /home/ctm-tech/Documenti/App/Thermaskin/dist/Thermaskin.jar&quot;);\nrunCommand(&quot;sudo eject /media/ctm-tech/FXPoWer_1&quot;);\n</code></pre>\n<p>These commands will now run in the exact sequence called.</p>\n"}],"owner":{"account_id":25503464,"reputation":5,"user_id":19296274,"display_name":"FXPoWer_"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73274914,"answer_count":1,"score":0,"last_activity_date":1659949535,"creation_date":1659944503,"question_id":73274386,"body_markdown":"i need help with my program. \r\nwhat I have to do is that when I click a button my java program will have to execute commands on the linux terminal as shown below, and after that it will have to shut down the program.\r\n\r\n        String com1 = &quot;rm -r /home/ctm-tech/Documenti/App/Thermaskin&quot;;\r\n        String com2 = &quot;cp -r /media/ctm-tech/FXPoWer_1/Thermaskin /home/ctm-tech/Documenti/App/&quot;;\r\n        String com3 = &quot;java -jar /home/ctm-tech/Documenti/App/Thermaskin/dist/Thermaskin.jar&quot;;\r\n        String com4 = &quot;sudo eject /media/ctm-tech/FXPoWer_1&quot;;\r\n        \r\n        try {\r\n            Process p1 = Runtime.getRuntime().exec(com1);\r\n            Process p2 = Runtime.getRuntime().exec(com2);\r\n            Process p3 = Runtime.getRuntime().exec(com3);\r\n            Process p4 = Runtime.getRuntime().exec(com4);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Qualcosa &#232; andato storto&quot;  + e.toString());\r\n        }\r\n\r\n        try {\r\n            Thread.sleep(6000);\r\n        } catch (InterruptedException ex) {}\r\n\r\n        System.exit(0);\r\n\r\nThe problem is that my program only executes the first command, and sometimes it doesn&#39;t execute anything.\r\n\r\nThe commands must update the running program, with a later version present inside the FXPoWer_1 pendrive.\r\n\r\nCan someone help me? Thank you very much, waiting for a response\r\n\r\n\r\nNews for &quot;Some Programmers Dude&quot;\r\nThis is the code now\r\n\r\n    private void jButton_aggiornaActionPerformed(java.awt.event.ActionEvent evt) {                                                 \r\n        runCommand(&quot;cp -r /media/ctm-tech/FXPoWer_1/Thermaskin1 /home/ctm-tech/Documenti/App/&quot;);\r\n        runCommand(&quot;java -jar /home/ctm-tech/Documenti/App/Thermaskin1/dist/Thermaskin.jar&quot;);\r\n        runCommand(&quot;rm -r /home/ctm-tech/Documenti/App/Thermaskin&quot;);\r\n        runCommand(&quot;mv /home/ctm-tech/Documenti/App/Thermaskin1 /home/ctm-tech/Documenti/App/Thermaskin&quot;);\r\n        runCommand(&quot;sudo eject /media/ctm-tech/FXPoWer_1&quot;);        \r\n\r\n        System.exit(0);\r\n    }         ","title":"Linux terminal command execution with java","body":"<p>i need help with my program.\nwhat I have to do is that when I click a button my java program will have to execute commands on the linux terminal as shown below, and after that it will have to shut down the program.</p>\n<pre><code>    String com1 = &quot;rm -r /home/ctm-tech/Documenti/App/Thermaskin&quot;;\n    String com2 = &quot;cp -r /media/ctm-tech/FXPoWer_1/Thermaskin /home/ctm-tech/Documenti/App/&quot;;\n    String com3 = &quot;java -jar /home/ctm-tech/Documenti/App/Thermaskin/dist/Thermaskin.jar&quot;;\n    String com4 = &quot;sudo eject /media/ctm-tech/FXPoWer_1&quot;;\n    \n    try {\n        Process p1 = Runtime.getRuntime().exec(com1);\n        Process p2 = Runtime.getRuntime().exec(com2);\n        Process p3 = Runtime.getRuntime().exec(com3);\n        Process p4 = Runtime.getRuntime().exec(com4);\n    } catch (IOException e) {\n        System.out.println(&quot;Qualcosa è andato storto&quot;  + e.toString());\n    }\n\n    try {\n        Thread.sleep(6000);\n    } catch (InterruptedException ex) {}\n\n    System.exit(0);\n</code></pre>\n<p>The problem is that my program only executes the first command, and sometimes it doesn't execute anything.</p>\n<p>The commands must update the running program, with a later version present inside the FXPoWer_1 pendrive.</p>\n<p>Can someone help me? Thank you very much, waiting for a response</p>\n<p>News for &quot;Some Programmers Dude&quot;\nThis is the code now</p>\n<pre><code>private void jButton_aggiornaActionPerformed(java.awt.event.ActionEvent evt) {                                                 \n    runCommand(&quot;cp -r /media/ctm-tech/FXPoWer_1/Thermaskin1 /home/ctm-tech/Documenti/App/&quot;);\n    runCommand(&quot;java -jar /home/ctm-tech/Documenti/App/Thermaskin1/dist/Thermaskin.jar&quot;);\n    runCommand(&quot;rm -r /home/ctm-tech/Documenti/App/Thermaskin&quot;);\n    runCommand(&quot;mv /home/ctm-tech/Documenti/App/Thermaskin1 /home/ctm-tech/Documenti/App/Thermaskin&quot;);\n    runCommand(&quot;sudo eject /media/ctm-tech/FXPoWer_1&quot;);        \n\n    System.exit(0);\n}         \n</code></pre>\n"},{"tags":["java","html","jsoup","sanitization","html-sanitizing"],"answers":[{"tags":[],"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659949443,"creation_date":1654726692,"answer_id":72552795,"question_id":72550684,"body_markdown":"From a documentation [Jsoup.clean(java.lang.String,org.jsoup.safety.Safelist)][1]\r\n\r\n&gt; Note that as this method does not take a base href URL to resolve\r\n&gt; attributes with relative URLs against, those URLs will be removed,\r\n&gt; unless the input HTML contains a `&lt;base href&gt;` tag. If you wish to\r\n&gt; preserve those, use the `clean(String html, String baseHref, Safelist)`\r\n&gt; method instead, and enable `Safelist.preserveRelativeLinks(boolean)`.\r\n\r\n    String html = &quot;&lt;a href=&#39;/foo/&#39;&gt;Foo&lt;/a&gt;&quot;;\r\n    Safelist safelist = Safelist.relaxed();\r\n    safelist.preserveRelativeLinks(true);\r\n    String clean = Jsoup.clean(html, &quot;http://&quot;, safelist);\r\n    System.out.println(clean);\r\n\r\nWill print out\r\n\r\n    &lt;a href=&quot;/foo/&quot;&gt;Foo&lt;/a&gt;\r\n\r\n  [1]: https://jsoup.org/apidocs/org/jsoup/Jsoup.html#clean(java.lang.String,org.jsoup.safety.Safelist)","title":"How do I prevent Jsoup from removing &#39;href&#39; attribute of anchor element?","body":"<p>From a documentation <a href=\"https://jsoup.org/apidocs/org/jsoup/Jsoup.html#clean(java.lang.String,org.jsoup.safety.Safelist)\" rel=\"nofollow noreferrer\">Jsoup.clean(java.lang.String,org.jsoup.safety.Safelist)</a></p>\n<blockquote>\n<p>Note that as this method does not take a base href URL to resolve\nattributes with relative URLs against, those URLs will be removed,\nunless the input HTML contains a <code>&lt;base href&gt;</code> tag. If you wish to\npreserve those, use the <code>clean(String html, String baseHref, Safelist)</code>\nmethod instead, and enable <code>Safelist.preserveRelativeLinks(boolean)</code>.</p>\n</blockquote>\n<pre><code>String html = &quot;&lt;a href='/foo/'&gt;Foo&lt;/a&gt;&quot;;\nSafelist safelist = Safelist.relaxed();\nsafelist.preserveRelativeLinks(true);\nString clean = Jsoup.clean(html, &quot;http://&quot;, safelist);\nSystem.out.println(clean);\n</code></pre>\n<p>Will print out</p>\n<pre><code>&lt;a href=&quot;/foo/&quot;&gt;Foo&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":1137318,"reputation":8962,"user_id":1150915,"display_name":"Aquarelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72552795,"answer_count":1,"score":1,"last_activity_date":1659949443,"creation_date":1654713510,"question_id":72550684,"body_markdown":"I want to use Jsoup to cleanse input while still allowing anchor elements with an &quot;href&quot; attribute to remain untouched; however, I&#39;ve found that no matter what I do, Jsoup.clean() removes the &quot;href&quot; attribute.  Test code follows:\r\n\r\n```\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tfinal String foo = &quot;&lt;a href=&#39;/foo/&#39;&gt;Foo&lt;/a&gt;&quot;;\r\n\t\tfinal String cleansedOutput = Jsoup.clean(foo, Safelist.relaxed().addTags(&quot;a&quot;).addAttributes(&quot;a&quot;, &quot;href&quot;));\r\n\r\n\t\tSystem.out.println(&quot;foo: &quot; + foo);\r\n\t\tSystem.out.println(&quot;cleansedOutput: &quot; + cleansedOutput);\r\n\t}\r\n```\r\n\r\nThe output of the code is as follows:\r\n```\r\nfoo: &lt;a href=&#39;/foo/&#39;&gt;Foo&lt;/a&gt;\r\ncleansedOutput: &lt;a&gt;Foo&lt;/a&gt;\r\n```\r\n\r\nAs you can see, the &quot;href&quot; attribute is stripped even when, as shown above, I explicitly tell Jsoup to preserve anchor elements and the &quot;href&quot; attribute (I initially used the default `Safelist.relaxed()` before adding `addTags()` and `addAttributes()`; they all removed the attribute regardless).\r\n\r\nAm I doing something wrong?  Or is this a bug in Jsoup?  (It&#39;s hard to believe it&#39;s a bug, as their unit tests would have failed early on.)","title":"How do I prevent Jsoup from removing &#39;href&#39; attribute of anchor element?","body":"<p>I want to use Jsoup to cleanse input while still allowing anchor elements with an &quot;href&quot; attribute to remain untouched; however, I've found that no matter what I do, Jsoup.clean() removes the &quot;href&quot; attribute.  Test code follows:</p>\n<pre><code>    public static void main(String[] args)\n    {\n        final String foo = &quot;&lt;a href='/foo/'&gt;Foo&lt;/a&gt;&quot;;\n        final String cleansedOutput = Jsoup.clean(foo, Safelist.relaxed().addTags(&quot;a&quot;).addAttributes(&quot;a&quot;, &quot;href&quot;));\n\n        System.out.println(&quot;foo: &quot; + foo);\n        System.out.println(&quot;cleansedOutput: &quot; + cleansedOutput);\n    }\n</code></pre>\n<p>The output of the code is as follows:</p>\n<pre><code>foo: &lt;a href='/foo/'&gt;Foo&lt;/a&gt;\ncleansedOutput: &lt;a&gt;Foo&lt;/a&gt;\n</code></pre>\n<p>As you can see, the &quot;href&quot; attribute is stripped even when, as shown above, I explicitly tell Jsoup to preserve anchor elements and the &quot;href&quot; attribute (I initially used the default <code>Safelist.relaxed()</code> before adding <code>addTags()</code> and <code>addAttributes()</code>; they all removed the attribute regardless).</p>\n<p>Am I doing something wrong?  Or is this a bug in Jsoup?  (It's hard to believe it's a bug, as their unit tests would have failed early on.)</p>\n"},{"tags":["java","spring","tomcat","intellij-idea","jetty"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1334036779,"creation_date":1334036779,"answer_id":10083692,"question_id":10082469,"body_markdown":"You should [configure IDEA to update classes and resources][1] and enable a checkbox in the Run configuration to do it automatically on frame deactivation.\r\n\r\n[Browser can be changed in IDEA settings][2] and you can disable opening browser at all in [Tomcat Run/Debug configuration][3].\r\n\r\nAs for the Run panel tabs order, you can **pin** tabs using the tab right click menu, in this case they will remain in the Run or Debug panel in the order they were created.\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/updating-a-running-java-ee-application.html\r\n  [2]: http://www.jetbrains.com/idea/webhelp/web-browsers.html\r\n  [3]: http://www.jetbrains.com/idea/webhelp/run-debug-configuration-tomcat.html","title":"IntelliJ productivity tips running tomcat","body":"<p>You should <a href=\"http://www.jetbrains.com/idea/webhelp/updating-a-running-java-ee-application.html\">configure IDEA to update classes and resources</a> and enable a checkbox in the Run configuration to do it automatically on frame deactivation.</p>\n\n<p><a href=\"http://www.jetbrains.com/idea/webhelp/web-browsers.html\">Browser can be changed in IDEA settings</a> and you can disable opening browser at all in <a href=\"http://www.jetbrains.com/idea/webhelp/run-debug-configuration-tomcat.html\">Tomcat Run/Debug configuration</a>.</p>\n\n<p>As for the Run panel tabs order, you can <strong>pin</strong> tabs using the tab right click menu, in this case they will remain in the Run or Debug panel in the order they were created.</p>\n"},{"tags":[],"owner":{"display_name":"user1322340"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334080716,"creation_date":1334080716,"answer_id":10093939,"question_id":10082469,"body_markdown":"Look at JRebel if you want an even more productive environment (It costs, but I find it is worth it). As you can see here, http://zeroturnaround.com/jrebel/features/, it increases the types of changes you can hot-swap (no waiting for a build). I am currently evaluating it myself and will probably pick up a full license.\r\n\r\nBTW, if you develop in scala (it looks like you&#39;re not, but just in case) the plugin is free.","title":"IntelliJ productivity tips running tomcat","body":"<p>Look at JRebel if you want an even more productive environment (It costs, but I find it is worth it). As you can see here, <a href=\"http://zeroturnaround.com/jrebel/features/\" rel=\"nofollow\">http://zeroturnaround.com/jrebel/features/</a>, it increases the types of changes you can hot-swap (no waiting for a build). I am currently evaluating it myself and will probably pick up a full license.</p>\n\n<p>BTW, if you develop in scala (it looks like you're not, but just in case) the plugin is free.</p>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10083692,"answer_count":2,"score":2,"last_activity_date":1659948838,"creation_date":1334025481,"question_id":10082469,"body_markdown":"I&#39;m developing using IntelliJ 11u on a spring mvc application using tomcat.\r\n\r\nI tried the maven jetty plugin, but after a few builds I keep getting java permGen issues and then it just hangs.  I was told this was because spring uses log4j and it has some sort of leaks?\r\n\r\nAnyhow, I&#39;m asking for tips to help fire up a server, tomcat, with my updated code so I can make quick updates and have tomcat reloaded.\r\n\r\nHere are my current annoyances with tomcat:\r\n\r\n1. Only code changes seem to get auto-reloaded, if I make changes to my view pages things don&#39;t get updated unless I redeploy.  The maven jetty plugin seems to map to my view pages directly and I saw updates to my view pages instantly w/o it even redeploying.\r\n\r\n2.  if I have more than 1 thing running in intelliJ, like say I have a main program that I run, or a unit test, IntelliJ seems to re-order what gets run in the run drop down menu and also the shortcut keys get changed to the last thing I ran.\r\n\r\n3. I use google chrome, for some reason when I start tomcat it brings firefox to the forefront and opens a new tab each and every time.\r\n\r\nIf someone can address any or all of the above issues that would be great as I hate this dance I have to go through just to update/redeploy my application.  I wish it could just be a consitant method, using shortcuts or automatically without me having to close the tab created in firefox, and then minimizie it, or redploy for a simple view change etc.","title":"IntelliJ productivity tips running tomcat","body":"<p>I'm developing using IntelliJ 11u on a spring mvc application using tomcat.</p>\n\n<p>I tried the maven jetty plugin, but after a few builds I keep getting java permGen issues and then it just hangs.  I was told this was because spring uses log4j and it has some sort of leaks?</p>\n\n<p>Anyhow, I'm asking for tips to help fire up a server, tomcat, with my updated code so I can make quick updates and have tomcat reloaded.</p>\n\n<p>Here are my current annoyances with tomcat:</p>\n\n<ol>\n<li><p>Only code changes seem to get auto-reloaded, if I make changes to my view pages things don't get updated unless I redeploy.  The maven jetty plugin seems to map to my view pages directly and I saw updates to my view pages instantly w/o it even redeploying.</p></li>\n<li><p>if I have more than 1 thing running in intelliJ, like say I have a main program that I run, or a unit test, IntelliJ seems to re-order what gets run in the run drop down menu and also the shortcut keys get changed to the last thing I ran.</p></li>\n<li><p>I use google chrome, for some reason when I start tomcat it brings firefox to the forefront and opens a new tab each and every time.</p></li>\n</ol>\n\n<p>If someone can address any or all of the above issues that would be great as I hate this dance I have to go through just to update/redeploy my application.  I wish it could just be a consitant method, using shortcuts or automatically without me having to close the tab created in firefox, and then minimizie it, or redploy for a simple view change etc.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1614698098,"post_id":66441987,"comment_id":117460899,"body_markdown":"Does the Error Log contain a stack trace for that exception?","body":"Does the Error Log contain a stack trace for that exception?"},{"owner":{"account_id":354313,"reputation":334,"user_id":692582,"display_name":"FrozenSUSHI"},"score":0,"creation_date":1614698538,"post_id":66441987,"comment_id":117461126,"body_markdown":"I added the Stacktrace from the m2e log at the end of the post. @nitind","body":"I added the Stacktrace from the m2e log at the end of the post. @nitind"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1614701535,"post_id":66441987,"comment_id":117462637,"body_markdown":"That would be worth reporting as a bug to the m2e project. It&#39;s possible they didn&#39;t test it with Windows&#39; specific kind of file locking. https://bugs.eclipse.org/bugs/enter_bug.cgi?product=m2e","body":"That would be worth reporting as a bug to the m2e project. It&#39;s possible they didn&#39;t test it with Windows&#39; specific kind of file locking. <a href=\"https://bugs.eclipse.org/bugs/enter_bug.cgi?product=m2e\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/enter_bug.cgi?product=m2e</a>"},{"owner":{"account_id":10318428,"reputation":588,"user_id":10014950,"display_name":"Andreas Schaller"},"score":2,"creation_date":1616416189,"post_id":66441987,"comment_id":117986685,"body_markdown":"I get the same error on arch linux using eclipse 2021-03","body":"I get the same error on arch linux using eclipse 2021-03"},{"owner":{"account_id":188312,"reputation":586,"user_id":427009,"accept_rate":73,"display_name":"MiB"},"score":1,"creation_date":1616946410,"post_id":66441987,"comment_id":118155745,"body_markdown":"I get the same error in macOS 10.14 with m2e-wtp-1.4.4.20201128-1705 under Eclipse 4.18. This was directly after installation in a fresh OS. I&#39;ve never seen this error before.","body":"I get the same error in macOS 10.14 with m2e-wtp-1.4.4.20201128-1705 under Eclipse 4.18. This was directly after installation in a fresh OS. I&#39;ve never seen this error before."},{"owner":{"account_id":6862660,"reputation":125,"user_id":5276120,"display_name":"Min Lwin"},"score":1,"creation_date":1619416656,"post_id":66441987,"comment_id":118888575,"body_markdown":"I get the same error since eclipse 2020/12 till 2021/03. Did you get some solutions?","body":"I get the same error since eclipse 2020/12 till 2021/03. Did you get some solutions?"},{"owner":{"account_id":1691673,"reputation":10275,"user_id":1553886,"accept_rate":98,"display_name":"CDT"},"score":0,"creation_date":1620694317,"post_id":66441987,"comment_id":119270755,"body_markdown":"eclipse is bug haunted, needs more work","body":"eclipse is bug haunted, needs more work"},{"owner":{"account_id":57515,"reputation":2828,"user_id":172306,"display_name":"fn."},"score":0,"creation_date":1626959798,"post_id":66441987,"comment_id":121034750,"body_markdown":"It&#39;s a issue on m2e ( [link](https://github.com/eclipse-m2e/m2e-core/issues/169) ) caused by maven indexer ( [MINDEXER-127](https://issues.apache.org/jira/browse/MINDEXER-127) )","body":"It&#39;s a issue on m2e ( <a href=\"https://github.com/eclipse-m2e/m2e-core/issues/169\" rel=\"nofollow noreferrer\">link</a> ) caused by maven indexer ( <a href=\"https://issues.apache.org/jira/browse/MINDEXER-127\" rel=\"nofollow noreferrer\">MINDEXER-127</a> )"}],"answers":[{"tags":[],"owner":{"account_id":7380647,"reputation":876,"user_id":5617478,"display_name":"Subhajit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628246438,"creation_date":1628246438,"answer_id":68680251,"question_id":66441987,"body_markdown":"I faced the same issue and could not find any solution on internet. By luck, I found a way to just once open the same workspace in STS4 click on Window-&gt;Preferences-&gt;Maven-&gt;User Settings. I found the Local Repository automatically resolved the local repository and downloaded the artifacts in the given location.\r\n\r\nNow open again the same workspace in Eclipse and it can readily resolve the local repository used in STS4.\r\n\r\n**Also please note that I used a system variable to point the local repository location which was used in the User Settings file. So I found the solution to this while trying to resolve the issue of &quot;Maven does not replace a variable in &#39;settings.xml&#39; when it is invoked&quot; which is asked [here][1]**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1363514/maven-does-not-replace-a-variable-in-settings-xml-when-it-is-invoked","title":"Reindexing local Maven Repo in fresh Eclipse install fails with java.nio.channels.OverlappingFileLockException","body":"<p>I faced the same issue and could not find any solution on internet. By luck, I found a way to just once open the same workspace in STS4 click on Window-&gt;Preferences-&gt;Maven-&gt;User Settings. I found the Local Repository automatically resolved the local repository and downloaded the artifacts in the given location.</p>\n<p>Now open again the same workspace in Eclipse and it can readily resolve the local repository used in STS4.</p>\n<p><strong>Also please note that I used a system variable to point the local repository location which was used in the User Settings file. So I found the solution to this while trying to resolve the issue of &quot;Maven does not replace a variable in 'settings.xml' when it is invoked&quot; which is asked <a href=\"https://stackoverflow.com/questions/1363514/maven-does-not-replace-a-variable-in-settings-xml-when-it-is-invoked\">here</a></strong></p>\n"},{"tags":[],"owner":{"account_id":354313,"reputation":334,"user_id":692582,"display_name":"FrozenSUSHI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659948627,"creation_date":1659948627,"answer_id":73275174,"question_id":66441987,"body_markdown":"The problem was finally resolved by removing the system variable for *M2_HOME* that was pointing at an additional Maven installation on the system.\r\n\r\nEclipse seems to invoke this 2nd one during the reindexing operation thus leading to the *OverlappingFileLockException*.","title":"Reindexing local Maven Repo in fresh Eclipse install fails with java.nio.channels.OverlappingFileLockException","body":"<p>The problem was finally resolved by removing the system variable for <em>M2_HOME</em> that was pointing at an additional Maven installation on the system.</p>\n<p>Eclipse seems to invoke this 2nd one during the reindexing operation thus leading to the <em>OverlappingFileLockException</em>.</p>\n"}],"owner":{"account_id":354313,"reputation":334,"user_id":692582,"display_name":"FrozenSUSHI"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6841,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":73275174,"answer_count":2,"score":10,"last_activity_date":1659948627,"creation_date":1614697843,"question_id":66441987,"body_markdown":"Having a completely fresh install of **Eclipse for EE** Version: 2020-12 (4.18.0) on Win10 whenever I try to reindex it via the preferences dialog I get the following error:\r\n\r\n    Reindexing error\r\n    java.nio.channels.OverlappingFileLockException\r\n\r\n[![Eclipse Error Screenshot with settings shown][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gvfos.png\r\n\r\nI already tried:\r\n * moving the Maven repo to a fresh and/or empty location\r\n * starting with a fresh eclipse install and fresh workspace folder\r\n * restarting the system and installing a fresh eclipse, eclipse workspace and maven repo\r\n\r\nAny ideas on what to check or where to look besides doing a full reinstall of the OS would be greatly appreciated.\r\n\r\n------\r\n\r\nHere is the full Stack trace for the error from the m2e log (as requested by @nitind ):\r\n\r\n    2021-03-02 16:02:18,461 [Worker-10: Indexing Local Repository...] ERROR o.e.m.c.i.i.nexus.NexusIndexManager - Unable to re-index workspace://\r\n    java.nio.channels.OverlappingFileLockException: null\r\n    \tat java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)\r\n    \tat java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)\r\n    \tat java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1297)\r\n    \tat java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1178)\r\n    \tat org.apache.maven.index.context.DefaultIndexingContext.unlockForcibly(DefaultIndexingContext.java:927)\r\n    \tat org.apache.maven.index.context.DefaultIndexingContext.prepareIndex(DefaultIndexingContext.java:244)\r\n    \tat org.apache.maven.index.context.DefaultIndexingContext.purge(DefaultIndexingContext.java:612)\r\n    \tat org.eclipse.m2e.core.internal.index.nexus.NexusIndexManager.purgeCurrentIndex(NexusIndexManager.java:529)\r\n    \tat org.eclipse.m2e.core.internal.index.nexus.NexusIndexManager.reindexWorkspace(NexusIndexManager.java:561)\r\n    \tat org.eclipse.m2e.core.internal.index.nexus.NexusIndexManager.updateIndex(NexusIndexManager.java:1072)\r\n    \tat org.eclipse.m2e.core.internal.index.nexus.NexusIndex.updateIndex(NexusIndex.java:147)\r\n    \tat org.eclipse.m2e.core.ui.internal.preferences.MavenSettingsPreferencePage$2.runInWorkspace(MavenSettingsPreferencePage.java:263)\r\n    \tat org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:42)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)","title":"Reindexing local Maven Repo in fresh Eclipse install fails with java.nio.channels.OverlappingFileLockException","body":"<p>Having a completely fresh install of <strong>Eclipse for EE</strong> Version: 2020-12 (4.18.0) on Win10 whenever I try to reindex it via the preferences dialog I get the following error:</p>\n<pre><code>Reindexing error\njava.nio.channels.OverlappingFileLockException\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Gvfos.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Gvfos.png\" alt=\"Eclipse Error Screenshot with settings shown\" /></a></p>\n<p>I already tried:</p>\n<ul>\n<li>moving the Maven repo to a fresh and/or empty location</li>\n<li>starting with a fresh eclipse install and fresh workspace folder</li>\n<li>restarting the system and installing a fresh eclipse, eclipse workspace and maven repo</li>\n</ul>\n<p>Any ideas on what to check or where to look besides doing a full reinstall of the OS would be greatly appreciated.</p>\n<hr />\n<p>Here is the full Stack trace for the error from the m2e log (as requested by @nitind ):</p>\n<pre><code>2021-03-02 16:02:18,461 [Worker-10: Indexing Local Repository...] ERROR o.e.m.c.i.i.nexus.NexusIndexManager - Unable to re-index workspace://\njava.nio.channels.OverlappingFileLockException: null\n    at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)\n    at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)\n    at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1297)\n    at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1178)\n    at org.apache.maven.index.context.DefaultIndexingContext.unlockForcibly(DefaultIndexingContext.java:927)\n    at org.apache.maven.index.context.DefaultIndexingContext.prepareIndex(DefaultIndexingContext.java:244)\n    at org.apache.maven.index.context.DefaultIndexingContext.purge(DefaultIndexingContext.java:612)\n    at org.eclipse.m2e.core.internal.index.nexus.NexusIndexManager.purgeCurrentIndex(NexusIndexManager.java:529)\n    at org.eclipse.m2e.core.internal.index.nexus.NexusIndexManager.reindexWorkspace(NexusIndexManager.java:561)\n    at org.eclipse.m2e.core.internal.index.nexus.NexusIndexManager.updateIndex(NexusIndexManager.java:1072)\n    at org.eclipse.m2e.core.internal.index.nexus.NexusIndex.updateIndex(NexusIndex.java:147)\n    at org.eclipse.m2e.core.ui.internal.preferences.MavenSettingsPreferencePage$2.runInWorkspace(MavenSettingsPreferencePage.java:263)\n    at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:42)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n"},{"tags":["java","selenium","firefox","geckodriver","ubuntu-22.04"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659948554,"creation_date":1659948554,"answer_id":73275155,"question_id":73273788,"body_markdown":" Make sure that Firefox must install on the default place like -&gt;\r\n\r\n    (c:/Program Files (x86)/Mozilla Firefox \r\n\r\nOR \r\n\r\n`c:/Program Files/Mozilla Firefox,` note: at the time of Firefox installation do not change the path so let it installing in default path) \r\n\r\nIf Firefox is installed on some other place then selenium show those error.\r\n\r\nIf you have set your Firefox in Systems(Windows) environment variable then either remove it or update it with new Firefox version path.\r\n\r\nIf you want to use Firefox in any other place then use below code:-\r\n\r\n***Full Working code:***\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;D:\\\\Workspace\\\\demoproject\\\\src\\\\lib\\\\geckodriver.exe&quot;);\r\n    File pathBinary = new File(&quot;C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe&quot;);\r\n    FirefoxBinary firefoxBinary = new FirefoxBinary(pathBinary);   \r\n    DesiredCapabilities desired = DesiredCapabilities.firefox();\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    desired.setCapability(FirefoxOptions.FIREFOX_OPTIONS, options.setBinary(firefoxBinary));\r\n    WebDriver driver = new FirefoxDriver(options);\r\n    driver.get(&quot;https://www.google.co.in/&quot;);\r\n","title":"I am trying to launch Firefox using geckodriver for selenium webDriver in Ubuntu 22.04.1 LTS and got error msg as -","body":"<p>Make sure that Firefox must install on the default place like -&gt;</p>\n<pre><code>(c:/Program Files (x86)/Mozilla Firefox \n</code></pre>\n<p>OR</p>\n<p><code>c:/Program Files/Mozilla Firefox,</code> note: at the time of Firefox installation do not change the path so let it installing in default path)</p>\n<p>If Firefox is installed on some other place then selenium show those error.</p>\n<p>If you have set your Firefox in Systems(Windows) environment variable then either remove it or update it with new Firefox version path.</p>\n<p>If you want to use Firefox in any other place then use below code:-</p>\n<p><em><strong>Full Working code:</strong></em></p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;D:\\\\Workspace\\\\demoproject\\\\src\\\\lib\\\\geckodriver.exe&quot;);\nFile pathBinary = new File(&quot;C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe&quot;);\nFirefoxBinary firefoxBinary = new FirefoxBinary(pathBinary);   \nDesiredCapabilities desired = DesiredCapabilities.firefox();\nFirefoxOptions options = new FirefoxOptions();\ndesired.setCapability(FirefoxOptions.FIREFOX_OPTIONS, options.setBinary(firefoxBinary));\nWebDriver driver = new FirefoxDriver(options);\ndriver.get(&quot;https://www.google.co.in/&quot;);\n</code></pre>\n"}],"owner":{"account_id":2769334,"reputation":1,"user_id":2384251,"display_name":"Rashed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659948554,"creation_date":1659941136,"question_id":73273788,"body_markdown":"rg.openqa.selenium.WebDriverException: Cannot find firefox binary in PATH. Make sure firefox is installed. OS appears to be: LINUX\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;rashed-hp&#39;, ip: &#39;127.0.1.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.0-43-generic&#39;, java.version: &#39;18.0.2&#39;\r\nDriver info: driver.version: FirefoxDriver\r\n\r\n\tat org.openqa.selenium.firefox.FirefoxBinary.&lt;init&gt;(FirefoxBinary.java:95)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.openqa.selenium.firefox.FirefoxOptions.getBinary(FirefoxOptions.java:189)\r\n\tat org.openqa.selenium.firefox.GeckoDriverService$Builder.withOptions(GeckoDriverService.java:179)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:232)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:186)\r\n\tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:164)\r\n\tat BrowserTest.firefoxSession(BrowserTest.java:18)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\nProcess finished with exit code 255\r\n\r\n    enter code here","title":"I am trying to launch Firefox using geckodriver for selenium webDriver in Ubuntu 22.04.1 LTS and got error msg as -","body":"<p>rg.openqa.selenium.WebDriverException: Cannot find firefox binary in PATH. Make sure firefox is installed. OS appears to be: LINUX\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'rashed-hp', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-43-generic', java.version: '18.0.2'\nDriver info: driver.version: FirefoxDriver</p>\n<pre><code>at org.openqa.selenium.firefox.FirefoxBinary.&lt;init&gt;(FirefoxBinary.java:95)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)\nat org.openqa.selenium.firefox.FirefoxOptions.getBinary(FirefoxOptions.java:189)\nat org.openqa.selenium.firefox.GeckoDriverService$Builder.withOptions(GeckoDriverService.java:179)\nat org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:232)\nat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:186)\nat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:164)\nat BrowserTest.firefoxSession(BrowserTest.java:18)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\nat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>Process finished with exit code 255</p>\n<pre><code>enter code here\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-plugin","android-studio-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1659949709,"post_id":71867043,"comment_id":129408034,"body_markdown":"You can try using JCEF - https://plugins.jetbrains.com/docs/intellij/jcef.html","body":"You can try using JCEF - <a href=\"https://plugins.jetbrains.com/docs/intellij/jcef.html\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/docs/intellij/jcef.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":6251884,"reputation":168,"user_id":4861695,"display_name":"Cool Soft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659948311,"creation_date":1659948311,"answer_id":73275106,"question_id":71867043,"body_markdown":"Use Open In &gt; Browser &gt; Built-in Preview\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i0rOn.png\r\n\r\nIt opens new tab in Android Studio","title":"Preview HTML file in Android Studio plugin","body":"<p>Use Open In &gt; Browser &gt; Built-in Preview</p>\n<p><a href=\"https://i.stack.imgur.com/i0rOn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i0rOn.png\" alt=\"enter image description here\" /></a></p>\n<p>It opens new tab in Android Studio</p>\n"}],"owner":{"account_id":530185,"reputation":101,"user_id":1109383,"display_name":"robocik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659948311,"creation_date":1649915463,"question_id":71867043,"body_markdown":"I&#39;m creating Android Studio plugin and I need to open (preview) html file.\r\nFor now I can open HTML file using this code:\r\n\r\n    String file=&quot;c:\\\\test\\\\index.html&quot;;    \r\n    BrowserLauncher.getInstance().browse(file,WebBrowserManager.getInstance().getFirstActiveBrowser());\r\n\r\nThe problem is that this code open external webbrowser. But I would like to open this HTML file **inside** Android Studio (IntelliJ) IDE (open a new tab with HTML preview).\r\n\r\nHow can I do this?","title":"Preview HTML file in Android Studio plugin","body":"<p>I'm creating Android Studio plugin and I need to open (preview) html file.\nFor now I can open HTML file using this code:</p>\n<pre><code>String file=&quot;c:\\\\test\\\\index.html&quot;;    \nBrowserLauncher.getInstance().browse(file,WebBrowserManager.getInstance().getFirstActiveBrowser());\n</code></pre>\n<p>The problem is that this code open external webbrowser. But I would like to open this HTML file <strong>inside</strong> Android Studio (IntelliJ) IDE (open a new tab with HTML preview).</p>\n<p>How can I do this?</p>\n"},{"tags":["java","python-3.x","apache-spark","ubuntu","ubuntu-18.04"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1597152961,"post_id":63359298,"comment_id":112036343,"body_markdown":"`sudo apt-get install openjdk-8-jdk-headless` ?","body":"<code>sudo apt-get install openjdk-8-jdk-headless</code> ?"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1597153417,"post_id":63359298,"comment_id":112036599,"body_markdown":"Anyway, those two URLs do indeed return 404.","body":"Anyway, those two URLs do indeed return 404."}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659947995,"creation_date":1597157161,"answer_id":63360661,"question_id":63359298,"body_markdown":"You should update your local version of the package catalog.\r\n\r\n    sudo apt update\r\n\r\nAfter the above synchronisation step, you can re-issue the command\r\n\r\n    sudo apt-get install openjdk-8-jdk-headless -qq &gt; /dev/null\r\n\r\nThereby, it will download the latest version of `openjdk-8-jdk-headless`. There is an updated package in the [repository][1]. It has the version **`8u342-b07`**. Note the difference.\r\n\r\nSee also this [direct link][2] here to download a `.deb` package.:\r\n\r\n  [1]: http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/\r\n  [2]: http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/openjdk-8-jdk-headless_8u342-b07-0ubuntu1~18.04_amd64.deb","title":"Is there any an issue with the file name openjdk-8-jdk-headless?","body":"<p>You should update your local version of the package catalog.</p>\n<pre><code>sudo apt update\n</code></pre>\n<p>After the above synchronisation step, you can re-issue the command</p>\n<pre><code>sudo apt-get install openjdk-8-jdk-headless -qq &gt; /dev/null\n</code></pre>\n<p>Thereby, it will download the latest version of <code>openjdk-8-jdk-headless</code>. There is an updated package in the <a href=\"http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/\" rel=\"nofollow noreferrer\">repository</a>. It has the version <strong><code>8u342-b07</code></strong>. Note the difference.</p>\n<p>See also this <a href=\"http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/openjdk-8-jdk-headless_8u342-b07-0ubuntu1%7E18.04_amd64.deb\" rel=\"nofollow noreferrer\">direct link</a> here to download a <code>.deb</code> package.:</p>\n"}],"owner":{"account_id":18743009,"reputation":95,"user_id":13665879,"display_name":"Luis Vivas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7684,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":63360661,"answer_count":1,"score":4,"last_activity_date":1659947995,"creation_date":1597152819,"question_id":63359298,"body_markdown":"I am trying to install *Spark* which requires Java with using\r\n\r\n    !apt-get install openjdk-8-jdk-headless -qq &gt; /dev/null\r\n\r\nAnd I get an error after it.\r\n\r\n&gt; E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/openjdk-8-jre-headless_8u252-b09-1~18.04_amd64.deb  404  Not Found [IP: 91.189.88.142 80]\r\nE: Failed to fetch http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/openjdk-8-jdk-headless_8u252-b09-1~18.04_amd64.deb  404  Not Found [IP: 91.189.88.142 80]\r\n\r\nIs there any problem with the servers? \r\n\r\nI am doing this on Google Colab.","title":"Is there any an issue with the file name openjdk-8-jdk-headless?","body":"<p>I am trying to install <em>Spark</em> which requires Java with using</p>\n<pre><code>!apt-get install openjdk-8-jdk-headless -qq &gt; /dev/null\n</code></pre>\n<p>And I get an error after it.</p>\n<blockquote>\n<p>E: Failed to fetch <a href=\"http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/openjdk-8-jre-headless_8u252-b09-1%7E18.04_amd64.deb\" rel=\"noreferrer\">http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/openjdk-8-jre-headless_8u252-b09-1~18.04_amd64.deb</a>  404  Not Found [IP: 91.189.88.142 80]\nE: Failed to fetch <a href=\"http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/openjdk-8-jdk-headless_8u252-b09-1%7E18.04_amd64.deb\" rel=\"noreferrer\">http://security.ubuntu.com/ubuntu/pool/universe/o/openjdk-8/openjdk-8-jdk-headless_8u252-b09-1~18.04_amd64.deb</a>  404  Not Found [IP: 91.189.88.142 80]</p>\n</blockquote>\n<p>Is there any problem with the servers?</p>\n<p>I am doing this on Google Colab.</p>\n"},{"tags":["java","camera","frame"],"comments":[{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":1,"creation_date":1354323278,"post_id":13655283,"comment_id":18738114,"body_markdown":"What camera? What have you tried? We need some more information before we can really understand your question.","body":"What camera? What have you tried? We need some more information before we can really understand your question."},{"owner":{"account_id":222105,"reputation":1801,"user_id":480483,"accept_rate":80,"display_name":"djjeck"},"score":1,"creation_date":1354323325,"post_id":13655283,"comment_id":18738122,"body_markdown":"Are you referring to a java.awt Frame?","body":"Are you referring to a java.awt Frame?"},{"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":1,"creation_date":1354323405,"post_id":13655283,"comment_id":18738139,"body_markdown":"...what? I don&#39;t understand.","body":"...what? I don&#39;t understand."},{"owner":{"account_id":1960679,"reputation":363,"user_id":1762368,"accept_rate":39,"display_name":"Dillon Burton"},"score":0,"creation_date":1354323447,"post_id":13655283,"comment_id":18738146,"body_markdown":"If I have a Window, lets say 500 X 500, and i want your view port to also be 500 X 500, how would I move that view port inside of the window to go to a different location in space? I haven&#39;t attempted it, as I have no idea how to move the screen inside of a frame. I thought it would be something like frame.getRelativeLocation(). Basically, I want to create a moving camera inside of a frame.","body":"If I have a Window, lets say 500 X 500, and i want your view port to also be 500 X 500, how would I move that view port inside of the window to go to a different location in space? I haven&#39;t attempted it, as I have no idea how to move the screen inside of a frame. I thought it would be something like frame.getRelativeLocation(). Basically, I want to create a moving camera inside of a frame."}],"answers":[{"tags":[],"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354323758,"creation_date":1354323758,"answer_id":13655326,"question_id":13655283,"body_markdown":"You would have to move everything in the frame. For example:\r\n\r\n    private void moveInsideFrame(int moveX, int moveY) {\r\n        for (int i = 0; i &lt; listOfObjects.size(); i ++) {\r\n            JComponent current = listOfObjects.get(i);\r\n            current.x -= moveX;\r\n            current.y -= moveY;\r\n        }\r\n    }\r\n\r\n(this is just example code, it won&#39;t really work. have an `ArrayList` of all of your components on screen and move each individually.)\r\n\r\nOr, if you just put them all in your frame (instead of overriding `paintComponent` in a custom JPanel) then use `frame.getComponents()`. ","title":"Moving the camera inside a Frame in java","body":"<p>You would have to move everything in the frame. For example:</p>\n\n<pre><code>private void moveInsideFrame(int moveX, int moveY) {\n    for (int i = 0; i &lt; listOfObjects.size(); i ++) {\n        JComponent current = listOfObjects.get(i);\n        current.x -= moveX;\n        current.y -= moveY;\n    }\n}\n</code></pre>\n\n<p>(this is just example code, it won't really work. have an <code>ArrayList</code> of all of your components on screen and move each individually.)</p>\n\n<p>Or, if you just put them all in your frame (instead of overriding <code>paintComponent</code> in a custom JPanel) then use <code>frame.getComponents()</code>. </p>\n"},{"tags":[],"owner":{"account_id":222105,"reputation":1801,"user_id":480483,"accept_rate":80,"display_name":"djjeck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354324050,"creation_date":1354324050,"answer_id":13655361,"question_id":13655283,"body_markdown":"You can consider your outer frame as the &quot;camera&quot; frame, and you can create a &quot;world&quot; frame inside of it.\r\nYou can then move your world window using opposite coordinates as to emulate the movement of a camera.\r\n\r\nTo implement it, use an absolute positioning for the inner frame (i.e. no layouts).\r\nSee http://docs.oracle.com/javase/tutorial/uiswing/layout/none.html for more details on absolute positioning.","title":"Moving the camera inside a Frame in java","body":"<p>You can consider your outer frame as the \"camera\" frame, and you can create a \"world\" frame inside of it.\nYou can then move your world window using opposite coordinates as to emulate the movement of a camera.</p>\n\n<p>To implement it, use an absolute positioning for the inner frame (i.e. no layouts).\nSee <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/none.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/none.html</a> for more details on absolute positioning.</p>\n"},{"tags":[],"owner":{"account_id":25368963,"reputation":73,"user_id":19183108,"display_name":"Iyad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659947941,"creation_date":1659947941,"answer_id":73275036,"question_id":13655283,"body_markdown":"I think putting all your objects in a JPanel with a null layout and moving it as a camera is the best solution","title":"Moving the camera inside a Frame in java","body":"<p>I think putting all your objects in a JPanel with a null layout and moving it as a camera is the best solution</p>\n"}],"owner":{"account_id":1960679,"reputation":363,"user_id":1762368,"accept_rate":39,"display_name":"Dillon Burton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1659947941,"creation_date":1354323202,"question_id":13655283,"body_markdown":"I would like to know how to move the camera inside the Frame in java. Ex: \r\n\r\n    frame.moveInsideFrame(pointX,pointY).","title":"Moving the camera inside a Frame in java","body":"<p>I would like to know how to move the camera inside the Frame in java. Ex: </p>\n\n<pre><code>frame.moveInsideFrame(pointX,pointY).\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","annotations"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659946961,"creation_date":1659946961,"answer_id":73274856,"question_id":73274241,"body_markdown":"In the json, the name is `ingredients` but, in the DTO, it is `ingredientsDTO`. Those 2 need to match.","title":"getting null value from @Requestbody","body":"<p>In the json, the name is <code>ingredients</code> but, in the DTO, it is <code>ingredientsDTO</code>. Those 2 need to match.</p>\n"},{"tags":[],"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659946982,"creation_date":1659946982,"answer_id":73274859,"question_id":73274241,"body_markdown":"You can replace \r\n\r\n    @OneToMany(mappedBy = &quot;recipeDTO&quot;)\r\n    private List&lt;IngredientDTO&gt; ingredientDTOs;\r\n\r\nto \r\n\r\n    @OneToMany(mappedBy = &quot;recipeDTO&quot;)\r\n    private List&lt;IngredientDTO&gt; ingredients;\r\n\r\n\r\nOr adding \r\n\r\n    @JsonProperty(&quot;ingredients&quot;)\r\n\r\nExample:\r\n\r\n   \r\n\r\n    @JsonProperty(&quot;ingredients&quot;)\r\n    @OneToMany(mappedBy = &quot;recipeDTO&quot;)\r\n    private List&lt;IngredientDTO&gt; ingredientDTOs;\r\n\r\nThe reason for `null` is because Jackson doesn&#39;t know how to deserialise your fields properly with different names.","title":"getting null value from @Requestbody","body":"<p>You can replace</p>\n<pre><code>@OneToMany(mappedBy = &quot;recipeDTO&quot;)\nprivate List&lt;IngredientDTO&gt; ingredientDTOs;\n</code></pre>\n<p>to</p>\n<pre><code>@OneToMany(mappedBy = &quot;recipeDTO&quot;)\nprivate List&lt;IngredientDTO&gt; ingredients;\n</code></pre>\n<p>Or adding</p>\n<pre><code>@JsonProperty(&quot;ingredients&quot;)\n</code></pre>\n<p>Example:</p>\n<pre><code>@JsonProperty(&quot;ingredients&quot;)\n@OneToMany(mappedBy = &quot;recipeDTO&quot;)\nprivate List&lt;IngredientDTO&gt; ingredientDTOs;\n</code></pre>\n<p>The reason for <code>null</code> is because Jackson doesn't know how to deserialise your fields properly with different names.</p>\n"},{"tags":[],"owner":{"account_id":24262981,"reputation":45,"user_id":18212304,"display_name":"Amit-Chavda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659947511,"creation_date":1659947511,"answer_id":73274959,"question_id":73274241,"body_markdown":"You request\r\n```\r\n{\r\n    &quot;name&quot;:&quot;unique2&quot;,\r\n    &quot;ingredients&quot;:[...]\r\n```\r\n\r\nhere the name of array you are passing in Json is different in the entity you are using.\r\n\r\nYour DTO\r\n```\r\n @OneToMany(mappedBy = &quot;recipeDTO&quot;)\r\n    private List&lt;IngredientDTO&gt; ingredientDTOs;\r\n```\r\n\r\nThe name of fields in JSON request and Entity must match.\r\n\r\nChange the name of field ` private List&lt;IngredientDTO&gt; ingredientDTOs;` to `ingredients`.","title":"getting null value from @Requestbody","body":"<p>You request</p>\n<pre><code>{\n    &quot;name&quot;:&quot;unique2&quot;,\n    &quot;ingredients&quot;:[...]\n</code></pre>\n<p>here the name of array you are passing in Json is different in the entity you are using.</p>\n<p>Your DTO</p>\n<pre><code> @OneToMany(mappedBy = &quot;recipeDTO&quot;)\n    private List&lt;IngredientDTO&gt; ingredientDTOs;\n</code></pre>\n<p>The name of fields in JSON request and Entity must match.</p>\n<p>Change the name of field <code> private List&lt;IngredientDTO&gt; ingredientDTOs;</code> to <code>ingredients</code>.</p>\n"}],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73274859,"answer_count":3,"score":1,"last_activity_date":1659947511,"creation_date":1659943758,"question_id":73274241,"body_markdown":"I am in the process of adding a DTO layer to a restful api. Before, the program used entity (Recipe and Ingredient) directly and now I added a new DTO layer in between (RecipeDTO IngredientDTO). However, the moment I made the change I started getting Null values from @RequestBody. Each recipe contains a list of Ingredients and it is the list of ingredients that are returning null values, the recipe by itself is returning fine.\r\n\r\nThe controller looks like this\r\n```\r\npackage com.example.recipes.controller;\r\nimport com.example.recipes.DTO.RecipeDTO;\r\nimport com.example.recipes.Service.RecipeService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport java.util.List;\r\n/*...*/\r\n    @PostMapping(path = &quot;/post&quot;)\r\n    public void postRecipes(@RequestBody RecipeDTO recipeDTO){\r\n        recipeService.postRecipes(recipeDTO);\r\n    }\r\n/*...*/\r\n```\r\nRecipe Entity\r\n```\r\npackage com.example.recipes.Entity;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;recipe&quot;, schema = &quot;public&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Recipe {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private long id;\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    @Column(name = &quot;instructions&quot;)\r\n    private String instructions;\r\n    @OneToMany(mappedBy = &quot;recipe&quot;)\r\n    private List&lt;Ingredient&gt; ingredients;\r\n    @JsonProperty(&quot;date_added&quot;)\r\n    private String dateAdded = String.valueOf(LocalDateTime.now());\r\n    @JsonProperty(&quot;last_edited&quot;)\r\n    private String lastEdited = String.valueOf(LocalDateTime.now());\r\n}\r\n\r\n```\r\nRecipeDTO\r\n```\r\npackage com.example.recipes.DTO;\r\nimport lombok.*;\r\n\r\nimport javax.persistence.OneToMany;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class RecipeDTO {\r\n    private long id;\r\n    private String name;\r\n    private String instructions;\r\n    private List&lt;IngredientDTO&gt; ingredientsDTO;\r\n    private String dateAdded = String.valueOf(LocalDateTime.now());\r\n    private String lastEdited = String.valueOf(LocalDateTime.now());\r\n\r\n    public RecipeDTO(long id, String name, String instructions, String dateAdded, String lastEdited) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.instructions = instructions;\r\n        this.dateAdded = dateAdded;\r\n        this.lastEdited = lastEdited;\r\n    }\r\n}\r\n\r\n```\r\nIngredient Entity\r\n```\r\npackage com.example.recipes.Entity;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\nimport javax.persistence.*;\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Ingredient&quot;)\r\n@NoArgsConstructor\r\npublic class Ingredient {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    @JsonProperty(&quot;ingredient_id&quot;)\r\n    private long ingredient_ID;\r\n    @JsonProperty(&quot;ingredient_name&quot;)\r\n    private String ingredientName;\r\n    @Column(name = &quot;amount&quot;)\r\n    private int amount;\r\n    @Column(name = &quot;unit&quot;)\r\n    private String unit;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;recipe_id&quot;)\r\n    @ToString.Exclude\r\n    @JsonIgnore\r\n    private Recipe recipe;\r\n}\r\n\r\n```\r\nIngredientDTO\r\n```\r\npackage com.example.recipes.DTO;\r\nimport lombok.*;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class IngredientDTO {\r\n    private long ingredientID;\r\n    private String ingredientName;\r\n    private int amount;\r\n    private String unit;\r\n}\r\n```\r\nthe json i sent\r\n```\r\n{\r\n    &quot;name&quot;:&quot;unique2&quot;,\r\n    &quot;ingredients&quot;:[\r\n        {\r\n            &quot;ingredient_name&quot;:&quot;Atlantic&quot;,\r\n            &quot;amount&quot;:13, \r\n            &quot;unit&quot;:&quot;ton&quot;\r\n        },\r\n        {\r\n            &quot;ingredient_name&quot;:&quot;Pacific&quot;,\r\n            &quot;amount&quot;:15, \r\n            &quot;unit&quot;:&quot;boatload&quot;\r\n        },\r\n        {\r\n            &quot;ingredient_name&quot;:&quot;Indian&quot;,\r\n            &quot;amount&quot;:38, \r\n            &quot;unit&quot;:&quot;trucload&quot;\r\n        }\r\n    ],\r\n    &quot;instructions&quot;:&quot;easy on the salt&quot;\r\n}\r\n\r\n```\r\nand the @requestbody the ingredientsDTO is null\r\n```\r\nthis is recipe: RecipeDTO(id=0, name=unique2, instructions=easy on the salt, ingredientsDTO=null, dateAdded=2022-08-08T15:04:10.678748100, lastEdited=2022-08-08T15:04:10.678748100)\r\n```\r\n\r\nEdit: I have just tried copying the code from the entity classes and pasting them in the DTO classes and it still returning null...\r\n```\r\npackage com.example.recipes.DTO;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;recipe&quot;, schema = &quot;public&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class RecipeDTO {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private long id;\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    @Column(name = &quot;instructions&quot;)\r\n    private String instructions;\r\n    @OneToMany(mappedBy = &quot;recipeDTO&quot;)\r\n    private List&lt;IngredientDTO&gt; ingredientDTOs;\r\n    @JsonProperty(&quot;date_added&quot;)\r\n    private String dateAdded = String.valueOf(LocalDateTime.now());\r\n    @JsonProperty(&quot;last_edited&quot;)\r\n    private String lastEdited = String.valueOf(LocalDateTime.now());\r\n\r\n    public RecipeDTO(long id, String name, String instructions, String dateAdded, String lastEdited) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.instructions = instructions;\r\n        this.dateAdded = dateAdded;\r\n        this.lastEdited = lastEdited;\r\n    }\r\n}\r\n\r\n```\r\n```\r\npackage com.example.recipes.DTO;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\nimport javax.persistence.*;\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Ingredient&quot;)\r\n@NoArgsConstructor\r\npublic class IngredientDTO {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    @JsonProperty(&quot;ingredient_id&quot;)\r\n    private long ingredientID;\r\n    @JsonProperty(&quot;ingredient_name&quot;)\r\n    private String ingredientName;\r\n    @Column(name = &quot;amount&quot;)\r\n    private int amount;\r\n    @Column(name = &quot;unit&quot;)\r\n    private String unit;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;recipe_id&quot;)\r\n    @ToString.Exclude\r\n    @JsonIgnore\r\n    private RecipeDTO recipeDTO;\r\n\r\n    public IngredientDTO(long ingredientID, String ingredientName, int amount, String unit) {\r\n        this.ingredientID = ingredientID;\r\n        this.ingredientName = ingredientName;\r\n        this.amount = amount;\r\n        this.unit = unit;\r\n    }\r\n}\r\n\r\n```\r\n@RequestBody\r\n```\r\nthis is recipe: RecipeDTO(id=0, name=unique2, instructions=easy on the salt, ingredientDTOs=null, dateAdded=2022-08-08T15:24:19.325806500, lastEdited=2022-08-08T15:24:19.325806500)\r\nthese are the ingredients: null\r\nthis is ingredientDTO: null\r\nthis is ingredientDTO: null\r\n```\r\n\r\nEdit2: I tried posting only the ingredientDTO and the @RequestBody was able to pick it up just fine\r\n\r\n```\r\n//this is fine\r\n    public void testRecipePost(@RequestBody IngredientDTO ingredientDTO) {\r\n        System.out.println(&quot;ingredientDTO: &quot; + ingredientDTO);\r\n    }\r\n```\r\n\r\n","title":"getting null value from @Requestbody","body":"<p>I am in the process of adding a DTO layer to a restful api. Before, the program used entity (Recipe and Ingredient) directly and now I added a new DTO layer in between (RecipeDTO IngredientDTO). However, the moment I made the change I started getting Null values from @RequestBody. Each recipe contains a list of Ingredients and it is the list of ingredients that are returning null values, the recipe by itself is returning fine.</p>\n<p>The controller looks like this</p>\n<pre><code>package com.example.recipes.controller;\nimport com.example.recipes.DTO.RecipeDTO;\nimport com.example.recipes.Service.RecipeService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\nimport java.util.List;\n/*...*/\n    @PostMapping(path = &quot;/post&quot;)\n    public void postRecipes(@RequestBody RecipeDTO recipeDTO){\n        recipeService.postRecipes(recipeDTO);\n    }\n/*...*/\n</code></pre>\n<p>Recipe Entity</p>\n<pre><code>package com.example.recipes.Entity;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Data\n@Entity\n@Table(name = &quot;recipe&quot;, schema = &quot;public&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Recipe {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private long id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Column(name = &quot;instructions&quot;)\n    private String instructions;\n    @OneToMany(mappedBy = &quot;recipe&quot;)\n    private List&lt;Ingredient&gt; ingredients;\n    @JsonProperty(&quot;date_added&quot;)\n    private String dateAdded = String.valueOf(LocalDateTime.now());\n    @JsonProperty(&quot;last_edited&quot;)\n    private String lastEdited = String.valueOf(LocalDateTime.now());\n}\n\n</code></pre>\n<p>RecipeDTO</p>\n<pre><code>package com.example.recipes.DTO;\nimport lombok.*;\n\nimport javax.persistence.OneToMany;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class RecipeDTO {\n    private long id;\n    private String name;\n    private String instructions;\n    private List&lt;IngredientDTO&gt; ingredientsDTO;\n    private String dateAdded = String.valueOf(LocalDateTime.now());\n    private String lastEdited = String.valueOf(LocalDateTime.now());\n\n    public RecipeDTO(long id, String name, String instructions, String dateAdded, String lastEdited) {\n        this.id = id;\n        this.name = name;\n        this.instructions = instructions;\n        this.dateAdded = dateAdded;\n        this.lastEdited = lastEdited;\n    }\n}\n\n</code></pre>\n<p>Ingredient Entity</p>\n<pre><code>package com.example.recipes.Entity;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport javax.persistence.*;\n@Data\n@Entity\n@Table(name = &quot;Ingredient&quot;)\n@NoArgsConstructor\npublic class Ingredient {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    @JsonProperty(&quot;ingredient_id&quot;)\n    private long ingredient_ID;\n    @JsonProperty(&quot;ingredient_name&quot;)\n    private String ingredientName;\n    @Column(name = &quot;amount&quot;)\n    private int amount;\n    @Column(name = &quot;unit&quot;)\n    private String unit;\n    @ManyToOne\n    @JoinColumn(name = &quot;recipe_id&quot;)\n    @ToString.Exclude\n    @JsonIgnore\n    private Recipe recipe;\n}\n\n</code></pre>\n<p>IngredientDTO</p>\n<pre><code>package com.example.recipes.DTO;\nimport lombok.*;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class IngredientDTO {\n    private long ingredientID;\n    private String ingredientName;\n    private int amount;\n    private String unit;\n}\n</code></pre>\n<p>the json i sent</p>\n<pre><code>{\n    &quot;name&quot;:&quot;unique2&quot;,\n    &quot;ingredients&quot;:[\n        {\n            &quot;ingredient_name&quot;:&quot;Atlantic&quot;,\n            &quot;amount&quot;:13, \n            &quot;unit&quot;:&quot;ton&quot;\n        },\n        {\n            &quot;ingredient_name&quot;:&quot;Pacific&quot;,\n            &quot;amount&quot;:15, \n            &quot;unit&quot;:&quot;boatload&quot;\n        },\n        {\n            &quot;ingredient_name&quot;:&quot;Indian&quot;,\n            &quot;amount&quot;:38, \n            &quot;unit&quot;:&quot;trucload&quot;\n        }\n    ],\n    &quot;instructions&quot;:&quot;easy on the salt&quot;\n}\n\n</code></pre>\n<p>and the @requestbody the ingredientsDTO is null</p>\n<pre><code>this is recipe: RecipeDTO(id=0, name=unique2, instructions=easy on the salt, ingredientsDTO=null, dateAdded=2022-08-08T15:04:10.678748100, lastEdited=2022-08-08T15:04:10.678748100)\n</code></pre>\n<p>Edit: I have just tried copying the code from the entity classes and pasting them in the DTO classes and it still returning null...</p>\n<pre><code>package com.example.recipes.DTO;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Data\n@Entity\n@Table(name = &quot;recipe&quot;, schema = &quot;public&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RecipeDTO {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private long id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Column(name = &quot;instructions&quot;)\n    private String instructions;\n    @OneToMany(mappedBy = &quot;recipeDTO&quot;)\n    private List&lt;IngredientDTO&gt; ingredientDTOs;\n    @JsonProperty(&quot;date_added&quot;)\n    private String dateAdded = String.valueOf(LocalDateTime.now());\n    @JsonProperty(&quot;last_edited&quot;)\n    private String lastEdited = String.valueOf(LocalDateTime.now());\n\n    public RecipeDTO(long id, String name, String instructions, String dateAdded, String lastEdited) {\n        this.id = id;\n        this.name = name;\n        this.instructions = instructions;\n        this.dateAdded = dateAdded;\n        this.lastEdited = lastEdited;\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.recipes.DTO;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport javax.persistence.*;\n@Data\n@Entity\n@Table(name = &quot;Ingredient&quot;)\n@NoArgsConstructor\npublic class IngredientDTO {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    @JsonProperty(&quot;ingredient_id&quot;)\n    private long ingredientID;\n    @JsonProperty(&quot;ingredient_name&quot;)\n    private String ingredientName;\n    @Column(name = &quot;amount&quot;)\n    private int amount;\n    @Column(name = &quot;unit&quot;)\n    private String unit;\n    @ManyToOne\n    @JoinColumn(name = &quot;recipe_id&quot;)\n    @ToString.Exclude\n    @JsonIgnore\n    private RecipeDTO recipeDTO;\n\n    public IngredientDTO(long ingredientID, String ingredientName, int amount, String unit) {\n        this.ingredientID = ingredientID;\n        this.ingredientName = ingredientName;\n        this.amount = amount;\n        this.unit = unit;\n    }\n}\n\n</code></pre>\n<p>@RequestBody</p>\n<pre><code>this is recipe: RecipeDTO(id=0, name=unique2, instructions=easy on the salt, ingredientDTOs=null, dateAdded=2022-08-08T15:24:19.325806500, lastEdited=2022-08-08T15:24:19.325806500)\nthese are the ingredients: null\nthis is ingredientDTO: null\nthis is ingredientDTO: null\n</code></pre>\n<p>Edit2: I tried posting only the ingredientDTO and the @RequestBody was able to pick it up just fine</p>\n<pre><code>//this is fine\n    public void testRecipePost(@RequestBody IngredientDTO ingredientDTO) {\n        System.out.println(&quot;ingredientDTO: &quot; + ingredientDTO);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659947476,"creation_date":1659947476,"answer_id":73274954,"question_id":73274437,"body_markdown":"You need to allow the oauth URLs. I think:\r\n\r\n       @Override protected void configure(HttpSecurity http) throws Exception\r\n      {\r\n        http.formLogin();\r\n        http.authorizeRequests().anyRequest().authenticated();\r\n        http. oauth2Login() // &lt;-- this here\r\n      }\r\nshould do it. Otherwise\r\n\r\n    .antMatchers(&quot;/oauth/**).permitAll()\r\n\r\nmight be the alternative.","title":"Spring oauth security wrong username or password 401 Unauthorized","body":"<p>You need to allow the oauth URLs. I think:</p>\n<pre><code>   @Override protected void configure(HttpSecurity http) throws Exception\n  {\n    http.formLogin();\n    http.authorizeRequests().anyRequest().authenticated();\n    http. oauth2Login() // &lt;-- this here\n  }\n</code></pre>\n<p>should do it. Otherwise</p>\n<pre><code>.antMatchers(&quot;/oauth/**).permitAll()\n</code></pre>\n<p>might be the alternative.</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659947476,"creation_date":1659944836,"question_id":73274437,"body_markdown":"```\r\n@Configuration\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n{\r\n\r\n   @Override protected void configure(HttpSecurity http) throws Exception\r\n   {\r\n      http.formLogin();\r\n      http.authorizeRequests().anyRequest().authenticated();\r\n   }\r\n\r\n   @Bean\r\n   public UserDetailsService userDetailsService()\r\n   {\r\n      UserDetailsManager userDetailsManager = new InMemoryUserDetailsManager();\r\n      UserDetails user = User.withUsername(&quot;emoleumassi&quot;)\r\n                             .password(&quot;today&quot;).authorities(&quot;write&quot;)\r\n                             .build();\r\n      userDetailsManager.createUser(user);\r\n      return userDetailsManager;\r\n   }\r\n\r\n   @Bean\r\n   public PasswordEncoder passwordEncoder()\r\n   {\r\n      return NoOpPasswordEncoder.getInstance();\r\n   }\r\n\r\n   @Bean\r\n   @Override\r\n   public AuthenticationManager authenticationManagerBean() throws Exception\r\n   {\r\n      return super.authenticationManagerBean();\r\n   }\r\n}\r\n\r\n```\r\n\r\nAuthorizationServer\r\n```\r\n@Configuration\r\n@EnableAuthorizationServer\r\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter\r\n{\r\n   @Autowired private AuthenticationManager authenticationManager;\r\n\r\n   @Override\r\n   public void configure(ClientDetailsServiceConfigurer clients) throws Exception\r\n   {\r\n      clients.inMemory().withClient(&quot;client&quot;).secret(&quot;secret&quot;).scopes(&quot;write&quot;).authorizedGrantTypes(&quot;password&quot;);\r\n   }\r\n\r\n   @Override\r\n   public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception\r\n   {\r\n      endpoints.authenticationManager(authenticationManager);\r\n   }\r\n}\r\n```\r\n\r\nmy dependencies:\r\n```\r\n SPRING_BOOT_VERSION = &quot;2.6.6&quot;\r\n implementation &quot;org.springframework.boot:spring-boot-starter-web:${SPRING_BOOT_VERSION}&quot;\r\n implementation &#39;org.springframework.boot:spring-boot-starter-security:2.6.6&#39;\r\n implementation &#39;org.springframework.security.oauth:spring-security-oauth2:2.5.1.RELEASE&#39;\r\n```\r\n\r\ni received `401 Unauthorized` \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G0uPl.png","title":"Spring oauth security wrong username or password 401 Unauthorized","body":"<pre><code>@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n\n   @Override protected void configure(HttpSecurity http) throws Exception\n   {\n      http.formLogin();\n      http.authorizeRequests().anyRequest().authenticated();\n   }\n\n   @Bean\n   public UserDetailsService userDetailsService()\n   {\n      UserDetailsManager userDetailsManager = new InMemoryUserDetailsManager();\n      UserDetails user = User.withUsername(&quot;emoleumassi&quot;)\n                             .password(&quot;today&quot;).authorities(&quot;write&quot;)\n                             .build();\n      userDetailsManager.createUser(user);\n      return userDetailsManager;\n   }\n\n   @Bean\n   public PasswordEncoder passwordEncoder()\n   {\n      return NoOpPasswordEncoder.getInstance();\n   }\n\n   @Bean\n   @Override\n   public AuthenticationManager authenticationManagerBean() throws Exception\n   {\n      return super.authenticationManagerBean();\n   }\n}\n\n</code></pre>\n<p>AuthorizationServer</p>\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter\n{\n   @Autowired private AuthenticationManager authenticationManager;\n\n   @Override\n   public void configure(ClientDetailsServiceConfigurer clients) throws Exception\n   {\n      clients.inMemory().withClient(&quot;client&quot;).secret(&quot;secret&quot;).scopes(&quot;write&quot;).authorizedGrantTypes(&quot;password&quot;);\n   }\n\n   @Override\n   public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception\n   {\n      endpoints.authenticationManager(authenticationManager);\n   }\n}\n</code></pre>\n<p>my dependencies:</p>\n<pre><code> SPRING_BOOT_VERSION = &quot;2.6.6&quot;\n implementation &quot;org.springframework.boot:spring-boot-starter-web:${SPRING_BOOT_VERSION}&quot;\n implementation 'org.springframework.boot:spring-boot-starter-security:2.6.6'\n implementation 'org.springframework.security.oauth:spring-security-oauth2:2.5.1.RELEASE'\n</code></pre>\n<p>i received <code>401 Unauthorized</code></p>\n<p><a href=\"https://i.stack.imgur.com/G0uPl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G0uPl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jsoup","illegalargumentexception"],"comments":[{"owner":{"account_id":8089040,"reputation":392,"user_id":6095603,"display_name":"Frido"},"score":0,"creation_date":1659911112,"post_id":73271381,"comment_id":129401407,"body_markdown":"You may print startURL before Jsoup.connect(startURL).get() to see what you are trying to get. If a[href] is relative link (like path/without/server), it fails.","body":"You may print startURL before Jsoup.connect(startURL).get() to see what you are trying to get. If a[href] is relative link (like path/without/server), it fails."},{"owner":{"account_id":24232735,"reputation":41,"user_id":18186283,"display_name":"Just A Guy"},"score":0,"creation_date":1659913752,"post_id":73271381,"comment_id":129401739,"body_markdown":"I printed startURL and the address was the URL that was being passed into the method. could the problem be with my cssQuery ( a[href] )","body":"I printed startURL and the address was the URL that was being passed into the method. could the problem be with my cssQuery ( a[href] )"}],"answers":[{"tags":[],"owner":{"account_id":51278,"reputation":10472,"user_id":153184,"display_name":"Jonathan Hedley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659947434,"creation_date":1659947434,"answer_id":73274947,"question_id":73271381,"body_markdown":"The issue is in this line:\r\n\r\n```java\r\ngetLinks(link.attr(&quot;a[href]&quot;));\r\n```\r\n\r\n[`link.attr(attributeName)`][1] is a method for getting an element&#39;s attribute by name. But `a[href]` is a CSS selector. So that method call returns a blank String (as there is no attribute in the element named `a[href]`), which is not a valid URL, and so you get the validation exception.\r\n\r\nBefore you call `connect`, you should log the URL you are about to hit. That way you will see the error.\r\n\r\nYou should change the line to:\r\n\r\n```java\r\ngetLinks(link.attr(&quot;abs:href&quot;));\r\n```\r\n\r\nThat will get the absolute URL pointed to by the `href` attribute. Most of the hrefs on that page are relative, so it&#39;s important to make them absolute before they are made into a URL for `connect()`.\r\n\r\nYou can see the URLs that the first `a[href]` selector will return [here][2]. You should also think about how to only fetch HTML pages and not images (e.g., maybe filter out by filetype).\r\n\r\nThere is more detail and examples of this area in the [Working with URLs][3] article of jsoup.\r\n\r\n\r\n  [1]: https://jsoup.org/apidocs/org/jsoup/nodes/Node.html#attr(java.lang.String)\r\n  [2]: https://try.jsoup.org/~DdmneQtxwyD_kEw4S68WadVvvdU\r\n  [3]: https://jsoup.org/cookbook/extracting-data/working-with-urls","title":"java.lang.IllegalArgumentException: Must supply a valid URL","body":"<p>The issue is in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getLinks(link.attr(&quot;a[href]&quot;));\n</code></pre>\n<p><a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Node.html#attr(java.lang.String)\" rel=\"nofollow noreferrer\"><code>link.attr(attributeName)</code></a> is a method for getting an element's attribute by name. But <code>a[href]</code> is a CSS selector. So that method call returns a blank String (as there is no attribute in the element named <code>a[href]</code>), which is not a valid URL, and so you get the validation exception.</p>\n<p>Before you call <code>connect</code>, you should log the URL you are about to hit. That way you will see the error.</p>\n<p>You should change the line to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getLinks(link.attr(&quot;abs:href&quot;));\n</code></pre>\n<p>That will get the absolute URL pointed to by the <code>href</code> attribute. Most of the hrefs on that page are relative, so it's important to make them absolute before they are made into a URL for <code>connect()</code>.</p>\n<p>You can see the URLs that the first <code>a[href]</code> selector will return <a href=\"https://try.jsoup.org/%7EDdmneQtxwyD_kEw4S68WadVvvdU\" rel=\"nofollow noreferrer\">here</a>. You should also think about how to only fetch HTML pages and not images (e.g., maybe filter out by filetype).</p>\n<p>There is more detail and examples of this area in the <a href=\"https://jsoup.org/cookbook/extracting-data/working-with-urls\" rel=\"nofollow noreferrer\">Working with URLs</a> article of jsoup.</p>\n"}],"owner":{"account_id":24232735,"reputation":41,"user_id":18186283,"display_name":"Just A Guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659947434,"creation_date":1659910058,"question_id":73271381,"body_markdown":"Im trying to build a web crawler for my OOP class. The crawler needs to traverse 1000 wikipedia pages and collect the titles and words off the page. The current code I have will traverse a singular page and collect the required information but it also gives me the error code &quot;java.lang.IllegalArgumentException: Must supply a valid URL:&quot; Here is my crawlers code. Ive been using Jsoups libraries.\r\n ```\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Elements;\r\n\r\npublic class crawler {\r\n\r\n\r\n    private static final int MAX_PAGES = 1000;\r\n\r\n    private final HashSet&lt;String&gt; titles = new HashSet&lt;&gt;();\r\n\r\n    private final HashSet&lt;String&gt; urlVisited = new HashSet&lt;&gt;();\r\n\r\n    private final HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\n\r\n    public void getLinks(String startURL) {\r\n\r\n\r\n        if ((titles.size() &lt; MAX_PAGES) &amp;&amp; !urlVisited.contains(startURL)) {\r\n\r\n\r\n            urlVisited.add(startURL);\r\n\r\n            try {\r\n\r\n                Document doc = Jsoup.connect(startURL).get();\r\n                Elements linksFromPage = doc.select(&quot;a[href]&quot;);\r\n\r\n                String title = doc.select(&quot;title&quot;).first().text();\r\n\r\n                titles.add(title);\r\n                String text = doc.body().text();\r\n\r\n                CountWords(text);\r\n\r\n                for (Element link : linksFromPage) {\r\n\r\n                    if(titles.size() &lt;= MAX_PAGES) {\r\n\r\n\r\n                        Thread.sleep(50);\r\n                        getLinks(link.attr(&quot;a[href]&quot;));\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;URL couldn&#39;t visit&quot;);\r\n                        System.out.println(startURL + &quot;, &quot; + urlVisited.size());\r\n                    }\r\n\r\n                }\r\n\r\n            } catch (Exception e) {\r\n\r\n                e.printStackTrace();\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public void PrintAllTitles() {\r\n\r\n        for (String t : titles) {\r\n            System.out.println(t);\r\n        }\r\n    }\r\n\r\n\r\n    public void PrintAllWordsAndCount() {\r\n\r\n        for (String key : map.keySet()) {\r\n\r\n            System.out.println(key + &quot; : &quot; + map.get(key));\r\n        }\r\n    }\r\n\r\n    private void CountWords(String text) {\r\n\r\n        String[] lines = text.split(&quot; &quot;);\r\n\r\n        for (String word : lines) {\r\n\r\n            if (map.containsKey(word)) {\r\n                int val = map.get(word);\r\n                val += 1;\r\n                map.remove(word);\r\n                map.put(word, val);\r\n            } else {\r\n                map.put(word, 1);\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nThe Driver function just uses c.getLinks(https://en.wikipedia.org/wiki/Computer)\r\nas the starting URL.","title":"java.lang.IllegalArgumentException: Must supply a valid URL","body":"<p>Im trying to build a web crawler for my OOP class. The crawler needs to traverse 1000 wikipedia pages and collect the titles and words off the page. The current code I have will traverse a singular page and collect the required information but it also gives me the error code &quot;java.lang.IllegalArgumentException: Must supply a valid URL:&quot; Here is my crawlers code. Ive been using Jsoups libraries.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\npublic class crawler {\n\n\n   private static final int MAX_PAGES = 1000;\n\n   private final HashSet&lt;String&gt; titles = new HashSet&lt;&gt;();\n\n   private final HashSet&lt;String&gt; urlVisited = new HashSet&lt;&gt;();\n\n   private final HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n\n\n   public void getLinks(String startURL) {\n\n\n       if ((titles.size() &lt; MAX_PAGES) &amp;&amp; !urlVisited.contains(startURL)) {\n\n\n           urlVisited.add(startURL);\n\n           try {\n\n               Document doc = Jsoup.connect(startURL).get();\n               Elements linksFromPage = doc.select(&quot;a[href]&quot;);\n\n               String title = doc.select(&quot;title&quot;).first().text();\n\n               titles.add(title);\n               String text = doc.body().text();\n\n               CountWords(text);\n\n               for (Element link : linksFromPage) {\n\n                   if(titles.size() &lt;= MAX_PAGES) {\n\n\n                       Thread.sleep(50);\n                       getLinks(link.attr(&quot;a[href]&quot;));\n                   }\n                   else {\n                       System.out.println(&quot;URL couldn't visit&quot;);\n                       System.out.println(startURL + &quot;, &quot; + urlVisited.size());\n                   }\n\n               }\n\n           } catch (Exception e) {\n\n               e.printStackTrace();\n\n           }\n       }\n\n   }\n\n\n   public void PrintAllTitles() {\n\n       for (String t : titles) {\n           System.out.println(t);\n       }\n   }\n\n\n   public void PrintAllWordsAndCount() {\n\n       for (String key : map.keySet()) {\n\n           System.out.println(key + &quot; : &quot; + map.get(key));\n       }\n   }\n\n   private void CountWords(String text) {\n\n       String[] lines = text.split(&quot; &quot;);\n\n       for (String word : lines) {\n\n           if (map.containsKey(word)) {\n               int val = map.get(word);\n               val += 1;\n               map.remove(word);\n               map.put(word, val);\n           } else {\n               map.put(word, 1);\n           }\n\n       }\n   }\n}\n</code></pre>\n<p>The Driver function just uses c.getLinks(<a href=\"https://en.wikipedia.org/wiki/Computer\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Computer</a>)\nas the starting URL.</p>\n"},{"tags":["java","casting","compiler-errors"],"answers":[{"tags":[],"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1457377768,"creation_date":1457377768,"answer_id":35851945,"question_id":35851914,"body_markdown":"`request.getAttribute` returns Object. You cannot cast Object to a primitive type `int`. But you may cast it to `Integer`.","title":"Cannot cast from object to int","body":"<p><code>request.getAttribute</code> returns Object. You cannot cast Object to a primitive type <code>int</code>. But you may cast it to <code>Integer</code>.</p>\n"},{"tags":[],"owner":{"account_id":4812935,"reputation":406,"user_id":3885877,"display_name":"Sander Rito"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1457378976,"creation_date":1457378976,"answer_id":35852314,"question_id":35851914,"body_markdown":"Try using this\r\n\r\n    int no = Integer.parseInt(request.getAttribute(&quot;totalVotes&quot;));\r\n\r\nI hope this helps.","title":"Cannot cast from object to int","body":"<p>Try using this</p>\n\n<pre><code>int no = Integer.parseInt(request.getAttribute(\"totalVotes\"));\n</code></pre>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":26006680,"reputation":1,"user_id":19716303,"display_name":"user19716303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659947173,"creation_date":1659947173,"answer_id":73274893,"question_id":35851914,"body_markdown":"reality，the obj couldn&#39;t cast to int,there are two method to cast.\r\nthe one is cast to String,then use Integer.valueof();\r\nthe other one is Integer.parsetoInt()","title":"Cannot cast from object to int","body":"<p>reality，the obj couldn't cast to int,there are two method to cast.\nthe one is cast to String,then use Integer.valueof();\nthe other one is Integer.parsetoInt()</p>\n"}],"owner":{"account_id":7437994,"reputation":131,"user_id":5656720,"accept_rate":75,"display_name":"Sean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3523,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":35851945,"answer_count":3,"score":-2,"last_activity_date":1659947173,"creation_date":1457377654,"question_id":35851914,"body_markdown":"Even though I have done the exact same thing with an integer array, I seem to be getting an &#39;Cannot cast from object to int&#39; error while passing the integer from a servlet to a jsp\r\n\r\nIn my JavaBean\r\n\r\n    public int getNoOfVotes(){\r\n\t\treturn noOfVotes;\r\n\t} \r\n\r\n\r\nIn my servlet\r\n\r\n    int noOfVotes = bean.getNoOfVotes();\r\n\trequest.setAttribute(&quot;totalVotes&quot;, noOfVotes);\r\n\r\nIn my jsp\r\n\r\n    int votes = (int)request.getAttribute(&quot;totalVotes&quot;);\r\n\r\nIts in the jsp I am getting the error\r\n","title":"Cannot cast from object to int","body":"<p>Even though I have done the exact same thing with an integer array, I seem to be getting an 'Cannot cast from object to int' error while passing the integer from a servlet to a jsp</p>\n\n<p>In my JavaBean</p>\n\n<pre><code>public int getNoOfVotes(){\n    return noOfVotes;\n} \n</code></pre>\n\n<p>In my servlet</p>\n\n<pre><code>int noOfVotes = bean.getNoOfVotes();\nrequest.setAttribute(\"totalVotes\", noOfVotes);\n</code></pre>\n\n<p>In my jsp</p>\n\n<pre><code>int votes = (int)request.getAttribute(\"totalVotes\");\n</code></pre>\n\n<p>Its in the jsp I am getting the error</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659947009,"creation_date":1659947009,"answer_id":73274864,"question_id":73274374,"body_markdown":"Not sure what do you mean by &quot;global&quot; input topic. But, if the same data to be consumed by multiple applications for the Data Transformation/Enrichment down the line, then best option would be setting as many as consumer group as your applications subscribed to the same topic. By doing this way, same set of data would be broadcasted across different consumer groups having multiple consumer instances of same application.\r\n\r\nAlso, by application reset, you mean ART (Application Reset Tool) KAFKA provides through CLI?\r\n\r\nIf so, as per my understanding, there isn&#39;t specific requirement for GlobalTable alone, but ART works over the Stream Processor as a single entity.\r\n\r\nhttps://stackoverflow.com/questions/60387987/what-happens-to-the-kafka-state-store-when-you-use-the-application-reset-tool\r\n\r\nhttps://docs.confluent.io/4.0.0/streams/developer-guide/app-reset-tool.html\r\n\r\n**What ART does?**\r\n\r\n**Input topics** : Reset offsets to specified position (by default to the beginning of the topic).c\r\n\r\n**Intermediate topics** : Skip to the end of the topic, i.e., set the application’s committed consumer offsets for all partitions to each partition’s logSize (for consumer group application.id).\r\n\r\n**Internal topics** : Delete the internal topic (this automatically deletes any committed offsets).\r\n\r\n**What ART doesn&#39;t?**\r\n\r\n- Reset output topics of an application. If any output (or intermediate) topics are consumed by downstream applications, it is your responsibility to adjust those downstream applications as appropriate when you reset the upstream application.\r\n\r\n- Reset the local environment of your application instances. It is your responsibility to delete the local state on any machine on which an application instance was running.\r\n\r\n\r\nFor a complete application reset, you must delete the application’s local state directory on any machines where the application instance was running. You must do this before restarting an application instance on the same machine. You can use either of these methods:\r\n - The API method KafkaStreams#cleanUp() in your application code.\r\n- Manually delete the corresponding local state directory (default location: /tmp/kafka-streams/&lt;application.id&gt;).\r\n\r\n\r\n","title":"Kafka streams application reset globalTable and input topics","body":"<p>Not sure what do you mean by &quot;global&quot; input topic. But, if the same data to be consumed by multiple applications for the Data Transformation/Enrichment down the line, then best option would be setting as many as consumer group as your applications subscribed to the same topic. By doing this way, same set of data would be broadcasted across different consumer groups having multiple consumer instances of same application.</p>\n<p>Also, by application reset, you mean ART (Application Reset Tool) KAFKA provides through CLI?</p>\n<p>If so, as per my understanding, there isn't specific requirement for GlobalTable alone, but ART works over the Stream Processor as a single entity.</p>\n<p><a href=\"https://stackoverflow.com/questions/60387987/what-happens-to-the-kafka-state-store-when-you-use-the-application-reset-tool\">What happens to the Kafka state store when you use the application reset tool?</a></p>\n<p><a href=\"https://docs.confluent.io/4.0.0/streams/developer-guide/app-reset-tool.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/4.0.0/streams/developer-guide/app-reset-tool.html</a></p>\n<p><strong>What ART does?</strong></p>\n<p><strong>Input topics</strong> : Reset offsets to specified position (by default to the beginning of the topic).c</p>\n<p><strong>Intermediate topics</strong> : Skip to the end of the topic, i.e., set the application’s committed consumer offsets for all partitions to each partition’s logSize (for consumer group application.id).</p>\n<p><strong>Internal topics</strong> : Delete the internal topic (this automatically deletes any committed offsets).</p>\n<p><strong>What ART doesn't?</strong></p>\n<ul>\n<li><p>Reset output topics of an application. If any output (or intermediate) topics are consumed by downstream applications, it is your responsibility to adjust those downstream applications as appropriate when you reset the upstream application.</p>\n</li>\n<li><p>Reset the local environment of your application instances. It is your responsibility to delete the local state on any machine on which an application instance was running.</p>\n</li>\n</ul>\n<p>For a complete application reset, you must delete the application’s local state directory on any machines where the application instance was running. You must do this before restarting an application instance on the same machine. You can use either of these methods:</p>\n<ul>\n<li>The API method KafkaStreams#cleanUp() in your application code.</li>\n<li>Manually delete the corresponding local state directory (default location: /tmp/kafka-streams/&lt;application.id&gt;).</li>\n</ul>\n"}],"owner":{"account_id":3033409,"reputation":907,"user_id":2571986,"accept_rate":100,"display_name":"tsuki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659947009,"creation_date":1659944468,"question_id":73274374,"body_markdown":"I am building a kafka-streams application with the intent of horizontal scaling and data reprocessing in case of business logic failure.\r\n\r\nThe application consumes data from two topics that have the same number of partitions and are joined with `KStream::merge`. There is also a third topic that supplies data that has to be consumed by all application instances, which creates the difficulty I&#39;m facing.\r\n\r\nSo far I tried to use a `globalTable` to provide the data from the global topic, but I&#39;m unsure of its behavior when I reset the application to consume historical data.\r\n\r\nAs far as I understand after application reset all of the `merged` input topics are consumed in such a way that processor receives data with increasing timestamps. My concern is that when I consume data via `GlobalTable` and provide it to processors via `StateStore`, this functionality does not apply. It seems that as I reprocess the data, the state that is served from `StateStore` is just the latest consumed state, and is not related to the input data via timestamp.\r\n\r\nMy questions are:\r\n\r\n 1. How do I provide the &quot;global&quot; input topic to all application instances, so that each of them have all the data?\r\n2. How does `GlobalTable` state store behave after application reset? Is the state topic consumed in sync with other input topics?","title":"Kafka streams application reset globalTable and input topics","body":"<p>I am building a kafka-streams application with the intent of horizontal scaling and data reprocessing in case of business logic failure.</p>\n<p>The application consumes data from two topics that have the same number of partitions and are joined with <code>KStream::merge</code>. There is also a third topic that supplies data that has to be consumed by all application instances, which creates the difficulty I'm facing.</p>\n<p>So far I tried to use a <code>globalTable</code> to provide the data from the global topic, but I'm unsure of its behavior when I reset the application to consume historical data.</p>\n<p>As far as I understand after application reset all of the <code>merged</code> input topics are consumed in such a way that processor receives data with increasing timestamps. My concern is that when I consume data via <code>GlobalTable</code> and provide it to processors via <code>StateStore</code>, this functionality does not apply. It seems that as I reprocess the data, the state that is served from <code>StateStore</code> is just the latest consumed state, and is not related to the input data via timestamp.</p>\n<p>My questions are:</p>\n<ol>\n<li>How do I provide the &quot;global&quot; input topic to all application instances, so that each of them have all the data?</li>\n<li>How does <code>GlobalTable</code> state store behave after application reset? Is the state topic consumed in sync with other input topics?</li>\n</ol>\n"},{"tags":["java","algorithm","data-structures","java-8","deque"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1659945937,"post_id":73274471,"comment_id":129406699,"body_markdown":"Pre-increments, if translated by the compiler without any optimization, are a lot faster, because it&#39;s simply a) increment and then b) return. Post-increment works like: a) create copy of value, b) increment original value c) return copy. Usually, especially in for-loops, there is not functional difference, so the compiler recognizes this unnecessary behavior and optimizes it away, so with default compiler (settings) you&#39;ll get just the same speed in both cases.","body":"Pre-increments, if translated by the compiler without any optimization, are a lot faster, because it&#39;s simply a) increment and then b) return. Post-increment works like: a) create copy of value, b) increment original value c) return copy. Usually, especially in for-loops, there is not functional difference, so the compiler recognizes this unnecessary behavior and optimizes it away, so with default compiler (settings) you&#39;ll get just the same speed in both cases."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1659946271,"post_id":73274471,"comment_id":129406804,"body_markdown":"`new ArrayDeque&lt;&gt;(windowSize);` /(diamond operator and initial capacity, default is 16).","body":"<code>new ArrayDeque&lt;&gt;(windowSize);</code> /(diamond operator and initial capacity, default is 16)."}],"answers":[{"tags":[],"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659946428,"creation_date":1659946428,"answer_id":73274753,"question_id":73274471,"body_markdown":"What you are doing here is to build an increasing mono queue based on the sliding window.\r\n\r\nSince the sliding window moves forward, you need to remove &quot;possible&quot; indices that are out of bound of the sliding window. That&#39;s what this line does:\r\n```java\r\n// Removing all the elements indexes which are not in the current window\r\nwhile ((!list.isEmpty()) &amp;&amp; list.peek() &lt;= i - windowSize)\r\n    list.removeFirst();\r\n```\r\n`i` is the index where the front of your sliding window lies and `i - windowsize` is the back of the window. You check wheather the head of the deque contains an index that is smaller and remove it, since it lies outside of the sliding window.\r\n\r\nAs for your second question, @JC677 explained it quite thoroughly in their comments. It doesn&#39;t make a functional difference here. It&#39;s probably the author&#39;s style.","title":"Find maximum in sliding window in an array","body":"<p>What you are doing here is to build an increasing mono queue based on the sliding window.</p>\n<p>Since the sliding window moves forward, you need to remove &quot;possible&quot; indices that are out of bound of the sliding window. That's what this line does:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Removing all the elements indexes which are not in the current window\nwhile ((!list.isEmpty()) &amp;&amp; list.peek() &lt;= i - windowSize)\n    list.removeFirst();\n</code></pre>\n<p><code>i</code> is the index where the front of your sliding window lies and <code>i - windowsize</code> is the back of the window. You check wheather the head of the deque contains an index that is smaller and remove it, since it lies outside of the sliding window.</p>\n<p>As for your second question, @JC677 explained it quite thoroughly in their comments. It doesn't make a functional difference here. It's probably the author's style.</p>\n"}],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1659962094,"accepted_answer_id":73274753,"answer_count":1,"score":1,"last_activity_date":1659946428,"creation_date":1659944993,"question_id":73274471,"body_markdown":"I was doing one question to find maximum number , given an input array and a sliding windows of given length. \r\n\r\nInput\r\n\r\n```\r\nnums = [-4,2,-5,1,-1,6]\r\nwindow_size = 3\r\n```\r\n\r\nOutput\r\n\r\n```\r\nresult = [2,2,1,6]\r\n```\r\n\r\nThe solution uses deque data structure to track the index and store the maximum value. Below is the code for the solution.\r\n\r\n```\r\nclass MaxSlidingWindow {\r\n\tpublic static ArrayDeque&lt;Integer&gt; findMaxSlidingWindow(int[] arr, int windowSize) {\r\n\t\tArrayDeque&lt;Integer&gt; result = new ArrayDeque&lt;&gt;(); // ArrayDeque for storing values\r\n\t\tDeque&lt;Integer&gt; list = new ArrayDeque&lt;Integer&gt;(); // creating a linked list\r\n\r\n\t\tif (arr.length &gt; 0) {\r\n\t\t\t// If window_size is greater than the array size,\r\n\t\t\t// set the window_size to nums.size()\r\n\t\t\tif (arr.length &lt; windowSize)\r\n\t\t\t\twindowSize = arr.length;\r\n\t\t\tfor (int i = 0; i &lt; windowSize; ++i) {\r\n\t\t\t\t// Removing last smallest element index\r\n\t\t\t\twhile (!list.isEmpty() &amp;&amp; arr[i] &gt;= arr[list.peekLast()]) {\r\n\t\t\t\t\tlist.removeLast();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adding newly picked element index\r\n\t\t\t\tlist.addLast(i);\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = windowSize; i &lt; arr.length; ++i) {\r\n\t\t\t\tresult.add(arr[list.peek()]);\r\n\r\n\t\t\t\t// Removing all the elements indexes which are not in the current window\r\n\t\t\t\twhile ((!list.isEmpty()) &amp;&amp; list.peek() &lt;= i - windowSize)\r\n\t\t\t\t\tlist.removeFirst();\r\n\r\n\t\t\t\t// Removing the smaller elements indexes which are not required\r\n\t\t\t\twhile ((!list.isEmpty()) &amp;&amp; arr[i] &gt;= arr[list.peekLast()])\r\n\t\t\t\t\tlist.removeLast();\r\n\r\n\t\t\t\t// Adding newly picked element index\r\n\t\t\t\tlist.addLast(i);\r\n\t\t\t}\r\n\r\n\t\t\t// Adding the max number of the current window in the result\r\n\t\t\tresult.add(arr[list.peek()]);\r\n\t\t\treturn result; // returning result\r\n\t\t} else\r\n\t\t\treturn result;\r\n\t}\r\n\r\n```\r\n\r\nNow I couldn&#39;t get the condition mentioned in the while loop that says &quot;removing all the elements indexes which are not in the current window&quot;  ```while ((!list.isEmpty()) &amp;&amp; list.peek() &lt;= i - windowSize) ``` . How could have author  approached this condition ```list.peek() &lt;= i - windowSize ``` to remove all the elements which are not in current window.\r\n\r\nIf some one can give me a break down that how we can reach to this logic or is there any other intuitive condition that does the same job . It would be better if I can get some easy explanation of the above condition used by the author.\r\n\r\nSecondly the author has used ``` ++i ``` in the for loops . Is there a specific reason to choose the pre-increment for this question. \r\n\r\n","title":"Find maximum in sliding window in an array","body":"<p>I was doing one question to find maximum number , given an input array and a sliding windows of given length.</p>\n<p>Input</p>\n<pre><code>nums = [-4,2,-5,1,-1,6]\nwindow_size = 3\n</code></pre>\n<p>Output</p>\n<pre><code>result = [2,2,1,6]\n</code></pre>\n<p>The solution uses deque data structure to track the index and store the maximum value. Below is the code for the solution.</p>\n<pre><code>class MaxSlidingWindow {\n    public static ArrayDeque&lt;Integer&gt; findMaxSlidingWindow(int[] arr, int windowSize) {\n        ArrayDeque&lt;Integer&gt; result = new ArrayDeque&lt;&gt;(); // ArrayDeque for storing values\n        Deque&lt;Integer&gt; list = new ArrayDeque&lt;Integer&gt;(); // creating a linked list\n\n        if (arr.length &gt; 0) {\n            // If window_size is greater than the array size,\n            // set the window_size to nums.size()\n            if (arr.length &lt; windowSize)\n                windowSize = arr.length;\n            for (int i = 0; i &lt; windowSize; ++i) {\n                // Removing last smallest element index\n                while (!list.isEmpty() &amp;&amp; arr[i] &gt;= arr[list.peekLast()]) {\n                    list.removeLast();\n                }\n\n                // Adding newly picked element index\n                list.addLast(i);\n            }\n\n            for (int i = windowSize; i &lt; arr.length; ++i) {\n                result.add(arr[list.peek()]);\n\n                // Removing all the elements indexes which are not in the current window\n                while ((!list.isEmpty()) &amp;&amp; list.peek() &lt;= i - windowSize)\n                    list.removeFirst();\n\n                // Removing the smaller elements indexes which are not required\n                while ((!list.isEmpty()) &amp;&amp; arr[i] &gt;= arr[list.peekLast()])\n                    list.removeLast();\n\n                // Adding newly picked element index\n                list.addLast(i);\n            }\n\n            // Adding the max number of the current window in the result\n            result.add(arr[list.peek()]);\n            return result; // returning result\n        } else\n            return result;\n    }\n\n</code></pre>\n<p>Now I couldn't get the condition mentioned in the while loop that says &quot;removing all the elements indexes which are not in the current window&quot;  <code>while ((!list.isEmpty()) &amp;&amp; list.peek() &lt;= i - windowSize) </code> . How could have author  approached this condition <code>list.peek() &lt;= i - windowSize </code> to remove all the elements which are not in current window.</p>\n<p>If some one can give me a break down that how we can reach to this logic or is there any other intuitive condition that does the same job . It would be better if I can get some easy explanation of the above condition used by the author.</p>\n<p>Secondly the author has used <code>++i</code> in the for loops . Is there a specific reason to choose the pre-increment for this question.</p>\n"},{"tags":["java","swing","serialization","stack-overflow"],"comments":[{"owner":{"account_id":22211,"reputation":11244,"user_id":54564,"accept_rate":85,"display_name":"utdiscant"},"score":0,"creation_date":1231852146,"post_id":438875,"comment_id":261226,"body_markdown":"Oh, and all my code can be found here:\n\nhttp://code.google.com/p/sensor-protocol-simulation/\n\nThe example code was taken from GraphPanel.java in the view part.","body":"Oh, and all my code can be found here:  <a href=\"http://code.google.com/p/sensor-protocol-simulation/\" rel=\"nofollow noreferrer\">code.google.com/p/sensor-protocol-simulation</a>  The example code was taken from GraphPanel.java in the view part."}],"answers":[{"tags":[],"owner":{"account_id":2815,"reputation":52564,"user_id":3978,"accept_rate":86,"display_name":"Douglas Leeder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1231852991,"creation_date":1231852488,"answer_id":438896,"question_id":438875,"body_markdown":"You&#39;ve got some deeply nested ArrayLists.\r\n\r\nI think maybe it&#39;s just going depth first, and that means it&#39;s going for the bottom Sensor, which is too deep.\r\n\r\nMaybe you could create a custom structure with Sensors starting with the bottom Sensor?\r\n\r\nOr maybe you&#39;ll have to provide your own serialisation to handle it? [http://java.sun.com/developer/technicalArticles/Programming/serialization/][1]\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/serialization/","title":"StackOverflowError when serializing an object in Java","body":"<p>You've got some deeply nested ArrayLists.</p>\n\n<p>I think maybe it's just going depth first, and that means it's going for the bottom Sensor, which is too deep.</p>\n\n<p>Maybe you could create a custom structure with Sensors starting with the bottom Sensor?</p>\n\n<p>Or maybe you'll have to provide your own serialisation to handle it? <a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/Programming/serialization/</a></p>\n"},{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231852724,"creation_date":1231852724,"answer_id":438909,"question_id":438875,"body_markdown":"You should create a container class for the objects you want to store. I would not store the complete this object with all the logic inside.\r\n\r\nStore first field by field to find the element which is to big to store it that way.\r\nThan put a breakpoint in the methode and take a look at the field element. Does the element contains links which link to each other?\r\n","title":"StackOverflowError when serializing an object in Java","body":"<p>You should create a container class for the objects you want to store. I would not store the complete this object with all the logic inside.</p>\n\n<p>Store first field by field to find the element which is to big to store it that way.\nThan put a breakpoint in the methode and take a look at the field element. Does the element contains links which link to each other?</p>\n"},{"tags":[],"owner":{"account_id":21515,"reputation":3548,"user_id":52374,"display_name":"WiseTechi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1231853236,"creation_date":1231853236,"answer_id":438928,"question_id":438875,"body_markdown":"You should consider reimplementing the `writeObject` / `readObject` methods of your Simulation class in order to serialize only the relevant data (and not the entire contained object structure by default) or tagging transient your not to be serialized objects.\r\nYou can also use the `Externalizable` interface if needed.\r\n\r\nBTW, you may want to read this [interesting article][1] to begin with.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/serialization/","title":"StackOverflowError when serializing an object in Java","body":"<p>You should consider reimplementing the <code>writeObject</code> / <code>readObject</code> methods of your Simulation class in order to serialize only the relevant data (and not the entire contained object structure by default) or tagging transient your not to be serialized objects.\nYou can also use the <code>Externalizable</code> interface if needed.</p>\n\n<p>BTW, you may want to read this <a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow noreferrer\">interesting article</a> to begin with.</p>\n"},{"tags":[],"owner":{"account_id":21211,"reputation":43403,"user_id":51382,"accept_rate":87,"display_name":"willcodejavaforfood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1231854409,"creation_date":1231854409,"answer_id":438995,"question_id":438875,"body_markdown":"And after you done all that just use XStream instead if you only want to save to a file.","title":"StackOverflowError when serializing an object in Java","body":"<p>And after you done all that just use XStream instead if you only want to save to a file.</p>\n"},{"tags":[],"owner":{"display_name":"Mark Tillotson"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1231854418,"creation_date":1231854418,"answer_id":438996,"question_id":438875,"body_markdown":"Run java with bigger stacks","title":"StackOverflowError when serializing an object in Java","body":"<p>Run java with bigger stacks</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1659946223,"creation_date":1231854825,"answer_id":439016,"question_id":438875,"body_markdown":"Interesting post from Chen:\r\n\r\n[When debugging a stack overflow, you want to focus on the repeating recursive part][1]\r\n\r\nIn your case:\r\n\r\n```java\r\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\nat java.util.ArrayList.writeObject(ArrayList.java:570)\r\nat sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\nat java.lang.reflect.Method.invoke(Method.java:597)\r\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n\r\n```\r\n\r\n&gt; If you go hunting through your defect tracking database trying to see whether this is a known issue or not, a search for the top functions on the stack is unlikely to find anything interesting. \r\n&gt;\r\n&gt; That&#39;s because stack overflows tend to happen at a random point in the recursion; each stack overflow looks superficially different from every other one even if they are the same stack overflow. \r\n&gt;\r\n&gt; Once you get past the initial turmoil, the stack trace settles down into a nice repeating pattern consisting of the same x functions over and over again.  \r\n&gt;\r\n&gt; Identifying the start of the repeating pattern isn&#39;t important, because the starting point will be different for each crash, in the same way that the precise note which exceeds your singing range varies from crash to crash. \r\n&gt;\r\n&gt; Once you&#39;ve identified the repeating part, pick a function from it that is somewhat unusual and search for it in [your defect database][2]. \r\n\r\n[For example][3], a default `ArrayList` serialization.\r\n\r\nHere your [`GrahPanel`][4] refers a [`Simulation`][5] which refers to [`Graph`][6], with potentially long `ArrayList` of Sensor and Edge...\r\n\r\n&gt; Java serialization keeps a record of every object written to a stream.  \r\nIf the same object is encountered a second time, only a reference to it is written to the stream, and not a second copy of the object; so circular references aren&#39;t the problem here.\r\n&gt;\r\n&gt; But serialization is vulnerable to stack overflow for certain kinds of structures; for example, **a long linked list with no special `writeObject()` methods will be serialized by recursively writing each link.  \r\nIf you&#39;ve got a 100,000 links, you&#39;re going to try to use 100,000 stack frames, and quite likely fail with a `StackOverflowError`**.\r\n&gt;\r\n&gt; It&#39;s possible to define a `writeObject()` method for such a list class that, when the first link is serialized, simply walks the list and serializes each link iteratively; this will prevent the default recursive mechanism from being used.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140424233104/http://blogs.msdn.com/b/oldnewthing/archive/2009/01/07/9286576.aspx\r\n  [2]: https://www.google.com/search?q=java.lang.StackOverflowError%20%20ObjectOutputStream%20defaultWriteFields&amp;gws_rd=ssl\r\n  [3]: https://coderanch.com/t/277328/java/java-lang-StackOverflowError-Serialization\r\n  [4]: https://web.archive.org/web/20140827034420/http://code.google.com:80/p/sensor-protocol-simulation/source/browse/trunk/src/protokolsimulering/view/GraphPanel.java?r=20\r\n  [5]: https://web.archive.org/web/20170105135156/https://code.google.com/archive/p/sensor-protocol-simulation/source\r\n  [6]: https://web.archive.org/web/20170105135156/https://code.google.com/archive/p/sensor-protocol-simulation/source","title":"StackOverflowError when serializing an object in Java","body":"<p>Interesting post from Chen:</p>\n<p><a href=\"https://web.archive.org/web/20140424233104/http://blogs.msdn.com/b/oldnewthing/archive/2009/01/07/9286576.aspx\" rel=\"nofollow noreferrer\">When debugging a stack overflow, you want to focus on the repeating recursive part</a></p>\n<p>In your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n\n</code></pre>\n<blockquote>\n<p>If you go hunting through your defect tracking database trying to see whether this is a known issue or not, a search for the top functions on the stack is unlikely to find anything interesting.</p>\n<p>That's because stack overflows tend to happen at a random point in the recursion; each stack overflow looks superficially different from every other one even if they are the same stack overflow.</p>\n<p>Once you get past the initial turmoil, the stack trace settles down into a nice repeating pattern consisting of the same x functions over and over again.</p>\n<p>Identifying the start of the repeating pattern isn't important, because the starting point will be different for each crash, in the same way that the precise note which exceeds your singing range varies from crash to crash.</p>\n<p>Once you've identified the repeating part, pick a function from it that is somewhat unusual and search for it in <a href=\"https://www.google.com/search?q=java.lang.StackOverflowError%20%20ObjectOutputStream%20defaultWriteFields&amp;gws_rd=ssl\" rel=\"nofollow noreferrer\">your defect database</a>.</p>\n</blockquote>\n<p><a href=\"https://coderanch.com/t/277328/java/java-lang-StackOverflowError-Serialization\" rel=\"nofollow noreferrer\">For example</a>, a default <code>ArrayList</code> serialization.</p>\n<p>Here your <a href=\"https://web.archive.org/web/20140827034420/http://code.google.com:80/p/sensor-protocol-simulation/source/browse/trunk/src/protokolsimulering/view/GraphPanel.java?r=20\" rel=\"nofollow noreferrer\"><code>GrahPanel</code></a> refers a <a href=\"https://web.archive.org/web/20170105135156/https://code.google.com/archive/p/sensor-protocol-simulation/source\" rel=\"nofollow noreferrer\"><code>Simulation</code></a> which refers to <a href=\"https://web.archive.org/web/20170105135156/https://code.google.com/archive/p/sensor-protocol-simulation/source\" rel=\"nofollow noreferrer\"><code>Graph</code></a>, with potentially long <code>ArrayList</code> of Sensor and Edge...</p>\n<blockquote>\n<p>Java serialization keeps a record of every object written to a stream.<br />\nIf the same object is encountered a second time, only a reference to it is written to the stream, and not a second copy of the object; so circular references aren't the problem here.</p>\n<p>But serialization is vulnerable to stack overflow for certain kinds of structures; for example, <strong>a long linked list with no special <code>writeObject()</code> methods will be serialized by recursively writing each link.<br />\nIf you've got a 100,000 links, you're going to try to use 100,000 stack frames, and quite likely fail with a <code>StackOverflowError</code></strong>.</p>\n<p>It's possible to define a <code>writeObject()</code> method for such a list class that, when the first link is serialized, simply walks the list and serializes each link iteratively; this will prevent the default recursive mechanism from being used.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3856155,"reputation":51,"user_id":3195037,"display_name":"RofaMagius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390104829,"creation_date":1390103045,"answer_id":21212931,"question_id":438875,"body_markdown":"This code should serve as a model, as it addresses the problem of stackoverflow on serialization. It uses memory inplace of recursion. Although not fit to be concidered universal as a serializer, it serializes and deserializes the classes it was tested with.\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.lang.reflect.*;\r\n    import android.util.*;\r\n    \r\n    public class SequentialObjectInputStream extends DataInputStream implements ObjectInput\r\n    {\r\n    \tinterface FieldPutAction\r\n    \t{\r\n    \t\tvoid put(Object obj, Field field) throws IllegalAccessException, IOException;\r\n    \t}\r\n    \t\r\n    \tinterface ArrayPutAction\r\n    \t{\r\n    \t\tvoid put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException;\r\n    \t}\r\n    \r\n    \tpublic HashMap&lt;Class, FieldPutAction&gt; Primatives;\r\n    \tpublic HashMap&lt;Class, ArrayPutAction&gt; ArrayPrimatives;\r\n    \t\r\n    \tpublic SequentialObjectInputStream(InputStream stream)\r\n    \t{\r\n    \t\tsuper(stream);\r\n    \r\n    \t\tPrimatives = new HashMap&lt;Class, FieldPutAction&gt;();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tPrimatives.put(boolean.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tboolean x = readBoolean(); \r\n    \t\t\t\t\t\tfield.setBoolean(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\t\tPrimatives.put(byte.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tbyte x = readByte(); \r\n    \t\t\t\t\t\tfield.setByte(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tPrimatives.put(short.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tshort x = readShort(); \r\n    \t\t\t\t\t\tfield.setShort(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tPrimatives.put(int.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tint x = readInt(); \r\n    \t\t\t\t\t\tfield.setInt(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tPrimatives.put(long.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlong x = readLong(); \r\n    \t\t\t\t\t\tfield.setLong(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tPrimatives.put(char.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tchar x = readChar(); \r\n    \t\t\t\t\t\tfield.setChar(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tPrimatives.put(float.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tfloat x = readFloat(); \r\n    \t\t\t\t\t\tfield.setFloat(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tPrimatives.put(double.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tdouble x = readDouble(); \r\n    \t\t\t\t\t\tfield.setDouble(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tPrimatives.put(String.class,\r\n    \t\t\t\tnew FieldPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tString x = readUTF(); \r\n    \t\t\t\t\t\tfield.set(obj, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t} catch(Exception e)\r\n    \t\t{\r\n    \t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t}\r\n    \t\t\r\n    \t\tArrayPrimatives = new HashMap&lt;Class, ArrayPutAction&gt;();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tArrayPrimatives.put(boolean.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tboolean x = readBoolean();\r\n    \t\t\t\t\t\tArray.setBoolean(obj, index, x);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\t\tArrayPrimatives.put(byte.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tbyte x = readByte(); \r\n    \t\t\t\t\t\tArray.setByte(obj, index, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(short.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tshort x = readShort(); \r\n    \t\t\t\t\t\tArray.setShort(obj, index, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(int.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tint x = readInt(); \r\n    \t\t\t\t\t\tArray.setInt(obj, index, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(long.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlong x = readLong(); \r\n    \t\t\t\t\t\tArray.setLong(obj, index, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(char.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tchar x = readChar(); \r\n    \t\t\t\t\t\tArray.setChar(obj, index, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(float.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tfloat x = readFloat(); \r\n    \t\t\t\t\t\tArray.setFloat(obj, index, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(double.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tdouble x = readDouble(); \r\n    \t\t\t\t\t\tArray.setDouble(obj, index, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(String.class,\r\n    \t\t\t\tnew ArrayPutAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tString x = readUTF(); \r\n    \t\t\t\t\t\tArray.set(obj, index, x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t} catch(Exception e)\r\n    \t\t{\r\n    \t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic Object readObject() throws ClassNotFoundException, IOException\r\n    \t{\r\n    \t\tlong Total = readLong();\r\n    \t\t\r\n    \t\tLog.i(&quot;SOb&quot;, &quot;readObject : &quot; + Long.toString(Total) + &quot; objects in graph&quot;);\r\n    \t\t\r\n    \t\tHashMap&lt;Long, Object&gt; References = new HashMap&lt;Long, Object&gt;();\r\n    \t\t\r\n    \t\tlong currentId = 1;\r\n    \t\t\r\n    \t\tHashMap&lt;Object, HashMap&lt;Field, Long&gt;&gt; refCache =\r\n    \t\t\tnew HashMap&lt;Object, HashMap&lt;Field, Long&gt;&gt;();\r\n    \t\tfinal HashMap&lt;Object, HashMap&lt;Integer, Long&gt;&gt; arefCache =\r\n    \t\t\tnew HashMap&lt;Object, HashMap&lt;Integer,Long&gt;&gt;();\r\n    \t\t\t\r\n    \t\tfor (int I=0; I &lt; Total; I++)\r\n    \t\t{\r\n    \t\t\tString Name = readUTF();\r\n    \t\t\tClass C = Class.forName(Name);\r\n    \t\t\t\r\n    \t\t\tLog.i(&quot;SOb&quot;, &quot;Object of &quot;+C.getCanonicalName() +&quot; on graph&quot;);\r\n    \t\t\t\r\n    \t\t\tint adim = 0;\r\n    \t\t\t\r\n    \t\t\tObject O = null;\r\n    \t\t\t\r\n    \t\t\tif (C.isArray())\r\n    \t\t\t{\r\n    \t\t\t\tClass ComponentType = C.getComponentType();\r\n    \t\t\t\t\r\n    \t\t\t\tint Size = readInt();\r\n    \t\t\t\t\r\n    \t\t\t\tLog.i(&quot;SOb&quot;, &quot;array of &quot;+ComponentType.getCanonicalName() + &quot;, &quot; + Long.toString(Size) + &quot; elements&quot;);\t\t\t\r\n    \t\t\t\tO = Array.newInstance(ComponentType, Size);\r\n    \t\t\t\r\n    \t\t\t\tReferences.put(currentId, O);\r\n    \t\t\t\tcurrentId++;\r\n    \t\t\t\t\r\n    \t\t\t\tArrayPutAction action = null;\r\n    \t\t\t\t\r\n    \t\t\t\tif (ArrayPrimatives.keySet().contains(ComponentType))\r\n    \t\t\t\t{\r\n    \t\t\t\t\taction = ArrayPrimatives.get(ComponentType);\r\n    \t\t\t\t} else\r\n    \t\t\t\t{\r\n    \t\t\t\t\tarefCache.put(O, new HashMap&lt;Integer, Long&gt;());\r\n    \t\t\t\t\t\r\n    \t\t\t\t\taction = new ArrayPutAction()\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tpublic void put(Object O, int Index) throws ArrayIndexOutOfBoundsException , IOException\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tlong Ref = readLong();\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tarefCache.get(O).put(Index, Ref);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t};\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tfor (int index=0; index&lt; Size; index++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\taction.put(O,index);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t} else\r\n    \t\t\t{\r\n    \t\t\t\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\r\n    \t\t\t\tO = \r\n    \t\t\t\t\tC.getConstructor(new Class[0]).newInstance(new Object[0]);\r\n    \t\t\t} catch(InstantiationException e)\r\n    \t\t\t{\r\n    \t\t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t\t} catch(NoSuchMethodException e)\r\n    \t\t\t{\r\n    \t\t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t\t} catch(IllegalAccessException e)\r\n    \t\t\t{\r\n    \t\t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t\t} catch(InvocationTargetException e)\r\n    \t\t\t{\r\n    \t\t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tReferences.put(currentId, O);\r\n    \t\t\tcurrentId++;\r\n    \t\t\trefCache.put(O, new HashMap&lt;Field, Long&gt;());\r\n    \t\t\t\r\n    \t\t\tfor (Field F : C.getFields())\r\n    \t\t\t{\r\n    \t\t\t\tif (F.isAccessible())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tClass T = F.getType();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (Primatives.containsKey(T))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tPrimatives.get(T).put(O, F);\r\n    \t\t\t\t\t\t} catch (IllegalAccessException e)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\trefCache.get(O).put(F, readLong());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t}\r\n    \t\tfor (long I=0; I &lt; Total; I++)\r\n    \t\t{\r\n    \t\t\r\n    \t\t\tObject O = References.get(I+1);\r\n    \r\n    \t\t\tClass C = O.getClass();\r\n    \t\t\t\r\n    \t\t\t//Log.i(&quot;SOb&quot;, &quot;get reference &quot;+Long.toString(I)+&quot; &quot;+C.getCanonicalName());\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif (C.isArray())\r\n    \t\t\t{\r\n    \t\t\t\tHashMap&lt;Integer,Long&gt; aref_table = arefCache.get(O);\r\n    \t\t\t\t\r\n    \t\t\t\tif (ArrayPrimatives.containsKey(C.getComponentType()) == false)\r\n    \t\t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\t\tint len = Array.getLength(O);\r\n    \t\t\t\t\r\n    \t\t\t\t\tfor (int index=0; index&lt;len; index++)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlong r = aref_table.get(index);\r\n    \t\t\t\t\t\tObject ref = r == 0 ? null : References.get(r);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tArray.set(O, index, ref);\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t} else\r\n    \t\t\t{\r\n    \t\t\t\r\n    \t\t\tHashMap&lt;Field, Long&gt; ref_table = refCache.get(O);\r\n    \t\t\t\r\n    \t\t\tfor (Field F : C.getFields())\r\n    \t\t\t{\r\n    \t\t\t\tif (F.isAccessible())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tClass T = F.getType();\r\n    \r\n    \t\t\t\t\tif (Primatives.containsKey(T) == false)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tlong r = ref_table.get(F);\r\n    \t\t\t\t\t\t\tObject ref = r == 0 ? null : References.get(r);\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tF.set(O, ref);\r\n    \t\t\t\t\t\t} catch (IllegalAccessException e)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\treturn References.get((Long) (long) 1);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.lang.reflect.*;\r\n    import android.util.*;\r\n    \r\n    public class SequentialObjectOutputStream extends DataOutputStream\r\n    implements ObjectOutput\r\n    {\r\n    \tinterface FieldGetAction\r\n    \t{\r\n    \t\tvoid get(Object obj, Field field) throws IllegalAccessException, IOException;\r\n    \t}\r\n    \t\r\n    \tinterface ArrayGetAction\r\n    \t{\r\n    \t\tvoid get(Object array, int Index) throws ArrayIndexOutOfBoundsException, IOException;\t\t\r\n    \t}\r\n    \t\r\n    \tpublic HashMap&lt;Class, FieldGetAction&gt; Primatives;\r\n    \tpublic HashMap&lt;Class, ArrayGetAction&gt; ArrayPrimatives;\r\n    \t\r\n    \tpublic SequentialObjectOutputStream(OutputStream stream)\r\n    \t{\r\n    \t\tsuper(stream);\r\n    \t\t\r\n    \t\tPrimatives = new HashMap&lt;Class, FieldGetAction&gt;();\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tPrimatives.put(boolean.class,\r\n    \t\t\tnew FieldGetAction()\r\n    \t\t\t{\r\n    \t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t{\r\n    \t\t\t\t\tboolean x = field.getBoolean(obj);\r\n    \t\t\t\t\twriteBoolean(x);\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t\tPrimatives.put(byte.class,\r\n    \t\t\t\tnew FieldGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tbyte x = field.getByte(obj);\r\n    \t\t\t\t\t\twriteByte(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\r\n    \r\n    \t\t\tPrimatives.put(short.class,\r\n    \t\t\t\tnew FieldGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tshort x = field.getShort(obj);\r\n    \t\t\t\t\t\twriteShort(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\t\r\n    \r\n    \t\t\tPrimatives.put(int.class,\r\n    \t\t\t\tnew FieldGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tint x = field.getInt(obj);\r\n    \t\t\t\t\t\twriteInt(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\t\r\n    \r\n    \t\t\tPrimatives.put(long.class,\r\n    \t\t\t\tnew FieldGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlong x = field.getLong(obj);\r\n    \t\t\t\t\t\twriteLong(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\t\r\n    \r\n    \t\t\tPrimatives.put(char.class,\r\n    \t\t\t\tnew FieldGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tchar x = field.getChar(obj);\r\n    \t\t\t\t\t\twriteChar(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\t\r\n    \r\n    \t\t\tPrimatives.put(float.class,\r\n    \t\t\t\tnew FieldGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tfloat x = field.getFloat(obj);\r\n    \t\t\t\t\t\twriteFloat(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\t\r\n    \r\n    \t\t\tPrimatives.put(double.class,\r\n    \t\t\t\tnew FieldGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tdouble x = field.getDouble(obj);\r\n    \t\t\t\t\t\twriteDouble(x);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\r\n    \r\n    \t\t\tPrimatives.put(String.class,\r\n    \t\t\t\tnew FieldGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, Field field) throws IllegalAccessException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tString x = (String) field.get(obj);\r\n    \t\t\t\t\t\twriteUTF(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t} catch(Exception e)\r\n    \t\t{\r\n    \t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\tArrayPrimatives = new HashMap&lt;Class, ArrayGetAction&gt;();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tArrayPrimatives.put(boolean.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tboolean x = Array.getBoolean(obj, index);\r\n    \t\t\t\t\t\twriteBoolean(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\t\tArrayPrimatives.put(byte.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tbyte x = Array.getByte(obj, index);\r\n    \t\t\t\t\t\twriteByte(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(short.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tshort x = Array.getShort(obj, index);\r\n    \t\t\t\t\t\twriteShort(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(int.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tint x = Array.getInt(obj, index);\r\n    \t\t\t\t\t\twriteInt(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(long.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tlong x = Array.getLong(obj, index);\r\n    \t\t\t\t\t\twriteLong(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(char.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tchar x = Array.getChar(obj, index);\r\n    \t\t\t\t\t\twriteChar(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(float.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tfloat x = Array.getFloat(obj, index);\r\n    \t\t\t\t\t\twriteFloat(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(double.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tdouble x = Array.getDouble(obj, index);\r\n    \t\t\t\t\t\twriteDouble(x);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \r\n    \t\t\tArrayPrimatives.put(String.class,\r\n    \t\t\t\tnew ArrayGetAction()\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpublic void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException\t\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tString x = (String) Array.get(obj, index);\r\n    \t\t\t\t\t\twriteUTF(x);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t} catch(Exception e)\r\n    \t\t{\r\n    \t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tclass State\r\n    \t{\r\n    \t\tpublic ArrayList&lt;Object&gt; OStack = new ArrayList&lt;Object&gt;();\r\n    \r\n    \t\tpublic long currentId = 1;\r\n    \r\n    \t\tpublic HashMap&lt;Object, Long&gt; References = new HashMap&lt;Object, Long&gt;();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void writeObject(Object A) throws IOException, NotSerializableException\r\n    \t{\r\n    \t\tfinal State state = new State();\r\n    \t\t\r\n    \t\tstate.OStack.add(0, A);\r\n    \t\r\n    \t\tLinkedList&lt;Object&gt; ForStack = new LinkedList&lt;Object&gt;();\r\n    \t\t\r\n    \t\twhile (!(state.OStack.size() == 0))\r\n    \t\t{\r\n    \t\t\tObject Current = state.OStack.get(0);\r\n    \t\t\tstate.OStack.remove(0);\r\n    \t\t\t\r\n    \t\t\tif (((Serializable) Current) == null)\r\n    \t\t\t{\r\n    \t\t\t\tthrow new NotSerializableException();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \r\n    \t\t\t//Type C = Current.getClass();\r\n    \t\t\t\r\n    \t\t\tClass C = Current.getClass();\r\n    \t\t\t\r\n    \t\t\tLog.i(&quot;SOb&quot;, &quot;placing #&quot;+Long.toString(state.currentId)+&quot; of &quot;+C.getCanonicalName()+&quot; on graph&quot;); \r\n    \t\t\tstate.References.put(Current, state.currentId);\r\n    \t\t\tstate.currentId++;\r\n    \t\t\t\r\n    \t\t\tForStack.add(Current);\r\n    \t\t\t\r\n    \t\t\tif (C.isArray())\r\n    \t\t\t{\r\n    \t\t\t\t//Array array = (Array) Current;\r\n    \t\t\t\tClass Ctype = C.getComponentType();\r\n    \t\t\t\t\r\n    \t\t\t\tif (ArrayPrimatives.keySet().contains(Ctype) == false)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tfor (int I=0; I&lt;Array.getLength(Current); I++)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tObject o = Array.get(Current, I);\r\n    \r\n    \t\t\t\t\t\tif ((o != null) &amp;&amp; (state.References.keySet().contains(o) == false))\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tif (state.OStack.contains(o) == false) state.OStack.add(state.OStack.size(), o);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t} else\r\n    \t\t\t{\r\n    \t\t\t\tfor (Class Cur = C; Cur != null; Cur = Cur.getSuperclass())\r\n    \t\t\t\t{\r\n    \t\t\t\r\n    \t\t\t\t\tField[] fields = Cur.getDeclaredFields();\r\n    \t\t\t\r\n    \t\t\t\t\tfor (Field f : fields)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tif (Modifier.isStatic(f.getModifiers()))\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tf.setAccessible(true);\r\n    \t\t\t\t\r\n    \t\t\t\t\t\tif (f.isAccessible() == false)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t//\tLog.i(&quot;SOb&quot;, &quot;     isAccessible = false&quot;);\r\n    \t\t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tClass type = f.getType();\r\n    \t\t\t\t\t\t//Log.i(&quot;SOb&quot;, &quot;     field \\&quot;&quot;+f.getName()+&quot;\\&quot; of &quot;+type.getCanonicalName());\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tif (Primatives.keySet().contains(type) == false)\r\n    \t\t\t\t\t\t{\t\t\r\n    \t\t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\tObject o = f.get(Current);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\t\t\tif ((o != null) &amp;&amp; (state.References.keySet().contains(o) == false))\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\tif (state.OStack.contains(o) == false) state.OStack.add(state.OStack.size(), o);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t} catch (IllegalAccessException e)\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\twriteLong(state.References.size());\r\n    \t\t\r\n    \t\tfor (Object O : ForStack )\r\n    \t\t{\r\n    \t\t\tSerializable s = (Serializable) O;\r\n    \t\t\t\r\n    \t\t//\tif (s != null)\r\n    \t\t\t{\r\n    \t\t\t\tClass cl = O.getClass();\r\n    \t\t\t\t\r\n    \t\t\t\tString name = cl.getName();\r\n    \t\t\t\t\r\n    \t\t\t\twriteUTF(name);\r\n    \t\t\t\t\r\n    \t\t\t\tif (cl.isArray())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tClass components = cl.getComponentType();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tArrayGetAction action;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//Array array = (Array) O;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (ArrayPrimatives.keySet().contains(components))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\taction = ArrayPrimatives.get(components);\r\n    \t\t\t\t\t} else\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\taction = new ArrayGetAction()\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tpublic void get(Object array, int index) throws ArrayIndexOutOfBoundsException, IOException\t\t\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\tObject O = Array.get(array, index);\r\n    \t\t\t\t\t\t\t\tif (O==null)  writeLong(0);\r\n    \t\t\t\t\t\t\t\telse writeLong(state.References.get(O));\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tint length = Array.getLength(O);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\twriteInt(length);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tfor (int I=0; I&lt;length; I++)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\taction.get(O, I);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else\r\n    \t\t\t\t{\r\n    \t\t\t\t\tfor (Class Cur = cl; Cur != null; Cur = Cur.getSuperclass())\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tField[] fields = Cur.getDeclaredFields();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tfor (Field F : fields)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tClass FieldType = F.getType();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\t\tF.setAccessible(true);\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tif (F.isAccessible() &amp;&amp; (Modifier.isStatic(FieldType.getModifiers())))\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\tFieldGetAction action;\r\n    \r\n    \t\t\t\t\t\t\t\t//Array array = (Array) O;\r\n    \r\n    \t\t\t\t\t\t\t\tif (Primatives.keySet().contains(FieldType))\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\taction = Primatives.get(FieldType);\r\n    \t\t\t\t\t\t\t\t} else\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\taction = new FieldGetAction()\r\n    \t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\tpublic void get(Object obj, Field index) throws IllegalAccessException, IOException\t\t\r\n    \t\t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\t\tObject O = index.get(obj);\r\n    \t\t\t\t\t\t\t\t\t\t\tif (O==null)  writeLong(0);\r\n    \t\t\t\t\t\t\t\t\t\t\telse writeLong(state.References.get(O));\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t};\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\ttry\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\taction.get(O, F);\r\n    \t\t\t\t\t\t\t\t} catch (IllegalAccessException e)\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\tLog.e(&quot;SOb&quot;, Log.getStackTraceString(e));\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"StackOverflowError when serializing an object in Java","body":"<p>This code should serve as a model, as it addresses the problem of stackoverflow on serialization. It uses memory inplace of recursion. Although not fit to be concidered universal as a serializer, it serializes and deserializes the classes it was tested with.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.lang.reflect.*;\nimport android.util.*;\n\npublic class SequentialObjectInputStream extends DataInputStream implements ObjectInput\n{\n    interface FieldPutAction\n    {\n        void put(Object obj, Field field) throws IllegalAccessException, IOException;\n    }\n\n    interface ArrayPutAction\n    {\n        void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException;\n    }\n\n    public HashMap&lt;Class, FieldPutAction&gt; Primatives;\n    public HashMap&lt;Class, ArrayPutAction&gt; ArrayPrimatives;\n\n    public SequentialObjectInputStream(InputStream stream)\n    {\n        super(stream);\n\n        Primatives = new HashMap&lt;Class, FieldPutAction&gt;();\n\n        try\n        {\n            Primatives.put(boolean.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        boolean x = readBoolean(); \n                        field.setBoolean(obj, x);\n\n                    }\n                });\n\n            Primatives.put(byte.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        byte x = readByte(); \n                        field.setByte(obj, x);\n\n                    }\n                });\n\n\n            Primatives.put(short.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        short x = readShort(); \n                        field.setShort(obj, x);\n\n                    }\n                });\n\n\n            Primatives.put(int.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        int x = readInt(); \n                        field.setInt(obj, x);\n\n                    }\n                });\n\n\n            Primatives.put(long.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        long x = readLong(); \n                        field.setLong(obj, x);\n\n                    }\n                });\n\n\n            Primatives.put(char.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        char x = readChar(); \n                        field.setChar(obj, x);\n\n                    }\n                });\n\n\n            Primatives.put(float.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        float x = readFloat(); \n                        field.setFloat(obj, x);\n\n                    }\n                });\n\n\n            Primatives.put(double.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        double x = readDouble(); \n                        field.setDouble(obj, x);\n\n                    }\n                });\n\n\n            Primatives.put(String.class,\n                new FieldPutAction()\n                {\n                    public void put(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        String x = readUTF(); \n                        field.set(obj, x);\n\n                    }\n                });\n        } catch(Exception e)\n        {\n            Log.e(\"SOb\", Log.getStackTraceString(e));\n        }\n\n        ArrayPrimatives = new HashMap&lt;Class, ArrayPutAction&gt;();\n\n        try\n        {\n            ArrayPrimatives.put(boolean.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        boolean x = readBoolean();\n                        Array.setBoolean(obj, index, x);\n                    }\n                });\n\n            ArrayPrimatives.put(byte.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        byte x = readByte(); \n                        Array.setByte(obj, index, x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(short.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        short x = readShort(); \n                        Array.setShort(obj, index, x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(int.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        int x = readInt(); \n                        Array.setInt(obj, index, x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(long.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        long x = readLong(); \n                        Array.setLong(obj, index, x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(char.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        char x = readChar(); \n                        Array.setChar(obj, index, x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(float.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        float x = readFloat(); \n                        Array.setFloat(obj, index, x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(double.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        double x = readDouble(); \n                        Array.setDouble(obj, index, x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(String.class,\n                new ArrayPutAction()\n                {\n                    public void put(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        String x = readUTF(); \n                        Array.set(obj, index, x);\n\n                    }\n                });\n        } catch(Exception e)\n        {\n            Log.e(\"SOb\", Log.getStackTraceString(e));\n        }\n    }\n\n\n    @Override\n    public Object readObject() throws ClassNotFoundException, IOException\n    {\n        long Total = readLong();\n\n        Log.i(\"SOb\", \"readObject : \" + Long.toString(Total) + \" objects in graph\");\n\n        HashMap&lt;Long, Object&gt; References = new HashMap&lt;Long, Object&gt;();\n\n        long currentId = 1;\n\n        HashMap&lt;Object, HashMap&lt;Field, Long&gt;&gt; refCache =\n            new HashMap&lt;Object, HashMap&lt;Field, Long&gt;&gt;();\n        final HashMap&lt;Object, HashMap&lt;Integer, Long&gt;&gt; arefCache =\n            new HashMap&lt;Object, HashMap&lt;Integer,Long&gt;&gt;();\n\n        for (int I=0; I &lt; Total; I++)\n        {\n            String Name = readUTF();\n            Class C = Class.forName(Name);\n\n            Log.i(\"SOb\", \"Object of \"+C.getCanonicalName() +\" on graph\");\n\n            int adim = 0;\n\n            Object O = null;\n\n            if (C.isArray())\n            {\n                Class ComponentType = C.getComponentType();\n\n                int Size = readInt();\n\n                Log.i(\"SOb\", \"array of \"+ComponentType.getCanonicalName() + \", \" + Long.toString(Size) + \" elements\");          \n                O = Array.newInstance(ComponentType, Size);\n\n                References.put(currentId, O);\n                currentId++;\n\n                ArrayPutAction action = null;\n\n                if (ArrayPrimatives.keySet().contains(ComponentType))\n                {\n                    action = ArrayPrimatives.get(ComponentType);\n                } else\n                {\n                    arefCache.put(O, new HashMap&lt;Integer, Long&gt;());\n\n                    action = new ArrayPutAction()\n                    {\n                        public void put(Object O, int Index) throws ArrayIndexOutOfBoundsException , IOException\n                        {\n                            long Ref = readLong();\n\n                            arefCache.get(O).put(Index, Ref);\n                        }\n                    };\n                }\n\n                for (int index=0; index&lt; Size; index++)\n                {\n                    action.put(O,index);\n                }\n\n            } else\n            {\n\n            try\n            {\n\n                O = \n                    C.getConstructor(new Class[0]).newInstance(new Object[0]);\n            } catch(InstantiationException e)\n            {\n                Log.e(\"SOb\", Log.getStackTraceString(e));\n            } catch(NoSuchMethodException e)\n            {\n                Log.e(\"SOb\", Log.getStackTraceString(e));\n            } catch(IllegalAccessException e)\n            {\n                Log.e(\"SOb\", Log.getStackTraceString(e));\n            } catch(InvocationTargetException e)\n            {\n                Log.e(\"SOb\", Log.getStackTraceString(e));\n            }\n\n            References.put(currentId, O);\n            currentId++;\n            refCache.put(O, new HashMap&lt;Field, Long&gt;());\n\n            for (Field F : C.getFields())\n            {\n                if (F.isAccessible())\n                {\n                    Class T = F.getType();\n\n                    if (Primatives.containsKey(T))\n                    {\n                        try\n                        {\n                            Primatives.get(T).put(O, F);\n                        } catch (IllegalAccessException e)\n                        {\n\n                        }\n                    } else\n                    {\n                        refCache.get(O).put(F, readLong());\n                    }\n                }\n            }\n\n        }\n        }\n        for (long I=0; I &lt; Total; I++)\n        {\n\n            Object O = References.get(I+1);\n\n            Class C = O.getClass();\n\n            //Log.i(\"SOb\", \"get reference \"+Long.toString(I)+\" \"+C.getCanonicalName());\n\n\n            if (C.isArray())\n            {\n                HashMap&lt;Integer,Long&gt; aref_table = arefCache.get(O);\n\n                if (ArrayPrimatives.containsKey(C.getComponentType()) == false)\n                {\n\n                    int len = Array.getLength(O);\n\n                    for (int index=0; index&lt;len; index++)\n                    {\n                        long r = aref_table.get(index);\n                        Object ref = r == 0 ? null : References.get(r);\n\n                        Array.set(O, index, ref);   \n                    }\n                }\n\n            } else\n            {\n\n            HashMap&lt;Field, Long&gt; ref_table = refCache.get(O);\n\n            for (Field F : C.getFields())\n            {\n                if (F.isAccessible())\n                {\n                    Class T = F.getType();\n\n                    if (Primatives.containsKey(T) == false)\n                    {\n                        try\n                        {\n                            long r = ref_table.get(F);\n                            Object ref = r == 0 ? null : References.get(r);\n\n                            F.set(O, ref);\n                        } catch (IllegalAccessException e)\n                        {\n                            Log.e(\"SOb\", Log.getStackTraceString(e));\n                        }\n\n                    }\n                }\n            }\n            }\n\n        }\n\n\n        return References.get((Long) (long) 1);\n    }\n\n}\n\n\nimport java.io.*;\nimport java.util.*;\nimport java.lang.reflect.*;\nimport android.util.*;\n\npublic class SequentialObjectOutputStream extends DataOutputStream\nimplements ObjectOutput\n{\n    interface FieldGetAction\n    {\n        void get(Object obj, Field field) throws IllegalAccessException, IOException;\n    }\n\n    interface ArrayGetAction\n    {\n        void get(Object array, int Index) throws ArrayIndexOutOfBoundsException, IOException;       \n    }\n\n    public HashMap&lt;Class, FieldGetAction&gt; Primatives;\n    public HashMap&lt;Class, ArrayGetAction&gt; ArrayPrimatives;\n\n    public SequentialObjectOutputStream(OutputStream stream)\n    {\n        super(stream);\n\n        Primatives = new HashMap&lt;Class, FieldGetAction&gt;();\n\n        try\n        {\n            Primatives.put(boolean.class,\n            new FieldGetAction()\n            {\n                public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                {\n                    boolean x = field.getBoolean(obj);\n                    writeBoolean(x);\n\n                }\n            });\n\n            Primatives.put(byte.class,\n                new FieldGetAction()\n                {\n                    public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        byte x = field.getByte(obj);\n                        writeByte(x);\n\n                    }\n                });\n\n\n            Primatives.put(short.class,\n                new FieldGetAction()\n                {\n                    public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        short x = field.getShort(obj);\n                        writeShort(x);\n\n                    }\n                });\n\n\n            Primatives.put(int.class,\n                new FieldGetAction()\n                {\n                    public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        int x = field.getInt(obj);\n                        writeInt(x);\n\n                    }\n                });\n\n\n            Primatives.put(long.class,\n                new FieldGetAction()\n                {\n                    public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        long x = field.getLong(obj);\n                        writeLong(x);\n\n                    }\n                });\n\n\n            Primatives.put(char.class,\n                new FieldGetAction()\n                {\n                    public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        char x = field.getChar(obj);\n                        writeChar(x);\n\n                    }\n                });\n\n\n            Primatives.put(float.class,\n                new FieldGetAction()\n                {\n                    public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        float x = field.getFloat(obj);\n                        writeFloat(x);\n\n                    }\n                });\n\n\n            Primatives.put(double.class,\n                new FieldGetAction()\n                {\n                    public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        double x = field.getDouble(obj);\n                        writeDouble(x);\n                    }\n                });\n\n\n            Primatives.put(String.class,\n                new FieldGetAction()\n                {\n                    public void get(Object obj, Field field) throws IllegalAccessException, IOException \n                    {\n                        String x = (String) field.get(obj);\n                        writeUTF(x);\n\n                    }\n                });\n        } catch(Exception e)\n        {\n            Log.e(\"SOb\", Log.getStackTraceString(e));\n        }\n\n\n\n        ArrayPrimatives = new HashMap&lt;Class, ArrayGetAction&gt;();\n\n        try\n        {\n            ArrayPrimatives.put(boolean.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        boolean x = Array.getBoolean(obj, index);\n                        writeBoolean(x);\n\n                    }\n                });\n\n            ArrayPrimatives.put(byte.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        byte x = Array.getByte(obj, index);\n                        writeByte(x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(short.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        short x = Array.getShort(obj, index);\n                        writeShort(x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(int.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        int x = Array.getInt(obj, index);\n                        writeInt(x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(long.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        long x = Array.getLong(obj, index);\n                        writeLong(x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(char.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        char x = Array.getChar(obj, index);\n                        writeChar(x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(float.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        float x = Array.getFloat(obj, index);\n                        writeFloat(x);\n\n                    }\n                });\n\n\n            ArrayPrimatives.put(double.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        double x = Array.getDouble(obj, index);\n                        writeDouble(x);\n                    }\n                });\n\n\n            ArrayPrimatives.put(String.class,\n                new ArrayGetAction()\n                {\n                    public void get(Object obj, int index) throws ArrayIndexOutOfBoundsException, IOException   \n                    {\n                        String x = (String) Array.get(obj, index);\n                        writeUTF(x);\n\n                    }\n                });\n        } catch(Exception e)\n        {\n            Log.e(\"SOb\", Log.getStackTraceString(e));\n        }\n\n    }\n\n    class State\n    {\n        public ArrayList&lt;Object&gt; OStack = new ArrayList&lt;Object&gt;();\n\n        public long currentId = 1;\n\n        public HashMap&lt;Object, Long&gt; References = new HashMap&lt;Object, Long&gt;();\n\n    }\n\n    public void writeObject(Object A) throws IOException, NotSerializableException\n    {\n        final State state = new State();\n\n        state.OStack.add(0, A);\n\n        LinkedList&lt;Object&gt; ForStack = new LinkedList&lt;Object&gt;();\n\n        while (!(state.OStack.size() == 0))\n        {\n            Object Current = state.OStack.get(0);\n            state.OStack.remove(0);\n\n            if (((Serializable) Current) == null)\n            {\n                throw new NotSerializableException();\n            }\n\n\n            //Type C = Current.getClass();\n\n            Class C = Current.getClass();\n\n            Log.i(\"SOb\", \"placing #\"+Long.toString(state.currentId)+\" of \"+C.getCanonicalName()+\" on graph\"); \n            state.References.put(Current, state.currentId);\n            state.currentId++;\n\n            ForStack.add(Current);\n\n            if (C.isArray())\n            {\n                //Array array = (Array) Current;\n                Class Ctype = C.getComponentType();\n\n                if (ArrayPrimatives.keySet().contains(Ctype) == false)\n                {\n                    for (int I=0; I&lt;Array.getLength(Current); I++)\n                    {\n                        Object o = Array.get(Current, I);\n\n                        if ((o != null) &amp;&amp; (state.References.keySet().contains(o) == false))\n                        {\n                            if (state.OStack.contains(o) == false) state.OStack.add(state.OStack.size(), o);\n                        }\n\n                    }\n                }\n            } else\n            {\n                for (Class Cur = C; Cur != null; Cur = Cur.getSuperclass())\n                {\n\n                    Field[] fields = Cur.getDeclaredFields();\n\n                    for (Field f : fields)\n                    {\n                        if (Modifier.isStatic(f.getModifiers()))\n                        {\n                            continue;\n                        }\n\n                        f.setAccessible(true);\n\n                        if (f.isAccessible() == false)\n                        {\n                        //  Log.i(\"SOb\", \"     isAccessible = false\");\n                            continue;\n                        }\n\n                        Class type = f.getType();\n                        //Log.i(\"SOb\", \"     field \\\"\"+f.getName()+\"\\\" of \"+type.getCanonicalName());\n\n                        if (Primatives.keySet().contains(type) == false)\n                        {       \n                            try\n                            {\n                                Object o = f.get(Current);\n\n                                if ((o != null) &amp;&amp; (state.References.keySet().contains(o) == false))\n                                {\n                                    if (state.OStack.contains(o) == false) state.OStack.add(state.OStack.size(), o);\n                                }\n\n                            } catch (IllegalAccessException e)\n                            {\n                                Log.e(\"SOb\", Log.getStackTraceString(e));\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        writeLong(state.References.size());\n\n        for (Object O : ForStack )\n        {\n            Serializable s = (Serializable) O;\n\n        //  if (s != null)\n            {\n                Class cl = O.getClass();\n\n                String name = cl.getName();\n\n                writeUTF(name);\n\n                if (cl.isArray())\n                {\n                    Class components = cl.getComponentType();\n\n                    ArrayGetAction action;\n\n                    //Array array = (Array) O;\n\n                    if (ArrayPrimatives.keySet().contains(components))\n                    {\n                        action = ArrayPrimatives.get(components);\n                    } else\n                    {\n                        action = new ArrayGetAction()\n                        {\n                            public void get(Object array, int index) throws ArrayIndexOutOfBoundsException, IOException     \n                            {\n                                Object O = Array.get(array, index);\n                                if (O==null)  writeLong(0);\n                                else writeLong(state.References.get(O));\n                            }\n                        };\n                    }\n\n                    int length = Array.getLength(O);\n\n                    writeInt(length);\n\n                    for (int I=0; I&lt;length; I++)\n                    {\n                        action.get(O, I);\n                    }\n\n                } else\n                {\n                    for (Class Cur = cl; Cur != null; Cur = Cur.getSuperclass())\n                    {\n                        Field[] fields = Cur.getDeclaredFields();\n\n                        for (Field F : fields)\n                        {\n                            Class FieldType = F.getType();\n\n                            F.setAccessible(true);\n\n                            if (F.isAccessible() &amp;&amp; (Modifier.isStatic(FieldType.getModifiers())))\n                            {\n                                FieldGetAction action;\n\n                                //Array array = (Array) O;\n\n                                if (Primatives.keySet().contains(FieldType))\n                                {\n                                    action = Primatives.get(FieldType);\n                                } else\n                                {\n                                    action = new FieldGetAction()\n                                    {\n                                        public void get(Object obj, Field index) throws IllegalAccessException, IOException     \n                                        {\n                                            Object O = index.get(obj);\n                                            if (O==null)  writeLong(0);\n                                            else writeLong(state.References.get(O));\n                                        }\n                                    };\n                                }\n\n                                try\n                                {\n                                    action.get(O, F);\n                                } catch (IllegalAccessException e)\n                                {\n                                    Log.e(\"SOb\", Log.getStackTraceString(e));\n                                }\n\n                            }\n                        }\n\n                    }\n                }\n            }   \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241904,"reputation":4316,"user_id":513038,"accept_rate":55,"display_name":"Erhannis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491839590,"creation_date":1491839590,"answer_id":43327778,"question_id":438875,"body_markdown":"I had a similar problem.  After much hunting, I found a fork of Kryo designed to handle deeply nested objects.  Via https://github.com/EsotericSoftware/kryo/issues/103 , clone and `mvn clean install` https://github.com/romix/kryo/tree/kryo-2.23-continuations .  It&#39;s currently `com.esotericsoftware.kryo:kryo:2.23-SNAPSHOT`.","title":"StackOverflowError when serializing an object in Java","body":"<p>I had a similar problem.  After much hunting, I found a fork of Kryo designed to handle deeply nested objects.  Via <a href=\"https://github.com/EsotericSoftware/kryo/issues/103\" rel=\"nofollow noreferrer\">https://github.com/EsotericSoftware/kryo/issues/103</a> , clone and <code>mvn clean install</code> <a href=\"https://github.com/romix/kryo/tree/kryo-2.23-continuations\" rel=\"nofollow noreferrer\">https://github.com/romix/kryo/tree/kryo-2.23-continuations</a> .  It's currently <code>com.esotericsoftware.kryo:kryo:2.23-SNAPSHOT</code>.</p>\n"}],"owner":{"account_id":22211,"reputation":11244,"user_id":54564,"accept_rate":85,"display_name":"utdiscant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16935,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":439016,"answer_count":8,"score":11,"last_activity_date":1659946223,"creation_date":1231852050,"question_id":438875,"body_markdown":"I am writing an application in Java using Swing. I am trying to implement functionality to save and load simulation states for at simulation i am running. The entire simulation is kept as an object, disconnected from Swing. I am trying to serialize my Simulation class with this code:\r\n\r\n    public void saveSimulationState(String simulationFile) {\r\n        try {\r\n            Serializable object = this.sm;\r\n            ObjectOutputStream objstream = new ObjectOutputStream(new FileOutputStream(simulationFile));\r\n            objstream.writeObject(object);\r\n            objstream.close();\r\n        } catch (IOException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\nBut i get the following error (it is huge).\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError\r\n            at java.io.ObjectStreamClass.processQueue(ObjectStreamClass.java:2234)\r\n            at java.io.ObjectStreamClass.lookup(ObjectStreamClass.java:266)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1106)\r\n            at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\n            at java.util.ArrayList.writeObject(ArrayList.java:570)\r\n            at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\n            at java.util.ArrayList.writeObject(ArrayList.java:570)\r\n            at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\n            at java.util.ArrayList.writeObject(ArrayList.java:570)\r\n            at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\n            at java.util.ArrayList.writeObject(ArrayList.java:570)\r\n            at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\n            at java.util.ArrayList.writeObject(ArrayList.java:570)\r\n            at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\n            at java.util.ArrayList.writeObject(ArrayList.java:570)\r\n            at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\n            at java.util.ArrayList.writeObject(ArrayList.java:570)\r\n            at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\r\n            at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\r\n            at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\r\n            at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\r\n            at java.util.ArrayList.writeObject(ArrayList.java:570)\r\n            at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\r\n            at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\r\n\r\nCan anybody tell me what is causing this exception?","title":"StackOverflowError when serializing an object in Java","body":"<p>I am writing an application in Java using Swing. I am trying to implement functionality to save and load simulation states for at simulation i am running. The entire simulation is kept as an object, disconnected from Swing. I am trying to serialize my Simulation class with this code:</p>\n\n<pre><code>public void saveSimulationState(String simulationFile) {\n    try {\n        Serializable object = this.sm;\n        ObjectOutputStream objstream = new ObjectOutputStream(new FileOutputStream(simulationFile));\n        objstream.writeObject(object);\n        objstream.close();\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n\n<p>But i get the following error (it is huge).</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.StackOverflowError\n        at java.io.ObjectStreamClass.processQueue(ObjectStreamClass.java:2234)\n        at java.io.ObjectStreamClass.lookup(ObjectStreamClass.java:266)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1106)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n        at java.util.ArrayList.writeObject(ArrayList.java:570)\n        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n        at java.util.ArrayList.writeObject(ArrayList.java:570)\n        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n        at java.util.ArrayList.writeObject(ArrayList.java:570)\n        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n        at java.util.ArrayList.writeObject(ArrayList.java:570)\n        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n        at java.util.ArrayList.writeObject(ArrayList.java:570)\n        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n        at java.util.ArrayList.writeObject(ArrayList.java:570)\n        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n        at java.util.ArrayList.writeObject(ArrayList.java:570)\n        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1474)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326)\n        at java.util.ArrayList.writeObject(ArrayList.java:570)\n        at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461)\n</code></pre>\n\n<p>Can anybody tell me what is causing this exception?</p>\n"},{"tags":["java","kotlin","rx-java","rx-kotlin"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659946211,"creation_date":1659946211,"answer_id":73274706,"question_id":73273814,"body_markdown":"This is currently not possible in RxJava directly. I&#39;ll think about adding support for this. \r\n\r\nFor now, you could queue up items before the throttle, then call destroy on any of them not the current item:\r\n\r\n```java\r\nConcurrentQueue&lt;T&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\r\nobservable\r\n         .doOnNext(queue::offer)\r\n         .throttleLatest(1000, TimeUnit.MILLISECONDS)\r\n         .subscribe ( myObject -&gt; {\r\n             while (!queue.isEmpty()) {\r\n                 var entry = queue.poll();\r\n                 if (entry == myObject) {\r\n                     break;\r\n                 }\r\n                 entry.destroyed()\r\n             }\r\n             myObject.afterOneSecond()\r\n         });\r\n```\r\n\r\nTwo caveats though:\r\n- Items must be unique references, i.e., sending the very same object through the observable won&#39;t work.\r\n- Items are referenced for the duration of the throttling instead of released immediately when dropped.","title":"Listener for objects that are dropped by throttle","body":"<p>This is currently not possible in RxJava directly. I'll think about adding support for this.</p>\n<p>For now, you could queue up items before the throttle, then call destroy on any of them not the current item:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConcurrentQueue&lt;T&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\nobservable\n         .doOnNext(queue::offer)\n         .throttleLatest(1000, TimeUnit.MILLISECONDS)\n         .subscribe ( myObject -&gt; {\n             while (!queue.isEmpty()) {\n                 var entry = queue.poll();\n                 if (entry == myObject) {\n                     break;\n                 }\n                 entry.destroyed()\n             }\n             myObject.afterOneSecond()\n         });\n</code></pre>\n<p>Two caveats though:</p>\n<ul>\n<li>Items must be unique references, i.e., sending the very same object through the observable won't work.</li>\n<li>Items are referenced for the duration of the throttling instead of released immediately when dropped.</li>\n</ul>\n"}],"owner":{"account_id":945318,"reputation":8080,"user_id":972671,"accept_rate":46,"display_name":"Kingfisher Phuoc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659946211,"creation_date":1659941314,"question_id":73273814,"body_markdown":"Currently, I am trying to use throttle with my observable:\r\n\r\n```\r\nobservable\r\n         .throttleLatest(1000, TimeUnit.MILLISECONDS)\r\n         .subscribe { myObject -&gt;\r\n             myObject.doA()\r\n         }\r\n```\r\nThe problem here is that I want to destroy all objects of the Observable. If it&#39;s dropped, destroy it immediately. Otherwise, destroy it after the onNext callback. Is there any kind of callback to know the objects that are dropped? Something likes:\r\n\r\n```\r\nobservable\r\n         .throttleLatest(1000, TimeUnit.MILLISECONDS)\r\n         .onDrop { objectThatGotDropped -&gt;\r\n            objectThatGotDropped.destroyed()\r\n         }\r\n         .subscribe { myObject -&gt;\r\n             myObject.afterOneSecond()\r\n             objectThatGotDropped.destroyed()\r\n         }\r\n```","title":"Listener for objects that are dropped by throttle","body":"<p>Currently, I am trying to use throttle with my observable:</p>\n<pre><code>observable\n         .throttleLatest(1000, TimeUnit.MILLISECONDS)\n         .subscribe { myObject -&gt;\n             myObject.doA()\n         }\n</code></pre>\n<p>The problem here is that I want to destroy all objects of the Observable. If it's dropped, destroy it immediately. Otherwise, destroy it after the onNext callback. Is there any kind of callback to know the objects that are dropped? Something likes:</p>\n<pre><code>observable\n         .throttleLatest(1000, TimeUnit.MILLISECONDS)\n         .onDrop { objectThatGotDropped -&gt;\n            objectThatGotDropped.destroyed()\n         }\n         .subscribe { myObject -&gt;\n             myObject.afterOneSecond()\n             objectThatGotDropped.destroyed()\n         }\n</code></pre>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":25984899,"reputation":104,"user_id":19698003,"display_name":"Dawid Frankiewicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659946020,"creation_date":1659946020,"answer_id":73274662,"question_id":73273813,"body_markdown":"My idea is to create array of elements, generate number of total elements, in loop get random element for each with random parameters.\r\n\r\nYou can get random numbers in range you need using this function\r\n\r\n    public int getRandomNumberUsingInts(int min, int max) {\r\n        Random random = new Random();\r\n        return random.ints(min, max)\r\n          .findFirst()\r\n          .getAsInt();\r\n    }","title":"Create multiples objects with different parameters","body":"<p>My idea is to create array of elements, generate number of total elements, in loop get random element for each with random parameters.</p>\n<p>You can get random numbers in range you need using this function</p>\n<pre><code>public int getRandomNumberUsingInts(int min, int max) {\n    Random random = new Random();\n    return random.ints(min, max)\n      .findFirst()\n      .getAsInt();\n}\n</code></pre>\n"}],"owner":{"account_id":26005844,"reputation":1,"user_id":19715555,"display_name":"user19715555"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659946020,"creation_date":1659941313,"question_id":73273813,"body_markdown":"I have trouble to making &quot;levels&quot; in my FROGGER game in java. What i try to do is create different levels but I&#39;m looking for a way to do it dynamically without having to add all the elements manually.\r\n\r\nFor all items, parameters are X and Y positions. (except Driveway)\r\n\r\nFor Driveway : \r\n- the first parameter is the direction of the driveway AND when i create a group of driveways in a row, they have to be in the same direction.\r\n- the second parameter is the Y position\r\n- the third is the &quot;groupe&quot; of the driveway (basicaly what i describe above such as &quot;driveways in a row that have the same direction&quot;.\r\n\r\nDoes anyone have any idea how I can do this ?\r\n\r\nThanks for your help !\r\n\r\n\r\n\r\n        private void generateMapOfLevels() {\r\n\r\n        switch (this.level) {\r\n            case 1 -&gt; {\r\n\r\n                fixedGameElementList.add(new CentralBerm(0, 60));\r\n                fixedGameElementList.add(new DriveWay(-1, 30, 5));\r\n                fixedGameElementList.add(new River(0, 90));\r\n                fixedGameElementList.add(new DriveWay(1, 120, 4));\r\n                fixedGameElementList.add(new DriveWay(1, 150, 4));\r\n                fixedGameElementList.add(new River(0, 180));\r\n                fixedGameElementList.add(new CentralBerm(0, 210));\r\n                fixedGameElementList.add(new DriveWay(-1, 240, 3));\r\n                fixedGameElementList.add(new DriveWay(-1, 270, 3));\r\n                fixedGameElementList.add(new CentralBerm(0, 300));\r\n                fixedGameElementList.add(new DriveWay(1, 330, 2));\r\n                fixedGameElementList.add(new DriveWay(1, 360, 2));\r\n                fixedGameElementList.add(new DriveWay(1, 390, 2));\r\n                fixedGameElementList.add(new DriveWay(1, 420, 2));\r\n                fixedGameElementList.add(new River(1, 450));\r\n                fixedGameElementList.add(new DriveWay(-1, 480, 1));\r\n                fixedGameElementList.add(new DriveWay(-1, 510, 1));\r\n                fixedGameElementList.add(new DriveWay(-1, 540, 1));\r\n                generate(&quot;log&quot;);\r\n                generate(&quot;coin&quot;);\r\n                generate(&quot;insect&quot;);\r\n\r\n                fixedGameElementList.add(new Pill(getRandomCoordinate(), getRandomCoordinate()));\r\n\r\n            }\r\n\r\n\r\n            case 2 -&gt; {\r\n                resetLists();\r\n                resetVariables();\r\n                fixedGameElementList.add(new River(1, 60));\r\n                fixedGameElementList.add(new DriveWay(-1, 30, 5));\r\n                fixedGameElementList.add(new River(1, 90));\r\n                fixedGameElementList.add(new DriveWay(1, 120, 4));\r\n                fixedGameElementList.add(new DriveWay(1, 150, 4));\r\n                fixedGameElementList.add(new River(1, 180));\r\n                fixedGameElementList.add(new CentralBerm(0, 210));\r\n                fixedGameElementList.add(new DriveWay(-1, 240, 3));\r\n                fixedGameElementList.add(new DriveWay(-1, 270, 3));\r\n                fixedGameElementList.add(new DriveWay(1, 300, 3));\r\n                fixedGameElementList.add(new River(1, 330));\r\n                fixedGameElementList.add(new River(1, 360));\r\n                fixedGameElementList.add(new DriveWay(1, 390, 2));\r\n                fixedGameElementList.add(new DriveWay(1, 420, 2));\r\n                fixedGameElementList.add(new River(1, 450));\r\n                fixedGameElementList.add(new DriveWay(-1, 480, 1));\r\n                fixedGameElementList.add(new DriveWay(-1, 510, 1));\r\n                fixedGameElementList.add(new DriveWay(-1, 540, 1));\r\n                generate(&quot;log&quot;);\r\n                generate(&quot;coin&quot;);\r\n                generate(&quot;insect&quot;);\r\n                fixedGameElementList.add(new Pill(getRandomCoordinate(), getRandomCoordinate()));\r\n\r\n            }\r\n\r\n            case 3 -&gt; {\r\n                resetLists();\r\n                resetVariables();\r\n\r\n                fixedGameElementList.add(new DriveWay(-1, 30, 5));\r\n                fixedGameElementList.add(new DriveWay(-1, 60, 5));\r\n                fixedGameElementList.add(new River(1, 90));\r\n                fixedGameElementList.add(new DriveWay(1, 120, 4));\r\n                fixedGameElementList.add(new DriveWay(1, 150, 4));\r\n                fixedGameElementList.add(new CentralBerm(1, 180));\r\n                fixedGameElementList.add(new DriveWay(-1, 210, 3));\r\n                fixedGameElementList.add(new DriveWay(-1, 240, 3));\r\n                fixedGameElementList.add(new DriveWay(-1, 270, 3));\r\n                fixedGameElementList.add(new River(1, 300));\r\n                fixedGameElementList.add(new River(1, 330));\r\n                fixedGameElementList.add(new CentralBerm(1, 360));\r\n                fixedGameElementList.add(new DriveWay(1, 390, 2));\r\n                fixedGameElementList.add(new CentralBerm(1, 420));\r\n                fixedGameElementList.add(new DriveWay(-1, 450, 1));\r\n                fixedGameElementList.add(new DriveWay(-1, 480, 1));\r\n                fixedGameElementList.add(new DriveWay(-1, 510, 1));\r\n                fixedGameElementList.add(new DriveWay(-1, 540, 1));\r\n                generate(&quot;log&quot;);\r\n                generate(&quot;coin&quot;);\r\n                generate(&quot;insect&quot;);\r\n                fixedGameElementList.add(new Pill(getRandomCoordinate(), getRandomCoordinate()));\r\n            }\r\n        }\r\n\r\n\r\n    }","title":"Create multiples objects with different parameters","body":"<p>I have trouble to making &quot;levels&quot; in my FROGGER game in java. What i try to do is create different levels but I'm looking for a way to do it dynamically without having to add all the elements manually.</p>\n<p>For all items, parameters are X and Y positions. (except Driveway)</p>\n<p>For Driveway :</p>\n<ul>\n<li>the first parameter is the direction of the driveway AND when i create a group of driveways in a row, they have to be in the same direction.</li>\n<li>the second parameter is the Y position</li>\n<li>the third is the &quot;groupe&quot; of the driveway (basicaly what i describe above such as &quot;driveways in a row that have the same direction&quot;.</li>\n</ul>\n<p>Does anyone have any idea how I can do this ?</p>\n<p>Thanks for your help !</p>\n<pre><code>    private void generateMapOfLevels() {\n\n    switch (this.level) {\n        case 1 -&gt; {\n\n            fixedGameElementList.add(new CentralBerm(0, 60));\n            fixedGameElementList.add(new DriveWay(-1, 30, 5));\n            fixedGameElementList.add(new River(0, 90));\n            fixedGameElementList.add(new DriveWay(1, 120, 4));\n            fixedGameElementList.add(new DriveWay(1, 150, 4));\n            fixedGameElementList.add(new River(0, 180));\n            fixedGameElementList.add(new CentralBerm(0, 210));\n            fixedGameElementList.add(new DriveWay(-1, 240, 3));\n            fixedGameElementList.add(new DriveWay(-1, 270, 3));\n            fixedGameElementList.add(new CentralBerm(0, 300));\n            fixedGameElementList.add(new DriveWay(1, 330, 2));\n            fixedGameElementList.add(new DriveWay(1, 360, 2));\n            fixedGameElementList.add(new DriveWay(1, 390, 2));\n            fixedGameElementList.add(new DriveWay(1, 420, 2));\n            fixedGameElementList.add(new River(1, 450));\n            fixedGameElementList.add(new DriveWay(-1, 480, 1));\n            fixedGameElementList.add(new DriveWay(-1, 510, 1));\n            fixedGameElementList.add(new DriveWay(-1, 540, 1));\n            generate(&quot;log&quot;);\n            generate(&quot;coin&quot;);\n            generate(&quot;insect&quot;);\n\n            fixedGameElementList.add(new Pill(getRandomCoordinate(), getRandomCoordinate()));\n\n        }\n\n\n        case 2 -&gt; {\n            resetLists();\n            resetVariables();\n            fixedGameElementList.add(new River(1, 60));\n            fixedGameElementList.add(new DriveWay(-1, 30, 5));\n            fixedGameElementList.add(new River(1, 90));\n            fixedGameElementList.add(new DriveWay(1, 120, 4));\n            fixedGameElementList.add(new DriveWay(1, 150, 4));\n            fixedGameElementList.add(new River(1, 180));\n            fixedGameElementList.add(new CentralBerm(0, 210));\n            fixedGameElementList.add(new DriveWay(-1, 240, 3));\n            fixedGameElementList.add(new DriveWay(-1, 270, 3));\n            fixedGameElementList.add(new DriveWay(1, 300, 3));\n            fixedGameElementList.add(new River(1, 330));\n            fixedGameElementList.add(new River(1, 360));\n            fixedGameElementList.add(new DriveWay(1, 390, 2));\n            fixedGameElementList.add(new DriveWay(1, 420, 2));\n            fixedGameElementList.add(new River(1, 450));\n            fixedGameElementList.add(new DriveWay(-1, 480, 1));\n            fixedGameElementList.add(new DriveWay(-1, 510, 1));\n            fixedGameElementList.add(new DriveWay(-1, 540, 1));\n            generate(&quot;log&quot;);\n            generate(&quot;coin&quot;);\n            generate(&quot;insect&quot;);\n            fixedGameElementList.add(new Pill(getRandomCoordinate(), getRandomCoordinate()));\n\n        }\n\n        case 3 -&gt; {\n            resetLists();\n            resetVariables();\n\n            fixedGameElementList.add(new DriveWay(-1, 30, 5));\n            fixedGameElementList.add(new DriveWay(-1, 60, 5));\n            fixedGameElementList.add(new River(1, 90));\n            fixedGameElementList.add(new DriveWay(1, 120, 4));\n            fixedGameElementList.add(new DriveWay(1, 150, 4));\n            fixedGameElementList.add(new CentralBerm(1, 180));\n            fixedGameElementList.add(new DriveWay(-1, 210, 3));\n            fixedGameElementList.add(new DriveWay(-1, 240, 3));\n            fixedGameElementList.add(new DriveWay(-1, 270, 3));\n            fixedGameElementList.add(new River(1, 300));\n            fixedGameElementList.add(new River(1, 330));\n            fixedGameElementList.add(new CentralBerm(1, 360));\n            fixedGameElementList.add(new DriveWay(1, 390, 2));\n            fixedGameElementList.add(new CentralBerm(1, 420));\n            fixedGameElementList.add(new DriveWay(-1, 450, 1));\n            fixedGameElementList.add(new DriveWay(-1, 480, 1));\n            fixedGameElementList.add(new DriveWay(-1, 510, 1));\n            fixedGameElementList.add(new DriveWay(-1, 540, 1));\n            generate(&quot;log&quot;);\n            generate(&quot;coin&quot;);\n            generate(&quot;insect&quot;);\n            fixedGameElementList.add(new Pill(getRandomCoordinate(), getRandomCoordinate()));\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","usagestatsmanager"],"answers":[{"tags":[],"owner":{"account_id":14352197,"reputation":1351,"user_id":10367298,"display_name":"Yuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659944941,"creation_date":1659944941,"answer_id":73274455,"question_id":72758271,"body_markdown":"endTime should be bigger than startTime. Based on your code, your endTime is actually 15 minutes smaller than startTime. ","title":"Android - queryAndAggregateUsageStats returns empty map","body":"<p>endTime should be bigger than startTime. Based on your code, your endTime is actually 15 minutes smaller than startTime.</p>\n"}],"owner":{"account_id":25547767,"reputation":1,"user_id":19332775,"display_name":"ThatGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659944941,"creation_date":1656205318,"question_id":72758271,"body_markdown":"I am working on a requirement where I need to get the app usage every 15 mins. I am getting empty map. Please see below code. I guess INTERVAL_BEST interval type is not working for given timeframe. Any help will be appreciated. Thanks. \r\n\r\n     fun getAppsUsageMap() {\r\n        val manager: UsageStatsManager? = null\r\n        val calendar = Calendar.getInstance()\r\n        val startTime = calendar.timeInMillis;\r\n        calendar.add(Calendar.MINUTE, -15)\r\n        val endTime = calendar.timeInMillis;\r\n        System.out.println(&quot;Current Date in milSec = &quot; + startTime)\r\n        System.out.println(&quot;Updated Date in milSec = &quot; + endTime)\r\n        try {\r\n            val usageStatsMap = manager?.queryAndAggregateUsageStats(startTime, endTime)\r\n\r\n            if (usageStatsMap != null) {\r\n                System.out.println(&quot;map size   &quot; + usageStatsMap.size)\r\n                usageStatsMap.forEach { (key, value) -&gt; System.out.println(&quot;$key = $value&quot;) }\r\n            }\r\n        } catch (e: Exception) {\r\n            Log.d(&quot;TAG&quot;, &quot;Getting resulted in an exception&quot;)\r\n        }\r\n    }","title":"Android - queryAndAggregateUsageStats returns empty map","body":"<p>I am working on a requirement where I need to get the app usage every 15 mins. I am getting empty map. Please see below code. I guess INTERVAL_BEST interval type is not working for given timeframe. Any help will be appreciated. Thanks.</p>\n<pre><code> fun getAppsUsageMap() {\n    val manager: UsageStatsManager? = null\n    val calendar = Calendar.getInstance()\n    val startTime = calendar.timeInMillis;\n    calendar.add(Calendar.MINUTE, -15)\n    val endTime = calendar.timeInMillis;\n    System.out.println(&quot;Current Date in milSec = &quot; + startTime)\n    System.out.println(&quot;Updated Date in milSec = &quot; + endTime)\n    try {\n        val usageStatsMap = manager?.queryAndAggregateUsageStats(startTime, endTime)\n\n        if (usageStatsMap != null) {\n            System.out.println(&quot;map size   &quot; + usageStatsMap.size)\n            usageStatsMap.forEach { (key, value) -&gt; System.out.println(&quot;$key = $value&quot;) }\n        }\n    } catch (e: Exception) {\n        Log.d(&quot;TAG&quot;, &quot;Getting resulted in an exception&quot;)\n    }\n}\n</code></pre>\n"},{"tags":["java","ubuntu","scilab","ubuntu-20.04"],"comments":[{"owner":{"account_id":82234,"reputation":6628,"user_id":231382,"accept_rate":65,"display_name":"Hern&#225;n Eche"},"score":0,"creation_date":1628946422,"post_id":62217891,"comment_id":121559405,"body_markdown":"It&#39;s funny-not funny that scilab is an open alternative for matlab, but when you try to install it on one of the most used linux distros it&#39;s broken.","body":"It&#39;s funny-not funny that scilab is an open alternative for matlab, but when you try to install it on one of the most used linux distros it&#39;s broken."}],"answers":[{"tags":[],"owner":{"account_id":13291626,"reputation":2913,"user_id":9595931,"display_name":"St&#233;phane Mottelet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591373390,"creation_date":1591373390,"answer_id":62219681,"question_id":62217891,"body_markdown":"The Ubuntu package is broken. Please use the official .tar.gz distribution from Scilab site: https://www.scilab.org/download/6.1.0","title":"How do i get Scilab 6.1.0 working on ubuntu 20.04?","body":"<p>The Ubuntu package is broken. Please use the official .tar.gz distribution from Scilab site: <a href=\"https://www.scilab.org/download/6.1.0\" rel=\"nofollow noreferrer\">https://www.scilab.org/download/6.1.0</a></p>\n"},{"tags":[],"owner":{"account_id":528422,"reputation":11,"user_id":1228297,"display_name":"S Dayal Shri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595364458,"creation_date":1595349931,"answer_id":63019178,"question_id":62217891,"body_markdown":"If it says that `libtinfo.so.5` file is not available, run the following command in the terminal :\r\n\r\n```\r\nsudo ln -s /usr/lib/x86_64-linux-gnu/libtinfo.so.6 /usr/lib/x86_64-linux-gnu/libtinfo.so.5\r\n```","title":"How do i get Scilab 6.1.0 working on ubuntu 20.04?","body":"<p>If it says that <code>libtinfo.so.5</code> file is not available, run the following command in the terminal :</p>\n<pre><code>sudo ln -s /usr/lib/x86_64-linux-gnu/libtinfo.so.6 /usr/lib/x86_64-linux-gnu/libtinfo.so.5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2892801,"reputation":1,"user_id":2481173,"display_name":"Lieven Tytgat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609855881,"creation_date":1609855005,"answer_id":65580285,"question_id":62217891,"body_markdown":"The broken package is best fixed by rebuilding the scilab package from ubuntu groovy on your ubuntu focal machine and installing the generated deb files.\r\n\r\nThis can be done as follows:\r\n\r\ncreate a folder for the build process:\r\n\r\n    mkdir scilab-focal\r\n    cd scilab-focal\r\n\r\nMake certain we have everything on your system:\r\nEnable the deb-src lines in /etc/apt/sources.list and Install wget and apt-src if not yet installed\r\n\r\n    sudo sed -i s/#\\ deb-src/deb-src/g /etc/apt/sources.list  \r\n    sudo apt update &amp;&amp; apt install -yy wget apt-src &amp;&amp; apt-src update\r\n\r\ndownload the following scilab source packages from ubuntu groovy:\r\n\r\n    wget http://archive.ubuntu.com/ubuntu/pool/universe/s/scilab/scilab_6.1.0+dfsg1-6build2.dsc\r\n    wget http://archive.ubuntu.com/ubuntu/pool/universe/s/scilab/scilab_6.1.0+dfsg1.orig.tar.xz\r\n    wget http://archive.ubuntu.com/ubuntu/pool/universe/s/scilab/scilab_6.1.0+dfsg1-6build2.debian.tar.xz\r\n\r\nextract the scilab packages as required for the automated build process:\r\n\r\n    tar xf scilab_6.1.0+dfsg1.orig.tar.xz\r\n    cd scilab-6.1.0\r\n    tar xf ../scilab_6.1.0+dfsg1-6build2.debian.tar.xz\r\n\r\nBuild and install scilab\r\n\r\n    apt-src import --here .\r\n    apt-get build-dep -yy scilab    \r\n    apt-src build -i -k scilab\r\n\r\nHope this helps anybody trying to get scilab 6.1.0 working on ubuntu focal!\r\n\r\n","title":"How do i get Scilab 6.1.0 working on ubuntu 20.04?","body":"<p>The broken package is best fixed by rebuilding the scilab package from ubuntu groovy on your ubuntu focal machine and installing the generated deb files.</p>\n<p>This can be done as follows:</p>\n<p>create a folder for the build process:</p>\n<pre><code>mkdir scilab-focal\ncd scilab-focal\n</code></pre>\n<p>Make certain we have everything on your system:\nEnable the deb-src lines in /etc/apt/sources.list and Install wget and apt-src if not yet installed</p>\n<pre><code>sudo sed -i s/#\\ deb-src/deb-src/g /etc/apt/sources.list  \nsudo apt update &amp;&amp; apt install -yy wget apt-src &amp;&amp; apt-src update\n</code></pre>\n<p>download the following scilab source packages from ubuntu groovy:</p>\n<pre><code>wget http://archive.ubuntu.com/ubuntu/pool/universe/s/scilab/scilab_6.1.0+dfsg1-6build2.dsc\nwget http://archive.ubuntu.com/ubuntu/pool/universe/s/scilab/scilab_6.1.0+dfsg1.orig.tar.xz\nwget http://archive.ubuntu.com/ubuntu/pool/universe/s/scilab/scilab_6.1.0+dfsg1-6build2.debian.tar.xz\n</code></pre>\n<p>extract the scilab packages as required for the automated build process:</p>\n<pre><code>tar xf scilab_6.1.0+dfsg1.orig.tar.xz\ncd scilab-6.1.0\ntar xf ../scilab_6.1.0+dfsg1-6build2.debian.tar.xz\n</code></pre>\n<p>Build and install scilab</p>\n<pre><code>apt-src import --here .\napt-get build-dep -yy scilab    \napt-src build -i -k scilab\n</code></pre>\n<p>Hope this helps anybody trying to get scilab 6.1.0 working on ubuntu focal!</p>\n"},{"tags":[],"owner":{"account_id":4506289,"reputation":1,"user_id":3663522,"display_name":"somenath jalal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659944641,"creation_date":1659505361,"answer_id":73216745,"question_id":62217891,"body_markdown":"linking libtinfo.so.5 file is first step of the solution. But still scilab can not plot or show any graphics. One possible way is to run the scilab with \r\n\r\n    LIBGL_ALWAYS_SOFTWARE=1 scilab\r\n\r\ncommand. I have tried this and solve the same issue of scilab with Ubuntu 22.04 LTS. Dont know, why this works. Still looking for permanent solution..","title":"How do i get Scilab 6.1.0 working on ubuntu 20.04?","body":"<p>linking libtinfo.so.5 file is first step of the solution. But still scilab can not plot or show any graphics. One possible way is to run the scilab with</p>\n<pre><code>LIBGL_ALWAYS_SOFTWARE=1 scilab\n</code></pre>\n<p>command. I have tried this and solve the same issue of scilab with Ubuntu 22.04 LTS. Dont know, why this works. Still looking for permanent solution..</p>\n"}],"owner":{"account_id":15461921,"reputation":158,"user_id":11154407,"display_name":"Cpreet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62219681,"answer_count":4,"score":1,"last_activity_date":1659944641,"creation_date":1591367895,"question_id":62217891,"body_markdown":"I&#39;ve installed the ubuntu repo of Scilab 6.1.0 and ive been trying to run it, The error message i get is \r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.scilab.modules.jvm.LibraryPath ?(file:/usr/share/scilab/modules/jvm/jar/org.scilab.modules.jvm.jar) to field java.lang.ClassLoader.sys_paths\r\nWARNING: Please consider reporting this to the maintainers of org.scilab.modules.jvm.LibraryPath\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nCould not access to the Main Scilab Class:\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat org.scilab.modules.localization.Messages.gettext(Unknown Source)\r\n\tat org.scilab.modules.commons.xml.XConfiguration.&lt;clinit&gt;(Unknown Source)\r\n\tat org.scilab.modules.core.Scilab.&lt;clinit&gt;(Unknown Source)\r\nCaused by: java.lang.NullPointerException\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2646)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1870)\r\n\tat org.scilab.modules.localization.MessagesJNI.&lt;clinit&gt;(Unknown Source)\r\n\t... 3 more\r\n\r\nScilab cannot create Scilab Java Main-Class (we have not been able to find the main Scilab class. Check if the Scilab and thirdparty packages are available).\r\n```\r\n\r\nI have tried:\r\n- running from the cli \r\n- running from the launcher\r\n\r\nthe cli version works\r\n\r\nhave gone to the forums and checked for the different solutions\r\n- deleting the SCIHOME directory.\r\n- reinstalling Scilab.\r\n- reinstalling from different sources.\r\n- purging all the directories related to Scilab and reinstalling.","title":"How do i get Scilab 6.1.0 working on ubuntu 20.04?","body":"<p>I've installed the ubuntu repo of Scilab 6.1.0 and ive been trying to run it, The error message i get is </p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.scilab.modules.jvm.LibraryPath ?(file:/usr/share/scilab/modules/jvm/jar/org.scilab.modules.jvm.jar) to field java.lang.ClassLoader.sys_paths\nWARNING: Please consider reporting this to the maintainers of org.scilab.modules.jvm.LibraryPath\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nCould not access to the Main Scilab Class:\nException in thread \"main\" java.lang.ExceptionInInitializerError\n    at org.scilab.modules.localization.Messages.gettext(Unknown Source)\n    at org.scilab.modules.commons.xml.XConfiguration.&lt;clinit&gt;(Unknown Source)\n    at org.scilab.modules.core.Scilab.&lt;clinit&gt;(Unknown Source)\nCaused by: java.lang.NullPointerException\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2646)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\n    at java.base/java.lang.System.loadLibrary(System.java:1870)\n    at org.scilab.modules.localization.MessagesJNI.&lt;clinit&gt;(Unknown Source)\n    ... 3 more\n\nScilab cannot create Scilab Java Main-Class (we have not been able to find the main Scilab class. Check if the Scilab and thirdparty packages are available).\n</code></pre>\n\n<p>I have tried:\n- running from the cli \n- running from the launcher</p>\n\n<p>the cli version works</p>\n\n<p>have gone to the forums and checked for the different solutions\n- deleting the SCIHOME directory.\n- reinstalling Scilab.\n- reinstalling from different sources.\n- purging all the directories related to Scilab and reinstalling.</p>\n"},{"tags":["java","linux"],"answers":[{"tags":[],"owner":{"account_id":1515013,"reputation":3769,"user_id":1416224,"accept_rate":92,"display_name":"rpmartz"},"down_vote_count":4,"up_vote_count":15,"is_accepted":true,"score":11,"last_activity_date":1394414924,"creation_date":1394414441,"answer_id":22290578,"question_id":22290554,"body_markdown":"First, try `echo $JAVA_HOME` from the command line.  Since `java` is on your path already, `JAVA_HOME` may be set.\r\n\r\n&gt; What is the best way to figure out the installation directory of my java installation\r\n\r\nRunning the command `which java` will point you to where `java` is installed.\r\n\r\n&gt; and then set JAVA_HOME\r\n\r\nYou can edit `~/.bashrc`, `~/.bash_profile`, or `/etc/profile` to set `JAVA_HOME`.  Setting it in `~/etc/profile` will set it system wide, and this is probably not what you want.  Say for the sake of example the output of `which java` is `/opt/jdk_1.7.0_25`, then you&#39;d just add `export JAVA_HOME=/opt/jdk_1.7.0_25` to `~/.bashrc` or `~/.bash_profile` and then run `source ~/.bashrc` (or `source ~/.bash_profile` if you set it there).\r\n\r\nNote that in this case, `java` is on the `PATH` but in some cases you&#39;d need to add `export PATH=$PATH:$JAVA_HOME/bin` to add the `JAVA_HOME` variable to the `PATH`.","title":"Find JAVA_HOME and set it on RHEL","body":"<p>First, try <code>echo $JAVA_HOME</code> from the command line.  Since <code>java</code> is on your path already, <code>JAVA_HOME</code> may be set.</p>\n\n<blockquote>\n  <p>What is the best way to figure out the installation directory of my java installation</p>\n</blockquote>\n\n<p>Running the command <code>which java</code> will point you to where <code>java</code> is installed.</p>\n\n<blockquote>\n  <p>and then set JAVA_HOME</p>\n</blockquote>\n\n<p>You can edit <code>~/.bashrc</code>, <code>~/.bash_profile</code>, or <code>/etc/profile</code> to set <code>JAVA_HOME</code>.  Setting it in <code>~/etc/profile</code> will set it system wide, and this is probably not what you want.  Say for the sake of example the output of <code>which java</code> is <code>/opt/jdk_1.7.0_25</code>, then you'd just add <code>export JAVA_HOME=/opt/jdk_1.7.0_25</code> to <code>~/.bashrc</code> or <code>~/.bash_profile</code> and then run <code>source ~/.bashrc</code> (or <code>source ~/.bash_profile</code> if you set it there).</p>\n\n<p>Note that in this case, <code>java</code> is on the <code>PATH</code> but in some cases you'd need to add <code>export PATH=$PATH:$JAVA_HOME/bin</code> to add the <code>JAVA_HOME</code> variable to the <code>PATH</code>.</p>\n"},{"tags":[],"owner":{"account_id":93331,"reputation":1462,"user_id":255389,"accept_rate":100,"display_name":"Robert Balent"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1394415031,"creation_date":1394415031,"answer_id":22290666,"question_id":22290554,"body_markdown":"`readlink` command will show you full path of symbolic link:\r\n\r\n    readlink -f `which java`","title":"Find JAVA_HOME and set it on RHEL","body":"<p><code>readlink</code> command will show you full path of symbolic link:</p>\n\n<pre><code>readlink -f `which java`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2572561,"reputation":1949,"user_id":2231059,"display_name":"marbu"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1433233716,"creation_date":1433233716,"answer_id":30590995,"question_id":22290554,"body_markdown":"RHEL uses alternatives subsystem to manage java installations. You can have\r\nmultiple versions of java installed, but only one is active at a time.\r\n\r\nThis means that running `which java` doesn&#39;t provide useful information. The\r\noutput would be the same no matter which java installation is selected via\r\nalternatives. Running `readlink -f $(which java)` (as already suggested in\r\nother comment) or using asking alternatives `alternatives --display java` would\r\nbe better.\r\n\r\nSee example from RHEL 6 machine with OpenJDK installed (which is shipped with\r\nRHEL):\r\n\r\n    [root@example ~]# which java\r\n    /usr/bin/java\r\n    [root@example ~]# readlink -f $(which java)\r\n    /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.79.x86_64/jre/bin/java\r\n    [root@example ~]# alternatives --display java | head -2\r\n    java - status is manual.\r\n     link currently points to /usr/lib/jvm/jre-1.7.0-openjdk.x86_64/bin/java\r\n\r\nNote that enviroment variable `JAVA_HOME` is not defined anywhere by default,\r\nyou would need to define it yourself in `.bashrc` of user which requires it.\r\n\r\nIn previous example, correct value of `JAVA_HOME` would be\r\n`/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.79.x86_64`.\r\n\r\nSee details in [Install OpenJDK](https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6/html/Installation_Guide/Install_OpenJDK_on_Red_Hat_Enterprise_Linux.html)\r\ndocumentation, search for section &quot;Optional: Set the JAVA_HOME environment variable&quot;.\r\n","title":"Find JAVA_HOME and set it on RHEL","body":"<p>RHEL uses alternatives subsystem to manage java installations. You can have\nmultiple versions of java installed, but only one is active at a time.</p>\n\n<p>This means that running <code>which java</code> doesn't provide useful information. The\noutput would be the same no matter which java installation is selected via\nalternatives. Running <code>readlink -f $(which java)</code> (as already suggested in\nother comment) or using asking alternatives <code>alternatives --display java</code> would\nbe better.</p>\n\n<p>See example from RHEL 6 machine with OpenJDK installed (which is shipped with\nRHEL):</p>\n\n<pre><code>[root@example ~]# which java\n/usr/bin/java\n[root@example ~]# readlink -f $(which java)\n/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.79.x86_64/jre/bin/java\n[root@example ~]# alternatives --display java | head -2\njava - status is manual.\n link currently points to /usr/lib/jvm/jre-1.7.0-openjdk.x86_64/bin/java\n</code></pre>\n\n<p>Note that enviroment variable <code>JAVA_HOME</code> is not defined anywhere by default,\nyou would need to define it yourself in <code>.bashrc</code> of user which requires it.</p>\n\n<p>In previous example, correct value of <code>JAVA_HOME</code> would be\n<code>/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.79.x86_64</code>.</p>\n\n<p>See details in <a href=\"https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6/html/Installation_Guide/Install_OpenJDK_on_Red_Hat_Enterprise_Linux.html\" rel=\"noreferrer\">Install OpenJDK</a>\ndocumentation, search for section \"Optional: Set the JAVA_HOME environment variable\".</p>\n"},{"tags":[],"owner":{"account_id":5494626,"reputation":352,"user_id":4737435,"display_name":"jalmasi"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1439373548,"creation_date":1439373548,"answer_id":31961918,"question_id":22290554,"body_markdown":"The best you can do is avoid Red Hat&#39;s java altogether.\r\n\r\nGet your java from Oracle and put it in /opt.\r\nThen just create symlink /opt/java -&gt; /opt/jdk-someversion, and create /etc/profile.d/java.sh containing\r\n\r\n    #!/bin/sh\r\n    export JAVA_HOME=/opt/java\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nThen, to change system-wide java, just change symlink in opt.\r\nTo use multiple java versions, use scripts like the above with appropriate JAVA_HOME.\r\n\r\nFurthermore, /sbin/service script used to run /etc/init.d scripts will rip off environment variables - executes env -i explicitly. So i.e. your tomcat will not get JAVA_HOME, you&#39;ll have to create setenv.sh in $CATALINA_BASE/bin.\r\n\r\nDrawback to this approach is you don&#39;t get java updates from Red Hat.","title":"Find JAVA_HOME and set it on RHEL","body":"<p>The best you can do is avoid Red Hat's java altogether.</p>\n\n<p>Get your java from Oracle and put it in /opt.\nThen just create symlink /opt/java -> /opt/jdk-someversion, and create /etc/profile.d/java.sh containing</p>\n\n<pre><code>#!/bin/sh\nexport JAVA_HOME=/opt/java\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>Then, to change system-wide java, just change symlink in opt.\nTo use multiple java versions, use scripts like the above with appropriate JAVA_HOME.</p>\n\n<p>Furthermore, /sbin/service script used to run /etc/init.d scripts will rip off environment variables - executes env -i explicitly. So i.e. your tomcat will not get JAVA_HOME, you'll have to create setenv.sh in $CATALINA_BASE/bin.</p>\n\n<p>Drawback to this approach is you don't get java updates from Red Hat.</p>\n"},{"tags":[],"owner":{"account_id":2135614,"reputation":101,"user_id":1895496,"display_name":"GrueMaster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552689272,"creation_date":1552688068,"answer_id":55191306,"question_id":22290554,"body_markdown":"I found a way to combine the above so that I can programmaticly set `JAVA_HOME`.\r\n\r\n    export JAVA_HOME=$(dirname $(readlink -f $(which java))|sed &#39;s^jre/bin^^&#39;)\r\n\r\nOn Ubuntu, returns /usr/lib/jvm/java-8-openjdk-amd64/.\r\nOn CentOS7, returns /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.201.b09-2.el7_6.x86_64/.\r\n\r\nThis can be added to a Makefile with\r\n\r\n    JAVA_HOME = $(shell dirname $$(readlink -f $$(which java))|sed &#39;s^jre/bin^^&#39;)\r\n\r\nThis is much safer than exporting a hardcoded path and is more portable.","title":"Find JAVA_HOME and set it on RHEL","body":"<p>I found a way to combine the above so that I can programmaticly set <code>JAVA_HOME</code>.</p>\n\n<pre><code>export JAVA_HOME=$(dirname $(readlink -f $(which java))|sed 's^jre/bin^^')\n</code></pre>\n\n<p>On Ubuntu, returns /usr/lib/jvm/java-8-openjdk-amd64/.\nOn CentOS7, returns /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.201.b09-2.el7_6.x86_64/.</p>\n\n<p>This can be added to a Makefile with</p>\n\n<pre><code>JAVA_HOME = $(shell dirname $$(readlink -f $$(which java))|sed 's^jre/bin^^')\n</code></pre>\n\n<p>This is much safer than exporting a hardcoded path and is more portable.</p>\n"},{"tags":[],"owner":{"account_id":363060,"reputation":170,"user_id":706577,"display_name":"Matthew Dutton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569420993,"creation_date":1569420993,"answer_id":58100508,"question_id":22290554,"body_markdown":"At least on RHEL 7, `alternatives` sets up a slave link for `java_sdk` at:\r\n\r\n`/etc/alternatives/java_sdk/`\r\n\r\nThis is a symlink to the root of the SDK installation.","title":"Find JAVA_HOME and set it on RHEL","body":"<p>At least on RHEL 7, <code>alternatives</code> sets up a slave link for <code>java_sdk</code> at:</p>\n\n<p><code>/etc/alternatives/java_sdk/</code></p>\n\n<p>This is a symlink to the root of the SDK installation.</p>\n"},{"tags":[],"owner":{"account_id":17271487,"reputation":21,"user_id":12507104,"display_name":"Chris Sykes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659944612,"creation_date":1659514449,"answer_id":73218376,"question_id":22290554,"body_markdown":"For me worked to change link in \r\n\r\n/etc/alternatives for: \r\n\r\n    java -&gt; /app/java/jdk8u222-b10/jre/bin/java\r\n\r\n\r\nI know this is old java, but this server was neglected in our company. ","title":"Find JAVA_HOME and set it on RHEL","body":"<p>For me worked to change link in</p>\n<p>/etc/alternatives for:</p>\n<pre><code>java -&gt; /app/java/jdk8u222-b10/jre/bin/java\n</code></pre>\n<p>I know this is old java, but this server was neglected in our company.</p>\n"}],"owner":{"account_id":2047045,"reputation":2473,"user_id":1826912,"accept_rate":79,"display_name":"Rohit Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83088,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":22290578,"answer_count":7,"score":22,"last_activity_date":1659944612,"creation_date":1394414303,"question_id":22290554,"body_markdown":"I had installed java a while ago on my RHEL machine. Now, I&#39;m trying to run a program that requires the `JAVA_HOME` variable to be set. What is the best way to figure out the installation directory of my java installation and then set `JAVA_HOME`? Here are the results of running `java- version`: \r\n\r\n    java version &quot;1.7.0_25&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_25-b15)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 23.25-b01, mixed mode)\r\n\r\nI have a `/usr/lib/jvm` directory, but it is empty.","title":"Find JAVA_HOME and set it on RHEL","body":"<p>I had installed java a while ago on my RHEL machine. Now, I'm trying to run a program that requires the <code>JAVA_HOME</code> variable to be set. What is the best way to figure out the installation directory of my java installation and then set <code>JAVA_HOME</code>? Here are the results of running <code>java- version</code>:</p>\n<pre><code>java version &quot;1.7.0_25&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_25-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 23.25-b01, mixed mode)\n</code></pre>\n<p>I have a <code>/usr/lib/jvm</code> directory, but it is empty.</p>\n"},{"tags":["java","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":540425,"reputation":3984,"user_id":908624,"accept_rate":84,"display_name":"Alon Adler"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1515903936,"creation_date":1317927444,"answer_id":7679091,"question_id":7678919,"body_markdown":"First of all, you can&#39;t mark a message as read if you are using a POP3 server - the POP3 protocol doesn&#39;t support that. However, the IMAP v4 protocol does.\r\n\r\nYou might think the way to do this is to get the message, set the `Flags.Flag.SEEN` flag to true, and then call `message.saveChanges()`. Oddly, this is not the case.\r\n\r\nInstead, the JavaMail API Design Specification, Chapter 4, section &quot;The Flags Class&quot; states that the `SEEN` flag is implicitly set when the contents of a message are retrieved. So, to mark a message as read, you can use the following code:\r\n\r\n    myImapFolder.open(Folder.READ_WRITE);\r\n    myImapFolder.getMessage(myMsgID).getContent();\r\n    myImapFolder.close(false);\r\n\r\nOr another way is to use the MimeMessage copy constructor, ie:\r\n\r\n    MimeMessage source = (MimeMessage) folder.getMessage(1)\r\n    MimeMessage copy = new MimeMessage(source);\r\n\r\nWhen you construct the copy, the seen flag is implicitly set for the message referred to by source.","title":"javamail mark gmail message as read","body":"<p>First of all, you can't mark a message as read if you are using a POP3 server - the POP3 protocol doesn't support that. However, the IMAP v4 protocol does.</p>\n\n<p>You might think the way to do this is to get the message, set the <code>Flags.Flag.SEEN</code> flag to true, and then call <code>message.saveChanges()</code>. Oddly, this is not the case.</p>\n\n<p>Instead, the JavaMail API Design Specification, Chapter 4, section \"The Flags Class\" states that the <code>SEEN</code> flag is implicitly set when the contents of a message are retrieved. So, to mark a message as read, you can use the following code:</p>\n\n<pre><code>myImapFolder.open(Folder.READ_WRITE);\nmyImapFolder.getMessage(myMsgID).getContent();\nmyImapFolder.close(false);\n</code></pre>\n\n<p>Or another way is to use the MimeMessage copy constructor, ie:</p>\n\n<pre><code>MimeMessage source = (MimeMessage) folder.getMessage(1)\nMimeMessage copy = new MimeMessage(source);\n</code></pre>\n\n<p>When you construct the copy, the seen flag is implicitly set for the message referred to by source.</p>\n"},{"tags":[],"owner":{"account_id":1445493,"reputation":5311,"user_id":1364149,"accept_rate":57,"display_name":"Shloim"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1576055864,"creation_date":1335702578,"answer_id":10372135,"question_id":7678919,"body_markdown":"One liner that will do it WITHOUT downloading the entire message:\r\n\r\nsingle message:\r\n\r\n    folder.setFlags(new Message[] {message}, new Flags(Flags.Flag.SEEN), true);\r\n\r\nall messages:\r\n\r\n    folder.setFlags(messages, new Flags(Flags.Flag.SEEN), true);\r\n\r\nOther methods of calling `getContent()` or creating a copy with `new MimeMessage(original)` cause the client to download the entire message, and creates a **huge** performance hit.\r\n\r\nNote that the inbox must be opened for READ_WRITE:\r\n\r\n    folder.open(Folder.READ_WRITE);","title":"javamail mark gmail message as read","body":"<p>One liner that will do it WITHOUT downloading the entire message:</p>\n\n<p>single message:</p>\n\n<pre><code>folder.setFlags(new Message[] {message}, new Flags(Flags.Flag.SEEN), true);\n</code></pre>\n\n<p>all messages:</p>\n\n<pre><code>folder.setFlags(messages, new Flags(Flags.Flag.SEEN), true);\n</code></pre>\n\n<p>Other methods of calling <code>getContent()</code> or creating a copy with <code>new MimeMessage(original)</code> cause the client to download the entire message, and creates a <strong>huge</strong> performance hit.</p>\n\n<p>Note that the inbox must be opened for READ_WRITE:</p>\n\n<pre><code>folder.open(Folder.READ_WRITE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769339,"reputation":11,"user_id":1614495,"display_name":"Rohit Talwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345559879,"creation_date":1345559198,"answer_id":12057055,"question_id":7678919,"body_markdown":"You may also consider having a `public static int max_message_number`, and storing in it the `message[i].getMessageNumber();` as soon as you read a message. Then before reading any message just check if the `max_message_number &lt; message[i].getmessageNumber()`. If true then don&#39;t print this message (as it has been already read)","title":"javamail mark gmail message as read","body":"<p>You may also consider having a <code>public static int max_message_number</code>, and storing in it the <code>message[i].getMessageNumber();</code> as soon as you read a message. Then before reading any message just check if the <code>max_message_number &lt; message[i].getmessageNumber()</code>. If true then don't print this message (as it has been already read)</p>\n"},{"tags":[],"owner":{"account_id":2927795,"reputation":182,"user_id":2508776,"display_name":"James Vornhagen"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1425308062,"creation_date":1425308062,"answer_id":28812750,"question_id":7678919,"body_markdown":"Well this post is old but the easiest solution hasn&#180;t been posted yet.\r\n\r\nYou are accessing the Message. \r\nmessage.setFlag(Flag.SEEN, true);","title":"javamail mark gmail message as read","body":"<p>Well this post is old but the easiest solution hasn´t been posted yet.</p>\n\n<p>You are accessing the Message. \nmessage.setFlag(Flag.SEEN, true);</p>\n"},{"tags":[],"owner":{"account_id":2432471,"reputation":240,"user_id":2123089,"accept_rate":62,"display_name":"jacques"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452173854,"creation_date":1452173854,"answer_id":34656555,"question_id":7678919,"body_markdown":"message.setFlag( Flag.SEEN,true ) give &quot;cannot find symbol&quot;\r\nmessage.setFlag( Flags.Flag.SEEN,true ) seems good.","title":"javamail mark gmail message as read","body":"<p>message.setFlag( Flag.SEEN,true ) give \"cannot find symbol\"\nmessage.setFlag( Flags.Flag.SEEN,true ) seems good.</p>\n"},{"tags":[],"owner":{"account_id":8447015,"reputation":69,"user_id":6337292,"display_name":"Gerrit-Jan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1463322775,"creation_date":1463322775,"answer_id":37239508,"question_id":7678919,"body_markdown":"If you are using a for loop to read or check a mail one by one, the code can be as follows to mark a gmail message as read:\r\n\r\n        Message[] unreadMessages = inbox.search(new FlagTerm(new Flags(Flag.SEEN), false));\r\n    \t\t\tfor (int q = 0; q &lt; unreadMessages.length; q++) {\r\n                                                          \r\n                  unreadMessages[q].setFlag(Flag.SEEN, true);\r\n                                                          \r\n                }\r\n\r\nWhat this code does is that it makes it unread one by one.\r\n\r\nAnd also folder/inbox needs to be READ_WRITE, instead of READ_ONLY:\r\n\r\n    folder.open(Folder.READ_WRITE);","title":"javamail mark gmail message as read","body":"<p>If you are using a for loop to read or check a mail one by one, the code can be as follows to mark a gmail message as read:</p>\n\n<pre><code>    Message[] unreadMessages = inbox.search(new FlagTerm(new Flags(Flag.SEEN), false));\n            for (int q = 0; q &lt; unreadMessages.length; q++) {\n\n              unreadMessages[q].setFlag(Flag.SEEN, true);\n\n            }\n</code></pre>\n\n<p>What this code does is that it makes it unread one by one.</p>\n\n<p>And also folder/inbox needs to be READ_WRITE, instead of READ_ONLY:</p>\n\n<pre><code>folder.open(Folder.READ_WRITE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12193691,"reputation":1,"user_id":8900180,"display_name":"Nawaf Alluqmani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1515891536,"creation_date":1515891536,"answer_id":48245782,"question_id":7678919,"body_markdown":"The easiest way to do that is set the folder to be read or written into or from. Means like this...\r\n\r\n        Folder inbox = null;\r\n\t\tinbox.open(Folder.READ_WRITE);\t\t\r\nthe Folder class should be imported.","title":"javamail mark gmail message as read","body":"<p>The easiest way to do that is set the folder to be read or written into or from. Means like this...</p>\n\n<pre><code>    Folder inbox = null;\n    inbox.open(Folder.READ_WRITE);      \n</code></pre>\n\n<p>the Folder class should be imported.</p>\n"},{"tags":[],"owner":{"account_id":9556553,"reputation":21,"user_id":7098827,"display_name":"dinusha thiwanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529039689,"creation_date":1529038189,"answer_id":50869273,"question_id":7678919,"body_markdown":"    for (Message message : messages) {\r\n                        message.setFlag(Flags.Flag.SEEN,true);\r\n                    }\r\n\r\n**and** **change the below line** \r\n\r\n`folder.open(Folder.READ_ONLY);`  \r\n\r\n**to this**\r\n\r\n  **`folder.open(Folder.READ_WRITE);`**\r\n\r\n\r\n\r\n","title":"javamail mark gmail message as read","body":"<pre><code>for (Message message : messages) {\n                    message.setFlag(Flags.Flag.SEEN,true);\n                }\n</code></pre>\n\n<p><strong>and</strong> <strong>change the below line</strong> </p>\n\n<p><code>folder.open(Folder.READ_ONLY);</code>  </p>\n\n<p><strong>to this</strong></p>\n\n<p><strong><code>folder.open(Folder.READ_WRITE);</code></strong></p>\n"},{"tags":[],"owner":{"account_id":15835675,"reputation":11,"user_id":11425592,"display_name":"kapil76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564047618,"creation_date":1564047618,"answer_id":57198886,"question_id":7678919,"body_markdown":"You can also try\r\n\r\nhead over to the gmail settings &gt; Forwarding and POP/IMAP\r\n\r\nfrom the dropdown of **When messages are accessed with POP**\r\nselect *mark Gmail&#39;s copy as read* and save the changes\r\n","title":"javamail mark gmail message as read","body":"<p>You can also try</p>\n\n<p>head over to the gmail settings > Forwarding and POP/IMAP</p>\n\n<p>from the dropdown of <strong>When messages are accessed with POP</strong>\nselect <em>mark Gmail's copy as read</em> and save the changes</p>\n"},{"tags":[],"owner":{"account_id":25955609,"reputation":1,"user_id":19673014,"display_name":"Krys Tedongmouo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659944587,"creation_date":1659430565,"answer_id":73204677,"question_id":7678919,"body_markdown":"To mark the mail as read, you just have to call the `mailmessage.getContent()` method.\r\nWhether you use IMAP or POP, calling that method on a specific mail mark it as Read","title":"javamail mark gmail message as read","body":"<p>To mark the mail as read, you just have to call the <code>mailmessage.getContent()</code> method.\nWhether you use IMAP or POP, calling that method on a specific mail mark it as Read</p>\n"}],"owner":{"account_id":901372,"reputation":1425,"user_id":937446,"accept_rate":94,"display_name":"Green"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36562,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":7679091,"answer_count":10,"score":36,"last_activity_date":1659944587,"creation_date":1317926380,"question_id":7678919,"body_markdown":"Note: added after answer: \r\nThanks.. Yeah I had tried the Flag.SEEN to true and saveChanges.. I also had read getContent marks it read. I tried using it in the for statement that loops through the messages. But I got the messages again from the folder anyways in the next loop. I was assuming the folder was live, so grabbing the content, then grabbing the messages again from the folder with the filter to not get any seen should work, but I was still getting the same message. I could try closing the folder and reopen as a test to see if it&#39;s marked. Also if I go over to my client and click the message, then my code stops seeing it even in the loop, so I was hoping to do the same in the code.\r\n\r\noriginal:\r\nI&#39;m using javamail to get email from a gmail account, it&#39;s working great, when I get the message I&#39;d like to mark it as read, can anyone give me some direction? Here is my current code:\r\n\r\n        Properties props = System.getProperties();\r\n        props.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n        try {\r\n            Session session = Session.getDefaultInstance(props, null);\r\n            Store store = session.getStore(&quot;imaps&quot;);\r\n\r\n            store.connect(&quot;imap.gmail.com&quot;, eUserName, ePassWord);\r\n            // Get folder\r\n            Folder folder = store.getFolder(&quot;INBOX&quot;);\r\n            if (folder == null || !folder.exists()) {\r\n                return null;\r\n            }\r\n            folder.open(Folder.READ_ONLY);\r\n\r\n            // Only pull unread\r\n            FlagTerm ft = new FlagTerm(new Flags(Flags.Flag.SEEN), false);\r\n            Message messages[]; // = folder.search(ft);\r\n\r\n            for(int x = 0; x &lt; timeOutInSeconds; x++) {\r\n                log.reportMessage(&quot;looking for emails&quot;);\r\n                try {\r\n                    folder.getMessages();\r\n                    messages = folder.search(ft);\r\n\r\n                    if (messages.length &gt; 0) {\r\n                        for (Message message : messages) {\r\n                            //log.reportMessage(&quot;found message: should not see again, marking read&quot;);\r\n                            // want to mark as read\r\n                            \r\n                        }\r\n                    }\r\n                    Thread.sleep(1000);\r\n                }\r\n                catch(Exception ex) {\r\n\r\n                }\r\n            }\r\n\r\n            // Close connection\r\n            folder.close(false);\r\n            store.close();\r\n            return null;\r\n\r\n        }\r\n        catch (NoSuchProviderException ex) {\r\n\r\n            return null;\r\n        }\r\n        catch (MessagingException ex) {\r\n\r\n            return null;\r\n        }\r\n\r\n\r\n    }","title":"javamail mark gmail message as read","body":"<p>Note: added after answer: \nThanks.. Yeah I had tried the Flag.SEEN to true and saveChanges.. I also had read getContent marks it read. I tried using it in the for statement that loops through the messages. But I got the messages again from the folder anyways in the next loop. I was assuming the folder was live, so grabbing the content, then grabbing the messages again from the folder with the filter to not get any seen should work, but I was still getting the same message. I could try closing the folder and reopen as a test to see if it's marked. Also if I go over to my client and click the message, then my code stops seeing it even in the loop, so I was hoping to do the same in the code.</p>\n\n<p>original:\nI'm using javamail to get email from a gmail account, it's working great, when I get the message I'd like to mark it as read, can anyone give me some direction? Here is my current code:</p>\n\n<pre><code>    Properties props = System.getProperties();\n    props.setProperty(\"mail.store.protocol\", \"imaps\");\n    try {\n        Session session = Session.getDefaultInstance(props, null);\n        Store store = session.getStore(\"imaps\");\n\n        store.connect(\"imap.gmail.com\", eUserName, ePassWord);\n        // Get folder\n        Folder folder = store.getFolder(\"INBOX\");\n        if (folder == null || !folder.exists()) {\n            return null;\n        }\n        folder.open(Folder.READ_ONLY);\n\n        // Only pull unread\n        FlagTerm ft = new FlagTerm(new Flags(Flags.Flag.SEEN), false);\n        Message messages[]; // = folder.search(ft);\n\n        for(int x = 0; x &lt; timeOutInSeconds; x++) {\n            log.reportMessage(\"looking for emails\");\n            try {\n                folder.getMessages();\n                messages = folder.search(ft);\n\n                if (messages.length &gt; 0) {\n                    for (Message message : messages) {\n                        //log.reportMessage(\"found message: should not see again, marking read\");\n                        // want to mark as read\n\n                    }\n                }\n                Thread.sleep(1000);\n            }\n            catch(Exception ex) {\n\n            }\n        }\n\n        // Close connection\n        folder.close(false);\n        store.close();\n        return null;\n\n    }\n    catch (NoSuchProviderException ex) {\n\n        return null;\n    }\n    catch (MessagingException ex) {\n\n        return null;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","profiling","dump","visualvm","heap-dump"],"comments":[{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":1,"creation_date":1647592676,"post_id":71508389,"comment_id":126414352,"body_markdown":"I think that the heap dump was created ok. Please check the file on remote computer.","body":"I think that the heap dump was created ok. Please check the file on remote computer."}],"answers":[{"tags":[],"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659944424,"creation_date":1647597662,"answer_id":71525299,"question_id":71508389,"body_markdown":"The heap dump is fine. There is a bug in recent version of VisualVM, which checks the presence of the heap dump file on the local filesystem even though the heap dump was created on remote machine. It would be great, if you can file a bug with the description, you used above, at https://github.com/oracle/visualvm/issues. It will be fixed in VisualVM 2.1.3. Thanks.","title":"VisualVM - Failed to create remote heap dump and save it","body":"<p>The heap dump is fine. There is a bug in recent version of VisualVM, which checks the presence of the heap dump file on the local filesystem even though the heap dump was created on remote machine. It would be great, if you can file a bug with the description, you used above, at <a href=\"https://github.com/oracle/visualvm/issues\" rel=\"nofollow noreferrer\">https://github.com/oracle/visualvm/issues</a>. It will be fixed in VisualVM 2.1.3. Thanks.</p>\n"}],"owner":{"account_id":23978042,"reputation":91,"user_id":17965888,"display_name":"anecahev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659944424,"creation_date":1647501693,"question_id":71508389,"body_markdown":"I cannot take heap dump through VisualVM. When I click &quot;Heap Dump&quot; button in VisualVM 2.1.2, I get the following error: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QLoCn.png\r\n\r\nWhat am I doing wrong? Am I missing a setting somewhere?","title":"VisualVM - Failed to create remote heap dump and save it","body":"<p>I cannot take heap dump through VisualVM. When I click &quot;Heap Dump&quot; button in VisualVM 2.1.2, I get the following error:\n<a href=\"https://i.stack.imgur.com/QLoCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QLoCn.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong? Am I missing a setting somewhere?</p>\n"},{"tags":["java","oracle","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1503649669,"post_id":45877281,"comment_id":78712944,"body_markdown":"are you missing a beginTransaction ?","body":"are you missing a beginTransaction ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":6,"creation_date":1503649724,"post_id":45877281,"comment_id":78712979,"body_markdown":"Also, why the loop?","body":"Also, why the loop?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1503650285,"post_id":45877281,"comment_id":78713316,"body_markdown":"What are you trying to convey with your title? It seems to be unrelated to your actual question.","body":"What are you trying to convey with your title? It seems to be unrelated to your actual question."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1503650403,"post_id":45877281,"comment_id":78713396,"body_markdown":"Please show the code of `getConnection`, your DDL and sample data to reproduce this. Also specify the database you are using.","body":"Please show the code of <code>getConnection</code>, your DDL and sample data to reproduce this. Also specify the database you are using."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1503650501,"post_id":45877281,"comment_id":78713437,"body_markdown":"@ScaryWombat Transactions are implicitly started in JDBC when necessary (eg when executing a statement and no transaction is active), and given he is calling `commit()`, we can assume auto-commit is disabled (otherwise calling commit should throw an exception)","body":"@ScaryWombat Transactions are implicitly started in JDBC when necessary (eg when executing a statement and no transaction is active), and given he is calling <code>commit()</code>, we can assume auto-commit is disabled (otherwise calling commit should throw an exception)"},{"owner":{"account_id":5981690,"reputation":31,"user_id":4700520,"display_name":"Sachin KB"},"score":0,"creation_date":1503673690,"post_id":45877281,"comment_id":78727557,"body_markdown":"@Mark Rotteveel - I am using a product which gives me the connection, I havent coded to get the connection. I am using Oracle db 11.2 .","body":"@Mark Rotteveel - I am using a product which gives me the connection, I havent coded to get the connection. I am using Oracle db 11.2 ."},{"owner":{"account_id":5981690,"reputation":31,"user_id":4700520,"display_name":"Sachin KB"},"score":0,"creation_date":1503673942,"post_id":45877281,"comment_id":78727703,"body_markdown":"@Mark Rotteveel - Yes I have disabled the auto-commit. And my question is why the rows are not getting updated using prepared statement after I set the string and do executeupdate. No error what so ever.","body":"@Mark Rotteveel - Yes I have disabled the auto-commit. And my question is why the rows are not getting updated using prepared statement after I set the string and do executeupdate. No error what so ever."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1503674891,"post_id":45877281,"comment_id":78728305,"body_markdown":"Maybe my hint wasn&#39;t clear enough: edit the title so it actually covers the question (for example what does &quot;setString() is void&quot; have to do with your problem?!). And include your code from `getConnection()`, the DDL of your table, and a sample population of your data. You need to provide us with sufficient information to diagnose your problem. Apart from your curious loop that doesn&#39;t do anything (except attempt to re-execute **the same** update over and over again), there is no obvious error in your code.","body":"Maybe my hint wasn&#39;t clear enough: edit the title so it actually covers the question (for example what does &quot;setString() is void&quot; have to do with your problem?!). And include your code from <code>getConnection()</code>, the DDL of your table, and a sample population of your data. You need to provide us with sufficient information to diagnose your problem. Apart from your curious loop that doesn&#39;t do anything (except attempt to re-execute <b>the same</b> update over and over again), there is no obvious error in your code."},{"owner":{"account_id":5981690,"reputation":31,"user_id":4700520,"display_name":"Sachin KB"},"score":0,"creation_date":1503924418,"post_id":45877281,"comment_id":78797185,"body_markdown":"Below link answer&#39;s the question I posted : [Oracle JDBC and Oracle CHAR data type](https://stackoverflow.com/questions/5332845/oracle-jdbc-and-oracle-char-data-type)","body":"Below link answer&#39;s the question I posted : <a href=\"https://stackoverflow.com/questions/5332845/oracle-jdbc-and-oracle-char-data-type\">Oracle JDBC and Oracle CHAR data type</a>"}],"answers":[{"tags":[],"owner":{"account_id":9898084,"reputation":39,"user_id":7328899,"display_name":"Anclav"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1503654254,"creation_date":1503654254,"answer_id":45878678,"question_id":45877281,"body_markdown":"Try with batch update:\r\n\r\n    void batchUpdate() {\r\n\t\tString strUpdateQuery = &quot;UPDATE payment_table &quot; +\r\n\t\t\t\t\t\t\t\t&quot;SET CREDIT_CARD_NO = ? &quot; +\r\n\t\t\t\t\t\t\t\t&quot;WHERE PAYMENT_KEY= ?&quot;;\r\n\t\ttry (Connection conn = getConnection();\r\n\t\t\t PreparedStatement ps = conn.prepareStatement(strUpdateQuery)) {\r\n\t\t\tfor (int i = 0; i &lt; nodes.getLength(); i++) {\r\n\t\t\t\tps.setString(1, &quot;524364OQNBQQ4291&quot;);\r\n\t\t\t\tps.setString(2, &quot;20130215123757533280168&quot;);\r\n\t\t\t\tps.addBatch();\r\n\t\t\t}\r\n\t\t\tint[] updated = ps.executeBatch();\r\n\t\t\t// can log updated rows from &quot;updated&quot;\r\n\t\t\t// conn.commit(); in case autocommit set to false or used conn.setAutoCommit(false) somewhere\r\n\t\t}\r\n\t\tcatch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"JDBC - PreparedStatement executeUpdate() returning 0","body":"<p>Try with batch update:</p>\n\n<pre><code>void batchUpdate() {\n    String strUpdateQuery = \"UPDATE payment_table \" +\n                            \"SET CREDIT_CARD_NO = ? \" +\n                            \"WHERE PAYMENT_KEY= ?\";\n    try (Connection conn = getConnection();\n         PreparedStatement ps = conn.prepareStatement(strUpdateQuery)) {\n        for (int i = 0; i &lt; nodes.getLength(); i++) {\n            ps.setString(1, \"524364OQNBQQ4291\");\n            ps.setString(2, \"20130215123757533280168\");\n            ps.addBatch();\n        }\n        int[] updated = ps.executeBatch();\n        // can log updated rows from \"updated\"\n        // conn.commit(); in case autocommit set to false or used conn.setAutoCommit(false) somewhere\n    }\n    catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25938599,"reputation":11,"user_id":19658446,"display_name":"LQian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659944412,"creation_date":1659486662,"answer_id":73215111,"question_id":45877281,"body_markdown":"`ps.setXxx()`: You can check the order. The sequence must be the same as the column names in the result level returned by the resultSet!!","title":"JDBC - PreparedStatement executeUpdate() returning 0","body":"<p><code>ps.setXxx()</code>: You can check the order. The sequence must be the same as the column names in the result level returned by the resultSet!!</p>\n"}],"owner":{"account_id":5981690,"reputation":31,"user_id":4700520,"display_name":"Sachin KB"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659944412,"creation_date":1503649610,"question_id":45877281,"body_markdown":"    try{\r\n        Connection conn = getConnection();\r\n        String strUpdateQuery = &quot;update payment_table set  CREDIT_CARD_NO = ? where PAYMENT_KEY= ?&quot;;\r\n        PreparedStatement ps =conn.prepareStatement(strUpdateQuery);\r\n        for(int i=0;i&lt;nodes.getLength();i++){\r\n    \t\t\t\tps.setString(1,&quot;524364OQNBQQ4291&quot;);\r\n    \t\t\t\tps.setString(2,&quot;20130215123757533280168&quot;);\r\n    \t\t\t\tps.executeUpdate();\r\n    \t\t\t\tconn.commit();\r\n        }\r\n    }catch(SQLException e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nNot updating even a single row even after I checked the primary key is correct. \r\n","title":"JDBC - PreparedStatement executeUpdate() returning 0","body":"<pre><code>try{\n    Connection conn = getConnection();\n    String strUpdateQuery = \"update payment_table set  CREDIT_CARD_NO = ? where PAYMENT_KEY= ?\";\n    PreparedStatement ps =conn.prepareStatement(strUpdateQuery);\n    for(int i=0;i&lt;nodes.getLength();i++){\n                ps.setString(1,\"524364OQNBQQ4291\");\n                ps.setString(2,\"20130215123757533280168\");\n                ps.executeUpdate();\n                conn.commit();\n    }\n}catch(SQLException e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Not updating even a single row even after I checked the primary key is correct. </p>\n"},{"tags":["java","maven","security","dependencies"],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659903518,"creation_date":1659903518,"answer_id":73270746,"question_id":73270641,"body_markdown":"If you have the time, you can remove all the dependencies from your pom, keeping them aside in a `.bak` file. \r\n\r\nOf course, the compilation will fail,  \r\nbut then you add them back, __one by one__, and only the one Maven build is complaining about their lack. \r\n\r\nThen you execute and check that everything in your application is still working well. \r\n\r\nThat way, you seldom remove two or three dependencies when the project is very old.","title":"which dependencies can be suppressed and which cannot ? on a maven dependency check","body":"<p>If you have the time, you can remove all the dependencies from your pom, keeping them aside in a <code>.bak</code> file.</p>\n<p>Of course, the compilation will fail,<br />\nbut then you add them back, <strong>one by one</strong>, and only the one Maven build is complaining about their lack.</p>\n<p>Then you execute and check that everything in your application is still working well.</p>\n<p>That way, you seldom remove two or three dependencies when the project is very old.</p>\n"},{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659912960,"creation_date":1659912960,"answer_id":73271600,"question_id":73270641,"body_markdown":"Each Maven dependency can provide some of transitive dependencies.\r\n\r\nEach used dependency in your project is relevant, simply project will not compile without it. Some of dependencies can be needed in runtime by your project.\r\n\r\nYou can read about [Maven Dependency Mechanism][1] and how to [exclude dependencies][2].\r\n\r\nYou can also examine output of: \r\n - `mvn dependency:analyze`\r\n - `mvn dependency:tree`\r\n\r\nPlease familiarize yourself with documentation of [Maven Dependency Plugin][3]\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Transitive_Dependencies\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\r\n  [3]: https://maven.apache.org/plugins/maven-dependency-plugin/index.html","title":"which dependencies can be suppressed and which cannot ? on a maven dependency check","body":"<p>Each Maven dependency can provide some of transitive dependencies.</p>\n<p>Each used dependency in your project is relevant, simply project will not compile without it. Some of dependencies can be needed in runtime by your project.</p>\n<p>You can read about <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Transitive_Dependencies\" rel=\"nofollow noreferrer\">Maven Dependency Mechanism</a> and how to <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow noreferrer\">exclude dependencies</a>.</p>\n<p>You can also examine output of:</p>\n<ul>\n<li><code>mvn dependency:analyze</code></li>\n<li><code>mvn dependency:tree</code></li>\n</ul>\n<p>Please familiarize yourself with documentation of <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/index.html\" rel=\"nofollow noreferrer\">Maven Dependency Plugin</a></p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659944386,"creation_date":1659944386,"answer_id":73274359,"question_id":73270641,"body_markdown":"I would strongly discourage you from asking security related questions here: you are not looking for financial advices on SO, the same applies for security - hire security expert and route all such questions to him.\r\n\r\nIn regards to [`dependency-check-maven`](https://jeremylong.github.io/DependencyCheck/dependency-check-maven/) from [OWASP](https://owasp.org/):\r\n\r\n1. It is a bad idea to embed it into build lifecycle the way that it fails the build if vulnerable dependencies have been found (`failBuildOnAnyVulnerability`, `failBuildOnCVSS`, etc), otherwise it may suddenly stop the entire SDLC, but developers are not responsible for SEC stuff. Reporting is OK though - just give SEC guys a chance to participate in SDLC via reviewing reports and giving suggestions\r\n2. If `dependency-check-maven` did find nothing it does not mean the application is not vulnerable at the current moment and won&#39;t be vulnerable in the future - unfortunately, security is not a `state` but a `process`, that in turn means you need to perform such checks periodically, i.e. either maintain CMDB with detailed information about installed applications and perform checks against that CMDB or use [`dependabot`](https://github.com/dependabot) or other tools.\r\n3. `dependency-check-maven` uses NVD database as a source of information about vulnerabilities, unfortunately neither NVD nor MITRE are actually performing security analysis - they just maintain database, that causes some dumb cases when researcher reports &quot;vulnerability&quot; which is actually not a vulnerability, some examples: [CVE-2021-31684](https://nvd.nist.gov/vuln/detail/CVE-2021-31684), [CVE-2022-26520](https://nvd.nist.gov/vuln/detail/CVE-2022-26520), however, investigating such cases is not a developer responsibility","title":"which dependencies can be suppressed and which cannot ? on a maven dependency check","body":"<p>I would strongly discourage you from asking security related questions here: you are not looking for financial advices on SO, the same applies for security - hire security expert and route all such questions to him.</p>\n<p>In regards to <a href=\"https://jeremylong.github.io/DependencyCheck/dependency-check-maven/\" rel=\"nofollow noreferrer\"><code>dependency-check-maven</code></a> from <a href=\"https://owasp.org/\" rel=\"nofollow noreferrer\">OWASP</a>:</p>\n<ol>\n<li>It is a bad idea to embed it into build lifecycle the way that it fails the build if vulnerable dependencies have been found (<code>failBuildOnAnyVulnerability</code>, <code>failBuildOnCVSS</code>, etc), otherwise it may suddenly stop the entire SDLC, but developers are not responsible for SEC stuff. Reporting is OK though - just give SEC guys a chance to participate in SDLC via reviewing reports and giving suggestions</li>\n<li>If <code>dependency-check-maven</code> did find nothing it does not mean the application is not vulnerable at the current moment and won't be vulnerable in the future - unfortunately, security is not a <code>state</code> but a <code>process</code>, that in turn means you need to perform such checks periodically, i.e. either maintain CMDB with detailed information about installed applications and perform checks against that CMDB or use <a href=\"https://github.com/dependabot\" rel=\"nofollow noreferrer\"><code>dependabot</code></a> or other tools.</li>\n<li><code>dependency-check-maven</code> uses NVD database as a source of information about vulnerabilities, unfortunately neither NVD nor MITRE are actually performing security analysis - they just maintain database, that causes some dumb cases when researcher reports &quot;vulnerability&quot; which is actually not a vulnerability, some examples: <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2021-31684\" rel=\"nofollow noreferrer\">CVE-2021-31684</a>, <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2022-26520\" rel=\"nofollow noreferrer\">CVE-2022-26520</a>, however, investigating such cases is not a developer responsibility</li>\n</ol>\n"}],"owner":{"account_id":24113070,"reputation":11,"user_id":18083395,"display_name":"Juan Velasquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1659944386,"creation_date":1659902413,"question_id":73270641,"body_markdown":"How do I know which dependencies I need to suppress? Basically, what makes the difference in the dependencies that are not relevant to those that are?\r\n\r\nan example would be extremely helpful.","title":"which dependencies can be suppressed and which cannot ? on a maven dependency check","body":"<p>How do I know which dependencies I need to suppress? Basically, what makes the difference in the dependencies that are not relevant to those that are?</p>\n<p>an example would be extremely helpful.</p>\n"},{"tags":["java","hibernate","elasticsearch","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659944235,"creation_date":1659078421,"answer_id":73162821,"question_id":73156664,"body_markdown":"&gt; I don&#39;t know why both hibernate.search.backends.elasticsearch.type and hibernate.search.backends.lucene.type are necessary but if I don&#39;t include the lucene.type, I get Ambiguous backend type: configuration property &#39;hibernate.search.backends.lucene.type&#39; is not set.\r\n\r\nThat&#39;s because the backend name is just that: a name. Hibernate Search doesn&#39;t infer particular information from it, even if you name your backend &quot;lucene&quot; or &quot;elasticsearch&quot;. You could have multiple Elasticsearch backends for all it knows :)\r\n\r\n&gt; But if I do have both backend properties types set, I get HSEARCH000575: No default backend. Check that at least one entity is configured to target the default backend, when attempting to retrieve the Lucene backend, like:\r\n&gt;\r\n&gt; ```\r\n&gt; Search.mapping(entityManager.getEntityManagerFactory())\r\n&gt;                         .backend().unwrap(LuceneBackend.class);\r\n&gt; ``\r\n\r\nYou called `.backend()`, which retrieves the default backend, i.e. the backend that doesn&#39;t have a name and is configured through `hibernate.search.backend.*` instead of `hibernate.search.backends.&lt;somename&gt;.*` (see https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#configuration-structure ).\r\n\r\nBut you are apparently mapping all your entities to a named backends, one named `elasticsearch` and one named `lucene`. So the default backend just doesn&#39;t exist.\r\n\r\nYou should call this:\r\n\r\n```\r\nSearch.mapping(entityManager.getEntityManagerFactory())\r\n                        .backend(&quot;lucene&quot;).unwrap(LuceneBackend.class);\r\n```\r\n\r\n\r\n&gt; I&#39;ve also added @Indexed(..., backend = &quot;elasticsearch&quot;) to my entities since I wish to have them saved into Elasticsearch\r\n\r\nSince you obviously only want to use one backend for indexing, I would recommend reverting that change (keeping `@Indexed` without setting `@Indexed.backend`) and simply making using the default backend.\r\n\r\nIn short, remove the `@Indexed.backend` and replace this:\r\n\r\n```\r\nproperties.setProperty(&quot;hibernate.search.backends.elasticsearch.analysis.configurer&quot;, &quot;com.bt.demo.search.AnalysisConfigurer&quot;);\r\nproperties.setProperty(&quot;hibernate.search.backends.lucene.analysis.configurer&quot;, &quot;com.bt.demo.search.CustomLuceneAnalysisConfigurer&quot;);\r\nproperties.setProperty(&quot;hibernate.search.backends.elasticsearch.type&quot;, &quot;elasticsearch&quot;);\r\nproperties.setProperty(&quot;hibernate.search.backends.lucene.type&quot;, &quot;lucene&quot;);\r\nproperties.setProperty(&quot;hibernate.search.backends.elasticsearch.uris&quot;, &quot;http://127.0.0.1:9200&quot;);\r\n```\r\n\r\nWith this\r\n\r\n```\r\nproperties.setProperty(&quot;hibernate.search.backend.analysis.configurer&quot;, &quot;com.bt.demo.search.AnalysisConfigurer&quot;);\r\nproperties.setProperty(&quot;hibernate.search.backends.lucene.analysis.configurer&quot;, &quot;com.bt.demo.search.CustomLuceneAnalysisConfigurer&quot;);\r\nproperties.setProperty(&quot;hibernate.search.backend.type&quot;, &quot;elasticsearch&quot;);\r\nproperties.setProperty(&quot;hibernate.search.backends.lucene.type&quot;, &quot;lucene&quot;);\r\nproperties.setProperty(&quot;hibernate.search.backend.uris&quot;, &quot;http://127.0.0.1:9200&quot;);\r\n```\r\n\r\nYou don&#39;t technically *have* to do that, but I think it will be simpler in the long term. It keeps the Lucene backend as a separate hack that doesn&#39;t affect your whole application.\r\n\r\n&gt; I also tried adding a fake entity with @Indexed(..., backend = &quot;lucene&quot;)\r\n\r\nI confirm you will need that fake entity mapped to the &quot;lucene&quot; backend, otherwise Hibernate Search will not create the &quot;lucene&quot; backend.","title":"Highlighting in Hibernate Search 6 and Elasticsearch backend","body":"<blockquote>\n<p>I don't know why both hibernate.search.backends.elasticsearch.type and hibernate.search.backends.lucene.type are necessary but if I don't include the lucene.type, I get Ambiguous backend type: configuration property 'hibernate.search.backends.lucene.type' is not set.</p>\n</blockquote>\n<p>That's because the backend name is just that: a name. Hibernate Search doesn't infer particular information from it, even if you name your backend &quot;lucene&quot; or &quot;elasticsearch&quot;. You could have multiple Elasticsearch backends for all it knows :)</p>\n<blockquote>\n<p>But if I do have both backend properties types set, I get HSEARCH000575: No default backend. Check that at least one entity is configured to target the default backend, when attempting to retrieve the Lucene backend, like:</p>\n<pre><code>Search.mapping(entityManager.getEntityManagerFactory())\n                        .backend().unwrap(LuceneBackend.class);\n``\n</code></pre>\n</blockquote>\n<p>You called <code>.backend()</code>, which retrieves the default backend, i.e. the backend that doesn't have a name and is configured through <code>hibernate.search.backend.*</code> instead of <code>hibernate.search.backends.&lt;somename&gt;.*</code> (see <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#configuration-structure\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#configuration-structure</a> ).</p>\n<p>But you are apparently mapping all your entities to a named backends, one named <code>elasticsearch</code> and one named <code>lucene</code>. So the default backend just doesn't exist.</p>\n<p>You should call this:</p>\n<pre><code>Search.mapping(entityManager.getEntityManagerFactory())\n                        .backend(&quot;lucene&quot;).unwrap(LuceneBackend.class);\n</code></pre>\n<blockquote>\n<p>I've also added @Indexed(..., backend = &quot;elasticsearch&quot;) to my entities since I wish to have them saved into Elasticsearch</p>\n</blockquote>\n<p>Since you obviously only want to use one backend for indexing, I would recommend reverting that change (keeping <code>@Indexed</code> without setting <code>@Indexed.backend</code>) and simply making using the default backend.</p>\n<p>In short, remove the <code>@Indexed.backend</code> and replace this:</p>\n<pre><code>properties.setProperty(&quot;hibernate.search.backends.elasticsearch.analysis.configurer&quot;, &quot;com.bt.demo.search.AnalysisConfigurer&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.lucene.analysis.configurer&quot;, &quot;com.bt.demo.search.CustomLuceneAnalysisConfigurer&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.elasticsearch.type&quot;, &quot;elasticsearch&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.lucene.type&quot;, &quot;lucene&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.elasticsearch.uris&quot;, &quot;http://127.0.0.1:9200&quot;);\n</code></pre>\n<p>With this</p>\n<pre><code>properties.setProperty(&quot;hibernate.search.backend.analysis.configurer&quot;, &quot;com.bt.demo.search.AnalysisConfigurer&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.lucene.analysis.configurer&quot;, &quot;com.bt.demo.search.CustomLuceneAnalysisConfigurer&quot;);\nproperties.setProperty(&quot;hibernate.search.backend.type&quot;, &quot;elasticsearch&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.lucene.type&quot;, &quot;lucene&quot;);\nproperties.setProperty(&quot;hibernate.search.backend.uris&quot;, &quot;http://127.0.0.1:9200&quot;);\n</code></pre>\n<p>You don't technically <em>have</em> to do that, but I think it will be simpler in the long term. It keeps the Lucene backend as a separate hack that doesn't affect your whole application.</p>\n<blockquote>\n<p>I also tried adding a fake entity with @Indexed(..., backend = &quot;lucene&quot;)</p>\n</blockquote>\n<p>I confirm you will need that fake entity mapped to the &quot;lucene&quot; backend, otherwise Hibernate Search will not create the &quot;lucene&quot; backend.</p>\n"}],"owner":{"account_id":5922405,"reputation":162,"user_id":4659370,"display_name":"Rick Gagne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73162821,"answer_count":1,"score":0,"last_activity_date":1659944235,"creation_date":1659027890,"question_id":73156664,"body_markdown":"We&#39;re in the process of converting our java application from Hibernate Search 5 to 6 with an **Elasticsearch** backend.\r\n\r\nFor some good background info, see https://stackoverflow.com/questions/50841758/how-to-do-highlighting-within-hibernatesearch-over-elasticsearch for a question we had when upgrading our highlighting code from a Lucene to Elasticsearch backend and how it was resolved.\r\n\r\nHibernate Search 6 seems to support using 2 backends at the same time, Lucene and Elasticsearch, so we&#39;d like to use Elasticsearch for all our queries and Lucene for the highlighting, if that&#39;s possible.\r\n\r\nHere is basically what we&#39;re trying to do:\r\n\r\n    \tpublic boolean matchPhoneNumbers() {\r\n            String phoneNumber1 = &quot;603-436-1234&quot;;\r\n            String phoneNumber2 = &quot;603-436-1234&quot;;\r\n    \r\n            LuceneBackend luceneBackend =\r\n                    Search.mapping(entityManager.getEntityManagerFactory())\r\n                            .backend().unwrap(LuceneBackend.class);\r\n    \r\n    \t\tAnalyzer analyzer = luceneBackend.analyzer(&quot;phoneNumberKeywordAnalyzer&quot;).get();\r\n    \r\n    \t\t//... builds a Lucene Query using the analyzer and phoneNumber1 term     \r\n    \t\tQuery phoneNumberQuery = buildQuery(analyzer, phoneNumber1, ...);\r\n    \r\n            return isMatch(&quot;phoneNumberField&quot;, phoneNumber2, phoneNumberQuery, analyzer);\r\n    \t}\r\n    \r\n       private boolean isMatch(String field, String target, Query sourceQ, Analyzer analyzer) {\r\n            Highlighter highlighter = new Highlighter(new QueryScorer(sourceQ, field));\r\n            highlighter.setTextFragmenter(new NullFragmenter());\r\n    \r\n            try {\r\n                String result = highlighter.getBestFragment(analyzer, field, target);\r\n                return StringUtils.hasText(result);\r\n            } catch (IOException e) {\r\n    \t\t\t...\r\n            }\r\n        }\r\n\r\nWhat I&#39;ve attempted so far is to configure two separate backends in the configuration properties, per the documentation, like this:\r\n\r\n    properties.setProperty(&quot;hibernate.search.backends.elasticsearch.analysis.configurer&quot;, &quot;com.bt.demo.search.AnalysisConfigurer&quot;);\r\n    properties.setProperty(&quot;hibernate.search.backends.lucene.analysis.configurer&quot;, &quot;com.bt.demo.search.CustomLuceneAnalysisConfigurer&quot;);\r\n    properties.setProperty(&quot;hibernate.search.backends.elasticsearch.type&quot;, &quot;elasticsearch&quot;);\r\n    properties.setProperty(&quot;hibernate.search.backends.lucene.type&quot;, &quot;lucene&quot;);\r\n    properties.setProperty(&quot;hibernate.search.backends.elasticsearch.uris&quot;, &quot;http://127.0.0.1:9200&quot;);\r\n\r\nThe AnalysisConfigurer class implements ElasticsearchAnalysisConfigurer and\r\nCustomLuceneAnalysisConfigurer implements from LuceneAnalysisConfigurer.\r\n\r\nAnalyzers are defined twice, once in the Elasticsearch configurer and again in the Lucene configurer.  \r\n\r\nI don&#39;t know why both hibernate.search.backends.elasticsearch.type and hibernate.search.backends.lucene.type are necessary but if I don&#39;t include the lucene.type, I get `Ambiguous backend type: configuration property &#39;hibernate.search.backends.lucene.type&#39; is not set`.\r\n\r\nBut if I do have both backend properties types set, I get\r\n`HSEARCH000575: No default backend. Check that at least one entity is configured to target the default backend`, when attempting to retrieve the Lucene backend, like:\r\n\r\n    Search.mapping(entityManager.getEntityManagerFactory())\r\n                            .backend().unwrap(LuceneBackend.class);\r\n\r\nAnd the same error when trying to retrieve the Elasticsearch backend. \r\n\r\nI&#39;ve also added `@Indexed(..., backend = &quot;elasticsearch&quot;)` to my entities since I wish to have them saved into Elasticsearch and don&#39;t need them in Lucene.  I also tried adding a fake entity with @Indexed(..., backend = &quot;lucene&quot;) but it made no difference.\r\n\r\nWhat have I got configured wrong?","title":"Highlighting in Hibernate Search 6 and Elasticsearch backend","body":"<p>We're in the process of converting our java application from Hibernate Search 5 to 6 with an <strong>Elasticsearch</strong> backend.</p>\n<p>For some good background info, see <a href=\"https://stackoverflow.com/questions/50841758/how-to-do-highlighting-within-hibernatesearch-over-elasticsearch\">How to do highlighting within HibernateSearch over Elasticsearch</a> for a question we had when upgrading our highlighting code from a Lucene to Elasticsearch backend and how it was resolved.</p>\n<p>Hibernate Search 6 seems to support using 2 backends at the same time, Lucene and Elasticsearch, so we'd like to use Elasticsearch for all our queries and Lucene for the highlighting, if that's possible.</p>\n<p>Here is basically what we're trying to do:</p>\n<pre><code>    public boolean matchPhoneNumbers() {\n        String phoneNumber1 = &quot;603-436-1234&quot;;\n        String phoneNumber2 = &quot;603-436-1234&quot;;\n\n        LuceneBackend luceneBackend =\n                Search.mapping(entityManager.getEntityManagerFactory())\n                        .backend().unwrap(LuceneBackend.class);\n\n        Analyzer analyzer = luceneBackend.analyzer(&quot;phoneNumberKeywordAnalyzer&quot;).get();\n\n        //... builds a Lucene Query using the analyzer and phoneNumber1 term     \n        Query phoneNumberQuery = buildQuery(analyzer, phoneNumber1, ...);\n\n        return isMatch(&quot;phoneNumberField&quot;, phoneNumber2, phoneNumberQuery, analyzer);\n    }\n\n   private boolean isMatch(String field, String target, Query sourceQ, Analyzer analyzer) {\n        Highlighter highlighter = new Highlighter(new QueryScorer(sourceQ, field));\n        highlighter.setTextFragmenter(new NullFragmenter());\n\n        try {\n            String result = highlighter.getBestFragment(analyzer, field, target);\n            return StringUtils.hasText(result);\n        } catch (IOException e) {\n            ...\n        }\n    }\n</code></pre>\n<p>What I've attempted so far is to configure two separate backends in the configuration properties, per the documentation, like this:</p>\n<pre><code>properties.setProperty(&quot;hibernate.search.backends.elasticsearch.analysis.configurer&quot;, &quot;com.bt.demo.search.AnalysisConfigurer&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.lucene.analysis.configurer&quot;, &quot;com.bt.demo.search.CustomLuceneAnalysisConfigurer&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.elasticsearch.type&quot;, &quot;elasticsearch&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.lucene.type&quot;, &quot;lucene&quot;);\nproperties.setProperty(&quot;hibernate.search.backends.elasticsearch.uris&quot;, &quot;http://127.0.0.1:9200&quot;);\n</code></pre>\n<p>The AnalysisConfigurer class implements ElasticsearchAnalysisConfigurer and\nCustomLuceneAnalysisConfigurer implements from LuceneAnalysisConfigurer.</p>\n<p>Analyzers are defined twice, once in the Elasticsearch configurer and again in the Lucene configurer.</p>\n<p>I don't know why both hibernate.search.backends.elasticsearch.type and hibernate.search.backends.lucene.type are necessary but if I don't include the lucene.type, I get <code>Ambiguous backend type: configuration property 'hibernate.search.backends.lucene.type' is not set</code>.</p>\n<p>But if I do have both backend properties types set, I get\n<code>HSEARCH000575: No default backend. Check that at least one entity is configured to target the default backend</code>, when attempting to retrieve the Lucene backend, like:</p>\n<pre><code>Search.mapping(entityManager.getEntityManagerFactory())\n                        .backend().unwrap(LuceneBackend.class);\n</code></pre>\n<p>And the same error when trying to retrieve the Elasticsearch backend.</p>\n<p>I've also added <code>@Indexed(..., backend = &quot;elasticsearch&quot;)</code> to my entities since I wish to have them saved into Elasticsearch and don't need them in Lucene.  I also tried adding a fake entity with @Indexed(..., backend = &quot;lucene&quot;) but it made no difference.</p>\n<p>What have I got configured wrong?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1659724572,"post_id":73253892,"comment_id":129370929,"body_markdown":"The class under test should not (usually) be mocked, otherwise the test is just testing mockito and not the class to be tested.  Also, `someString` != `SomeString`.","body":"The class under test should not (usually) be mocked, otherwise the test is just testing mockito and not the class to be tested.  Also, <code>someString</code> != <code>SomeString</code>."},{"owner":{"account_id":10596906,"reputation":9,"user_id":7805260,"display_name":"Anzz"},"score":0,"creation_date":1659944353,"post_id":73253892,"comment_id":129406204,"body_markdown":"@AndrewS I tried using &#39;@InjectMocks &#39;and nothing happened. Also &quot;someString&quot; was a typo.","body":"@AndrewS I tried using &#39;@InjectMocks &#39;and nothing happened. Also &quot;someString&quot; was a typo."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1659946703,"post_id":73253892,"comment_id":129406950,"body_markdown":"You&#39;re CUT (class under test) is a mock so you can&#39;t actually interact with it. You need to create a real instance or use `@InjectMock` for it. If you want to mock internal public methods of that class so mix up mock and real object then you should use a spy-object which is expansive so avoid it if possible.","body":"You&#39;re CUT (class under test) is a mock so you can&#39;t actually interact with it. You need to create a real instance or use <code>@InjectMock</code> for it. If you want to mock internal public methods of that class so mix up mock and real object then you should use a spy-object which is expansive so avoid it if possible."},{"owner":{"account_id":10596906,"reputation":9,"user_id":7805260,"display_name":"Anzz"},"score":0,"creation_date":1659956004,"post_id":73253892,"comment_id":129410182,"body_markdown":"Now I tried using @InjectMocks, but now even if the `when` is specified,the `someProtectedMethodFromBaseController(someReqBody)` is always called. Don&#39;t know why.any idea?","body":"Now I tried using @InjectMocks, but now even if the <code>when</code> is specified,the <code>someProtectedMethodFromBaseController(someReqBody)</code> is always called. Don&#39;t know why.any idea?"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660023066,"post_id":73253892,"comment_id":129427955,"body_markdown":"If you want to actually call one method and mock another, you should use partial mocking. See the question and answer here: https://stackoverflow.com/questions/73275655/how-to-mock-return-value-without-mocking-object","body":"If you want to actually call one method and mock another, you should use partial mocking. See the question and answer here: <a href=\"https://stackoverflow.com/questions/73275655/how-to-mock-return-value-without-mocking-object\" title=\"how to mock return value without mocking object\">stackoverflow.com/questions/73275655/&hellip;</a>"}],"owner":{"account_id":10596906,"reputation":9,"user_id":7805260,"display_name":"Anzz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659944167,"creation_date":1659723588,"question_id":73253892,"body_markdown":"I have a controller \r\n\r\n    @Controller\r\n    public class SomeController extends BaseController {\r\n\r\n        @RequestMapping(method=POST, value=&quot;/something&quot;)\r\n        public @ResponseBody SomeReturnType createReturnType(@Requestbody SomeReqBody someReqBody, Object obj) {\r\n            return someMethod(someReqBody,&quot;SomeString&quot;);\r\n        }\r\n\r\n        public SomeReturnType someMethod(SomeReqBody someReqBody, String someString) {\r\n            return someProtectedMethodFromBaseController(someReqBody, someString);\r\n        }\r\n    }\r\n   \r\n\r\n\r\nI need to test the method `createReturnType()` using JUnit and Mockito. So I wrote some piece of code in test class as follows :\r\n\r\n     @RunWith(MockitoJunitRunner.class)\r\n    public class testSomeController {\r\n\r\n        @Mock\r\n        SomeController someControllerMock = new SomeController();\r\n\r\n        @Test\r\n        public void test createReturnType() {\r\n            SomeReqBody someReqBody = mockRequestBody();\r\n            SomeReturnType someReturnType = mockRetruntype();\r\n            Object someObject = mockObject();\r\n            when(someControllerMock.someMethod(someReqBody,&quot;SomeString&quot;)).thenReturn(someReturnType);\r\n            SomeReturnType returnTypeExp = someControllerMock.createReturnType(someReqBody, someObject);\r\n            assertNotNull(returnTypeExp);\r\n        }\r\n    }\r\n\r\nNow the problem is that everything works fine in the test except the expected result is always `null`. I couldn&#39;t find where I did things wrong. Can someone figure out the problem?","title":"Mocking a method returns null value","body":"<p>I have a controller</p>\n<pre><code>@Controller\npublic class SomeController extends BaseController {\n\n    @RequestMapping(method=POST, value=&quot;/something&quot;)\n    public @ResponseBody SomeReturnType createReturnType(@Requestbody SomeReqBody someReqBody, Object obj) {\n        return someMethod(someReqBody,&quot;SomeString&quot;);\n    }\n\n    public SomeReturnType someMethod(SomeReqBody someReqBody, String someString) {\n        return someProtectedMethodFromBaseController(someReqBody, someString);\n    }\n}\n</code></pre>\n<p>I need to test the method <code>createReturnType()</code> using JUnit and Mockito. So I wrote some piece of code in test class as follows :</p>\n<pre><code> @RunWith(MockitoJunitRunner.class)\npublic class testSomeController {\n\n    @Mock\n    SomeController someControllerMock = new SomeController();\n\n    @Test\n    public void test createReturnType() {\n        SomeReqBody someReqBody = mockRequestBody();\n        SomeReturnType someReturnType = mockRetruntype();\n        Object someObject = mockObject();\n        when(someControllerMock.someMethod(someReqBody,&quot;SomeString&quot;)).thenReturn(someReturnType);\n        SomeReturnType returnTypeExp = someControllerMock.createReturnType(someReqBody, someObject);\n        assertNotNull(returnTypeExp);\n    }\n}\n</code></pre>\n<p>Now the problem is that everything works fine in the test except the expected result is always <code>null</code>. I couldn't find where I did things wrong. Can someone figure out the problem?</p>\n"},{"tags":["java","spring-boot","maven","runtimeexception"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659949500,"post_id":73274316,"comment_id":129407948,"body_markdown":"Why are you doing all those things in the first place? Why not use a simple `spring-boot-maven-plugin` instead of packaging a custom jar and unpacking stuff? Feels like you are overcomplicating things.","body":"Why are you doing all those things in the first place? Why not use a simple <code>spring-boot-maven-plugin</code> instead of packaging a custom jar and unpacking stuff? Feels like you are overcomplicating things."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659949622,"post_id":73274316,"comment_id":129407996,"body_markdown":"As M. Deinum already mentioned use the spring-boot-maven-plugin and remove maven-jar-plugin as well as maven-dependency-plugin...","body":"As M. Deinum already mentioned use the spring-boot-maven-plugin and remove maven-jar-plugin as well as maven-dependency-plugin..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659950349,"post_id":73274316,"comment_id":129408251,"body_markdown":"Also why: `I packaged the classes of other modules into BOOT-INF/classe` that is wrong. Let spring-boot-maven-plugin do it&#39;s work...","body":"Also why: <code>I packaged the classes of other modules into BOOT-INF&#47;classe</code> that is wrong. Let spring-boot-maven-plugin do it&#39;s work..."},{"owner":{"account_id":24509757,"reputation":31,"user_id":18424233,"display_name":"Galam"},"score":0,"creation_date":1659950649,"post_id":73274316,"comment_id":129408338,"body_markdown":"I need to strip out the third-party dependencies into a common directory to avoid having to re-upload them every time I update; as for the unpacking configuration, it&#39;s because the non-third-party dependencies may modify it and need to be updated every time I package it.","body":"I need to strip out the third-party dependencies into a common directory to avoid having to re-upload them every time I update; as for the unpacking configuration, it&#39;s because the non-third-party dependencies may modify it and need to be updated every time I package it."}],"owner":{"account_id":24509757,"reputation":31,"user_id":18424233,"display_name":"Galam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659944144,"creation_date":1659944144,"question_id":73274316,"body_markdown":"I packaged the classes of other modules into BOOT-INF/classes directory, SpringBoot can start normally, but when running to the cache serialization of an object will throw a ClassNotFoundException, what is the reason? Is it related to the class loader?\r\n\r\nHere is my Maven configuration:\r\n\r\n       &lt;plugin&gt;\r\n        \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t&lt;configuration&gt;\r\n        \t\t&lt;includes&gt;\r\n        \t\t\t&lt;include&gt;\r\n        \t\t\t\t&lt;groupId&gt;nothing&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;nothing&lt;/artifactId&gt;\r\n        \t\t\t&lt;/include&gt;\r\n        \t\t&lt;/includes&gt;\r\n        \t&lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n        \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        \t&lt;configuration&gt;\r\n        \t\t&lt;archive&gt;\r\n        \t\t\t&lt;manifest&gt;\r\n        \t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n        \t\t\t\t&lt;classpathPrefix&gt;commonLibs/&lt;/classpathPrefix&gt;\r\n        \t\t\t&lt;/manifest&gt;\r\n        \t\t&lt;/archive&gt;\r\n        \t&lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n        \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        \t&lt;executions&gt;\r\n        \t\t&lt;execution&gt;\r\n        \t\t\t&lt;id&gt;unpack-dependence&lt;/id&gt;\r\n        \t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n        \t\t\t&lt;goals&gt;\r\n        \t\t\t\t&lt;goal&gt;unpack&lt;/goal&gt;\r\n        \t\t\t&lt;/goals&gt;\r\n        \t\t\t&lt;configuration&gt;\r\n        \t\t\t\t&lt;artifactItems&gt;\r\n        \t\t\t\t\t&lt;artifactItem&gt;\r\n        \t\t\t\t\t\t&lt;groupId&gt;xxx&lt;/groupId&gt;\r\n        \t\t\t\t\t\t&lt;artifactId&gt;xxx&lt;/artifactId&gt;\r\n        \t\t\t\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        \t\t\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n        \t\t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n        \t\t\t\t\t\t&lt;outputDirectory&gt;./target/classes&lt;/outputDirectory&gt;\r\n        \t\t\t\t\t\t&lt;includes&gt;**/*.class&lt;/includes&gt;\r\n        \t\t\t\t\t&lt;/artifactItem&gt;\r\n        \t\t\t\t&lt;/artifactItems&gt;\r\n        \t\t\t&lt;/configuration&gt;\r\n        \t\t&lt;/execution&gt;\r\n        \t\t&lt;execution&gt;\r\n        \t\t\t&lt;id&gt;copy-dependence&lt;/id&gt;\r\n        \t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n        \t\t\t&lt;goals&gt;\r\n        \t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n        \t\t\t&lt;/goals&gt;\r\n        \t\t\t&lt;configuration&gt;\r\n        \t\t\t\t&lt;outputDirectory&gt;./target/commonLibs&lt;/outputDirectory&gt;\r\n        \t\t\t&lt;/configuration&gt;\r\n        \t\t&lt;/execution&gt;\r\n        \t&lt;/executions&gt;\r\n        &lt;/plugin&gt;","title":"ClassNotFoundException thrown at SpringBoot runtime","body":"<p>I packaged the classes of other modules into BOOT-INF/classes directory, SpringBoot can start normally, but when running to the cache serialization of an object will throw a ClassNotFoundException, what is the reason? Is it related to the class loader?</p>\n<p>Here is my Maven configuration:</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;includes&gt;\n                &lt;include&gt;\n                    &lt;groupId&gt;nothing&lt;/groupId&gt;\n                    &lt;artifactId&gt;nothing&lt;/artifactId&gt;\n                &lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;classpathPrefix&gt;commonLibs/&lt;/classpathPrefix&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;unpack-dependence&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;unpack&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;artifactItems&gt;\n                        &lt;artifactItem&gt;\n                            &lt;groupId&gt;xxx&lt;/groupId&gt;\n                            &lt;artifactId&gt;xxx&lt;/artifactId&gt;\n                            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n                            &lt;type&gt;jar&lt;/type&gt;\n                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                            &lt;outputDirectory&gt;./target/classes&lt;/outputDirectory&gt;\n                            &lt;includes&gt;**/*.class&lt;/includes&gt;\n                        &lt;/artifactItem&gt;\n                    &lt;/artifactItems&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;copy-dependence&lt;/id&gt;\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;./target/commonLibs&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","modulo"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1659942319,"post_id":73273942,"comment_id":129405586,"body_markdown":"because 0 % 10 equals 0. So it&#39;s working as intended","body":"because 0 % 10 equals 0. So it&#39;s working as intended"},{"owner":{"account_id":25016440,"reputation":1,"user_id":18875511,"display_name":"regularnst"},"score":0,"creation_date":1659942505,"post_id":73273942,"comment_id":129405645,"body_markdown":"but i did specify value for num in line10. &gt;int num = scanner.nextInt();","body":"but i did specify value for num in line10. &gt;int num = scanner.nextInt();"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1659942570,"post_id":73273942,"comment_id":129405660,"body_markdown":"but then you are modifying it inside your while loop","body":"but then you are modifying it inside your while loop"},{"owner":{"account_id":25016440,"reputation":1,"user_id":18875511,"display_name":"regularnst"},"score":0,"creation_date":1659942632,"post_id":73273942,"comment_id":129405682,"body_markdown":"ohh it changes outside of a loop too? how do I fix it?","body":"ohh it changes outside of a loop too? how do I fix it?"},{"owner":{"account_id":25016440,"reputation":1,"user_id":18875511,"display_name":"regularnst"},"score":1,"creation_date":1659942753,"post_id":73273942,"comment_id":129405714,"body_markdown":"I specified a new variable which is equal to &quot;num&quot; and it does the job now. Thankyou so much","body":"I specified a new variable which is equal to &quot;num&quot; and it does the job now. Thankyou so much"}],"answers":[{"tags":[],"owner":{"account_id":25337581,"reputation":374,"user_id":19220969,"display_name":"Renik Shiroya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659943629,"creation_date":1659942868,"answer_id":73274076,"question_id":73273942,"body_markdown":"  There is a wrong logic used for reversing the number. You can try below code.\r\n\r\n     public class ReverseNumberExample1   \r\n        {  \r\n          public static void main(String[] args)   \r\n          {  \r\n           int number = 987654, reverse = 0;  \r\n           while(number != 0)   \r\n           {  \r\n             int remainder = number % 10;  \r\n             reverse = reverse * 10 + remainder;  \r\n             number = number/10;  \r\n           }  \r\n           System.out.println(&quot;The reverse of the given number is: &quot; + reverse);  \r\n         }  \r\n        }  ","title":"I was writing a code to enter a number and then reversing it, but the modulo isn&#39;t working it seems. What could have gone wrong here?","body":"<p>There is a wrong logic used for reversing the number. You can try below code.</p>\n<pre><code> public class ReverseNumberExample1   \n    {  \n      public static void main(String[] args)   \n      {  \n       int number = 987654, reverse = 0;  \n       while(number != 0)   \n       {  \n         int remainder = number % 10;  \n         reverse = reverse * 10 + remainder;  \n         number = number/10;  \n       }  \n       System.out.println(&quot;The reverse of the given number is: &quot; + reverse);  \n     }  \n    }  \n</code></pre>\n"}],"owner":{"account_id":25016440,"reputation":1,"user_id":18875511,"display_name":"regularnst"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659943629,"creation_date":1659942124,"question_id":73273942,"body_markdown":"My concern is only with why the modulo (%) isn&#39;t working. Please don&#39;t comment on the code on it&#39;s entirety. My code is as displayed below.\r\n\r\n```java\r\nimport java.util.Scanner;\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\t\r\n\t\t\r\n\t\tScanner scanner = new Scanner (System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter a number&quot;);\r\n\t\tint num = scanner.nextInt();\r\n\t\t\r\n\t\tint count = 0;\r\n\t\twhile(num!=0) {\r\n\t\tnum = num/10;\r\n\t\tcount++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Total digits = &quot; + count );\r\n\t\t\r\n\t\t\r\n\t\tint rem = num % 10;\r\n\t\tSystem.out.println(rem);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}}\r\n```\r\n\r\nThe output is\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XibJN.png\r\n\r\n\r\nAlso quick note: the output for &quot;rem&quot; is 0 only when &quot;num&quot; is passed as an operand. If a number replaces the &quot;num&quot; then the code works just fine","title":"I was writing a code to enter a number and then reversing it, but the modulo isn&#39;t working it seems. What could have gone wrong here?","body":"<p>My concern is only with why the modulo (%) isn't working. Please don't comment on the code on it's entirety. My code is as displayed below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class Main {\n\n    public static void main(String[] args) {\n    \n        \n        \n        Scanner scanner = new Scanner (System.in);\n        \n        System.out.println(&quot;Enter a number&quot;);\n        int num = scanner.nextInt();\n        \n        int count = 0;\n        while(num!=0) {\n        num = num/10;\n        count++;\n        }\n        System.out.println(&quot;Total digits = &quot; + count );\n        \n        \n        int rem = num % 10;\n        System.out.println(rem);\n        \n        \n        \n        \n    }}\n</code></pre>\n<p>The output is</p>\n<p><img src=\"https://i.stack.imgur.com/XibJN.png\" alt=\"enter image description here\" /></p>\n<p>Also quick note: the output for &quot;rem&quot; is 0 only when &quot;num&quot; is passed as an operand. If a number replaces the &quot;num&quot; then the code works just fine</p>\n"},{"tags":["python","java","pdfbox","tabula"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659956619,"post_id":73274163,"comment_id":129410405,"body_markdown":"Install the missing fonts on that system `sudo apt-get install ttf-mscorefonts-installer`. The ZapfDingbats font you&#39;ll have to buy or get elsewhere.","body":"Install the missing fonts on that system <code>sudo apt-get install ttf-mscorefonts-installer</code>. The ZapfDingbats font you&#39;ll have to buy or get elsewhere."},{"owner":{"account_id":19661977,"reputation":89,"user_id":14393223,"display_name":"Lintang Gilang Pratama"},"score":0,"creation_date":1660008993,"post_id":73274163,"comment_id":129426053,"body_markdown":"Thanks for the answer , I am using redhat linux, what is the syntax for cmd?","body":"Thanks for the answer , I am using redhat linux, what is the syntax for cmd?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1660027621,"post_id":73274163,"comment_id":129428966,"body_markdown":"I don&#39;t understand the question, you need to open a window for a command shell. https://www.redhat.com/sysadmin/linux-terminal-window  If the command I mentioned doesn&#39;t work, then find a way to install the fonts arial / helvetica, times, courier (all these in normal, bold, italic and bold+italic), symbol and Zapf Dingbats.","body":"I don&#39;t understand the question, you need to open a window for a command shell. <a href=\"https://www.redhat.com/sysadmin/linux-terminal-window\" rel=\"nofollow noreferrer\">redhat.com/sysadmin/linux-terminal-window</a>  If the command I mentioned doesn&#39;t work, then find a way to install the fonts arial / helvetica, times, courier (all these in normal, bold, italic and bold+italic), symbol and Zapf Dingbats."}],"owner":{"account_id":19661977,"reputation":89,"user_id":14393223,"display_name":"Lintang Gilang Pratama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659943377,"creation_date":1659943360,"question_id":73274163,"body_markdown":"I&#39;m using a Python script that extracts the text content of a PDF file using tabula which works fine on the Local machine (windows). However, On Remote Server (Red Hat) I get a WARNING\r\n\r\n```\r\nGot stderr: Aug 08, 2022 2:09:36 PM org.apache.pdfbox.pdmodel.font.PDType1Font &lt;init&gt;\r\nWARNING: Using fallback font LiberationSans for base font Times-Roman\r\nAug 08, 2022 2:09:36 PM org.apache.pdfbox.pdmodel.font.PDType1Font &lt;init&gt;\r\nWARNING: Using fallback font LiberationSans for base font Times-Bold\r\n...\r\n\r\n```\r\n\r\nThis is the python script\r\n```\r\nimport tabula\r\ntables = tabula.read_pdf(file_path,pages=&#39;all&#39;,lattice=True,relative_area=True)\r\n\r\n```\r\n\r\nHow to solve this problem?","title":"Error Python : org.apache.pdfbox.pdmodel.font.PDType1Font &lt;init&gt; WARNING: Using fallback font LiberationSans for base font","body":"<p>I'm using a Python script that extracts the text content of a PDF file using tabula which works fine on the Local machine (windows). However, On Remote Server (Red Hat) I get a WARNING</p>\n<pre><code>Got stderr: Aug 08, 2022 2:09:36 PM org.apache.pdfbox.pdmodel.font.PDType1Font &lt;init&gt;\nWARNING: Using fallback font LiberationSans for base font Times-Roman\nAug 08, 2022 2:09:36 PM org.apache.pdfbox.pdmodel.font.PDType1Font &lt;init&gt;\nWARNING: Using fallback font LiberationSans for base font Times-Bold\n...\n\n</code></pre>\n<p>This is the python script</p>\n<pre><code>import tabula\ntables = tabula.read_pdf(file_path,pages='all',lattice=True,relative_area=True)\n\n</code></pre>\n<p>How to solve this problem?</p>\n"},{"tags":["java","collections","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":10431924,"reputation":1105,"user_id":7691497,"display_name":"Ben Steffan"},"score":0,"creation_date":1496328189,"post_id":44310117,"comment_id":75626633,"body_markdown":"So what is your problem, exactly? What output are you expecting? What have you tried to fix this issue? Have you stepped through your code with a debugger?","body":"So what is your problem, exactly? What output are you expecting? What have you tried to fix this issue? Have you stepped through your code with a debugger?"},{"owner":{"account_id":10557320,"reputation":5,"user_id":7778034,"display_name":"Gajendra Tiwari"},"score":0,"creation_date":1496329351,"post_id":44310117,"comment_id":75627591,"body_markdown":"Yes,I have checked.Expected output should be:[Ravi,Vijay,Sanjay,Ajay]        instead of :[Ravi,Ravi,Vijay,Sanjay,Ajay]","body":"Yes,I have checked.Expected output should be:[Ravi,Vijay,Sanjay,Ajay]        instead of :[Ravi,Ravi,Vijay,Sanjay,Ajay]"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1496327018,"creation_date":1496327018,"answer_id":44310161,"question_id":44310117,"body_markdown":"Because you add it twice:\r\n\r\n        public void **add**(Object ele){\r\n            if(first==null){\r\n                first=new Node(ele); //First\r\n                last=first;\r\n                count++;\r\n            }\r\n            last.next=new Node(ele); //second.\r\n            last=last.next;\r\n            count++;\r\n        }\r\n\r\n\r\nadd an else Statement:\r\n\r\n        public void **add**(Object ele){\r\n            if(first==null){\r\n                first=new Node(ele);\r\n                last=first;\r\n                count++;\r\n            } else {\r\n              last.next=new Node(ele);\r\n              last=last.next;\r\n              count++;\r\n            }\r\n        }","title":"Why my Single Linked List implementation is giving me my first element twice after adding objects?","body":"<p>Because you add it twice:</p>\n\n<pre><code>    public void **add**(Object ele){\n        if(first==null){\n            first=new Node(ele); //First\n            last=first;\n            count++;\n        }\n        last.next=new Node(ele); //second.\n        last=last.next;\n        count++;\n    }\n</code></pre>\n\n<p>add an else Statement:</p>\n\n<pre><code>    public void **add**(Object ele){\n        if(first==null){\n            first=new Node(ele);\n            last=first;\n            count++;\n        } else {\n          last.next=new Node(ele);\n          last=last.next;\n          count++;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1556313,"reputation":13459,"user_id":1447296,"accept_rate":100,"display_name":"adjan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496328293,"creation_date":1496327024,"answer_id":44310162,"question_id":44310117,"body_markdown":"In your method:\r\n\r\n     public void **add**(Object ele){\r\n        if(first==null){\r\n           first=new Node(ele);\r\n           last=first;\r\n           count++;\r\n        }\r\n        last.next=new Node(ele);\r\n        last=last.next;\r\n        count++;\r\n     }\r\n\r\nYou have to put a `return` statement at the end of the if clause, or use `else`. Else you add the first element twice.","title":"Why my Single Linked List implementation is giving me my first element twice after adding objects?","body":"<p>In your method:</p>\n\n<pre><code> public void **add**(Object ele){\n    if(first==null){\n       first=new Node(ele);\n       last=first;\n       count++;\n    }\n    last.next=new Node(ele);\n    last=last.next;\n    count++;\n }\n</code></pre>\n\n<p>You have to put a <code>return</code> statement at the end of the if clause, or use <code>else</code>. Else you add the first element twice.</p>\n"},{"tags":[],"owner":{"account_id":26006084,"reputation":1,"user_id":19715771,"display_name":"Sunil Ballani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659943371,"creation_date":1659943371,"answer_id":73274164,"question_id":44310117,"body_markdown":"In this method \r\n\r\n    public void add(Object ele){\r\n            if(first==null){\r\n                first=new Node(ele);\r\n                last=first;\r\n                count++;\r\n            }\r\n            last.next=new Node(ele);\r\n            last=last.next;\r\n            count++;\r\n        }\r\nYou have to **return** from the if statement as shown below, otherwise the first value will be inserted twice as the control will be transferred to the next statement after the execution of if block. You can also put the remaining code under the **else** block, it will also work. \r\n\r\n    public void add(Object ele){\r\n            if(first==null){\r\n                first=new Node(ele);\r\n                last=first;\r\n                count++;\r\n                return; \r\n            }\r\n            last.next=new Node(ele);\r\n            last=last.next;\r\n            count++;\r\n        }\r\n\r\n\r\n","title":"Why my Single Linked List implementation is giving me my first element twice after adding objects?","body":"<p>In this method</p>\n<pre><code>public void add(Object ele){\n        if(first==null){\n            first=new Node(ele);\n            last=first;\n            count++;\n        }\n        last.next=new Node(ele);\n        last=last.next;\n        count++;\n    }\n</code></pre>\n<p>You have to <strong>return</strong> from the if statement as shown below, otherwise the first value will be inserted twice as the control will be transferred to the next statement after the execution of if block. You can also put the remaining code under the <strong>else</strong> block, it will also work.</p>\n<pre><code>public void add(Object ele){\n        if(first==null){\n            first=new Node(ele);\n            last=first;\n            count++;\n            return; \n        }\n        last.next=new Node(ele);\n        last=last.next;\n        count++;\n    }\n</code></pre>\n"}],"owner":{"account_id":10557320,"reputation":5,"user_id":7778034,"display_name":"Gajendra Tiwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44310161,"answer_count":3,"score":0,"last_activity_date":1659943371,"creation_date":1496326903,"question_id":44310117,"body_markdown":"  Here i am trying to implement the basic operations of &quot;**Single Linked List**&quot;.\r\nBut only here i am facing only one problem that is, after adding elements, i.e.\r\n              \r\n\r\n    al.add(&quot;Ravi&quot;);\r\n    al.add(&quot;Vijay&quot;);\r\n    al.add(&quot;Sanjay&quot;);\r\n    al.add(&quot;Ajay&quot;); \r\n\r\n \r\n\r\n \r\nI am getting output as:  \r\n[]---------&gt;For empty Linked list  \r\n[**Ravi,Ravi**,Vijay,Sanjay,Ajay]------&gt;After adding elements.\r\n\r\n \r\n\r\n    class MyLinkedList {\r\n        \tprivate Node first;\r\n        \tprivate Node last;\r\n        \tprivate int count;\r\n        \t\r\n        \tpublic void add(Object ele){\r\n        \t\tif(first==null){\r\n        \t\t\tfirst=new Node(ele);\r\n        \t\t\tlast=first;\r\n        \t\t\tcount++;\r\n        \t\t}\r\n        \t\tlast.next=new Node(ele);\r\n        \t\tlast=last.next;\r\n        \t\tcount++;\r\n        \t}\r\n        \tpublic int size(){\r\n        \t\treturn count;\r\n        \t}\r\n        \tpublic Object get(int index){\r\n        \t\tif(index&gt;=size())throw new IndexOutOfBoundsException();\r\n        \t\tNode p=first;\r\n        \t\tfor(int i=0;i&lt;=index;i++){\r\n        \t\t\tp=p.next;\r\n        \t\t}\r\n        \t\treturn p.ele;\r\n        \t}\r\n        \tpublic void remove(int index){\r\n        \t\tif(index&gt;=size())throw new IndexOutOfBoundsException();\r\n        \t\tif(index==0){\r\n        \t\t\tfirst=first.next;\r\n        \t\t\tcount--;\r\n        \t\t\treturn;\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \t@Override\r\n        \tpublic String toString() {\r\n        \t\tif(size()==0)return &quot;[]&quot;;\r\n        \t\tNode p=first;\r\n        \t\tString s=&quot;[&quot; + p.ele;\r\n        \t\twhile(p.next!=null){\r\n        \t\t\tp=p.next;\r\n        \t\t\ts+=&quot;,&quot;+p.ele;\r\n        \t\t}\r\n        \t\treturn s + &quot;]&quot;;\r\n        \t}\r\n        \r\n        \tprivate class Node{\r\n        \t\tObject ele;\r\n        \t\tNode next;\r\n        \t\tNode(Object ele){\r\n        \t\t\tthis.ele=ele;\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t MyLinkedList al=new MyLinkedList(); \r\n        \t\t System.out.println(al);\r\n        \t\t  al.add(&quot;Ravi&quot;);  \r\n        \t\t  al.add(&quot;Vijay&quot;);  \r\n        \t\t  al.add(&quot;Sanjay&quot;);  \r\n        \t\t  al.add(&quot;Ajay&quot;);\r\n        \t\t  System.out.println(al);\r\n        \t\t  \r\n        \t}\r\n        \r\n        }","title":"Why my Single Linked List implementation is giving me my first element twice after adding objects?","body":"<p>Here i am trying to implement the basic operations of \"<strong>Single Linked List</strong>\".\nBut only here i am facing only one problem that is, after adding elements, i.e.</p>\n\n<pre><code>al.add(\"Ravi\");\nal.add(\"Vijay\");\nal.add(\"Sanjay\");\nal.add(\"Ajay\"); \n</code></pre>\n\n<p>I am getting output as:<br>\n[]--------->For empty Linked list<br>\n[<strong>Ravi,Ravi</strong>,Vijay,Sanjay,Ajay]------>After adding elements.</p>\n\n<pre><code>class MyLinkedList {\n        private Node first;\n        private Node last;\n        private int count;\n\n        public void add(Object ele){\n            if(first==null){\n                first=new Node(ele);\n                last=first;\n                count++;\n            }\n            last.next=new Node(ele);\n            last=last.next;\n            count++;\n        }\n        public int size(){\n            return count;\n        }\n        public Object get(int index){\n            if(index&gt;=size())throw new IndexOutOfBoundsException();\n            Node p=first;\n            for(int i=0;i&lt;=index;i++){\n                p=p.next;\n            }\n            return p.ele;\n        }\n        public void remove(int index){\n            if(index&gt;=size())throw new IndexOutOfBoundsException();\n            if(index==0){\n                first=first.next;\n                count--;\n                return;\n            }\n        }\n\n        @Override\n        public String toString() {\n            if(size()==0)return \"[]\";\n            Node p=first;\n            String s=\"[\" + p.ele;\n            while(p.next!=null){\n                p=p.next;\n                s+=\",\"+p.ele;\n            }\n            return s + \"]\";\n        }\n\n        private class Node{\n            Object ele;\n            Node next;\n            Node(Object ele){\n                this.ele=ele;\n            }\n        }\n\n        public static void main(String[] args) {\n             MyLinkedList al=new MyLinkedList(); \n             System.out.println(al);\n              al.add(\"Ravi\");  \n              al.add(\"Vijay\");  \n              al.add(\"Sanjay\");  \n              al.add(\"Ajay\");\n              System.out.println(al);\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio-2.3"],"answers":[{"tags":[],"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659943036,"creation_date":1659943036,"answer_id":73274102,"question_id":73273250,"body_markdown":"It Depends on the API you use (CameraX, Camera2).\r\nIf you use Camera2 API the general flow would be:\r\n\r\n1. Open a Camera:\r\n\r\n```Kotlin\r\nval manager = getSystemService(CAMERA_SERVICE) as CameraManager\r\nmanager.openCamera(cameraId, cameraStateCallback, cameraHandler)\r\n```\r\n\r\n2. Wait for the camera to open:\r\n\r\n```Kotlin\r\nprivate val cameraStateCallback: CameraDevice.StateCallback = object : CameraDevice.StateCallback() {\r\n    override fun onOpened(cameraDevice: CameraDevice) {\r\n        //Start a capture session\r\n    }\r\n\r\n    override fun onDisconnected(cameraDevice: CameraDevice) {\r\n        cameraOpenCloseLock.release()\r\n        cameraDevice.close()\r\n    }\r\n\r\n    override fun onError(cameraDevice: CameraDevice, error: Int) {\r\n        cameraOpenCloseLock.release()\r\n        cameraDevice.close()\r\n    }\r\n}\r\n```\r\n\r\n3. Then start a capture session, and using ImageReader to receive images.\r\n\r\n\r\nYou can check [this project][1] for a small basic working example of the entire flow.\r\n\r\n\r\n  [1]: https://github.com/gioravered/camera_image_reader","title":"How can I access the streaming camera video as bitmap or ByteBuffer in Android studio without saving it?(Java)","body":"<p>It Depends on the API you use (CameraX, Camera2).\nIf you use Camera2 API the general flow would be:</p>\n<ol>\n<li>Open a Camera:</li>\n</ol>\n<pre><code>val manager = getSystemService(CAMERA_SERVICE) as CameraManager\nmanager.openCamera(cameraId, cameraStateCallback, cameraHandler)\n</code></pre>\n<ol start=\"2\">\n<li>Wait for the camera to open:</li>\n</ol>\n<pre><code>private val cameraStateCallback: CameraDevice.StateCallback = object : CameraDevice.StateCallback() {\n    override fun onOpened(cameraDevice: CameraDevice) {\n        //Start a capture session\n    }\n\n    override fun onDisconnected(cameraDevice: CameraDevice) {\n        cameraOpenCloseLock.release()\n        cameraDevice.close()\n    }\n\n    override fun onError(cameraDevice: CameraDevice, error: Int) {\n        cameraOpenCloseLock.release()\n        cameraDevice.close()\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Then start a capture session, and using ImageReader to receive images.</li>\n</ol>\n<p>You can check <a href=\"https://github.com/gioravered/camera_image_reader\" rel=\"nofollow noreferrer\">this project</a> for a small basic working example of the entire flow.</p>\n"}],"owner":{"account_id":9259640,"reputation":27,"user_id":6877191,"accept_rate":0,"display_name":"Souvik Saha Bhowmik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659943036,"creation_date":1659936560,"question_id":73273250,"body_markdown":"I am building an app in Android studio in Java where I want to access realtime video from camera without saving it and get it as a ByteBuffer. Any help will be appreciated.","title":"How can I access the streaming camera video as bitmap or ByteBuffer in Android studio without saving it?(Java)","body":"<p>I am building an app in Android studio in Java where I want to access realtime video from camera without saving it and get it as a ByteBuffer. Any help will be appreciated.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1659875555,"post_id":73267358,"comment_id":129394142,"body_markdown":"What do you need exactly? The titles of diploma projects whose **all** students have taken a specific course or the titles of diploma projects whose **at least one** student has taken a specific course?","body":"What do you need exactly? The titles of diploma projects whose <b>all</b> students have taken a specific course or the titles of diploma projects whose <b>at least one</b> student has taken a specific course?"},{"owner":{"account_id":7355888,"reputation":1268,"user_id":5600656,"display_name":"Oleksandr Lykhonosov"},"score":0,"creation_date":1659875894,"post_id":73267358,"comment_id":129394214,"body_markdown":"It looks like you have to replace `student.courseList.keySet().equals(&quot;math1001&quot;)` with `student.courseList.containsKey(desiredCourse)` where `desiredCourse` is something like `new Course(&quot;CourseName&quot;, &quot;CourseId&quot;)` and make sure that you have a proper implementation of hashCode/equals for `Course` class","body":"It looks like you have to replace <code>student.courseList.keySet().equals(&quot;math1001&quot;)</code> with <code>student.courseList.containsKey(desiredCourse)</code> where <code>desiredCourse</code> is something like <code>new Course(&quot;CourseName&quot;, &quot;CourseId&quot;)</code> and make sure that you have a proper implementation of hashCode/equals for <code>Course</code> class"},{"owner":{"account_id":26000431,"reputation":21,"user_id":19711059,"display_name":"aasdag"},"score":0,"creation_date":1659877649,"post_id":73267358,"comment_id":129394646,"body_markdown":"@AddeusExMachina I need the diploma projects titles from all the students that have taken a specific course","body":"@AddeusExMachina I need the diploma projects titles from all the students that have taken a specific course"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659880210,"creation_date":1659878363,"answer_id":73267789,"question_id":73267358,"body_markdown":"&gt; I want to get a `List` of **diploma project titles**, from the students that have taken a `Course` identified by the given `courseId`. They will also need to have passed the course with `grade` of 2 or higher.\r\n\r\nIn your method `diplomaProjectTitle` you&#39;re actually **losing** the access to the titles of the diploma projects at the very beginning of the stream pipe-line because the very first operation extracts authors from the stream element.\r\n\r\nYou need to need the stream to of type `Stream&lt;DiplomaProject&gt;` in order to get a list of diploma project titles as a result. Therefore, all the logic needed to filter the desired diploma project should reside in the `filter()` operation.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static List&lt;String&gt; diplomaProjectTitle(List&lt;DiplomaProject&gt; diplomaProjects,\r\n                                                   String courseId,\r\n                                                   Integer grade) {\r\n        return diplomaProjects.stream()\r\n            .filter(diplomaProject -&gt; diplomaProject.getAuthors().stream()\r\n                .anyMatch(student -&gt; \r\n                    student.getCourseList().getOrDefault(courseId, 0) &gt;= grade\r\n                )\r\n            )\r\n            .map(DiplomaProject::getTitle)\r\n            .toList();   // or .collect(Collectors.toList()) for JDK version earlier than 16\r\n    }\r\nA couple of important notes:\r\n\r\n* Avoid using `public` fields and accessing the fields from outside the class directly rather than via *getters*.\r\n\r\n* Pay attention to the names of your method, variables, etc. The name `courseList` is confusing because it&#39;s actually **not** a `List`. This map should rather be named `gradeByCourse` to describe its purpose in a clear way.\r\n\r\n* Leverage abstractions - write your code against interfaces. See https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\r\n\r\n* Pay attention to the types you&#39;re working with `keySet().equals(&quot;math1001&quot;)` even IDE is capable to tell you that something is wrong here because `Set` can never be equal to a `String`.","title":"Stream - filter based on hashMap value","body":"<blockquote>\n<p>I want to get a <code>List</code> of <strong>diploma project titles</strong>, from the students that have taken a <code>Course</code> identified by the given <code>courseId</code>. They will also need to have passed the course with <code>grade</code> of 2 or higher.</p>\n</blockquote>\n<p>In your method <code>diplomaProjectTitle</code> you're actually <strong>losing</strong> the access to the titles of the diploma projects at the very beginning of the stream pipe-line because the very first operation extracts authors from the stream element.</p>\n<p>You need to need the stream to of type <code>Stream&lt;DiplomaProject&gt;</code> in order to get a list of diploma project titles as a result. Therefore, all the logic needed to filter the desired diploma project should reside in the <code>filter()</code> operation.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public static List&lt;String&gt; diplomaProjectTitle(List&lt;DiplomaProject&gt; diplomaProjects,\n                                               String courseId,\n                                               Integer grade) {\n    return diplomaProjects.stream()\n        .filter(diplomaProject -&gt; diplomaProject.getAuthors().stream()\n            .anyMatch(student -&gt; \n                student.getCourseList().getOrDefault(courseId, 0) &gt;= grade\n            )\n        )\n        .map(DiplomaProject::getTitle)\n        .toList();   // or .collect(Collectors.toList()) for JDK version earlier than 16\n}\n</code></pre>\n<p>A couple of important notes:</p>\n<ul>\n<li><p>Avoid using <code>public</code> fields and accessing the fields from outside the class directly rather than via <em>getters</em>.</p>\n</li>\n<li><p>Pay attention to the names of your method, variables, etc. The name <code>courseList</code> is confusing because it's actually <strong>not</strong> a <code>List</code>. This map should rather be named <code>gradeByCourse</code> to describe its purpose in a clear way.</p>\n</li>\n<li><p>Leverage abstractions - write your code against interfaces. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n</li>\n<li><p>Pay attention to the types you're working with <code>keySet().equals(&quot;math1001&quot;)</code> even IDE is capable to tell you that something is wrong here because <code>Set</code> can never be equal to a <code>String</code>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659878473,"creation_date":1659878473,"answer_id":73267802,"question_id":73267358,"body_markdown":"You are losing the info on the diploma projects with the the .map functions. What you want to do is operate within the `.filter()` functions of the first diplomaproj stream.\r\nTherefore\r\n\r\n```\r\n\r\n    public List&lt;String&gt; diplomaProjectTitles(List&lt;DiplomaProject&gt; diplomaProjects) {\r\n        return diplomaProjects.stream()\r\n                .filter(projects -&gt; projects.getAuthors().stream().map(Student::getCourseList)\r\n                        //get the course matching this one (both name and id)\r\n                        .map(c -&gt; c.get(new Course(&quot;math101&quot;, &quot;1&quot;)))\r\n                        //check if that course has grade greater than the minimum\r\n                        .anyMatch(grade -&gt; grade&gt;=2))\r\n                .map(DiplomaProject::getTitle)\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nFor this to work though you would need to modify your Course class. Since you are using it within a hash map as a key, and want to get it through a custom *query* you will need to add the `hashCode()` function.\r\n\r\n    public class Course {\r\n        private String courseName;\r\n        private String courseId;\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return courseName.hashCode() + courseId.hashCode();\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if(o instanceof Course oc) {\r\n                return oc.getCourseName().equals(this.getCourseName()) &amp;&amp; oc.getCourseId().equals(this.getCourseId());\r\n            }\r\n            return false;\r\n        }\r\n        \r\n        //getters and setters\r\n    }\r\n\r\nIn order to test it I created a simple method that prepares a test case\r\n\r\n    public void filterStudents() {\r\n            List&lt;DiplomaProject&gt; diplomaProjects = new ArrayList&lt;&gt;();\r\n            List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\r\n            courses.add(new Course(&quot;math101&quot;, &quot;1&quot;));\r\n            courses.add(new Course(&quot;calc101&quot;, &quot;2&quot;));\r\n            courses.add(new Course(&quot;calc102&quot;, &quot;3&quot;));\r\n    \r\n            List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n            Map&lt;Course, Integer&gt; courseMap = Map.of(courses.get(0), 3, courses.get(1), 1);\r\n            students.add(new Student(&quot;TestSubj&quot;, courseMap));\r\n            Map&lt;Course, Integer&gt; courseMap2 = Map.of(courses.get(0), 1, courses.get(1), 3);\r\n            students.add(new Student(&quot;TestSubj2&quot;, courseMap2));\r\n            diplomaProjects.add(new DiplomaProject(&quot;Project1&quot;, students));\r\n            diplomaProjects.add(new DiplomaProject(&quot;Project2&quot;, List.of(students.get(1))));\r\n    \r\n            log.info(&quot;Dimploma projects are &quot; + diplomaProjectTitles(diplomaProjects));\r\n    \r\n        }\r\n\r\nthis way Project 1 will have a student with math101 with grade 3 and one with grade 1, and Project2 will have a student with math101 with grade 1. As expected, the result of the filtering method is only project1","title":"Stream - filter based on hashMap value","body":"<p>You are losing the info on the diploma projects with the the .map functions. What you want to do is operate within the <code>.filter()</code> functions of the first diplomaproj stream.\nTherefore</p>\n<pre><code>\n    public List&lt;String&gt; diplomaProjectTitles(List&lt;DiplomaProject&gt; diplomaProjects) {\n        return diplomaProjects.stream()\n                .filter(projects -&gt; projects.getAuthors().stream().map(Student::getCourseList)\n                        //get the course matching this one (both name and id)\n                        .map(c -&gt; c.get(new Course(&quot;math101&quot;, &quot;1&quot;)))\n                        //check if that course has grade greater than the minimum\n                        .anyMatch(grade -&gt; grade&gt;=2))\n                .map(DiplomaProject::getTitle)\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>For this to work though you would need to modify your Course class. Since you are using it within a hash map as a key, and want to get it through a custom <em>query</em> you will need to add the <code>hashCode()</code> function.</p>\n<pre><code>public class Course {\n    private String courseName;\n    private String courseId;\n\n    @Override\n    public int hashCode() {\n        return courseName.hashCode() + courseId.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if(o instanceof Course oc) {\n            return oc.getCourseName().equals(this.getCourseName()) &amp;&amp; oc.getCourseId().equals(this.getCourseId());\n        }\n        return false;\n    }\n    \n    //getters and setters\n}\n</code></pre>\n<p>In order to test it I created a simple method that prepares a test case</p>\n<pre><code>public void filterStudents() {\n        List&lt;DiplomaProject&gt; diplomaProjects = new ArrayList&lt;&gt;();\n        List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\n        courses.add(new Course(&quot;math101&quot;, &quot;1&quot;));\n        courses.add(new Course(&quot;calc101&quot;, &quot;2&quot;));\n        courses.add(new Course(&quot;calc102&quot;, &quot;3&quot;));\n\n        List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n        Map&lt;Course, Integer&gt; courseMap = Map.of(courses.get(0), 3, courses.get(1), 1);\n        students.add(new Student(&quot;TestSubj&quot;, courseMap));\n        Map&lt;Course, Integer&gt; courseMap2 = Map.of(courses.get(0), 1, courses.get(1), 3);\n        students.add(new Student(&quot;TestSubj2&quot;, courseMap2));\n        diplomaProjects.add(new DiplomaProject(&quot;Project1&quot;, students));\n        diplomaProjects.add(new DiplomaProject(&quot;Project2&quot;, List.of(students.get(1))));\n\n        log.info(&quot;Dimploma projects are &quot; + diplomaProjectTitles(diplomaProjects));\n\n    }\n</code></pre>\n<p>this way Project 1 will have a student with math101 with grade 3 and one with grade 1, and Project2 will have a student with math101 with grade 1. As expected, the result of the filtering method is only project1</p>\n"},{"tags":[],"owner":{"account_id":25347191,"reputation":1,"user_id":19164625,"display_name":"Imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659942948,"creation_date":1659942948,"answer_id":73274088,"question_id":73267358,"body_markdown":"A step-by-step way of thinking:\r\n\r\nWe need to filter projects based on the criteria that these have at least one author (student) who has passed a specific course (courseId) with a grade &gt;= 2 (another filter).\r\n\r\n    dipProjects.stream().filter(p-&gt;p.getAuthors().stream().anyMatch(s-&gt;s.getCourseList().getOrDefault(courseId,0) &gt;= grade)).map(p-&gt;p.getTitle()).collect(Collectors.toList());","title":"Stream - filter based on hashMap value","body":"<p>A step-by-step way of thinking:</p>\n<p>We need to filter projects based on the criteria that these have at least one author (student) who has passed a specific course (courseId) with a grade &gt;= 2 (another filter).</p>\n<pre><code>dipProjects.stream().filter(p-&gt;p.getAuthors().stream().anyMatch(s-&gt;s.getCourseList().getOrDefault(courseId,0) &gt;= grade)).map(p-&gt;p.getTitle()).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":26000431,"reputation":21,"user_id":19711059,"display_name":"aasdag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1659942948,"creation_date":1659874785,"question_id":73267358,"body_markdown":"I want to start from a collection of diploma projects and by using stream I want to get an arrayList of diploma project titles, from the students that have taken a course identified by courseId. They will also need to have passed the course with grade of 2 or higher.\r\n\r\nI have this DiplomaProject class:\r\n    \r\n    public class DiplomaProject{\r\n        String title;\r\n        ArrayList&lt;Student&gt; authors\r\n    }\r\n\r\nEach diplomaProject can have multiple authors.\r\n\r\nI have this Course class:\r\n\r\n    public class Course{\r\n        String courseName;\r\n        String courseId;\r\n    }\r\n\r\nThis Student class:\r\n\r\n    public class Student{\r\n        String name;\r\n        HashMap&lt;Course, Integer&gt; courseList;\r\n        DiplomaProject diplomaProject;\r\n    }\r\nThe grade of the course is the Integer value of courseList.\r\n\r\nThis is my current solution, but I know it does not do what I want. I can&#39;t find a way to filter based on the value of the courseList, and I do not know how I can get the the diplomaProject titles at the end of the streams (only at the top level).\r\n \r\n    public static List&lt;String&gt; diplomaProjectTitle(List&lt;DiplomaProject&gt; diplomaProjects) {\r\n            return diplomaProjects.stream()\r\n                    .map(diplomaProject -&gt; diplomaProject.authors)\r\n                    .flatMap(students -&gt; students.stream())\r\n                    .filter(student -&gt; student.courseList.keySet().equals(&quot;math1001&quot;))\r\n                    .flatMap(student -&gt; student.courseList.keySet().stream())\r\n                    .map(student -&gt; student.courseName)\r\n                    .collect(Collectors.toList());","title":"Stream - filter based on hashMap value","body":"<p>I want to start from a collection of diploma projects and by using stream I want to get an arrayList of diploma project titles, from the students that have taken a course identified by courseId. They will also need to have passed the course with grade of 2 or higher.</p>\n<p>I have this DiplomaProject class:</p>\n<pre><code>public class DiplomaProject{\n    String title;\n    ArrayList&lt;Student&gt; authors\n}\n</code></pre>\n<p>Each diplomaProject can have multiple authors.</p>\n<p>I have this Course class:</p>\n<pre><code>public class Course{\n    String courseName;\n    String courseId;\n}\n</code></pre>\n<p>This Student class:</p>\n<pre><code>public class Student{\n    String name;\n    HashMap&lt;Course, Integer&gt; courseList;\n    DiplomaProject diplomaProject;\n}\n</code></pre>\n<p>The grade of the course is the Integer value of courseList.</p>\n<p>This is my current solution, but I know it does not do what I want. I can't find a way to filter based on the value of the courseList, and I do not know how I can get the the diplomaProject titles at the end of the streams (only at the top level).</p>\n<pre><code>public static List&lt;String&gt; diplomaProjectTitle(List&lt;DiplomaProject&gt; diplomaProjects) {\n        return diplomaProjects.stream()\n                .map(diplomaProject -&gt; diplomaProject.authors)\n                .flatMap(students -&gt; students.stream())\n                .filter(student -&gt; student.courseList.keySet().equals(&quot;math1001&quot;))\n                .flatMap(student -&gt; student.courseList.keySet().stream())\n                .map(student -&gt; student.courseName)\n                .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1659938742,"post_id":73273462,"comment_id":129404721,"body_markdown":"How about testing if a specific address is reachable? [Like this?](https://stackoverflow.com/questions/7685439/how-to-test-if-a-remote-system-is-reachable) &quot;Online&quot; is a rather vague term.","body":"How about testing if a specific address is reachable? <a href=\"https://stackoverflow.com/questions/7685439/how-to-test-if-a-remote-system-is-reachable\">Like this?</a> &quot;Online&quot; is a rather vague term."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1659938979,"post_id":73273462,"comment_id":129404781,"body_markdown":"You can use [`@DisableIf`](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledIf.html#value()). Or you could make your own [`ExecutionCondition`](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExecutionCondition.html) extension. In either case you can use [composed annotations](https://junit.org/junit5/docs/current/user-guide/#writing-tests-meta-annotations) (or even register the extension [globally](https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic)).","body":"You can use <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledIf.html#value()\" rel=\"nofollow noreferrer\"><code>@DisableIf</code></a>. Or you could make your own <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExecutionCondition.html\" rel=\"nofollow noreferrer\"><code>ExecutionCondition</code></a> extension. In either case you can use <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-meta-annotations\" rel=\"nofollow noreferrer\">composed annotations</a> (or even register the extension <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic\" rel=\"nofollow noreferrer\">globally</a>)."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1659939817,"post_id":73273462,"comment_id":129404966,"body_markdown":"@Sweeper I know how to implement this :) I&#39;m looking for a ready-to-go solution in form of a JAR that I can just add to my project.","body":"@Sweeper I know how to implement this :) I&#39;m looking for a ready-to-go solution in form of a JAR that I can just add to my project."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1659940289,"post_id":73273462,"comment_id":129405069,"body_markdown":"I&#39;m not sure what you mean. How would a JAR know what external address you want to reach?","body":"I&#39;m not sure what you mean. How would a JAR know what external address you want to reach?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1659940648,"post_id":73273462,"comment_id":129405149,"body_markdown":"@Sweeper I can use it like this: `WeAreOnline.check(&quot;google.com&quot;)`","body":"@Sweeper I can use it like this: <code>WeAreOnline.check(&quot;google.com&quot;)</code>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1659940810,"post_id":73273462,"comment_id":129405190,"body_markdown":"So how does the link in my first comment not answer your question?","body":"So how does the link in my first comment not answer your question?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1659941267,"post_id":73273462,"comment_id":129405303,"body_markdown":"@Sweeper I will have to implement this `WeAreOnline` in _each_ project of mine. Instead, I want someone else to do this for me and share a Maven dependency.","body":"@Sweeper I will have to implement this <code>WeAreOnline</code> in <i>each</i> project of mine. Instead, I want someone else to do this for me and share a Maven dependency."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1659942794,"post_id":73273462,"comment_id":129405732,"body_markdown":"So in other words: you are seeking library recommendations, which renders your request off topic here.","body":"So in other words: you are seeking library recommendations, which renders your request off topic here."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1659942804,"post_id":73273462,"comment_id":129405737,"body_markdown":"Could you implement and publish (possibly to a private repo) this library yourself? It seems like it&#39;d be less than 100 lines of code (maybe even including tests, if any).","body":"Could you implement and publish (possibly to a private repo) this library yourself? It seems like it&#39;d be less than 100 lines of code (maybe even including tests, if any)."}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659942685,"creation_date":1659938546,"question_id":73273462,"body_markdown":"Some of my unit/integration tests depend on external network resources. I understand that it&#39;s bad design, but sometimes it happens. I don&#39;t want these tests to fail when the build is running on a computer without Internet access (in the airplane, for example). I want these tests to be skipped like this:\r\n\r\n```\r\nclass FooTest {\r\n  @BeforeAll\r\n  public static void skipIfOffline() {\r\n    Assumptions.assumeTrue(WeAreOnline.check());\r\n  }\r\n}\r\n```\r\n\r\nAre you aware of such `WeAreOnline` class somewhere in some Maven dependency, which I can reuse instead of implementing it over and over again in each project?","title":"Is there a JUnit assumption to check that we are online now?","body":"<p>Some of my unit/integration tests depend on external network resources. I understand that it's bad design, but sometimes it happens. I don't want these tests to fail when the build is running on a computer without Internet access (in the airplane, for example). I want these tests to be skipped like this:</p>\n<pre><code>class FooTest {\n  @BeforeAll\n  public static void skipIfOffline() {\n    Assumptions.assumeTrue(WeAreOnline.check());\n  }\n}\n</code></pre>\n<p>Are you aware of such <code>WeAreOnline</code> class somewhere in some Maven dependency, which I can reuse instead of implementing it over and over again in each project?</p>\n"},{"tags":["java","spring","oop","caching","redis"],"comments":[{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1650941592,"post_id":72001745,"comment_id":127237029,"body_markdown":"Your question is totally generic and you provide no information about the nature of your application, access patterns and data properties. What means &quot;best&quot;? That can mean a lot of things: easy to implement, minimum latency, highest throughput, lowest external system calls, etc.","body":"Your question is totally generic and you provide no information about the nature of your application, access patterns and data properties. What means &quot;best&quot;? That can mean a lot of things: easy to implement, minimum latency, highest throughput, lowest external system calls, etc."}],"answers":[{"tags":[],"owner":{"account_id":16599765,"reputation":40,"user_id":11995781,"display_name":"Stryhx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659942325,"creation_date":1659942325,"answer_id":73273979,"question_id":72001745,"body_markdown":"I don&#39;t know much, but I&#39;ll try to answer. In our company&#39;s microservices, we do the cache invalidation after the save to the database is successful.\r\n\r\nThis seems like a better idea than invalidating in the controller, as you might not know if the save to the database was successful or not.","title":"Redis Cache invalidation Strategies in Java Spring","body":"<p>I don't know much, but I'll try to answer. In our company's microservices, we do the cache invalidation after the save to the database is successful.</p>\n<p>This seems like a better idea than invalidating in the controller, as you might not know if the save to the database was successful or not.</p>\n"}],"owner":{"account_id":7063372,"reputation":83,"user_id":6114659,"display_name":"Mixed Pebble"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1659942325,"creation_date":1650899320,"question_id":72001745,"body_markdown":"I&#39;m adding Redis to our Spring project and want to determine a suitable caching strategy. I am considering caching the result at the Controller&#39;s endpoint/method level for GET requests and invalidating the cache on the Controller&#39;s for POST/PUT requests. However, this doesn&#39;t seem to be a perfect solution as we don&#39;t always have enough information at the controller level to know what to invalidate. So, alternatively, I am considering invalidating the cache whenever we save to the database since there are limited areas where we would need to add cache invalidation rules.\r\n\r\n\r\nIs it best to cache in the Controllers or at costly methods the Service layer may call? When invalidating the cache, is it a good design pattern to invalidate at the controller level or as we are updating the DB?","title":"Redis Cache invalidation Strategies in Java Spring","body":"<p>I'm adding Redis to our Spring project and want to determine a suitable caching strategy. I am considering caching the result at the Controller's endpoint/method level for GET requests and invalidating the cache on the Controller's for POST/PUT requests. However, this doesn't seem to be a perfect solution as we don't always have enough information at the controller level to know what to invalidate. So, alternatively, I am considering invalidating the cache whenever we save to the database since there are limited areas where we would need to add cache invalidation rules.</p>\n<p>Is it best to cache in the Controllers or at costly methods the Service layer may call? When invalidating the cache, is it a good design pattern to invalidate at the controller level or as we are updating the DB?</p>\n"},{"tags":["java","groovy","automated-tests","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1659617911,"post_id":73236007,"comment_id":129340706,"body_markdown":"Could you add the code that can reproduce the problem? and which java version you are using?","body":"Could you add the code that can reproduce the problem? and which java version you are using?"},{"owner":{"account_id":2537344,"reputation":149,"user_id":2204075,"accept_rate":60,"display_name":"Surya"},"score":0,"creation_date":1659932253,"post_id":73236007,"comment_id":129403776,"body_markdown":"I am using java 11. Code runs properly in local execution, but fails during deployment. Here is the code line on which it fails: RestAssured.baseURI = System.getProperty(&quot;&lt;some property&gt;&quot;);","body":"I am using java 11. Code runs properly in local execution, but fails during deployment. Here is the code line on which it fails: RestAssured.baseURI = System.getProperty(&quot;&lt;some property&gt;&quot;);"},{"owner":{"account_id":2537344,"reputation":149,"user_id":2204075,"accept_rate":60,"display_name":"Surya"},"score":0,"creation_date":1659950479,"post_id":73236007,"comment_id":129408287,"body_markdown":"@lucas-nguyen-17 I have added more details in my query.","body":"@lucas-nguyen-17 I have added more details in my query."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1660036261,"post_id":73236007,"comment_id":129431823,"body_markdown":"Run `mvn dependency:tree -Dverbose` and examine output for possible dependency conflicts. You should fix your pom so that conflicting dependencies which transitevly come from rest-assured should not also come from higher dependency hierarchy nodes.","body":"Run <code>mvn dependency:tree -Dverbose</code> and examine output for possible dependency conflicts. You should fix your pom so that conflicting dependencies which transitevly come from rest-assured should not also come from higher dependency hierarchy nodes."}],"owner":{"account_id":2537344,"reputation":149,"user_id":2204075,"accept_rate":60,"display_name":"Surya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659942285,"creation_date":1659616381,"question_id":73236007,"body_markdown":"I am getting following exception while executing using jar. Getting following error when trying to initialize RestAssured Object:\r\n```\r\njava.io.IOException: Stream closed\r\n        at java.base/java.io.BufferedInputStream.getInIfOpen(BufferedInputStream.java:165)\r\n        at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\r\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)\r\n        at java.base/java.io.DataInputStream.readUnsignedShort(DataInputStream.java:342)\r\n        at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:594)\r\n        at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:569)\r\n        at org.codehaus.groovy.reflection.GeneratedMetaMethod$DgmMethodRecord.loadDgmInfo(GeneratedMetaMethod.java:195)\r\n        at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.registerMethods(MetaClassRegistryImpl.java:199)\r\n        at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.&lt;init&gt;(MetaClassRegistryImpl.java:108)\r\n        at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.&lt;init&gt;(MetaClassRegistryImpl.java:86)\r\n        at groovy.lang.GroovySystem.&lt;clinit&gt;(GroovySystem.java:37)\r\n        at org.codehaus.groovy.reflection.ClassInfo.isValidWeakMetaClass(ClassInfo.java:284)\r\n        at org.codehaus.groovy.reflection.ClassInfo.getMetaClassForClass(ClassInfo.java:254)\r\n        at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:310)\r\n        at io.restassured.authentication.NoAuthScheme.$getStaticMetaClass(NoAuthScheme.groovy)\r\n        at io.restassured.authentication.NoAuthScheme.&lt;init&gt;(NoAuthScheme.groovy)\r\n        at io.restassured.RestAssured.&lt;clinit&gt;(RestAssured.java:354)\r\n```\r\nFollowed by :\r\n```\r\n =&gt; groovy.lang.MissingMethodException: No signature of method: [Ljava.lang.Object;.each() is applicable for argument types: (io.restassured.internal.RequestSpecificationImpl$_header_closure8) values: [io.restassured.internal.RequestSpecificationImpl$_header_closure8@3ecedf21]\r\nPossible solutions: wait(), wait(long), equals(java.lang.Object), wait(long, int), getAt(java.lang.Integer)\r\n       org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:70)\r\n       org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:46)\r\n       org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n       org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n       org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n       [...]\r\n       Suppressed: groovy.lang.MissingMethodException: No signature of method: [Ljava.lang.Object;.each() is applicable for argument types: (io.restassured.internal.RequestSpecificationImpl$_header_closure8) values: [io.restassured.internal.RequestSpecificationImpl$_header_closure8@2f19f2aa]\r\nPossible solutions: wait(), wait(long), equals(java.lang.Object), wait(long, int), getAt(java.lang.Integer)\r\n         org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:70)\r\n         org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:46)\r\n         org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n         org.codehaus.groovy.runtime.callsite.AbstractCallSite.callSafe(AbstractCallSite.java:96)\r\n         io.restassured.internal.RequestSpecificationImpl.header(RequestSpecificationImpl.groovy:848)\r\n```\r\nI have tried adding couple of dependencies as follows:\r\n1. restAssured : &quot;io.rest-assured:rest-assured:4.4.0&quot;\r\n2. groovyAll: &quot;org.codehaus.groovy:groovy-all:3.0.3&quot;\r\n3. groovy   : &quot;org.codehaus.groovy:groovy:3.0.3&quot;\r\n4. groovyXML: &quot;org.codehaus.groovy:groovy-xml:3.0.3&quot;\r\n5. httpclient: &quot;org.apache.httpcomponents:httpclient:4.5.13&quot;\r\n6. httpmime: &quot;org.apache.httpcomponents:httpmime:4.5.13&quot;\r\n7. junit:&quot;junit:junit:4.13.2&quot;\r\n\r\nAlso, tried adding :\r\n\r\n 1. implementation &#39;commons-io:commons-io:2.8.0 \r\n 2. testImplementation &#39;junit:junit:4.13.1&#39;  \r\n 3. testImplementation &#39;org.mockito:mockito-core:1.10.19&#39;\r\n 4. testImplementation &#39;org.assertj:assertj-core:3.16.1&#39;\r\n\r\nI have also experimented with multiple combinations of version (latest ones as well) or just using rest-assured dependency. Till now, nothing seem to work.\r\n\r\nHere is the code line on which it fails: RestAssured.baseURI = System.getProperty(&quot;&lt;some property&gt;&quot;); \r\n\r\nNeed help to resolve this exception.\r\n","title":"java.io.IOException: Stream closed when trying to initialize RestAssured using java(11.0.9) with &quot;No signature of method: [Ljava.lang.Object;.each()&quot;","body":"<p>I am getting following exception while executing using jar. Getting following error when trying to initialize RestAssured Object:</p>\n<pre><code>java.io.IOException: Stream closed\n        at java.base/java.io.BufferedInputStream.getInIfOpen(BufferedInputStream.java:165)\n        at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)\n        at java.base/java.io.DataInputStream.readUnsignedShort(DataInputStream.java:342)\n        at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:594)\n        at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:569)\n        at org.codehaus.groovy.reflection.GeneratedMetaMethod$DgmMethodRecord.loadDgmInfo(GeneratedMetaMethod.java:195)\n        at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.registerMethods(MetaClassRegistryImpl.java:199)\n        at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.&lt;init&gt;(MetaClassRegistryImpl.java:108)\n        at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.&lt;init&gt;(MetaClassRegistryImpl.java:86)\n        at groovy.lang.GroovySystem.&lt;clinit&gt;(GroovySystem.java:37)\n        at org.codehaus.groovy.reflection.ClassInfo.isValidWeakMetaClass(ClassInfo.java:284)\n        at org.codehaus.groovy.reflection.ClassInfo.getMetaClassForClass(ClassInfo.java:254)\n        at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:310)\n        at io.restassured.authentication.NoAuthScheme.$getStaticMetaClass(NoAuthScheme.groovy)\n        at io.restassured.authentication.NoAuthScheme.&lt;init&gt;(NoAuthScheme.groovy)\n        at io.restassured.RestAssured.&lt;clinit&gt;(RestAssured.java:354)\n</code></pre>\n<p>Followed by :</p>\n<pre><code> =&gt; groovy.lang.MissingMethodException: No signature of method: [Ljava.lang.Object;.each() is applicable for argument types: (io.restassured.internal.RequestSpecificationImpl$_header_closure8) values: [io.restassured.internal.RequestSpecificationImpl$_header_closure8@3ecedf21]\nPossible solutions: wait(), wait(long), equals(java.lang.Object), wait(long, int), getAt(java.lang.Integer)\n       org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:70)\n       org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:46)\n       org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n       org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n       org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n       [...]\n       Suppressed: groovy.lang.MissingMethodException: No signature of method: [Ljava.lang.Object;.each() is applicable for argument types: (io.restassured.internal.RequestSpecificationImpl$_header_closure8) values: [io.restassured.internal.RequestSpecificationImpl$_header_closure8@2f19f2aa]\nPossible solutions: wait(), wait(long), equals(java.lang.Object), wait(long, int), getAt(java.lang.Integer)\n         org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:70)\n         org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:46)\n         org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n         org.codehaus.groovy.runtime.callsite.AbstractCallSite.callSafe(AbstractCallSite.java:96)\n         io.restassured.internal.RequestSpecificationImpl.header(RequestSpecificationImpl.groovy:848)\n</code></pre>\n<p>I have tried adding couple of dependencies as follows:</p>\n<ol>\n<li>restAssured : &quot;io.rest-assured:rest-assured:4.4.0&quot;</li>\n<li>groovyAll: &quot;org.codehaus.groovy:groovy-all:3.0.3&quot;</li>\n<li>groovy   : &quot;org.codehaus.groovy:groovy:3.0.3&quot;</li>\n<li>groovyXML: &quot;org.codehaus.groovy:groovy-xml:3.0.3&quot;</li>\n<li>httpclient: &quot;org.apache.httpcomponents:httpclient:4.5.13&quot;</li>\n<li>httpmime: &quot;org.apache.httpcomponents:httpmime:4.5.13&quot;</li>\n<li>junit:&quot;junit:junit:4.13.2&quot;</li>\n</ol>\n<p>Also, tried adding :</p>\n<ol>\n<li>implementation 'commons-io:commons-io:2.8.0</li>\n<li>testImplementation 'junit:junit:4.13.1'</li>\n<li>testImplementation 'org.mockito:mockito-core:1.10.19'</li>\n<li>testImplementation 'org.assertj:assertj-core:3.16.1'</li>\n</ol>\n<p>I have also experimented with multiple combinations of version (latest ones as well) or just using rest-assured dependency. Till now, nothing seem to work.</p>\n<p>Here is the code line on which it fails: RestAssured.baseURI = System.getProperty(&quot;&quot;);</p>\n<p>Need help to resolve this exception.</p>\n"},{"tags":["java","android","android-studio","android-studio-3.0"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1659936630,"post_id":73273228,"comment_id":129404345,"body_markdown":"Android studio is an IDE it has nothing to do with your problem , So pls edit your question wit proper title and tags .. remove all android studio tags and uses .","body":"Android studio is an IDE it has nothing to do with your problem , So pls edit your question wit proper title and tags .. remove all android studio tags and uses ."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659938810,"post_id":73273228,"comment_id":129404730,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"score":0,"creation_date":1659939352,"post_id":73273228,"comment_id":129404842,"body_markdown":"Share the code.","body":"Share the code."},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1659939803,"post_id":73273228,"comment_id":129404963,"body_markdown":"Please share your code","body":"Please share your code"},{"owner":{"account_id":25955263,"reputation":13,"user_id":19672698,"display_name":"8xers6"},"score":0,"creation_date":1659942241,"post_id":73273228,"comment_id":129405561,"body_markdown":"i share my code sorry guys :)","body":"i share my code sorry guys :)"},{"owner":{"account_id":8254782,"reputation":152,"user_id":6208282,"display_name":"Nathan Headley"},"score":0,"creation_date":1659982113,"post_id":73273228,"comment_id":129419959,"body_markdown":"You are declaring all of the UI elements (textViewLastname etc) as local variables in the OnCreate method, if you want to change the text in the update button, then you need to re-declare these variables or make them global (declare them out with either of the functions, making them accessible by both.","body":"You are declaring all of the UI elements (textViewLastname etc) as local variables in the OnCreate method, if you want to change the text in the update button, then you need to re-declare these variables or make them global (declare them out with either of the functions, making them accessible by both."}],"owner":{"account_id":25955263,"reputation":13,"user_id":19672698,"display_name":"8xers6"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659942199,"creation_date":1659936375,"question_id":73273228,"body_markdown":"edit text value wont change even the value in the database is already change, its show the previous content and I need to debug again the application to show the new data. I already use this but the value still not change until I debug it again.\r\n\r\ni can insert in database using this code but when i display the value of it the old value is the one showing not the updated one. thats why the i say the edittext and textview value not changing.\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        setContentView(R.layout.activity_userdetails);\r\n        super.onCreate(savedInstanceState);\r\n        //if the user is not logged in\r\n        //starting the login activity\r\n        if (!SharedPrefManager.getInstance(this).isLoggedIn()) {\r\n            finish();\r\n            startActivity(new Intent(this, LoginActivity.class));\r\n        }\r\n        User user = SharedPrefManager.getInstance(this).getUser();\r\n        Circleimage = findViewById(R.id.Circleimage);\r\n        bt_update = findViewById(R.id.bt_update);\r\n        Btn_Editprofile = findViewById(R.id.Btn_Editprofile);\r\n        textViewFullname = findViewById(R.id.textViewFullname);\r\n        textViewId = findViewById(R.id.textViewId);\r\n        textViewLastname = findViewById(R.id.textViewLastname);\r\n        textViewFirstname = findViewById(R.id.textViewFirstname);\r\n        textViewMiname = findViewById(R.id.textViewMiname);\r\n        textViewSuname = findViewById(R.id.textViewSuname);\r\n        textViewUsername = findViewById(R.id.textViewUsername);\r\n        textViewAddress = findViewById(R.id.textViewAddress);\r\n        textViewAddress1 = findViewById(R.id.textViewAddress1);\r\n        textViewBirthday = findViewById(R.id.textViewBirthday);\r\n        textViewBirthday1 = findViewById(R.id.textViewBirthday1);\r\n        textViewEmail = findViewById(R.id.textViewEmail);\r\n        textViewGender = findViewById(R.id.textViewGender);\r\n        textViewHeight = findViewById(R.id.textViewHeight);\r\n        textViewWeight = findViewById(R.id.textViewWeight);\r\n        Btn_Editprofilepic= findViewById(R.id.Btn_Editprofilepic);\r\n        spinner1 = findViewById(R.id.spinner1);\r\n        //getting the current user\r\n        //setting the values to the textviews\r\n        textViewFullname.setText(user.getFirstname() + &quot; &quot; + user.getLastname());\r\n        textViewId.setText(String.valueOf(user.getId()));\r\n        textViewLastname.setText(user.getLastname());\r\n        textViewFirstname.setText(user.getFirstname());\r\n        textViewMiname.setText(user.getMiddlename());\r\n        textViewSuname.setText(user.getSuffix());\r\n        textViewUsername.setText(user.getUsername());\r\n        textViewAddress.setText(user.getAddress());\r\n        textViewAddress1.setText(user.getAddress1());\r\n        textViewBirthday.setText(user.getBirthday());\r\n        textViewBirthday1.setText(user.getBirthday1());\r\n        textViewEmail.setText(user.getEmail());\r\n        textViewGender.setText(user.getGender());\r\n        textViewHeight.setText(user.getHeight());\r\n        textViewWeight.setText(user.getWeight());\r\n        textViewdatashow = findViewById(R.id.textViewId);\r\n     }\r\n    public void btn_update(View view) {\r\n        final String Clastname = textViewLastname.getText().toString().trim();\r\n        final String Cfirstname = textViewFirstname.getText().toString().trim();\r\n        final String Cmiddlename = textViewMiname.getText().toString().trim();\r\n    \r\n    \r\n        //first we will do the validations\r\n        if (TextUtils.isEmpty(Clastname)) {\r\n            textViewLastname.setError(&quot;Please enter Lastname&quot;);\r\n            textViewLastname.requestFocus();\r\n            return;\r\n        }\r\n        if (TextUtils.isEmpty(Cfirstname)) {\r\n            textViewFirstname.setError(&quot;Please enter Firstname&quot;);\r\n            textViewFirstname.requestFocus();\r\n            return;\r\n        }\r\n        if (TextUtils.isEmpty(Cmiddlename)) {\r\n            textViewMiname.setError(&quot;Please enter Middlename&quot;);\r\n            textViewMiname.requestFocus();\r\n            return;\r\n        }\r\n        final ProgressDialog progressDialog = new ProgressDialog(this);\r\n        progressDialog.setMessage(&quot;Updating....&quot;);\r\n        progressDialog.show();\r\n    \r\n        StringRequest request = new StringRequest(Request.Method.POST, &quot;http://192.168.3.106/loginregister/update.php&quot;,\r\n                response -&gt; {\r\n    \r\n                    Toast.makeText(ProfileActivity.this, response, Toast.LENGTH_SHORT).show();\r\n                    //startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n    \r\n                    progressDialog.dismiss();\r\n    \r\n    \r\n                }, error -&gt; {\r\n                    Toast.makeText(ProfileActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    finish();\r\n                    startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n                    progressDialog.dismiss();\r\n    \r\n                }) {\r\n            final String id = textViewId.getText().toString().trim();\r\n            final String lastname = textViewLastname.getText().toString().trim();\r\n            final String firstname = textViewFirstname.getText().toString().trim();\r\n            final String middlename = textViewMiname.getText().toString().trim();\r\n            final String suffix = textViewSuname.getText().toString().trim();\r\n            final String username = textViewUsername.getText().toString().trim();\r\n            final String address = textViewAddress.getText().toString().trim();\r\n            final String address1 = textViewAddress1.getText().toString().trim();\r\n            final String birthday = textViewBirthday.getText().toString().trim();\r\n            final String birthday1 = textViewBirthday1.getText().toString().trim();\r\n            final String email = textViewEmail.getText().toString().trim();\r\n            final String password = textViewGender.getText().toString().trim();\r\n            final String height = textViewHeight.getText().toString().trim();\r\n            final String weight = textViewWeight.getText().toString().trim();\r\n            final String vaccine = spinner1.getText().toString().trim();\r\n    \r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;id&quot;, id);\r\n                params.put(&quot;lastname&quot;, lastname);\r\n                params.put(&quot;firstname&quot;, firstname);\r\n                params.put(&quot;middlename&quot;, middlename);\r\n                params.put(&quot;suffix&quot;, suffix);\r\n                params.put(&quot;username&quot;, username);\r\n                params.put(&quot;address&quot;, address);\r\n                params.put(&quot;address1&quot;, address1);\r\n                params.put(&quot;birthday&quot;, birthday);\r\n                params.put(&quot;birthplace&quot;, birthday1);\r\n                params.put(&quot;email&quot;, email);\r\n                params.put(&quot;password&quot;, password);\r\n                params.put(&quot;height&quot;, height);\r\n                params.put(&quot;weight&quot;, weight);\r\n                params.put(&quot;vaccine&quot;, vaccine);\r\n    \r\n                return params;\r\n    \r\n            }\r\n    \r\n        };\r\n    \r\n        bt_update.setEnabled(false);\r\n        Btn_Editprofile.setEnabled(true);\r\n        textViewAddress.setEnabled(false);\r\n        textViewAddress1.setEnabled(false);\r\n        textViewBirthday.setEnabled(false);\r\n        textViewBirthday1.setEnabled(false);\r\n        textViewGender.setEnabled(false);\r\n        textViewHeight.setEnabled(false);\r\n        textViewWeight.setEnabled(false);\r\n        spinner1.setEnabled(false);\r\n        Circleimage.setEnabled(false);\r\n        RequestQueue requestQueue = Volley.newRequestQueue(ProfileActivity.this);\r\n        requestQueue.add(request);\r\n    }","title":"Edittext &amp; textview value wont change even the value in the database is already change","body":"<p>edit text value wont change even the value in the database is already change, its show the previous content and I need to debug again the application to show the new data. I already use this but the value still not change until I debug it again.</p>\n<p>i can insert in database using this code but when i display the value of it the old value is the one showing not the updated one. thats why the i say the edittext and textview value not changing.</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    setContentView(R.layout.activity_userdetails);\n    super.onCreate(savedInstanceState);\n    //if the user is not logged in\n    //starting the login activity\n    if (!SharedPrefManager.getInstance(this).isLoggedIn()) {\n        finish();\n        startActivity(new Intent(this, LoginActivity.class));\n    }\n    User user = SharedPrefManager.getInstance(this).getUser();\n    Circleimage = findViewById(R.id.Circleimage);\n    bt_update = findViewById(R.id.bt_update);\n    Btn_Editprofile = findViewById(R.id.Btn_Editprofile);\n    textViewFullname = findViewById(R.id.textViewFullname);\n    textViewId = findViewById(R.id.textViewId);\n    textViewLastname = findViewById(R.id.textViewLastname);\n    textViewFirstname = findViewById(R.id.textViewFirstname);\n    textViewMiname = findViewById(R.id.textViewMiname);\n    textViewSuname = findViewById(R.id.textViewSuname);\n    textViewUsername = findViewById(R.id.textViewUsername);\n    textViewAddress = findViewById(R.id.textViewAddress);\n    textViewAddress1 = findViewById(R.id.textViewAddress1);\n    textViewBirthday = findViewById(R.id.textViewBirthday);\n    textViewBirthday1 = findViewById(R.id.textViewBirthday1);\n    textViewEmail = findViewById(R.id.textViewEmail);\n    textViewGender = findViewById(R.id.textViewGender);\n    textViewHeight = findViewById(R.id.textViewHeight);\n    textViewWeight = findViewById(R.id.textViewWeight);\n    Btn_Editprofilepic= findViewById(R.id.Btn_Editprofilepic);\n    spinner1 = findViewById(R.id.spinner1);\n    //getting the current user\n    //setting the values to the textviews\n    textViewFullname.setText(user.getFirstname() + &quot; &quot; + user.getLastname());\n    textViewId.setText(String.valueOf(user.getId()));\n    textViewLastname.setText(user.getLastname());\n    textViewFirstname.setText(user.getFirstname());\n    textViewMiname.setText(user.getMiddlename());\n    textViewSuname.setText(user.getSuffix());\n    textViewUsername.setText(user.getUsername());\n    textViewAddress.setText(user.getAddress());\n    textViewAddress1.setText(user.getAddress1());\n    textViewBirthday.setText(user.getBirthday());\n    textViewBirthday1.setText(user.getBirthday1());\n    textViewEmail.setText(user.getEmail());\n    textViewGender.setText(user.getGender());\n    textViewHeight.setText(user.getHeight());\n    textViewWeight.setText(user.getWeight());\n    textViewdatashow = findViewById(R.id.textViewId);\n }\npublic void btn_update(View view) {\n    final String Clastname = textViewLastname.getText().toString().trim();\n    final String Cfirstname = textViewFirstname.getText().toString().trim();\n    final String Cmiddlename = textViewMiname.getText().toString().trim();\n\n\n    //first we will do the validations\n    if (TextUtils.isEmpty(Clastname)) {\n        textViewLastname.setError(&quot;Please enter Lastname&quot;);\n        textViewLastname.requestFocus();\n        return;\n    }\n    if (TextUtils.isEmpty(Cfirstname)) {\n        textViewFirstname.setError(&quot;Please enter Firstname&quot;);\n        textViewFirstname.requestFocus();\n        return;\n    }\n    if (TextUtils.isEmpty(Cmiddlename)) {\n        textViewMiname.setError(&quot;Please enter Middlename&quot;);\n        textViewMiname.requestFocus();\n        return;\n    }\n    final ProgressDialog progressDialog = new ProgressDialog(this);\n    progressDialog.setMessage(&quot;Updating....&quot;);\n    progressDialog.show();\n\n    StringRequest request = new StringRequest(Request.Method.POST, &quot;http://192.168.3.106/loginregister/update.php&quot;,\n            response -&gt; {\n\n                Toast.makeText(ProfileActivity.this, response, Toast.LENGTH_SHORT).show();\n                //startActivity(new Intent(getApplicationContext(),MainActivity.class));\n\n                progressDialog.dismiss();\n\n\n            }, error -&gt; {\n                Toast.makeText(ProfileActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\n                finish();\n                startActivity(new Intent(getApplicationContext(), MainActivity.class));\n                progressDialog.dismiss();\n\n            }) {\n        final String id = textViewId.getText().toString().trim();\n        final String lastname = textViewLastname.getText().toString().trim();\n        final String firstname = textViewFirstname.getText().toString().trim();\n        final String middlename = textViewMiname.getText().toString().trim();\n        final String suffix = textViewSuname.getText().toString().trim();\n        final String username = textViewUsername.getText().toString().trim();\n        final String address = textViewAddress.getText().toString().trim();\n        final String address1 = textViewAddress1.getText().toString().trim();\n        final String birthday = textViewBirthday.getText().toString().trim();\n        final String birthday1 = textViewBirthday1.getText().toString().trim();\n        final String email = textViewEmail.getText().toString().trim();\n        final String password = textViewGender.getText().toString().trim();\n        final String height = textViewHeight.getText().toString().trim();\n        final String weight = textViewWeight.getText().toString().trim();\n        final String vaccine = spinner1.getText().toString().trim();\n\n        @Override\n        protected Map&lt;String, String&gt; getParams() {\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;id&quot;, id);\n            params.put(&quot;lastname&quot;, lastname);\n            params.put(&quot;firstname&quot;, firstname);\n            params.put(&quot;middlename&quot;, middlename);\n            params.put(&quot;suffix&quot;, suffix);\n            params.put(&quot;username&quot;, username);\n            params.put(&quot;address&quot;, address);\n            params.put(&quot;address1&quot;, address1);\n            params.put(&quot;birthday&quot;, birthday);\n            params.put(&quot;birthplace&quot;, birthday1);\n            params.put(&quot;email&quot;, email);\n            params.put(&quot;password&quot;, password);\n            params.put(&quot;height&quot;, height);\n            params.put(&quot;weight&quot;, weight);\n            params.put(&quot;vaccine&quot;, vaccine);\n\n            return params;\n\n        }\n\n    };\n\n    bt_update.setEnabled(false);\n    Btn_Editprofile.setEnabled(true);\n    textViewAddress.setEnabled(false);\n    textViewAddress1.setEnabled(false);\n    textViewBirthday.setEnabled(false);\n    textViewBirthday1.setEnabled(false);\n    textViewGender.setEnabled(false);\n    textViewHeight.setEnabled(false);\n    textViewWeight.setEnabled(false);\n    spinner1.setEnabled(false);\n    Circleimage.setEnabled(false);\n    RequestQueue requestQueue = Volley.newRequestQueue(ProfileActivity.this);\n    requestQueue.add(request);\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":14153116,"reputation":2736,"user_id":10224590,"display_name":"Pranav Choudhary"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1628276540,"creation_date":1628276540,"answer_id":68686449,"question_id":68686142,"body_markdown":"By using `::class.java`, you get an instance of Class. \r\nIt is Java Reflection API.\r\n\r\nIf you want to get Java class reference, you have to use .java property on a KClass instance:\r\n\r\n    val c = ExampleClass::class.java  // reference type of java\r\n\r\n\r\nAnd by using `::class`, you get an instance of KClass. It is Kotlin Reflection API.\r\nWhen we create an object using any class type as below the reference type will be type of KClass.\r\n\r\n    val c = ExampleClass::class  // reference type of KClass\r\n\r\nRetrofit `create()` method behind the scene validates the interface. After that, if the interface is validated an API interface instance is created using Retrofit, the instance returned from retrofit is actually a proxy class, a dynamic implementation of the interface at runtime.\r\n\r\n\r\n\r\n","title":"What is the meaning of ::class.java","body":"<p>By using <code>::class.java</code>, you get an instance of Class.\nIt is Java Reflection API.</p>\n<p>If you want to get Java class reference, you have to use .java property on a KClass instance:</p>\n<pre><code>val c = ExampleClass::class.java  // reference type of java\n</code></pre>\n<p>And by using <code>::class</code>, you get an instance of KClass. It is Kotlin Reflection API.\nWhen we create an object using any class type as below the reference type will be type of KClass.</p>\n<pre><code>val c = ExampleClass::class  // reference type of KClass\n</code></pre>\n<p>Retrofit <code>create()</code> method behind the scene validates the interface. After that, if the interface is validated an API interface instance is created using Retrofit, the instance returned from retrofit is actually a proxy class, a dynamic implementation of the interface at runtime.</p>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628352915,"creation_date":1628352915,"answer_id":68694111,"question_id":68686142,"body_markdown":"`Class` objects basically describe a particular type, like a `Class&lt;String&gt;` is a special object that describes the `String` class.\r\n\r\nThey contain [useful information][1] like what fields that type has, what methods it has etc. That might be what your Retrofit call is doing - taking an interface definition, looking at what methods are defined on it (and important annotations and whatever else), and generating some code that matches it.\r\n\r\nA really common use of ``Class`` objects is as a type definition that you can pass around and refer to. You see it a lot in generic functions.\r\n\r\nThey also let you create instances of that type, by calling [`getConstructor()`][2] and then `newInstance()` - this can be useful if you want to say &quot;here&#39;s the type of object I want you to create&quot; without hardcoding specific constructor calls for each type. You could (for example) create a function that creates and displays ``Fragment``s in Android, which you call by passing in the ``Class`` of a fragment type, and let the function invoke the default constructor and create an instance whenever it&#39;s appropriate.\r\n\r\n----\r\n\r\nIn Kotlin, instead of `MyClass.class` you call `MyClass::class` ​- but that gives you a `KClass` object, which is a Kotlin version of ``Class`` which some Kotlin-specific extras (things like whether it&#39;s a ``data class``, etc).\r\n\r\nIf you want the equivalent Java ``Class`` object (which most libraries will be using unless they&#39;re Kotlin-specific) you call the `java` property on the ``KClass``, i.e. `MyClass::class.java`, which gives you the `Class&lt;MyClass&gt;` object\r\n ​\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/reflect/class/classModifiers.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getConstructor(java.lang.Class...)","title":"What is the meaning of ::class.java","body":"<p><code>Class</code> objects basically describe a particular type, like a <code>Class&lt;String&gt;</code> is a special object that describes the <code>String</code> class.</p>\n<p>They contain <a href=\"https://docs.oracle.com/javase/tutorial/reflect/class/classModifiers.html\" rel=\"nofollow noreferrer\">useful information</a> like what fields that type has, what methods it has etc. That might be what your Retrofit call is doing - taking an interface definition, looking at what methods are defined on it (and important annotations and whatever else), and generating some code that matches it.</p>\n<p>A really common use of <code>Class</code> objects is as a type definition that you can pass around and refer to. You see it a lot in generic functions.</p>\n<p>They also let you create instances of that type, by calling <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getConstructor(java.lang.Class...)\" rel=\"nofollow noreferrer\"><code>getConstructor()</code></a> and then <code>newInstance()</code> - this can be useful if you want to say &quot;here's the type of object I want you to create&quot; without hardcoding specific constructor calls for each type. You could (for example) create a function that creates and displays <code>Fragment</code>s in Android, which you call by passing in the <code>Class</code> of a fragment type, and let the function invoke the default constructor and create an instance whenever it's appropriate.</p>\n<hr />\n<p>In Kotlin, instead of <code>MyClass.class</code> you call <code>MyClass::class</code> ​- but that gives you a <code>KClass</code> object, which is a Kotlin version of <code>Class</code> which some Kotlin-specific extras (things like whether it's a <code>data class</code>, etc).</p>\n<p>If you want the equivalent Java <code>Class</code> object (which most libraries will be using unless they're Kotlin-specific) you call the <code>java</code> property on the <code>KClass</code>, i.e. <code>MyClass::class.java</code>, which gives you the <code>Class&lt;MyClass&gt;</code> object\n​</p>\n"}],"owner":{"account_id":22398656,"reputation":11,"user_id":16609506,"display_name":"aman sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659941944,"creation_date":1628274773,"question_id":68686142,"body_markdown":"    \r\nI am trying to access the web api through Retrofit2 so I have created a builder for that in which I don&#39;t understand what is this line doing how I am able to pass my interface in that\r\n\r\n     val retrofitBuilder = Retrofit.Builder()\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .baseUrl(BASE_URL)\r\n                    .build()\r\n    \r\n                    //meaning of this line\r\n                    **.create(ApiInterface::class.java)**\r\n\r\n\r\n\r\n\r\nHere is the Interface\r\n\r\n    interface ApiInterface {\r\n    \r\n        @GET(&quot;users&quot;)\r\n        fun getData():Call&lt;List&lt;FakeJsonDataItemItem&gt;&gt;\r\n    \r\n    }\r\n\r\n\r\nwhat am I passing in there?","title":"What is the meaning of ::class.java","body":"<p>I am trying to access the web api through Retrofit2 so I have created a builder for that in which I don't understand what is this line doing how I am able to pass my interface in that</p>\n<pre><code> val retrofitBuilder = Retrofit.Builder()\n                .addConverterFactory(GsonConverterFactory.create())\n                .baseUrl(BASE_URL)\n                .build()\n\n                //meaning of this line\n                **.create(ApiInterface::class.java)**\n</code></pre>\n<p>Here is the Interface</p>\n<pre><code>interface ApiInterface {\n\n    @GET(&quot;users&quot;)\n    fun getData():Call&lt;List&lt;FakeJsonDataItemItem&gt;&gt;\n\n}\n</code></pre>\n<p>what am I passing in there?</p>\n"},{"tags":["java","hash","hashmap"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1621357723,"post_id":67590865,"comment_id":119470155,"body_markdown":"You want to replace ID by name in your HashMap ? after the merge part","body":"You want to replace ID by name in your HashMap ? after the merge part"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1621358254,"post_id":67590865,"comment_id":119470378,"body_markdown":"Where does `productName` come from when you&#39;re working with `sale` objects (which have no such property)?","body":"Where does <code>productName</code> come from when you&#39;re working with <code>sale</code> objects (which have no such property)?"},{"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"score":0,"creation_date":1621359303,"post_id":67590865,"comment_id":119470793,"body_markdown":"@azro no, im trying to get the count of product sales.","body":"@azro no, im trying to get the count of product sales."},{"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"score":0,"creation_date":1621359323,"post_id":67590865,"comment_id":119470798,"body_markdown":"@ernest_k im not sure what you mean?","body":"@ernest_k im not sure what you mean?"}],"answers":[{"tags":[],"owner":{"account_id":19413575,"reputation":381,"user_id":14197561,"display_name":"Aleksandr Baklanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659941817,"creation_date":1621363755,"answer_id":67592285,"question_id":67590865,"body_markdown":"Let&#39;s boost the `ProductCount` class with the constructor and the method:\r\n```\r\npublic class ProductCount {\r\n    public String productId;\r\n    public String productName;\r\n    public int amountSold;\r\n    \r\n    ProductCount(ProductCount sale) {\r\n         this.productId = sale.productId;\r\n         this.amountSold = sale.amountSold;\r\n         /* other initializations */\r\n    }\r\n    \r\n    public ProductCount addAmountSoldFrom(ProductCount other) {\r\n        this.amountSold += other.amountSold;\r\n        return this;\r\n    }\r\n} \r\n```\r\nNow the `saleList` can be traversed like:\r\n```\r\nHashMap&lt;String, ProductCount&gt; productSaleHash = new HashMap&lt;&gt;();\r\nsaleList.forEach(sale -&gt;\r\n    productSaleHash.merge(sale.productId, new ProductCount(sale), ProductCount::addAmountSoldFrom);\r\n);\r\n```","title":"Hasmap merge function value inside an object","body":"<p>Let's boost the <code>ProductCount</code> class with the constructor and the method:</p>\n<pre><code>public class ProductCount {\n    public String productId;\n    public String productName;\n    public int amountSold;\n    \n    ProductCount(ProductCount sale) {\n         this.productId = sale.productId;\n         this.amountSold = sale.amountSold;\n         /* other initializations */\n    }\n    \n    public ProductCount addAmountSoldFrom(ProductCount other) {\n        this.amountSold += other.amountSold;\n        return this;\n    }\n} \n</code></pre>\n<p>Now the <code>saleList</code> can be traversed like:</p>\n<pre><code>HashMap&lt;String, ProductCount&gt; productSaleHash = new HashMap&lt;&gt;();\nsaleList.forEach(sale -&gt;\n    productSaleHash.merge(sale.productId, new ProductCount(sale), ProductCount::addAmountSoldFrom);\n);\n</code></pre>\n"}],"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67592285,"answer_count":1,"score":0,"last_activity_date":1659941817,"creation_date":1621357545,"question_id":67590865,"body_markdown":"I am trying to get a quantity count of products from a list of sales. So what I have is: \r\n\r\n\r\n    public class sale {\r\n    \r\n        public String productId;\r\n        .\r\n        .//other sale variables\r\n        .\r\n        public int amountSold;\r\n    }\r\n    \r\n\r\nThe current way I have done it is based on this answer of integers: \r\nhttps://stackoverflow.com/questions/28866085/how-to-merge-more-than-one-hashmaps-also-sum-the-values-of-same-key-in-java\r\n\r\nSo, right now im traversing a list of sale objects, and for every sale object, check the hasmap if an entry for that product exists, if it does not make one, if it does add how much of the product was sold in current sale to it. \r\n\r\n     HashMap&lt;String,Integer&gt; productSaleHash = new HashMap&lt;&gt;();\r\n     saleList.forEach(sale -&gt; {\r\n         productSaleHash.merge(sale.getProductId(), sale.getAmountSold(), Integer::sum);\r\n     });\r\nwhich works, but then i have to convert the hashmap into an arraylist, and add sale details into each entry because i also want to send other sale variales such as productName, not just the id and salecount. Therefore I am trying to find a more efficient way to do this. \r\n\r\nThis is what im trying to do, i create a new DTO object called productCount, and instead of integers im storing the object in the hasmap. \r\n\r\n    public class productCount {\r\n    \r\n            public String productId;\r\n            public String productName;\r\n            public int amountSold;\r\n        } \r\n\r\n    HashMap&lt;String,ProductCount&gt; productSaleHash = new HashMap&lt;&gt;();\r\n        saleList.forEach(sale -&gt; {\r\n            productSaleHash.merge(sale.getProductId(), sale.getAmountSold(), &quot;add old amountSold with amount from sale&quot; );\r\n        });\r\n","title":"Hasmap merge function value inside an object","body":"<p>I am trying to get a quantity count of products from a list of sales. So what I have is:</p>\n<pre><code>public class sale {\n\n    public String productId;\n    .\n    .//other sale variables\n    .\n    public int amountSold;\n}\n</code></pre>\n<p>The current way I have done it is based on this answer of integers:\n<a href=\"https://stackoverflow.com/questions/28866085/how-to-merge-more-than-one-hashmaps-also-sum-the-values-of-same-key-in-java\">how to merge more than one hashmaps also sum the values of same key in java</a></p>\n<p>So, right now im traversing a list of sale objects, and for every sale object, check the hasmap if an entry for that product exists, if it does not make one, if it does add how much of the product was sold in current sale to it.</p>\n<pre><code> HashMap&lt;String,Integer&gt; productSaleHash = new HashMap&lt;&gt;();\n saleList.forEach(sale -&gt; {\n     productSaleHash.merge(sale.getProductId(), sale.getAmountSold(), Integer::sum);\n });\n</code></pre>\n<p>which works, but then i have to convert the hashmap into an arraylist, and add sale details into each entry because i also want to send other sale variales such as productName, not just the id and salecount. Therefore I am trying to find a more efficient way to do this.</p>\n<p>This is what im trying to do, i create a new DTO object called productCount, and instead of integers im storing the object in the hasmap.</p>\n<pre><code>public class productCount {\n\n        public String productId;\n        public String productName;\n        public int amountSold;\n    } \n\nHashMap&lt;String,ProductCount&gt; productSaleHash = new HashMap&lt;&gt;();\n    saleList.forEach(sale -&gt; {\n        productSaleHash.merge(sale.getProductId(), sale.getAmountSold(), &quot;add old amountSold with amount from sale&quot; );\n    });\n</code></pre>\n"},{"tags":["java","android","shortcut","launcher","homescreen"],"comments":[{"owner":{"account_id":238730,"reputation":46651,"user_id":507810,"accept_rate":82,"display_name":"FoamyGuy"},"score":1,"creation_date":1372287485,"post_id":17331715,"comment_id":25142517,"body_markdown":"don&#39;t call homescreenShortcut() from on create every time. Make a boolean flag and store it in shared prefs or somewhere that indicates you&#39;ve made your 1 shortcut, and then wrap the call to `homescreenShortcut()` in an if statement checking that flag. Aside from all of this you really ought not to create shortcuts automatically like this. If the user wants a shortcut they will make one, I think you are likely to annoy more people than you help by doing this auto shortcut thing.","body":"don&#39;t call homescreenShortcut() from on create every time. Make a boolean flag and store it in shared prefs or somewhere that indicates you&#39;ve made your 1 shortcut, and then wrap the call to <code>homescreenShortcut()</code> in an if statement checking that flag. Aside from all of this you really ought not to create shortcuts automatically like this. If the user wants a shortcut they will make one, I think you are likely to annoy more people than you help by doing this auto shortcut thing."},{"owner":{"account_id":2677492,"reputation":490,"user_id":2313531,"display_name":"Steven Huang"},"score":0,"creation_date":1372287818,"post_id":17331715,"comment_id":25142606,"body_markdown":"I agree, you shouldn&#39;t do this for the user. Let the user do it for himself. Sorry, but if this happens to me i&#39;d most likely remove the app.","body":"I agree, you shouldn&#39;t do this for the user. Let the user do it for himself. Sorry, but if this happens to me i&#39;d most likely remove the app."},{"owner":{"account_id":2926576,"reputation":13827,"user_id":2507741,"accept_rate":38,"display_name":"Cote Mounyo"},"score":0,"creation_date":1372288190,"post_id":17331715,"comment_id":25142701,"body_markdown":"thanks. But I don&#39;t actually get to make the rules. I am working on a project for someone else.","body":"thanks. But I don&#39;t actually get to make the rules. I am working on a project for someone else."},{"owner":{"account_id":478816,"reputation":159,"user_id":891130,"accept_rate":62,"display_name":"anh tran"},"score":0,"creation_date":1376455554,"post_id":17331715,"comment_id":26714154,"body_markdown":"Use addIntent.putExtra(&quot;duplicate&quot;, false);","body":"Use addIntent.putExtra(&quot;duplicate&quot;, false);"},{"owner":{"account_id":2926576,"reputation":13827,"user_id":2507741,"accept_rate":38,"display_name":"Cote Mounyo"},"score":0,"creation_date":1376629521,"post_id":17331715,"comment_id":26790399,"body_markdown":"@juytuyutyuyt when you say `addIntent` do you mean `shortcutIntent` or  `intent` from my code snippet?","body":"@juytuyutyuyt when you say <code>addIntent</code> do you mean <code>shortcutIntent</code> or  <code>intent</code> from my code snippet?"},{"owner":{"account_id":478816,"reputation":159,"user_id":891130,"accept_rate":62,"display_name":"anh tran"},"score":0,"creation_date":1376907298,"post_id":17331715,"comment_id":26869938,"body_markdown":"@CoteMounyo sorry for coding missing problem. I mean that it is shortcutIntent","body":"@CoteMounyo sorry for coding missing problem. I mean that it is shortcutIntent"}],"answers":[{"tags":[],"owner":{"account_id":478621,"reputation":1441,"user_id":890819,"display_name":"AndyW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393960741,"creation_date":1393960741,"answer_id":22180973,"question_id":17331715,"body_markdown":"Add \r\n\r\n    shortcutintent.putExtra(&quot;duplicate&quot;, false);","title":"App creating more than one shortcut on home screen","body":"<p>Add </p>\n\n<pre><code>shortcutintent.putExtra(\"duplicate\", false);\n</code></pre>\n"}],"owner":{"account_id":2926576,"reputation":13827,"user_id":2507741,"accept_rate":38,"display_name":"Cote Mounyo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659941655,"creation_date":1372286676,"question_id":17331715,"body_markdown":"My main activity has the following code\r\n\r\n    @Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\r\n\t\t…\r\n\r\n\r\n\t\thomescreenShortcut();\r\n\t}\r\n\r\n\tprivate void homescreenShortcut() {\r\n\t\tIntent shortcutIntent = new Intent();\r\n\t\tshortcutIntent.setClassName(this, this.getClass().getName());\r\n\t\tshortcutIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\t\tshortcutIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\t\tshortcutIntent.addCategory(Intent.ACTION_PICK_ACTIVITY);\r\n\t\tIntent intent = new Intent();\r\n\t\tintent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortcutIntent);\r\n\t\tintent.putExtra(Intent.EXTRA_SHORTCUT_NAME, &quot;MyApp&quot;);\r\n\t\tintent.putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE,\r\n\t\t    Intent.ShortcutIconResource.fromContext(this, R.drawable.app_icon));\r\n\r\n\t\tintent.setAction(&quot;com.android.launcher.action.INSTALL_SHORTCUT&quot;);\r\n\t\tsendBroadcast(intent);\r\n\t}\r\n\r\nEvery time I launch the app, it creates a new shortcut on the home screen. Is there a standard or simple way to make sure only one home icon is created?\r\n\r\nI am thinking of uninstalling the previous (if any) and then (re)installing. But that seems like an overkill. ","title":"App creating more than one shortcut on home screen","body":"<p>My main activity has the following code</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    …\n\n\n    homescreenShortcut();\n}\n\nprivate void homescreenShortcut() {\n    Intent shortcutIntent = new Intent();\n    shortcutIntent.setClassName(this, this.getClass().getName());\n    shortcutIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    shortcutIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    shortcutIntent.addCategory(Intent.ACTION_PICK_ACTIVITY);\n    Intent intent = new Intent();\n    intent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortcutIntent);\n    intent.putExtra(Intent.EXTRA_SHORTCUT_NAME, \"MyApp\");\n    intent.putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE,\n        Intent.ShortcutIconResource.fromContext(this, R.drawable.app_icon));\n\n    intent.setAction(\"com.android.launcher.action.INSTALL_SHORTCUT\");\n    sendBroadcast(intent);\n}\n</code></pre>\n\n<p>Every time I launch the app, it creates a new shortcut on the home screen. Is there a standard or simple way to make sure only one home icon is created?</p>\n\n<p>I am thinking of uninstalling the previous (if any) and then (re)installing. But that seems like an overkill. </p>\n"},{"tags":["java","bit-shift","shift"],"comments":[{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":1,"creation_date":1659943942,"post_id":73273756,"comment_id":129406095,"body_markdown":"Does this answer your question? [What does value &amp; 0xff do in Java?](https://stackoverflow.com/questions/11380062/what-does-value-0xff-do-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11380062/what-does-value-0xff-do-in-java\">What does value &amp; 0xff do in Java?</a>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1660646855,"post_id":73273756,"comment_id":129575906,"body_markdown":"Did you try reading the rest of the web page where the code example is?","body":"Did you try reading the rest of the web page where the code example is?"}],"answers":[{"tags":[],"owner":{"account_id":25755932,"reputation":166,"user_id":19507604,"display_name":"Joshua Lewis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659941340,"creation_date":1659941340,"answer_id":73273819,"question_id":73273756,"body_markdown":"0x is an identifier for hex. 0xf1 is equivalent to 241 in decimal.","title":"what is 0xf1 mean in the code, I am learning shift operators from GeekForGeek","body":"<p>0x is an identifier for hex. 0xf1 is equivalent to 241 in decimal.</p>\n"}],"owner":{"account_id":25998745,"reputation":7,"user_id":19709632,"display_name":"Deep Voyager"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1659941523,"creation_date":1659940914,"question_id":73273756,"body_markdown":"what is 0xf1 mean in the code, I am learning shift operators from  GeekForGeek\r\n\r\n// Masking sign extension\r\n```\r\nclass GFG {\r\n\r\n&#160;&#160;&#160;&#160;public static void main (String[] args) {\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;char hex[]={\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#39;d&#39;,&#39;e&#39;,&#39;f&#39;\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;};\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;byte b=(byte) 0xf1; //what does 0xf1 does mean here?\r\n\r\n&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;b = 0x&quot; + hex [(b&gt;&gt;4) &amp; 0x0f] + hex[b &amp; 0x0f]);\r\n\r\n&#160;&#160;&#160;&#160;}\r\n\r\n}\r\n\r\n```","title":"what is 0xf1 mean in the code, I am learning shift operators from GeekForGeek","body":"<p>what is 0xf1 mean in the code, I am learning shift operators from  GeekForGeek</p>\n<p>// Masking sign extension</p>\n<pre><code>class GFG {\n\n    public static void main (String[] args) {\n\n       char hex[]={\n\n       '0','1','2','3','4','5',\n\n         '6','7','8','9','a','b','c',\n\n         'd','e','f'\n\n       };\n\n      byte b=(byte) 0xf1; //what does 0xf1 does mean here?\n\n      System.out.println(&quot;b = 0x&quot; + hex [(b&gt;&gt;4) &amp; 0x0f] + hex[b &amp; 0x0f]);\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","rest","option-type"],"answers":[{"tags":[],"owner":{"account_id":13632774,"reputation":41,"user_id":9834497,"display_name":"Anwar Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659941348,"creation_date":1659941348,"answer_id":73273821,"question_id":73273680,"body_markdown":"    Just use java.util.Optional,\r\n    \r\n    public ca.alea.cam.api.model.Response importStaticFile(@RequestBody(required = false) List&lt;String&gt; str, @RequestPart(required = false) Optional&lt;MultipartFile&gt; file) throws Exception, ContentRepositoryDaoException {\r\n    ...\r\n    //you can check if it is present or not like below.\r\n    if(file.isPresent())\r\n    method_name(str,file);\r\n    ...\r\n    }","title":"How to send optional request parameters of an api request to another method/function","body":"<pre><code>Just use java.util.Optional,\n\npublic ca.alea.cam.api.model.Response importStaticFile(@RequestBody(required = false) List&lt;String&gt; str, @RequestPart(required = false) Optional&lt;MultipartFile&gt; file) throws Exception, ContentRepositoryDaoException {\n...\n//you can check if it is present or not like below.\nif(file.isPresent())\nmethod_name(str,file);\n...\n}\n</code></pre>\n"}],"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659941348,"creation_date":1659940399,"question_id":73273680,"body_markdown":"I am trying to send both or one of the optional request parameters of my API to another calling method/ function. Can someone advice me on how, if that is possible please.\r\n\r\n```\r\npublic ca.alea.cam.api.model.Response importStaticFile(@RequestBody(required = false) List&lt;String&gt; str, @RequestPart(required = false) MultipartFile file) throws Exception, ContentRepositoryDaoException {\r\n...\r\n// some code...\r\n// I want to send str and/or file to another method\r\nmethod_name(str,file);\r\n...\r\n}\r\n```\r\nThanks","title":"How to send optional request parameters of an api request to another method/function","body":"<p>I am trying to send both or one of the optional request parameters of my API to another calling method/ function. Can someone advice me on how, if that is possible please.</p>\n<pre><code>public ca.alea.cam.api.model.Response importStaticFile(@RequestBody(required = false) List&lt;String&gt; str, @RequestPart(required = false) MultipartFile file) throws Exception, ContentRepositoryDaoException {\n...\n// some code...\n// I want to send str and/or file to another method\nmethod_name(str,file);\n...\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","postgresql","spring-boot","jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659707278,"post_id":73250707,"comment_id":129365114,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1659710291,"post_id":73250707,"comment_id":129366371,"body_markdown":"how does the full SQL statement look like? Do you have an attribute in the entity with the name &quot;with&quot;?","body":"how does the full SQL statement look like? Do you have an attribute in the entity with the name &quot;with&quot;?"},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1659712579,"post_id":73250707,"comment_id":129367337,"body_markdown":"&quot; I don&#39;t use any query with &quot;with&quot; &quot;, well the database server just received one... Please check your logfiles, also the database server log files, to find this query.","body":"&quot; I don&#39;t use any query with &quot;with&quot; &quot;, well the database server just received one... Please check your logfiles, also the database server log files, to find this query."},{"owner":{"account_id":25987183,"reputation":21,"user_id":19699986,"display_name":"PiotrXD"},"score":0,"creation_date":1659880712,"post_id":73250707,"comment_id":129395227,"body_markdown":"@SimonMartinelli  :  I dont write my own sql statement, JPA repository provides basic methods for crud operations, and when it comes to save employee to database by using employee body json in postman, upper exception is thrown","body":"@SimonMartinelli  :  I dont write my own sql statement, JPA repository provides basic methods for crud operations, and when it comes to save employee to database by using employee body json in postman, upper exception is thrown"},{"owner":{"account_id":25987183,"reputation":21,"user_id":19699986,"display_name":"PiotrXD"},"score":0,"creation_date":1659881495,"post_id":73250707,"comment_id":129395371,"body_markdown":"2022-08-07 16:06:28.908  WARN 16756 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]\n2022-08-07 16:06:43.924 ERROR 16756 --- [nio-8080-exec-3] o.hibernate.id.enhanced.TableStructure   : could not read a hi value\n\norg.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;with&quot;\n  Position: 51","body":"2022-08-07 16:06:28.908  WARN 16756 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedExcept&zwnj;&#8203;ion: Request method &#39;POST&#39; not supported] 2022-08-07 16:06:43.924 ERROR 16756 --- [nio-8080-exec-3] o.hibernate.id.enhanced.TableStructure   : could not read a hi value  org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;with&quot;   Position: 51"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1659892011,"post_id":73250707,"comment_id":129397577,"body_markdown":"Can you please turn SQL logging on and check the generated sql","body":"Can you please turn SQL logging on and check the generated sql"}],"answers":[{"tags":[],"owner":{"account_id":25987183,"reputation":21,"user_id":19699986,"display_name":"PiotrXD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659940469,"creation_date":1659940469,"answer_id":73273688,"question_id":73250707,"body_markdown":"Never mind, found the answer :\r\nI had not correct properties , just make 1 change and everything is ok :\r\n```\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect","title":"org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;with&quot;","body":"<p>Never mind, found the answer :\nI had not correct properties , just make 1 change and everything is ok :</p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n"}],"owner":{"account_id":25987183,"reputation":21,"user_id":19699986,"display_name":"PiotrXD"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659940469,"creation_date":1659706729,"question_id":73250707,"body_markdown":"I have a problem with saving entity to postgres // simple repository extending jpaRepository,\r\nservice which has dependency to repository and controller having dependency to service\r\nWhen I send body in json from postman, Application crashes and writes : **org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;with&quot;**\r\n```\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {}\r\n@Service\r\npublic class EmployeeService{\r\n public void save(Employee employee){\r\n        employeeRepository.save(employee);\r\n    }}\r\n\r\n@RestController\r\npublic class EmployeeController{\r\n@PostMapping(&quot;/employees&quot;)\r\n    public void addEmployee(@RequestBody() Employee employee) {\r\n        employeeService.saveEmployee(employee);\r\n    }\r\n}\r\n@Entity\r\nclass Employee\r\nemployeeId;\r\nfirstName;\r\nlastName;\r\ndepartmentId;\r\njobTitle;\r\n\r\nsample json in postman\r\n{\r\n        &quot;employeeId&quot;: 8,\r\n        &quot;firstName&quot;: &quot;johny&quot;,\r\n        &quot;lastName&quot;: &quot;walker&quot;,\r\n        &quot;departmentId&quot;: 3,\r\n        &quot;jobTitle&quot;: &quot;DEV&quot;\r\n    }\r\n\r\n```\r\n\r\nFrom where that &quot;with&quot; come from ?\r\nI don&#39;t use any query with &quot;with&quot;\r\nWhat do do to save entity to database?","title":"org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;with&quot;","body":"<p>I have a problem with saving entity to postgres // simple repository extending jpaRepository,\nservice which has dependency to repository and controller having dependency to service\nWhen I send body in json from postman, Application crashes and writes : <strong>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;with&quot;</strong></p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {}\n@Service\npublic class EmployeeService{\n public void save(Employee employee){\n        employeeRepository.save(employee);\n    }}\n\n@RestController\npublic class EmployeeController{\n@PostMapping(&quot;/employees&quot;)\n    public void addEmployee(@RequestBody() Employee employee) {\n        employeeService.saveEmployee(employee);\n    }\n}\n@Entity\nclass Employee\nemployeeId;\nfirstName;\nlastName;\ndepartmentId;\njobTitle;\n\nsample json in postman\n{\n        &quot;employeeId&quot;: 8,\n        &quot;firstName&quot;: &quot;johny&quot;,\n        &quot;lastName&quot;: &quot;walker&quot;,\n        &quot;departmentId&quot;: 3,\n        &quot;jobTitle&quot;: &quot;DEV&quot;\n    }\n\n</code></pre>\n<p>From where that &quot;with&quot; come from ?\nI don't use any query with &quot;with&quot;\nWhat do do to save entity to database?</p>\n"},{"tags":["java","spring-boot","threadpoolexecutor","executor","spring-async"],"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659940405,"creation_date":1659940405,"question_id":73273682,"body_markdown":"I am not creating bean explicitly. I am using `@EnableAsync` and spring properties. \r\n\r\n    spring.task.execution.pool.core-size=10\r\n    spring.task.execution.pool.max-size=20\r\n    spring.task.execution.pool.queue-capacity=50\r\n    spring.task.exection.thread-name-prefix=AsyncThread-\r\n    spring.task.exection.shutdown.await-termination=true\r\n    spring.task.exection.shutdown.await-termination-period=300s\r\n\r\n            \r\n    \r\n    MyExecutor {\r\n            \r\n             @Asyc\r\n             &lt;T&gt; void execute(List&lt;T&gt; list){\r\n                //processing my data as list here\r\n            }\r\n        }\r\n\r\n// class where I need to check currently running and available thread for given pool and then decide to break my list accordingly to available threads in pool.\r\nMain {\r\n\r\npublic static void main(String[] args) {\r\n\r\n//list having 10K objects\r\nList&lt;Data&gt; data;\r\n \r\nint currentlyAvailableThread;\r\n\r\nint maxAllowedListSize = data.size() / currentlyAvailableThread;\r\n\r\n// execute logic for sublist , \r\n}\r\n\r\n}","title":"How to check currently running thread under given Task Executor with Spring @Async","body":"<p>I am not creating bean explicitly. I am using <code>@EnableAsync</code> and spring properties.</p>\n<pre><code>spring.task.execution.pool.core-size=10\nspring.task.execution.pool.max-size=20\nspring.task.execution.pool.queue-capacity=50\nspring.task.exection.thread-name-prefix=AsyncThread-\nspring.task.exection.shutdown.await-termination=true\nspring.task.exection.shutdown.await-termination-period=300s\n\n        \n\nMyExecutor {\n        \n         @Asyc\n         &lt;T&gt; void execute(List&lt;T&gt; list){\n            //processing my data as list here\n        }\n    }\n</code></pre>\n<p>// class where I need to check currently running and available thread for given pool and then decide to break my list accordingly to available threads in pool.\nMain {</p>\n<p>public static void main(String[] args) {</p>\n<p>//list having 10K objects\nList data;</p>\n<p>int currentlyAvailableThread;</p>\n<p>int maxAllowedListSize = data.size() / currentlyAvailableThread;</p>\n<p>// execute logic for sublist ,\n}</p>\n<p>}</p>\n"},{"tags":["java","ubuntu"],"answers":[{"tags":[],"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659940151,"creation_date":1659940151,"answer_id":73273643,"question_id":73273506,"body_markdown":"You can use jps to find your java process:\r\n\r\n```bash\r\njps -l\r\n2770 org.netbeans.Main\r\n5144 jdk.jcmd/sun.tools.jps.Jps\r\n```\r\n\r\nSo when you want the process id of `NetBeans` for example. You can do something like:\r\n\r\n```bash\r\njps -l | grep org.netbeans.Main | cut -f1 -d &#39; &#39;\r\n```\r\n\r\nThis information you can pass to `jcmd`:\r\n\r\n```bash\r\njcmd `jps -l | grep org.netbeans.Main | cut -f1 -d &#39; &#39;` GC.heap_info\r\n```","title":"script to check Heap size grows beyond 80%","body":"<p>You can use jps to find your java process:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jps -l\n2770 org.netbeans.Main\n5144 jdk.jcmd/sun.tools.jps.Jps\n</code></pre>\n<p>So when you want the process id of <code>NetBeans</code> for example. You can do something like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jps -l | grep org.netbeans.Main | cut -f1 -d ' '\n</code></pre>\n<p>This information you can pass to <code>jcmd</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jcmd `jps -l | grep org.netbeans.Main | cut -f1 -d ' '` GC.heap_info\n</code></pre>\n"}],"owner":{"account_id":25260921,"reputation":83,"user_id":19091837,"display_name":"dante alighieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659940151,"creation_date":1659939031,"question_id":73273506,"body_markdown":"I am using ubuntu where OpenJDK is installed , and I want to check if heap size goes beyond 80% an alert should be sent\r\n\r\nI know command which is \r\n\r\n&gt; jcmd &lt;PID&gt; GC.heap_info\r\n\r\n , but the problem is process id will be continuously get change on ubuntu.\r\n\r\nso can any one suggest script for this.","title":"script to check Heap size grows beyond 80%","body":"<p>I am using ubuntu where OpenJDK is installed , and I want to check if heap size goes beyond 80% an alert should be sent</p>\n<p>I know command which is</p>\n<blockquote>\n<p>jcmd  GC.heap_info</p>\n</blockquote>\n<p>, but the problem is process id will be continuously get change on ubuntu.</p>\n<p>so can any one suggest script for this.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jdbctemplate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659682389,"post_id":73245745,"comment_id":129356615,"body_markdown":"Do not use the Entity classes as API object. That is very bad architecture","body":"Do not use the Entity classes as API object. That is very bad architecture"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1659682603,"post_id":73245745,"comment_id":129356682,"body_markdown":"does that mean I should have a different class for Entity and Data","body":"does that mean I should have a different class for Entity and Data"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659682640,"post_id":73245745,"comment_id":129356694,"body_markdown":"Yes that is what i mean","body":"Yes that is what i mean"}],"answers":[{"tags":[],"owner":{"account_id":15413608,"reputation":99,"user_id":11529048,"display_name":"Akhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659938870,"creation_date":1659711782,"answer_id":73251787,"question_id":73245745,"body_markdown":"According to me, you have to restructure your code properly, and as Jens said you should avoid using entities and start using DTOs (Data Transfer Objects).\r\nConsidering you won&#39;t get an ID when saving recipes. You can store timestamps in the DB so that it can act as a unique field for any recipe plus you can convert it to a given time based on the location of the client rather than storing the actual dates in the database. If you are able to do that change then you can see how I have written the APIs. If not you can see how I have used DTOs and how the code is structured.\r\n\r\nCreate 3 packages namely Models, Controllers and Services\r\n\r\nIn Models,\r\n\r\nRecipe class :\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Recipe {\r\n    \r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;instructions&quot;)\r\n        private String instructions;\r\n    \r\n        @OneToMany(mappedBy = &quot;recipe&quot;)\r\n        private List&lt;Ingredient&gt; ingredients;\r\n    \r\n        @Column(columnDefinition = &quot;bigint default 0&quot;)\r\n        private BigInteger dateAdded;\r\n    \r\n        @Column(columnDefinition = &quot;bigint default 0&quot;)\r\n        private BigInteger lastEdited;\r\n    \r\n    \r\n    }\r\n\r\n\r\nIngredient class:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Ingredient {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n        private long id;\r\n    \r\n        private String ingredientName;\r\n    \r\n        @Column(columnDefinition = &quot;int default 0&quot;)\r\n        private int amount;\r\n    \r\n        private String unit;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;recipe_id&quot;)\r\n        private Recipe recipe;\r\n    \r\n    }\r\n\r\nIn Controllers,\r\n\r\nRecipeConroller class:\r\n\r\n    @RestController\r\n    public class RecipeController {\r\n    \r\n        @Autowired\r\n        private RecipeService recipeService;\r\n    \r\n        @PostMapping(&quot;/addRecipe&quot;)\r\n        public void addRecipe(@RequestBody RecipeDTO recipeDTO) {\r\n            recipeService.addRecipe(recipeDTO);\r\n        }\r\n    \r\n    \r\n        @GetMapping(&quot;/getRecipes&quot;)\r\n        public List&lt;RecipeDTO&gt; getAllRecipes() {\r\n            return recipeService.getAllRecipes();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nIn Services ,\r\n\r\nRecipeService class :\r\n\r\n    @Service\r\n    public class RecipeService {\r\n    \r\n        @Autowired\r\n        private JdbcTemplate jdbcTemplate;\r\n    \r\n        @Autowired\r\n        private IngredientService ingredientService;\r\n    \r\n    \r\n        public void addRecipe(RecipeDTO recipeDTO) {\r\n            long currentTime = System.currentTimeMillis();\r\n            BigInteger dateAdded = BigInteger.valueOf(currentTime);\r\n            System.out.println(&quot;CURRENT TIME :&quot; + currentTime);\r\n    \r\n            jdbcTemplate.update(\r\n                    &quot;INSERT INTO recipe(name,instructions,date_added,last_edited) VALUE(?,?,?,?)&quot;,\r\n                    recipeDTO.getName() ,recipeDTO.getInstructions() ,dateAdded ,dateAdded\r\n            );\r\n    \r\n            var result = jdbcTemplate.queryForObject(&quot;SELECT id FROM recipe WHERE last_edited = ?&quot; ,Long.class ,currentTime);\r\n    \r\n    \r\n            ingredientService.addIngredients(recipeDTO.getIngredients() ,result);\r\n        }\r\n    \r\n        public List&lt;RecipeDTO&gt; getAllRecipes() {\r\n            String sqlQuery = &quot;SELECT id,name,instructions,date_added,last_edited FROM recipe&quot;;\r\n    \r\n            List&lt;RecipeDTO&gt; recipeDTOS =  jdbcTemplate.query(\r\n                    sqlQuery,\r\n                    (rs, rowNum) -&gt;\r\n                           new RecipeDTO(\r\n                                   rs.getLong(&quot;id&quot;),\r\n                                   rs.getString(&quot;name&quot;),\r\n                                   rs.getString(&quot;instructions&quot;),\r\n                                   rs.getObject(&quot;date_added&quot; ,BigInteger.class),\r\n                                   rs.getObject(&quot;last_edited&quot; ,BigInteger.class)\r\n                           )\r\n            );\r\n    \r\n           for(RecipeDTO recipeDTO : recipeDTOS){\r\n               List&lt;IngredientDTO&gt; ingredientDTOS = ingredientService.getIngredientsByRecipeId(recipeDTO.getId());\r\n               recipeDTO.setIngredients(ingredientDTOS);\r\n           }\r\n           return recipeDTOS;\r\n        }\r\n    \r\n    }\r\n\r\nIngredientService class :\r\n\r\n    @Service\r\n    public class IngredientService {\r\n    \r\n        @Autowired\r\n        private JdbcTemplate jdbcTemplate;\r\n    \r\n        public void addIngredients(List&lt;IngredientDTO&gt; ingredientDTOS, Long recipeId) {\r\n            if (ingredientDTOS != null) {\r\n                for (IngredientDTO ingredientDTO : ingredientDTOS) {\r\n    \r\n                    jdbcTemplate.update(&quot;INSERT INTO ingredient(ingredient_name,amount,unit,recipe_id) VALUE(?,?,?,?)&quot;,\r\n                            ingredientDTO.getIngredientName(), ingredientDTO.getAmount(), ingredientDTO.getUnit(), recipeId\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    \r\n        public List&lt;IngredientDTO&gt; getIngredientsByRecipeId(long recipeId) {\r\n            String sqlQuery = &quot;SELECT id ,ingredient_name,amount,unit,recipe_id FROM ingredient WHERE recipe_id = ?&quot;;\r\n    \r\n            return jdbcTemplate.query(\r\n                    sqlQuery,\r\n                    (rs, rowNum) -&gt;\r\n                            new IngredientDTO(\r\n                                    rs.getLong(&quot;id&quot;),\r\n                                    rs.getString(&quot;ingredient_name&quot;),\r\n                                    rs.getInt(&quot;amount&quot;),\r\n                                    rs.getString(&quot;unit&quot;),\r\n                                    rs.getLong(&quot;recipe_id&quot;)\r\n                            ),\r\n                    recipeId\r\n            );\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nRecipeDTO :\r\n    \r\n    \r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class RecipeDTO {\r\n    \r\n        private long id;\r\n        private String name;\r\n        private String instructions;\r\n        private List&lt;IngredientDTO&gt; ingredients;\r\n        private BigInteger dateAdded;\r\n        private BigInteger lastEdited;\r\n    \r\n    \r\n        public RecipeDTO(long id, String name, String instructions, BigInteger dateAdded, BigInteger lastEdited) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.instructions = instructions;\r\n            this.dateAdded = dateAdded;\r\n            this.lastEdited = lastEdited;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nIngredientDTO :\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class IngredientDTO {\r\n    \r\n        private long id;\r\n        private String ingredientName;\r\n        private int amount;\r\n        private String unit;\r\n        private long recipeId;\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n[Controllers and DTOs][1]\r\n[Services][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VQ2nt.png\r\n  [2]: https://i.stack.imgur.com/C0dKc.png\r\n\r\n\r\n\r\nI have made your requirements as 2 separate APIs.If you have difficulties understanding let me know.\r\n\r\n\r\n\r\n","title":"Posting and getting an object that contains a list of object","body":"<p>According to me, you have to restructure your code properly, and as Jens said you should avoid using entities and start using DTOs (Data Transfer Objects).\nConsidering you won't get an ID when saving recipes. You can store timestamps in the DB so that it can act as a unique field for any recipe plus you can convert it to a given time based on the location of the client rather than storing the actual dates in the database. If you are able to do that change then you can see how I have written the APIs. If not you can see how I have used DTOs and how the code is structured.</p>\n<p>Create 3 packages namely Models, Controllers and Services</p>\n<p>In Models,</p>\n<p>Recipe class :</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Recipe {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;instructions&quot;)\n    private String instructions;\n\n    @OneToMany(mappedBy = &quot;recipe&quot;)\n    private List&lt;Ingredient&gt; ingredients;\n\n    @Column(columnDefinition = &quot;bigint default 0&quot;)\n    private BigInteger dateAdded;\n\n    @Column(columnDefinition = &quot;bigint default 0&quot;)\n    private BigInteger lastEdited;\n\n\n}\n</code></pre>\n<p>Ingredient class:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Ingredient {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private long id;\n\n    private String ingredientName;\n\n    @Column(columnDefinition = &quot;int default 0&quot;)\n    private int amount;\n\n    private String unit;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;recipe_id&quot;)\n    private Recipe recipe;\n\n}\n</code></pre>\n<p>In Controllers,</p>\n<p>RecipeConroller class:</p>\n<pre><code>@RestController\npublic class RecipeController {\n\n    @Autowired\n    private RecipeService recipeService;\n\n    @PostMapping(&quot;/addRecipe&quot;)\n    public void addRecipe(@RequestBody RecipeDTO recipeDTO) {\n        recipeService.addRecipe(recipeDTO);\n    }\n\n\n    @GetMapping(&quot;/getRecipes&quot;)\n    public List&lt;RecipeDTO&gt; getAllRecipes() {\n        return recipeService.getAllRecipes();\n    }\n\n\n}\n</code></pre>\n<p>In Services ,</p>\n<p>RecipeService class :</p>\n<pre><code>@Service\npublic class RecipeService {\n\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    private IngredientService ingredientService;\n\n\n    public void addRecipe(RecipeDTO recipeDTO) {\n        long currentTime = System.currentTimeMillis();\n        BigInteger dateAdded = BigInteger.valueOf(currentTime);\n        System.out.println(&quot;CURRENT TIME :&quot; + currentTime);\n\n        jdbcTemplate.update(\n                &quot;INSERT INTO recipe(name,instructions,date_added,last_edited) VALUE(?,?,?,?)&quot;,\n                recipeDTO.getName() ,recipeDTO.getInstructions() ,dateAdded ,dateAdded\n        );\n\n        var result = jdbcTemplate.queryForObject(&quot;SELECT id FROM recipe WHERE last_edited = ?&quot; ,Long.class ,currentTime);\n\n\n        ingredientService.addIngredients(recipeDTO.getIngredients() ,result);\n    }\n\n    public List&lt;RecipeDTO&gt; getAllRecipes() {\n        String sqlQuery = &quot;SELECT id,name,instructions,date_added,last_edited FROM recipe&quot;;\n\n        List&lt;RecipeDTO&gt; recipeDTOS =  jdbcTemplate.query(\n                sqlQuery,\n                (rs, rowNum) -&gt;\n                       new RecipeDTO(\n                               rs.getLong(&quot;id&quot;),\n                               rs.getString(&quot;name&quot;),\n                               rs.getString(&quot;instructions&quot;),\n                               rs.getObject(&quot;date_added&quot; ,BigInteger.class),\n                               rs.getObject(&quot;last_edited&quot; ,BigInteger.class)\n                       )\n        );\n\n       for(RecipeDTO recipeDTO : recipeDTOS){\n           List&lt;IngredientDTO&gt; ingredientDTOS = ingredientService.getIngredientsByRecipeId(recipeDTO.getId());\n           recipeDTO.setIngredients(ingredientDTOS);\n       }\n       return recipeDTOS;\n    }\n\n}\n</code></pre>\n<p>IngredientService class :</p>\n<pre><code>@Service\npublic class IngredientService {\n\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n\n    public void addIngredients(List&lt;IngredientDTO&gt; ingredientDTOS, Long recipeId) {\n        if (ingredientDTOS != null) {\n            for (IngredientDTO ingredientDTO : ingredientDTOS) {\n\n                jdbcTemplate.update(&quot;INSERT INTO ingredient(ingredient_name,amount,unit,recipe_id) VALUE(?,?,?,?)&quot;,\n                        ingredientDTO.getIngredientName(), ingredientDTO.getAmount(), ingredientDTO.getUnit(), recipeId\n                );\n            }\n        }\n    }\n\n    public List&lt;IngredientDTO&gt; getIngredientsByRecipeId(long recipeId) {\n        String sqlQuery = &quot;SELECT id ,ingredient_name,amount,unit,recipe_id FROM ingredient WHERE recipe_id = ?&quot;;\n\n        return jdbcTemplate.query(\n                sqlQuery,\n                (rs, rowNum) -&gt;\n                        new IngredientDTO(\n                                rs.getLong(&quot;id&quot;),\n                                rs.getString(&quot;ingredient_name&quot;),\n                                rs.getInt(&quot;amount&quot;),\n                                rs.getString(&quot;unit&quot;),\n                                rs.getLong(&quot;recipe_id&quot;)\n                        ),\n                recipeId\n        );\n    }\n\n\n}\n</code></pre>\n<p>RecipeDTO :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RecipeDTO {\n\n    private long id;\n    private String name;\n    private String instructions;\n    private List&lt;IngredientDTO&gt; ingredients;\n    private BigInteger dateAdded;\n    private BigInteger lastEdited;\n\n\n    public RecipeDTO(long id, String name, String instructions, BigInteger dateAdded, BigInteger lastEdited) {\n        this.id = id;\n        this.name = name;\n        this.instructions = instructions;\n        this.dateAdded = dateAdded;\n        this.lastEdited = lastEdited;\n    }\n}\n</code></pre>\n<p>IngredientDTO :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class IngredientDTO {\n\n    private long id;\n    private String ingredientName;\n    private int amount;\n    private String unit;\n    private long recipeId;\n\n\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VQ2nt.png\" rel=\"nofollow noreferrer\">Controllers and DTOs</a>\n<a href=\"https://i.stack.imgur.com/C0dKc.png\" rel=\"nofollow noreferrer\">Services</a></p>\n<p>I have made your requirements as 2 separate APIs.If you have difficulties understanding let me know.</p>\n"}],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659938870,"creation_date":1659682243,"question_id":73245745,"body_markdown":"I have two entity classes, recipe and ingredient. each recipe contains a list of ingredients and each ingredient holds a recipe id as a foreign key. the entity classes look something like this\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;recipe&quot;, schema = &quot;public&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Recipe {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private long id;\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    @Column(name = &quot;instructions&quot;)\r\n    private String instructions;\r\n    @OneToMany(mappedBy = &quot;recipe&quot;)\r\n    private List&lt;Ingredient&gt; ingredients;\r\n    @JsonProperty(&quot;date_added&quot;)\r\n    private String dateAdded;\r\n    @JsonProperty(&quot;last_edited&quot;)\r\n    private String lastEdited;\r\n\r\n    public Recipe(long id, String name, String instructions, String dateAdded, String lastEdited) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.instructions = instructions;\r\n        this.dateAdded = dateAdded;\r\n        this.lastEdited = lastEdited;\r\n    }\r\n}\r\n```\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Ingredient&quot;)\r\n@NoArgsConstructor\r\npublic class Ingredient {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    @JsonProperty(&quot;ingredient_id&quot;)\r\n    private long ingredient_ID;\r\n    @JsonProperty(&quot;ingredient_name&quot;)\r\n    private String ingredientName;\r\n    @Column(name = &quot;amount&quot;)\r\n    private int amount;\r\n    @Column(name = &quot;unit&quot;)\r\n    private String unit;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;recipe_id&quot;)\r\n    @ToString.Exclude\r\n    @JsonIgnore\r\n    private Recipe recipe;\r\n\r\n    public Ingredient(long ingredient_ID, String ingredientName, int amount, String unit) {\r\n        this.ingredient_ID = ingredient_ID;\r\n        this.ingredientName = ingredientName;\r\n        this.amount = amount;\r\n        this.unit = unit;\r\n    }\r\n}\r\n```\r\nThe problem arises when I try to post a recipe. Originally I thought I would create the recipe (without the id)-&gt;let the database generate the id-&gt;create the ingredients in a loop whilst passing the id generated to each ingredient. However, despite successfully generating the id in the database, I couldn&#39;t figure out how to &quot;get&quot; the id. Instead, I ended up searching for the id by comparing the other attributes like this \r\n```\r\n                SELECT id FROM public.recipe\r\n                WHERE name = ? AND instructions = ? AND date_added = ? AND last_edited = ?\r\n```\r\nObviously not a great solution since I cannot guarantee the uniqueness of the 4 attributes and any un-unique combinations will result in an error (from queryforobject). \r\n\r\nthe whole service looks sth like this \r\n```\r\n    //retrieve the id of the recipe using the name instructions and date_added fields\r\n    //called exclusively by postRecipes\r\n    public long getIDByNID(Recipe recipe){\r\n        String name = recipe.getName();\r\n        String instruction = recipe.getInstructions();\r\n        String dateAdded = recipe.getDateAdded();\r\n        String lastEdited = recipe.getLastEdited();\r\n        var sql = &quot;&quot;&quot;\r\n                SELECT id FROM public.recipe\r\n                WHERE name = ? AND instructions = ? AND date_added = ? AND last_edited = ?\r\n                &quot;&quot;&quot;;\r\n\r\n        return jdbcTemplate.queryForObject(sql, Long.class, name, instruction,dateAdded,lastEdited);\r\n    }\r\n\r\n\r\n    //insert a recipe with only name instruction and date_added\r\n    //to generate a new recipe object with an id\r\n    //called exclusively by postRecipes\r\n    public void postRecipe(Recipe recipe){\r\n        var sql = &quot;&quot;&quot;\r\n                INSERT INTO public.recipe (&quot;name&quot;, &quot;instructions&quot;,&quot;date_added&quot;,&quot;last_edited&quot;)\r\n                VALUES (?, ?, ?, ?)\r\n                &quot;&quot;&quot;;\r\n        jdbcTemplate.update(\r\n                sql,\r\n                recipe.getName(),\r\n                recipe.getInstructions(),\r\n                recipe.getDateAdded(),\r\n                recipe.getLastEdited()\r\n        );\r\n    }\r\n\r\n    public void postRecipes(Recipe recipe) {\r\n        postRecipe(recipe);\r\n        var ingredientSQL = &quot;&quot;&quot;\r\n                INSERT INTO public.ingredient(&quot;ingredient_name&quot;, &quot;amount&quot;, &quot;unit&quot;,&quot;recipe_id&quot;)\r\n                VALUES(?, ?, ?, ?)\r\n                &quot;&quot;&quot;;\r\n        int i = 0;\r\n        recipe.setId(getIDByNID(recipe));\r\n        while(i&lt;recipe.getIngredients().size()){\r\n            Ingredient ingredient = recipe.getIngredients().get(i);\r\n            jdbcTemplate.update(\r\n                    ingredientSQL,\r\n                    ingredient.getIngredientName(),\r\n                    ingredient.getAmount(),\r\n                    ingredient.getUnit(),\r\n                    recipe.getId()\r\n            );\r\n            i++;\r\n        }\r\n    }\r\n```\r\n\r\nThe getter is also quite messy. Although I can&#39;t think of anything obviously wrong with it, but surely there is an easier way to get sth.\r\n```\r\n    public List&lt;Recipe&gt; getRecipes(){\r\n        //id, name, ingredient_name, amount, unit, instructions, date_added, last_edited\r\n        var sql = &quot;&quot;&quot;\r\n            SELECT id, name, ingredient_id, ingredient_name, amount, unit, instructions, date_added, last_edited\r\n            FROM public.recipe\r\n            INNER JOIN public.ingredient ON id = recipe_id\r\n            LIMIT 50\r\n            &quot;&quot;&quot;;\r\n        return jdbcTemplate.query(sql, new RecipeSetExtractor());\r\n    }\r\n```\r\n```\r\n    public List&lt;Recipe&gt; extractData(ResultSet rs) throws SQLException, DataAccessException {\r\n        List&lt;Ingredient&gt; ingredientList = new ArrayList&lt;&gt;();\r\n        List&lt;Recipe&gt; recipeList = new ArrayList&lt;&gt;();\r\n        Recipe recipe = new Recipe();\r\n        long id = -1;\r\n        int i = 0;\r\n        while(rs.next()) {\r\n            if(id==-1){\r\n                id = rs.getLong(&quot;id&quot;);\r\n                recipe = new Recipe(\r\n                        rs.getLong(&quot;id&quot;),\r\n                        rs.getString(&quot;name&quot;),\r\n                        rs.getString(&quot;instructions&quot;),\r\n                        rs.getString(&quot;date_added&quot;),\r\n                        rs.getString(&quot;last_edited&quot;));\r\n            }\r\n            if(rs.getLong(&quot;id&quot;)!=id){\r\n                id = rs.getLong(&quot;id&quot;);\r\n                recipe.setIngredients(ingredientList);\r\n                recipeList.add(recipe);\r\n                ingredientList = new ArrayList&lt;&gt;();\r\n                recipe = new Recipe(\r\n                        rs.getLong(&quot;id&quot;),\r\n                        rs.getString(&quot;name&quot;),\r\n                        rs.getString(&quot;instructions&quot;),\r\n                        rs.getString(&quot;date_added&quot;),\r\n                        rs.getString(&quot;last_edited&quot;));\r\n            }\r\n            ingredientList.add(new Ingredient(\r\n                    rs.getLong(&quot;ingredient_id&quot;),\r\n                    rs.getString(&quot;ingredient_name&quot;),\r\n                    rs.getInt(&quot;amount&quot;),\r\n                    rs.getString(&quot;unit&quot;)));\r\n            i++;\r\n        }\r\n        recipe.setIngredients(ingredientList);\r\n        recipeList.add(recipe);\r\n        return recipeList;\r\n    }\r\n```","title":"Posting and getting an object that contains a list of object","body":"<p>I have two entity classes, recipe and ingredient. each recipe contains a list of ingredients and each ingredient holds a recipe id as a foreign key. the entity classes look something like this</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;recipe&quot;, schema = &quot;public&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Recipe {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private long id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Column(name = &quot;instructions&quot;)\n    private String instructions;\n    @OneToMany(mappedBy = &quot;recipe&quot;)\n    private List&lt;Ingredient&gt; ingredients;\n    @JsonProperty(&quot;date_added&quot;)\n    private String dateAdded;\n    @JsonProperty(&quot;last_edited&quot;)\n    private String lastEdited;\n\n    public Recipe(long id, String name, String instructions, String dateAdded, String lastEdited) {\n        this.id = id;\n        this.name = name;\n        this.instructions = instructions;\n        this.dateAdded = dateAdded;\n        this.lastEdited = lastEdited;\n    }\n}\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;Ingredient&quot;)\n@NoArgsConstructor\npublic class Ingredient {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    @JsonProperty(&quot;ingredient_id&quot;)\n    private long ingredient_ID;\n    @JsonProperty(&quot;ingredient_name&quot;)\n    private String ingredientName;\n    @Column(name = &quot;amount&quot;)\n    private int amount;\n    @Column(name = &quot;unit&quot;)\n    private String unit;\n    @ManyToOne\n    @JoinColumn(name = &quot;recipe_id&quot;)\n    @ToString.Exclude\n    @JsonIgnore\n    private Recipe recipe;\n\n    public Ingredient(long ingredient_ID, String ingredientName, int amount, String unit) {\n        this.ingredient_ID = ingredient_ID;\n        this.ingredientName = ingredientName;\n        this.amount = amount;\n        this.unit = unit;\n    }\n}\n</code></pre>\n<p>The problem arises when I try to post a recipe. Originally I thought I would create the recipe (without the id)-&gt;let the database generate the id-&gt;create the ingredients in a loop whilst passing the id generated to each ingredient. However, despite successfully generating the id in the database, I couldn't figure out how to &quot;get&quot; the id. Instead, I ended up searching for the id by comparing the other attributes like this</p>\n<pre><code>                SELECT id FROM public.recipe\n                WHERE name = ? AND instructions = ? AND date_added = ? AND last_edited = ?\n</code></pre>\n<p>Obviously not a great solution since I cannot guarantee the uniqueness of the 4 attributes and any un-unique combinations will result in an error (from queryforobject).</p>\n<p>the whole service looks sth like this</p>\n<pre><code>    //retrieve the id of the recipe using the name instructions and date_added fields\n    //called exclusively by postRecipes\n    public long getIDByNID(Recipe recipe){\n        String name = recipe.getName();\n        String instruction = recipe.getInstructions();\n        String dateAdded = recipe.getDateAdded();\n        String lastEdited = recipe.getLastEdited();\n        var sql = &quot;&quot;&quot;\n                SELECT id FROM public.recipe\n                WHERE name = ? AND instructions = ? AND date_added = ? AND last_edited = ?\n                &quot;&quot;&quot;;\n\n        return jdbcTemplate.queryForObject(sql, Long.class, name, instruction,dateAdded,lastEdited);\n    }\n\n\n    //insert a recipe with only name instruction and date_added\n    //to generate a new recipe object with an id\n    //called exclusively by postRecipes\n    public void postRecipe(Recipe recipe){\n        var sql = &quot;&quot;&quot;\n                INSERT INTO public.recipe (&quot;name&quot;, &quot;instructions&quot;,&quot;date_added&quot;,&quot;last_edited&quot;)\n                VALUES (?, ?, ?, ?)\n                &quot;&quot;&quot;;\n        jdbcTemplate.update(\n                sql,\n                recipe.getName(),\n                recipe.getInstructions(),\n                recipe.getDateAdded(),\n                recipe.getLastEdited()\n        );\n    }\n\n    public void postRecipes(Recipe recipe) {\n        postRecipe(recipe);\n        var ingredientSQL = &quot;&quot;&quot;\n                INSERT INTO public.ingredient(&quot;ingredient_name&quot;, &quot;amount&quot;, &quot;unit&quot;,&quot;recipe_id&quot;)\n                VALUES(?, ?, ?, ?)\n                &quot;&quot;&quot;;\n        int i = 0;\n        recipe.setId(getIDByNID(recipe));\n        while(i&lt;recipe.getIngredients().size()){\n            Ingredient ingredient = recipe.getIngredients().get(i);\n            jdbcTemplate.update(\n                    ingredientSQL,\n                    ingredient.getIngredientName(),\n                    ingredient.getAmount(),\n                    ingredient.getUnit(),\n                    recipe.getId()\n            );\n            i++;\n        }\n    }\n</code></pre>\n<p>The getter is also quite messy. Although I can't think of anything obviously wrong with it, but surely there is an easier way to get sth.</p>\n<pre><code>    public List&lt;Recipe&gt; getRecipes(){\n        //id, name, ingredient_name, amount, unit, instructions, date_added, last_edited\n        var sql = &quot;&quot;&quot;\n            SELECT id, name, ingredient_id, ingredient_name, amount, unit, instructions, date_added, last_edited\n            FROM public.recipe\n            INNER JOIN public.ingredient ON id = recipe_id\n            LIMIT 50\n            &quot;&quot;&quot;;\n        return jdbcTemplate.query(sql, new RecipeSetExtractor());\n    }\n</code></pre>\n<pre><code>    public List&lt;Recipe&gt; extractData(ResultSet rs) throws SQLException, DataAccessException {\n        List&lt;Ingredient&gt; ingredientList = new ArrayList&lt;&gt;();\n        List&lt;Recipe&gt; recipeList = new ArrayList&lt;&gt;();\n        Recipe recipe = new Recipe();\n        long id = -1;\n        int i = 0;\n        while(rs.next()) {\n            if(id==-1){\n                id = rs.getLong(&quot;id&quot;);\n                recipe = new Recipe(\n                        rs.getLong(&quot;id&quot;),\n                        rs.getString(&quot;name&quot;),\n                        rs.getString(&quot;instructions&quot;),\n                        rs.getString(&quot;date_added&quot;),\n                        rs.getString(&quot;last_edited&quot;));\n            }\n            if(rs.getLong(&quot;id&quot;)!=id){\n                id = rs.getLong(&quot;id&quot;);\n                recipe.setIngredients(ingredientList);\n                recipeList.add(recipe);\n                ingredientList = new ArrayList&lt;&gt;();\n                recipe = new Recipe(\n                        rs.getLong(&quot;id&quot;),\n                        rs.getString(&quot;name&quot;),\n                        rs.getString(&quot;instructions&quot;),\n                        rs.getString(&quot;date_added&quot;),\n                        rs.getString(&quot;last_edited&quot;));\n            }\n            ingredientList.add(new Ingredient(\n                    rs.getLong(&quot;ingredient_id&quot;),\n                    rs.getString(&quot;ingredient_name&quot;),\n                    rs.getInt(&quot;amount&quot;),\n                    rs.getString(&quot;unit&quot;)));\n            i++;\n        }\n        recipe.setIngredients(ingredientList);\n        recipeList.add(recipe);\n        return recipeList;\n    }\n</code></pre>\n"},{"tags":["java","jvm","heap-memory","jcmd"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659938850,"creation_date":1659938850,"answer_id":73273493,"question_id":73271952,"body_markdown":"You can get a histogram right from a Java application even without starting a separate process:\r\n\r\n```\r\nString histogram = (String) ManagementFactory.getPlatformMBeanServer().invoke(\r\n        new ObjectName(&quot;com.sun.management:type=DiagnosticCommand&quot;),\r\n        &quot;gcClassHistogram&quot;,\r\n        new Object[]{null},\r\n        new String[]{&quot;[Ljava.lang.String;&quot;});\r\nSystem.out.println(histogram);\r\n```\r\n","title":"How to create a class histogram of a JVM app from the very same JVM app?","body":"<p>You can get a histogram right from a Java application even without starting a separate process:</p>\n<pre><code>String histogram = (String) ManagementFactory.getPlatformMBeanServer().invoke(\n        new ObjectName(&quot;com.sun.management:type=DiagnosticCommand&quot;),\n        &quot;gcClassHistogram&quot;,\n        new Object[]{null},\n        new String[]{&quot;[Ljava.lang.String;&quot;});\nSystem.out.println(histogram);\n</code></pre>\n"}],"owner":{"account_id":1106092,"reputation":12882,"user_id":1097451,"accept_rate":95,"display_name":"Martin Drozdik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659938850,"creation_date":1659919102,"question_id":73271952,"body_markdown":"I would like to diagnose some unexpected OOM errors using `jmap` or `jcmd`. Unfortunately, these tools are not easy to use in a CI pipeline, because I would have to launch the JVM app in the background, somehow get its PID, and then get the timing right for the results to be useful.\r\n\r\nSo I tried to launch them from the JVM app that is to be diagnosed itself — a programmatic selfie. \r\n\r\nAt the appropriate place in code, I launch `jmap` or `jcmd` as a new process:\r\n\r\n    val process = ProcessBuilder(&quot;jcmd&quot;, getPID(), &quot;GC.class_histogram&quot;)\r\n        .redirectOutput(ProcessBuilder.Redirect.PIPE)\r\n        .redirectError(ProcessBuilder.Redirect.PIPE)\r\n        .start()\r\n\r\n    process.waitFor(2, TimeUnit.MINUTES)\r\n\r\nUnfortunately, this code hangs for both tools. The system monitor says that both the JVM app and the `jcmd` are sleeping. However, when I use the `jcmd` on the sleeping JVM:\r\n\r\n    jcmd 37058 GC.class_histogram\r\n\r\nI get the desired histogram immediately.\r\n\r\nAny idea what is going on?","title":"How to create a class histogram of a JVM app from the very same JVM app?","body":"<p>I would like to diagnose some unexpected OOM errors using <code>jmap</code> or <code>jcmd</code>. Unfortunately, these tools are not easy to use in a CI pipeline, because I would have to launch the JVM app in the background, somehow get its PID, and then get the timing right for the results to be useful.</p>\n<p>So I tried to launch them from the JVM app that is to be diagnosed itself — a programmatic selfie.</p>\n<p>At the appropriate place in code, I launch <code>jmap</code> or <code>jcmd</code> as a new process:</p>\n<pre><code>val process = ProcessBuilder(&quot;jcmd&quot;, getPID(), &quot;GC.class_histogram&quot;)\n    .redirectOutput(ProcessBuilder.Redirect.PIPE)\n    .redirectError(ProcessBuilder.Redirect.PIPE)\n    .start()\n\nprocess.waitFor(2, TimeUnit.MINUTES)\n</code></pre>\n<p>Unfortunately, this code hangs for both tools. The system monitor says that both the JVM app and the <code>jcmd</code> are sleeping. However, when I use the <code>jcmd</code> on the sleeping JVM:</p>\n<pre><code>jcmd 37058 GC.class_histogram\n</code></pre>\n<p>I get the desired histogram immediately.</p>\n<p>Any idea what is going on?</p>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1659859553,"post_id":73265206,"comment_id":129391339,"body_markdown":"what should happen if user presses `+` or `-`? Should the code just *remember* what was pressed (do the calculation internally) but not display the result - if finally `=`  is pressed, the result should be updated?","body":"what should happen if user presses <code>+</code> or <code>-</code>? Should the code just <i>remember</i> what was pressed (do the calculation internally) but not display the result - if finally <code>=</code>  is pressed, the result should be updated?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659860764,"post_id":73265206,"comment_id":129391530,"body_markdown":"__never-ever__ do manual sizing or locating, instead use a suitable layoutManager","body":"<b>never-ever</b> do manual sizing or locating, instead use a suitable layoutManager"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659853129,"creation_date":1659853129,"answer_id":73265315,"question_id":73265206,"body_markdown":"The problem is that you nested your if statements. Look here:\r\n\r\n    if (buttonPressed == b1 ){\r\n        c= a+b;\r\n        if(buttonPressed == b3){\r\n            tf3.setText(String.valueOf(c));\r\n        }\r\n    }\r\n\r\nThis only executes when the variable buttonPressed is equal to b1.\r\nBut at the same time buttonPressed will never be b3, so that part never gets to execute.\r\n\r\nYou will need a sequence of if statements like so:\r\n\r\n    if (buttonPressed == b1) { ... }\r\n    if (buttonPressed == b2) { ... }\r\n    if (buttonPressed == b3) { ... }\r\n\r\nYou could also use different ActionListeners for each button.","title":"How can I use the &quot;+&quot; or &quot;-&quot; button to make the calcul and then the &quot;=&quot; to display it?","body":"<p>The problem is that you nested your if statements. Look here:</p>\n<pre><code>if (buttonPressed == b1 ){\n    c= a+b;\n    if(buttonPressed == b3){\n        tf3.setText(String.valueOf(c));\n    }\n}\n</code></pre>\n<p>This only executes when the variable buttonPressed is equal to b1.\nBut at the same time buttonPressed will never be b3, so that part never gets to execute.</p>\n<p>You will need a sequence of if statements like so:</p>\n<pre><code>if (buttonPressed == b1) { ... }\nif (buttonPressed == b2) { ... }\nif (buttonPressed == b3) { ... }\n</code></pre>\n<p>You could also use different ActionListeners for each button.</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659855516,"creation_date":1659855071,"answer_id":73265461,"question_id":73265206,"body_markdown":"The problem is that ```button``` can&#39;t be both ```b1``` and ```b3```.  You could introduce another variable that keeps track of the operator the user click on.  It could be a character, a string, or a button.  When the user click the &quot;=&quot; button, you then check the operator and perform the appropriate operation and display the result.\r\n\r\nAnother thing you have to think about is:  what does the program do when the user enter two numbers and click &quot;=&quot; button without providing an operator?\r\n\r\nHere&#39;s my proposed solution based on your code.  Button ```b1``` and ```b2``` only update the variable ```operator```.  Button ```b3``` performs the computation.\r\n\r\n```\r\npublic class Main extends JFrame implements ActionListener{\r\n    JTextField tf1,tf2,tf3; JButton b1,b2, b3;\r\n    char operator = &#39;?&#39;;\r\n    \r\n    Main() {\r\n        ...\r\n        b1.addActionListener(e-&gt;operator=&#39;+&#39;);  \r\n        b2.addActionListener(e-&gt;operator=&#39;-&#39;);  \r\n        b3.addActionListener(this);\r\n        ...\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        int a = Integer.parseInt(tf1.getText());\r\n        int b = Integer.parseInt(tf2.getText());\r\n        if (operator == &#39;+&#39;) tf3.setText(&quot;&quot; + (a+b));\r\n        if (operator == &#39;-&#39;) tf3.setText(&quot;&quot; + (a-b));\r\n        if (operator == &#39;?&#39;) tf3.setText(&quot;Choose operator&quot;);\r\n    }\r\n}\r\n```","title":"How can I use the &quot;+&quot; or &quot;-&quot; button to make the calcul and then the &quot;=&quot; to display it?","body":"<p>The problem is that <code>button</code> can't be both <code>b1</code> and <code>b3</code>.  You could introduce another variable that keeps track of the operator the user click on.  It could be a character, a string, or a button.  When the user click the &quot;=&quot; button, you then check the operator and perform the appropriate operation and display the result.</p>\n<p>Another thing you have to think about is:  what does the program do when the user enter two numbers and click &quot;=&quot; button without providing an operator?</p>\n<p>Here's my proposed solution based on your code.  Button <code>b1</code> and <code>b2</code> only update the variable <code>operator</code>.  Button <code>b3</code> performs the computation.</p>\n<pre><code>public class Main extends JFrame implements ActionListener{\n    JTextField tf1,tf2,tf3; JButton b1,b2, b3;\n    char operator = '?';\n    \n    Main() {\n        ...\n        b1.addActionListener(e-&gt;operator='+');  \n        b2.addActionListener(e-&gt;operator='-');  \n        b3.addActionListener(this);\n        ...\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        int a = Integer.parseInt(tf1.getText());\n        int b = Integer.parseInt(tf2.getText());\n        if (operator == '+') tf3.setText(&quot;&quot; + (a+b));\n        if (operator == '-') tf3.setText(&quot;&quot; + (a-b));\n        if (operator == '?') tf3.setText(&quot;Choose operator&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659938016,"creation_date":1659938016,"answer_id":73273401,"question_id":73265206,"body_markdown":"Note: Explanations after the code.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.Toolkit;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.text.AbstractDocument;\r\nimport javax.swing.text.AttributeSet;\r\nimport javax.swing.text.BadLocationException;\r\nimport javax.swing.text.Document;\r\nimport javax.swing.text.DocumentFilter;\r\n\r\npublic class Calculat extends DocumentFilter implements DocumentListener {\r\n    private int  result;\r\n    private JButton  addButton;\r\n    private JButton  equalsButton;\r\n    private JButton  subtractButton;\r\n    private JFrame  frame;\r\n    private JTextField  operand1textField;\r\n    private JTextField  operand2textField;\r\n    private JTextField  resultTextField;\r\n\r\n    @Override // javax.swing.event.DocumentListener\r\n    public void insertUpdate(DocumentEvent event) {\r\n        handleDocumentEvent(event);\r\n    }\r\n\r\n    @Override // javax.swing.event.DocumentListener\r\n    public void removeUpdate(DocumentEvent event) {\r\n        handleDocumentEvent(event);\r\n    }\r\n\r\n    @Override // javax.swing.event.DocumentListener\r\n    public void changedUpdate(DocumentEvent event) {\r\n        // Never called.\r\n    }\r\n\r\n    @Override // javax.swing.text.DocumentFilter\r\n    public void replace(DocumentFilter.FilterBypass fb,\r\n                        int offset,\r\n                        int length,\r\n                        String text,\r\n                        AttributeSet attrs) throws BadLocationException {\r\n        if (text != null  &amp;&amp;  !text.isEmpty()) {\r\n            try {\r\n                Integer.parseInt(text);\r\n                super.replace(fb, offset, length, text, attrs);\r\n            }\r\n            catch (NumberFormatException xNumberFormat) {\r\n                Toolkit.getDefaultToolkit().beep();\r\n            }\r\n        }\r\n        else {\r\n            super.replace(fb, offset, length, text, attrs);\r\n        }\r\n    }\r\n\r\n    private void buildAndDisplayGui() {\r\n        frame = new JFrame(&quot;Calculator&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createMainPanel(), BorderLayout.CENTER);\r\n        frame.add(createButtonsPanel(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JButton createButton(String text, String tooltip, ActionListener listener) {\r\n        JButton button = new JButton(text);\r\n        button.setToolTipText(tooltip);\r\n        button.setEnabled(false);\r\n        button.setFont(button.getFont().deriveFont(15.0f));\r\n        button.setPreferredSize(new Dimension(50, 50));\r\n        button.addActionListener(listener);\r\n        return button;\r\n    }\r\n\r\n    private JPanel createButtonsPanel() {\r\n        JPanel buttonsPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 20));\r\n        buttonsPanel.setBorder(BorderFactory.createEmptyBorder(0, 20, 0, 20));\r\n        addButton = createButton(&quot;\\uFF0B&quot;, // Unicode addition symbol.\r\n                                 &quot;Add operands.&quot;,\r\n                                 this::performAddition);\r\n        buttonsPanel.add(addButton);\r\n        subtractButton = createButton(&quot;\\u2212&quot;, // Unicode subtraction symbol.\r\n                                      &quot;Subtract operands.&quot;,\r\n                                      this::performSubtraction);\r\n        buttonsPanel.add(subtractButton);\r\n        equalsButton = createButton(&quot;=&quot;,\r\n                                    &quot;Display result.&quot;,\r\n                                    this::produceResult);\r\n        buttonsPanel.add(equalsButton);\r\n        return buttonsPanel;\r\n    }\r\n\r\n    private JPanel createMainPanel() {\r\n        JPanel mainPanel = new JPanel(new GridLayout(0, 1, 0, 10));\r\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 30, 20, 30));\r\n        operand1textField = createTextField();\r\n        mainPanel.add(operand1textField);\r\n        operand2textField = createTextField();\r\n        mainPanel.add(operand2textField);\r\n        resultTextField = createTextField();\r\n        resultTextField.setEditable(false);\r\n        mainPanel.add(resultTextField);\r\n        return mainPanel;\r\n    }\r\n\r\n    private JTextField createTextField() {\r\n        JTextField textField = new JTextField(12);\r\n        Document doc = textField.getDocument();\r\n        doc.addDocumentListener(this);\r\n        if (doc instanceof AbstractDocument) {\r\n            AbstractDocument absDoc = (AbstractDocument) doc;\r\n            absDoc.setDocumentFilter(this);\r\n        }\r\n        return textField;\r\n    }\r\n\r\n    private void handleDocumentEvent(DocumentEvent event) {\r\n        boolean enable = operand1textField.getText().length() &gt; 0  &amp;&amp;\r\n                         operand2textField.getText().length() &gt; 0;\r\n        addButton.setEnabled(enable);\r\n        subtractButton.setEnabled(enable);\r\n        resultTextField.setText(&quot;&quot;);\r\n    }\r\n\r\n    private void performAddition(ActionEvent event) {\r\n        int op1 = Integer.parseInt(operand1textField.getText());\r\n        int op2 = Integer.parseInt(operand2textField.getText());\r\n        result = op1 + op2;\r\n        equalsButton.setEnabled(true);\r\n        addButton.setEnabled(false);\r\n        subtractButton.setEnabled(false);\r\n    }\r\n\r\n    private void performSubtraction(ActionEvent event) {\r\n        int op1 = Integer.parseInt(operand1textField.getText());\r\n        int op2 = Integer.parseInt(operand2textField.getText());\r\n        result = op1 - op2;\r\n        equalsButton.setEnabled(true);\r\n        addButton.setEnabled(false);\r\n        subtractButton.setEnabled(false);\r\n    }\r\n\r\n    private void produceResult(ActionEvent event) {\r\n        resultTextField.setText(Integer.toString(result));\r\n        equalsButton.setEnabled(false);\r\n        addButton.setEnabled(false);\r\n        subtractButton.setEnabled(false);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new Calculat().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n- The old *Swing* code examples usually use classes that extend `javax.swing.JFrame`. This is not required.\r\n- `setLayout(null)` You rarely need to do this. Refer to [Laying Out Components Within a Container][1] lesson in *Creating a GUI With Swing* trail of Oracle&#39;s Java tutorials.\r\n- I think you should give meaningful names to your variables, for example `operand1textField` rather than `tf1`.\r\n- I use a [DocumentFilter][2] to ensure that only digits are entered into the text fields for the operands.\r\n- I use a [DocumentListener][3] in order to know when the operands text fields are not empty and I only enable `addButton` and `subtractButton` once both operand text fields have values.\r\n- I enable `equalsButton` only after the user has pressed either `addButton` or `subtractButton`.\r\n- Since `java.awt.event.ActionListener` is a functional interface, I use [method references][4], for example when `addButton` is pressed, method `performAddition` is called.\r\n\r\nWhen launched, the GUI looks like this:\r\n\r\n[![screen capture][5]][5]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [5]: https://i.stack.imgur.com/1a0Nu.png","title":"How can I use the &quot;+&quot; or &quot;-&quot; button to make the calcul and then the &quot;=&quot; to display it?","body":"<p>Note: Explanations after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.GridLayout;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.text.AbstractDocument;\nimport javax.swing.text.AttributeSet;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Document;\nimport javax.swing.text.DocumentFilter;\n\npublic class Calculat extends DocumentFilter implements DocumentListener {\n    private int  result;\n    private JButton  addButton;\n    private JButton  equalsButton;\n    private JButton  subtractButton;\n    private JFrame  frame;\n    private JTextField  operand1textField;\n    private JTextField  operand2textField;\n    private JTextField  resultTextField;\n\n    @Override // javax.swing.event.DocumentListener\n    public void insertUpdate(DocumentEvent event) {\n        handleDocumentEvent(event);\n    }\n\n    @Override // javax.swing.event.DocumentListener\n    public void removeUpdate(DocumentEvent event) {\n        handleDocumentEvent(event);\n    }\n\n    @Override // javax.swing.event.DocumentListener\n    public void changedUpdate(DocumentEvent event) {\n        // Never called.\n    }\n\n    @Override // javax.swing.text.DocumentFilter\n    public void replace(DocumentFilter.FilterBypass fb,\n                        int offset,\n                        int length,\n                        String text,\n                        AttributeSet attrs) throws BadLocationException {\n        if (text != null  &amp;&amp;  !text.isEmpty()) {\n            try {\n                Integer.parseInt(text);\n                super.replace(fb, offset, length, text, attrs);\n            }\n            catch (NumberFormatException xNumberFormat) {\n                Toolkit.getDefaultToolkit().beep();\n            }\n        }\n        else {\n            super.replace(fb, offset, length, text, attrs);\n        }\n    }\n\n    private void buildAndDisplayGui() {\n        frame = new JFrame(&quot;Calculator&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        frame.add(createButtonsPanel(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JButton createButton(String text, String tooltip, ActionListener listener) {\n        JButton button = new JButton(text);\n        button.setToolTipText(tooltip);\n        button.setEnabled(false);\n        button.setFont(button.getFont().deriveFont(15.0f));\n        button.setPreferredSize(new Dimension(50, 50));\n        button.addActionListener(listener);\n        return button;\n    }\n\n    private JPanel createButtonsPanel() {\n        JPanel buttonsPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 20));\n        buttonsPanel.setBorder(BorderFactory.createEmptyBorder(0, 20, 0, 20));\n        addButton = createButton(&quot;\\uFF0B&quot;, // Unicode addition symbol.\n                                 &quot;Add operands.&quot;,\n                                 this::performAddition);\n        buttonsPanel.add(addButton);\n        subtractButton = createButton(&quot;\\u2212&quot;, // Unicode subtraction symbol.\n                                      &quot;Subtract operands.&quot;,\n                                      this::performSubtraction);\n        buttonsPanel.add(subtractButton);\n        equalsButton = createButton(&quot;=&quot;,\n                                    &quot;Display result.&quot;,\n                                    this::produceResult);\n        buttonsPanel.add(equalsButton);\n        return buttonsPanel;\n    }\n\n    private JPanel createMainPanel() {\n        JPanel mainPanel = new JPanel(new GridLayout(0, 1, 0, 10));\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 30, 20, 30));\n        operand1textField = createTextField();\n        mainPanel.add(operand1textField);\n        operand2textField = createTextField();\n        mainPanel.add(operand2textField);\n        resultTextField = createTextField();\n        resultTextField.setEditable(false);\n        mainPanel.add(resultTextField);\n        return mainPanel;\n    }\n\n    private JTextField createTextField() {\n        JTextField textField = new JTextField(12);\n        Document doc = textField.getDocument();\n        doc.addDocumentListener(this);\n        if (doc instanceof AbstractDocument) {\n            AbstractDocument absDoc = (AbstractDocument) doc;\n            absDoc.setDocumentFilter(this);\n        }\n        return textField;\n    }\n\n    private void handleDocumentEvent(DocumentEvent event) {\n        boolean enable = operand1textField.getText().length() &gt; 0  &amp;&amp;\n                         operand2textField.getText().length() &gt; 0;\n        addButton.setEnabled(enable);\n        subtractButton.setEnabled(enable);\n        resultTextField.setText(&quot;&quot;);\n    }\n\n    private void performAddition(ActionEvent event) {\n        int op1 = Integer.parseInt(operand1textField.getText());\n        int op2 = Integer.parseInt(operand2textField.getText());\n        result = op1 + op2;\n        equalsButton.setEnabled(true);\n        addButton.setEnabled(false);\n        subtractButton.setEnabled(false);\n    }\n\n    private void performSubtraction(ActionEvent event) {\n        int op1 = Integer.parseInt(operand1textField.getText());\n        int op2 = Integer.parseInt(operand2textField.getText());\n        result = op1 - op2;\n        equalsButton.setEnabled(true);\n        addButton.setEnabled(false);\n        subtractButton.setEnabled(false);\n    }\n\n    private void produceResult(ActionEvent event) {\n        resultTextField.setText(Integer.toString(result));\n        equalsButton.setEnabled(false);\n        addButton.setEnabled(false);\n        subtractButton.setEnabled(false);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new Calculat().buildAndDisplayGui());\n    }\n}\n</code></pre>\n<ul>\n<li>The old <em>Swing</em> code examples usually use classes that extend <code>javax.swing.JFrame</code>. This is not required.</li>\n<li><code>setLayout(null)</code> You rarely need to do this. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> lesson in <em>Creating a GUI With Swing</em> trail of Oracle's Java tutorials.</li>\n<li>I think you should give meaningful names to your variables, for example <code>operand1textField</code> rather than <code>tf1</code>.</li>\n<li>I use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">DocumentFilter</a> to ensure that only digits are entered into the text fields for the operands.</li>\n<li>I use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html\" rel=\"nofollow noreferrer\">DocumentListener</a> in order to know when the operands text fields are not empty and I only enable <code>addButton</code> and <code>subtractButton</code> once both operand text fields have values.</li>\n<li>I enable <code>equalsButton</code> only after the user has pressed either <code>addButton</code> or <code>subtractButton</code>.</li>\n<li>Since <code>java.awt.event.ActionListener</code> is a functional interface, I use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>, for example when <code>addButton</code> is pressed, method <code>performAddition</code> is called.</li>\n</ul>\n<p>When launched, the GUI looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/1a0Nu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1a0Nu.png\" alt=\"screen capture\" /></a></p>\n"}],"owner":{"account_id":25998636,"reputation":7,"user_id":19709535,"display_name":"Abdelaziz AMINE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1659938016,"creation_date":1659851695,"question_id":73265206,"body_markdown":"I&#39;m trying to do a basic calculator. At first I only had two buttons &quot;+&quot; and &quot;-&quot;, when i pressed one of the two buttons the text is displayed. For the next step, i want to display the result only when the &quot;=&quot; button is pressed. So basically &quot;+&quot; and &quot;-&quot; buttons are used to calculate and &quot;=&quot; to display the calcul. But nothing is displayed when &quot;=&quot; is pressed. Thanks for your help.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class Main extends JFrame implements ActionListener{\r\n        JTextField tf1,tf2,tf3; JButton b1,b2, b3;\r\n    \r\n        Main() {\r\n            tf1 = new JTextField();\r\n            tf1.setBounds(50,50,150,20);\r\n            tf2 = new JTextField();\r\n            tf2.setBounds(50,100,150,20);\r\n            tf3 = new JTextField();\r\n            tf3.setBounds(50,150,150,20);\r\n            tf3.setEditable(false);\r\n            b1 = new JButton(&quot;+&quot;);\r\n            b1.setBounds(50,200,50,50);\r\n            b2 = new JButton(&quot;-&quot;);\r\n            b2.setBounds(120,200,50,50);\r\n            b3 = new JButton(&quot;=&quot;);\r\n            b3.setBounds(190,200,50,50);\r\n            b1.addActionListener(this);\r\n            b2.addActionListener(this);\r\n            b3.addActionListener(this);\r\n            add(tf1);add(tf2);add(tf3);add(b1);add(b2);add(b3);\r\n            setSize(300,300);\r\n            setLayout(null);\r\n            setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args){\r\n            new Main();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            int a = Integer.parseInt(tf1.getText());\r\n            int b = Integer.parseInt(tf2.getText());\r\n            int c = 0;\r\n            Object buttonPressed = e.getSource();\r\n            if (buttonPressed == b1 ){\r\n                c= a+b;\r\n                if(buttonPressed == b3){\r\n                    tf3.setText(String.valueOf(c));\r\n                }\r\n            }\r\n    \r\n            if(buttonPressed == b2){\r\n                c=a-b;\r\n                if(buttonPressed == b3){\r\n                    tf3.setText(String.valueOf(c));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How can I use the &quot;+&quot; or &quot;-&quot; button to make the calcul and then the &quot;=&quot; to display it?","body":"<p>I'm trying to do a basic calculator. At first I only had two buttons &quot;+&quot; and &quot;-&quot;, when i pressed one of the two buttons the text is displayed. For the next step, i want to display the result only when the &quot;=&quot; button is pressed. So basically &quot;+&quot; and &quot;-&quot; buttons are used to calculate and &quot;=&quot; to display the calcul. But nothing is displayed when &quot;=&quot; is pressed. Thanks for your help.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Main extends JFrame implements ActionListener{\n    JTextField tf1,tf2,tf3; JButton b1,b2, b3;\n\n    Main() {\n        tf1 = new JTextField();\n        tf1.setBounds(50,50,150,20);\n        tf2 = new JTextField();\n        tf2.setBounds(50,100,150,20);\n        tf3 = new JTextField();\n        tf3.setBounds(50,150,150,20);\n        tf3.setEditable(false);\n        b1 = new JButton(&quot;+&quot;);\n        b1.setBounds(50,200,50,50);\n        b2 = new JButton(&quot;-&quot;);\n        b2.setBounds(120,200,50,50);\n        b3 = new JButton(&quot;=&quot;);\n        b3.setBounds(190,200,50,50);\n        b1.addActionListener(this);\n        b2.addActionListener(this);\n        b3.addActionListener(this);\n        add(tf1);add(tf2);add(tf3);add(b1);add(b2);add(b3);\n        setSize(300,300);\n        setLayout(null);\n        setVisible(true);\n    }\n\n    public static void main(String[] args){\n        new Main();\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        int a = Integer.parseInt(tf1.getText());\n        int b = Integer.parseInt(tf2.getText());\n        int c = 0;\n        Object buttonPressed = e.getSource();\n        if (buttonPressed == b1 ){\n            c= a+b;\n            if(buttonPressed == b3){\n                tf3.setText(String.valueOf(c));\n            }\n        }\n\n        if(buttonPressed == b2){\n            c=a-b;\n            if(buttonPressed == b3){\n                tf3.setText(String.valueOf(c));\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","dagger-hilt"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1659938089,"post_id":73273351,"comment_id":129404594,"body_markdown":"Change `@ActivityContext` to `@ApplicationContext` .. And Add `@Singleton` annotation to `providesPedalRepository` method   ..","body":"Change <code>@ActivityContext</code> to <code>@ApplicationContext</code> .. And Add <code>@Singleton</code> annotation to <code>providesPedalRepository</code> method   .."},{"owner":{"account_id":1368675,"reputation":185,"user_id":1304505,"display_name":"Cb32019"},"score":0,"creation_date":1659967918,"post_id":73273351,"comment_id":129414530,"body_markdown":"Do I need @Singleton to the BleRepository class definition?","body":"Do I need @Singleton to the BleRepository class definition?"},{"owner":{"account_id":155121,"reputation":1428,"user_id":371557,"accept_rate":70,"display_name":"rakesh kashyap"},"score":0,"creation_date":1661103990,"post_id":73273351,"comment_id":129686927,"body_markdown":"this is a wrong design. why do you need context in repository? can you pls explain ur use case. may be this needs a redesign.","body":"this is a wrong design. why do you need context in repository? can you pls explain ur use case. may be this needs a redesign."},{"owner":{"account_id":1368675,"reputation":185,"user_id":1304505,"display_name":"Cb32019"},"score":0,"creation_date":1662760513,"post_id":73273351,"comment_id":130088678,"body_markdown":"@rakeshkashyap the context is needed for some methods required for BLE","body":"@rakeshkashyap the context is needed for some methods required for BLE"}],"owner":{"account_id":1368675,"reputation":185,"user_id":1304505,"display_name":"Cb32019"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659937547,"creation_date":1659937547,"question_id":73273351,"body_markdown":"\r\nHere is my module:\r\n```\r\n@Module\r\n@InstallIn(SingletonComponent.class)\r\npublic class BleRepositoryModule {\r\n    @Provides\r\n    public static BleRepository providesPedalRepository(@ApplicationContext Context context) {\r\n        return new BleRepository(context);\r\n    }\r\n}\r\n```\r\n\r\nThis is the class that I want to be injected as a singleton, that is created by the module\r\n```\r\n@Singleton\r\npublic class BleRepository {\r\n    @Inject\r\n    public BleRepository(@ActivityContext Context context) {\r\n    }\r\n}\r\n```\r\n\r\nI am injecting this singleton in viewmodels such as this:\r\n```\r\n@HiltViewModel\r\npublic class PedalViewModel extends AbstractViewModel {\r\n    @Inject\r\n    public PedalViewModel(BleRepository bleRepository) {\r\n        super();\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever, I see the constructor is called every time it is injected, so it&#39;s not acting like a singleton","title":"Hilt Singleton injection with Java","body":"<p>Here is my module:</p>\n<pre><code>@Module\n@InstallIn(SingletonComponent.class)\npublic class BleRepositoryModule {\n    @Provides\n    public static BleRepository providesPedalRepository(@ApplicationContext Context context) {\n        return new BleRepository(context);\n    }\n}\n</code></pre>\n<p>This is the class that I want to be injected as a singleton, that is created by the module</p>\n<pre><code>@Singleton\npublic class BleRepository {\n    @Inject\n    public BleRepository(@ActivityContext Context context) {\n    }\n}\n</code></pre>\n<p>I am injecting this singleton in viewmodels such as this:</p>\n<pre><code>@HiltViewModel\npublic class PedalViewModel extends AbstractViewModel {\n    @Inject\n    public PedalViewModel(BleRepository bleRepository) {\n        super();\n    }\n}\n\n</code></pre>\n<p>However, I see the constructor is called every time it is injected, so it's not acting like a singleton</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1659941976,"post_id":73272454,"comment_id":129405495,"body_markdown":"https://stackoverflow.com/questions/20904191/pdfbox-find-page-dimensions#:~:text=A4%20is%20a%20document%20format,X%20297mm%20%40%20300%20dpi%22)","body":"<a href=\"https://stackoverflow.com/questions/20904191/pdfbox-find-page-dimensions#:~:text=A4%20is%20a%20document%20format,X%20297mm%20%40%20300%20dpi%22\" title=\"pdfbox find page dimensions%23%3a%7e%3atext%3dA4%2520is%2520a%2520document%2520format%2cX%2520297mm%2520%2540%2520300%2520dpi%2522\">stackoverflow.com/questions/20904191/&hellip;</a>)"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659945326,"post_id":73272454,"comment_id":129406497,"body_markdown":"try `document.getPage(p).setCropBox(PDRectangle.A4)` but I&#39;m not sure that this is the cause. Try printing a PDF of which you know that it is A4, does it work? Also, if the page content isn&#39;t A4 then weird things will happen. Try also using `PDFPrintable` instead of `PDFPageable`, this has resize options.","body":"try <code>document.getPage(p).setCropBox(PDRectangle.A4)</code> but I&#39;m not sure that this is the cause. Try printing a PDF of which you know that it is A4, does it work? Also, if the page content isn&#39;t A4 then weird things will happen. Try also using <code>PDFPrintable</code> instead of <code>PDFPageable</code>, this has resize options."},{"owner":{"account_id":26004432,"reputation":1,"user_id":19714365,"display_name":"mogi"},"score":0,"creation_date":1659947091,"post_id":73272454,"comment_id":129407096,"body_markdown":"if PDF file is A4 then it prints but A3 to A4 doesnt work","body":"if PDF file is A4 then it prints but A3 to A4 doesnt work"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1659950114,"post_id":73272454,"comment_id":129408188,"body_markdown":"Then you should really try to use `PDFPrintable` and read its javadoc. https://pdfbox.apache.org/docs/2.0.12/javadocs/org/apache/pdfbox/printing/PDFPrintable.html#PDFPrintable-org.apache.pdfbox.pdmodel.PDDocument-org.apache.pdfbox.printing.Scaling-","body":"Then you should really try to use <code>PDFPrintable</code> and read its javadoc. <a href=\"https://pdfbox.apache.org/docs/2.0.12/javadocs/org/apache/pdfbox/printing/PDFPrintable.html#PDFPrintable-org.apache.pdfbox.pdmodel.PDDocument-org.apache.pdfbox.printing.Scaling-\" rel=\"nofollow noreferrer\">pdfbox.apache.org/docs/2.0.12/javadocs/org/apache/pdfbox/&hellip;</a>"},{"owner":{"account_id":26004432,"reputation":1,"user_id":19714365,"display_name":"mogi"},"score":0,"creation_date":1659951203,"post_id":73272454,"comment_id":129408521,"body_markdown":"Oh I did it! It is matter of size I put 210 x 270 mm but it was wrong measures, put MediaBox().getWidth() and MediaBox().getHeight() then it works","body":"Oh I did it! It is matter of size I put 210 x 270 mm but it was wrong measures, put MediaBox().getWidth() and MediaBox().getHeight() then it works"}],"owner":{"account_id":26004432,"reputation":1,"user_id":19714365,"display_name":"mogi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659937275,"creation_date":1659926373,"question_id":73272454,"body_markdown":"```java\r\n public static String printer(String filePath, String printerName)\r\n            throws InvalidPasswordException, IOException, PrinterException {\r\n\r\n        String flag = &quot;Error&quot;;\r\n        PDDocument document = PDDocument.load(new File(filePath));\r\n\r\n        for (int p = 0; p &lt; document.getNumberOfPages(); ++p)\r\n        {\r\n            PDRectangle mediaBox = document.getPage(p).getMediaBox();\r\n            mediaBox.transform(Matrix.getScaleInstance(0.5f, 0.5f));\r\n            document.getPage(p).setMediaBox(mediaBox);\r\n        }\r\n\r\n        PrintService myPrintService = findPrintService(printerName);\r\n        PrinterJob job = PrinterJob.getPrinterJob();\r\n        job.setPageable(new PDFPageable(document));\r\n        job.setPrintService(myPrintService);\r\n        job.print();\r\n        System.out.println(&quot;printed!!&quot;);\r\n        flag = &quot;Success&quot;;\r\n        job = null;\r\n        myPrintService = null;\r\n        document.close();\r\n        return flag;\r\n   }\r\n```\r\nI tried to print out local pdf files to printer.\r\nBut I need to press a button &quot;Ok&quot; directly in printer.\r\n\r\nI think problem is page size. \r\nSo I need to set the size as A4 and then print right away.\r\n\r\nAnyone can help me? ","title":"Setting A4 size local pdf files by using pdfbox","body":"<pre class=\"lang-java prettyprint-override\"><code> public static String printer(String filePath, String printerName)\n            throws InvalidPasswordException, IOException, PrinterException {\n\n        String flag = &quot;Error&quot;;\n        PDDocument document = PDDocument.load(new File(filePath));\n\n        for (int p = 0; p &lt; document.getNumberOfPages(); ++p)\n        {\n            PDRectangle mediaBox = document.getPage(p).getMediaBox();\n            mediaBox.transform(Matrix.getScaleInstance(0.5f, 0.5f));\n            document.getPage(p).setMediaBox(mediaBox);\n        }\n\n        PrintService myPrintService = findPrintService(printerName);\n        PrinterJob job = PrinterJob.getPrinterJob();\n        job.setPageable(new PDFPageable(document));\n        job.setPrintService(myPrintService);\n        job.print();\n        System.out.println(&quot;printed!!&quot;);\n        flag = &quot;Success&quot;;\n        job = null;\n        myPrintService = null;\n        document.close();\n        return flag;\n   }\n</code></pre>\n<p>I tried to print out local pdf files to printer.\nBut I need to press a button &quot;Ok&quot; directly in printer.</p>\n<p>I think problem is page size.\nSo I need to set the size as A4 and then print right away.</p>\n<p>Anyone can help me?</p>\n"},{"tags":["java","class","oop","casting","marker-interfaces"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1659937035,"post_id":73273266,"comment_id":129404401,"body_markdown":"Because you can cast anything to anything.  Casting is saying you explicitly know something will work.  Have you tried to run it?  You&#39;ll get an error at runtime.  Or you would if they weren&#39;t null-  null can successfully cast to anything.","body":"Because you can cast anything to anything.  Casting is saying you explicitly know something will work.  Have you tried to run it?  You&#39;ll get an error at runtime.  Or you would if they weren&#39;t null-  null can successfully cast to anything."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659937213,"post_id":73273266,"comment_id":129404426,"body_markdown":"Title is vague. Rewrite to summarize your specific technical issue.","body":"Title is vague. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":3154,"reputation":16538,"user_id":4489,"accept_rate":65,"display_name":"Hafthor"},"score":0,"creation_date":1659937289,"post_id":73273266,"comment_id":129404442,"body_markdown":"Because null has no type this will compile and run without exception. You can cast anything to anything, but if the value is not of type cast or an inheritor or implementor of it, it will result in a runtime failure. But null is a typeless value.","body":"Because null has no type this will compile and run without exception. You can cast anything to anything, but if the value is not of type cast or an inheritor or implementor of it, it will result in a runtime failure. But null is a typeless value."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1659937752,"post_id":73273266,"comment_id":129404522,"body_markdown":"@GabeSechan Well, not &quot;anything to anything&quot;. If the compiler can statically prove that a cast is impossible, then the code will fail to compile. The key word there is &quot;statically&quot;. It depends entirely on the static types of the variables, not the run-time types of the referenced objects. For instance, if `P` were a class instead of an interface, then the above would fail, because in that case an object could never be both an `A` and a `P`. But since `P` is an interface, the cast _could_ possibly succeed (from the compiler&#39;s perspective, anyway).","body":"@GabeSechan Well, not &quot;anything to anything&quot;. If the compiler can statically prove that a cast is impossible, then the code will fail to compile. The key word there is &quot;statically&quot;. It depends entirely on the static types of the variables, not the run-time types of the referenced objects. For instance, if <code>P</code> were a class instead of an interface, then the above would fail, because in that case an object could never be both an <code>A</code> and a <code>P</code>. But since <code>P</code> is an interface, the cast <i>could</i> possibly succeed (from the compiler&#39;s perspective, anyway)."}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1659937079,"creation_date":1659937079,"answer_id":73273295,"question_id":73273266,"body_markdown":"Because the runtime type of `a1` and `p1` can be a subclass of `A` that implements `P`. ","title":"The following java code is Legal.Why is it legal?","body":"<p>Because the runtime type of <code>a1</code> and <code>p1</code> can be a subclass of <code>A</code> that implements <code>P</code>.</p>\n"}],"owner":{"account_id":24450378,"reputation":1,"user_id":18372713,"display_name":"Lithira Amarasinghe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1659937088,"answer_count":1,"score":-2,"last_activity_date":1659937101,"creation_date":1659936768,"question_id":73273266,"body_markdown":"    interface P{}\r\n    \r\n    class A{}\r\n    \r\n    class Demo{\r\n    \tpublic static void main(String arg[]){\r\n    \t\tA a1=null;\r\n    \t\tP p1=null;\r\n    \t\t\r\n    \t\ta1=(A)p1; //legal\r\n    \t\tp1=(P)a1; //legal\r\n    \t}\r\n    }\r\n\r\nIn this code, the interface P and the class A a are not in the same hierarchy but statements typed to cast interface to class and class to interface are legal. So why this is legal?\r\n\r\n","title":"The following java code is Legal.Why is it legal?","body":"<pre><code>interface P{}\n\nclass A{}\n\nclass Demo{\n    public static void main(String arg[]){\n        A a1=null;\n        P p1=null;\n        \n        a1=(A)p1; //legal\n        p1=(P)a1; //legal\n    }\n}\n</code></pre>\n<p>In this code, the interface P and the class A a are not in the same hierarchy but statements typed to cast interface to class and class to interface are legal. So why this is legal?</p>\n"},{"tags":["java","android","android-fragments","onbackpressed"],"comments":[{"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"score":0,"creation_date":1659876166,"post_id":73267507,"comment_id":129394285,"body_markdown":"Share your code.","body":"Share your code."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1659876585,"post_id":73267507,"comment_id":129394412,"body_markdown":"done please check","body":"done please check"}],"answers":[{"tags":[],"owner":{"account_id":4799770,"reputation":76,"user_id":3876705,"display_name":"San"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659885813,"creation_date":1659885813,"answer_id":73268697,"question_id":73267507,"body_markdown":"You can add a toolbar to your activity, which is the container for these fragments.\r\nThen in your fragments you can do something like this:\r\n\r\n``` kotlin-java\r\nprivate void setupToolbar() {\r\n   YourActivity yourActivity = (YourActivity) getActivity()\r\n   if(yourActivity != null) {\r\n      yourActivity.toolbar.setSkipVisibility(View.GONE) // Or View.VISIBLE\r\n      yourActivity.toolbar.setText() // Set some text\r\n      yourActivity.toolbar.setOnBackButtonClickListener{ yourActivity.onBackPressed() }\r\n   }\r\n}\r\n```","title":"How can i show toolbar back button in fragments in android?","body":"<p>You can add a toolbar to your activity, which is the container for these fragments.\nThen in your fragments you can do something like this:</p>\n<pre><code>private void setupToolbar() {\n   YourActivity yourActivity = (YourActivity) getActivity()\n   if(yourActivity != null) {\n      yourActivity.toolbar.setSkipVisibility(View.GONE) // Or View.VISIBLE\n      yourActivity.toolbar.setText() // Set some text\n      yourActivity.toolbar.setOnBackButtonClickListener{ yourActivity.onBackPressed() }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659936994,"creation_date":1659936994,"answer_id":73273287,"question_id":73267507,"body_markdown":"Follow the steps down below.\r\n\r\n\r\n    fragmentTransaction.replace(R.id.container, NAME);\r\n    fragmentTransaction.addToBackStack(null);  //Add this line\r\n    fragmentTransaction.commit();\r\n  \r\nThis will solve your issue. Thank you.","title":"How can i show toolbar back button in fragments in android?","body":"<p>Follow the steps down below.</p>\n<pre><code>fragmentTransaction.replace(R.id.container, NAME);\nfragmentTransaction.addToBackStack(null);  //Add this line\nfragmentTransaction.commit();\n</code></pre>\n<p>This will solve your issue. Thank you.</p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659936994,"creation_date":1659876127,"question_id":73267507,"body_markdown":"I am working on an android application where I have three fragments I want to show the back button on the toolbar of the fragments to go back to the previous fragments now how can I achieve that?? I am new to android please guide me.\r\n\r\n    public class SecondFragment extends Fragment {\r\n\r\n\r\n\r\n    Button button2;\r\n    private PageViewModel viewModel;\r\n    EditText editTextName, editTextEmail, editTextDesc;\r\n    public SecondFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view =  inflater.inflate(R.layout.fragment_second, container, false);\r\n        button2 = view.findViewById(R.id.next2);\r\n        editTextName = view.findViewById(R.id.edittextName);\r\n        editTextEmail =  view.findViewById(R.id.edditextEmail);\r\n        editTextDesc = view.findViewById(R.id.edittexDesc);\r\n        viewModel = new ViewModelProvider(requireActivity()).get(PageViewModel.class);\r\n        \r\n\r\n\r\n        button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (editTextName.getText().toString().isEmpty() || editTextEmail.getText().toString().isEmpty() || editTextDesc.getText().toString().isEmpty())\r\n                {\r\n\r\n                    editTextName.setError(&quot;Enter name&quot;);\r\n                    editTextEmail.setError(&quot;Enter Email&quot;);\r\n                    editTextDesc.setError(&quot;Enter Description&quot;);\r\n\r\n                }else {\r\n\r\n                 //   viewModel.setName(editTextName.getText().toString());\r\n                    enterName(editTextName.getText().toString());\r\n                    enterEmail(editTextEmail.getText().toString());\r\n                    enterDesc(editTextDesc.getText().toString());\r\n                  //  viewModel.setEmail(editTextEmail.getText().toString());\r\n                  //  viewModel.setDescription(editTextDesc.getText().toString());\r\n                    FragmentTransaction fragmentTransaction = getActivity().getSupportFragmentManager().beginTransaction();\r\n                    Fragment NAME = new LastFragment();\r\n                    fragmentTransaction.replace(R.id.container, NAME);\r\n                    fragmentTransaction.commit();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\nthis is the code of my fragment borther i have three fragments like this i need to add the back button on the toolbar of there three fragemtns","title":"How can i show toolbar back button in fragments in android?","body":"<p>I am working on an android application where I have three fragments I want to show the back button on the toolbar of the fragments to go back to the previous fragments now how can I achieve that?? I am new to android please guide me.</p>\n<pre><code>public class SecondFragment extends Fragment {\n\n\n\nButton button2;\nprivate PageViewModel viewModel;\nEditText editTextName, editTextEmail, editTextDesc;\npublic SecondFragment() {\n    // Required empty public constructor\n}\n\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View view =  inflater.inflate(R.layout.fragment_second, container, false);\n    button2 = view.findViewById(R.id.next2);\n    editTextName = view.findViewById(R.id.edittextName);\n    editTextEmail =  view.findViewById(R.id.edditextEmail);\n    editTextDesc = view.findViewById(R.id.edittexDesc);\n    viewModel = new ViewModelProvider(requireActivity()).get(PageViewModel.class);\n    \n\n\n    button2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            if (editTextName.getText().toString().isEmpty() || editTextEmail.getText().toString().isEmpty() || editTextDesc.getText().toString().isEmpty())\n            {\n\n                editTextName.setError(&quot;Enter name&quot;);\n                editTextEmail.setError(&quot;Enter Email&quot;);\n                editTextDesc.setError(&quot;Enter Description&quot;);\n\n            }else {\n\n             //   viewModel.setName(editTextName.getText().toString());\n                enterName(editTextName.getText().toString());\n                enterEmail(editTextEmail.getText().toString());\n                enterDesc(editTextDesc.getText().toString());\n              //  viewModel.setEmail(editTextEmail.getText().toString());\n              //  viewModel.setDescription(editTextDesc.getText().toString());\n                FragmentTransaction fragmentTransaction = getActivity().getSupportFragmentManager().beginTransaction();\n                Fragment NAME = new LastFragment();\n                fragmentTransaction.replace(R.id.container, NAME);\n                fragmentTransaction.commit();\n            }\n        }\n    });\n\n    return view;\n}\n</code></pre>\n<p>this is the code of my fragment borther i have three fragments like this i need to add the back button on the toolbar of there three fragemtns</p>\n"},{"tags":["java","jvm","javaoptions"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1503481245,"post_id":4967885,"comment_id":78629246,"body_markdown":"Some examples here (not mine ...): http://www.herongyang.com/JVM/Stack-Overflow-Xss-JVM-Option-for-Stack-Size.html","body":"Some examples here (not mine ...): <a href=\"http://www.herongyang.com/JVM/Stack-Overflow-Xss-JVM-Option-for-Stack-Size.html\" rel=\"nofollow noreferrer\">herongyang.com/JVM/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1297419895,"creation_date":1297419895,"answer_id":4967907,"question_id":4967885,"body_markdown":"Each thread has a stack which used for local variables and internal values.  The stack size limits how deep your calls can be.  Generally this is not something you need to change.","title":"JVM option -Xss - What does it do exactly?","body":"<p>Each thread has a stack which used for local variables and internal values.  The stack size limits how deep your calls can be.  Generally this is not something you need to change.</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":1,"up_vote_count":304,"is_accepted":true,"score":303,"last_activity_date":1297419935,"creation_date":1297419935,"answer_id":4967914,"question_id":4967885,"body_markdown":"Each thread in a Java application has its own [stack][1]. The stack is used to hold return addresses, function/method call arguments, etc. So if a thread tends to process large structures via recursive algorithms, it may need a large stack for all those return addresses and such. With the Sun JVM, you can set that size via that parameter.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Stack_(data_structure)","title":"JVM option -Xss - What does it do exactly?","body":"<p>Each thread in a Java application has its own <a href=\"http://en.wikipedia.org/wiki/Stack_(data_structure)\" rel=\"noreferrer\">stack</a>. The stack is used to hold return addresses, function/method call arguments, etc. So if a thread tends to process large structures via recursive algorithms, it may need a large stack for all those return addresses and such. With the Sun JVM, you can set that size via that parameter.</p>\n"},{"tags":[],"owner":{"account_id":287424,"reputation":4523,"user_id":587220,"display_name":"Kellindil"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1399454054,"creation_date":1297420026,"answer_id":4967931,"question_id":4967885,"body_markdown":"If I am not mistaken, this is what tells the JVM how much successive calls it will accept before issuing a StackOverflowError. Not something you wish to change generally.","title":"JVM option -Xss - What does it do exactly?","body":"<p>If I am not mistaken, this is what tells the JVM how much successive calls it will accept before issuing a StackOverflowError. Not something you wish to change generally.</p>\n"},{"tags":[],"owner":{"account_id":396919,"reputation":3944,"user_id":760757,"display_name":"Adam Adamaszek"},"down_vote_count":0,"up_vote_count":200,"is_accepted":false,"score":200,"last_activity_date":1375794674,"creation_date":1348850149,"answer_id":12643977,"question_id":4967885,"body_markdown":"It indeed sets the stack size on a JVM.\r\n\r\nYou should touch it in either of these two situations:\r\n\r\n - **StackOverflowError** (the stack size is greater than the limit), increase the value\r\n - **OutOfMemoryError: unable to create new native thread** (too many threads, each thread has a large stack), decrease it.\r\n\r\nThe latter usually comes when your Xss is set too large - then you need to balance it (testing!)\r\n\r\n\r\n\r\n","title":"JVM option -Xss - What does it do exactly?","body":"<p>It indeed sets the stack size on a JVM.</p>\n\n<p>You should touch it in either of these two situations:</p>\n\n<ul>\n<li><strong>StackOverflowError</strong> (the stack size is greater than the limit), increase the value</li>\n<li><strong>OutOfMemoryError: unable to create new native thread</strong> (too many threads, each thread has a large stack), decrease it.</li>\n</ul>\n\n<p>The latter usually comes when your Xss is set too large - then you need to balance it (testing!)</p>\n"},{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659936956,"creation_date":1659936956,"answer_id":73273281,"question_id":4967885,"body_markdown":"Add my two cents here, besides what mentioned, we can write a simple demo to show the effect of setting Xss. \r\n\r\nGenerally speaking, it controls the stack size arranged to each thread. \r\n\r\n```\r\n    public static void main(String[] args) {\r\n        try{\r\n            recur();\r\n        }catch (StackOverflowError e){\r\n            System.out.println(depth);\r\n        }\r\n    }\r\n\r\n    static int depth = 1;\r\n\r\n    public static void recur(){\r\n        depth++;\r\n        recur();\r\n    }\r\n```\r\n\r\nAfter compiling above code, you will see the `depth` (the invoke hierachy) grows together with the passed `Xss` settings. \r\n\r\nThe output of `java -Xss1m com.eugene.Main` is `21638` and the output of `java -Xss2m com.eugene.Main` is `48325` at my local machine. ","title":"JVM option -Xss - What does it do exactly?","body":"<p>Add my two cents here, besides what mentioned, we can write a simple demo to show the effect of setting Xss.</p>\n<p>Generally speaking, it controls the stack size arranged to each thread.</p>\n<pre><code>    public static void main(String[] args) {\n        try{\n            recur();\n        }catch (StackOverflowError e){\n            System.out.println(depth);\n        }\n    }\n\n    static int depth = 1;\n\n    public static void recur(){\n        depth++;\n        recur();\n    }\n</code></pre>\n<p>After compiling above code, you will see the <code>depth</code> (the invoke hierachy) grows together with the passed <code>Xss</code> settings.</p>\n<p>The output of <code>java -Xss1m com.eugene.Main</code> is <code>21638</code> and the output of <code>java -Xss2m com.eugene.Main</code> is <code>48325</code> at my local machine.</p>\n"}],"owner":{"account_id":166962,"reputation":9253,"user_id":391441,"accept_rate":91,"display_name":"instantsetsuna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279270,"favorite_count":0,"down_vote_count":0,"up_vote_count":278,"accepted_answer_id":4967914,"answer_count":5,"score":278,"last_activity_date":1659936956,"creation_date":1297419766,"question_id":4967885,"body_markdown":"It says [here][1] that -Xss is used to &quot;set thread stack size&quot;, what does it mean exactly? Could anyone help me understand this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6020619/where-to-find-default-xss-value-for-sun-oracle-jvm","title":"JVM option -Xss - What does it do exactly?","body":"<p>It says <a href=\"https://stackoverflow.com/questions/6020619/where-to-find-default-xss-value-for-sun-oracle-jvm\">here</a> that -Xss is used to \"set thread stack size\", what does it mean exactly? Could anyone help me understand this?</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659882562,"post_id":73262516,"comment_id":129395573,"body_markdown":"Can you add the entity and dto classes, and also the mapper?","body":"Can you add the entity and dto classes, and also the mapper?"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659892677,"creation_date":1659889994,"answer_id":73269190,"question_id":73262516,"body_markdown":"If you have only one constructor, it will be used automatically\r\nif not, you can add @Default annotation to the constructor you want to use (i suppose the AllArgsConstructor).\r\n\r\nNote: When using a constructor then the names of the parameters of the constructor will be used and matched to the target properties. \r\n\r\nThen you can create your own annotation to ignore the target properties (in this way, the MapStruct will not use the setter to set the properties) :\r\n\r\n    @Retention(RetentionPolicy.CLASS)\r\n    @Mapping(target = &quot;property1&quot;, ignore = true)\r\n    @Mapping(target = &quot;property2&quot;, ignore = true)\r\n    public @interface DefaultIgnoreMappings { }\r\n\r\nand use it on the mapper method.\r\n\r\n    @DefaultIgnoreMappings\r\n    TargetObject map(SourceObject sourceObject)\r\n\r\nMore info:\r\n\r\n - [mapping-with-constructors][1]\r\n - [mapping-composition][2]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-with-constructors\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#mapping-composition","title":"Is it possible to achieve the same effect as @MappingTarget without using a Setter in MapStruct?","body":"<p>If you have only one constructor, it will be used automatically\nif not, you can add @Default annotation to the constructor you want to use (i suppose the AllArgsConstructor).</p>\n<p>Note: When using a constructor then the names of the parameters of the constructor will be used and matched to the target properties.</p>\n<p>Then you can create your own annotation to ignore the target properties (in this way, the MapStruct will not use the setter to set the properties) :</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Mapping(target = &quot;property1&quot;, ignore = true)\n@Mapping(target = &quot;property2&quot;, ignore = true)\npublic @interface DefaultIgnoreMappings { }\n</code></pre>\n<p>and use it on the mapper method.</p>\n<pre><code>@DefaultIgnoreMappings\nTargetObject map(SourceObject sourceObject)\n</code></pre>\n<p>More info:</p>\n<ul>\n<li><a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-with-constructors\" rel=\"nofollow noreferrer\">mapping-with-constructors</a></li>\n<li><a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\" rel=\"nofollow noreferrer\">mapping-composition</a></li>\n</ul>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73269190,"answer_count":1,"score":1,"last_activity_date":1659936678,"creation_date":1659812303,"question_id":73262516,"body_markdown":"I understand that @MappingTarget must be accompanied by a @Setter.\r\n\r\nHowever, for safety reasons I don&#39;t want to use @Setter for Entity.\r\n\r\nAssuming that the fields of the Update Entity and the fields of the DTO are the same, is there a way to achieve the same effect as using @MappingTarget without using @Setter?\r\n\r\n\r\n    @Entity(name = &quot;ad_config&quot;)\r\n    public class AdConfigEntity extends BaseEntity {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private int adBannerId;\r\n       private String adBannerTitle;\r\n       private String adType;\r\n       private String adCategory;\r\n    }\r\n\r\nand\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public static class UpdateDto {\r\n        private String adType;\r\n        private String adCategory;\r\n    }\r\n\r\nand Don&#39;t have mapper (I don&#39;t know way)\r\n\r\n    void updateEntity(AdConfigDto.UpdateDto updateDto, @MappingTarget AdConfigEntity adConfig);\r\n\r\nI get the same effect as this code. But it&#39;s not usable.\r\n\r\nI don&#39;t want to use setters on entities.\r\n\r\n\r\n","title":"Is it possible to achieve the same effect as @MappingTarget without using a Setter in MapStruct?","body":"<p>I understand that @MappingTarget must be accompanied by a @Setter.</p>\n<p>However, for safety reasons I don't want to use @Setter for Entity.</p>\n<p>Assuming that the fields of the Update Entity and the fields of the DTO are the same, is there a way to achieve the same effect as using @MappingTarget without using @Setter?</p>\n<pre><code>@Entity(name = &quot;ad_config&quot;)\npublic class AdConfigEntity extends BaseEntity {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private int adBannerId;\n   private String adBannerTitle;\n   private String adType;\n   private String adCategory;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@AllArgsConstructor\n@Getter\npublic static class UpdateDto {\n    private String adType;\n    private String adCategory;\n}\n</code></pre>\n<p>and Don't have mapper (I don't know way)</p>\n<pre><code>void updateEntity(AdConfigDto.UpdateDto updateDto, @MappingTarget AdConfigEntity adConfig);\n</code></pre>\n<p>I get the same effect as this code. But it's not usable.</p>\n<p>I don't want to use setters on entities.</p>\n"},{"tags":["java","hashmap","java-11"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1659934515,"post_id":73272566,"comment_id":129404074,"body_markdown":"Optimize in what way?","body":"Optimize in what way?"},{"owner":{"account_id":19685940,"reputation":31,"user_id":14411874,"display_name":"Singh"},"score":0,"creation_date":1659936506,"post_id":73272566,"comment_id":129404320,"body_markdown":"@NikolasCharalambidis reduce a line of code because first we convert a String into map, thereafter replace some value then return a Map. is any way will do in single line?","body":"@NikolasCharalambidis reduce a line of code because first we convert a String into map, thereafter replace some value then return a Map. is any way will do in single line?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1659937561,"post_id":73272566,"comment_id":129404485,"body_markdown":"A single line may look optimized, but it likely means the same to the JVM at runtime while being harder to understand and maintain. The number of lines of code is a bad metric to optimize. Rather use a separate method.","body":"A single line may look optimized, but it likely means the same to the JVM at runtime while being harder to understand and maintain. The number of lines of code is a bad metric to optimize. Rather use a separate method."}],"owner":{"account_id":19685940,"reputation":31,"user_id":14411874,"display_name":"Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659936573,"creation_date":1659927784,"question_id":73272566,"body_markdown":"I have a below code, that working as mention below \r\n\r\nInput \r\n{306c6149db32a01a08acb4aebb87f76a8d83bc0d629c20653c9fcdd81767af0d=576100007700006}\r\n\r\noutput will in HashMap \r\n306c6149db32a01a08acb4aebb87f76a8d83bc0d629c20653c9fcdd81767af0d -&gt; 576100xxxxxx0006\r\n\r\nCode \r\n\r\npublic static Map&lt;String, String&gt; maskCan(String value) {\r\n\r\n    Map&lt;String, String&gt; can = Arrays.stream(value.replaceAll(&quot;[{}]&quot;, &quot; &quot;).split(&quot;,&quot;))\r\n            .map(s -&gt; s.split(&quot;=&quot;, 2))\r\n            .collect(Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()));\r\n\r\n    can.replaceAll((k, v) -&gt; (isEmpty(v)) ? null : v.substring(0, 6) + new String(new char[v.length() - 10]).replaceAll(&quot;\\0&quot;, &quot;x&quot;)\r\n            + v.substring(v.length() - 4));\r\n    return can;\r\n}\r\n\r\n1. convert string into Hash Map \r\n2. replace all middle value from &#39;*&#39;\r\n\r\nWant to achieve\r\n\r\nReduce a line of code because first we convert a String into map, thereafter replace some value then return a Map. is any way will do in single line \r\n\r\nI need to optimise the above code. I am using JDK 11 for this one. ","title":"Convert String into Map and replace Middle Value with &#39;*&#39;","body":"<p>I have a below code, that working as mention below</p>\n<p>Input\n{306c6149db32a01a08acb4aebb87f76a8d83bc0d629c20653c9fcdd81767af0d=576100007700006}</p>\n<p>output will in HashMap\n306c6149db32a01a08acb4aebb87f76a8d83bc0d629c20653c9fcdd81767af0d -&gt; 576100xxxxxx0006</p>\n<p>Code</p>\n<p>public static Map&lt;String, String&gt; maskCan(String value) {</p>\n<pre><code>Map&lt;String, String&gt; can = Arrays.stream(value.replaceAll(&quot;[{}]&quot;, &quot; &quot;).split(&quot;,&quot;))\n        .map(s -&gt; s.split(&quot;=&quot;, 2))\n        .collect(Collectors.toMap(s -&gt; s[0].trim(), s -&gt; s[1].trim()));\n\ncan.replaceAll((k, v) -&gt; (isEmpty(v)) ? null : v.substring(0, 6) + new String(new char[v.length() - 10]).replaceAll(&quot;\\0&quot;, &quot;x&quot;)\n        + v.substring(v.length() - 4));\nreturn can;\n</code></pre>\n<p>}</p>\n<ol>\n<li>convert string into Hash Map</li>\n<li>replace all middle value from '*'</li>\n</ol>\n<p>Want to achieve</p>\n<p>Reduce a line of code because first we convert a String into map, thereafter replace some value then return a Map. is any way will do in single line</p>\n<p>I need to optimise the above code. I am using JDK 11 for this one.</p>\n"},{"tags":["java","linux","google-cloud-platform","cloud","virtual-machine"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659063294,"post_id":73152478,"comment_id":129211417,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659019419,"creation_date":1659019419,"answer_id":73154733,"question_id":73152478,"body_markdown":"&gt; _VM&#39;s are getting created on GCP but I don&#39;t know how to access them._\r\n\r\nThere are many ways you might want to access.\r\n\r\nIf accessing from some other internal GCP resource (like another VM), you can use the private internal IP address.\r\n\r\nIf accessing from outside GCP altogether, such as ssh&#39;ing from your computer to the VM, then you will need to configure a few things to make that work –&#160;create a GCP firewall, assign it a tag, add that tag to your VM. From there, you would be able to ssh to that VM instance like this (replace &quot;us-central1-a&quot; with whatever zone):\r\n\r\n```\r\ngcloud compute ssh \\\r\n--zone &quot;us-central1-a&quot; \\\r\n--project &quot;project-name-here&quot; \\\r\n&quot;vm-instance-name-goes-here&quot;\r\n```\r\n","title":"Can we build username/password for GCP while creating VM","body":"<blockquote>\n<p><em>VM's are getting created on GCP but I don't know how to access them.</em></p>\n</blockquote>\n<p>There are many ways you might want to access.</p>\n<p>If accessing from some other internal GCP resource (like another VM), you can use the private internal IP address.</p>\n<p>If accessing from outside GCP altogether, such as ssh'ing from your computer to the VM, then you will need to configure a few things to make that work – create a GCP firewall, assign it a tag, add that tag to your VM. From there, you would be able to ssh to that VM instance like this (replace &quot;us-central1-a&quot; with whatever zone):</p>\n<pre><code>gcloud compute ssh \\\n--zone &quot;us-central1-a&quot; \\\n--project &quot;project-name-here&quot; \\\n&quot;vm-instance-name-goes-here&quot;\n</code></pre>\n"}],"owner":{"account_id":25916869,"reputation":1,"user_id":19640136,"display_name":"Shivkumar Bingewar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659936363,"creation_date":1659009282,"question_id":73152478,"body_markdown":"I am trying to create VM on Google cloud compute though java code.\r\nVM&#39;s are getting created on GCP but I don&#39;t know how to access them.\r\n\r\nHow we can create username and password while creating VM? Is there any builder or way to add username and password. ?\r\n\r\nThanks in advance !!\r\n\r\nBelow is my code:\r\n```String sourceImage = projects/%s/zones/%s/imageFamilyViews/%s&quot;, operatingSystem, zone, version; String diskType = String.format(&quot;projects/%s/zones/%s/diskTypes/%s&quot;, projectId, zone, bootDiskType)\r\n\r\nprivate void createVMInstance(String projectId, String sourceImage, String zone, String diskType, String vmName, String vmSize)\r\n            throws IOException, InterruptedException, ExecutionException, TimeoutException {\r\n        String machineType = String.format(&quot;zones/%s/machineTypes/n1-standard-1&quot;, zone);\r\n        long diskSizeGb = Long.parseLong(vmSize);\r\n        String networkName = &quot;default&quot;;\r\n        InstancesSettings instancesSettings = InstancesSettings.newBuilder()\r\n                .setCredentialsProvider(FixedCredentialsProvider.create(googleCredential)).build();\r\n        try (InstancesClient instancesClient = InstancesClient.create(instancesSettings)) {\r\n            // Instance creation requires at least one persistent disk and one network interface.\r\n            AttachedDisk disk = AttachedDisk.newBuilder().setBoot(true).setAutoDelete(true).setType(AttachedDisk.Type.PERSISTENT.toString())\r\n                    .setDeviceName(&quot;disk-1&quot;).setInitializeParams(AttachedDiskInitializeParams.newBuilder()\r\n                            .setSourceImage(sourceImage).setDiskSizeGb(diskSizeGb).setDiskType(diskType).build()).build();\r\n            NetworkInterface networkInterface = NetworkInterface.newBuilder()\r\n                    .setName(networkName).build();\r\n            // Bind `instanceName`, `machineType`, `disk`, and `networkInterface` to an instance.\r\n            Instance instanceResource = Instance.newBuilder().setName(vmName).setMachineType(machineType)\r\n                    .addDisks(disk).addNetworkInterfaces(networkInterface).build();\r\n            // Insert the instance in the specified project and zone.\r\n            InsertInstanceRequest insertInstanceRequest = InsertInstanceRequest.newBuilder().setProject(projectId)\r\n                    .setZone(zone).setInstanceResource(instanceResource).build();\r\n            OperationFuture&lt;Operation, Operation&gt; operation = instancesClient.insertAsync(\r\n                    insertInstanceRequest);\r\n            // Wait for the operation to complete.\r\n            Operation response = operation.get(3, TimeUnit.MINUTES);\r\n            if (response.hasError()) {\r\n                throw new GCPConnectorException(&quot;GCP VM : Failed to create VM in GCP.&quot; + response);\r\n            }\r\n        }\r\n    }```","title":"Can we build username/password for GCP while creating VM","body":"<p>I am trying to create VM on Google cloud compute though java code.\nVM's are getting created on GCP but I don't know how to access them.</p>\n<p>How we can create username and password while creating VM? Is there any builder or way to add username and password. ?</p>\n<p>Thanks in advance !!</p>\n<p>Below is my code:</p>\n<pre><code>\nprivate void createVMInstance(String projectId, String sourceImage, String zone, String diskType, String vmName, String vmSize)\n            throws IOException, InterruptedException, ExecutionException, TimeoutException {\n        String machineType = String.format(&quot;zones/%s/machineTypes/n1-standard-1&quot;, zone);\n        long diskSizeGb = Long.parseLong(vmSize);\n        String networkName = &quot;default&quot;;\n        InstancesSettings instancesSettings = InstancesSettings.newBuilder()\n                .setCredentialsProvider(FixedCredentialsProvider.create(googleCredential)).build();\n        try (InstancesClient instancesClient = InstancesClient.create(instancesSettings)) {\n            // Instance creation requires at least one persistent disk and one network interface.\n            AttachedDisk disk = AttachedDisk.newBuilder().setBoot(true).setAutoDelete(true).setType(AttachedDisk.Type.PERSISTENT.toString())\n                    .setDeviceName(&quot;disk-1&quot;).setInitializeParams(AttachedDiskInitializeParams.newBuilder()\n                            .setSourceImage(sourceImage).setDiskSizeGb(diskSizeGb).setDiskType(diskType).build()).build();\n            NetworkInterface networkInterface = NetworkInterface.newBuilder()\n                    .setName(networkName).build();\n            // Bind `instanceName`, `machineType`, `disk`, and `networkInterface` to an instance.\n            Instance instanceResource = Instance.newBuilder().setName(vmName).setMachineType(machineType)\n                    .addDisks(disk).addNetworkInterfaces(networkInterface).build();\n            // Insert the instance in the specified project and zone.\n            InsertInstanceRequest insertInstanceRequest = InsertInstanceRequest.newBuilder().setProject(projectId)\n                    .setZone(zone).setInstanceResource(instanceResource).build();\n            OperationFuture&lt;Operation, Operation&gt; operation = instancesClient.insertAsync(\n                    insertInstanceRequest);\n            // Wait for the operation to complete.\n            Operation response = operation.get(3, TimeUnit.MINUTES);\n            if (response.hasError()) {\n                throw new GCPConnectorException(&quot;GCP VM : Failed to create VM in GCP.&quot; + response);\n            }\n        }\n    }```\n</code></pre>\n"},{"tags":["java","spring","rest","http","spring-boot"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1496605550,"post_id":44358102,"comment_id":75718218,"body_markdown":"The value of the `clipmessage` field needs to be URL encoded.","body":"The value of the <code>clipmessage</code> field needs to be URL encoded."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1496605638,"post_id":44358102,"comment_id":75718231,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html. And frankly, sending hand-crafted JSON as the value of a unique POST parameter is really ugly. Why don&#39;t you just send a JSON body?","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html</a>. And frankly, sending hand-crafted JSON as the value of a unique POST parameter is really ugly. Why don&#39;t you just send a JSON body?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1496605984,"post_id":44358102,"comment_id":75718307,"body_markdown":"Since you&#39;re using Spring and a `RestTemplate`, just build a `MultiValueMap` as shown in the javadoc of [`FormHttpMessageConverter`](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html).","body":"Since you&#39;re using Spring and a <code>RestTemplate</code>, just build a <code>MultiValueMap</code> as shown in the javadoc of <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>FormHttpMessageConverter</code></a>."},{"owner":{"account_id":7110120,"reputation":127,"user_id":5438371,"accept_rate":54,"display_name":"Viktor Plane"},"score":0,"creation_date":1496606107,"post_id":44358102,"comment_id":75718333,"body_markdown":"It&#39;s the Philips Hue Remote API that requires it to be like that, ugly as hell, of course I would prefer a simple JSON body.","body":"It&#39;s the Philips Hue Remote API that requires it to be like that, ugly as hell, of course I would prefer a simple JSON body."},{"owner":{"account_id":7110120,"reputation":127,"user_id":5438371,"accept_rate":54,"display_name":"Viktor Plane"},"score":0,"creation_date":1496606492,"post_id":44358102,"comment_id":75718419,"body_markdown":"@Andreas Can&#39;t get it to work with a MultiValueMap either. Created one with &lt;String, String&gt; and added value clipmessage, and added the body minus clipmessage=","body":"@Andreas Can&#39;t get it to work with a MultiValueMap either. Created one with &lt;String, String&gt; and added value clipmessage, and added the body minus clipmessage="},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1496614359,"post_id":44358102,"comment_id":75720437,"body_markdown":"@ViktorPlane Impossible to determine if you did it right, unless you edit the question and show what you&#39;ve tried.","body":"@ViktorPlane Impossible to determine if you did it right, unless you edit the question and show what you&#39;ve tried."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496644514,"post_id":44358102,"comment_id":75727497,"body_markdown":"what do you send in Postman and with the `RestTemplate`. Looks like you are trying to send a body that should actually be parameters. A body is a request body and isn&#39;t the same as parameters.","body":"what do you send in Postman and with the <code>RestTemplate</code>. Looks like you are trying to send a body that should actually be parameters. A body is a request body and isn&#39;t the same as parameters."},{"owner":{"account_id":7110120,"reputation":127,"user_id":5438371,"accept_rate":54,"display_name":"Viktor Plane"},"score":0,"creation_date":1496650349,"post_id":44358102,"comment_id":75730232,"body_markdown":"The exact data that was in body String in my initial code, it worked perfectly fine with Postman.","body":"The exact data that was in body String in my initial code, it worked perfectly fine with Postman."},{"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1560347216,"post_id":44358102,"comment_id":99706988,"body_markdown":"FWIW you can set the content type more directly: `headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED)`","body":"FWIW you can set the content type more directly: <code>headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED&zwnj;&#8203;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":976957,"reputation":420,"user_id":997801,"accept_rate":100,"display_name":"Ramgau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659935977,"creation_date":1659935977,"answer_id":73273200,"question_id":44358102,"body_markdown":"I have the same scenario. solved after using the following code :\r\n\r\n      restTemplate = new RestTemplate();\r\n\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n        FormHttpMessageConverter formMessageConverter = new FormHttpMessageConverter();\r\n        messageConverters.add(formMessageConverter);\r\n        messageConverters.add(converter);\r\n        restTemplate.setMessageConverters(messageConverters);\r\n\r\nParameters and headerpart\r\n\r\n    ...\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\r\n            parameters.add(&quot;signature&quot;, &quot;signature&quot;);\r\n            //other parameters\r\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(parameters, headers);\r\n    ResponseEntity&lt;ResponseMessage&gt; responseEntity = restTemplate.postForEntity(url,  requestEntity, ResponseMessage.class);\r\n    ResponseMessage respMsg =responseEntity.getBody();\r\n    logMsg.append(&quot;,HTTP STATUS=&quot;).append(responseEntity.getStatusCode()).append(&quot;, RES:&quot;).append(marshal(respMsg));\r\n\r\n","title":"POST x-www-form-urlencoded","body":"<p>I have the same scenario. solved after using the following code :</p>\n<pre><code>  restTemplate = new RestTemplate();\n\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n    converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n    FormHttpMessageConverter formMessageConverter = new FormHttpMessageConverter();\n    messageConverters.add(formMessageConverter);\n    messageConverters.add(converter);\n    restTemplate.setMessageConverters(messageConverters);\n</code></pre>\n<p>Parameters and headerpart</p>\n<pre><code>...\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\nMultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\n        parameters.add(&quot;signature&quot;, &quot;signature&quot;);\n        //other parameters\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(parameters, headers);\nResponseEntity&lt;ResponseMessage&gt; responseEntity = restTemplate.postForEntity(url,  requestEntity, ResponseMessage.class);\nResponseMessage respMsg =responseEntity.getBody();\nlogMsg.append(&quot;,HTTP STATUS=&quot;).append(responseEntity.getStatusCode()).append(&quot;, RES:&quot;).append(marshal(respMsg));\n</code></pre>\n"}],"owner":{"account_id":7110120,"reputation":127,"user_id":5438371,"accept_rate":54,"display_name":"Viktor Plane"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6944,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659935977,"creation_date":1496605387,"question_id":44358102,"body_markdown":"I&#39;ve been reading [the following](https://stackoverflow.com/questions/19900657/how-to-connect-backend-service-with-philips-hue-bridge-remotely) and trying to send a POST request with Spring Boot, using RestTemplate.\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n\theaders.add(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\t\t\r\n\tfinal String body = &quot;clipmessage={ bridgeId: \\&quot;&quot; + user.getBridgeId() + &quot;\\&quot;, clipCommand: { url: \\&quot;&quot; + setLightState(&quot;3&quot;) + &quot;\\&quot;, method: \\&quot;PUT\\&quot;, body: { \\&quot;on\\&quot;: &quot; + state.isOn() + &quot; } } }&quot;;\r\n    final String url = API_ADDRESS + user.getAccessToken();\r\n\r\n\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n\trestTemplate.postForEntity(url, entity, String.class);\r\n\r\nIf I log the URL and the body and send the exact same in Postman, it succeeds. However, not when I send it from my Spring Boot application.\r\n\r\nI&#39;m guessing that special body has to be sent in some special way which that I am not aware off?\r\n\r\nAnyone has any tips on what to try here next?\r\n\r\n**UPDATE 1:**\r\nI tried the MultiValueMap as suggested, but did not get that to work either.\r\n\r\n    MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n\t\r\n    final String body = &quot;{ bridgeId: \\&quot;&quot; + user.getBridgeId() + &quot;\\&quot;, clipCommand: { url: \\&quot;&quot; + setLightState(&quot;3&quot;) + &quot;\\&quot;, method: \\&quot;PUT\\&quot;, body: { \\&quot;on\\&quot;: &quot; + state.isOn() + &quot; } } }&quot;;\r\n\r\n    map.add(&quot;clipmessage&quot;, body);\r\n\t\t\r\n\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(body, headers);","title":"POST x-www-form-urlencoded","body":"<p>I've been reading <a href=\"https://stackoverflow.com/questions/19900657/how-to-connect-backend-service-with-philips-hue-bridge-remotely\">the following</a> and trying to send a POST request with Spring Boot, using RestTemplate.</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.add(\"content-type\", \"application/x-www-form-urlencoded\");\n\nfinal String body = \"clipmessage={ bridgeId: \\\"\" + user.getBridgeId() + \"\\\", clipCommand: { url: \\\"\" + setLightState(\"3\") + \"\\\", method: \\\"PUT\\\", body: { \\\"on\\\": \" + state.isOn() + \" } } }\";\nfinal String url = API_ADDRESS + user.getAccessToken();\n\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(body, headers);\n\nrestTemplate.postForEntity(url, entity, String.class);\n</code></pre>\n\n<p>If I log the URL and the body and send the exact same in Postman, it succeeds. However, not when I send it from my Spring Boot application.</p>\n\n<p>I'm guessing that special body has to be sent in some special way which that I am not aware off?</p>\n\n<p>Anyone has any tips on what to try here next?</p>\n\n<p><strong>UPDATE 1:</strong>\nI tried the MultiValueMap as suggested, but did not get that to work either.</p>\n\n<pre><code>MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\n\nfinal String body = \"{ bridgeId: \\\"\" + user.getBridgeId() + \"\\\", clipCommand: { url: \\\"\" + setLightState(\"3\") + \"\\\", method: \\\"PUT\\\", body: { \\\"on\\\": \" + state.isOn() + \" } } }\";\n\nmap.add(\"clipmessage\", body);\n\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(body, headers);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","skywalking"],"comments":[{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":0,"creation_date":1659935786,"post_id":73273095,"comment_id":129404224,"body_markdown":"What does Retained Heap signify?","body":"What does Retained Heap signify?"},{"owner":{"account_id":8295416,"reputation":103,"user_id":6235811,"display_name":"CloudSen"},"score":0,"creation_date":1659936042,"post_id":73273095,"comment_id":129404259,"body_markdown":"@DeepakPatankar Retained heap is the amount of memory that will be freed when the particular object is garbage collected.","body":"@DeepakPatankar Retained heap is the amount of memory that will be freed when the particular object is garbage collected."},{"owner":{"account_id":4199729,"reputation":2261,"user_id":3440152,"display_name":"Christoph"},"score":0,"creation_date":1663769728,"post_id":73273095,"comment_id":130317789,"body_markdown":"Were you able to resolve the issue in the meantime? I am facing the same issue with (at least) one of our SB services. Which SB version are you using? This SB issue report here states that they started seeing possibly the same issue starting with 2.7.1. https://github.com/spring-projects/spring-boot/issues/32071","body":"Were you able to resolve the issue in the meantime? I am facing the same issue with (at least) one of our SB services. Which SB version are you using? This SB issue report here states that they started seeing possibly the same issue starting with 2.7.1. <a href=\"https://github.com/spring-projects/spring-boot/issues/32071\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/32071</a>"}],"owner":{"account_id":8295416,"reputation":103,"user_id":6235811,"display_name":"CloudSen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659935882,"creation_date":1659934862,"question_id":73273095,"body_markdown":"When using Skywalking, the Eclipse MAT shows that **JarFile and JarFileWrapper consume a lot of memory and continue to grow**.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nAs you can see, **Jarfile has risen from 184m to 469m，And there are more and more objects**.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd the GC ROOTS contains: \r\n- org.apache.skywalking.apm.dependencies.io.netty.util.concurrent.FastThreadLocalThread\r\n- com.dianping.cat.util.Threads$RunnableThread\r\n- java.lang.Thread\r\n- java.lang.ref.Finalizer\r\n- java.lang.Thread\r\n\r\nHow do I find the root cause of the problem?\r\n\r\nVersion Info:  \r\n- Skywalking: 8.2.0\r\n- SpringBoot: 2.3.3-RELEASE\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ktxgc.png\r\n  [2]: https://i.stack.imgur.com/tRJIv.png\r\n  [3]: https://i.stack.imgur.com/fFuTd.png","title":"Why org.springFramework.Boot.loader.jar.JarFile causes memory leak","body":"<p>When using Skywalking, the Eclipse MAT shows that <strong>JarFile and JarFileWrapper consume a lot of memory and continue to grow</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/Ktxgc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ktxgc.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/tRJIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tRJIv.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, <strong>Jarfile has risen from 184m to 469m，And there are more and more objects</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/fFuTd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fFuTd.png\" alt=\"enter image description here\" /></a></p>\n<p>And the GC ROOTS contains:</p>\n<ul>\n<li>org.apache.skywalking.apm.dependencies.io.netty.util.concurrent.FastThreadLocalThread</li>\n<li>com.dianping.cat.util.Threads$RunnableThread</li>\n<li>java.lang.Thread</li>\n<li>java.lang.ref.Finalizer</li>\n<li>java.lang.Thread</li>\n</ul>\n<p>How do I find the root cause of the problem?</p>\n<p>Version Info:</p>\n<ul>\n<li>Skywalking: 8.2.0</li>\n<li>SpringBoot: 2.3.3-RELEASE</li>\n</ul>\n"},{"tags":["java","time-complexity","binary-search-tree"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1659930934,"post_id":73272763,"comment_id":129403642,"body_markdown":"The number of times each loop is iterated is typically way less than `n`, in this scenario.  The total number of iterations of the inner loop is `n`, regardless of how many loops there are, and that&#39;s what controls the big-O.","body":"The number of times each loop is iterated is typically way less than <code>n</code>, in this scenario.  The total number of iterations of the inner loop is <code>n</code>, regardless of how many loops there are, and that&#39;s what controls the big-O."}],"answers":[{"tags":[],"owner":{"account_id":13464302,"reputation":380,"user_id":9715185,"display_name":"e.ad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659935319,"creation_date":1659935319,"answer_id":73273142,"question_id":73272763,"body_markdown":"You can observe that each node of the tree is being ‘visited’ 3 times:\r\n 1. When this node is added to the stack\r\n 2. When you popped all the nodes from the stack that are from the left branch of that node\r\n 3. Similarly for the right branch of that node\r\n\r\n\r\nThis means we are in a case of 3n which is O(n)","title":"Time Complexity from LeetCode","body":"<p>You can observe that each node of the tree is being ‘visited’ 3 times:</p>\n<ol>\n<li>When this node is added to the stack</li>\n<li>When you popped all the nodes from the stack that are from the left branch of that node</li>\n<li>Similarly for the right branch of that node</li>\n</ol>\n<p>This means we are in a case of 3n which is O(n)</p>\n"}],"owner":{"account_id":25555739,"reputation":5,"user_id":19339333,"display_name":"dhhhhhhh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659935319,"creation_date":1659930624,"question_id":73272763,"body_markdown":"This is the code from LeetCode94. Binary Tree Inorder Traversal\r\n\r\n    class Solution {\r\n    public List&lt;Integer&gt; inorderTraversal(TreeNode root) {\r\n        Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\r\n        List&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n        \r\n        if(root == null){\r\n            return arr;\r\n        }\r\n        TreeNode curr = root;\r\n        \r\n        while(curr != null || !stack.isEmpty()){\r\n            while(curr != null){\r\n                stack.push(curr);\r\n                curr = curr.left;\r\n            }\r\n            curr = stack.pop();\r\n            arr.add(curr.val);\r\n            curr = curr.right;\r\n        }\r\n        return arr;\r\n    }\r\nHow is the time complexity O(n)? Is that just because it iterates all nodes once?\r\nI thought it would be O(n^2) since I have double while loop.","title":"Time Complexity from LeetCode","body":"<p>This is the code from LeetCode94. Binary Tree Inorder Traversal</p>\n<pre><code>class Solution {\npublic List&lt;Integer&gt; inorderTraversal(TreeNode root) {\n    Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();\n    List&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n    \n    if(root == null){\n        return arr;\n    }\n    TreeNode curr = root;\n    \n    while(curr != null || !stack.isEmpty()){\n        while(curr != null){\n            stack.push(curr);\n            curr = curr.left;\n        }\n        curr = stack.pop();\n        arr.add(curr.val);\n        curr = curr.right;\n    }\n    return arr;\n}\n</code></pre>\n<p>How is the time complexity O(n)? Is that just because it iterates all nodes once?\nI thought it would be O(n^2) since I have double while loop.</p>\n"},{"tags":["java","performance","binary-tree","tree-traversal","inorder"],"comments":[{"owner":{"account_id":2331745,"reputation":1,"user_id":2045010,"display_name":"thelegend"},"score":0,"creation_date":1360252410,"post_id":14719240,"comment_id":20650944,"body_markdown":"Somebody can explain why Morris Traversal is slower?","body":"Somebody can explain why Morris Traversal is slower?"}],"answers":[{"tags":[],"owner":{"account_id":293796,"reputation":13141,"user_id":597310,"accept_rate":80,"display_name":"dfb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360109871,"creation_date":1360109871,"answer_id":14719423,"question_id":14719240,"body_markdown":"It&#39;s hard to tell without breaking the performance estimate into their components, but the Morris Traversal essentially traverses part of the tree twice when tracing back the nodes with the fake right part.  You&#39;re also doing more work inside the Morris loop, so the constant factor is going to be larger.  It&#39;s curious that it&#39;s almost 2x, but I wouldn&#39;t rely on that being the actual cost without further details.","title":"Performance of Morris Traversal vs recursive In-Order in a binary tree","body":"<p>It's hard to tell without breaking the performance estimate into their components, but the Morris Traversal essentially traverses part of the tree twice when tracing back the nodes with the fake right part.  You're also doing more work inside the Morris loop, so the constant factor is going to be larger.  It's curious that it's almost 2x, but I wouldn't rely on that being the actual cost without further details.</p>\n"},{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360110825,"creation_date":1360110825,"answer_id":14719573,"question_id":14719240,"body_markdown":"You don&#39;t have a warm-up pass.  You should first execute both methods, and then execute them again with timing.  You&#39;re also ignoring the fact that most Java code runs in long-running processes, which eventually compiles to machine code.  I would try using a smaller tree and executing the traversal many times.","title":"Performance of Morris Traversal vs recursive In-Order in a binary tree","body":"<p>You don't have a warm-up pass.  You should first execute both methods, and then execute them again with timing.  You're also ignoring the fact that most Java code runs in long-running processes, which eventually compiles to machine code.  I would try using a smaller tree and executing the traversal many times.</p>\n"},{"tags":[],"owner":{"account_id":15388297,"reputation":21,"user_id":11101797,"display_name":"Vikram Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586921246,"creation_date":1586921246,"answer_id":61220835,"question_id":14719240,"body_markdown":"See Here you have to understand the logic . Just do dry run to morris inorder traversal let say it takes time 2k. Now do dry run for the recursive inorder traversal I am pretty much sure that you will find the time more or less k.\r\nLogic here is that Morris inorder traversal is taking more or less two times the time taken by the inorder traversal because we reaching to every node at most 2 time. once for creating dummy right link and another for removing that right link.\r\n\r\nNow, if you are interested in space complexity then morris inorder traversal is like a king. here you don&#39;t need extra space. it&#39;s space complexity is O(1), however space complexity of the recursive inorder traversal is O(n).\r\nHope Now u can understand the uses of both the traversal strategy. :)","title":"Performance of Morris Traversal vs recursive In-Order in a binary tree","body":"<p>See Here you have to understand the logic . Just do dry run to morris inorder traversal let say it takes time 2k. Now do dry run for the recursive inorder traversal I am pretty much sure that you will find the time more or less k.\nLogic here is that Morris inorder traversal is taking more or less two times the time taken by the inorder traversal because we reaching to every node at most 2 time. once for creating dummy right link and another for removing that right link.</p>\n\n<p>Now, if you are interested in space complexity then morris inorder traversal is like a king. here you don't need extra space. it's space complexity is O(1), however space complexity of the recursive inorder traversal is O(n).\nHope Now u can understand the uses of both the traversal strategy. :)</p>\n"}],"owner":{"account_id":2331745,"reputation":1,"user_id":2045010,"display_name":"thelegend"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659934324,"creation_date":1360108823,"question_id":14719240,"body_markdown":"I am doing some preparations before going to interviews and i just learned about Morris Traversal.\r\n \r\nThis is Morris Traversal code which i wrote in Java(its working):\r\n\r\n    protected void morrisTraversal(){\r\n\t\tBinaryNode pre = null;//BinaryNode is a class which represent a node in the tree\r\n\t\tBinaryNode current = this.root;//root is the root of the tree\r\n\t\twhile(current != null){\r\n\t\t\tif(current.getLeftChild() == null){\r\n\t\t\t\tSystem.out.println(current.getNodeData().getId());//id is unique\r\n\t\t\t\tcurrent = current.getRightChild();\r\n\t\t\t}//if\r\n\t\t\telse{\r\n\t\t\t\tpre = current.getLeftChild();\r\n\t\t\t\twhile(pre.getRightChild() != null &amp;&amp; pre.getRightChild().getNodeData().getId() != current.getNodeData().getId())\r\n\t\t\t\t\tpre = pre.getRightChild();\r\n\t\t\t\tif(pre.getRightChild() == null){\r\n\t\t\t\t\tpre.setRightChild(current);\r\n\t\t\t\t\tcurrent = current.getLeftChild();\r\n\t\t\t\t}//if\r\n\t\t\t\telse{\r\n\t\t\t\t\tSystem.out.println(current.getNodeData().getId());\r\n\t\t\t\t\tcurrent = current.getRightChild();\r\n\t\t\t\t\tpre.setRightChild(null);\r\n\t\t\t\t}//else\r\n\t\t\t}//else\r\n\t\t}//while\r\n\t}//MorrisTraversal\r\nAnd here is my code for the In-Order method:\r\n\r\n    protected void recInOrder()\t{\r\n\t\tif(this.root != null)\r\n\t\t\trecInOrderHelper(this.root);\r\n\t    else\r\n\t\t    System.out.println(&quot;The Tree Is Empty&quot;);;\r\n    }//recInOrder\r\n\t\r\n\t\r\n\tprivate void recInOrderHelper(BinaryNode node)\t{\r\n\t\tif(node != null){\r\n\t\t\trecInOrderHelper(node.getLeftChild());\r\n\t\t\tSystem.out.println(node.getNodeData().getId());\r\n\t\t\trecInOrderHelper(node.getRightChild());\r\n\t\t}\r\n\t}//recInOrderHelper\r\nAnd what i did in my main is:\r\nI inserted to my binary tree 70,000,000 nodes and then i did the next little checking:\r\n\r\n    long start = System.currentTimeMillis();\r\n\ttree4.morrisTraversalInOrder();\r\n\tSystem.out.println(&quot;morris traversal TOOK: &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n\t\t\r\n\tstart = System.currentTimeMillis();\r\n\ttree4.recInOrder();\r\n\tSystem.out.println(&quot;recursive in-order TOOK: &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n\r\nAnd the results surprised me!\r\n\r\nThose are the results:\r\n\r\nMorris Traversal TOOK:  637 ms\r\n\r\nRecursive In-Order TOOK: 367 ms\r\n\r\n**NOTICE - when i did this test i commented all the System.out.println(...) from morrisTraversal() and from recInOrderHelper() methods.**\r\n\r\n\r\nThose results surprised me because i thought that Morris Traversal will be faster because its iterative(doesn&#39;t open stack frames etc) and In-Order is recursive(open approximately 70,000,000 stack frames for each recursive call)\r\n\r\nI know that both of them are O(n),\r\nSo obviously i am wrong about some things, but which? what am i missing? why Morris Traversal is much slower than recursive In-Order?\r\n\r\n\r\n\r\n\r\n\r\n**EDIT** - I also did the next testing:\r\ninstead of inserting 70,000,000 nodes to the tree I inserted 100,000 nodes\r\nAnd I did ran the next code:\r\n\r\n    //running the two algorithms one time before doing the actual test(but in the same execution)\r\n    tree4.recInOrder();\r\n    tree4.morrisTraversalInOrder();\r\n\r\n    //starting the actual test\r\n    long start = System.currentTimeMillis();\r\n\tfor(i = 0; i &lt; 100000; i++){\r\n\t\ttree4.recInOrder();\t\r\n\t}\r\n\tSystem.out.println(&quot;Recursive In-Order TOOK: &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n\t\t\r\n\tstart = System.currentTimeMillis();\r\n\tfor(i = 0; i &lt; 100000; i++){\r\n\t\ttree4.morrisTraversalInOrder();\t\r\n\t}\r\n\tSystem.out.println(&quot;Morris Traversal TOOK: &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n\r\nAnd the results are:\r\n\r\nRecursive In-Order TOOK: 214434 ms\r\n\r\nMorris Traversal TOOK: 502786 ms\r\n\r\nAnd as you can see Morris Traversal is still very slow compared to recursive In-Order.\r\nSo I did another testing and only inserted 1,000 nodes and ran each code only 10,000 times\r\nand the result are:\r\n\r\nRecursive In-Order TOOK: 44 ms\r\n\r\nMorris Traversal TOOK: 97 ms\r\n\r\nI still don&#39;t get it? why Morris Traversal is slower?","title":"Performance of Morris Traversal vs recursive In-Order in a binary tree","body":"<p>I am doing some preparations before going to interviews and i just learned about Morris Traversal.</p>\n\n<p>This is Morris Traversal code which i wrote in Java(its working):</p>\n\n<pre><code>protected void morrisTraversal(){\n    BinaryNode pre = null;//BinaryNode is a class which represent a node in the tree\n    BinaryNode current = this.root;//root is the root of the tree\n    while(current != null){\n        if(current.getLeftChild() == null){\n            System.out.println(current.getNodeData().getId());//id is unique\n            current = current.getRightChild();\n        }//if\n        else{\n            pre = current.getLeftChild();\n            while(pre.getRightChild() != null &amp;&amp; pre.getRightChild().getNodeData().getId() != current.getNodeData().getId())\n                pre = pre.getRightChild();\n            if(pre.getRightChild() == null){\n                pre.setRightChild(current);\n                current = current.getLeftChild();\n            }//if\n            else{\n                System.out.println(current.getNodeData().getId());\n                current = current.getRightChild();\n                pre.setRightChild(null);\n            }//else\n        }//else\n    }//while\n}//MorrisTraversal\n</code></pre>\n\n<p>And here is my code for the In-Order method:</p>\n\n<pre><code>protected void recInOrder() {\n    if(this.root != null)\n        recInOrderHelper(this.root);\n    else\n        System.out.println(\"The Tree Is Empty\");;\n}//recInOrder\n\n\nprivate void recInOrderHelper(BinaryNode node)  {\n    if(node != null){\n        recInOrderHelper(node.getLeftChild());\n        System.out.println(node.getNodeData().getId());\n        recInOrderHelper(node.getRightChild());\n    }\n}//recInOrderHelper\n</code></pre>\n\n<p>And what i did in my main is:\nI inserted to my binary tree 70,000,000 nodes and then i did the next little checking:</p>\n\n<pre><code>long start = System.currentTimeMillis();\ntree4.morrisTraversalInOrder();\nSystem.out.println(\"morris traversal TOOK: \" + (System.currentTimeMillis() - start) + \" ms\");\n\nstart = System.currentTimeMillis();\ntree4.recInOrder();\nSystem.out.println(\"recursive in-order TOOK: \" + (System.currentTimeMillis() - start) + \" ms\");\n</code></pre>\n\n<p>And the results surprised me!</p>\n\n<p>Those are the results:</p>\n\n<p>Morris Traversal TOOK:  637 ms</p>\n\n<p>Recursive In-Order TOOK: 367 ms</p>\n\n<p><strong>NOTICE - when i did this test i commented all the System.out.println(...) from morrisTraversal() and from recInOrderHelper() methods.</strong></p>\n\n<p>Those results surprised me because i thought that Morris Traversal will be faster because its iterative(doesn't open stack frames etc) and In-Order is recursive(open approximately 70,000,000 stack frames for each recursive call)</p>\n\n<p>I know that both of them are O(n),\nSo obviously i am wrong about some things, but which? what am i missing? why Morris Traversal is much slower than recursive In-Order?</p>\n\n<p><strong>EDIT</strong> - I also did the next testing:\ninstead of inserting 70,000,000 nodes to the tree I inserted 100,000 nodes\nAnd I did ran the next code:</p>\n\n<pre><code>//running the two algorithms one time before doing the actual test(but in the same execution)\ntree4.recInOrder();\ntree4.morrisTraversalInOrder();\n\n//starting the actual test\nlong start = System.currentTimeMillis();\nfor(i = 0; i &lt; 100000; i++){\n    tree4.recInOrder(); \n}\nSystem.out.println(\"Recursive In-Order TOOK: \" + (System.currentTimeMillis() - start) + \" ms\");\n\nstart = System.currentTimeMillis();\nfor(i = 0; i &lt; 100000; i++){\n    tree4.morrisTraversalInOrder(); \n}\nSystem.out.println(\"Morris Traversal TOOK: \" + (System.currentTimeMillis() - start) + \" ms\");\n</code></pre>\n\n<p>And the results are:</p>\n\n<p>Recursive In-Order TOOK: 214434 ms</p>\n\n<p>Morris Traversal TOOK: 502786 ms</p>\n\n<p>And as you can see Morris Traversal is still very slow compared to recursive In-Order.\nSo I did another testing and only inserted 1,000 nodes and ran each code only 10,000 times\nand the result are:</p>\n\n<p>Recursive In-Order TOOK: 44 ms</p>\n\n<p>Morris Traversal TOOK: 97 ms</p>\n\n<p>I still don't get it? why Morris Traversal is slower?</p>\n"},{"tags":["java","azure","proxy","storage"],"answers":[{"tags":[],"owner":{"account_id":11159122,"reputation":2112,"user_id":8189867,"display_name":"SumanthMarigowda-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659934186,"creation_date":1659934186,"answer_id":73273039,"question_id":72883548,"body_markdown":"You need to configure ProxyOptions and set them on the httpClientBuilder. All our Storage client builders have a .httpClient() method that accepts a client, and you can build a client with all defaults + the proxy options using a NettyAsyncClientBuilder(), which has a .proxyOptions() method. Please give that a try and let me know if you have any more issues. \r\nSample : [azure-sdk-for-java/sdk/storage/azure-storage-blob at main &#183; Azure/azure-sdk-for-java][1] (github.com)\r\n\r\n\r\n  [1]: https://github.com/Azure/azure-sdk-for-java/tree/main/sdk/storage/azure-storage-blob#set-a-proxy-when-building-a-client","title":"Azure Storage - Proxy Setting in Java Code","body":"<p>You need to configure ProxyOptions and set them on the httpClientBuilder. All our Storage client builders have a .httpClient() method that accepts a client, and you can build a client with all defaults + the proxy options using a NettyAsyncClientBuilder(), which has a .proxyOptions() method. Please give that a try and let me know if you have any more issues.\nSample : <a href=\"https://github.com/Azure/azure-sdk-for-java/tree/main/sdk/storage/azure-storage-blob#set-a-proxy-when-building-a-client\" rel=\"nofollow noreferrer\">azure-sdk-for-java/sdk/storage/azure-storage-blob at main · Azure/azure-sdk-for-java</a> (github.com)</p>\n"}],"owner":{"account_id":25740622,"reputation":1,"user_id":19494682,"display_name":"Carlito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659934186,"creation_date":1657110386,"question_id":72883548,"body_markdown":"In a java service, I&#39;m trying to upload a file in an azure storage directory; therefore I&#39;ve written a code like this : \r\n\r\n    import com.azure.core.util.*;\r\n    import com.azure.storage.file.share.*;\r\n    import com.azure.storage.file.share.models.*;\r\n\r\n     //Create connexion string\r\n    String connectStr =&quot;DefaultEndpointsProtocol=https;AccountName=&quot; + accountName + &quot;;AccountKey=&quot; + accountKey + &quot;;EndpointSuffix=&quot; + endpoint;\r\n\t\t\t\t\r\n    //ShareDirectoryClient\r\n\t\t\t\t\r\n    ShareDirectoryClient dirClient = new     ShareFileClientBuilder().connectionString(connectStr).shareName(shareName).resourcePath(directoryName).configuration(proxyOptions).buildDirectoryClient();\r\n\t\t\t\t\r\n    // Create empty file\r\n    dirClient.createFile(fileName, body.length());\r\n\r\nThe HTTPS request must goes through a proxy server, so, I get this error : \r\n\r\n&quot;Could not run &#39;sendFileInDirectoryProxyTest&#39;\r\nreactor.core.Exceptions$ReactiveException: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection timed out: no further information: &quot;\r\n\r\nI can&#39;t set/use a global setting.\r\nTo set a proxy in the Java code, I&#39;ve tried several things, like using the Configuration Class : \r\n\r\n    Configuration configuration = new Configuration();\r\n    configuration.put(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n    configuration.put(&quot;https.proxyHost&quot;, &quot;xxxxxxxxx&quot;);\r\n    configuration.put(&quot;https.proxyPort&quot;, &quot;xxxx&quot;);\r\n\t\t\t\t\r\n    ShareDirectoryClient dirClient = new     ShareFileClientBuilder().connectionString(connectStr).shareName(shareName).resourcePath(directoryName).configuration(configuration).buildDirectoryClient();\r\n\t\t\t\t\r\nBut it did not solve the issue.\r\nI&#39;m sure it is pretty simple, any help would be appreciated.\r\nThanks. Charles de Saint Andre.","title":"Azure Storage - Proxy Setting in Java Code","body":"<p>In a java service, I'm trying to upload a file in an azure storage directory; therefore I've written a code like this :</p>\n<pre><code>import com.azure.core.util.*;\nimport com.azure.storage.file.share.*;\nimport com.azure.storage.file.share.models.*;\n\n //Create connexion string\nString connectStr =&quot;DefaultEndpointsProtocol=https;AccountName=&quot; + accountName + &quot;;AccountKey=&quot; + accountKey + &quot;;EndpointSuffix=&quot; + endpoint;\n            \n//ShareDirectoryClient\n            \nShareDirectoryClient dirClient = new     ShareFileClientBuilder().connectionString(connectStr).shareName(shareName).resourcePath(directoryName).configuration(proxyOptions).buildDirectoryClient();\n            \n// Create empty file\ndirClient.createFile(fileName, body.length());\n</code></pre>\n<p>The HTTPS request must goes through a proxy server, so, I get this error :</p>\n<p>&quot;Could not run 'sendFileInDirectoryProxyTest'\nreactor.core.Exceptions$ReactiveException: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection timed out: no further information: &quot;</p>\n<p>I can't set/use a global setting.\nTo set a proxy in the Java code, I've tried several things, like using the Configuration Class :</p>\n<pre><code>Configuration configuration = new Configuration();\nconfiguration.put(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\nconfiguration.put(&quot;https.proxyHost&quot;, &quot;xxxxxxxxx&quot;);\nconfiguration.put(&quot;https.proxyPort&quot;, &quot;xxxx&quot;);\n            \nShareDirectoryClient dirClient = new     ShareFileClientBuilder().connectionString(connectStr).shareName(shareName).resourcePath(directoryName).configuration(configuration).buildDirectoryClient();\n            \n</code></pre>\n<p>But it did not solve the issue.\nI'm sure it is pretty simple, any help would be appreciated.\nThanks. Charles de Saint Andre.</p>\n"},{"tags":["java","lambda","java-8","comparator","functional-interface"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1658395456,"post_id":73063639,"comment_id":129042599,"body_markdown":"your `compareOrder(Norwich n)` actually requires 2 values of type `Norwich` when executed: the parameter `n` and and an instance of `Norwich` to run this method on, because `compareOrder` is not static. So `Norwich::compareOrder` actually matches the `BiFunction` interface, just like `Comparator::compare`. I am sure this magic has some specific name in the JSR, but I don&#39;t know it.","body":"your <code>compareOrder(Norwich n)</code> actually requires 2 values of type <code>Norwich</code> when executed: the parameter <code>n</code> and and an instance of <code>Norwich</code> to run this method on, because <code>compareOrder</code> is not static. So <code>Norwich::compareOrder</code> actually matches the <code>BiFunction</code> interface, just like <code>Comparator::compare</code>. I am sure this magic has some specific name in the JSR, but I don&#39;t know it."},{"owner":{"account_id":21033286,"reputation":92,"user_id":15457175,"display_name":"Zhiqiang Guo"},"score":1,"creation_date":1658480362,"post_id":73063639,"comment_id":129066561,"body_markdown":"Mr f1sh, I got the answer, since jdk1.8, like you said, because ```compareOrder``` is not static and the ```compare``` has a type of Norwich as its first parameter (after I pass ```Norwich``` to its wildcard), so the machine or the governer of Java :) will finally pass the instance on which the ```compareOrder``` run to the first parameter of ```compare```. \\ The format must be ```ClassName::non-static method```, and the abstract method in functional interface keeps a first parameter of the same type as ```ClassName```","body":"Mr f1sh, I got the answer, since jdk1.8, like you said, because <code>compareOrder</code> is not static and the <code>compare</code> has a type of Norwich as its first parameter (after I pass <code>Norwich</code> to its wildcard), so the machine or the governer of Java :) will finally pass the instance on which the <code>compareOrder</code> run to the first parameter of <code>compare</code>. \\ The format must be <code>ClassName::non-static method</code>, and the abstract method in functional interface keeps a first parameter of the same type as <code>ClassName</code>"}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658397554,"creation_date":1658397554,"answer_id":73064162,"question_id":73063639,"body_markdown":"## class Yxj ##\r\n\r\n 1. The paramter T of your class Yxj&lt;T&gt; should have more restrictions if you want to compare/sort in this class with T then say T must be comparable. \r\n 2. If your T array grows then don&#39;t implement your own growing array but use ArrayList instead which does that for you  \r\n 3. If you do the first you don&#39;t need the Comperator anymore\r\n 4. Your methode sort only sorts the first and second element  so you will get problems. If the data is shorter you will get an ArrayIndexOutOfBoundsException if it is longer it won&#39;t sort the rest of elements. So with a Collection you could simple use Collections.sort(data);\r\n\r\n        public class Yxj&lt;T extends Comparable&lt;T&gt;&gt; {\r\n        \r\n            private final List&lt;T&gt; data;\r\n        \r\n            public Yxj() {\r\n                this.data = new ArrayList&lt;&gt;();\r\n            }\r\n\r\n            public void addItem(T t){\r\n                data.add(t);\r\n            }\r\n\r\n            public void sort(){\r\n                Collections.sort(data);\r\n            }\r\n\r\n            public  List&lt;T&gt; getData(){\r\n                return data;\r\n            }\r\n\r\n            public void print(){\r\n                System.out.println(data);\r\n            }\r\n        }\r\n\r\n## class Norwich ##\r\n\r\nIf you done the above know your Norwich class must implement the Comparable interface so you can compare Norwich instances with the methode compareTo which also will be called each time you or the API ask directly or indirectly to compare to Norwich instances like for sorting ect. \r\n\r\n\r\n    public class Norwich implements Comparable&lt;Norwich&gt; {\r\n        private int order;\r\n\r\n        public Norwich(int o) {\r\n            this.order = o;\r\n        }\r\n\r\n        public int getOrder() {\r\n            return this.order;\r\n        }\r\n\r\n        public void setOrder(int order) {\r\n            this.order = order;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Norwich other) {\r\n            return this.order - other.order;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Norwich{&quot; +\r\n                    &quot;order=&quot; + order +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n \r\n## Main ##\r\n\r\nDone? Perfect, then your main could be looks like this\r\n\r\n    public static void main(String[] args) {\r\n        Yxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;();\r\n        norwichYxj.addItem(new Norwich(9));\r\n        norwichYxj.addItem(new Norwich(1));\r\n        norwichYxj.sort();\r\n        norwichYxj.print();\r\n    }\r\n\r\n \r\n ","title":"Implementing a functional interface via method reference","body":"<h2>class Yxj</h2>\n<ol>\n<li><p>The paramter T of your class Yxj should have more restrictions if you want to compare/sort in this class with T then say T must be comparable.</p>\n</li>\n<li><p>If your T array grows then don't implement your own growing array but use ArrayList instead which does that for you</p>\n</li>\n<li><p>If you do the first you don't need the Comperator anymore</p>\n</li>\n<li><p>Your methode sort only sorts the first and second element  so you will get problems. If the data is shorter you will get an ArrayIndexOutOfBoundsException if it is longer it won't sort the rest of elements. So with a Collection you could simple use Collections.sort(data);</p>\n<pre><code>public class Yxj&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    private final List&lt;T&gt; data;\n\n    public Yxj() {\n        this.data = new ArrayList&lt;&gt;();\n    }\n\n    public void addItem(T t){\n        data.add(t);\n    }\n\n    public void sort(){\n        Collections.sort(data);\n    }\n\n    public  List&lt;T&gt; getData(){\n        return data;\n    }\n\n    public void print(){\n        System.out.println(data);\n    }\n}\n</code></pre>\n</li>\n</ol>\n<h2>class Norwich</h2>\n<p>If you done the above know your Norwich class must implement the Comparable interface so you can compare Norwich instances with the methode compareTo which also will be called each time you or the API ask directly or indirectly to compare to Norwich instances like for sorting ect.</p>\n<pre><code>public class Norwich implements Comparable&lt;Norwich&gt; {\n    private int order;\n\n    public Norwich(int o) {\n        this.order = o;\n    }\n\n    public int getOrder() {\n        return this.order;\n    }\n\n    public void setOrder(int order) {\n        this.order = order;\n    }\n\n    @Override\n    public int compareTo(Norwich other) {\n        return this.order - other.order;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Norwich{&quot; +\n                &quot;order=&quot; + order +\n                '}';\n    }\n}\n</code></pre>\n<h2>Main</h2>\n<p>Done? Perfect, then your main could be looks like this</p>\n<pre><code>public static void main(String[] args) {\n    Yxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;();\n    norwichYxj.addItem(new Norwich(9));\n    norwichYxj.addItem(new Norwich(1));\n    norwichYxj.sort();\n    norwichYxj.print();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659610156,"creation_date":1659610156,"answer_id":73234586,"question_id":73063639,"body_markdown":"It is simple. You have passed through the constructor your implementation of the Comparator to be used for comparing.\r\n\r\n```\r\nYxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;(Norwich::compareOrder);\r\n```\r\n\r\nRemember `Comparator` is nothing else than an interface. Since it is a functional interface, it can be represented through a lambda expression or a \r\nmethod reference (as you did). The way you can pass the `Comparator` in the full form is as follows. Note the usage of the `compareOrder` method:\r\n\r\n```\r\nYxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;(new Comparator&lt;&gt;() {\r\n\t@Override\r\n\tpublic int compare(Norwich o1, Norwich o2) {\r\n\t\treturn o1.compareOrder(o2);                      // usage of compareOrder\r\n\t}\r\n});\r\n```\r\nThis can be shortened to a lambda expression:\r\n\r\n```\r\nYxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;((o1, o2) -&gt; o1.compareOrder(o2));\r\n```\r\nIt can be shortened again to a method reference:\r\n```\r\nYxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;(Norwich::compareOrder);\r\n```\r\nNow you can see it can be represented in this way though the method `compareOrder` accepts only one formal parameter. The first parameter of the `Comparator#compare` method is the one invoking the `compareOrder` method and the second parameter is the one being passed to the `compareOrder` method.\r\n\r\nLearn more here: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n\r\n___\r\n\r\nAdditionally, the classes you have constructed look a bit odd. Though the other answer doesn&#39;t in fact answer your question, it can lead you to a better code: https://stackoverflow.com/questions/73063639/implementing-a-functional-interface-via-method-reference/73064162#73064162","title":"Implementing a functional interface via method reference","body":"<p>It is simple. You have passed through the constructor your implementation of the Comparator to be used for comparing.</p>\n<pre><code>Yxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;(Norwich::compareOrder);\n</code></pre>\n<p>Remember <code>Comparator</code> is nothing else than an interface. Since it is a functional interface, it can be represented through a lambda expression or a\nmethod reference (as you did). The way you can pass the <code>Comparator</code> in the full form is as follows. Note the usage of the <code>compareOrder</code> method:</p>\n<pre><code>Yxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;(new Comparator&lt;&gt;() {\n    @Override\n    public int compare(Norwich o1, Norwich o2) {\n        return o1.compareOrder(o2);                      // usage of compareOrder\n    }\n});\n</code></pre>\n<p>This can be shortened to a lambda expression:</p>\n<pre><code>Yxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;((o1, o2) -&gt; o1.compareOrder(o2));\n</code></pre>\n<p>It can be shortened again to a method reference:</p>\n<pre><code>Yxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;(Norwich::compareOrder);\n</code></pre>\n<p>Now you can see it can be represented in this way though the method <code>compareOrder</code> accepts only one formal parameter. The first parameter of the <code>Comparator#compare</code> method is the one invoking the <code>compareOrder</code> method and the second parameter is the one being passed to the <code>compareOrder</code> method.</p>\n<p>Learn more here: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html</a></p>\n<hr />\n<p>Additionally, the classes you have constructed look a bit odd. Though the other answer doesn't in fact answer your question, it can lead you to a better code: <a href=\"https://stackoverflow.com/questions/73063639/implementing-a-functional-interface-via-method-reference/73064162#73064162\">Implementing a functional interface via method reference</a></p>\n"}],"owner":{"account_id":21033286,"reputation":92,"user_id":15457175,"display_name":"Zhiqiang Guo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73234586,"answer_count":2,"score":1,"last_activity_date":1659933608,"creation_date":1658395172,"question_id":73063639,"body_markdown":"First I got a class named after my Chinese name\r\n\r\n    public class Yxj&lt;T&gt; {\r\n        private T[] data;\r\n        private int size = 0;\r\n        private final Comparator&lt;? super T&gt; comparator;\r\n        public Yxj(Comparator&lt;? super T&gt; c) {\r\n            data= (T[]) new Object[16];\r\n            comparator = c;\r\n        }\r\n\r\n        public void addItem(T t){\r\n            data[size++] = t;\r\n        }\r\n\r\n        public int sort(){\r\n            return comparator.compare(data[0], data[1]);\r\n        }\r\n\r\n\r\n        public  T[] getData(){\r\n            return data;\r\n        }\r\n    }\r\nin which a ```Comparator``` resides,then I defined a ```Norwich``` keeping a field ```order``` and setter and getter of it, finally there&#39;s a method used to implement the ```compare(T t1,T t2)``` in ```Comparator```.\r\n```\r\npublic class Norwich {\r\n    private int order;\r\n\r\n\r\n    public Norwich(int o) {\r\n        order = o;\r\n    }\r\n\r\n    public int getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(int order) {\r\n        this.order = order;\r\n    }\r\n\r\n\r\n    public int compareOrder(Norwich n) {\r\n        if (order &gt; n.getOrder()) {\r\n            return 2;\r\n        } else if (order == n.getOrder()) {\r\n            return 0;\r\n        } else {\r\n            return -3;\r\n        }\r\n    }\r\n}\r\n```\r\nthen here comes the main method\r\n```\r\nYxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;(Norwich::compareOrder);\r\nnorwichYxj.addItem(new Norwich(9));\r\nnorwichYxj.addItem(new Norwich(1));\r\nSystem.out.println(norwichYxj.sort());\r\n```\r\nso what I&#39;m interested in is that, why does not the method ```compareOrder``` keep the same parameters as the ```compare``` in ```Comparator``` but it can still work correctly?","title":"Implementing a functional interface via method reference","body":"<p>First I got a class named after my Chinese name</p>\n<pre><code>public class Yxj&lt;T&gt; {\n    private T[] data;\n    private int size = 0;\n    private final Comparator&lt;? super T&gt; comparator;\n    public Yxj(Comparator&lt;? super T&gt; c) {\n        data= (T[]) new Object[16];\n        comparator = c;\n    }\n\n    public void addItem(T t){\n        data[size++] = t;\n    }\n\n    public int sort(){\n        return comparator.compare(data[0], data[1]);\n    }\n\n\n    public  T[] getData(){\n        return data;\n    }\n}\n</code></pre>\n<p>in which a <code>Comparator</code> resides,then I defined a <code>Norwich</code> keeping a field <code>order</code> and setter and getter of it, finally there's a method used to implement the <code>compare(T t1,T t2)</code> in <code>Comparator</code>.</p>\n<pre><code>public class Norwich {\n    private int order;\n\n\n    public Norwich(int o) {\n        order = o;\n    }\n\n    public int getOrder() {\n        return order;\n    }\n\n    public void setOrder(int order) {\n        this.order = order;\n    }\n\n\n    public int compareOrder(Norwich n) {\n        if (order &gt; n.getOrder()) {\n            return 2;\n        } else if (order == n.getOrder()) {\n            return 0;\n        } else {\n            return -3;\n        }\n    }\n}\n</code></pre>\n<p>then here comes the main method</p>\n<pre><code>Yxj&lt;Norwich&gt; norwichYxj = new Yxj&lt;&gt;(Norwich::compareOrder);\nnorwichYxj.addItem(new Norwich(9));\nnorwichYxj.addItem(new Norwich(1));\nSystem.out.println(norwichYxj.sort());\n</code></pre>\n<p>so what I'm interested in is that, why does not the method <code>compareOrder</code> keep the same parameters as the <code>compare</code> in <code>Comparator</code> but it can still work correctly?</p>\n"},{"tags":["java","android","timepickerdialog"],"answers":[{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637423354,"creation_date":1637423354,"answer_id":70047477,"question_id":70046570,"body_markdown":"      @Override\r\n    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n        Calendar c = Calendar.getInstance();\r\n        c.set(Calendar.HOUR_OF_DAY, hourOfDay);\r\n        c.set(Calendar.MINUTE, minute);\r\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;KK:mm a&quot;);\r\n        String currentTime = simpleDateFormat.format(c.getTime());\r\n        dateTimeSharedViewModel.setTime(currentTime);\r\n    }","title":"TimePickerDialog displaying time in 12 hour format","body":"<pre><code>  @Override\npublic void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n    Calendar c = Calendar.getInstance();\n    c.set(Calendar.HOUR_OF_DAY, hourOfDay);\n    c.set(Calendar.MINUTE, minute);\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;KK:mm a&quot;);\n    String currentTime = simpleDateFormat.format(c.getTime());\n    dateTimeSharedViewModel.setTime(currentTime);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637432955,"creation_date":1637432955,"answer_id":70048768,"question_id":70046570,"body_markdown":"# *java.time*\r\n\r\nUse the modern *java.time* classes defined in JSR 310 that years ago supplanted the terrible legacy classes `Calendar`, `Date`, `SimpleDateFormat`. \r\n\r\nGenerally best to let *java.time* automatically localize rather than hard-code a format.\r\n\r\n    LocalTime\r\n    .of( hour , minute )\r\n    .format( \r\n        DateTimeFormatter\r\n        .ofLocalizedTime( FormatStyle.SHORT )\r\n        .withLocale( Locale.US )\r\n    )","title":"TimePickerDialog displaying time in 12 hour format","body":"<h1><em>java.time</em></h1>\n<p>Use the modern <em>java.time</em> classes defined in JSR 310 that years ago supplanted the terrible legacy classes <code>Calendar</code>, <code>Date</code>, <code>SimpleDateFormat</code>.</p>\n<p>Generally best to let <em>java.time</em> automatically localize rather than hard-code a format.</p>\n<pre><code>LocalTime\n.of( hour , minute )\n.format( \n    DateTimeFormatter\n    .ofLocalizedTime( FormatStyle.SHORT )\n    .withLocale( Locale.US )\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6391459,"reputation":23,"user_id":4957450,"display_name":"Paridel Makouala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659933524,"creation_date":1659933524,"answer_id":73272986,"question_id":70046570,"body_markdown":"You have to replace true instead of false and you&#39;re done\r\n\r\n    final Calendar c = Calendar.getInstance();\r\n            int mHour = c.get(Calendar.HOUR_OF_DAY);\r\n            int mMinute = c.get(Calendar.MINUTE);\r\n\r\n            TimePickerDialog.OnTimeSetListener onTimeSetListener = (timePicker, selectedHour, selectedMinute) -&gt; {\r\n                int hour = selectedHour;\r\n                int minute = selectedMinute;\r\n                String time = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, hour, minute);\r\n                electionsText.setText(&quot;Registrations Will End On:\\n&quot; + date + &quot;\\n@ &quot; + time);\r\n            };\r\n\r\n\r\n            TimePickerDialog timePickerDialog = new TimePickerDialog(this, onTimeSetListener, mHour, mMinute, true);\r\n\r\n            timePickerDialog.setTitle(&quot;Select Time&quot;);\r\n            timePickerDialog.show();\r\n\r\n","title":"TimePickerDialog displaying time in 12 hour format","body":"<p>You have to replace true instead of false and you're done</p>\n<pre><code>final Calendar c = Calendar.getInstance();\n        int mHour = c.get(Calendar.HOUR_OF_DAY);\n        int mMinute = c.get(Calendar.MINUTE);\n\n        TimePickerDialog.OnTimeSetListener onTimeSetListener = (timePicker, selectedHour, selectedMinute) -&gt; {\n            int hour = selectedHour;\n            int minute = selectedMinute;\n            String time = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, hour, minute);\n            electionsText.setText(&quot;Registrations Will End On:\\n&quot; + date + &quot;\\n@ &quot; + time);\n        };\n\n\n        TimePickerDialog timePickerDialog = new TimePickerDialog(this, onTimeSetListener, mHour, mMinute, true);\n\n        timePickerDialog.setTitle(&quot;Select Time&quot;);\n        timePickerDialog.show();\n</code></pre>\n"}],"owner":{"account_id":21660400,"reputation":79,"user_id":15979590,"display_name":"HeroreH29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659933524,"creation_date":1637416612,"question_id":70046570,"body_markdown":"I followed a short YouTube tutorial about TimePickerDialog. Since the video is short, it does not show how to display selected time in a 12-hour format. I want to know how to display it to 12-hour format with PM and AM at the side of the selected time.\r\n\r\nThis is the code I followed from YT:\r\n\r\n    TimePickerDialog.OnTimeSetListener onTimeSetListener = new TimePickerDialog.OnTimeSetListener() {\r\n            @Override\r\n            public void onTimeSet(TimePicker timePicker, int selectedHour, int selectedMinute) {\r\n                int hour = selectedHour;\r\n                int minute = selectedMinute;\r\n                String time = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, hour, minute);\r\n                electionsText.setText(&quot;Registrations Will End On:\\n&quot; + date + &quot;\\n@ &quot; + time);\r\n            }\r\n        };\r\n\r\n        int style = AlertDialog.THEME_HOLO_LIGHT;\r\n\r\n        TimePickerDialog timePickerDialog = new TimePickerDialog(this, style, onTimeSetListener, hour, minute, false);\r\n\r\n        timePickerDialog.setTitle(&quot;Select Time&quot;);\r\n        timePickerDialog.show();","title":"TimePickerDialog displaying time in 12 hour format","body":"<p>I followed a short YouTube tutorial about TimePickerDialog. Since the video is short, it does not show how to display selected time in a 12-hour format. I want to know how to display it to 12-hour format with PM and AM at the side of the selected time.</p>\n<p>This is the code I followed from YT:</p>\n<pre><code>TimePickerDialog.OnTimeSetListener onTimeSetListener = new TimePickerDialog.OnTimeSetListener() {\n        @Override\n        public void onTimeSet(TimePicker timePicker, int selectedHour, int selectedMinute) {\n            int hour = selectedHour;\n            int minute = selectedMinute;\n            String time = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, hour, minute);\n            electionsText.setText(&quot;Registrations Will End On:\\n&quot; + date + &quot;\\n@ &quot; + time);\n        }\n    };\n\n    int style = AlertDialog.THEME_HOLO_LIGHT;\n\n    TimePickerDialog timePickerDialog = new TimePickerDialog(this, style, onTimeSetListener, hour, minute, false);\n\n    timePickerDialog.setTitle(&quot;Select Time&quot;);\n    timePickerDialog.show();\n</code></pre>\n"},{"tags":["java","eclipse","gson"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1659936249,"post_id":73272874,"comment_id":129404288,"body_markdown":"That would go in the `module-info.java`","body":"That would go in the <code>module-info.java</code>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1659942496,"post_id":73272874,"comment_id":129405642,"body_markdown":"When you have a `module-info.java` file, the `gson-2.9.1.jar` has to be added to the modulepath, not to the classpath and in `module-info.java` a `requires ...;` is needed. Do you have a `module-info.java` file and does deleting it fix your issue?","body":"When you have a <code>module-info.java</code> file, the <code>gson-2.9.1.jar</code> has to be added to the modulepath, not to the classpath and in <code>module-info.java</code> a <code>requires ...;</code> is needed. Do you have a <code>module-info.java</code> file and does deleting it fix your issue?"},{"owner":{"account_id":20126977,"reputation":1,"user_id":14760199,"display_name":"disillusioneddeath"},"score":0,"creation_date":1659973210,"post_id":73272874,"comment_id":129416861,"body_markdown":"Thank you so much for the help! Added to modulepath, edited module-info.java with the requires and the import works","body":"Thank you so much for the help! Added to modulepath, edited module-info.java with the requires and the import works"}],"owner":{"account_id":20126977,"reputation":1,"user_id":14760199,"display_name":"disillusioneddeath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659932059,"creation_date":1659932059,"question_id":73272874,"body_markdown":"I am trying to use GSON with eclispe to parse JSON files. I downloaded gson-2.9.1.jar and added it to Project&gt; Properties&gt; Java Build Path&gt; Libraries classpath but when I try \r\n`import com.google.gson.Gson;`\r\nI get an error saying &quot;the type com.google.gson.GSON is not accessible&quot;. This is the exact same problem described [in this post][1]. The author has an edit saying they fixed it: \r\n\r\n&gt; &quot;By adding *requires gson* it worked fine.&quot;\r\n\r\nBut I don&#39;t know what that means and none of the responses on that post actually say how to solve the problem.\r\n\r\nThanks\r\n\r\n  [1]: https://stackoverflow.com/questions/51684007/import-resolve-error-in-eclipse","title":"Import Resolve Error in Eclipse with GSON","body":"<p>I am trying to use GSON with eclispe to parse JSON files. I downloaded gson-2.9.1.jar and added it to Project&gt; Properties&gt; Java Build Path&gt; Libraries classpath but when I try\n<code>import com.google.gson.Gson;</code>\nI get an error saying &quot;the type com.google.gson.GSON is not accessible&quot;. This is the exact same problem described <a href=\"https://stackoverflow.com/questions/51684007/import-resolve-error-in-eclipse\">in this post</a>. The author has an edit saying they fixed it:</p>\n<blockquote>\n<p>&quot;By adding <em>requires gson</em> it worked fine.&quot;</p>\n</blockquote>\n<p>But I don't know what that means and none of the responses on that post actually say how to solve the problem.</p>\n<p>Thanks</p>\n"},{"tags":["java","flutter","kotlin"],"comments":[{"owner":{"account_id":24377110,"reputation":6808,"user_id":18309290,"display_name":"user18309290"},"score":0,"creation_date":1659935075,"post_id":73272844,"comment_id":129404145,"body_markdown":"What is the error/exception you are facing?","body":"What is the error/exception you are facing?"},{"owner":{"account_id":21206431,"reputation":1,"user_id":15595952,"display_name":"one-line-coder"},"score":0,"creation_date":1660025081,"post_id":73272844,"comment_id":129428348,"body_markdown":"I didn&#39;t get any error/exception just the setMethodCallHandler didn&#39;t communicate with MethodChannel in flutter. I tried to log in the setMethodCallHandler but it didn&#39;t log anything.","body":"I didn&#39;t get any error/exception just the setMethodCallHandler didn&#39;t communicate with MethodChannel in flutter. I tried to log in the setMethodCallHandler but it didn&#39;t log anything."}],"owner":{"account_id":21206431,"reputation":1,"user_id":15595952,"display_name":"one-line-coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659931650,"creation_date":1659931650,"question_id":73272844,"body_markdown":"\r\nI want to use the hook when android calls onTaskRemoved in my app.\r\n\r\n\r\nThis is my kotlin MainActivity class.\r\nIt works well when I implement setMethodCallHandler.\r\n\r\n```kotlin\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.engine.FlutterEngineCache\r\nimport io.flutter.plugin.common.MethodChannel\r\n\r\nclass MainActivity: FlutterActivity() {\r\n    private val CHANNEL_HANDLER = &quot;buddhism.supporter.onTaskRemoved&quot;\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        var i = Intent(this, TaskService::class.java)\r\n\r\n\r\n        flutterEngine?.dartExecutor?.let {\r\n            MethodChannel(it.binaryMessenger, CHANNEL_HANDLER).setMethodCallHandler {\r\n                call, result -&gt;\r\n                if (call.method.equals(&quot;startService&quot;)) {\r\n                    FlutterEngineCache.getInstance().put(&quot;engine_id&quot;, flutterEngine)\r\n                    startService(i)\r\n                    result.success(&quot;TaskStart&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis even doesn&#39;t work when I test it in onCreate method.\r\nI used flutterEngineCache from mainAtivity and then I use the cached flutter engine in the service class same as in MainActivity.\r\n\r\nI also set my AndroidManifest.xml to use the service in proper way\r\n\r\n\r\n```kotlin\r\n\r\nimport android.app.Service\r\nimport android.content.Intent\r\nimport android.os.IBinder\r\nimport android.util.Log\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.embedding.engine.FlutterEngineCache\r\nimport io.flutter.plugin.common.*\r\n\r\nclass TaskService : Service(), MethodChannel.MethodCallHandler {\r\n    private val CHANNEL_HANDLER = &quot;buddhism.supporter.onTaskRemoved&quot;\r\n    private lateinit var backgroundEngine: FlutterEngine\r\n\r\n    override fun onBind(intent: Intent?): IBinder? = null\r\n\r\n    override fun onCreate() {\r\n        super.onCreate()\r\n        Log.wtf(&quot;onServiceBind&quot;, &quot;Service binding&quot;)\r\n        backgroundEngine = FlutterEngineCache.getInstance().get(&quot;engine_id&quot;)!!\r\n        MethodChannel(backgroundEngine.dartExecutor.binaryMessenger,\r\n            CHANNEL_HANDLER\r\n        ).setMethodCallHandler{\r\n            call, result -&gt;\r\n            if (call.equals(&quot;endService&quot;)) {\r\n                result.success(&quot;success&quot;)\r\n            } else {\r\n                result.notImplemented()\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onTaskRemoved(rootIntent: Intent?) {\r\n        super.onTaskRemoved(rootIntent)\r\n        Log.wtf(&quot;ontaskRemoved&quot;, &quot;onTaskRemoved&quot;)\r\n//        backgroundEngine = FlutterEngine(this)\r\n//        channel = MethodChannel(backgroundEngine.dartExecutor.binaryMessenger, CHANNEL_HANDLER)\r\n//        channel.setMethodCallHandler {\r\n//            call, result -&gt;\r\n//            Log.wtf(&quot;task end&quot;,&quot;task end in android&quot;)\r\n//\r\n//        }\r\n//        channel = BasicMessageChannel(backgroundEngine.dartExecutor.binaryMessenger, CHANNEL_HANDLER, StringCodec.INSTANCE)\r\n//        channel.send(&quot;onTaskRemoved&quot;)\r\n        Log.wtf(&quot;ontaskRemoved&quot;, &quot;onTaskRemovedAfter&quot;)\r\n        stopSelf()\r\n    }\r\n\r\n    override fun onMethodCall(call: MethodCall, result: MethodChannel.Result) {\r\n        Log.wtf(&quot;task end&quot;,&quot;task end in android2222&quot;)\r\n        if (call.equals(&quot;endService&quot;)) {\r\n            result.success(&quot;success&quot;)\r\n        } else {\r\n            result.notImplemented()\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n```","title":"How to setMethodHandler onTaskRemoved using flutter channel","body":"<p>I want to use the hook when android calls onTaskRemoved in my app.</p>\n<p>This is my kotlin MainActivity class.\nIt works well when I implement setMethodCallHandler.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nimport android.content.Intent\nimport android.os.Bundle\nimport android.util.Log\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngineCache\nimport io.flutter.plugin.common.MethodChannel\n\nclass MainActivity: FlutterActivity() {\n    private val CHANNEL_HANDLER = &quot;buddhism.supporter.onTaskRemoved&quot;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        var i = Intent(this, TaskService::class.java)\n\n\n        flutterEngine?.dartExecutor?.let {\n            MethodChannel(it.binaryMessenger, CHANNEL_HANDLER).setMethodCallHandler {\n                call, result -&gt;\n                if (call.method.equals(&quot;startService&quot;)) {\n                    FlutterEngineCache.getInstance().put(&quot;engine_id&quot;, flutterEngine)\n                    startService(i)\n                    result.success(&quot;TaskStart&quot;)\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>This even doesn't work when I test it in onCreate method.\nI used flutterEngineCache from mainAtivity and then I use the cached flutter engine in the service class same as in MainActivity.</p>\n<p>I also set my AndroidManifest.xml to use the service in proper way</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nimport android.app.Service\nimport android.content.Intent\nimport android.os.IBinder\nimport android.util.Log\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.embedding.engine.FlutterEngineCache\nimport io.flutter.plugin.common.*\n\nclass TaskService : Service(), MethodChannel.MethodCallHandler {\n    private val CHANNEL_HANDLER = &quot;buddhism.supporter.onTaskRemoved&quot;\n    private lateinit var backgroundEngine: FlutterEngine\n\n    override fun onBind(intent: Intent?): IBinder? = null\n\n    override fun onCreate() {\n        super.onCreate()\n        Log.wtf(&quot;onServiceBind&quot;, &quot;Service binding&quot;)\n        backgroundEngine = FlutterEngineCache.getInstance().get(&quot;engine_id&quot;)!!\n        MethodChannel(backgroundEngine.dartExecutor.binaryMessenger,\n            CHANNEL_HANDLER\n        ).setMethodCallHandler{\n            call, result -&gt;\n            if (call.equals(&quot;endService&quot;)) {\n                result.success(&quot;success&quot;)\n            } else {\n                result.notImplemented()\n            }\n        }\n    }\n\n    override fun onTaskRemoved(rootIntent: Intent?) {\n        super.onTaskRemoved(rootIntent)\n        Log.wtf(&quot;ontaskRemoved&quot;, &quot;onTaskRemoved&quot;)\n//        backgroundEngine = FlutterEngine(this)\n//        channel = MethodChannel(backgroundEngine.dartExecutor.binaryMessenger, CHANNEL_HANDLER)\n//        channel.setMethodCallHandler {\n//            call, result -&gt;\n//            Log.wtf(&quot;task end&quot;,&quot;task end in android&quot;)\n//\n//        }\n//        channel = BasicMessageChannel(backgroundEngine.dartExecutor.binaryMessenger, CHANNEL_HANDLER, StringCodec.INSTANCE)\n//        channel.send(&quot;onTaskRemoved&quot;)\n        Log.wtf(&quot;ontaskRemoved&quot;, &quot;onTaskRemovedAfter&quot;)\n        stopSelf()\n    }\n\n    override fun onMethodCall(call: MethodCall, result: MethodChannel.Result) {\n        Log.wtf(&quot;task end&quot;,&quot;task end in android2222&quot;)\n        if (call.equals(&quot;endService&quot;)) {\n            result.success(&quot;success&quot;)\n        } else {\n            result.notImplemented()\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jsp","jstl","java-ee-6"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659910253,"post_id":73271345,"comment_id":129401282,"body_markdown":"data is the array values from textbox.  Simply use a loop to print each element in the array.","body":"data is the array values from textbox.  Simply use a loop to print each element in the array."},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1659911240,"post_id":73271345,"comment_id":129401426,"body_markdown":"Thanks @ChengThao, forgot to add that part, but I still don&#39;t know how to capture data :(","body":"Thanks @ChengThao, forgot to add that part, but I still don&#39;t know how to capture data :("},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1659933877,"post_id":73271345,"comment_id":129403979,"body_markdown":"The answer below is correct. You need to remove square brackets [ ] and use paramValues instead of param.","body":"The answer below is correct. You need to remove square brackets [ ] and use paramValues instead of param."}],"answers":[{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659931275,"creation_date":1659921777,"answer_id":73272116,"question_id":73271345,"body_markdown":"Here is a demonstration JSP. \r\n\r\n \t&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n    &lt;form method=&quot;post&quot;&gt;\r\n        &lt;c:forEach var = &quot;i&quot; begin = &quot;0&quot; end = &quot;5&quot;&gt;\r\n             &lt;input type=&quot;text&quot; name=&quot;textbox&quot;&gt;\r\n\t\t&lt;/c:forEach&gt;\r\n        &lt;button type=&quot;submit&quot; name=&quot;buttonSave&quot;&gt;Save&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\t    &lt;c:set var=&quot;data&quot; value=&quot;${paramValues.textbox}&quot;/&gt;\r\n\t\t&lt;c:forEach var = &quot;item&quot;  items=&quot;${data}&quot;&gt;\r\n\t\t\t${item}\r\n\t\t&lt;/c:forEach&gt;\r\n           \r\n   ","title":"How can I save all the data from different textboxs in an array, using JSTL?","body":"<p>Here is a demonstration JSP.</p>\n<pre><code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\n&lt;form method=&quot;post&quot;&gt;\n    &lt;c:forEach var = &quot;i&quot; begin = &quot;0&quot; end = &quot;5&quot;&gt;\n         &lt;input type=&quot;text&quot; name=&quot;textbox&quot;&gt;\n    &lt;/c:forEach&gt;\n    &lt;button type=&quot;submit&quot; name=&quot;buttonSave&quot;&gt;Save&lt;/button&gt;\n&lt;/form&gt;\n    &lt;c:set var=&quot;data&quot; value=&quot;${paramValues.textbox}&quot;/&gt;\n    &lt;c:forEach var = &quot;item&quot;  items=&quot;${data}&quot;&gt;\n        ${item}\n    &lt;/c:forEach&gt;\n       \n</code></pre>\n"}],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73272116,"answer_count":1,"score":1,"last_activity_date":1659931275,"creation_date":1659909554,"question_id":73271345,"body_markdown":"I want to recieve any number of textbox values, and save it to an array with JSTL if it&#39;s possible.\r\n\r\nI generate all the texbox where numberAsked can be any number.\r\n\r\n    &lt;c:if test=&quot;${param.buttonSend != null}&quot;&gt;\r\n            &lt;form action=&quot;index.jsp&quot; method=&quot;post&quot;&gt;\r\n                    &lt;c:forEach var = &quot;i&quot; begin = &quot;1&quot; end = &quot;${param.numberAsked}&quot;&gt;\r\n                            &lt;input type=&quot;text&quot; name=&quot;textbox[]&quot; class=&quot;form-control&quot;&gt;\r\n                    &lt;/c:forEach&gt;\r\n                &lt;button type=&quot;submit&quot; name=&quot;buttonSave&quot;&gt;Save&lt;/button&gt;\r\n            &lt;/form&gt;\r\n    &lt;/c:if&gt;\r\n\r\nNow I want to save all the textboxs in an array.\r\n\r\n    &lt;c:if test=&quot;${param.buttonSave != null}&quot;&gt;\r\n        &lt;c:set var=&quot;data&quot; value=&quot;${request.getParameterValues(textbox)}&quot;/&gt;\r\n        &lt;c:forEach var = &quot;item&quot;  items=&quot;${param.data}&quot;&gt;\r\n            &lt;c:out value=&quot;${item}&quot;/&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/c:if&gt;\r\n\r\nBut, it doesn&#39;t work, **how can I save all the data from all the generated textboxs in an array?**.","title":"How can I save all the data from different textboxs in an array, using JSTL?","body":"<p>I want to recieve any number of textbox values, and save it to an array with JSTL if it's possible.</p>\n<p>I generate all the texbox where numberAsked can be any number.</p>\n<pre><code>&lt;c:if test=&quot;${param.buttonSend != null}&quot;&gt;\n        &lt;form action=&quot;index.jsp&quot; method=&quot;post&quot;&gt;\n                &lt;c:forEach var = &quot;i&quot; begin = &quot;1&quot; end = &quot;${param.numberAsked}&quot;&gt;\n                        &lt;input type=&quot;text&quot; name=&quot;textbox[]&quot; class=&quot;form-control&quot;&gt;\n                &lt;/c:forEach&gt;\n            &lt;button type=&quot;submit&quot; name=&quot;buttonSave&quot;&gt;Save&lt;/button&gt;\n        &lt;/form&gt;\n&lt;/c:if&gt;\n</code></pre>\n<p>Now I want to save all the textboxs in an array.</p>\n<pre><code>&lt;c:if test=&quot;${param.buttonSave != null}&quot;&gt;\n    &lt;c:set var=&quot;data&quot; value=&quot;${request.getParameterValues(textbox)}&quot;/&gt;\n    &lt;c:forEach var = &quot;item&quot;  items=&quot;${param.data}&quot;&gt;\n        &lt;c:out value=&quot;${item}&quot;/&gt;\n    &lt;/c:forEach&gt;\n&lt;/c:if&gt;\n</code></pre>\n<p>But, it doesn't work, <strong>how can I save all the data from all the generated textboxs in an array?</strong>.</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1659929077,"post_id":73272595,"comment_id":129403429,"body_markdown":"The error simply tells us that the value returned by `field.get(str);` is not of a type that can be cast to a character array. It seems unlikely that changing from Java 1.8 to 11 is the cause of this issue, are you sure that nothing else has changed in your code base?","body":"The error simply tells us that the value returned by <code>field.get(str);</code> is not of a type that can be cast to a character array. It seems unlikely that changing from Java 1.8 to 11 is the cause of this issue, are you sure that nothing else has changed in your code base?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659929350,"post_id":73272595,"comment_id":129403465,"body_markdown":"Hint: Add some debugging to work out exactly what type of variable is being returned by the `Field.get(...)` method, see the answers here for a way to do this: [Retrieving the data type for an object using reflection](https://stackoverflow.com/questions/24670772/retrieving-the-data-type-for-an-object-using-reflection)","body":"Hint: Add some debugging to work out exactly what type of variable is being returned by the <code>Field.get(...)</code> method, see the answers here for a way to do this: <a href=\"https://stackoverflow.com/questions/24670772/retrieving-the-data-type-for-an-object-using-reflection\">Retrieving the data type for an object using reflection</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659929813,"post_id":73272595,"comment_id":129403516,"body_markdown":"Looks like you are correct that this was a bug in javac versions prior to Java 9, see: https://stackoverflow.com/questions/55204967/classcastexception-in-java-11-but-not-in-java-8-when-using-hashmap and https://bugs.openjdk.org/browse/JDK-8058199 You may need to update the code to fix the existing error, or use a compiler with the older behaviour.","body":"Looks like you are correct that this was a bug in javac versions prior to Java 9, see: <a href=\"https://stackoverflow.com/questions/55204967/classcastexception-in-java-11-but-not-in-java-8-when-using-hashmap\" title=\"classcastexception in java 11 but not in java 8 when using hashmap\">stackoverflow.com/questions/55204967/&hellip;</a> and <a href=\"https://bugs.openjdk.org/browse/JDK-8058199\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8058199</a> You may need to update the code to fix the existing error, or use a compiler with the older behaviour."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1659930995,"post_id":73272595,"comment_id":129403646,"body_markdown":"@sorifriend this was not a bug. The bug you linked to isn&#39;t relevant to this question. OP is digging into private API which changed; private API is allowed to do that without calling that &#39;a bug&#39; (hence the name &#39;private&#39;).","body":"@sorifriend this was not a bug. The bug you linked to isn&#39;t relevant to this question. OP is digging into private API which changed; private API is allowed to do that without calling that &#39;a bug&#39; (hence the name &#39;private&#39;)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1659931432,"post_id":73272595,"comment_id":129403687,"body_markdown":"This code is trying to cast what is now a `byte[]` array to a `char[]` array. The correct way to write the code is to return `str.toCharArray()` and forget about these reflective shenanigans. Probably the entire method should be deleted, and probably its entire containing class. There was never any advantage.","body":"This code is trying to cast what is now a <code>byte[]</code> array to a <code>char[]</code> array. The correct way to write the code is to return <code>str.toCharArray()</code> and forget about these reflective shenanigans. Probably the entire method should be deleted, and probably its entire containing class. There was never any advantage."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1659930835,"creation_date":1659930835,"answer_id":73272779,"question_id":73272595,"body_markdown":"Some code you&#39;re using is using unsupported hackery. As unsupported hackery is wont to do, a java upgrade &#39;broke it&#39;. That isn&#39;t java&#39;s fault - the point of documentation that states &#39;do not do this - this is not supported&#39; (and `private` is &quot;documentation&quot; that yells out: Do not do this - this is not supported), is that a future version may change this part and will not go out of its way to say: _DANGER! Do not upgrade to this version without taking these steps!_\r\n\r\nThe specific hackery it was abusing is that until java 8 or so, the contents of a `java.lang.String` instance were basically just a single thing: a `char[]`.\r\n\r\nThis is inefficient; char uses 16 bits to store a single character.\r\n\r\nThese days, instead, String consists of a `byte[]` and a few flags. The flags are &#39;free&#39; on 64-bit systems (given that all objects are aligned to fall on a divisible-by-64 boundary, and most pointers are compressed). One flag tells the string what the bytes represent. Possibly simple ASCII for simple strings with no fancy pants characters, otherwise it&#39;ll be UTF; there&#39;s room for further schemes, but as of this writing, those are the only 2.\r\n\r\nWhatever code you are using is relying on the notion that it is a `char[]`. it is not, and using reflection to dig your way in and get it, is a broken act, and for which there never really was much point. I don&#39;t know why the library you are using is doing this (or if it&#39;s your code, why you are), but I doubt it&#39;s proper. As in, whatever problem it is trying to solve, I bet there was a much better way to do it.\r\n\r\nYou can&#39;t just simply update this code and fix the `char[]` to `byte[]` part: You&#39;d also have to read that flag out to know what the bytes mean. Whatever code is doing this would need to be considerably more complicated.\r\n\r\nFrom your paste, it looks like you wrote a helper method named `toCharArray` which does the exact same thing as `str.toCharArray()`, except in this hacky way that you shouldn&#39;t be doing. I cannot fathom the point or purpose to this. Perhaps a misplaced crusade of &#39;efficiency&#39;, because this hack avoids an array copy? That&#39;s not how you get to efficient code, generally. Given that for the vast majority of projects, less than 1% of the code takes 99% of the resources, you optimize just that 1%. Often, to do that right, you want flexible, highly abstracted code everywhere, so that changing the things that &#39;surround&#39; this 1% &#39;hot path&#39; can be trivially adjusted to feed precisely what the hot path must have to run as fast as possible. These kinds of &#39;micro optimizations&#39; hurt far more than they help for performance alone. Let alone how fragile it makes your code. And if you need proof of that - look no further than this very question :)\r\n\r\n","title":"Exception - class [B cannot be cast to class [C ([B and [C are in module java.base of loader &#39;bootstrap&#39;)","body":"<p>Some code you're using is using unsupported hackery. As unsupported hackery is wont to do, a java upgrade 'broke it'. That isn't java's fault - the point of documentation that states 'do not do this - this is not supported' (and <code>private</code> is &quot;documentation&quot; that yells out: Do not do this - this is not supported), is that a future version may change this part and will not go out of its way to say: <em>DANGER! Do not upgrade to this version without taking these steps!</em></p>\n<p>The specific hackery it was abusing is that until java 8 or so, the contents of a <code>java.lang.String</code> instance were basically just a single thing: a <code>char[]</code>.</p>\n<p>This is inefficient; char uses 16 bits to store a single character.</p>\n<p>These days, instead, String consists of a <code>byte[]</code> and a few flags. The flags are 'free' on 64-bit systems (given that all objects are aligned to fall on a divisible-by-64 boundary, and most pointers are compressed). One flag tells the string what the bytes represent. Possibly simple ASCII for simple strings with no fancy pants characters, otherwise it'll be UTF; there's room for further schemes, but as of this writing, those are the only 2.</p>\n<p>Whatever code you are using is relying on the notion that it is a <code>char[]</code>. it is not, and using reflection to dig your way in and get it, is a broken act, and for which there never really was much point. I don't know why the library you are using is doing this (or if it's your code, why you are), but I doubt it's proper. As in, whatever problem it is trying to solve, I bet there was a much better way to do it.</p>\n<p>You can't just simply update this code and fix the <code>char[]</code> to <code>byte[]</code> part: You'd also have to read that flag out to know what the bytes mean. Whatever code is doing this would need to be considerably more complicated.</p>\n<p>From your paste, it looks like you wrote a helper method named <code>toCharArray</code> which does the exact same thing as <code>str.toCharArray()</code>, except in this hacky way that you shouldn't be doing. I cannot fathom the point or purpose to this. Perhaps a misplaced crusade of 'efficiency', because this hack avoids an array copy? That's not how you get to efficient code, generally. Given that for the vast majority of projects, less than 1% of the code takes 99% of the resources, you optimize just that 1%. Often, to do that right, you want flexible, highly abstracted code everywhere, so that changing the things that 'surround' this 1% 'hot path' can be trivially adjusted to feed precisely what the hot path must have to run as fast as possible. These kinds of 'micro optimizations' hurt far more than they help for performance alone. Let alone how fragile it makes your code. And if you need proof of that - look no further than this very question :)</p>\n"}],"owner":{"account_id":5119808,"reputation":21,"user_id":4103778,"display_name":"Gourav "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10188,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1659930835,"creation_date":1659928252,"question_id":73272595,"body_markdown":"I have recently upgraded an application from Java 1.8 to Java 11 and started seeing this error \r\n\r\n    com.pricemax.util.exceptions.IllegalUsageError: java.lang.ClassCastException: class [B cannot be cast to class [C ([B and [C are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat com.pricemax.util.helpers.CharHelper.toCharArray(CharHelper.java:77)\r\n    \tat com.pricemax.etl.steps.transform.price.PricePatternParser.parse(PricePatternParser.java:87)\r\n    \tat com.pricemax.etl.steps.transform.price.PatternPriceSelector.cleanPrice(PatternPriceSelector.java:227)\r\n    \tat com.pricemax.etl.steps.transform.price.PatternPriceSelector.cleanPrice(PatternPriceSelector.java:152)\r\n    \tat com.pricemax.etl.steps.transform.price.PatternPriceSelector.performTransform(PatternPriceSelector.java:99)\r\n    \tat com.pricemax.etl.steps.transform.BaseTransform.performTransformARC(BaseTransform.java:62)\r\n    \tat com.pricemax.etl.steps.transform.BaseTransform.transformARC(BaseTransform.java:49)\r\n    \tat com.pricemax.etl.process.parallel.TransformThread.doWork(TransformThread.java:99)\r\n    \tat com.pricemax.etl.process.parallel.BaseParallelThread.run(BaseParallelThread.java:57)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.ClassCastException: class [B cannot be cast to class [C ([B and [C are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat com.pricemax.util.helpers.CharHelper.toCharArray(CharHelper.java:73)\r\n    \t... 9 more\r\n    08/05/2022 17:46:47:0511 - [WARN] - Fatal error in parallel process\r\n\r\nand when I got to line 77 in my charHelper.java class I see this function - \r\n\r\n    public static char[] toCharArray(String str) throws IllegalAccessException\r\n      {\r\n        try {\r\n        \t\r\n          return (char[]) field.get(str); //line number 77 \r\n        }\r\n        catch (Exception ex) {\r\n        \t\r\n          throw new IllegalUsageError(ex);\r\n        }\r\n      }\r\n\r\nwhere **field** is an instance of ***java.lang.reflect.Field*** class and at least from the error what I can interpret is the error is converting class type Byte (B) to class type Character (C). Correct me if I am understanding this wrong and How can I resolve this error? \r\nNOTE - I noticed some stackoverflow articles around same problem and few people mentioned that they had the same problem in moving from java 1.8 but did not find any solution to fix this. Thanks","title":"Exception - class [B cannot be cast to class [C ([B and [C are in module java.base of loader &#39;bootstrap&#39;)","body":"<p>I have recently upgraded an application from Java 1.8 to Java 11 and started seeing this error</p>\n<pre><code>com.pricemax.util.exceptions.IllegalUsageError: java.lang.ClassCastException: class [B cannot be cast to class [C ([B and [C are in module java.base of loader 'bootstrap')\n    at com.pricemax.util.helpers.CharHelper.toCharArray(CharHelper.java:77)\n    at com.pricemax.etl.steps.transform.price.PricePatternParser.parse(PricePatternParser.java:87)\n    at com.pricemax.etl.steps.transform.price.PatternPriceSelector.cleanPrice(PatternPriceSelector.java:227)\n    at com.pricemax.etl.steps.transform.price.PatternPriceSelector.cleanPrice(PatternPriceSelector.java:152)\n    at com.pricemax.etl.steps.transform.price.PatternPriceSelector.performTransform(PatternPriceSelector.java:99)\n    at com.pricemax.etl.steps.transform.BaseTransform.performTransformARC(BaseTransform.java:62)\n    at com.pricemax.etl.steps.transform.BaseTransform.transformARC(BaseTransform.java:49)\n    at com.pricemax.etl.process.parallel.TransformThread.doWork(TransformThread.java:99)\n    at com.pricemax.etl.process.parallel.BaseParallelThread.run(BaseParallelThread.java:57)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ClassCastException: class [B cannot be cast to class [C ([B and [C are in module java.base of loader 'bootstrap')\n    at com.pricemax.util.helpers.CharHelper.toCharArray(CharHelper.java:73)\n    ... 9 more\n08/05/2022 17:46:47:0511 - [WARN] - Fatal error in parallel process\n</code></pre>\n<p>and when I got to line 77 in my charHelper.java class I see this function -</p>\n<pre><code>public static char[] toCharArray(String str) throws IllegalAccessException\n  {\n    try {\n        \n      return (char[]) field.get(str); //line number 77 \n    }\n    catch (Exception ex) {\n        \n      throw new IllegalUsageError(ex);\n    }\n  }\n</code></pre>\n<p>where <strong>field</strong> is an instance of <em><strong>java.lang.reflect.Field</strong></em> class and at least from the error what I can interpret is the error is converting class type Byte (B) to class type Character (C). Correct me if I am understanding this wrong and How can I resolve this error?\nNOTE - I noticed some stackoverflow articles around same problem and few people mentioned that they had the same problem in moving from java 1.8 but did not find any solution to fix this. Thanks</p>\n"},{"tags":["java","selenium","selenium-webdriver","nosuchmethoderror","selenium4"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1644003581,"post_id":70991486,"comment_id":125498675,"body_markdown":"please update pdfbox to 2.0.25 (unrelated to your problem)","body":"please update pdfbox to 2.0.25 (unrelated to your problem)"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644002849,"creation_date":1644002849,"answer_id":70991891,"question_id":70991486,"body_markdown":"This error message...\r\n\r\n\tjava.lang.NoSuchMethodError: org.openqa.selenium.WebElement.getDomAttribute(Ljava/lang/String;)Ljava/lang/String;\r\n\r\n...is the result of dependency version conflict.\r\n\r\n\r\n----------\r\n\r\n\r\nDeep Dive\r\n---------\r\nAs per _@titusfortner_ [comment](https://github.com/SeleniumHQ/selenium/issues/10051#issuecomment-973164019) in the [discussion](https://github.com/SeleniumHQ/selenium/issues/10051) you need to crosscheck that everything related to Selenium is set to _**4.x**_ and that nothing that requires Selenium _**3.x**_ (e.g., Appium 7) is included in your dependencies as _@asolntsev_ in the [comment](https://github.com/SeleniumHQ/selenium/issues/10051#issuecomment-978881869) mentions:\r\n\r\n&gt;All implementations of [WebElement](https://stackoverflow.com/a/52805139/7429447) do override method _`getDomAttribute()`_. It never throws _UnsupportedOperationException_ in real life.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nYou need to execute _`mvn dependency:tree`_ or _`gradle dependencies`_ and you will be able to trace the problem as described in this [example](https://selenide.org/2020/11/17/why-proxy-does-not-work-in-selenoid/).","title":"Selenium 4 : Getting java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.getDomAttribute(Ljava/lang/String;)Ljava/lang/String;","body":"<p>This error message...</p>\n<pre><code>java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.getDomAttribute(Ljava/lang/String;)Ljava/lang/String;\n</code></pre>\n<p>...is the result of dependency version conflict.</p>\n<hr />\n<h2>Deep Dive</h2>\n<p>As per <em>@titusfortner</em> <a href=\"https://github.com/SeleniumHQ/selenium/issues/10051#issuecomment-973164019\" rel=\"nofollow noreferrer\">comment</a> in the <a href=\"https://github.com/SeleniumHQ/selenium/issues/10051\" rel=\"nofollow noreferrer\">discussion</a> you need to crosscheck that everything related to Selenium is set to <em><strong>4.x</strong></em> and that nothing that requires Selenium <em><strong>3.x</strong></em> (e.g., Appium 7) is included in your dependencies as <em>@asolntsev</em> in the <a href=\"https://github.com/SeleniumHQ/selenium/issues/10051#issuecomment-978881869\" rel=\"nofollow noreferrer\">comment</a> mentions:</p>\n<blockquote>\n<p>All implementations of <a href=\"https://stackoverflow.com/a/52805139/7429447\">WebElement</a> do override method <em><code>getDomAttribute()</code></em>. It never throws <em>UnsupportedOperationException</em> in real life.</p>\n</blockquote>\n<hr />\n<h2>Solution</h2>\n<p>You need to execute <em><code>mvn dependency:tree</code></em> or <em><code>gradle dependencies</code></em> and you will be able to trace the problem as described in this <a href=\"https://selenide.org/2020/11/17/why-proxy-does-not-work-in-selenoid/\" rel=\"nofollow noreferrer\">example</a>.</p>\n"},{"tags":[],"owner":{"account_id":13649248,"reputation":159,"user_id":9847608,"display_name":"Sharath Chandran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659930190,"creation_date":1656283336,"answer_id":72765625,"question_id":70991486,"body_markdown":"I would try forcing below dependency in build.gradle \r\n\r\nimplementation (group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-api&#39;, version: &#39;4.1.2&#39;) { force = true }\r\n\r\nNoSuchMethod error occurs when dependency version conflict happens. If you are using lower version Appium, upgrading to following version,\r\n\r\nimplementation &#39;io.appium:java-client:8.0.0&#39;\r\n\r\nmay resolve errors.\r\n\r\n","title":"Selenium 4 : Getting java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.getDomAttribute(Ljava/lang/String;)Ljava/lang/String;","body":"<p>I would try forcing below dependency in build.gradle</p>\n<p>implementation (group: 'org.seleniumhq.selenium', name: 'selenium-api', version: '4.1.2') { force = true }</p>\n<p>NoSuchMethod error occurs when dependency version conflict happens. If you are using lower version Appium, upgrading to following version,</p>\n<p>implementation 'io.appium:java-client:8.0.0'</p>\n<p>may resolve errors.</p>\n"}],"owner":{"account_id":13612942,"reputation":289,"user_id":9819803,"display_name":"sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1855,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70991891,"answer_count":2,"score":2,"last_activity_date":1659930190,"creation_date":1644000880,"question_id":70991486,"body_markdown":"I am using selenium &quot;4.1.2&quot; with chrome 97. While selecting value from drop down using select class, getting exception:\r\n\r\n    java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.getDomAttribute(Ljava/lang/String;)Ljava/lang/String;\r\n\r\nBelow are dependencies in my project:\r\n           \r\n\r\n         \t\t\t\text {\r\n\t\t\t\t\tselenium = &#39;4.1.2&#39;\r\n\t\t\t\t\twebdrivermanager = &#39;5.0.3&#39;\r\n\t\t\t\t}\r\n\t\t\t\tdependencies {\r\n\t\t\t\t\tcompile(&quot;org.seleniumhq.selenium:selenium-java:${selenium}&quot;)\r\n\t\t\t\t//    compile(&quot;io.github.bonigarcia:webdrivermanager:${webdrivermanager}&quot;)\r\n\t\t\t\t\ttestImplementation &quot;org.seleniumhq.selenium:selenium-chrome-driver:${selenium}&quot;\r\n\t\t\t\t\ttestImplementation &quot;org.seleniumhq.selenium:selenium-firefox-driver:${selenium}&quot;\r\n\t\t\t\t\ttestImplementation &quot;org.seleniumhq.selenium:selenium-ie-driver:${selenium}&quot;\r\n\t\t\t\t\ttestImplementation &quot;org.seleniumhq.selenium:selenium-edge-driver:${selenium}&quot;\r\n\t\t\t\t\ttestImplementation &quot;org.seleniumhq.selenium:selenium-safari-driver:${selenium}&quot;\r\n\t\t\t\t\ttestImplementation &quot;org.seleniumhq.selenium:selenium-remote-driver:${selenium}&quot;\r\n\t\t\t\t\ttestImplementation &quot;org.seleniumhq.selenium:selenium-support:${selenium}&quot;\r\n\t\t\t\t\ttestImplementation(&#39;org.junit.jupiter:junit-jupiter:5.5.1&#39;)\r\n\t\t\t\t\ttestImplementation &#39;org.hamcrest:hamcrest:2.1&#39;\r\n\t\t\t\t\ttestImplementation &#39;org.hamcrest:hamcrest-library:2.1&#39;\r\n\t\t\t\t\ttestCompile(&quot;org.junit.jupiter:junit-jupiter-api:5.7.2&quot;)\r\n\t\t\t\t\ttestRuntime &#39;org.junit.jupiter:junit-jupiter-engine:5.7.2&#39;\r\n\t\t\t\t\ttestRuntime(&quot;org.junit.platform:junit-platform-launcher:1.7.2&quot;)\r\n\t\t\t\t\ttestCompile(&#39;io.github.bonigarcia:selenium-jupiter:3.3.4&#39;)\r\n\t\t\t\t\tcompile group: &#39;io.qameta.allure&#39;, name: &#39;allure-junit5&#39;, version: &#39;2.11.0&#39;\r\n\t\t\t\t\tcompile group: &#39;org.apache.pdfbox&#39;, name: &#39;pdfbox&#39;, version: &#39;2.0.16&#39;\r\n\t\t\t\t\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.17.1&#39;\r\n\t\t\t\t\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.17.1&#39;\r\n\t\t\t\t\tcompile group: &#39;io.qameta.allure&#39;, name: &#39;allure-gradle&#39;, version: &#39;2.7.0&#39;\r\n\t\t\t\t\tcompile &#39;org.apache.maven.plugins:maven-surefire-plugin:2.21.0&#39;\r\n\t\t\t\t\tcompile(&#39;com.assertthat:selenium-shutterbug:1.5&#39;)\r\n\t\t\t\t\tcompile &#39;org.slf4j:slf4j-nop:1.7.25&#39;\r\n\t\t\t\t\timplementation group: &#39;javax.mail&#39;, name: &#39;mail&#39;, version: &#39;1.4.7&#39;\r\n\t\t\t\t\timplementation group: &#39;javax.mail&#39;, name: &#39;javax.mail-api&#39;, version: &#39;1.6.2&#39;\r\n\t\t\t\t\truntimeClasspath group: &#39;javax.mail&#39;, name: &#39;javax.mail-api&#39;, version: &#39;1.6.2&#39;\r\n\t\t\t\t\tcompile group: &#39;net.lightbody.bmp&#39;, name: &#39;browsermob-core&#39;, version: &#39;2.1.4&#39;\r\n\t\t\t\t\tcompile group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.2.14&#39;\r\n\t\t\t\t\tcompile group: &#39;org.mongodb&#39;, name: &#39;mongo-java-driver&#39;, version: &#39;3.12.4&#39;\r\n\t\t\t\t\tcompile group: &#39;ru.yandex.qatools.ashot&#39;, name: &#39;ashot&#39;, version: &#39;1.5.4&#39;\r\n\t\t\t\t\timplementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20201115&#39;\r\n\t\t\t\t\timplementation group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1.1&#39;\r\n\t\t\t\t\ttestImplementation group: &#39;org.junit.platform&#39;, name: &#39;junit-platform-launcher&#39;, version: &#39;1.7.2&#39;\r\n\t\t\t\t\ttestImplementation group: &#39;org.junit.platform&#39;, name: &#39;junit-platform-runner&#39;, version: &#39;1.7.2&#39;\r\n\t\t\t\t\ttestImplementation group: &#39;org.junit.platform&#39;, name: &#39;junit-platform-surefire-provider&#39;, version: &#39;1.3.2&#39;\r\n\r\n\t\t\t\t}\r\n\r\nAny help in resolving this issue is highly appreciated.\r\n","title":"Selenium 4 : Getting java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.getDomAttribute(Ljava/lang/String;)Ljava/lang/String;","body":"<p>I am using selenium &quot;4.1.2&quot; with chrome 97. While selecting value from drop down using select class, getting exception:</p>\n<pre><code>java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.getDomAttribute(Ljava/lang/String;)Ljava/lang/String;\n</code></pre>\n<p>Below are dependencies in my project:</p>\n<pre><code>                    ext {\n                selenium = '4.1.2'\n                webdrivermanager = '5.0.3'\n            }\n            dependencies {\n                compile(&quot;org.seleniumhq.selenium:selenium-java:${selenium}&quot;)\n            //    compile(&quot;io.github.bonigarcia:webdrivermanager:${webdrivermanager}&quot;)\n                testImplementation &quot;org.seleniumhq.selenium:selenium-chrome-driver:${selenium}&quot;\n                testImplementation &quot;org.seleniumhq.selenium:selenium-firefox-driver:${selenium}&quot;\n                testImplementation &quot;org.seleniumhq.selenium:selenium-ie-driver:${selenium}&quot;\n                testImplementation &quot;org.seleniumhq.selenium:selenium-edge-driver:${selenium}&quot;\n                testImplementation &quot;org.seleniumhq.selenium:selenium-safari-driver:${selenium}&quot;\n                testImplementation &quot;org.seleniumhq.selenium:selenium-remote-driver:${selenium}&quot;\n                testImplementation &quot;org.seleniumhq.selenium:selenium-support:${selenium}&quot;\n                testImplementation('org.junit.jupiter:junit-jupiter:5.5.1')\n                testImplementation 'org.hamcrest:hamcrest:2.1'\n                testImplementation 'org.hamcrest:hamcrest-library:2.1'\n                testCompile(&quot;org.junit.jupiter:junit-jupiter-api:5.7.2&quot;)\n                testRuntime 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n                testRuntime(&quot;org.junit.platform:junit-platform-launcher:1.7.2&quot;)\n                testCompile('io.github.bonigarcia:selenium-jupiter:3.3.4')\n                compile group: 'io.qameta.allure', name: 'allure-junit5', version: '2.11.0'\n                compile group: 'org.apache.pdfbox', name: 'pdfbox', version: '2.0.16'\n                implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.17.1'\n                implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.17.1'\n                compile group: 'io.qameta.allure', name: 'allure-gradle', version: '2.7.0'\n                compile 'org.apache.maven.plugins:maven-surefire-plugin:2.21.0'\n                compile('com.assertthat:selenium-shutterbug:1.5')\n                compile 'org.slf4j:slf4j-nop:1.7.25'\n                implementation group: 'javax.mail', name: 'mail', version: '1.4.7'\n                implementation group: 'javax.mail', name: 'javax.mail-api', version: '1.6.2'\n                runtimeClasspath group: 'javax.mail', name: 'javax.mail-api', version: '1.6.2'\n                compile group: 'net.lightbody.bmp', name: 'browsermob-core', version: '2.1.4'\n                compile group: 'org.postgresql', name: 'postgresql', version: '42.2.14'\n                compile group: 'org.mongodb', name: 'mongo-java-driver', version: '3.12.4'\n                compile group: 'ru.yandex.qatools.ashot', name: 'ashot', version: '1.5.4'\n                implementation group: 'org.json', name: 'json', version: '20201115'\n                implementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'\n                testImplementation group: 'org.junit.platform', name: 'junit-platform-launcher', version: '1.7.2'\n                testImplementation group: 'org.junit.platform', name: 'junit-platform-runner', version: '1.7.2'\n                testImplementation group: 'org.junit.platform', name: 'junit-platform-surefire-provider', version: '1.3.2'\n\n            }\n</code></pre>\n<p>Any help in resolving this issue is highly appreciated.</p>\n"},{"tags":["java","spring-boot","soap"],"owner":{"account_id":18067214,"reputation":51,"user_id":13132740,"display_name":"Abhishikth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659929937,"creation_date":1659929937,"question_id":73272706,"body_markdown":"I have to send a Soap Request like shown below and receive a response.\r\n\r\nI need help in:\r\n1. Changing SOAP-ENV to soap.\r\n2. Changing the 3 urls present in Envelope\r\n3. I need help in sending this xml to my url.\r\n4. I need help in receiving and reading the xml data.\r\nI was able to partially make the request but i am still facing many issues.\r\n\r\n\r\nThis is my request:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://www.h3.org/2003/05/soap-envelope&quot; xmlns:app=&quot;http://app.omni.neweg.com&quot; xmlns:xsd=&quot;http://data.omni.neweg.com/xsd&quot;&gt;\r\n       &lt;soap:Header/&gt;\r\n       &lt;soap:Body&gt;\r\n          &lt;app:wfUploadWorkitem&gt;\r\n             &lt;!--Optional:--&gt;\r\n             &lt;app:args0&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;xsd:password&gt;***********&lt;/xsd:password&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;xsd:userName&gt;**********&lt;/xsd:userName&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;xsd:address1&gt;A25&lt;/xsd:address1&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;xsd:address2&gt;New Delhi&lt;/xsd:address2&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;xsd:address3&gt;Delhi&lt;/xsd:address3&gt;\r\n                &lt;!--Optional:--&gt;\r\n                &lt;xsd:agreement_tc&gt;Yes&lt;/xsd:agreement_tc&gt;\r\n                \r\n             &lt;/app:args0&gt;\r\n          &lt;/app:wfUploadWorkitem&gt;\r\n       &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nThis is my response: \r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://www.h3.org/2003/05/soap-envelope&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;ns:wfUploadWorkitemResponse xmlns:ns=&quot;http://app.omni.neweg.com&quot;&gt;\r\n             &lt;ns:return xsi:type=&quot;ax233:WFUploadWorkitemResponse&quot; xmlns:ax233=&quot;http://data.omni.neweg.com/xsd&quot; xmlns:ax235=&quot;http://excp.omni.neweg.com/xsd&quot; xmlns:ax236=&quot;http://rmi.java/xsd&quot; xmlns:ax237=&quot;http://io.java/xsd&quot; xmlns:xsi=&quot;http://www.h3.org/2001/XMLSchema-instance&quot;&gt;\r\n                &lt;ax233:txnStatus xsi:type=&quot;ax233:WFStatus&quot;&gt;\r\n                   &lt;ax233:description&gt;GCL-0000000070-Workflow&lt;/ax233:description&gt;\r\n                   &lt;ax233:errorType xsi:nil=&quot;true&quot;/&gt;\r\n                   &lt;ax233:mainCode&gt;0&lt;/ax233:mainCode&gt;\r\n                   &lt;ax233:subCode xsi:nil=&quot;true&quot;/&gt;\r\n                   &lt;ax233:subject xsi:nil=&quot;true&quot;/&gt;\r\n                &lt;/ax233:txnStatus&gt;\r\n                &lt;ax233:folderIndex&gt;44926240&lt;/ax233:folderIndex&gt;\r\n                &lt;ax233:processInstanceId&gt;GCL-0000000070-Workflow&lt;/ax233:processInstanceId&gt;\r\n             &lt;/ns:return&gt;\r\n          &lt;/ns:wfUploadWorkitemResponse&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nSo far I was able to find this sample code [here][1] and tried to customize it:\r\n\t\r\n\r\n    try{\r\n    \t\tMessageFactory factory = MessageFactory.newInstance();\r\n    \t\tSOAPMessage soapMsg = factory.createMessage();\r\n    \t\tSOAPPart part = soapMsg.getSOAPPart();\r\n    \r\n    \t\tSOAPEnvelope envelope = part.getEnvelope();\r\n    \t\tSOAPHeader header = envelope.getHeader();\r\n    \t\tSOAPBody body = envelope.getBody();\r\n    \r\n    \t\theader.addTextNode(&quot;&quot;);\r\n    \r\n    \t\tSOAPBodyElement element0 = body.addBodyElement(envelope.createName(&quot;address1&quot;, &quot;xsd&quot;, &quot;&quot;));\r\n            element.addTextNode(&quot;A25&quot;);\r\n    \r\n    \t\tSOAPBodyElement element1 = body.addBodyElement(envelope.createName(&quot;address2&quot;, &quot;xsd&quot;, &quot;&quot;));\r\n    \t\telement1.addTextNode(&quot;New Delhi&quot;);\r\n    \r\n\r\n\t\t\tSOAPBodyElement rootElement1 = body.addBodyElement(envelope.createName(&quot;wfUploadWorkitem&quot;,&quot;app&quot;,&quot;&quot;));\r\n\t\t\tSOAPBodyElement rootElement2 = body.addBodyElement(envelope.createName(&quot;args0&quot;,&quot;app&quot;,&quot;&quot;));\r\n\t\t\trootElement1.addChildElement(rootElement2);\r\n\t\t\trootElement2.addChildElement(element0);\r\n\t\t\trootElement2.addChildElement(element1);\r\n\r\n    \t\tsoapMsg.writeTo(System.out);\r\n    \r\n    \t\tFileOutputStream fOut = new FileOutputStream(&quot;SoapMessage.xml&quot;);\r\n    \t\tsoapMsg.writeTo(fOut);\r\n    \r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;SOAP msg created&quot;);\r\n    \r\n    \t}catch(Exception e){\r\n    \t\te.printStackTrace();\r\n    \t} \r\n\r\nAny help is very much appreciated.\r\n\r\n  [1]: https://www.jitendrazaa.com/blog/java/create-soap-message-using-java/","title":"How to create a xml SOAP request in Java and read the response received","body":"<p>I have to send a Soap Request like shown below and receive a response.</p>\n<p>I need help in:</p>\n<ol>\n<li>Changing SOAP-ENV to soap.</li>\n<li>Changing the 3 urls present in Envelope</li>\n<li>I need help in sending this xml to my url.</li>\n<li>I need help in receiving and reading the xml data.\nI was able to partially make the request but i am still facing many issues.</li>\n</ol>\n<p>This is my request:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://www.h3.org/2003/05/soap-envelope&quot; xmlns:app=&quot;http://app.omni.neweg.com&quot; xmlns:xsd=&quot;http://data.omni.neweg.com/xsd&quot;&gt;\n   &lt;soap:Header/&gt;\n   &lt;soap:Body&gt;\n      &lt;app:wfUploadWorkitem&gt;\n         &lt;!--Optional:--&gt;\n         &lt;app:args0&gt;\n            &lt;!--Optional:--&gt;\n            &lt;xsd:password&gt;***********&lt;/xsd:password&gt;\n            &lt;!--Optional:--&gt;\n            &lt;xsd:userName&gt;**********&lt;/xsd:userName&gt;\n            &lt;!--Optional:--&gt;\n            &lt;xsd:address1&gt;A25&lt;/xsd:address1&gt;\n            &lt;!--Optional:--&gt;\n            &lt;xsd:address2&gt;New Delhi&lt;/xsd:address2&gt;\n            &lt;!--Optional:--&gt;\n            &lt;xsd:address3&gt;Delhi&lt;/xsd:address3&gt;\n            &lt;!--Optional:--&gt;\n            &lt;xsd:agreement_tc&gt;Yes&lt;/xsd:agreement_tc&gt;\n            \n         &lt;/app:args0&gt;\n      &lt;/app:wfUploadWorkitem&gt;\n   &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>This is my response:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://www.h3.org/2003/05/soap-envelope&quot;&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;ns:wfUploadWorkitemResponse xmlns:ns=&quot;http://app.omni.neweg.com&quot;&gt;\n         &lt;ns:return xsi:type=&quot;ax233:WFUploadWorkitemResponse&quot; xmlns:ax233=&quot;http://data.omni.neweg.com/xsd&quot; xmlns:ax235=&quot;http://excp.omni.neweg.com/xsd&quot; xmlns:ax236=&quot;http://rmi.java/xsd&quot; xmlns:ax237=&quot;http://io.java/xsd&quot; xmlns:xsi=&quot;http://www.h3.org/2001/XMLSchema-instance&quot;&gt;\n            &lt;ax233:txnStatus xsi:type=&quot;ax233:WFStatus&quot;&gt;\n               &lt;ax233:description&gt;GCL-0000000070-Workflow&lt;/ax233:description&gt;\n               &lt;ax233:errorType xsi:nil=&quot;true&quot;/&gt;\n               &lt;ax233:mainCode&gt;0&lt;/ax233:mainCode&gt;\n               &lt;ax233:subCode xsi:nil=&quot;true&quot;/&gt;\n               &lt;ax233:subject xsi:nil=&quot;true&quot;/&gt;\n            &lt;/ax233:txnStatus&gt;\n            &lt;ax233:folderIndex&gt;44926240&lt;/ax233:folderIndex&gt;\n            &lt;ax233:processInstanceId&gt;GCL-0000000070-Workflow&lt;/ax233:processInstanceId&gt;\n         &lt;/ns:return&gt;\n      &lt;/ns:wfUploadWorkitemResponse&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>So far I was able to find this sample code <a href=\"https://www.jitendrazaa.com/blog/java/create-soap-message-using-java/\" rel=\"nofollow noreferrer\">here</a> and tried to customize it:</p>\n<pre><code>try{\n        MessageFactory factory = MessageFactory.newInstance();\n        SOAPMessage soapMsg = factory.createMessage();\n        SOAPPart part = soapMsg.getSOAPPart();\n\n        SOAPEnvelope envelope = part.getEnvelope();\n        SOAPHeader header = envelope.getHeader();\n        SOAPBody body = envelope.getBody();\n\n        header.addTextNode(&quot;&quot;);\n\n        SOAPBodyElement element0 = body.addBodyElement(envelope.createName(&quot;address1&quot;, &quot;xsd&quot;, &quot;&quot;));\n        element.addTextNode(&quot;A25&quot;);\n\n        SOAPBodyElement element1 = body.addBodyElement(envelope.createName(&quot;address2&quot;, &quot;xsd&quot;, &quot;&quot;));\n        element1.addTextNode(&quot;New Delhi&quot;);\n\n\n        SOAPBodyElement rootElement1 = body.addBodyElement(envelope.createName(&quot;wfUploadWorkitem&quot;,&quot;app&quot;,&quot;&quot;));\n        SOAPBodyElement rootElement2 = body.addBodyElement(envelope.createName(&quot;args0&quot;,&quot;app&quot;,&quot;&quot;));\n        rootElement1.addChildElement(rootElement2);\n        rootElement2.addChildElement(element0);\n        rootElement2.addChildElement(element1);\n\n        soapMsg.writeTo(System.out);\n\n        FileOutputStream fOut = new FileOutputStream(&quot;SoapMessage.xml&quot;);\n        soapMsg.writeTo(fOut);\n\n        System.out.println();\n        System.out.println(&quot;SOAP msg created&quot;);\n\n    }catch(Exception e){\n        e.printStackTrace();\n    } \n</code></pre>\n<p>Any help is very much appreciated.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1659684691,"post_id":73244443,"comment_id":129357297,"body_markdown":"You can try `java.awt.Robot` and do `mouseMove(0,0)`","body":"You can try <code>java.awt.Robot</code> and do <code>mouseMove(0,0)</code>"},{"owner":{"account_id":8178335,"reputation":89,"user_id":6156391,"display_name":"Divya"},"score":0,"creation_date":1659925645,"post_id":73244443,"comment_id":129403006,"body_markdown":"Thanks @AlexeyR. I used Robot class but it does not seem to work. I followed [link][https://stackoverflow.com/questions/47538559/java-robot-class-mousemove-not-going-to-specified-location]. The mouse does not move.            `userid.sendKeys(&quot;ABC&quot;);\n      for (int i = 1; i &lt; 3; i++) {\nrobot.mouseMove(0, 0);\nSystem.out.println(&quot;Attempt &quot;+i+&quot; : &quot;+ MouseInfo.getPointerInfo().getLocation().getX() + &quot; , &quot;\n                        + MouseInfo.getPointerInfo().getLocation().getY());\n            }\n            userid.click();\n            userid.sendKeys(&quot;123&quot;);`","body":"Thanks @AlexeyR. I used Robot class but it does not seem to work. I followed [link][<a href=\"https://stackoverflow.com/questions/47538559/java-robot-class-mousemove-not-going-to-specified-location]\" title=\"java robot class mousemove not going to specified location%5d\">stackoverflow.com/questions/47538559/&hellip;</a>. The mouse does not move.            <code>userid.sendKeys(&quot;ABC&quot;);       for (int i = 1; i &lt; 3; i++) { robot.mouseMove(0, 0); System.out.println(&quot;Attempt &quot;+i+&quot; : &quot;+ MouseInfo.getPointerInfo().getLocation().getX() + &quot; , &quot;                         + MouseInfo.getPointerInfo().getLocation().getY());             }             userid.click();             userid.sendKeys(&quot;123&quot;);</code>"}],"owner":{"account_id":8178335,"reputation":89,"user_id":6156391,"display_name":"Divya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659926090,"creation_date":1659671314,"question_id":73244443,"body_markdown":"The system under test records if the user has moved outside of the page, basically to check if the user is copy/pasting the username/ password and other details when filling a form. The test needs to be done in various browsers and different versions of the browser. \r\nTo automate this test, I am using Actions class. This code works fine with Chrome 90.0 and below. With higher versions of Chrome, org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds is being thrown. \r\n\r\nPlease help.\r\n\r\n```\r\nAction mouseOffUserid =\r\n        builder.moveToElement(userid).click().sendKeys(userid, &quot;senkeytestOFFPAGE&quot;).moveByOffset(0, -1 * 120).moveByOffset(0, 120).build();\r\n\r\nAction mouseOffPsw =\r\n        builder.moveToElement(psw).click().sendKeys(psw, &quot;senkeytestOFFPAGE&quot;).moveByOffset(0, -1 * (150 + adjustYOffset)).moveByOffset(0, 150 + adjustYOffset).build();\r\n\r\nAction mouseClickUserid = builder.moveToElement(userid).click().sendKeys(userid, &quot;senkeytest&quot;).build();\r\n//going off page from userid\r\nmouseOffUserid.perform();\r\nQueryManager.giveDelay(1000);\r\n//going off page from psw\r\nmouseOffPsw.perform();\r\nQueryManager.giveDelay(1000);\r\n```\r\n\r\nUsing Robot class as well did not help. The mouse just does not move.  I followed [java-robot-class-mousemove-not-going-to-specified-location][1]\r\n```\r\n`userid.sendKeys(&quot;ABC&quot;);\r\n      for (int i = 1; i &lt; 3; i++) {\r\nrobot.mouseMove(0, 0);\r\nSystem.out.println(&quot;Attempt &quot;+i+&quot; : &quot;+ MouseInfo.getPointerInfo().getLocation().getX() + &quot; , &quot;\r\n                        + MouseInfo.getPointerInfo().getLocation().getY());\r\n            }\r\n            userid.click();\r\n            userid.sendKeys(&quot;123&quot;);```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47538559/java-robot-class-mousemove-not-going-to-specified-location","title":"Selenium - Move the mouse cursor off page and return to page","body":"<p>The system under test records if the user has moved outside of the page, basically to check if the user is copy/pasting the username/ password and other details when filling a form. The test needs to be done in various browsers and different versions of the browser.\nTo automate this test, I am using Actions class. This code works fine with Chrome 90.0 and below. With higher versions of Chrome, org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds is being thrown.</p>\n<p>Please help.</p>\n<pre><code>Action mouseOffUserid =\n        builder.moveToElement(userid).click().sendKeys(userid, &quot;senkeytestOFFPAGE&quot;).moveByOffset(0, -1 * 120).moveByOffset(0, 120).build();\n\nAction mouseOffPsw =\n        builder.moveToElement(psw).click().sendKeys(psw, &quot;senkeytestOFFPAGE&quot;).moveByOffset(0, -1 * (150 + adjustYOffset)).moveByOffset(0, 150 + adjustYOffset).build();\n\nAction mouseClickUserid = builder.moveToElement(userid).click().sendKeys(userid, &quot;senkeytest&quot;).build();\n//going off page from userid\nmouseOffUserid.perform();\nQueryManager.giveDelay(1000);\n//going off page from psw\nmouseOffPsw.perform();\nQueryManager.giveDelay(1000);\n</code></pre>\n<p>Using Robot class as well did not help. The mouse just does not move.  I followed [java-robot-class-mousemove-not-going-to-specified-location][1]</p>\n<pre><code>`userid.sendKeys(&quot;ABC&quot;);\n      for (int i = 1; i &lt; 3; i++) {\nrobot.mouseMove(0, 0);\nSystem.out.println(&quot;Attempt &quot;+i+&quot; : &quot;+ MouseInfo.getPointerInfo().getLocation().getX() + &quot; , &quot;\n                        + MouseInfo.getPointerInfo().getLocation().getY());\n            }\n            userid.click();\n            userid.sendKeys(&quot;123&quot;);```\n\n\n  [1]: https://stackoverflow.com/questions/47538559/java-robot-class-mousemove-not-going-to-specified-location\n</code></pre>\n"},{"tags":["java","linux","docker"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1659925506,"post_id":73272382,"comment_id":129402984,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659932436,"post_id":73272382,"comment_id":129403795,"body_markdown":"Creating files does not necessarily mean a jump in memory usage, rather keeping or loading entire files in memory would increase memory usage. Once memory has been allocated to the JVM it is not easily released because the JVM expects to use a similar amount of memory for future actions, this is normal and expected behaviour. I don&#39;t know how your code operations, and why &#39;rm&#39; causes memory to be freed, but it is likely related to your code. If you want specific information please show the code, and include more information about what you are attempting to achieve.","body":"Creating files does not necessarily mean a jump in memory usage, rather keeping or loading entire files in memory would increase memory usage. Once memory has been allocated to the JVM it is not easily released because the JVM expects to use a similar amount of memory for future actions, this is normal and expected behaviour. I don&#39;t know how your code operations, and why &#39;rm&#39; causes memory to be freed, but it is likely related to your code. If you want specific information please show the code, and include more information about what you are attempting to achieve."},{"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"score":0,"creation_date":1659947119,"post_id":73272382,"comment_id":129407106,"body_markdown":"Is it possible that somme processes stopped when you removed the log file, thus releasing the memory ?","body":"Is it possible that somme processes stopped when you removed the log file, thus releasing the memory ?"}],"owner":{"account_id":26004435,"reputation":1,"user_id":19714368,"display_name":"boxzz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659925515,"creation_date":1659925334,"question_id":73272382,"body_markdown":"Creating disk files causes the free memory to become small.But,the java process still work with no OOM.The memory will get better after deleting the disk file with command &#39;rm&#39;.\r\n[enter image description here][1]\r\nenv:\r\njdk:jdk8u202\r\nlinux:CentOS Linux release 7.6.1810 (Core)\r\ndocker:\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9uhIF.png","title":"Creating disk files causes the free memory to become small in docker","body":"<p>Creating disk files causes the free memory to become small.But,the java process still work with no OOM.The memory will get better after deleting the disk file with command 'rm'.\n<a href=\"https://i.stack.imgur.com/9uhIF.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nenv:\njdk:jdk8u202\nlinux:CentOS Linux release 7.6.1810 (Core)\ndocker:</p>\n"},{"tags":["java","jdbc","resultset"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1659904521,"post_id":73270781,"comment_id":129400213,"body_markdown":"Yes, don&#39;t close the connection in this case. The ResultSet does not contain all the data right away but might retrieve parts of it when you call `next()`. That requires the connection to still be open.","body":"Yes, don&#39;t close the connection in this case. The ResultSet does not contain all the data right away but might retrieve parts of it when you call <code>next()</code>. That requires the connection to still be open."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1659904626,"post_id":73270781,"comment_id":129400233,"body_markdown":"If I recall, once the ResultSet has been used for a query, the reference to that ResultSet is cleared. You would need to query again to get reference to another ResultSet. Once you have run the query, place the ResultSet into a List Interface of Object (`List&lt;Object&gt;`).","body":"If I recall, once the ResultSet has been used for a query, the reference to that ResultSet is cleared. You would need to query again to get reference to another ResultSet. Once you have run the query, place the ResultSet into a List Interface of Object (<code>List&lt;Object&gt;</code>)."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":5,"creation_date":1659905051,"post_id":73270781,"comment_id":129400307,"body_markdown":"You should not return a ResultSet, ever.  You should load the response into an object or collection and close the ResultSet in method scope.  A ResultSet is a cursor on the database server.  You lose responsibility to close it if you return it to the caller.  Your app risks exhausting cursors with this arrangement.","body":"You should not return a ResultSet, ever.  You should load the response into an object or collection and close the ResultSet in method scope.  A ResultSet is a cursor on the database server.  You lose responsibility to close it if you return it to the caller.  Your app risks exhausting cursors with this arrangement."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659909649,"post_id":73270781,"comment_id":129401195,"body_markdown":"@duffymo On the contrary, some of the sub-interfaces of `RowSet` (itself a sub-interface of `ResultSet`) are indeed designed to return a `ResultSet`. Implementations of those `RowSet` interfaces resolve the cursor issue in various ways.","body":"@duffymo On the contrary, some of the sub-interfaces of <code>RowSet</code> (itself a sub-interface of <code>ResultSet</code>) are indeed designed to return a <code>ResultSet</code>. Implementations of those <code>RowSet</code> interfaces resolve the cursor issue in various ways."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1659909855,"post_id":73270781,"comment_id":129401228,"body_markdown":"I do not recommend it.   Please feel feee to do as you wish.","body":"I do not recommend it.   Please feel feee to do as you wish."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659904577,"creation_date":1659904577,"answer_id":73270872,"question_id":73270781,"body_markdown":"When you execute a query and obtain a ResultSet, the data has not yet transferred from the database into your JVM. Consider having a huge database, much larger than your RAM (that is usually the reason to run a database at all) and therefore you need to process the result record by record.\r\n\r\nThe pattern is to \r\n\r\n    while (rs.next()) {\r\n        // do something about the record loaded into the ResultSet now\r\n    }\r\n    rs.close();\r\n\r\nIf you close the database connection before you looped through the resultset you eliminate the chance of loading further records. The exception just indicates this situation.\r\n\r\nOn the other hand, not closing the resultset would mean you wait until it gets garbage collected. Until then it stays in memory, and the database needs to stay ready to deliver the data in case next() were called. That also means all records that may be locked stay locked until the garbage collector kicks in - which may result in performance penalties or even deadlocks.\r\n\r\nThe question would be why you need to close the connection before processing the data.","title":"Returning resultSet in java JDBC","body":"<p>When you execute a query and obtain a ResultSet, the data has not yet transferred from the database into your JVM. Consider having a huge database, much larger than your RAM (that is usually the reason to run a database at all) and therefore you need to process the result record by record.</p>\n<p>The pattern is to</p>\n<pre><code>while (rs.next()) {\n    // do something about the record loaded into the ResultSet now\n}\nrs.close();\n</code></pre>\n<p>If you close the database connection before you looped through the resultset you eliminate the chance of loading further records. The exception just indicates this situation.</p>\n<p>On the other hand, not closing the resultset would mean you wait until it gets garbage collected. Until then it stays in memory, and the database needs to stay ready to deliver the data in case next() were called. That also means all records that may be locked stay locked until the garbage collector kicks in - which may result in performance penalties or even deadlocks.</p>\n<p>The question would be why you need to close the connection before processing the data.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659924816,"creation_date":1659909097,"answer_id":73271304,"question_id":73270781,"body_markdown":"# `RowSet`\r\n\r\nIf you really want to return a `ResultSet` after closing a connection, use its sub-interface, [`RowSet`][1]. \r\n\r\nMore specifically, you will want one of the disconnected `RowSet` types. These include:  \r\n \r\n - [`CachedRowSet`][2]\r\n - [`WebRowSet`][3]\r\n - [`JoinRowSet`][4] \r\n - [`FilteredRowSet`][5]\r\n\r\n… as described [here][6].\r\n\r\nFor more info, do [a Web search][1]. And see *The Java Tutorials* by Oracle Corp free-of-cost, [*Using RowSet Objects*][7]. And search Stack Overflow to learn more.\r\n\r\nTo get a `RowSet` object, you will need an implementation of the interfaces. In modern Java, the [`RowSetProvider`][8] and [`RowSetFactory`][9] classes are used to automatically locate the presence of an implementation. Discussed on [this Question](https://stackoverflow.com/q/25592162/642706). \r\n\r\nA JDK based on the OpenJDK codebase will likely come bundled with the open-source [`com.sun.rowset.CachedRowSetImpl`][10] implementation of `CachedRowSet` used in example code below.\r\n\r\nCaveat: The *RowSet* feature in Java seems to have gone largely ignored by much of the Java community, for reasons I cannot fathom. I suspect it came too late, after many folks moved onto other paradigms, and [ORMs][11], and such. But a `RowSet` does provide precisely what you asked for: A `ResulSet` that works after closing the `Connection`. \r\n\r\n## Example code\r\n\r\nHere is a complete example app of a `CachedRowSet` containing data *after* disconnecting from database. \r\n\r\nThis code uses the [H2 Database Engine][12]. The created database is in-memory, no file storage, so it is ephemeral. \r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport org.h2.jdbcx.JdbcDataSource;\r\n\r\nimport javax.sql.DataSource;\r\nimport javax.sql.rowset.CachedRowSet;\r\nimport javax.sql.rowset.RowSetProvider;\r\nimport java.sql.*;\r\nimport java.time.Instant;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Example of using a disconnected RowSet, specifically a CachedRowSet,\r\n * to keep a ResultSet even after disconnecting from database.\r\n */\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        System.out.println( &quot;Hello World! &quot; + Instant.now() );\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        DataSource dataSource = this.getDataSource();\r\n        this.createDatabase( dataSource );\r\n        this.populateTable( dataSource );\r\n        this.dumpTable( dataSource );\r\n        CachedRowSet rowSet = this.fetchRowSet( dataSource );\r\n        this.reportRowSet( rowSet );\r\n    }\r\n\r\n    private DataSource getDataSource ( )\r\n    {\r\n        JdbcDataSource ds = new JdbcDataSource(); // The `javax.sql.DataSource` interface implemented by `org.h2.jdbcx.JdbcDataSource`.\r\n        ds.setURL( &quot;jdbc:h2:mem:&quot; + &quot;RowSetExDb&quot; + &quot;;DB_CLOSE_DELAY=-1&quot; );  // Set delay to -1 to keep in-memory database even after last connection closed.\r\n        ds.setUser( &quot;scott&quot; );\r\n        ds.setPassword( &quot;tiger&quot; );\r\n        ds.setDescription( &quot;Dummy database for demo showing how to use a RowSet after closing connection.&quot; );\r\n        return ds; // Generalizing from the concrete class to the interface.\r\n    }\r\n\r\n    private void createDatabase ( final DataSource dataSource )\r\n    {\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n        )\r\n        {\r\n            try ( Statement stmt = conn.createStatement() ; )\r\n            {\r\n                String sql =\r\n                        &quot;&quot;&quot;\r\n                        CREATE TABLE person_ ( \r\n                            pkey_ UUID DEFAULT random_uuid() PRIMARY KEY , \r\n                            name_ VARCHAR NOT NULL \r\n                        ) ;\r\n                        &quot;&quot;&quot;;\r\n                stmt.execute( sql );\r\n            }\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException( e );\r\n        }\r\n    }\r\n\r\n    private void populateTable ( final DataSource dataSource )\r\n    {\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n        )\r\n        {\r\n            String sql =\r\n                    &quot;&quot;&quot;\r\n                    INSERT INTO person_ ( name_ ) \r\n                    VALUES ( ? ) \r\n                    ;\r\n                    &quot;&quot;&quot;;\r\n\r\n            List &lt; String &gt; names = List.of( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; , &quot;Davis&quot; ); // Insert a row for each of these names.\r\n            System.out.println( &quot;Inserting list of names: &quot; + names );\r\n            try (\r\n                    PreparedStatement ps = conn.prepareStatement( sql ) ;\r\n            )\r\n            {\r\n                for ( String name : names )\r\n                {\r\n                    ps.setString( 1 , name );\r\n                    ps.executeUpdate();\r\n                }\r\n            }\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException( e );\r\n        }\r\n    }\r\n\r\n    private void dumpTable ( final DataSource dataSource )\r\n    {\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n        )\r\n        {\r\n            // Retrieve rows from a `ResultSet`.\r\n            String sql =\r\n                    &quot;&quot;&quot;\r\n                    SELECT * \r\n                    FROM person_ \r\n                    ;\r\n                    &quot;&quot;&quot;;\r\n            try (\r\n                    Statement stmt = conn.createStatement() ;\r\n                    ResultSet rs = stmt.executeQuery( sql ) ;\r\n            )\r\n            {\r\n                record Person( UUID id , String name ) { }\r\n                while ( rs.next() )\r\n                {\r\n                    UUID pkey = rs.getObject( &quot;pkey_&quot; , UUID.class );\r\n                    String name = rs.getString( &quot;name_&quot; );\r\n                    System.out.println( new Person( pkey , name ) );\r\n                }\r\n            }\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException( e );\r\n        }\r\n    }\r\n\r\n    private CachedRowSet fetchRowSet ( final DataSource dataSource )\r\n    {\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n        )\r\n        {\r\n            // Retrieve rows from a `ResultSet`.\r\n            String sql =\r\n                    &quot;&quot;&quot;\r\n                    SELECT * \r\n                    FROM person_ \r\n                    ;\r\n                    &quot;&quot;&quot;;\r\n            try (\r\n                    Statement stmt = conn.createStatement() ;\r\n                    ResultSet rs = stmt.executeQuery( sql ) ;\r\n            )\r\n            {\r\n                CachedRowSet crs = RowSetProvider.newFactory().createCachedRowSet();\r\n                crs.populate( rs );\r\n                return crs;\r\n            }\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException( e );\r\n        }\r\n    }\r\n\r\n    private void reportRowSet ( final CachedRowSet cachedRowSet )\r\n    {\r\n        try\r\n        {\r\n            System.out.println( &quot;*****|  CachedRowSet without Connection  |**************&quot; );\r\n            while ( cachedRowSet.next() )\r\n            {\r\n                String pkey = cachedRowSet.getString( &quot;pkey_&quot; );  // Using `String` rather than `UUID` as the default implementation of CachedRowSet does not support accessing as UUID object.\r\n                String name = cachedRowSet.getString( &quot;name_&quot; );\r\n\r\n                String message = &quot;pkey = &quot; + pkey + &quot; | name = &quot; + name;\r\n                System.out.println( message );\r\n            }\r\n            System.out.println( &quot;**************************************************&quot; );\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException( e );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nHello World! 2022-08-07T23:26:43.721898Z\r\nInserting list of names: [Alice, Bob, Carol, Davis]\r\nPerson[id=8c5329fd-5abb-4a65-ad41-5e32914b166b, name=Alice]\r\nPerson[id=6ed97068-ed14-4be4-a2a0-0bf4ad113862, name=Bob]\r\nPerson[id=91b335b5-aa6f-4689-b2f4-eff2fea51d76, name=Carol]\r\nPerson[id=d600cffe-1c65-4e33-bfb1-59ac1b4de7af, name=Davis]\r\n*****|  CachedRowSet without Connection  |**************\r\npkey = 8c5329fd-5abb-4a65-ad41-5e32914b166b | name = Alice\r\npkey = 6ed97068-ed14-4be4-a2a0-0bf4ad113862 | name = Bob\r\npkey = 91b335b5-aa6f-4689-b2f4-eff2fea51d76 | name = Carol\r\npkey = d600cffe-1c65-4e33-bfb1-59ac1b4de7af | name = Davis\r\n**************************************************\r\n```\r\n\r\nNote that a `RowSet` object is also a `ResultSet` object. You can use a `RowSet` wherever you would have used a `ResultSet`, subject to the limits of its interface and class implementation.\r\n\r\n# `record`\r\n\r\nAnother approach is to define a [Data-Transfer Object (DTO)][13]. \r\n\r\nThe new [record][14] feature in Java 16+ can be ideal for this purpose of communicating data transparently and immutably. With a record, you merely declare the type and name of each member field. The compiler implicitly creates the constructor, accessors, `equals` &amp; `hashCode`, and `toString`. \r\n\r\nYou write code to loop through your `ResultSet` rows, copying the data into record objects, and storing in a `List` or `Set`. \r\n\r\nSee example code above for a record being declared locally, and instantiated with data retrieved from database. Excerpt:\r\n\r\n```java\r\n                record Person( UUID id , String name ) { }\r\n                while ( rs.next() )\r\n                {\r\n                    UUID pkey = rs.getObject( &quot;pkey_&quot; , UUID.class );\r\n                    String name = rs.getString( &quot;name_&quot; );\r\n                    System.out.println( new Person( pkey , name ) );\r\n                }\r\n```\r\n\r\nYou could make a new [`List&lt; Person &gt;`][15] such as [`ArrayList`][16], and [`add`][17] each new `Person` object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/RowSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/CachedRowSet.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/WebRowSet.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/JdbcRowSet.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/FilteredRowSet.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html#kinds_of_rowset_objects\r\n  [7]: https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html\r\n  [8]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetProvider.html\r\n  [9]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetFactory.html\r\n  [10]: https://github.com/openjdk/jdk/blob/master/src/java.sql.rowset/share/classes/com/sun/rowset/CachedRowSetImpl.java\r\n  [11]: https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping\r\n  [12]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [13]: https://en.wikipedia.org/wiki/Data_transfer_object\r\n  [14]: https://openjdk.org/jeps/395\r\n  [15]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\r\n  [16]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html\r\n  [17]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#add(E)","title":"Returning resultSet in java JDBC","body":"<h1><code>RowSet</code></h1>\n<p>If you really want to return a <code>ResultSet</code> after closing a connection, use its sub-interface, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/RowSet.html\" rel=\"nofollow noreferrer\"><code>RowSet</code></a>.</p>\n<p>More specifically, you will want one of the disconnected <code>RowSet</code> types. These include:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/CachedRowSet.html\" rel=\"nofollow noreferrer\"><code>CachedRowSet</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/WebRowSet.html\" rel=\"nofollow noreferrer\"><code>WebRowSet</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/JdbcRowSet.html\" rel=\"nofollow noreferrer\"><code>JoinRowSet</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/FilteredRowSet.html\" rel=\"nofollow noreferrer\"><code>FilteredRowSet</code></a></li>\n</ul>\n<p>… as described <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html#kinds_of_rowset_objects\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For more info, do <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/RowSet.html\" rel=\"nofollow noreferrer\">a Web search</a>. And see <em>The Java Tutorials</em> by Oracle Corp free-of-cost, <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html\" rel=\"nofollow noreferrer\"><em>Using RowSet Objects</em></a>. And search Stack Overflow to learn more.</p>\n<p>To get a <code>RowSet</code> object, you will need an implementation of the interfaces. In modern Java, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetProvider.html\" rel=\"nofollow noreferrer\"><code>RowSetProvider</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetFactory.html\" rel=\"nofollow noreferrer\"><code>RowSetFactory</code></a> classes are used to automatically locate the presence of an implementation. Discussed on <a href=\"https://stackoverflow.com/q/25592162/642706\">this Question</a>.</p>\n<p>A JDK based on the OpenJDK codebase will likely come bundled with the open-source <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.sql.rowset/share/classes/com/sun/rowset/CachedRowSetImpl.java\" rel=\"nofollow noreferrer\"><code>com.sun.rowset.CachedRowSetImpl</code></a> implementation of <code>CachedRowSet</code> used in example code below.</p>\n<p>Caveat: The <em>RowSet</em> feature in Java seems to have gone largely ignored by much of the Java community, for reasons I cannot fathom. I suspect it came too late, after many folks moved onto other paradigms, and <a href=\"https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping\" rel=\"nofollow noreferrer\">ORMs</a>, and such. But a <code>RowSet</code> does provide precisely what you asked for: A <code>ResulSet</code> that works after closing the <code>Connection</code>.</p>\n<h2>Example code</h2>\n<p>Here is a complete example app of a <code>CachedRowSet</code> containing data <em>after</em> disconnecting from database.</p>\n<p>This code uses the <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2 Database Engine</a>. The created database is in-memory, no file storage, so it is ephemeral.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport org.h2.jdbcx.JdbcDataSource;\n\nimport javax.sql.DataSource;\nimport javax.sql.rowset.CachedRowSet;\nimport javax.sql.rowset.RowSetProvider;\nimport java.sql.*;\nimport java.time.Instant;\nimport java.util.List;\nimport java.util.UUID;\n\n/**\n * Example of using a disconnected RowSet, specifically a CachedRowSet,\n * to keep a ResultSet even after disconnecting from database.\n */\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        System.out.println( &quot;Hello World! &quot; + Instant.now() );\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        DataSource dataSource = this.getDataSource();\n        this.createDatabase( dataSource );\n        this.populateTable( dataSource );\n        this.dumpTable( dataSource );\n        CachedRowSet rowSet = this.fetchRowSet( dataSource );\n        this.reportRowSet( rowSet );\n    }\n\n    private DataSource getDataSource ( )\n    {\n        JdbcDataSource ds = new JdbcDataSource(); // The `javax.sql.DataSource` interface implemented by `org.h2.jdbcx.JdbcDataSource`.\n        ds.setURL( &quot;jdbc:h2:mem:&quot; + &quot;RowSetExDb&quot; + &quot;;DB_CLOSE_DELAY=-1&quot; );  // Set delay to -1 to keep in-memory database even after last connection closed.\n        ds.setUser( &quot;scott&quot; );\n        ds.setPassword( &quot;tiger&quot; );\n        ds.setDescription( &quot;Dummy database for demo showing how to use a RowSet after closing connection.&quot; );\n        return ds; // Generalizing from the concrete class to the interface.\n    }\n\n    private void createDatabase ( final DataSource dataSource )\n    {\n        try (\n                Connection conn = dataSource.getConnection() ;\n        )\n        {\n            try ( Statement stmt = conn.createStatement() ; )\n            {\n                String sql =\n                        &quot;&quot;&quot;\n                        CREATE TABLE person_ ( \n                            pkey_ UUID DEFAULT random_uuid() PRIMARY KEY , \n                            name_ VARCHAR NOT NULL \n                        ) ;\n                        &quot;&quot;&quot;;\n                stmt.execute( sql );\n            }\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException( e );\n        }\n    }\n\n    private void populateTable ( final DataSource dataSource )\n    {\n        try (\n                Connection conn = dataSource.getConnection() ;\n        )\n        {\n            String sql =\n                    &quot;&quot;&quot;\n                    INSERT INTO person_ ( name_ ) \n                    VALUES ( ? ) \n                    ;\n                    &quot;&quot;&quot;;\n\n            List &lt; String &gt; names = List.of( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; , &quot;Davis&quot; ); // Insert a row for each of these names.\n            System.out.println( &quot;Inserting list of names: &quot; + names );\n            try (\n                    PreparedStatement ps = conn.prepareStatement( sql ) ;\n            )\n            {\n                for ( String name : names )\n                {\n                    ps.setString( 1 , name );\n                    ps.executeUpdate();\n                }\n            }\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException( e );\n        }\n    }\n\n    private void dumpTable ( final DataSource dataSource )\n    {\n        try (\n                Connection conn = dataSource.getConnection() ;\n        )\n        {\n            // Retrieve rows from a `ResultSet`.\n            String sql =\n                    &quot;&quot;&quot;\n                    SELECT * \n                    FROM person_ \n                    ;\n                    &quot;&quot;&quot;;\n            try (\n                    Statement stmt = conn.createStatement() ;\n                    ResultSet rs = stmt.executeQuery( sql ) ;\n            )\n            {\n                record Person( UUID id , String name ) { }\n                while ( rs.next() )\n                {\n                    UUID pkey = rs.getObject( &quot;pkey_&quot; , UUID.class );\n                    String name = rs.getString( &quot;name_&quot; );\n                    System.out.println( new Person( pkey , name ) );\n                }\n            }\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException( e );\n        }\n    }\n\n    private CachedRowSet fetchRowSet ( final DataSource dataSource )\n    {\n        try (\n                Connection conn = dataSource.getConnection() ;\n        )\n        {\n            // Retrieve rows from a `ResultSet`.\n            String sql =\n                    &quot;&quot;&quot;\n                    SELECT * \n                    FROM person_ \n                    ;\n                    &quot;&quot;&quot;;\n            try (\n                    Statement stmt = conn.createStatement() ;\n                    ResultSet rs = stmt.executeQuery( sql ) ;\n            )\n            {\n                CachedRowSet crs = RowSetProvider.newFactory().createCachedRowSet();\n                crs.populate( rs );\n                return crs;\n            }\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException( e );\n        }\n    }\n\n    private void reportRowSet ( final CachedRowSet cachedRowSet )\n    {\n        try\n        {\n            System.out.println( &quot;*****|  CachedRowSet without Connection  |**************&quot; );\n            while ( cachedRowSet.next() )\n            {\n                String pkey = cachedRowSet.getString( &quot;pkey_&quot; );  // Using `String` rather than `UUID` as the default implementation of CachedRowSet does not support accessing as UUID object.\n                String name = cachedRowSet.getString( &quot;name_&quot; );\n\n                String message = &quot;pkey = &quot; + pkey + &quot; | name = &quot; + name;\n                System.out.println( message );\n            }\n            System.out.println( &quot;**************************************************&quot; );\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException( e );\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello World! 2022-08-07T23:26:43.721898Z\nInserting list of names: [Alice, Bob, Carol, Davis]\nPerson[id=8c5329fd-5abb-4a65-ad41-5e32914b166b, name=Alice]\nPerson[id=6ed97068-ed14-4be4-a2a0-0bf4ad113862, name=Bob]\nPerson[id=91b335b5-aa6f-4689-b2f4-eff2fea51d76, name=Carol]\nPerson[id=d600cffe-1c65-4e33-bfb1-59ac1b4de7af, name=Davis]\n*****|  CachedRowSet without Connection  |**************\npkey = 8c5329fd-5abb-4a65-ad41-5e32914b166b | name = Alice\npkey = 6ed97068-ed14-4be4-a2a0-0bf4ad113862 | name = Bob\npkey = 91b335b5-aa6f-4689-b2f4-eff2fea51d76 | name = Carol\npkey = d600cffe-1c65-4e33-bfb1-59ac1b4de7af | name = Davis\n**************************************************\n</code></pre>\n<p>Note that a <code>RowSet</code> object is also a <code>ResultSet</code> object. You can use a <code>RowSet</code> wherever you would have used a <code>ResultSet</code>, subject to the limits of its interface and class implementation.</p>\n<h1><code>record</code></h1>\n<p>Another approach is to define a <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">Data-Transfer Object (DTO)</a>.</p>\n<p>The new <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> feature in Java 16+ can be ideal for this purpose of communicating data transparently and immutably. With a record, you merely declare the type and name of each member field. The compiler implicitly creates the constructor, accessors, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<p>You write code to loop through your <code>ResultSet</code> rows, copying the data into record objects, and storing in a <code>List</code> or <code>Set</code>.</p>\n<p>See example code above for a record being declared locally, and instantiated with data retrieved from database. Excerpt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                record Person( UUID id , String name ) { }\n                while ( rs.next() )\n                {\n                    UUID pkey = rs.getObject( &quot;pkey_&quot; , UUID.class );\n                    String name = rs.getString( &quot;name_&quot; );\n                    System.out.println( new Person( pkey , name ) );\n                }\n</code></pre>\n<p>You could make a new <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List&lt; Person &gt;</code></a> such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#add(E)\" rel=\"nofollow noreferrer\"><code>add</code></a> each new <code>Person</code> object.</p>\n"}],"owner":{"account_id":26003187,"reputation":21,"user_id":19713344,"display_name":"pureCode"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1659924816,"creation_date":1659903872,"question_id":73270781,"body_markdown":"How can i return ResultSet from a method while closing the connection and preparedStatement? when i am closing connection and prepared statement, it is giving an exception that &#39;the connection is closed&#39;. can i skip the closing part in this case?","title":"Returning resultSet in java JDBC","body":"<p>How can i return ResultSet from a method while closing the connection and preparedStatement? when i am closing connection and prepared statement, it is giving an exception that 'the connection is closed'. can i skip the closing part in this case?</p>\n"},{"tags":["java","jdbc","rowset"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1409495260,"post_id":25592162,"comment_id":39975727,"body_markdown":"You only get the same result if the system property hasn&#39;t been set explicitly... BTW: Your question is answered in the API doc: there can be alternative implementations, I fail to see why you need to ask this question.","body":"You only get the same result if the system property hasn&#39;t been set explicitly... BTW: Your question is answered in the API doc: there can be alternative implementations, I fail to see why you need to ask this question."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1409517910,"post_id":25592162,"comment_id":39981533,"body_markdown":"Ok. I want to know situations when I should to use alternative implementation. and what can be different in alternative implementation?","body":"Ok. I want to know situations when I should to use alternative implementation. and what can be different in alternative implementation?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1409556109,"post_id":25592162,"comment_id":39989916,"body_markdown":"The primary reason would be if that other implementation provides better support or fixes bugs; think of database implementation specific tricks to simply loading, refreshing or storing the data in the rowset. However, I don&#39;t actually know if there are any alternative implementations available.","body":"The primary reason would be if that other implementation provides better support or fixes bugs; think of database implementation specific tricks to simply loading, refreshing or storing the data in the rowset. However, I don&#39;t actually know if there are any alternative implementations available."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659924663,"creation_date":1659924663,"answer_id":73272342,"question_id":25592162,"body_markdown":"The `com.sun.rowset.RowSetFactoryImpl` class (see [source code][1]) is but one of possibly several concrete implementations of the [`RowSetFactory`][2] interface.\r\n\r\n`RowSetProvider` &amp; `RowSetFactory` make it easy to find default implementations as well as give you the flexibility to customize for particular implementations. \r\n\r\nYou can see this in the Javadoc of `RowSetProvider`.\r\n\r\n - Default:&lt;br /&gt;`RowSetProvider.newFactory()`\r\n - Custom:&lt;br /&gt;`RowSetProvider.newFactory(&quot;com.sun.rowset.RowSetFactoryImpl&quot;, null)`\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.sql.rowset/share/classes/com/sun/rowset/RowSetFactoryImpl.java\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetFactory.html","title":"What the reason to use RowSetProvider to obtain RowSetFactory?","body":"<p>The <code>com.sun.rowset.RowSetFactoryImpl</code> class (see <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.sql.rowset/share/classes/com/sun/rowset/RowSetFactoryImpl.java\" rel=\"nofollow noreferrer\">source code</a>) is but one of possibly several concrete implementations of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetFactory.html\" rel=\"nofollow noreferrer\"><code>RowSetFactory</code></a> interface.</p>\n<p><code>RowSetProvider</code> &amp; <code>RowSetFactory</code> make it easy to find default implementations as well as give you the flexibility to customize for particular implementations.</p>\n<p>You can see this in the Javadoc of <code>RowSetProvider</code>.</p>\n<ul>\n<li>Default:<br /><code>RowSetProvider.newFactory()</code></li>\n<li>Custom:<br /><code>RowSetProvider.newFactory(&quot;com.sun.rowset.RowSetFactoryImpl&quot;, null)</code></li>\n</ul>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659924663,"creation_date":1409489449,"question_id":25592162,"body_markdown":"\r\nI notice that I get same result if I use\r\n\r\n        RowSetFactory rowSetFactory = RowSetProvider.newFactory();\r\n\r\n\r\nand\r\n\r\n\r\n        rowSetFactory = new RowSetFactoryImpl();\r\n\r\n\r\n`newFactory` method implementation:\r\n\r\n \r\n\r\n    public static RowSetFactory newFactory()\r\n                throws SQLException {\r\n            // Use the system property first\r\n            RowSetFactory factory = null;\r\n            String factoryClassName = null;\r\n            try {\r\n                trace(&quot;Checking for Rowset System Property...&quot;);\r\n                factoryClassName = getSystemProperty(ROWSET_FACTORY_NAME);\r\n                if (factoryClassName != null) {\r\n                    trace(&quot;Found system property, value=&quot; + factoryClassName);\r\n                    factory = (RowSetFactory) getFactoryClass(factoryClassName, null, true).newInstance();\r\n                }\r\n            } catch (ClassNotFoundException e) {\r\n                throw new SQLException(\r\n                        &quot;RowSetFactory: &quot; + factoryClassName + &quot; not found&quot;, e);\r\n            } catch (Exception e) {\r\n                throw new SQLException(\r\n                        &quot;RowSetFactory: &quot; + factoryClassName + &quot; could not be instantiated: &quot; + e,\r\n                        e);\r\n            }\r\n\r\n\r\nHere we see that this method returns `RowSetFactory` which set in system.property.\r\n\r\n\r\nWhat the reason to change this system property?\r\n\r\nWho does set this property by default?","title":"What the reason to use RowSetProvider to obtain RowSetFactory?","body":"<p>I notice that I get same result if I use</p>\n\n<pre><code>    RowSetFactory rowSetFactory = RowSetProvider.newFactory();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    rowSetFactory = new RowSetFactoryImpl();\n</code></pre>\n\n<p><code>newFactory</code> method implementation:</p>\n\n<pre><code>public static RowSetFactory newFactory()\n            throws SQLException {\n        // Use the system property first\n        RowSetFactory factory = null;\n        String factoryClassName = null;\n        try {\n            trace(\"Checking for Rowset System Property...\");\n            factoryClassName = getSystemProperty(ROWSET_FACTORY_NAME);\n            if (factoryClassName != null) {\n                trace(\"Found system property, value=\" + factoryClassName);\n                factory = (RowSetFactory) getFactoryClass(factoryClassName, null, true).newInstance();\n            }\n        } catch (ClassNotFoundException e) {\n            throw new SQLException(\n                    \"RowSetFactory: \" + factoryClassName + \" not found\", e);\n        } catch (Exception e) {\n            throw new SQLException(\n                    \"RowSetFactory: \" + factoryClassName + \" could not be instantiated: \" + e,\n                    e);\n        }\n</code></pre>\n\n<p>Here we see that this method returns <code>RowSetFactory</code> which set in system.property.</p>\n\n<p>What the reason to change this system property?</p>\n\n<p>Who does set this property by default?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659858072,"creation_date":1659858072,"answer_id":73265708,"question_id":73265459,"body_markdown":"You can&#39;t access the toast view from the toast, to protect the users.\r\n\r\nif you want to do this you should use this code: \r\n```\r\nprivate void CustomToast1(String text) {\r\n        Toast toast = Toast.makeText(this, text, Toast.LENGTH_LONG);\r\n        if(Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.R) {\r\n            View view1 = toast.getView();\r\n            TextView txt1 = (TextView) view1.findViewById(androidx.appcompat.R.id.message);\r\n            view1.setBackgroundColor(Color.argb(50, 90, 90, 0));\r\n            txt1.setTextSize(24);\r\n            txt1.setTextColor(Color.BLUE);\r\n            txt1.setWidth(700);\r\n            txt1.setGravity(Gravity.CENTER_VERTICAL);\r\n            txt1.setCompoundDrawablePadding(40);\r\n            toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);\r\n        }\r\n        toast.show();\r\n    }\r\n```\r\nif the statement is true then it will display it with it\r\nbut for you probably it will display as default but it won&#39;t crash.","title":"Method not running in Android - Java","body":"<p>You can't access the toast view from the toast, to protect the users.</p>\n<p>if you want to do this you should use this code:</p>\n<pre><code>private void CustomToast1(String text) {\n        Toast toast = Toast.makeText(this, text, Toast.LENGTH_LONG);\n        if(Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.R) {\n            View view1 = toast.getView();\n            TextView txt1 = (TextView) view1.findViewById(androidx.appcompat.R.id.message);\n            view1.setBackgroundColor(Color.argb(50, 90, 90, 0));\n            txt1.setTextSize(24);\n            txt1.setTextColor(Color.BLUE);\n            txt1.setWidth(700);\n            txt1.setGravity(Gravity.CENTER_VERTICAL);\n            txt1.setCompoundDrawablePadding(40);\n            toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);\n        }\n        toast.show();\n    }\n</code></pre>\n<p>if the statement is true then it will display it with it\nbut for you probably it will display as default but it won't crash.</p>\n"}],"owner":{"account_id":18467560,"reputation":3,"user_id":13453322,"display_name":"AMIR FARSI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73265708,"answer_count":1,"score":-1,"last_activity_date":1659919850,"creation_date":1659855054,"question_id":73265459,"body_markdown":"I have a problem, whenever I make a method myself and I want to use it, I run into problems. The program does not give an error, but it does not run. If anyone knows what the problem is, please help me.\r\n\r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\nList item\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        CustomToast1(&quot; show text&quot;);\r\n\r\n    }\r\n\r\n    public void CustomToast1(String text) {\r\n        Toast toast = Toast.makeText(this, text, Toast.LENGTH_LONG);\r\n        View view1 = toast.getView();\r\n        TextView txt1 = view1.findViewById(android.R.id.message);\r\n        view1.setBackgroundColor(Color.argb(50, 0, 0, 0));\r\n        txt1.setTextSize(24);\r\n        txt1.setTextColor(Color.BLUE);\r\n        txt1.setWidth(700);\r\n        txt1.setGravity(Gravity.CENTER_VERTICAL);\r\n        txt1.setCompoundDrawablePadding(40);\r\n        toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);\r\n        toast.show();\r\n    }\r\n```","title":"Method not running in Android - Java","body":"<p>I have a problem, whenever I make a method myself and I want to use it, I run into problems. The program does not give an error, but it does not run. If anyone knows what the problem is, please help me.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nList item\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        CustomToast1(&quot; show text&quot;);\n\n    }\n\n    public void CustomToast1(String text) {\n        Toast toast = Toast.makeText(this, text, Toast.LENGTH_LONG);\n        View view1 = toast.getView();\n        TextView txt1 = view1.findViewById(android.R.id.message);\n        view1.setBackgroundColor(Color.argb(50, 0, 0, 0));\n        txt1.setTextSize(24);\n        txt1.setTextColor(Color.BLUE);\n        txt1.setWidth(700);\n        txt1.setGravity(Gravity.CENTER_VERTICAL);\n        txt1.setCompoundDrawablePadding(40);\n        toast.setGravity(Gravity.CENTER_VERTICAL, 0, 0);\n        toast.show();\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1659894811,"post_id":73269775,"comment_id":129398240,"body_markdown":"Unless you&#39;re literally writing assembly instructions by hand, this level of optimization is utterly pointless. Any Java compiler (or any compiler at all, for that matter) should be able to see that `% 2` is a bitwise operation and convert it for you, and the compiler can do all kinds of clever bit manipulation that you wouldn&#39;t think of.","body":"Unless you&#39;re literally writing assembly instructions by hand, this level of optimization is utterly pointless. Any Java compiler (or any compiler at all, for that matter) should be able to see that <code>% 2</code> is a bitwise operation and convert it for you, and the compiler can do all kinds of clever bit manipulation that you wouldn&#39;t think of."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1659895040,"post_id":73269775,"comment_id":129398301,"body_markdown":"Apart from that: Java isn&#39;t directly compiled to assembly, but to Java Byte Code. The JVM is responsible to transform the byte code to machine-executable code. It has some liberties doing this. Factor in the hot compilation, and the exercise is - as @SilvioMayolo said - pointless.","body":"Apart from that: Java isn&#39;t directly compiled to assembly, but to Java Byte Code. The JVM is responsible to transform the byte code to machine-executable code. It has some liberties doing this. Factor in the hot compilation, and the exercise is - as @SilvioMayolo said - pointless."},{"owner":{"display_name":"user19551207"},"score":0,"creation_date":1659897545,"post_id":73269775,"comment_id":129398823,"body_markdown":"Are you saying that `if(i&amp;1==0) sout(&quot;even&quot;)` is not better than `if(i%2==0) sout(&quot;even&quot;)`?","body":"Are you saying that <code>if(i&amp;1==0) sout(&quot;even&quot;)</code> is not better than <code>if(i%2==0) sout(&quot;even&quot;)</code>?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1659898301,"post_id":73269775,"comment_id":129399024,"body_markdown":"I really hope that you are asking this as a hypothetical question for an artificial problem. Because if you really want to resolve a low-level problem (poor division performance) with a high level language, you are either looking at the wrong point in your code or using the wrong tool (&quot;hammer in a screw&quot;).","body":"I really hope that you are asking this as a hypothetical question for an artificial problem. Because if you really want to resolve a low-level problem (poor division performance) with a high level language, you are either looking at the wrong point in your code or using the wrong tool (&quot;hammer in a screw&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659919433,"creation_date":1659919433,"answer_id":73271972,"question_id":73269775,"body_markdown":"You obviously didn&#39;t even try what you posted because it doesn&#39;t compile (even with a reasonable `sout` added). First expression statements in Java end in semicolon, and second `i&amp;1==0` parses as `i &amp; (1==0)` -&gt; `i &amp; true` and the `&amp;` operator doesn&#39;t take an int and a boolean. \r\n\r\nIf `i` is negative and odd, `i%2` is `-1` while `i&amp;1` is `1` = `+1`. That&#39;s because `%` is **remainder** _not modulo_. \r\n\r\nIn the limited cases where `i%n` and `(i&amp;(n-1))` are the same -- `i` nonnegative and `n` a power of two -- as the commenters said the Java runtime compiler (JIT) will actually produce the same code for both and obfuscating the source will only make your program more likely to be or become wrong without providing any benefit.\r\n\r\nFifty years ago when people were writing in assembler for machines with _microsecond_ clocks (i.e. not even megaHertz much less gigaHertz) this _sometimes_ helped -- only sometimes because usually only a small fraction of the code matters to execution time. In this century it&#39;s at best a waste and often harmful.\r\n","title":"Optimise modulo code with various divisors aside from 2","body":"<p>You obviously didn't even try what you posted because it doesn't compile (even with a reasonable <code>sout</code> added). First expression statements in Java end in semicolon, and second <code>i&amp;1==0</code> parses as <code>i &amp; (1==0)</code> -&gt; <code>i &amp; true</code> and the <code>&amp;</code> operator doesn't take an int and a boolean.</p>\n<p>If <code>i</code> is negative and odd, <code>i%2</code> is <code>-1</code> while <code>i&amp;1</code> is <code>1</code> = <code>+1</code>. That's because <code>%</code> is <strong>remainder</strong> <em>not modulo</em>.</p>\n<p>In the limited cases where <code>i%n</code> and <code>(i&amp;(n-1))</code> are the same -- <code>i</code> nonnegative and <code>n</code> a power of two -- as the commenters said the Java runtime compiler (JIT) will actually produce the same code for both and obfuscating the source will only make your program more likely to be or become wrong without providing any benefit.</p>\n<p>Fifty years ago when people were writing in assembler for machines with <em>microsecond</em> clocks (i.e. not even megaHertz much less gigaHertz) this <em>sometimes</em> helped -- only sometimes because usually only a small fraction of the code matters to execution time. In this century it's at best a waste and often harmful.</p>\n"}],"owner":{"display_name":"user19551207"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659919578,"creation_date":1659894599,"question_id":73269775,"body_markdown":"I know that we can optimise &quot;find even numbers&quot; code by using bitwise operator `&amp;`. The following program:\r\n\r\n    if(i%2==0) sout(&quot;even&quot;)\r\n    else sout(&quot;odd&quot;)\r\n\r\ncan be optimised to: \r\n\r\n    if(i&amp;1==0) sout(&quot;even&quot;)\r\n    else sout(&quot;odd&quot;)\r\n\r\nThe above approach works only for `2` as a divisor. What if we have to optimise the code when we have multiple divisors like `4`, `9`, `20`, `56` and so on? Is there a way to further optimise this code?","title":"Optimise modulo code with various divisors aside from 2","body":"<p>I know that we can optimise &quot;find even numbers&quot; code by using bitwise operator <code>&amp;</code>. The following program:</p>\n<pre><code>if(i%2==0) sout(&quot;even&quot;)\nelse sout(&quot;odd&quot;)\n</code></pre>\n<p>can be optimised to:</p>\n<pre><code>if(i&amp;1==0) sout(&quot;even&quot;)\nelse sout(&quot;odd&quot;)\n</code></pre>\n<p>The above approach works only for <code>2</code> as a divisor. What if we have to optimise the code when we have multiple divisors like <code>4</code>, <code>9</code>, <code>20</code>, <code>56</code> and so on? Is there a way to further optimise this code?</p>\n"},{"tags":["java","string","list","javafx","arraylist"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":4,"creation_date":1659857323,"post_id":73265573,"comment_id":129390978,"body_markdown":"Are you sure you want to store the dates as string as opposed to `LocalDate` or similar?","body":"Are you sure you want to store the dates as string as opposed to <code>LocalDate</code> or similar?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1659857614,"post_id":73265573,"comment_id":129391012,"body_markdown":"I don’t see where stockList is declared.  It is usually good to provide a [mcve] so the issue can be replicated via copy/paste without change.  You can just provide some dummy data, rather than csv as that is irrelevant, but it should compile, you provide fxml if relevant or just a Java app if that is all that is needed, but then it shouldn’t use fxml at all.","body":"I don’t see where stockList is declared.  It is usually good to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so the issue can be replicated via copy/paste without change.  You can just provide some dummy data, rather than csv as that is irrelevant, but it should compile, you provide fxml if relevant or just a Java app if that is all that is needed, but then it shouldn’t use fxml at all."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1659857715,"post_id":73265573,"comment_id":129391031,"body_markdown":"You shouldn’t put nodes like check boxes in your model objects, it will cause problems especially if you put them in a table.","body":"You shouldn’t put nodes like check boxes in your model objects, it will cause problems especially if you put them in a table."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":5,"creation_date":1659857844,"post_id":73265573,"comment_id":129391058,"body_markdown":"Wrap your list in a [SortedList](https://openjfx.io/javadoc/17/javafx.base/javafx/collections/transformation/SortedList.html).  Use a LocalDate or Instant to represent the date.  Use a cell factory to render the local date or instant using the format you need.  Similarly for the checkbox, use a CheckBoxTableCell backed by a BooleanProperty in the model.","body":"Wrap your list in a <a href=\"https://openjfx.io/javadoc/17/javafx.base/javafx/collections/transformation/SortedList.html\" rel=\"nofollow noreferrer\">SortedList</a>.  Use a LocalDate or Instant to represent the date.  Use a cell factory to render the local date or instant using the format you need.  Similarly for the checkbox, use a CheckBoxTableCell backed by a BooleanProperty in the model."},{"owner":{"display_name":"user17067764"},"score":0,"creation_date":1659858147,"post_id":73265573,"comment_id":129391113,"body_markdown":"@jewelsea I had no issues with the checkboxes however I did need to place them in the table as I need the ability to choose ONLY two rows and compare there prices","body":"@jewelsea I had no issues with the checkboxes however I did need to place them in the table as I need the ability to choose ONLY two rows and compare there prices"},{"owner":{"display_name":"user17067764"},"score":0,"creation_date":1659858311,"post_id":73265573,"comment_id":129391138,"body_markdown":"@jewelsea I&#39;m a bit confused on your solution to the problem. I&#39;ll try getting done what I understood. Also as per your suggestion I included the stockList declaration I must have missed it when adding the code, thanks for pointing it out","body":"@jewelsea I&#39;m a bit confused on your solution to the problem. I&#39;ll try getting done what I understood. Also as per your suggestion I included the stockList declaration I must have missed it when adding the code, thanks for pointing it out"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1659858934,"post_id":73265573,"comment_id":129391219,"body_markdown":"For further info on sorted lists applied to TableViews and cell factories, see the [TableView](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/TableView.html) does documentation. [makery also provide a tutorial](https://code.makery.ch/blog/javafx-8-tableview-sorting-filtering/).","body":"For further info on sorted lists applied to TableViews and cell factories, see the <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/TableView.html\" rel=\"nofollow noreferrer\">TableView</a> does documentation. <a href=\"https://code.makery.ch/blog/javafx-8-tableview-sorting-filtering/\" rel=\"nofollow noreferrer\">makery also provide a tutorial</a>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659860112,"post_id":73265573,"comment_id":129391431,"body_markdown":"I don&#39;t see anything in your snippets related to sorting (on the other hand: reading and writing data is completely unrelated) - as already suggested by @jewelsea, [mcve] please (also follow the other advices, f.i. it&#39;s __wrong__ to add nodes as data)","body":"I don&#39;t see anything in your snippets related to sorting (on the other hand: reading and writing data is completely unrelated) - as already suggested by @jewelsea, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (also follow the other advices, f.i. it&#39;s <b>wrong</b> to add nodes as data)"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1659885355,"post_id":73265573,"comment_id":129396151,"body_markdown":"Where did the `Stock` class come from? It cannot be compiled.","body":"Where did the <code>Stock</code> class come from? It cannot be compiled."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1659899253,"creation_date":1659858384,"answer_id":73265727,"question_id":73265573,"body_markdown":"As it has been pointed out in the comments, I second @dan1st&#39;s suggestion of using a `LocalDate` instead of a plain `String` to represent a date and order your `Stock` instances according to their `dateRN`.\r\n\r\nHowever, If for some reason you&#39;re actually bound to a `String` implementation, then you could resort to a `LocalDate` conversion within the `compareTo` definition and still implement the `Comparable` interface in your `Stock` class.\r\n\r\nHere is a rough implementation:\r\n\r\n```\r\npublic class Stock implements Comparable&lt;Stock&gt; {\r\n    private String ticker;\r\n    private Double price;\r\n    private String dateRN;\r\n\r\n    public Stock() {\r\n        this.dateRN = &quot;&quot;;\r\n    }\r\n\r\n    public Stock(String ticker, Double price, String dateRN) {\r\n        this.ticker = ticker;\r\n        this.price = price;\r\n        this.dateRN = dateRN;\r\n    }\r\n\r\n    //... getters, setters &amp; rest of class implementation\r\n\r\n    @Override\r\n    public int compareTo(Stock o) {\r\n        return LocalDate.parse(dateRN, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;)).compareTo(LocalDate.parse(o.dateRN, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;)));\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Stock{dateRN=&#39;&quot; + dateRN + &#39;\\&#39;&#39; +&#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Stock&gt; list = new ArrayList&lt;&gt;(List.of(\r\n                new Stock(&quot;test1&quot;, 1.5, &quot;05-08-2022&quot;),\r\n                new Stock(&quot;test2&quot;, 2.5, &quot;03-08-2022&quot;),\r\n                new Stock(&quot;test3&quot;, 3.5, &quot;07-08-2022&quot;),\r\n                new Stock(&quot;test4&quot;, 4.5, &quot;06-08-2022&quot;)\r\n        ));\r\n\r\n        System.out.println(list);\r\n\r\n        Collections.sort(list);\r\n        System.out.println(&quot;\\n&quot; + list);\r\n    }\r\n}\r\n```\r\n\r\nHere is a link to test the code above:\r\n\r\nhttps://www.jdoodle.com/iembed/v0/tLI \r\n\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\nOriginal and sorted output based on the sample data of your question.\r\n\r\n```\r\n[Stock{dateRN=&#39;05-08-2022&#39;}, Stock{dateRN=&#39;03-08-2022&#39;}, Stock{dateRN=&#39;07-08-2022&#39;}, Stock{dateRN=&#39;06-08-2022&#39;}]\r\n\r\n[Stock{dateRN=&#39;03-08-2022&#39;}, Stock{dateRN=&#39;05-08-2022&#39;}, Stock{dateRN=&#39;06-08-2022&#39;}, Stock{dateRN=&#39;07-08-2022&#39;}]\r\n```","title":"Sorting ObservableList in javaFX by String Date","body":"<p>As it has been pointed out in the comments, I second @dan1st's suggestion of using a <code>LocalDate</code> instead of a plain <code>String</code> to represent a date and order your <code>Stock</code> instances according to their <code>dateRN</code>.</p>\n<p>However, If for some reason you're actually bound to a <code>String</code> implementation, then you could resort to a <code>LocalDate</code> conversion within the <code>compareTo</code> definition and still implement the <code>Comparable</code> interface in your <code>Stock</code> class.</p>\n<p>Here is a rough implementation:</p>\n<pre><code>public class Stock implements Comparable&lt;Stock&gt; {\n    private String ticker;\n    private Double price;\n    private String dateRN;\n\n    public Stock() {\n        this.dateRN = &quot;&quot;;\n    }\n\n    public Stock(String ticker, Double price, String dateRN) {\n        this.ticker = ticker;\n        this.price = price;\n        this.dateRN = dateRN;\n    }\n\n    //... getters, setters &amp; rest of class implementation\n\n    @Override\n    public int compareTo(Stock o) {\n        return LocalDate.parse(dateRN, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;)).compareTo(LocalDate.parse(o.dateRN, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;)));\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Stock{dateRN='&quot; + dateRN + '\\'' +'}';\n    }\n}\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;Stock&gt; list = new ArrayList&lt;&gt;(List.of(\n                new Stock(&quot;test1&quot;, 1.5, &quot;05-08-2022&quot;),\n                new Stock(&quot;test2&quot;, 2.5, &quot;03-08-2022&quot;),\n                new Stock(&quot;test3&quot;, 3.5, &quot;07-08-2022&quot;),\n                new Stock(&quot;test4&quot;, 4.5, &quot;06-08-2022&quot;)\n        ));\n\n        System.out.println(list);\n\n        Collections.sort(list);\n        System.out.println(&quot;\\n&quot; + list);\n    }\n}\n</code></pre>\n<p>Here is a link to test the code above:</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/tLI\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/tLI</a></p>\n<h4>Output</h4>\n<p>Original and sorted output based on the sample data of your question.</p>\n<pre><code>[Stock{dateRN='05-08-2022'}, Stock{dateRN='03-08-2022'}, Stock{dateRN='07-08-2022'}, Stock{dateRN='06-08-2022'}]\n\n[Stock{dateRN='03-08-2022'}, Stock{dateRN='05-08-2022'}, Stock{dateRN='06-08-2022'}, Stock{dateRN='07-08-2022'}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659872332,"creation_date":1659871182,"answer_id":73266958,"question_id":73265573,"body_markdown":"The application class, `StockTable`\r\n```java\r\nimport java.net.URL;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class StockTable extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        URL url = getClass().getResource(&quot;stoktabl.fxml&quot;);\r\n        FXMLLoader loader = new FXMLLoader(url);\r\n        BorderPane root = loader.load();\r\n        Scene scene = new Scene(root);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\nThe FXML file, `stoktabl.fxml`\r\n```none\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n\r\n&lt;BorderPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;jfxtests.StocksController&quot;&gt;\r\n    &lt;center&gt;\r\n        &lt;TableView fx:id=&quot;table&quot;&gt;\r\n            &lt;columns&gt;\r\n                &lt;TableColumn fx:id=&quot;dateColumn&quot; text=&quot;Date&quot;&gt;\r\n                &lt;/TableColumn&gt;\r\n                &lt;TableColumn fx:id=&quot;priceColumn&quot; text=&quot;Price&quot;&gt;\r\n                &lt;/TableColumn&gt;\r\n                &lt;TableColumn fx:id=&quot;checkBoxColumn&quot; text=&quot;Check Box&quot;&gt;\r\n                &lt;/TableColumn&gt;\r\n            &lt;/columns&gt;\r\n        &lt;/TableView&gt;\r\n    &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\nFXML controller class, `StocksController`\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.cell.CheckBoxTableCell;\r\nimport javafx.scene.control.cell.TextFieldTableCell;\r\nimport javafx.util.StringConverter;\r\n\r\npublic class StocksController extends StringConverter&lt;LocalDate&gt; {\r\n    private static final DateTimeFormatter  FORMATTER = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;, Locale.ENGLISH);\r\n    private static final String  DELIMITER = &quot;,&quot;;\r\n\r\n    @FXML\r\n    TableColumn&lt;Stock, Boolean&gt;  checkBoxColumn;\r\n\r\n    @FXML\r\n    TableColumn&lt;Stock, LocalDate&gt;  dateColumn;\r\n\r\n    @FXML\r\n    TableColumn&lt;Stock, BigDecimal&gt;  priceColumn;\r\n\r\n    @FXML\r\n    TableView&lt;Stock&gt;  table;\r\n\r\n    @Override // javafx.util.StringConverter\r\n    public String toString(LocalDate object) {\r\n        return object.format(FORMATTER);\r\n    }\r\n\r\n    @Override // javafx.util.StringConverter\r\n    public LocalDate fromString(String string) {\r\n        return LocalDate.parse(string, FORMATTER);\r\n    }\r\n\r\n    @FXML\r\n    private void initialize() {\r\n        table.setEditable(true);\r\n        checkBoxColumn.setCellValueFactory(f -&gt; f.getValue().checkedProperty());\r\n        checkBoxColumn.setCellFactory(CheckBoxTableCell.forTableColumn(checkBoxColumn));\r\n        dateColumn.setCellValueFactory(f -&gt; f.getValue().dateProperty());\r\n        dateColumn.setCellFactory(TextFieldTableCell.forTableColumn(this));\r\n        priceColumn.setCellValueFactory(f -&gt; f.getValue().priceProperty());\r\n        ObservableList&lt;Stock&gt; items = FXCollections.observableArrayList();\r\n        InputStream is = getClass().getResourceAsStream(&quot;stocks.csv&quot;);\r\n        try (InputStreamReader isr = new InputStreamReader(is);\r\n             BufferedReader br = new BufferedReader(isr)) {\r\n            String line = br.readLine();\r\n            while (line != null) {\r\n                String[] fields = line.split(DELIMITER);\r\n                BigDecimal price = new BigDecimal(fields[2]);\r\n                LocalDate date = LocalDate.parse(fields[1], FORMATTER);\r\n                String name = fields[0];\r\n                Stock stock = new Stock(price, date, name);\r\n                items.add(stock);\r\n                line = br.readLine();\r\n            }\r\n            items = items.sorted();\r\n            table.setItems(items);\r\n        }\r\n        catch (IOException xIo) {\r\n            throw new RuntimeException(xIo);\r\n        }\r\n    }\r\n}\r\n```\r\nThe &quot;model&quot; class, `Stock`\r\n```java\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDate;\r\n\r\nimport javafx.beans.property.SimpleBooleanProperty;\r\nimport javafx.beans.property.SimpleObjectProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\n\r\npublic class Stock implements Comparable&lt;Stock&gt; {\r\n    private SimpleObjectProperty&lt;BigDecimal&gt;  price;\r\n    private SimpleBooleanProperty  checked;\r\n    private SimpleObjectProperty&lt;LocalDate&gt;  date;\r\n    private SimpleStringProperty  name;\r\n\r\n    public Stock(BigDecimal price, LocalDate date, String name) {\r\n        this.price = new SimpleObjectProperty&lt;BigDecimal&gt;(this, &quot;price&quot;, price);\r\n        this.date = new SimpleObjectProperty&lt;LocalDate&gt;(this, &quot;date&quot;, date);\r\n        this.name = new SimpleStringProperty(this, &quot;name&quot;, name);\r\n        checked = new SimpleBooleanProperty(false);\r\n    }\r\n\r\n    public SimpleBooleanProperty checkedProperty() {\r\n        return checked;\r\n    }\r\n\r\n    public boolean getChecked() {\r\n        return checked.get();\r\n    }\r\n\r\n    public void setChecked(boolean check) {\r\n        checked.set(check);\r\n    }\r\n\r\n    public SimpleObjectProperty&lt;LocalDate&gt; dateProperty() {\r\n        return date;\r\n    }\r\n\r\n    public LocalDate getDate() {\r\n        return date.get();\r\n    }\r\n\r\n    public void setDate(LocalDate ld) {\r\n        date.set(ld);\r\n    }\r\n\r\n    public SimpleStringProperty nameProperty() {\r\n        return name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name.get();\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name.set(name);\r\n    }\r\n\r\n    public SimpleObjectProperty&lt;BigDecimal&gt; priceProperty() {\r\n        return price;\r\n    }\r\n\r\n    public BigDecimal getPrice() {\r\n        return price.get();\r\n    }\r\n\r\n    public void setPrice(BigDecimal cost) {\r\n        price.set(cost);\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Stock o) {\r\n        int result;\r\n        if (o == null) {\r\n            result = 1;\r\n        }\r\n        else {\r\n            if (o.date == null) {\r\n                result = 1;\r\n            }\r\n            else {\r\n                if (o.date.get() == null) {\r\n                    result = 1;\r\n                }\r\n                else {\r\n                    if (date == null) {\r\n                        result = -1;\r\n                    }\r\n                    else {\r\n                        if (date.get() == null) {\r\n                            result = -1;\r\n                        }\r\n                        else {\r\n                            if (date.get().isBefore(o.date.get())) {\r\n                                result = -1;\r\n                            }\r\n                            else if (date.get().isAfter(o.date.get())) {\r\n                                result = 1;\r\n                            }\r\n                            else {\r\n                                result = 0;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\nThe CSV file, *stocks.csv*\r\n```none\r\nfirst,05-08-2022,1.22\r\nsecond,03-08-2022,1.35\r\nthird,07-08-2022,67.0\r\nlast,06-08-2022,4.5\r\n```\r\n- Class `Stock` implements comparable to allow `items` to be sorted *by natural order*. Refer to [default] method `sorted` in interface `javafx.collections.ObservableList`.\r\n- The `TableView` is made editable so as to allow selecting the check boxes.\r\n- Values are read from the CSV file and converted to the appropriate type in order to create `Stock` instances.\r\n- A `StringConverter` is used to both format and parse values in the `date` column.\r\n- Files `stoktabl.fxml` and `stocks.csv` are located in the same folder as file `StockTable.class`\r\n- All above [Java] classes are in the same package (even though I omitted the package statements from the above code.\r\n- Controller classes no longer need to implement interface `javafx.fxml.Initializable`. They may, optionally, declare method `initialize` that takes no parameters and returns `void`.\r\n\r\nHere is a screen capture:\r\n\r\n[![screen capture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vervf.png","title":"Sorting ObservableList in javaFX by String Date","body":"<p>The application class, <code>StockTable</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.URL;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class StockTable extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        URL url = getClass().getResource(&quot;stoktabl.fxml&quot;);\n        FXMLLoader loader = new FXMLLoader(url);\n        BorderPane root = loader.load();\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>The FXML file, <code>stoktabl.fxml</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n\n&lt;BorderPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;jfxtests.StocksController&quot;&gt;\n    &lt;center&gt;\n        &lt;TableView fx:id=&quot;table&quot;&gt;\n            &lt;columns&gt;\n                &lt;TableColumn fx:id=&quot;dateColumn&quot; text=&quot;Date&quot;&gt;\n                &lt;/TableColumn&gt;\n                &lt;TableColumn fx:id=&quot;priceColumn&quot; text=&quot;Price&quot;&gt;\n                &lt;/TableColumn&gt;\n                &lt;TableColumn fx:id=&quot;checkBoxColumn&quot; text=&quot;Check Box&quot;&gt;\n                &lt;/TableColumn&gt;\n            &lt;/columns&gt;\n        &lt;/TableView&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>FXML controller class, <code>StocksController</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.math.BigDecimal;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.CheckBoxTableCell;\nimport javafx.scene.control.cell.TextFieldTableCell;\nimport javafx.util.StringConverter;\n\npublic class StocksController extends StringConverter&lt;LocalDate&gt; {\n    private static final DateTimeFormatter  FORMATTER = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;, Locale.ENGLISH);\n    private static final String  DELIMITER = &quot;,&quot;;\n\n    @FXML\n    TableColumn&lt;Stock, Boolean&gt;  checkBoxColumn;\n\n    @FXML\n    TableColumn&lt;Stock, LocalDate&gt;  dateColumn;\n\n    @FXML\n    TableColumn&lt;Stock, BigDecimal&gt;  priceColumn;\n\n    @FXML\n    TableView&lt;Stock&gt;  table;\n\n    @Override // javafx.util.StringConverter\n    public String toString(LocalDate object) {\n        return object.format(FORMATTER);\n    }\n\n    @Override // javafx.util.StringConverter\n    public LocalDate fromString(String string) {\n        return LocalDate.parse(string, FORMATTER);\n    }\n\n    @FXML\n    private void initialize() {\n        table.setEditable(true);\n        checkBoxColumn.setCellValueFactory(f -&gt; f.getValue().checkedProperty());\n        checkBoxColumn.setCellFactory(CheckBoxTableCell.forTableColumn(checkBoxColumn));\n        dateColumn.setCellValueFactory(f -&gt; f.getValue().dateProperty());\n        dateColumn.setCellFactory(TextFieldTableCell.forTableColumn(this));\n        priceColumn.setCellValueFactory(f -&gt; f.getValue().priceProperty());\n        ObservableList&lt;Stock&gt; items = FXCollections.observableArrayList();\n        InputStream is = getClass().getResourceAsStream(&quot;stocks.csv&quot;);\n        try (InputStreamReader isr = new InputStreamReader(is);\n             BufferedReader br = new BufferedReader(isr)) {\n            String line = br.readLine();\n            while (line != null) {\n                String[] fields = line.split(DELIMITER);\n                BigDecimal price = new BigDecimal(fields[2]);\n                LocalDate date = LocalDate.parse(fields[1], FORMATTER);\n                String name = fields[0];\n                Stock stock = new Stock(price, date, name);\n                items.add(stock);\n                line = br.readLine();\n            }\n            items = items.sorted();\n            table.setItems(items);\n        }\n        catch (IOException xIo) {\n            throw new RuntimeException(xIo);\n        }\n    }\n}\n</code></pre>\n<p>The &quot;model&quot; class, <code>Stock</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigDecimal;\nimport java.time.LocalDate;\n\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\n\npublic class Stock implements Comparable&lt;Stock&gt; {\n    private SimpleObjectProperty&lt;BigDecimal&gt;  price;\n    private SimpleBooleanProperty  checked;\n    private SimpleObjectProperty&lt;LocalDate&gt;  date;\n    private SimpleStringProperty  name;\n\n    public Stock(BigDecimal price, LocalDate date, String name) {\n        this.price = new SimpleObjectProperty&lt;BigDecimal&gt;(this, &quot;price&quot;, price);\n        this.date = new SimpleObjectProperty&lt;LocalDate&gt;(this, &quot;date&quot;, date);\n        this.name = new SimpleStringProperty(this, &quot;name&quot;, name);\n        checked = new SimpleBooleanProperty(false);\n    }\n\n    public SimpleBooleanProperty checkedProperty() {\n        return checked;\n    }\n\n    public boolean getChecked() {\n        return checked.get();\n    }\n\n    public void setChecked(boolean check) {\n        checked.set(check);\n    }\n\n    public SimpleObjectProperty&lt;LocalDate&gt; dateProperty() {\n        return date;\n    }\n\n    public LocalDate getDate() {\n        return date.get();\n    }\n\n    public void setDate(LocalDate ld) {\n        date.set(ld);\n    }\n\n    public SimpleStringProperty nameProperty() {\n        return name;\n    }\n\n    public String getName() {\n        return name.get();\n    }\n\n    public void setName(String name) {\n        this.name.set(name);\n    }\n\n    public SimpleObjectProperty&lt;BigDecimal&gt; priceProperty() {\n        return price;\n    }\n\n    public BigDecimal getPrice() {\n        return price.get();\n    }\n\n    public void setPrice(BigDecimal cost) {\n        price.set(cost);\n    }\n\n    @Override\n    public int compareTo(Stock o) {\n        int result;\n        if (o == null) {\n            result = 1;\n        }\n        else {\n            if (o.date == null) {\n                result = 1;\n            }\n            else {\n                if (o.date.get() == null) {\n                    result = 1;\n                }\n                else {\n                    if (date == null) {\n                        result = -1;\n                    }\n                    else {\n                        if (date.get() == null) {\n                            result = -1;\n                        }\n                        else {\n                            if (date.get().isBefore(o.date.get())) {\n                                result = -1;\n                            }\n                            else if (date.get().isAfter(o.date.get())) {\n                                result = 1;\n                            }\n                            else {\n                                result = 0;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>The CSV file, <em>stocks.csv</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>first,05-08-2022,1.22\nsecond,03-08-2022,1.35\nthird,07-08-2022,67.0\nlast,06-08-2022,4.5\n</code></pre>\n<ul>\n<li>Class <code>Stock</code> implements comparable to allow <code>items</code> to be sorted <em>by natural order</em>. Refer to [default] method <code>sorted</code> in interface <code>javafx.collections.ObservableList</code>.</li>\n<li>The <code>TableView</code> is made editable so as to allow selecting the check boxes.</li>\n<li>Values are read from the CSV file and converted to the appropriate type in order to create <code>Stock</code> instances.</li>\n<li>A <code>StringConverter</code> is used to both format and parse values in the <code>date</code> column.</li>\n<li>Files <code>stoktabl.fxml</code> and <code>stocks.csv</code> are located in the same folder as file <code>StockTable.class</code></li>\n<li>All above [Java] classes are in the same package (even though I omitted the package statements from the above code.</li>\n<li>Controller classes no longer need to implement interface <code>javafx.fxml.Initializable</code>. They may, optionally, declare method <code>initialize</code> that takes no parameters and returns <code>void</code>.</li>\n</ul>\n<p>Here is a screen capture:</p>\n<p><a href=\"https://i.stack.imgur.com/vervf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vervf.png\" alt=\"screen capture\" /></a></p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659918592,"creation_date":1659918592,"answer_id":73271927,"question_id":73265573,"body_markdown":"@Abra has [shown][1] how to effect sorting by implementing `Comparable&lt;Stock&gt;`, and @Dan has [shown][2] how to leverage [`LocalDate::compareTo`][3], provided by its implementation of `Comparable&lt;ChronoLocalDate&gt;`. The example below focuses on the benefit of using `LocalDate` directly in your model. In particular, you can simply `add()` the date column to the sort order. As shown in the [`TableView`][4] API, a simple binding can restore the original, unsorted order.\r\n\r\n[![Date sort][5]][5]\r\n\r\n```\r\nimport java.time.LocalDate;\r\nimport java.time.temporal.TemporalAdjusters;\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.SimpleObjectProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.transformation.SortedList;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/72437984/230513\r\n * @see https://stackoverflow.com/a/72437984/230513\r\n */\r\npublic class LocalDateTest extends Application {\r\n\r\n    private record Model(LocalDate date, String name) {}\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(this.getClass().getName());\r\n        var model = FXCollections.observableArrayList(\r\n            new Model(LocalDate.now().minusDays(1),&quot;Yesterday&quot;),\r\n            new Model(LocalDate.now(), &quot;Today&quot;),\r\n            new Model(LocalDate.now().plusDays(1), &quot;Tommorrow&quot;),\r\n            new Model(LocalDate.now().with(TemporalAdjusters.lastDayOfMonth()), &quot;Deadline&quot;)\r\n        );\r\n        SortedList sortedList = new SortedList(model);\r\n        var table = new TableView(sortedList);\r\n        sortedList.comparatorProperty().bind(table.comparatorProperty());\r\n\r\n        TableColumn&lt;Model, LocalDate&gt; date = new TableColumn&lt;&gt;(&quot;Date&quot;);\r\n        date.setCellValueFactory(cd -&gt; new SimpleObjectProperty(cd.getValue().date()));\r\n        table.getColumns().add(date);\r\n        table.getSortOrder().add(date);\r\n\r\n        TableColumn&lt;Model, String&gt; name = new TableColumn&lt;&gt;(&quot;Name&quot;);\r\n        name.setCellValueFactory(cd -&gt; new SimpleStringProperty(cd.getValue().name()));\r\n        table.getColumns().add(name);\r\n\r\n        StackPane root = new StackPane(table);\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73266958/230513\r\n  [2]: https://stackoverflow.com/a/73265727/230513\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#compareTo(java.time.chrono.ChronoLocalDate)\r\n  [4]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/TableView.html\r\n  [5]: https://i.stack.imgur.com/0jGbi.png","title":"Sorting ObservableList in javaFX by String Date","body":"<p>@Abra has <a href=\"https://stackoverflow.com/a/73266958/230513\">shown</a> how to effect sorting by implementing <code>Comparable&lt;Stock&gt;</code>, and @Dan has <a href=\"https://stackoverflow.com/a/73265727/230513\">shown</a> how to leverage <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#compareTo(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\"><code>LocalDate::compareTo</code></a>, provided by its implementation of <code>Comparable&lt;ChronoLocalDate&gt;</code>. The example below focuses on the benefit of using <code>LocalDate</code> directly in your model. In particular, you can simply <code>add()</code> the date column to the sort order. As shown in the <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/TableView.html\" rel=\"nofollow noreferrer\"><code>TableView</code></a> API, a simple binding can restore the original, unsorted order.</p>\n<p><a href=\"https://i.stack.imgur.com/0jGbi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0jGbi.png\" alt=\"Date sort\" /></a></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.temporal.TemporalAdjusters;\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.transformation.SortedList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n/**\n * @see https://stackoverflow.com/a/72437984/230513\n * @see https://stackoverflow.com/a/72437984/230513\n */\npublic class LocalDateTest extends Application {\n\n    private record Model(LocalDate date, String name) {}\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(this.getClass().getName());\n        var model = FXCollections.observableArrayList(\n            new Model(LocalDate.now().minusDays(1),&quot;Yesterday&quot;),\n            new Model(LocalDate.now(), &quot;Today&quot;),\n            new Model(LocalDate.now().plusDays(1), &quot;Tommorrow&quot;),\n            new Model(LocalDate.now().with(TemporalAdjusters.lastDayOfMonth()), &quot;Deadline&quot;)\n        );\n        SortedList sortedList = new SortedList(model);\n        var table = new TableView(sortedList);\n        sortedList.comparatorProperty().bind(table.comparatorProperty());\n\n        TableColumn&lt;Model, LocalDate&gt; date = new TableColumn&lt;&gt;(&quot;Date&quot;);\n        date.setCellValueFactory(cd -&gt; new SimpleObjectProperty(cd.getValue().date()));\n        table.getColumns().add(date);\n        table.getSortOrder().add(date);\n\n        TableColumn&lt;Model, String&gt; name = new TableColumn&lt;&gt;(&quot;Name&quot;);\n        name.setCellValueFactory(cd -&gt; new SimpleStringProperty(cd.getValue().name()));\n        table.getColumns().add(name);\n\n        StackPane root = new StackPane(table);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17067764"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1659918592,"creation_date":1659856411,"question_id":73265573,"body_markdown":"I have a String containing a Date in the form &quot;dd-MM-yyyy&quot; I want the dates to be sorted when displayed in the table view.\r\n\r\n**Controller Class**\r\n```\r\nprivate final ObservableList&lt;Stock&gt;stockList = FXCollections.observableArrayList();\r\npublic class StocksController implements Initializable {\r\n    @FXML\r\n    private TableColumn&lt;Stock, String&gt; date;\r\n\r\n    public void initialize(URL url, ResourceBundle resourceBundle){\r\n        addToCSV.setOnAction(event -&gt; {\r\n            try {\r\n                writeCSV();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n        dollarButton.setOnAction(event -&gt; {changeDollar();});\r\n        percentButton.setOnAction(event -&gt; {changePercent();});\r\n        price.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;price&quot;));\r\n        date.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dateRN&quot;));\r\n        checker.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;checker&quot;));\r\n        stockView.setItems(stockList);\r\n        search();\r\n        readCSV();\r\n    }\r\n    public void writeCSV() throws IOException {\r\n        String stockNames = (&quot;$&quot; + stockName.getText()).trim().toUpperCase();\r\n        Double stockPrices = Double.parseDouble((stockPrice.getText()).trim());\r\n        String stockDates = stockDate.getValue().format(DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;));\r\n        FileWriter fw = new FileWriter(&quot;src/stocks.csv&quot;,true);\r\n        BufferedWriter bw = new BufferedWriter(fw);\r\n        PrintWriter pw = new PrintWriter(bw);\r\n        pw.println(stockNames + &#39;,&#39; + stockDates + &#39;,&#39; + stockPrices);\r\n        pw.flush();\r\n        pw.close();\r\n        stockList.clear();\r\n        readCSV();\r\n    }\r\n    public void readCSV(){\r\n        String csv;\r\n        csv = &quot;src/stocks.csv&quot;;\r\n        String delimiter = &quot;,&quot;;\r\n        try{\r\n            System.out.println(new FileReader(csv));\r\n            BufferedReader br = new BufferedReader(new FileReader(csv));\r\n            String line;\r\n            while((line = br.readLine()) != null) {\r\n                String[] values = line.split(delimiter);\r\n                String stockNames = values[0];\r\n                String stockDates = values[1];\r\n                Double stockPrices = Double.parseDouble(values[2]);\r\n                Stock stock = new Stock(stockNames, stockPrices,stockDates);\r\n                stockList.add(stock);\r\n            }\r\n        } catch (FileNotFoundException ex) {\r\n            Logger.getLogger(StocksController.class.getName())\r\n                    .log(Level.FINE, null, ex);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(StocksController.class.getName())\r\n                    .log(Level.FINE, null, ex);\r\n        }\r\n    }\r\n}\r\n```\r\n**Stock Class**\r\n```\r\npublic class Stock {\r\n    private String dateRN;\r\n\r\n    public Stock(){\r\n        this.dateRN = &quot;&quot;;\r\n    }\r\n    public Stock(String ticker, Double price, String dateRN){\r\n        this.ticker = ticker;\r\n        this.price = price;\r\n        this.dateRN = dateRN;\r\n        this.checker = new CheckBox();\r\n    }\r\n    public String getDateRN() {\r\n        return dateRN;\r\n    }\r\n    public void setDateRN(String dateRN) {\r\n        this.dateRN = dateRN;\r\n    }\r\n}\r\n```\r\nI&#39;ve tried creating a comparator for Stock but it&#39;s not working so I gave up on that method is there anyway I could just create a function inside my controller sorting it directly from the observableList itself? or even when I read in the CSV?\r\n\r\n [![This is how it looks right now, however, I want the dates to be sorted][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NeKwM.png","title":"Sorting ObservableList in javaFX by String Date","body":"<p>I have a String containing a Date in the form &quot;dd-MM-yyyy&quot; I want the dates to be sorted when displayed in the table view.</p>\n<p><strong>Controller Class</strong></p>\n<pre><code>private final ObservableList&lt;Stock&gt;stockList = FXCollections.observableArrayList();\npublic class StocksController implements Initializable {\n    @FXML\n    private TableColumn&lt;Stock, String&gt; date;\n\n    public void initialize(URL url, ResourceBundle resourceBundle){\n        addToCSV.setOnAction(event -&gt; {\n            try {\n                writeCSV();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        });\n        dollarButton.setOnAction(event -&gt; {changeDollar();});\n        percentButton.setOnAction(event -&gt; {changePercent();});\n        price.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;price&quot;));\n        date.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dateRN&quot;));\n        checker.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;checker&quot;));\n        stockView.setItems(stockList);\n        search();\n        readCSV();\n    }\n    public void writeCSV() throws IOException {\n        String stockNames = (&quot;$&quot; + stockName.getText()).trim().toUpperCase();\n        Double stockPrices = Double.parseDouble((stockPrice.getText()).trim());\n        String stockDates = stockDate.getValue().format(DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;));\n        FileWriter fw = new FileWriter(&quot;src/stocks.csv&quot;,true);\n        BufferedWriter bw = new BufferedWriter(fw);\n        PrintWriter pw = new PrintWriter(bw);\n        pw.println(stockNames + ',' + stockDates + ',' + stockPrices);\n        pw.flush();\n        pw.close();\n        stockList.clear();\n        readCSV();\n    }\n    public void readCSV(){\n        String csv;\n        csv = &quot;src/stocks.csv&quot;;\n        String delimiter = &quot;,&quot;;\n        try{\n            System.out.println(new FileReader(csv));\n            BufferedReader br = new BufferedReader(new FileReader(csv));\n            String line;\n            while((line = br.readLine()) != null) {\n                String[] values = line.split(delimiter);\n                String stockNames = values[0];\n                String stockDates = values[1];\n                Double stockPrices = Double.parseDouble(values[2]);\n                Stock stock = new Stock(stockNames, stockPrices,stockDates);\n                stockList.add(stock);\n            }\n        } catch (FileNotFoundException ex) {\n            Logger.getLogger(StocksController.class.getName())\n                    .log(Level.FINE, null, ex);\n        } catch (IOException ex) {\n            Logger.getLogger(StocksController.class.getName())\n                    .log(Level.FINE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p><strong>Stock Class</strong></p>\n<pre><code>public class Stock {\n    private String dateRN;\n\n    public Stock(){\n        this.dateRN = &quot;&quot;;\n    }\n    public Stock(String ticker, Double price, String dateRN){\n        this.ticker = ticker;\n        this.price = price;\n        this.dateRN = dateRN;\n        this.checker = new CheckBox();\n    }\n    public String getDateRN() {\n        return dateRN;\n    }\n    public void setDateRN(String dateRN) {\n        this.dateRN = dateRN;\n    }\n}\n</code></pre>\n<p>I've tried creating a comparator for Stock but it's not working so I gave up on that method is there anyway I could just create a function inside my controller sorting it directly from the observableList itself? or even when I read in the CSV?</p>\n<p><a href=\"https://i.stack.imgur.com/NeKwM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NeKwM.png\" alt=\"This is how it looks right now, however, I want the dates to be sorted\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659891961,"post_id":73268145,"comment_id":129397570,"body_markdown":"I think the solution to your problem is to create a custom tag that has a body so that you can insert JSP code within the your custom tag.","body":"I think the solution to your problem is to create a custom tag that has a body so that you can insert JSP code within the your custom tag."}],"owner":{"account_id":17170997,"reputation":415,"user_id":12428145,"display_name":"Francesco Tozzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659917838,"creation_date":1659881450,"question_id":73268145,"body_markdown":"Hi everyone I have this problem, when I look for this result, the jsp page where I insert the result prints it correctly, but the `&lt;fmt:message key=&quot;roleFood1&quot; /&gt;` and `&lt;fmt:message key=&quot;roleFood2&quot; /&gt;` tag remains empty.\r\nHow can I solve the problem? Do you have any idea? thank you\r\n\r\n``` \r\npublic class RoleTag extends TagSupport {\r\n\t\r\n\tpublic int doStartTag() throws JspException {\t    \r\n\t\ttry {\r\n\t\t\t\t\t\t\r\n\t\t\tJspWriter out = pageContext.getOut();\r\n\r\n\t\t\tString outPrint = &quot;&lt;div&gt;&lt;span&gt;&lt;fmt:message key=&#39;roleFood1&#39; /&gt;&lt;/span&gt;&lt;span&gt;&lt;fmt:message key=&#39;roleFood2&#39; /&gt;&lt;/span&gt;&lt;/div&gt;&quot;;\r\n\r\n\t\t\tout.print(outPrint);\r\n\t\t} catch (java.io.IOException e) {\r\n\t\t\tthrow new JspTagException(e.getMessage());\r\n\t\t}\r\n\t\treturn SKIP_BODY;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n`&lt;fmt:message key =&#39;....&#39; /&gt;` It works fine as I use it in the JSP page.","title":"TagSupport doStartTag() print fmt:message","body":"<p>Hi everyone I have this problem, when I look for this result, the jsp page where I insert the result prints it correctly, but the <code>&lt;fmt:message key=&quot;roleFood1&quot; /&gt;</code> and <code>&lt;fmt:message key=&quot;roleFood2&quot; /&gt;</code> tag remains empty.\nHow can I solve the problem? Do you have any idea? thank you</p>\n<pre><code>public class RoleTag extends TagSupport {\n    \n    public int doStartTag() throws JspException {       \n        try {\n                        \n            JspWriter out = pageContext.getOut();\n\n            String outPrint = &quot;&lt;div&gt;&lt;span&gt;&lt;fmt:message key='roleFood1' /&gt;&lt;/span&gt;&lt;span&gt;&lt;fmt:message key='roleFood2' /&gt;&lt;/span&gt;&lt;/div&gt;&quot;;\n\n            out.print(outPrint);\n        } catch (java.io.IOException e) {\n            throw new JspTagException(e.getMessage());\n        }\n        return SKIP_BODY;\n    }\n    \n}\n\n</code></pre>\n<p><code>&lt;fmt:message key ='....' /&gt;</code> It works fine as I use it in the JSP page.</p>\n"},{"tags":["java","multithreading","parallel-processing","synchronization","java-threads"],"comments":[{"owner":{"account_id":19720197,"reputation":483,"user_id":14438712,"display_name":"null_awe"},"score":2,"creation_date":1606093180,"post_id":64961166,"comment_id":114847382,"body_markdown":"Does this answer your question? [Concurrent Modification exception](https://stackoverflow.com/questions/1496180/concurrent-modification-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1496180/concurrent-modification-exception\">Concurrent Modification exception</a>"},{"owner":{"account_id":19986670,"reputation":15,"user_id":14648681,"display_name":"user22000"},"score":0,"creation_date":1606093729,"post_id":64961166,"comment_id":114847480,"body_markdown":"@null_awe No, it doesn&#39;t work either if I use ListIterator","body":"@null_awe No, it doesn&#39;t work either if I use ListIterator"}],"answers":[{"tags":[],"owner":{"account_id":9175995,"reputation":130,"user_id":6821605,"display_name":"gdogra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659917795,"creation_date":1606099894,"answer_id":64961979,"question_id":64961166,"body_markdown":"There are few problems with your program. \r\n\r\n1. Your program is coming back to main thread before all the threads of ThreadStudents are finished. So you are trying to read before all the threads have written, which is why you are getting concurrentModification exception\r\n\r\n2. students is a ArrayList object which means it is not thread safe. \r\n    ```java\r\n    public class Main {\r\n        public static void main(String[] argv) {\r\n    \r\n            for (int i = 0; i &lt; 1; i++) {\r\n                ThreadStudents.threadsL(3);\r\n                System.out.println(ThreadStudents.students.size());\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    \r\n    public class ThreadStudents implements Runnable {\r\n    \r\n        public static List&lt;Integer&gt; students = new CopyOnWriteArrayList&lt;&gt;(); \r\n        // Thread safe version of array list\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Starting: &quot; + Thread.currentThread().getName());\r\n            for(int i = 0; i &lt; 50000; i++) {\r\n                students.add(1);\r\n            }\r\n            System.out.println(&quot;Ending &quot; + Thread.currentThread().getName());\r\n        }\r\n    \r\n        public static void threadsL(int nbThreads) {\r\n            ExecutorService executor = Executors.newFixedThreadPool(nbThreads); \r\n             // creates fixed number of threads\r\n            for(int i = 0; i &lt; nbThreads; i++) {\r\n                executor.execute(new ThreadStudents()); \r\n               // executor services will call run() from each thread\r\n            }\r\n            executor.shutdown(); // tell the service that no new threads can be submitted\r\n    \r\n            while(true) {\r\n                try {\r\n                    if (executor.awaitTermination(5, TimeUnit.MINUTES)) break;\r\n                    // it will wait till all the threads have finished or Max 5 mins \r\n                    // before going back to main thread\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n    ```\r\n\r\nMy output is exactly as expected which is 150,000.\r\n\r\n    Starting: pool-1-thread-3\r\n    Starting: pool-1-thread-1\r\n    Starting: pool-1-thread-2\r\n    Ending pool-1-thread-3\r\n    Ending pool-1-thread-1\r\n    Ending pool-1-thread-2\r\n    150000\r\n\r\n","title":"Exception in thread &quot;main&quot; java.util.ConcurrentModificationException while multithreading","body":"<p>There are few problems with your program.</p>\n<ol>\n<li><p>Your program is coming back to main thread before all the threads of ThreadStudents are finished. So you are trying to read before all the threads have written, which is why you are getting concurrentModification exception</p>\n</li>\n<li><p>students is a ArrayList object which means it is not thread safe.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] argv) {\n\n        for (int i = 0; i &lt; 1; i++) {\n            ThreadStudents.threadsL(3);\n            System.out.println(ThreadStudents.students.size());\n        }\n    }\n}\n\n\n\npublic class ThreadStudents implements Runnable {\n\n    public static List&lt;Integer&gt; students = new CopyOnWriteArrayList&lt;&gt;(); \n    // Thread safe version of array list\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Starting: &quot; + Thread.currentThread().getName());\n        for(int i = 0; i &lt; 50000; i++) {\n            students.add(1);\n        }\n        System.out.println(&quot;Ending &quot; + Thread.currentThread().getName());\n    }\n\n    public static void threadsL(int nbThreads) {\n        ExecutorService executor = Executors.newFixedThreadPool(nbThreads); \n         // creates fixed number of threads\n        for(int i = 0; i &lt; nbThreads; i++) {\n            executor.execute(new ThreadStudents()); \n           // executor services will call run() from each thread\n        }\n        executor.shutdown(); // tell the service that no new threads can be submitted\n\n        while(true) {\n            try {\n                if (executor.awaitTermination(5, TimeUnit.MINUTES)) break;\n                // it will wait till all the threads have finished or Max 5 mins \n                // before going back to main thread\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>My output is exactly as expected which is 150,000.</p>\n<pre><code>Starting: pool-1-thread-3\nStarting: pool-1-thread-1\nStarting: pool-1-thread-2\nEnding pool-1-thread-3\nEnding pool-1-thread-1\nEnding pool-1-thread-2\n150000\n</code></pre>\n"}],"owner":{"account_id":19986670,"reputation":15,"user_id":14648681,"display_name":"user22000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1606147422,"accepted_answer_id":64961979,"answer_count":1,"score":0,"last_activity_date":1659917795,"creation_date":1606091712,"question_id":64961166,"body_markdown":"I am developing a multithreaded program with the intention of adding 150000 students in a list at the same time by three threads, which means each of them will add 50000. Here is the following program:\r\n\r\n\r\n\r\n    public class ThreadsStudents implements Runnable {\r\n    \t\r\n    \tpublic static List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tfor(int i = 0; i &lt; 50000; i++) {\r\n    \t\t\tstudents.add(Generator.generetorStudent());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void threadsL(int nbThreads) {\r\n    \t\tArrayList&lt;Thread&gt; th = new ArrayList&lt;&gt;();\r\n    \t\tfor(int i = 0; i &lt; nbThreads; i++) {\r\n    \t\t\tth.add(new Thread(new ThreadsStudents()));\r\n    \t\t}\r\n    \t\tfor(Thread threads: th) {\r\n    \t\t\tthreads.start();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWhat I am trying to do is to call the method `threadsL` from `Main` class, add the list of students in a database and then do an average of the execution time for 15 executions.\r\n\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] argv) {\r\n    \t\t\r\n    \t\tlong startDate,endDate;\r\n    \t\tdouble measure;\r\n    \t\tdouble average = 0;\r\n    \r\n    \t\tManipulationBDD basedd = new ManipulationBDD();\r\n    \r\n    \t\tfor (int i = 0; i &lt; 15; i++) {\r\n    \t\t\tstartDate = System.nanoTime();\r\n    \t\t\tThreadsStudents.threadsL(3);\r\n    \t\t\t\r\n    \t\t\tfor(Student e : ThreadsStudents.students) {\r\n    \t\t\t\tbasedd.insertTable(e);\r\n    \t\t\t}\r\n    \t\t\tendDate = System.nanoTime();\r\n    \t\t\tmeasure = (double) (endDate - startDate) / 1000000000;\r\n    \t\t\taverage = average + measure;\r\n    \t\t\tbasedd.empty();\r\n    \t\t}\r\n    \t\taverage = average / 15;\r\n    \t\tSystem.out.println(&quot;The average is : &quot; + average);\r\n    \t}\r\n    }\r\n\r\nIn the `Main.java` class, I get the following Exception:\r\n\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1043)\r\n    \tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:997)\r\n    \tat Main.main(Main.java:27)\r\n\r\nLine 27 is: \r\n\r\n    for(Student e : ThreadsStudents.students) {\r\n        basedd.insertTable(e);\r\n    }\r\nCan you help me with this?\r\n\r\nThank you in advance for your help !\r\n","title":"Exception in thread &quot;main&quot; java.util.ConcurrentModificationException while multithreading","body":"<p>I am developing a multithreaded program with the intention of adding 150000 students in a list at the same time by three threads, which means each of them will add 50000. Here is the following program:</p>\n<pre><code>public class ThreadsStudents implements Runnable {\n    \n    public static List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n    \n    @Override\n    public void run() {\n        for(int i = 0; i &lt; 50000; i++) {\n            students.add(Generator.generetorStudent());\n        }\n    }\n    \n    public static void threadsL(int nbThreads) {\n        ArrayList&lt;Thread&gt; th = new ArrayList&lt;&gt;();\n        for(int i = 0; i &lt; nbThreads; i++) {\n            th.add(new Thread(new ThreadsStudents()));\n        }\n        for(Thread threads: th) {\n            threads.start();\n        }\n    }\n}\n</code></pre>\n<p>What I am trying to do is to call the method <code>threadsL</code> from <code>Main</code> class, add the list of students in a database and then do an average of the execution time for 15 executions.</p>\n<pre><code>public class Main {\n    public static void main(String[] argv) {\n        \n        long startDate,endDate;\n        double measure;\n        double average = 0;\n\n        ManipulationBDD basedd = new ManipulationBDD();\n\n        for (int i = 0; i &lt; 15; i++) {\n            startDate = System.nanoTime();\n            ThreadsStudents.threadsL(3);\n            \n            for(Student e : ThreadsStudents.students) {\n                basedd.insertTable(e);\n            }\n            endDate = System.nanoTime();\n            measure = (double) (endDate - startDate) / 1000000000;\n            average = average + measure;\n            basedd.empty();\n        }\n        average = average / 15;\n        System.out.println(&quot;The average is : &quot; + average);\n    }\n}\n</code></pre>\n<p>In the <code>Main.java</code> class, I get the following Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1043)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:997)\n    at Main.main(Main.java:27)\n</code></pre>\n<p>Line 27 is:</p>\n<pre><code>for(Student e : ThreadsStudents.students) {\n    basedd.insertTable(e);\n}\n</code></pre>\n<p>Can you help me with this?</p>\n<p>Thank you in advance for your help !</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1574997885,"post_id":59094587,"comment_id":104429850,"body_markdown":"Please post the _stack trace_ of the generated exception.","body":"Please post the <i>stack trace</i> of the generated exception."}],"answers":[{"tags":[],"owner":{"account_id":7249347,"reputation":699,"user_id":5530229,"accept_rate":60,"display_name":"sudhanva"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1575019100,"creation_date":1575019100,"answer_id":59101966,"question_id":59094587,"body_markdown":"The code you have mentioned is equivalent to: \r\n\r\n    db.col.updateOne({&quot;_id&quot;:&quot;id&quot;...etc.},{&quot;name&quot;:&quot;newName&quot;...etc.}) \r\n\r\nYou are missing the `$set` command here. So what you need to do is this: \r\n\r\n    Document snewDoc = new Document();\r\n    snewdoc.append(&quot;Name&quot;, snew.getName());\r\n    snewdoc.append(&quot;Brand&quot;, snew.getBrand());\r\n    snewdoc.append(&quot;Type&quot;, snew.getType());\r\n    snewdoc.append(&quot;Color&quot;, snew.getColor());\r\n    snewdoc.append(&quot;Size&quot;, snew.getSize());\r\n    snewdoc.append(&quot;Price&quot;, snew.getPrice());\r\n    Document updateDoc = new Document(&quot;$set&quot;,snewDoc);\r\n    this.collection.updateOne(sfilterdoc, updateDoc);\r\n\r\nThe above is equivalent to the correct format, which is: \r\n\r\n    db.col.updateOne({&quot;_id&quot;:&quot;id&quot;...etc.},{&quot;$set&quot;:{&quot;name&quot;:&quot;newName&quot;...etc.}})\r\n","title":"my app in java throws an exception that says Invalid BSON field name Name","body":"<p>The code you have mentioned is equivalent to: </p>\n\n<pre><code>db.col.updateOne({\"_id\":\"id\"...etc.},{\"name\":\"newName\"...etc.}) \n</code></pre>\n\n<p>You are missing the <code>$set</code> command here. So what you need to do is this: </p>\n\n<pre><code>Document snewDoc = new Document();\nsnewdoc.append(\"Name\", snew.getName());\nsnewdoc.append(\"Brand\", snew.getBrand());\nsnewdoc.append(\"Type\", snew.getType());\nsnewdoc.append(\"Color\", snew.getColor());\nsnewdoc.append(\"Size\", snew.getSize());\nsnewdoc.append(\"Price\", snew.getPrice());\nDocument updateDoc = new Document(\"$set\",snewDoc);\nthis.collection.updateOne(sfilterdoc, updateDoc);\n</code></pre>\n\n<p>The above is equivalent to the correct format, which is: </p>\n\n<pre><code>db.col.updateOne({\"_id\":\"id\"...etc.},{\"$set\":{\"name\":\"newName\"...etc.}})\n</code></pre>\n"}],"owner":{"account_id":16941665,"reputation":129,"user_id":12253380,"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59101966,"answer_count":1,"score":2,"last_activity_date":1659917759,"creation_date":1574965632,"question_id":59094587,"body_markdown":"I have this code:\r\n\r\n    public class UpdateShoe {\r\n\r\n    MongoClient mongoClient = MongoClients.create();\r\n    MongoDatabase db = mongoClient.getDatabase(&quot;MirandasShoes&quot;);\r\n    MongoCollection&lt;Document&gt; collection = db.getCollection(&quot;Shoes&quot;);\r\n    MongoCursor&lt;Document&gt; cursor = collection.find().iterator();\r\n\r\n    public void UpdateShoe(Shoe sfilter, Shoe snew) {\r\n        Document sfilterdoc = new Document();\r\n        sfilterdoc.append(&quot;_id&quot;, sfilter.getId());\r\n        sfilterdoc.append(&quot;Name&quot;, sfilter.getName());\r\n        sfilterdoc.append(&quot;Brand&quot;, sfilter.getBrand());\r\n        sfilterdoc.append(&quot;Type&quot;, sfilter.getType());\r\n        sfilterdoc.append(&quot;Color&quot;, sfilter.getColor());\r\n        sfilterdoc.append(&quot;Size&quot;, sfilter.getSize());\r\n        sfilterdoc.append(&quot;Price&quot;, sfilter.getPrice());\r\n        \r\n        Document snewdoc = new Document();\r\n        snewdoc.append(&quot;Name&quot;, snew.getName());\r\n        snewdoc.append(&quot;Brand&quot;, snew.getBrand());\r\n        snewdoc.append(&quot;Type&quot;, snew.getType());\r\n        snewdoc.append(&quot;Color&quot;, snew.getColor());\r\n        snewdoc.append(&quot;Size&quot;, snew.getSize());\r\n        snewdoc.append(&quot;Price&quot;, snew.getPrice());\r\n        \r\n        this.collection.updateOne(sfilterdoc, snewdoc);\r\n    }\r\n}\r\n\r\nWhen I hit the update button, it throws the excepion that says Invalid BSON field name Name.\r\nIn the intellisense it specifies that the parameters have to be bson and I am using document but in the online documentations document is mostly used so why is it throwing the exception, is there something wrong in my code?\r\n\r\nThis is the console output when I hit the update button:\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: Invalid BSON field name Name\r\n\tat org.bson.AbstractBsonWriter.writeName(AbstractBsonWriter.java:532)\r\n\tat com.mongodb.internal.connection.BsonWriterDecorator.writeName(BsonWriterDecorator.java:193)\r\n\tat org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:198)\r\n\tat org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:141)\r\n\tat org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:45)\r\n\tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\r\n\tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\r\n\tat com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:403)\r\n\tat com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:375)\r\n\tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\r\n\tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\r\n\tat com.mongodb.internal.connection.BsonWriterHelper.writeDocument(BsonWriterHelper.java:75)\r\n\tat com.mongodb.internal.connection.BsonWriterHelper.writePayload(BsonWriterHelper.java:59)\r\n\tat com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:147)\r\n\tat com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:138)\r\n\tat com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:61)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:248)\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:450)\r\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\r\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:218)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.executeCommand(MixedBulkWriteOperation.java:435)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:261)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:72)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:205)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:196)\r\n\tat com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:501)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:196)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:71)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1048)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeUpdate(MongoCollectionImpl.java:1032)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.updateOne(MongoCollectionImpl.java:617)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.updateOne(MongoCollectionImpl.java:612)\r\n\tat DAL.UpdateShoe.UpdateShoe(UpdateShoe.java:45)\r\n\tat UI.UpdateShoeUI.btnUpdateShoeActionPerformed(UpdateShoeUI.java:162)\r\n\tat UI.UpdateShoeUI.access$100(UpdateShoeUI.java:18)\r\n\tat UI.UpdateShoeUI$2.actionPerformed(UpdateShoeUI.java:79)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n```","title":"my app in java throws an exception that says Invalid BSON field name Name","body":"<p>I have this code:</p>\n<pre><code>public class UpdateShoe {\n\nMongoClient mongoClient = MongoClients.create();\nMongoDatabase db = mongoClient.getDatabase(&quot;MirandasShoes&quot;);\nMongoCollection&lt;Document&gt; collection = db.getCollection(&quot;Shoes&quot;);\nMongoCursor&lt;Document&gt; cursor = collection.find().iterator();\n\npublic void UpdateShoe(Shoe sfilter, Shoe snew) {\n    Document sfilterdoc = new Document();\n    sfilterdoc.append(&quot;_id&quot;, sfilter.getId());\n    sfilterdoc.append(&quot;Name&quot;, sfilter.getName());\n    sfilterdoc.append(&quot;Brand&quot;, sfilter.getBrand());\n    sfilterdoc.append(&quot;Type&quot;, sfilter.getType());\n    sfilterdoc.append(&quot;Color&quot;, sfilter.getColor());\n    sfilterdoc.append(&quot;Size&quot;, sfilter.getSize());\n    sfilterdoc.append(&quot;Price&quot;, sfilter.getPrice());\n    \n    Document snewdoc = new Document();\n    snewdoc.append(&quot;Name&quot;, snew.getName());\n    snewdoc.append(&quot;Brand&quot;, snew.getBrand());\n    snewdoc.append(&quot;Type&quot;, snew.getType());\n    snewdoc.append(&quot;Color&quot;, snew.getColor());\n    snewdoc.append(&quot;Size&quot;, snew.getSize());\n    snewdoc.append(&quot;Price&quot;, snew.getPrice());\n    \n    this.collection.updateOne(sfilterdoc, snewdoc);\n}\n</code></pre>\n<p>}</p>\n<p>When I hit the update button, it throws the excepion that says Invalid BSON field name Name.\nIn the intellisense it specifies that the parameters have to be bson and I am using document but in the online documentations document is mostly used so why is it throwing the exception, is there something wrong in my code?</p>\n<p>This is the console output when I hit the update button:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: Invalid BSON field name Name\n    at org.bson.AbstractBsonWriter.writeName(AbstractBsonWriter.java:532)\n    at com.mongodb.internal.connection.BsonWriterDecorator.writeName(BsonWriterDecorator.java:193)\n    at org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:198)\n    at org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:141)\n    at org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:45)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\n    at com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:403)\n    at com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:375)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\n    at com.mongodb.internal.connection.BsonWriterHelper.writeDocument(BsonWriterHelper.java:75)\n    at com.mongodb.internal.connection.BsonWriterHelper.writePayload(BsonWriterHelper.java:59)\n    at com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:147)\n    at com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:138)\n    at com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:61)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:248)\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:450)\n    at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:218)\n    at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\n    at com.mongodb.operation.MixedBulkWriteOperation.executeCommand(MixedBulkWriteOperation.java:435)\n    at com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:261)\n    at com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:72)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:205)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:196)\n    at com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:501)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:196)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:71)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1048)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeUpdate(MongoCollectionImpl.java:1032)\n    at com.mongodb.client.internal.MongoCollectionImpl.updateOne(MongoCollectionImpl.java:617)\n    at com.mongodb.client.internal.MongoCollectionImpl.updateOne(MongoCollectionImpl.java:612)\n    at DAL.UpdateShoe.UpdateShoe(UpdateShoe.java:45)\n    at UI.UpdateShoeUI.btnUpdateShoeActionPerformed(UpdateShoeUI.java:162)\n    at UI.UpdateShoeUI.access$100(UpdateShoeUI.java:18)\n    at UI.UpdateShoeUI$2.actionPerformed(UpdateShoeUI.java:79)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n"},{"tags":["java","apache-camel","xml-rpc"],"comments":[{"owner":{"account_id":1527161,"reputation":801,"user_id":1425280,"accept_rate":56,"display_name":"Naveen Raj"},"score":1,"creation_date":1426747589,"post_id":29119617,"comment_id":46501366,"body_markdown":"Please share the code","body":"Please share the code"}],"answers":[{"tags":[],"owner":{"account_id":1241188,"reputation":1943,"user_id":1203750,"accept_rate":67,"display_name":"Milan Halada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426845448,"creation_date":1426845448,"answer_id":29163791,"question_id":29119617,"body_markdown":"Well i was not able to find a solution so i have to solve it another way - im removing the `nil` elements\r\n\r\n    &lt;dataFormats&gt;\r\n        &lt;xmlrpc id=&quot;xmlrpcResponse&quot; request=&quot;false&quot;/&gt;\r\n    &lt;/dataFormats&gt;    \r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;timer://mainTimer?period=60000&quot;/&gt;\r\n        &lt;to uri=&quot;https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact?defaultMethodName=test&quot; /&gt;\r\n        &lt;process ref=&quot;removeNilFromXml&quot;/&gt;\t\r\n        &lt;unmarshal ref=&quot;xmlrpcResponse&quot;/&gt;\r\n        &lt;to uri=&quot;mock:result&quot; /&gt;\r\n    &lt;/route&gt;\r\n           \r\n\r\nremoveNilFromXml.java:\r\n\r\n    public class removeNilFromXml implements Processor {\r\n    \r\n    \tpublic void process(Exchange exchange) throws Exception {\r\n    \t\tString data = exchange.getIn().getBody(String.class);\r\n    \t\tString nonildata = data.replace(&quot;&lt;nil/&gt;&quot;, &quot;&quot;);\t\r\n    \t\t\r\n    \t\texchange.getIn().setBody(nonildata);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nNot the best solution but it works...","title":"Failed to parse server&#39;s response: Unknown type: nil","body":"<p>Well i was not able to find a solution so i have to solve it another way - im removing the <code>nil</code> elements</p>\n\n<pre><code>&lt;dataFormats&gt;\n    &lt;xmlrpc id=\"xmlrpcResponse\" request=\"false\"/&gt;\n&lt;/dataFormats&gt;    \n&lt;route&gt;\n    &lt;from uri=\"timer://mainTimer?period=60000\"/&gt;\n    &lt;to uri=\"https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact?defaultMethodName=test\" /&gt;\n    &lt;process ref=\"removeNilFromXml\"/&gt;   \n    &lt;unmarshal ref=\"xmlrpcResponse\"/&gt;\n    &lt;to uri=\"mock:result\" /&gt;\n&lt;/route&gt;\n</code></pre>\n\n<p>removeNilFromXml.java:</p>\n\n<pre><code>public class removeNilFromXml implements Processor {\n\n    public void process(Exchange exchange) throws Exception {\n        String data = exchange.getIn().getBody(String.class);\n        String nonildata = data.replace(\"&lt;nil/&gt;\", \"\");  \n\n        exchange.getIn().setBody(nonildata);\n    }\n\n}\n</code></pre>\n\n<p>Not the best solution but it works...</p>\n"}],"owner":{"account_id":1241188,"reputation":1943,"user_id":1203750,"accept_rate":67,"display_name":"Milan Halada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659916607,"creation_date":1426674636,"question_id":29119617,"body_markdown":"Im trying to make a camel route that would get a xml-rpc data from a 3rd party web site. Problem is that some values are NIL. Is there some way to configure route to accept such values?\r\n\r\nsite: https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact\r\n\r\nIn a worst case scenario i could pre-process it and replace all NIL`s, but i would like to know if there is not some simple solution\r\n\r\nEDIT: adding example route\r\n\r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;timer://mainTimer?period=5000&quot;/&gt;\r\n        &lt;to uri=&quot;xmlrpc:https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact?defaultMethodName=test&quot; /&gt;\r\n        &lt;to uri=&quot;mock:result&quot; /&gt;\r\n    &lt;/route&gt;        \r\n\r\nAlso I tried to play with XmlRpcClientConfigurer but had no luck there - im a java noob so no idea if im doing it right\r\n\r\n    public class xmlrpcConfigurer implements XmlRpcClientConfigurer {\r\n    \r\n    \t@Override\r\n    \tpublic void configureXmlRpcClient(XmlRpcClient client) {\r\n            XmlRpcClientConfigImpl clientConfig = (XmlRpcClientConfigImpl)client.getClientConfig();\r\n            clientConfig.setEnabledForExtensions(true);    \r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nIdea behind that was that acording to http://en.wikipedia.org/wiki/XML-RPC nil tag is an extension I dont really know if it does what i think it does...","title":"Failed to parse server&#39;s response: Unknown type: nil","body":"<p>Im trying to make a camel route that would get a xml-rpc data from a 3rd party web site. Problem is that some values are NIL. Is there some way to configure route to accept such values?</p>\n\n<p>site: <a href=\"https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact\" rel=\"nofollow\">https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact</a></p>\n\n<p>In a worst case scenario i could pre-process it and replace all NIL`s, but i would like to know if there is not some simple solution</p>\n\n<p>EDIT: adding example route</p>\n\n<pre><code>&lt;route&gt;\n    &lt;from uri=\"timer://mainTimer?period=5000\"/&gt;\n    &lt;to uri=\"xmlrpc:https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact?defaultMethodName=test\" /&gt;\n    &lt;to uri=\"mock:result\" /&gt;\n&lt;/route&gt;        \n</code></pre>\n\n<p>Also I tried to play with XmlRpcClientConfigurer but had no luck there - im a java noob so no idea if im doing it right</p>\n\n<pre><code>public class xmlrpcConfigurer implements XmlRpcClientConfigurer {\n\n    @Override\n    public void configureXmlRpcClient(XmlRpcClient client) {\n        XmlRpcClientConfigImpl clientConfig = (XmlRpcClientConfigImpl)client.getClientConfig();\n        clientConfig.setEnabledForExtensions(true);    \n\n    }\n\n}\n</code></pre>\n\n<p>Idea behind that was that acording to <a href=\"http://en.wikipedia.org/wiki/XML-RPC\" rel=\"nofollow\">http://en.wikipedia.org/wiki/XML-RPC</a> nil tag is an extension I dont really know if it does what i think it does...</p>\n"},{"tags":["java","multithreading","threadpool","executorservice","executor"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1659623136,"post_id":73234995,"comment_id":129342872,"body_markdown":"Please don&#39;t use words like *lac* or *lakh* that are not globally understood","body":"Please don&#39;t use words like <i>lac</i> or <i>lakh</i> that are not globally understood"}],"answers":[{"tags":[],"owner":{"account_id":20399566,"reputation":306,"user_id":14965614,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659710942,"creation_date":1659692548,"answer_id":73247732,"question_id":73234995,"body_markdown":"Thread pool type, in your case, does not impact performance because the cost of thread management is very small compared to each task cost (from 4 s. to 30 m.). \r\n\r\nThe number of parallel threads that are running is more important. If each task does not perform any I/O operation, probably the correct number of parallel threads is the number of cores of your hardware. If your tasks involve network or disk I/O, it is more difficult to determine the correct level of parallelism to maximize performance.","title":"CachedThreadPool vs FixedThreadPool for huge number of task","body":"<p>Thread pool type, in your case, does not impact performance because the cost of thread management is very small compared to each task cost (from 4 s. to 30 m.).</p>\n<p>The number of parallel threads that are running is more important. If each task does not perform any I/O operation, probably the correct number of parallel threads is the number of cores of your hardware. If your tasks involve network or disk I/O, it is more difficult to determine the correct level of parallelism to maximize performance.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659916567,"creation_date":1659915332,"answer_id":73271742,"question_id":73234995,"body_markdown":"### Starting point\r\n\r\nHere&#39;s what stands out in your question:\r\n\r\n* There are ~400,000 tasks to process\r\n* Most tasks (~399,500 or ~99.875%) take 4 seconds or less to complete\r\n* Some tasks (~500 or ~0.125%) usually take 10-30 minutes to complete\r\n* Tasks perform &quot;no I/O operations&quot;\r\n* Current approach uses a FixedThreadPool with size 200\r\n\r\n### Overview\r\n\r\nGiven that the tasks perform &quot;no I/O operations&quot;, this implies:\r\n* no disk I/O\r\n* no network I/O\r\n\r\nThe tasks are then bound (limited) either by CPU or memory. \r\nA first step would be to understand which of the two is the limiter: CPU or memory.\r\n\r\nNothing in your problem statement sounds like the choice of thread pool is a factor.\r\n\r\n### Limited by CPU\r\n\r\nIf the work is CPU-bound, in general nothing will be improved by increasing the thread pool size beyond the number of available CPU cores. So if you have a 32 CPU cores available, a thread pool with a larger number of active threads (for example: 100) would incur overhead (run slower) due to context switching. Things won&#39;t &quot;go faster&quot; with more threads if the underlying contended resource is CPU.\r\n\r\nWith a CPU-bound problem, I would first set the thread pool no higher than total CPU cores on the machine (and probably less). So if your machine has 32 cores, try a thread pool of 16 or maybe 20 to start. Then process real-world data and make obesrvations about performance, possibly making additional changes based on those test runs.\r\nBesides your own program, there are always other things running on any computer system, so it isn&#39;t a given that 16 (for example) is &quot;low enough&quot; – it depends on what else is running on the system. That&#39;s the importance of doing a test run though –&#160;set it to 16, look for signs of CPU contention, possibly reduce _below_ 16 if needed; or maybe there&#39;s plenty of idle CPU available with 16, so it could be safe/fine to increase higher.\r\n\r\n### Limited by memory\r\n\r\nIf the work is memory-bound, the thread pool size isn&#39;t as directly tied to the contended resource (like it is with CPU cores). It might take additional\r\nunderstanding to decide if or how to tune the system to avoid memory contention.\r\n\r\nAs with CPU-bound problems, you should be able to start with a fixed size (something smaller than 200), and make observations using real-world data sets.\r\nThere should be some pattern that emerges, perhaps (for example) that the ~500 or so 10-30 minute tasks use way more memory than all other tasks.\r\n\r\n","title":"CachedThreadPool vs FixedThreadPool for huge number of task","body":"<h3>Starting point</h3>\n<p>Here's what stands out in your question:</p>\n<ul>\n<li>There are ~400,000 tasks to process</li>\n<li>Most tasks (~399,500 or ~99.875%) take 4 seconds or less to complete</li>\n<li>Some tasks (~500 or ~0.125%) usually take 10-30 minutes to complete</li>\n<li>Tasks perform &quot;no I/O operations&quot;</li>\n<li>Current approach uses a FixedThreadPool with size 200</li>\n</ul>\n<h3>Overview</h3>\n<p>Given that the tasks perform &quot;no I/O operations&quot;, this implies:</p>\n<ul>\n<li>no disk I/O</li>\n<li>no network I/O</li>\n</ul>\n<p>The tasks are then bound (limited) either by CPU or memory.\nA first step would be to understand which of the two is the limiter: CPU or memory.</p>\n<p>Nothing in your problem statement sounds like the choice of thread pool is a factor.</p>\n<h3>Limited by CPU</h3>\n<p>If the work is CPU-bound, in general nothing will be improved by increasing the thread pool size beyond the number of available CPU cores. So if you have a 32 CPU cores available, a thread pool with a larger number of active threads (for example: 100) would incur overhead (run slower) due to context switching. Things won't &quot;go faster&quot; with more threads if the underlying contended resource is CPU.</p>\n<p>With a CPU-bound problem, I would first set the thread pool no higher than total CPU cores on the machine (and probably less). So if your machine has 32 cores, try a thread pool of 16 or maybe 20 to start. Then process real-world data and make obesrvations about performance, possibly making additional changes based on those test runs.\nBesides your own program, there are always other things running on any computer system, so it isn't a given that 16 (for example) is &quot;low enough&quot; – it depends on what else is running on the system. That's the importance of doing a test run though – set it to 16, look for signs of CPU contention, possibly reduce <em>below</em> 16 if needed; or maybe there's plenty of idle CPU available with 16, so it could be safe/fine to increase higher.</p>\n<h3>Limited by memory</h3>\n<p>If the work is memory-bound, the thread pool size isn't as directly tied to the contended resource (like it is with CPU cores). It might take additional\nunderstanding to decide if or how to tune the system to avoid memory contention.</p>\n<p>As with CPU-bound problems, you should be able to start with a fixed size (something smaller than 200), and make observations using real-world data sets.\nThere should be some pattern that emerges, perhaps (for example) that the ~500 or so 10-30 minute tasks use way more memory than all other tasks.</p>\n"}],"owner":{"account_id":15612235,"reputation":11,"user_id":11263312,"display_name":"Prakash Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659916567,"creation_date":1659611892,"question_id":73234995,"body_markdown":"I would like to know which one should i use in the particular scenario: \r\nthere are several tasks, usually 400k tasks to process.\r\nmost of the tasks took less than 4 sec to process but some of them (300 to 500 tasks) took long time usually between 10 to 30 min.\r\n\r\nCurrently, we have FixedThreadPool implemented with size 200.\r\nI am wondering if we can do it better with CachedThreadpool?\r\nAlso want to know what will be the impact on server as only one server is dedicated for the task.\r\n\r\nAll task performs just calculations. No I/O operations\r\n","title":"CachedThreadPool vs FixedThreadPool for huge number of task","body":"<p>I would like to know which one should i use in the particular scenario:\nthere are several tasks, usually 400k tasks to process.\nmost of the tasks took less than 4 sec to process but some of them (300 to 500 tasks) took long time usually between 10 to 30 min.</p>\n<p>Currently, we have FixedThreadPool implemented with size 200.\nI am wondering if we can do it better with CachedThreadpool?\nAlso want to know what will be the impact on server as only one server is dedicated for the task.</p>\n<p>All task performs just calculations. No I/O operations</p>\n"},{"tags":["java","joptionpane","jdatechooser","jcalendar"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1455217212,"post_id":35347519,"comment_id":58402788,"body_markdown":"Here is an example of how you can retrieve the results of your dialog inline: https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/dialogs/ParamDialog.java","body":"Here is an example of how you can retrieve the results of your dialog inline: <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/dialogs/ParamDialog.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/dialogs/&hellip;</a>"},{"owner":{"account_id":6398232,"reputation":143,"user_id":4961879,"accept_rate":88,"display_name":"Josu&#233; Almonasi"},"score":0,"creation_date":1455285784,"post_id":35347519,"comment_id":58434790,"body_markdown":"Yes, thanks, that is something similar to what I was trying to achieve but in this case I needed to replace the input text element with the JDateChooser, look at the answer a managed out, it may be helpful for you in the future.","body":"Yes, thanks, that is something similar to what I was trying to achieve but in this case I needed to replace the input text element with the JDateChooser, look at the answer a managed out, it may be helpful for you in the future."}],"answers":[{"tags":[],"owner":{"account_id":6398232,"reputation":143,"user_id":4961879,"accept_rate":88,"display_name":"Josu&#233; Almonasi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1455285603,"creation_date":1455285603,"answer_id":35364447,"question_id":35347519,"body_markdown":"I finally reached a solution that worked for me. I stared creating separately a DateChooser and a String and put them together in an Object array, then pass the object as argument for the JOptionPane.\r\n\r\n    JDateChooser jd = new JDateChooser();\r\n    String message =&quot;Choose start date:\\n&quot;;\r\n    Object[] params = {message,jd};\r\n    JOptionPane.showConfirmDialog(null,params,&quot;Start date&quot;, JOptionPane.PLAIN_MESSAGE);\r\n\r\nIn order to get the date once the user clicks the &quot;OK&quot; button in the JOptionPane  I implemented a SimpleDateFormat.\r\n\r\n    String s=&quot;&quot;;\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    s=sdf.format(((JDateChooser)params[1]).getDate());//Casting params[1] makes me able to get its information\r\n\r\nThat implementation solved the problem the way I wanted, I hope you guys find this helpful. ","title":"Display JDateChooser in JOptionPane","body":"<p>I finally reached a solution that worked for me. I stared creating separately a DateChooser and a String and put them together in an Object array, then pass the object as argument for the JOptionPane.</p>\n\n<pre><code>JDateChooser jd = new JDateChooser();\nString message =\"Choose start date:\\n\";\nObject[] params = {message,jd};\nJOptionPane.showConfirmDialog(null,params,\"Start date\", JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n\n<p>In order to get the date once the user clicks the \"OK\" button in the JOptionPane  I implemented a SimpleDateFormat.</p>\n\n<pre><code>String s=\"\";\nSimpleDateFormat sdf = new SimpleDateFormat(\"MM/dd/yyyy\");\ns=sdf.format(((JDateChooser)params[1]).getDate());//Casting params[1] makes me able to get its information\n</code></pre>\n\n<p>That implementation solved the problem the way I wanted, I hope you guys find this helpful. </p>\n"},{"tags":[],"owner":{"account_id":2295005,"reputation":21,"user_id":2016664,"display_name":"Jav13rzito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659915785,"creation_date":1659915785,"answer_id":73271775,"question_id":35347519,"body_markdown":"    JDateChooser jd = new JDateChooser();\r\n    String message =&quot;Choose start date:\\n&quot;;\r\n    Object[] params = {message,jd};\r\n    if (JOptionPane.showConfirmDialog(this, params, &quot;Start date&quot;, JOptionPane.PLAIN_MESSAGE) == 0) { \r\n        System.out.println(&quot;Picked date=&quot;+jd.getDate().toString());\r\n        //I dont need to cast to a jdatechooser, i only take the date\r\n        //start the chooser with todays date in case you want using jd.setCalendar(new GregorianCalendar());\r\n    }","title":"Display JDateChooser in JOptionPane","body":"<pre><code>JDateChooser jd = new JDateChooser();\nString message =&quot;Choose start date:\\n&quot;;\nObject[] params = {message,jd};\nif (JOptionPane.showConfirmDialog(this, params, &quot;Start date&quot;, JOptionPane.PLAIN_MESSAGE) == 0) { \n    System.out.println(&quot;Picked date=&quot;+jd.getDate().toString());\n    //I dont need to cast to a jdatechooser, i only take the date\n    //start the chooser with todays date in case you want using jd.setCalendar(new GregorianCalendar());\n}\n</code></pre>\n"}],"owner":{"account_id":6398232,"reputation":143,"user_id":4961879,"accept_rate":88,"display_name":"Josu&#233; Almonasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6475,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35364447,"answer_count":2,"score":5,"last_activity_date":1659915785,"creation_date":1455216274,"question_id":35347519,"body_markdown":"I want to display a `JDateChooser` component inside an Option pane depending on some selection from the user.\r\nThe point is that I tried getting the `JDateChooser` the way I want it to appear using next code:\r\n\r\n    JOptionPane.showInputDialog(null, new JDateChooser(),&quot;Start date&quot;, JOptionPane.PLAIN_MESSAGE);\r\nI tried with different kinds of `JOptionPane` variants but I can&#39;t figure out how to get this done, the user must be able to select the date and confirm by clicking a button so that I can retrieve that date and use it as a `String`.\r\n\r\nI&#39;d like to have something like this:\r\n\r\n    String s = JOptionPane.showInputDialog(null,&quot;Text&quot;, &quot;More Text&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\r\nSo that in that way I can get the selected date.\r\nI&#39;m working with jcalendar-1.4.jar","title":"Display JDateChooser in JOptionPane","body":"<p>I want to display a <code>JDateChooser</code> component inside an Option pane depending on some selection from the user.\nThe point is that I tried getting the <code>JDateChooser</code> the way I want it to appear using next code:</p>\n\n<pre><code>JOptionPane.showInputDialog(null, new JDateChooser(),\"Start date\", JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n\n<p>I tried with different kinds of <code>JOptionPane</code> variants but I can't figure out how to get this done, the user must be able to select the date and confirm by clicking a button so that I can retrieve that date and use it as a <code>String</code>.</p>\n\n<p>I'd like to have something like this:</p>\n\n<pre><code>String s = JOptionPane.showInputDialog(null,\"Text\", \"More Text\", JOptionPane.INFORMATION_MESSAGE);\n</code></pre>\n\n<p>So that in that way I can get the selected date.\nI'm working with jcalendar-1.4.jar</p>\n"},{"tags":["java","selenium-webdriver","xpath","youtube","css-selectors"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659913237,"creation_date":1659913237,"answer_id":73271621,"question_id":73259652,"body_markdown":"To extract the _**duration of a YouTube**_ video you have to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _cssSelector_ and `getText()`:\r\n\r\n      driver.get(&quot;https://www.youtube.com/&quot;);\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;ytd-thumbnail-overlay-time-status-renderer.style-scope.ytd-thumbnail span.style-scope.ytd-thumbnail-overlay-time-status-renderer#text&quot;))).getText());\r\n           \t\r\n- Using _xpath_ and `getAttribute(&quot;innerHTML&quot;)`:\r\n\r\n      driver.get(&quot;https://www.youtube.com/&quot;);\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//a[@id=&#39;thumbnail&#39; and @href]//following::div[1]//span&quot;))).getAttribute(&quot;innerHTML&quot;));","title":"How to get the duration of a youtube video in Sselenium+Java?","body":"<p>To extract the <em><strong>duration of a YouTube</strong></em> video you have to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em> and <code>getText()</code>:</p>\n<pre><code>driver.get(&quot;https://www.youtube.com/&quot;);\nSystem.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;ytd-thumbnail-overlay-time-status-renderer.style-scope.ytd-thumbnail span.style-scope.ytd-thumbnail-overlay-time-status-renderer#text&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>getAttribute(&quot;innerHTML&quot;)</code>:</p>\n<pre><code>driver.get(&quot;https://www.youtube.com/&quot;);\nSystem.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//a[@id='thumbnail' and @href]//following::div[1]//span&quot;))).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":15380555,"reputation":1,"user_id":11096087,"display_name":"cgrum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659913237,"creation_date":1659788172,"question_id":73259652,"body_markdown":"It&#39;s my code:\r\n\r\n    @Test\r\n        public void Task4Test(){\r\n            DriverFactory driverFactory = new DriverFactory();\r\n            WebDriver webDriver = driverFactory.initDriver();\r\n            webDriver.get(&quot;https://www.youtube.com/&quot;);\r\n            webDriver.findElement(By.xpath(&quot;//*[@id=&#39;button&#39;]//*[contains(text(), &#39;Zaakceptuj wszystko&#39;)]&quot;)).click();\r\n            WebDriverWait wait = new WebDriverWait(webDriver, 30);\r\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//*[@id=&#39;video-title&#39;])[1]&quot;)));\r\n            String firstVideoTitle = webDriver.findElement(By.xpath(&quot;(//*[@id=&#39;video-title&#39;])[1]&quot;)).getText();\r\n            System.out.println(firstVideoTitle);\r\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//ytd-channel-name[@id=&#39;channel-name&#39;]&quot; +\r\n                    &quot;/div/div/yt-formatted-string/a)[1]&quot;)));\r\n            String firstVideoChannel = webDriver.findElement(By.xpath(&quot;(//ytd-channel-name[@id=&#39;channel-name&#39;]&quot; +\r\n                    &quot;/div/div/yt-formatted-string/a)[1]&quot;)).getText();\r\n            System.out.println(firstVideoChannel);\r\n            String firstVideoLength = webDriver.findElement(By.xpath(&quot;(//span[@id=&#39;text&#39;])[1]&quot;)).getText();\r\n            System.out.println(firstVideoLength);\r\n\r\nResponse:\r\n```\r\norg.openqa.selenium.NoSuchElementException: Unable to locate element: (//span[@id=&#39;text&#39;])[1]\r\n```\r\n\r\nElement snapshot:\r\n\r\n![screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OI9Yb.png","title":"How to get the duration of a youtube video in Sselenium+Java?","body":"<p>It's my code:</p>\n<pre><code>@Test\n    public void Task4Test(){\n        DriverFactory driverFactory = new DriverFactory();\n        WebDriver webDriver = driverFactory.initDriver();\n        webDriver.get(&quot;https://www.youtube.com/&quot;);\n        webDriver.findElement(By.xpath(&quot;//*[@id='button']//*[contains(text(), 'Zaakceptuj wszystko')]&quot;)).click();\n        WebDriverWait wait = new WebDriverWait(webDriver, 30);\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//*[@id='video-title'])[1]&quot;)));\n        String firstVideoTitle = webDriver.findElement(By.xpath(&quot;(//*[@id='video-title'])[1]&quot;)).getText();\n        System.out.println(firstVideoTitle);\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//ytd-channel-name[@id='channel-name']&quot; +\n                &quot;/div/div/yt-formatted-string/a)[1]&quot;)));\n        String firstVideoChannel = webDriver.findElement(By.xpath(&quot;(//ytd-channel-name[@id='channel-name']&quot; +\n                &quot;/div/div/yt-formatted-string/a)[1]&quot;)).getText();\n        System.out.println(firstVideoChannel);\n        String firstVideoLength = webDriver.findElement(By.xpath(&quot;(//span[@id='text'])[1]&quot;)).getText();\n        System.out.println(firstVideoLength);\n</code></pre>\n<p>Response:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: Unable to locate element: (//span[@id='text'])[1]\n</code></pre>\n<p>Element snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/OI9Yb.png\" alt=\"screenshot\" /></p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":5494862,"reputation":665,"user_id":4366358,"accept_rate":44,"display_name":"OEH"},"score":0,"creation_date":1586335813,"post_id":61095857,"comment_id":108088123,"body_markdown":"I am not sure but i think It Is in the paid version of intellij, are you using the community?","body":"I am not sure but i think It Is in the paid version of intellij, are you using the community?"},{"owner":{"account_id":18214913,"reputation":51,"user_id":13256723,"display_name":"Tomasz Hankus"},"score":0,"creation_date":1586337449,"post_id":61095857,"comment_id":108088960,"body_markdown":"I use paid one - Ultimate 2019.03","body":"I use paid one - Ultimate 2019.03"}],"answers":[{"tags":[],"owner":{"account_id":7442080,"reputation":304,"user_id":5659556,"display_name":"ParkerM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659912880,"creation_date":1659912880,"answer_id":73271590,"question_id":61095857,"body_markdown":"If `@ConfigurationProperties` is at the class level then there should be some gutter icons that will show where the properties have been set.\r\n[![IntelliJ spring boot properties gutter popup][1]][1]\r\n\r\n\r\nIt doesn&#39;t look like this works when it&#39;s specified on a `@Bean` like in your example however. A possible workaround is to use a nested `@Configuration` class, though that may be undesirable.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YV2QA.png\r\n  [2]: https://i.stack.imgur.com/XqS9v.png","title":"How to configure intellij to find spring properties source","body":"<p>If <code>@ConfigurationProperties</code> is at the class level then there should be some gutter icons that will show where the properties have been set.\n<a href=\"https://i.stack.imgur.com/YV2QA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YV2QA.png\" alt=\"IntelliJ spring boot properties gutter popup\" /></a></p>\n<p>It doesn't look like this works when it's specified on a <code>@Bean</code> like in your example however. A possible workaround is to use a nested <code>@Configuration</code> class, though that may be undesirable.\n<a href=\"https://i.stack.imgur.com/XqS9v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqS9v.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18214913,"reputation":51,"user_id":13256723,"display_name":"Tomasz Hankus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1659912880,"creation_date":1586332557,"question_id":61095857,"body_markdown":"&lt;br&gt;\r\nI&#39;m looking for a way to follow source of spring configuration from annotation.&lt;br&gt;\r\nE.g. Having below Bean is any way to e.g. click on `my-components-service.books.configurations` and be redirect or list yaml files which contains config which would be injected in runtime?  \r\n```\r\n@Bean\r\n@ConfigurationProperties(prefix = &quot;my-components-service.books.configurations&quot;)\r\nMap&lt;ComponentType, BooksConfiguration&gt; booksConfiguration() {\r\n  return new HashMap&lt;&gt;();\r\n}\r\n```\r\n","title":"How to configure intellij to find spring properties source","body":"<p><br>\nI'm looking for a way to follow source of spring configuration from annotation.<br>\nE.g. Having below Bean is any way to e.g. click on <code>my-components-service.books.configurations</code> and be redirect or list yaml files which contains config which would be injected in runtime?  </p>\n\n<pre><code>@Bean\n@ConfigurationProperties(prefix = \"my-components-service.books.configurations\")\nMap&lt;ComponentType, BooksConfiguration&gt; booksConfiguration() {\n  return new HashMap&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1659903639,"post_id":73270741,"comment_id":129400039,"body_markdown":"Do you want to return a new instance `T` based on the `Class&lt;T&gt;` reference or do you want to return the `Class&lt;T&gt;` reference instead?","body":"Do you want to return a new instance <code>T</code> based on the <code>Class&lt;T&gt;</code> reference or do you want to return the <code>Class&lt;T&gt;</code> reference instead?"},{"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"score":0,"creation_date":1659903744,"post_id":73270741,"comment_id":129400059,"body_markdown":"@Progman A new instance `T`","body":"@Progman A new instance <code>T</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1659904243,"post_id":73270741,"comment_id":129400151,"body_markdown":"Then you might want to look at other questions like https://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor","body":"Then you might want to look at other questions like <a href=\"https://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor\" title=\"creating an instance using the class name and calling constructor\">stackoverflow.com/questions/6094575/&hellip;</a>"},{"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"score":0,"creation_date":1659904584,"post_id":73270741,"comment_id":129400224,"body_markdown":"@Progman I&#39;m not sure how that&#39;s supposed to answer my question. I understand the basics of reflection, but I don&#39;t know how to apply them to this case, if they can be applied. I think the answer probably lies somewhere along the lines of [bounded type parameters](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html), but I don&#39;t see how to apply that either. Also, just to clarify, I already have a working `foo`, it&#39;s wrapping it in a function that has the right return type that I&#39;m stuck on.","body":"@Progman I&#39;m not sure how that&#39;s supposed to answer my question. I understand the basics of reflection, but I don&#39;t know how to apply them to this case, if they can be applied. I think the answer probably lies somewhere along the lines of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">bounded type parameters</a>, but I don&#39;t see how to apply that either. Also, just to clarify, I already have a working <code>foo</code>, it&#39;s wrapping it in a function that has the right return type that I&#39;m stuck on."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1659906265,"post_id":73270741,"comment_id":129400555,"body_markdown":"Casting to a generic type is unsafe as it can result in heap pollution. A safer approach is `c.cast(ex)`, but you&#39;re still left with runtime type checking. It&#39;s hard to suggest an alternative without seeing the origins of `ex`. Is the cast guaranteed to succeed? Why or why not?","body":"Casting to a generic type is unsafe as it can result in heap pollution. A safer approach is <code>c.cast(ex)</code>, but you&#39;re still left with runtime type checking. It&#39;s hard to suggest an alternative without seeing the origins of <code>ex</code>. Is the cast guaranteed to succeed? Why or why not?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1659906756,"post_id":73270741,"comment_id":129400653,"body_markdown":"Since the function foo will return a different type based on the enum, and that the enum contains different types depending on the value that is selected at runtime by the function, there is simply no way for the compiler to know (and hence to infer) the returned type at compile-time. So I guess what you proposed is your best shot and yes indeed, the T that you infer is the T that you expect the function to return and not the T that the function guarantees you to return so a runtime check on the returned type should be performed to avoid bad casting","body":"Since the function foo will return a different type based on the enum, and that the enum contains different types depending on the value that is selected at runtime by the function, there is simply no way for the compiler to know (and hence to infer) the returned type at compile-time. So I guess what you proposed is your best shot and yes indeed, the T that you infer is the T that you expect the function to return and not the T that the function guarantees you to return so a runtime check on the returned type should be performed to avoid bad casting"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659912457,"creation_date":1659912457,"answer_id":73271563,"question_id":73270741,"body_markdown":"The core issue at hand here is that, unfortunately, enums do not support generics. You cannot write `enum Foo&lt;E&gt; {}`.\r\n\r\nHowever, you need that generics to exist to do it &#39;properly&#39;. You can make enums implement interfaces, and interfaces can have generics, but you can&#39;t bind different types to that interface on a per-enum-value basis, so that&#39;s still not a solution. You can implement, say, `SomeInterface&lt;Integer&gt;`, but that would mean _all_ the enum values all implement that. So you can&#39;t have `Foo.A` implement `SomeInterface&lt;Integer&gt;` and `Foo.B` implement `SomeInterface&lt;String&gt;`.\r\n\r\nAs far as I can tell, you have only two options.\r\n\r\n## Hack it\r\n\r\nAnd you already discovered the best of a bad bunch: Have callers pass in the class. There is no compile time check if they pass in the wrong class. At best, you can improve on the implementation of the body of the `getValue` class you showed; use `return (T) type.cast(ex)` which will at least end up throwing an exception at runtime if someone tries to pull that stunt - now if the `c` value is not identical to what the enum intended you to do, you get an exception instead of silent heap corruption.\r\n\r\n## No enums\r\n\r\nEnums are, in effect, almost entirely syntax sugar. The amount of places in popular java APIs that __demand__ an enum are scarce (you can switch on them, that&#39;s nice - and a few APIs such as DB SQL abstractions might do something special, and there&#39;s `EnumSet`, but that is about it). Enums are just objects that all implement/extend a common type, along with a bunch of infrastructure that ensures that only one can exist for any given enum value even in the face of reflection, multi-threaded shenanigans, and serialization. All of these things can be easily reproduced. You&#39;re just missing out on the notion that you can switch on them or make EnumSets out of them.\r\n\r\nOnce you write &#39;your own&#39; enum, you _can_ make each value have its own generics value, which &#39;fixes&#39; the problem.\r\n\r\n## Write-your-own enum syntax sugar\r\n\r\nThe &#39;enum syntax sugar&#39; essentially follows to the letter what&#39;s in Effective Java prior to enums existing. If you have that book, you can look it up. It&#39;s not particularly complicated - it gets a little hairy if you care about serialization, but virtually nobody does, so if you don&#39;t, it&#39;s really just &#39;private constructor&#39; and that&#39;s all you need:\r\n\r\n```\r\nclass Suit {\r\n  private final String name;\r\n  private final Color color;\r\n\r\n  public static final Suit DIAMONDS = new Suit(&quot;DIAMONDS&quot;, Color.RED);\r\n  public static final Suit HEARTS = new Suit(&quot;HEART&quot;, Color.RED);\r\n  public static final Suit CLUBS = new Suit(&quot;CLUBS&quot;, Color.BLACK);\r\n  public static final Spades SPADES = new Spades();\r\n\r\n  Suit(String name, Color color) { // package private\r\n    this.name = name;\r\n    this.color = color;\r\n  }\r\n\r\n  public final String name() {\r\n    return name;\r\n  }\r\n\r\n  public Color getColor() {\r\n    return color;\r\n  }\r\n\r\n  public boolean isTrumps() {\r\n    return false;\r\n  }\r\n}\r\n\r\npublic final class Spades extends Suit {\r\n  Spades() {\r\n    super(&quot;SPADES&quot;, Color.BLACK);\r\n  }\r\n\r\n  @Override public boolean isTrumps() {\r\n    return true;\r\n  }\r\n}\r\n```\r\n\r\nis essentially identical to:\r\n\r\n```\r\nenum Suit {\r\n  DIAMONDS(Color.RED),\r\n  HEARTS(Color.RED),\r\n  CLUBS(Color.BLACK),\r\n  SPADES(Color.BLACK) {\r\n    @Override public boolean isTrumps() { return true; }\r\n  };\r\n\r\n  private final Color color;\r\n  Suit(Color color) {\r\n    this.color = color;\r\n  }\r\n\r\n  public Color getColor() {\r\n    return color;\r\n  }\r\n\r\n  public boolean isTrumps() {\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\nin almost all ways that matter. Once you&#39;ve &#39;refactored&#39; your enum into this construction, you are free to define e.g. `A` as `public static final Foo&lt;Integer&gt; A = ...;` and `B` as `public static final Foo&lt;String&gt; B = ...` and go from there.\r\n\r\nA few language features might be relevant here:\r\n\r\n* In very very recent versions of java (16+, I think), you can make so-called &#39;sealed&#39; interfaces and classes - these allow extension only by types explicitly enumerated on the base type. So, you can make your `Suit` type sealed, listing out that only the Diamonds, Hearts, Clubs, and Spades types are its subtypes and no others exist (no other type can be `implements` or `extends` Suit). In addition, the far more advanced pattern matching forms of `switch` introduced in the most recent few versions of java know what this means and let you switch on them after all, regaining you the loss of switching-on-enums.\r\n* Instead of `(T) foo`, if you happen to have a `Class&lt;T&gt;` from elsewhere (for example, because one of your fields is a `Class&lt;T&gt;`), you can write `type.cast(foo)` - this avoids the generics warning and will in fact throw a `ClassCastException` on the spot if the types do no match, whereas `(T) foo` gets you a compiler warning and will do absolutely nothing if the types don&#39;t match up. Instead, some code somewhere later is going to throw that ClassCastException. Errors should be as localized as possible (thrown at the point of problem, not thrown 5 days later in unrelated code - that leads to hours of debugging instead of 10 seconds of debugging).\r\n\r\nOf course, given that generics are erased, you need that `Class&lt;T&gt;` to be made elsewhere. You can&#39;t create a `Class&lt;T&gt;` instance from just the fact that your type/method has a T typevar. That&#39;s the &#39;point&#39; of generics erasure - that you can&#39;t do that.\r\n","title":"Return type based on final field of input","body":"<p>The core issue at hand here is that, unfortunately, enums do not support generics. You cannot write <code>enum Foo&lt;E&gt; {}</code>.</p>\n<p>However, you need that generics to exist to do it 'properly'. You can make enums implement interfaces, and interfaces can have generics, but you can't bind different types to that interface on a per-enum-value basis, so that's still not a solution. You can implement, say, <code>SomeInterface&lt;Integer&gt;</code>, but that would mean <em>all</em> the enum values all implement that. So you can't have <code>Foo.A</code> implement <code>SomeInterface&lt;Integer&gt;</code> and <code>Foo.B</code> implement <code>SomeInterface&lt;String&gt;</code>.</p>\n<p>As far as I can tell, you have only two options.</p>\n<h2>Hack it</h2>\n<p>And you already discovered the best of a bad bunch: Have callers pass in the class. There is no compile time check if they pass in the wrong class. At best, you can improve on the implementation of the body of the <code>getValue</code> class you showed; use <code>return (T) type.cast(ex)</code> which will at least end up throwing an exception at runtime if someone tries to pull that stunt - now if the <code>c</code> value is not identical to what the enum intended you to do, you get an exception instead of silent heap corruption.</p>\n<h2>No enums</h2>\n<p>Enums are, in effect, almost entirely syntax sugar. The amount of places in popular java APIs that <strong>demand</strong> an enum are scarce (you can switch on them, that's nice - and a few APIs such as DB SQL abstractions might do something special, and there's <code>EnumSet</code>, but that is about it). Enums are just objects that all implement/extend a common type, along with a bunch of infrastructure that ensures that only one can exist for any given enum value even in the face of reflection, multi-threaded shenanigans, and serialization. All of these things can be easily reproduced. You're just missing out on the notion that you can switch on them or make EnumSets out of them.</p>\n<p>Once you write 'your own' enum, you <em>can</em> make each value have its own generics value, which 'fixes' the problem.</p>\n<h2>Write-your-own enum syntax sugar</h2>\n<p>The 'enum syntax sugar' essentially follows to the letter what's in Effective Java prior to enums existing. If you have that book, you can look it up. It's not particularly complicated - it gets a little hairy if you care about serialization, but virtually nobody does, so if you don't, it's really just 'private constructor' and that's all you need:</p>\n<pre><code>class Suit {\n  private final String name;\n  private final Color color;\n\n  public static final Suit DIAMONDS = new Suit(&quot;DIAMONDS&quot;, Color.RED);\n  public static final Suit HEARTS = new Suit(&quot;HEART&quot;, Color.RED);\n  public static final Suit CLUBS = new Suit(&quot;CLUBS&quot;, Color.BLACK);\n  public static final Spades SPADES = new Spades();\n\n  Suit(String name, Color color) { // package private\n    this.name = name;\n    this.color = color;\n  }\n\n  public final String name() {\n    return name;\n  }\n\n  public Color getColor() {\n    return color;\n  }\n\n  public boolean isTrumps() {\n    return false;\n  }\n}\n\npublic final class Spades extends Suit {\n  Spades() {\n    super(&quot;SPADES&quot;, Color.BLACK);\n  }\n\n  @Override public boolean isTrumps() {\n    return true;\n  }\n}\n</code></pre>\n<p>is essentially identical to:</p>\n<pre><code>enum Suit {\n  DIAMONDS(Color.RED),\n  HEARTS(Color.RED),\n  CLUBS(Color.BLACK),\n  SPADES(Color.BLACK) {\n    @Override public boolean isTrumps() { return true; }\n  };\n\n  private final Color color;\n  Suit(Color color) {\n    this.color = color;\n  }\n\n  public Color getColor() {\n    return color;\n  }\n\n  public boolean isTrumps() {\n    return false;\n  }\n}\n</code></pre>\n<p>in almost all ways that matter. Once you've 'refactored' your enum into this construction, you are free to define e.g. <code>A</code> as <code>public static final Foo&lt;Integer&gt; A = ...;</code> and <code>B</code> as <code>public static final Foo&lt;String&gt; B = ...</code> and go from there.</p>\n<p>A few language features might be relevant here:</p>\n<ul>\n<li>In very very recent versions of java (16+, I think), you can make so-called 'sealed' interfaces and classes - these allow extension only by types explicitly enumerated on the base type. So, you can make your <code>Suit</code> type sealed, listing out that only the Diamonds, Hearts, Clubs, and Spades types are its subtypes and no others exist (no other type can be <code>implements</code> or <code>extends</code> Suit). In addition, the far more advanced pattern matching forms of <code>switch</code> introduced in the most recent few versions of java know what this means and let you switch on them after all, regaining you the loss of switching-on-enums.</li>\n<li>Instead of <code>(T) foo</code>, if you happen to have a <code>Class&lt;T&gt;</code> from elsewhere (for example, because one of your fields is a <code>Class&lt;T&gt;</code>), you can write <code>type.cast(foo)</code> - this avoids the generics warning and will in fact throw a <code>ClassCastException</code> on the spot if the types do no match, whereas <code>(T) foo</code> gets you a compiler warning and will do absolutely nothing if the types don't match up. Instead, some code somewhere later is going to throw that ClassCastException. Errors should be as localized as possible (thrown at the point of problem, not thrown 5 days later in unrelated code - that leads to hours of debugging instead of 10 seconds of debugging).</li>\n</ul>\n<p>Of course, given that generics are erased, you need that <code>Class&lt;T&gt;</code> to be made elsewhere. You can't create a <code>Class&lt;T&gt;</code> instance from just the fact that your type/method has a T typevar. That's the 'point' of generics erasure - that you can't do that.</p>\n"}],"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73271563,"answer_count":1,"score":0,"last_activity_date":1659912457,"creation_date":1659903418,"question_id":73270741,"body_markdown":"I have an enum whose values have an associated `Class&lt;?&gt;` field, like so:\r\n```\r\npublic enum Example {\r\n    A(int.class),\r\n    B(String.class),\r\n    C(int.class);\r\n    \r\n    public final Class&lt;?&gt; type;\r\n    private Example(Class&lt;?&gt; type) {\r\n        this.type = type;\r\n    }\r\n}\r\n```\r\n\r\nI want to pass an `Example` to a function in another class and return based on the `type` field in `Example`, like so:\r\n```\r\npublic &lt;T&gt; T getValue(Example ex) {\r\n    return foo(ex); // Will return a value of type ex.type\r\n}\r\n```\r\nHow can I do this properly? The best I&#39;ve found so far is this:\r\n```\r\npublic &lt;T&gt; T getValue(Class&lt;T&gt; c, Example ex) {\r\n    return (T)foo(ex); // Will cause problems if T is not ex.type, although that can be checked and an exception thrown\r\n}\r\n```\r\nBut this isn&#39;t great as it doesn&#39;t enforce `ex.type.equals(c)` at compiler-time, and it seems like I shouldn&#39;t have to explicitly pass the type when I&#39;m implicitly passing it through the other parameter.","title":"Return type based on final field of input","body":"<p>I have an enum whose values have an associated <code>Class&lt;?&gt;</code> field, like so:</p>\n<pre><code>public enum Example {\n    A(int.class),\n    B(String.class),\n    C(int.class);\n    \n    public final Class&lt;?&gt; type;\n    private Example(Class&lt;?&gt; type) {\n        this.type = type;\n    }\n}\n</code></pre>\n<p>I want to pass an <code>Example</code> to a function in another class and return based on the <code>type</code> field in <code>Example</code>, like so:</p>\n<pre><code>public &lt;T&gt; T getValue(Example ex) {\n    return foo(ex); // Will return a value of type ex.type\n}\n</code></pre>\n<p>How can I do this properly? The best I've found so far is this:</p>\n<pre><code>public &lt;T&gt; T getValue(Class&lt;T&gt; c, Example ex) {\n    return (T)foo(ex); // Will cause problems if T is not ex.type, although that can be checked and an exception thrown\n}\n</code></pre>\n<p>But this isn't great as it doesn't enforce <code>ex.type.equals(c)</code> at compiler-time, and it seems like I shouldn't have to explicitly pass the type when I'm implicitly passing it through the other parameter.</p>\n"},{"tags":["java","c#"],"comments":[{"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":1,"creation_date":1529607627,"post_id":29925489,"comment_id":88947628,"body_markdown":"Not sure why Java never seems to add these obviously helpful methods. I&#39;d expect there to be an `append(string format, Object.. args)` overload (or perhaps named `appendFormat`), but there&#39;s not.","body":"Not sure why Java never seems to add these obviously helpful methods. I&#39;d expect there to be an <code>append(string format, Object.. args)</code> overload (or perhaps named <code>appendFormat</code>), but there&#39;s not."}],"answers":[{"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430240580,"creation_date":1430240323,"answer_id":29925522,"question_id":29925489,"body_markdown":"`String.format()` may do the job for you. So in turn say:\r\n\r\n    sb.append(String.format(&quot;\\\\u{0:X04}&quot;, i));","title":"Convert StringBuilder#AppendFormat to java","body":"<p><code>String.format()</code> may do the job for you. So in turn say:</p>\n\n<pre><code>sb.append(String.format(\"\\\\u{0:X04}\", i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1430240682,"creation_date":1430240682,"answer_id":29925650,"question_id":29925489,"body_markdown":"The [java.util.Formatter](http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html) class has a [zero-argument constructor](http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#Formatter--) which automatically wraps a StringBuilder:\r\n\r\n    Formatter formatter = new Formatter();\r\n    formatter.format(&quot;\\\\u%04x&quot;, i);\r\n\r\n    // ...\r\n\r\n    String finalText = formatter.toString();\r\n\r\n    // Or, if you want to be explicit about it:\r\n    //StringBuilder sb = (StringBuilder) formatter.out();\r\n    //String finalText = sb.toString();\r\n","title":"Convert StringBuilder#AppendFormat to java","body":"<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">java.util.Formatter</a> class has a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#Formatter--\" rel=\"noreferrer\">zero-argument constructor</a> which automatically wraps a StringBuilder:</p>\n\n<pre><code>Formatter formatter = new Formatter();\nformatter.format(\"\\\\u%04x\", i);\n\n// ...\n\nString finalText = formatter.toString();\n\n// Or, if you want to be explicit about it:\n//StringBuilder sb = (StringBuilder) formatter.out();\n//String finalText = sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1821777,"reputation":6462,"user_id":1655674,"display_name":"Dave Doknjas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430244518,"creation_date":1430244518,"answer_id":29926830,"question_id":29925489,"body_markdown":"You need a combination of &#39;append&#39; and &#39;String.format&#39;, remembering to adjust the format specifier for Java:\r\n\r\n    sb.append(String.format(&quot;\\\\u%004X&quot;, i));","title":"Convert StringBuilder#AppendFormat to java","body":"<p>You need a combination of 'append' and 'String.format', remembering to adjust the format specifier for Java:</p>\n\n<pre><code>sb.append(String.format(\"\\\\u%004X\", i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1452275736,"creation_date":1452275736,"answer_id":34683182,"question_id":29925489,"body_markdown":"Most of the answers contains little errors (two `0` instead of one, C# format leaved in Java code).\r\n\r\nHere is working snipped:\r\n\r\n    sb.append(String.format(&quot;\\\\u%04X&quot;, 0xfcc));\r\n\r\nRegarding comments: C# specifier `\\\\u{0:X04}` and Java specifier `\\\\u%04X` both produce numbers in format `\\uXXXX` where X are upper case hex digits (when you use small x you will get lower case hex digits), so it matters.","title":"Convert StringBuilder#AppendFormat to java","body":"<p>Most of the answers contains little errors (two <code>0</code> instead of one, C# format leaved in Java code).</p>\n\n<p>Here is working snipped:</p>\n\n<pre><code>sb.append(String.format(\"\\\\u%04X\", 0xfcc));\n</code></pre>\n\n<p>Regarding comments: C# specifier <code>\\\\u{0:X04}</code> and Java specifier <code>\\\\u%04X</code> both produce numbers in format <code>\\uXXXX</code> where X are upper case hex digits (when you use small x you will get lower case hex digits), so it matters.</p>\n"},{"tags":[],"owner":{"account_id":369402,"reputation":461,"user_id":716769,"display_name":"Bogdan Mart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659911307,"creation_date":1659911307,"answer_id":73271481,"question_id":29925489,"body_markdown":"Other answers haw a flow that intermediate string is being created. Except accepted answer, but it asumes that we don&#39;t already have StringBuilder. And yes we can use Formatter INSTEAD of SB. But in many cases in code we receive SB from outside, so we can wrap it into formatter.\r\n\r\nCorrect answer that have full correspondence to provided C# code is:\r\n```java\r\n// sb.AppendFormat(&quot;\\\\u{0:X04}&quot;, i);\r\nFormatter fmt = new Formatter(sb);\r\nfmt.format(&quot;\\\\u%04x&quot;, i);\r\n```\r\nData would be appended to end of string builder directly. No intermediate string is created. *You can also specify locale if needed.*\r\n\r\nLater applies if we feed to Formatter not String builder, but arbitrary `Appendable`, like text file.\r\n\r\nWe don&#39;t need to mange lifetime of formatter directly( close it), if we would manage lifetime of writer (if that&#39;s not SB but file). If we pass in Writter and don&#39;t use that variable anymore -- we would need to `close()` Fromatter.","title":"Convert StringBuilder#AppendFormat to java","body":"<p>Other answers haw a flow that intermediate string is being created. Except accepted answer, but it asumes that we don't already have StringBuilder. And yes we can use Formatter INSTEAD of SB. But in many cases in code we receive SB from outside, so we can wrap it into formatter.</p>\n<p>Correct answer that have full correspondence to provided C# code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// sb.AppendFormat(&quot;\\\\u{0:X04}&quot;, i);\nFormatter fmt = new Formatter(sb);\nfmt.format(&quot;\\\\u%04x&quot;, i);\n</code></pre>\n<p>Data would be appended to end of string builder directly. No intermediate string is created. <em>You can also specify locale if needed.</em></p>\n<p>Later applies if we feed to Formatter not String builder, but arbitrary <code>Appendable</code>, like text file.</p>\n<p>We don't need to mange lifetime of formatter directly( close it), if we would manage lifetime of writer (if that's not SB but file). If we pass in Writter and don't use that variable anymore -- we would need to <code>close()</code> Fromatter.</p>\n"}],"owner":{"account_id":1810644,"reputation":7223,"user_id":1646783,"accept_rate":81,"display_name":"jlars62"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8392,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":29925650,"answer_count":5,"score":7,"last_activity_date":1659911307,"creation_date":1430240210,"question_id":29925489,"body_markdown":"I am converting C# code to Java, and I came across this line (where `i` is an int).  \r\n    \r\n    sb.AppendFormat(&quot;\\\\u{0:X04}&quot;, i);\r\n\r\nFrom what I can see, Java does not have an `appendFormat` method on its `StringBuilder`.\r\n\r\nHow would I go about converting this?\r\n\r\nEDIT: \r\n\r\nI see that AppendFormat is just a combination of append and String.format. How would I convert `\\\\u{0:X04}` to Java&#39;s String.format?","title":"Convert StringBuilder#AppendFormat to java","body":"<p>I am converting C# code to Java, and I came across this line (where <code>i</code> is an int).  </p>\n\n<pre><code>sb.AppendFormat(\"\\\\u{0:X04}\", i);\n</code></pre>\n\n<p>From what I can see, Java does not have an <code>appendFormat</code> method on its <code>StringBuilder</code>.</p>\n\n<p>How would I go about converting this?</p>\n\n<p>EDIT: </p>\n\n<p>I see that AppendFormat is just a combination of append and String.format. How would I convert <code>\\\\u{0:X04}</code> to Java's String.format?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":902567,"reputation":19,"user_id":938298,"display_name":"ankurbrdwj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659910849,"creation_date":1659910849,"answer_id":73271453,"question_id":65360621,"body_markdown":"The Step-Over will go line by line and keep separate stack frames for each recursive call , these frames will go away once the return statement is called , you can view each frame separately with its own data in bottom left debugger menu , with each return statement the flow will return and delete these frames but the cursor will always be at the line executed so it won let you in a specific stack frame .\r\n\r\n[![sample recursive debug view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v81bU.png","title":"IntelliJ debug specific stack frame of recursive method","body":"<p>The Step-Over will go line by line and keep separate stack frames for each recursive call , these frames will go away once the return statement is called , you can view each frame separately with its own data in bottom left debugger menu , with each return statement the flow will return and delete these frames but the cursor will always be at the line executed so it won let you in a specific stack frame .</p>\n<p><a href=\"https://i.stack.imgur.com/v81bU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v81bU.png\" alt=\"sample recursive debug view\" /></a></p>\n"}],"owner":{"account_id":20249999,"reputation":41,"user_id":14851412,"display_name":"CazSaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659910849,"creation_date":1608309129,"question_id":65360621,"body_markdown":"When I try to debug a recursive method, I can&#39;t step over the recursive method call. Instead, it steps into the method call leaving me with a ton of stack frames when I just wanted to step over that line. \r\n\r\nMy question is: is there a way to stay within a specific stack frame while debugging a recursive method?","title":"IntelliJ debug specific stack frame of recursive method","body":"<p>When I try to debug a recursive method, I can't step over the recursive method call. Instead, it steps into the method call leaving me with a ton of stack frames when I just wanted to step over that line.</p>\n<p>My question is: is there a way to stay within a specific stack frame while debugging a recursive method?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8866,"page":1126,"page_size":100}
