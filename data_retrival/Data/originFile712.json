{"items":[{"tags":["java","web-services","soap","jaxb"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674140093,"post_id":75173845,"comment_id":132654926,"body_markdown":"Where does this `defaultUri` coming from, and are you sure it is configured appropriately for your pre-prod environment? In any case, the error suggests that the `webServiceTemplate` of `WebServiceGatewaySupport` is null, which as far as I can tell from a quick look at the [code](https://github.com/spring-projects/spring-ws/blob/main/spring-ws-core/src/main/java/org/springframework/ws/client/core/support/WebServiceGatewaySupport.java) should not be possible.","body":"Where does this <code>defaultUri</code> coming from, and are you sure it is configured appropriately for your pre-prod environment? In any case, the error suggests that the <code>webServiceTemplate</code> of <code>WebServiceGatewaySupport</code> is null, which as far as I can tell from a quick look at the <a href=\"https://github.com/spring-projects/spring-ws/blob/main/spring-ws-core/src/main/java/org/springframework/ws/client/core/support/WebServiceGatewaySupport.java\" rel=\"nofollow noreferrer\">code</a> should not be possible."},{"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"score":0,"creation_date":1674140940,"post_id":75173845,"comment_id":132655223,"body_markdown":"Yes. `defaultUri` is configured in the properties. even i am able to print it inside the `setAppClient` method.","body":"Yes. <code>defaultUri</code> is configured in the properties. even i am able to print it inside the <code>setAppClient</code> method."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674141026,"post_id":75173845,"comment_id":132655250,"body_markdown":"In any case, without a [mre] (including the exact version of spring-ws), this is likely not diagnosable.","body":"In any case, without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (including the exact version of spring-ws), this is likely not diagnosable."},{"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"score":0,"creation_date":1674141165,"post_id":75173845,"comment_id":132655291,"body_markdown":"sure @MarkRotteveel. will share that. BTW. this app is working fine in other environments. only in _pre-prod_ its failing.","body":"sure @MarkRotteveel. will share that. BTW. this app is working fine in other environments. only in <i>pre-prod</i> its failing."}],"answers":[{"tags":[],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674248396,"creation_date":1674248396,"answer_id":75189299,"question_id":75173845,"body_markdown":"the solution which worked for us is manually create an object of `AppClient` class.\r\n\r\n1. Removed `@Component` annotation from `AppClient.java` class.\r\n2. Inside `AppClientConfiguration.java` class\r\n```\r\n    @Bean\r\n    public AppClient setAppClient(Jaxb2Marshaller marshaller) throws NoSuchAlgorithmException, KeyManagementException {\r\n        \r\n        AppClient client = new AppClient();//Manually creating the object  \r\n        client.setDefaultUri(defaultUri); \r\n        client.setMarshaller(marshaller);\r\n        client.setUnmarshaller(marshaller);\r\n        ............\r\n        ...........        \r\n        return client;\r\n    }\r\n```\r\n\r\nNot sure how the previous one is working in other instances. But , this approach is working.","title":"WebServiceGatewaySupport.setDefaultUri throwing NULL POINTER Exception only in Pre-Prod environment","body":"<p>the solution which worked for us is manually create an object of <code>AppClient</code> class.</p>\n<ol>\n<li>Removed <code>@Component</code> annotation from <code>AppClient.java</code> class.</li>\n<li>Inside <code>AppClientConfiguration.java</code> class</li>\n</ol>\n<pre><code>    @Bean\n    public AppClient setAppClient(Jaxb2Marshaller marshaller) throws NoSuchAlgorithmException, KeyManagementException {\n        \n        AppClient client = new AppClient();//Manually creating the object  \n        client.setDefaultUri(defaultUri); \n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        ............\n        ...........        \n        return client;\n    }\n</code></pre>\n<p>Not sure how the previous one is working in other instances. But , this approach is working.</p>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75189299,"answer_count":1,"score":0,"last_activity_date":1674248396,"creation_date":1674138605,"question_id":75173845,"body_markdown":"Calling SOAP service application throwing the below error only in our _pre-prod_ environment. The code is working in _dev_ and _staging_. We&#39;re completely stuck here actually.\r\n\r\nThe application is not even getting deployed in the _pre-prod_ environment. We tried to put debug logs and found the place where it is failing, the methods which are defined inside `WebServiceGateWaySupport` which are `setDefaultUri` etc. Since this issue is coming only on one instance, we&#39;re not sure what to do. \r\n\r\nWe&#39;ve given the exception, which is being thrown, below.\r\n\r\nException:\r\n\r\n```none\r\njava.lang.NullPointerException\r\n\tat org.springframework.ws.client.core.support.WebServiceGatewaySupport.setDefaultUri(WebServiceGatewaySupport.java:92)\r\n\tat com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration.setAppClient(AppClientConfiguration.java:53)\r\n\tat com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933.CGLIB$setAppClient$0(&lt;generated&gt;)\r\n\tat com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933$$FastClassBySpringCGLIB$$d3fe050c.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933.setAppClient(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.company.cabs.mpd.event.consumer.StarterApplication.main(StarterApplication.java:17)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n```\r\n\r\nAppClientConfiguration.class \r\n\r\n```java\r\n@Configuration\r\npublic class AppClientConfiguration {\r\n\r\n.....   \r\n    @Bean\r\n    public AppClient setAppClient(Jaxb2Marshaller marshaller, AppClient client) throws NoSuchAlgorithmException, KeyManagementException {\r\n\r\n        client.setDefaultUri(defaultUri); //Error is being thrown here\r\n        client.setMarshaller(marshaller);//Error is being thrown here\r\n        client.setUnmarshaller(marshaller);//Error is being thrown here\r\n        client.getWebServiceTemplate().setMessageSender(webServiceMessageSender());//Error is being thrown here\r\n        client.getWebServiceTemplate().setCheckConnectionForError(false);//Error is being thrown here\r\n        client.getWebServiceTemplate().setCheckConnectionForFault(false);//Error is being thrown here\r\n        ClientInterceptor[] interceptors = {new AppClientInterceptor()};\r\n        client.setInterceptors(interceptors);\r\n\r\n        return client;\r\n    }\r\n....\r\n\r\n}\r\n```\r\n\r\nAppClient.java\r\n\r\n```java\r\n@Component\r\npublic class AppClient extends WebServiceGatewaySupport {\r\n....\r\n}\r\n```","title":"WebServiceGatewaySupport.setDefaultUri throwing NULL POINTER Exception only in Pre-Prod environment","body":"<p>Calling SOAP service application throwing the below error only in our <em>pre-prod</em> environment. The code is working in <em>dev</em> and <em>staging</em>. We're completely stuck here actually.</p>\n<p>The application is not even getting deployed in the <em>pre-prod</em> environment. We tried to put debug logs and found the place where it is failing, the methods which are defined inside <code>WebServiceGateWaySupport</code> which are <code>setDefaultUri</code> etc. Since this issue is coming only on one instance, we're not sure what to do.</p>\n<p>We've given the exception, which is being thrown, below.</p>\n<p>Exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException\n    at org.springframework.ws.client.core.support.WebServiceGatewaySupport.setDefaultUri(WebServiceGatewaySupport.java:92)\n    at com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration.setAppClient(AppClientConfiguration.java:53)\n    at com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933.CGLIB$setAppClient$0(&lt;generated&gt;)\n    at com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933$$FastClassBySpringCGLIB$$d3fe050c.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.company.cabs.App.mapper.client.soapclient.AppClientConfiguration$$EnhancerBySpringCGLIB$$d9f7933.setAppClient(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.company.cabs.mpd.event.consumer.StarterApplication.main(StarterApplication.java:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n</code></pre>\n<p>AppClientConfiguration.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppClientConfiguration {\n\n.....   \n    @Bean\n    public AppClient setAppClient(Jaxb2Marshaller marshaller, AppClient client) throws NoSuchAlgorithmException, KeyManagementException {\n\n        client.setDefaultUri(defaultUri); //Error is being thrown here\n        client.setMarshaller(marshaller);//Error is being thrown here\n        client.setUnmarshaller(marshaller);//Error is being thrown here\n        client.getWebServiceTemplate().setMessageSender(webServiceMessageSender());//Error is being thrown here\n        client.getWebServiceTemplate().setCheckConnectionForError(false);//Error is being thrown here\n        client.getWebServiceTemplate().setCheckConnectionForFault(false);//Error is being thrown here\n        ClientInterceptor[] interceptors = {new AppClientInterceptor()};\n        client.setInterceptors(interceptors);\n\n        return client;\n    }\n....\n\n}\n</code></pre>\n<p>AppClient.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AppClient extends WebServiceGatewaySupport {\n....\n}\n</code></pre>\n"},{"tags":["java","performance","multithreading","dictionary","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1567829971,"creation_date":1259390925,"answer_id":1811806,"question_id":1811782,"body_markdown":"# Sorted, navigable, and concurrent\r\n\r\nSee [Skip List][1] for a definition of the data structure.  \r\n\r\nA [`ConcurrentSkipListMap`][2] stores the [`Map`][3] in the natural order of its keys (or some other key order you define).  So it&#39;ll have slower `get`/`put`/`contains` operations than a [`HashMap`][4], but to offset this it supports the [`SortedMap`][5], [`NavigableMap`][6], and [`ConcurrentNavigableMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentNavigableMap.html) interfaces.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Skip_list\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html","title":"When should I use ConcurrentSkipListMap?","body":"<h1>Sorted, navigable, and concurrent</h1>\n\n<p>See <a href=\"http://en.wikipedia.org/wiki/Skip_list\" rel=\"nofollow noreferrer\">Skip List</a> for a definition of the data structure.  </p>\n\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListMap</code></a> stores the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> in the natural order of its keys (or some other key order you define).  So it'll have slower <code>get</code>/<code>put</code>/<code>contains</code> operations than a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a>, but to offset this it supports the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"nofollow noreferrer\"><code>SortedMap</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentNavigableMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentNavigableMap</code></a> interfaces.</p>\n"},{"tags":[],"owner":{"account_id":29738,"reputation":22271,"user_id":80572,"accept_rate":80,"display_name":"Kevin Montrose"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1303917321,"creation_date":1259391003,"answer_id":1811810,"question_id":1811782,"body_markdown":"These two classes vary in a few ways.\r\n\r\n[ConcurrentHashMap][1] does not guarantee* the runtime of its operations as part of its contract.  It also allows tuning for certain load factors (roughly, the number of threads concurrently modifying it).\r\n\r\n[ConcurrentSkipListMap][2], on the other hand, guarantees average O(log(n)) performance on a wide variety of operations.  It also does not support tuning for concurrency&#39;s sake.  `ConcurrentSkipListMap` also has a number of operations that `ConcurrentHashMap` doesn&#39;t: ceilingEntry/Key, floorEntry/Key, etc.  It also maintains a sort order, which would otherwise have to be calculated (at notable expense) if you were using a `ConcurrentHashMap`.\r\n\r\nBasically, different implementations are provided for different use cases.  If you need quick single key/value pair addition and quick single key lookup, use the `HashMap`.  If you need faster in-order traversal, and can afford the extra cost for insertion, use the `SkipListMap`.\r\n\r\n&lt;sub&gt;*Though I expect the implementation is roughly in line with the general hash-map guarantees of O(1) insertion/lookup; ignoring re-hashing&lt;/sub&gt;\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListMap.html","title":"When should I use ConcurrentSkipListMap?","body":"<p>These two classes vary in a few ways.</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a> does not guarantee* the runtime of its operations as part of its contract.  It also allows tuning for certain load factors (roughly, the number of threads concurrently modifying it).</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\">ConcurrentSkipListMap</a>, on the other hand, guarantees average O(log(n)) performance on a wide variety of operations.  It also does not support tuning for concurrency's sake.  <code>ConcurrentSkipListMap</code> also has a number of operations that <code>ConcurrentHashMap</code> doesn't: ceilingEntry/Key, floorEntry/Key, etc.  It also maintains a sort order, which would otherwise have to be calculated (at notable expense) if you were using a <code>ConcurrentHashMap</code>.</p>\n\n<p>Basically, different implementations are provided for different use cases.  If you need quick single key/value pair addition and quick single key lookup, use the <code>HashMap</code>.  If you need faster in-order traversal, and can afford the extra cost for insertion, use the <code>SkipListMap</code>.</p>\n\n<p><sub>*Though I expect the implementation is roughly in line with the general hash-map guarantees of O(1) insertion/lookup; ignoring re-hashing</sub></p>\n"},{"tags":[],"owner":{"account_id":1162290,"reputation":3419,"user_id":1141564,"accept_rate":56,"display_name":"Xtra Coder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1473929584,"creation_date":1473929584,"answer_id":39506822,"question_id":1811782,"body_markdown":"In terms of performance, `skipList` when is used as Map - appears to be 10-20 times slower. Here is the result of my tests (Java 1.8.0_102-b14, win x32)\r\n\r\n\tBenchmark                    Mode  Cnt  Score    Error  Units\r\n\tMyBenchmark.hasMap_get       avgt    5  0.015 ?  0.001   s/op\r\n\tMyBenchmark.hashMap_put      avgt    5  0.029 ?  0.004   s/op\r\n\tMyBenchmark.skipListMap_get  avgt    5  0.312 ?  0.014   s/op\r\n\tMyBenchmark.skipList_put     avgt    5  0.351 ?  0.007   s/op\r\n\r\nAnd additionally to that - use-case where comparing one-to-another really makes sense. Implementation of the cache of last-recently-used items using both of these collections. Now efficiency of skipList looks to be event more dubious.\r\n\r\n\tMyBenchmark.hashMap_put1000_lru      avgt    5  0.032 ?  0.001   s/op\r\n\tMyBenchmark.skipListMap_put1000_lru  avgt    5  3.332 ?  0.124   s/op\r\n\r\nHere is the code for JMH (executed as `java -jar target/benchmarks.jar -bm avgt -f 1 -wi 5 -i 5 -t 1`)\r\n\r\n    static final int nCycles = 50000;\r\n    static final int nRep = 10;\r\n    static final int dataSize = nCycles / 4;\r\n    static final List&lt;String&gt; data = new ArrayList&lt;&gt;(nCycles);\r\n    static final Map&lt;String,String&gt; hmap4get = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\r\n    static final Map&lt;String,String&gt; smap4get = new ConcurrentSkipListMap&lt;&gt;();\r\n    \r\n    static {\r\n        // prepare data\r\n        List&lt;String&gt; values = new ArrayList&lt;&gt;(dataSize);\r\n        for( int i = 0; i &lt; dataSize; i++ ) {\r\n            values.add(UUID.randomUUID().toString());\r\n        }\r\n        // rehash data for all cycles\r\n        for( int i = 0; i &lt; nCycles; i++ ) {\r\n            data.add(values.get((int)(Math.random() * dataSize)));\r\n        }\r\n        // rehash data for all cycles\r\n        for( int i = 0; i &lt; dataSize; i++ ) {\r\n            String value = data.get((int)(Math.random() * dataSize));\r\n            hmap4get.put(value, value);\r\n            smap4get.put(value, value);\r\n        }\r\n    }\r\n    \r\n    @Benchmark\r\n    public void skipList_put() {\r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            Map&lt;String,String&gt; map = new ConcurrentSkipListMap&lt;&gt;();\r\n\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                map.put(key, key);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Benchmark\r\n    public void skipListMap_get() {\r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                smap4get.get(key);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Benchmark\r\n    public void hashMap_put() {\r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\r\n\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                map.put(key, key);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Benchmark\r\n    public void hasMap_get() {\r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                hmap4get.get(key);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    public void skipListMap_put1000_lru() {\r\n        int sizeLimit = 1000;\r\n        \r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            ConcurrentSkipListMap&lt;String,String&gt; map = new ConcurrentSkipListMap&lt;&gt;();\r\n\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                String oldValue = map.put(key, key);\r\n                \r\n                if( (oldValue == null) &amp;&amp; map.size() &gt; sizeLimit ) {\r\n                    // not real lru, but i care only about performance here\r\n                    map.remove(map.firstKey());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    public void hashMap_put1000_lru() {\r\n        int sizeLimit = 1000;\r\n        Queue&lt;String&gt; lru = new ArrayBlockingQueue&lt;&gt;(sizeLimit + 50);\r\n        \r\n        for( int n = 0; n &lt; nRep; n++ ) {\r\n            Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\r\n\r\n            lru.clear();\r\n            for( int i = 0; i &lt; nCycles; i++ ) {\r\n                String key = data.get(i);\r\n                String oldValue = map.put(key, key);\r\n                \r\n                if( (oldValue == null) &amp;&amp; lru.size() &gt; sizeLimit ) {\r\n                    map.remove(lru.poll());\r\n                    lru.add(key);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"When should I use ConcurrentSkipListMap?","body":"<p>In terms of performance, <code>skipList</code> when is used as Map - appears to be 10-20 times slower. Here is the result of my tests (Java 1.8.0_102-b14, win x32)</p>\n\n<pre><code>Benchmark                    Mode  Cnt  Score    Error  Units\nMyBenchmark.hasMap_get       avgt    5  0.015 ?  0.001   s/op\nMyBenchmark.hashMap_put      avgt    5  0.029 ?  0.004   s/op\nMyBenchmark.skipListMap_get  avgt    5  0.312 ?  0.014   s/op\nMyBenchmark.skipList_put     avgt    5  0.351 ?  0.007   s/op\n</code></pre>\n\n<p>And additionally to that - use-case where comparing one-to-another really makes sense. Implementation of the cache of last-recently-used items using both of these collections. Now efficiency of skipList looks to be event more dubious.</p>\n\n<pre><code>MyBenchmark.hashMap_put1000_lru      avgt    5  0.032 ?  0.001   s/op\nMyBenchmark.skipListMap_put1000_lru  avgt    5  3.332 ?  0.124   s/op\n</code></pre>\n\n<p>Here is the code for JMH (executed as <code>java -jar target/benchmarks.jar -bm avgt -f 1 -wi 5 -i 5 -t 1</code>)</p>\n\n<pre><code>static final int nCycles = 50000;\nstatic final int nRep = 10;\nstatic final int dataSize = nCycles / 4;\nstatic final List&lt;String&gt; data = new ArrayList&lt;&gt;(nCycles);\nstatic final Map&lt;String,String&gt; hmap4get = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\nstatic final Map&lt;String,String&gt; smap4get = new ConcurrentSkipListMap&lt;&gt;();\n\nstatic {\n    // prepare data\n    List&lt;String&gt; values = new ArrayList&lt;&gt;(dataSize);\n    for( int i = 0; i &lt; dataSize; i++ ) {\n        values.add(UUID.randomUUID().toString());\n    }\n    // rehash data for all cycles\n    for( int i = 0; i &lt; nCycles; i++ ) {\n        data.add(values.get((int)(Math.random() * dataSize)));\n    }\n    // rehash data for all cycles\n    for( int i = 0; i &lt; dataSize; i++ ) {\n        String value = data.get((int)(Math.random() * dataSize));\n        hmap4get.put(value, value);\n        smap4get.put(value, value);\n    }\n}\n\n@Benchmark\npublic void skipList_put() {\n    for( int n = 0; n &lt; nRep; n++ ) {\n        Map&lt;String,String&gt; map = new ConcurrentSkipListMap&lt;&gt;();\n\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            map.put(key, key);\n        }\n    }\n}\n\n@Benchmark\npublic void skipListMap_get() {\n    for( int n = 0; n &lt; nRep; n++ ) {\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            smap4get.get(key);\n        }\n    }\n}\n\n@Benchmark\npublic void hashMap_put() {\n    for( int n = 0; n &lt; nRep; n++ ) {\n        Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\n\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            map.put(key, key);\n        }\n    }\n}\n\n@Benchmark\npublic void hasMap_get() {\n    for( int n = 0; n &lt; nRep; n++ ) {\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            hmap4get.get(key);\n        }\n    }\n}\n\n@Benchmark\npublic void skipListMap_put1000_lru() {\n    int sizeLimit = 1000;\n\n    for( int n = 0; n &lt; nRep; n++ ) {\n        ConcurrentSkipListMap&lt;String,String&gt; map = new ConcurrentSkipListMap&lt;&gt;();\n\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            String oldValue = map.put(key, key);\n\n            if( (oldValue == null) &amp;&amp; map.size() &gt; sizeLimit ) {\n                // not real lru, but i care only about performance here\n                map.remove(map.firstKey());\n            }\n        }\n    }\n}\n\n@Benchmark\npublic void hashMap_put1000_lru() {\n    int sizeLimit = 1000;\n    Queue&lt;String&gt; lru = new ArrayBlockingQueue&lt;&gt;(sizeLimit + 50);\n\n    for( int n = 0; n &lt; nRep; n++ ) {\n        Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(3000, 0.5f, 10);\n\n        lru.clear();\n        for( int i = 0; i &lt; nCycles; i++ ) {\n            String key = data.get(i);\n            String oldValue = map.put(key, key);\n\n            if( (oldValue == null) &amp;&amp; lru.size() &gt; sizeLimit ) {\n                map.remove(lru.poll());\n                lru.add(key);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54651,"reputation":825,"user_id":163585,"display_name":"spats"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549452386,"creation_date":1549452386,"answer_id":54552560,"question_id":1811782,"body_markdown":"ConcurrentHashMap : when u want multithreaded index based get/put, only index based operations are supported. Get/Put are of O(1)\r\n\r\nConcurrentSkipListMap : More operations than just get/put, like sorted top/bottom n items by key, get last entry, fetch/traverse whole map sorted by key etc. Complexity is of O(log(n)), So put performance is not as great as ConcurrentHashMap. It&#39;t an implementation of ConcurrentNavigableMap with SkipList.\r\n\r\nTo summarize use ConcurrentSkipListMap when you want to do more operations on map requiring sorted features rather than just simple get and put.","title":"When should I use ConcurrentSkipListMap?","body":"<p>ConcurrentHashMap : when u want multithreaded index based get/put, only index based operations are supported. Get/Put are of O(1)</p>\n\n<p>ConcurrentSkipListMap : More operations than just get/put, like sorted top/bottom n items by key, get last entry, fetch/traverse whole map sorted by key etc. Complexity is of O(log(n)), So put performance is not as great as ConcurrentHashMap. It't an implementation of ConcurrentNavigableMap with SkipList.</p>\n\n<p>To summarize use ConcurrentSkipListMap when you want to do more operations on map requiring sorted features rather than just simple get and put.</p>\n"},{"tags":[],"owner":{"account_id":3628744,"reputation":2431,"user_id":3025578,"accept_rate":77,"display_name":"Anurag Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565808612,"creation_date":1565808256,"answer_id":57500375,"question_id":1811782,"body_markdown":"Based on workloads ConcurrentSkipListMap could be slower than TreeMap with synchronized methods as in [KAFKA-8802][1] if range queries are needed.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/KAFKA-8802","title":"When should I use ConcurrentSkipListMap?","body":"<p>Based on workloads ConcurrentSkipListMap could be slower than TreeMap with synchronized methods as in <a href=\"https://issues.apache.org/jira/browse/KAFKA-8802\" rel=\"nofollow noreferrer\">KAFKA-8802</a> if range queries are needed.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1593993713,"creation_date":1567841864,"answer_id":57831686,"question_id":1811782,"body_markdown":"&gt;Then when should I use ConcurrentSkipListMap?\r\n\r\nWhen you (a) need to keep keys sorted, and/or (b) need the first/last, head/tail, and submap features of a navigable map.\r\n\r\nThe [`ConcurrentHashMap`][1] class implements the [`ConcurrentMap`][2] interface, as does [`ConcurrentSkipListMap`][3]. But if you also want the behaviors of [`SortedMap`][4] and [`NavigableMap`][5], use [`ConcurrentSkipListMap`][3]\r\n\r\n# `ConcurrentHashMap`\r\n\r\n - ❌ Sorted\r\n - ❌ Navigable\r\n - ✅ Concurrent\r\n\r\n# `ConcurrentSkipListMap`\r\n\r\n - ✅ Sorted\r\n - ✅ Navigable\r\n - ✅ Concurrent\r\n\r\nHere is table guiding you through the major features of the various [`Map`][6] implementations bundled with Java 11. Click/tap to zoom.\r\n\r\n\r\n\r\n[![Table of map implementations in Java 11, comparing their features][8]][8]\r\n\r\n\r\nKeep in mind that you can obtain other [`Map`][6] implementations, and similar such data structures, from other sources such as [*Google Guava*][9].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [7]: https://i.stack.imgur.com/up6pt.png\r\n  [8]: https://i.stack.imgur.com/6KN0u.png\r\n  [9]: https://en.wikipedia.org/wiki/Google_Guava","title":"When should I use ConcurrentSkipListMap?","body":"<blockquote>\n<p>Then when should I use ConcurrentSkipListMap?</p>\n</blockquote>\n<p>When you (a) need to keep keys sorted, and/or (b) need the first/last, head/tail, and submap features of a navigable map.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\"><code>ConcurrentHashMap</code></a> class implements the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentMap.html\" rel=\"noreferrer\"><code>ConcurrentMap</code></a> interface, as does <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\"><code>ConcurrentSkipListMap</code></a>. But if you also want the behaviors of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"noreferrer\"><code>NavigableMap</code></a>, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\"><code>ConcurrentSkipListMap</code></a></p>\n<h1><code>ConcurrentHashMap</code></h1>\n<ul>\n<li>❌ Sorted</li>\n<li>❌ Navigable</li>\n<li>✅ Concurrent</li>\n</ul>\n<h1><code>ConcurrentSkipListMap</code></h1>\n<ul>\n<li>✅ Sorted</li>\n<li>✅ Navigable</li>\n<li>✅ Concurrent</li>\n</ul>\n<p>Here is table guiding you through the major features of the various <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> implementations bundled with Java 11. Click/tap to zoom.</p>\n<p><a href=\"https://i.stack.imgur.com/6KN0u.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6KN0u.png\" alt=\"Table of map implementations in Java 11, comparing their features\" /></a></p>\n<p>Keep in mind that you can obtain other <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> implementations, and similar such data structures, from other sources such as <a href=\"https://en.wikipedia.org/wiki/Google_Guava\" rel=\"noreferrer\"><em>Google Guava</em></a>.</p>\n"}],"owner":{"account_id":66378,"reputation":3043,"user_id":194764,"accept_rate":94,"display_name":"DKSRathore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43840,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":1811810,"answer_count":6,"score":93,"last_activity_date":1674248293,"creation_date":1259390005,"question_id":1811782,"body_markdown":"In Java, `ConcurrentHashMap` is there for better `multithreading` solution. Then when should I use `ConcurrentSkipListMap`? Is it a redundancy?\r\n\r\nDoes multithreading aspects between these two are common?","title":"When should I use ConcurrentSkipListMap?","body":"<p>In Java, <code>ConcurrentHashMap</code> is there for better <code>multithreading</code> solution. Then when should I use <code>ConcurrentSkipListMap</code>? Is it a redundancy?</p>\n\n<p>Does multithreading aspects between these two are common?</p>\n"},{"tags":["java","unit-testing","jakarta-ee","easymock"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1299826745,"post_id":5269931,"comment_id":5936742,"body_markdown":"What is the type of `entity` and how exactly is `getType()` declared?","body":"What is the type of <code>entity</code> and how exactly is <code>getType()</code> declared?"},{"owner":{"account_id":86382,"reputation":1098,"user_id":240242,"accept_rate":67,"display_name":"Dinesh"},"score":0,"creation_date":1299827410,"post_id":5269931,"comment_id":5936817,"body_markdown":"Class Entity { private String type; }","body":"Class Entity { private String type; }"},{"owner":{"account_id":392619,"reputation":1091,"user_id":754001,"accept_rate":100,"display_name":"Apoorv"},"score":1,"creation_date":1306352035,"post_id":5269931,"comment_id":7113657,"body_markdown":"If what you have said is correct it means only one thing. There are two different versions of your class (or perhaps even the entire jar) at the server and your dev. machine. Also, it may be worth including a System.out.println(entity.getType().getClass()) statement before setting the mock return.","body":"If what you have said is correct it means only one thing. There are two different versions of your class (or perhaps even the entire jar) at the server and your dev. machine. Also, it may be worth including a System.out.println(entity.getType().getClass()) statement before setting the mock return."}],"answers":[{"tags":[],"owner":{"account_id":797820,"reputation":186,"user_id":889870,"display_name":"Bj&#246;rn"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1313084927,"creation_date":1313064782,"answer_id":7025627,"question_id":5269931,"body_markdown":"I just had the same problem.\r\n\r\nI had a partial mock in `EasyMock`, but forgot to call `addMockedMethod` for the method I wanted to set the expectation for.\r\n\r\nThe error message was the same as above, I&#39;d say that was somewhat misleading.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>I just had the same problem.</p>\n\n<p>I had a partial mock in <code>EasyMock</code>, but forgot to call <code>addMockedMethod</code> for the method I wanted to set the expectation for.</p>\n\n<p>The error message was the same as above, I'd say that was somewhat misleading.</p>\n"},{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1314714026,"creation_date":1314714026,"answer_id":7244708,"question_id":5269931,"body_markdown":"Make sure that your `entity` object is not a simple POJO (eg. `new Entity()`), and it was created with the `createMock()` methods of EasyMock.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>Make sure that your <code>entity</code> object is not a simple POJO (eg. <code>new Entity()</code>), and it was created with the <code>createMock()</code> methods of EasyMock.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336072642,"creation_date":1336072642,"answer_id":10437942,"question_id":5269931,"body_markdown":"For me, I had to remember to call reset(...) on it after having used it once, or I (bizarrely) got this error message calling expect on it a second time.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>For me, I had to remember to call reset(...) on it after having used it once, or I (bizarrely) got this error message calling expect on it a second time.</p>\n"},{"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1396016540,"creation_date":1396016540,"answer_id":22715484,"question_id":5269931,"body_markdown":"In my case the method was `final` on which I called `expect` on. So `EasyMock` was not able to mock the method and thus did not record the method invocation.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>In my case the method was <code>final</code> on which I called <code>expect</code> on. So <code>EasyMock</code> was not able to mock the method and thus did not record the method invocation.</p>\n"},{"tags":[],"owner":{"account_id":4391031,"reputation":1,"user_id":3579402,"display_name":"janimationd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674248267,"creation_date":1674248254,"answer_id":75189276,"question_id":5269931,"body_markdown":"If anyone gets this error when trying to mock behavior of a class&#39;s `toString()` method, e.g. `expect(entity.toString()).andReturn(&quot;string&quot;);`, EasyMock will instead invoke a special version of the `toString()` method on that line in the test, and will not modify the expected behavior of the method in the code under test. You basically can&#39;t mock any toString() behavior, and your test will liekly still pass if you just remove the line where you&#39;re trying to mock the call. PowerMock does not seem to offer any solutions in this case, since its `@PrepareForTest` doesn&#39;t change this behavior.","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>If anyone gets this error when trying to mock behavior of a class's <code>toString()</code> method, e.g. <code>expect(entity.toString()).andReturn(&quot;string&quot;);</code>, EasyMock will instead invoke a special version of the <code>toString()</code> method on that line in the test, and will not modify the expected behavior of the method in the code under test. You basically can't mock any toString() behavior, and your test will liekly still pass if you just remove the line where you're trying to mock the call. PowerMock does not seem to offer any solutions in this case, since its <code>@PrepareForTest</code> doesn't change this behavior.</p>\n"}],"owner":{"account_id":86382,"reputation":1098,"user_id":240242,"accept_rate":67,"display_name":"Dinesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22178,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":7025627,"answer_count":5,"score":19,"last_activity_date":1674248267,"creation_date":1299826647,"question_id":5269931,"body_markdown":"I am using EasyMock to create mock classes in test cases.\r\n\r\n    expect(entity.getType()).andReturn(&quot;string&quot;);\r\n\r\nType belongs to the `String` datatype. In my development environment it is working fine. But If I transfer to my server and take build, it is failing with following error:\r\n\r\n    java.lang.IllegalStateException: incompatible return value type\r\n\r\nI don&#39;t know why it is failing in server and getting executed in my development machine.\r\n\r\nDevelopment EasyMock version: 2.5.2","title":"java.lang.IllegalStateException: incompatible return value type","body":"<p>I am using EasyMock to create mock classes in test cases.</p>\n\n<pre><code>expect(entity.getType()).andReturn(\"string\");\n</code></pre>\n\n<p>Type belongs to the <code>String</code> datatype. In my development environment it is working fine. But If I transfer to my server and take build, it is failing with following error:</p>\n\n<pre><code>java.lang.IllegalStateException: incompatible return value type\n</code></pre>\n\n<p>I don't know why it is failing in server and getting executed in my development machine.</p>\n\n<p>Development EasyMock version: 2.5.2</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1674248040,"post_id":75189170,"comment_id":132681930,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674288437,"post_id":75189170,"comment_id":132686492,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27230758,"reputation":1,"user_id":20758502,"display_name":"Mthn46300"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674247929,"creation_date":1674247443,"question_id":75189170,"body_markdown":"I&#39;m dealing with the movie application and the movies are sorted according to their id numbers in the related content section and the related content does not change in any movie. Can you help?\r\n\r\n\r\n\r\n```\r\n  //----related rv----------\r\n                relatedAdapter = new HomePageAdapter(this, listRelated, PreferenceUtils.isMandatoryLogin(configViewModel));\r\n                rvRelated.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL,\r\n                  reverselayout:false));\r\n                rvRelated.setHasFixedSize(true);\r\n                rvRelated.setAdapter(relatedAdapter);\r\n\r\n                if (categoryType.equals(&quot;tvseries&quot;)) {\r\n\r\n                    seasonSpinnerContainer.setVisibility(VISIBLE);\r\n                    rvServer.setVisibility(VISIBLE);\r\n                    serverIv.setVisibility(GONE);\r\n\r\n                    rvRelated.removeAllViews();\r\n                    listRelated.clear();\r\n                    rvServer.removeAllViews();\r\n                    listServer.clear();\r\n                    listServer.clear();\r\n\r\n                    downloadBt.setVisibility(GONE);\r\n                    watchNowBt.setVisibility(GONE);\r\n                    trailerBt.setVisibility(GONE);\r\n```\r\n\r\n```\r\n  //----related tv series---------------\r\n                    for (int i = 0; i &lt; singleDetails.getRelatedTvseries().size(); i++) {\r\n                        RelatedMovie relatedTvSeries = singleDetails.getRelatedTvseries().get(i);\r\n\r\n                        CommonModels models = new CommonModels();\r\n                        models.setTitle(relatedTvSeries.getTitle());\r\n                        models.setImageUrl(relatedTvSeries.getThumbnailUrl());\r\n                        models.setId(relatedTvSeries.getVideosId());\r\n                        models.setVideoType(&quot;tvseries&quot;);\r\n                        models.setIsPaid(relatedTvSeries.getIsPaid());\r\n                        listRelated.add(models);\r\n                    }\r\n\r\n                    if (listRelated.size() == 0) {\r\n                        tvRelated.setVisibility(GONE);\r\n                    }\r\n```\r\n\r\n\r\nreverselayout I tried several techniques but couldn&#39;t show the movie in the last id. This time it showed backwards from ID 24.","title":"I am having problems with related content","body":"<p>I'm dealing with the movie application and the movies are sorted according to their id numbers in the related content section and the related content does not change in any movie. Can you help?</p>\n<pre><code>  //----related rv----------\n                relatedAdapter = new HomePageAdapter(this, listRelated, PreferenceUtils.isMandatoryLogin(configViewModel));\n                rvRelated.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL,\n                  reverselayout:false));\n                rvRelated.setHasFixedSize(true);\n                rvRelated.setAdapter(relatedAdapter);\n\n                if (categoryType.equals(&quot;tvseries&quot;)) {\n\n                    seasonSpinnerContainer.setVisibility(VISIBLE);\n                    rvServer.setVisibility(VISIBLE);\n                    serverIv.setVisibility(GONE);\n\n                    rvRelated.removeAllViews();\n                    listRelated.clear();\n                    rvServer.removeAllViews();\n                    listServer.clear();\n                    listServer.clear();\n\n                    downloadBt.setVisibility(GONE);\n                    watchNowBt.setVisibility(GONE);\n                    trailerBt.setVisibility(GONE);\n</code></pre>\n<pre><code>  //----related tv series---------------\n                    for (int i = 0; i &lt; singleDetails.getRelatedTvseries().size(); i++) {\n                        RelatedMovie relatedTvSeries = singleDetails.getRelatedTvseries().get(i);\n\n                        CommonModels models = new CommonModels();\n                        models.setTitle(relatedTvSeries.getTitle());\n                        models.setImageUrl(relatedTvSeries.getThumbnailUrl());\n                        models.setId(relatedTvSeries.getVideosId());\n                        models.setVideoType(&quot;tvseries&quot;);\n                        models.setIsPaid(relatedTvSeries.getIsPaid());\n                        listRelated.add(models);\n                    }\n\n                    if (listRelated.size() == 0) {\n                        tvRelated.setVisibility(GONE);\n                    }\n</code></pre>\n<p>reverselayout I tried several techniques but couldn't show the movie in the last id. This time it showed backwards from ID 24.</p>\n"},{"tags":["java","spring-boot","return-type","method-chaining"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1667122119,"post_id":74251842,"comment_id":131091998,"body_markdown":"does the code pass compilation","body":"does the code pass compilation"},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":2,"creation_date":1667122481,"post_id":74251842,"comment_id":131092063,"body_markdown":"Please replace images with code and use the code editor for formatting/highlightening. Images can&#39;t be read by search engines or by TTS-engines. Users can&#39;t copy/paste your image.","body":"Please replace images with code and use the code editor for formatting/highlightening. Images can&#39;t be read by search engines or by TTS-engines. Users can&#39;t copy/paste your image."},{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1667122568,"post_id":74251842,"comment_id":131092083,"body_markdown":"Methods don&#39;t have objects, but parameters and return types. Please clarify.","body":"Methods don&#39;t have objects, but parameters and return types. Please clarify."}],"answers":[{"tags":[],"owner":{"account_id":9080284,"reputation":440,"user_id":6760346,"display_name":"damianr13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674247865,"creation_date":1667122263,"answer_id":74251885,"question_id":74251842,"body_markdown":"In the future please upload text files for your code instead of images. \r\n\r\nThe answer is that you don&#39;t need the return type to be the same. You just need to know what methods you can call on the object you have at each step. \r\n\r\nIn your case: \r\n\r\n    em.createQuery(&quot;select m from Member m&quot;, Member.class).getResultList()\r\n\r\nYou could also expand on multiple lines: \r\n```java\r\nTypedQuery&lt;Member&gt; query = em.createQuery(&quot;select m from Member m&quot;,Member.class);\r\nList&lt;Member&gt; result = query.getResultList();\r\n```\r\n\r\nBecause the `TypedQuery` class has the `getResultList` method you can call that method on the query object. But you don&#39;t have to have the `query` explicitly stored in a variable if you have no use for it after. That&#39;s why the one liner is preferred in this case. ","title":"Is this method chaining in java? I don&#39;t understand some part of chaining","body":"<p>In the future please upload text files for your code instead of images.</p>\n<p>The answer is that you don't need the return type to be the same. You just need to know what methods you can call on the object you have at each step.</p>\n<p>In your case:</p>\n<pre><code>em.createQuery(&quot;select m from Member m&quot;, Member.class).getResultList()\n</code></pre>\n<p>You could also expand on multiple lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypedQuery&lt;Member&gt; query = em.createQuery(&quot;select m from Member m&quot;,Member.class);\nList&lt;Member&gt; result = query.getResultList();\n</code></pre>\n<p>Because the <code>TypedQuery</code> class has the <code>getResultList</code> method you can call that method on the query object. But you don't have to have the <code>query</code> explicitly stored in a variable if you have no use for it after. That's why the one liner is preferred in this case.</p>\n"}],"owner":{"account_id":23954114,"reputation":9,"user_id":17945242,"display_name":"Soon chang Kwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1674247865,"creation_date":1667121821,"question_id":74251842,"body_markdown":"I have a code like this below:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tJNNC.png)](https://i.stack.imgur.com/tJNNC.png)\r\n\r\nThe code above is understandable. This is possible because each method (concat(), toupperclass(), trim()...) has the same object,which is &quot;String name.&quot; \r\n\r\nSo my question is a code like this one below.\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n    \r\n    em.createQuery(&quot;select m from Member m&quot;,Member.class)\r\n            .getResultList();\r\n\r\n[![enter image description here](https://i.stack.imgur.com/fVhk5.png)](https://i.stack.imgur.com/fVhk5.png)\r\n\r\nThey all have different return type. Unlike the one that I stated at the top, this one is different. how should I understand this? Can someone please help me understand this? \r\n\r\nI tried to see if the same kind of questions have been answered, but unfortunately I couldn&#39;t find the exact answer that I look for. \r\n","title":"Is this method chaining in java? I don&#39;t understand some part of chaining","body":"<p>I have a code like this below:</p>\n<p><a href=\"https://i.stack.imgur.com/tJNNC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tJNNC.png\" alt=\"enter image description here\" /></a></p>\n<p>The code above is understandable. This is possible because each method (concat(), toupperclass(), trim()...) has the same object,which is &quot;String name.&quot;</p>\n<p>So my question is a code like this one below.</p>\n<pre><code>@PersistenceContext\nprivate EntityManager em;\n\nem.createQuery(&quot;select m from Member m&quot;,Member.class)\n        .getResultList();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fVhk5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fVhk5.png\" alt=\"enter image description here\" /></a></p>\n<p>They all have different return type. Unlike the one that I stated at the top, this one is different. how should I understand this? Can someone please help me understand this?</p>\n<p>I tried to see if the same kind of questions have been answered, but unfortunately I couldn't find the exact answer that I look for.</p>\n"},{"tags":["java","unit-testing","junit","private-members"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674243086,"post_id":75188608,"comment_id":132680840,"body_markdown":"I would ask another question: do you have enough time to test this functionality? I.e. aren&#39;t there more test-worthy parts of the program to test?","body":"I would ask another question: do you have enough time to test this functionality? I.e. aren&#39;t there more test-worthy parts of the program to test?"},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1674243253,"post_id":75188608,"comment_id":132680886,"body_markdown":"There are, and I have already written tests for those. I would also like to write tests for this if it can help catch any bugs in the future.","body":"There are, and I have already written tests for those. I would also like to write tests for this if it can help catch any bugs in the future."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674243286,"post_id":75188608,"comment_id":132680893,"body_markdown":"As an aside: Since Java 9, we can initialize maps without static blocks via [`Map::of` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)): `private static Map&lt;Integer, Float&gt; map = Map.of(1, &quot;3.5F&quot;, 2, &quot;5.8F&quot;, 3, &quot;2.7F&quot;);`","body":"As an aside: Since Java 9, we can initialize maps without static blocks via <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map::of</code> (<code>docs.oracle.com</code>)</a>: <code>private static Map&lt;Integer, Float&gt; map = Map.of(1, &quot;3.5F&quot;, 2, &quot;5.8F&quot;, 3, &quot;2.7F&quot;);</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674243371,"post_id":75188608,"comment_id":132680926,"body_markdown":"The code - as is - will not compile since the values are `String`s, not `Float`s.","body":"The code - as is - will not compile since the values are <code>String</code>s, not <code>Float</code>s."},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1674243913,"post_id":75188608,"comment_id":132681051,"body_markdown":"I am using a one-liner to initialize the map by reading from a file. This was just to give an idea of how the map looks like.","body":"I am using a one-liner to initialize the map by reading from a file. This was just to give an idea of how the map looks like."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674247257,"post_id":75188608,"comment_id":132681741,"body_markdown":"Since the map is actually initialized from an external source, any unit tests will be dependent on the contents of that source. In other words, you&#39;ll be duplicating the map keys/values in the file and in the unit test code. Are you sure you&#39;re OK with that coupling?","body":"Since the map is actually initialized from an external source, any unit tests will be dependent on the contents of that source. In other words, you&#39;ll be duplicating the map keys/values in the file and in the unit test code. Are you sure you&#39;re OK with that coupling?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674247459,"creation_date":1674247459,"answer_id":75189173,"question_id":75188608,"body_markdown":"You shouldn&#39;t be testing any of that - it&#39;s got way too much of a &quot;Grading your own exam&quot; vibe. The likely errors here involve you messing up either the constant, or the static file, which a test is not likely to catch. You&#39;ll be setting yourself up for a bunch of future updates (where you update the default and then later go: Oh, right, of course, I repeated myself in the test and I forgot to update the value there). You&#39;re not testing anything - you&#39;re giving your future self pointless homework.\r\n\r\nGet creative - what _could_ plausibly fail in the future? Not much - this is rather simple code. Test the likely failure avenues.\r\n\r\nIf I were you, I&#39;d test the following situations:\r\n\r\n* I would check that the value for a key I&#39;m sure is never going to be in the map (not now, and not likely ever in the future) returns non-0. This avoids having to hardcode the 4.4F, or having to mark as package-private the constant value, but still ensures 2 unlikely but plausible avenues of future failure: That the `.getMultiplier` method throws an exception due to a bug in the future, or that it returns 0 instead of an actual value. It would avoid having to update the test if you change this default later. Unless you change it to 0 or to &#39;if you ask for the multiplier for a number not listed, the method now throws&#39;, which are fundamental changes to functionality and therefore should indeed cause tests to fail.\r\n\r\n* I would not test _any_ value from the static file, because either you&#39;re again just testing that you correctly copied and pasted a value from it into your test source file and giving yourself future homework to update the tests when you update the file - or you&#39;re marking your own exam if you dynamically adjust the k/v pair you test by also getting it from the file (whatever bug might exist in the code that reads in this static file, it&#39;ll be in the test code too). Instead, I would take the thing that is capable of reading in the static file and turning it into that static &#39;map of constants&#39; and _test that_. In the test code I can then have a tiny example &#39;input static file&#39; and I would then test if the Multiplier class responds correctly given this known input. This frees you from future updates (the test code always supplies test static data to the code, it doesn&#39;t look at the thing that may be updated in the future and is therefore essentially &#39;unstable&#39;), and lets you test the thing that could plausibly break here - the part that turns the static file into a filled map.\r\n\r\nOnce tests ensure that the &#39;turn static file into static map&#39; code works, and I have tested that the getMultiplier method doesn&#39;t fail in the 2 obvious ways (throws, or, returns 0), then you&#39;ve tested everything relevant. ","title":"Right way to unit test helper methods","body":"<p>You shouldn't be testing any of that - it's got way too much of a &quot;Grading your own exam&quot; vibe. The likely errors here involve you messing up either the constant, or the static file, which a test is not likely to catch. You'll be setting yourself up for a bunch of future updates (where you update the default and then later go: Oh, right, of course, I repeated myself in the test and I forgot to update the value there). You're not testing anything - you're giving your future self pointless homework.</p>\n<p>Get creative - what <em>could</em> plausibly fail in the future? Not much - this is rather simple code. Test the likely failure avenues.</p>\n<p>If I were you, I'd test the following situations:</p>\n<ul>\n<li><p>I would check that the value for a key I'm sure is never going to be in the map (not now, and not likely ever in the future) returns non-0. This avoids having to hardcode the 4.4F, or having to mark as package-private the constant value, but still ensures 2 unlikely but plausible avenues of future failure: That the <code>.getMultiplier</code> method throws an exception due to a bug in the future, or that it returns 0 instead of an actual value. It would avoid having to update the test if you change this default later. Unless you change it to 0 or to 'if you ask for the multiplier for a number not listed, the method now throws', which are fundamental changes to functionality and therefore should indeed cause tests to fail.</p>\n</li>\n<li><p>I would not test <em>any</em> value from the static file, because either you're again just testing that you correctly copied and pasted a value from it into your test source file and giving yourself future homework to update the tests when you update the file - or you're marking your own exam if you dynamically adjust the k/v pair you test by also getting it from the file (whatever bug might exist in the code that reads in this static file, it'll be in the test code too). Instead, I would take the thing that is capable of reading in the static file and turning it into that static 'map of constants' and <em>test that</em>. In the test code I can then have a tiny example 'input static file' and I would then test if the Multiplier class responds correctly given this known input. This frees you from future updates (the test code always supplies test static data to the code, it doesn't look at the thing that may be updated in the future and is therefore essentially 'unstable'), and lets you test the thing that could plausibly break here - the part that turns the static file into a filled map.</p>\n</li>\n</ul>\n<p>Once tests ensure that the 'turn static file into static map' code works, and I have tested that the getMultiplier method doesn't fail in the 2 obvious ways (throws, or, returns 0), then you've tested everything relevant.</p>\n"}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75189173,"answer_count":1,"score":0,"last_activity_date":1674247459,"creation_date":1674242997,"question_id":75188608,"body_markdown":"I have the following class\r\n\r\n```\r\npublic class Multiplier {\r\n    private static Map&lt;Integer, Float&gt; map;\r\n    private static final float DEFAULT_MULTIPLIER = 4.4F;\r\n\r\n    static {\r\n        // This map is actually populated by reading from a file. This is an example on how the map looks like.\r\n        map = new HashMap&lt;&gt;();\r\n        map.put(1, &quot;3.5F&quot;);\r\n        map.put(2, &quot;5.8F&quot;);\r\n        map.put(3, &quot;2.7F&quot;);\r\n    }\r\n\r\n    public static float getMultiplier(Integer id) {\r\n        return map.getOrDefault(id, DEFAULT_MULTIPLIER);\r\n    }\r\n}\r\n```\r\n\r\nI want to test the getMultiplier method. What&#39;s the best way to go about it?\r\n\r\n1st - There are 1000s of entries inside the map. Should I just call the getMultiplier method with a couple of different ids and make sure the value returned matches? The file is static. It will occasionally change in the future, but that would mean updating the test, which is fine.\r\n\r\n2nd - I want to test the default value as well. Should I just do something like\r\n```\r\nAssert.assertEquals(4.4F, Multiplier.getMultiplier(&lt;invalidId/null&gt;));\r\n```\r\nI&#39;m hardcoding the DEFAULT_MULTIPLIER value in the expected parameter of assertEquals. Does this even make sense? \r\n\r\nI want to know what&#39;s the right way to unit test this method? Thanks!","title":"Right way to unit test helper methods","body":"<p>I have the following class</p>\n<pre><code>public class Multiplier {\n    private static Map&lt;Integer, Float&gt; map;\n    private static final float DEFAULT_MULTIPLIER = 4.4F;\n\n    static {\n        // This map is actually populated by reading from a file. This is an example on how the map looks like.\n        map = new HashMap&lt;&gt;();\n        map.put(1, &quot;3.5F&quot;);\n        map.put(2, &quot;5.8F&quot;);\n        map.put(3, &quot;2.7F&quot;);\n    }\n\n    public static float getMultiplier(Integer id) {\n        return map.getOrDefault(id, DEFAULT_MULTIPLIER);\n    }\n}\n</code></pre>\n<p>I want to test the getMultiplier method. What's the best way to go about it?</p>\n<p>1st - There are 1000s of entries inside the map. Should I just call the getMultiplier method with a couple of different ids and make sure the value returned matches? The file is static. It will occasionally change in the future, but that would mean updating the test, which is fine.</p>\n<p>2nd - I want to test the default value as well. Should I just do something like</p>\n<pre><code>Assert.assertEquals(4.4F, Multiplier.getMultiplier(&lt;invalidId/null&gt;));\n</code></pre>\n<p>I'm hardcoding the DEFAULT_MULTIPLIER value in the expected parameter of assertEquals. Does this even make sense?</p>\n<p>I want to know what's the right way to unit test this method? Thanks!</p>\n"},{"tags":["java","android","agora"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674247078,"creation_date":1674247078,"question_id":75189109,"body_markdown":"I&#39;m using agora to make voice calls in my android application , i have set up the code as per the documentation but whenever i try to join a call it crashes and says that rtcEngine is null even though it is initialized , any help would be appreciated , Thank you \r\n\r\n\r\n * Code \r\n\r\n```\r\n public class AudioCallActivity extends AppCompatActivity {\r\n\r\n    // An integer that identifies the local user.\r\n    private int uid = 0;\r\n    // Track the status of your connection\r\n    private boolean isJoined = false;\r\n\r\n    // Agora engine instance\r\n    private RtcEngine agoraEngine;\r\n    // UI elements\r\n    private TextView infoText;\r\n    private Button joinLeaveButton;\r\n    private static final int PERMISSION_REQ_ID = 22;\r\n    private static final String[] REQUESTED_PERMISSIONS = { Manifest.permission.RECORD_AUDIO};\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_audio_call);\r\n\r\n        // If all the permissions are granted, initialize the RtcEngine object and join a channel.\r\n        if (!checkSelfPermission()) {\r\n            ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, PERMISSION_REQ_ID);\r\n        }\r\n\r\n        setupVoiceSDKEngine();\r\n\r\n        // Set up access to the UI elements\r\n        joinLeaveButton = findViewById(R.id.joinLeaveButton);\r\n        infoText = findViewById(R.id.infoText);\r\n\r\n    }\r\n\r\n\r\n    private boolean checkSelfPermission() {\r\n        return ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n    void showMessage(String message) {\r\n        runOnUiThread(() -&gt; Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show());\r\n    }\r\n\r\n    private void setupVoiceSDKEngine() {\r\n        try {\r\n            RtcEngineConfig config = new RtcEngineConfig();\r\n            config.mContext = getBaseContext();\r\n            config.mAppId = getString(R.string.app_id);\r\n            config.mEventHandler = mRtcEventHandler;\r\n            agoraEngine = RtcEngine.create(config);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Check the error.&quot;);\r\n        }\r\n    }\r\n    private final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\r\n        @Override\r\n        // Listen for the remote user joining the channel.\r\n        public void onUserJoined(int uid, int elapsed) {\r\n            runOnUiThread(()-&gt;infoText.setText(&quot;Remote user joined: &quot; + uid));\r\n        }\r\n\r\n        @Override\r\n        public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\r\n            // Successfully joined a channel\r\n            isJoined = true;\r\n            showMessage(&quot;Joined Channel &quot; + channel);\r\n            runOnUiThread(()-&gt;infoText.setText(&quot;Waiting for a remote user to join&quot;));\r\n        }\r\n\r\n        @Override\r\n        public void onUserOffline(int uid, int reason) {\r\n            // Listen for remote users leaving the channel\r\n            showMessage(&quot;Remote user offline &quot; + uid + &quot; &quot; + reason);\r\n            if (isJoined) runOnUiThread(()-&gt;infoText.setText(&quot;Waiting for a remote user to join&quot;));\r\n        }\r\n\r\n        @Override\r\n        public void onLeaveChannel(RtcStats \tstats) {\r\n            // Listen for the local user leaving the channel\r\n            runOnUiThread(()-&gt;infoText.setText(&quot;Press the button to join a channel&quot;));\r\n            isJoined = false;\r\n        }\r\n    };\r\n    private void joinChannel() {\r\n        ChannelMediaOptions options = new ChannelMediaOptions();\r\n        options.autoSubscribeAudio = true;\r\n        // Set both clients as the BROADCASTER.\r\n        options.clientRoleType = Constants.CLIENT_ROLE_BROADCASTER;\r\n        // Set the channel profile as BROADCASTING.\r\n        options.channelProfile = Constants.CHANNEL_PROFILE_LIVE_BROADCASTING;\r\n\r\n        // Join the channel with a temp token.\r\n        // You need to specify the user ID yourself, and ensure that it is unique in the channel.\r\n        agoraEngine.joinChannel(getString(R.string.agora_token), &quot;ChannelOne&quot;, uid, options);\r\n    }\r\n    public void joinLeaveChannel(View view) {\r\n         try {\r\n             if (isJoined) {\r\n                 agoraEngine.leaveChannel();\r\n                 joinLeaveButton.setText(&quot;Join&quot;);\r\n             } else {\r\n                 joinChannel();\r\n                 joinLeaveButton.setText(&quot;Leave&quot;);\r\n             }\r\n         }catch (Exception e){\r\n             Log.d(&quot;TAG&quot;,&quot;Error is &quot; + e.getMessage());\r\n         }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        agoraEngine.leaveChannel();\r\n        // Destroy the engine in a sub-thread to avoid congestion\r\n        new Thread(() -&gt; {\r\n            RtcEngine.destroy();\r\n            agoraEngine = null;\r\n        }).start();\r\n        onDestroy();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n * Error Thrown \r\n\r\n```\r\n Attempt to invoke virtual method &#39;int io.agora.rtc2.RtcEngine.joinChannel(java.lang.String, java.lang.String, int, io.agora.rtc2.ChannelMediaOptions)&#39; on a null object reference\r\n```","title":"Agora RtcEngine always return null","body":"<p>I'm using agora to make voice calls in my android application , i have set up the code as per the documentation but whenever i try to join a call it crashes and says that rtcEngine is null even though it is initialized , any help would be appreciated , Thank you</p>\n<ul>\n<li>Code</li>\n</ul>\n<pre><code> public class AudioCallActivity extends AppCompatActivity {\n\n    // An integer that identifies the local user.\n    private int uid = 0;\n    // Track the status of your connection\n    private boolean isJoined = false;\n\n    // Agora engine instance\n    private RtcEngine agoraEngine;\n    // UI elements\n    private TextView infoText;\n    private Button joinLeaveButton;\n    private static final int PERMISSION_REQ_ID = 22;\n    private static final String[] REQUESTED_PERMISSIONS = { Manifest.permission.RECORD_AUDIO};\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_audio_call);\n\n        // If all the permissions are granted, initialize the RtcEngine object and join a channel.\n        if (!checkSelfPermission()) {\n            ActivityCompat.requestPermissions(this, REQUESTED_PERMISSIONS, PERMISSION_REQ_ID);\n        }\n\n        setupVoiceSDKEngine();\n\n        // Set up access to the UI elements\n        joinLeaveButton = findViewById(R.id.joinLeaveButton);\n        infoText = findViewById(R.id.infoText);\n\n    }\n\n\n    private boolean checkSelfPermission() {\n        return ContextCompat.checkSelfPermission(this, REQUESTED_PERMISSIONS[0]) == PackageManager.PERMISSION_GRANTED;\n    }\n    void showMessage(String message) {\n        runOnUiThread(() -&gt; Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show());\n    }\n\n    private void setupVoiceSDKEngine() {\n        try {\n            RtcEngineConfig config = new RtcEngineConfig();\n            config.mContext = getBaseContext();\n            config.mAppId = getString(R.string.app_id);\n            config.mEventHandler = mRtcEventHandler;\n            agoraEngine = RtcEngine.create(config);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Check the error.&quot;);\n        }\n    }\n    private final IRtcEngineEventHandler mRtcEventHandler = new IRtcEngineEventHandler() {\n        @Override\n        // Listen for the remote user joining the channel.\n        public void onUserJoined(int uid, int elapsed) {\n            runOnUiThread(()-&gt;infoText.setText(&quot;Remote user joined: &quot; + uid));\n        }\n\n        @Override\n        public void onJoinChannelSuccess(String channel, int uid, int elapsed) {\n            // Successfully joined a channel\n            isJoined = true;\n            showMessage(&quot;Joined Channel &quot; + channel);\n            runOnUiThread(()-&gt;infoText.setText(&quot;Waiting for a remote user to join&quot;));\n        }\n\n        @Override\n        public void onUserOffline(int uid, int reason) {\n            // Listen for remote users leaving the channel\n            showMessage(&quot;Remote user offline &quot; + uid + &quot; &quot; + reason);\n            if (isJoined) runOnUiThread(()-&gt;infoText.setText(&quot;Waiting for a remote user to join&quot;));\n        }\n\n        @Override\n        public void onLeaveChannel(RtcStats     stats) {\n            // Listen for the local user leaving the channel\n            runOnUiThread(()-&gt;infoText.setText(&quot;Press the button to join a channel&quot;));\n            isJoined = false;\n        }\n    };\n    private void joinChannel() {\n        ChannelMediaOptions options = new ChannelMediaOptions();\n        options.autoSubscribeAudio = true;\n        // Set both clients as the BROADCASTER.\n        options.clientRoleType = Constants.CLIENT_ROLE_BROADCASTER;\n        // Set the channel profile as BROADCASTING.\n        options.channelProfile = Constants.CHANNEL_PROFILE_LIVE_BROADCASTING;\n\n        // Join the channel with a temp token.\n        // You need to specify the user ID yourself, and ensure that it is unique in the channel.\n        agoraEngine.joinChannel(getString(R.string.agora_token), &quot;ChannelOne&quot;, uid, options);\n    }\n    public void joinLeaveChannel(View view) {\n         try {\n             if (isJoined) {\n                 agoraEngine.leaveChannel();\n                 joinLeaveButton.setText(&quot;Join&quot;);\n             } else {\n                 joinChannel();\n                 joinLeaveButton.setText(&quot;Leave&quot;);\n             }\n         }catch (Exception e){\n             Log.d(&quot;TAG&quot;,&quot;Error is &quot; + e.getMessage());\n         }\n    }\n\n\n    @Override\n    protected void onDestroy() {\n        agoraEngine.leaveChannel();\n        // Destroy the engine in a sub-thread to avoid congestion\n        new Thread(() -&gt; {\n            RtcEngine.destroy();\n            agoraEngine = null;\n        }).start();\n        onDestroy();\n    }\n}\n\n</code></pre>\n<ul>\n<li>Error Thrown</li>\n</ul>\n<pre><code> Attempt to invoke virtual method 'int io.agora.rtc2.RtcEngine.joinChannel(java.lang.String, java.lang.String, int, io.agora.rtc2.ChannelMediaOptions)' on a null object reference\n</code></pre>\n"},{"tags":["java","ubuntu","java-11"],"comments":[{"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1537901151,"post_id":52504825,"comment_id":91950214,"body_markdown":"What error do you get when you attempt to `sudo apt-get install openjdk-11-jdk`?","body":"What error do you get when you attempt to <code>sudo apt-get install openjdk-11-jdk</code>?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":5,"creation_date":1537901348,"post_id":52504825,"comment_id":91950304,"body_markdown":"[Here](https://docs.oracle.com/en/java/javase/11/install/installation-jdk-linux-platforms.html#GUID-ADC9C14A-5F51-4C32-802C-9639A947317F) are the &quot;official&quot; installation instructions for Linux.  There&#39;s an RPM (`yum`), or you can install manually from archive libraries.  But apparently no Debian `apt-get` (yet).  Q: So why not just install from tar.gz?  See also [update-alternatives](https://stackoverflow.com/questions/12787757/how-to-use-the-command-update-alternatives-config-java)","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/install/installation-jdk-linux-platforms.html#GUID-ADC9C14A-5F51-4C32-802C-9639A947317F\" rel=\"nofollow noreferrer\">Here</a> are the &quot;official&quot; installation instructions for Linux.  There&#39;s an RPM (<code>yum</code>), or you can install manually from archive libraries.  But apparently no Debian <code>apt-get</code> (yet).  Q: So why not just install from tar.gz?  See also <a href=\"https://stackoverflow.com/questions/12787757/how-to-use-the-command-update-alternatives-config-java\">update-alternatives</a>"},{"owner":{"account_id":9573991,"reputation":11925,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":5,"creation_date":1537901547,"post_id":52504825,"comment_id":91950391,"body_markdown":"@Mureinik &quot;E: Unable to locate package openjdk-11-jdk&quot; on Ubuntu 16.04","body":"@Mureinik &quot;E: Unable to locate package openjdk-11-jdk&quot; on Ubuntu 16.04"},{"owner":{"account_id":9573991,"reputation":11925,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":0,"creation_date":1537901599,"post_id":52504825,"comment_id":91950412,"body_markdown":"@paulsm4 well, apt-get is very convinient, especially when you have dozens of servers :).","body":"@paulsm4 well, apt-get is very convinient, especially when you have dozens of servers :)."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1537987301,"post_id":52504825,"comment_id":91988010,"body_markdown":"@Mureinik At the moment this package still installs Java 10. It will be updated in the next days I assume to provide Java 11.","body":"@Mureinik At the moment this package still installs Java 10. It will be updated in the next days I assume to provide Java 11."},{"owner":{"account_id":4824366,"reputation":1292,"user_id":3894179,"display_name":"Andra"},"score":0,"creation_date":1538443518,"post_id":52504825,"comment_id":92136090,"body_markdown":"Check out this question [link](https://askubuntu.com/questions/1037646/why-is-openjdk-10-packaged-as-openjdk-11)","body":"Check out this question <a href=\"https://askubuntu.com/questions/1037646/why-is-openjdk-10-packaged-as-openjdk-11\">link</a>"},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":5,"creation_date":1540302543,"post_id":52504825,"comment_id":92809367,"body_markdown":"@Robert next days, next weeks, next months...","body":"@Robert next days, next weeks, next months..."}],"answers":[{"tags":[],"owner":{"account_id":13280986,"reputation":356,"user_id":9588599,"display_name":"Jose Henriquez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537927051,"creation_date":1537927051,"answer_id":52508882,"question_id":52504825,"body_markdown":"I created a Bash script that basically automates the manual installation described in the linked [similar question](https://stackoverflow.com/questions/49507160/how-to-install-jdk-10-under-ubuntu).  It requires the `tar.gz` file as well as its SHA256 sum value.  You can find out more info and download the script from my [GitHub project page](https://github.com/jhenriquez418/linux-java-jdk-installer).  It is provided under MIT license.","title":"How to install JDK 11 under Ubuntu?","body":"<p>I created a Bash script that basically automates the manual installation described in the linked <a href=\"https://stackoverflow.com/questions/49507160/how-to-install-jdk-10-under-ubuntu\">similar question</a>.  It requires the <code>tar.gz</code> file as well as its SHA256 sum value.  You can find out more info and download the script from my <a href=\"https://github.com/jhenriquez418/linux-java-jdk-installer\" rel=\"nofollow noreferrer\">GitHub project page</a>.  It is provided under MIT license.</p>\n"},{"tags":[],"owner":{"account_id":3558518,"reputation":1476,"user_id":2971571,"accept_rate":100,"display_name":"Kamal"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1557955204,"creation_date":1538289481,"answer_id":52575307,"question_id":52504825,"body_markdown":"For anyone running a JDK on Ubuntu and want to upgrade to JDK11, I&#39;d recommend installing via [sdkman][1]. SDKMAN is a tool for switching JVMs, removing and upgrading.\r\n\r\n&gt; [SDKMAN][1] is a tool for managing parallel versions of multiple Software Development Kits on most Unix based systems. It provides a convenient Command Line Interface (CLI) and API for installing, switching, removing and listing Candidates.\r\n\r\nInstall SDKMAN\r\n```\r\n$ curl -s &quot;https://get.sdkman.io&quot; | bash\r\n$ source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n$ sdk version\r\n```\r\n\r\nInstall Java (11.0.3-zulu)\r\n```\r\n$ sdk install java\r\n```\r\n\r\n  [1]: https://sdkman.io/","title":"How to install JDK 11 under Ubuntu?","body":"<p>For anyone running a JDK on Ubuntu and want to upgrade to JDK11, I'd recommend installing via <a href=\"https://sdkman.io/\" rel=\"noreferrer\">sdkman</a>. SDKMAN is a tool for switching JVMs, removing and upgrading.</p>\n\n<blockquote>\n  <p><a href=\"https://sdkman.io/\" rel=\"noreferrer\">SDKMAN</a> is a tool for managing parallel versions of multiple Software Development Kits on most Unix based systems. It provides a convenient Command Line Interface (CLI) and API for installing, switching, removing and listing Candidates.</p>\n</blockquote>\n\n<p>Install SDKMAN</p>\n\n<pre><code>$ curl -s \"https://get.sdkman.io\" | bash\n$ source \"$HOME/.sdkman/bin/sdkman-init.sh\"\n$ sdk version\n</code></pre>\n\n<p>Install Java (11.0.3-zulu)</p>\n\n<pre><code>$ sdk install java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"down_vote_count":4,"up_vote_count":503,"is_accepted":true,"score":499,"last_activity_date":1585990740,"creation_date":1540302523,"answer_id":52950746,"question_id":52504825,"body_markdown":"Now it is possible to install openjdk-11 this way:\r\n\r\n    sudo apt-get install openjdk-11-jdk\r\n\r\n(Previously it installed openjdk-10, but not anymore)","title":"How to install JDK 11 under Ubuntu?","body":"<p>Now it is possible to install openjdk-11 this way:</p>\n\n<pre><code>sudo apt-get install openjdk-11-jdk\n</code></pre>\n\n<p>(Previously it installed openjdk-10, but not anymore)</p>\n"},{"tags":[],"owner":{"account_id":6874903,"reputation":673,"user_id":5283663,"display_name":"A. Lion"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1540895073,"creation_date":1540895073,"answer_id":53062165,"question_id":52504825,"body_markdown":"I came here looking for the answer and since no one put the command for the oracle Java 11 but only openjava 11 I figured out how to do it on Ubuntu, the syntax is as following:\r\n\r\n    sudo add-apt-repository ppa:linuxuprising/java\r\n    sudo apt update\r\n    sudo apt install oracle-java11-installer","title":"How to install JDK 11 under Ubuntu?","body":"<p>I came here looking for the answer and since no one put the command for the oracle Java 11 but only openjava 11 I figured out how to do it on Ubuntu, the syntax is as following:</p>\n\n<pre><code>sudo add-apt-repository ppa:linuxuprising/java\nsudo apt update\nsudo apt install oracle-java11-installer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964133,"reputation":1411,"user_id":1764813,"display_name":"kaniyan"},"down_vote_count":1,"up_vote_count":119,"is_accepted":false,"score":118,"last_activity_date":1542792388,"creation_date":1542792388,"answer_id":53408872,"question_id":52504825,"body_markdown":"To install Openjdk 11 in Ubuntu, the following commands worked well.\r\n\r\n    sudo add-apt-repository ppa:openjdk-r/ppa\r\n    sudo apt-get update\r\n    sudo apt install openjdk-11-jdk","title":"How to install JDK 11 under Ubuntu?","body":"<p>To install Openjdk 11 in Ubuntu, the following commands worked well.</p>\n\n<pre><code>sudo add-apt-repository ppa:openjdk-r/ppa\nsudo apt-get update\nsudo apt install openjdk-11-jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10703695,"reputation":209,"user_id":7878185,"display_name":"Jagath Wijesinghe"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1571883851,"creation_date":1564370608,"answer_id":57246838,"question_id":52504825,"body_markdown":"In Ubuntu, you can simply install Open JDK by following commands.\r\n\r\n    sudo apt-get update    \r\n    sudo apt-get install default-jdk\r\n\r\nYou can check the java version by following the command.\r\n\r\n    java -version\r\n\r\nIf you want to install Oracle JDK 8 follow the below commands.\r\n\r\n    sudo add-apt-repository ppa:webupd8team/java\r\n    sudo apt-get update\r\n    sudo apt-get install oracle-java8-installer\r\n\r\nIf you want to switch java versions you can try below methods.\r\n\r\n`vi ~/.bashrc` and add the following line `export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_221` (path/jdk folder)\r\n\r\nor\r\n\r\n`sudo vi /etc/profile` and add the following lines\r\n\r\n    #JAVA_HOME=/usr/lib/jvm/jdk1.8.0_221\r\n    JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n    export JAVA_HOME\r\n    export JRE_HOME\r\n    export PATH\r\n\r\nYou can comment on the other version. This needs to sign out and sign back in to use. If you want to try it on the go you can type the below command in the same terminal. It&#39;ll only update the java version for a particular terminal.\r\n\r\n    source /etc/profile\r\n\r\nYou can always check the java version by `java -version` command.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<p>In Ubuntu, you can simply install Open JDK by following commands.</p>\n\n<pre><code>sudo apt-get update    \nsudo apt-get install default-jdk\n</code></pre>\n\n<p>You can check the java version by following the command.</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>If you want to install Oracle JDK 8 follow the below commands.</p>\n\n<pre><code>sudo add-apt-repository ppa:webupd8team/java\nsudo apt-get update\nsudo apt-get install oracle-java8-installer\n</code></pre>\n\n<p>If you want to switch java versions you can try below methods.</p>\n\n<p><code>vi ~/.bashrc</code> and add the following line <code>export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_221</code> (path/jdk folder)</p>\n\n<p>or</p>\n\n<p><code>sudo vi /etc/profile</code> and add the following lines</p>\n\n<pre><code>#JAVA_HOME=/usr/lib/jvm/jdk1.8.0_221\nJAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nexport PATH=$JAVA_HOME/bin:$PATH\nexport JAVA_HOME\nexport JRE_HOME\nexport PATH\n</code></pre>\n\n<p>You can comment on the other version. This needs to sign out and sign back in to use. If you want to try it on the go you can type the below command in the same terminal. It'll only update the java version for a particular terminal.</p>\n\n<pre><code>source /etc/profile\n</code></pre>\n\n<p>You can always check the java version by <code>java -version</code> command.</p>\n"},{"tags":[],"owner":{"account_id":2737700,"reputation":1497,"user_id":2359994,"display_name":"Som"},"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1636540030,"creation_date":1576237306,"answer_id":59321929,"question_id":52504825,"body_markdown":"    sudo apt-get install openjdk-11-jdk\r\n\r\nafter this, try \r\n\r\n    java -version\r\n\r\nto make sure java version is 1.11.x, if found old one or different, check below command to see the available jdks,\r\n\r\n    update-java-alternatives --list\r\n\r\nyou should see something like below,\r\n\r\n    java-1.11.0-openjdk-amd64      1111      /usr/lib/jvm/java-1.11.0-openjdk-amd64 \r\n    \r\n    java-1.8.0-openjdk-amd64      1081      /usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n\r\nyou can see java 1.11 available from above list, use below command to set java 11 to default,\r\n\r\n    sudo update-alternatives --config java\r\n\r\nfor above command, you will get something like below and also, will ask for an option to set,\r\n\r\n    There are 3 choices for the alternative java (providing /usr/bin/java).\r\n       Selection    Path   Priority   Status\r\n    \r\n     ------------------------------------------------------------   \r\n    \r\n     0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      auto mode\r\n      \r\n     1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\r\n    \r\n     *2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081    manual mode \r\n    \r\n     3            /usr/lib/jvm/jdk1.8.0_211/bin/java  0         manual mode \r\n    \r\n     Press &lt;enter&gt; to keep the current choice[*], or type selection number:\r\n\r\nyou can select desired selection number, my case it&#39;s 0\r\n\r\nfor javac,\r\n\r\n    sudo update-alternatives --config javac\r\n\r\nwill result something like below,\r\n\r\n     There are 3 choices for the alternative javac (providing /usr/bin/javac).\r\n    \r\n     Selection    Path                     Priority  Status\r\n    \r\n     ------------------------------------------------------------   \r\n    \r\n     0            /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      auto mode   \r\n    \r\n     1           /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      manual mode\r\n    \r\n     *2            /usr/lib/jvm/java-8-openjdk-amd64/bin/javac    1081      manual mode   \r\n     3            /usr/lib/jvm/jdk1.8.0_211/bin/javac        0         manual mode\r\n     \r\n     Press &lt;enter&gt; to keep the current choice[*], or type selection number:\r\n\r\nin my case, it&#39;s 0 again\r\n\r\nafter above steps, try\r\n\r\n    java -version\r\n\r\nit will display something like below,\r\n\r\n    openjdk version &quot;11.0.4&quot; 2019-07-16 \r\n    \r\n    OpenJDK Runtime Environment (build\r\n     11.0.4+11-post-Ubuntu-1ubuntu218.04.3) \r\n    \r\n     OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed &gt; mode, sharing)\r\n\r\n\r\n\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<pre><code>sudo apt-get install openjdk-11-jdk\n</code></pre>\n<p>after this, try</p>\n<pre><code>java -version\n</code></pre>\n<p>to make sure java version is 1.11.x, if found old one or different, check below command to see the available jdks,</p>\n<pre><code>update-java-alternatives --list\n</code></pre>\n<p>you should see something like below,</p>\n<pre><code>java-1.11.0-openjdk-amd64      1111      /usr/lib/jvm/java-1.11.0-openjdk-amd64 \n\njava-1.8.0-openjdk-amd64      1081      /usr/lib/jvm/java-1.8.0-openjdk-amd64\n</code></pre>\n<p>you can see java 1.11 available from above list, use below command to set java 11 to default,</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>for above command, you will get something like below and also, will ask for an option to set,</p>\n<pre><code>There are 3 choices for the alternative java (providing /usr/bin/java).\n   Selection    Path   Priority   Status\n\n ------------------------------------------------------------   \n\n 0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      auto mode\n  \n 1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\n\n *2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081    manual mode \n\n 3            /usr/lib/jvm/jdk1.8.0_211/bin/java  0         manual mode \n\n Press &lt;enter&gt; to keep the current choice[*], or type selection number:\n</code></pre>\n<p>you can select desired selection number, my case it's 0</p>\n<p>for javac,</p>\n<pre><code>sudo update-alternatives --config javac\n</code></pre>\n<p>will result something like below,</p>\n<pre><code> There are 3 choices for the alternative javac (providing /usr/bin/javac).\n\n Selection    Path                     Priority  Status\n\n ------------------------------------------------------------   \n\n 0            /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      auto mode   \n\n 1           /usr/lib/jvm/java-11-openjdk-amd64/bin/javac   1111      manual mode\n\n *2            /usr/lib/jvm/java-8-openjdk-amd64/bin/javac    1081      manual mode   \n 3            /usr/lib/jvm/jdk1.8.0_211/bin/javac        0         manual mode\n \n Press &lt;enter&gt; to keep the current choice[*], or type selection number:\n</code></pre>\n<p>in my case, it's 0 again</p>\n<p>after above steps, try</p>\n<pre><code>java -version\n</code></pre>\n<p>it will display something like below,</p>\n<pre><code>openjdk version &quot;11.0.4&quot; 2019-07-16 \n\nOpenJDK Runtime Environment (build\n 11.0.4+11-post-Ubuntu-1ubuntu218.04.3) \n\n OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-1ubuntu218.04.3, mixed &gt; mode, sharing)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7517199,"reputation":8382,"user_id":5710233,"display_name":"Mizux"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601558165,"creation_date":1601557706,"answer_id":64156069,"question_id":52504825,"body_markdown":"First check the `default-jdk` package, good chance it already provide you an `OpenJDK &gt;= 11`.  \r\nref: https://packages.ubuntu.com/search?keywords=default-jdk&amp;searchon=names&amp;suite=all&amp;section=all\r\n\r\n# Ubuntu 18.04 LTS +\r\nSo starting from **Ubuntu 18.04 LTS** it should be ok.\r\n```sh\r\nsudo apt update -qq\r\nsudo apt install -yq default-jdk\r\n```\r\nnote: don&#39;t forget to set `JAVA_HOME`\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/default-java\r\nmvn -version\r\n```\r\n\r\n# Ubuntu 16.04 LTS\r\nFor **Ubuntu 16.04 LTS**, only `openjdk-8-jdk` is provided in the official repos so you need to find it in a *ppa*:\r\n```sh\r\nsudo add-apt-repository -y ppa:openjdk-r/ppa\r\nsudo apt update -qq\r\nsudo apt install -yq openjdk-11-jdk\r\n```\r\nnote: don&#39;t forget to set `JAVA_HOME`\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\nmvn -version\r\n```","title":"How to install JDK 11 under Ubuntu?","body":"<p>First check the <code>default-jdk</code> package, good chance it already provide you an <code>OpenJDK &gt;= 11</code>.<br />\nref: <a href=\"https://packages.ubuntu.com/search?keywords=default-jdk&amp;searchon=names&amp;suite=all&amp;section=all\" rel=\"noreferrer\">https://packages.ubuntu.com/search?keywords=default-jdk&amp;searchon=names&amp;suite=all&amp;section=all</a></p>\n<h1>Ubuntu 18.04 LTS +</h1>\n<p>So starting from <strong>Ubuntu 18.04 LTS</strong> it should be ok.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo apt update -qq\nsudo apt install -yq default-jdk\n</code></pre>\n<p>note: don't forget to set <code>JAVA_HOME</code></p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/default-java\nmvn -version\n</code></pre>\n<h1>Ubuntu 16.04 LTS</h1>\n<p>For <strong>Ubuntu 16.04 LTS</strong>, only <code>openjdk-8-jdk</code> is provided in the official repos so you need to find it in a <em>ppa</em>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo add-apt-repository -y ppa:openjdk-r/ppa\nsudo apt update -qq\nsudo apt install -yq openjdk-11-jdk\n</code></pre>\n<p>note: don't forget to set <code>JAVA_HOME</code></p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nmvn -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4006519,"reputation":727,"user_id":3301051,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613665216,"creation_date":1613665216,"answer_id":66263908,"question_id":52504825,"body_markdown":"Just updated older Ubuntu versions to openJDK 11&lt;br&gt;Actually I need it for Jenkins only and it seems to work fine.\r\n\r\n**Ubuntu 12.04 (Precise):**\r\n&lt;br&gt;Download from [openjdk-lts (11.0.4+11-1~12.04) precise][1]\r\n&lt;br&gt;Files:&lt;br&gt;\r\n`openjdk-11-jre-headless_11.0.4+11-1~12.04_amd64.deb` &lt;br&gt;\r\n`openjdk-11-jre_11.0.4+11-1~12.04_amd64.deb`\r\n\r\n**Ubuntu 14.04 (Trusty):**\r\n&lt;br&gt;Download from [openjdk-lts (11.0.5+10-2ubuntu1~14.04) trusty][2]\r\n&lt;br&gt;Files:&lt;br&gt;\r\n`openjdk-11-jre-headless_11.0.5+10-2ubuntu1_14.04_amd64.deb` &lt;br&gt;\r\n`openjdk-11-jre_11.0.5+10-2ubuntu1_14.04_amd64.deb`\r\n\r\n**Installation**&lt;br&gt;\r\nAfter download I installed the files with Ubuntu Software Center (&quot;headless&quot; first!)&lt;br&gt;\r\nThen I selected the new version with `sudo update-alternatives --config java`\r\n\r\nI didn&#39;t have to change any environment variables (like JAVA_HOME) - maybe Jenkins doesn&#39;t care about them...\r\n\r\n  [1]: https://launchpad.net/~openjdk-r/+archive/ubuntu/ppa/+sourcepub/10347396/+listing-archive-extra\r\n  [2]: https://launchpad.net/~openjdk-r/+archive/ubuntu/ppa/+sourcepub/10650692/+listing-archive-extra","title":"How to install JDK 11 under Ubuntu?","body":"<p>Just updated older Ubuntu versions to openJDK 11<br>Actually I need it for Jenkins only and it seems to work fine.</p>\n<p><strong>Ubuntu 12.04 (Precise):</strong>\n<br>Download from <a href=\"https://launchpad.net/%7Eopenjdk-r/+archive/ubuntu/ppa/+sourcepub/10347396/+listing-archive-extra\" rel=\"nofollow noreferrer\">openjdk-lts (11.0.4+11-1~12.04) precise</a>\n<br>Files:<br>\n<code>openjdk-11-jre-headless_11.0.4+11-1~12.04_amd64.deb</code> <br>\n<code>openjdk-11-jre_11.0.4+11-1~12.04_amd64.deb</code></p>\n<p><strong>Ubuntu 14.04 (Trusty):</strong>\n<br>Download from <a href=\"https://launchpad.net/%7Eopenjdk-r/+archive/ubuntu/ppa/+sourcepub/10650692/+listing-archive-extra\" rel=\"nofollow noreferrer\">openjdk-lts (11.0.5+10-2ubuntu1~14.04) trusty</a>\n<br>Files:<br>\n<code>openjdk-11-jre-headless_11.0.5+10-2ubuntu1_14.04_amd64.deb</code> <br>\n<code>openjdk-11-jre_11.0.5+10-2ubuntu1_14.04_amd64.deb</code></p>\n<p><strong>Installation</strong><br>\nAfter download I installed the files with Ubuntu Software Center (&quot;headless&quot; first!)<br>\nThen I selected the new version with <code>sudo update-alternatives --config java</code></p>\n<p>I didn't have to change any environment variables (like JAVA_HOME) - maybe Jenkins doesn't care about them...</p>\n"},{"tags":[],"owner":{"account_id":22082501,"reputation":1,"user_id":16622309,"display_name":"swon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628489662,"creation_date":1628489662,"answer_id":68707552,"question_id":52504825,"body_markdown":"if you want to use official oracle jdk.\r\nthen download jdk 11 or latest from oracle website: https://www.oracle.com/java/technologies/javase-downloads.html\r\n\r\nthen use this command to install :\r\nsudo dpkg -i *the file you downloaded*\r\n\r\nthen add to your PATH using */etc/profile* file.\r\n\r\nin my case it&#39;s just worked 100% using ubuntu 20.04\r\n\r\nnote: official oracle jdk free only for developments.\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<p>if you want to use official oracle jdk.\nthen download jdk 11 or latest from oracle website: <a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-downloads.html</a></p>\n<p>then use this command to install :\nsudo dpkg -i <em>the file you downloaded</em></p>\n<p>then add to your PATH using <em>/etc/profile</em> file.</p>\n<p>in my case it's just worked 100% using ubuntu 20.04</p>\n<p>note: official oracle jdk free only for developments.</p>\n"},{"tags":[],"owner":{"account_id":16479661,"reputation":101,"user_id":11906736,"display_name":"D.Raluca"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658314364,"creation_date":1648547155,"answer_id":71659780,"question_id":52504825,"body_markdown":"I had problems installing open jdk on ubuntu 17.04\r\nI managed to install it using this steps:\r\n\r\n    wget https://download.java.net/java/ga/jdk11/openjdk-11_linux-x64_bin.tar.gz -O /tmp/openjdk-11+28_linux-x64_bin.tar.gz\r\n    \r\n    tar xfvz /tmp/openjdk-11+28_linux-x64_bin.tar.gz --directory /usr/lib/jvm/\r\n    \r\n    rm /etc/alternatives/java\r\n    \r\n    ln -s /usr/lib/jvm/jdk-11/bin/java /etc/alternatives/java\r\n    \r\n    java -version\r\n\r\nYou should see this:\r\n\r\n    openjdk version &quot;11&quot; 2018-09-25\r\n    OpenJDK Runtime Environment 18.9 (build 11+28)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\r\n\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<p>I had problems installing open jdk on ubuntu 17.04\nI managed to install it using this steps:</p>\n<pre><code>wget https://download.java.net/java/ga/jdk11/openjdk-11_linux-x64_bin.tar.gz -O /tmp/openjdk-11+28_linux-x64_bin.tar.gz\n\ntar xfvz /tmp/openjdk-11+28_linux-x64_bin.tar.gz --directory /usr/lib/jvm/\n\nrm /etc/alternatives/java\n\nln -s /usr/lib/jvm/jdk-11/bin/java /etc/alternatives/java\n\njava -version\n</code></pre>\n<p>You should see this:</p>\n<pre><code>openjdk version &quot;11&quot; 2018-09-25\nOpenJDK Runtime Environment 18.9 (build 11+28)\nOpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11002667,"reputation":71,"user_id":8082751,"display_name":"ishant kulshreshtha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674247053,"creation_date":1674247053,"answer_id":75189104,"question_id":52504825,"body_markdown":"Following are command to install openjdk 11 \r\n\r\n&gt; sudo apt-get install openjdk-11-jdk\r\n\r\nWe can check the version by running following command \r\n\r\n&gt; java -version\r\n\r\nFor setting the JAVA_HOME in path we can following command\r\n\r\n&gt; sudo gedit .bashrc.\r\n\r\nSet the following value in bashrc file\r\n\r\n\r\n&lt;!-- language --&gt;\r\n\r\n    export JAVA_HOME=$(dirname $(dirname $(readlink -f $(which java))))\r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nTo execute the content of bashrc file run following command \r\n\r\n&gt; source ~/.bashrc.\r\n","title":"How to install JDK 11 under Ubuntu?","body":"<p>Following are command to install openjdk 11</p>\n<blockquote>\n<p>sudo apt-get install openjdk-11-jdk</p>\n</blockquote>\n<p>We can check the version by running following command</p>\n<blockquote>\n<p>java -version</p>\n</blockquote>\n<p>For setting the JAVA_HOME in path we can following command</p>\n<blockquote>\n<p>sudo gedit .bashrc.</p>\n</blockquote>\n<p>Set the following value in bashrc file</p>\n\n<pre><code>export JAVA_HOME=$(dirname $(dirname $(readlink -f $(which java))))\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n\n<p>To execute the content of bashrc file run following command</p>\n<blockquote>\n<p>source ~/.bashrc.</p>\n</blockquote>\n"}],"owner":{"account_id":9573991,"reputation":11925,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547829,"favorite_count":0,"down_vote_count":2,"up_vote_count":263,"accepted_answer_id":52950746,"answer_count":12,"score":261,"last_activity_date":1674247053,"creation_date":1537900936,"question_id":52504825,"body_markdown":"So Java 11 [is out][1]. Does anybody know how to install it (OpenJDK from Oracle) from the command line?\r\n\r\nI would like to see something like it was before for Oracle Java 10:\r\n\r\n    sudo add-apt-repository ppa:linuxuprising/java\r\n    sudo apt-get update\r\n    sudo apt-get install oracle-java10-installer\r\n\r\nP. S. In the [similar][2] question proposed instruction:\r\n\r\n    sudo apt-get install openjdk-11-jdk\r\n\r\ndoesn&#39;t work.\r\n\r\n\r\n  [1]: https://mail.openjdk.java.net/pipermail/announce/2018-September/000257.html\r\n  [2]: https://stackoverflow.com/questions/49507160/how-to-install-jdk-10-under-ubuntu","title":"How to install JDK 11 under Ubuntu?","body":"<p>So Java 11 <a href=\"https://mail.openjdk.java.net/pipermail/announce/2018-September/000257.html\" rel=\"noreferrer\">is out</a>. Does anybody know how to install it (OpenJDK from Oracle) from the command line?</p>\n\n<p>I would like to see something like it was before for Oracle Java 10:</p>\n\n<pre><code>sudo add-apt-repository ppa:linuxuprising/java\nsudo apt-get update\nsudo apt-get install oracle-java10-installer\n</code></pre>\n\n<p>P. S. In the <a href=\"https://stackoverflow.com/questions/49507160/how-to-install-jdk-10-under-ubuntu\">similar</a> question proposed instruction:</p>\n\n<pre><code>sudo apt-get install openjdk-11-jdk\n</code></pre>\n\n<p>doesn't work.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665516089,"post_id":74032495,"comment_id":130717837,"body_markdown":"You need to reset your app (`kafka-streams-application-reset` command) if you modify the topology or its properties","body":"You need to reset your app (<code>kafka-streams-application-reset</code> command) if you modify the topology or its properties"},{"owner":{"account_id":3085402,"reputation":476,"user_id":2612656,"accept_rate":33,"display_name":"Shinta Smith"},"score":0,"creation_date":1665522057,"post_id":74032495,"comment_id":130719617,"body_markdown":"If we use `kafka-streams-application-reset` wouldn&#39;t my app starts processing the input topic from scratch (or whatever offset we reset it to)? We don&#39;t want to disturb the processing of the input topic. I.e: we don&#39;t want to reprocess from start or skip anything. We just want to enable the StateStore changelog internal topic.","body":"If we use <code>kafka-streams-application-reset</code> wouldn&#39;t my app starts processing the input topic from scratch (or whatever offset we reset it to)? We don&#39;t want to disturb the processing of the input topic. I.e: we don&#39;t want to reprocess from start or skip anything. We just want to enable the StateStore changelog internal topic."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665522187,"post_id":74032495,"comment_id":130719652,"body_markdown":"Correct. And I dont think you can do that without changing the topology of the job. In other words, your changelog topic must be created from the beginning of the original consumed topic to process all key-value pairs","body":"Correct. And I dont think you can do that without changing the topology of the job. In other words, your changelog topic must be created from the beginning of the original consumed topic to process all key-value pairs"}],"answers":[{"tags":[],"owner":{"account_id":3085402,"reputation":476,"user_id":2612656,"accept_rate":33,"display_name":"Shinta Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674246770,"creation_date":1674246770,"answer_id":75189062,"question_id":74032495,"body_markdown":"The infinite loop was caused because we were doing Blue/Green deployment. We learned that we can not do this if we are changing anything with the StateStore (configuration or disabling/re-enabling changelogs). \r\n\r\nWe just did a complete shutdown of the old version, then deployed the new version. That worked fine.\r\n\r\nAnother option would be to use the `kafka-streams-application-reset` tool as OneKricketeer suggested.","title":"Kafka Stream StateStore infinite loop","body":"<p>The infinite loop was caused because we were doing Blue/Green deployment. We learned that we can not do this if we are changing anything with the StateStore (configuration or disabling/re-enabling changelogs).</p>\n<p>We just did a complete shutdown of the old version, then deployed the new version. That worked fine.</p>\n<p>Another option would be to use the <code>kafka-streams-application-reset</code> tool as OneKricketeer suggested.</p>\n"}],"owner":{"account_id":3085402,"reputation":476,"user_id":2612656,"accept_rate":33,"display_name":"Shinta Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674246770,"creation_date":1665512386,"question_id":74032495,"body_markdown":"We have a KStream app that uses in-memory KV StateStore but with changelog disabled. \r\n```\r\n  String stateStoreName = &quot;statestore-v1&quot;;\r\n  StoreBuilder&lt;KeyValueStore&lt;String, Event&gt;&gt; keyValueStoreBuilder =\r\n      Stores.keyValueStoreBuilder(Stores.inMemoryKeyValueStore(stateStoreName), \r\n          Serdes.String(), new JsonSerde&lt;&gt;(Event.class));\r\n  keyValueStoreBuilder.withLoggingDisabled();\r\n  streamsBuilder.addStateStore(keyValueStoreBuilder);\r\n```\r\n\r\nWe now want to enable the changelog with different configuration and different name.\r\n```\r\n  String stateStoreName = &quot;statestore-v2&quot;;\r\n  StoreBuilder&lt;KeyValueStore&lt;String, Event&gt;&gt; keyValueStoreBuilder =\r\n      Stores.keyValueStoreBuilder(Stores.inMemoryKeyValueStore(stateStoreName), \r\n          Serdes.String(), new JsonSerde&lt;&gt;(Event.class));\r\n  Map&lt;String, String&gt; changelogConfig = new HashMap&lt;&gt;();\r\n  changelogConfig.put(&quot;retention.ms&quot;, &quot;43200000&quot;); // 12 hours\r\n  changelogConfig.put(&quot;cleanup.policy&quot;, &quot;delete&quot;);\r\n  changelogConfig.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\r\n  keyValueStoreBuilder.withLoggingEnabled(changelogConfig);\r\n  streamsBuilder.addStateStore(keyValueStoreBuilder);\r\n```\r\nWhen we run our application, we got into infinite loop with these messages:\r\n```\r\n2022-10-11 13:02:32.761 app=myapp INFO 54561 --- [-StreamThread-3]\r\no.a.k.s.p.i.StoreChangelogReader : stream-thread [myapp-StreamThread-3] \r\nEnd offset for changelog myapp-statestore-v2-changelog-4 cannot be found; \r\nwill retry in the next time.\r\n2022-10-11 13:02:32.761 app=myapp INFO 54561 --- [-StreamThread-3] \r\no.a.k.clients.consumer.KafkaConsumer : [Consumer clientId=myapp-StreamThread-3-restore-consumer, groupId=null] \r\nUnsubscribed all topics or patterns and assigned partitions\r\n```\r\nIt does not appear that the changelog topic is ever created... At least `kafka-topics` does not show it.\r\n\r\nI am using io.confluent packages version 7.2.2-ccs, which I think translates to Apache Kafka version 3.2.x\r\n\r\nAny ideas on how to fix the infinite loop and get the changelog topics created?\r\n\r\nThanks!","title":"Kafka Stream StateStore infinite loop","body":"<p>We have a KStream app that uses in-memory KV StateStore but with changelog disabled.</p>\n<pre><code>  String stateStoreName = &quot;statestore-v1&quot;;\n  StoreBuilder&lt;KeyValueStore&lt;String, Event&gt;&gt; keyValueStoreBuilder =\n      Stores.keyValueStoreBuilder(Stores.inMemoryKeyValueStore(stateStoreName), \n          Serdes.String(), new JsonSerde&lt;&gt;(Event.class));\n  keyValueStoreBuilder.withLoggingDisabled();\n  streamsBuilder.addStateStore(keyValueStoreBuilder);\n</code></pre>\n<p>We now want to enable the changelog with different configuration and different name.</p>\n<pre><code>  String stateStoreName = &quot;statestore-v2&quot;;\n  StoreBuilder&lt;KeyValueStore&lt;String, Event&gt;&gt; keyValueStoreBuilder =\n      Stores.keyValueStoreBuilder(Stores.inMemoryKeyValueStore(stateStoreName), \n          Serdes.String(), new JsonSerde&lt;&gt;(Event.class));\n  Map&lt;String, String&gt; changelogConfig = new HashMap&lt;&gt;();\n  changelogConfig.put(&quot;retention.ms&quot;, &quot;43200000&quot;); // 12 hours\n  changelogConfig.put(&quot;cleanup.policy&quot;, &quot;delete&quot;);\n  changelogConfig.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\n  keyValueStoreBuilder.withLoggingEnabled(changelogConfig);\n  streamsBuilder.addStateStore(keyValueStoreBuilder);\n</code></pre>\n<p>When we run our application, we got into infinite loop with these messages:</p>\n<pre><code>2022-10-11 13:02:32.761 app=myapp INFO 54561 --- [-StreamThread-3]\no.a.k.s.p.i.StoreChangelogReader : stream-thread [myapp-StreamThread-3] \nEnd offset for changelog myapp-statestore-v2-changelog-4 cannot be found; \nwill retry in the next time.\n2022-10-11 13:02:32.761 app=myapp INFO 54561 --- [-StreamThread-3] \no.a.k.clients.consumer.KafkaConsumer : [Consumer clientId=myapp-StreamThread-3-restore-consumer, groupId=null] \nUnsubscribed all topics or patterns and assigned partitions\n</code></pre>\n<p>It does not appear that the changelog topic is ever created... At least <code>kafka-topics</code> does not show it.</p>\n<p>I am using io.confluent packages version 7.2.2-ccs, which I think translates to Apache Kafka version 3.2.x</p>\n<p>Any ideas on how to fix the infinite loop and get the changelog topics created?</p>\n<p>Thanks!</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1674190807,"post_id":75176093,"comment_id":132665401,"body_markdown":"Please read this https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/CreatePortableCollection.java?view=markup","body":"Please read this <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/CreatePortableCollection.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1270055,"reputation":31,"user_id":1226585,"accept_rate":25,"display_name":"Carroll"},"score":0,"creation_date":1674242689,"post_id":75176093,"comment_id":132680745,"body_markdown":"I followed the code and the PDF portfolio is created and opens in Adobe with the list of embedded files.  However, it opens to the page that reads &quot;Example of a portable collection&quot;.  Is there a way for to open the first embedded file when opening the PDF?  Thanks.","body":"I followed the code and the PDF portfolio is created and opens in Adobe with the list of embedded files.  However, it opens to the page that reads &quot;Example of a portable collection&quot;.  Is there a way for to open the first embedded file when opening the PDF?  Thanks."}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674246474,"creation_date":1674246474,"answer_id":75189029,"question_id":75176093,"body_markdown":"What somewhat worked for me (it positioned to this file, as if I had clicked on it in the list) is this:\r\n\r\n    collectionDictionary.setString(COSName.D, &quot;Attachment 1&quot;);\r\n\r\nwhere &quot;Attachment 1&quot; is the name used in the name tree in [this example][1].\r\n\r\n  [1]: https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/CreatePortableCollection.java?view=markup","title":"PDFBox - Setting Cover Sheet for PDF Portfolio","body":"<p>What somewhat worked for me (it positioned to this file, as if I had clicked on it in the list) is this:</p>\n<pre><code>collectionDictionary.setString(COSName.D, &quot;Attachment 1&quot;);\n</code></pre>\n<p>where &quot;Attachment 1&quot; is the name used in the name tree in <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/CreatePortableCollection.java?view=markup\" rel=\"nofollow noreferrer\">this example</a>.</p>\n"}],"owner":{"account_id":1270055,"reputation":31,"user_id":1226585,"accept_rate":25,"display_name":"Carroll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75189029,"answer_count":1,"score":0,"last_activity_date":1674246474,"creation_date":1674149338,"question_id":75176093,"body_markdown":"I am creating a PDF portfolio from scratch using PDFBox 2.0.16.  I create the PDF and add attachments.  Once the attachments are added, I then create the PDF Portfolio.  The following is the code to create the PDF Portfolio/Package.\r\n\r\n```\r\nCOSDictionary collectionDictionary = new COSDictionary();\r\ncollectionDictionary.setName( COSName.TYPE, &quot;Collection&quot; );\r\ncollectionDictionary.setName( &quot;PDF Filename&quot;, &quot;T&quot; );\r\nPDDocumentCatalog catalog = pdfDoc.getDocumentCatalog();\r\ncatalog.getCOSObject().setItem( &quot;Collection&quot;, collectionDictionary );\r\npdfDoc.save( pdfFile );\r\n```\r\n\r\nWhen I open the PDF, the Cover Sheet is a blank page.  I would like the Cover Sheet to be the first attachment in the PDF Portfolio/Package so that when a user opens the PDF, the 1st attachment in the portfolio is viewed.","title":"PDFBox - Setting Cover Sheet for PDF Portfolio","body":"<p>I am creating a PDF portfolio from scratch using PDFBox 2.0.16.  I create the PDF and add attachments.  Once the attachments are added, I then create the PDF Portfolio.  The following is the code to create the PDF Portfolio/Package.</p>\n<pre><code>COSDictionary collectionDictionary = new COSDictionary();\ncollectionDictionary.setName( COSName.TYPE, &quot;Collection&quot; );\ncollectionDictionary.setName( &quot;PDF Filename&quot;, &quot;T&quot; );\nPDDocumentCatalog catalog = pdfDoc.getDocumentCatalog();\ncatalog.getCOSObject().setItem( &quot;Collection&quot;, collectionDictionary );\npdfDoc.save( pdfFile );\n</code></pre>\n<p>When I open the PDF, the Cover Sheet is a blank page.  I would like the Cover Sheet to be the first attachment in the PDF Portfolio/Package so that when a user opens the PDF, the 1st attachment in the portfolio is viewed.</p>\n"},{"tags":["java","spring","spring-boot","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":5388081,"reputation":341,"user_id":4291412,"accept_rate":33,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643814971,"creation_date":1643814971,"answer_id":70958142,"question_id":70906973,"body_markdown":"I managed to execute the command using following parameters\r\n\r\n`mvn archetype:generate -DarchetypeGroupId=com.mycompany -DarchetypeArtifactId=myApp-template-archetype -DarchetypeVersion=1.0.0-SNAPSHOT -Ddomain=&quot;archetypeDomain&quot; -DinteractiveMode=false`\r\n\r\nBy running the above command, I managed to took get it worked. ","title":"Execute mvn archetype:generate with User Input from Java Code","body":"<p>I managed to execute the command using following parameters</p>\n<p><code>mvn archetype:generate -DarchetypeGroupId=com.mycompany -DarchetypeArtifactId=myApp-template-archetype -DarchetypeVersion=1.0.0-SNAPSHOT -Ddomain=&quot;archetypeDomain&quot; -DinteractiveMode=false</code></p>\n<p>By running the above command, I managed to took get it worked.</p>\n"}],"owner":{"account_id":5388081,"reputation":341,"user_id":4291412,"accept_rate":33,"display_name":"Ashish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70958142,"answer_count":1,"score":1,"last_activity_date":1674246175,"creation_date":1643470309,"question_id":70906973,"body_markdown":"I am creating a project from a custom archetype in Spring Boot\r\nHere are the steps\r\n\r\n 1. Created a Template Project\r\n 2. Executed `mvn archetype:create-from-project -Darchetype.properties=../myCustom.properties` command from Java Code and created a custom archetype from template\r\n 3. Installed custom archetype into Local maven Repo.\r\n      `cd target\\generated-sources\\archetype` \r\n      `mvn clean install`\r\n\r\n 4. Create project from Custom Archetype  (This is the problem area)\r\n`mvn archetype:generate -DarchetypeGroupId=com.mycompany -DarchetypeArtifactId=myApp-template-archetype -DarchetypeVersion=1.0.0-SNAPSHOT -Ddomain=&quot;archetypeDomain&quot;`\r\n\r\nSo till point 3, I am able to execute commands from Java Project.\r\n\r\nThe maven command in #4., Java Code remains stuck and does not prompt user input. However, we execute the same command (`mvn archetype:generate` ) from Command Prompt, it asks user input (which is expected and desired).\r\n\r\nNow, I am not getting any idea on why the Java application does not prompt for user input but in command prompt it does.\r\n\r\nThanks in Advance.. !","title":"Execute mvn archetype:generate with User Input from Java Code","body":"<p>I am creating a project from a custom archetype in Spring Boot\nHere are the steps</p>\n<ol>\n<li><p>Created a Template Project</p>\n</li>\n<li><p>Executed <code>mvn archetype:create-from-project -Darchetype.properties=../myCustom.properties</code> command from Java Code and created a custom archetype from template</p>\n</li>\n<li><p>Installed custom archetype into Local maven Repo.\n<code>cd target\\generated-sources\\archetype</code>\n<code>mvn clean install</code></p>\n</li>\n<li><p>Create project from Custom Archetype  (This is the problem area)\n<code>mvn archetype:generate -DarchetypeGroupId=com.mycompany -DarchetypeArtifactId=myApp-template-archetype -DarchetypeVersion=1.0.0-SNAPSHOT -Ddomain=&quot;archetypeDomain&quot;</code></p>\n</li>\n</ol>\n<p>So till point 3, I am able to execute commands from Java Project.</p>\n<p>The maven command in #4., Java Code remains stuck and does not prompt user input. However, we execute the same command (<code>mvn archetype:generate</code> ) from Command Prompt, it asks user input (which is expected and desired).</p>\n<p>Now, I am not getting any idea on why the Java application does not prompt for user input but in command prompt it does.</p>\n<p>Thanks in Advance.. !</p>\n"},{"tags":["java","spring","oauth-2.0","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674244898,"creation_date":1674239616,"answer_id":75188104,"question_id":75187811,"body_markdown":"Just as when you don&#39;t use any other spring-boot module: you write by yourself what is auto-configured by spring-boot.\r\n\r\nRefer to spring-boot documentation to figure out what beans are auto-configured in the case of the accepted answer to the question you linked (or to spring-security documentation to setup a resource-server with JWT decoder and custom authentication converter for roles mapping).","title":"Migrate from KeycloakWebSecurityConfigurerAdapter to Spring Security 6","body":"<p>Just as when you don't use any other spring-boot module: you write by yourself what is auto-configured by spring-boot.</p>\n<p>Refer to spring-boot documentation to figure out what beans are auto-configured in the case of the accepted answer to the question you linked (or to spring-security documentation to setup a resource-server with JWT decoder and custom authentication converter for roles mapping).</p>\n"}],"owner":{"account_id":27582741,"reputation":11,"user_id":21051585,"display_name":"Julian Zenker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674244898,"creation_date":1674237704,"question_id":75187811,"body_markdown":"I&#39;m migrating a project from Spring 5.x to Spring 6 that previously used the KeycloakWebSecurityConfigurerAdapter which is now [no longer supported](https://www.keycloak.org/2022/02/adapter-deprecation). I&#39;ve searched the internet and found that I need to migrate to Spring Security&#39;s OAuth2 solutions instead of using the adapter. I&#39;ve also found a [different post](https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3) that tackles this question in the context of Spring Boot.\r\n\r\nI don&#39;t have Spring Boot though, only Spring. I haven&#39;t found anything regarding the migration from the adapter to Spring Security without Spring Boot. How do I do it?","title":"Migrate from KeycloakWebSecurityConfigurerAdapter to Spring Security 6","body":"<p>I'm migrating a project from Spring 5.x to Spring 6 that previously used the KeycloakWebSecurityConfigurerAdapter which is now <a href=\"https://www.keycloak.org/2022/02/adapter-deprecation\" rel=\"nofollow noreferrer\">no longer supported</a>. I've searched the internet and found that I need to migrate to Spring Security's OAuth2 solutions instead of using the adapter. I've also found a <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\">different post</a> that tackles this question in the context of Spring Boot.</p>\n<p>I don't have Spring Boot though, only Spring. I haven't found anything regarding the migration from the adapter to Spring Security without Spring Boot. How do I do it?</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1517221191,"post_id":41876037,"comment_id":83991060,"body_markdown":"Which spring boot version is that?","body":"Which spring boot version is that?"},{"owner":{"account_id":9150637,"reputation":788,"user_id":6805336,"display_name":"Dave"},"score":0,"creation_date":1517315096,"post_id":41876037,"comment_id":84037288,"body_markdown":"This was with 1.5.6","body":"This was with 1.5.6"},{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":1,"creation_date":1526643754,"post_id":41876037,"comment_id":87836389,"body_markdown":"&#39;date-format&#39; is only for java.util.Date objects.","body":"&#39;date-format&#39; is only for java.util.Date objects."},{"owner":{"account_id":1897366,"reputation":1346,"user_id":1714013,"display_name":"karl li"},"score":0,"creation_date":1551833087,"post_id":41876037,"comment_id":96782208,"body_markdown":"In Spring Boot, &quot;spring.jackson.date-format&quot; in global config (application.properties) is only for java.util.Date, and not for any java.time.* object. For more detail, refer to https://github.com/spring-projects/spring-boot/issues/9004","body":"In Spring Boot, &quot;spring.jackson.date-format&quot; in global config (application.properties) is only for java.util.Date, and not for any java.time.* object. For more detail, refer to <a href=\"https://github.com/spring-projects/spring-boot/issues/9004\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/9004</a>"}],"answers":[{"tags":[],"owner":{"account_id":9150637,"reputation":788,"user_id":6805336,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1485517481,"creation_date":1485517481,"answer_id":41893238,"question_id":41876037,"body_markdown":"So I&#39;ve managed to figure out a solution, but if you have an alternative please post it.\r\n\r\nI ended up creating a new primary `ObjectMapper` bean, and registering a new module with a custom serializer for `OffsetDateTime`. I&#39;m able to set my own date format in here, using `java.time.format.DateTimeFormatter`. I also had to register the `JavaTimeModule` with my mapper.\r\n\r\n    @Configuration\r\n    public class JacksonOffsetDateTimeMapper{\r\n    \r\n        @Primary\r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n            SimpleModule simpleModule = new SimpleModule();\r\n            simpleModule.addSerializer(OffsetDateTime.class, new JsonSerializer&lt;OffsetDateTime&gt;() {\r\n                @Override\r\n                public void serialize(OffsetDateTime offsetDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\r\n                    jsonGenerator.writeString(DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(offsetDateTime));\r\n                }\r\n            });\r\n            objectMapper.registerModule(simpleModule);\r\n    \r\n            return objectMapper;\r\n        }\r\n        \r\n    }","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>So I've managed to figure out a solution, but if you have an alternative please post it.</p>\n\n<p>I ended up creating a new primary <code>ObjectMapper</code> bean, and registering a new module with a custom serializer for <code>OffsetDateTime</code>. I'm able to set my own date format in here, using <code>java.time.format.DateTimeFormatter</code>. I also had to register the <code>JavaTimeModule</code> with my mapper.</p>\n\n<pre><code>@Configuration\npublic class JacksonOffsetDateTimeMapper{\n\n    @Primary\n    @Bean\n    public ObjectMapper objectMapper() {\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        SimpleModule simpleModule = new SimpleModule();\n        simpleModule.addSerializer(OffsetDateTime.class, new JsonSerializer&lt;OffsetDateTime&gt;() {\n            @Override\n            public void serialize(OffsetDateTime offsetDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException, JsonProcessingException {\n                jsonGenerator.writeString(DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(offsetDateTime));\n            }\n        });\n        objectMapper.registerModule(simpleModule);\n\n        return objectMapper;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4028171,"reputation":966,"user_id":3315474,"display_name":"Konstantin Pavlov"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1500232776,"creation_date":1500232776,"answer_id":45132464,"question_id":41876037,"body_markdown":"1. Add jackson-datatype-jsr310 to your dependencies\r\n2. Add to application.properties:\r\n\r\n        spring.jackson.serialization.write-dates-as-timestamps=false\r\n\r\nYou will get:\r\n\r\n    &quot;lastUpdated&quot;: &quot;2017-07-16T19:17:57.689Z&quot;","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<ol>\n<li>Add jackson-datatype-jsr310 to your dependencies</li>\n<li><p>Add to application.properties:</p>\n\n<pre><code>spring.jackson.serialization.write-dates-as-timestamps=false\n</code></pre></li>\n</ol>\n\n<p>You will get:</p>\n\n<pre><code>\"lastUpdated\": \"2017-07-16T19:17:57.689Z\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1535454354,"creation_date":1535454354,"answer_id":52056372,"question_id":41876037,"body_markdown":"Have you tried put `@JsonFormat(pattern=&quot;dd/MM/yyyy HH:mm:ss Z&quot;)` before your field?\r\n\r\n\r\n    @JsonProperty(&quot;timestamp&quot;)\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;)\r\n    private OffsetDateTime timestamp;\r\n\r\nI guess you will get:\r\n\r\n    2017-01-30&#39;T&#39;16:55","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>Have you tried put <code>@JsonFormat(pattern=\"dd/MM/yyyy HH:mm:ss Z\")</code> before your field?</p>\n\n<pre><code>@JsonProperty(\"timestamp\")\n@JsonFormat(pattern=\"yyyy-MM-dd'T'HH:mm\")\nprivate OffsetDateTime timestamp;\n</code></pre>\n\n<p>I guess you will get:</p>\n\n<pre><code>2017-01-30'T'16:55\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868209,"reputation":3106,"user_id":2462052,"accept_rate":65,"display_name":"danny"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1567475871,"creation_date":1567475871,"answer_id":57764178,"question_id":41876037,"body_markdown":"The spring property doesn&#39;t work for me as well. Setting the property to `ObjectMapper` works for me though.\r\n\r\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>The spring property doesn't work for me as well. Setting the property to <code>ObjectMapper</code> works for me though.</p>\n\n<pre><code>objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2769094,"reputation":2205,"user_id":2384066,"display_name":"LeslieM"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588251718,"creation_date":1588247937,"answer_id":61522868,"question_id":41876037,"body_markdown":"Adding a dependency on jackson-modules-java8 worked for me (jackson-datatype-jsr310 is deprecated)\r\n\r\n    &lt;!-- deserialize Java 8 date time types e.g OffsetDateTime --&gt; \r\n    &lt;dependency&gt; \r\n      &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-modules-java8&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI also needed to add this for it to work: \r\n\r\n     om.registerModule(new JavaTimeModule());\r\n\r\nNo need for the write-dates-as-timestamps=false or om.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS) - that is applicable for Java &quot;Date&quot; object.\r\n\r\nI used this annotation:\r\n\r\n     @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;)  \r\n\r\nand get output like this:\r\n\r\n**&quot;timestamp&quot;:&quot;2020-04-23T08:00:00.000-06:00&quot;**\r\n\r\n","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>Adding a dependency on jackson-modules-java8 worked for me (jackson-datatype-jsr310 is deprecated)</p>\n\n<pre><code>&lt;!-- deserialize Java 8 date time types e.g OffsetDateTime --&gt; \n&lt;dependency&gt; \n  &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-modules-java8&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I also needed to add this for it to work: </p>\n\n<pre><code> om.registerModule(new JavaTimeModule());\n</code></pre>\n\n<p>No need for the write-dates-as-timestamps=false or om.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS) - that is applicable for Java \"Date\" object.</p>\n\n<p>I used this annotation:</p>\n\n<pre><code> @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\")  \n</code></pre>\n\n<p>and get output like this:</p>\n\n<p><strong>\"timestamp\":\"2020-04-23T08:00:00.000-06:00\"</strong></p>\n"},{"tags":[],"owner":{"account_id":16675161,"reputation":788,"user_id":12051755,"display_name":"Utku A."},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1596625448,"creation_date":1596625448,"answer_id":63263812,"question_id":41876037,"body_markdown":"    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n\r\nBy doing that, you can get OffsetDateTime properties as ISO 8601 including offset in your target.","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n</code></pre>\n<p>By doing that, you can get OffsetDateTime properties as ISO 8601 including offset in your target.</p>\n"},{"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674244825,"creation_date":1674244825,"answer_id":75188842,"question_id":41876037,"body_markdown":"Removing `@EnableWebMvc` and just inheriting from `WebMvcConfigurerAdapter` helped me not to overwrite the ObjectMapper config, so that the configuration properties specified in the `application.yml` are applied.","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>Removing <code>@EnableWebMvc</code> and just inheriting from <code>WebMvcConfigurerAdapter</code> helped me not to overwrite the ObjectMapper config, so that the configuration properties specified in the <code>application.yml</code> are applied.</p>\n"}],"owner":{"account_id":9150637,"reputation":788,"user_id":6805336,"display_name":"Dave"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82228,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":41893238,"answer_count":7,"score":38,"last_activity_date":1674244825,"creation_date":1485441876,"question_id":41876037,"body_markdown":"I&#39;m trying to output an OffsetDateTime from my Spring application, and have in my application.properties these properties:\r\n\r\n    spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false\r\n    spring.jackson.date-format=yyyy-MM-dd&#39;T&#39;HH:mm\r\n\r\nHowever when the date is returned it is formatted as \r\n\r\n    &quot;2017-01-30T16:55:00Z&quot;\r\n\r\nHow should I correctly configure the format for the date in my Spring application?\r\n\r\n\r\n\r\n","title":"Jackson date-format for OffsetDateTime in Spring Boot","body":"<p>I'm trying to output an OffsetDateTime from my Spring application, and have in my application.properties these properties:</p>\n\n<pre><code>spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false\nspring.jackson.date-format=yyyy-MM-dd'T'HH:mm\n</code></pre>\n\n<p>However when the date is returned it is formatted as </p>\n\n<pre><code>\"2017-01-30T16:55:00Z\"\n</code></pre>\n\n<p>How should I correctly configure the format for the date in my Spring application?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","apache-axis","codegen"],"owner":{"account_id":8742400,"reputation":35,"user_id":6539041,"display_name":"Vescoci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674244651,"creation_date":1674244603,"question_id":75188813,"body_markdown":"I have been attempting to set up Axis2 within Eclipse and have come across an error when trying to generate client code using the Web Service Client wizard in Eclipse by going to New -&gt; Web Services -&gt; Web Service Client. \r\n\r\nMy current setup is:\r\n\r\n- Eclipse 2021-12 (4.22.0)\r\n- Tomcat 9.0.55\r\n- Axis2 1.8.2\r\n- Java 17 (I have swapped to older versions during testing but that hasn&#39;t shown any changes)\r\n\r\n\r\nI have followed the steps outlined by the Apache Foundation and Eclipse. \r\n\r\n- [Code Generator Wizard Guide for Eclipse Plug-in](https://axis.apache.org/axis2/java/core/tools/eclipse/wsdl2java-plugin.html)\r\n- [Eclipse plugin installation](https://axis.apache.org/axis2/java/core/tools/eclipse/plugin-installation.html)\r\n- [Eclipse WTP Tutorials - Creating Bottom Up Web Service via Apache Axis2](https://www.eclipse.org/webtools/community/tutorials/BottomUpAxis2WebService/bu_tutorial.html)\r\n\r\nAfter following the steps outlined in the Eclipse plugin installation, I am unable to find the Axis2 Code Generator Wizards displayed in the Code Generator Wizard Guide for Eclipse Plug-in. I went along with the debugging steps suggested as well which results in the following error:\r\n\r\n```\r\norg.osgi.framework.BundleException: Could not resolve module: org.apache.axis2.eclipse.codegen.plugin [1372] Unresolved requirement: Import-Package: com.google.appengine.api\r\n```\r\n\r\nI had assumed the issue was related to a missing package installation for my Eclipse version. I went to install Google Cloud Tools for Eclipse however this did not fix the issue. \r\n\r\nI searched for a while but could not find a solution to this problem and instead found the Eclipse WTP Tutorials - Creating Bottom Up Web Service via Apache Axis2 guide. Following along was going well as I was able to connect Axis2 with Eclipse, create a new project, generate a WSDL from the Java code, deploy the service to an installed Tomcat Server and view the service through localhost. \r\n\r\nThe next issue came as I attempted to generate a Web Service Client from the produced WSDL web page. I first came across an issue with a missing XmlSchemaForm which I resolved by adding the dependency to my pom.xml file. \r\n\r\nThe current problem I have is when attempting to generate a Web Service Client, the following error is produced: \r\n\r\n```\r\nException occurred during code generation for WSDL  : null\r\n    java.lang.NoSuchMethodException: org.apache.axis2.wsdl.codegen.CodeGenConfiguration.&lt;init&gt;(java.util.Map)\r\n    at java.base/java.lang.Class.getConstructor0(Class.java:3585)\r\n    at java.base/java.lang.Class.getConstructor(Class.java:2271)\r\n    at org.eclipse.jst.ws.axis2.consumption.core.command.Axis2ClientCodegenCommand.execute(Axis2ClientCodegenCommand.java:157)\r\n```\r\n\r\nAs shown, it looks like the missing Code Gen plugin could be the cause. I have included the maven dependencies in my pom.xml:\r\n\r\nEDIT: The initial post was not letting me submit the pom.\r\n\r\npom.xml\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-codegen --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-codegen&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-java2wsdl --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-java2wsdl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/animal-sniffer-annotations --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;animal-sniffer-annotations&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.14&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/maven-shared --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-shared&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-xmlbeans-codegen --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-xmlbeans-codegen&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.ws.xmlschema/xmlschema-core --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.ws.xmlschema&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;xmlschema-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.19.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.8.6&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/com.google.appengine/appengine-api-1.0-sdk --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-kernel --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-kernel&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb-codegen --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;axis2-adb-codegen&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n","title":"Axis2 Web service client Code Generation error when generating client code from WSDL","body":"<p>I have been attempting to set up Axis2 within Eclipse and have come across an error when trying to generate client code using the Web Service Client wizard in Eclipse by going to New -&gt; Web Services -&gt; Web Service Client.</p>\n<p>My current setup is:</p>\n<ul>\n<li>Eclipse 2021-12 (4.22.0)</li>\n<li>Tomcat 9.0.55</li>\n<li>Axis2 1.8.2</li>\n<li>Java 17 (I have swapped to older versions during testing but that hasn't shown any changes)</li>\n</ul>\n<p>I have followed the steps outlined by the Apache Foundation and Eclipse.</p>\n<ul>\n<li><a href=\"https://axis.apache.org/axis2/java/core/tools/eclipse/wsdl2java-plugin.html\" rel=\"nofollow noreferrer\">Code Generator Wizard Guide for Eclipse Plug-in</a></li>\n<li><a href=\"https://axis.apache.org/axis2/java/core/tools/eclipse/plugin-installation.html\" rel=\"nofollow noreferrer\">Eclipse plugin installation</a></li>\n<li><a href=\"https://www.eclipse.org/webtools/community/tutorials/BottomUpAxis2WebService/bu_tutorial.html\" rel=\"nofollow noreferrer\">Eclipse WTP Tutorials - Creating Bottom Up Web Service via Apache Axis2</a></li>\n</ul>\n<p>After following the steps outlined in the Eclipse plugin installation, I am unable to find the Axis2 Code Generator Wizards displayed in the Code Generator Wizard Guide for Eclipse Plug-in. I went along with the debugging steps suggested as well which results in the following error:</p>\n<pre><code>org.osgi.framework.BundleException: Could not resolve module: org.apache.axis2.eclipse.codegen.plugin [1372] Unresolved requirement: Import-Package: com.google.appengine.api\n</code></pre>\n<p>I had assumed the issue was related to a missing package installation for my Eclipse version. I went to install Google Cloud Tools for Eclipse however this did not fix the issue.</p>\n<p>I searched for a while but could not find a solution to this problem and instead found the Eclipse WTP Tutorials - Creating Bottom Up Web Service via Apache Axis2 guide. Following along was going well as I was able to connect Axis2 with Eclipse, create a new project, generate a WSDL from the Java code, deploy the service to an installed Tomcat Server and view the service through localhost.</p>\n<p>The next issue came as I attempted to generate a Web Service Client from the produced WSDL web page. I first came across an issue with a missing XmlSchemaForm which I resolved by adding the dependency to my pom.xml file.</p>\n<p>The current problem I have is when attempting to generate a Web Service Client, the following error is produced:</p>\n<pre><code>Exception occurred during code generation for WSDL  : null\n    java.lang.NoSuchMethodException: org.apache.axis2.wsdl.codegen.CodeGenConfiguration.&lt;init&gt;(java.util.Map)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3585)\n    at java.base/java.lang.Class.getConstructor(Class.java:2271)\n    at org.eclipse.jst.ws.axis2.consumption.core.command.Axis2ClientCodegenCommand.execute(Axis2ClientCodegenCommand.java:157)\n</code></pre>\n<p>As shown, it looks like the missing Code Gen plugin could be the cause. I have included the maven dependencies in my pom.xml:</p>\n<p>EDIT: The initial post was not letting me submit the pom.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-codegen --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-codegen&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-java2wsdl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-java2wsdl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/animal-sniffer-annotations --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;animal-sniffer-annotations&lt;/artifactId&gt;\n        &lt;version&gt;1.14&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/maven-shared --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shared&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-xmlbeans-codegen --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-xmlbeans-codegen&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.ws.xmlschema/xmlschema-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ws.xmlschema&lt;/groupId&gt;\n        &lt;artifactId&gt;xmlschema-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n        &lt;version&gt;3.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.appengine/appengine-api-1.0-sdk --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n        &lt;version&gt;2.0.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-kernel --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-kernel&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-adb&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb-codegen --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.axis2&lt;/groupId&gt;\n        &lt;artifactId&gt;axis2-adb-codegen&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","colors"],"comments":[{"owner":{"account_id":154200,"reputation":1377,"user_id":369957,"accept_rate":89,"display_name":"SRM"},"score":1,"creation_date":1292033957,"post_id":4414673,"comment_id":4815319,"body_markdown":"Have you considered converting to YUV and comparing luminance values?","body":"Have you considered converting to YUV and comparing luminance values?"},{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1292038176,"post_id":4414673,"comment_id":4815582,"body_markdown":"yes, I edited it to the question... it&#39;s the same problem there","body":"yes, I edited it to the question... it&#39;s the same problem there"}],"answers":[{"tags":[],"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1292039684,"creation_date":1292039684,"answer_id":4415113,"question_id":4414673,"body_markdown":"Ok, after 2 hours of converting to yuv, hsv, etc pp... I give up. I now do it just like this:\r\n\r\n\tpublic class ColorUtils {\r\n\t\tprivate static int FIRST_COLOR = Color.GREEN;\r\n\t\tprivate static int SECOND_COLOR = Color.YELLOW;\r\n\t\tprivate static int THIRD_COLOR = Color.RED;\r\n\t\r\n\t\tpublic static int getColor(float p) {\r\n\t\t\tint c0;\r\n\t\t\tint c1;\r\n\t\t\tif (p &lt;= 0.5f) {\r\n\t\t\t\tp *= 2;\r\n\t\t\t\tc0 = FIRST_COLOR;\r\n\t\t\t\tc1 = SECOND_COLOR;\r\n\t\t\t} else {\r\n\t\t\t\tp = (p - 0.5f) * 2;\r\n\t\t\t\tc0 = SECOND_COLOR;\r\n\t\t\t\tc1 = THIRD_COLOR;\r\n\t\t\t}\r\n\t\t\tint a = ave(Color.alpha(c0), Color.alpha(c1), p);\r\n\t\t\tint r = ave(Color.red(c0), Color.red(c1), p);\r\n\t\t\tint g = ave(Color.green(c0), Color.green(c1), p);\r\n\t\t\tint b = ave(Color.blue(c0), Color.blue(c1), p);\r\n\t\t\treturn Color.argb(a, r, g, b);\r\n\t\t}\r\n\t\r\n\t\tprivate static int ave(int src, int dst, float p) {\r\n\t\t\treturn src + java.lang.Math.round(p * (dst - src));\r\n\t\t}\r\n\t}\r\n\r\nBy explicity using yellow as the middle color, the generated colors are brighter :-)\r\n\r\nAnyway.. if someone has a good other solution, I would appreciate it.","title":"android color between two colors, based on percentage?","body":"<p>Ok, after 2 hours of converting to yuv, hsv, etc pp... I give up. I now do it just like this:</p>\n\n<pre><code>public class ColorUtils {\n    private static int FIRST_COLOR = Color.GREEN;\n    private static int SECOND_COLOR = Color.YELLOW;\n    private static int THIRD_COLOR = Color.RED;\n\n    public static int getColor(float p) {\n        int c0;\n        int c1;\n        if (p &lt;= 0.5f) {\n            p *= 2;\n            c0 = FIRST_COLOR;\n            c1 = SECOND_COLOR;\n        } else {\n            p = (p - 0.5f) * 2;\n            c0 = SECOND_COLOR;\n            c1 = THIRD_COLOR;\n        }\n        int a = ave(Color.alpha(c0), Color.alpha(c1), p);\n        int r = ave(Color.red(c0), Color.red(c1), p);\n        int g = ave(Color.green(c0), Color.green(c1), p);\n        int b = ave(Color.blue(c0), Color.blue(c1), p);\n        return Color.argb(a, r, g, b);\n    }\n\n    private static int ave(int src, int dst, float p) {\n        return src + java.lang.Math.round(p * (dst - src));\n    }\n}\n</code></pre>\n\n<p>By explicity using yellow as the middle color, the generated colors are brighter :-)</p>\n\n<p>Anyway.. if someone has a good other solution, I would appreciate it.</p>\n"},{"tags":[],"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1292061722,"creation_date":1292060945,"answer_id":4416122,"question_id":4414673,"body_markdown":"Interpolation like this is best done in [HSL or HSV][1] color spaces (and not YUV).\r\n\r\nThe reason the mid range colours look &quot;muddy&quot; is because if you simply linearly ramp up the red (`#ff0000`) at the same time as ramping down green (`#00ff00`) the middle colour ends up as `#808000` instead of `#ffff00`.\r\n\r\nInstead, find the HSL (or HSV) equivalent of your starting colour, and the same for the end colour.  Interpolate in _that_ colour space, and then for each point convert back to RGB again.\r\n\r\nSince the `S` and `L` (or `V`) values are the same for fully saturated red and green, only the `H` (hue) variable will change, giving the proper effect of a _spectrum_ of colour. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/HLS_color_space","title":"android color between two colors, based on percentage?","body":"<p>Interpolation like this is best done in <a href=\"http://en.wikipedia.org/wiki/HLS_color_space\" rel=\"noreferrer\">HSL or HSV</a> color spaces (and not YUV).</p>\n\n<p>The reason the mid range colours look \"muddy\" is because if you simply linearly ramp up the red (<code>#ff0000</code>) at the same time as ramping down green (<code>#00ff00</code>) the middle colour ends up as <code>#808000</code> instead of <code>#ffff00</code>.</p>\n\n<p>Instead, find the HSL (or HSV) equivalent of your starting colour, and the same for the end colour.  Interpolate in <em>that</em> colour space, and then for each point convert back to RGB again.</p>\n\n<p>Since the <code>S</code> and <code>L</code> (or <code>V</code>) values are the same for fully saturated red and green, only the <code>H</code> (hue) variable will change, giving the proper effect of a <em>spectrum</em> of colour. </p>\n"},{"tags":[],"owner":{"account_id":589,"reputation":30817,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1319430389,"creation_date":1319430389,"answer_id":7871291,"question_id":4414673,"body_markdown":"My $0.02, I found this answer and coded up the proper solution. (Thanks to Alnitak for the HSV tip!)\r\n\r\nFor Copy+Paste:\r\n\r\n      private float interpolate(float a, float b, float proportion) {\r\n        return (a + ((b - a) * proportion));\r\n      }\r\n        \r\n      /** Returns an interpoloated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; */\r\n      private int interpolateColor(int a, int b, float proportion) {\r\n        float[] hsva = new float[3];\r\n        float[] hsvb = new float[3];\r\n        Color.colorToHSV(a, hsva);\r\n        Color.colorToHSV(b, hsvb);\r\n        for (int i = 0; i &lt; 3; i++) {\r\n          hsvb[i] = interpolate(hsva[i], hsvb[i], proportion);\r\n        }\r\n        return Color.HSVToColor(hsvb);\r\n      }","title":"android color between two colors, based on percentage?","body":"<p>My $0.02, I found this answer and coded up the proper solution. (Thanks to Alnitak for the HSV tip!)</p>\n\n<p>For Copy+Paste:</p>\n\n<pre><code>  private float interpolate(float a, float b, float proportion) {\n    return (a + ((b - a) * proportion));\n  }\n\n  /** Returns an interpoloated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; */\n  private int interpolateColor(int a, int b, float proportion) {\n    float[] hsva = new float[3];\n    float[] hsvb = new float[3];\n    Color.colorToHSV(a, hsva);\n    Color.colorToHSV(b, hsvb);\n    for (int i = 0; i &lt; 3; i++) {\n      hsvb[i] = interpolate(hsva[i], hsvb[i], proportion);\n    }\n    return Color.HSVToColor(hsvb);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1354056,"reputation":1447,"user_id":1292830,"accept_rate":40,"display_name":"Equidamoid"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1366733058,"creation_date":1366733058,"answer_id":16174119,"question_id":4414673,"body_markdown":"You can try using ArgbEvaluator class from android API: http://developer.android.com/reference/android/animation/ArgbEvaluator.html :\r\n\r\n    new ArgbEvaluator().evaluate(0.75, 0x00ff00, 0xff0000);\r\n\r\nNote that there is a bug ( http://code.google.com/p/android/issues/detail?id=36158 ) in alpha channel calculation so you should use values without alpha value.","title":"android color between two colors, based on percentage?","body":"<p>You can try using ArgbEvaluator class from android API: <a href=\"http://developer.android.com/reference/android/animation/ArgbEvaluator.html\">http://developer.android.com/reference/android/animation/ArgbEvaluator.html</a> :</p>\n\n<pre><code>new ArgbEvaluator().evaluate(0.75, 0x00ff00, 0xff0000);\n</code></pre>\n\n<p>Note that there is a bug ( <a href=\"http://code.google.com/p/android/issues/detail?id=36158\">http://code.google.com/p/android/issues/detail?id=36158</a> ) in alpha channel calculation so you should use values without alpha value.</p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460014981,"creation_date":1460014981,"answer_id":36469730,"question_id":4414673,"body_markdown":"Here are 2 ways to interpolate:\r\n\r\n\r\n\tprivate static float interpolate(final float a, final float b, final float proportion) {\r\n\t\treturn a + (b - a) * proportion;\r\n\t}\r\n\r\n\t/** Returns an interpoloated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; */\r\n\tpublic static int interpolateColorHsv(final int a, final int b, final float proportion) {\r\n\t\tfinal float[] hsva = new float[3];\r\n\t\tfinal float[] hsvb = new float[3];\r\n\t\tColor.colorToHSV(a, hsva);\r\n\t\tColor.colorToHSV(b, hsvb);\r\n\t\tfor (int i = 0; i &lt; 3; ++i) {\r\n\t\t\thsvb[i] = interpolate(hsva[i], hsvb[i], proportion);\r\n\t\t}\r\n\t\treturn Color.HSVToColor(hsvb);\r\n\t}\r\n\r\n\tpublic static int interpolateRGB(final int colorA, final int colorB, final float bAmount) {\r\n\t\tfinal float aAmount = 1.0f - bAmount;\r\n\t\tfinal int red = (int) (Color.red(colorA) * aAmount + Color.red(colorB) * bAmount);\r\n\t\tfinal int green = (int) (Color.green(colorA) * aAmount + Color.green(colorB) * bAmount);\r\n\t\tfinal int blue = (int) (Color.blue(colorA) * aAmount + Color.blue(colorB) * bAmount);\r\n\t\treturn Color.rgb(red, green, blue);\r\n\t}","title":"android color between two colors, based on percentage?","body":"<p>Here are 2 ways to interpolate:</p>\n\n<pre><code>private static float interpolate(final float a, final float b, final float proportion) {\n    return a + (b - a) * proportion;\n}\n\n/** Returns an interpoloated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; */\npublic static int interpolateColorHsv(final int a, final int b, final float proportion) {\n    final float[] hsva = new float[3];\n    final float[] hsvb = new float[3];\n    Color.colorToHSV(a, hsva);\n    Color.colorToHSV(b, hsvb);\n    for (int i = 0; i &lt; 3; ++i) {\n        hsvb[i] = interpolate(hsva[i], hsvb[i], proportion);\n    }\n    return Color.HSVToColor(hsvb);\n}\n\npublic static int interpolateRGB(final int colorA, final int colorB, final float bAmount) {\n    final float aAmount = 1.0f - bAmount;\n    final int red = (int) (Color.red(colorA) * aAmount + Color.red(colorB) * bAmount);\n    final int green = (int) (Color.green(colorA) * aAmount + Color.green(colorB) * bAmount);\n    final int blue = (int) (Color.blue(colorA) * aAmount + Color.blue(colorB) * bAmount);\n    return Color.rgb(red, green, blue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782787,"reputation":9911,"user_id":1650674,"accept_rate":92,"display_name":"tir38"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1469231742,"creation_date":1469231742,"answer_id":38536770,"question_id":4414673,"body_markdown":"I just wanted to update [Mark Renouf&#39;s answer][1] to handle alpha channel as well:\r\n\r\n\r\n    private float interpolate(float a, float b, float proportion) {\r\n        return (a + ((b - a) * proportion));\r\n    }\r\n\r\n    /**\r\n     * Returns an interpolated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;\r\n     * proportion = 0, results in color a\r\n     * proportion = 1, results in color b\r\n     */\r\n    private int interpolateColor(int a, int b, float proportion) {\r\n\r\n        if (proportion &gt; 1 || proportion &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;proportion must be [0 - 1]&quot;);\r\n        }\r\n        float[] hsva = new float[3];\r\n        float[] hsvb = new float[3];\r\n        float[] hsv_output = new float[3];\r\n\r\n        Color.colorToHSV(a, hsva);\r\n        Color.colorToHSV(b, hsvb);\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            hsv_output[i] = interpolate(hsva[i], hsvb[i], proportion);\r\n        }\r\n\r\n        int alpha_a = Color.alpha(a);\r\n        int alpha_b = Color.alpha(b);\r\n        float alpha_output = interpolate(alpha_a, alpha_b, proportion);\r\n\r\n        return Color.HSVToColor((int) alpha_output, hsv_output);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7871291/1650674","title":"android color between two colors, based on percentage?","body":"<p>I just wanted to update <a href=\"https://stackoverflow.com/a/7871291/1650674\">Mark Renouf's answer</a> to handle alpha channel as well:</p>\n\n<pre><code>private float interpolate(float a, float b, float proportion) {\n    return (a + ((b - a) * proportion));\n}\n\n/**\n * Returns an interpolated color, between &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;\n * proportion = 0, results in color a\n * proportion = 1, results in color b\n */\nprivate int interpolateColor(int a, int b, float proportion) {\n\n    if (proportion &gt; 1 || proportion &lt; 0) {\n        throw new IllegalArgumentException(\"proportion must be [0 - 1]\");\n    }\n    float[] hsva = new float[3];\n    float[] hsvb = new float[3];\n    float[] hsv_output = new float[3];\n\n    Color.colorToHSV(a, hsva);\n    Color.colorToHSV(b, hsvb);\n    for (int i = 0; i &lt; 3; i++) {\n        hsv_output[i] = interpolate(hsva[i], hsvb[i], proportion);\n    }\n\n    int alpha_a = Color.alpha(a);\n    int alpha_b = Color.alpha(b);\n    float alpha_output = interpolate(alpha_a, alpha_b, proportion);\n\n    return Color.HSVToColor((int) alpha_output, hsv_output);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9209058,"reputation":1131,"user_id":6843104,"display_name":"J.S.R - Silicornio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488479053,"creation_date":1488478707,"answer_id":42562967,"question_id":4414673,"body_markdown":"Some of solutions of this thread didn&#39;t work for me, so I create another solution. Maybe it is useful for someone.\r\n\r\n    /**\r\n     * Get the color between two given colors\r\n     * @param colorStart int color start of degradate\r\n     * @param colorEnd int color end of degradate\r\n     * @param percent int percent to apply (0 to 100)\r\n     * @return int color of degradate for given percent\r\n     */\r\n    public static int getColorOfDegradate(int colorStart, int colorEnd, int percent){\r\n        return Color.rgb(\r\n                getColorOfDegradateCalculation(Color.red(colorStart), Color.red(colorEnd), percent),\r\n                getColorOfDegradateCalculation(Color.green(colorStart), Color.green(colorEnd), percent),\r\n                getColorOfDegradateCalculation(Color.blue(colorStart), Color.blue(colorEnd), percent)\r\n        );\r\n    }\r\n\r\n    private static int getColorOfDegradateCalculation(int colorStart, int colorEnd, int percent){\r\n        return ((Math.min(colorStart, colorEnd)*(100-percent)) + (Math.max(colorStart, colorEnd)*percent)) / 100;\r\n    }","title":"android color between two colors, based on percentage?","body":"<p>Some of solutions of this thread didn't work for me, so I create another solution. Maybe it is useful for someone.</p>\n\n<pre><code>/**\n * Get the color between two given colors\n * @param colorStart int color start of degradate\n * @param colorEnd int color end of degradate\n * @param percent int percent to apply (0 to 100)\n * @return int color of degradate for given percent\n */\npublic static int getColorOfDegradate(int colorStart, int colorEnd, int percent){\n    return Color.rgb(\n            getColorOfDegradateCalculation(Color.red(colorStart), Color.red(colorEnd), percent),\n            getColorOfDegradateCalculation(Color.green(colorStart), Color.green(colorEnd), percent),\n            getColorOfDegradateCalculation(Color.blue(colorStart), Color.blue(colorEnd), percent)\n    );\n}\n\nprivate static int getColorOfDegradateCalculation(int colorStart, int colorEnd, int percent){\n    return ((Math.min(colorStart, colorEnd)*(100-percent)) + (Math.max(colorStart, colorEnd)*percent)) / 100;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2525143,"reputation":2796,"user_id":2194665,"accept_rate":40,"display_name":"mrstif"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1561472445,"creation_date":1561472445,"answer_id":56756222,"question_id":4414673,"body_markdown":"As an updated solution, you can use `ColorUtils#blendARGB` from the [Android support](https://developer.android.com/reference/android/support/v4/graphics/ColorUtils.html#blendARGB(int,%20int,%20float)) or [AndroidX](https://developer.android.com/reference/kotlin/androidx/core/graphics/ColorUtils#blendargb) APIs:\r\n\r\n    val startColor = ContextCompat.getColor(context, R.color.white)\r\n    val endColor = ContextCompat.getColor(context, R.color.yellow)\r\n    ColorUtils.blendARGB(startColor, endColor, 0.75)","title":"android color between two colors, based on percentage?","body":"<p>As an updated solution, you can use <code>ColorUtils#blendARGB</code> from the <a href=\"https://developer.android.com/reference/android/support/v4/graphics/ColorUtils.html#blendARGB(int,%20int,%20float)\" rel=\"noreferrer\">Android support</a> or <a href=\"https://developer.android.com/reference/kotlin/androidx/core/graphics/ColorUtils#blendargb\" rel=\"noreferrer\">AndroidX</a> APIs:</p>\n\n<pre><code>val startColor = ContextCompat.getColor(context, R.color.white)\nval endColor = ContextCompat.getColor(context, R.color.yellow)\nColorUtils.blendARGB(startColor, endColor, 0.75)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4094933,"reputation":3323,"user_id":3361999,"display_name":"Madhur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666553301,"creation_date":1666553301,"answer_id":74174173,"question_id":4414673,"body_markdown":"In Compose its simple you can use [lerp][1]\r\n\r\nbasically it&#39;s\r\n\r\n&gt; Linearly interpolate between start color and stop color with fraction fraction\r\n&gt; between them.\r\n\r\nfor eg.\r\n\r\n    lerp(\r\n         Color.Red,\r\n         Color.Black,\r\n         fraction // @FloatRange(from = 0.0, to = 1.0)\r\n         )\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/androidx/compose/ui/util/package-summary#lerp(kotlin.Float,kotlin.Float,kotlin.Float)","title":"android color between two colors, based on percentage?","body":"<p>In Compose its simple you can use <a href=\"https://developer.android.com/reference/kotlin/androidx/compose/ui/util/package-summary#lerp(kotlin.Float,kotlin.Float,kotlin.Float)\" rel=\"nofollow noreferrer\">lerp</a></p>\n<p>basically it's</p>\n<blockquote>\n<p>Linearly interpolate between start color and stop color with fraction fraction\nbetween them.</p>\n</blockquote>\n<p>for eg.</p>\n<pre><code>lerp(\n     Color.Red,\n     Color.Black,\n     fraction // @FloatRange(from = 0.0, to = 1.0)\n     )\n</code></pre>\n"}],"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28923,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":4415113,"answer_count":9,"score":42,"last_activity_date":1674243606,"creation_date":1292030628,"question_id":4414673,"body_markdown":"I would like to calculate the color depending on a percentage value:\r\n\r\n    float percentage = x/total;\r\n    int color;\r\n    if (percentage &gt;= 0.95) {\r\n      color = Color.GREEN;\r\n    } else if (percentage &lt;= 0.5) {\r\n      color = Color.RED;\r\n    } else {\r\n      // color = getColor(Color.Green, Color.RED, percentage);\r\n    }\r\n\r\n\r\nHow can I calculate that last thing? It would be OK if yellow appears at 50%.\r\n\r\nI tried this:\r\n\r\n\tprivate int getColor(int c0, int c1, float p) {\r\n\t\tint a = ave(Color.alpha(c0), Color.alpha(c1), p);\r\n\t\tint r = ave(Color.red(c0), Color.red(c1), p);\r\n\t\tint g = ave(Color.green(c0), Color.green(c1), p);\r\n\t\tint b = ave(Color.blue(c0), Color.blue(c1), p);\r\n\t\treturn Color.argb(a, r, g, b);\r\n\t}\r\n\tprivate int ave(int src, int dst, float p) {\r\n\t\treturn src + java.lang.Math.round(p * (dst - src));\r\n\t}\r\n\r\nWell this works, but I would like the colors at around 50% being more lightend as I use them on a grey background.. how can I accomplish that?\r\n\r\nThanks!\r\n\r\n\r\n**UPDATE**\r\nI tried to convert to YUV like it was suggested in the comments. But I still have the same problem that at 50% it&#39;s to dark.\r\nAdditional in this solution I have at &lt;5% now white as color. If I do not calculate `float y = ave(...);`, but just take `float y = c0.y` it&#39;s a little better, but at &lt;20% I have then cyan color ... I&#39;m not so much into color-formats :-/\r\nMaybe I&#39;m doing something wrong in the calculation? The constants are taken from Wikipedia\r\n\r\n\tpublic class ColorUtils {\r\n\t\r\n\t\tprivate static class Yuv {\r\n\t\t\tpublic float y;\r\n\t\t\tpublic float u;\r\n\t\t\tpublic float v;\r\n\t\r\n\t\t\tpublic Yuv(int c) {\r\n\t\t\t\tint r = Color.red(c);\r\n\t\t\t\tint g = Color.green(c);\r\n\t\t\t\tint b = Color.blue(c);\r\n\t\t\t\tthis.y = 0.299f * r + 0.587f * g + 0.114f * b;\r\n\t\t\t\tthis.u = (b - y) * 0.493f;\r\n\t\t\t\tthis.v = (r - y) * 0.877f;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static int getColor(int color0, int color1, float p) {\r\n\t\t\tYuv c0 = new Yuv(color0);\r\n\t\t\tYuv c1 = new Yuv(color1);\r\n\t\t\tfloat y = ave(c0.y, c1.y, p);\r\n\t\t\tfloat u = ave(c0.u, c1.u, p);\r\n\t\t\tfloat v = ave(c0.v, c1.v, p);\r\n\t\r\n\t\t\tint b = (int) (y + u / 0.493f);\r\n\t\t\tint r = (int) (y + v / 0.877f);\r\n\t\t\tint g = (int) (1.7f * y - 0.509f * r - 0.194f * b);\r\n\t\r\n\t\t\treturn Color.rgb(r, g, b);\r\n\t\t}\r\n\t\r\n\t\tprivate static float ave(float src, float dst, float p) {\r\n\t\t\treturn src + Math.round(p * (dst - src));\r\n\t\t}\r\n\t}","title":"android color between two colors, based on percentage?","body":"<p>I would like to calculate the color depending on a percentage value:</p>\n\n<pre><code>float percentage = x/total;\nint color;\nif (percentage &gt;= 0.95) {\n  color = Color.GREEN;\n} else if (percentage &lt;= 0.5) {\n  color = Color.RED;\n} else {\n  // color = getColor(Color.Green, Color.RED, percentage);\n}\n</code></pre>\n\n<p>How can I calculate that last thing? It would be OK if yellow appears at 50%.</p>\n\n<p>I tried this:</p>\n\n<pre><code>private int getColor(int c0, int c1, float p) {\n    int a = ave(Color.alpha(c0), Color.alpha(c1), p);\n    int r = ave(Color.red(c0), Color.red(c1), p);\n    int g = ave(Color.green(c0), Color.green(c1), p);\n    int b = ave(Color.blue(c0), Color.blue(c1), p);\n    return Color.argb(a, r, g, b);\n}\nprivate int ave(int src, int dst, float p) {\n    return src + java.lang.Math.round(p * (dst - src));\n}\n</code></pre>\n\n<p>Well this works, but I would like the colors at around 50% being more lightend as I use them on a grey background.. how can I accomplish that?</p>\n\n<p>Thanks!</p>\n\n<p><strong>UPDATE</strong>\nI tried to convert to YUV like it was suggested in the comments. But I still have the same problem that at 50% it's to dark.\nAdditional in this solution I have at &lt;5% now white as color. If I do not calculate <code>float y = ave(...);</code>, but just take <code>float y = c0.y</code> it's a little better, but at &lt;20% I have then cyan color ... I'm not so much into color-formats :-/\nMaybe I'm doing something wrong in the calculation? The constants are taken from Wikipedia</p>\n\n<pre><code>public class ColorUtils {\n\n    private static class Yuv {\n        public float y;\n        public float u;\n        public float v;\n\n        public Yuv(int c) {\n            int r = Color.red(c);\n            int g = Color.green(c);\n            int b = Color.blue(c);\n            this.y = 0.299f * r + 0.587f * g + 0.114f * b;\n            this.u = (b - y) * 0.493f;\n            this.v = (r - y) * 0.877f;\n        }\n    }\n\n    public static int getColor(int color0, int color1, float p) {\n        Yuv c0 = new Yuv(color0);\n        Yuv c1 = new Yuv(color1);\n        float y = ave(c0.y, c1.y, p);\n        float u = ave(c0.u, c1.u, p);\n        float v = ave(c0.v, c1.v, p);\n\n        int b = (int) (y + u / 0.493f);\n        int r = (int) (y + v / 0.877f);\n        int g = (int) (1.7f * y - 0.509f * r - 0.194f * b);\n\n        return Color.rgb(r, g, b);\n    }\n\n    private static float ave(float src, float dst, float p) {\n        return src + Math.round(p * (dst - src));\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","encoding","maven-3","resolver"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673945267,"post_id":75143731,"comment_id":132604137,"body_markdown":"See https://issues.apache.org/jira/browse/MRESOLVER-153","body":"See <a href=\"https://issues.apache.org/jira/browse/MRESOLVER-153\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MRESOLVER-153</a>"},{"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"score":0,"creation_date":1673949300,"post_id":75143731,"comment_id":132605480,"body_markdown":"@tgdavies It seems that I have a more recent version than the one in which the issue should have been solved.","body":"@tgdavies It seems that I have a more recent version than the one in which the issue should have been solved."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674028024,"post_id":75143731,"comment_id":132624730,"body_markdown":"Please report that issue ...with the full example project which reproduces that... also helpful would be a full pom file ... also log files etc. would be helpful...","body":"Please report that issue ...with the full example project which reproduces that... also helpful would be a full pom file ... also log files etc. would be helpful..."}],"answers":[{"tags":[],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674243262,"creation_date":1674238757,"answer_id":75187965,"question_id":75143731,"body_markdown":"I know suspect that the broken files get downloaded from Nexus when performing the Maven build anew. \r\n\r\nOn our CI they are built with a somewhat older Maven version and with multiple threads.","title":"Maven writes \\u0000 into resolver-status.properties files, failing subsequent builds","body":"<p>I know suspect that the broken files get downloaded from Nexus when performing the Maven build anew.</p>\n<p>On our CI they are built with a somewhat older Maven version and with multiple threads.</p>\n"}],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75187965,"answer_count":1,"score":1,"last_activity_date":1674243262,"creation_date":1673944645,"question_id":75143731,"body_markdown":"I am using MacOS and I am using Maven in version 3.8.7. I am using Java in 11.0.17 by Eclipse Temurin.\r\n\r\nSomehow, when building a big Maven project, Maven creates `resolver-status.properties` files that contain invalid characters:\r\n\r\n    .m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:3:\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\r\n    .m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:4:maven-metadata-willhaben-ne\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\r\n    .m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:8:maven-metadata-shibboleth-\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\r\n\r\nA subsequent Maven build is then failing with this error message:\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  6.281 s\r\n    [INFO] Finished at: 2023-01-17T09:19:29+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Malformed \\uxxxx encoding.\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\nThe error is happening when I run Maven both with one thread and with multiple threads.\r\n\r\nHow can I fix my build so that Maven no longer writes `\\u0000` in `resolver-status.properties` files?\r\n\r\n","title":"Maven writes \\u0000 into resolver-status.properties files, failing subsequent builds","body":"<p>I am using MacOS and I am using Maven in version 3.8.7. I am using Java in 11.0.17 by Eclipse Temurin.</p>\n<p>Somehow, when building a big Maven project, Maven creates <code>resolver-status.properties</code> files that contain invalid characters:</p>\n<pre><code>.m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:3:\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\n.m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:4:maven-metadata-willhaben-ne\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\n.m2/repository/some-project/1.0-SNAPSHOT/resolver-status.properties:8:maven-metadata-shibboleth-\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000=\n</code></pre>\n<p>A subsequent Maven build is then failing with this error message:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.281 s\n[INFO] Finished at: 2023-01-17T09:19:29+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Malformed \\uxxxx encoding.\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n<p>The error is happening when I run Maven both with one thread and with multiple threads.</p>\n<p>How can I fix my build so that Maven no longer writes <code>\\u0000</code> in <code>resolver-status.properties</code> files?</p>\n"},{"tags":["java","xsd","wsdl","jax-ws","jaxws-maven-plugin"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674242697,"creation_date":1674242697,"question_id":75188560,"body_markdown":"I have in my WSDL file parts like that:\r\n\r\n        &lt;operation name=&quot;PROVIDER&quot;&gt;\r\n            &lt;input message=&quot;s0:PROVIDERSoapIn&quot;/&gt;\r\n            &lt;output message=&quot;s0:PROVIDERSoapOut&quot;/&gt;\r\n        &lt;/operation&gt;\r\n\r\n        &lt;operation name=&quot;PROVIDER&quot;&gt;\r\n            &lt;soap:operation soapAction=&quot;http://someSoapAtion&quot; style=&quot;document&quot;/&gt;\r\n            &lt;input&gt;\r\n                &lt;soap:body use=&quot;literal&quot;/&gt;\r\n            &lt;/input&gt;\r\n            &lt;output&gt;\r\n                &lt;soap:body use=&quot;literal&quot;/&gt;\r\n            &lt;/output&gt;\r\n        &lt;/operation&gt;\r\n\r\nand several \r\n\r\n        &lt;s:attribute name=&quot;PROVIDER&quot; type=&quot;s:string&quot;/&gt;\r\n\r\nin several complex types.\r\n\r\nOn the other hand, I have \r\n\r\n            &lt;s:complexType name=&quot;ArrayOfProviderProvider&quot;&gt;\r\n                &lt;s:sequence&gt;\r\n                    &lt;s:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Provider&quot; nillable=&quot;true&quot; type=&quot;s0:Provider&quot;/&gt;\r\n                &lt;/s:sequence&gt;\r\n            &lt;/s:complexType&gt;\r\n            &lt;s:complexType name=&quot;Provider&quot;&gt;\r\n                &lt;s:attribute name=&quot;SYSCODE&quot; use=&quot;required&quot;&gt;\r\n                    &lt;s:simpleType&gt;\r\n                        &lt;s:restriction base=&quot;s:string&quot;&gt;\r\n                            &lt;s:maxLength value=&quot;25&quot;/&gt;\r\n                        &lt;/s:restriction&gt;\r\n                    &lt;/s:simpleType&gt;\r\n                &lt;/s:attribute&gt;\r\n             ....\r\n\r\nOn generation by `jaxws-maven-plugin` configured as \r\n\r\n            &lt;plugin&gt;\r\n                &lt;!--https://github.com/mojohaus/jaxws-maven-plugin/issues/54--&gt;\r\n                &lt;groupId&gt;com.helger.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;vmArgs&gt;\r\n                        &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\r\n                    &lt;/vmArgs&gt;\r\n                    &lt;args&gt;\r\n                        &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\r\n                    &lt;/args&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;wsdlFiles&gt;\r\n                        &lt;wsdlFile&gt;${project.basedir}/src/main/resources/META-INF/wsdl/our.wsdl.xml&lt;/wsdlFile&gt;\r\n                    &lt;/wsdlFiles&gt;\r\n                    &lt;packageName&gt;com.openpayment.client.kamp&lt;/packageName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nI&#39;m getting the below errors of conflicts between those 2 namings:\r\n\r\n    [INFO] jaxws:wsimport args: [-keep, -s, &#39;ourpathtotarget\\target\\generated-sources\\wsimport&#39;, -d, &#39;ourpathtotarget\\target\\classes&#39;, -verbose, -encoding, UTF-8, -Xnocompile, \r\n    -B-XautoNameResolution, -p, com.openpayment.client.kamp,  &quot;file:/ourpath/src/main/resources/META-INF/wsdl/our.wsdl.xml&quot;]\r\n    parsing WSDL...\r\n    \r\n    \r\n    [ERROR] A class/interface with the same name &quot;com.openpayment.client.kamp.PROVIDER&quot; is already in use. Use a class customization to resolve this conflict.\r\n      line 2639 of file:ourpathtosrc/src/main/resources/META-INF/wsdl/AWGW.WS.xml\r\n    \r\n    [ERROR] (Relevant to above error) another &quot;Provider&quot; is generated from here.\r\n      line 2691 of file:ourpathtosrc/src/main/resources/META-INF/wsdl/AWGW.WS.xml\r\n    \r\n    [ERROR] This error is caused because on Windows you cannot have both &quot;Provider.java&quot; and &quot;PROVIDER.java&quot; in the same directory.\r\n    \r\n    \r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n            at org.codehaus.mojo.jaxws.Invoker.main(Invoker.java:109)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.codehaus.mojo.jaxws.Invoker.main(Invoker.java:99)\r\n    Caused by: com.sun.tools.ws.wscompile.AbortException\r\n            at com.sun.tools.ws.processor.modeler.wsdl.JAXBModelBuilder.bind(JAXBModelBuilder.java:144)\r\n            at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.buildJAXBModel(WSDLModeler.java:2298)\r\n            at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.internalBuildModel(WSDLModeler.java:198)\r\n            at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.buildModel(WSDLModeler.java:141)\r\n            at com.sun.tools.ws.wscompile.WsimportTool.buildWsdlModel(WsimportTool.java:444)\r\n            at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:205)\r\n            at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:183)\r\n            ... 5 more\r\n\r\nHow to work this conflict around? Note, that I have no XSD file as it wasn&#39;t provided to me.\r\n","title":"Conflict when generating with jaxws: This error is caused because on Windows you cannot have both &quot;Aa.java&quot; and &quot;AA.java&quot; in the same directory","body":"<p>I have in my WSDL file parts like that:</p>\n<pre><code>    &lt;operation name=&quot;PROVIDER&quot;&gt;\n        &lt;input message=&quot;s0:PROVIDERSoapIn&quot;/&gt;\n        &lt;output message=&quot;s0:PROVIDERSoapOut&quot;/&gt;\n    &lt;/operation&gt;\n\n    &lt;operation name=&quot;PROVIDER&quot;&gt;\n        &lt;soap:operation soapAction=&quot;http://someSoapAtion&quot; style=&quot;document&quot;/&gt;\n        &lt;input&gt;\n            &lt;soap:body use=&quot;literal&quot;/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body use=&quot;literal&quot;/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n</code></pre>\n<p>and several</p>\n<pre><code>    &lt;s:attribute name=&quot;PROVIDER&quot; type=&quot;s:string&quot;/&gt;\n</code></pre>\n<p>in several complex types.</p>\n<p>On the other hand, I have</p>\n<pre><code>        &lt;s:complexType name=&quot;ArrayOfProviderProvider&quot;&gt;\n            &lt;s:sequence&gt;\n                &lt;s:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Provider&quot; nillable=&quot;true&quot; type=&quot;s0:Provider&quot;/&gt;\n            &lt;/s:sequence&gt;\n        &lt;/s:complexType&gt;\n        &lt;s:complexType name=&quot;Provider&quot;&gt;\n            &lt;s:attribute name=&quot;SYSCODE&quot; use=&quot;required&quot;&gt;\n                &lt;s:simpleType&gt;\n                    &lt;s:restriction base=&quot;s:string&quot;&gt;\n                        &lt;s:maxLength value=&quot;25&quot;/&gt;\n                    &lt;/s:restriction&gt;\n                &lt;/s:simpleType&gt;\n            &lt;/s:attribute&gt;\n         ....\n</code></pre>\n<p>On generation by <code>jaxws-maven-plugin</code> configured as</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;!--https://github.com/mojohaus/jaxws-maven-plugin/issues/54--&gt;\n            &lt;groupId&gt;com.helger.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsimport&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;vmArgs&gt;\n                    &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\n                &lt;/vmArgs&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;${project.basedir}/src/main/resources/META-INF/wsdl/our.wsdl.xml&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                &lt;packageName&gt;com.openpayment.client.kamp&lt;/packageName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I'm getting the below errors of conflicts between those 2 namings:</p>\n<pre><code>[INFO] jaxws:wsimport args: [-keep, -s, 'ourpathtotarget\\target\\generated-sources\\wsimport', -d, 'ourpathtotarget\\target\\classes', -verbose, -encoding, UTF-8, -Xnocompile, \n-B-XautoNameResolution, -p, com.openpayment.client.kamp,  &quot;file:/ourpath/src/main/resources/META-INF/wsdl/our.wsdl.xml&quot;]\nparsing WSDL...\n\n\n[ERROR] A class/interface with the same name &quot;com.openpayment.client.kamp.PROVIDER&quot; is already in use. Use a class customization to resolve this conflict.\n  line 2639 of file:ourpathtosrc/src/main/resources/META-INF/wsdl/AWGW.WS.xml\n\n[ERROR] (Relevant to above error) another &quot;Provider&quot; is generated from here.\n  line 2691 of file:ourpathtosrc/src/main/resources/META-INF/wsdl/AWGW.WS.xml\n\n[ERROR] This error is caused because on Windows you cannot have both &quot;Provider.java&quot; and &quot;PROVIDER.java&quot; in the same directory.\n\n\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at org.codehaus.mojo.jaxws.Invoker.main(Invoker.java:109)\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.mojo.jaxws.Invoker.main(Invoker.java:99)\nCaused by: com.sun.tools.ws.wscompile.AbortException\n        at com.sun.tools.ws.processor.modeler.wsdl.JAXBModelBuilder.bind(JAXBModelBuilder.java:144)\n        at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.buildJAXBModel(WSDLModeler.java:2298)\n        at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.internalBuildModel(WSDLModeler.java:198)\n        at com.sun.tools.ws.processor.modeler.wsdl.WSDLModeler.buildModel(WSDLModeler.java:141)\n        at com.sun.tools.ws.wscompile.WsimportTool.buildWsdlModel(WsimportTool.java:444)\n        at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:205)\n        at com.sun.tools.ws.wscompile.WsimportTool.run(WsimportTool.java:183)\n        ... 5 more\n</code></pre>\n<p>How to work this conflict around? Note, that I have no XSD file as it wasn't provided to me.</p>\n"},{"tags":["java","javascript","scriptengine"],"answers":[{"tags":[],"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1321014568,"creation_date":1321014568,"answer_id":8094004,"question_id":8093968,"body_markdown":"You can use the overload [`eval(Reader)`][1] to avoid having to load scripts into a `String` yourself.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngine.html#eval%28java.io.Reader%29","title":"How to make ScriptEngine to run multiple javascript files?","body":"<p>You can use the overload <a href=\"http://download.oracle.com/javase/6/docs/api/javax/script/ScriptEngine.html#eval%28java.io.Reader%29\" rel=\"noreferrer\"><code>eval(Reader)</code></a> to avoid having to load scripts into a <code>String</code> yourself.</p>\n"},{"tags":[],"owner":{"account_id":1026806,"reputation":993,"user_id":1035945,"accept_rate":100,"display_name":"Kevin Anthony Oppegaard Rose"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321015178,"creation_date":1321015178,"answer_id":8094106,"question_id":8093968,"body_markdown":"You could use one script to call the other 6 scripts.\r\n\r\nExample:\r\n\r\n    function callOtherFunctions() {\r\n       functionOne();\r\n       functionTwo();\r\n       .\r\n       .\r\n       .\r\n       functionSix();\r\n    }\r\n\r\nNot 100% sure how good that solution will work but it will call all other 6 functions.","title":"How to make ScriptEngine to run multiple javascript files?","body":"<p>You could use one script to call the other 6 scripts.</p>\n\n<p>Example:</p>\n\n<pre><code>function callOtherFunctions() {\n   functionOne();\n   functionTwo();\n   .\n   .\n   .\n   functionSix();\n}\n</code></pre>\n\n<p>Not 100% sure how good that solution will work but it will call all other 6 functions.</p>\n"},{"tags":[],"owner":{"account_id":4220736,"reputation":603,"user_id":3455589,"display_name":"hmojica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674242157,"creation_date":1674242157,"answer_id":75188489,"question_id":8093968,"body_markdown":"Run eval multiple times using the same ScriptContext.\r\n\r\nIn the next example I need to run Utils.js script before running MainScript.js because Utils.js is defining some functions I need in MainScript.js, I always think of this order as the way these scripts will appear in an HTML page of I were to execute this in a browser:\r\n\r\n        String scriptsUtilsFilePath = &quot;src/test/resources/scripts/Utils.js&quot;;\r\n        String mainScriptFilePath = &quot;src/test/resources/scripts/MainScript.js&quot;;\r\n\r\n        // Get the script engine manager\r\n        ScriptContext newContext = new SimpleScriptContext();\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;nashorn&quot;);// Newest Javascript engine\r\n\r\n        // Run Utils\r\n        engine.eval(new FileReader(scriptsUtilsFilePath), newContext);\r\n\r\n        // Run the Main Script\r\n        engine.eval(new FileReader(mainScriptFilePath), newContext);","title":"How to make ScriptEngine to run multiple javascript files?","body":"<p>Run eval multiple times using the same ScriptContext.</p>\n<p>In the next example I need to run Utils.js script before running MainScript.js because Utils.js is defining some functions I need in MainScript.js, I always think of this order as the way these scripts will appear in an HTML page of I were to execute this in a browser:</p>\n<pre><code>    String scriptsUtilsFilePath = &quot;src/test/resources/scripts/Utils.js&quot;;\n    String mainScriptFilePath = &quot;src/test/resources/scripts/MainScript.js&quot;;\n\n    // Get the script engine manager\n    ScriptContext newContext = new SimpleScriptContext();\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine engine = manager.getEngineByName(&quot;nashorn&quot;);// Newest Javascript engine\n\n    // Run Utils\n    engine.eval(new FileReader(scriptsUtilsFilePath), newContext);\n\n    // Run the Main Script\n    engine.eval(new FileReader(mainScriptFilePath), newContext);\n</code></pre>\n"}],"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2788,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8094004,"answer_count":3,"score":5,"last_activity_date":1674242157,"creation_date":1321014368,"question_id":8093968,"body_markdown":"I have 6 js files and I need to include them all into final script to pass ScriptEngine&#39;s eval method.How can I do it? ScriptEngine haven&#39;t add() method.I can read them with FileReader and than concatenate those strings but I think there will be a better way.","title":"How to make ScriptEngine to run multiple javascript files?","body":"<p>I have 6 js files and I need to include them all into final script to pass ScriptEngine's eval method.How can I do it? ScriptEngine haven't add() method.I can read them with FileReader and than concatenate those strings but I think there will be a better way.</p>\n"},{"tags":["java","spring-kafka","distributed-system","open-telemetry","jaeger"],"comments":[{"owner":{"account_id":2228695,"reputation":883,"user_id":1966876,"accept_rate":100,"display_name":"hdost"},"score":1,"creation_date":1681286956,"post_id":73265976,"comment_id":134030449,"body_markdown":"Without knowning more details it&#39;s hard to say. Can you provide the versions of the agent, and any relevant components.If you can also provide minimal example of the relevant code, that is also helpful.","body":"Without knowning more details it&#39;s hard to say. Can you provide the versions of the agent, and any relevant components.If you can also provide minimal example of the relevant code, that is also helpful."}],"owner":{"account_id":10067157,"reputation":59,"user_id":7442005,"display_name":"Gourava Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1674241212,"creation_date":1659861379,"question_id":73265976,"body_markdown":"I am using spring kafka in a distributed microservice and opentelemetry java agent to generate traces. The consumer is receiving the traceparent ID in header, however, the opentelemetry agent is not able to create a new span under the existing trace ID. Rather it is creating a new trace ID for each services, due to which the traces for microservices are not getting stiched.\r\n\r\nIs there a way I can fix this using manual instrumentation?","title":"New traceparent id created in spring kafka in batch mode for distributed services - Disjoint traces","body":"<p>I am using spring kafka in a distributed microservice and opentelemetry java agent to generate traces. The consumer is receiving the traceparent ID in header, however, the opentelemetry agent is not able to create a new span under the existing trace ID. Rather it is creating a new trace ID for each services, due to which the traces for microservices are not getting stiched.</p>\n<p>Is there a way I can fix this using manual instrumentation?</p>\n"},{"tags":["java","loops","methods"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1674229339,"post_id":75186206,"comment_id":132676584,"body_markdown":"read up on java lambda expressions","body":"read up on java lambda expressions"},{"owner":{"account_id":27581799,"reputation":1,"user_id":21050856,"display_name":"Adrian Maciuca"},"score":0,"creation_date":1674229882,"post_id":75186206,"comment_id":132676759,"body_markdown":"@OldProgrammer Could you show me an example? I see that it is probably what I need but I don&#39;t quite understand.","body":"@OldProgrammer Could you show me an example? I see that it is probably what I need but I don&#39;t quite understand."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1674229898,"post_id":75186206,"comment_id":132676767,"body_markdown":"Indeed. You can use `Function&lt;WhatEverTypeIsInMyList, String&gt;` as declaration, and `WhatEverTypeIsInMyList::getFirstName`, `WhatEverTypeIsInMyList::getLastName`, etc. as values. To compare the value, just use `myFunc.apply(myList[i]).equals(input)`.","body":"Indeed. You can use <code>Function&lt;WhatEverTypeIsInMyList, String&gt;</code> as declaration, and <code>WhatEverTypeIsInMyList::getFirstName</code>, <code>WhatEverTypeIsInMyList::getLastName</code>, etc. as values. To compare the value, just use <code>myFunc.apply(myList[i]).equals(input)</code>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1674230909,"post_id":75186206,"comment_id":132677116,"body_markdown":"A good start is using good names: `myList` is obviously not in fact a `List` but an *array*, but regardless should typically be named as the plural of the type of objects holds, which you haven&#39;t told us. Please tell us the type returned from `event.getSource()`, the array type of `myList` and the reason you are using arrays instead of Lists.","body":"A good start is using good names: <code>myList</code> is obviously not in fact a <code>List</code> but an <i>array</i>, but regardless should typically be named as the plural of the type of objects holds, which you haven&#39;t told us. Please tell us the type returned from <code>event.getSource()</code>, the array type of <code>myList</code> and the reason you are using arrays instead of Lists."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1674241367,"post_id":75186206,"comment_id":132680400,"body_markdown":"And once you created your unified method, I&#39;d suggest you create a separate `ActionListener` per button so you don&#39;t have to query the event source initially.","body":"And once you created your unified method, I&#39;d suggest you create a separate <code>ActionListener</code> per button so you don&#39;t have to query the event source initially."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674231380,"creation_date":1674231380,"answer_id":75186652,"question_id":75186206,"body_markdown":"Assume that `myList` is an array of class `MyList`.  \r\nAdd the following method to class `MyList`.\r\n```java\r\npublic class MyList {\r\n    public String getValue(String key) {\r\n        return switch (key) {\r\n                   case &quot;first name&quot; -&gt; getFirstName();\r\n                   case &quot;last name&quot; -&gt; getLastName();\r\n                   case &quot;username&quot; -&gt; getUsername();\r\n                   case &quot;domain name&quot; -&gt; getDomainName();\r\n                   case &quot;domain extension&quot; -&gt; getDomainExtension();\r\n               }\r\n    }\r\n}\r\n```\r\nThe above method uses [switch expressions][1] which were added in Java 12.\r\n\r\nAssume the code in your question is from an [actionPerformed][2] method.  \r\nAssume that `firstNameButton`, `lastNameButton`, etc, are all [JButton][3]s.  \r\nThen you can assign an appropriate _action command_ to each, for example:\r\n```java\r\nfirstNameButton.setActionCommand(&quot;first name&quot;);\r\n```\r\nNow your `actionPerformed` method can be reduced to:\r\n```java\r\npublic void actionPerformed(java.awt.event.ActionEvent event) {\r\n    String actionCommand = event.getActionCommand();\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getValue(actionCommand).equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n}\r\n```\r\nAlternatively, you can use the [stream API][4]:\r\n```java\r\npublic void actionPerformed(java.awt.event.ActionEvent event) {\r\n    String actionCommand = event.getActionCommand();\r\n    java.util.Arrays.stream(myList)\r\n                    .filter(m -&gt; m.getValue(actionCommand).equals(input))\r\n                    .findFirst()\r\n                    .ifPresent(m -&gt; {\r\n                                   returnList[returnLength] = myList[i];\r\n                                   returnLength++;\r\n                               });\r\n}\r\n```\r\nNote that method `findFirst` returns an object of type [Optional][5].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\r\n  [4]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html","title":"Is there a more concise way of writing repetitive code changing which method is used?","body":"<p>Assume that <code>myList</code> is an array of class <code>MyList</code>.<br />\nAdd the following method to class <code>MyList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyList {\n    public String getValue(String key) {\n        return switch (key) {\n                   case &quot;first name&quot; -&gt; getFirstName();\n                   case &quot;last name&quot; -&gt; getLastName();\n                   case &quot;username&quot; -&gt; getUsername();\n                   case &quot;domain name&quot; -&gt; getDomainName();\n                   case &quot;domain extension&quot; -&gt; getDomainExtension();\n               }\n    }\n}\n</code></pre>\n<p>The above method uses <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch expressions</a> which were added in Java 12.</p>\n<p>Assume the code in your question is from an <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">actionPerformed</a> method.<br />\nAssume that <code>firstNameButton</code>, <code>lastNameButton</code>, etc, are all <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">JButton</a>s.<br />\nThen you can assign an appropriate <em>action command</em> to each, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>firstNameButton.setActionCommand(&quot;first name&quot;);\n</code></pre>\n<p>Now your <code>actionPerformed</code> method can be reduced to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(java.awt.event.ActionEvent event) {\n    String actionCommand = event.getActionCommand();\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getValue(actionCommand).equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n}\n</code></pre>\n<p>Alternatively, you can use the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(java.awt.event.ActionEvent event) {\n    String actionCommand = event.getActionCommand();\n    java.util.Arrays.stream(myList)\n                    .filter(m -&gt; m.getValue(actionCommand).equals(input))\n                    .findFirst()\n                    .ifPresent(m -&gt; {\n                                   returnList[returnLength] = myList[i];\n                                   returnLength++;\n                               });\n}\n</code></pre>\n<p>Note that method <code>findFirst</code> returns an object of type <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a>.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674231648,"creation_date":1674231648,"answer_id":75186710,"question_id":75186206,"body_markdown":"Create an abstraction for extracting data from your object. You need something which accepts argument of type your custom class and return string result, [Function][1] will do, but you can create your own as well. Extract the repetition to a method, using the abstraction:\r\n```\r\nprivate void myMethod(MyObject[] myList, Function&lt;MyObject, String&gt; valueExtractor, String input) {\r\n  for (int i = 0; i &lt; myList.length; i++) {\r\n    if (valueExtractor.apply(myList[i]).equals(input)) {\r\n      //do required stuff\r\n    }\r\n  }\r\n}\r\n```\r\nYou can still use `if-else` to get the correct extractor, but i would suggest to use a [Map][2] instead to keep the keys and their respective extraction functions:\r\n```\r\nMap&lt;String, Function&lt;MyObject, String&gt;&gt; map = Map.of(&quot;firstNameButton&quot;, MyObject::getFirstName, \r\n  &quot;lastNameButton&quot;, MyObject::getLastName);\r\nFunction&lt;MyObject, String&gt; extractor = map.get(event.getSource());\r\nmyMethod(theList, extractor, theInput);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"Is there a more concise way of writing repetitive code changing which method is used?","body":"<p>Create an abstraction for extracting data from your object. You need something which accepts argument of type your custom class and return string result, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> will do, but you can create your own as well. Extract the repetition to a method, using the abstraction:</p>\n<pre><code>private void myMethod(MyObject[] myList, Function&lt;MyObject, String&gt; valueExtractor, String input) {\n  for (int i = 0; i &lt; myList.length; i++) {\n    if (valueExtractor.apply(myList[i]).equals(input)) {\n      //do required stuff\n    }\n  }\n}\n</code></pre>\n<p>You can still use <code>if-else</code> to get the correct extractor, but i would suggest to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> instead to keep the keys and their respective extraction functions:</p>\n<pre><code>Map&lt;String, Function&lt;MyObject, String&gt;&gt; map = Map.of(&quot;firstNameButton&quot;, MyObject::getFirstName, \n  &quot;lastNameButton&quot;, MyObject::getLastName);\nFunction&lt;MyObject, String&gt; extractor = map.get(event.getSource());\nmyMethod(theList, extractor, theInput);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674241129,"creation_date":1674241129,"answer_id":75188329,"question_id":75186206,"body_markdown":"Here is an &quot;Old Dog&quot; approach:\r\n\r\nRepeated or nearly repeated sections of code can be often be reduced with arrays and / or `Collection` Objects, loops, and methods. What parts of the nearly repeated code are the same, and what parts are different? \r\n\r\n      if (event.getSource() == *********Button) {\r\n          inputType = &quot;**********&quot;;\r\n          for (int i = 0; i &lt; myList.length; i++) {\r\n              if (myList[i].get*********().equals(input)) {\r\n                  returnList[returnLength] = myList[i];\r\n                  returnLength++;\r\n        }\r\n    }\r\n\r\nI replaced the parts of the O/P code that vary with `*********`. \r\n\r\nI have to make some assumptions here.\r\n\r\nThe array `myList` is apparently an array of some sort of `Object`, with various `get`er methods that return some sort of `Object`, probably a `String`. But, I&#39;ll use `Bar` in this example:\r\n\r\nSuppose `myList` is an array of `Foo`. The beginning of the code for `Foo` might look something like this: \r\n\r\n     public class Foo { \r\n        private Bar firstName, lastName, userName, domainName, domainExtension;  \r\n\r\nYou could add this method:\r\n\r\n     public Bar getNameAttribute (int attributeKey) { \r\n       switch (attributeKey) { \r\n    \r\n         case 0: \r\n           return firstName;\r\n           break;\r\n        case 1: \r\n           return lastName;\r\n           break;\r\n        case 2:\r\n           ...\r\n        default:\r\n           return null;\r\n           break;\r\n       } \r\n    }\r\n\r\nNow, the various `~Button` variables are reference types. It&#39;s reasonable to assume that, once they are created and initialized, the references will not be changed to point to some other button. In fact, use of `event.getSource () ==` implies that is the case. So, let us use an array to reference them, in addition to referencing them using their individual reference names. I&#39;ll assume they are Objects of `JButton` type:\r\n\r\n     JButton [] nameButton = { firstNameButton, lastNameButton, userNameButton\r\n                , domainNameButton, domainExtensionButton };\r\n     String [] eventType = {&quot;first  name&quot;, &quot;last name&quot;, &quot;user name&quot;\r\n                , &quot;domain name&quot;, &quot;domain extension&quot; };\r\n              \r\n\r\n      for (int k = 0; k &lt; nameButton.length; k++) { \r\n         if (event.getSource() == nameButton [k] { \r\n            for (int i = 0; i &lt; myList.length; i++) { \r\n               if (mylList[i].getNameAttribute[k].equals(input)){\r\n                  returnList[returnLength] = myList[i];\r\n                  returnLength++;\r\n               }\r\n            }\r\n            break;\r\n         }\r\n      }\r\n\r\nNotes:\r\n------\r\n\r\nUse of `switch` in the `getNameAttribute` method assumes references to the various names can be changed. For example, `Foo foo1 = new Foo (...); ... foo1.setFirstName (new Bar (&quot;Jones&quot;));` If, after creation and initialization, references to all of the names are fixed, the `getNameAttribute` code can be reduced by using an array of aliases, as was done with the Buttons. ","title":"Is there a more concise way of writing repetitive code changing which method is used?","body":"<p>Here is an &quot;Old Dog&quot; approach:</p>\n<p>Repeated or nearly repeated sections of code can be often be reduced with arrays and / or <code>Collection</code> Objects, loops, and methods. What parts of the nearly repeated code are the same, and what parts are different?</p>\n<pre><code>  if (event.getSource() == *********Button) {\n      inputType = &quot;**********&quot;;\n      for (int i = 0; i &lt; myList.length; i++) {\n          if (myList[i].get*********().equals(input)) {\n              returnList[returnLength] = myList[i];\n              returnLength++;\n    }\n}\n</code></pre>\n<p>I replaced the parts of the O/P code that vary with <code>*********</code>.</p>\n<p>I have to make some assumptions here.</p>\n<p>The array <code>myList</code> is apparently an array of some sort of <code>Object</code>, with various <code>get</code>er methods that return some sort of <code>Object</code>, probably a <code>String</code>. But, I'll use <code>Bar</code> in this example:</p>\n<p>Suppose <code>myList</code> is an array of <code>Foo</code>. The beginning of the code for <code>Foo</code> might look something like this:</p>\n<pre><code> public class Foo { \n    private Bar firstName, lastName, userName, domainName, domainExtension;  \n</code></pre>\n<p>You could add this method:</p>\n<pre><code> public Bar getNameAttribute (int attributeKey) { \n   switch (attributeKey) { \n\n     case 0: \n       return firstName;\n       break;\n    case 1: \n       return lastName;\n       break;\n    case 2:\n       ...\n    default:\n       return null;\n       break;\n   } \n}\n</code></pre>\n<p>Now, the various <code>~Button</code> variables are reference types. It's reasonable to assume that, once they are created and initialized, the references will not be changed to point to some other button. In fact, use of <code>event.getSource () ==</code> implies that is the case. So, let us use an array to reference them, in addition to referencing them using their individual reference names. I'll assume they are Objects of <code>JButton</code> type:</p>\n<pre><code> JButton [] nameButton = { firstNameButton, lastNameButton, userNameButton\n            , domainNameButton, domainExtensionButton };\n String [] eventType = {&quot;first  name&quot;, &quot;last name&quot;, &quot;user name&quot;\n            , &quot;domain name&quot;, &quot;domain extension&quot; };\n          \n\n  for (int k = 0; k &lt; nameButton.length; k++) { \n     if (event.getSource() == nameButton [k] { \n        for (int i = 0; i &lt; myList.length; i++) { \n           if (mylList[i].getNameAttribute[k].equals(input)){\n              returnList[returnLength] = myList[i];\n              returnLength++;\n           }\n        }\n        break;\n     }\n  }\n</code></pre>\n<h2>Notes:</h2>\n<p>Use of <code>switch</code> in the <code>getNameAttribute</code> method assumes references to the various names can be changed. For example, <code>Foo foo1 = new Foo (...); ... foo1.setFirstName (new Bar (&quot;Jones&quot;));</code> If, after creation and initialization, references to all of the names are fixed, the <code>getNameAttribute</code> code can be reduced by using an array of aliases, as was done with the Buttons.</p>\n"}],"owner":{"account_id":27581799,"reputation":1,"user_id":21050856,"display_name":"Adrian Maciuca"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1674241129,"creation_date":1674229035,"question_id":75186206,"body_markdown":"I&#39;ve written a very repetitive piece of code (as seen below) and I feel that there has to be some way to use a method to make it more concise, but I cannot figure out how.\r\n\r\nThis is the current code snippet:\r\n\r\n``` java\r\nif (event.getSource() == firstNameButton) {\r\n    inputType = &quot;first name&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getFirstName().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n} else if (event.getSource() == lastNameButton) {\r\n    inputType = &quot;last name&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getLastName().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n} else if (event.getSource() == usernameButton) {\r\n    inputType = &quot;username&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getUsername().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n} else if (event.getSource() == domainNameButton) {\r\n    inputType = &quot;domain name&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getDomainName().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n} else if (event.getSource() == domainExtensionButton) {\r\n    inputType = &quot;domain extension&quot;;\r\n    for (int i = 0; i &lt; myList.length; i++) {\r\n        if (myList[i].getDomainExtension().equals(input)) {\r\n            returnList[returnLength] = myList[i];\r\n            returnLength++;\r\n        }\r\n    }\r\n}\r\n```\r\nThe only things changing are what `inputType` gets assigned to, which I would be able to write a method for, but I am also changing what method I apply to `myList[i]`. Is there a way to write a method with a method parameter?\r\n","title":"Is there a more concise way of writing repetitive code changing which method is used?","body":"<p>I've written a very repetitive piece of code (as seen below) and I feel that there has to be some way to use a method to make it more concise, but I cannot figure out how.</p>\n<p>This is the current code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (event.getSource() == firstNameButton) {\n    inputType = &quot;first name&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getFirstName().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n} else if (event.getSource() == lastNameButton) {\n    inputType = &quot;last name&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getLastName().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n} else if (event.getSource() == usernameButton) {\n    inputType = &quot;username&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getUsername().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n} else if (event.getSource() == domainNameButton) {\n    inputType = &quot;domain name&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getDomainName().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n} else if (event.getSource() == domainExtensionButton) {\n    inputType = &quot;domain extension&quot;;\n    for (int i = 0; i &lt; myList.length; i++) {\n        if (myList[i].getDomainExtension().equals(input)) {\n            returnList[returnLength] = myList[i];\n            returnLength++;\n        }\n    }\n}\n</code></pre>\n<p>The only things changing are what <code>inputType</code> gets assigned to, which I would be able to write a method for, but I am also changing what method I apply to <code>myList[i]</code>. Is there a way to write a method with a method parameter?</p>\n"},{"tags":["java","android","android-activity","menu","custom-activity"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674243469,"post_id":75188314,"comment_id":132680948,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27583129,"reputation":1,"user_id":21051900,"display_name":"Farzad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674241000,"creation_date":1674241000,"question_id":75188314,"body_markdown":"How to create custom menu like image sample?(java-android-android studio)\r\n\r\nCan use the library for this?!\r\n\r\n[enter image description here](https://i.stack.imgur.com/CxgHD.jpg)\r\n\r\nI don&#39;t create this activity and menu!\r\nI use fragment for activity but i can&#39;t create menu and activity &#128532;!","title":"How to create Custom menu and activity","body":"<p>How to create custom menu like image sample?(java-android-android studio)</p>\n<p>Can use the library for this?!</p>\n<p><a href=\"https://i.stack.imgur.com/CxgHD.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't create this activity and menu!\nI use fragment for activity but i can't create menu and activity 😔!</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":3,"creation_date":1674236013,"post_id":75187455,"comment_id":132678803,"body_markdown":"Try `.replaceAll(&quot;(\\\\*\\\\w+)\\&quot;&quot;, &quot;$1&quot;)`","body":"Try <code>.replaceAll(&quot;(\\\\*\\\\w+)\\&quot;&quot;, &quot;$1&quot;)</code>"},{"owner":{"account_id":383533,"reputation":394,"user_id":739451,"accept_rate":100,"display_name":"Vishnu Kumar"},"score":1,"creation_date":1674236401,"post_id":75187455,"comment_id":132678942,"body_markdown":"This worked, Thanks. I can see that you are matching the word starting with `*` and ending with `&quot;`, how did the `&quot;` get replaced?","body":"This worked, Thanks. I can see that you are matching the word starting with <code>*</code> and ending with <code>&quot;</code>, how did the <code>&quot;</code> get replaced?"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1674240511,"creation_date":1674240511,"answer_id":75188238,"question_id":75187455,"body_markdown":"You can use\r\n```none\r\n.replaceAll(&quot;(\\\\*\\\\w+)\\&quot;&quot;, &quot;$1&quot;)\r\n```\r\n*Details*:\r\n\r\n - `(\\*\\w+)` - Group 1 (`$1` refers to the text captured in this group)\r\n - `&quot;` - a `&quot;` char (just matched, not captured, so eventually removed).","title":"Regex to replace the character after pattern match","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>.replaceAll(&quot;(\\\\*\\\\w+)\\&quot;&quot;, &quot;$1&quot;)\n</code></pre>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(\\*\\w+)</code> - Group 1 (<code>$1</code> refers to the text captured in this group)</li>\n<li><code>&quot;</code> - a <code>&quot;</code> char (just matched, not captured, so eventually removed).</li>\n</ul>\n"}],"owner":{"account_id":383533,"reputation":394,"user_id":739451,"accept_rate":100,"display_name":"Vishnu Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":75188238,"answer_count":1,"score":1,"last_activity_date":1674240511,"creation_date":1674235802,"question_id":75187455,"body_markdown":"For my Java app, i have a string that looks like:\r\n```\r\nvalue1: *sample&quot;, test\r\ntest: &quot;test&quot;\r\nnewtest: *newtest&quot;\r\n```\r\nI need to match the character `&quot;` when the string starts with `*`.&lt;br&gt;\r\nTried the regex:\r\n`&quot;(?!.*&quot;)`\r\nBut this selected all the `&quot;` in the input.&lt;br&gt;\r\nWas planning to `replaceAll(regex, &quot;&quot;)` to remove the character.\r\n\r\nDesired Output:\r\n```\r\nvalue1: *sample, test\r\ntest: &quot;test&quot;\r\nnewtest: *newtest\r\n```\r\n\r\nHow do i get this output?","title":"Regex to replace the character after pattern match","body":"<p>For my Java app, i have a string that looks like:</p>\n<pre><code>value1: *sample&quot;, test\ntest: &quot;test&quot;\nnewtest: *newtest&quot;\n</code></pre>\n<p>I need to match the character <code>&quot;</code> when the string starts with <code>*</code>.<br>\nTried the regex:\n<code>&quot;(?!.*&quot;)</code>\nBut this selected all the <code>&quot;</code> in the input.<br>\nWas planning to <code>replaceAll(regex, &quot;&quot;)</code> to remove the character.</p>\n<p>Desired Output:</p>\n<pre><code>value1: *sample, test\ntest: &quot;test&quot;\nnewtest: *newtest\n</code></pre>\n<p>How do i get this output?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674240916,"post_id":75188223,"comment_id":132680279,"body_markdown":"Change the target version in the generated pom.xml","body":"Change the target version in the generated pom.xml"}],"owner":{"account_id":3758704,"reputation":1498,"user_id":3124390,"accept_rate":62,"display_name":"cmutex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674240433,"creation_date":1674240433,"question_id":75188223,"body_markdown":"I&#39;m trying to create a maven project that supports JDK 17. I used the below command, but the project generated supports only a `1.8` as source and target versions.\r\n\r\nAny ideas?\r\n\r\n    mvn archetype:generate \\\r\n    -DinteractiveMode=false \\\r\n    -DarchetypeGroupId=org.test \\\r\n    -DarchetypeArtifactId=test-archetype \\\r\n    -DgroupId=test \\\r\n    -DartifactId=test-d \\\r\n    -Dversion=1.0","title":"How do I generate a maven project using archetype:generate supporting JDK 17","body":"<p>I'm trying to create a maven project that supports JDK 17. I used the below command, but the project generated supports only a <code>1.8</code> as source and target versions.</p>\n<p>Any ideas?</p>\n<pre><code>mvn archetype:generate \\\n-DinteractiveMode=false \\\n-DarchetypeGroupId=org.test \\\n-DarchetypeArtifactId=test-archetype \\\n-DgroupId=test \\\n-DartifactId=test-d \\\n-Dversion=1.0\n</code></pre>\n"},{"tags":["java","android","android-service"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1674240182,"post_id":75188157,"comment_id":132680074,"body_markdown":"Not directly related to your question but why did you choose Java?","body":"Not directly related to your question but why did you choose Java?"},{"owner":{"account_id":20559155,"reputation":73,"user_id":15090028,"display_name":"Mr Learning"},"score":0,"creation_date":1674242417,"post_id":75188157,"comment_id":132680685,"body_markdown":"It written in Java ?","body":"It written in Java ?"}],"owner":{"account_id":20559155,"reputation":73,"user_id":15090028,"display_name":"Mr Learning"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674239993,"creation_date":1674239993,"question_id":75188157,"body_markdown":"### Im trying to make a service that would provide data of usagestat every x second. However i always getting the same value after x second. I already clear the map to include new data set from usagemanager. below is my service class thank you in advance.\r\n-----------------------------------------\r\n&lt;br /&gt;\r\n\r\nI do know that in order to retrieve queries every x time, we may use queryevent. However, the total time in foreground for this fit my project, and i already tested using the code for adapter. In the adapter, it do retrieve usage time, however it only provide new value on restarting the activity where the adapter used.\r\n\r\n&lt;br /&gt;\r\n\r\n\r\n```\r\npublic class PushService extends Service {\r\n\r\n    private static final int NOTIF_ID = 1;\r\n    private static final String NOTIF_CHANNEL_ID = &quot;Channel_Id_1&quot;;\r\n    private static final String NOTIF_CHANNEL_ID2 = &quot;Channel_Id_2&quot;;\r\n    private static final int _DISPLAY_ORDER_USAGE_TIME = 0;\r\n    private static final int _DISPLAY_ORDER_LAST_TIME_USED = 1;\r\n    private static final int _DISPLAY_ORDER_APP_NAME = 2;\r\n    private static final boolean localLOGV = false;\r\n    private int mDisplayOrder = _DISPLAY_ORDER_USAGE_TIME;\r\n    private AppNameComparator mAppLabelComparator;\r\n    private LastTimeUsedComparator mLastTimeUsedComparator;\r\n    private UsageTimeComparator mUsageTimeComparator;\r\n    private PackageManager mPm;\r\n    private UsageStatsManager mUsageStatsManager;\r\n    public HashMap&lt;String, Long&gt; mapToFirebase = new HashMap&lt;&gt;();;\r\n    public ArrayList&lt;UsageStats&gt; mPackageStats;\r\n    public ArrayMap&lt;String, String&gt; mAppLabelMap;\r\n    public List&lt;UsageStats&gt; stats;\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId){\r\n\r\n        /*notice*/\r\n        startForeground();\r\n\r\n        if (intent != null){\r\n            String uid = intent.getStringExtra(&quot;parentUID&quot;);\r\n            if (!uid.equals(&quot;&quot;)){\r\n                Toast.makeText(this, uid, Toast.LENGTH_SHORT).show();\r\n\r\n                Handler ha=new Handler();\r\n                ha.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        //call function\r\n                        pushAppList();\r\n                        mapToFirebase.clear();\r\n                        loadDataToMapForFirebase();\r\n                        Log.d(&quot;mapservice&quot;, mapToFirebase.toString());\r\n                        ha.postDelayed(this, 5000);\r\n                    }\r\n                }, 10000);\r\n\r\n\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n    public static class AppNameComparator implements Comparator&lt;UsageStats&gt; {\r\n        private Map&lt;String, String&gt; mAppLabelList;\r\n\r\n        AppNameComparator(Map&lt;String, String&gt; appList) {\r\n            mAppLabelList = appList;\r\n        }\r\n\r\n        @Override\r\n        public final int compare(UsageStats a, UsageStats b) {\r\n            String alabel = mAppLabelList.get(a.getPackageName());\r\n            String blabel = mAppLabelList.get(b.getPackageName());\r\n            return alabel.compareTo(blabel);\r\n        }\r\n    }\r\n\r\n    public void pushAppList(){\r\n        mAppLabelMap = new ArrayMap&lt;&gt;();\r\n        mPackageStats = new ArrayList&lt;&gt;();\r\n        mPm = getPackageManager();\r\n        mUsageStatsManager = (UsageStatsManager) getSystemService(Context.USAGE_STATS_SERVICE);\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.add(Calendar.DAY_OF_YEAR, -5);\r\n        mLastTimeUsedComparator = new LastTimeUsedComparator();\r\n        mUsageTimeComparator = new UsageTimeComparator();\r\n\r\n        stats = mUsageStatsManager.queryUsageStats(UsageStatsManager.INTERVAL_DAILY, cal.getTimeInMillis(), System.currentTimeMillis());\r\n\r\n        if (stats == null) {\r\n            return;\r\n        }\r\n\r\n        ArrayMap&lt;String, UsageStats&gt; map = new ArrayMap&lt;&gt;();\r\n\r\n        int statCount = stats.size();\r\n        for (int i = 0; i &lt; statCount; i++) {\r\n            Log.d(&quot;&quot;, String.valueOf(stats.get(i).getTotalTimeInForeground()));\r\n            android.app.usage.UsageStats pkgStats = stats.get(i);\r\n\r\n            // load application labels for each application\r\n            try {\r\n                ApplicationInfo appInfo = mPm.getApplicationInfo(pkgStats.getPackageName(), 0);\r\n                String label = appInfo.loadLabel(mPm).toString();\r\n                mAppLabelMap.put(pkgStats.getPackageName(), label);\r\n\r\n                UsageStats existingStats =\r\n                        map.get(pkgStats.getPackageName());\r\n                if (existingStats == null) {\r\n                    map.put(pkgStats.getPackageName(), pkgStats);\r\n\r\n                } else {\r\n                    existingStats.add(pkgStats);\r\n                }\r\n\r\n            } catch (PackageManager.NameNotFoundException e) {\r\n                // This package may be gone.\r\n            }\r\n        }\r\n        mPackageStats.addAll(map.values());\r\n\r\n        // Sort list\r\n        mAppLabelComparator = new AppNameComparator(mAppLabelMap);\r\n        sortList();\r\n    }\r\n\r\n    public static class LastTimeUsedComparator implements Comparator&lt;UsageStats&gt; {\r\n        @Override\r\n        public final int compare(UsageStats a, UsageStats b) {\r\n            // return by descending order\r\n            return (int)(b.getLastTimeUsed() - a.getLastTimeUsed());\r\n        }\r\n    }\r\n\r\n    public static class UsageTimeComparator implements Comparator&lt;UsageStats&gt; {\r\n        @Override\r\n        public final int compare(UsageStats a, UsageStats b) {\r\n            return (int)(b.getTotalTimeInForeground() - a.getTotalTimeInForeground());\r\n        }\r\n    }\r\n\r\n    private void sortList() {\r\n        if (mDisplayOrder == _DISPLAY_ORDER_USAGE_TIME) {\r\n            if (localLOGV) Log.i(TAG, &quot;Sorting by usage time&quot;);\r\n            Collections.sort(mPackageStats, mUsageTimeComparator);\r\n        } else if (mDisplayOrder == _DISPLAY_ORDER_LAST_TIME_USED) {\r\n            if (localLOGV) Log.i(TAG, &quot;Sorting by last time used&quot;);\r\n            Collections.sort(mPackageStats, mLastTimeUsedComparator);\r\n        } else if (mDisplayOrder == _DISPLAY_ORDER_APP_NAME) {\r\n            if (localLOGV) Log.i(TAG, &quot;Sorting by application name&quot;);\r\n            Collections.sort(mPackageStats, mAppLabelComparator);\r\n        }\r\n    }\r\n    public void loadDataToMapForFirebase(){\r\n        /*TODO UPDATE DATA ONBACKGROUND*/\r\n        String system_sign = &quot;android&quot;;\r\n        PackageManager pm = getPackageManager();\r\n\r\n\r\n        if (mPackageStats.size() != 0){\r\n            for (int i = 0; i &lt; mPackageStats.size(); i++){\r\n                if (pm.checkSignatures(system_sign, mPackageStats.get(i).getPackageName()) == PackageManager.SIGNATURE_MATCH) {\r\n                    Log.d(&quot;CheckAppSys&quot;, mPackageStats.get(i).getPackageName() + &quot; is sys.&quot;);\r\n                } else {\r\n                    String usagetime = DateUtils.formatElapsedTime(mPackageStats.get(i).getTotalTimeInForeground() / 1000);\r\n                    Pattern special= Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\r\n                    Matcher matcher = special.matcher(Objects.requireNonNull(mAppLabelMap.get(mPackageStats.get(i).getPackageName())));\r\n\r\n                    boolean constainsSymbols = matcher.find();\r\n\r\n                    if(!constainsSymbols){\r\n                        mapToFirebase.put(mAppLabelMap.get(mPackageStats.get(i).getPackageName()), mPackageStats.get(i).getTotalTimeInForeground());\r\n                    }\r\n\r\n                    Log.d(&quot;maptofirebase&quot;, mapToFirebase.toString());\r\n                    Log.d(&quot;CheckApp&quot;, mPackageStats.get(i).getPackageName() + &quot; is not sys.&quot;);\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    private void startForeground() {\r\n        Intent notificationIntent = new Intent(this, UsageStatsActivity.class);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel1 = new NotificationChannel(\r\n                    NOTIF_CHANNEL_ID,\r\n                    &quot;Channel 1&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH\r\n            );\r\n            channel1.setDescription(&quot;This is channel 1&quot;);\r\n\r\n            NotificationChannel channel2 = new NotificationChannel(\r\n                    NOTIF_CHANNEL_ID2,\r\n                    &quot;Channel 2&quot;,\r\n                    NotificationManager.IMPORTANCE_LOW\r\n            );\r\n            channel2.setDescription(&quot;This is channel 2&quot;);\r\n\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(channel1);\r\n            manager.createNotificationChannel(channel2);\r\n        }\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,\r\n                notificationIntent, 0);\r\n\r\n        startForeground(NOTIF_ID, new NotificationCompat.Builder(this,\r\n                NOTIF_CHANNEL_ID) // don&#39;t forget create a notification channel first\r\n                .setOngoing(true)\r\n                .setSmallIcon(R.drawable.logo)\r\n                .setContentTitle(getString(R.string.app_name))\r\n                .setContentText(&quot;Monitoring apps.&quot;)\r\n                .setContentIntent(pendingIntent)\r\n                .build());\r\n    }\r\n}\r\n```","title":"UsageStats always the same when i start the method every x seconds","body":"<h3>Im trying to make a service that would provide data of usagestat every x second. However i always getting the same value after x second. I already clear the map to include new data set from usagemanager. below is my service class thank you in advance.</h3>\n<hr />\n<br />\n<p>I do know that in order to retrieve queries every x time, we may use queryevent. However, the total time in foreground for this fit my project, and i already tested using the code for adapter. In the adapter, it do retrieve usage time, however it only provide new value on restarting the activity where the adapter used.</p>\n<br />\n<pre><code>public class PushService extends Service {\n\n    private static final int NOTIF_ID = 1;\n    private static final String NOTIF_CHANNEL_ID = &quot;Channel_Id_1&quot;;\n    private static final String NOTIF_CHANNEL_ID2 = &quot;Channel_Id_2&quot;;\n    private static final int _DISPLAY_ORDER_USAGE_TIME = 0;\n    private static final int _DISPLAY_ORDER_LAST_TIME_USED = 1;\n    private static final int _DISPLAY_ORDER_APP_NAME = 2;\n    private static final boolean localLOGV = false;\n    private int mDisplayOrder = _DISPLAY_ORDER_USAGE_TIME;\n    private AppNameComparator mAppLabelComparator;\n    private LastTimeUsedComparator mLastTimeUsedComparator;\n    private UsageTimeComparator mUsageTimeComparator;\n    private PackageManager mPm;\n    private UsageStatsManager mUsageStatsManager;\n    public HashMap&lt;String, Long&gt; mapToFirebase = new HashMap&lt;&gt;();;\n    public ArrayList&lt;UsageStats&gt; mPackageStats;\n    public ArrayMap&lt;String, String&gt; mAppLabelMap;\n    public List&lt;UsageStats&gt; stats;\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId){\n\n        /*notice*/\n        startForeground();\n\n        if (intent != null){\n            String uid = intent.getStringExtra(&quot;parentUID&quot;);\n            if (!uid.equals(&quot;&quot;)){\n                Toast.makeText(this, uid, Toast.LENGTH_SHORT).show();\n\n                Handler ha=new Handler();\n                ha.postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        //call function\n                        pushAppList();\n                        mapToFirebase.clear();\n                        loadDataToMapForFirebase();\n                        Log.d(&quot;mapservice&quot;, mapToFirebase.toString());\n                        ha.postDelayed(this, 5000);\n                    }\n                }, 10000);\n\n\n\n            }\n\n        }\n\n        return super.onStartCommand(intent, flags, startId);\n    }\n    public static class AppNameComparator implements Comparator&lt;UsageStats&gt; {\n        private Map&lt;String, String&gt; mAppLabelList;\n\n        AppNameComparator(Map&lt;String, String&gt; appList) {\n            mAppLabelList = appList;\n        }\n\n        @Override\n        public final int compare(UsageStats a, UsageStats b) {\n            String alabel = mAppLabelList.get(a.getPackageName());\n            String blabel = mAppLabelList.get(b.getPackageName());\n            return alabel.compareTo(blabel);\n        }\n    }\n\n    public void pushAppList(){\n        mAppLabelMap = new ArrayMap&lt;&gt;();\n        mPackageStats = new ArrayList&lt;&gt;();\n        mPm = getPackageManager();\n        mUsageStatsManager = (UsageStatsManager) getSystemService(Context.USAGE_STATS_SERVICE);\n        Calendar cal = Calendar.getInstance();\n        cal.add(Calendar.DAY_OF_YEAR, -5);\n        mLastTimeUsedComparator = new LastTimeUsedComparator();\n        mUsageTimeComparator = new UsageTimeComparator();\n\n        stats = mUsageStatsManager.queryUsageStats(UsageStatsManager.INTERVAL_DAILY, cal.getTimeInMillis(), System.currentTimeMillis());\n\n        if (stats == null) {\n            return;\n        }\n\n        ArrayMap&lt;String, UsageStats&gt; map = new ArrayMap&lt;&gt;();\n\n        int statCount = stats.size();\n        for (int i = 0; i &lt; statCount; i++) {\n            Log.d(&quot;&quot;, String.valueOf(stats.get(i).getTotalTimeInForeground()));\n            android.app.usage.UsageStats pkgStats = stats.get(i);\n\n            // load application labels for each application\n            try {\n                ApplicationInfo appInfo = mPm.getApplicationInfo(pkgStats.getPackageName(), 0);\n                String label = appInfo.loadLabel(mPm).toString();\n                mAppLabelMap.put(pkgStats.getPackageName(), label);\n\n                UsageStats existingStats =\n                        map.get(pkgStats.getPackageName());\n                if (existingStats == null) {\n                    map.put(pkgStats.getPackageName(), pkgStats);\n\n                } else {\n                    existingStats.add(pkgStats);\n                }\n\n            } catch (PackageManager.NameNotFoundException e) {\n                // This package may be gone.\n            }\n        }\n        mPackageStats.addAll(map.values());\n\n        // Sort list\n        mAppLabelComparator = new AppNameComparator(mAppLabelMap);\n        sortList();\n    }\n\n    public static class LastTimeUsedComparator implements Comparator&lt;UsageStats&gt; {\n        @Override\n        public final int compare(UsageStats a, UsageStats b) {\n            // return by descending order\n            return (int)(b.getLastTimeUsed() - a.getLastTimeUsed());\n        }\n    }\n\n    public static class UsageTimeComparator implements Comparator&lt;UsageStats&gt; {\n        @Override\n        public final int compare(UsageStats a, UsageStats b) {\n            return (int)(b.getTotalTimeInForeground() - a.getTotalTimeInForeground());\n        }\n    }\n\n    private void sortList() {\n        if (mDisplayOrder == _DISPLAY_ORDER_USAGE_TIME) {\n            if (localLOGV) Log.i(TAG, &quot;Sorting by usage time&quot;);\n            Collections.sort(mPackageStats, mUsageTimeComparator);\n        } else if (mDisplayOrder == _DISPLAY_ORDER_LAST_TIME_USED) {\n            if (localLOGV) Log.i(TAG, &quot;Sorting by last time used&quot;);\n            Collections.sort(mPackageStats, mLastTimeUsedComparator);\n        } else if (mDisplayOrder == _DISPLAY_ORDER_APP_NAME) {\n            if (localLOGV) Log.i(TAG, &quot;Sorting by application name&quot;);\n            Collections.sort(mPackageStats, mAppLabelComparator);\n        }\n    }\n    public void loadDataToMapForFirebase(){\n        /*TODO UPDATE DATA ONBACKGROUND*/\n        String system_sign = &quot;android&quot;;\n        PackageManager pm = getPackageManager();\n\n\n        if (mPackageStats.size() != 0){\n            for (int i = 0; i &lt; mPackageStats.size(); i++){\n                if (pm.checkSignatures(system_sign, mPackageStats.get(i).getPackageName()) == PackageManager.SIGNATURE_MATCH) {\n                    Log.d(&quot;CheckAppSys&quot;, mPackageStats.get(i).getPackageName() + &quot; is sys.&quot;);\n                } else {\n                    String usagetime = DateUtils.formatElapsedTime(mPackageStats.get(i).getTotalTimeInForeground() / 1000);\n                    Pattern special= Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\n                    Matcher matcher = special.matcher(Objects.requireNonNull(mAppLabelMap.get(mPackageStats.get(i).getPackageName())));\n\n                    boolean constainsSymbols = matcher.find();\n\n                    if(!constainsSymbols){\n                        mapToFirebase.put(mAppLabelMap.get(mPackageStats.get(i).getPackageName()), mPackageStats.get(i).getTotalTimeInForeground());\n                    }\n\n                    Log.d(&quot;maptofirebase&quot;, mapToFirebase.toString());\n                    Log.d(&quot;CheckApp&quot;, mPackageStats.get(i).getPackageName() + &quot; is not sys.&quot;);\n\n                }\n            }\n\n        }\n    }\n    private void startForeground() {\n        Intent notificationIntent = new Intent(this, UsageStatsActivity.class);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel1 = new NotificationChannel(\n                    NOTIF_CHANNEL_ID,\n                    &quot;Channel 1&quot;,\n                    NotificationManager.IMPORTANCE_HIGH\n            );\n            channel1.setDescription(&quot;This is channel 1&quot;);\n\n            NotificationChannel channel2 = new NotificationChannel(\n                    NOTIF_CHANNEL_ID2,\n                    &quot;Channel 2&quot;,\n                    NotificationManager.IMPORTANCE_LOW\n            );\n            channel2.setDescription(&quot;This is channel 2&quot;);\n\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(channel1);\n            manager.createNotificationChannel(channel2);\n        }\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,\n                notificationIntent, 0);\n\n        startForeground(NOTIF_ID, new NotificationCompat.Builder(this,\n                NOTIF_CHANNEL_ID) // don't forget create a notification channel first\n                .setOngoing(true)\n                .setSmallIcon(R.drawable.logo)\n                .setContentTitle(getString(R.string.app_name))\n                .setContentText(&quot;Monitoring apps.&quot;)\n                .setContentIntent(pendingIntent)\n                .build());\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","database-connection","keep-alive"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1674207365,"post_id":75181242,"comment_id":132668993,"body_markdown":"From your link: _&quot;All connection properties can be specified as a URL parameter. Most connection properties can be specified as a system property, as a Properties object entry, or as a properties file entry.&quot;_ This would suggest that adding `oracle.net.keepAlive=true` as a connection property to the URL, or to the `Properties` object should work.","body":"From your link: <i>&quot;All connection properties can be specified as a URL parameter. Most connection properties can be specified as a system property, as a Properties object entry, or as a properties file entry.&quot;</i> This would suggest that adding <code>oracle.net.keepAlive=true</code> as a connection property to the URL, or to the <code>Properties</code> object should work."},{"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"score":1,"creation_date":1674522707,"post_id":75181242,"comment_id":132727884,"body_markdown":"Refer to OracleConnection.html (https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html). These connection properties can be passed as system property, through a Properties object or as part of the connection URL. Look at &quot;Using TNS alias section of the blog&quot; (https://blogs.oracle.com/developers/post/four-facets-of-database-connectivity-for-java-applications#TNS) for an example.","body":"Refer to OracleConnection.html (<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/database/oracle/oracle-database/21/jajdb&zwnj;&#8203;/&hellip;</a>). These connection properties can be passed as system property, through a Properties object or as part of the connection URL. Look at &quot;Using TNS alias section of the blog&quot; (<a href=\"https://blogs.oracle.com/developers/post/four-facets-of-database-connectivity-for-java-applications#TNS\" rel=\"nofollow noreferrer\">blogs.oracle.com/developers/post/&hellip;</a>) for an example."}],"answers":[{"tags":[],"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674239917,"creation_date":1674239917,"answer_id":75188143,"question_id":75181242,"body_markdown":"This might &quot;work&quot; for you but unfortunately Linux kernel default values are not practical.\r\n\r\n    # cat /proc/sys/net/ipv4/tcp_keepalive_time\r\n    7200\r\n\r\nDelay before the 1st probe is sent - 2 hours. \r\nNOTE: the default value for CISCO ASA&#39;s &quot;connection timeout idle&quot; is just 1 hour!!! So the connection is killed before 1st keepalive probe is sent. Unfortunately you need root to change this kernel parameter. Java so far does not support per TCP connection ioctl command to set keepalive parameters.\r\n\r\nWhen you change this kernel parameter you should see something like this:\r\n\r\n    # cat /proc/sys/net/ipv4/tcp_keepalive_intvl\r\n    75\r\n    Interval between probes.\r\n\r\n    # cat /proc/sys/net/ipv4/tcp_keepalive_probes\r\n    9\r\n    The number of &quot;lost&quot; probes indicating that the connection is dead.\r\n\r\nOn Oracle side Oracle TCP Keepalive is not active for oracle connections by default. It can be turned on by setting `(ENABLE=BROKEN)` under DESCRIPTION element in connect string or by using `-Doracle.net.keepAlive=true`\r\n\r\nYou can verify your setting by using tcpdump\r\nConnect using:\r\n\r\n    (DESCRIPTION=\r\n        (ENABLE=BROKEN)\r\n        (TRANSPORT_CONNECT_TIMEOUT=90)\r\n        (RETRY_COUNT=20)\r\n        (FAILOVER=ON)\r\n        (ADDRESS=(PROTOCOL=TCP)(HOST=rac-cluster-scan)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=ACTEST))\r\n    )\r\n    \r\n    [~]# nslookup rac-cluster-scan \r\n    Server:         127.0.0.1\r\n    Address:        127.0.0.1#53\r\n    \r\n    Name:   rac-cluster-scan\r\n    Address: 192.168.8.209\r\n    \r\n    [~]# ip route get 192.168.8.209\r\n    192.168.8.209 dev ens224 src 192.168.8.200\r\n        cache\r\n    \r\n    [~]# tcpdump -pni ens224 -v &quot;tcp port 1521 and ( tcp[tcpflags] &amp; tcp-ack != 0 and ( (ip[2:2] - ((ip[0]&amp;0xf)&lt;&lt;2) ) - ((tcp[12]&amp;0xf0)&gt;&gt;2) ) == 0 )&quot;\r\n    tcpdump: listening on ens224, link-type EN10MB (Ethernet), capture size 262144 bytes\r\n    14:56:49.994675 IP (tos 0x0, ttl 64, id 12096, offset 0, flags [DF], proto TCP (6), length 52)\r\n        192.168.8.200.37196 &gt; 192.168.8.212.ncube-lm: Flags [.], cksum 0x9313 (incorrect -&gt; 0x4b94), ack 2263270845, win 359, options [nop,nop,TS val 78140944 ecr 7133273], length 0\r\n    14:56:49.994829 IP (tos 0x0, ttl 64, id 55327, offset 0, flags [DF], proto TCP (6), length 52)\r\n        192.168.8.212.ncube-lm &gt; 192.168.8.200.37196: Flags [.], cksum 0xadcf (correct), ack 1, win 207, options [nop,nop,TS val 7138281 ecr 78110940], length 0\r\n    14:56:55.002668 IP (tos 0x0, ttl 64, id 12097, offset 0, flags [DF], proto TCP (6), length 52)\r\n        192.168.8.200.37196 &gt; 192.168.8.212.ncube-lm: Flags [.], cksum 0x9313 (incorrect -&gt; 0x2474), ack 1, win 359, options [nop,nop,TS val 78145952 ecr 7138281], length 0\r\n    14:56:55.002809 IP (tos 0x0, ttl 64, id 55328, offset 0, flags [DF], proto TCP (6), length 52)\r\n        192.168.8.212.ncube-lm &gt; 192.168.8.200.37196: Flags [.], cksum 0x9a3f (correct), ack 1, win 207, options [nop,nop,TS val 7143289 ecr 78110940], length 0\r\n    14:57:00.010680 IP (tos 0x0, ttl 64, id 12098, offset 0, flags [DF], proto TCP (6), length 52)\r\n        192.168.8.200.37196 &gt; 192.168.8.212.ncube-lm: Flags [.], cksum 0x9313 (incorrect -&gt; 0xfd53), ack 1, win 359, options [nop,nop,TS val 78150960 ecr 7143289], length 0\r\n    14:57:00.011296 IP (tos 0x0, ttl 64, id 55329, offset 0, flags [DF], proto TCP (6), length 52)\r\n        192.168.8.212.ncube-lm &gt; 192.168.8.200.37196: Flags [.], cksum 0x86af (correct), ack 1, win 207, options [nop,nop,TS val 7148297 ecr 78110940], length 0\r\n    \r\n    6 packets captured\r\n    6 packets received by filter\r\n    0 packets dropped by kernel\r\n\r\nWhen you change keepalive parameter on kernel level, this tcpdump filter should display probes sent at requested interval.\r\n\r\nPS: TCP keepalive sending is solely handled by Linux kernel. Oracle&#39;s client SW can only turn this option on, when opening connection.","title":"How to set oracle CONNECTION_PROPERTY_NET_KEEPALIVE property in Java","body":"<p>This might &quot;work&quot; for you but unfortunately Linux kernel default values are not practical.</p>\n<pre><code># cat /proc/sys/net/ipv4/tcp_keepalive_time\n7200\n</code></pre>\n<p>Delay before the 1st probe is sent - 2 hours.\nNOTE: the default value for CISCO ASA's &quot;connection timeout idle&quot; is just 1 hour!!! So the connection is killed before 1st keepalive probe is sent. Unfortunately you need root to change this kernel parameter. Java so far does not support per TCP connection ioctl command to set keepalive parameters.</p>\n<p>When you change this kernel parameter you should see something like this:</p>\n<pre><code># cat /proc/sys/net/ipv4/tcp_keepalive_intvl\n75\nInterval between probes.\n\n# cat /proc/sys/net/ipv4/tcp_keepalive_probes\n9\nThe number of &quot;lost&quot; probes indicating that the connection is dead.\n</code></pre>\n<p>On Oracle side Oracle TCP Keepalive is not active for oracle connections by default. It can be turned on by setting <code>(ENABLE=BROKEN)</code> under DESCRIPTION element in connect string or by using <code>-Doracle.net.keepAlive=true</code></p>\n<p>You can verify your setting by using tcpdump\nConnect using:</p>\n<pre><code>(DESCRIPTION=\n    (ENABLE=BROKEN)\n    (TRANSPORT_CONNECT_TIMEOUT=90)\n    (RETRY_COUNT=20)\n    (FAILOVER=ON)\n    (ADDRESS=(PROTOCOL=TCP)(HOST=rac-cluster-scan)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=ACTEST))\n)\n\n[~]# nslookup rac-cluster-scan \nServer:         127.0.0.1\nAddress:        127.0.0.1#53\n\nName:   rac-cluster-scan\nAddress: 192.168.8.209\n\n[~]# ip route get 192.168.8.209\n192.168.8.209 dev ens224 src 192.168.8.200\n    cache\n\n[~]# tcpdump -pni ens224 -v &quot;tcp port 1521 and ( tcp[tcpflags] &amp; tcp-ack != 0 and ( (ip[2:2] - ((ip[0]&amp;0xf)&lt;&lt;2) ) - ((tcp[12]&amp;0xf0)&gt;&gt;2) ) == 0 )&quot;\ntcpdump: listening on ens224, link-type EN10MB (Ethernet), capture size 262144 bytes\n14:56:49.994675 IP (tos 0x0, ttl 64, id 12096, offset 0, flags [DF], proto TCP (6), length 52)\n    192.168.8.200.37196 &gt; 192.168.8.212.ncube-lm: Flags [.], cksum 0x9313 (incorrect -&gt; 0x4b94), ack 2263270845, win 359, options [nop,nop,TS val 78140944 ecr 7133273], length 0\n14:56:49.994829 IP (tos 0x0, ttl 64, id 55327, offset 0, flags [DF], proto TCP (6), length 52)\n    192.168.8.212.ncube-lm &gt; 192.168.8.200.37196: Flags [.], cksum 0xadcf (correct), ack 1, win 207, options [nop,nop,TS val 7138281 ecr 78110940], length 0\n14:56:55.002668 IP (tos 0x0, ttl 64, id 12097, offset 0, flags [DF], proto TCP (6), length 52)\n    192.168.8.200.37196 &gt; 192.168.8.212.ncube-lm: Flags [.], cksum 0x9313 (incorrect -&gt; 0x2474), ack 1, win 359, options [nop,nop,TS val 78145952 ecr 7138281], length 0\n14:56:55.002809 IP (tos 0x0, ttl 64, id 55328, offset 0, flags [DF], proto TCP (6), length 52)\n    192.168.8.212.ncube-lm &gt; 192.168.8.200.37196: Flags [.], cksum 0x9a3f (correct), ack 1, win 207, options [nop,nop,TS val 7143289 ecr 78110940], length 0\n14:57:00.010680 IP (tos 0x0, ttl 64, id 12098, offset 0, flags [DF], proto TCP (6), length 52)\n    192.168.8.200.37196 &gt; 192.168.8.212.ncube-lm: Flags [.], cksum 0x9313 (incorrect -&gt; 0xfd53), ack 1, win 359, options [nop,nop,TS val 78150960 ecr 7143289], length 0\n14:57:00.011296 IP (tos 0x0, ttl 64, id 55329, offset 0, flags [DF], proto TCP (6), length 52)\n    192.168.8.212.ncube-lm &gt; 192.168.8.200.37196: Flags [.], cksum 0x86af (correct), ack 1, win 207, options [nop,nop,TS val 7148297 ecr 78110940], length 0\n\n6 packets captured\n6 packets received by filter\n0 packets dropped by kernel\n</code></pre>\n<p>When you change keepalive parameter on kernel level, this tcpdump filter should display probes sent at requested interval.</p>\n<p>PS: TCP keepalive sending is solely handled by Linux kernel. Oracle's client SW can only turn this option on, when opening connection.</p>\n"}],"owner":{"account_id":13213962,"reputation":50,"user_id":9543171,"display_name":"Doofenshmirtz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674239917,"creation_date":1674201814,"question_id":75181242,"body_markdown":"I am getting sudden drops in connection in my java application when connection has been idle for sometime. \r\n```\r\nIO Error: Connection reset; nested exception is java.sql.SQLRecoverableException\r\n```\r\n\r\nFound below:\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html\r\n\r\nHow to set keep alive property in Java?","title":"How to set oracle CONNECTION_PROPERTY_NET_KEEPALIVE property in Java","body":"<p>I am getting sudden drops in connection in my java application when connection has been idle for sometime.</p>\n<pre><code>IO Error: Connection reset; nested exception is java.sql.SQLRecoverableException\n</code></pre>\n<p>Found below:\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html</a></p>\n<p>How to set keep alive property in Java?</p>\n"},{"tags":["java","evosuite"],"owner":{"account_id":27582868,"reputation":1,"user_id":21051685,"display_name":"Tom Mehaffey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674239732,"creation_date":1674239714,"question_id":75188120,"body_markdown":"I am trying to use Evosuite to generate tests for a single entry point in a project. It is only considering coverage in the entry point class.\r\n\r\nMinimal example:\r\n\r\n```lang-java\r\npublic final class A {\r\n    private A() {}\r\n    public static void test(int a) {\r\n        if (a == 100) System.out.println();\r\n    }\r\n}\r\n\r\npublic final class B {\r\n    private B() {}\r\n    public static void test(int a) {\r\n        A.test(a);\r\n    }\r\n}\r\n```\r\n\r\n```lang-bash\r\nevosuite -Dinstrument_parent=true -Dinstrument_context=true -Dinstrument_method_calls=true -Dinstrument_libraries=true -Dcriterion=BRANCH -generateSuite -projectCP . -class B\r\n```\r\n\r\nEvosuite yields only one test and is oblivious to the branch in A. Is there any way to make it consider coverage for dependency classes?\r\n","title":"Evosuite is not considering coverage in dependency classes","body":"<p>I am trying to use Evosuite to generate tests for a single entry point in a project. It is only considering coverage in the entry point class.</p>\n<p>Minimal example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class A {\n    private A() {}\n    public static void test(int a) {\n        if (a == 100) System.out.println();\n    }\n}\n\npublic final class B {\n    private B() {}\n    public static void test(int a) {\n        A.test(a);\n    }\n}\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>evosuite -Dinstrument_parent=true -Dinstrument_context=true -Dinstrument_method_calls=true -Dinstrument_libraries=true -Dcriterion=BRANCH -generateSuite -projectCP . -class B\n</code></pre>\n<p>Evosuite yields only one test and is oblivious to the branch in A. Is there any way to make it consider coverage for dependency classes?</p>\n"},{"tags":["java","sorting","multidimensional-array"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1674337969,"post_id":75187969,"comment_id":132694614,"body_markdown":"the problem are in those for loop ```for(int k=0;k&lt;3;k++){for(int l=0;l&lt;3;l++){```\nshould be (also a little modification to your if statment) ```for(int k=i;k&lt;3;k++){\n                    for(int l=j;l&lt;3;l++){\n                        if(matrix[k][l]&lt;matrix[i][j]){```\nas your code will rotate the matrix twice it&#39;s better to see how it work add break point where the for loop start then from your ide choose debug then step over and you will see how it work","body":"the problem are in those for loop <code>for(int k=0;k&lt;3;k++){for(int l=0;l&lt;3;l++){</code> should be (also a little modification to your if statment) <code>for(int k=i;k&lt;3;k++){                     for(int l=j;l&lt;3;l++){                         if(matrix[k][l]&lt;matrix[i][j]){</code> as your code will rotate the matrix twice it&#39;s better to see how it work add break point where the for loop start then from your ide choose debug then step over and you will see how it work"}],"answers":[{"tags":[],"owner":{"account_id":27451148,"reputation":11,"user_id":20943379,"display_name":"axel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674239524,"creation_date":1674239524,"answer_id":75188087,"question_id":75187969,"body_markdown":"I don&#39;t understand your question correctly, what are you saying,\r\n\r\nBut to print the array in ascending order try this,\r\n\r\n        for(int i=0; i&lt;matrix.length; i++){\r\n            for(int j=0; j&lt;matrix.length; j++){\r\n                if(matrix[i] &lt;= matrix[j]){\r\n                    int temp = matrix[i];\r\n                    matrix[i] = matrix[j];\r\n                    matrix[j] = temp;\r\n                    \r\n                }\r\n            }\r\n        }\r\n\r\nAnd to print in descending order, change matrix[i] &lt;= matrix[j] to matrix[i] &gt; matrix[j]","title":"I wrote this java code to print 2D array in assending order but its printing it in desending order","body":"<p>I don't understand your question correctly, what are you saying,</p>\n<p>But to print the array in ascending order try this,</p>\n<pre><code>    for(int i=0; i&lt;matrix.length; i++){\n        for(int j=0; j&lt;matrix.length; j++){\n            if(matrix[i] &lt;= matrix[j]){\n                int temp = matrix[i];\n                matrix[i] = matrix[j];\n                matrix[j] = temp;\n                \n            }\n        }\n    }\n</code></pre>\n<p>And to print in descending order, change matrix[i] &lt;= matrix[j] to matrix[i] &gt; matrix[j]</p>\n"}],"owner":{"account_id":27582928,"reputation":1,"user_id":21051732,"display_name":"Abdullah zain Haider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674239524,"creation_date":1674238797,"question_id":75187969,"body_markdown":"       for(int i=0;i&lt;3;i++){\r\n             for(int j=0;j&lt;3;j++){\r\n               for(int k=0;k&lt;3;k++){\r\n                    for(int l=0;l&lt;3;l++){\r\n                          if(matrix[i][j]&gt;matrix[k][l]){\r\n                           int temp=matrix[i][j];\r\n                           matrix[i][j]=matrix[k][l];\r\n                          matrix[k][l]=temp;\r\n                          \r\n                      }\r\n                  }\r\n              }\r\n          }\r\n         }\r\n\r\nwhenever i change &#39;&gt;&#39; with &#39;&lt;&#39; which doesnot make sense in case of assending order ,it print it assending order ?\r\n(same case in 1D) \r\n\r\nI was expecting compiler to  print 2D in assending order but compiler printing it in desending order ","title":"I wrote this java code to print 2D array in assending order but its printing it in desending order","body":"<pre><code>   for(int i=0;i&lt;3;i++){\n         for(int j=0;j&lt;3;j++){\n           for(int k=0;k&lt;3;k++){\n                for(int l=0;l&lt;3;l++){\n                      if(matrix[i][j]&gt;matrix[k][l]){\n                       int temp=matrix[i][j];\n                       matrix[i][j]=matrix[k][l];\n                      matrix[k][l]=temp;\n                      \n                  }\n              }\n          }\n      }\n     }\n</code></pre>\n<p>whenever i change '&gt;' with '&lt;' which doesnot make sense in case of assending order ,it print it assending order ?\n(same case in 1D)</p>\n<p>I was expecting compiler to  print 2D in assending order but compiler printing it in desending order</p>\n"},{"tags":["java","database","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1674241308,"post_id":75188058,"comment_id":132680390,"body_markdown":"&quot;*Well, if we have several databases, then it is possible to use a single transaction for all of them?* - This is in general possible, yes. We would, however, have `n+1` transactions for `n` databases (one per database, and one global transaction managed by the global transaction manager, to group them together). But not without additional configuration. The phrase you&#39;re looking for are [distributes/global/XA-Transactions (`en.wikipedia.org`)](https://de.wikipedia.org/wiki/X/Open_XA). Whether this, however, is desirable is another question.","body":"&quot;<i>Well, if we have several databases, then it is possible to use a single transaction for all of them?</i> - This is in general possible, yes. We would, however, have <code>n+1</code> transactions for <code>n</code> databases (one per database, and one global transaction managed by the global transaction manager, to group them together). But not without additional configuration. The phrase you&#39;re looking for are <a href=\"https://de.wikipedia.org/wiki/X/Open_XA\" rel=\"nofollow noreferrer\">distributes/global/XA-Transactions (<code>en.wikipedia.org</code>)</a>. Whether this, however, is desirable is another question."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674241759,"post_id":75188058,"comment_id":132680520,"body_markdown":"As an aside: From an architectual point of view, I would recommend to not have `@Transactional` in the service layer. If we have complex persistence logic, I would suggest to write a dedicated DAO to handle this, and the `@Transactional`-annotation would then be placed there.","body":"As an aside: From an architectual point of view, I would recommend to not have <code>@Transactional</code> in the service layer. If we have complex persistence logic, I would suggest to write a dedicated DAO to handle this, and the <code>@Transactional</code>-annotation would then be placed there."}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674239346,"creation_date":1674239346,"question_id":75188058,"body_markdown":"I read in this [link][1] that it is possible to use @Transactional in the service layer\r\n\r\n\r\nWell, if we have several databases, then it is possible to use a single transaction for all of them? After all, isn&#39;t every transaction in each database specific to that database? So how can it be shared among all of them?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3886909/where-should-transactional-be-placed-service-layer-or-dao","title":"How does the @Transactional perform in service layer?","body":"<p>I read in this <a href=\"https://stackoverflow.com/questions/3886909/where-should-transactional-be-placed-service-layer-or-dao\">link</a> that it is possible to use @Transactional in the service layer</p>\n<p>Well, if we have several databases, then it is possible to use a single transaction for all of them? After all, isn't every transaction in each database specific to that database? So how can it be shared among all of them?</p>\n"},{"tags":["java","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674239184,"creation_date":1674239184,"answer_id":75188032,"question_id":75133632,"body_markdown":"Actually `Criteria` is a wrapper class to abstract you from the MongoDB syntax and build the queries in an elegant way.\r\n\r\n&gt;I would like to convert to a `Criteria` object so that I can use in `Aggregation.match()` query\r\n\r\nThere is no need to do so. Try this:\r\n\r\n    AggregationOperation match = ctx =&gt; new Document(&quot;$match&quot;, Document.parse(your_json).get(&quot;_filter&quot;));\r\n    ...\r\n    Aggregation agg = Aggregation.newAggregation(match)\r\n       .withOptions(Aggregation.newAggregationOptions().allowDiskUse(Boolean.TRUE).build());\r\n    mongotemplate.aggregate();\r\n    mongoTemplate.aggregate(agg, inputType, outputType).getMappedResults();\r\n\r\n","title":"How to dynamically construct MongoDB Criteria object for Aggregation.match?","body":"<p>Actually <code>Criteria</code> is a wrapper class to abstract you from the MongoDB syntax and build the queries in an elegant way.</p>\n<blockquote>\n<p>I would like to convert to a <code>Criteria</code> object so that I can use in <code>Aggregation.match()</code> query</p>\n</blockquote>\n<p>There is no need to do so. Try this:</p>\n<pre><code>AggregationOperation match = ctx =&gt; new Document(&quot;$match&quot;, Document.parse(your_json).get(&quot;_filter&quot;));\n...\nAggregation agg = Aggregation.newAggregation(match)\n   .withOptions(Aggregation.newAggregationOptions().allowDiskUse(Boolean.TRUE).build());\nmongotemplate.aggregate();\nmongoTemplate.aggregate(agg, inputType, outputType).getMappedResults();\n</code></pre>\n"}],"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674239184,"creation_date":1673868757,"question_id":75133632,"body_markdown":"I have the following JSON object which I would like to convert to a `Criteria` object so that I can use in `Aggregation.match()` query.\r\n\r\n```json\r\n{\r\n  &quot;_filter&quot;: {\r\n    &quot;$and&quot;: [\r\n      {\r\n        &quot;$or&quot;: [\r\n          {\r\n            &quot;country&quot;: &quot;India&quot;\r\n          },\r\n          {\r\n            &quot;age&quot;: 20\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  &quot;_page&quot;: {\r\n    &quot;pageNum&quot;: 0,\r\n    &quot;recordsPerPage&quot;: 1\r\n  }\r\n}\r\n```\r\n\r\nI have seen that we have `BasicQuery` object which can be constructed from the contents of the `_filter` field. However, I am not able to deduce `Criteria` object from that.\r\n\r\nIs there any method/utility in Spring Data MongoDB that does this?","title":"How to dynamically construct MongoDB Criteria object for Aggregation.match?","body":"<p>I have the following JSON object which I would like to convert to a <code>Criteria</code> object so that I can use in <code>Aggregation.match()</code> query.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;_filter&quot;: {\n    &quot;$and&quot;: [\n      {\n        &quot;$or&quot;: [\n          {\n            &quot;country&quot;: &quot;India&quot;\n          },\n          {\n            &quot;age&quot;: 20\n          }\n        ]\n      }\n    ]\n  },\n  &quot;_page&quot;: {\n    &quot;pageNum&quot;: 0,\n    &quot;recordsPerPage&quot;: 1\n  }\n}\n</code></pre>\n<p>I have seen that we have <code>BasicQuery</code> object which can be constructed from the contents of the <code>_filter</code> field. However, I am not able to deduce <code>Criteria</code> object from that.</p>\n<p>Is there any method/utility in Spring Data MongoDB that does this?</p>\n"},{"tags":["java","morphia","spring-mongodb"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1482591254,"post_id":37584915,"comment_id":69831942,"body_markdown":"This is an off topic recommendation question.","body":"This is an off topic recommendation question."}],"answers":[{"tags":[],"owner":{"account_id":1872077,"reputation":582,"user_id":1694094,"display_name":"Abdel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1674238356,"creation_date":1482935598,"answer_id":41364134,"question_id":37584915,"body_markdown":"Morphia is the way to go. Pretty stable, very good Play integration and offers access to all Mongo driver features if you need more torque. Reference resolution, entity embedding are working as expected. You get lifecycle annotations too, which are pretty useful for boilerplate persistence code.\r\n\r\nI personally like spring-data because of the hades project... You don&#39;t need to implement the DAOs. You just write the interface and spring data automatically provides it to you. However Spring Data Mongodb implementation seems a little buggy in my initial trial. If you have hard dates and is working on a production quality product, probably it is wise to choose Morphia.\r\n","title":"Morphia vs Spring Data Mongo","body":"<p>Morphia is the way to go. Pretty stable, very good Play integration and offers access to all Mongo driver features if you need more torque. Reference resolution, entity embedding are working as expected. You get lifecycle annotations too, which are pretty useful for boilerplate persistence code.</p>\n<p>I personally like spring-data because of the hades project... You don't need to implement the DAOs. You just write the interface and spring data automatically provides it to you. However Spring Data Mongodb implementation seems a little buggy in my initial trial. If you have hard dates and is working on a production quality product, probably it is wise to choose Morphia.</p>\n"},{"tags":[],"owner":{"account_id":2059760,"reputation":2801,"user_id":4958222,"accept_rate":75,"display_name":"Rahul Kumar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1483088983,"creation_date":1483088983,"answer_id":41393517,"question_id":37584915,"body_markdown":"I have been using Spring-data and I guess I feel somehow it lags as far as maturity is concerned.\r\n\r\nIt&#39;s good for all the practical purposes but the features mongo provides in it&#39;s full glory, Spring-data is slow to map that as a driver specially when it comes to aggregation.\r\n\r\nAs far as performance goes, Spring-data doesn&#39;t lag imo.\r\n\r\nSometime I get weird behaviors. [Some][1] of their annotation silently doesn&#39;t work at some places and for my life I cannot figure out why?\r\n\r\nBut as an overall implementation it&#39;s quite helpful in the way that it provides a robust structure on which your application can grow. It also is easy if you are coming from SQL background since you can draw a parallel between jdbcTemplate and mongoTemplate (though one needs to be cautious) \r\n\r\nI seriously considered using Morphia, but dropped the idea since spring-data was providing a more structured ways. Looks like in Morphia we would have to implement some structure on our own which has pros and cons but You usually want to avoid doing it. Since there is a risk of boiler-plate codes, there is a learning curve for &#39;your&#39; structure for new members. \r\n\r\nOn the pros side, I am sure Morphia provides more extensiblity leading you to enjoy the ability to suck most out of mongo features. It also is lightweight compared to Spring data.\r\n\r\n  [1]: https://stackoverflow.com/questions/30774376/compoundindex-not-working-in-spring-data-mongodb","title":"Morphia vs Spring Data Mongo","body":"<p>I have been using Spring-data and I guess I feel somehow it lags as far as maturity is concerned.</p>\n\n<p>It's good for all the practical purposes but the features mongo provides in it's full glory, Spring-data is slow to map that as a driver specially when it comes to aggregation.</p>\n\n<p>As far as performance goes, Spring-data doesn't lag imo.</p>\n\n<p>Sometime I get weird behaviors. <a href=\"https://stackoverflow.com/questions/30774376/compoundindex-not-working-in-spring-data-mongodb\">Some</a> of their annotation silently doesn't work at some places and for my life I cannot figure out why?</p>\n\n<p>But as an overall implementation it's quite helpful in the way that it provides a robust structure on which your application can grow. It also is easy if you are coming from SQL background since you can draw a parallel between jdbcTemplate and mongoTemplate (though one needs to be cautious) </p>\n\n<p>I seriously considered using Morphia, but dropped the idea since spring-data was providing a more structured ways. Looks like in Morphia we would have to implement some structure on our own which has pros and cons but You usually want to avoid doing it. Since there is a risk of boiler-plate codes, there is a learning curve for 'your' structure for new members. </p>\n\n<p>On the pros side, I am sure Morphia provides more extensiblity leading you to enjoy the ability to suck most out of mongo features. It also is lightweight compared to Spring data.</p>\n"}],"owner":{"account_id":5569517,"reputation":215,"user_id":4415443,"accept_rate":0,"display_name":"Mohit Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6293,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"closed_date":1674320047,"answer_count":2,"score":6,"last_activity_date":1674238356,"creation_date":1464851259,"question_id":37584915,"body_markdown":"I am using Java language.I have to use ORM framework with MongoDb as Database.I have two options Morphia or Spring Data Mongo support.As far i am able to get details , it has been found Spring Data Mongo is better to use since:\r\n1)It provides better DAO out of box inbuilt classes.\r\n2)It has larger community base.\r\n\r\nAre there any performance based differences between the two.And if there which one is better in which condition.Also i have requirement of multitenancy .After little search i  found that there is very simple custom implementation in Spring Data Mongo to do the same.But in Morphia it is somewhat difficult.Does achieving multitenancy in Morphia diificult(where we need to write a lot of boiler plate code)","title":"Morphia vs Spring Data Mongo","body":"<p>I am using Java language.I have to use ORM framework with MongoDb as Database.I have two options Morphia or Spring Data Mongo support.As far i am able to get details , it has been found Spring Data Mongo is better to use since:\n1)It provides better DAO out of box inbuilt classes.\n2)It has larger community base.</p>\n\n<p>Are there any performance based differences between the two.And if there which one is better in which condition.Also i have requirement of multitenancy .After little search i  found that there is very simple custom implementation in Spring Data Mongo to do the same.But in Morphia it is somewhat difficult.Does achieving multitenancy in Morphia diificult(where we need to write a lot of boiler plate code)</p>\n"},{"tags":["java","playframework","ebean"],"answers":[{"tags":[],"owner":{"account_id":13591867,"reputation":1,"user_id":9804971,"display_name":"KroBlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1526633505,"creation_date":1526633505,"answer_id":50407383,"question_id":50387877,"body_markdown":"Ok I have found the solution. It turns out that I just had to fetch the id in addition to the name or else Ebean was lost. In the end here is the sql request that works:\r\n    \r\n    String sql = &quot;SELECT id, name FROM Laboratory&quot;;\r\n\r\n\r\n","title":"SQLException:Column Index out of range with Ebean and rawSql in Play Framework","body":"<p>Ok I have found the solution. It turns out that I just had to fetch the id in addition to the name or else Ebean was lost. In the end here is the sql request that works:</p>\n\n<pre><code>String sql = \"SELECT id, name FROM Laboratory\";\n</code></pre>\n"}],"owner":{"account_id":13591867,"reputation":1,"user_id":9804971,"display_name":"KroBlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50407383,"answer_count":1,"score":0,"last_activity_date":1674238118,"creation_date":1526549106,"question_id":50387877,"body_markdown":"After looking for a day I still don&#39;t get what I am doing wrong here. I want to select the column name in my table Laboratory in the server which contain 6 columns but I keep getting the error:\r\n\r\n&gt;&quot;SQLException:Column Index out of range: 0, number of columns: 1&quot;.\r\n\r\nIs anyone familiar with this? Thanks\r\n\r\nHere&#39;s my code:\r\n\r\n        String sql = &quot;SELECT name FROM Laboratory&quot;;\r\n        RawSql rawSql = RawSqlBuilder\r\n                .parse(sql)\r\n                .create();\r\n        Query&lt;Laboratory&gt; query = Ebean.find(Laboratory.class);\r\n        query.setRawSql(rawSql).where();\r\n        List&lt;Laboratory&gt; results = query.findList();\r\n \r\n        results.sort(Comparator.comparing(Laboratory::getName)); // Sort by alphabetical order\r\n        try {\r\n            String json = JsonHelper.toJSON(results);\r\n            return ok(json).as(&quot;application/json&quot;);\r\n        } catch (JsonProcessingException e) {\r\n            LOG.error(&quot;Unable to serialize sql request&quot;, e);\r\n            return internalServerError();\r\n        }","title":"SQLException:Column Index out of range with Ebean and rawSql in Play Framework","body":"<p>After looking for a day I still don't get what I am doing wrong here. I want to select the column name in my table Laboratory in the server which contain 6 columns but I keep getting the error:</p>\n<blockquote>\n<p>&quot;SQLException:Column Index out of range: 0, number of columns: 1&quot;.</p>\n</blockquote>\n<p>Is anyone familiar with this? Thanks</p>\n<p>Here's my code:</p>\n<pre><code>    String sql = &quot;SELECT name FROM Laboratory&quot;;\n    RawSql rawSql = RawSqlBuilder\n            .parse(sql)\n            .create();\n    Query&lt;Laboratory&gt; query = Ebean.find(Laboratory.class);\n    query.setRawSql(rawSql).where();\n    List&lt;Laboratory&gt; results = query.findList();\n\n    results.sort(Comparator.comparing(Laboratory::getName)); // Sort by alphabetical order\n    try {\n        String json = JsonHelper.toJSON(results);\n        return ok(json).as(&quot;application/json&quot;);\n    } catch (JsonProcessingException e) {\n        LOG.error(&quot;Unable to serialize sql request&quot;, e);\n        return internalServerError();\n    }\n</code></pre>\n"},{"tags":["java","properties-file","resourcebundle"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674232558,"post_id":75186840,"comment_id":132677699,"body_markdown":"there is no default: *First, it attempts to load a class using the generated class name. If such a class can be found and loaded using the specified class loader, is assignment compatible with ResourceBundle, is accessible from ResourceBundle, and can be instantiated, getBundle creates a new instance of this class and uses it as the result resource bundle.*","body":"there is no default: <i>First, it attempts to load a class using the generated class name. If such a class can be found and loaded using the specified class loader, is assignment compatible with ResourceBundle, is accessible from ResourceBundle, and can be instantiated, getBundle creates a new instance of this class and uses it as the result resource bundle.</i>"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1674235671,"post_id":75186840,"comment_id":132678681,"body_markdown":"I did further readings and research, and based on what I understand, I think what you mentioned is not clear or wrong. This is the correct explanation depending on my use case: The resource bundle file should be in the classpath. If it is not qualified with a package name, it will search the base folder of the classes. If you qualify the resource file with a package, then it will search the related folder accordingly. Your answer is so confusing.","body":"I did further readings and research, and based on what I understand, I think what you mentioned is not clear or wrong. This is the correct explanation depending on my use case: The resource bundle file should be in the classpath. If it is not qualified with a package name, it will search the base folder of the classes. If you qualify the resource file with a package, then it will search the related folder accordingly. Your answer is so confusing."}],"answers":[{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674237740,"creation_date":1674237308,"answer_id":75187731,"question_id":75186840,"body_markdown":"I figured out that I must place the file under `src/test/resource` or `src/main/resources`. Also, if you don&#39;t qualify the resource name with a package name, then it will look for the file in the base folder of the compiled classes such as `target/test-classes`. If you qualify the resource name with a package name, it will look for the file in the related folder matching the package name. Note that the file is copied to the relevant folder in the under `target/` during compile time.\r\n\r\nYou can add this test to quickly verify how it works:\r\n\r\n```\r\n\tpublic void testResourceBundle() {\r\n\t\tResourceBundle rb = ResourceBundle.getBundle(&quot;com.fun.resources.SVCInterface&quot;, Locale.getDefault());\r\n\t\tSystem.out.println(rb.getString(&quot;some.key&quot;));\r\n\t\tassertThat(rb.getString(&quot;some.key&quot;), not(isEmptyOrNullString()));\r\n\t}\r\n```\r\n\r\nSince the above code is running from the test folders, you can place the file under `src/test/resource/com/fun/resources` and name it `SVCInterface.properties` and it will work. Make sure it has the key `some.key=some-value`. In Eclipse, it works since when you run the tests, it will include the target folder of the compiled classes in the classpath by default.","title":"What is the default path of ResourceBundle.getBundle() to access the properties file","body":"<p>I figured out that I must place the file under <code>src/test/resource</code> or <code>src/main/resources</code>. Also, if you don't qualify the resource name with a package name, then it will look for the file in the base folder of the compiled classes such as <code>target/test-classes</code>. If you qualify the resource name with a package name, it will look for the file in the related folder matching the package name. Note that the file is copied to the relevant folder in the under <code>target/</code> during compile time.</p>\n<p>You can add this test to quickly verify how it works:</p>\n<pre><code>    public void testResourceBundle() {\n        ResourceBundle rb = ResourceBundle.getBundle(&quot;com.fun.resources.SVCInterface&quot;, Locale.getDefault());\n        System.out.println(rb.getString(&quot;some.key&quot;));\n        assertThat(rb.getString(&quot;some.key&quot;), not(isEmptyOrNullString()));\n    }\n</code></pre>\n<p>Since the above code is running from the test folders, you can place the file under <code>src/test/resource/com/fun/resources</code> and name it <code>SVCInterface.properties</code> and it will work. Make sure it has the key <code>some.key=some-value</code>. In Eclipse, it works since when you run the tests, it will include the target folder of the compiled classes in the classpath by default.</p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674237740,"creation_date":1674232357,"question_id":75186840,"body_markdown":"While writing unit tests for a small component that is part of a relatively massive Java Project, I came across the need to use a method in another class `TheOtherClassNoPartOfMyProject` that will access a `.properties` file to fetch values used to set up `SSLContext`. I managed to get the JAR dependency for this class and attached the source code. Luckily, I can debug the other class which is not part of the component I am developing. Eventually, the method executes the following steps:\r\n\r\n```\r\npublic class TheOtherClassNoPartOfMyProject {\r\n...\r\n...\r\n\tprivate ResourceBundle resourceBundle = null;\r\n...\r\n...\r\n\tpublic void setLocale(Locale newLocale) throws ACCatastrophicException {\r\n\t\tif (newLocale.equals(locale) &amp;&amp; (resourceBundle != null)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlocale = newLocale;\r\n\t\ttry {\r\n\t\t\tresourceBundle = ResourceBundle.getBundle(filename, locale);\r\n\t\t} catch (MissingResourceException e) {\r\n\t\t\tresourceBundle = null;\r\n\t\t\tSystem.out.println(&quot;Could not locate properties file for locale &#39;&quot;\r\n\t\t\t\t\t+ locale.toString() + &quot;&#39;&quot;);\r\n\t\t\tthrow new ACCatastrophicException(&quot;Could not locate &quot;\r\n\t\t\t\t\t+ ACProductVersion.getProductName()\r\n\t\t\t\t\t+ &quot; properties file for locale &#39;&quot; + locale.toString() + &quot;&#39;&quot;);\r\n\t\t}\r\n\t}\r\n...\r\n...\r\n}\r\n```\r\n\r\nThe class `TheOtherClassNoPartOfMyProject` encapsulates the built-in Java Type `ResourceBundle` to work with `.properties` files.\r\n\r\nWhen the test runs, I get the error `Could not locate properties file for locale ...`.\r\n\r\nBelow is to give more context to the problem I am facing.\r\n\r\nThe component I am writing needs to create `SSLContext` and must reuse existing common classes I am facing difficulty in how to reuse such classes while writing unit tests since not all dependencies and required properties files are available for the component I am writing.\r\n\r\nI have a valid `.properties` file which works when deployed under the `bin` folder of the application root folder of the installed application. However, during development time, I don&#39;t have a `bin` folder in my Maven Project and am not sure where to put this `.properties` file. Below is the code part to create `SSLContext` in my Maven Project, class `MyService`:\r\n\r\n```\r\npublic class MyService {\r\n...\r\n\tprivate static SSLContext sslContext=null;\r\n\tprivate static final String TLSV12 = &quot;TLSv1.2&quot;;\r\n...\r\n\tpublic void createSSLContext() {\r\n\t\tKeyStore keyStore= null;\r\n\t\tKeyStore trustStore = null;\r\n\t\tInputStream kis =null;\r\n\t\tInputStream tis = null;\r\n\t\tKeyManagerFactory keyManagerFactory = null;\r\n\t\tTrustManagerFactory trustManagerFactory = null;\r\n\t\ttry {\r\n\t\t\tconstants = TheOtherClassNoPartOfMyProject.getInstance();\r\n\t\t\tsslContext = SSLContext.getInstance(TLSV12);\r\n\t\t\tif (constants.getString(&quot;webservice.keystore&quot;) != null &amp;&amp; !(constants.getString(&quot;webservice.keystore&quot;).isEmpty())) {\r\n\t\t\t\tkeyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\t\tkis = new FileInputStream(constants.getString(&quot;webservce.keystore&quot;));\r\n\t\t\t\tif (constants.getString(&quot;webservice.keystore_password&quot;) != null &amp;&amp; !(constants.getString(&quot;webservice.keystore_password&quot;).isEmpty())) {\r\n\t\t\t\t\tString keyPassword = &quot;changeit&quot;;\r\n\t\t\t\t\tkeyStore.load(kis,keyPassword.toCharArray());\r\n\t\t\t\t\tkeyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\t\t\t\t\tkeyManagerFactory.init(keyStore, keyPassword.toCharArray());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (constants.getString(&quot;webservice.truststore&quot;) !=null &amp;&amp; !(constants.getString(&quot;webservice.truststore&quot;).isEmpty())) {\r\n\t\t\t\ttrustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\t\ttis = new FileInputStream(constants.getString(&quot;webservice.truststore&quot;));\r\n\t\t\t\tif (constants.getString(&quot;webservice.truststore_password&quot;) != null &amp;&amp; !(constants.getString(&quot;webservice.truststore_password&quot;).isEmpty())) {\r\n\t\t\t\t\tString trustStorePassword = &quot;changeit&quot;;\r\n\t\t\t\t\ttrustStore.load(tis, trustStorePassword.toCharArray());\r\n\t\t\t\t}\r\n\t\t\t\ttrustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\t\ttrustManagerFactory.init(trustStore);\r\n\t\t\t}\r\n\t\t\tsslContext.init(\r\n\t\t\t\t\tkeyManagerFactory!=null?keyManagerFactory.getKeyManagers():null, \r\n\t\t\t\t\ttrustManagerFactory!=null?trustManagerFactory.getTrustManagers():null,\r\n\t\t\t\t\tnew java.security.SecureRandom());\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI was thinking to use `mockito` to mask such methods, but first I wanted to ensure that the code I am writing will work with the existing dependencies. Also, I still need to research how to use `mockit`.\r\n\r\nWhere should I put the `.properties` file so that it can be picked up by `ResourceBundle.getBundle()`?","title":"What is the default path of ResourceBundle.getBundle() to access the properties file","body":"<p>While writing unit tests for a small component that is part of a relatively massive Java Project, I came across the need to use a method in another class <code>TheOtherClassNoPartOfMyProject</code> that will access a <code>.properties</code> file to fetch values used to set up <code>SSLContext</code>. I managed to get the JAR dependency for this class and attached the source code. Luckily, I can debug the other class which is not part of the component I am developing. Eventually, the method executes the following steps:</p>\n<pre><code>public class TheOtherClassNoPartOfMyProject {\n...\n...\n    private ResourceBundle resourceBundle = null;\n...\n...\n    public void setLocale(Locale newLocale) throws ACCatastrophicException {\n        if (newLocale.equals(locale) &amp;&amp; (resourceBundle != null)) {\n            return;\n        }\n        locale = newLocale;\n        try {\n            resourceBundle = ResourceBundle.getBundle(filename, locale);\n        } catch (MissingResourceException e) {\n            resourceBundle = null;\n            System.out.println(&quot;Could not locate properties file for locale '&quot;\n                    + locale.toString() + &quot;'&quot;);\n            throw new ACCatastrophicException(&quot;Could not locate &quot;\n                    + ACProductVersion.getProductName()\n                    + &quot; properties file for locale '&quot; + locale.toString() + &quot;'&quot;);\n        }\n    }\n...\n...\n}\n</code></pre>\n<p>The class <code>TheOtherClassNoPartOfMyProject</code> encapsulates the built-in Java Type <code>ResourceBundle</code> to work with <code>.properties</code> files.</p>\n<p>When the test runs, I get the error <code>Could not locate properties file for locale ...</code>.</p>\n<p>Below is to give more context to the problem I am facing.</p>\n<p>The component I am writing needs to create <code>SSLContext</code> and must reuse existing common classes I am facing difficulty in how to reuse such classes while writing unit tests since not all dependencies and required properties files are available for the component I am writing.</p>\n<p>I have a valid <code>.properties</code> file which works when deployed under the <code>bin</code> folder of the application root folder of the installed application. However, during development time, I don't have a <code>bin</code> folder in my Maven Project and am not sure where to put this <code>.properties</code> file. Below is the code part to create <code>SSLContext</code> in my Maven Project, class <code>MyService</code>:</p>\n<pre><code>public class MyService {\n...\n    private static SSLContext sslContext=null;\n    private static final String TLSV12 = &quot;TLSv1.2&quot;;\n...\n    public void createSSLContext() {\n        KeyStore keyStore= null;\n        KeyStore trustStore = null;\n        InputStream kis =null;\n        InputStream tis = null;\n        KeyManagerFactory keyManagerFactory = null;\n        TrustManagerFactory trustManagerFactory = null;\n        try {\n            constants = TheOtherClassNoPartOfMyProject.getInstance();\n            sslContext = SSLContext.getInstance(TLSV12);\n            if (constants.getString(&quot;webservice.keystore&quot;) != null &amp;&amp; !(constants.getString(&quot;webservice.keystore&quot;).isEmpty())) {\n                keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n                kis = new FileInputStream(constants.getString(&quot;webservce.keystore&quot;));\n                if (constants.getString(&quot;webservice.keystore_password&quot;) != null &amp;&amp; !(constants.getString(&quot;webservice.keystore_password&quot;).isEmpty())) {\n                    String keyPassword = &quot;changeit&quot;;\n                    keyStore.load(kis,keyPassword.toCharArray());\n                    keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n                    keyManagerFactory.init(keyStore, keyPassword.toCharArray());\n                }\n            }\n            \n            if (constants.getString(&quot;webservice.truststore&quot;) !=null &amp;&amp; !(constants.getString(&quot;webservice.truststore&quot;).isEmpty())) {\n                trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n                tis = new FileInputStream(constants.getString(&quot;webservice.truststore&quot;));\n                if (constants.getString(&quot;webservice.truststore_password&quot;) != null &amp;&amp; !(constants.getString(&quot;webservice.truststore_password&quot;).isEmpty())) {\n                    String trustStorePassword = &quot;changeit&quot;;\n                    trustStore.load(tis, trustStorePassword.toCharArray());\n                }\n                trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n                trustManagerFactory.init(trustStore);\n            }\n            sslContext.init(\n                    keyManagerFactory!=null?keyManagerFactory.getKeyManagers():null, \n                    trustManagerFactory!=null?trustManagerFactory.getTrustManagers():null,\n                    new java.security.SecureRandom());\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I was thinking to use <code>mockito</code> to mask such methods, but first I wanted to ensure that the code I am writing will work with the existing dependencies. Also, I still need to research how to use <code>mockit</code>.</p>\n<p>Where should I put the <code>.properties</code> file so that it can be picked up by <code>ResourceBundle.getBundle()</code>?</p>\n"},{"tags":["java","spring","postgresql","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1674247750,"post_id":75187759,"comment_id":132681865,"body_markdown":"The easiest approach is just to put your application-specific database container into the same Compose file as the application proper.  But if you really need multiple Compose files, you need to arrange for them to use the same Docker network; the linked question has several examples.","body":"The easiest approach is just to put your application-specific database container into the same Compose file as the application proper.  But if you really need multiple Compose files, you need to arrange for them to use the same Docker network; the linked question has several examples."}],"owner":{"account_id":19530029,"reputation":1,"user_id":14290027,"display_name":"cichyvx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674247706,"answer_count":0,"score":0,"last_activity_date":1674237489,"creation_date":1674237489,"question_id":75187759,"body_markdown":"i have database in docker on my server, i write spring boot App that connect to that database from my local computer sucessfull, however when i was trying to containerize my app with docker in same server, app cannot connect to my database. in both cases i using my server public IP.\r\n\r\nhere is my database docker-compose:\r\n\r\n```\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  db:\r\n    image: postgres:14.1-alpine\r\n    restart: always\r\n    environment:\r\n      - POSTGRES_USER=xxx\r\n      - POSTGRES_PASSWORD=xxx\r\n    ports:\r\n      - &#39;5432:5432&#39;\r\n    volumes:\r\n      - db:/var/lib/postgresql/data\r\n  pgadmin:\r\n    container_name: pgadmin4_container\r\n    image: dpage/pgadmin4\r\n    restart: always\r\n    environment:\r\n      PGADMIN_DEFAULT_EMAIL: xxx\r\n      PGADMIN_DEFAULT_PASSWORD: xxx\r\n    ports:\r\n      - &quot;5050:80&quot;\r\nvolumes:\r\n  db:\r\n    driver: local\r\n```\r\n\r\nand my app docker-compose:\r\n\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  backend:\r\n    build: .\r\n    ports:\r\n      - 9090:9090\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://XXX_IP:5432/db_name\r\n      - SPRING_DATASOURCE_USERNAME=XXX\r\n      - SPRING_DATASOURCE_PASSWORD=XXX\r\n      - DRIVER_CLASS_NAME=org.postgresql.Driver\r\n```\r\nand if it matters my app Dockerfile:\r\n\r\n```\r\nFROM openjdk:19-jdk-alpine\r\nARG JAR_FILE=*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\n\r\n\r\ni aslo trying link my db docker compose in app compose  with something like that:\r\n\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  backend:\r\n    build: .\r\n    ports:\r\n      - 9090:9090\r\n    links:\r\n      - db\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/io_projekt\r\n      - SPRING_DATASOURCE_USERNAME=xxx\r\n      - SPRING_DATASOURCE_PASSWORD=xxx\r\n      - DRIVER_CLASS_NAME=org.postgresql.Driver\r\n```\r\nbut but it caused an error: no such service: db.\r\n\r\nso ther is my question: what i doing wrong, and what can i do to connect my app docker to database docker?","title":"docker can&#39;t connect to another docker on same machine","body":"<p>i have database in docker on my server, i write spring boot App that connect to that database from my local computer sucessfull, however when i was trying to containerize my app with docker in same server, app cannot connect to my database. in both cases i using my server public IP.</p>\n<p>here is my database docker-compose:</p>\n<pre><code>version: '3.8'\nservices:\n  db:\n    image: postgres:14.1-alpine\n    restart: always\n    environment:\n      - POSTGRES_USER=xxx\n      - POSTGRES_PASSWORD=xxx\n    ports:\n      - '5432:5432'\n    volumes:\n      - db:/var/lib/postgresql/data\n  pgadmin:\n    container_name: pgadmin4_container\n    image: dpage/pgadmin4\n    restart: always\n    environment:\n      PGADMIN_DEFAULT_EMAIL: xxx\n      PGADMIN_DEFAULT_PASSWORD: xxx\n    ports:\n      - &quot;5050:80&quot;\nvolumes:\n  db:\n    driver: local\n</code></pre>\n<p>and my app docker-compose:</p>\n<pre><code>version: '3'\nservices:\n  backend:\n    build: .\n    ports:\n      - 9090:9090\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://XXX_IP:5432/db_name\n      - SPRING_DATASOURCE_USERNAME=XXX\n      - SPRING_DATASOURCE_PASSWORD=XXX\n      - DRIVER_CLASS_NAME=org.postgresql.Driver\n</code></pre>\n<p>and if it matters my app Dockerfile:</p>\n<pre><code>FROM openjdk:19-jdk-alpine\nARG JAR_FILE=*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>i aslo trying link my db docker compose in app compose  with something like that:</p>\n<pre><code>version: '3'\nservices:\n  backend:\n    build: .\n    ports:\n      - 9090:9090\n    links:\n      - db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/io_projekt\n      - SPRING_DATASOURCE_USERNAME=xxx\n      - SPRING_DATASOURCE_PASSWORD=xxx\n      - DRIVER_CLASS_NAME=org.postgresql.Driver\n</code></pre>\n<p>but but it caused an error: no such service: db.</p>\n<p>so ther is my question: what i doing wrong, and what can i do to connect my app docker to database docker?</p>\n"},{"tags":["java","gradle","gradle-task"],"answers":[{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674237114,"creation_date":1674229678,"answer_id":75186327,"question_id":75186326,"body_markdown":"It seems that gradle doesn&#39;t make the up-to-date detection unless there is also an output directory. Adding this to the task made it correctly only run the task when the contents of the input directory changed\r\n\r\n    @OutputDirectory\r\n    public File getOutDirectory(){\r\n        return new File(getProject().getBuildDir(), &quot;someFolder&quot;);\r\n    }\r\n\r\nAs found by @ThomasKl&#228;ger the [Gradle documentation][1] confirms this\r\n\r\n&gt; Also note that incremental build won’t work unless a task has at least one task output\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:up_to_date_checks","title":"Why is my custom Gradle task running even when the input is unchanged","body":"<p>It seems that gradle doesn't make the up-to-date detection unless there is also an output directory. Adding this to the task made it correctly only run the task when the contents of the input directory changed</p>\n<pre><code>@OutputDirectory\npublic File getOutDirectory(){\n    return new File(getProject().getBuildDir(), &quot;someFolder&quot;);\n}\n</code></pre>\n<p>As found by @ThomasKläger the <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:up_to_date_checks\" rel=\"nofollow noreferrer\">Gradle documentation</a> confirms this</p>\n<blockquote>\n<p>Also note that incremental build won’t work unless a task has at least one task output</p>\n</blockquote>\n"}],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674237114,"creation_date":1674229678,"question_id":75186326,"body_markdown":"I&#39;ve created a custom Gradle task in Java (just put within buildSrc, so a local custom task)\r\n\r\n    public class ImageMergerTask extends DefaultTask{\r\n        public File directory;\r\n    \r\n        @TaskAction\r\n        public void greet() {\r\n            System.out.println(&quot;hello from ImageMergerTask &quot; + directory.toString());\r\n        }\r\n    \r\n        @InputDirectory\r\n        public File getDirectory(){\r\n            return directory;\r\n        }\r\n    \r\n        public void setDirectory(File directory){\r\n            this.directory = directory;\r\n        }\r\n    }\r\n\r\nUsed in the build.gradle like\r\n\r\n    task imageMerger(type : ImageMergerTask) {\r\n        directory file(&#39;src/main/resources/someFolder&#39;)\r\n    }\r\n\r\n    processResources.dependsOn(imageMerger);\r\n\r\nMy impression is that by annotating getDirectory() with @InputDirectory, it ought to only run this task if the contents of src/main/resources/someFolder changes, but it seems to run every time, always including in the console:\r\n\r\n```none\r\n&gt; Task :imageMerger\r\nhello from ImageMergerTask C:\\Users\\richa\\Documents\\Development\\starlight\\src\\main\\resources\\someFolder\r\n```\r\n\r\nHow should a custom task declare its inputs to properly take advantage of up-to-date detection?","title":"Why is my custom Gradle task running even when the input is unchanged","body":"<p>I've created a custom Gradle task in Java (just put within buildSrc, so a local custom task)</p>\n<pre><code>public class ImageMergerTask extends DefaultTask{\n    public File directory;\n\n    @TaskAction\n    public void greet() {\n        System.out.println(&quot;hello from ImageMergerTask &quot; + directory.toString());\n    }\n\n    @InputDirectory\n    public File getDirectory(){\n        return directory;\n    }\n\n    public void setDirectory(File directory){\n        this.directory = directory;\n    }\n}\n</code></pre>\n<p>Used in the build.gradle like</p>\n<pre><code>task imageMerger(type : ImageMergerTask) {\n    directory file('src/main/resources/someFolder')\n}\n\nprocessResources.dependsOn(imageMerger);\n</code></pre>\n<p>My impression is that by annotating getDirectory() with @InputDirectory, it ought to only run this task if the contents of src/main/resources/someFolder changes, but it seems to run every time, always including in the console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Task :imageMerger\nhello from ImageMergerTask C:\\Users\\richa\\Documents\\Development\\starlight\\src\\main\\resources\\someFolder\n</code></pre>\n<p>How should a custom task declare its inputs to properly take advantage of up-to-date detection?</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":2652427,"reputation":1200,"user_id":2293768,"accept_rate":17,"display_name":"MiguelAngel_LV"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674236905,"creation_date":1674236905,"answer_id":75187661,"question_id":75187635,"body_markdown":"Because is a regular expression and $ mean &quot;last&quot;","title":"Why does String.replaceAll (&quot;.$&quot;, &quot;&quot;) delete the last character of a string","body":"<p>Because is a regular expression and $ mean &quot;last&quot;</p>\n"}],"owner":{"account_id":27582718,"reputation":1,"user_id":21051564,"display_name":"terishishi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674236888,"answer_count":1,"score":-1,"last_activity_date":1674236905,"creation_date":1674236779,"question_id":75187635,"body_markdown":"So, I wanted to know the meaning of &quot;.$&quot; and why does this command delete the last character of a String.\r\n\r\nI got what I wanted but i just want an explanation for it.","title":"Why does String.replaceAll (&quot;.$&quot;, &quot;&quot;) delete the last character of a string","body":"<p>So, I wanted to know the meaning of &quot;.$&quot; and why does this command delete the last character of a String.</p>\n<p>I got what I wanted but i just want an explanation for it.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","pre-signed-url"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1674238187,"post_id":75187571,"comment_id":132679551,"body_markdown":"Yes if your company intranet has access to a VPC with a private s3 endpoint,","body":"Yes if your company intranet has access to a VPC with a private s3 endpoint,"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674236475,"creation_date":1674236475,"question_id":75187571,"body_markdown":"I have an `S3 pre signed url` that I wish to give to outside clients (outside my company network on public internet). I know `pre-signed` urls can be accessed on the internet but is there a way to test it inside company intranet? Can we use postman to simulate public internet but inside company intranet?","title":"Accessing S3 pre signed url simulating public internet inside intranet","body":"<p>I have an <code>S3 pre signed url</code> that I wish to give to outside clients (outside my company network on public internet). I know <code>pre-signed</code> urls can be accessed on the internet but is there a way to test it inside company intranet? Can we use postman to simulate public internet but inside company intranet?</p>\n"},{"tags":["java","yaml","substitution","snakeyaml"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674221741,"post_id":75178106,"comment_id":132673527,"body_markdown":"Possible duplicate:https://stackoverflow.com/q/74855701/639520","body":"Possible duplicate:<a href=\"https://stackoverflow.com/q/74855701/639520\">stackoverflow.com/q/74855701/639520</a>"}],"owner":{"account_id":383533,"reputation":394,"user_id":739451,"accept_rate":100,"display_name":"Vishnu Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674221753,"answer_count":0,"score":0,"last_activity_date":1674236083,"creation_date":1674161188,"question_id":75178106,"body_markdown":"I am using SnakeYAML in my Java app to read the YAML file for bunch of APIs on various hosts.\r\n\r\nI have the file as :\r\n```yaml\r\nsettings:\r\n  host: example.com\r\n  source: monitor\r\n  table: XYZ123\r\n\r\ntest:\r\n  - name: Summary\r\n    url: $host/api/summary\r\n    params: { &quot;tabledId&quot;: &quot;$table&quot; }\r\n \r\n  - name: List all\r\n    url: $host/api/listall\r\n    params: { &quot;source&quot;: &quot;$source&quot;}\r\n```\r\n\r\nMy class:\r\n```java\r\npublic class Settings {\r\n    private String host;\r\n\r\n    public Settings() {\r\n    }\r\n\r\n    public String getHost() {\r\n        return base_url;\r\n    }\r\n\r\n    public void setHost(String host) {\r\n        this.host = host;\r\n    }\r\n}\r\n```\r\nThis is just an example, but I have several YAML files, one for each host.\r\n\r\nExcept `host`, all the other API parameters keys are dynamic. So, in my custom class for loading YAML, I am unable to define these settings as the setting key is not constant. How do i achieve this internal substitution of the YAML?\r\n\r\nI tried YAML anchors, like `&amp;host example.com` and `url: *host/api/summary`, but it could not resolve alias, I understood that. However, if we do need concatenate the anchor with a string, how do we do that?\r\n\r\nJust to be clear, if I define the value directly for each test, I am able to work on the APIs as listed on YAML.\r\n\r\n[the duplicate][1] did not help me as it used Spring&#39;s classes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/74855701/639520","title":"How do I replace the values of a YAML file with definitions in the same file?","body":"<p>I am using SnakeYAML in my Java app to read the YAML file for bunch of APIs on various hosts.</p>\n<p>I have the file as :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>settings:\n  host: example.com\n  source: monitor\n  table: XYZ123\n\ntest:\n  - name: Summary\n    url: $host/api/summary\n    params: { &quot;tabledId&quot;: &quot;$table&quot; }\n \n  - name: List all\n    url: $host/api/listall\n    params: { &quot;source&quot;: &quot;$source&quot;}\n</code></pre>\n<p>My class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Settings {\n    private String host;\n\n    public Settings() {\n    }\n\n    public String getHost() {\n        return base_url;\n    }\n\n    public void setHost(String host) {\n        this.host = host;\n    }\n}\n</code></pre>\n<p>This is just an example, but I have several YAML files, one for each host.</p>\n<p>Except <code>host</code>, all the other API parameters keys are dynamic. So, in my custom class for loading YAML, I am unable to define these settings as the setting key is not constant. How do i achieve this internal substitution of the YAML?</p>\n<p>I tried YAML anchors, like <code>&amp;host example.com</code> and <code>url: *host/api/summary</code>, but it could not resolve alias, I understood that. However, if we do need concatenate the anchor with a string, how do we do that?</p>\n<p>Just to be clear, if I define the value directly for each test, I am able to work on the APIs as listed on YAML.</p>\n<p><a href=\"https://stackoverflow.com/q/74855701/639520\">the duplicate</a> did not help me as it used Spring's classes.</p>\n"},{"tags":["java","oracle","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674235389,"creation_date":1674235389,"answer_id":75187382,"question_id":75187309,"body_markdown":"That `cobDate` is being declared as a `LocalDate` in the method signature implies that you _already_ have that value in date format.  If so, then the call to `to_date()` in the query is not needed.  Try binding the `LocalDate` value directly:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Query( value =&quot; SELECT status &quot;+\r\n                   &quot; FROM tb1 &quot; +\r\n                   &quot; WHERE &quot; +\r\n                   &quot; to_date(cob_Date,&#39;dd-MON-yy&#39;) = :cobDate &quot; +\r\n                   &quot; AND business_Day =&#39;BD3&#39; &quot; +\r\n                   &quot; AND intra_day =&#39;INTRA_06&#39; &quot; +\r\n                   &quot; AND datasource_name =:datasource&quot; +\r\n                   &quot; AND upper(status) = &#39;COMPLETED&#39; &quot; +\r\n                   &quot; AND frequency = &#39;MONTHLY&#39; &quot; +\r\n                   &quot; AND processed = &#39;Y&#39; &quot; +\r\n                   &quot; ORDER BY create_date desc FETCH FIRST 1 rows only&quot;\r\n                   , nativeQuery=true)\r\n    List&lt;String&gt; getImpalaJobStatus(@Param(&quot;intraDay&quot;) String intraDay,\r\n                                    @Param(&quot;businessDay&quot;) String businessDay,\r\n                                    @Param(&quot;cobDate&quot;) LocalDate cobDate,\r\n                                    @Param(&quot;datasource&quot;) String datasource);\r\n\r\nNote that your Oracle JBDC driver should know how to marshall the `LocalDate` value to the database such that the query works.","title":"How to format Date in JPA query","body":"<p>That <code>cobDate</code> is being declared as a <code>LocalDate</code> in the method signature implies that you <em>already</em> have that value in date format.  If so, then the call to <code>to_date()</code> in the query is not needed.  Try binding the <code>LocalDate</code> value directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query( value =&quot; SELECT status &quot;+\n               &quot; FROM tb1 &quot; +\n               &quot; WHERE &quot; +\n               &quot; to_date(cob_Date,'dd-MON-yy') = :cobDate &quot; +\n               &quot; AND business_Day ='BD3' &quot; +\n               &quot; AND intra_day ='INTRA_06' &quot; +\n               &quot; AND datasource_name =:datasource&quot; +\n               &quot; AND upper(status) = 'COMPLETED' &quot; +\n               &quot; AND frequency = 'MONTHLY' &quot; +\n               &quot; AND processed = 'Y' &quot; +\n               &quot; ORDER BY create_date desc FETCH FIRST 1 rows only&quot;\n               , nativeQuery=true)\nList&lt;String&gt; getImpalaJobStatus(@Param(&quot;intraDay&quot;) String intraDay,\n                                @Param(&quot;businessDay&quot;) String businessDay,\n                                @Param(&quot;cobDate&quot;) LocalDate cobDate,\n                                @Param(&quot;datasource&quot;) String datasource);\n</code></pre>\n<p>Note that your Oracle JBDC driver should know how to marshall the <code>LocalDate</code> value to the database such that the query works.</p>\n"}],"owner":{"account_id":2404898,"reputation":564,"user_id":2101649,"accept_rate":27,"display_name":"vs777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75187382,"answer_count":1,"score":0,"last_activity_date":1674235389,"creation_date":1674234952,"question_id":75187309,"body_markdown":"I have a SpringBoot application where I use Repository class to query my Oracle DB table.\r\n\r\nHere is how the query and associated function are defined :\r\n\r\n    @Query( value =&quot; SELECT status &quot;+\r\n    \t               &quot; FROM tb1 &quot; +\r\n    \t               &quot; WHERE &quot; +\r\n                       &quot; to_date(cob_Date,&#39;dd-MON-yy&#39;) = to_date(:cobDate,&#39;yyyy-mm-dd&#39;) &quot; +\r\n                       &quot; AND business_Day =&#39;BD3&#39; &quot; +\r\n                       &quot; AND intra_day =&#39;INTRA_06&#39; &quot; +\r\n    \t\t\t       &quot; AND datasource_name =:datasource&quot; +\r\n    \t\t\t       &quot; AND upper(status) = &#39;COMPLETED&#39; &quot; +\r\n    \t\t\t       &quot; AND frequency = &#39;MONTHLY&#39; &quot; +\r\n    \t\t\t       &quot; AND processed = &#39;Y&#39; &quot; +\r\n                       &quot; ORDER BY create_date desc FETCH FIRST 1 rows only&quot;\r\n    \t\t\t       , nativeQuery=true)\r\n    \tList&lt;String&gt; getImpalaJobStatus(@Param(&quot;intraDay&quot;) String intraDay,\r\n                                                         @Param(&quot;businessDay&quot;)  String businessDay,\r\n                                                         @Param(&quot;cobDate&quot;) LocalDate cobDate,\r\n                                                         @Param(&quot;datasource&quot;) String datasource);\r\n\r\n\r\n\r\nIf I run this query in SQL developer then I am getting my results back, however if I run it from my SpringBoot Application it returns nothing. \r\n\r\nI suspect I am doing something wrong with the Date field &quot;COB_DATE&quot; and this clause under WHERE:\r\n\r\n    &quot; to_date(cob_Date,&#39;dd-MON-yy&#39;) = to_date(:cobDate,&#39;yyyy-mm-dd&#39;) &quot; +\r\n\r\nI tried it as :\r\n\r\n    &quot; cob_Date =:cobDate &quot;\r\n\r\nbut it didn&#39;t work either.","title":"How to format Date in JPA query","body":"<p>I have a SpringBoot application where I use Repository class to query my Oracle DB table.</p>\n<p>Here is how the query and associated function are defined :</p>\n<pre><code>@Query( value =&quot; SELECT status &quot;+\n                   &quot; FROM tb1 &quot; +\n                   &quot; WHERE &quot; +\n                   &quot; to_date(cob_Date,'dd-MON-yy') = to_date(:cobDate,'yyyy-mm-dd') &quot; +\n                   &quot; AND business_Day ='BD3' &quot; +\n                   &quot; AND intra_day ='INTRA_06' &quot; +\n                   &quot; AND datasource_name =:datasource&quot; +\n                   &quot; AND upper(status) = 'COMPLETED' &quot; +\n                   &quot; AND frequency = 'MONTHLY' &quot; +\n                   &quot; AND processed = 'Y' &quot; +\n                   &quot; ORDER BY create_date desc FETCH FIRST 1 rows only&quot;\n                   , nativeQuery=true)\n    List&lt;String&gt; getImpalaJobStatus(@Param(&quot;intraDay&quot;) String intraDay,\n                                                     @Param(&quot;businessDay&quot;)  String businessDay,\n                                                     @Param(&quot;cobDate&quot;) LocalDate cobDate,\n                                                     @Param(&quot;datasource&quot;) String datasource);\n</code></pre>\n<p>If I run this query in SQL developer then I am getting my results back, however if I run it from my SpringBoot Application it returns nothing.</p>\n<p>I suspect I am doing something wrong with the Date field &quot;COB_DATE&quot; and this clause under WHERE:</p>\n<pre><code>&quot; to_date(cob_Date,'dd-MON-yy') = to_date(:cobDate,'yyyy-mm-dd') &quot; +\n</code></pre>\n<p>I tried it as :</p>\n<pre><code>&quot; cob_Date =:cobDate &quot;\n</code></pre>\n<p>but it didn't work either.</p>\n"},{"tags":["java","apache-spark","async-profiler"],"owner":{"account_id":3207382,"reputation":2884,"user_id":2708169,"accept_rate":49,"display_name":"ffff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674235221,"creation_date":1674235221,"question_id":75187350,"body_markdown":"perhaps nothing new but we have a use case to profile a spark application that runs in a distributed fashion\r\n\r\nWe currently use the async-profiler that monitors each executor ( a process in spark ) and generates a JFR per process. It&#39;s a little annoying to look at individual executor profiles and make any sense/compare\r\n\r\nWe are using the JFR assemble to combine all the JFR&#39;s produced. Curious, is this how distributed profiling done?\r\n\r\n```\r\n/async-profiler/profiler.sh collect -e cpu -d 120 -i 20ms -o jfr -f ${file} ${pid}\r\n```\r\n\r\nThis is run periodically every 120 seconds thus creating a continuous mode profiling\r\n\r\nThe benchmark we are running is to run a job in a cluster of EC2 2xl vs EC2 4xl and what we are noticing is that on 4xl our jobs are running slower. The 2xl cluster has twice the number of machines as 4xl\r\n\r\nEach process uses 8cores, 54gb heap. On 2xl, each machine runs a single process but on 4xl, we run 2 process per machine without any isolation\r\n\r\nAny leads on how to debug this is appreciated. Let us know if I need to add any more options to the async-profiler. We clearly see more time spent on CPU hence the -e CPU","title":"Best practices for distributed profiling","body":"<p>perhaps nothing new but we have a use case to profile a spark application that runs in a distributed fashion</p>\n<p>We currently use the async-profiler that monitors each executor ( a process in spark ) and generates a JFR per process. It's a little annoying to look at individual executor profiles and make any sense/compare</p>\n<p>We are using the JFR assemble to combine all the JFR's produced. Curious, is this how distributed profiling done?</p>\n<pre><code>/async-profiler/profiler.sh collect -e cpu -d 120 -i 20ms -o jfr -f ${file} ${pid}\n</code></pre>\n<p>This is run periodically every 120 seconds thus creating a continuous mode profiling</p>\n<p>The benchmark we are running is to run a job in a cluster of EC2 2xl vs EC2 4xl and what we are noticing is that on 4xl our jobs are running slower. The 2xl cluster has twice the number of machines as 4xl</p>\n<p>Each process uses 8cores, 54gb heap. On 2xl, each machine runs a single process but on 4xl, we run 2 process per machine without any isolation</p>\n<p>Any leads on how to debug this is appreciated. Let us know if I need to add any more options to the async-profiler. We clearly see more time spent on CPU hence the -e CPU</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1674230268,"post_id":75186389,"comment_id":132676911,"body_markdown":"So what exactly is the problem?","body":"So what exactly is the problem?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1674230463,"post_id":75186389,"comment_id":132676995,"body_markdown":"A comment saying `// problem here` really doesn&#39;t clarify much. What problem is there exactly? What are you trying to do and what isn&#39;t working?","body":"A comment saying <code>&#47;&#47; problem here</code> really doesn&#39;t clarify much. What problem is there exactly? What are you trying to do and what isn&#39;t working?"},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1674230562,"post_id":75186389,"comment_id":132677029,"body_markdown":"@Mureinik the problem, is that, if the user picks id 3, and then on the 2nd picks id 3 again, I am not able to implement the code to request a new pick, without the for loop continuing.\n\nI have tried, while, switch, nothing works.","body":"@Mureinik the problem, is that, if the user picks id 3, and then on the 2nd picks id 3 again, I am not able to implement the code to request a new pick, without the for loop continuing.  I have tried, while, switch, nothing works."},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1674231399,"post_id":75186389,"comment_id":132677295,"body_markdown":"@OHGODSPIDERS I have added an example of what I tried, I hope this clarifies it more.","body":"@OHGODSPIDERS I have added an example of what I tried, I hope this clarifies it more."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1674233550,"post_id":75186389,"comment_id":132678019,"body_markdown":"It might help if the O/P were to review [Minimal Reproducible Example] https://stackoverflow.com/help/minimal-reproducible-example","body":"It might help if the O/P were to review [Minimal Reproducible Example] <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1674237066,"post_id":75186389,"comment_id":132679161,"body_markdown":"Off Topic: Considering implementing `.equals` and `.hasCode` methods for the `God` class, and possibly other classes. That will allow more direct use of methods in `Collections` and `Collection`, and classes that implement `Collection`.","body":"Off Topic: Considering implementing <code>.equals</code> and <code>.hasCode</code> methods for the <code>God</code> class, and possibly other classes. That will allow more direct use of methods in <code>Collections</code> and <code>Collection</code>, and classes that implement <code>Collection</code>."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674235215,"creation_date":1674235215,"answer_id":75187348,"question_id":75186389,"body_markdown":"If I understand correctly, the key is to replace the `for` loop, which will have 6 iterations, with a `while` loop, which will iterate until the user has successfully selected 6 gods. Use `continue;` when there is a failure to select a god.\r\n\r\n    System.out.println(&quot;Please choose the 6 id&#39;s of the gods, you wish to pick:&quot;);\r\n        while (selectedGods.size () &lt; 6) {        \r\n            System.out.print (&quot;You have selected &quot; + selectedGods.size () \r\n              + &quot;gods. Please enter I.D. of next god &gt;&quot;);\r\n            chooseGodId = scanner.nextInt();\r\n            if (findGod (selectedGods, chooseGodID) &gt;= 0) { \r\n               System.out.println (&quot;You already selected god &quot; + chooseGodId\r\n                + &quot;.  Please select again.&quot;);\r\n               continue;\r\n            }\r\n            int godSelectedIndex = findGod (listOfAllGods, chooseGodId);\r\n            if (godSelectedIndex &lt; 0) { \r\n               System.out.println (&quot;God &quot; + chooseGodID + &quot; is not available.&quot;\r\n                 + &quot;  Please select again.&quot;);\r\n               continue;\r\n             }\r\n             \r\n             selectedGods.add (listOfAllGods.get(godSelectedIndex));\r\n             listOfAllGods.remove (godSelectedIndex);\r\n    }\r\n\r\nThis assumes the existence of \r\n      \r\n      static public int findGod (List&lt;God&gt; godList, int targetGodID)\r\n\r\nThis `findGod` method searches `godList` for an element in which `.getId()` is equal to `gargetGodID`. When a match is found, it returns the index of element where the match was found. When a match is not found,  it returns `-1`. The O/P has shown the ability to create this method. \r\n\r\nNote: I have not verified the code in this answer. If you find an error, you may correct it by editing this answer.","title":"Can&#39;t loop properly through list of objects","body":"<p>If I understand correctly, the key is to replace the <code>for</code> loop, which will have 6 iterations, with a <code>while</code> loop, which will iterate until the user has successfully selected 6 gods. Use <code>continue;</code> when there is a failure to select a god.</p>\n<pre><code>System.out.println(&quot;Please choose the 6 id's of the gods, you wish to pick:&quot;);\n    while (selectedGods.size () &lt; 6) {        \n        System.out.print (&quot;You have selected &quot; + selectedGods.size () \n          + &quot;gods. Please enter I.D. of next god &gt;&quot;);\n        chooseGodId = scanner.nextInt();\n        if (findGod (selectedGods, chooseGodID) &gt;= 0) { \n           System.out.println (&quot;You already selected god &quot; + chooseGodId\n            + &quot;.  Please select again.&quot;);\n           continue;\n        }\n        int godSelectedIndex = findGod (listOfAllGods, chooseGodId);\n        if (godSelectedIndex &lt; 0) { \n           System.out.println (&quot;God &quot; + chooseGodID + &quot; is not available.&quot;\n             + &quot;  Please select again.&quot;);\n           continue;\n         }\n         \n         selectedGods.add (listOfAllGods.get(godSelectedIndex));\n         listOfAllGods.remove (godSelectedIndex);\n}\n</code></pre>\n<p>This assumes the existence of</p>\n<pre><code>  static public int findGod (List&lt;God&gt; godList, int targetGodID)\n</code></pre>\n<p>This <code>findGod</code> method searches <code>godList</code> for an element in which <code>.getId()</code> is equal to <code>gargetGodID</code>. When a match is found, it returns the index of element where the match was found. When a match is not found,  it returns <code>-1</code>. The O/P has shown the ability to create this method.</p>\n<p>Note: I have not verified the code in this answer. If you find an error, you may correct it by editing this answer.</p>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75187348,"answer_count":1,"score":-2,"last_activity_date":1674235215,"creation_date":1674230075,"question_id":75186389,"body_markdown":"I&#39;m having the following issue.\r\nI have a list filled with instances of the &quot;God&quot; class, 12 instances, for now, but will add more in the future.\r\n\r\nI also have an list empty.\r\nBoth lists can take type God instances.\r\n\r\nThe user will pick 6 of these gods, and these gods will be added to the empty list, and also be remove of the filled list, so they can&#39;t get picked again.\r\n\r\nThe goal of this part of the project is, to:\r\n\r\n1. The user will pick 6 times. So I have a for loop from 0 to 5;\r\n2. The Scanner takes the id of the god\r\n3. The second for loop, from 0 to listFilledWithGods.size(), will check if the scanner matches the id\r\n4. If the id matches, it will add to the empty list, and remove from the List filled with gods\r\n5. If it does not match the user needs to be asked constantly to pick another one, until the user picks an available god. (here is where I&#39;m having trouble)\r\n\r\nGithub: https://github.com/OrlandoVSilva/battleSimulatorJava.git\r\n\r\n * The issue in question resides in the class player in the method selectGodsForTeam\r\n * There is a JSON jar added to the project: json-simple-1.1.1\r\n\r\n*Edit:\r\n\r\nI added the while loop, as an exmaple of one of the ways that I tried to fix the issue.\r\n\r\nIf the user on the first pick picks id 3, it should work, because no god has been picked yet, however the loop when comparing it with the first position (id 1) it says to pick another one, which should is not the intended objective.\r\n\r\nMain:\r\n\r\n```\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    public Main() {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Launcher launch = new Launcher();\r\n        godSelection(launch.loadGods());\r\n    }\r\n\r\n    private static void godSelection(List&lt;God&gt; listOfloadedGods) {\r\n        Player player = new Player(listOfloadedGods);\r\n        player.selectGodsForTeam();\r\n    }\r\n}\r\n```\r\n\r\nLauncher:\r\n```\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Launcher {\r\n    private List&lt;God&gt; godCollection;\r\n\r\n    public Launcher(){\r\n        godCollection = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    List&lt;God&gt; loadGods(){ // load all gods from Json file into list\r\n        String strJson = getJSONFromFile(&quot;C:\\\\Users\\\\OrlandoVSilva\\\\Desktop\\\\JavaBattleSimulator\\\\battlesimulator\\\\src\\\\projectStructure\\\\gods.json&quot;);\r\n\r\n        // Try-catch block\r\n        try {\r\n            JSONParser parser = new JSONParser();\r\n            Object object = parser.parse(strJson); // converting the contents of the file into an object\r\n            JSONObject mainJsonObject = (JSONObject) object; // converting the object into a json object\r\n            //-------------------\r\n            JSONArray jsonArrayGods = (JSONArray) mainJsonObject.get(&quot;gods&quot;);\r\n            //System.out.println(&quot;Gods: &quot;);\r\n\r\n            for(int i = 0; i &lt; jsonArrayGods.size(); i++){\r\n                JSONObject jsonGodsData = (JSONObject) jsonArrayGods.get(i);\r\n\r\n                String godName = (String) jsonGodsData.get(&quot;name&quot;);\r\n                //System.out.println(&quot;Name: &quot; + godName);\r\n\r\n                double godHealth = (double) jsonGodsData.get(&quot;health&quot;);\r\n                //System.out.println(&quot;Health: &quot; + godHealth);\r\n\r\n                double godAttack = (double) jsonGodsData.get(&quot;attack&quot;);\r\n                //System.out.println(&quot;Attack: &quot; + godAttack);\r\n\r\n                double godSpecialAttack = (double) jsonGodsData.get(&quot;specialAttack&quot;);\r\n                //System.out.println(&quot;Special Attack: &quot; + godSpecialAttack);\r\n\r\n                double godDefense = (double) jsonGodsData.get(&quot;defense&quot;);\r\n                //System.out.println(&quot;Defense: &quot; + godDefense);\r\n\r\n                double godSpecialDefence = (double) jsonGodsData.get(&quot;specialDefense&quot;);\r\n                //System.out.println(&quot;Special Defence: &quot; + godSpecialDefence);\r\n\r\n                double godSpeed = (double) jsonGodsData.get(&quot;speed&quot;);\r\n                //System.out.println(&quot;Speed: &quot; + godSpeed);\r\n\r\n                double godMana = (double) jsonGodsData.get(&quot;mana&quot;);\r\n                //System.out.println(&quot;Mana: &quot; + godMana);\r\n\r\n                String godPantheon = (String) jsonGodsData.get(&quot;pantheon&quot;);\r\n                //System.out.println(&quot;Pantheon: &quot; + godPantheon);\r\n\r\n                long godId = (long) jsonGodsData.get(&quot;id&quot;);\r\n                int newGodId = (int) godId;\r\n                //System.out.println(&quot;Id: &quot; + newGodId);\r\n\r\n                godCollection.add(new God(godName, godHealth, godAttack, godSpecialAttack, godDefense, godSpecialDefence, godSpeed, godMana, godPantheon, newGodId));\r\n                //System.out.println();\r\n            }\r\n\r\n        } catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }\r\n        // Try-catch block\r\n\r\n        //System.out.println(&quot;Size: &quot; + godCollection.size());\r\n        return godCollection;\r\n    }\r\n\r\n    public static String getJSONFromFile(String filename) { // requires file name\r\n        String jsonText = &quot;&quot;;\r\n        try {\r\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(filename)); // read the file\r\n\r\n            String line; // read the file line by line\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                jsonText += line + &quot;\\n&quot;; // store json dat into &quot;jsonText&quot; variable\r\n            }\r\n\r\n            bufferedReader.close();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return jsonText;\r\n    }\r\n}\r\n```\r\n\r\nPlayer:\r\n```\r\nimport java.util.*;\r\n\r\npublic class Player {\r\n    // --- Properties ---\r\n    private List&lt;God&gt; listOfAllGods; // List of all the gods;\r\n    private List&lt;God&gt; selectedGods; // list for the selected gods;\r\n    // --- Properties ---\r\n\r\n    // --- Constructor ---\r\n    Player(List&lt;God&gt; listOfAllGods){\r\n        this.listOfAllGods = listOfAllGods;\r\n        selectedGods = new ArrayList&lt;&gt;();\r\n    }\r\n    // --- Constructor ---\r\n\r\n    // --- Getters &amp; Setters ---\r\n    public List&lt;God&gt; getSelectedGods() {\r\n        return listOfAllGods;\r\n    }\r\n    // --- Getters &amp; Setters ---\r\n\r\n    // --- Methods ---\r\n    void selectGodsForTeam(){\r\n        Scanner scanner = new Scanner(System.in);\r\n        boolean isGodAvailable;\r\n        int chooseGodId;\r\n\r\n        /*\r\n        char answerChar = &#39;n&#39;;\r\n\r\n        while (answerChar == &#39;n&#39;){\r\n            answerChar = informationAboutGods();\r\n            // Do you want to see information about any of the gods first?\r\n            // y or n\r\n\r\n            while(answerChar == &#39;y&#39;){\r\n                answerChar = informationAboutAnyOtherGods();\r\n                // Which of the gods, do you want to see information of?\r\n                // godId\r\n                // Do you want to see information about any other gods?\r\n                // y or n\r\n            }\r\n            answerChar = proceedWithGodPick();\r\n            // Do you want to proceed with the God pick?\r\n            // y or n\r\n        }\r\n\r\n        System.out.println();\r\n        */\r\n\r\n        System.out.println(&quot;Please choose the 6 id&#39;s of the gods, you wish to pick:&quot;);\r\n        for(int i = 0; i &lt;= 5; i++){\r\n            chooseGodId = scanner.nextInt();\r\n\r\n            for(int j = 0; j &lt; listOfAllGods.size(); j++){\r\n                if(chooseGodId == listOfAllGods.get(j).getId()){\r\n                    selectedGods.add(listOfAllGods.get(j));\r\n                    listOfAllGods.remove(j);\r\n                } else {\r\n                    isGodAvailable = false;\r\n                    while (!isGodAvailable){\r\n                        System.out.println(&quot;Please pick another one&quot;);\r\n                        chooseGodId = scanner.nextInt();\r\n\r\n                        if(chooseGodId == listOfAllGods.get(j).getId()) {\r\n                            isGodAvailable = true;\r\n                            selectedGods.add(listOfAllGods.get(j));\r\n                            listOfAllGods.remove(j);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    char informationAboutGods(){\r\n        Scanner scanner = new Scanner(System.in);\r\n        char answerChar = &#39;n&#39;;\r\n        //-----------\r\n\r\n        System.out.println(&quot;This is a list, of all the selectable gods: &quot;);\r\n        System.out.println();\r\n\r\n        for (int i = 0; i &lt; listOfAllGods.size(); i++){\r\n            System.out.println(listOfAllGods.get(i).getName() + &quot; = &quot; + &quot;Id: &quot; + listOfAllGods.get(i).getId());\r\n        }\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Do you want to see information about any of the gods first?&quot;);\r\n        System.out.println(&quot;[y] or [n]&quot;);\r\n        answerChar = scanner.next().charAt(0);\r\n\r\n        return answerChar;\r\n    }\r\n    char informationAboutAnyOtherGods(){\r\n        Scanner scanner = new Scanner(System.in);\r\n        char answerChar = &#39;n&#39;;\r\n        int answerInt;\r\n        //------------\r\n\r\n        System.out.println();\r\n        System.out.println(&quot;Which of the gods, do you want to see information of?&quot;);\r\n        System.out.println(&quot;Please input it&#39;s id number: &quot;);\r\n        answerInt = scanner.nextInt();\r\n\r\n        System.out.println();\r\n        System.out.println(&quot;Display god information here!&quot;);\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Do you want to see information about any other gods?&quot;);\r\n        System.out.println(&quot;[y] or [n]&quot;);\r\n        answerChar = scanner.next().charAt(0);\r\n\r\n        return answerChar;\r\n    }\r\n    char proceedWithGodPick(){\r\n        Scanner scanner = new Scanner(System.in);\r\n        char answerChar = &#39;n&#39;;\r\n        //----------\r\n\r\n        System.out.println();\r\n        System.out.println(&quot;Do you want to proceed with the God pick?&quot;);\r\n        System.out.println(&quot;[y] or [n]&quot;);\r\n        answerChar = scanner.next().charAt(0);\r\n\r\n        return answerChar;\r\n    }\r\n    // --- Methods ---\r\n}\r\n```\r\n\r\nGod:\r\n```\r\npublic class God {\r\n    private final String name;\r\n    private double health;\r\n    private double attack;\r\n    private double specialAttack;\r\n    private double defense;\r\n    private double specialDefense;\r\n    private double speed;\r\n    private double mana;\r\n    private final String pantheon;\r\n    private final int id;\r\n\r\n    public God(String name, double health, double attack, double specialAttack, double defense, double specialDefense, double speed, double mana, String pantheon, int id) {\r\n        this.name = name;\r\n        this.health = health;\r\n        this.attack = attack;\r\n        this.specialAttack = specialAttack;\r\n        this.defense = defense;\r\n        this.specialDefense = specialDefense;\r\n        this.speed = speed;\r\n        this.mana = mana;\r\n        this.pantheon = pantheon;\r\n        this.id = id;\r\n    }\r\n\r\n    public double getHealth() {\r\n        return this.health;\r\n    }\r\n\r\n    public void setHealth(double health) {\r\n        this.health = health;\r\n    }\r\n\r\n    public double getAttack() {\r\n        return this.attack;\r\n    }\r\n\r\n    public void setAttack(double attack) {\r\n        this.attack = attack;\r\n    }\r\n\r\n    public double getSpecialAttack() {\r\n        return this.specialAttack;\r\n    }\r\n\r\n    public void setSpecialAttack(double specialAttack) {\r\n        this.specialAttack = specialAttack;\r\n    }\r\n\r\n    public double getDefense() {\r\n        return this.defense;\r\n    }\r\n\r\n    public void setDefense(double defense) {\r\n        this.defense = defense;\r\n    }\r\n\r\n    public double getSpecialDefense() {\r\n        return this.specialDefense;\r\n    }\r\n\r\n    public void setSpecialDefense(double specialDefense) {\r\n        this.specialDefense = specialDefense;\r\n    }\r\n\r\n    public double getSpeed() {\r\n        return this.speed;\r\n    }\r\n\r\n    public void setSpeed(double speed) {\r\n        this.speed = speed;\r\n    }\r\n\r\n    public double getMana() {\r\n        return this.mana;\r\n    }\r\n\r\n    public void setMana(double mana) {\r\n        this.mana = mana;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public String getPantheon() {\r\n        return this.pantheon;\r\n    }\r\n\r\n    public int getId() {\r\n        return this.id;\r\n    }\r\n}\r\n```\r\n","title":"Can&#39;t loop properly through list of objects","body":"<p>I'm having the following issue.\nI have a list filled with instances of the &quot;God&quot; class, 12 instances, for now, but will add more in the future.</p>\n<p>I also have an list empty.\nBoth lists can take type God instances.</p>\n<p>The user will pick 6 of these gods, and these gods will be added to the empty list, and also be remove of the filled list, so they can't get picked again.</p>\n<p>The goal of this part of the project is, to:</p>\n<ol>\n<li>The user will pick 6 times. So I have a for loop from 0 to 5;</li>\n<li>The Scanner takes the id of the god</li>\n<li>The second for loop, from 0 to listFilledWithGods.size(), will check if the scanner matches the id</li>\n<li>If the id matches, it will add to the empty list, and remove from the List filled with gods</li>\n<li>If it does not match the user needs to be asked constantly to pick another one, until the user picks an available god. (here is where I'm having trouble)</li>\n</ol>\n<p>Github: <a href=\"https://github.com/OrlandoVSilva/battleSimulatorJava.git\" rel=\"nofollow noreferrer\">https://github.com/OrlandoVSilva/battleSimulatorJava.git</a></p>\n<ul>\n<li>The issue in question resides in the class player in the method selectGodsForTeam</li>\n<li>There is a JSON jar added to the project: json-simple-1.1.1</li>\n</ul>\n<p>*Edit:</p>\n<p>I added the while loop, as an exmaple of one of the ways that I tried to fix the issue.</p>\n<p>If the user on the first pick picks id 3, it should work, because no god has been picked yet, however the loop when comparing it with the first position (id 1) it says to pick another one, which should is not the intended objective.</p>\n<p>Main:</p>\n<pre><code>import java.util.List;\n\npublic class Main {\n    public Main() {\n    }\n\n    public static void main(String[] args) {\n        Launcher launch = new Launcher();\n        godSelection(launch.loadGods());\n    }\n\n    private static void godSelection(List&lt;God&gt; listOfloadedGods) {\n        Player player = new Player(listOfloadedGods);\n        player.selectGodsForTeam();\n    }\n}\n</code></pre>\n<p>Launcher:</p>\n<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Launcher {\n    private List&lt;God&gt; godCollection;\n\n    public Launcher(){\n        godCollection = new ArrayList&lt;&gt;();\n    }\n\n    List&lt;God&gt; loadGods(){ // load all gods from Json file into list\n        String strJson = getJSONFromFile(&quot;C:\\\\Users\\\\OrlandoVSilva\\\\Desktop\\\\JavaBattleSimulator\\\\battlesimulator\\\\src\\\\projectStructure\\\\gods.json&quot;);\n\n        // Try-catch block\n        try {\n            JSONParser parser = new JSONParser();\n            Object object = parser.parse(strJson); // converting the contents of the file into an object\n            JSONObject mainJsonObject = (JSONObject) object; // converting the object into a json object\n            //-------------------\n            JSONArray jsonArrayGods = (JSONArray) mainJsonObject.get(&quot;gods&quot;);\n            //System.out.println(&quot;Gods: &quot;);\n\n            for(int i = 0; i &lt; jsonArrayGods.size(); i++){\n                JSONObject jsonGodsData = (JSONObject) jsonArrayGods.get(i);\n\n                String godName = (String) jsonGodsData.get(&quot;name&quot;);\n                //System.out.println(&quot;Name: &quot; + godName);\n\n                double godHealth = (double) jsonGodsData.get(&quot;health&quot;);\n                //System.out.println(&quot;Health: &quot; + godHealth);\n\n                double godAttack = (double) jsonGodsData.get(&quot;attack&quot;);\n                //System.out.println(&quot;Attack: &quot; + godAttack);\n\n                double godSpecialAttack = (double) jsonGodsData.get(&quot;specialAttack&quot;);\n                //System.out.println(&quot;Special Attack: &quot; + godSpecialAttack);\n\n                double godDefense = (double) jsonGodsData.get(&quot;defense&quot;);\n                //System.out.println(&quot;Defense: &quot; + godDefense);\n\n                double godSpecialDefence = (double) jsonGodsData.get(&quot;specialDefense&quot;);\n                //System.out.println(&quot;Special Defence: &quot; + godSpecialDefence);\n\n                double godSpeed = (double) jsonGodsData.get(&quot;speed&quot;);\n                //System.out.println(&quot;Speed: &quot; + godSpeed);\n\n                double godMana = (double) jsonGodsData.get(&quot;mana&quot;);\n                //System.out.println(&quot;Mana: &quot; + godMana);\n\n                String godPantheon = (String) jsonGodsData.get(&quot;pantheon&quot;);\n                //System.out.println(&quot;Pantheon: &quot; + godPantheon);\n\n                long godId = (long) jsonGodsData.get(&quot;id&quot;);\n                int newGodId = (int) godId;\n                //System.out.println(&quot;Id: &quot; + newGodId);\n\n                godCollection.add(new God(godName, godHealth, godAttack, godSpecialAttack, godDefense, godSpecialDefence, godSpeed, godMana, godPantheon, newGodId));\n                //System.out.println();\n            }\n\n        } catch (Exception ex){\n            ex.printStackTrace();\n        }\n        // Try-catch block\n\n        //System.out.println(&quot;Size: &quot; + godCollection.size());\n        return godCollection;\n    }\n\n    public static String getJSONFromFile(String filename) { // requires file name\n        String jsonText = &quot;&quot;;\n        try {\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(filename)); // read the file\n\n            String line; // read the file line by line\n            while ((line = bufferedReader.readLine()) != null) {\n                jsonText += line + &quot;\\n&quot;; // store json dat into &quot;jsonText&quot; variable\n            }\n\n            bufferedReader.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return jsonText;\n    }\n}\n</code></pre>\n<p>Player:</p>\n<pre><code>import java.util.*;\n\npublic class Player {\n    // --- Properties ---\n    private List&lt;God&gt; listOfAllGods; // List of all the gods;\n    private List&lt;God&gt; selectedGods; // list for the selected gods;\n    // --- Properties ---\n\n    // --- Constructor ---\n    Player(List&lt;God&gt; listOfAllGods){\n        this.listOfAllGods = listOfAllGods;\n        selectedGods = new ArrayList&lt;&gt;();\n    }\n    // --- Constructor ---\n\n    // --- Getters &amp; Setters ---\n    public List&lt;God&gt; getSelectedGods() {\n        return listOfAllGods;\n    }\n    // --- Getters &amp; Setters ---\n\n    // --- Methods ---\n    void selectGodsForTeam(){\n        Scanner scanner = new Scanner(System.in);\n        boolean isGodAvailable;\n        int chooseGodId;\n\n        /*\n        char answerChar = 'n';\n\n        while (answerChar == 'n'){\n            answerChar = informationAboutGods();\n            // Do you want to see information about any of the gods first?\n            // y or n\n\n            while(answerChar == 'y'){\n                answerChar = informationAboutAnyOtherGods();\n                // Which of the gods, do you want to see information of?\n                // godId\n                // Do you want to see information about any other gods?\n                // y or n\n            }\n            answerChar = proceedWithGodPick();\n            // Do you want to proceed with the God pick?\n            // y or n\n        }\n\n        System.out.println();\n        */\n\n        System.out.println(&quot;Please choose the 6 id's of the gods, you wish to pick:&quot;);\n        for(int i = 0; i &lt;= 5; i++){\n            chooseGodId = scanner.nextInt();\n\n            for(int j = 0; j &lt; listOfAllGods.size(); j++){\n                if(chooseGodId == listOfAllGods.get(j).getId()){\n                    selectedGods.add(listOfAllGods.get(j));\n                    listOfAllGods.remove(j);\n                } else {\n                    isGodAvailable = false;\n                    while (!isGodAvailable){\n                        System.out.println(&quot;Please pick another one&quot;);\n                        chooseGodId = scanner.nextInt();\n\n                        if(chooseGodId == listOfAllGods.get(j).getId()) {\n                            isGodAvailable = true;\n                            selectedGods.add(listOfAllGods.get(j));\n                            listOfAllGods.remove(j);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    char informationAboutGods(){\n        Scanner scanner = new Scanner(System.in);\n        char answerChar = 'n';\n        //-----------\n\n        System.out.println(&quot;This is a list, of all the selectable gods: &quot;);\n        System.out.println();\n\n        for (int i = 0; i &lt; listOfAllGods.size(); i++){\n            System.out.println(listOfAllGods.get(i).getName() + &quot; = &quot; + &quot;Id: &quot; + listOfAllGods.get(i).getId());\n        }\n        System.out.println();\n\n        System.out.println(&quot;Do you want to see information about any of the gods first?&quot;);\n        System.out.println(&quot;[y] or [n]&quot;);\n        answerChar = scanner.next().charAt(0);\n\n        return answerChar;\n    }\n    char informationAboutAnyOtherGods(){\n        Scanner scanner = new Scanner(System.in);\n        char answerChar = 'n';\n        int answerInt;\n        //------------\n\n        System.out.println();\n        System.out.println(&quot;Which of the gods, do you want to see information of?&quot;);\n        System.out.println(&quot;Please input it's id number: &quot;);\n        answerInt = scanner.nextInt();\n\n        System.out.println();\n        System.out.println(&quot;Display god information here!&quot;);\n        System.out.println();\n\n        System.out.println(&quot;Do you want to see information about any other gods?&quot;);\n        System.out.println(&quot;[y] or [n]&quot;);\n        answerChar = scanner.next().charAt(0);\n\n        return answerChar;\n    }\n    char proceedWithGodPick(){\n        Scanner scanner = new Scanner(System.in);\n        char answerChar = 'n';\n        //----------\n\n        System.out.println();\n        System.out.println(&quot;Do you want to proceed with the God pick?&quot;);\n        System.out.println(&quot;[y] or [n]&quot;);\n        answerChar = scanner.next().charAt(0);\n\n        return answerChar;\n    }\n    // --- Methods ---\n}\n</code></pre>\n<p>God:</p>\n<pre><code>public class God {\n    private final String name;\n    private double health;\n    private double attack;\n    private double specialAttack;\n    private double defense;\n    private double specialDefense;\n    private double speed;\n    private double mana;\n    private final String pantheon;\n    private final int id;\n\n    public God(String name, double health, double attack, double specialAttack, double defense, double specialDefense, double speed, double mana, String pantheon, int id) {\n        this.name = name;\n        this.health = health;\n        this.attack = attack;\n        this.specialAttack = specialAttack;\n        this.defense = defense;\n        this.specialDefense = specialDefense;\n        this.speed = speed;\n        this.mana = mana;\n        this.pantheon = pantheon;\n        this.id = id;\n    }\n\n    public double getHealth() {\n        return this.health;\n    }\n\n    public void setHealth(double health) {\n        this.health = health;\n    }\n\n    public double getAttack() {\n        return this.attack;\n    }\n\n    public void setAttack(double attack) {\n        this.attack = attack;\n    }\n\n    public double getSpecialAttack() {\n        return this.specialAttack;\n    }\n\n    public void setSpecialAttack(double specialAttack) {\n        this.specialAttack = specialAttack;\n    }\n\n    public double getDefense() {\n        return this.defense;\n    }\n\n    public void setDefense(double defense) {\n        this.defense = defense;\n    }\n\n    public double getSpecialDefense() {\n        return this.specialDefense;\n    }\n\n    public void setSpecialDefense(double specialDefense) {\n        this.specialDefense = specialDefense;\n    }\n\n    public double getSpeed() {\n        return this.speed;\n    }\n\n    public void setSpeed(double speed) {\n        this.speed = speed;\n    }\n\n    public double getMana() {\n        return this.mana;\n    }\n\n    public void setMana(double mana) {\n        this.mana = mana;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public String getPantheon() {\n        return this.pantheon;\n    }\n\n    public int getId() {\n        return this.id;\n    }\n}\n</code></pre>\n"},{"tags":["java","c++","pointers","reference","java-native-interface"],"comments":[{"owner":{"account_id":1499483,"reputation":3597,"user_id":1404614,"accept_rate":87,"display_name":"Jaime Ivan Cervantes"},"score":0,"creation_date":1497909538,"post_id":37117890,"comment_id":76267187,"body_markdown":"did you figured out how to keep global objects alive on memory? I&#39;m trying to keep an object alive even when switching on multiple activities.","body":"did you figured out how to keep global objects alive on memory? I&#39;m trying to keep an object alive even when switching on multiple activities."},{"owner":{"account_id":6552969,"reputation":105,"user_id":5066692,"accept_rate":40,"display_name":"theRealCherry"},"score":0,"creation_date":1512913380,"post_id":37117890,"comment_id":82439073,"body_markdown":"Sorry no I didn&#39;t found out anything new :(","body":"Sorry no I didn&#39;t found out anything new :("},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646117445,"post_id":37117890,"comment_id":126038544,"body_markdown":"They are for Java objects and classes. You might also consider weak global refs. But what exactly is `audio`? where is it declared? Is it a Java object or a C++ object?","body":"They are for Java objects and classes. You might also consider weak global refs. But what exactly is <code>audio</code>? where is it declared? Is it a Java object or a C++ object?"}],"answers":[{"tags":[],"owner":{"account_id":14096472,"reputation":882,"user_id":10183099,"display_name":"zeitgeist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674234487,"creation_date":1645801532,"answer_id":71267799,"question_id":37117890,"body_markdown":"***1) JAVA THREAD WAY***\r\n\r\nWe can create a new thread to keep running in a JNI function locked with a monitor or conditional while loop.\r\n\r\nThen a separate call would stop the execution of the thread in your function by releasing the monitor or changing the condition in the while loop. \r\n\r\n***2) JAVA OBJECT REFERENCE WAY***\r\n\r\nAnother option is to create a Global Reference of your object \r\nhttps://stackoverflow.com/questions/32685927/android-jni-and-newglobalref.\r\nHere a separate call on USB disconnect would do `DeleteGlobalRef`.\r\n\r\n\r\nWe can also move the life cycle of your C++ object into java by passing it back to the java layer\r\nhttps://stackoverflow.com/questions/8397426/keep-some-sort-of-c-object-alive-over-multiple-jni-calls.\r\nHere a separate call on USB disconnect would remove any reference to C++ object in your java code.\r\n\r\n***Implementation***\r\n\r\n*Native File (mynative.cpp)*\r\n\r\n\r\n    extern &quot;C&quot; JNIEXPORT jobject JNICALL\r\n    Java_com_android_nativecpp_MainActivity_createJniNativeReference(JNIEnv* env, jobject obj, jint size) {\r\n        void* buf = malloc(size);\r\n        jobject sharedbytebuffer = env-&gt;NewDirectByteBuffer(buf, size);\r\n        return env-&gt;NewGlobalRef(sharedbytebuffer);\r\n    }\r\n    \r\n    extern &quot;C&quot; JNIEXPORT void JNICALL\r\n    Java_com_android_nativecpp_MainActivity_deleteJniNativeReference(JNIEnv* env, jobject obj, jobject sharedbytebuffer) {\r\n        env-&gt;DeleteGlobalRef(sharedbytebuffer);\r\n        void* buf = env-&gt;GetDirectBufferAddress(sharedbytebuffer);        \r\n        free(buf);\r\n        return;\r\n    }\r\n\r\n*Java file (MainActivity.java)*\r\n\r\n    import java.nio.ByteBuffer;\r\n\r\n\tprivate ByteBuffer mJniReference;\r\n\r\n    public native ByteBuffer createJniNativeReference(int size);\r\n    public native void deleteJniNativeReference(ByteBuffer mJniReference);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\t\tmJniReference = createJniNativeReference(1000);\r\n    }\r\n\t\r\n\r\n\tprotected void onDestroy() {\r\n\t    deleteJniNativeReference(mJniReference);\r\n        super.onDestroy();\r\n    }\r\n\r\n***EXPLAINATION***\r\n\r\nThe reason for either of 1) or 2) is otherwise, the creating frame is then exited from the stack and the JNI local references are deleted.\r\n\r\nThis will end all the threads in C++ when all&#160;std::thread references&#160;(which are not detached, ideally) are deleted. \r\nIn the non-detached case std::thread destructors are called on the main exit, or when a thread object goes out of scope and then&#160;terminate() is called. \r\nIn the detached case the detached threads exit on app close which kills the host  process. They can also be garbage collected.\r\n","title":"JNI Keep Object in C++ alive over multiple JNI calls","body":"<p><em><strong>1) JAVA THREAD WAY</strong></em></p>\n<p>We can create a new thread to keep running in a JNI function locked with a monitor or conditional while loop.</p>\n<p>Then a separate call would stop the execution of the thread in your function by releasing the monitor or changing the condition in the while loop.</p>\n<p><em><strong>2) JAVA OBJECT REFERENCE WAY</strong></em></p>\n<p>Another option is to create a Global Reference of your object\n<a href=\"https://stackoverflow.com/questions/32685927/android-jni-and-newglobalref\">Android JNI and NewGlobalRef</a>.\nHere a separate call on USB disconnect would do <code>DeleteGlobalRef</code>.</p>\n<p>We can also move the life cycle of your C++ object into java by passing it back to the java layer\n<a href=\"https://stackoverflow.com/questions/8397426/keep-some-sort-of-c-object-alive-over-multiple-jni-calls\">keep some sort of c++ object alive over multiple jni calls</a>.\nHere a separate call on USB disconnect would remove any reference to C++ object in your java code.</p>\n<p><em><strong>Implementation</strong></em></p>\n<p><em>Native File (mynative.cpp)</em></p>\n<pre><code>extern &quot;C&quot; JNIEXPORT jobject JNICALL\nJava_com_android_nativecpp_MainActivity_createJniNativeReference(JNIEnv* env, jobject obj, jint size) {\n    void* buf = malloc(size);\n    jobject sharedbytebuffer = env-&gt;NewDirectByteBuffer(buf, size);\n    return env-&gt;NewGlobalRef(sharedbytebuffer);\n}\n\nextern &quot;C&quot; JNIEXPORT void JNICALL\nJava_com_android_nativecpp_MainActivity_deleteJniNativeReference(JNIEnv* env, jobject obj, jobject sharedbytebuffer) {\n    env-&gt;DeleteGlobalRef(sharedbytebuffer);\n    void* buf = env-&gt;GetDirectBufferAddress(sharedbytebuffer);        \n    free(buf);\n    return;\n}\n</code></pre>\n<p><em>Java file (MainActivity.java)</em></p>\n<pre><code>import java.nio.ByteBuffer;\n\nprivate ByteBuffer mJniReference;\n\npublic native ByteBuffer createJniNativeReference(int size);\npublic native void deleteJniNativeReference(ByteBuffer mJniReference);\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    mJniReference = createJniNativeReference(1000);\n}\n\n\nprotected void onDestroy() {\n    deleteJniNativeReference(mJniReference);\n    super.onDestroy();\n}\n</code></pre>\n<p><em><strong>EXPLAINATION</strong></em></p>\n<p>The reason for either of 1) or 2) is otherwise, the creating frame is then exited from the stack and the JNI local references are deleted.</p>\n<p>This will end all the threads in C++ when all std::thread references (which are not detached, ideally) are deleted.\nIn the non-detached case std::thread destructors are called on the main exit, or when a thread object goes out of scope and then terminate() is called.\nIn the detached case the detached threads exit on app close which kills the host  process. They can also be garbage collected.</p>\n"},{"tags":[],"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646233592,"creation_date":1646233592,"answer_id":71324928,"question_id":37117890,"body_markdown":"Use a `long` in the Java object to hold a pointer to the C++ object.\r\n\r\nA Java `long` is 64 bits, and every platform Java runs on has either 32- or 64-bit pointers.  And every platform Java is supplied for will support this, despite it not being strictly-conforming C or C++ code.\r\n\r\nJava:\r\n\r\n    // class member\r\n    private long audio\r\n\r\n    // native functions\r\n    private native long openStream( int[] data );\r\n    private native void deleteStream( long audio );\r\n    private native void nativeFillData( long audio, int[] data );\r\n\r\n    public MyClass()\r\n    {\r\n        audio = openStream( data );\r\n    }\r\n\r\n    public void fillData( int[] data )\r\n    {\r\n        nativeFillData( this.audio, data );\r\n    }\r\n\r\n    // delete the C++ object - you may want to\r\n    // control this directly and not rely on\r\n    // finalize() getting called\r\n    protected void finalize()\r\n    {\r\n        deleteStream( audio );\r\n        super.finalize();\r\n    }\r\n\r\nC++:\r\n\r\n    JNIEXPORT jlong JNICALL openStream(jintArray data)\r\n    {\r\n       RtAudio *audio = new RtAudio(RtAudio::WASAPI);\r\n\r\n       audio-&gt;openStream(&amp;outputParams,....., &amp;callback,....);\r\n       audio-&gt;startStream();\r\n    \r\n       // C-style cast - JNI interface is C, not C++\r\n       return( ( jlong ) audio );\r\n    }\r\n    \r\n    JNIEXPORT void JNICALL deleteStream(jlong jaudio)\r\n    {\r\n        RtAudio *audio = static_cast &lt;RtAudio *&gt;( jaudio );\r\n        delete audio;\r\n    }\r\n    \r\n    JNIEXPORT void JNICALL nativeFillData(jlong jaudio, jintArray data)\r\n    {\r\n        RtAudio *audio = static_cast &lt;RtAudio *&gt;( jaudio );\r\n        audio-&gt;start();\r\n        ... \r\n    }\r\n\r\n","title":"JNI Keep Object in C++ alive over multiple JNI calls","body":"<p>Use a <code>long</code> in the Java object to hold a pointer to the C++ object.</p>\n<p>A Java <code>long</code> is 64 bits, and every platform Java runs on has either 32- or 64-bit pointers.  And every platform Java is supplied for will support this, despite it not being strictly-conforming C or C++ code.</p>\n<p>Java:</p>\n<pre><code>// class member\nprivate long audio\n\n// native functions\nprivate native long openStream( int[] data );\nprivate native void deleteStream( long audio );\nprivate native void nativeFillData( long audio, int[] data );\n\npublic MyClass()\n{\n    audio = openStream( data );\n}\n\npublic void fillData( int[] data )\n{\n    nativeFillData( this.audio, data );\n}\n\n// delete the C++ object - you may want to\n// control this directly and not rely on\n// finalize() getting called\nprotected void finalize()\n{\n    deleteStream( audio );\n    super.finalize();\n}\n</code></pre>\n<p>C++:</p>\n<pre><code>JNIEXPORT jlong JNICALL openStream(jintArray data)\n{\n   RtAudio *audio = new RtAudio(RtAudio::WASAPI);\n\n   audio-&gt;openStream(&amp;outputParams,....., &amp;callback,....);\n   audio-&gt;startStream();\n\n   // C-style cast - JNI interface is C, not C++\n   return( ( jlong ) audio );\n}\n\nJNIEXPORT void JNICALL deleteStream(jlong jaudio)\n{\n    RtAudio *audio = static_cast &lt;RtAudio *&gt;( jaudio );\n    delete audio;\n}\n\nJNIEXPORT void JNICALL nativeFillData(jlong jaudio, jintArray data)\n{\n    RtAudio *audio = static_cast &lt;RtAudio *&gt;( jaudio );\n    audio-&gt;start();\n    ... \n}\n</code></pre>\n"}],"owner":{"account_id":6552969,"reputation":105,"user_id":5066692,"accept_rate":40,"display_name":"theRealCherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1674234487,"creation_date":1462802835,"question_id":37117890,"body_markdown":"I have a problem in my Java native audio library but first, here is my current approach:\r\n\r\n 1. With a native method I&#39;m opening a &#39;global&#39; stream, which receives data over a callback function.\r\n 2. The callback function runs until there is no data.\r\n 3. If there is no data, the stream only stops, but does not get closed. \r\n 4. Now I wanted to feed the stream with data again [trying to start stream again(this operation is allowed)], but the stream has already been deleted.\r\n\r\nSo now I tried to figure out how to prevent deletion of the stream from C++ or Java.\r\n\r\nOne solution was to create a thread in the stream, which prevents the deletion.\r\n\r\nBut I don&#39;t like this solution...\r\n\r\nSo I searched how to keep such objects alive and found out, that there are so called &quot;global references&quot; which can be made with the JNI. But I did not understand whether they are only for java objects or for both.\r\n\r\nAlso I tried out whether another pointer type of C++ could help.\r\n\r\nI appreciate any help or ideas, it does not have to be JNI only. C++ standard library methods/functions/classes etc. are also good :) !\r\n\r\nSystem information:\r\n\r\n - Compiler: MinGW64 over MSYS2\r\n - JDK8u91\r\n - Of course 64bit operation system (Does not have to be named xD) \r\n\r\nWith global stream is meant, that the stream is accessible to all JNI methods.\r\n\r\nEDIT:\r\n\r\nOkay, &#39;to let the cat out of the back&#39; I&#39;m using RtAudio.\r\n[Realtime C++ Audio Library][1]\r\n\r\n\r\nExample:\r\n\r\n    //THIS IS C++ CODE\r\n    RtAudio audio(RtAudio::WASAPI);\r\n  \r\n    int callback(//Buffer stuff etc.){\r\n      //do something\r\n     if(data.isEmpty())return 1;//invokes audio.closeStream() but this does NOT closes the stream!\r\n     else return 0; //Go on with the stream rather wait for the next call\r\n    }    \r\n\r\n\r\n    JNIEXPORT void JNICALL openStream(jintArray data){\r\n       //This is a outputstream\r\n       audio.openStream(&amp;outputParams,....., &amp;callback,....);\r\n       audio.startStream();\r\n    }\r\n\r\n    JNIEXPORT void JNICALL fillData(jintArray data){\r\n        //filldata again!\r\n        stream.start(); //Starts the stream but does nothing, because the stream is deleted because of Java \r\n    }\r\n\r\n\r\nIf I would change the openStream method to this, the stream won&#39;t be deleted but I look for a better solution...\r\n\r\n   \r\n\r\n    JNIEXPORT void JNICALL openStream(jintArray data){\r\n       //This is a outputstream\r\n       audio.openStream(&amp;outputParams,....., &amp;callback,....);\r\n       audio.startStream();\r\n     **while(true); //ADD THIS AND THE STREAM WON&#39;T BE DELETED!**  \r\n    }\r\n\r\n \r\nAnother solution is to add into the RtAudio API a &quot;keepInstanceAliveThread&quot; which is called after the stopStream() method and deleted after calling startStream() or closeStream(). I would rather prefer another solution but at all, there isn&#39;t any yet.\r\n\r\nPre-outcomes:\r\n\r\nThanks to @marcinj:\r\n\r\n&gt; global object are known to cause many problems, its hard to control their construction/destruction.\r\n \r\nEDIT:\r\nI found out in the internet (also on stackoverflow), that the destructor is called after the return of a JNI method.\r\n\r\n\r\n  [1]: http://www.music.mcgill.ca/~gary/rtaudio/index.html","title":"JNI Keep Object in C++ alive over multiple JNI calls","body":"<p>I have a problem in my Java native audio library but first, here is my current approach:</p>\n\n<ol>\n<li>With a native method I'm opening a 'global' stream, which receives data over a callback function.</li>\n<li>The callback function runs until there is no data.</li>\n<li>If there is no data, the stream only stops, but does not get closed. </li>\n<li>Now I wanted to feed the stream with data again [trying to start stream again(this operation is allowed)], but the stream has already been deleted.</li>\n</ol>\n\n<p>So now I tried to figure out how to prevent deletion of the stream from C++ or Java.</p>\n\n<p>One solution was to create a thread in the stream, which prevents the deletion.</p>\n\n<p>But I don't like this solution...</p>\n\n<p>So I searched how to keep such objects alive and found out, that there are so called \"global references\" which can be made with the JNI. But I did not understand whether they are only for java objects or for both.</p>\n\n<p>Also I tried out whether another pointer type of C++ could help.</p>\n\n<p>I appreciate any help or ideas, it does not have to be JNI only. C++ standard library methods/functions/classes etc. are also good :) !</p>\n\n<p>System information:</p>\n\n<ul>\n<li>Compiler: MinGW64 over MSYS2</li>\n<li>JDK8u91</li>\n<li>Of course 64bit operation system (Does not have to be named xD) </li>\n</ul>\n\n<p>With global stream is meant, that the stream is accessible to all JNI methods.</p>\n\n<p>EDIT:</p>\n\n<p>Okay, 'to let the cat out of the back' I'm using RtAudio.\n<a href=\"http://www.music.mcgill.ca/~gary/rtaudio/index.html\" rel=\"noreferrer\">Realtime C++ Audio Library</a></p>\n\n<p>Example:</p>\n\n<pre><code>//THIS IS C++ CODE\nRtAudio audio(RtAudio::WASAPI);\n\nint callback(//Buffer stuff etc.){\n  //do something\n if(data.isEmpty())return 1;//invokes audio.closeStream() but this does NOT closes the stream!\n else return 0; //Go on with the stream rather wait for the next call\n}    \n\n\nJNIEXPORT void JNICALL openStream(jintArray data){\n   //This is a outputstream\n   audio.openStream(&amp;outputParams,....., &amp;callback,....);\n   audio.startStream();\n}\n\nJNIEXPORT void JNICALL fillData(jintArray data){\n    //filldata again!\n    stream.start(); //Starts the stream but does nothing, because the stream is deleted because of Java \n}\n</code></pre>\n\n<p>If I would change the openStream method to this, the stream won't be deleted but I look for a better solution...</p>\n\n<pre><code>JNIEXPORT void JNICALL openStream(jintArray data){\n   //This is a outputstream\n   audio.openStream(&amp;outputParams,....., &amp;callback,....);\n   audio.startStream();\n **while(true); //ADD THIS AND THE STREAM WON'T BE DELETED!**  \n}\n</code></pre>\n\n<p>Another solution is to add into the RtAudio API a \"keepInstanceAliveThread\" which is called after the stopStream() method and deleted after calling startStream() or closeStream(). I would rather prefer another solution but at all, there isn't any yet.</p>\n\n<p>Pre-outcomes:</p>\n\n<p>Thanks to @marcinj:</p>\n\n<blockquote>\n  <p>global object are known to cause many problems, its hard to control their construction/destruction.</p>\n</blockquote>\n\n<p>EDIT:\nI found out in the internet (also on stackoverflow), that the destructor is called after the return of a JNI method.</p>\n"},{"tags":["java","spring","spring-boot","servlets","httpsession"],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674234231,"creation_date":1674234231,"question_id":75187174,"body_markdown":"I am having below class \r\n\r\n```\r\npublic class HeaderInterceptor implements ClientHttpRequestInterceptor {\r\n\r\n    @Override\r\n    public ClientHttpResponse intercept(\r\n            final HttpRequest request,\r\n            final byte[] body,\r\n            final ClientHttpRequestExecution execution) throws IOException {\r\n\r\n        request.getHeaders().add(HttpHeaders.CONTENT_TYPE, String.valueOf(MediaType.APPLICATION_JSON));\r\n        request.getHeaders().add(HttpHeaders.AUTHORIZATION, BEARER + getToken());\r\n\r\n        return execution.execute(request, body);\r\n    }\r\n```\r\n\r\nHere I want to get the attribute from HttpServletRequest and need to set in each rest call.\r\n\r\nTried below approach but it&#39;s not worked\r\n\r\n```\r\nfinal RequestAttributes attribs = RequestContextHolder.getRequestAttributes();\r\n            if (attribs instanceof NativeWebRequest) {\r\n                final HttpServletRequest request = (HttpServletRequest) ((NativeWebRequest) attribs).getNativeRequest();\r\n                \r\n```\r\n\r\nEven registered RequestContextListener in below ways\r\n\r\n```\r\n@Configuration\r\n@WebListener\r\npublic class MyRequestContextListener extends RequestContextListener {\r\n}\r\n\r\n```\r\nand \r\n```\r\n @Bean\r\n    public RequestContextListener requestContextListener() {\r\n        return new RequestContextListener();\r\n    }\r\n```\r\n\r\nNothing worked for me. Always getting null when I am calling RequestContextHolder.getRequestAttributes() or RequestContextHolder.currentRequestAttributes().\r\n\r\nHow to inject HttpServletRequest without autowiring?\r\n\r\n","title":"How to get HttpServletRequest in ClientHttpRequestInterceptor extended class without autowire in spring boot","body":"<p>I am having below class</p>\n<pre><code>public class HeaderInterceptor implements ClientHttpRequestInterceptor {\n\n    @Override\n    public ClientHttpResponse intercept(\n            final HttpRequest request,\n            final byte[] body,\n            final ClientHttpRequestExecution execution) throws IOException {\n\n        request.getHeaders().add(HttpHeaders.CONTENT_TYPE, String.valueOf(MediaType.APPLICATION_JSON));\n        request.getHeaders().add(HttpHeaders.AUTHORIZATION, BEARER + getToken());\n\n        return execution.execute(request, body);\n    }\n</code></pre>\n<p>Here I want to get the attribute from HttpServletRequest and need to set in each rest call.</p>\n<p>Tried below approach but it's not worked</p>\n<pre><code>final RequestAttributes attribs = RequestContextHolder.getRequestAttributes();\n            if (attribs instanceof NativeWebRequest) {\n                final HttpServletRequest request = (HttpServletRequest) ((NativeWebRequest) attribs).getNativeRequest();\n                \n</code></pre>\n<p>Even registered RequestContextListener in below ways</p>\n<pre><code>@Configuration\n@WebListener\npublic class MyRequestContextListener extends RequestContextListener {\n}\n\n</code></pre>\n<p>and</p>\n<pre><code> @Bean\n    public RequestContextListener requestContextListener() {\n        return new RequestContextListener();\n    }\n</code></pre>\n<p>Nothing worked for me. Always getting null when I am calling RequestContextHolder.getRequestAttributes() or RequestContextHolder.currentRequestAttributes().</p>\n<p>How to inject HttpServletRequest without autowiring?</p>\n"},{"tags":["java","maven","gradle","nexus","netflix-conductor"],"answers":[{"tags":[],"owner":{"account_id":3530193,"reputation":811,"user_id":2950010,"accept_rate":67,"display_name":"mubeen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674234222,"creation_date":1674234222,"answer_id":75187172,"question_id":75186686,"body_markdown":"You can use multiple repositories by configuring them in both the settings.xml file and the build.gradle file.\r\n\r\nIn the settings.xml file, you can specify the repositories that should be used for all projects that use the same settings.xml file. For example, you can add a &lt;repositories&gt; section to the settings.xml file and specify the URLs of the repositories that should be used.\r\n\r\nIn the build.gradle file, you can specify the repositories that should be used for the specific project. You can do this by adding the following in the build.gradle file:\r\n\r\n```\r\nrepositories {\r\n    maven {\r\n        url &#39;http://my.custom.repo/maven2&#39;\r\n    }\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n```\r\n\r\nn this example, the first repository is a custom repository, the second is the local repository, and the third is the central repository.\r\n\r\nYou can also define the repositories in the build.gradle file using the repositories block, this will override any repository defined in the settings.xml\r\n\r\nIt&#39;s important to notice that repositories that are defined in the build.gradle file will have higher priority than those defined in the settings.xml file.\r\n\r\nYou can also use both repositories together by specifying them in both the settings.xml file and the build.gradle file, in this case the build.gradle file will have higher priority and will be used first to resolve dependencies.\r\n","title":"Using Nexus Repository and Other Repository in Gradle","body":"<p>You can use multiple repositories by configuring them in both the settings.xml file and the build.gradle file.</p>\n<p>In the settings.xml file, you can specify the repositories that should be used for all projects that use the same settings.xml file. For example, you can add a  section to the settings.xml file and specify the URLs of the repositories that should be used.</p>\n<p>In the build.gradle file, you can specify the repositories that should be used for the specific project. You can do this by adding the following in the build.gradle file:</p>\n<pre><code>repositories {\n    maven {\n        url 'http://my.custom.repo/maven2'\n    }\n    mavenLocal()\n    mavenCentral()\n}\n</code></pre>\n<p>n this example, the first repository is a custom repository, the second is the local repository, and the third is the central repository.</p>\n<p>You can also define the repositories in the build.gradle file using the repositories block, this will override any repository defined in the settings.xml</p>\n<p>It's important to notice that repositories that are defined in the build.gradle file will have higher priority than those defined in the settings.xml file.</p>\n<p>You can also use both repositories together by specifying them in both the settings.xml file and the build.gradle file, in this case the build.gradle file will have higher priority and will be used first to resolve dependencies.</p>\n"}],"owner":{"account_id":4179726,"reputation":73,"user_id":7588059,"display_name":"Umair Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75187172,"answer_count":1,"score":0,"last_activity_date":1674234222,"creation_date":1674231528,"question_id":75186686,"body_markdown":"Can you help me with this problem please? I have to use in-house built-in dependencies which is hosted on `Nexus` for `Netflix conductor` project. I have setup the `settings.xml` which resolves the repository URL for `Nexus` repository. \r\n\r\nI couldn&#39;t understand how the gradle will resolve these dependencies, currently my gradle is not searching for the in-house dependencies hosted on `Nexus`. \r\n\r\nWhat I am missing so that I can use our nexus repository as well as also using the Netflix provided repository?\r\n\r\n\r\n\r\nThese are the repositories settings in build.gradle file.\r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n\r\n    // oss-candidate for -rc.* verions:\r\n    maven {\r\n        url &quot;https://artifactory-oss.prod.netflix.net/artifactory/maven-oss-candidates&quot;\r\n    }\r\n\r\n    /**\r\n     * This repository locates artifacts that don&#39;t exist in maven central but we had to backup from jcenter\r\n     * The exclusiveContent\r\n     */\r\n    exclusiveContent {\r\n        forRepository {\r\n            maven {\r\n                url &quot;https://artifactory-oss.prod.netflix.net/artifactory/required-jcenter-modules-backup&quot;\r\n            }\r\n        }\r\n        filter {\r\n            includeGroupByRegex &quot;com\\\\.github\\\\.vmg.*&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried adding the following after the `maven` block but it didn&#39;t work.\r\n\r\n```\r\nmaven {\r\n            name &quot;server-id&quot;\r\n            url &quot;https://repo.******.com/repository/***&quot;\r\n        }\r\n```\r\nYour response is appreciated.\r\n\r\nThank you!","title":"Using Nexus Repository and Other Repository in Gradle","body":"<p>Can you help me with this problem please? I have to use in-house built-in dependencies which is hosted on <code>Nexus</code> for <code>Netflix conductor</code> project. I have setup the <code>settings.xml</code> which resolves the repository URL for <code>Nexus</code> repository.</p>\n<p>I couldn't understand how the gradle will resolve these dependencies, currently my gradle is not searching for the in-house dependencies hosted on <code>Nexus</code>.</p>\n<p>What I am missing so that I can use our nexus repository as well as also using the Netflix provided repository?</p>\n<p>These are the repositories settings in build.gradle file.</p>\n<pre><code>repositories {\n    mavenCentral()\n\n    // oss-candidate for -rc.* verions:\n    maven {\n        url &quot;https://artifactory-oss.prod.netflix.net/artifactory/maven-oss-candidates&quot;\n    }\n\n    /**\n     * This repository locates artifacts that don't exist in maven central but we had to backup from jcenter\n     * The exclusiveContent\n     */\n    exclusiveContent {\n        forRepository {\n            maven {\n                url &quot;https://artifactory-oss.prod.netflix.net/artifactory/required-jcenter-modules-backup&quot;\n            }\n        }\n        filter {\n            includeGroupByRegex &quot;com\\\\.github\\\\.vmg.*&quot;\n        }\n    }\n}\n</code></pre>\n<p>I tried adding the following after the <code>maven</code> block but it didn't work.</p>\n<pre><code>maven {\n            name &quot;server-id&quot;\n            url &quot;https://repo.******.com/repository/***&quot;\n        }\n</code></pre>\n<p>Your response is appreciated.</p>\n<p>Thank you!</p>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1671783419,"post_id":74896338,"comment_id":132174957,"body_markdown":"Use [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html).  Edit your question to include a [mre] that we can copy into our IDE compile, run, and most importantly, test.   Test, test, test.","body":"Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a>.  Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy into our IDE compile, run, and most importantly, test.   Test, test, test."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671827597,"post_id":74896338,"comment_id":132185788,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1672308046,"post_id":74896338,"comment_id":132263181,"body_markdown":"I have added the code 4 days ago, now what?","body":"I have added the code 4 days ago, now what?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1672470910,"post_id":74896338,"comment_id":132295086,"body_markdown":"See my code here: https://www.jdoodle.com/iembed/v0/BIf","body":"See my code here: <a href=\"https://www.jdoodle.com/iembed/v0/BIf\" rel=\"nofollow noreferrer\">jdoodle.com/iembed/v0/BIf</a>"},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1672484338,"post_id":74896338,"comment_id":132296787,"body_markdown":"It works, but not in the way I expected. The cursor would clear the words before it, not after it. The behavior which I want: From [this](https://photos.app.goo.gl/RXxQ9X9YHZc3ccBg6) to [this](https://photos.app.goo.gl/RVkdLSrHSr7Ctq1N8). However, this is what happens: From [this](https://photos.app.goo.gl/ByhjBwpWBvmuV7if9) to [this](https://photos.app.goo.gl/KyjzUfqesHzMhadJ7). Thanks in advance @Abra","body":"It works, but not in the way I expected. The cursor would clear the words before it, not after it. The behavior which I want: From <a href=\"https://photos.app.goo.gl/RXxQ9X9YHZc3ccBg6\" rel=\"nofollow noreferrer\">this</a> to <a href=\"https://photos.app.goo.gl/RVkdLSrHSr7Ctq1N8\" rel=\"nofollow noreferrer\">this</a>. However, this is what happens: From <a href=\"https://photos.app.goo.gl/ByhjBwpWBvmuV7if9\" rel=\"nofollow noreferrer\">this</a> to <a href=\"https://photos.app.goo.gl/KyjzUfqesHzMhadJ7\" rel=\"nofollow noreferrer\">this</a>. Thanks in advance @Abra"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1672569593,"post_id":74896338,"comment_id":132306776,"body_markdown":"Refer to https://stackoverflow.com/questions/26502421/jtextarea-how-to-get-first-index-of-current-line","body":"Refer to <a href=\"https://stackoverflow.com/questions/26502421/jtextarea-how-to-get-first-index-of-current-line\" title=\"jtextarea how to get first index of current line\">stackoverflow.com/questions/26502421/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674234201,"creation_date":1672728144,"answer_id":74989815,"question_id":74896338,"body_markdown":"Credits:  @Abra\r\n\r\nSolution:\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.ActionMap;\r\nimport javax.swing.InputMap;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.KeyStroke;\r\nimport javax.swing.text.BadLocationException;\r\nimport java.awt.Toolkit;\r\npublic class TestSamplePrograms {\r\n    private JTextArea  textarea;\r\n\r\n    private void buildAndShowGui() {\r\n        JFrame frame = new JFrame(&quot;Untitled&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTextArea(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JScrollPane createTextArea() {\r\n        textarea = new JTextArea(20, 60);\r\n        InputMap im = textarea.getInputMap();\r\n        KeyStroke ks = KeyStroke.getKeyStroke(KeyEvent.VK_BACK_SPACE, Toolkit.getDefaultToolkit().getMenuShortcutKeyMaskEx());\r\n        im.put(ks, &quot;del2EoL&quot;);\r\n        ActionMap am = textarea.getActionMap();\r\n        am.put(&quot;del2EoL&quot;, new Delete2EOL());\r\n        JScrollPane pane = new JScrollPane(textarea);\r\n        return pane;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    private class Delete2EOL extends AbstractAction {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            int caretOffset = textarea.getCaretPosition();\r\n            int lineNumber = 0;\r\n            try {\r\n                lineNumber = textarea.getLineOfOffset(caretOffset);\r\n                int startOffset = textarea.getLineStartOffset(lineNumber);\r\n                int endOffset = textarea.getLineEndOffset(lineNumber);\r\n                textarea.replaceRange(&quot;&quot;, startOffset, endOffset);\r\n            } catch (BadLocationException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new TestSamplePrograms().buildAndShowGui());\r\n    }\r\n}\r\n```","title":"Command + Backspace functionality in JTextArea","body":"<p>Credits:  @Abra</p>\n<p>Solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.KeyStroke;\nimport javax.swing.text.BadLocationException;\nimport java.awt.Toolkit;\npublic class TestSamplePrograms {\n    private JTextArea  textarea;\n\n    private void buildAndShowGui() {\n        JFrame frame = new JFrame(&quot;Untitled&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTextArea(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JScrollPane createTextArea() {\n        textarea = new JTextArea(20, 60);\n        InputMap im = textarea.getInputMap();\n        KeyStroke ks = KeyStroke.getKeyStroke(KeyEvent.VK_BACK_SPACE, Toolkit.getDefaultToolkit().getMenuShortcutKeyMaskEx());\n        im.put(ks, &quot;del2EoL&quot;);\n        ActionMap am = textarea.getActionMap();\n        am.put(&quot;del2EoL&quot;, new Delete2EOL());\n        JScrollPane pane = new JScrollPane(textarea);\n        return pane;\n    }\n\n    @SuppressWarnings(&quot;serial&quot;)\n    private class Delete2EOL extends AbstractAction {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            int caretOffset = textarea.getCaretPosition();\n            int lineNumber = 0;\n            try {\n                lineNumber = textarea.getLineOfOffset(caretOffset);\n                int startOffset = textarea.getLineStartOffset(lineNumber);\n                int endOffset = textarea.getLineEndOffset(lineNumber);\n                textarea.replaceRange(&quot;&quot;, startOffset, endOffset);\n            } catch (BadLocationException ex) {\n                throw new RuntimeException(ex);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new TestSamplePrograms().buildAndShowGui());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74989815,"answer_count":1,"score":-1,"last_activity_date":1674234201,"creation_date":1671772438,"question_id":74896338,"body_markdown":"I have a small text editor that I made in Java *Swing* with `JTextArea`.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/pYq52.png)](https://i.stack.imgur.com/pYq52.png)\r\n\r\nI want to implement the following:  \r\nWhen the user presses &lt;kbd&gt;Command&lt;/kbd&gt;+&lt;kbd&gt;Backspace&lt;/kbd&gt; I want to remove all the text from the beginning of the line up to the cursor. How to implement this? I tried using `KeyListener`s but it doesn&#39;t work.\r\n\r\nFor example (before user presses &lt;kbd&gt;Command&lt;/kbd&gt;+&lt;kbd&gt;Backspace&lt;/kbd&gt;) ...\r\n\r\n[![before][1]][1]\r\n\r\nResult (after user presses &lt;kbd&gt;Command&lt;/kbd&gt;+&lt;kbd&gt;Backspace&lt;/kbd&gt;) ...\r\n\r\n[![after][2]][2]\r\n\r\nMy code (Not 100% exact compared to the image):\r\n```java\r\nimport javax.swing.*;\r\nimport javax.swing.text.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class Main{\r\n    static JFrame frame = new JFrame();\r\n    static JTextArea textArea = new JTextArea();\r\n    static JScrollPane scrollPane = new JScrollPane(textArea);\r\n\r\n    public static void main(String[] args) throws BadLocationException {\r\n        frame.setTitle(&quot;Untitled&quot;);\r\n        addComponentsToFrame();\r\n        textArea.addKeyListener(new KeyListener(){\r\n            @Override\r\n            public void keyTyped(KeyEvent e) {\r\n                if(e.getKeyCode() == (Toolkit.getDefaultToolkit().getMenuShortcutKeyMaskEx() | KeyEvent.VK_BACK_SPACE)){\r\n                    System.out.println(&quot;Delete&quot;); //Placeholder\r\n                }\r\n            }\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {}\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {}\r\n        });\r\n    }\r\n    \r\n    public static void addComponentsToFrame(){\r\n        scrollPane.setAutoscrolls(true);\r\n        frame.add(scrollPane);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(500, 500);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\nFor now when I have placed a print Statement as a place holder, since I don&#39;t know how to delete all the words from the beginning of the line up to the cursor (i.e. the logic).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c3Rmq.png\r\n  [2]: https://i.stack.imgur.com/PyzWH.png","title":"Command + Backspace functionality in JTextArea","body":"<p>I have a small text editor that I made in Java <em>Swing</em> with <code>JTextArea</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/pYq52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pYq52.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to implement the following:<br />\nWhen the user presses <kbd>Command</kbd>+<kbd>Backspace</kbd> I want to remove all the text from the beginning of the line up to the cursor. How to implement this? I tried using <code>KeyListener</code>s but it doesn't work.</p>\n<p>For example (before user presses <kbd>Command</kbd>+<kbd>Backspace</kbd>) ...</p>\n<p><a href=\"https://i.stack.imgur.com/c3Rmq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c3Rmq.png\" alt=\"before\" /></a></p>\n<p>Result (after user presses <kbd>Command</kbd>+<kbd>Backspace</kbd>) ...</p>\n<p><a href=\"https://i.stack.imgur.com/PyzWH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PyzWH.png\" alt=\"after\" /></a></p>\n<p>My code (Not 100% exact compared to the image):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport javax.swing.text.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class Main{\n    static JFrame frame = new JFrame();\n    static JTextArea textArea = new JTextArea();\n    static JScrollPane scrollPane = new JScrollPane(textArea);\n\n    public static void main(String[] args) throws BadLocationException {\n        frame.setTitle(&quot;Untitled&quot;);\n        addComponentsToFrame();\n        textArea.addKeyListener(new KeyListener(){\n            @Override\n            public void keyTyped(KeyEvent e) {\n                if(e.getKeyCode() == (Toolkit.getDefaultToolkit().getMenuShortcutKeyMaskEx() | KeyEvent.VK_BACK_SPACE)){\n                    System.out.println(&quot;Delete&quot;); //Placeholder\n                }\n            }\n            @Override\n            public void keyPressed(KeyEvent e) {}\n            @Override\n            public void keyReleased(KeyEvent e) {}\n        });\n    }\n    \n    public static void addComponentsToFrame(){\n        scrollPane.setAutoscrolls(true);\n        frame.add(scrollPane);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500, 500);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>For now when I have placed a print Statement as a place holder, since I don't know how to delete all the words from the beginning of the line up to the cursor (i.e. the logic).</p>\n"},{"tags":["java","exuberant-ctags"],"comments":[{"owner":{"account_id":7064481,"reputation":1220,"user_id":6386727,"display_name":"Masatake YAMATO"},"score":1,"creation_date":1674256090,"post_id":75187005,"comment_id":132683507,"body_markdown":"How about moving ~/.ctags to ~/.ctags.d/foo.ctags ? I guess your ctags is not exuberant-ctags but universal-ctags.","body":"How about moving ~/.ctags to ~/.ctags.d/foo.ctags ? I guess your ctags is not exuberant-ctags but universal-ctags."},{"owner":{"account_id":4607497,"reputation":251,"user_id":3736549,"accept_rate":93,"display_name":"rogerb"},"score":1,"creation_date":1674404713,"post_id":75187005,"comment_id":132702782,"body_markdown":"You are right. I am using universal-ctags and moving the ctags file worked. Thanks","body":"You are right. I am using universal-ctags and moving the ctags file worked. Thanks"}],"owner":{"account_id":4607497,"reputation":251,"user_id":3736549,"accept_rate":93,"display_name":"rogerb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674233989,"creation_date":1674233232,"question_id":75187005,"body_markdown":"I want to build ctags such that it doesn&#39;t index the symbols in the import statements.\r\n\r\nI came across a similar post for Python - https://stackoverflow.com/questions/3609433/skip-python-import-statements-in-exuberant-ctags\r\n\r\nand was exploring \r\n\r\n    ctags --list-kinds=java\r\n    a  annotation declarations\r\n    c  classes\r\n    e  enum constants\r\n    f  fields\r\n    g  enum types\r\n    i  interfaces\r\n    l  local variables [off]\r\n    m  methods\r\n    p  packages\r\n\r\nBut I dont see anything for specifically for import statements.\r\n\r\nI already tried adding `--java-kinds=-p` to my `~/.ctags` file but that doesnt seem to work. Would appreciate the help\r\n\r\n","title":"Skip java &quot;import&quot; statements from exuberant ctags","body":"<p>I want to build ctags such that it doesn't index the symbols in the import statements.</p>\n<p>I came across a similar post for Python - <a href=\"https://stackoverflow.com/questions/3609433/skip-python-import-statements-in-exuberant-ctags\">Skip python &quot;import&quot; statements in exuberant ctags</a></p>\n<p>and was exploring</p>\n<pre><code>ctags --list-kinds=java\na  annotation declarations\nc  classes\ne  enum constants\nf  fields\ng  enum types\ni  interfaces\nl  local variables [off]\nm  methods\np  packages\n</code></pre>\n<p>But I dont see anything for specifically for import statements.</p>\n<p>I already tried adding <code>--java-kinds=-p</code> to my <code>~/.ctags</code> file but that doesnt seem to work. Would appreciate the help</p>\n"},{"tags":["java","hyperledger-fabric","grpc","hyperledger"],"comments":[{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1626956895,"post_id":68484817,"comment_id":121033408,"body_markdown":"most people would advise you don&#39;t use the blockchain to store the data but to store a reference to the data which is far smaller. Is there a legitimate need to store 4GB on-chain vs. off-chain?","body":"most people would advise you don&#39;t use the blockchain to store the data but to store a reference to the data which is far smaller. Is there a legitimate need to store 4GB on-chain vs. off-chain?"},{"owner":{"account_id":12026609,"reputation":21,"user_id":8798308,"display_name":"user8798308"},"score":0,"creation_date":1626958485,"post_id":68484817,"comment_id":121034184,"body_markdown":"Storing the data is fine, I wouldnt be pushing any data over 4GB up onto the Blockchain. Its just when I try query the Blockchain for some use cases I need to get more than 4GB back.","body":"Storing the data is fine, I wouldnt be pushing any data over 4GB up onto the Blockchain. Its just when I try query the Blockchain for some use cases I need to get more than 4GB back."},{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1626978005,"post_id":68484817,"comment_id":121042292,"body_markdown":"https://stackoverflow.com/questions/60522516/hyperledger-fabric-2-0-grpc-message-exceeds-maximum-size-4194304-5947481 see if this helps - theres a link within to a setting you can configure to increase the size","body":"<a href=\"https://stackoverflow.com/questions/60522516/hyperledger-fabric-2-0-grpc-message-exceeds-maximum-size-4194304-5947481\" title=\"hyperledger fabric 2 0 grpc message exceeds maximum size 4194304 5947481\">stackoverflow.com/questions/60522516/&hellip;</a> see if this helps - theres a link within to a setting you can configure to increase the size"},{"owner":{"account_id":6629278,"reputation":990,"user_id":5118431,"display_name":"Fedor  Petrov"},"score":0,"creation_date":1674229699,"post_id":68484817,"comment_id":132676691,"body_markdown":"Eh. Is this really Gigabytes? I&#39;m sending around 9 MB and the message looks like &#39;Message exceeds maximum size 4194304:9774649&#39;","body":"Eh. Is this really Gigabytes? I&#39;m sending around 9 MB and the message looks like &#39;Message exceeds maximum size 4194304:9774649&#39;"}],"answers":[{"tags":[],"owner":{"account_id":12026609,"reputation":21,"user_id":8798308,"display_name":"user8798308"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628120773,"creation_date":1628086408,"answer_id":68652840,"question_id":68484817,"body_markdown":"I was not able to solve the problem, although I did find a workaround. I ended up using the fabric Go SDK instead of the Java SDK as the Go SDK allows up to 100MB in grpc max message length by default which ultimately solved my problem. \r\n\r\nLink to the Go SDK: https://github.com/hyperledger/fabric-sdk-go\r\n\r\nHowever, the only downfall for the using the Go SDK is that the grpc timeout is set to 30 seconds by default.\r\n\r\nI also found the transactions to and from my Hyperledger Fabric Blockchain were a lot faster when using the Go SDK rather than the Java SDK.","title":"Hyperledger Fabric Java SDK grpc maxInboundMessageSize","body":"<p>I was not able to solve the problem, although I did find a workaround. I ended up using the fabric Go SDK instead of the Java SDK as the Go SDK allows up to 100MB in grpc max message length by default which ultimately solved my problem.</p>\n<p>Link to the Go SDK: <a href=\"https://github.com/hyperledger/fabric-sdk-go\" rel=\"nofollow noreferrer\">https://github.com/hyperledger/fabric-sdk-go</a></p>\n<p>However, the only downfall for the using the Go SDK is that the grpc timeout is set to 30 seconds by default.</p>\n<p>I also found the transactions to and from my Hyperledger Fabric Blockchain were a lot faster when using the Go SDK rather than the Java SDK.</p>\n"},{"tags":[],"owner":{"account_id":6629278,"reputation":990,"user_id":5118431,"display_name":"Fedor  Petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674233700,"creation_date":1674233700,"answer_id":75187086,"question_id":68484817,"body_markdown":"This disconnect between parameters accepted by Java, Python or Node.js Fabric SDKs is not nice. But in case of Java I&#39;ve found the parameter which solved similar problem\r\n````\r\ngrpc.NettyChannelBuilderOption.maxInboundMessageSize: 9000000\r\n````\r\n\r\nAlso mentioned here\r\nhttps://stackoverflow.com/questions/60522516/hyperledger-fabric-2-0-grpc-message-exceeds-maximum-size-4194304-5947481/60526589#60526589","title":"Hyperledger Fabric Java SDK grpc maxInboundMessageSize","body":"<p>This disconnect between parameters accepted by Java, Python or Node.js Fabric SDKs is not nice. But in case of Java I've found the parameter which solved similar problem</p>\n<pre><code>grpc.NettyChannelBuilderOption.maxInboundMessageSize: 9000000\n</code></pre>\n<p>Also mentioned here\n<a href=\"https://stackoverflow.com/questions/60522516/hyperledger-fabric-2-0-grpc-message-exceeds-maximum-size-4194304-5947481/60526589#60526589\">Hyperledger Fabric 2.0 - gRPC message exceeds maximum size 4194304: 5947481</a></p>\n"}],"owner":{"account_id":12026609,"reputation":21,"user_id":8798308,"display_name":"user8798308"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674233700,"creation_date":1626956720,"question_id":68484817,"body_markdown":"I am running Hyperledger fabric 2.0 Blockchain using script files to create the channel, Orderer and peers. I am using fabric-gateway-java:2.1.1 as the Java SDK and I am using a connection profile to connect to the Blockchain from the SDK, see below:\r\n\r\n\r\n\r\n   ``` lang-java\r\npublic static Gateway connect() throws Exception{\r\n        // Load a file system based wallet for managing identities.\r\n        Path walletPath = Paths.get(&quot;wallet&quot;);\r\n        Wallet wallet = Wallets.newFileSystemWallet(walletPath);\r\n        // load a CCP\r\n        Path networkConfigPath = Paths.get(&quot;..&quot;, &quot;..&quot;, &quot;TestBlockchain&quot;, &quot;organizations&quot;,\r\n                &quot;peerOrganizations&quot;, &quot;org1.test.com&quot;, &quot;connection-org1.yaml&quot;);\r\n\r\n        Gateway.Builder builder = Gateway.createBuilder();\r\n        builder.identity(wallet, &quot;appUser&quot;).networkConfig(networkConfigPath).discovery(true);\r\n        return builder.connect();\r\n    };\r\n```\r\n\r\n\r\n\r\n\r\nMy connection profile looks like this: **Note: I have removed the certificates for this question**\r\n\r\n\r\n```\r\nname: TestBlockchain-org1\r\nversion: 1.0.0\r\nchannels: testchannel\r\nclient:\r\n  organization: Org1\r\n  connection:\r\n    timeout:\r\n      peer:\r\n        endorser: &#39;300&#39;\r\norganizations:\r\n  Org1:\r\n    mspid: Org1MSP\r\n    peers:\r\n    - peer0.org1.test.com\r\n    certificateAuthorities:\r\n    - ca.org1.test.com\r\npeers:\r\n  peer0.org1.test.com:\r\n    url: grpcs://localhost:7051\r\n    tlsCACerts:\r\n      pem: |\r\n          -----BEGIN CERTIFICATE-----\r\n          \r\n          -----END CERTIFICATE-----\r\n          \r\n    grpcOptions:\r\n      ssl-target-name-override: peer0.org1.test.com\r\n      hostnameOverride: peer0.org1.test.com\r\n      grpc.max_send_message_length: 9000000\r\n      grpc.max_receive_message_length: 9000000\r\n  peer1.org1.test.com:\r\n    url: grpcs://localhost:7051\r\n    tlsCACerts:\r\n      pem: |\r\n            -----BEGIN CERTIFICATE-----\r\n          \r\n          -----END CERTIFICATE-----\r\n    \r\n    grpcOptions:\r\n      ssl-target-name-override: peer1.org1.test.com\r\n      hostnameOverride: peer1.org1.test.com\r\n      grpc.max_send_message_length: 9000000\r\n      grpc.max_receive_message_length: 9000000\r\ncertificateAuthorities:\r\n  ca.org1.test.com:\r\n    url: https://localhost:7054\r\n    caName: ca-org1\r\n    tlsCACerts:\r\n      pem: \r\n        - |\r\n          -----BEGIN CERTIFICATE-----\r\n          -----END CERTIFICATE-----\r\n          \r\n    httpOptions:\r\n      verify: false\r\n```\r\n\r\nWhen I set the grpc.max_receive_message_length in the connection profile it doesn&#39;t seem to work when trying to receive messages from the Blockchain that are larger than 4GB\r\n\r\nThe error I keep getting is RESOURCE EXHAUSTED: Compressed gRPC message exceeds maximum size 4194304 4GB.\r\n\r\nQuestion: Is there another way to increase this limit for the grpc in the connection profile or maybe the java code itself?\r\n\r\nI have tried searching on the internet for a solution and there doesnt seem to be so hopefully someone can come to my rescue and help. Thanks in advance :)\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Hyperledger Fabric Java SDK grpc maxInboundMessageSize","body":"<p>I am running Hyperledger fabric 2.0 Blockchain using script files to create the channel, Orderer and peers. I am using fabric-gateway-java:2.1.1 as the Java SDK and I am using a connection profile to connect to the Blockchain from the SDK, see below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Gateway connect() throws Exception{\n     // Load a file system based wallet for managing identities.\n     Path walletPath = Paths.get(&quot;wallet&quot;);\n     Wallet wallet = Wallets.newFileSystemWallet(walletPath);\n     // load a CCP\n     Path networkConfigPath = Paths.get(&quot;..&quot;, &quot;..&quot;, &quot;TestBlockchain&quot;, &quot;organizations&quot;,\n             &quot;peerOrganizations&quot;, &quot;org1.test.com&quot;, &quot;connection-org1.yaml&quot;);\n\n     Gateway.Builder builder = Gateway.createBuilder();\n     builder.identity(wallet, &quot;appUser&quot;).networkConfig(networkConfigPath).discovery(true);\n     return builder.connect();\n };\n</code></pre>\n<p>My connection profile looks like this: <strong>Note: I have removed the certificates for this question</strong></p>\n<pre><code>name: TestBlockchain-org1\nversion: 1.0.0\nchannels: testchannel\nclient:\n  organization: Org1\n  connection:\n    timeout:\n      peer:\n        endorser: '300'\norganizations:\n  Org1:\n    mspid: Org1MSP\n    peers:\n    - peer0.org1.test.com\n    certificateAuthorities:\n    - ca.org1.test.com\npeers:\n  peer0.org1.test.com:\n    url: grpcs://localhost:7051\n    tlsCACerts:\n      pem: |\n          -----BEGIN CERTIFICATE-----\n          \n          -----END CERTIFICATE-----\n          \n    grpcOptions:\n      ssl-target-name-override: peer0.org1.test.com\n      hostnameOverride: peer0.org1.test.com\n      grpc.max_send_message_length: 9000000\n      grpc.max_receive_message_length: 9000000\n  peer1.org1.test.com:\n    url: grpcs://localhost:7051\n    tlsCACerts:\n      pem: |\n            -----BEGIN CERTIFICATE-----\n          \n          -----END CERTIFICATE-----\n    \n    grpcOptions:\n      ssl-target-name-override: peer1.org1.test.com\n      hostnameOverride: peer1.org1.test.com\n      grpc.max_send_message_length: 9000000\n      grpc.max_receive_message_length: 9000000\ncertificateAuthorities:\n  ca.org1.test.com:\n    url: https://localhost:7054\n    caName: ca-org1\n    tlsCACerts:\n      pem: \n        - |\n          -----BEGIN CERTIFICATE-----\n          -----END CERTIFICATE-----\n          \n    httpOptions:\n      verify: false\n</code></pre>\n<p>When I set the grpc.max_receive_message_length in the connection profile it doesn't seem to work when trying to receive messages from the Blockchain that are larger than 4GB</p>\n<p>The error I keep getting is RESOURCE EXHAUSTED: Compressed gRPC message exceeds maximum size 4194304 4GB.</p>\n<p>Question: Is there another way to increase this limit for the grpc in the connection profile or maybe the java code itself?</p>\n<p>I have tried searching on the internet for a solution and there doesnt seem to be so hopefully someone can come to my rescue and help. Thanks in advance :)</p>\n"},{"tags":["java","json","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674230745,"creation_date":1674230745,"answer_id":75186518,"question_id":75186499,"body_markdown":"Add a `BindingResult` parameter.\r\n\r\n```java\r\npublic void register(@Valid @RequestBody Person p, BindingResult result) {\r\n\tif (result.hasErrors()) {\r\n\t\t// show error message\r\n\t}\r\n}","title":"Spring doesn&#39;t validate JSON request","body":"<p>Add a <code>BindingResult</code> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void register(@Valid @RequestBody Person p, BindingResult result) {\n    if (result.hasErrors()) {\n        // show error message\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674233653,"creation_date":1674233653,"answer_id":75187073,"question_id":75186499,"body_markdown":"&gt; How can I make it validate the name so only strings are accepted?\r\n\r\nUse the `@Pattern` annotation.\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    @Valid\r\n    @NotBlank\r\n    @Pattern(regexp=&quot;^[A-Za-z]*$&quot;, message = &quot;Name should contains alphabetic values only&quot;)\r\n    private String name;\r\n\r\nFor more details check this [link][1] and this one for the [regex][2].\r\n\r\n\r\n  [1]: https://reflectoring.io/bean-validation-with-spring-boot/\r\n  [2]: https://stackoverflow.com/questions/6067592/regular-expression-to-match-only-alphabetic-characters#:~:text=%5BA%2DZa%2Dz%5D%20will%20match%20all%20the%20alphabets,(both%20lowercase%20and%20uppercase).","title":"Spring doesn&#39;t validate JSON request","body":"<blockquote>\n<p>How can I make it validate the name so only strings are accepted?</p>\n</blockquote>\n<p>Use the <code>@Pattern</code> annotation.</p>\n<pre><code>@JsonProperty(&quot;name&quot;)\n@Valid\n@NotBlank\n@Pattern(regexp=&quot;^[A-Za-z]*$&quot;, message = &quot;Name should contains alphabetic values only&quot;)\nprivate String name;\n</code></pre>\n<p>For more details check this <a href=\"https://reflectoring.io/bean-validation-with-spring-boot/\" rel=\"nofollow noreferrer\">link</a> and this one for the <a href=\"https://stackoverflow.com/questions/6067592/regular-expression-to-match-only-alphabetic-characters#:%7E:text=%5BA%2DZa%2Dz%5D%20will%20match%20all%20the%20alphabets,(both%20lowercase%20and%20uppercase).\">regex</a>.</p>\n"}],"owner":{"account_id":19032657,"reputation":55,"user_id":13894418,"display_name":"Tom1998"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674233653,"creation_date":1674230630,"question_id":75186499,"body_markdown":"When I send the request:\r\n\r\n    \r\n    &quot;Person&quot;: {\r\n       &quot;name&quot;: 5\r\n     }\r\n    \r\n\r\nThe request should fail (bad request) because 5 isn&#39;t a String. It prints: `Person{name=&#39;5&#39;}`.\r\n\r\nSimilarly, there&#39;s no error when I send null.\r\n\r\nI have these annotations:\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    @Valid\r\n    @NotBlank\r\n    private String name;\r\n\r\nController:\r\n\r\n    public void register(@Valid @RequestBody Person p) {\r\n        ...\r\n    }\r\n\r\nHow can I make it validate the name so only strings are accepted?","title":"Spring doesn&#39;t validate JSON request","body":"<p>When I send the request:</p>\n<pre><code>&quot;Person&quot;: {\n   &quot;name&quot;: 5\n }\n</code></pre>\n<p>The request should fail (bad request) because 5 isn't a String. It prints: <code>Person{name='5'}</code>.</p>\n<p>Similarly, there's no error when I send null.</p>\n<p>I have these annotations:</p>\n<pre><code>@JsonProperty(&quot;name&quot;)\n@Valid\n@NotBlank\nprivate String name;\n</code></pre>\n<p>Controller:</p>\n<pre><code>public void register(@Valid @RequestBody Person p) {\n    ...\n}\n</code></pre>\n<p>How can I make it validate the name so only strings are accepted?</p>\n"},{"tags":["java","maven","netbeans","java-11"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1674233881,"post_id":75187050,"comment_id":132678130,"body_markdown":"This link can help: https://www.youtube.com/watch?v=XaumVyY4vYM","body":"This link can help: <a href=\"https://www.youtube.com/watch?v=XaumVyY4vYM\" rel=\"nofollow noreferrer\">youtube.com/watch?v=XaumVyY4vYM</a>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674234681,"post_id":75187050,"comment_id":132678380,"body_markdown":"(1) `File` -&gt; `Project`-&gt; Categories : Java With Maven -&gt; Projects: Web Application.\n(2) `File` -&gt; `Project`-&gt; Categories : Java With Ant -&gt; Java Web -&gt; Projects: Web Application\n(3) compare difference between config with Ant Project and config with Maven project.","body":"(1) <code>File</code> -&gt; <code>Project</code>-&gt; Categories : Java With Maven -&gt; Projects: Web Application. (2) <code>File</code> -&gt; <code>Project</code>-&gt; Categories : Java With Ant -&gt; Java Web -&gt; Projects: Web Application (3) compare difference between config with Ant Project and config with Maven project."},{"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"score":0,"creation_date":1674472513,"post_id":75187050,"comment_id":132713772,"body_markdown":"Thank you. Im currently having problems getting the Maven project to run so had to raise another question. Once this is sorted then I can look to migrate the older project into the Maven project.","body":"Thank you. Im currently having problems getting the Maven project to run so had to raise another question. Once this is sorted then I can look to migrate the older project into the Maven project."}],"owner":{"account_id":5444529,"reputation":117,"user_id":4331545,"accept_rate":100,"display_name":"Luke_Skywalker007"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674233480,"creation_date":1674233480,"question_id":75187050,"body_markdown":"With a recent upgrade to Netbeans, I am now using JDK 11 however this has caused issues with a web application that I maintain. Many solutions point to adding dependencies to a POM.xml file however I dont have this file as part of my application as Ive never used Maven.\r\n\r\nTherefore is there an easy way for me to convert this web application to a Maven one within Netbeans to allow me to begin using dependencies? ","title":"Is there a quick way to convert a non Maven project to a Maven project within Netbeans?","body":"<p>With a recent upgrade to Netbeans, I am now using JDK 11 however this has caused issues with a web application that I maintain. Many solutions point to adding dependencies to a POM.xml file however I dont have this file as part of my application as Ive never used Maven.</p>\n<p>Therefore is there an easy way for me to convert this web application to a Maven one within Netbeans to allow me to begin using dependencies?</p>\n"},{"tags":["java","jython","pickle"],"answers":[{"tags":[],"owner":{"account_id":2891720,"reputation":3819,"user_id":2480362,"accept_rate":57,"display_name":"Steve Shipway"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456364256,"creation_date":1456364256,"answer_id":35616670,"question_id":35616060,"body_markdown":"The problem seems to be that I was using Jython 2.5.3.  Upgrading to Jython 2.7.0 solved the unpickling issue (though I then get problems with coercing the Python datatypes into Java types, but that&#39;s seaprate)\r\n","title":"How to unpickle a file in Java?","body":"<p>The problem seems to be that I was using Jython 2.5.3.  Upgrading to Jython 2.7.0 solved the unpickling issue (though I then get problems with coercing the Python datatypes into Java types, but that's seaprate)</p>\n"},{"tags":[],"owner":{"account_id":5417866,"reputation":1774,"user_id":4359933,"display_name":"Seymur Mammadli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582793696,"creation_date":1582793696,"answer_id":60429454,"question_id":35616060,"body_markdown":"To unpickle .pkl files I have used Jython. Jython has provides python2 support in Java and the pickle file should be serialized with protocol code 0,1 or 2. \r\n\r\n    {\r\n        PythonInterpreter interpreter = new PythonInterpreter();\r\n        interpreter.exec(&quot;Your Python code here&quot;);\r\n        \r\n        PyObject getAtrsFunc = interpreter.get(&quot;your_python_function_name&quot;);\r\n        PyObject funcRes = getImageAtrsFunc.__call__(new PyString(&quot;Example_input_String_to_py_function&quot;), new PyInteger(javaIntegerValue));\r\n        //Lets say function returns integer array as an output\r\n        //To convert output to java usable object \r\n        int [] resAtrs = (int []) funcRes.__tojava__(int [].class);\r\n    }\r\n\r\n\r\nTo use jython in maven project add\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.python&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jython-standalone&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo your pom file","title":"How to unpickle a file in Java?","body":"<p>To unpickle .pkl files I have used Jython. Jython has provides python2 support in Java and the pickle file should be serialized with protocol code 0,1 or 2. </p>\n\n<pre><code>{\n    PythonInterpreter interpreter = new PythonInterpreter();\n    interpreter.exec(\"Your Python code here\");\n\n    PyObject getAtrsFunc = interpreter.get(\"your_python_function_name\");\n    PyObject funcRes = getImageAtrsFunc.__call__(new PyString(\"Example_input_String_to_py_function\"), new PyInteger(javaIntegerValue));\n    //Lets say function returns integer array as an output\n    //To convert output to java usable object \n    int [] resAtrs = (int []) funcRes.__tojava__(int [].class);\n}\n</code></pre>\n\n<p>To use jython in maven project add</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.python&lt;/groupId&gt;\n    &lt;artifactId&gt;jython-standalone&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>To your pom file</p>\n"},{"tags":[],"owner":{"account_id":199642,"reputation":478,"user_id":445090,"display_name":"Piercarlo Slavazza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674233451,"creation_date":1674233451,"answer_id":75187045,"question_id":35616060,"body_markdown":"I successfully unpickled a file using https://github.com/irmen/pickle - Pickle protocol version support:\r\n\r\n - reading: 0,1,2,3,4\r\n - writing: 2\r\n\r\nDoes not require Jython.","title":"How to unpickle a file in Java?","body":"<p>I successfully unpickled a file using <a href=\"https://github.com/irmen/pickle\" rel=\"nofollow noreferrer\">https://github.com/irmen/pickle</a> - Pickle protocol version support:</p>\n<ul>\n<li>reading: 0,1,2,3,4</li>\n<li>writing: 2</li>\n</ul>\n<p>Does not require Jython.</p>\n"}],"owner":{"account_id":2891720,"reputation":3819,"user_id":2480362,"accept_rate":57,"display_name":"Steve Shipway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75187045,"answer_count":3,"score":1,"last_activity_date":1674233451,"creation_date":1456360634,"question_id":35616060,"body_markdown":"I have a &#39;pickle&#39; format datafile that was created by a Python process (actually, the MCDungeon cache file).  I want to read this from a Java program.\r\n\r\nTo do this, I have used this code:\r\n\r\n    \tpublic HashMap&lt;String, Object&gt; getDataFileStream(String filename) {\r\n            HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n            File f = new File(filename);\r\n            InputStream fs = null;\r\n            try {\r\n                fs = new FileInputStream(f);\r\n            } catch (FileNotFoundException e) {\r\n            \tLog.warning(&quot;Pickle file &#39;&quot;+filename+&quot;&#39; not found!&quot;);\r\n                return null;\r\n            }\r\n    \r\n            PyFile picklefile = new PyFile(fs);    \r\n            PyDictionary phash = null;\r\n            try {\r\n            \tphash = (PyDictionary) cPickle.load(picklefile);     \t\r\n            } catch ( PyException e3 ) {\r\n            \tlog.severe(&quot;Cannot unpickle! (Python error)&quot;);\r\n           \t\te3.printStackTrace(); // throws a null pointer exception\r\n               \treturn null;    \r\n            } catch ( Exception e ) {\r\n            \tlog.severe(&quot;Cannot unpickle! Err: &quot; + e.getClass().getName());\r\n                e.printStackTrace();\r\n            \treturn null;\r\n            }\r\n        ConcurrentMap&lt;PyObject, PyObject&gt; aMap = phash.getMap();\r\n        for (Map.Entry&lt;PyObject, PyObject&gt; entry : aMap.entrySet()) {\r\n            String keyval = entry.getKey().toString();\r\n            PyObject tileentity = (PyList) entry.getValue();\r\n            try {\r\n\t\t\t\tdata.put(keyval, pythonToJava(tileentity));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tdata.put(keyval, tileentity);\r\n\t\t\t}\r\n        }\r\n        return data;\r\n    }\r\n\r\nI have included the JYthon library, and also the pythonToJava function (elsewhere).\r\n\r\nThe file I am passing is definitely a valid Picklefile as it can be read by the Python process successfully.\r\n\r\nHowever, when running this function, I get a PyException thrown in the `cPickle.load` function, and calling the printStackTrace given a NullPointer exception (the line number 71 corresponds to the `e3.printStackTrace()` line above)\r\n\r\n    [12:42:18 ERROR]: [DynmapMCDungeon] Cannot unpickle! (Python error)\r\n    java.lang.NullPointerException\r\n            at org.steveshipway.dynmap.PickleLoader.getDataFileStream(PickleLoader.j\r\n    ava:71) ~[?:?]\r\n            at org.steveshipway.dynmap.Dungeon.getDungeons(Dungeon.java:28) ~[?:?]\r\n            at org.steveshipway.dynmap.DynmapMCDungeon.activate(DynmapMCDungeon.java\r\n    :179) ~[?:?]\r\n\r\nWhen I load the Pickle data in manually and pass to the function, I get a NullPointerException error in the cPickle.load function:\r\n\r\n    [13:56:57 INFO]: [DynmapMCDungeon] Reading in MCDungeon pickle...\r\n    [13:56:57 ERROR]: [DynmapMCDungeon] Cannot unpickle the MCDungeon cache! Err: java.lang.NullPointerException\r\n    [13:56:57 WARN]: java.lang.NullPointerException\r\n    [13:56:57 WARN]:        at java.util.Objects.requireNonNull(Unknown Source)\r\n    [13:56:57 WARN]:        at java.util.Arrays$ArrayList.&lt;init&gt;(Unknown Source)\r\n    [13:56:57 WARN]:        at java.util.Arrays.asList(Unknown Source)\r\n    [13:56:57 WARN]:        at org.python.core.PyList.&lt;init&gt;(PyList.java:52)\r\n    [13:56:57 WARN]:        at org.python.core.PyList.&lt;init&gt;(PyList.java:64)\r\n    [13:56:57 WARN]:        at org.python.modules.cPickle$Unpickler.load_empty_list(cPickle.java:1909)\r\n    [13:56:57 WARN]:        at org.python.modules.cPickle$Unpickler.load(cPickle.java:1620)\r\n    [13:56:57 WARN]:        at org.python.modules.cPickle.load(cPickle.java:636)\r\n    [13:56:57 WARN]:        at org.steveshipway.dynmap.PickleLoader.getDataFileStream(PickleLoader.java:64)\r\n\r\nMy questions are:\r\n\r\n 1. Why am I getting an error when I try to print the stack trace?\r\n\r\n 2. What am I doing wrong with loading the picklefile?  Is there a better way to achieve this?\r\n\r\nThanks in advance for any pointers (preferably not null ones, I have enough of those already!)\r\n","title":"How to unpickle a file in Java?","body":"<p>I have a 'pickle' format datafile that was created by a Python process (actually, the MCDungeon cache file).  I want to read this from a Java program.</p>\n\n<p>To do this, I have used this code:</p>\n\n<pre><code>    public HashMap&lt;String, Object&gt; getDataFileStream(String filename) {\n        HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n        File f = new File(filename);\n        InputStream fs = null;\n        try {\n            fs = new FileInputStream(f);\n        } catch (FileNotFoundException e) {\n            Log.warning(\"Pickle file '\"+filename+\"' not found!\");\n            return null;\n        }\n\n        PyFile picklefile = new PyFile(fs);    \n        PyDictionary phash = null;\n        try {\n            phash = (PyDictionary) cPickle.load(picklefile);        \n        } catch ( PyException e3 ) {\n            log.severe(\"Cannot unpickle! (Python error)\");\n            e3.printStackTrace(); // throws a null pointer exception\n            return null;    \n        } catch ( Exception e ) {\n            log.severe(\"Cannot unpickle! Err: \" + e.getClass().getName());\n            e.printStackTrace();\n            return null;\n        }\n    ConcurrentMap&lt;PyObject, PyObject&gt; aMap = phash.getMap();\n    for (Map.Entry&lt;PyObject, PyObject&gt; entry : aMap.entrySet()) {\n        String keyval = entry.getKey().toString();\n        PyObject tileentity = (PyList) entry.getValue();\n        try {\n            data.put(keyval, pythonToJava(tileentity));\n        } catch (Exception e) {\n            data.put(keyval, tileentity);\n        }\n    }\n    return data;\n}\n</code></pre>\n\n<p>I have included the JYthon library, and also the pythonToJava function (elsewhere).</p>\n\n<p>The file I am passing is definitely a valid Picklefile as it can be read by the Python process successfully.</p>\n\n<p>However, when running this function, I get a PyException thrown in the <code>cPickle.load</code> function, and calling the printStackTrace given a NullPointer exception (the line number 71 corresponds to the <code>e3.printStackTrace()</code> line above)</p>\n\n<pre><code>[12:42:18 ERROR]: [DynmapMCDungeon] Cannot unpickle! (Python error)\njava.lang.NullPointerException\n        at org.steveshipway.dynmap.PickleLoader.getDataFileStream(PickleLoader.j\nava:71) ~[?:?]\n        at org.steveshipway.dynmap.Dungeon.getDungeons(Dungeon.java:28) ~[?:?]\n        at org.steveshipway.dynmap.DynmapMCDungeon.activate(DynmapMCDungeon.java\n:179) ~[?:?]\n</code></pre>\n\n<p>When I load the Pickle data in manually and pass to the function, I get a NullPointerException error in the cPickle.load function:</p>\n\n<pre><code>[13:56:57 INFO]: [DynmapMCDungeon] Reading in MCDungeon pickle...\n[13:56:57 ERROR]: [DynmapMCDungeon] Cannot unpickle the MCDungeon cache! Err: java.lang.NullPointerException\n[13:56:57 WARN]: java.lang.NullPointerException\n[13:56:57 WARN]:        at java.util.Objects.requireNonNull(Unknown Source)\n[13:56:57 WARN]:        at java.util.Arrays$ArrayList.&lt;init&gt;(Unknown Source)\n[13:56:57 WARN]:        at java.util.Arrays.asList(Unknown Source)\n[13:56:57 WARN]:        at org.python.core.PyList.&lt;init&gt;(PyList.java:52)\n[13:56:57 WARN]:        at org.python.core.PyList.&lt;init&gt;(PyList.java:64)\n[13:56:57 WARN]:        at org.python.modules.cPickle$Unpickler.load_empty_list(cPickle.java:1909)\n[13:56:57 WARN]:        at org.python.modules.cPickle$Unpickler.load(cPickle.java:1620)\n[13:56:57 WARN]:        at org.python.modules.cPickle.load(cPickle.java:636)\n[13:56:57 WARN]:        at org.steveshipway.dynmap.PickleLoader.getDataFileStream(PickleLoader.java:64)\n</code></pre>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>Why am I getting an error when I try to print the stack trace?</p></li>\n<li><p>What am I doing wrong with loading the picklefile?  Is there a better way to achieve this?</p></li>\n</ol>\n\n<p>Thanks in advance for any pointers (preferably not null ones, I have enough of those already!)</p>\n"},{"tags":["java","android","android-studio","kotlin","textview"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674230248,"post_id":75185965,"comment_id":132676903,"body_markdown":"Why do you need the `ImageSpan`? Is it just for that vertical bar? If so, couldn&#39;t you achieve that design with one `SpannableString` that has color and size/style spans for the beginning letters (&quot;Ad&quot;), then the `ImageSpan` for the vertical bar, then the rest of the text?","body":"Why do you need the <code>ImageSpan</code>? Is it just for that vertical bar? If so, couldn&#39;t you achieve that design with one <code>SpannableString</code> that has color and size/style spans for the beginning letters (&quot;Ad&quot;), then the <code>ImageSpan</code> for the vertical bar, then the rest of the text?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674232690,"post_id":75185965,"comment_id":132677744,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":21941414,"reputation":28,"user_id":16221912,"display_name":"Kumar Krishna"},"score":0,"creation_date":1674321912,"post_id":75185965,"comment_id":132691825,"body_markdown":"@MikeM. issue here is to give margin around that vertical bar","body":"@MikeM. issue here is to give margin around that vertical bar"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674350448,"post_id":75185965,"comment_id":132696048,"body_markdown":"I&#39;m not sure what you mean, exactly, but it&#39;s probably going to be much easier to create a custom `ImageSpan`, rather than trying to line up two `TextView`s and their texts like that.","body":"I&#39;m not sure what you mean, exactly, but it&#39;s probably going to be much easier to create a custom <code>ImageSpan</code>, rather than trying to line up two <code>TextView</code>s and their texts like that."}],"answers":[{"tags":[],"owner":{"account_id":24020541,"reputation":754,"user_id":18002913,"display_name":"NewPartizal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674232474,"creation_date":1674232474,"answer_id":75186866,"question_id":75185965,"body_markdown":" \r\nIf you use Kotlin Jetpack Compose you can use row, there will be image and text in the row and you can shape them according to you and add a vertical divider in between.\r\n\r\n**For example:**\r\n\r\n\r\n      Row(\r\n            modifier = Modifier\r\n                .fillMaxWidth()\r\n                .padding(10.dp),\r\n            horizontalArrangement =Arrangement.Center,\r\n            verticalAlignment = Alignment.Top\r\n        ){\r\n    \r\n           Image(painter = R.drawable.x, contentDescription =&quot;image description&quot; )\r\n    \r\n            Divider(\r\n                color = Color.Gray,\r\n                modifier = Modifier\r\n                    .fillMaxHeight()  //fill the max height\r\n                    .width(1.dp)\r\n            )\r\n            Text(&quot;text example &quot;)\r\n        }","title":"how to add a view in front of a Texview and start the next line from the added view","body":"<p>If you use Kotlin Jetpack Compose you can use row, there will be image and text in the row and you can shape them according to you and add a vertical divider in between.</p>\n<p><strong>For example:</strong></p>\n<pre><code>  Row(\n        modifier = Modifier\n            .fillMaxWidth()\n            .padding(10.dp),\n        horizontalArrangement =Arrangement.Center,\n        verticalAlignment = Alignment.Top\n    ){\n\n       Image(painter = R.drawable.x, contentDescription =&quot;image description&quot; )\n\n        Divider(\n            color = Color.Gray,\n            modifier = Modifier\n                .fillMaxHeight()  //fill the max height\n                .width(1.dp)\n        )\n        Text(&quot;text example &quot;)\n    }\n</code></pre>\n"}],"owner":{"account_id":21941414,"reputation":28,"user_id":16221912,"display_name":"Kumar Krishna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1674232474,"creation_date":1674227806,"question_id":75185965,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/GiDBD.png)](https://i.stack.imgur.com/GiDBD.png)\r\n\r\ntrying to achieve this\r\n\r\nI tried using spannable string and ImageSpan but I need functionality to change text also in the view ","title":"how to add a view in front of a Texview and start the next line from the added view","body":"<p><a href=\"https://i.stack.imgur.com/GiDBD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GiDBD.png\" alt=\"enter image description here\" /></a></p>\n<p>trying to achieve this</p>\n<p>I tried using spannable string and ImageSpan but I need functionality to change text also in the view</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5242101,"reputation":874,"user_id":4188827,"display_name":"Santosh"},"score":0,"creation_date":1549598480,"post_id":54584811,"comment_id":95968242,"body_markdown":"Whats the version of spring you are using?","body":"Whats the version of spring you are using?"},{"owner":{"account_id":5242101,"reputation":874,"user_id":4188827,"display_name":"Santosh"},"score":0,"creation_date":1549598596,"post_id":54584811,"comment_id":95968270,"body_markdown":"Try adding these properties, spring.main.banner-mode=off \nspring.output.ansi.enabled=ALWAYS","body":"Try adding these properties, spring.main.banner-mode=off  spring.output.ansi.enabled=ALWAYS"},{"owner":{"account_id":14751855,"reputation":219,"user_id":10653719,"display_name":"yenk"},"score":0,"creation_date":1549598909,"post_id":54584811,"comment_id":95968338,"body_markdown":"&quot;spring/boot 2.1.0&quot;","body":"&quot;spring/boot 2.1.0&quot;"},{"owner":{"account_id":14751855,"reputation":219,"user_id":10653719,"display_name":"yenk"},"score":0,"creation_date":1549599009,"post_id":54584811,"comment_id":95968361,"body_markdown":"@Santosh updated in my application.properties and same result","body":"@Santosh updated in my application.properties and same result"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549592745,"creation_date":1549592745,"answer_id":54585263,"question_id":54584811,"body_markdown":"As it might be because of case sensitivity so change always to uppercase like below.\r\n\r\nspring.output.ansi.enabled=ALWAYS","title":"maven does not show colors in spring","body":"<p>As it might be because of case sensitivity so change always to uppercase like below.</p>\n\n<p>spring.output.ansi.enabled=ALWAYS</p>\n"},{"tags":[],"owner":{"account_id":535778,"reputation":49549,"user_id":905093,"display_name":"Book Of Zeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1549951058,"creation_date":1549949894,"answer_id":54643480,"question_id":54584811,"body_markdown":"What is your pom.xml configuration. Depending on which group/artifact you are using to run the ```mvn verify```.\r\n\r\nI am using the ```org.codehaus.mojo``` and I was never able to make it work, I switched to org.springframework.boot/spring-boot-maven-plugin and it worked for me.\r\n\r\nTry this configuration and try again:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;start&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;post-integration-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;stop&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n**EDIT:**\r\nIn addition, make sure you have:\r\n```            &lt;!-- Build jar --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"maven does not show colors in spring","body":"<p>What is your pom.xml configuration. Depending on which group/artifact you are using to run the <code>mvn verify</code>.</p>\n\n<p>I am using the <code>org.codehaus.mojo</code> and I was never able to make it work, I switched to org.springframework.boot/spring-boot-maven-plugin and it worked for me.</p>\n\n<p>Try this configuration and try again:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pre-integration-test&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;start&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;post-integration-test&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;stop&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong>\nIn addition, make sure you have:</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2187031,"reputation":203,"user_id":1935220,"display_name":"Patrick Crocker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674232433,"creation_date":1674232433,"answer_id":75186859,"question_id":54584811,"body_markdown":"Yes, you do need to use `spring.output.ansi.enabled=ALWAYS` (in my testing the value is case-insensitive, supporting `ALWAYS` or `always`).\r\n\r\nThe key for colored output for Spring Boot *tests* is to place this value in your **test** resource folder: `src/test/resources/application.properties`.\r\n\r\nIf you only place that property in the `src/main/...` folder, it won&#39;t apply to your tests.","title":"maven does not show colors in spring","body":"<p>Yes, you do need to use <code>spring.output.ansi.enabled=ALWAYS</code> (in my testing the value is case-insensitive, supporting <code>ALWAYS</code> or <code>always</code>).</p>\n<p>The key for colored output for Spring Boot <em>tests</em> is to place this value in your <strong>test</strong> resource folder: <code>src/test/resources/application.properties</code>.</p>\n<p>If you only place that property in the <code>src/main/...</code> folder, it won't apply to your tests.</p>\n"}],"owner":{"account_id":14751855,"reputation":219,"user_id":10653719,"display_name":"yenk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1568,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54643480,"answer_count":3,"score":3,"last_activity_date":1674232433,"creation_date":1549588716,"question_id":54584811,"body_markdown":"I am trying to display **colors** when I execute test but it does not work for spring 2\r\n\r\ni tried\r\n\r\n    spring.output.ansi.enabled=always\r\n\r\nstill same result.\r\n\r\ni tried this website:\r\n\r\n[Enable Color in Spring Boot Test Console Log][1]\r\n\r\nbut get only &quot;black and white&quot;, the colors never shows up\r\n\r\nI have maven 3.5.2 and spring/boot 2\r\n\r\nunitest result:\r\n[![enter image description here][2]][2]\r\nspringboot tests result:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.quickprogrammingtips.com/spring-boot/how-to-enable-color-in-spring-boot-console-log.html#comment-120303\r\n  [2]: https://i.stack.imgur.com/4KbNy.png\r\n  [3]: https://i.stack.imgur.com/vqVdH.png","title":"maven does not show colors in spring","body":"<p>I am trying to display <strong>colors</strong> when I execute test but it does not work for spring 2</p>\n\n<p>i tried</p>\n\n<pre><code>spring.output.ansi.enabled=always\n</code></pre>\n\n<p>still same result.</p>\n\n<p>i tried this website:</p>\n\n<p><a href=\"https://www.quickprogrammingtips.com/spring-boot/how-to-enable-color-in-spring-boot-console-log.html#comment-120303\" rel=\"nofollow noreferrer\">Enable Color in Spring Boot Test Console Log</a></p>\n\n<p>but get only \"black and white\", the colors never shows up</p>\n\n<p>I have maven 3.5.2 and spring/boot 2</p>\n\n<p>unitest result:\n<a href=\"https://i.stack.imgur.com/4KbNy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4KbNy.png\" alt=\"enter image description here\"></a>\nspringboot tests result:\n<a href=\"https://i.stack.imgur.com/vqVdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vqVdH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["javascript","java","wordpress"],"answers":[{"tags":[],"owner":{"account_id":13992684,"reputation":261,"user_id":10106315,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674232202,"creation_date":1674230942,"answer_id":75186562,"question_id":75186405,"body_markdown":"I think this would be as easy as \r\n\r\n```php\r\nfunction wpb_hook_javascript() {\r\n    if (!is_page(array(&#39;the&#39;, &#39;excepted&#39;, &#39;pages&#39;))) {\r\n        wp_enqueue_script(&#39;script_name&#39;, &#39;script_path.js&#39;)\r\n    }\r\n}\r\n\r\nadd_action( &#39;wp_enqueue_scripts&#39;, &#39;wpb_hook_javascript&#39; );\r\n```\r\nI used `wp_enqueue_script` because I like it more, but obviously you can stay with injecting it into the head directly, depending on what it does.\r\n\r\nEdit: Pretty sure it would work like this:\r\n\r\n```php\r\nadd_action( &#39;wp_head&#39;, function() {\r\n  if (!is_page(array(&#39;the&#39;, &#39;excepted&#39;, &#39;pages&#39;))) {\r\n    ?&gt;\r\n      &lt;script type=&quot;text/javascript&quot;&gt;\r\n        my script\r\n      &lt;/script&gt;\r\n    &lt;?php\r\n  }\r\n}\r\n```\r\n\r\nCompare [`logical operators in php`][1], [`is_page`][2], [`arrays in php`][3] and [`wp_enqueue_script`][4].\r\n\r\n\r\n  [1]: https://www.php.net/manual/en/language.operators.logical.php\r\n  [2]: https://developer.wordpress.org/reference/functions/is_page/\r\n  [3]: https://www.php.net/manual/en/language.types.array.php\r\n  [4]: https://developer.wordpress.org/reference/functions/wp_enqueue_script/","title":"Add js in wordpress pages except some of them?","body":"<p>I think this would be as easy as</p>\n<pre class=\"lang-php prettyprint-override\"><code>function wpb_hook_javascript() {\n    if (!is_page(array('the', 'excepted', 'pages'))) {\n        wp_enqueue_script('script_name', 'script_path.js')\n    }\n}\n\nadd_action( 'wp_enqueue_scripts', 'wpb_hook_javascript' );\n</code></pre>\n<p>I used <code>wp_enqueue_script</code> because I like it more, but obviously you can stay with injecting it into the head directly, depending on what it does.</p>\n<p>Edit: Pretty sure it would work like this:</p>\n<pre class=\"lang-php prettyprint-override\"><code>add_action( 'wp_head', function() {\n  if (!is_page(array('the', 'excepted', 'pages'))) {\n    ?&gt;\n      &lt;script type=&quot;text/javascript&quot;&gt;\n        my script\n      &lt;/script&gt;\n    &lt;?php\n  }\n}\n</code></pre>\n<p>Compare <a href=\"https://www.php.net/manual/en/language.operators.logical.php\" rel=\"nofollow noreferrer\"><code>logical operators in php</code></a>, <a href=\"https://developer.wordpress.org/reference/functions/is_page/\" rel=\"nofollow noreferrer\"><code>is_page</code></a>, <a href=\"https://www.php.net/manual/en/language.types.array.php\" rel=\"nofollow noreferrer\"><code>arrays in php</code></a> and <a href=\"https://developer.wordpress.org/reference/functions/wp_enqueue_script/\" rel=\"nofollow noreferrer\"><code>wp_enqueue_script</code></a>.</p>\n"}],"owner":{"account_id":11655611,"reputation":75,"user_id":8535415,"display_name":"Valiant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674232202,"creation_date":1674230151,"question_id":75186405,"body_markdown":"I wrote a code to add a js to specific pages in wordpress. but if I want to: &lt;br&gt; &lt;br&gt;\r\n1- run the code in specific pages how can I change the code? &lt;br&gt;\r\n2- or run the code in everywhere except in some page IDs? &lt;br&gt;\r\nhow can I cahnge that?\r\n &lt;br&gt; &lt;br&gt;thanks in advance to everyone! :D\r\n```\r\nfunction wpb_hook_javascript() {\r\n  if (is_page (&#39;727&#39;)) { \r\n    ?&gt;\r\n        \r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\nmy script\r\n&lt;/script&gt;\r\n    &lt;?php\r\n  }\r\n}\r\nadd_action(&#39;wp_head&#39;, &#39;wpb_hook_javascript&#39;);\r\n```\r\n","title":"Add js in wordpress pages except some of them?","body":"<p>I wrote a code to add a js to specific pages in wordpress. but if I want to: <br> <br>\n1- run the code in specific pages how can I change the code? <br>\n2- or run the code in everywhere except in some page IDs? <br>\nhow can I cahnge that?\n<br> <br>thanks in advance to everyone! :D</p>\n<pre><code>function wpb_hook_javascript() {\n  if (is_page ('727')) { \n    ?&gt;\n        \n&lt;script type=&quot;text/javascript&quot;&gt;\nmy script\n&lt;/script&gt;\n    &lt;?php\n  }\n}\nadd_action('wp_head', 'wpb_hook_javascript');\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1674230973,"creation_date":1674230973,"answer_id":75186566,"question_id":75186378,"body_markdown":"With Spring Boot 3, there is no need for `@EnableBatchProcessing`. If you add it, the auto-configuration of Spring Batch (meta-data tables creation, launching of jobs at startup, etc) will back off.\r\n\r\nThis is mentioned in the [migration guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-batch-changes) of Spring Boot 3.","title":"Spring Batch metatables are not generated","body":"<p>With Spring Boot 3, there is no need for <code>@EnableBatchProcessing</code>. If you add it, the auto-configuration of Spring Batch (meta-data tables creation, launching of jobs at startup, etc) will back off.</p>\n<p>This is mentioned in the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-batch-changes\" rel=\"noreferrer\">migration guide</a> of Spring Boot 3.</p>\n"}],"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75186566,"answer_count":1,"score":3,"last_activity_date":1674230973,"creation_date":1674229986,"question_id":75186378,"body_markdown":"I am experiencing this error in my Spring Boot app using Spring Batch.\r\nI am expecting Spring Batch to autogenerate those meta tables. Please help!!!\r\n\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;BATCH_JOB_INSTANCE&quot; not found (this database is empty); SQL statement:\r\nSELECT JOB_INSTANCE_ID, JOB_NAME from BATCH_JOB_INSTANCE where JOB_NAME = ? and JOB_KEY = ? [42104-214]\r\n```\r\n\r\n\r\n\r\npom.xml\r\n```\r\nSpring Boot: 3.0.1\r\nSpring Batch starter: 3.0.1\r\nSpring Batch Core: 5.0.0\r\n```\r\n\r\n\r\napplication.properties - I am using H2 database for the meantime\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.enabled=true\r\n```\r\n\r\nBatchConfig\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfig {\r\n\r\n\r\n    @Bean\r\n    public Job uploadSupplierJob(JobRepository jobRepository, Step step1) {\r\n        return new JobBuilder(&quot;uploadSupplierJob&quot;, jobRepository)\r\n                .start(step1)\r\n                .build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public Step step1(JobRepository jobRepository, PlatformTransactionManager transactionManager, FlatFileItemReader&lt;SupplierCsv&gt; supplierItemReader, ItemWriter supplierItemWriter) {\r\n        return new StepBuilder(&quot;step1&quot;, jobRepository)\r\n                .chunk(10, transactionManager)\r\n                .reader(supplierItemReader)\r\n                .writer(supplierItemWriter)\r\n                .build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    @StepScope\r\n    public FlatFileItemReader&lt;SupplierCsv&gt; supplierItemReader(@Value(&quot;#{jobParameters[&#39;file&#39;]}&quot;) MultipartFile file) throws IOException {\r\n        return new FlatFileItemReaderBuilder&lt;SupplierCsv&gt;().name(&quot;supplierItemReader&quot;)\r\n                .resource(new InputStreamResource(file.getInputStream()))\r\n                .delimited()\r\n                .names(&quot;name&quot;, &quot;contactName&quot;, &quot;terms&quot;,&quot;notes&quot;,&quot;leadDays&quot;,&quot;address&quot;,&quot;phoneNumber&quot;)\r\n                .fieldSetMapper(new BeanWrapperFieldSetMapper&lt;SupplierCsv&gt;() {{\r\n                    setTargetType(SupplierCsv.class);\r\n                }})\r\n                .build();\r\n    }\r\n\r\n\r\n}\r\n```","title":"Spring Batch metatables are not generated","body":"<p>I am experiencing this error in my Spring Boot app using Spring Batch.\nI am expecting Spring Batch to autogenerate those meta tables. Please help!!!</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;BATCH_JOB_INSTANCE&quot; not found (this database is empty); SQL statement:\nSELECT JOB_INSTANCE_ID, JOB_NAME from BATCH_JOB_INSTANCE where JOB_NAME = ? and JOB_KEY = ? [42104-214]\n</code></pre>\n<p>pom.xml</p>\n<pre><code>Spring Boot: 3.0.1\nSpring Batch starter: 3.0.1\nSpring Batch Core: 5.0.0\n</code></pre>\n<p>application.properties - I am using H2 database for the meantime</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\n</code></pre>\n<p>BatchConfig</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfig {\n\n\n    @Bean\n    public Job uploadSupplierJob(JobRepository jobRepository, Step step1) {\n        return new JobBuilder(&quot;uploadSupplierJob&quot;, jobRepository)\n                .start(step1)\n                .build();\n    }\n\n\n    @Bean\n    public Step step1(JobRepository jobRepository, PlatformTransactionManager transactionManager, FlatFileItemReader&lt;SupplierCsv&gt; supplierItemReader, ItemWriter supplierItemWriter) {\n        return new StepBuilder(&quot;step1&quot;, jobRepository)\n                .chunk(10, transactionManager)\n                .reader(supplierItemReader)\n                .writer(supplierItemWriter)\n                .build();\n    }\n\n\n    @Bean\n    @StepScope\n    public FlatFileItemReader&lt;SupplierCsv&gt; supplierItemReader(@Value(&quot;#{jobParameters['file']}&quot;) MultipartFile file) throws IOException {\n        return new FlatFileItemReaderBuilder&lt;SupplierCsv&gt;().name(&quot;supplierItemReader&quot;)\n                .resource(new InputStreamResource(file.getInputStream()))\n                .delimited()\n                .names(&quot;name&quot;, &quot;contactName&quot;, &quot;terms&quot;,&quot;notes&quot;,&quot;leadDays&quot;,&quot;address&quot;,&quot;phoneNumber&quot;)\n                .fieldSetMapper(new BeanWrapperFieldSetMapper&lt;SupplierCsv&gt;() {{\n                    setTargetType(SupplierCsv.class);\n                }})\n                .build();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","flutter","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":21199767,"reputation":79,"user_id":15590645,"display_name":"Max90"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674230675,"creation_date":1674230675,"answer_id":75186505,"question_id":75174065,"body_markdown":"Eventually i found the solution: here it is, hoping to help someone in the future.\r\n\r\nNote: I had to download the jdk-17 because as of today jdk-19 would not work with flutter.\r\n\r\nYou need to add the path to find your java jdk into your `projectfolder/android/gradle.properties` file.\r\nsimply add this line\r\n`org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-17`\r\n\r\n\r\nhere&#39;s my gradle.properties file to give an example\r\n```\r\norg.gradle.jvmargs=-Xmx1536M\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\nandroid.bundle.enableUncompressedNativeLibs=false\r\norg.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-17\r\n```\r\n\r\nIf you installed jdk into another path, you need to specify that in here","title":"Android Studio + Flutter missing tools.jar file","body":"<p>Eventually i found the solution: here it is, hoping to help someone in the future.</p>\n<p>Note: I had to download the jdk-17 because as of today jdk-19 would not work with flutter.</p>\n<p>You need to add the path to find your java jdk into your <code>projectfolder/android/gradle.properties</code> file.\nsimply add this line\n<code>org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-17</code></p>\n<p>here's my gradle.properties file to give an example</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M\nandroid.useAndroidX=true\nandroid.enableJetifier=true\nandroid.bundle.enableUncompressedNativeLibs=false\norg.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-17\n</code></pre>\n<p>If you installed jdk into another path, you need to specify that in here</p>\n"}],"owner":{"account_id":21199767,"reputation":79,"user_id":15590645,"display_name":"Max90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75186505,"answer_count":1,"score":0,"last_activity_date":1674230675,"creation_date":1674139570,"question_id":75174065,"body_markdown":"On Windows, i work with Flutter using Android Studio.\r\n\r\nSince i was facing some issues before this one, i have successfully uninstalled and reinstalled the latest versions of both Android Studio and Java. \r\n\r\nSo, on this machine, i have:\r\n - Android Studio `Electric Eel 2022.1.1.19`\r\n - jdk 19 `C:\\Program Files\\Java\\jdk-19`\r\n - jre 1.8 `C:\\Program Files\\Java\\jre1.8.0_361`\r\n\r\nSince Android Studio uses its own jre, i have copy-pasted the content of jdk folder into `C:\\Program Files\\Android\\Android Studio\\jre`\r\n\r\nEnvironment variables are properly set: JAVA_HOME leads to `C:\\Program Files\\Java\\jdk-19` and Path contains both `C:\\Program Files\\Java\\jdk-19\\bin` and `C:\\Program Files\\Java\\jre1.8.0_361\\bin`\r\n\r\nThis is the problem i&#39;m facing now if i try to build my flutter project:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:device_info_plus:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not find tools.jar. Please check that C:\\Program Files\\Android\\Android Studio\\jre contains a valid JDK installation.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 13s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\n\r\nNow, the main problem is that the file `tools.jar` DOES NOT EXIST AT ALL.\r\nIs there a way to fix this?\r\n\r\nSide Notes:\r\n - flutter doctor -v\r\n\r\n```\r\n[√] Flutter (Channel stable, 3.3.10, on Microsoft Windows [Versione 10.0.19045.2486], locale it-IT)\r\n    • Flutter version 3.3.10 on channel stable at C:\\Users\\~\\sdks\\flutter\r\n    • Upstream repository https://github.com/flutter/flutter.git\r\n    • Framework revision 135454af32 (5 weeks ago), 2022-12-15 07:36:55 -0800                       \r\n    • Engine revision 3316dd8728                                                                   \r\n    • Dart version 2.18.6                                                                          \r\n    • DevTools version 2.15.0                                                                      \r\n                                                                                                   \r\nChecking Android licenses is taking an unexpectedly long time...[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n    • Android SDK at C:\\Users\\~\\AppData\\Local\\Android\\sdk                                                                            \r\n    • Platform android-33, build-tools 31.0.0                                                                                                   \r\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java                                                                      \r\n    • Java version Java(TM) SE Runtime Environment (build 1.8.0_361-b09)                                                                        \r\n    • All Android licenses accepted.                                                                                                            \r\n                                                                                                                                                \r\n[√] Chrome - develop for the web                                                                                                                \r\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe                                                                           \r\n                                                                                                                                                \r\n[√] Visual Studio - develop for Windows (Visual Studio Professional 2022 17.4.4)                                                                \r\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Professional                                                               \r\n    • Visual Studio Professional 2022 version 17.4.33213.308                                                                                    \r\n    • Windows 10 SDK version 10.0.22000.0                                                                                                       \r\n                                                                                                                                                \r\n[√] Android Studio (version 2022.1)                                                                                                             \r\n    • Android Studio at C:\\Program Files\\Android\\Android Studio                                                   \r\n    • Flutter plugin can be installed from:                                                                       \r\n       https://plugins.jetbrains.com/plugin/9212-flutter                                                          \r\n    • Dart plugin can be installed from:                                                                          \r\n       https://plugins.jetbrains.com/plugin/6351-dart                                                             \r\n    • Java version Java(TM) SE Runtime Environment (build 1.8.0_361-b09)                                          \r\n                                                                                                                  \r\n[√] VS Code (version 1.74.3)                                                                                      \r\n    • VS Code at C:\\Users\\~\\AppData\\Local\\Programs\\Microsoft VS Code                                   \r\n    • Flutter extension version 3.56.0                                                                            \r\n                                                                                                                  \r\n[√] Connected device (4 available)                                                                                \r\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 12 (API 31) (emulator)              \r\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Versione 10.0.19045.2486]\r\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 108.0.5359.125                \r\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 109.0.1518.55                \r\n                                                                                                                  \r\n[√] HTTP Host Availability                                                                                        \r\n    • All required HTTP hosts are available                                                                       \r\n                                                                                                                  \r\n• No issues found!  \r\n```\r\n\r\n - Android Studio builds and launches native Android apps without any issue","title":"Android Studio + Flutter missing tools.jar file","body":"<p>On Windows, i work with Flutter using Android Studio.</p>\n<p>Since i was facing some issues before this one, i have successfully uninstalled and reinstalled the latest versions of both Android Studio and Java.</p>\n<p>So, on this machine, i have:</p>\n<ul>\n<li>Android Studio <code>Electric Eel 2022.1.1.19</code></li>\n<li>jdk 19 <code>C:\\Program Files\\Java\\jdk-19</code></li>\n<li>jre 1.8 <code>C:\\Program Files\\Java\\jre1.8.0_361</code></li>\n</ul>\n<p>Since Android Studio uses its own jre, i have copy-pasted the content of jdk folder into <code>C:\\Program Files\\Android\\Android Studio\\jre</code></p>\n<p>Environment variables are properly set: JAVA_HOME leads to <code>C:\\Program Files\\Java\\jdk-19</code> and Path contains both <code>C:\\Program Files\\Java\\jdk-19\\bin</code> and <code>C:\\Program Files\\Java\\jre1.8.0_361\\bin</code></p>\n<p>This is the problem i'm facing now if i try to build my flutter project:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':device_info_plus:compileDebugJavaWithJavac'.\n&gt; Could not find tools.jar. Please check that C:\\Program Files\\Android\\Android Studio\\jre contains a valid JDK installation.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 13s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>Now, the main problem is that the file <code>tools.jar</code> DOES NOT EXIST AT ALL.\nIs there a way to fix this?</p>\n<p>Side Notes:</p>\n<ul>\n<li>flutter doctor -v</li>\n</ul>\n<pre><code>[√] Flutter (Channel stable, 3.3.10, on Microsoft Windows [Versione 10.0.19045.2486], locale it-IT)\n    • Flutter version 3.3.10 on channel stable at C:\\Users\\~\\sdks\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 135454af32 (5 weeks ago), 2022-12-15 07:36:55 -0800                       \n    • Engine revision 3316dd8728                                                                   \n    • Dart version 2.18.6                                                                          \n    • DevTools version 2.15.0                                                                      \n                                                                                                   \nChecking Android licenses is taking an unexpectedly long time...[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n    • Android SDK at C:\\Users\\~\\AppData\\Local\\Android\\sdk                                                                            \n    • Platform android-33, build-tools 31.0.0                                                                                                   \n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java                                                                      \n    • Java version Java(TM) SE Runtime Environment (build 1.8.0_361-b09)                                                                        \n    • All Android licenses accepted.                                                                                                            \n                                                                                                                                                \n[√] Chrome - develop for the web                                                                                                                \n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe                                                                           \n                                                                                                                                                \n[√] Visual Studio - develop for Windows (Visual Studio Professional 2022 17.4.4)                                                                \n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Professional                                                               \n    • Visual Studio Professional 2022 version 17.4.33213.308                                                                                    \n    • Windows 10 SDK version 10.0.22000.0                                                                                                       \n                                                                                                                                                \n[√] Android Studio (version 2022.1)                                                                                                             \n    • Android Studio at C:\\Program Files\\Android\\Android Studio                                                   \n    • Flutter plugin can be installed from:                                                                       \n       https://plugins.jetbrains.com/plugin/9212-flutter                                                          \n    • Dart plugin can be installed from:                                                                          \n       https://plugins.jetbrains.com/plugin/6351-dart                                                             \n    • Java version Java(TM) SE Runtime Environment (build 1.8.0_361-b09)                                          \n                                                                                                                  \n[√] VS Code (version 1.74.3)                                                                                      \n    • VS Code at C:\\Users\\~\\AppData\\Local\\Programs\\Microsoft VS Code                                   \n    • Flutter extension version 3.56.0                                                                            \n                                                                                                                  \n[√] Connected device (4 available)                                                                                \n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 12 (API 31) (emulator)              \n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Versione 10.0.19045.2486]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 108.0.5359.125                \n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 109.0.1518.55                \n                                                                                                                  \n[√] HTTP Host Availability                                                                                        \n    • All required HTTP hosts are available                                                                       \n                                                                                                                  \n• No issues found!  \n</code></pre>\n<ul>\n<li>Android Studio builds and launches native Android apps without any issue</li>\n</ul>\n"},{"tags":["java","mysql","spring","model-view-controller","h2"],"comments":[{"owner":{"account_id":3119900,"reputation":2468,"user_id":2639886,"display_name":"andrewdleach"},"score":1,"creation_date":1501774795,"post_id":45488742,"comment_id":77938731,"body_markdown":"Anything is possible","body":"Anything is possible"},{"owner":{"account_id":9488005,"reputation":147,"user_id":7053817,"accept_rate":60,"display_name":"elec"},"score":0,"creation_date":1501775043,"post_id":45488742,"comment_id":77938912,"body_markdown":"How can I achieve this? I tried changing my pom dependencies and adding informations in application.properties but it did not work.","body":"How can I achieve this? I tried changing my pom dependencies and adding informations in application.properties but it did not work."},{"owner":{"account_id":3119900,"reputation":2468,"user_id":2639886,"display_name":"andrewdleach"},"score":0,"creation_date":1501775139,"post_id":45488742,"comment_id":77938985,"body_markdown":"Well, without any examples of what you have tried, it&#39;s hard to give you helpful feedback. I would edit your question to include what you just shared with me in the comment, as well as a copy of your POM and any other relevant java files","body":"Well, without any examples of what you have tried, it&#39;s hard to give you helpful feedback. I would edit your question to include what you just shared with me in the comment, as well as a copy of your POM and any other relevant java files"}],"answers":[{"tags":[],"owner":{"account_id":5665724,"reputation":158,"user_id":4481947,"accept_rate":100,"display_name":"GarRudo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1501775879,"creation_date":1501775421,"answer_id":45489071,"question_id":45488742,"body_markdown":"Yes you can.\r\nInclude dependencies for MySql in your pom file:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCreate your repository interface for mysql that extends JpaRepository:\r\n\r\n    public interface SqlDAO  extends JpaRepository&lt;YourPOJO,Long&gt;{\r\n       // you can use JpaRepository methods out of the box or write custom ones\r\n    }\r\n\r\nAdd properties for your sql, you can use .properties or .yml files. I use yaml: \r\n\r\n    spring:\r\n      datasource:\r\n        driver-class-name: com.mysql.jdbc.Driver\r\n        url: jdbc:mysql://127.0.0.1:3306/coolDB\r\n        username: root\r\n        password: 123456\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n        show-sql: true\r\n\r\nDon&#39;t forget to run MySql database itself and you good to go. \r\nYour Service now should be using your repository interface to communicate with Sql. \r\n\r\nHere is a link for Jpa documentation and how to create your custom methods:\r\nhttps://docs.spring.io/spring-data/jpa/docs/1.4.1.RELEASE/reference/html/jpa.repositories.html\r\n\r\nEdit: you have to create database in mysql console manually, Spring won&#39;t do it for you. You can include .sql file into your resource directory to create dummy data or set sql settings further on, Spring will run that for you. ","title":"Changing embedded database in Spring Boot from H2 to MySQL","body":"<p>Yes you can.\nInclude dependencies for MySql in your pom file:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Create your repository interface for mysql that extends JpaRepository:</p>\n\n<pre><code>public interface SqlDAO  extends JpaRepository&lt;YourPOJO,Long&gt;{\n   // you can use JpaRepository methods out of the box or write custom ones\n}\n</code></pre>\n\n<p>Add properties for your sql, you can use .properties or .yml files. I use yaml: </p>\n\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.jdbc.Driver\n    url: jdbc:mysql://127.0.0.1:3306/coolDB\n    username: root\n    password: 123456\n  jpa:\n    hibernate:\n      ddl-auto: update\n    show-sql: true\n</code></pre>\n\n<p>Don't forget to run MySql database itself and you good to go. \nYour Service now should be using your repository interface to communicate with Sql. </p>\n\n<p>Here is a link for Jpa documentation and how to create your custom methods:\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/1.4.1.RELEASE/reference/html/jpa.repositories.html\" rel=\"noreferrer\">https://docs.spring.io/spring-data/jpa/docs/1.4.1.RELEASE/reference/html/jpa.repositories.html</a></p>\n\n<p>Edit: you have to create database in mysql console manually, Spring won't do it for you. You can include .sql file into your resource directory to create dummy data or set sql settings further on, Spring will run that for you. </p>\n"}],"owner":{"account_id":9488005,"reputation":147,"user_id":7053817,"accept_rate":60,"display_name":"elec"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13315,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1674230645,"creation_date":1501774504,"question_id":45488742,"body_markdown":"Is there a way to change database in application that is almost done? I am encoutering many problems with H2 that does not occur in MySQL. For example ALTER TABLE yourtable AUTO_INCREMENT = 1; does not work and instead I had to use restart at which does not work as good as MySQL version. Also now I am having problems with datediff. So is it possible to change database in ongoing application?","title":"Changing embedded database in Spring Boot from H2 to MySQL","body":"<p>Is there a way to change database in application that is almost done? I am encoutering many problems with H2 that does not occur in MySQL. For example ALTER TABLE yourtable AUTO_INCREMENT = 1; does not work and instead I had to use restart at which does not work as good as MySQL version. Also now I am having problems with datediff. So is it possible to change database in ongoing application?</p>\n"},{"tags":["java","gpu","opencl","aparapi"],"owner":{"account_id":27581834,"reputation":21,"user_id":21050883,"display_name":"forreg16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674230619,"creation_date":1674230619,"question_id":75186497,"body_markdown":"I&#39;m running a simple code on the same AMD Radeon R7 450 graphics card but on different PCs.\r\nOn an older PC, the Kernel overall local size can be greater than 2000, and on a newer PC it cannot be greater than 256.\r\nHow can I increase the Kernel overall local size?\r\n\r\n\r\n```\r\n        Device needDevice = null;        \r\n        KernelPreferences preferences = KernelManager.instance().getDefaultPreferences();\r\n        for (Device device : preferences.getPreferredDevices(null))\r\n        {\r\n            if (device.getType().equals(TYPE.GPU) &amp;&amp; device.getShortDescription().contains(&quot;AMD&quot;))\r\n            {\r\n                needDevice = device;\r\n            }\r\n        }                      \r\n\r\n        \r\n        int size = 100000; \r\n        int cnt = 512; // !!! THIS PARAMETER\r\n        double[][] a = new double[size][cnt];\r\n        double[][] b = new double[size][cnt];\r\n        \r\n        int num = 1;\r\n        for (int j = 0; j &lt; cnt; j++)\r\n        {\r\n            for (int i = 0; i &lt; size; i++)\r\n            {\r\n                a[i][j] = num;\r\n                num++;\r\n            }\r\n        }\r\n      \r\n        \r\n        Kernel kernel = new Kernel()\r\n        {\r\n            @Override \r\n            public void run() \r\n            {\r\n                int gid = getGlobalId();\r\n                \r\n                for (int i = 0; i &lt; size; i++)\r\n                {                  \r\n                    b[i][gid] = (a[i][gid] - 2.0)/4.0;\r\n                }\r\n            }            \r\n        };\r\n\r\n        Range range = needDevice.createRange(cnt);\r\n        kernel.execute(range);\r\n\r\n        kernel.dispose();\r\n```\r\n\r\nI also tried it on an NVIDIA GeForce RTX 3060 Ti graphics card.\r\nOn an old PC, Kernel overall local size is 256, and the same code on AMD Radeon R7 450 may have Kernel overall local size over 2000","title":"How to increase Kernel overall local size in Aparapi","body":"<p>I'm running a simple code on the same AMD Radeon R7 450 graphics card but on different PCs.\nOn an older PC, the Kernel overall local size can be greater than 2000, and on a newer PC it cannot be greater than 256.\nHow can I increase the Kernel overall local size?</p>\n<pre><code>        Device needDevice = null;        \n        KernelPreferences preferences = KernelManager.instance().getDefaultPreferences();\n        for (Device device : preferences.getPreferredDevices(null))\n        {\n            if (device.getType().equals(TYPE.GPU) &amp;&amp; device.getShortDescription().contains(&quot;AMD&quot;))\n            {\n                needDevice = device;\n            }\n        }                      \n\n        \n        int size = 100000; \n        int cnt = 512; // !!! THIS PARAMETER\n        double[][] a = new double[size][cnt];\n        double[][] b = new double[size][cnt];\n        \n        int num = 1;\n        for (int j = 0; j &lt; cnt; j++)\n        {\n            for (int i = 0; i &lt; size; i++)\n            {\n                a[i][j] = num;\n                num++;\n            }\n        }\n      \n        \n        Kernel kernel = new Kernel()\n        {\n            @Override \n            public void run() \n            {\n                int gid = getGlobalId();\n                \n                for (int i = 0; i &lt; size; i++)\n                {                  \n                    b[i][gid] = (a[i][gid] - 2.0)/4.0;\n                }\n            }            \n        };\n\n        Range range = needDevice.createRange(cnt);\n        kernel.execute(range);\n\n        kernel.dispose();\n</code></pre>\n<p>I also tried it on an NVIDIA GeForce RTX 3060 Ti graphics card.\nOn an old PC, Kernel overall local size is 256, and the same code on AMD Radeon R7 450 may have Kernel overall local size over 2000</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","css-selectors"],"comments":[{"owner":{"account_id":5613946,"reputation":499,"user_id":4445920,"display_name":"Manish"},"score":1,"creation_date":1674222801,"post_id":75184597,"comment_id":132673945,"body_markdown":"it is a bit difficult to understand what the problem is. Could you probably add a few screenshots and show what is working and what is not? Maybe then we find a solution.  From what I understand, you want to 1. click on the Choisissez une cat&#233;gorie dropdown,  2. Select AUTO-MOTO-BATEAU, 3. Select Voiture d&#39;occasion. Right?","body":"it is a bit difficult to understand what the problem is. Could you probably add a few screenshots and show what is working and what is not? Maybe then we find a solution.  From what I understand, you want to 1. click on the Choisissez une cat&#233;gorie dropdown,  2. Select AUTO-MOTO-BATEAU, 3. Select Voiture d&#39;occasion. Right?"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674223166,"creation_date":1674222865,"answer_id":75184932,"question_id":75184597,"body_markdown":"I could not understand what you mean by `and finally &quot;Used car&quot;`.  \r\nIt&#39;s always recommended to wait for elements to be clickable before you trying to click them.  \r\nAlso we almost never use `By.partialLinkText` and `By.linkText`. It&#39;s always better to use XPath, CSS Selector, ID or class name.  \r\nThe following code opens the web page, closes the cookies banner, opens the drop list, opens &quot;AUTO-MOTO-BATEU&quot;, then finally selects &quot;Motos, Scooters et Quads&quot; sub-category.  \r\nI mostly used Xpathes here since these elements could easily be located based on their texts.   \r\nThis is my code:\r\n```java\r\ndriver.get(&quot;https://www.paruvendu.fr/&quot;);\r\nWebDriverUtils.clickVisible(driver,By.xpath(&quot;//button[contains(@onclick,&#39;saveConsent(true)&#39;)]&quot;));\r\nWebDriverUtils.clickVisible(driver,By.xpath(&quot;//div[contains(text(),&#39;Choisissez une cat&#233;gorie&#39;)]&quot;));\r\nWebDriverUtils.clickVisible(driver,By.xpath(&quot;//li[contains(text(),&#39;AUTO&#39;)]&quot;));\r\nWebDriverUtils.clickVisible(driver,By.xpath(&quot;//li[contains(text(),&#39;Motos&#39;)]&quot;));\r\n```\r\nThe `clickVisible` method used here is implemented as following:\r\n```java\r\npublic static boolean clickVisible(WebDriver driver, By locator) {\r\n    try {\r\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, 30);\r\n        wait.until(ExpectedConditions.elementToBeClickable(locator)).click();\r\n        return true;\r\n    } catch (Exception e) {\r\n        ConsoleLogger.error(&quot;Failed to click on element &quot; + e.getMessage());\r\n        return false;\r\n    }\r\n}\r\n```","title":"Find Element with Selenuim Java","body":"<p>I could not understand what you mean by <code>and finally &quot;Used car&quot;</code>.<br />\nIt's always recommended to wait for elements to be clickable before you trying to click them.<br />\nAlso we almost never use <code>By.partialLinkText</code> and <code>By.linkText</code>. It's always better to use XPath, CSS Selector, ID or class name.<br />\nThe following code opens the web page, closes the cookies banner, opens the drop list, opens &quot;AUTO-MOTO-BATEU&quot;, then finally selects &quot;Motos, Scooters et Quads&quot; sub-category.<br />\nI mostly used Xpathes here since these elements could easily be located based on their texts.<br />\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.get(&quot;https://www.paruvendu.fr/&quot;);\nWebDriverUtils.clickVisible(driver,By.xpath(&quot;//button[contains(@onclick,'saveConsent(true)')]&quot;));\nWebDriverUtils.clickVisible(driver,By.xpath(&quot;//div[contains(text(),'Choisissez une catégorie')]&quot;));\nWebDriverUtils.clickVisible(driver,By.xpath(&quot;//li[contains(text(),'AUTO')]&quot;));\nWebDriverUtils.clickVisible(driver,By.xpath(&quot;//li[contains(text(),'Motos')]&quot;));\n</code></pre>\n<p>The <code>clickVisible</code> method used here is implemented as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean clickVisible(WebDriver driver, By locator) {\n    try {\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, 30);\n        wait.until(ExpectedConditions.elementToBeClickable(locator)).click();\n        return true;\n    } catch (Exception e) {\n        ConsoleLogger.error(&quot;Failed to click on element &quot; + e.getMessage());\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674224432,"creation_date":1674224432,"answer_id":75185275,"question_id":75184597,"body_markdown":"If my understanding of your issue is correct, your below line of code is not working?\r\n\r\n    driver.findElement(By.linkText(&quot;Choisissez une cat&#233;gorie&quot;)).click();\r\n\r\nIf yes, instead of using linkText locator, try using a relative xPath, try the below code:\r\n\r\n    driver.findElement(By.xpath(&quot;//div[@data-type=1]&quot;)).click();","title":"Find Element with Selenuim Java","body":"<p>If my understanding of your issue is correct, your below line of code is not working?</p>\n<pre><code>driver.findElement(By.linkText(&quot;Choisissez une catégorie&quot;)).click();\n</code></pre>\n<p>If yes, instead of using linkText locator, try using a relative xPath, try the below code:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//div[@data-type=1]&quot;)).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12809345,"reputation":193,"user_id":9268070,"display_name":"BMW83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674230039,"creation_date":1674230039,"answer_id":75186383,"question_id":75184597,"body_markdown":"My Code is with the two proposition. It&#39;s like this \r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\kafka\\\\chromedriver.exe&quot;);\r\n\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        Map&lt;String, Integer&gt; timeOUts = new HashMap&lt;&gt;();\r\n        timeOUts.put(&quot;implicit&quot;, 1000);\r\n        chromeOptions.setCapability(&quot;timeouts&quot;, timeOUts);\r\n\r\n        WebDriver driver = new ChromeDriver(chromeOptions);\r\n        driver.manage().window().maximize();\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        driver.get(&quot;https://www.paruvendu.fr/&quot;);\r\n        js.executeScript(&quot;cmp_pv.cookie.saveConsent(false);&quot;);\r\n        driver.navigate().refresh();\r\n        driver.findElement(By.partialLinkText(&quot;D&#233;poser une annonce gratuite&quot;)).click();\r\n\r\n        driver.findElement(By.xpath(&quot;//div[@data-type=1]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//li[contains(text(),&#39;AUTO-MOTO-BATEAU&#39;)]&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;(//li[normalize-space()=\\&quot;Voiture d&#39;occasion\\&quot;])[1]&quot;)).click();\r\n\r\nAnd I want to complete the steps to fill in the fields and publish the ad.\r\nAnd Thank you #Shawn and #Prophet becouse this code is a mixture of two codes :)\r\n ","title":"Find Element with Selenuim Java","body":"<p>My Code is with the two proposition. It's like this</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\kafka\\\\chromedriver.exe&quot;);\n\n    ChromeOptions chromeOptions = new ChromeOptions();\n    Map&lt;String, Integer&gt; timeOUts = new HashMap&lt;&gt;();\n    timeOUts.put(&quot;implicit&quot;, 1000);\n    chromeOptions.setCapability(&quot;timeouts&quot;, timeOUts);\n\n    WebDriver driver = new ChromeDriver(chromeOptions);\n    driver.manage().window().maximize();\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    driver.get(&quot;https://www.paruvendu.fr/&quot;);\n    js.executeScript(&quot;cmp_pv.cookie.saveConsent(false);&quot;);\n    driver.navigate().refresh();\n    driver.findElement(By.partialLinkText(&quot;Déposer une annonce gratuite&quot;)).click();\n\n    driver.findElement(By.xpath(&quot;//div[@data-type=1]&quot;)).click();\n    driver.findElement(By.xpath(&quot;//li[contains(text(),'AUTO-MOTO-BATEAU')]&quot;)).click();\n    driver.findElement(By.xpath(&quot;(//li[normalize-space()=\\&quot;Voiture d'occasion\\&quot;])[1]&quot;)).click();\n</code></pre>\n<p>And I want to complete the steps to fill in the fields and publish the ad.\nAnd Thank you #Shawn and #Prophet becouse this code is a mixture of two codes :)</p>\n"}],"owner":{"account_id":12809345,"reputation":193,"user_id":9268070,"display_name":"BMW83"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75186383,"answer_count":3,"score":0,"last_activity_date":1674230039,"creation_date":1674221125,"question_id":75184597,"body_markdown":"I started working with Selenium Java. I would like to indicate the search element for a website. Whatever Xpath, CssSelector...\r\nThe site is this **https://www.paruvendu.fr/** et i would like to create a car locator ad.\r\nThis is my code\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\r\n\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        Map&lt;String, Integer&gt; timeOUts = new HashMap&lt;&gt;();\r\n        timeOUts.put(&quot;implicit&quot;, 1000);\r\n        chromeOptions.setCapability(&quot;timeouts&quot;, timeOUts);\r\n\r\n        WebDriver driver = new ChromeDriver(chromeOptions);\r\n        driver.manage().window().maximize();\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        driver.get(&quot;https://www.paruvendu.fr/&quot;);\r\n        js.executeScript(&quot;cmp_pv.cookie.saveConsent(false);&quot;);\r\n        driver.navigate().refresh();\r\n        driver.findElement(By.partialLinkText(&quot;D&#233;poser une annonce gratuite&quot;)).click();     \r\n        driver.findElement(By.linkText(&quot;Choisissez une cat&#233;gorie&quot;)).click();\r\n\r\nI can access the form to drop off the car. And I can’t click on it to open it and select &quot;Choose a category&quot;. And &quot;MOTO-BATEAU&quot; and finally &quot;Used car&quot; \r\nNormally, at that point, it’s over.\r\nHelp me, I’m stuck and I thank you in advance.\r\n\r\n\r\ni have this message Error\r\n\r\n    For documentation on this error, please visit: \r\n    https://selenium.dev/exceptions/#no_such_element\r\n    Build info: version: &#39;4.7.2&#39;, revision: &#39;4d4020c3b7&#39;\r\n    System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: \r\n    &#39;10.0&#39;, java.version: &#39;11.0.16&#39;\r\n     Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n     Command: [7d5bbe84f8b9a235778639176345e277, findElement {using=link \r\n     text, value=Choisissez une cat&#233;gorie}]\r\n      Capabilities {acceptInsecureCerts: false, browserName: chrome, \r\n    browserVersion: 109.0.5414.75, chrome: {chromedriverVersion: 109.0.5414.74 \r\n    (e7c5703604da..., userDataDir: C:\\Users\\hp\\AppData\\Local\\T...}, \r\n    goog:chromeOptions: {debuggerAddress: localhost:54474}, \r\n    networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: \r\n    WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:54474/devtoo..., \r\n    se:cdpVersion: 109.0.5414.75, setWindowRect: true, \r\n    strictFileInteractability: false, timeouts: {implicit: 1000, pageLoad: \r\n    300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, \r\n    webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}","title":"Find Element with Selenuim Java","body":"<p>I started working with Selenium Java. I would like to indicate the search element for a website. Whatever Xpath, CssSelector...\nThe site is this <strong><a href=\"https://www.paruvendu.fr/\" rel=\"nofollow noreferrer\">https://www.paruvendu.fr/</a></strong> et i would like to create a car locator ad.\nThis is my code</p>\n<pre><code>    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\n\n    ChromeOptions chromeOptions = new ChromeOptions();\n    Map&lt;String, Integer&gt; timeOUts = new HashMap&lt;&gt;();\n    timeOUts.put(&quot;implicit&quot;, 1000);\n    chromeOptions.setCapability(&quot;timeouts&quot;, timeOUts);\n\n    WebDriver driver = new ChromeDriver(chromeOptions);\n    driver.manage().window().maximize();\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    driver.get(&quot;https://www.paruvendu.fr/&quot;);\n    js.executeScript(&quot;cmp_pv.cookie.saveConsent(false);&quot;);\n    driver.navigate().refresh();\n    driver.findElement(By.partialLinkText(&quot;Déposer une annonce gratuite&quot;)).click();     \n    driver.findElement(By.linkText(&quot;Choisissez une catégorie&quot;)).click();\n</code></pre>\n<p>I can access the form to drop off the car. And I can’t click on it to open it and select &quot;Choose a category&quot;. And &quot;MOTO-BATEAU&quot; and finally &quot;Used car&quot;\nNormally, at that point, it’s over.\nHelp me, I’m stuck and I thank you in advance.</p>\n<p>i have this message Error</p>\n<pre><code>For documentation on this error, please visit: \nhttps://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.7.2', revision: '4d4020c3b7'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: \n'10.0', java.version: '11.0.16'\n Driver info: org.openqa.selenium.chrome.ChromeDriver\n Command: [7d5bbe84f8b9a235778639176345e277, findElement {using=link \n text, value=Choisissez une catégorie}]\n  Capabilities {acceptInsecureCerts: false, browserName: chrome, \nbrowserVersion: 109.0.5414.75, chrome: {chromedriverVersion: 109.0.5414.74 \n(e7c5703604da..., userDataDir: C:\\Users\\hp\\AppData\\Local\\T...}, \ngoog:chromeOptions: {debuggerAddress: localhost:54474}, \nnetworkConnectionEnabled: false, pageLoadStrategy: normal, platformName: \nWINDOWS, proxy: Proxy(), se:cdp: ws://localhost:54474/devtoo..., \nse:cdpVersion: 109.0.5414.75, setWindowRect: true, \nstrictFileInteractability: false, timeouts: {implicit: 1000, pageLoad: \n300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, \nwebauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\n</code></pre>\n"},{"tags":["java","kotlin","unit-testing","gradle","github-actions"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":1,"creation_date":1674214703,"post_id":75182040,"comment_id":132671336,"body_markdown":"You&#39;re running the GitHub action on a self-hosted instance. Can you provide more details about that? What are the system specs? Does it report any problems? Have you tried using a GitHub runner, like `ubuntu-latest`?","body":"You&#39;re running the GitHub action on a self-hosted instance. Can you provide more details about that? What are the system specs? Does it report any problems? Have you tried using a GitHub runner, like <code>ubuntu-latest</code>?"},{"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"score":0,"creation_date":1674216587,"post_id":75182040,"comment_id":132671940,"body_markdown":"It is an ubuntu instance, with 30GB of memory and x4 cpus. It reports no problems and appears to have sufficient resources for the build so far (I&#39;ve monitored it with top). I&#39;m using a self-hosted runner as it needs access to to a secure space behind a VPN, so unfortunately using a github runner isn&#39;t an option.","body":"It is an ubuntu instance, with 30GB of memory and x4 cpus. It reports no problems and appears to have sufficient resources for the build so far (I&#39;ve monitored it with top). I&#39;m using a self-hosted runner as it needs access to to a secure space behind a VPN, so unfortunately using a github runner isn&#39;t an option."},{"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"score":0,"creation_date":1674229081,"post_id":75182040,"comment_id":132676477,"body_markdown":"I did try running my test on a standard github `ubuntu-latest` instance and it was allowed to run, there was no issue with the gradle runner. This is odd as the github runner has less memory/cpu resource than my self-hosted runner.","body":"I did try running my test on a standard github <code>ubuntu-latest</code> instance and it was allowed to run, there was no issue with the gradle runner. This is odd as the github runner has less memory/cpu resource than my self-hosted runner."}],"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674229957,"creation_date":1674206719,"question_id":75182040,"body_markdown":"I am trying to use a github action runner to run a test in my Kotlin project.\r\n\r\nIt&#39;s part of a gradle springboot project (a simple API microservice).\r\nThat said, the test is just a standalone &#39;hello world&#39; type unit test which lives in it&#39;s own module and of course has no problems when run locally (I&#39;m using a custom gradle task to run it)!\r\n\r\nHere is my workflow yaml file -\r\n\r\n\r\n    name: Kotlin CI\r\n    \r\n    on: [push]\r\n    \r\n    jobs:\r\n      build:\r\n        runs-on: self-hosted\r\n        steps:\r\n          - uses: actions/checkout@v2\r\n          - name: Set up JDK 17\r\n            uses: actions/setup-java@v2\r\n            with:\r\n              java-version: 17\r\n              distribution: &#39;adopt&#39;\r\n          - name: Run Simple Unit Test \r\n            run: ./gradlew simple-unit-test--info\r\n            env:\r\n              GRADLE_OPTS: -Dorg.gradle.jvmargs=&quot;-XX:MaxMetaspaceSize=1g&quot;\r\n\r\nThe result of github action running the test is -\r\n\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong\r\n    Gradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)\r\n\r\nSo it appears that the test isn&#39;t even being run, and the gradle daemon explodes before it even gets that far!\r\n\r\nHowever, if I change the gradle task from `simple-unit-test` to `compileKotlin` (which will compile the code of my springboot api) it works with no trouble at all.\r\n\r\nDoes anybody have some direction for me? Any help would be greatly appreciated.\r\n\r\nWhat I&#39;ve tried -\r\n * running my gradle task with no caching\r\n * running gradle task with no daemon\r\n * checked resources of self-hosted runner (these appear to be sufficient - see comment below)\r\n* tried various different gradle/java versions\r\n","title":"Github Action Runner With Kotlin Gradle Fail","body":"<p>I am trying to use a github action runner to run a test in my Kotlin project.</p>\n<p>It's part of a gradle springboot project (a simple API microservice).\nThat said, the test is just a standalone 'hello world' type unit test which lives in it's own module and of course has no problems when run locally (I'm using a custom gradle task to run it)!</p>\n<p>Here is my workflow yaml file -</p>\n<pre><code>name: Kotlin CI\n\non: [push]\n\njobs:\n  build:\n    runs-on: self-hosted\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up JDK 17\n        uses: actions/setup-java@v2\n        with:\n          java-version: 17\n          distribution: 'adopt'\n      - name: Run Simple Unit Test \n        run: ./gradlew simple-unit-test--info\n        env:\n          GRADLE_OPTS: -Dorg.gradle.jvmargs=&quot;-XX:MaxMetaspaceSize=1g&quot;\n</code></pre>\n<p>The result of github action running the test is -</p>\n<pre><code>FAILURE: Build failed with an exception.\n* What went wrong\nGradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)\n</code></pre>\n<p>So it appears that the test isn't even being run, and the gradle daemon explodes before it even gets that far!</p>\n<p>However, if I change the gradle task from <code>simple-unit-test</code> to <code>compileKotlin</code> (which will compile the code of my springboot api) it works with no trouble at all.</p>\n<p>Does anybody have some direction for me? Any help would be greatly appreciated.</p>\n<p>What I've tried -</p>\n<ul>\n<li>running my gradle task with no caching</li>\n<li>running gradle task with no daemon</li>\n<li>checked resources of self-hosted runner (these appear to be sufficient - see comment below)</li>\n<li>tried various different gradle/java versions</li>\n</ul>\n"},{"tags":["java","android","android-studio","java-8","java-11"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674213828,"post_id":75161994,"comment_id":132671065,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":13801294,"reputation":11,"user_id":9961220,"display_name":"Dmitry Kutyrev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674229949,"creation_date":1674229949,"answer_id":75186372,"question_id":75161994,"body_markdown":"Have the same issue with Electric eel. Downgraded to Dolphin.","title":"Failed to load JVM DLL. As i have already declared JAVA_HOME Variable","body":"<p>Have the same issue with Electric eel. Downgraded to Dolphin.</p>\n"}],"owner":{"account_id":24200620,"reputation":1,"user_id":18158498,"display_name":"Yashwanth Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674229949,"creation_date":1674057800,"question_id":75161994,"body_markdown":"As i have declared java_home in environment variables if i start android studio electric ele its showing the message failed to load jvm dll. I am using latest version of android studio.\r\nHere is the screen shot as if i open android studio i am getting\r\n[If i open android studio as normal and also as administrator](https://i.stack.imgur.com/9SJ8z.png)\r\nHere is the screenshot as i have declared java home variable\r\n[Environment Variable](https://i.stack.imgur.com/siU4c.png)\r\n\r\nMay i know how to resolve the issue\r\n- i have tried by deleting AndroidStudio\\jbr\\bin\\server\\jvm.dll ----But its Not Worked\r\n- i have tried with jdk latest version ----- Its Showing same error\r\n- i have tried with jdk8 ---------Its also showing same error","title":"Failed to load JVM DLL. As i have already declared JAVA_HOME Variable","body":"<p>As i have declared java_home in environment variables if i start android studio electric ele its showing the message failed to load jvm dll. I am using latest version of android studio.\nHere is the screen shot as if i open android studio i am getting\n<a href=\"https://i.stack.imgur.com/9SJ8z.png\" rel=\"nofollow noreferrer\">If i open android studio as normal and also as administrator</a>\nHere is the screenshot as i have declared java home variable\n<a href=\"https://i.stack.imgur.com/siU4c.png\" rel=\"nofollow noreferrer\">Environment Variable</a></p>\n<p>May i know how to resolve the issue</p>\n<ul>\n<li>i have tried by deleting AndroidStudio\\jbr\\bin\\server\\jvm.dll ----But its Not Worked</li>\n<li>i have tried with jdk latest version ----- Its Showing same error</li>\n<li>i have tried with jdk8 ---------Its also showing same error</li>\n</ul>\n"},{"tags":["java","mysql","eclipse","xssf"],"answers":[{"tags":[],"owner":{"account_id":14395021,"reputation":21,"user_id":10398579,"display_name":"Francisco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674228140,"creation_date":1674228140,"answer_id":75186035,"question_id":75185713,"body_markdown":"It&#39;s possible that the default ResultSet type is different depending on the type of connection. Specifically, the default ResultSet type when connecting to a database via JDBC may be different when connecting via an SSH tunnel.\r\n\r\nIn some cases, the default ResultSet type when connecting to a database via JDBC may be set to forward-only, which means that the cursor can only move forward through the ResultSet and cannot be moved back to previous rows. However, when connecting via an SSH tunnel, the default ResultSet type may be different and may allow for scrolling through the ResultSet in both directions.\r\nThe default ResultSet type could also depend on the specific JDBC driver being used. Some drivers may have a default ResultSet type of forward-only, while others may have a default type of scrollable.\r\n\r\nYou can check the default ResultSet type of your JDBC driver by calling the method getResultSetType() on the Statement object, before creating a ResultSet with it.\r\n\r\nYou could try explicitly set the ResultSet type when creating the Statement object, by passing the constant ResultSet.TYPE_SCROLL_INSENSITIVE as the first argument.","title":"Proper way to &quot;do while&quot; SQL in Eclipse - worked prior to SSH connection to MySQL","body":"<p>It's possible that the default ResultSet type is different depending on the type of connection. Specifically, the default ResultSet type when connecting to a database via JDBC may be different when connecting via an SSH tunnel.</p>\n<p>In some cases, the default ResultSet type when connecting to a database via JDBC may be set to forward-only, which means that the cursor can only move forward through the ResultSet and cannot be moved back to previous rows. However, when connecting via an SSH tunnel, the default ResultSet type may be different and may allow for scrolling through the ResultSet in both directions.\nThe default ResultSet type could also depend on the specific JDBC driver being used. Some drivers may have a default ResultSet type of forward-only, while others may have a default type of scrollable.</p>\n<p>You can check the default ResultSet type of your JDBC driver by calling the method getResultSetType() on the Statement object, before creating a ResultSet with it.</p>\n<p>You could try explicitly set the ResultSet type when creating the Statement object, by passing the constant ResultSet.TYPE_SCROLL_INSENSITIVE as the first argument.</p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674229917,"creation_date":1674229917,"answer_id":75186367,"question_id":75185713,"body_markdown":"You can refashion your outer loop into a do...while style using `ResultSet#next()` to advance through the ResultSet rows and `ResultSet#isLast()` to know when to stop.\r\n\r\nYour `for` loop that adds spreadsheet rows only runs once per ResultSet row, but you&#39;re already set up to loop through the ResultSet rows, so you don&#39;t need to do an additional loop there.","title":"Proper way to &quot;do while&quot; SQL in Eclipse - worked prior to SSH connection to MySQL","body":"<p>You can refashion your outer loop into a do...while style using <code>ResultSet#next()</code> to advance through the ResultSet rows and <code>ResultSet#isLast()</code> to know when to stop.</p>\n<p>Your <code>for</code> loop that adds spreadsheet rows only runs once per ResultSet row, but you're already set up to loop through the ResultSet rows, so you don't need to do an additional loop there.</p>\n"}],"owner":{"account_id":11324596,"reputation":45,"user_id":8303968,"accept_rate":40,"display_name":"David S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674229917,"creation_date":1674226673,"question_id":75185713,"body_markdown":"    \t\t\t\t\t\t\r\n\t\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\t\tConnection connection = DriverManager.getConnection(\r\n\t\t\t\t\t\t\t\t&quot;jdbc:mysql://127.0.0.1:3306/wp_dashort&quot;, &quot;dashort&quot;,\r\n\t\t\t\t\t\t\t\t&quot;gt9wkk6r1TPnkgrY&quot;);\r\n\r\n\t\t\t\t\t\tPreparedStatement ps = null;\r\n\r\n\t\t\t\t\t\tps = connection.prepareStatement(mark_complete);\r\n\t\t\t\t\t\tSystem.out.println(&quot;dateset&quot;);\r\n\t\t\t\t\t\tdateof = dateof + &quot; 00:00&quot;;\r\n\t\t\t\t\t\t// ps.setString(1, dateof);\r\n\r\n\t\t\t\t\t\tconnection.createStatement();\r\n\t\t\t\t\t\tResultSet rs = ps.executeQuery();\r\n\r\n\t\t\t\t\t\tSheet sheet = workbook.createSheet(&quot;Security_Completions&quot;);\r\n\t\t\t\t\t\torg.apache.poi.ss.usermodel.Row rowhead = sheet.createRow((short) 0);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sheet created&quot;);\r\n\t\t\t\t\t\trowhead.createCell((short) 0).setCellValue(&quot;Column 1&quot;);\r\n\t\t\t\t\t\trowhead.createCell((short) 1).setCellValue(&quot;Column 2&quot;);\r\n\r\n                        int size = 0;\r\n\t\t\t\t\t\trs.last();\r\n\t\t\t\t\t\tsize = rs.getRow();\r\n\t\t\t\t\t\trs.beforeFirst();\r\n\r\n\t\t\t\t\t\tSystem.out.println(&quot;Number of records =  &quot; + size);\r\n\r\n\t\t\t\t\t\t// Running thru the ResultSet\r\n\r\n\t\t\t\t\t\tint index = 0;\r\n\t\t\t\t\t\tint r = 0;\r\n\t\t\t\t\t\trs.next();\r\n\r\n\t\t\t\t\t\twhile (r &lt; size) {\r\n\r\n\t\t\t\t\t\t\tindex = index + 1;\r\n\t\t\t\t\t\t\tRow row = sheet.createRow((short) index);\r\n\r\n\t\t\t\t\t\t\tfor (int i = 0; i &lt; 1; ++i) {\r\n\t\t\t\t\t\t\t\tString value = rs.getString(1);\r\n\t\t\t\t\t\t\t\trow.createCell(i).setCellValue(value);\r\n\t\t\t\t\t\t\t\trow.createCell(1).setCellValue(StringUtils.left((rs.getString(2)), 16));\r\n\t\t\t\t\t\t\t\trs.next();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t++r;\r\n\t\t\t\t\t\t}\r\nSo this code worked fine just last week.  This week I have been forced to connect to the MySQL server using an SSH tunnel session.  \r\n\r\nI get the SQLException &quot;Operation not allowed for a result set of type ResultSet.TYPE_FORWARD_ONLY&quot;    It seems that when I get the last row and then try to iterate through to write a spreadsheet, the error is thrown.  ","title":"Proper way to &quot;do while&quot; SQL in Eclipse - worked prior to SSH connection to MySQL","body":"<pre><code>                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                    Connection connection = DriverManager.getConnection(\n                            &quot;jdbc:mysql://127.0.0.1:3306/wp_dashort&quot;, &quot;dashort&quot;,\n                            &quot;gt9wkk6r1TPnkgrY&quot;);\n\n                    PreparedStatement ps = null;\n\n                    ps = connection.prepareStatement(mark_complete);\n                    System.out.println(&quot;dateset&quot;);\n                    dateof = dateof + &quot; 00:00&quot;;\n                    // ps.setString(1, dateof);\n\n                    connection.createStatement();\n                    ResultSet rs = ps.executeQuery();\n\n                    Sheet sheet = workbook.createSheet(&quot;Security_Completions&quot;);\n                    org.apache.poi.ss.usermodel.Row rowhead = sheet.createRow((short) 0);\n                    System.out.println(&quot;Sheet created&quot;);\n                    rowhead.createCell((short) 0).setCellValue(&quot;Column 1&quot;);\n                    rowhead.createCell((short) 1).setCellValue(&quot;Column 2&quot;);\n\n                    int size = 0;\n                    rs.last();\n                    size = rs.getRow();\n                    rs.beforeFirst();\n\n                    System.out.println(&quot;Number of records =  &quot; + size);\n\n                    // Running thru the ResultSet\n\n                    int index = 0;\n                    int r = 0;\n                    rs.next();\n\n                    while (r &lt; size) {\n\n                        index = index + 1;\n                        Row row = sheet.createRow((short) index);\n\n                        for (int i = 0; i &lt; 1; ++i) {\n                            String value = rs.getString(1);\n                            row.createCell(i).setCellValue(value);\n                            row.createCell(1).setCellValue(StringUtils.left((rs.getString(2)), 16));\n                            rs.next();\n                        }\n                        ++r;\n                    }\n</code></pre>\n<p>So this code worked fine just last week.  This week I have been forced to connect to the MySQL server using an SSH tunnel session.</p>\n<p>I get the SQLException &quot;Operation not allowed for a result set of type ResultSet.TYPE_FORWARD_ONLY&quot;    It seems that when I get the last row and then try to iterate through to write a spreadsheet, the error is thrown.</p>\n"},{"tags":["java","http","jsp","servlets"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674229895,"creation_date":1674229895,"answer_id":75186365,"question_id":75186341,"body_markdown":"You can add a hidden input in the form containing the user id.\r\n\r\n```html\r\n&lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;293710&quot;/&gt;\r\n```","title":"How to add a parameter to the URL of a profile in Java Servlet","body":"<p>You can add a hidden input in the form containing the user id.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;293710&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":27511508,"reputation":13,"user_id":20993323,"display_name":"Michelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75186365,"answer_count":1,"score":1,"last_activity_date":1674229895,"creation_date":1674229742,"question_id":75186341,"body_markdown":"I have a JSP - File where you can see the User information, such as name ect (Like a profile). Now I want to create a Link, where you can access profiles with a unique code (that the user created) in the url. For example /webproject/user?id=293710\r\n\r\nSo the way this currently works is like that:\r\nYou are able to login with your data, after you login, you&#39;re redirected to a dashboard with buttons, where you can view your profile, edit data etc. Here is a snippet:\r\n\r\n```\r\n&lt;form method=&quot;GET&quot; action=&quot;UserServlet&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; class=&quot;buttontClass&quot; value=&quot;view Profile&quot; /&gt;\r\n&lt;/form&gt;\r\n```\r\nNow when you press the button you get redirected to a view of your profile with your information excluding your password. It does show the information correctly, however it does not show the needed parameters in the URL. It&#39;s just a blank url=&quot;/webproject/user?&quot; \r\nHow can I change the URL to show for example the UserID? \r\n\r\nI need the URL to be able to show the User Information of other Users with different ID&#39;s, and not just of the User in the Session. So when I edit the URL manually with a different ID, I need to see other User&#39;s profiles\r\n\r\nThanks in advance","title":"How to add a parameter to the URL of a profile in Java Servlet","body":"<p>I have a JSP - File where you can see the User information, such as name ect (Like a profile). Now I want to create a Link, where you can access profiles with a unique code (that the user created) in the url. For example /webproject/user?id=293710</p>\n<p>So the way this currently works is like that:\nYou are able to login with your data, after you login, you're redirected to a dashboard with buttons, where you can view your profile, edit data etc. Here is a snippet:</p>\n<pre><code>&lt;form method=&quot;GET&quot; action=&quot;UserServlet&quot;&gt;\n    &lt;input type=&quot;submit&quot; class=&quot;buttontClass&quot; value=&quot;view Profile&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Now when you press the button you get redirected to a view of your profile with your information excluding your password. It does show the information correctly, however it does not show the needed parameters in the URL. It's just a blank url=&quot;/webproject/user?&quot;\nHow can I change the URL to show for example the UserID?</p>\n<p>I need the URL to be able to show the User Information of other Users with different ID's, and not just of the User in the Session. So when I edit the URL manually with a different ID, I need to see other User's profiles</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","windows","processing","fullscreen","renderer"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674665120,"post_id":75186285,"comment_id":132764342,"body_markdown":"Did you file a bug report for this? If not: remember to file a bug report.","body":"Did you file a bug report for this? If not: remember to file a bug report."},{"owner":{"account_id":17714724,"reputation":31,"user_id":12861377,"display_name":"Hubbit200"},"score":0,"creation_date":1674818254,"post_id":75186285,"comment_id":132798876,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans  unfortunately there&#39;s already an [issue](https://github.com/processing/processing4/issues/514) which was created over half a year ago with no progress... And unfortunately I&#39;m far from experienced enough to work out how to fix it!","body":"@Mike&#39;Pomax&#39;Kamermans  unfortunately there&#39;s already an <a href=\"https://github.com/processing/processing4/issues/514\" rel=\"nofollow noreferrer\">issue</a> which was created over half a year ago with no progress... And unfortunately I&#39;m far from experienced enough to work out how to fix it!"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1674841439,"post_id":75186285,"comment_id":132806519,"body_markdown":"of course, it would be unrealistic to expect anyone why uses a program to also know how to _fix_ that program =) But if there is an issue then you can post a comment on it to mention that you also ran into this with the STR for your own use case, so that the maintainters get a notification that there&#39;s activity. They&#39;re just regular folks too, if an issue falls by the wayside, the best way to surface it is to have activity on it =)","body":"of course, it would be unrealistic to expect anyone why uses a program to also know how to <i>fix</i> that program =) But if there is an issue then you can post a comment on it to mention that you also ran into this with the STR for your own use case, so that the maintainters get a notification that there&#39;s activity. They&#39;re just regular folks too, if an issue falls by the wayside, the best way to surface it is to have activity on it =)"}],"owner":{"account_id":17714724,"reputation":31,"user_id":12861377,"display_name":"Hubbit200"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674229484,"creation_date":1674229484,"question_id":75186285,"body_markdown":"In Processing 4, with the renderer set to P2D, `fullScreen()` does not make the window fullscreen as expected if Windows scaling is set to anything other than 100% (for example at 125%, the window will fill around 3/4 of the screen). `width` and `height` also report resolutions lower than the screen&#39;s, even though `displayWidth` and `displayHeight` correctly state that it&#39;s 1920x1080.\r\n\r\nThis issue occurs only in the exported application, not in the Processing editor. It also doesn&#39;t happen with the default renderer or when using Processing 3.\r\n\r\nI&#39;ve tried everything I can think of to resolve this - but the only thing I can think of so far is to compare `displayWidth` with `width` (and the same with height) once the program is open, and if they don&#39;t match, show a message to the user telling them to switch to windowed mode. I also considered just using `size(displayWidth, displayHeight)`, but I can&#39;t work out how to hide the taskbar with that.\r\n\r\nAny ideas? I&#39;d really prefer P2D over the default renderer because of performance and shaders...\r\n\r\nThanks!\r\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\r\nThe example image has the following code:\r\n\r\n    void settings(){\r\n    \r\n      fullScreen(P2D); }\r\n    \r\n    void setup(){\r\n    \r\n      background(255,0,0); }\r\n\r\n[![Example of incorrect sizing with fullScreen()][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ILcuv.png","title":"fullScreen() broken in Processing P2D when Windows is scaled","body":"<p>In Processing 4, with the renderer set to P2D, <code>fullScreen()</code> does not make the window fullscreen as expected if Windows scaling is set to anything other than 100% (for example at 125%, the window will fill around 3/4 of the screen). <code>width</code> and <code>height</code> also report resolutions lower than the screen's, even though <code>displayWidth</code> and <code>displayHeight</code> correctly state that it's 1920x1080.</p>\n<p>This issue occurs only in the exported application, not in the Processing editor. It also doesn't happen with the default renderer or when using Processing 3.</p>\n<p>I've tried everything I can think of to resolve this - but the only thing I can think of so far is to compare <code>displayWidth</code> with <code>width</code> (and the same with height) once the program is open, and if they don't match, show a message to the user telling them to switch to windowed mode. I also considered just using <code>size(displayWidth, displayHeight)</code>, but I can't work out how to hide the taskbar with that.</p>\n<p>Any ideas? I'd really prefer P2D over the default renderer because of performance and shaders...</p>\n<p>Thanks!\n<br><br><br></p>\n<p>The example image has the following code:</p>\n<pre><code>void settings(){\n\n  fullScreen(P2D); }\n\nvoid setup(){\n\n  background(255,0,0); }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ILcuv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ILcuv.png\" alt=\"Example of incorrect sizing with fullScreen()\" /></a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674299016,"post_id":75186169,"comment_id":132687728,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27581658,"reputation":1,"user_id":21050742,"display_name":"Jk Bazar Mart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674229236,"creation_date":1674228813,"question_id":75186169,"body_markdown":"Struggling to fix Top Panel Black Issue in Android Studio. tomorrow its working fine but today open android studio the mouse pointer showing incorrect and when click to position was incorrect.\r\n\r\nCheck Screenshot\r\n\r\n[Screenhot][1]\r\n\r\n\r\n\r\n\r\nLots time check to uninstall and install but not work and also restart android studio but no success.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kcmru.png","title":"Android Studio Eel Editor Top Panel Showing Black and Mouse Pointer Incorrect","body":"<p>Struggling to fix Top Panel Black Issue in Android Studio. tomorrow its working fine but today open android studio the mouse pointer showing incorrect and when click to position was incorrect.</p>\n<p>Check Screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/kcmru.png\" rel=\"nofollow noreferrer\">Screenhot</a></p>\n<p>Lots time check to uninstall and install but not work and also restart android studio but no success.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":11542945,"reputation":132,"user_id":9823216,"display_name":"Daniel Bedn&#225;ř"},"score":0,"creation_date":1674227575,"post_id":75185298,"comment_id":132675918,"body_markdown":"Yes, the root folder of it is on Desktop and I renamed it to `kafka` (removed the versions from name). I did `cd kafka`, so it moved me into kafka root level. And java which I use is 8. \nI was also trying it even with the name with the versions and I also tried to put the folder right under C: - didn&#39;t help.","body":"Yes, the root folder of it is on Desktop and I renamed it to <code>kafka</code> (removed the versions from name). I did <code>cd kafka</code>, so it moved me into kafka root level. And java which I use is 8.  I was also trying it even with the name with the versions and I also tried to put the folder right under C: - didn&#39;t help."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674228726,"post_id":75185298,"comment_id":132676334,"body_markdown":"it definitively has problems running on Windows - I got `java.io.FileNotFoundException: \\tmp\\kafka\\bin\\..\\config\\tools-log4j.properties` despite the file being there and being readable, but note the ``\\`` - backslashes should not be used for *nix or similar - in my case I suppose the problem is because it is using the WIndows Java (despite being in a *nix (simulated?) environment)","body":"it definitively has problems running on Windows - I got <code>java.io.FileNotFoundException: \\tmp\\kafka\\bin\\..\\config\\tools-log4j.properties</code> despite the file being there and being readable, but note the <code>\\</code> - backslashes should not be used for *nix or similar - in my case I suppose the problem is because it is using the WIndows Java (despite being in a *nix (simulated?) environment)"},{"owner":{"account_id":11542945,"reputation":132,"user_id":9823216,"display_name":"Daniel Bedn&#225;ř"},"score":0,"creation_date":1674228982,"post_id":75185298,"comment_id":132676437,"body_markdown":"This helped. Thank you for your time.\nhttps://www.geeksforgeeks.org/how-to-install-and-run-apache-kafka-on-windows/\nClosing the ticket.","body":"This helped. Thank you for your time. <a href=\"https://www.geeksforgeeks.org/how-to-install-and-run-apache-kafka-on-windows/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a> Closing the ticket."}],"owner":{"account_id":11542945,"reputation":132,"user_id":9823216,"display_name":"Daniel Bedn&#225;ř"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674234644,"answer_count":0,"score":0,"last_activity_date":1674229066,"creation_date":1674224518,"question_id":75185298,"body_markdown":"I&#39;m trying to prepare my Kafka by following the quickstart: https://kafka.apache.org/quickstart &lt;br&gt;\r\nI&#39;m trying to do the Step 2: Start the Kafka environment with KRaft: &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo I tried to put the `KAFKA_CLUSTER_ID=&quot;$(bin/kafka-storage.sh random-uuid)&quot;` to the Bash in the Kafka root folder and got following error: &lt;b&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j9FaH.png\r\n  [2]: https://i.stack.imgur.com/G5dYF.png\r\n\r\nDoes anyone know how to solve this?","title":"KAFKA: Error: Could not find or load main class kafka.tools.StorageTool","body":"<p>I'm trying to prepare my Kafka by following the quickstart: <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">https://kafka.apache.org/quickstart</a> <br>\nI'm trying to do the Step 2: Start the Kafka environment with KRaft: <br></p>\n<p><a href=\"https://i.stack.imgur.com/j9FaH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9FaH.png\" alt=\"enter image description here\" /></a></p>\n<p>So I tried to put the <code>KAFKA_CLUSTER_ID=&quot;$(bin/kafka-storage.sh random-uuid)&quot;</code> to the Bash in the Kafka root folder and got following error: </p>\n<p><a href=\"https://i.stack.imgur.com/G5dYF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G5dYF.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["java","integer","double"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674228446,"post_id":75186031,"comment_id":132676240,"body_markdown":"[`a + a == Integer.MIN_VALUE` (`ideone.com`)](https://ideone.com/tSHvbx).","body":"<a href=\"https://ideone.com/tSHvbx\" rel=\"nofollow noreferrer\"><code>a + a == Integer.MIN_VALUE</code> (<code>ideone.com</code>)</a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674230093,"post_id":75186031,"comment_id":132676844,"body_markdown":"&quot;f would be fractional&quot; why fractional? &quot;due to integer division&quot; which division?","body":"&quot;f would be fractional&quot; why fractional? &quot;due to integer division&quot; which division?"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674228479,"creation_date":1674228479,"answer_id":75186107,"question_id":75186031,"body_markdown":"In the first case `a + a` overflows to `Integer.MIN_VALUE`, then you switch to a `double` context with `-1.0` which gives a negative number (`Integer.MIN_VALUE - 1`), since a `double` can hold a number smaller than `Integer.MIN_VALUE`.\r\n\r\nIn the second example you stay in an `int` context, which means that `a + a` overflows to `Integer.MIN_VALUE`, then subtracting 1 from that underflows and takes you back to `Integer.MAX_VALUE`.","title":"Why does misusing 1 instead of 1.0 from an int exceeding limits effect the value we get when we convert it to a double","body":"<p>In the first case <code>a + a</code> overflows to <code>Integer.MIN_VALUE</code>, then you switch to a <code>double</code> context with <code>-1.0</code> which gives a negative number (<code>Integer.MIN_VALUE - 1</code>), since a <code>double</code> can hold a number smaller than <code>Integer.MIN_VALUE</code>.</p>\n<p>In the second example you stay in an <code>int</code> context, which means that <code>a + a</code> overflows to <code>Integer.MIN_VALUE</code>, then subtracting 1 from that underflows and takes you back to <code>Integer.MAX_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674229058,"creation_date":1674228708,"answer_id":75186145,"question_id":75186031,"body_markdown":"Taking this apart step by step reveals the answer.\r\n\r\nFirst, we observe that `a + a == Integer.MIN_VALUE` [&lt;kbd&gt;`Ideone.com` demo&lt;/kbd&gt;][ideone].\r\n\r\nNext, if the expression `a + a - 1.0` is evaluated, it is evaluated from left to right, i.e. it is equivalent to `(a + a) - 1.0`, which is equivalent to `Integer.MIN_VALUE - 1.0`. Since the right hand side is a `double`, `Integer.MIN_VALUE` is converted to `double` as well, and the result is negative.\r\n\r\nFinally, if the expression `a + a - 1` is evaluated, it is equivalent to `Integer.MIN_VALUE - 1`. The whole operation is done in the `int`-space with ring arithmetic, and subracting `1` from the `MIN_VALUE` evaluates to the `MAX_VALUE`.\r\n\r\n[ideone]: https://ideone.com/tSHvbx","title":"Why does misusing 1 instead of 1.0 from an int exceeding limits effect the value we get when we convert it to a double","body":"<p>Taking this apart step by step reveals the answer.</p>\n<p>First, we observe that <code>a + a == Integer.MIN_VALUE</code> <a href=\"https://ideone.com/tSHvbx\" rel=\"nofollow noreferrer\"><kbd><code>Ideone.com</code> demo</kbd></a>.</p>\n<p>Next, if the expression <code>a + a - 1.0</code> is evaluated, it is evaluated from left to right, i.e. it is equivalent to <code>(a + a) - 1.0</code>, which is equivalent to <code>Integer.MIN_VALUE - 1.0</code>. Since the right hand side is a <code>double</code>, <code>Integer.MIN_VALUE</code> is converted to <code>double</code> as well, and the result is negative.</p>\n<p>Finally, if the expression <code>a + a - 1</code> is evaluated, it is equivalent to <code>Integer.MIN_VALUE - 1</code>. The whole operation is done in the <code>int</code>-space with ring arithmetic, and subracting <code>1</code> from the <code>MIN_VALUE</code> evaluates to the <code>MAX_VALUE</code>.</p>\n"}],"owner":{"account_id":27581654,"reputation":11,"user_id":21050739,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75186107,"answer_count":2,"score":0,"last_activity_date":1674229058,"creation_date":1674228109,"question_id":75186031,"body_markdown":"This is the code I will be using...\r\n\r\n    public class foo {\r\n        \r\n        public static void main(String [] args){\r\n            int a = (int) Math.pow(2, 30);\r\n    \r\n            double d = (a + a - 1.0);\r\n            double f = (a + a - 1);\r\n    \r\n            System.out.println(d);\r\n            System.out.println(f);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe outputs are -2.147483649E9 and 2.147483647E9.\r\n\r\nI do not understand why these values are printed out. It is my understanding that a + a will exceed the limits of int and therefore will switch to being negative, however, f is positive. I would expect both to be negative but f would be fractional whilst d would be an double with a point 0 due to integer division.\r\n","title":"Why does misusing 1 instead of 1.0 from an int exceeding limits effect the value we get when we convert it to a double","body":"<p>This is the code I will be using...</p>\n<pre><code>public class foo {\n    \n    public static void main(String [] args){\n        int a = (int) Math.pow(2, 30);\n\n        double d = (a + a - 1.0);\n        double f = (a + a - 1);\n\n        System.out.println(d);\n        System.out.println(f);\n    }\n\n\n}\n</code></pre>\n<p>The outputs are -2.147483649E9 and 2.147483647E9.</p>\n<p>I do not understand why these values are printed out. It is my understanding that a + a will exceed the limits of int and therefore will switch to being negative, however, f is positive. I would expect both to be negative but f would be fractional whilst d would be an double with a point 0 due to integer division.</p>\n"},{"tags":["java","decimal"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1674146502,"post_id":75175494,"comment_id":132657252,"body_markdown":"Does this answer your question? [How to round a number to n decimal places in Java](https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java)  Read **all** answers.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\">How to round a number to n decimal places in Java</a>  Read <b>all</b> answers."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1674148987,"post_id":75175494,"comment_id":132658206,"body_markdown":"A `double` value does not have a specific number of decimal places, at least not a modifiable one.  And because few rational numbers are exactly representable as type `double`, your hypothetical value rounded to a certain number of places often cannot be represented as a `double` whose (exact) decimal representation has an all-zero tail starting after the specified number of digits.  So what do you *really* want?","body":"A <code>double</code> value does not have a specific number of decimal places, at least not a modifiable one.  And because few rational numbers are exactly representable as type <code>double</code>, your hypothetical value rounded to a certain number of places often cannot be represented as a <code>double</code> whose (exact) decimal representation has an all-zero tail starting after the specified number of digits.  So what do you <i>really</i> want?"}],"answers":[{"tags":[],"owner":{"account_id":10478004,"reputation":116,"user_id":7723926,"display_name":"Hamed Heidarian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674149088,"creation_date":1674146778,"answer_id":75175606,"question_id":75175494,"body_markdown":"You can do this using BigDeciaml class as below:\r\n\r\n    double rounded = new BigDecimal(double_variable).setScale(3 /*number_of_decimals*/, BigDecimal.ROUND_HALF_UP).doubleValue();\r\n\r\nChange second parameter as needed.","title":"How do I write a function in java to return decimals to a given number of places?","body":"<p>You can do this using BigDeciaml class as below:</p>\n<pre><code>double rounded = new BigDecimal(double_variable).setScale(3 /*number_of_decimals*/, BigDecimal.ROUND_HALF_UP).doubleValue();\n</code></pre>\n<p>Change second parameter as needed.</p>\n"},{"tags":[],"owner":{"account_id":19593557,"reputation":9,"user_id":14340074,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674148233,"creation_date":1674147538,"answer_id":75175764,"question_id":75175494,"body_markdown":"    float f = 1.2232f;\r\n        \r\n    int place = 2;\r\n        \r\n    String s = String.valueOf(f);\r\n    String newS = s.substring(0,s.length() - place);\r\n        \r\n    System.out.println(Float.valueOf(newS));\r\n\r\n\r\nFirst convert your decimal number in `String`.\r\nGet the substring be eliminating the last values. \r\nConvert it back to a decimal number.","title":"How do I write a function in java to return decimals to a given number of places?","body":"<pre><code>float f = 1.2232f;\n    \nint place = 2;\n    \nString s = String.valueOf(f);\nString newS = s.substring(0,s.length() - place);\n    \nSystem.out.println(Float.valueOf(newS));\n</code></pre>\n<p>First convert your decimal number in <code>String</code>.\nGet the substring be eliminating the last values.\nConvert it back to a decimal number.</p>\n"},{"tags":[],"owner":{"account_id":8842857,"reputation":23,"user_id":6604739,"display_name":"user6604739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674148504,"creation_date":1674148504,"answer_id":75175927,"question_id":75175494,"body_markdown":"This, I think, is the recommended solution.\r\n\r\n       String.format(&quot;%.3f&quot;, myFloat);\r\n","title":"How do I write a function in java to return decimals to a given number of places?","body":"<p>This, I think, is the recommended solution.</p>\n<pre><code>   String.format(&quot;%.3f&quot;, myFloat);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674149805,"creation_date":1674149805,"answer_id":75176176,"question_id":75175494,"body_markdown":"You might be trying to do the following:\r\n\r\n    return Math.round(((double)numerator / denominator) * Math.pow(10,places))\r\n           / Math.pow(10,places);\r\n\r\nHowever, it&#39;s not recommended:\r\n\r\n1. The type `double` represents numbers in base 2, so it cannot precisely store all numbers to base 10; in other words it will store numbers to 3 decimal places only approximately.\r\n\r\n2. Decimal places is something that is only meaningful when you print a number. Therefore, it&#39;s better to keep the whole precision and just print out at the end using `System.out.printf(&quot;%.3f&quot;, number)`","title":"How do I write a function in java to return decimals to a given number of places?","body":"<p>You might be trying to do the following:</p>\n<pre><code>return Math.round(((double)numerator / denominator) * Math.pow(10,places))\n       / Math.pow(10,places);\n</code></pre>\n<p>However, it's not recommended:</p>\n<ol>\n<li><p>The type <code>double</code> represents numbers in base 2, so it cannot precisely store all numbers to base 10; in other words it will store numbers to 3 decimal places only approximately.</p>\n</li>\n<li><p>Decimal places is something that is only meaningful when you print a number. Therefore, it's better to keep the whole precision and just print out at the end using <code>System.out.printf(&quot;%.3f&quot;, number)</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":24041162,"reputation":1,"user_id":18020800,"display_name":"YareYareDaze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674218602,"answer_count":4,"score":0,"last_activity_date":1674228856,"creation_date":1674146346,"question_id":75175494,"body_markdown":"Suppose I have a function double toDecimal(int numerator, int denominator, int places);\r\n\r\nHow would I write it so that I get the decimal value to the fixed number of places asked for?\r\n\r\n```java\r\n return Math.round((double) numerator * Math.pow(10, places)) /\r\n            (denominator * Math.pow(10, places));\r\n```\r\n\r\nI tried this but on testing even when I add decimals with more places the tests passed when they shouldn&#39;t be.","title":"How do I write a function in java to return decimals to a given number of places?","body":"<p>Suppose I have a function double toDecimal(int numerator, int denominator, int places);</p>\n<p>How would I write it so that I get the decimal value to the fixed number of places asked for?</p>\n<pre class=\"lang-java prettyprint-override\"><code> return Math.round((double) numerator * Math.pow(10, places)) /\n            (denominator * Math.pow(10, places));\n</code></pre>\n<p>I tried this but on testing even when I add decimals with more places the tests passed when they shouldn't be.</p>\n"},{"tags":["java","split","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674228637,"creation_date":1674228637,"answer_id":75186137,"question_id":75173856,"body_markdown":"Since split creates a new exchange for each element and copies exchange properties from the parent exchange you&#39;ll need to use **reference type** instead of value type. For integer you could use `AtomicInteger` or create your own wrapper class to hold your integer value.\r\n\r\n```java\r\nfrom(&quot;direct:test&quot;)\r\n    .setProperty(&quot;recordNumber&quot;).exchange(ex -&gt; new AtomicInteger(0))\r\n    .split(body())\r\n        .process(ex -&gt; {\r\n            AtomicInteger recordNumber = ex.getProperty(&quot;recordNumber&quot;, AtomicInteger.class);\r\n            recordNumber.set(recordNumber.get() + 1);\r\n            ex.setProperty(&quot;recordNumber&quot;, recordNumber);\r\n        })\r\n        .log(&quot;Split: ${exchangeProperty.recordNumber}&quot;)\r\n    .end()\r\n    .log(&quot;Result: ${exchangeProperty.recordNumber}&quot;)\r\n;\r\n```\r\n\r\nIf you just need index of the split element you can just use the CamelSplitIndex [property](https://camel.apache.org/components/latest/eips/split-eip.html#_exchange_properties) which camel automatically sets for each split element.\r\n\r\nSplit works best with lists that contain items that you want to process individually. For example you might have list of ID&#39;s which you want to use to fetch more data from a REST-API. But for basic loops it&#39;s generally simpler to just a custom processor and plain java. ","title":"How to get exchange property updated in processor upon each splitting iteration","body":"<p>Since split creates a new exchange for each element and copies exchange properties from the parent exchange you'll need to use <strong>reference type</strong> instead of value type. For integer you could use <code>AtomicInteger</code> or create your own wrapper class to hold your integer value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:test&quot;)\n    .setProperty(&quot;recordNumber&quot;).exchange(ex -&gt; new AtomicInteger(0))\n    .split(body())\n        .process(ex -&gt; {\n            AtomicInteger recordNumber = ex.getProperty(&quot;recordNumber&quot;, AtomicInteger.class);\n            recordNumber.set(recordNumber.get() + 1);\n            ex.setProperty(&quot;recordNumber&quot;, recordNumber);\n        })\n        .log(&quot;Split: ${exchangeProperty.recordNumber}&quot;)\n    .end()\n    .log(&quot;Result: ${exchangeProperty.recordNumber}&quot;)\n;\n</code></pre>\n<p>If you just need index of the split element you can just use the CamelSplitIndex <a href=\"https://camel.apache.org/components/latest/eips/split-eip.html#_exchange_properties\" rel=\"nofollow noreferrer\">property</a> which camel automatically sets for each split element.</p>\n<p>Split works best with lists that contain items that you want to process individually. For example you might have list of ID's which you want to use to fetch more data from a REST-API. But for basic loops it's generally simpler to just a custom processor and plain java.</p>\n"}],"owner":{"account_id":27444364,"reputation":21,"user_id":20938428,"display_name":"Shabnam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674228637,"creation_date":1674138641,"question_id":75173856,"body_markdown":"I need a exchange property value which Iam updating in processor after split\r\nLike,\r\n\r\n```\r\n.process(new Processor() {\r\nexchange.setProperty(&quot;recordNumber&quot;, 0);\r\n}\r\n})\r\n.split(body(), new PreservePropertyonSplitAggregationStrategy())\r\n.process(new Processor() {\r\n@Override\r\npublic void process(Exchange exchange) throws Exception {\r\nint recordNumber = (int) exchange.getProperty(&quot;recordNumber&quot;); //I need updated value on each split iteration\r\n\r\nif(type1RecordList.get(i).getSagaiDossierNumber().equals(type1RecordList.get(i+1).getSagaiDossierNumber())) {\t\t\t\t\t\t\t\r\nexchange.setProperty(&quot;recordNumber&quot;, i+1); //Iam updating this recordNumber based on condition\t\t}\r\n}\r\n})\r\n.end();\r\n```\r\n //split ends\r\n\r\n//Here is my AggregationStrategy\r\n```\r\npublic class PreservePropertyonSplitAggregationStrategy implements AggregationStrategy {\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\r\n    \t\r\n    \tint recordNumber = (int) newExchange.getProperty(&quot;recordNumber&quot;);\r\n    \t\r\n        if (oldExchange == null) {\r\n\t\t\t\tnewExchange.setProperty(&quot;recordNumber&quot;, recordNumber);\r\n            return newExchange;\r\n        } \r\n        else {\r\n        \trecordNumber = (int) oldExchange.getProperty(&quot;recordNumber&quot;);\r\n\t\t\t\t\toldExchange.setProperty(&quot;recordNumber&quot;, recordNumber);\r\n            return oldExchange;\r\n        }\t\r\n    }    \t\r\n}\r\n```\r\n\r\n\r\nKindly help.\r\n\r\nIn AggeregationStrategy am getting updated value from new exchange but unable get the same in the next consecutive processor.","title":"How to get exchange property updated in processor upon each splitting iteration","body":"<p>I need a exchange property value which Iam updating in processor after split\nLike,</p>\n<pre><code>.process(new Processor() {\nexchange.setProperty(&quot;recordNumber&quot;, 0);\n}\n})\n.split(body(), new PreservePropertyonSplitAggregationStrategy())\n.process(new Processor() {\n@Override\npublic void process(Exchange exchange) throws Exception {\nint recordNumber = (int) exchange.getProperty(&quot;recordNumber&quot;); //I need updated value on each split iteration\n\nif(type1RecordList.get(i).getSagaiDossierNumber().equals(type1RecordList.get(i+1).getSagaiDossierNumber())) {                           \nexchange.setProperty(&quot;recordNumber&quot;, i+1); //Iam updating this recordNumber based on condition      }\n}\n})\n.end();\n</code></pre>\n<p>//split ends</p>\n<p>//Here is my AggregationStrategy</p>\n<pre><code>public class PreservePropertyonSplitAggregationStrategy implements AggregationStrategy {\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\n        \n        int recordNumber = (int) newExchange.getProperty(&quot;recordNumber&quot;);\n        \n        if (oldExchange == null) {\n                newExchange.setProperty(&quot;recordNumber&quot;, recordNumber);\n            return newExchange;\n        } \n        else {\n            recordNumber = (int) oldExchange.getProperty(&quot;recordNumber&quot;);\n                    oldExchange.setProperty(&quot;recordNumber&quot;, recordNumber);\n            return oldExchange;\n        }   \n    }       \n}\n</code></pre>\n<p>Kindly help.</p>\n<p>In AggeregationStrategy am getting updated value from new exchange but unable get the same in the next consecutive processor.</p>\n"},{"tags":["java","machine-learning","genetic-algorithm","jenetics"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674233128,"post_id":75186134,"comment_id":132677884,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":464675,"reputation":834,"user_id":868337,"display_name":"Franz Wilhelmst&#246;tter"},"score":0,"creation_date":1674242980,"post_id":75186134,"comment_id":132680814,"body_markdown":"Yes, without example code its very hard to give any advice ;-)","body":"Yes, without example code its very hard to give any advice ;-)"}],"owner":{"account_id":26122650,"reputation":1,"user_id":19814680,"display_name":"Pivigor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674228624,"creation_date":1674228624,"question_id":75186134,"body_markdown":"I am trying to solve a problem using a genetic algorithm:\r\n- A gene stores ints approximately in the range of 0 to 500.\r\n- The size of one genotype is approximately in the range of 10 to 10000.\r\n- This genotype looks like: \\[13, 476, 3, 89...\\]\r\n- The population of one generation is 100.\r\n- The number of generations is 10000.\r\n- I made a fitness function. It gives a score in the range of 0 to 1 (type double).\r\n\r\n# First try\r\nI wrote my *genetic algorithm*. I wrote it as simply as possible, because I was not sure that it would work at all.\r\n\r\nWith these parameters, it gives a result of approximately **0.91** fitness. This is a good result, but I&#39;m sure that I can achieve a result of at least **0.97** fitness.\r\nBut my algorithm is starting to lose performance. He continues to improve the result, but the progress of this improvement is extremely slow.\r\n\r\n# Second try\r\nI decided to try something different. Using my fitness function I implemented *Jenetics library* with all by default and population = 100. The genotype is the same as in the first case.\r\n\r\n10000 generations gave a result of about **0.27** fitness. At the same time, the fitness of the first generation is approximately **0.20-0.23**. And he reaches the result of **0.27** fitness in about 100 generations, after which **progress stops**.\r\n\r\n# Question\r\nWhy? All parameters are by default, I did not change anything at all (except for the population size).\r\nWhat have I done wrong? Please explain and tell me what parameters should be given to this library. I&#39;m not very good at genetic algorithms.\r\n\r\nThe problem is that **progress is not moving** at all. In my algorithm, it moves, slowly but surely.\r\n\r\nI tried changing offspringSelector(). I tried different ones with different values. In my algorithm, I use something similar to EliteSelector(1).\r\nI tried changing alterers(). Here too I have tried various combinations of classes with different values. In my algorithm, I use something similar to SinglePointCrossover(1) + Mutator(0.1).\r\n\r\nI have no need to repeat my algorithm. I want to achieve a similar result using the *Jenetics* implementation.\r\nOr at least for fitness to just start growing, and **not stop at the very beginning**.","title":"Java Jenetics lib. Fitness progress stops in the first few generations","body":"<p>I am trying to solve a problem using a genetic algorithm:</p>\n<ul>\n<li>A gene stores ints approximately in the range of 0 to 500.</li>\n<li>The size of one genotype is approximately in the range of 10 to 10000.</li>\n<li>This genotype looks like: [13, 476, 3, 89...]</li>\n<li>The population of one generation is 100.</li>\n<li>The number of generations is 10000.</li>\n<li>I made a fitness function. It gives a score in the range of 0 to 1 (type double).</li>\n</ul>\n<h1>First try</h1>\n<p>I wrote my <em>genetic algorithm</em>. I wrote it as simply as possible, because I was not sure that it would work at all.</p>\n<p>With these parameters, it gives a result of approximately <strong>0.91</strong> fitness. This is a good result, but I'm sure that I can achieve a result of at least <strong>0.97</strong> fitness.\nBut my algorithm is starting to lose performance. He continues to improve the result, but the progress of this improvement is extremely slow.</p>\n<h1>Second try</h1>\n<p>I decided to try something different. Using my fitness function I implemented <em>Jenetics library</em> with all by default and population = 100. The genotype is the same as in the first case.</p>\n<p>10000 generations gave a result of about <strong>0.27</strong> fitness. At the same time, the fitness of the first generation is approximately <strong>0.20-0.23</strong>. And he reaches the result of <strong>0.27</strong> fitness in about 100 generations, after which <strong>progress stops</strong>.</p>\n<h1>Question</h1>\n<p>Why? All parameters are by default, I did not change anything at all (except for the population size).\nWhat have I done wrong? Please explain and tell me what parameters should be given to this library. I'm not very good at genetic algorithms.</p>\n<p>The problem is that <strong>progress is not moving</strong> at all. In my algorithm, it moves, slowly but surely.</p>\n<p>I tried changing offspringSelector(). I tried different ones with different values. In my algorithm, I use something similar to EliteSelector(1).\nI tried changing alterers(). Here too I have tried various combinations of classes with different values. In my algorithm, I use something similar to SinglePointCrossover(1) + Mutator(0.1).</p>\n<p>I have no need to repeat my algorithm. I want to achieve a similar result using the <em>Jenetics</em> implementation.\nOr at least for fitness to just start growing, and <strong>not stop at the very beginning</strong>.</p>\n"},{"tags":["java","json","spring","mongodb","jackson"],"answers":[{"tags":[],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1336159132,"creation_date":1336159132,"answer_id":10454877,"question_id":9065042,"body_markdown":"I had to just make the getId() method return a String. It was the only way to make Jackson stop serializing the ObjectId.\r\n\r\n    public String getId() {\r\n        if (id != null) {\r\n            return id.toString();\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void setId(ObjectId id) {\r\n        this.id = id;\r\n    }\r\n\r\nsetId() still has to be ObjectId so Mongo (and its driver) can set the ID correctly. ","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>I had to just make the getId() method return a String. It was the only way to make Jackson stop serializing the ObjectId.</p>\n\n<pre><code>public String getId() {\n    if (id != null) {\n        return id.toString();\n    } else {\n        return null;\n    }\n}\n\npublic void setId(ObjectId id) {\n    this.id = id;\n}\n</code></pre>\n\n<p>setId() still has to be ObjectId so Mongo (and its driver) can set the ID correctly. </p>\n"},{"tags":[],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1349962898,"creation_date":1349962898,"answer_id":12840947,"question_id":9065042,"body_markdown":"Previous answer did the trick, but it was ugly and not well thought out - a clear workaround to actually fixing the problem.\r\n\r\nThe real issue is that [`ObjectId`][1] deserializes into its component parts. `MappingJacksonJsonView` sees [`ObjectId`][1] for what it is, an object, and goes to work on it. The deserialized fields being seen in the JSON are the fields that make up an [`ObjectId`][1]. To stop the serialization/deserialization of such an object, you have to configure a `CustomObjectMapper` that extends [`ObjectMapper`][2].\r\n\r\nHere is the `CustomeObjectMapper`:\r\n\r\n    public class CustomObjectMapper extends ObjectMapper {\r\n\r\n        public CustomObjectMapper() {\r\n            CustomSerializerFactory sf = new CustomSerializerFactory();\r\n            sf.addSpecificMapping(ObjectId.class, new ObjectIdSerializer());\r\n            this.setSerializerFactory(sf);\r\n        }\r\n    }\r\n\r\n\r\nHere is the `ObjectIdSerializer` that the `CustomObjectMapper` uses:\r\n\r\n    public class ObjectIdSerializer extends SerializerBase&lt;ObjectId&gt; {\r\n\r\n        protected ObjectIdSerializer(Class&lt;ObjectId&gt; t) {\r\n            super(t);\r\n        }\r\n\r\n        public ObjectIdSerializer() {\r\n            this(ObjectId.class);\r\n        }\r\n\r\n        @Override\r\n        public void serialize(ObjectId value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonGenerationException {\r\n            jgen.writeString(value.toString());\r\n        }\r\n    }\r\n\r\nAnd here is what needs to change in your `@Configuration`-annotated class:\r\n\r\n    @Bean(name = &quot;jsonView&quot;)\r\n    public MappingJacksonJsonView jsonView() {\r\n        final MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\r\n        mappingJacksonJsonView.setContentType(&quot;application/json&quot;);\r\n        mappingJacksonJsonView.setObjectMapper(new CustomObjectMapper());\r\n        return mappingJacksonJsonView;\r\n    }\r\n\r\nYou are basically telling Jackson how to serialize/deserialize this particular object. Works like a charm.\r\n\r\n\r\n  [1]: http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\r\n  [2]: http://jackson.codehaus.org/1.9.4/javadoc/org/codehaus/jackson/map/ObjectMapper.html\r\n\r\n","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>Previous answer did the trick, but it was ugly and not well thought out - a clear workaround to actually fixing the problem.</p>\n\n<p>The real issue is that <a href=\"http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\" rel=\"nofollow\"><code>ObjectId</code></a> deserializes into its component parts. <code>MappingJacksonJsonView</code> sees <a href=\"http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\" rel=\"nofollow\"><code>ObjectId</code></a> for what it is, an object, and goes to work on it. The deserialized fields being seen in the JSON are the fields that make up an <a href=\"http://api.mongodb.org/java/current/org/bson/types/ObjectId.html\" rel=\"nofollow\"><code>ObjectId</code></a>. To stop the serialization/deserialization of such an object, you have to configure a <code>CustomObjectMapper</code> that extends <a href=\"http://jackson.codehaus.org/1.9.4/javadoc/org/codehaus/jackson/map/ObjectMapper.html\" rel=\"nofollow\"><code>ObjectMapper</code></a>.</p>\n\n<p>Here is the <code>CustomeObjectMapper</code>:</p>\n\n<pre><code>public class CustomObjectMapper extends ObjectMapper {\n\n    public CustomObjectMapper() {\n        CustomSerializerFactory sf = new CustomSerializerFactory();\n        sf.addSpecificMapping(ObjectId.class, new ObjectIdSerializer());\n        this.setSerializerFactory(sf);\n    }\n}\n</code></pre>\n\n<p>Here is the <code>ObjectIdSerializer</code> that the <code>CustomObjectMapper</code> uses:</p>\n\n<pre><code>public class ObjectIdSerializer extends SerializerBase&lt;ObjectId&gt; {\n\n    protected ObjectIdSerializer(Class&lt;ObjectId&gt; t) {\n        super(t);\n    }\n\n    public ObjectIdSerializer() {\n        this(ObjectId.class);\n    }\n\n    @Override\n    public void serialize(ObjectId value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonGenerationException {\n        jgen.writeString(value.toString());\n    }\n}\n</code></pre>\n\n<p>And here is what needs to change in your <code>@Configuration</code>-annotated class:</p>\n\n<pre><code>@Bean(name = \"jsonView\")\npublic MappingJacksonJsonView jsonView() {\n    final MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\n    mappingJacksonJsonView.setContentType(\"application/json\");\n    mappingJacksonJsonView.setObjectMapper(new CustomObjectMapper());\n    return mappingJacksonJsonView;\n}\n</code></pre>\n\n<p>You are basically telling Jackson how to serialize/deserialize this particular object. Works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":5009797,"reputation":493,"user_id":4026392,"display_name":"Kapil Bhagchandani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575538028,"creation_date":1575538028,"answer_id":59191915,"question_id":9065042,"body_markdown":"By default Jackson provides the serialization of Object received. ObjectId returns the Object therefor its attributes are visible after conversion to JSON. You need to specify the type of serialization required, Here in this case it is string. **Thing** entity class which is used to create **ThingRepository** will look like this to get this done:\r\n\r\n    public class Thing {\r\n        @Id\r\n        @JsonSerialize(using= ToStringSerializer.class)\r\n        ObjectId id;\r\n\r\n        String name;\r\n    }\r\n\r\nHere make a note of added anotation __@JsonSerialize(using= ToStringSerializer.class)__ which instructs to serialize the ObjectID to String.","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>By default Jackson provides the serialization of Object received. ObjectId returns the Object therefor its attributes are visible after conversion to JSON. You need to specify the type of serialization required, Here in this case it is string. <strong>Thing</strong> entity class which is used to create <strong>ThingRepository</strong> will look like this to get this done:</p>\n\n<pre><code>public class Thing {\n    @Id\n    @JsonSerialize(using= ToStringSerializer.class)\n    ObjectId id;\n\n    String name;\n}\n</code></pre>\n\n<p>Here make a note of added anotation <strong>@JsonSerialize(using= ToStringSerializer.class)</strong> which instructs to serialize the ObjectID to String.</p>\n"},{"tags":[],"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645541293,"creation_date":1645541293,"answer_id":71223382,"question_id":9065042,"body_markdown":"If you&#39;re using autowired instance of the auto configured mapper in Spring Boot, you can just add this customizer bean:\r\n\r\n```java\r\n@Bean\r\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n    return builder -&gt; builder.serializerByType(ObjectId.class, ToStringSerializer.instance);\r\n}\r\n```\r\n\r\nRelevant imports:\r\n```java\r\nimport com.fasterxml.jackson.databind.ser.std.ToStringSerializer;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.boot.autoconfigure.jackson.Jackson2ObjectMapperBuilderCustomizer;\r\n```\r\n\r\nAnd then this will reflect anywhere the autowired mapper is used, for example:\r\n\r\n```java\r\n@Service\r\npublic class MyService {\r\n    private final ObjectMapper objectMapper;\r\n    private final MongoTemplate mongoTemplate;\r\n\r\n    @Autowired\r\n    public MyService(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    public String getJsonForMongoCommand(Document document) {\r\n        return objectMapper.writeValueAsString(mongoTemplate.executeCommand(document));\r\n    }\r\n}\r\n```\r\n\r\nOr in this specific case (untested, might be unnecessary):\r\n```java\r\n@Bean(name = &quot;jsonView&quot;)\r\npublic MappingJacksonJsonView jsonView(ObjectMapper objectMapper) {\r\n    final MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\r\n    mappingJacksonJsonView.setContentType(&quot;application/json&quot;);\r\n    mappingJacksonJsonView.setObjectMapper(objectMapper);\r\n    return mappingJacksonJsonView;\r\n}\r\n```","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>If you're using autowired instance of the auto configured mapper in Spring Boot, you can just add this customizer bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n    return builder -&gt; builder.serializerByType(ObjectId.class, ToStringSerializer.instance);\n}\n</code></pre>\n<p>Relevant imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ser.std.ToStringSerializer;\nimport org.bson.types.ObjectId;\nimport org.springframework.boot.autoconfigure.jackson.Jackson2ObjectMapperBuilderCustomizer;\n</code></pre>\n<p>And then this will reflect anywhere the autowired mapper is used, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    private final ObjectMapper objectMapper;\n    private final MongoTemplate mongoTemplate;\n\n    @Autowired\n    public MyService(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    public String getJsonForMongoCommand(Document document) {\n        return objectMapper.writeValueAsString(mongoTemplate.executeCommand(document));\n    }\n}\n</code></pre>\n<p>Or in this specific case (untested, might be unnecessary):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;jsonView&quot;)\npublic MappingJacksonJsonView jsonView(ObjectMapper objectMapper) {\n    final MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\n    mappingJacksonJsonView.setContentType(&quot;application/json&quot;);\n    mappingJacksonJsonView.setObjectMapper(objectMapper);\n    return mappingJacksonJsonView;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10578159,"reputation":59,"user_id":7792908,"display_name":"Cassio Luis Felippe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674228358,"creation_date":1674228358,"answer_id":75186075,"question_id":9065042,"body_markdown":"Just to complement the answers, if you face a scenario where you also need to serialize an array of ObjectId, you could create a custom serializer with the following logic:\r\n\r\n```java\r\npublic class ObjectIdSerializer extends JsonSerializer&lt;Object&gt; {\r\n\r\n    @Override\r\n    public void serialize(final Object value, final JsonGenerator jgen, final SerializerProvider provider) throws IOException {\r\n        if (value instanceof Collection) {\r\n            final Collection&lt;String&gt; ids = new ArrayList&lt;&gt;();\r\n            for (final Object id : ((Collection&lt;?&gt;) value)) {\r\n                ids.add(ObjectId.class.cast(id).toString());\r\n            }\r\n            jgen.writeObject(ids);\r\n        } else {\r\n            jgen.writeString(ObjectId.class.cast(value).toString());\r\n        }\r\n    }\r\n}\r\n```","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>Just to complement the answers, if you face a scenario where you also need to serialize an array of ObjectId, you could create a custom serializer with the following logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ObjectIdSerializer extends JsonSerializer&lt;Object&gt; {\n\n    @Override\n    public void serialize(final Object value, final JsonGenerator jgen, final SerializerProvider provider) throws IOException {\n        if (value instanceof Collection) {\n            final Collection&lt;String&gt; ids = new ArrayList&lt;&gt;();\n            for (final Object id : ((Collection&lt;?&gt;) value)) {\n                ids.add(ObjectId.class.cast(id).toString());\n            }\n            jgen.writeObject(ids);\n        } else {\n            jgen.writeString(ObjectId.class.cast(value).toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":81231,"reputation":3313,"user_id":229178,"accept_rate":100,"display_name":"sbzoom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4068,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12840947,"answer_count":5,"score":5,"last_activity_date":1674228358,"creation_date":1327932251,"question_id":9065042,"body_markdown":"I am using the MappingJacksonJsonView in my SpringMVC application to render JSON from my controllers. I want the ObjectId from my object to render as .toString but instead it serializes the ObjectId into its parts. It works just fine in my Velocity/JSP pages:\r\n\r\n\r\n    Velocity:\r\n        $thing.id\r\n    Produces:\r\n        4f1d77bb3a13870ff0783c25\r\n\r\n\r\n    Json:\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n             $.ajax({\r\n                 type: &#39;GET&#39;,\r\n                 url: &#39;/things/show/4f1d77bb3a13870ff0783c25&#39;,\r\n                 dataType: &#39;json&#39;,\r\n                 success : function(data) {\r\n                    alert(data);\r\n                 }\r\n             });\r\n        &lt;/script&gt;\r\n    Produces:\r\n        thing: {id:{time:1327331259000, new:false, machine:974358287, timeSecond:1327331259, inc:-260555739},…}\r\n            id: {time:1327331259000, new:false, machine:974358287, timeSecond:1327331259, inc:-260555739}\r\n                inc: -260555739\r\n                machine: 974358287\r\n                new: false\r\n                time: 1327331259000\r\n                timeSecond: 1327331259\r\n            name: &quot;Stack Overflow&quot;\r\n\r\n\r\n    XML:\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n             $.ajax({\r\n                 type: &#39;GET&#39;,\r\n                 url: &#39;/things/show/4f1d77bb3a13870ff0783c25&#39;,\r\n                 dataType: &#39;xml&#39;,\r\n                 success : function(data) {\r\n                    alert(data);\r\n                 }\r\n             });\r\n        &lt;/script&gt;\r\n    Produces:\r\n        &lt;com.place.model.Thing&gt;\r\n            &lt;id&gt;\r\n                &lt;__time&gt;1327331259&lt;/__time&gt;\r\n                &lt;__machine&gt;974358287&lt;/__machine&gt;\r\n                &lt;__inc&gt;-260555739&lt;/__inc&gt;\r\n                &lt;__new&gt;false&lt;/__new&gt;\r\n            &lt;/id&gt;\r\n            &lt;name&gt;Stack Overflow&lt;/name&gt;\r\n        &lt;/com.place.model.Thing&gt;\r\n\r\n\r\nIs there a way to stop MappingJacksonJsonView from getting that much information out of the ObjectId? I just want the .toString() method, not all the details.\r\n\r\nThanks.\r\n\r\nAdding the Spring config:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MyConfiguration {\r\n\r\n        @Bean(name = &quot;viewResolver&quot;)\r\n        public ContentNegotiatingViewResolver viewResolver() {\r\n            ContentNegotiatingViewResolver contentNegotiatingViewResolver = new ContentNegotiatingViewResolver();\r\n            contentNegotiatingViewResolver.setOrder(1);\r\n            contentNegotiatingViewResolver.setFavorPathExtension(true);\r\n            contentNegotiatingViewResolver.setFavorParameter(true);\r\n            contentNegotiatingViewResolver.setIgnoreAcceptHeader(false);\r\n            Map&lt;String, String&gt; mediaTypes = new HashMap&lt;String, String&gt;();\r\n            mediaTypes.put(&quot;json&quot;, &quot;application/x-json&quot;);\r\n            mediaTypes.put(&quot;json&quot;, &quot;text/json&quot;);\r\n            mediaTypes.put(&quot;json&quot;, &quot;text/x-json&quot;);\r\n            mediaTypes.put(&quot;json&quot;, &quot;application/json&quot;);\r\n            mediaTypes.put(&quot;xml&quot;, &quot;text/xml&quot;);\r\n            mediaTypes.put(&quot;xml&quot;, &quot;application/xml&quot;);\r\n            contentNegotiatingViewResolver.setMediaTypes(mediaTypes);\r\n            List&lt;View&gt; defaultViews = new ArrayList&lt;View&gt;();\r\n            defaultViews.add(xmlView());\r\n            defaultViews.add(jsonView());\r\n            contentNegotiatingViewResolver.setDefaultViews(defaultViews);\r\n            return contentNegotiatingViewResolver;\r\n        }\r\n\r\n        @Bean(name = &quot;xStreamMarshaller&quot;)\r\n        public XStreamMarshaller xStreamMarshaller() {\r\n            return new XStreamMarshaller();\r\n        }\r\n\r\n        @Bean(name = &quot;xmlView&quot;)\r\n        public MarshallingView xmlView() {\r\n            MarshallingView marshallingView = new MarshallingView(xStreamMarshaller());\r\n            marshallingView.setContentType(&quot;application/xml&quot;);\r\n            return marshallingView;\r\n        }\r\n\r\n        @Bean(name = &quot;jsonView&quot;)\r\n        public MappingJacksonJsonView jsonView() {\r\n            MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\r\n            mappingJacksonJsonView.setContentType(&quot;application/json&quot;);\r\n            return mappingJacksonJsonView;\r\n        }\r\n    }\r\n\r\nAnd my controller:\r\n\r\n    @Controller\r\n    @RequestMapping(value = { &quot;/things&quot; })\r\n    public class ThingController {\r\n\r\n        @Autowired\r\n        private ThingRepository thingRepository;\r\n\r\n        @RequestMapping(value = { &quot;/show/{thingId}&quot; }, method = RequestMethod.GET)\r\n        public String show(@PathVariable ObjectId thingId, Model model) {\r\n            model.addAttribute(&quot;thing&quot;, thingRepository.findOne(thingId));\r\n            return &quot;things/show&quot;;\r\n        }\r\n    }\r\n","title":"java spring MappingJacksonJsonView not doing toString on mongodb ObjectId","body":"<p>I am using the MappingJacksonJsonView in my SpringMVC application to render JSON from my controllers. I want the ObjectId from my object to render as .toString but instead it serializes the ObjectId into its parts. It works just fine in my Velocity/JSP pages:</p>\n\n<pre><code>Velocity:\n    $thing.id\nProduces:\n    4f1d77bb3a13870ff0783c25\n\n\nJson:\n    &lt;script type=\"text/javascript\"&gt;\n         $.ajax({\n             type: 'GET',\n             url: '/things/show/4f1d77bb3a13870ff0783c25',\n             dataType: 'json',\n             success : function(data) {\n                alert(data);\n             }\n         });\n    &lt;/script&gt;\nProduces:\n    thing: {id:{time:1327331259000, new:false, machine:974358287, timeSecond:1327331259, inc:-260555739},…}\n        id: {time:1327331259000, new:false, machine:974358287, timeSecond:1327331259, inc:-260555739}\n            inc: -260555739\n            machine: 974358287\n            new: false\n            time: 1327331259000\n            timeSecond: 1327331259\n        name: \"Stack Overflow\"\n\n\nXML:\n    &lt;script type=\"text/javascript\"&gt;\n         $.ajax({\n             type: 'GET',\n             url: '/things/show/4f1d77bb3a13870ff0783c25',\n             dataType: 'xml',\n             success : function(data) {\n                alert(data);\n             }\n         });\n    &lt;/script&gt;\nProduces:\n    &lt;com.place.model.Thing&gt;\n        &lt;id&gt;\n            &lt;__time&gt;1327331259&lt;/__time&gt;\n            &lt;__machine&gt;974358287&lt;/__machine&gt;\n            &lt;__inc&gt;-260555739&lt;/__inc&gt;\n            &lt;__new&gt;false&lt;/__new&gt;\n        &lt;/id&gt;\n        &lt;name&gt;Stack Overflow&lt;/name&gt;\n    &lt;/com.place.model.Thing&gt;\n</code></pre>\n\n<p>Is there a way to stop MappingJacksonJsonView from getting that much information out of the ObjectId? I just want the .toString() method, not all the details.</p>\n\n<p>Thanks.</p>\n\n<p>Adding the Spring config:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MyConfiguration {\n\n    @Bean(name = \"viewResolver\")\n    public ContentNegotiatingViewResolver viewResolver() {\n        ContentNegotiatingViewResolver contentNegotiatingViewResolver = new ContentNegotiatingViewResolver();\n        contentNegotiatingViewResolver.setOrder(1);\n        contentNegotiatingViewResolver.setFavorPathExtension(true);\n        contentNegotiatingViewResolver.setFavorParameter(true);\n        contentNegotiatingViewResolver.setIgnoreAcceptHeader(false);\n        Map&lt;String, String&gt; mediaTypes = new HashMap&lt;String, String&gt;();\n        mediaTypes.put(\"json\", \"application/x-json\");\n        mediaTypes.put(\"json\", \"text/json\");\n        mediaTypes.put(\"json\", \"text/x-json\");\n        mediaTypes.put(\"json\", \"application/json\");\n        mediaTypes.put(\"xml\", \"text/xml\");\n        mediaTypes.put(\"xml\", \"application/xml\");\n        contentNegotiatingViewResolver.setMediaTypes(mediaTypes);\n        List&lt;View&gt; defaultViews = new ArrayList&lt;View&gt;();\n        defaultViews.add(xmlView());\n        defaultViews.add(jsonView());\n        contentNegotiatingViewResolver.setDefaultViews(defaultViews);\n        return contentNegotiatingViewResolver;\n    }\n\n    @Bean(name = \"xStreamMarshaller\")\n    public XStreamMarshaller xStreamMarshaller() {\n        return new XStreamMarshaller();\n    }\n\n    @Bean(name = \"xmlView\")\n    public MarshallingView xmlView() {\n        MarshallingView marshallingView = new MarshallingView(xStreamMarshaller());\n        marshallingView.setContentType(\"application/xml\");\n        return marshallingView;\n    }\n\n    @Bean(name = \"jsonView\")\n    public MappingJacksonJsonView jsonView() {\n        MappingJacksonJsonView mappingJacksonJsonView = new MappingJacksonJsonView();\n        mappingJacksonJsonView.setContentType(\"application/json\");\n        return mappingJacksonJsonView;\n    }\n}\n</code></pre>\n\n<p>And my controller:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = { \"/things\" })\npublic class ThingController {\n\n    @Autowired\n    private ThingRepository thingRepository;\n\n    @RequestMapping(value = { \"/show/{thingId}\" }, method = RequestMethod.GET)\n    public String show(@PathVariable ObjectId thingId, Model model) {\n        model.addAttribute(\"thing\", thingRepository.findOne(thingId));\n        return \"things/show\";\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","security","spring-security"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":2,"creation_date":1674067308,"post_id":75159435,"comment_id":132638057,"body_markdown":"Have you read the [migration guide](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html)?","body":"Have you read the <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html\" rel=\"nofollow noreferrer\">migration guide</a>?"},{"owner":{"account_id":1768584,"reputation":708,"user_id":1613869,"accept_rate":62,"display_name":"Schokea"},"score":0,"creation_date":1674076710,"post_id":75159435,"comment_id":132640728,"body_markdown":"@AlexR yes that’s what I followed hence why I’m a bit stumped as to why it’s not working :(","body":"@AlexR yes that’s what I followed hence why I’m a bit stumped as to why it’s not working :("},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1674117982,"post_id":75159435,"comment_id":132647546,"body_markdown":"Reading the logs it seems to me that the `Authenticated` status of your `PreAuthenticatedAuthenticationToken` is never set to true. Maybe you have to call `http.\nauthenticationManager(...)` and set the `AuthenticationManager` you want to use this way?","body":"Reading the logs it seems to me that the <code>Authenticated</code> status of your <code>PreAuthenticatedAuthenticationToken</code> is never set to true. Maybe you have to call <code>http. authenticationManager(...)</code> and set the <code>AuthenticationManager</code> you want to use this way?"},{"owner":{"account_id":1768584,"reputation":708,"user_id":1613869,"accept_rate":62,"display_name":"Schokea"},"score":0,"creation_date":1674136459,"post_id":75159435,"comment_id":132653525,"body_markdown":"@AlexR tried that still same result","body":"@AlexR tried that still same result"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1674138993,"post_id":75159435,"comment_id":132654491,"body_markdown":"What is the logic inside the `preAuthProvider` class? Can you share its whole implementation?","body":"What is the logic inside the <code>preAuthProvider</code> class? Can you share its whole implementation?"},{"owner":{"account_id":1768584,"reputation":708,"user_id":1613869,"accept_rate":62,"display_name":"Schokea"},"score":0,"creation_date":1674145128,"post_id":75159435,"comment_id":132656776,"body_markdown":"@MarcusHertdaCoregio Added now. They code never gets this far but I expect it to after the Auth0TokenConverter.convert method is ran which returns PreAuthenticatedAuthenticationToken. The code gets as far as this method.","body":"@MarcusHertdaCoregio Added now. They code never gets this far but I expect it to after the Auth0TokenConverter.convert method is ran which returns PreAuthenticatedAuthenticationToken. The code gets as far as this method."},{"owner":{"account_id":19103228,"reputation":75,"user_id":13956589,"display_name":"HamsterofDeath"},"score":0,"creation_date":1677761045,"post_id":75159435,"comment_id":133403779,"body_markdown":"same problem here, it just stopped working and i don&#39;t even use any authentication","body":"same problem here, it just stopped working and i don&#39;t even use any authentication"}],"owner":{"account_id":1768584,"reputation":708,"user_id":1613869,"accept_rate":62,"display_name":"Schokea"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1674228275,"creation_date":1674045956,"question_id":75159435,"body_markdown":"I&#39;m currently upgrading from Spring Boot 2.7 to Spring 3 but I&#39;m having issues when upgrading my HTTP Security Config. \r\n\r\nI am using Azure B2C for my oauth server and that part is working fine as I can see the valid JWT being returned. \r\nI&#39;ve changed from using authorizeRequests to authorizeHttpRequests as suggested but all my HTTP requests are returning 403. \r\n\r\nIf I use authorizeRequests with all of the other Spring 3 suggested updates it still works as expected.\r\n\r\n**Configuration File:** \r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n  @Autowired\r\n  private AuthenticationProvider authenticationProvider;\r\n\r\n  @Autowired\r\n  @Qualifier(&quot;preAuthProvider&quot;)\r\n  private AuthenticationProvider preAuthProvider;\r\n\r\n  @Value(&quot;${oauthTokenChecks.audience}&quot;)\r\n  private String audience;\r\n\r\n  @Value(&quot;${oauthTokenChecks.issuer}&quot;)\r\n  private String issuer;\r\n  @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\r\n  private String jwkUri;\r\n\r\n  @Bean\r\n  CorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\r\n    configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n  }\r\n\r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.cors().\r\n        configurationSource(corsConfigurationSource()).and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n        .authorizeRequests((authorize) -&gt; authorize\r\n            .requestMatchers(&quot;/api/**&quot;)\r\n            .authenticated()\r\n        )\r\n        .exceptionHandling()\r\n        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n        .and()\r\n        .csrf()\r\n        .disable()\r\n        .oauth2ResourceServer()\r\n        .jwt()\r\n        .jwtAuthenticationConverter(new Auth0TokenConverter());\r\n\r\n    return http.build();\r\n  }\r\n\r\n  @Bean\r\n  public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n    AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n    authenticationManagerBuilder.authenticationProvider(authenticationProvider);\r\n    authenticationManagerBuilder.authenticationProvider(preAuthProvider);\r\n    return authenticationManagerBuilder.build();\r\n  }\r\n\r\n  @Bean\r\n  JwtDecoder jwtDecoder() {\r\n    NimbusJwtDecoder jwtDecoder =\r\n        NimbusJwtDecoder.withJwkSetUri(jwkUri).build();\r\n\r\n    OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\r\n    OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n    OAuth2TokenValidator&lt;Jwt&gt; withAudience =\r\n        new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\r\n//    jwtDecoder.setClaimSetConverter(new UsernameSubClaimAdapter());\r\n    jwtDecoder.setJwtValidator(withAudience);\r\n\r\n    return jwtDecoder;\r\n  }\r\n}\r\n ```\r\n\r\n**Auth Converter:**\r\n```\r\npublic class Auth0TokenConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n\r\n  @Override\r\n  public AbstractAuthenticationToken convert(final Jwt jwt) {\r\n\r\n    var emails = jwt.getClaimAsStringList(&quot;emails&quot;);\r\n    if (emails == null || emails.size() != 1) {\r\n      throw new RuntimeException(&quot;One and only one email expected in token claim&quot;);\r\n    }\r\n\r\n    var user =\r\n        ImplementUser.builder()\r\n            .username(emails.get(0))\r\n            .auth0Id(null)\r\n            .enabled(true)\r\n            .accountNonExpired(true)\r\n            .accountNonLocked(true)\r\n            .credentialsNonExpired(true)\r\n            .build();\r\n    return new PreAuthenticatedAuthenticationToken(user, jwt);\r\n  }\r\n} \r\n```\r\n\r\n**CustomPreAuthProvider:**\r\n\r\n```\r\n@Component(&quot;preAuthProvider&quot;)\r\npublic class CustomPreAuthProvider extends PreAuthenticatedAuthenticationProvider {\r\n\r\n  @Autowired\r\n  private CustomPreAuthUserDetailsService userService;\r\n\r\n  public CustomPreAuthProvider() {\r\n    super();\r\n  }\r\n\r\n  @PostConstruct\r\n  public void init() {\r\n    super.setPreAuthenticatedUserDetailsService(userService);\r\n  }\r\n}\r\n```\r\n\r\n**CustomPreAuthUserDetailsService:**\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class CustomPreAuthUserDetailsService\r\n    implements AuthenticationUserDetailsService&lt;PreAuthenticatedAuthenticationToken&gt; {\r\n\r\n  private final AuthUserDetailsService authUserDetailsService;\r\n\r\n  @Override\r\n  public final UserDetails loadUserDetails(PreAuthenticatedAuthenticationToken token) {\r\n    var principal = (ImplementUser) token.getPrincipal();\r\n    var email = principal.getUsername();\r\n    var user = authUserDetailsService.loadUserDetails(email);\r\n\r\n    var implementUser = (ImplementUser) token.getPrincipal();\r\n    return implementUser.toBuilder()\r\n        .firstName(user.getFirstName())\r\n        .lastName(user.getLastName())\r\n        .globalUserId(user.getGlobalUserId())\r\n        .profiles(user.getProfiles())\r\n        .activeProfile(user.getActiveProfile())\r\n        .defaultProfileId(user.getDefaultProfileId())\r\n        .build();\r\n\r\n  }\r\n}\r\n```\r\nBelow are the error logs\r\n\r\n[Log output][1]\r\n\r\n\r\n  [1]: https://pastebin.com/VHJXB5iX","title":"Upgrading to Spring Boot 3 authorizeHttpRequests throwing 403 with oath2ResourceServer","body":"<p>I'm currently upgrading from Spring Boot 2.7 to Spring 3 but I'm having issues when upgrading my HTTP Security Config.</p>\n<p>I am using Azure B2C for my oauth server and that part is working fine as I can see the valid JWT being returned.\nI've changed from using authorizeRequests to authorizeHttpRequests as suggested but all my HTTP requests are returning 403.</p>\n<p>If I use authorizeRequests with all of the other Spring 3 suggested updates it still works as expected.</p>\n<p><strong>Configuration File:</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n  @Autowired\n  private AuthenticationProvider authenticationProvider;\n\n  @Autowired\n  @Qualifier(&quot;preAuthProvider&quot;)\n  private AuthenticationProvider preAuthProvider;\n\n  @Value(&quot;${oauthTokenChecks.audience}&quot;)\n  private String audience;\n\n  @Value(&quot;${oauthTokenChecks.issuer}&quot;)\n  private String issuer;\n  @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\n  private String jwkUri;\n\n  @Bean\n  CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\n    configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n  }\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.cors().\n        configurationSource(corsConfigurationSource()).and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeRequests((authorize) -&gt; authorize\n            .requestMatchers(&quot;/api/**&quot;)\n            .authenticated()\n        )\n        .exceptionHandling()\n        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n        .and()\n        .csrf()\n        .disable()\n        .oauth2ResourceServer()\n        .jwt()\n        .jwtAuthenticationConverter(new Auth0TokenConverter());\n\n    return http.build();\n  }\n\n  @Bean\n  public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n    AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n    authenticationManagerBuilder.authenticationProvider(authenticationProvider);\n    authenticationManagerBuilder.authenticationProvider(preAuthProvider);\n    return authenticationManagerBuilder.build();\n  }\n\n  @Bean\n  JwtDecoder jwtDecoder() {\n    NimbusJwtDecoder jwtDecoder =\n        NimbusJwtDecoder.withJwkSetUri(jwkUri).build();\n\n    OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\n    OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n    OAuth2TokenValidator&lt;Jwt&gt; withAudience =\n        new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\n//    jwtDecoder.setClaimSetConverter(new UsernameSubClaimAdapter());\n    jwtDecoder.setJwtValidator(withAudience);\n\n    return jwtDecoder;\n  }\n}\n</code></pre>\n<p><strong>Auth Converter:</strong></p>\n<pre><code>public class Auth0TokenConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n\n  @Override\n  public AbstractAuthenticationToken convert(final Jwt jwt) {\n\n    var emails = jwt.getClaimAsStringList(&quot;emails&quot;);\n    if (emails == null || emails.size() != 1) {\n      throw new RuntimeException(&quot;One and only one email expected in token claim&quot;);\n    }\n\n    var user =\n        ImplementUser.builder()\n            .username(emails.get(0))\n            .auth0Id(null)\n            .enabled(true)\n            .accountNonExpired(true)\n            .accountNonLocked(true)\n            .credentialsNonExpired(true)\n            .build();\n    return new PreAuthenticatedAuthenticationToken(user, jwt);\n  }\n} \n</code></pre>\n<p><strong>CustomPreAuthProvider:</strong></p>\n<pre><code>@Component(&quot;preAuthProvider&quot;)\npublic class CustomPreAuthProvider extends PreAuthenticatedAuthenticationProvider {\n\n  @Autowired\n  private CustomPreAuthUserDetailsService userService;\n\n  public CustomPreAuthProvider() {\n    super();\n  }\n\n  @PostConstruct\n  public void init() {\n    super.setPreAuthenticatedUserDetailsService(userService);\n  }\n}\n</code></pre>\n<p><strong>CustomPreAuthUserDetailsService:</strong></p>\n<pre><code>@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class CustomPreAuthUserDetailsService\n    implements AuthenticationUserDetailsService&lt;PreAuthenticatedAuthenticationToken&gt; {\n\n  private final AuthUserDetailsService authUserDetailsService;\n\n  @Override\n  public final UserDetails loadUserDetails(PreAuthenticatedAuthenticationToken token) {\n    var principal = (ImplementUser) token.getPrincipal();\n    var email = principal.getUsername();\n    var user = authUserDetailsService.loadUserDetails(email);\n\n    var implementUser = (ImplementUser) token.getPrincipal();\n    return implementUser.toBuilder()\n        .firstName(user.getFirstName())\n        .lastName(user.getLastName())\n        .globalUserId(user.getGlobalUserId())\n        .profiles(user.getProfiles())\n        .activeProfile(user.getActiveProfile())\n        .defaultProfileId(user.getDefaultProfileId())\n        .build();\n\n  }\n}\n</code></pre>\n<p>Below are the error logs</p>\n<p><a href=\"https://pastebin.com/VHJXB5iX\" rel=\"nofollow noreferrer\">Log output</a></p>\n"},{"tags":["java","spring-boot","inheritance","logging","aspectj"],"comments":[{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1673895696,"post_id":75137374,"comment_id":132594891,"body_markdown":"https://stackoverflow.com/questions/42607015/emulate-annotation-inheritance-for-interfaces-and-methods-with-aspectj see that please","body":"<a href=\"https://stackoverflow.com/questions/42607015/emulate-annotation-inheritance-for-interfaces-and-methods-with-aspectj\" title=\"emulate annotation inheritance for interfaces and methods with aspectj\">stackoverflow.com/questions/42607015/&hellip;</a> see that please"},{"owner":{"account_id":27542347,"reputation":1,"user_id":21018884,"display_name":"Joe637"},"score":0,"creation_date":1673952536,"post_id":75137374,"comment_id":132606415,"body_markdown":"Thank you for your advice and the quick response. I had not seen the linked question. Respectfully, I am not sure whether it applies. The child class inherits some methods that have been annotated, but the ones that are being ignored are declared and explicitly annotated in the subclass. They do not implement abstract methods, nor do they override any concrete functions. The super- and subclass are annotated, but not with AspectJ annotations.","body":"Thank you for your advice and the quick response. I had not seen the linked question. Respectfully, I am not sure whether it applies. The child class inherits some methods that have been annotated, but the ones that are being ignored are declared and explicitly annotated in the subclass. They do not implement abstract methods, nor do they override any concrete functions. The super- and subclass are annotated, but not with AspectJ annotations."},{"owner":{"account_id":27542347,"reputation":1,"user_id":21018884,"display_name":"Joe637"},"score":0,"creation_date":1674069268,"post_id":75137374,"comment_id":132638669,"body_markdown":"I have edited my original question to reflect my findings with respect to class level annotation. Based on those developments I am more inclined to agree that JVM limitations with respect to inheritance of annotations were the cause for my original predicament. However, my understanding is still incomplete. With greater clarity I will acknowledge @ИгорьХодыко&#39;s reference as valid, if appropriate. I have changed the title to reflect the broader purpose of my original query. Should this be deemed inappropriate, I will ask the resulting question seperately.","body":"I have edited my original question to reflect my findings with respect to class level annotation. Based on those developments I am more inclined to agree that JVM limitations with respect to inheritance of annotations were the cause for my original predicament. However, my understanding is still incomplete. With greater clarity I will acknowledge @ИгорьХодыко&#39;s reference as valid, if appropriate. I have changed the title to reflect the broader purpose of my original query. Should this be deemed inappropriate, I will ask the resulting question seperately."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674228259,"post_id":75137374,"comment_id":132676169,"body_markdown":"Welcome to SO. Please learn some markdown syntax. I fixed lots of formatting issues in your question, such as the inline image not being displayed, paragraph and code formatting as well as syntax highlighting.","body":"Welcome to SO. Please learn some markdown syntax. I fixed lots of formatting issues in your question, such as the inline image not being displayed, paragraph and code formatting as well as syntax highlighting."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674228453,"post_id":75137374,"comment_id":132676246,"body_markdown":"In order to enable the community to help you better, please and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve), ideally on GitHub. Then I should be able to help you quickly. Like this, there is too much code missing, hence there are too many variables concerning what you might have done wrong. Thank you.","body":"In order to enable the community to help you better, please and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>, ideally on GitHub. Then I should be able to help you quickly. Like this, there is too much code missing, hence there are too many variables concerning what you might have done wrong. Thank you."}],"owner":{"account_id":27542347,"reputation":1,"user_id":21018884,"display_name":"Joe637"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674228153,"creation_date":1673888336,"question_id":75137374,"body_markdown":"I am trying to use AspectJ for logging in a Spring Boot project. The latter has been set up with a controller class that handles the initial request for a particular document through a related REST controller. This controller class is extended by specific classes for each document, which assemble the end product; inheritance was not my idea.\r\n\r\nTo measure performance I want to log execution time for individual methods by using an `@Around` advice. However, even when the functions are individually annotated, those in the subclass are not advised. Methods further in the call stack that are not inherited from the initial controller class are not ignored. The relevant subclass methods are public and they are not inherited from the superclass. \r\n\r\nLogging the execution time of the controller method is meant to provide the overall duration. Information with respect to subsequent functions is supposed to indicate possible bottlenecks. How can I include the methods declared in the subclass? \r\n\r\nConfidentiality precludes sharing specifics, but the relevant aspects of the class structure can be conveyed using generic names:\r\n\r\n[![document generator abbreviated class model][1]][1] [  \r\n\r\nTo follow best practices I always intended to implement custom annotations to be used in pointcuts. Nevertheless, initially, I used signature based pointcuts and their combinations. Ignoring package elements of the pointcut declaration: \r\n\r\n```java\r\n@Pointcut(&quot;execution(public String Controller.*(..)&quot;)\r\npublic void controllerPointcut() {}\r\n```\r\n\r\nThis approach captures the controller methods, as do similar declarations for the reader classes. However such pointcuts are simply ignored in the case of the subclass. Using the + symbol to target child classes does not help. The documentation indicates that inherited or declared methods in a subclass can be targeted by signature. In the specific case this results in an `IllegalStateException` due to ambiguous mapping, as does the use of a class level annotation, unsurprisingly. \r\n\r\nI only need to log two methods in the child classes, so I hoped to target them directly with a common annotation, which I also added to the controller and reader methods. The pattern, excluding package elements is: \r\n\r\n```java\r\n@Pointcut(&quot;@annotation(LoggableDuration)&quot;)\r\npublic void readerControllerPointcut() {}\r\n```\r\n\r\nThe functions in the latter two are being advised, so the annotation itself is not the problem. Nevertheless, the implementation has been added below. For thoroughness, I used a combined approach as well. The controller methods were targeted with the kind of signature approach shown above and for the rest an annotation was used. The result is the same. The problem seems to be some element of how AspectJ deals with inheritance that I have not been able to discover. However, I did expect that annotating individual methods could possibly allow me to avoid any such considerations.\r\n\r\n```java\r\n@Component\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface LoggableDuration {}\r\n```\r\n\r\nEdit: It seems that Spring Boot was not picking up the subclass. Adding the `@Component` annotation allows AspectJ to advise the desired methods as does a class level custom annotation with `ElementType.Type` as the `@Target` value. However, both lead to an `IllegalStateException: ambiguous mapping`, presumably because of the inheritance of the Rest controllers. I managed to target the subclass methods with execution based pointcuts, which were not ignored. But, this caused the aforementioned exception to appear again. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yrCxv.png","title":"How to target methods declared in a controller subclass whilst avoiding ambigous mapping?","body":"<p>I am trying to use AspectJ for logging in a Spring Boot project. The latter has been set up with a controller class that handles the initial request for a particular document through a related REST controller. This controller class is extended by specific classes for each document, which assemble the end product; inheritance was not my idea.</p>\n<p>To measure performance I want to log execution time for individual methods by using an <code>@Around</code> advice. However, even when the functions are individually annotated, those in the subclass are not advised. Methods further in the call stack that are not inherited from the initial controller class are not ignored. The relevant subclass methods are public and they are not inherited from the superclass.</p>\n<p>Logging the execution time of the controller method is meant to provide the overall duration. Information with respect to subsequent functions is supposed to indicate possible bottlenecks. How can I include the methods declared in the subclass?</p>\n<p>Confidentiality precludes sharing specifics, but the relevant aspects of the class structure can be conveyed using generic names:</p>\n<p><a href=\"https://i.stack.imgur.com/yrCxv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrCxv.png\" alt=\"document generator abbreviated class model\" /></a> [</p>\n<p>To follow best practices I always intended to implement custom annotations to be used in pointcuts. Nevertheless, initially, I used signature based pointcuts and their combinations. Ignoring package elements of the pointcut declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(public String Controller.*(..)&quot;)\npublic void controllerPointcut() {}\n</code></pre>\n<p>This approach captures the controller methods, as do similar declarations for the reader classes. However such pointcuts are simply ignored in the case of the subclass. Using the + symbol to target child classes does not help. The documentation indicates that inherited or declared methods in a subclass can be targeted by signature. In the specific case this results in an <code>IllegalStateException</code> due to ambiguous mapping, as does the use of a class level annotation, unsurprisingly.</p>\n<p>I only need to log two methods in the child classes, so I hoped to target them directly with a common annotation, which I also added to the controller and reader methods. The pattern, excluding package elements is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;@annotation(LoggableDuration)&quot;)\npublic void readerControllerPointcut() {}\n</code></pre>\n<p>The functions in the latter two are being advised, so the annotation itself is not the problem. Nevertheless, the implementation has been added below. For thoroughness, I used a combined approach as well. The controller methods were targeted with the kind of signature approach shown above and for the rest an annotation was used. The result is the same. The problem seems to be some element of how AspectJ deals with inheritance that I have not been able to discover. However, I did expect that annotating individual methods could possibly allow me to avoid any such considerations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface LoggableDuration {}\n</code></pre>\n<p>Edit: It seems that Spring Boot was not picking up the subclass. Adding the <code>@Component</code> annotation allows AspectJ to advise the desired methods as does a class level custom annotation with <code>ElementType.Type</code> as the <code>@Target</code> value. However, both lead to an <code>IllegalStateException: ambiguous mapping</code>, presumably because of the inheritance of the Rest controllers. I managed to target the subclass methods with execution based pointcuts, which were not ignored. But, this caused the aforementioned exception to appear again.</p>\n"},{"tags":["java","aop","aspectj","aspect","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"score":0,"creation_date":1673912384,"post_id":75140678,"comment_id":132598846,"body_markdown":"Working with Aspects without Spring is a little different. There are some examples [here](https://www.baeldung.com/aspectj)","body":"Working with Aspects without Spring is a little different. There are some examples <a href=\"https://www.baeldung.com/aspectj\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"score":0,"creation_date":1673915456,"post_id":75140678,"comment_id":132599259,"body_markdown":"@timeofeevle I looked into the link you provided and i think i did everything except the .aj file. I wasn&#39;t able to create a .aj file in my project. Do i still need the .aj file when i&#39;m using annotations?","body":"@timeofeevle I looked into the link you provided and i think i did everything except the .aj file. I wasn&#39;t able to create a .aj file in my project. Do i still need the .aj file when i&#39;m using annotations?"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674227890,"creation_date":1674227890,"answer_id":75185979,"question_id":75140678,"body_markdown":"Your problem seems to be more about Maven basics than AspectJ at all.\r\n\r\nPutting AspectJ Maven plugin configuration into your `pluginManagement/plugins` section without actually activating the plugin in the `plugins` section, will not help you. So please, make sure to actually use the configured plugin.\r\n\r\n```xml\r\n&lt;pluginManagement&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.14.0&lt;/version&gt;  &lt;!-- No reason to use the outdated 1.8 --&gt;\r\n      &lt;configuration&gt;\r\n        &lt;!-- (...) --&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;plugin&gt;\r\n  &lt;plugins&gt;\r\n&lt;pluginManagement&gt;\r\n\r\n&lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    &lt;!-- No version/config necessary here, because already configured above) --&gt;\r\n  &lt;plugin&gt;\r\n&lt;plugins&gt;\r\n```\r\n","title":"Aspect not getting called on non-spring maven project","body":"<p>Your problem seems to be more about Maven basics than AspectJ at all.</p>\n<p>Putting AspectJ Maven plugin configuration into your <code>pluginManagement/plugins</code> section without actually activating the plugin in the <code>plugins</code> section, will not help you. So please, make sure to actually use the configured plugin.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;pluginManagement&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.14.0&lt;/version&gt;  &lt;!-- No reason to use the outdated 1.8 --&gt;\n      &lt;configuration&gt;\n        &lt;!-- (...) --&gt;\n      &lt;/configuration&gt;\n    &lt;plugin&gt;\n  &lt;plugins&gt;\n&lt;pluginManagement&gt;\n\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n    &lt;!-- No version/config necessary here, because already configured above) --&gt;\n  &lt;plugin&gt;\n&lt;plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674227890,"creation_date":1673911888,"question_id":75140678,"body_markdown":"I&#39;m using  Java 8, testng, maven and selenium for UI automation frame work and trying to use aspectj to execute aspects before and after for switching iframes(entry and exit) when any method in an object is called. Aspect never gets called when i run any induvidual test class. Here is my package structure. I tried using both compile time and load time weaving but nothing help. \r\n    \r\nProject A is the parent \r\nThe module Project B is inside Project A\r\n\r\nProject A pom.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \t&lt;groupId&gt;com.projectA&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n        \t&lt;name&gt;projectA&lt;/name&gt;\r\n        \t&lt;modules&gt;\r\n        \t&lt;module&gt;projectB&lt;/module&gt;\r\n        \t&lt;/modules&gt;\r\n        \t&lt;properties&gt;\r\n        \t\t&lt;!-- Maven Plugins --&gt;\r\n        \t\t&lt;maven-compiler-version&gt;3.6.0&lt;/maven-compiler-version&gt;\r\n        \t\t&lt;maven-surefire-version&gt;2.20.1&lt;/maven-surefire-version&gt;\r\n        \t\t&lt;!-- Dependencies --&gt;\r\n        \t\t&lt;selenium-version&gt;3.14.0&lt;/selenium-version&gt;\r\n        \t\t&lt;testng-version&gt;7.4.0&lt;/testng-version&gt;\r\n        \t\t&lt;log4j2-version&gt;2.17.0&lt;/log4j2-version&gt;\t\r\n        \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\t\r\n        \t&lt;/properties&gt;\r\n        \t&lt;build&gt;\r\n        \t\t&lt;pluginManagement&gt;\r\n        \t\t\t&lt;plugins&gt;\r\n        \t\t\t\t&lt;plugin&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t\t&lt;version&gt;${maven-compiler-version}&lt;/version&gt;\r\n        \t\t\t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n        \t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n        \t\t\t\t\t\t&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n        \t\t\t\t\t&lt;/configuration&gt;\r\n        \t\t\t\t&lt;/plugin&gt;\r\n        \t\t\t\t&lt;plugin&gt;\r\n                   \t\t\t &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                   \t\t\t &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                    \t\t &lt;version&gt;1.8&lt;/version&gt;\r\n                   \t\t\t &lt;configuration&gt;\r\n                        \t\t &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                        \t\t &lt;source&gt;1.8&lt;/source&gt;\r\n                        \t\t &lt;target&gt;1.8&lt;/target&gt;\r\n                        \t\t &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n                        \t\t &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\r\n                        \t\t &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                       \t\t \t &lt;verbose&gt;true&lt;/verbose&gt;\r\n                   \t\t\t &lt;/configuration&gt;\r\n                    \t\t&lt;executions&gt;\r\n                        \t\t&lt;execution&gt;\r\n                        \t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n                            \t&lt;goals&gt;\r\n                                \t&lt;goal&gt;compile&lt;/goal&gt;\r\n                                \t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n                            \t&lt;/goals&gt;\r\n                        \t\t&lt;/execution&gt;\r\n                    \t\t&lt;/executions&gt;\t\r\n                    \t\t&lt;dependencies&gt;\r\n                  \t\t\t\t&lt;dependency&gt;\r\n                    \t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    \t\t\t\t&lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                   \t\t\t\t\t&lt;version&gt;1.8.13&lt;/version&gt;\r\n                  \t\t\t\t&lt;/dependency&gt;\r\n                \t\t\t&lt;/dependencies&gt;\r\n                \t\t&lt;/plugin&gt;\r\n        \t\t\t\t&lt;plugin&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t\t&lt;version&gt;${maven-surefire-version}&lt;/version&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n        \t\t\t\t\t\t\t&lt;user1&gt;${username}&lt;/user1&gt;\r\n        \t\t\t\t\t\t\t&lt;!-- Other system variables --&gt;\r\n        \t\t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n        \t\t\t\t\t&lt;configuration&gt;\r\n                            \t&lt;argLine&gt;-javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar&lt;/argLine&gt;\r\n        \t\t\t\t\t&lt;/configuration&gt;\r\n        \t\t\t\t&lt;/plugin&gt;\r\n        \t\t\t&lt;/plugins&gt;\r\n        \t\t&lt;/pluginManagement&gt;\r\n        \t&lt;/build&gt;\r\n        \t&lt;dependencyManagement&gt;\r\n        \t\t&lt;dependencies&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${htmlunit-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${testng-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${log4j2-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;${log4j2-version}&lt;/version&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t\t  &lt;dependency&gt;\r\n                   \t\t &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    \t &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                    \t &lt;version&gt;1.8.13&lt;/version&gt;\r\n                    \t &lt;scope&gt;runtime&lt;/scope&gt;\r\n                \t &lt;/dependency&gt;\r\n                \t &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.8.13&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n        \t\t&lt;/dependencies&gt;\r\n        &lt;/project&gt;\r\n    \r\nProject B pom.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n    \txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n    \t&lt;name&gt;projectB&lt;/name&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.projectA&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n      \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n       \t\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t \t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                \t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                \t&lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n    \r\n    Packaging Structure for Project B.\r\n    all the code is in Project B\r\n    src/main/java(Holds all the page object classes, interface, aspects and custom annotation classes)\r\n    src/test/java(Holds only test classes and has META-INF folder that holds aop.xml)\r\n\r\n Interface in src/main/java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n     public interface NavBarInterface{\r\n          public void navigateToHelp();\r\n          public void navigateToMenu();\r\n        }\r\n\r\nPageObject Class in src/main/java\r\nNavigationBar.java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.stackoverflow.shop\r\n    \r\n    Class NavigationBar{\r\n    \r\n       NavigationBar(){}\r\n       @Override\r\n       @HandleFrame\r\n       public void navigateToHelp() {\r\n        // Navigates to Help section\r\n       }\r\n    \r\n       @Override\r\n       @HandleFrame\r\n       public void navigateToMenu() {\r\n        // Navigates to Help Menu section\r\n       }\r\n    }\r\n\r\nCustom Annotation class in src/main/java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.stackoverflow.shop\r\n            \r\n            @Target(ElementType.METHOD)\r\n            @Retention(RetentionPolicy.RUNTIME)\r\n            public @interface  HandleFrame {\r\n            }\r\n    \r\nAspect Class in src/main/java\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.stackoverflow.shop\r\n        \r\n        @Aspect\r\n        Class FrameHandlingAspect{\r\n        \r\n           @Before(&quot;@annotation(com.stackoverflow.shop.NavigationBar)&quot;)\r\n            public void enterFrame() {\r\n                logger.info(&quot;Switched to IFrame&quot;);\r\n                // switches to iframe\r\n            }\r\n        \r\n           @After(&quot;@annotation(com.stackoverflow.shop.NavigationBar)&quot;)\r\n            public void enterFrame() {\r\n                logger.info(&quot;exited from IFrame&quot;);\r\n                // exit from iframe\r\n            }\r\n        }\r\n    \r\napo.xml file in src/test/java/META-INF\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;aspectj&gt;\r\n     &lt;aspects&gt;\r\n      &lt;aspect name=&quot;com.stackoverflow.shop.FrameHandlingAspect&quot;/&gt;\r\n     &lt;/aspects&gt; \r\n     &lt;weaver options=&quot;-verbose -debug -showWeaveInfo&quot;&gt;\r\n      &lt;include within=&quot;com.stackoverflow..*&quot; /&gt;\r\n     &lt;/weaver&gt;\r\n    &lt;/aspectj&gt;\r\n    \r\nTestClass in src/test/java\r\n    \r\n&lt;!-- language: java --&gt;\r\n\r\n    Class NavigationTests {\r\n    \r\n    @BeforeMethod(alwaysRun = true)\r\n    public void refreshAndSwitchTab(){\r\n      // performs refresh page action and opens a new tab\r\n    }\r\n    \r\n    @AfterMethod(alwaysRun = true)\r\n    public void closeTab(){\r\n      // closes secondary tab\r\n    }\r\n\r\n    @Test(enabled=true)      \r\n    public void testNavigation() {\r\n    NavBarInterface nbar = new NavigationBar();\r\n    nbar.navigateToHelp(); //Aspects are not called before and after\r\n    nbar.navigateToMenu();\r\n    }\r\n        \r\n    }\r\n\r\nI&#39;m running the NavigationTests class on Eclipse using Run Configuration/Run as testng test.I also tried running the test as providing vm argument  -Dtest=NavigationTests\r\n        \r\nThe tests are running fine but the aspects are never called. Not sure what mistake i&#39;m doing here or does aspect doesn&#39;t run when we run a single test class. Any help is much appreciated.","title":"Aspect not getting called on non-spring maven project","body":"<p>I'm using  Java 8, testng, maven and selenium for UI automation frame work and trying to use aspectj to execute aspects before and after for switching iframes(entry and exit) when any method in an object is called. Aspect never gets called when i run any induvidual test class. Here is my package structure. I tried using both compile time and load time weaving but nothing help.</p>\n<p>Project A is the parent\nThe module Project B is inside Project A</p>\n<p>Project A pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;groupId&gt;com.projectA&lt;/groupId&gt;\n        &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;pom&lt;/packaging&gt;\n        &lt;name&gt;projectA&lt;/name&gt;\n        &lt;modules&gt;\n        &lt;module&gt;projectB&lt;/module&gt;\n        &lt;/modules&gt;\n        &lt;properties&gt;\n            &lt;!-- Maven Plugins --&gt;\n            &lt;maven-compiler-version&gt;3.6.0&lt;/maven-compiler-version&gt;\n            &lt;maven-surefire-version&gt;2.20.1&lt;/maven-surefire-version&gt;\n            &lt;!-- Dependencies --&gt;\n            &lt;selenium-version&gt;3.14.0&lt;/selenium-version&gt;\n            &lt;testng-version&gt;7.4.0&lt;/testng-version&gt;\n            &lt;log4j2-version&gt;2.17.0&lt;/log4j2-version&gt; \n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;  \n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;pluginManagement&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-compiler-version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;source&gt;1.8&lt;/source&gt;\n                            &lt;target&gt;1.8&lt;/target&gt;\n                            &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                         &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                         &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                         &lt;version&gt;1.8&lt;/version&gt;\n                         &lt;configuration&gt;\n                             &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                             &lt;source&gt;1.8&lt;/source&gt;\n                             &lt;target&gt;1.8&lt;/target&gt;\n                             &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n                             &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\n                             &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                             &lt;verbose&gt;true&lt;/verbose&gt;\n                         &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                            &lt;phase&gt;process-sources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;   \n                        &lt;dependencies&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                                &lt;version&gt;1.8.13&lt;/version&gt;\n                            &lt;/dependency&gt;\n                        &lt;/dependencies&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven-surefire-version}&lt;/version&gt;\n                        &lt;systemPropertyVariables&gt;\n                                &lt;user1&gt;${username}&lt;/user1&gt;\n                                &lt;!-- Other system variables --&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;configuration&gt;\n                            &lt;argLine&gt;-javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar&lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/pluginManagement&gt;\n        &lt;/build&gt;\n        &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n                    &lt;version&gt;${selenium-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n                    &lt;version&gt;${selenium-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\n                    &lt;version&gt;${htmlunit-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                    &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n                    &lt;version&gt;${selenium-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                    &lt;version&gt;${testng-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                    &lt;version&gt;${log4j2-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                    &lt;version&gt;${log4j2-version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                  &lt;dependency&gt;\n                     &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                     &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                     &lt;version&gt;1.8.13&lt;/version&gt;\n                     &lt;scope&gt;runtime&lt;/scope&gt;\n                 &lt;/dependency&gt;\n                 &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                &lt;version&gt;1.8.13&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>Project B pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;projectB&lt;/artifactId&gt;\n    &lt;name&gt;projectB&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.projectA&lt;/groupId&gt;\n        &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\nPackaging Structure for Project B.\nall the code is in Project B\nsrc/main/java(Holds all the page object classes, interface, aspects and custom annotation classes)\nsrc/test/java(Holds only test classes and has META-INF folder that holds aop.xml)\n</code></pre>\n<p>Interface in src/main/java</p>\n<pre class=\"lang-java prettyprint-override\"><code> public interface NavBarInterface{\n      public void navigateToHelp();\n      public void navigateToMenu();\n    }\n</code></pre>\n<p>PageObject Class in src/main/java\nNavigationBar.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.stackoverflow.shop\n\nClass NavigationBar{\n\n   NavigationBar(){}\n   @Override\n   @HandleFrame\n   public void navigateToHelp() {\n    // Navigates to Help section\n   }\n\n   @Override\n   @HandleFrame\n   public void navigateToMenu() {\n    // Navigates to Help Menu section\n   }\n}\n</code></pre>\n<p>Custom Annotation class in src/main/java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.stackoverflow.shop\n        \n        @Target(ElementType.METHOD)\n        @Retention(RetentionPolicy.RUNTIME)\n        public @interface  HandleFrame {\n        }\n</code></pre>\n<p>Aspect Class in src/main/java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.stackoverflow.shop\n    \n    @Aspect\n    Class FrameHandlingAspect{\n    \n       @Before(&quot;@annotation(com.stackoverflow.shop.NavigationBar)&quot;)\n        public void enterFrame() {\n            logger.info(&quot;Switched to IFrame&quot;);\n            // switches to iframe\n        }\n    \n       @After(&quot;@annotation(com.stackoverflow.shop.NavigationBar)&quot;)\n        public void enterFrame() {\n            logger.info(&quot;exited from IFrame&quot;);\n            // exit from iframe\n        }\n    }\n</code></pre>\n<p>apo.xml file in src/test/java/META-INF</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;aspectj&gt;\n &lt;aspects&gt;\n  &lt;aspect name=&quot;com.stackoverflow.shop.FrameHandlingAspect&quot;/&gt;\n &lt;/aspects&gt; \n &lt;weaver options=&quot;-verbose -debug -showWeaveInfo&quot;&gt;\n  &lt;include within=&quot;com.stackoverflow..*&quot; /&gt;\n &lt;/weaver&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>TestClass in src/test/java</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class NavigationTests {\n\n@BeforeMethod(alwaysRun = true)\npublic void refreshAndSwitchTab(){\n  // performs refresh page action and opens a new tab\n}\n\n@AfterMethod(alwaysRun = true)\npublic void closeTab(){\n  // closes secondary tab\n}\n\n@Test(enabled=true)      \npublic void testNavigation() {\nNavBarInterface nbar = new NavigationBar();\nnbar.navigateToHelp(); //Aspects are not called before and after\nnbar.navigateToMenu();\n}\n    \n}\n</code></pre>\n<p>I'm running the NavigationTests class on Eclipse using Run Configuration/Run as testng test.I also tried running the test as providing vm argument  -Dtest=NavigationTests</p>\n<p>The tests are running fine but the aspects are never called. Not sure what mistake i'm doing here or does aspect doesn't run when we run a single test class. Any help is much appreciated.</p>\n"},{"tags":["java","string","numbers","decimal","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"down_vote_count":0,"up_vote_count":297,"is_accepted":true,"score":297,"last_activity_date":1447791668,"creation_date":1283989213,"answer_id":3672738,"question_id":3672731,"body_markdown":"You might want to look at the [`DecimalFormat`][1] class; it supports different locales (eg: in some countries that would get formatted as `1.000.500.000,57` instead).\r\n\r\nYou also need to convert that string into a number, this can be done with:\r\n\r\n    double amount = Double.parseDouble(number);\r\n\r\nCode sample:\r\n\r\n    String number = &quot;1000500000.574&quot;;\r\n    double amount = Double.parseDouble(number);\r\n    DecimalFormat formatter = new DecimalFormat(&quot;#,###.00&quot;);\r\n    \r\n    System.out.println(formatter.format(amount));\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\r\n  [2]: http://ideone.com/sRxUj","title":"How can I format a String number to have commas and round?","body":"<p>You might want to look at the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\"><code>DecimalFormat</code></a> class; it supports different locales (eg: in some countries that would get formatted as <code>1.000.500.000,57</code> instead).</p>\n\n<p>You also need to convert that string into a number, this can be done with:</p>\n\n<pre><code>double amount = Double.parseDouble(number);\n</code></pre>\n\n<p>Code sample:</p>\n\n<pre><code>String number = \"1000500000.574\";\ndouble amount = Double.parseDouble(number);\nDecimalFormat formatter = new DecimalFormat(\"#,###.00\");\n\nSystem.out.println(formatter.format(amount));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25410,"reputation":20977,"user_id":65299,"accept_rate":72,"display_name":"Aaron Novstrup"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1283990988,"creation_date":1283989832,"answer_id":3672796,"question_id":3672731,"body_markdown":"Once you&#39;ve converted your String to a number, you can use\r\n\r\n    // format the number for the default locale\r\n    NumberFormat.getInstance().format(num)\r\n\r\nor\r\n\r\n    // format the number for a particular locale\r\n    NumberFormat.getInstance(locale).format(num)\r\n","title":"How can I format a String number to have commas and round?","body":"<p>Once you've converted your String to a number, you can use</p>\n\n<pre><code>// format the number for the default locale\nNumberFormat.getInstance().format(num)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>// format the number for a particular locale\nNumberFormat.getInstance(locale).format(num)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1983926,"reputation":456,"user_id":1779783,"display_name":"Jeremy Trifilo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1546805838,"creation_date":1351364480,"answer_id":13103198,"question_id":3672731,"body_markdown":"I&#39;ve created my own formatting utility. Which is extremely fast at processing the formatting along with giving you many features :)\r\n\r\nIt supports:\r\n\r\n - Comma Formatting E.g. 1234567 becomes 1,234,567.  \r\n - Prefixing with &quot;Thousand(K),Million(M),Billion(B),Trillion(T)&quot;.  \r\n - Precision of 0 through 15.\r\n - Precision re-sizing (Means if you want 6 digit precision, but only have 3 available digits it forces it to 3).\r\n - Prefix lowering (Means if the prefix you choose is too large it lowers it to a more suitable prefix).\r\n\r\nThe code can be found [here](https://github.com/JeremyDX/Java-C-C-Language-Testing-/blob/master/Java%20Programs/ValueFormat/ValueFormat.java). You call it like this:\r\n\r\n    public static void main(String[])\r\n    {\r\n       int settings = ValueFormat.COMMAS | ValueFormat.PRECISION(2) | ValueFormat.MILLIONS;\r\n       String formatted = ValueFormat.format(1234567, settings);\r\n    }\r\n\r\nI should also point out this doesn&#39;t handle decimal support, but is very useful for integer values. The above example would show &quot;1.23M&quot; as the output. I could probably add decimal support maybe, but didn&#39;t see too much use for it since then I might as well merge this into a BigInteger type of class that handles compressed char[] arrays for math computations.","title":"How can I format a String number to have commas and round?","body":"<p>I've created my own formatting utility. Which is extremely fast at processing the formatting along with giving you many features :)</p>\n\n<p>It supports:</p>\n\n<ul>\n<li>Comma Formatting E.g. 1234567 becomes 1,234,567.  </li>\n<li>Prefixing with \"Thousand(K),Million(M),Billion(B),Trillion(T)\".  </li>\n<li>Precision of 0 through 15.</li>\n<li>Precision re-sizing (Means if you want 6 digit precision, but only have 3 available digits it forces it to 3).</li>\n<li>Prefix lowering (Means if the prefix you choose is too large it lowers it to a more suitable prefix).</li>\n</ul>\n\n<p>The code can be found <a href=\"https://github.com/JeremyDX/Java-C-C-Language-Testing-/blob/master/Java%20Programs/ValueFormat/ValueFormat.java\" rel=\"nofollow noreferrer\">here</a>. You call it like this:</p>\n\n<pre><code>public static void main(String[])\n{\n   int settings = ValueFormat.COMMAS | ValueFormat.PRECISION(2) | ValueFormat.MILLIONS;\n   String formatted = ValueFormat.format(1234567, settings);\n}\n</code></pre>\n\n<p>I should also point out this doesn't handle decimal support, but is very useful for integer values. The above example would show \"1.23M\" as the output. I could probably add decimal support maybe, but didn't see too much use for it since then I might as well merge this into a BigInteger type of class that handles compressed char[] arrays for math computations.</p>\n"},{"tags":[],"owner":{"account_id":3694702,"reputation":73,"user_id":3076415,"display_name":"Venod Raveendran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1393454388,"creation_date":1393454388,"answer_id":22055051,"question_id":3672731,"body_markdown":"The first answer works very well, but for ZERO / 0 it will format as .00\r\n\r\nHence the format #,##0.00 is working well for me.\r\nAlways test different numbers such as 0 / 100 / 2334.30 and negative numbers before deploying to production system.","title":"How can I format a String number to have commas and round?","body":"<p>The first answer works very well, but for ZERO / 0 it will format as .00</p>\n\n<p>Hence the format #,##0.00 is working well for me.\nAlways test different numbers such as 0 / 100 / 2334.30 and negative numbers before deploying to production system.</p>\n"},{"tags":[],"owner":{"account_id":436860,"reputation":2072,"user_id":824255,"display_name":"Jitendra Nath"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1617862229,"creation_date":1401274199,"answer_id":23909596,"question_id":3672731,"body_markdown":"you can also use the below solution\r\n\r\n```\r\npublic static String getRoundOffValue(double value){\r\n    DecimalFormat df = new DecimalFormat(&quot;##,##,##,##,##,##,##0.00&quot;);\r\n    return df.format(value);\r\n}\r\n```","title":"How can I format a String number to have commas and round?","body":"<p>you can also use the below solution</p>\n<pre><code>public static String getRoundOffValue(double value){\n    DecimalFormat df = new DecimalFormat(&quot;##,##,##,##,##,##,##0.00&quot;);\n    return df.format(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4025820,"reputation":61,"user_id":3314142,"display_name":"user3314142"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1406653794,"creation_date":1406652307,"answer_id":25020657,"question_id":3672731,"body_markdown":"\tpublic void convert(int s)\r\n\t{\r\n\t\tSystem.out.println(NumberFormat.getNumberInstance(Locale.US).format(s));\r\n\t}\r\n\r\n\tpublic static void main(String args[])\r\n\t{\r\n        LocalEx n=new LocalEx();\r\n\t    n.convert(10000);\r\n    }\r\n\t  \r\n\r\n\t","title":"How can I format a String number to have commas and round?","body":"<pre><code>public void convert(int s)\n{\n    System.out.println(NumberFormat.getNumberInstance(Locale.US).format(s));\n}\n\npublic static void main(String args[])\n{\n    LocalEx n=new LocalEx();\n    n.convert(10000);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4749302,"reputation":759,"user_id":3839722,"accept_rate":100,"display_name":"Peter Griffin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456559257,"creation_date":1456559257,"answer_id":35667160,"question_id":3672731,"body_markdown":"You can do the entire conversion in one line, using the following code:\r\n\r\n    String number = &quot;1000500000.574&quot;;\r\n    String convertedString = new DecimalFormat(&quot;#,###.##&quot;).format(Double.parseDouble(number));\r\n\r\nThe last two # signs in the DecimalFormat constructor can also be 0s.  Either way works.","title":"How can I format a String number to have commas and round?","body":"<p>You can do the entire conversion in one line, using the following code:</p>\n\n<pre><code>String number = \"1000500000.574\";\nString convertedString = new DecimalFormat(\"#,###.##\").format(Double.parseDouble(number));\n</code></pre>\n\n<p>The last two # signs in the DecimalFormat constructor can also be 0s.  Either way works.</p>\n"},{"tags":[],"owner":{"account_id":2629417,"reputation":812,"user_id":2275765,"display_name":"Greg H"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1496682719,"creation_date":1476210913,"answer_id":39984324,"question_id":3672731,"body_markdown":"This can also be accomplished using String.format(), which may be easier and/or more flexible if you are formatting multiple numbers in one string. \r\n\r\n    \tString number = &quot;1000500000.574&quot;;\r\n\t\tDouble numParsed = Double.parseDouble(number);\r\n\r\n\t\tSystem.out.println(String.format(&quot;The input number is: %,.2f&quot;, numParsed));\r\n        // Or\r\n        String numString = String.format(&quot;%,.2f&quot;, numParsed);\r\n\r\nFor the format string &quot;%,.2f&quot; - &quot;,&quot; means separate digit groups with commas, and &quot;.2&quot; means round to two places after the decimal.\r\n\r\nFor reference on other formatting options, see https://docs.oracle.com/javase/tutorial/java/data/numberformat.html","title":"How can I format a String number to have commas and round?","body":"<p>This can also be accomplished using String.format(), which may be easier and/or more flexible if you are formatting multiple numbers in one string. </p>\n\n<pre><code>    String number = \"1000500000.574\";\n    Double numParsed = Double.parseDouble(number);\n\n    System.out.println(String.format(\"The input number is: %,.2f\", numParsed));\n    // Or\n    String numString = String.format(\"%,.2f\", numParsed);\n</code></pre>\n\n<p>For the format string \"%,.2f\" - \",\" means separate digit groups with commas, and \".2\" means round to two places after the decimal.</p>\n\n<p>For reference on other formatting options, see <a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/data/numberformat.html</a></p>\n"},{"tags":[],"owner":{"account_id":10845733,"reputation":41,"user_id":7975288,"display_name":"John Paker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1494141505,"creation_date":1494140018,"answer_id":43828646,"question_id":3672731,"body_markdown":"Here is the simplest way to get there:\r\n\r\n    String number = &quot;10987655.876&quot;;\r\n    double result = Double.parseDouble(number);\r\n    System.out.println(String.format(&quot;%,.2f&quot;,result)); \r\n\r\noutput:\r\n10,987,655.88","title":"How can I format a String number to have commas and round?","body":"<p>Here is the simplest way to get there:</p>\n\n<pre><code>String number = \"10987655.876\";\ndouble result = Double.parseDouble(number);\nSystem.out.println(String.format(\"%,.2f\",result)); \n</code></pre>\n\n<p>output:\n10,987,655.88</p>\n"},{"tags":[],"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1537543417,"creation_date":1537543417,"answer_id":52446831,"question_id":3672731,"body_markdown":"Given this is the number one Google result for `format number commas java`, here&#39;s an answer that works for people who are working with whole numbers and don&#39;t care about decimals.\r\n\r\n    String.format(&quot;%,d&quot;, 2000000)\r\n\r\noutputs:\r\n\r\n    2,000,000","title":"How can I format a String number to have commas and round?","body":"<p>Given this is the number one Google result for <code>format number commas java</code>, here's an answer that works for people who are working with whole numbers and don't care about decimals.</p>\n\n<pre><code>String.format(\"%,d\", 2000000)\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>2,000,000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8402463,"reputation":536,"user_id":6307126,"display_name":"TheLastCodeBender"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1674227800,"creation_date":1674227800,"answer_id":75185959,"question_id":3672731,"body_markdown":"According to chartGPT\r\n\r\nUsing DecimalFormat:\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\r\n    String formattedNumber = df.format(yourNumber);\r\n\r\nUsing NumberFormat:\r\n\r\n    NumberFormat nf = NumberFormat.getNumberInstance();\r\n    nf.setGroupingUsed(true);\r\n    String formattedNumber = nf.format(yourNumber);\r\n\r\nUsing String.format():\r\n\r\n    String formattedNumber = String.format(&quot;%,.2f&quot;, yourNumber);\r\n\r\nNote: In all the above examples, &quot;yourNumber&quot; is the double value that you want to format with a comma. The &quot;.2f&quot; in the format string indicates that the decimal places should be rounded to 2 decimal places. You can adjust this value as needed.\r\n","title":"How can I format a String number to have commas and round?","body":"<p>According to chartGPT</p>\n<p>Using DecimalFormat:</p>\n<pre><code>DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\nString formattedNumber = df.format(yourNumber);\n</code></pre>\n<p>Using NumberFormat:</p>\n<pre><code>NumberFormat nf = NumberFormat.getNumberInstance();\nnf.setGroupingUsed(true);\nString formattedNumber = nf.format(yourNumber);\n</code></pre>\n<p>Using String.format():</p>\n<pre><code>String formattedNumber = String.format(&quot;%,.2f&quot;, yourNumber);\n</code></pre>\n<p>Note: In all the above examples, &quot;yourNumber&quot; is the double value that you want to format with a comma. The &quot;.2f&quot; in the format string indicates that the decimal places should be rounded to 2 decimal places. You can adjust this value as needed.</p>\n"}],"owner":{"account_id":10501,"reputation":60221,"user_id":19875,"accept_rate":92,"display_name":"Sheehan Alam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319390,"favorite_count":0,"down_vote_count":0,"up_vote_count":185,"accepted_answer_id":3672738,"answer_count":11,"score":185,"last_activity_date":1674227800,"creation_date":1283989100,"question_id":3672731,"body_markdown":"What is the best way to format the following number that is given to me as a String?\r\n\r\n    String number = &quot;1000500000.574&quot; //assume my value will always be a String\r\n\r\nI want this to be a String with the value: `1,000,500,000.57`\r\n\r\nHow can I format it as such?\r\n\r\n","title":"How can I format a String number to have commas and round?","body":"<p>What is the best way to format the following number that is given to me as a String?</p>\n\n<pre><code>String number = \"1000500000.574\" //assume my value will always be a String\n</code></pre>\n\n<p>I want this to be a String with the value: <code>1,000,500,000.57</code></p>\n\n<p>How can I format it as such?</p>\n"},{"tags":["java","gradle","build.gradle","wrapper"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1669450560,"post_id":74559254,"comment_id":131647061,"body_markdown":"as path implies - there must be a gradle daemon still running. you can kill the process from task manager - usually listed as java. Or restart the machine.","body":"as path implies - there must be a gradle daemon still running. you can kill the process from task manager - usually listed as java. Or restart the machine."}],"answers":[{"tags":[],"owner":{"account_id":343423,"reputation":13,"user_id":7155818,"display_name":"yakkle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674227755,"creation_date":1671092016,"answer_id":74808557,"question_id":74559254,"body_markdown":"When you run gradle with `GRADLE_USER_HOME`, gradle daemon create `registry.bin.lock` on your `GRADLE_USER_HOME/.gradle/daemon/&lt;gradle-version&gt;`. Also, gradle daemon running on background.\r\n\r\nGradle daemon recreate `registry.bin.lock` when lock file deleted.\r\n\r\nIf you want to delete `.gradle` directory, there are two options.\r\n\r\n1. kill gradle daemon before delete `.gradle`\r\n\r\n```\r\n$ jps\r\n91432 Jps\r\n6875\r\n91146 GradleDaemon\r\n$ kill -TERM 91146\r\n```\r\n\r\n2. gradle run without daemon\r\n\r\n```\r\n$ gradle &lt;task&gt; --nodaemon\r\n```\r\n\r\nhttps://docs.gradle.org/current/userguide/gradle_daemon.html#sec:disabling_the_daemon\r\n","title":"Deletion of .gradle Folder in User Directory Recreates Again a File under the name registry.bin.lock","body":"<p>When you run gradle with <code>GRADLE_USER_HOME</code>, gradle daemon create <code>registry.bin.lock</code> on your <code>GRADLE_USER_HOME/.gradle/daemon/&lt;gradle-version&gt;</code>. Also, gradle daemon running on background.</p>\n<p>Gradle daemon recreate <code>registry.bin.lock</code> when lock file deleted.</p>\n<p>If you want to delete <code>.gradle</code> directory, there are two options.</p>\n<ol>\n<li>kill gradle daemon before delete <code>.gradle</code></li>\n</ol>\n<pre><code>$ jps\n91432 Jps\n6875\n91146 GradleDaemon\n$ kill -TERM 91146\n</code></pre>\n<ol start=\"2\">\n<li>gradle run without daemon</li>\n</ol>\n<pre><code>$ gradle &lt;task&gt; --nodaemon\n</code></pre>\n<p><a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:disabling_the_daemon\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:disabling_the_daemon</a></p>\n"},{"tags":[],"owner":{"account_id":20652168,"reputation":48,"user_id":15341782,"display_name":"Kostas_Papad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671199114,"creation_date":1671199114,"answer_id":74825452,"question_id":74559254,"body_markdown":"Check in your task manager if there&#39;s any Java process that runs and stop it. After that, you should be able to delete this file and stop also it&#39;s recreation.","title":"Deletion of .gradle Folder in User Directory Recreates Again a File under the name registry.bin.lock","body":"<p>Check in your task manager if there's any Java process that runs and stop it. After that, you should be able to delete this file and stop also it's recreation.</p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74825452,"answer_count":2,"score":1,"last_activity_date":1674227755,"creation_date":1669285820,"question_id":74559254,"body_markdown":"I am facing a problem with my Gradle Configuration. I want to completely delete my .gradle file but as soon as I do that, the folder gets recreated again only with a file under the name registry.bin.lock. There&#39;s no way for me to delete this file.\r\n\r\nI want to install gradle wrapper again, but since this file existance I am getting the following error: &quot;Error: Unexpected lock protocol found in lock file. Expected 3, found 50&quot;.\r\n\r\nAny advices??? I am providing a picture of the file I am referring to...\r\n\r\n[![Problematic File][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/atkS6.png","title":"Deletion of .gradle Folder in User Directory Recreates Again a File under the name registry.bin.lock","body":"<p>I am facing a problem with my Gradle Configuration. I want to completely delete my .gradle file but as soon as I do that, the folder gets recreated again only with a file under the name registry.bin.lock. There's no way for me to delete this file.</p>\n<p>I want to install gradle wrapper again, but since this file existance I am getting the following error: &quot;Error: Unexpected lock protocol found in lock file. Expected 3, found 50&quot;.</p>\n<p>Any advices??? I am providing a picture of the file I am referring to...</p>\n<p><a href=\"https://i.stack.imgur.com/atkS6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/atkS6.png\" alt=\"Problematic File\" /></a></p>\n"},{"tags":["java","jenkins","groovy","jenkins-plugins","jenkins-groovy"],"owner":{"account_id":17221308,"reputation":11,"user_id":12468015,"display_name":"BVDE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674227655,"creation_date":1674107512,"question_id":75168223,"body_markdown":"We have one tool that is using Jenkins builds.\r\nJenkins was installed based on a system user Ex.ABC123, jobs were configured , and we had some 3 jobs which was given Project-based Matrix Authorization Strategy and only restricted users was having the access.\r\n\r\nBut unfortunately we had to change the password of this system user ABC123 and now the Jenkins is no more accessible.\r\n\r\nI had searched for some solutions , but really didnt get what is required.\r\n\r\nGot some workaround from this [Change the security setting](https://stackoverflow.com/questions/39340322/how-to-reset-the-user-password-of-jenkins-on-windows). With this the security was removed , so the Jenkins was accessible to everyone, which needs to be restricted again like before based on the groups\r\n\r\nI tried to add the groups again , but getting [Group not found error](https://i.stack.imgur.com/bBEYg.png)\r\n\r\nCan anyone help in this to resolve and make the Jenkins working as before","title":"Change Jenkins service user credentials and restart Jenkins with all existing configurations","body":"<p>We have one tool that is using Jenkins builds.\nJenkins was installed based on a system user Ex.ABC123, jobs were configured , and we had some 3 jobs which was given Project-based Matrix Authorization Strategy and only restricted users was having the access.</p>\n<p>But unfortunately we had to change the password of this system user ABC123 and now the Jenkins is no more accessible.</p>\n<p>I had searched for some solutions , but really didnt get what is required.</p>\n<p>Got some workaround from this <a href=\"https://stackoverflow.com/questions/39340322/how-to-reset-the-user-password-of-jenkins-on-windows\">Change the security setting</a>. With this the security was removed , so the Jenkins was accessible to everyone, which needs to be restricted again like before based on the groups</p>\n<p>I tried to add the groups again , but getting <a href=\"https://i.stack.imgur.com/bBEYg.png\" rel=\"nofollow noreferrer\">Group not found error</a></p>\n<p>Can anyone help in this to resolve and make the Jenkins working as before</p>\n"},{"tags":["java","maven","jakarta-mail","noclassdeffounderror"],"comments":[{"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"score":1,"creation_date":1673538791,"post_id":75098885,"comment_id":132526510,"body_markdown":"How did you build the jar file? `mvn clean package`? What if you extract the jar file, is the MessagingException file in there?","body":"How did you build the jar file? <code>mvn clean package</code>? What if you extract the jar file, is the MessagingException file in there?"},{"owner":{"account_id":26070865,"reputation":1,"user_id":19898204,"display_name":"jasonwardenburg"},"score":0,"creation_date":1673547779,"post_id":75098885,"comment_id":132529651,"body_markdown":"was doing `clean install` but changed to `clean package`; same results both ways","body":"was doing <code>clean install</code> but changed to <code>clean package</code>; same results both ways"}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674138991,"creation_date":1673541881,"answer_id":75099641,"question_id":75098885,"body_markdown":"When building a web app, dependencies are, of course, bundled in the .WAR/.EAR.\r\n\r\nHowever, by default, Maven will **not** bundle dependencies inside your .jar file. (In other words, jars will not be put inside of other jars).\r\n\r\nNevertheless, you can use the `jar-with-dependencies` descriptor. More details can be found on the questions below:\r\n\r\nhttps://stackoverflow.com/q/1729054/2657515\r\n\r\nhttps://stackoverflow.com/q/574594/2657515\r\n\r\n----\r\n\r\nAlternatively, you could add the `mail-1.6.2.jar` on the Java classpath like so:\r\n\r\n````shell\r\njava -jar &quot;myjar.jar&quot; -cp &quot;./path/to/mail-1.6.2.jar:./path/to/other.jar&quot;\r\n````\r\n\r\nIt is **not** necessary to create an executable JAR. You can package a regular jar, allow Maven to generate the MANIFEST.MF, making sure to add the regular JAR to the Java classpath, and specify the class with the `main` function on the command line:\r\n\r\n````shell\r\njava -cp &quot;./path/to/mail-1.6.2.jar:./path/to/other.jar:/path/to/myjar.jar&quot; &quot;com.mypackage.MyClass&quot; &quot;param1 param2 etc&quot;\r\n````\r\n\r\n*Please note that [classpath separators are different][2] on Linux (colon) vs Windows (semi-colon)*\r\n\r\n  [2]: https://www.baeldung.com/java-classpath-syntax","title":"maven project java -jar : NoClassDefFoundError: javax/mail/MessagingException","body":"<p>When building a web app, dependencies are, of course, bundled in the .WAR/.EAR.</p>\n<p>However, by default, Maven will <strong>not</strong> bundle dependencies inside your .jar file. (In other words, jars will not be put inside of other jars).</p>\n<p>Nevertheless, you can use the <code>jar-with-dependencies</code> descriptor. More details can be found on the questions below:</p>\n<p><a href=\"https://stackoverflow.com/q/1729054/2657515\">Including dependencies in a jar with Maven</a></p>\n<p><a href=\"https://stackoverflow.com/q/574594/2657515\">How can I create an executable/runnable JAR with dependencies using Maven?</a></p>\n<hr />\n<p>Alternatively, you could add the <code>mail-1.6.2.jar</code> on the Java classpath like so:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar &quot;myjar.jar&quot; -cp &quot;./path/to/mail-1.6.2.jar:./path/to/other.jar&quot;\n</code></pre>\n<p>It is <strong>not</strong> necessary to create an executable JAR. You can package a regular jar, allow Maven to generate the MANIFEST.MF, making sure to add the regular JAR to the Java classpath, and specify the class with the <code>main</code> function on the command line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;./path/to/mail-1.6.2.jar:./path/to/other.jar:/path/to/myjar.jar&quot; &quot;com.mypackage.MyClass&quot; &quot;param1 param2 etc&quot;\n</code></pre>\n<p><em>Please note that <a href=\"https://www.baeldung.com/java-classpath-syntax\" rel=\"nofollow noreferrer\">classpath separators are different</a> on Linux (colon) vs Windows (semi-colon)</em></p>\n"}],"owner":{"account_id":26070865,"reputation":1,"user_id":19898204,"display_name":"jasonwardenburg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674227339,"creation_date":1673538258,"question_id":75098885,"body_markdown":"I have a java project that sends email built with maven (using Eclipse) and it works within Eclipse with no problem, but when trying to package a runnable jar, I am having an issue \r\n\r\n    Error: Unable to initialize main class com.my.package.MyClass\r\n    Caused by: java.lang.NoClassDefFoundError: javax/mail/MessagingException\r\n\r\nI have this for my dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\nand plugins set up like so:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.1&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;phase&gt;package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;shade&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;transformers&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\r\n                &lt;manifestEntries&gt;\r\n                  &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/transformer&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n            &lt;/transformers&gt;\r\n            &lt;filters&gt;\r\n              &lt;filter&gt;\r\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                &lt;excludes&gt;\r\n                  &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                  &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                  &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n              &lt;/filter&gt;\r\n            &lt;/filters&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\nI can see javax.mail-1.6.2.jar in my maven dependencies, so not sure why I am unable to run the jar...is there a config option I missed?\r\n\r\nthanks!\r\n\r\nI searched around and tried numerous variations of the shade and jar plugins, I expected to be able to run the jar off the command line using java -jar myjar.jar. Most of the posts I found in my search recommended adding the mail jar to the classpath, but that looks like it&#39;s already done, as the jar is in the list of maven dependencies. \r\n\r\n\r\n## Update\r\nHave tried multiple variations, as per suggestions below. Tried the `maven-assembly-plugin` making sure to add the `&lt;mainClass&gt;com.etcetera.MyClass&lt;/mainClass&gt;` tag. With those variations I got `no main manifest attribute, in myjar.jar`. I then added in the `maven-jar-plugin` plugin, also adding the main class and I&#39;m now back to the original error. \r\n\r\n## Update2\r\nwhen I open up the archive, I see this:\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: Apache Maven 3.8.4\r\n    Built-By: myUserName\r\n    Build-Jdk: 15\r\n\r\nwhich appears to be missing the `Main-Class: com.javabyexamples.java.jar.HelloWorld` line\r\n\r\n## Resolution\r\n\r\nI resolved the issue by building the project twice in Eclipse: `clean package` and then `clean compile assembly:single`\r\n","title":"maven project java -jar : NoClassDefFoundError: javax/mail/MessagingException","body":"<p>I have a java project that sends email built with maven (using Eclipse) and it works within Eclipse with no problem, but when trying to package a runnable jar, I am having an issue</p>\n<pre><code>Error: Unable to initialize main class com.my.package.MyClass\nCaused by: java.lang.NoClassDefFoundError: javax/mail/MessagingException\n</code></pre>\n<p>I have this for my dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n\n    &lt;/dependency&gt;\n</code></pre>\n<p>and plugins set up like so:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n        &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;transformers&gt;\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n            &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\n            &lt;manifestEntries&gt;\n              &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/transformer&gt;\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n        &lt;/transformers&gt;\n        &lt;filters&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;*:*&lt;/artifact&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n              &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n              &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/filter&gt;\n        &lt;/filters&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I can see javax.mail-1.6.2.jar in my maven dependencies, so not sure why I am unable to run the jar...is there a config option I missed?</p>\n<p>thanks!</p>\n<p>I searched around and tried numerous variations of the shade and jar plugins, I expected to be able to run the jar off the command line using java -jar myjar.jar. Most of the posts I found in my search recommended adding the mail jar to the classpath, but that looks like it's already done, as the jar is in the list of maven dependencies.</p>\n<h2>Update</h2>\n<p>Have tried multiple variations, as per suggestions below. Tried the <code>maven-assembly-plugin</code> making sure to add the <code>&lt;mainClass&gt;com.etcetera.MyClass&lt;/mainClass&gt;</code> tag. With those variations I got <code>no main manifest attribute, in myjar.jar</code>. I then added in the <code>maven-jar-plugin</code> plugin, also adding the main class and I'm now back to the original error.</p>\n<h2>Update2</h2>\n<p>when I open up the archive, I see this:</p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: Apache Maven 3.8.4\nBuilt-By: myUserName\nBuild-Jdk: 15\n</code></pre>\n<p>which appears to be missing the <code>Main-Class: com.javabyexamples.java.jar.HelloWorld</code> line</p>\n<h2>Resolution</h2>\n<p>I resolved the issue by building the project twice in Eclipse: <code>clean package</code> and then <code>clean compile assembly:single</code></p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674209302,"post_id":75182470,"comment_id":132669641,"body_markdown":"Yes, that is quite possible. And it&#39;s not all that difficult. stream -&gt; filter -&gt; findFirst -&gt; if present ...","body":"Yes, that is quite possible. And it&#39;s not all that difficult. stream -&gt; filter -&gt; findFirst -&gt; if present ..."},{"owner":{"account_id":19929498,"reputation":1,"user_id":14603362,"display_name":"lokesh598"},"score":0,"creation_date":1674224425,"post_id":75182470,"comment_id":132674595,"body_markdown":"for (ItemDO item : updateItems.getItemsDO().getItems())\nhow to do if loop given like this @Stultuske.","body":"for (ItemDO item : updateItems.getItemsDO().getItems()) how to do if loop given like this @Stultuske."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674224590,"post_id":75182470,"comment_id":132674656,"body_markdown":"SO is not about handing you custom code. We either put you on the right path, or, if you&#39;ve already tried, help you correct your code. So far, I haven&#39;t even seen you attempt to create a Stream.","body":"SO is not about handing you custom code. We either put you on the right path, or, if you&#39;ve already tried, help you correct your code. So far, I haven&#39;t even seen you attempt to create a Stream."}],"answers":[{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674212447,"creation_date":1674212447,"answer_id":75183130,"question_id":75182470,"body_markdown":"Certainly, you can convert it as follows:\r\n```\r\nOptional&lt;Double&gt; optionFeeAmount = feeList\r\n\t\t\t\t.stream()\r\n\t\t\t\t.filter(fee -&gt; feeType.equalsIgnoreCase(fee.getType()))\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.map(Fees::getAmountFee);\r\n```\r\n\r\nYou can add `orElse(0)` at the end, if you want to return 0 as a default result. Also you can use `findAny()` if the sequence in list doesn&#39;t matter.","title":"How to convert loop into stream, to this java code snippet","body":"<p>Certainly, you can convert it as follows:</p>\n<pre><code>Optional&lt;Double&gt; optionFeeAmount = feeList\n                .stream()\n                .filter(fee -&gt; feeType.equalsIgnoreCase(fee.getType()))\n                .findFirst()\n                .map(Fees::getAmountFee);\n</code></pre>\n<p>You can add <code>orElse(0)</code> at the end, if you want to return 0 as a default result. Also you can use <code>findAny()</code> if the sequence in list doesn't matter.</p>\n"},{"tags":[],"owner":{"account_id":10356325,"reputation":98,"user_id":7638169,"display_name":"Houari Zegai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674227176,"creation_date":1674226729,"answer_id":75185728,"question_id":75182470,"body_markdown":"Yes possible, something like:\r\n\r\n    baseFee = feeList.stream().filter(fee -&gt; fee.getType().equalsIgnoreCase(feeType))\r\n                .map(Fees::getAmountFee)\r\n                .findFirst()\r\n                .orElse(baseFee);\r\n\r\nSolution explanation:\r\n- `filter` function replace the if condition\r\n- `map` function will replace every `Fees` with their `amountFee`\r\n- `findFirst` function will do the same job as `break;` and will return on the first match.\r\n- `orElse` if there is no match I kept the same `baseFee` value\r\n\r\nThe stream API (functional programming) is smart enough in performance meaning that it will not filter everything and then do the map, instead it will do it in its way, with good performance.","title":"How to convert loop into stream, to this java code snippet","body":"<p>Yes possible, something like:</p>\n<pre><code>baseFee = feeList.stream().filter(fee -&gt; fee.getType().equalsIgnoreCase(feeType))\n            .map(Fees::getAmountFee)\n            .findFirst()\n            .orElse(baseFee);\n</code></pre>\n<p>Solution explanation:</p>\n<ul>\n<li><code>filter</code> function replace the if condition</li>\n<li><code>map</code> function will replace every <code>Fees</code> with their <code>amountFee</code></li>\n<li><code>findFirst</code> function will do the same job as <code>break;</code> and will return on the first match.</li>\n<li><code>orElse</code> if there is no match I kept the same <code>baseFee</code> value</li>\n</ul>\n<p>The stream API (functional programming) is smart enough in performance meaning that it will not filter everything and then do the map, instead it will do it in its way, with good performance.</p>\n"}],"owner":{"account_id":19929498,"reputation":1,"user_id":14603362,"display_name":"lokesh598"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674409118,"answer_count":2,"score":-1,"last_activity_date":1674227176,"creation_date":1674209002,"question_id":75182470,"body_markdown":"     for(Fees fee : feeList) {\r\n        if(fee.getType().equalsIgnoreCase(feeType)) {\r\n            baseFee = fee.getAmountFee();\r\n            break;\r\n        }\r\n     }\r\n\r\n\r\nI wanted to know if it&#39;s possible to convert the above example to a single stream where there is a for loop.","title":"How to convert loop into stream, to this java code snippet","body":"<pre><code> for(Fees fee : feeList) {\n    if(fee.getType().equalsIgnoreCase(feeType)) {\n        baseFee = fee.getAmountFee();\n        break;\n    }\n }\n</code></pre>\n<p>I wanted to know if it's possible to convert the above example to a single stream where there is a for loop.</p>\n"},{"tags":["java","json","url"],"comments":[{"owner":{"account_id":157715,"reputation":47893,"user_id":375874,"accept_rate":88,"display_name":"Falmarri"},"score":9,"creation_date":1291068532,"post_id":4308554,"comment_id":4678387,"body_markdown":"The exception handling is required as java forces you to handle any exceptions that are declared. What&#39;s wrong with exception handling?","body":"The exception handling is required as java forces you to handle any exceptions that are declared. What&#39;s wrong with exception handling?"},{"owner":{"account_id":121246,"reputation":899,"user_id":314198,"accept_rate":83,"display_name":"Jonatan Cloutier"},"score":3,"creation_date":1425668087,"post_id":4308554,"comment_id":46070565,"body_markdown":"well, the &quot;java force you&quot; is the biggest problem","body":"well, the &quot;java force you&quot; is the biggest problem"},{"owner":{"account_id":2914500,"reputation":1161,"user_id":2498017,"accept_rate":69,"display_name":"Richard Barker"},"score":9,"creation_date":1436647021,"post_id":4308554,"comment_id":50703957,"body_markdown":"If java didn&#39;t force you to handle exceptions do you think programs would still run and run well? What if I was asked to input my age into a program and I gave snarfleblagger as my input? Should java allow the program to just execute with no issues? If you don&#39;t want to handle exceptions then declare them as being thrown by the methods that they may occur in and watch your program fail when something isn&#39;t perfectly right.","body":"If java didn&#39;t force you to handle exceptions do you think programs would still run and run well? What if I was asked to input my age into a program and I gave snarfleblagger as my input? Should java allow the program to just execute with no issues? If you don&#39;t want to handle exceptions then declare them as being thrown by the methods that they may occur in and watch your program fail when something isn&#39;t perfectly right."},{"owner":{"account_id":220298,"reputation":8130,"user_id":477628,"accept_rate":91,"display_name":"dtbarne"},"score":4,"creation_date":1453155692,"post_id":4308554,"comment_id":57469608,"body_markdown":"Not a dumb question at all. Especially coming from PHP where you can do this with `json_decode(file_get_contents($url));` and be done!","body":"Not a dumb question at all. Especially coming from PHP where you can do this with <code>json_decode(file_get_contents($url));</code> and be done!"}],"answers":[{"tags":[],"owner":{"account_id":35217,"reputation":1999,"user_id":99665,"display_name":"Jon Snyder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521616797,"creation_date":1291068526,"answer_id":4308572,"question_id":4308554,"body_markdown":"Use [HttpClient][1] to grab the contents of the URL.  And then use the library from [json.org][2] to parse the JSON.  I&#39;ve used these two libraries on many projects and they have been robust and simple to use.\r\n\r\nOther than that you can try using a Facebook API java library.  I don&#39;t have any experience in this area, but there is a question on stack overflow related to [using a Facebook API in java][3]. You may want to look at [RestFB][4] as a good choice for a library to use.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/index.html\r\n  [2]: http://json.org\r\n  [3]: https://stackoverflow.com/questions/1360060/facebook-api-and-facebook-connect-using-java\r\n  [4]: http://restfb.com/","title":"Simplest way to read JSON from a URL in Java","body":"<p>Use <a href=\"http://hc.apache.org/httpcomponents-client-ga/index.html\" rel=\"nofollow noreferrer\">HttpClient</a> to grab the contents of the URL.  And then use the library from <a href=\"http://json.org\" rel=\"nofollow noreferrer\">json.org</a> to parse the JSON.  I've used these two libraries on many projects and they have been robust and simple to use.</p>\n\n<p>Other than that you can try using a Facebook API java library.  I don't have any experience in this area, but there is a question on stack overflow related to <a href=\"https://stackoverflow.com/questions/1360060/facebook-api-and-facebook-connect-using-java\">using a Facebook API in java</a>. You may want to look at <a href=\"http://restfb.com/\" rel=\"nofollow noreferrer\">RestFB</a> as a good choice for a library to use.</p>\n"},{"tags":[],"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1291068927,"creation_date":1291068927,"answer_id":4308633,"question_id":4308554,"body_markdown":"I am not sure if this is efficient, but this is one of the possible ways:\r\n\r\nRead json from url use `url.openStream()` and read contents into a string.\r\n\r\nconstruct a JSON object with this string (more at [json.org][1])\r\n\r\n    JSONObject(java.lang.String source)\r\n          Construct a JSONObject from a source JSON text string.\r\n\r\n\r\n  [1]: http://www.json.org/javadoc/org/json/JSONObject.html\r\n\r\n","title":"Simplest way to read JSON from a URL in Java","body":"<p>I am not sure if this is efficient, but this is one of the possible ways:</p>\n\n<p>Read json from url use <code>url.openStream()</code> and read contents into a string.</p>\n\n<p>construct a JSON object with this string (more at <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\" rel=\"nofollow\">json.org</a>)</p>\n\n<pre><code>JSONObject(java.lang.String source)\n      Construct a JSONObject from a source JSON text string.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":2,"up_vote_count":229,"is_accepted":false,"score":227,"last_activity_date":1291069574,"creation_date":1291069156,"answer_id":4308662,"question_id":4308554,"body_markdown":"Using the Maven artifact `org.json:json` I got the following code, which I think is quite short. Not as short as possible, but still usable.\r\n\r\n    package so4308554;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.net.URL;\r\n    import java.nio.charset.Charset;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    public class JsonReader {\r\n    \r\n      private static String readAll(Reader rd) throws IOException {\r\n        StringBuilder sb = new StringBuilder();\r\n        int cp;\r\n        while ((cp = rd.read()) != -1) {\r\n          sb.append((char) cp);\r\n        }\r\n        return sb.toString();\r\n      }\r\n    \r\n      public static JSONObject readJsonFromUrl(String url) throws IOException, JSONException {\r\n        InputStream is = new URL(url).openStream();\r\n        try {\r\n          BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(&quot;UTF-8&quot;)));\r\n          String jsonText = readAll(rd);\r\n          JSONObject json = new JSONObject(jsonText);\r\n          return json;\r\n        } finally {\r\n          is.close();\r\n        }\r\n      }\r\n    \r\n      public static void main(String[] args) throws IOException, JSONException {\r\n        JSONObject json = readJsonFromUrl(&quot;https://graph.facebook.com/19292868552&quot;);\r\n        System.out.println(json.toString());\r\n        System.out.println(json.get(&quot;id&quot;));\r\n      }\r\n    }\r\n","title":"Simplest way to read JSON from a URL in Java","body":"<p>Using the Maven artifact <code>org.json:json</code> I got the following code, which I think is quite short. Not as short as possible, but still usable.</p>\n\n<pre><code>package so4308554;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.net.URL;\nimport java.nio.charset.Charset;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class JsonReader {\n\n  private static String readAll(Reader rd) throws IOException {\n    StringBuilder sb = new StringBuilder();\n    int cp;\n    while ((cp = rd.read()) != -1) {\n      sb.append((char) cp);\n    }\n    return sb.toString();\n  }\n\n  public static JSONObject readJsonFromUrl(String url) throws IOException, JSONException {\n    InputStream is = new URL(url).openStream();\n    try {\n      BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(\"UTF-8\")));\n      String jsonText = readAll(rd);\n      JSONObject json = new JSONObject(jsonText);\n      return json;\n    } finally {\n      is.close();\n    }\n  }\n\n  public static void main(String[] args) throws IOException, JSONException {\n    JSONObject json = readJsonFromUrl(\"https://graph.facebook.com/19292868552\");\n    System.out.println(json.toString());\n    System.out.println(json.get(\"id\"));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":2,"up_vote_count":76,"is_accepted":false,"score":74,"last_activity_date":1291087743,"creation_date":1291087743,"answer_id":4310273,"question_id":4308554,"body_markdown":"Here are couple of alternatives versions with [Jackson][1] (since there are more than one ways you might want data as):\r\n\r\n      ObjectMapper mapper = new ObjectMapper(); // just need one\r\n      // Got a Java class that data maps to nicely? If so:\r\n      FacebookGraph graph = mapper.readValue(url, FaceBookGraph.class);\r\n      // Or: if no class (and don&#39;t need one), just map to Map.class:\r\n      Map&lt;String,Object&gt; map = mapper.readValue(url, Map.class);\r\n\r\nAnd specifically the usual (IMO) case where you want to deal with Java objects, can be made one liner:\r\n\r\n    FacebookGraph graph = new ObjectMapper().readValue(url, FaceBookGraph.class);\r\n\r\nOther libs like Gson also support one-line methods; why many examples show much longer sections is odd. And even worse is that many examples use obsolete org.json library; it may have been the first thing around, but there are half a dozen better alternatives so there is very little reason to use it.\r\n\r\n  [1]: http://jackson.codehaus.org\r\n","title":"Simplest way to read JSON from a URL in Java","body":"<p>Here are couple of alternatives versions with <a href=\"http://jackson.codehaus.org\" rel=\"noreferrer\">Jackson</a> (since there are more than one ways you might want data as):</p>\n\n<pre><code>  ObjectMapper mapper = new ObjectMapper(); // just need one\n  // Got a Java class that data maps to nicely? If so:\n  FacebookGraph graph = mapper.readValue(url, FaceBookGraph.class);\n  // Or: if no class (and don't need one), just map to Map.class:\n  Map&lt;String,Object&gt; map = mapper.readValue(url, Map.class);\n</code></pre>\n\n<p>And specifically the usual (IMO) case where you want to deal with Java objects, can be made one liner:</p>\n\n<pre><code>FacebookGraph graph = new ObjectMapper().readValue(url, FaceBookGraph.class);\n</code></pre>\n\n<p>Other libs like Gson also support one-line methods; why many examples show much longer sections is odd. And even worse is that many examples use obsolete org.json library; it may have been the first thing around, but there are half a dozen better alternatives so there is very little reason to use it.</p>\n"},{"tags":[],"owner":{"account_id":2869195,"reputation":63,"user_id":2462888,"display_name":"Ribin Das"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1393222871,"creation_date":1370685150,"answer_id":16998270,"question_id":4308554,"body_markdown":"I have done the json parser in simplest way, here it is\r\n\r\n    package com.inzane.shoapp.activity;\r\n \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n    import android.util.Log;\r\n\r\n    public class JSONParser {\r\n\r\n\tstatic InputStream is = null;\r\n\tstatic JSONObject jObj = null;\r\n\tstatic String json = &quot;&quot;;\r\n\r\n\t// constructor\r\n\tpublic JSONParser() {\r\n\r\n\t}\r\n\r\n\tpublic JSONObject getJSONFromUrl(String url) {\r\n\r\n\t\t// Making HTTP request\r\n\t\ttry {\r\n\t\t\t// defaultHttpClient\r\n\t\t\tDefaultHttpClient httpClient = new DefaultHttpClient();\r\n\t\t\tHttpPost httpPost = new HttpPost(url);\r\n\r\n\t\t\tHttpResponse httpResponse = httpClient.execute(httpPost);\r\n\t\t\tHttpEntity httpEntity = httpResponse.getEntity();\r\n\t\t\tis = httpEntity.getContent();\r\n\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ClientProtocolException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\tis, &quot;iso-8859-1&quot;), 8);\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t}\r\n\t\t\tis.close();\r\n\t\t\tjson = sb.toString();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tLog.e(&quot;Buffer Error&quot;, &quot;Error converting result &quot; + e.toString());\r\n\t\t}\r\n\r\n\t\t// try parse the string to a JSON object\r\n\t\ttry {\r\n\t\t\tjObj = new JSONObject(json);\r\n\t\t} catch (JSONException e) {\r\n\t\t\tLog.e(&quot;JSON Parser&quot;, &quot;Error parsing data &quot; + e.toString());\r\n\t\t\tSystem.out.println(&quot;error on parse data in jsonparser.java&quot;);\r\n\t\t}\r\n\r\n\t\t// return JSON String\r\n\t\treturn jObj;\r\n\r\n  \t}\r\n    }\r\n\r\nthis class returns the json object from the url\r\n\r\nand when you want the json object you just call this class and the method in your Activity class\r\n\r\nmy code is here\r\n\r\n    String url = &quot;your url&quot;;\r\n    JSONParser jsonParser = new JSONParser();\r\n    JSONObject object = jsonParser.getJSONFromUrl(url);\r\n    String content=object.getString(&quot;json key&quot;);\r\n\r\n\r\nhere the &quot;json key&quot; is denoted that the key in your json file\r\n\r\nthis is a simple json file example\r\n\r\n    {\r\n        &quot;json&quot;:&quot;hi&quot;\r\n    }\r\n\r\nHere &quot;json&quot; is key and &quot;hi&quot; is value\r\n\r\n\r\nThis will get your json value to string content.","title":"Simplest way to read JSON from a URL in Java","body":"<p>I have done the json parser in simplest way, here it is</p>\n\n<pre><code>package com.inzane.shoapp.activity;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.util.Log;\n\npublic class JSONParser {\n\nstatic InputStream is = null;\nstatic JSONObject jObj = null;\nstatic String json = \"\";\n\n// constructor\npublic JSONParser() {\n\n}\n\npublic JSONObject getJSONFromUrl(String url) {\n\n    // Making HTTP request\n    try {\n        // defaultHttpClient\n        DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpPost httpPost = new HttpPost(url);\n\n        HttpResponse httpResponse = httpClient.execute(httpPost);\n        HttpEntity httpEntity = httpResponse.getEntity();\n        is = httpEntity.getContent();\n\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (ClientProtocolException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                is, \"iso-8859-1\"), 8);\n        StringBuilder sb = new StringBuilder();\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line + \"\\n\");\n            System.out.println(line);\n        }\n        is.close();\n        json = sb.toString();\n\n    } catch (Exception e) {\n        Log.e(\"Buffer Error\", \"Error converting result \" + e.toString());\n    }\n\n    // try parse the string to a JSON object\n    try {\n        jObj = new JSONObject(json);\n    } catch (JSONException e) {\n        Log.e(\"JSON Parser\", \"Error parsing data \" + e.toString());\n        System.out.println(\"error on parse data in jsonparser.java\");\n    }\n\n    // return JSON String\n    return jObj;\n\n}\n}\n</code></pre>\n\n<p>this class returns the json object from the url</p>\n\n<p>and when you want the json object you just call this class and the method in your Activity class</p>\n\n<p>my code is here</p>\n\n<pre><code>String url = \"your url\";\nJSONParser jsonParser = new JSONParser();\nJSONObject object = jsonParser.getJSONFromUrl(url);\nString content=object.getString(\"json key\");\n</code></pre>\n\n<p>here the \"json key\" is denoted that the key in your json file</p>\n\n<p>this is a simple json file example</p>\n\n<pre><code>{\n    \"json\":\"hi\"\n}\n</code></pre>\n\n<p>Here \"json\" is key and \"hi\" is value</p>\n\n<p>This will get your json value to string content.</p>\n"},{"tags":[],"owner":{"account_id":3138613,"reputation":957,"user_id":2654569,"display_name":"user2654569"},"down_vote_count":1,"up_vote_count":73,"is_accepted":false,"score":72,"last_activity_date":1530279318,"creation_date":1393128146,"answer_id":21964051,"question_id":4308554,"body_markdown":"The easiest way: \r\nUse gson, google&#39;s own goto json library. https://code.google.com/p/google-gson/\r\n\r\nHere is a sample. I&#39;m going to this free geolocator website and parsing the json and displaying my zipcode. (just put this stuff in a main method to test it out)\r\n\r\n        String sURL = &quot;http://freegeoip.net/json/&quot;; //just a string\r\n\t\t\r\n\t\t// Connect to the URL using java&#39;s native library\r\n\t\tURL url = new URL(sURL);\r\n\t\tURLConnection request = url.openConnection();\r\n\t\trequest.connect();\r\n\t\t\r\n\t\t// Convert to a JSON object to print data\r\n    \tJsonParser jp = new JsonParser(); //from gson\r\n    \tJsonElement root = jp.parse(new InputStreamReader((InputStream) request.getContent())); //Convert the input stream to a json element\r\n    \tJsonObject rootobj = root.getAsJsonObject(); //May be an array, may be an object. \r\n    \tString zipcode = rootobj.get(&quot;zip_code&quot;).getAsString(); //just grab the zipcode","title":"Simplest way to read JSON from a URL in Java","body":"<p>The easiest way: \nUse gson, google's own goto json library. <a href=\"https://code.google.com/p/google-gson/\" rel=\"noreferrer\">https://code.google.com/p/google-gson/</a></p>\n\n<p>Here is a sample. I'm going to this free geolocator website and parsing the json and displaying my zipcode. (just put this stuff in a main method to test it out)</p>\n\n<pre><code>    String sURL = \"http://freegeoip.net/json/\"; //just a string\n\n    // Connect to the URL using java's native library\n    URL url = new URL(sURL);\n    URLConnection request = url.openConnection();\n    request.connect();\n\n    // Convert to a JSON object to print data\n    JsonParser jp = new JsonParser(); //from gson\n    JsonElement root = jp.parse(new InputStreamReader((InputStream) request.getContent())); //Convert the input stream to a json element\n    JsonObject rootobj = root.getAsJsonObject(); //May be an array, may be an object. \n    String zipcode = rootobj.get(\"zip_code\").getAsString(); //just grab the zipcode\n</code></pre>\n"},{"tags":[],"owner":{"account_id":413958,"reputation":1006,"user_id":787902,"accept_rate":67,"display_name":"ezwrighter"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1635324393,"creation_date":1416437459,"answer_id":27028548,"question_id":4308554,"body_markdown":"If you don&#39;t mind using a couple libraries it can be done in a single line.\r\n\r\nInclude [Apache Commons IOUtils][1] &amp; [json.org][2] libraries.\r\n\r\n\r\n    JSONObject json = new JSONObject(IOUtils.toString(new URL(&quot;https://graph.facebook.com/me&quot;), Charset.forName(&quot;UTF-8&quot;)));\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/\r\n  [2]: http://www.json.org/java/\r\n  [2]: https://github.com/stleary/JSON-java","title":"Simplest way to read JSON from a URL in Java","body":"<p>If you don't mind using a couple libraries it can be done in a single line.</p>\n<p>Include <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons IOUtils</a> &amp; <a href=\"http://www.json.org/java/\" rel=\"nofollow noreferrer\">json.org</a> libraries.</p>\n<pre><code>JSONObject json = new JSONObject(IOUtils.toString(new URL(&quot;https://graph.facebook.com/me&quot;), Charset.forName(&quot;UTF-8&quot;)));\n</code></pre>\n<p>Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-io&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n  &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1620655539,"creation_date":1489344529,"answer_id":42751620,"question_id":4308554,"body_markdown":"It&#39;s very easy, using jersey-client, just include this maven dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n  &lt;version&gt;2.25.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen invoke it using this example:\r\n\r\n```lang-java\r\nString json = ClientBuilder.newClient().target(&quot;http://api.coindesk.com/v1/bpi/currentprice.json&quot;).request().accept(MediaType.APPLICATION_JSON).get(String.class);\r\n```\r\n\r\nThen use Google&#39;s Gson to parse the JSON:\r\n\r\n```lang-java\r\nGson gson = new Gson();\r\nType gm = new TypeToken&lt;CoinDeskMessage&gt;() {}.getType();\r\nCoinDeskMessage cdm = gson.fromJson(json, gm);\r\n```\r\n","title":"Simplest way to read JSON from a URL in Java","body":"<p>It's very easy, using jersey-client, just include this maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n  &lt;version&gt;2.25.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then invoke it using this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = ClientBuilder.newClient().target(&quot;http://api.coindesk.com/v1/bpi/currentprice.json&quot;).request().accept(MediaType.APPLICATION_JSON).get(String.class);\n</code></pre>\n<p>Then use Google's Gson to parse the JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nType gm = new TypeToken&lt;CoinDeskMessage&gt;() {}.getType();\nCoinDeskMessage cdm = gson.fromJson(json, gm);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":445017,"reputation":1103,"user_id":837189,"display_name":"scott"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1576041216,"creation_date":1576041216,"answer_id":59279251,"question_id":4308554,"body_markdown":"I wanted to add an updated answer here since (somewhat) recent updates to the JDK have made it a bit easier to read the contents of an HTTP URL.\r\nLike others have said, you&#39;ll still need to use a JSON library to do the parsing, since the JDK doesn&#39;t currently contain one. \r\nHere are a few of the most commonly used JSON libraries for Java:\r\n\r\n* [org.JSON][1]\r\n* [FasterXML Jackson][2]\r\n* [GSON][3]\r\n\r\n\r\n\r\nTo retrieve JSON from a URL, this seems to be the simplest way using strictly JDK classes (but probably not something you&#39;d want to do for large payloads), Java 9 introduced: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#readAllBytes()\r\n\r\n\r\n```java\r\ntry(java.io.InputStream is = new java.net.URL(&quot;https://graph.facebook.com/me&quot;).openStream()) {\r\n    String contents = new String(is.readAllBytes());\r\n}\r\n```\r\n\r\nTo parse the JSON using the GSON library, for example\r\n\r\n```java\r\ncom.google.gson.JsonElement element = com.google.gson.JsonParser.parseString(contents); //from &#39;com.google.code.gson:gson:2.8.6&#39;\r\n```\r\n\r\n  [1]: https://stleary.github.io/JSON-java/\r\n  [2]: https://github.com/FasterXML/jackson\r\n  [3]: https://github.com/google/gson","title":"Simplest way to read JSON from a URL in Java","body":"<p>I wanted to add an updated answer here since (somewhat) recent updates to the JDK have made it a bit easier to read the contents of an HTTP URL.\nLike others have said, you'll still need to use a JSON library to do the parsing, since the JDK doesn't currently contain one. \nHere are a few of the most commonly used JSON libraries for Java:</p>\n\n<ul>\n<li><a href=\"https://stleary.github.io/JSON-java/\" rel=\"nofollow noreferrer\">org.JSON</a></li>\n<li><a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">FasterXML Jackson</a></li>\n<li><a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a></li>\n</ul>\n\n<p>To retrieve JSON from a URL, this seems to be the simplest way using strictly JDK classes (but probably not something you'd want to do for large payloads), Java 9 introduced: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#readAllBytes()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#readAllBytes()</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try(java.io.InputStream is = new java.net.URL(\"https://graph.facebook.com/me\").openStream()) {\n    String contents = new String(is.readAllBytes());\n}\n</code></pre>\n\n<p>To parse the JSON using the GSON library, for example</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>com.google.gson.JsonElement element = com.google.gson.JsonParser.parseString(contents); //from 'com.google.code.gson:gson:2.8.6'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13303863,"reputation":483,"user_id":9604444,"display_name":"mastercool"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583094636,"creation_date":1583094636,"answer_id":60479478,"question_id":4308554,"body_markdown":"I have found this to be the easiest way by far.\r\n\r\nUse this method:\r\n\r\n```    \r\npublic static String getJSON(String url) {\r\n        HttpsURLConnection con = null;\r\n        try {\r\n            URL u = new URL(url);\r\n            con = (HttpsURLConnection) u.openConnection();\r\n\r\n            con.connect();\r\n\r\n\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n            StringBuilder sb = new StringBuilder();\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                sb.append(line + &quot;\\n&quot;);\r\n            }\r\n            br.close();\r\n            return sb.toString();\r\n\r\n\r\n        } catch (MalformedURLException ex) {\r\n            ex.printStackTrace();\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        } finally {\r\n            if (con != null) {\r\n                try {\r\n                    con.disconnect();\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nAnd use it like this:\r\n\r\n```\r\nString json = getJSON(url);\r\nJSONObject obj;\r\n   try {\r\n         obj = new JSONObject(json);\r\n         JSONArray results_arr = obj.getJSONArray(&quot;results&quot;);\r\n         final int n = results_arr.length();\r\n            for (int i = 0; i &lt; n; ++i) {\r\n                // get the place id of each object in JSON (Google Search API)\r\n                String place_id = results_arr.getJSONObject(i).getString(&quot;place_id&quot;);\r\n            }\r\n           \r\n\r\n   }","title":"Simplest way to read JSON from a URL in Java","body":"<p>I have found this to be the easiest way by far.</p>\n\n<p>Use this method:</p>\n\n<pre><code>public static String getJSON(String url) {\n        HttpsURLConnection con = null;\n        try {\n            URL u = new URL(url);\n            con = (HttpsURLConnection) u.openConnection();\n\n            con.connect();\n\n\n            BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            StringBuilder sb = new StringBuilder();\n            String line;\n            while ((line = br.readLine()) != null) {\n                sb.append(line + \"\\n\");\n            }\n            br.close();\n            return sb.toString();\n\n\n        } catch (MalformedURLException ex) {\n            ex.printStackTrace();\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        } finally {\n            if (con != null) {\n                try {\n                    con.disconnect();\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n        return null;\n    }\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>String json = getJSON(url);\nJSONObject obj;\n   try {\n         obj = new JSONObject(json);\n         JSONArray results_arr = obj.getJSONArray(\"results\");\n         final int n = results_arr.length();\n            for (int i = 0; i &lt; n; ++i) {\n                // get the place id of each object in JSON (Google Search API)\n                String place_id = results_arr.getJSONObject(i).getString(\"place_id\");\n            }\n\n\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589700718,"creation_date":1589699396,"answer_id":61848187,"question_id":4308554,"body_markdown":"Here&#39;s a full sample of how to parse Json content. The example takes the Android versions statistics (found from Android Studio source code [**here**][1], which links to [**here**][2]).\r\n\r\nCopy the &quot;distributions.json&quot; file you get from there into res/raw, as a fallback.\r\n\r\n**build.gradle**\r\n```\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n```\r\n**manifest**\r\n```\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```\r\n\r\n**MainActivity.kt**\r\n```kt\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        if (savedInstanceState != null)\r\n            return\r\n        thread {\r\n            // https://cs.android.com/android/platform/superproject/+/studio-master-dev:tools/adt/idea/android/src/com/android/tools/idea/stats/DistributionService.java\r\n            var root: JsonArray\r\n            Log.d(&quot;AppLog&quot;, &quot;loading...&quot;)\r\n            try {\r\n                HttpURLConnection.setFollowRedirects(true)\r\n                val statsUrl = &quot;https://dl.google.com/android/studio/metadata/distributions.json&quot; //just a string\r\n                val url = URL(statsUrl)\r\n                val request: HttpURLConnection = url.openConnection() as HttpURLConnection\r\n                request.connectTimeout = 3000\r\n                request.connect()\r\n                InputStreamReader(request.content as InputStream).use {\r\n                    root = JsonParser.parseReader(it).asJsonArray\r\n                }\r\n            } catch (e: Exception) {\r\n                Log.d(&quot;AppLog&quot;, &quot;error while loading from Internet, so using fallback&quot;)\r\n                e.printStackTrace()\r\n                InputStreamReader(resources.openRawResource(R.raw.distributions)).use {\r\n                    root = JsonParser.parseReader(it).asJsonArray\r\n                }\r\n            }\r\n            val decimalFormat = DecimalFormat(&quot;0.00&quot;)\r\n            Log.d(&quot;AppLog&quot;, &quot;result:&quot;)\r\n\r\n            root.forEach {\r\n                val androidVersionInfo = it.asJsonObject\r\n                val versionNickName = androidVersionInfo.get(&quot;name&quot;).asString\r\n                val versionName = androidVersionInfo.get(&quot;version&quot;).asString\r\n                val versionApiLevel = androidVersionInfo.get(&quot;apiLevel&quot;).asInt\r\n                val marketSharePercentage = androidVersionInfo.get(&quot;distributionPercentage&quot;).asFloat * 100f\r\n                Log.d(&quot;AppLog&quot;, &quot;\\&quot;$versionNickName\\&quot; - $versionName - API$versionApiLevel - ${decimalFormat.format(marketSharePercentage)}%&quot;)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs alternative to the dependency, you can also use this instead:\r\n\r\n```kt\r\nInputStreamReader(request.content as InputStream).use {\r\n    val jsonArray = JSONArray(it.readText())\r\n}\r\n```\r\n\r\nand the fallback:\r\n\r\n```kt\r\nInputStreamReader(resources.openRawResource(R.raw.distributions)).use {\r\n    val jsonArray = JSONArray(it.readText())\r\n}\r\n```\r\n\r\nThe result of running this:\r\n\r\n```\r\nloading...\r\nresult:\r\n&quot;Ice Cream Sandwich&quot; - 4.0 - API15 - 0.20%\r\n&quot;Jelly Bean&quot; - 4.1 - API16 - 0.60%\r\n&quot;Jelly Bean&quot; - 4.2 - API17 - 0.80%\r\n&quot;Jelly Bean&quot; - 4.3 - API18 - 0.30%\r\n&quot;KitKat&quot; - 4.4 - API19 - 4.00%\r\n&quot;Lollipop&quot; - 5.0 - API21 - 1.80%\r\n&quot;Lollipop&quot; - 5.1 - API22 - 7.40%\r\n&quot;Marshmallow&quot; - 6.0 - API23 - 11.20%\r\n&quot;Nougat&quot; - 7.0 - API24 - 7.50%\r\n&quot;Nougat&quot; - 7.1 - API25 - 5.40%\r\n&quot;Oreo&quot; - 8.0 - API26 - 7.30%\r\n&quot;Oreo&quot; - 8.1 - API27 - 14.00%\r\n&quot;Pie&quot; - 9.0 - API28 - 31.30%\r\n&quot;Android 10&quot; - 10.0 - API29 - 8.20%\r\n```\r\n\r\n  [1]: https://cs.android.com/android/platform/superproject/+/studio-master-dev:tools/adt/idea/android/src/com/android/tools/idea/stats/DistributionService.java\r\n  [2]: https://dl.google.com/android/studio/metadata/distributions.json","title":"Simplest way to read JSON from a URL in Java","body":"<p>Here's a full sample of how to parse Json content. The example takes the Android versions statistics (found from Android Studio source code <a href=\"https://cs.android.com/android/platform/superproject/+/studio-master-dev:tools/adt/idea/android/src/com/android/tools/idea/stats/DistributionService.java\" rel=\"nofollow noreferrer\"><strong>here</strong></a>, which links to <a href=\"https://dl.google.com/android/studio/metadata/distributions.json\" rel=\"nofollow noreferrer\"><strong>here</strong></a>).</p>\n\n<p>Copy the \"distributions.json\" file you get from there into res/raw, as a fallback.</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>    implementation 'com.google.code.gson:gson:2.8.6'\n</code></pre>\n\n<p><strong>manifest</strong></p>\n\n<pre><code>  &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        if (savedInstanceState != null)\n            return\n        thread {\n            // https://cs.android.com/android/platform/superproject/+/studio-master-dev:tools/adt/idea/android/src/com/android/tools/idea/stats/DistributionService.java\n            var root: JsonArray\n            Log.d(\"AppLog\", \"loading...\")\n            try {\n                HttpURLConnection.setFollowRedirects(true)\n                val statsUrl = \"https://dl.google.com/android/studio/metadata/distributions.json\" //just a string\n                val url = URL(statsUrl)\n                val request: HttpURLConnection = url.openConnection() as HttpURLConnection\n                request.connectTimeout = 3000\n                request.connect()\n                InputStreamReader(request.content as InputStream).use {\n                    root = JsonParser.parseReader(it).asJsonArray\n                }\n            } catch (e: Exception) {\n                Log.d(\"AppLog\", \"error while loading from Internet, so using fallback\")\n                e.printStackTrace()\n                InputStreamReader(resources.openRawResource(R.raw.distributions)).use {\n                    root = JsonParser.parseReader(it).asJsonArray\n                }\n            }\n            val decimalFormat = DecimalFormat(\"0.00\")\n            Log.d(\"AppLog\", \"result:\")\n\n            root.forEach {\n                val androidVersionInfo = it.asJsonObject\n                val versionNickName = androidVersionInfo.get(\"name\").asString\n                val versionName = androidVersionInfo.get(\"version\").asString\n                val versionApiLevel = androidVersionInfo.get(\"apiLevel\").asInt\n                val marketSharePercentage = androidVersionInfo.get(\"distributionPercentage\").asFloat * 100f\n                Log.d(\"AppLog\", \"\\\"$versionNickName\\\" - $versionName - API$versionApiLevel - ${decimalFormat.format(marketSharePercentage)}%\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>As alternative to the dependency, you can also use this instead:</p>\n\n<pre><code>InputStreamReader(request.content as InputStream).use {\n    val jsonArray = JSONArray(it.readText())\n}\n</code></pre>\n\n<p>and the fallback:</p>\n\n<pre><code>InputStreamReader(resources.openRawResource(R.raw.distributions)).use {\n    val jsonArray = JSONArray(it.readText())\n}\n</code></pre>\n\n<p>The result of running this:</p>\n\n<pre><code>loading...\nresult:\n\"Ice Cream Sandwich\" - 4.0 - API15 - 0.20%\n\"Jelly Bean\" - 4.1 - API16 - 0.60%\n\"Jelly Bean\" - 4.2 - API17 - 0.80%\n\"Jelly Bean\" - 4.3 - API18 - 0.30%\n\"KitKat\" - 4.4 - API19 - 4.00%\n\"Lollipop\" - 5.0 - API21 - 1.80%\n\"Lollipop\" - 5.1 - API22 - 7.40%\n\"Marshmallow\" - 6.0 - API23 - 11.20%\n\"Nougat\" - 7.0 - API24 - 7.50%\n\"Nougat\" - 7.1 - API25 - 5.40%\n\"Oreo\" - 8.0 - API26 - 7.30%\n\"Oreo\" - 8.1 - API27 - 14.00%\n\"Pie\" - 9.0 - API28 - 31.30%\n\"Android 10\" - 10.0 - API29 - 8.20%\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2393086,"reputation":296,"user_id":2092546,"accept_rate":100,"display_name":"swbergmann"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674227032,"creation_date":1674227032,"answer_id":75185799,"question_id":4308554,"body_markdown":"The Oracle Documentation describes how\r\n\r\n 1. an [HttpRequest][1] is built and then \r\n 2. sent by the HttpClient to the URL\r\n\r\nin just a few lines of code, by **using only the Java Class Library**. Put this code into your main method:\r\n\r\n    HttpClient client = HttpClient.newHttpClient();\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n          .uri(URI.create(&quot;http://example.com/&quot;))\r\n          .build();\r\n    client.sendAsync(request, BodyHandlers.ofString())\r\n          .thenApply(HttpResponse::body)\r\n          .thenAccept(System.out::println)\r\n          .join();\r\n\r\nThe response consists of a JSON object { ... } and can be further processed in your application.\r\nHere I printed it to the console, just to confirm it works:\r\n\r\n    System.out.println(request);\r\n\r\nThis is available for Java Versions 11+\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html","title":"Simplest way to read JSON from a URL in Java","body":"<p>The Oracle Documentation describes how</p>\n<ol>\n<li>an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html\" rel=\"noreferrer\">HttpRequest</a> is built and then</li>\n<li>sent by the HttpClient to the URL</li>\n</ol>\n<p>in just a few lines of code, by <strong>using only the Java Class Library</strong>. Put this code into your main method:</p>\n<pre><code>HttpClient client = HttpClient.newHttpClient();\nHttpRequest request = HttpRequest.newBuilder()\n      .uri(URI.create(&quot;http://example.com/&quot;))\n      .build();\nclient.sendAsync(request, BodyHandlers.ofString())\n      .thenApply(HttpResponse::body)\n      .thenAccept(System.out::println)\n      .join();\n</code></pre>\n<p>The response consists of a JSON object { ... } and can be further processed in your application.\nHere I printed it to the console, just to confirm it works:</p>\n<pre><code>System.out.println(request);\n</code></pre>\n<p>This is available for Java Versions 11+</p>\n"}],"owner":{"account_id":680309,"reputation":4589,"user_id":524423,"display_name":"Pomponius"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619836,"favorite_count":0,"down_vote_count":0,"up_vote_count":290,"answer_count":12,"score":290,"last_activity_date":1674227032,"creation_date":1291068325,"question_id":4308554,"body_markdown":"This might be a dumb question but what is the simplest way to read and parse **JSON** from **URL** in **Java**?\r\n\r\nIn Groovy, it&#39;s a matter of few lines of code. Java examples that I find are ridiculously long (and have huge exception handling block).\r\n\r\nAll I want to do is to read the content of [this link][1].\r\n\r\n\r\n  [1]: https://graph.facebook.com/me","title":"Simplest way to read JSON from a URL in Java","body":"<p>This might be a dumb question but what is the simplest way to read and parse <strong>JSON</strong> from <strong>URL</strong> in <strong>Java</strong>?</p>\n\n<p>In Groovy, it's a matter of few lines of code. Java examples that I find are ridiculously long (and have huge exception handling block).</p>\n\n<p>All I want to do is to read the content of <a href=\"https://graph.facebook.com/me\">this link</a>.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27580662,"reputation":1,"user_id":21049961,"display_name":"Shayna K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674226953,"creation_date":1674220288,"question_id":75184471,"body_markdown":"I am making an app in Android Studio in Java and one of the codes is when volume up button triggered(action key up) device should vibrate.\r\nIt works if I hold volume button for like 500 milliseconds and then release it, but on quick press on volume button it doesn&#39;t work.\r\n\r\nI use volume up trigger. if I hold the volume button down for like 500 millisecond and then release it vibration works, but If I just quickly push volume button other things works but vibration doesn&#39;t.\r\n\r\nthe code:\r\n```java\r\nswitch (keycode) {\r\n            case `your text`KeyEvent.KEYCODE_VOLUME_UP:\r\n                if `your text`(KeyEvent.ACTION_UP == action) {\r\n\r\n                    vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);\r\n                    count++;\r\n                    String num = String.valueOf(count);\r\n                    Number.setText(num);\r\n\r\n\r\n                    {\r\n                        if (count == 1) {\r\n                            vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);\r\n                            final long[] pattern1 = {0, 200, 0,};\r\n                            vibrator.vibrate(pattern1, -1);\r\n```\r\nChanging action up to action down causes another problem which if I hold the button the code continuously runs.\r\n\r\nI tried changing action up to action down but caused another problem. I don&#39;t want the code to constantly run if volume key is hold down.","title":"Vibration command doesn&#39;t work on quick volume button press","body":"<p>I am making an app in Android Studio in Java and one of the codes is when volume up button triggered(action key up) device should vibrate.\nIt works if I hold volume button for like 500 milliseconds and then release it, but on quick press on volume button it doesn't work.</p>\n<p>I use volume up trigger. if I hold the volume button down for like 500 millisecond and then release it vibration works, but If I just quickly push volume button other things works but vibration doesn't.</p>\n<p>the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (keycode) {\n            case `your text`KeyEvent.KEYCODE_VOLUME_UP:\n                if `your text`(KeyEvent.ACTION_UP == action) {\n\n                    vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);\n                    count++;\n                    String num = String.valueOf(count);\n                    Number.setText(num);\n\n\n                    {\n                        if (count == 1) {\n                            vibrator = (Vibrator) getSystemService(VIBRATOR_SERVICE);\n                            final long[] pattern1 = {0, 200, 0,};\n                            vibrator.vibrate(pattern1, -1);\n</code></pre>\n<p>Changing action up to action down causes another problem which if I hold the button the code continuously runs.</p>\n<p>I tried changing action up to action down but caused another problem. I don't want the code to constantly run if volume key is hold down.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1674229202,"post_id":75185224,"comment_id":132676525,"body_markdown":"I suppose you can paint the racetrack, car, and scenery in that order.  The part of the car outside the racetrack will be overpainted by the scenery.","body":"I suppose you can paint the racetrack, car, and scenery in that order.  The part of the car outside the racetrack will be overpainted by the scenery."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674226845,"creation_date":1674226845,"answer_id":75185759,"question_id":75185224,"body_markdown":"The way to only show the part that is inside the racetrack is to set the clipping value on the graphics object\r\n\r\n    public void paintComponent(Graphics g) {\r\n      g.setClip(trackPath2D);\r\n      g.setColor(...);\r\n      g.fillRect(...); // also can use graphics2D.fill with the rectangle shape\r\n    }\r\n\r\nI don&#39;t know of a way that you could calculate the percentage of the rectangle that fits inside a general path2D","title":"How to find out the percentage of intersection between a Rectangle and a Path2D","body":"<p>The way to only show the part that is inside the racetrack is to set the clipping value on the graphics object</p>\n<pre><code>public void paintComponent(Graphics g) {\n  g.setClip(trackPath2D);\n  g.setColor(...);\n  g.fillRect(...); // also can use graphics2D.fill with the rectangle shape\n}\n</code></pre>\n<p>I don't know of a way that you could calculate the percentage of the rectangle that fits inside a general path2D</p>\n"}],"owner":{"account_id":26609029,"reputation":23,"user_id":20264009,"display_name":"B&#252;ni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674226845,"creation_date":1674224166,"question_id":75185224,"body_markdown":"I am trying to make an online game out of an old boardgame called ADAC Simulator. I am trying to create the map with a inner and outer curve using path2d. Is there a way to find out if a certain rectangle is more than 50% in the racetrack (pink area)? If so, is it also possible to paint that rectangle only the part which is inside the track and not the whole rectangle?\r\n\r\nHere a picture of the gameboard so far. The red line is a Path2d and the green ones are Rectangle.\r\n\r\n[gameboard][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DhOTB.png\r\n\r\n","title":"How to find out the percentage of intersection between a Rectangle and a Path2D","body":"<p>I am trying to make an online game out of an old boardgame called ADAC Simulator. I am trying to create the map with a inner and outer curve using path2d. Is there a way to find out if a certain rectangle is more than 50% in the racetrack (pink area)? If so, is it also possible to paint that rectangle only the part which is inside the track and not the whole rectangle?</p>\n<p>Here a picture of the gameboard so far. The red line is a Path2d and the green ones are Rectangle.</p>\n<p><a href=\"https://i.stack.imgur.com/DhOTB.png\" rel=\"nofollow noreferrer\">gameboard</a></p>\n"},{"tags":["java","spring-boot","unit-testing","junit","junit4"],"answers":[{"tags":[],"owner":{"account_id":7025825,"reputation":1450,"user_id":5383238,"accept_rate":60,"display_name":"Abdur Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674226687,"creation_date":1674226687,"answer_id":75185717,"question_id":72894042,"body_markdown":"You can write test code for Cache as follow:\r\n   \r\n    @Test\r\n    public void testEvictAllCaches() {\r\n          Cache cache = Mockito.mock(Cache.class);\r\n          when(cacheManager.getCacheNames()).thenReturn(List.of(&quot;cacheName1&quot;, &quot;cacheName2&quot;));\r\n          Mockito.when(cacheManager.getCache(anyString())).thenReturn(cache);\r\n          AdminResponse adminResponse = testCachingService.evictAllCaches();\r\n          assertEquals(&quot;ok&quot;, adminResponse.getMessage());\r\n         }","title":"How to write unit test for clear all cache using cache manager","body":"<p>You can write test code for Cache as follow:</p>\n<pre><code>@Test\npublic void testEvictAllCaches() {\n      Cache cache = Mockito.mock(Cache.class);\n      when(cacheManager.getCacheNames()).thenReturn(List.of(&quot;cacheName1&quot;, &quot;cacheName2&quot;));\n      Mockito.when(cacheManager.getCache(anyString())).thenReturn(cache);\n      AdminResponse adminResponse = testCachingService.evictAllCaches();\n      assertEquals(&quot;ok&quot;, adminResponse.getMessage());\n     }\n</code></pre>\n"}],"owner":{"account_id":8411933,"reputation":2522,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674226687,"creation_date":1657179908,"question_id":72894042,"body_markdown":"I have a method that evicts all the caches. PFB code for same:\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.admin.AdminResponse;\r\n\r\n@Service\r\npublic class CachingService {\r\n\t\r\n\tprivate final static Logger logger = LoggerFactory.getLogger(CachingService.class);\r\n\r\n\t@Autowired\r\n\tprotected CacheManager cacheManager;\r\n\t\r\n\tpublic AdminResponse evictAllCaches() {\r\n\t\tlogger.info(&quot;Start - Clearing of cache&quot;);\r\n\t\tcacheManager.getCacheNames().parallelStream()\r\n\t      .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\r\n\t\t\t\r\n\t\tAdminResponse adminResponse = new AdminResponse();\r\n\t\tadminResponse.setMessage(&quot;ok&quot;);\r\n\t\tlogger.info(&quot;End - Clearing of cache&quot;);\r\n\t\treturn adminResponse;\r\n\t}\r\n}\r\n```\r\nBelow is the unit test I&#39;m trying to write:\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.cache.Cache;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\nimport com.admin.AdminResponse;\r\n\r\n@ExtendWith(SpringExtension.class)\r\npublic class CachingServiceTest {\r\n\t\r\n\t@InjectMocks\r\n\tprivate CachingService testCachingService;\r\n\r\n\t@Mock\r\n\tprotected CacheManager cacheManager;\r\n\t\r\n\t@Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\t\r\n\t@Test\r\n\tpublic void testEvictAllCaches() {\r\n\t\tAdminResponse adminResponse = testCachingService.evictAllCaches();\r\n\t\tassertEquals(&quot;ok&quot;, adminResponse.getMessage());\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nI&#39;m unable to understand how to write unit tests for code \r\n```\r\ncacheManager.getCacheNames().parallelStream()\r\n\t      .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\r\n```\r\nCan someone please help? Thank you for your time!","title":"How to write unit test for clear all cache using cache manager","body":"<p>I have a method that evicts all the caches. PFB code for same:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.stereotype.Service;\n\nimport com.admin.AdminResponse;\n\n@Service\npublic class CachingService {\n    \n    private final static Logger logger = LoggerFactory.getLogger(CachingService.class);\n\n    @Autowired\n    protected CacheManager cacheManager;\n    \n    public AdminResponse evictAllCaches() {\n        logger.info(&quot;Start - Clearing of cache&quot;);\n        cacheManager.getCacheNames().parallelStream()\n          .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\n            \n        AdminResponse adminResponse = new AdminResponse();\n        adminResponse.setMessage(&quot;ok&quot;);\n        logger.info(&quot;End - Clearing of cache&quot;);\n        return adminResponse;\n    }\n}\n</code></pre>\n<p>Below is the unit test I'm trying to write:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.cache.Cache;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\nimport com.admin.AdminResponse;\n\n@ExtendWith(SpringExtension.class)\npublic class CachingServiceTest {\n    \n    @InjectMocks\n    private CachingService testCachingService;\n\n    @Mock\n    protected CacheManager cacheManager;\n    \n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n    \n    @Test\n    public void testEvictAllCaches() {\n        AdminResponse adminResponse = testCachingService.evictAllCaches();\n        assertEquals(&quot;ok&quot;, adminResponse.getMessage());\n    }\n    \n}\n</code></pre>\n<p>I'm unable to understand how to write unit tests for code</p>\n<pre><code>cacheManager.getCacheNames().parallelStream()\n          .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\n</code></pre>\n<p>Can someone please help? Thank you for your time!</p>\n"},{"tags":["java","linux","spring-boot","elasticsearch","spring-data-elasticsearch"],"owner":{"account_id":12051482,"reputation":85,"user_id":9545377,"display_name":"SpaceSloth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674226546,"creation_date":1674226546,"question_id":75185688,"body_markdown":"I have a server that I connect to through `&lt;Server-IP-Address&gt;:22226`, my springboot app uses port 8099, while elasticsearch is installed on docker on the same server but with port 9200. Here is how I set up my config file related to elasticsearch.\r\n\r\n- springboot version: `2.6.3`, \r\n- Elasticsearch Server version: `8.6.0`,\r\n- spring boot starter data elasticsearch version: `2.6.3`\r\n- spring data elasticsearch version: `4.3.1` (comes included with spring boot start data elasticsearch version)\r\n\r\n\r\n\r\n**application-development.yml**\r\n\r\n      elasticsearch:\r\n       client:\r\n        certificate: MIIFWTCCA0GgAwIBAgIUGvdgD......jXvCY7poc= *(shortened for bravity)*\r\n        host: localhost:9200\r\n        username: elastic\r\n        password: GGAqcbLXobR8-eQjrRT2\r\n\r\nThe certificate I got from elasticsearch server by using this command to generate the `http_ca.crt`:\r\n\r\n    docker cp esdemo01:/usr/share/elasticsearch/config/certs/http_ca.crt .\r\n\r\n**ElasticsearchConfig.class:**\r\n\r\nHere is the ElasticsearchConfig class, which is based on the answer to my other question: \r\nhttps://stackoverflow.com/questions/75081596/how-to-configure-security-in-elasticsearch-8-5-3-using-starter-data-elasticsearc/75083512?noredirect=1#comment132499643_75083512\r\n\r\n    @Configuration\r\n    @Log4j2\r\n\r\n    public class ElasticsearchConfig extends AbstractReactiveElasticsearchConfiguration\r\n\r\n    {\r\n\t@NotBlank\r\n\t@Value(&quot;${spring.elasticsearch.client.certificate}&quot;)\r\n\tprivate String certificateBase64;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.client.host}&quot;)\r\n\tprivate String host;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.client.username}&quot;)\r\n\tprivate String username;\r\n\r\n\t@Value(&quot;${spring.elasticsearch.client.password}&quot;)\r\n\tprivate String password;\r\n\r\n\t@Override\r\n\tpublic @NonNull ReactiveElasticsearchClient reactiveElasticsearchClient()\r\n\t{\r\n\r\n\t\tfinal ClientConfiguration clientConfiguration;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tclientConfiguration = ClientConfiguration.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .connectedTo(host)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .usingSsl(getSSLContext(decodeCertificateBase64(certificateBase64)))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .withBasicAuth(username, password)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .build();\r\n\t\t}\r\n\t\tcatch(ElasticsearchException e)\r\n\t\t{\r\n\t\t\tlog.error(&quot;Error while creating elasticsearch client configuration &quot;, e);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\r\n\t\treturn ReactiveRestClients.create(clientConfiguration);\r\n\t}\r\n\r\n\tprivate SSLContext getSSLContext(final byte[] decodedCertificate) throws ElasticsearchException\r\n\t{\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\r\n\t\t\tCertificate ca;\r\n\t\t\ttry(InputStream certificateInputStream = new ByteArrayInputStream(decodedCertificate))\r\n\t\t\t{\r\n\t\t\t\tca = cf.generateCertificate(certificateInputStream);\r\n\t\t\t}\r\n\r\n\t\t\tString keyStoreType = &quot;pkcs12&quot;;\r\n\t\t\tKeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n\t\t\tkeyStore.load(null, null);\r\n\t\t\tkeyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n\r\n\t\t\tSSLContextBuilder sslContextBuilder = SSLContexts.custom()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t .loadTrustMaterial(keyStore, null);\r\n\t\t\tfinal SSLContext sslContext = sslContextBuilder.build();\r\n\r\n\t\t\treturn sslContext;\r\n\t\t}\r\n\t\tcatch(CertificateException | IOException | KeyStoreException | NoSuchAlgorithmException | KeyManagementException e)\r\n\t\t{\r\n\t\t\tthrow new ElasticsearchException(&quot;Error while creating SSL context &quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate byte[] decodeCertificateBase64(final String certificateBase64)\r\n\t{\r\n\t\treturn Base64.getDecoder().decode(certificateBase64);\r\n\t}\r\n\r\n    }\r\n\r\nNow, this code works if I call it like this in postman =&gt; `&lt;Server-IP-Address&gt;:8099(springboot app port)` which the springboot app in turn calls elasticsearch through `localhost:9200`, I also get results when I call `&lt;Server-IP-Address&gt;:9200/_cat/indices` what I am trying to achieve is the ability to call elasticsearch externally from the springboot app, like, rather than hard coding springboot to listen to `localhost:9200` I want it to listen to `&lt;Server-IP-Address&gt;:9200`, but I cant figure this out, I managed to trace the issue to the config file itself, here is the error I am getting in the springboot app: \r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name \r\n    &#39;loggingElasticsearchController&#39; ...(ommitted for bravity).... nested exception is \r\n    org.springframework.data.elasticsearch.client.NoReachableHostException: Host &#39;92.204.190.45:9200&#39; \r\n    not reachable. Cluster state is offline.\r\n\r\nWhile on the elasticsearch server, this is what I am getting in the logs:\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-01-20T14:21:11.622Z&quot;, &quot;log.level&quot;: &quot;WARN&quot;, &quot;message&quot;:&quot;http client \r\n    did not trust this server&#39;s \r\n    certificate, closing connection Netty4HttpChannel{localAddress=/172.18.0.2:9200, \r\n    remoteAddress=/193.227.174.146:57276}&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;ES_ECS&quot;,\r\n    event.dataset&quot;:&quot;elasticsearch.server&quot;,&quot;process.thread.name&quot;:&quot;elasticsearch[24f3d2b8b774][transport_worker][T#8]&quot;,\r\n    &quot;log.logger&quot;:&quot;org.elasticsearch.xpack.security.transport.netty4.SecurityNetty4HttpServerTransport&quot;,\r\n    &quot;elasticsearch.cluster.uuid&quot;:&quot;g8TSlBMmS5aBx--9kmniwQ&quot;,&quot;elasticsearch.node.id&quot;:&quot;_3ZfQJXzQse377jHO6JQsA&quot;,\r\n    &quot;elasticsearch.node.name&quot;:&quot;24f3d2b8b774&quot;,&quot;elasticsearch.cluster.name&quot;:&quot;docker-cluster&quot;}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Elasticserch is refusing connection from springboot app, unless I use localhost:9200","body":"<p>I have a server that I connect to through <code>&lt;Server-IP-Address&gt;:22226</code>, my springboot app uses port 8099, while elasticsearch is installed on docker on the same server but with port 9200. Here is how I set up my config file related to elasticsearch.</p>\n<ul>\n<li>springboot version: <code>2.6.3</code>,</li>\n<li>Elasticsearch Server version: <code>8.6.0</code>,</li>\n<li>spring boot starter data elasticsearch version: <code>2.6.3</code></li>\n<li>spring data elasticsearch version: <code>4.3.1</code> (comes included with spring boot start data elasticsearch version)</li>\n</ul>\n<p><strong>application-development.yml</strong></p>\n<pre><code>  elasticsearch:\n   client:\n    certificate: MIIFWTCCA0GgAwIBAgIUGvdgD......jXvCY7poc= *(shortened for bravity)*\n    host: localhost:9200\n    username: elastic\n    password: GGAqcbLXobR8-eQjrRT2\n</code></pre>\n<p>The certificate I got from elasticsearch server by using this command to generate the <code>http_ca.crt</code>:</p>\n<pre><code>docker cp esdemo01:/usr/share/elasticsearch/config/certs/http_ca.crt .\n</code></pre>\n<p><strong>ElasticsearchConfig.class:</strong></p>\n<p>Here is the ElasticsearchConfig class, which is based on the answer to my other question:\n<a href=\"https://stackoverflow.com/questions/75081596/how-to-configure-security-in-elasticsearch-8-5-3-using-starter-data-elasticsearc/75083512?noredirect=1#comment132499643_75083512\">How to configure security in elasticsearch 8.5.3 using Starter Data Elasticsearch 3.0.1 in maven java springboot</a></p>\n<pre><code>@Configuration\n@Log4j2\n\npublic class ElasticsearchConfig extends AbstractReactiveElasticsearchConfiguration\n\n{\n@NotBlank\n@Value(&quot;${spring.elasticsearch.client.certificate}&quot;)\nprivate String certificateBase64;\n\n@Value(&quot;${spring.elasticsearch.client.host}&quot;)\nprivate String host;\n\n@Value(&quot;${spring.elasticsearch.client.username}&quot;)\nprivate String username;\n\n@Value(&quot;${spring.elasticsearch.client.password}&quot;)\nprivate String password;\n\n@Override\npublic @NonNull ReactiveElasticsearchClient reactiveElasticsearchClient()\n{\n\n    final ClientConfiguration clientConfiguration;\n    try\n    {\n        clientConfiguration = ClientConfiguration.builder()\n                                                 .connectedTo(host)\n                                                 .usingSsl(getSSLContext(decodeCertificateBase64(certificateBase64)))\n                                                 .withBasicAuth(username, password)\n                                                 .build();\n    }\n    catch(ElasticsearchException e)\n    {\n        log.error(&quot;Error while creating elasticsearch client configuration &quot;, e);\n        throw e;\n    }\n\n    return ReactiveRestClients.create(clientConfiguration);\n}\n\nprivate SSLContext getSSLContext(final byte[] decodedCertificate) throws ElasticsearchException\n{\n\n    try\n    {\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n        Certificate ca;\n        try(InputStream certificateInputStream = new ByteArrayInputStream(decodedCertificate))\n        {\n            ca = cf.generateCertificate(certificateInputStream);\n        }\n\n        String keyStoreType = &quot;pkcs12&quot;;\n        KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n        keyStore.load(null, null);\n        keyStore.setCertificateEntry(&quot;ca&quot;, ca);\n\n        SSLContextBuilder sslContextBuilder = SSLContexts.custom()\n                                                         .loadTrustMaterial(keyStore, null);\n        final SSLContext sslContext = sslContextBuilder.build();\n\n        return sslContext;\n    }\n    catch(CertificateException | IOException | KeyStoreException | NoSuchAlgorithmException | KeyManagementException e)\n    {\n        throw new ElasticsearchException(&quot;Error while creating SSL context &quot;, e);\n    }\n}\n\nprivate byte[] decodeCertificateBase64(final String certificateBase64)\n{\n    return Base64.getDecoder().decode(certificateBase64);\n}\n\n}\n</code></pre>\n<p>Now, this code works if I call it like this in postman =&gt; <code>&lt;Server-IP-Address&gt;:8099(springboot app port)</code> which the springboot app in turn calls elasticsearch through <code>localhost:9200</code>, I also get results when I call <code>&lt;Server-IP-Address&gt;:9200/_cat/indices</code> what I am trying to achieve is the ability to call elasticsearch externally from the springboot app, like, rather than hard coding springboot to listen to <code>localhost:9200</code> I want it to listen to <code>&lt;Server-IP-Address&gt;:9200</code>, but I cant figure this out, I managed to trace the issue to the config file itself, here is the error I am getting in the springboot app:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name \n'loggingElasticsearchController' ...(ommitted for bravity).... nested exception is \norg.springframework.data.elasticsearch.client.NoReachableHostException: Host '92.204.190.45:9200' \nnot reachable. Cluster state is offline.\n</code></pre>\n<p>While on the elasticsearch server, this is what I am getting in the logs:</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-01-20T14:21:11.622Z&quot;, &quot;log.level&quot;: &quot;WARN&quot;, &quot;message&quot;:&quot;http client \ndid not trust this server's \ncertificate, closing connection Netty4HttpChannel{localAddress=/172.18.0.2:9200, \nremoteAddress=/193.227.174.146:57276}&quot;, &quot;ecs.version&quot;: &quot;1.2.0&quot;,&quot;service.name&quot;:&quot;ES_ECS&quot;,\nevent.dataset&quot;:&quot;elasticsearch.server&quot;,&quot;process.thread.name&quot;:&quot;elasticsearch[24f3d2b8b774][transport_worker][T#8]&quot;,\n&quot;log.logger&quot;:&quot;org.elasticsearch.xpack.security.transport.netty4.SecurityNetty4HttpServerTransport&quot;,\n&quot;elasticsearch.cluster.uuid&quot;:&quot;g8TSlBMmS5aBx--9kmniwQ&quot;,&quot;elasticsearch.node.id&quot;:&quot;_3ZfQJXzQse377jHO6JQsA&quot;,\n&quot;elasticsearch.node.name&quot;:&quot;24f3d2b8b774&quot;,&quot;elasticsearch.cluster.name&quot;:&quot;docker-cluster&quot;}\n</code></pre>\n"},{"tags":["java","for-loop","nested-loops","perfect-numbers"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1549384343,"post_id":54538708,"comment_id":95879165,"body_markdown":"What&#39;s the exact problem statement? Because you might be able to get away with `System.out.println(&quot;6, 28&quot;);`.","body":"What&#39;s the exact problem statement? Because you might be able to get away with <code>System.out.println(&quot;6, 28&quot;);</code>."},{"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"score":2,"creation_date":1549384547,"post_id":54538708,"comment_id":95879274,"body_markdown":"@jsheeran, come on dude, it&#39;s a programming assignment","body":"@jsheeran, come on dude, it&#39;s a programming assignment"}],"answers":[{"tags":[],"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1549384429,"creation_date":1549384119,"answer_id":54538879,"question_id":54538708,"body_markdown":"You need to:\r\n\r\n - `sum = 0` with every loop iteration\r\n - iterate until `&lt; num` and not `&lt;= num`\r\n\r\nHere&#39;s the fixed code:\r\n\r\n    public static void main(String[] args)  {\r\n\r\n    int sum;\r\n    for(int num = 1; num &lt; 100; num++) {\r\n\r\n        sum = 0;\r\n\r\n        for(int j = 1; j&lt; num; j++) {\r\n            if(num % j == 0) {\r\n                sum += j;\r\n            }\r\n        }\r\n\r\n        if(sum == num) {\r\n            System.out.println(sum);\r\n        }\r\n    }\r\n}\r\n\r\nOutput:\r\n\r\n&gt; 6   \r\n&gt; 28","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>You need to:</p>\n\n<ul>\n<li><code>sum = 0</code> with every loop iteration</li>\n<li>iterate until <code>&lt; num</code> and not <code>&lt;= num</code></li>\n</ul>\n\n<p>Here's the fixed code:</p>\n\n<pre><code>public static void main(String[] args)  {\n\nint sum;\nfor(int num = 1; num &lt; 100; num++) {\n\n    sum = 0;\n\n    for(int j = 1; j&lt; num; j++) {\n        if(num % j == 0) {\n            sum += j;\n        }\n    }\n\n    if(sum == num) {\n        System.out.println(sum);\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>6<br>\n  28</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13806412,"reputation":1766,"user_id":9965155,"display_name":"PinkBanter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549384213,"creation_date":1549384213,"answer_id":54538910,"question_id":54538708,"body_markdown":"This seems to be an assignment or homework question. You are meant to solve this by yourself and not ask it to the people on Stack overflow. \r\n\r\nHowever, what you are looking for has an answer [here][1]. Beware! This code prints if the input number is perfect number or not but does not print all the numbers below 100 that  could be perfect numbers. That is your homework.\r\n\r\n\r\n  [1]: https://www.sanfoundry.com/java-program-check-given-number-perfect-number/","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>This seems to be an assignment or homework question. You are meant to solve this by yourself and not ask it to the people on Stack overflow. </p>\n\n<p>However, what you are looking for has an answer <a href=\"https://www.sanfoundry.com/java-program-check-given-number-perfect-number/\" rel=\"nofollow noreferrer\">here</a>. Beware! This code prints if the input number is perfect number or not but does not print all the numbers below 100 that  could be perfect numbers. That is your homework.</p>\n"},{"tags":[],"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549384406,"creation_date":1549384406,"answer_id":54538992,"question_id":54538708,"body_markdown":"Change your code to : \r\n\r\n\tpublic static void main(String[] s1) throws Exception {\r\n\t\tint num, sum = 0;\r\n\t\tint i;\r\n\t\tfor (num = 1; num &lt; 100; num++) {\r\n\t\t\tfor (int j = 1; j &lt;= num - 1; j++) {   // change made here\r\n\t\t\t\tif (num % j == 0) {\r\n\t\t\t\t\tsum = sum + j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (sum == num) {\r\n\t\t\t\tSystem.out.println(sum);\r\n\t\t\t}\r\n\t\t\tsum = 0;                              // change made here\r\n\t\t}\r\n\r\n\t}\r\n\r\nKey takeaways: \r\n\r\n 1. Reset `sum` to 0 once done with inner iteration\r\n 2. In your *inner* `for-loop` you need to check if till `num - 1` and not `num` because every number is divisible by itself","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>Change your code to : </p>\n\n<pre><code>public static void main(String[] s1) throws Exception {\n    int num, sum = 0;\n    int i;\n    for (num = 1; num &lt; 100; num++) {\n        for (int j = 1; j &lt;= num - 1; j++) {   // change made here\n            if (num % j == 0) {\n                sum = sum + j;\n            }\n        }\n        if (sum == num) {\n            System.out.println(sum);\n        }\n        sum = 0;                              // change made here\n    }\n\n}\n</code></pre>\n\n<p>Key takeaways: </p>\n\n<ol>\n<li>Reset <code>sum</code> to 0 once done with inner iteration</li>\n<li>In your <em>inner</em> <code>for-loop</code> you need to check if till <code>num - 1</code> and not <code>num</code> because every number is divisible by itself</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11830398,"reputation":286,"user_id":8657278,"display_name":"Vishwas Atrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549384519,"creation_date":1549384519,"answer_id":54539027,"question_id":54538708,"body_markdown":"So, your code have some minor problems and I will try to pinpoint them out.\r\n\r\n1.First of all your sum variable should be inside the first for loop  \r\n2. The limit upto which the second loop will run will be `j&lt;num` not `j&lt;=num` because, for the perfect number, the number itself shouldn&#39;t be counted in the sum.\r\n\r\nYou code will look like this.\r\n\r\n    \r\n\r\nI don&#39;t know what is the problem with my code. It should print all the perfect numbers between 1-100. I tried with nested for-loop, do while loop and for-loop. However, the code seems to be incorrect.\r\n\r\n    class CompProject1 {\r\n\r\n    public static void main()\r\n\r\n    {\r\n\r\n         int num;\r\n\r\n         for(num=1; num&lt;100; num++)\r\n\r\n         {\r\n\r\n             int sum = 0;\r\n\r\n             for(int j = 1; j&lt;=num ; j++)\r\n\r\n             {\r\n\r\n                  if(num%j==0)\r\n\r\n                  {\r\n\r\n                   sum = sum+j;\r\n\r\n                  }\r\n\r\n           }\r\n\r\n           if(sum==num)\r\n\r\n           {\r\n\r\n            System.out.println(sum);  \r\n\r\n            }\r\n        }\r\n     }\r\n    }","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>So, your code have some minor problems and I will try to pinpoint them out.</p>\n\n<p>1.First of all your sum variable should be inside the first for loop<br>\n2. The limit upto which the second loop will run will be <code>j&lt;num</code> not <code>j&lt;=num</code> because, for the perfect number, the number itself shouldn't be counted in the sum.</p>\n\n<p>You code will look like this.</p>\n\n<p>I don't know what is the problem with my code. It should print all the perfect numbers between 1-100. I tried with nested for-loop, do while loop and for-loop. However, the code seems to be incorrect.</p>\n\n<pre><code>class CompProject1 {\n\npublic static void main()\n\n{\n\n     int num;\n\n     for(num=1; num&lt;100; num++)\n\n     {\n\n         int sum = 0;\n\n         for(int j = 1; j&lt;=num ; j++)\n\n         {\n\n              if(num%j==0)\n\n              {\n\n               sum = sum+j;\n\n              }\n\n       }\n\n       if(sum==num)\n\n       {\n\n        System.out.println(sum);  \n\n        }\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14453570,"reputation":724,"user_id":10440388,"display_name":"Tyulpan Tyulpan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559226601,"creation_date":1549384523,"answer_id":54539030,"question_id":54538708,"body_markdown":"1) you definitely need to reset your sum variable for every iteration, so you should do `int sum = 0;` in every loop.\r\n\r\n2) you need to iterate while `j &lt;= num/2;`!\r\n\r\n3) consider using Java 8, I&#39;ll write some sample here for you.\r\n\r\nSee my example here, this is so beautiful:\r\n\r\n    public class PerfectNumbersDemo {\r\n\r\n      public static void main(String[] args) {\r\n        IntStream.range(1, 100)\r\n            .filter(PerfectNumbersDemo::isPerfect)\r\n            .forEach(System.out::println);\r\n      }\r\n\r\n      private static boolean isPerfect(int number) {\r\n        return number == IntStream.rangeClosed(1, number / 2)\r\n            .filter(i -&gt; number % i == 0)\r\n            .sum();\r\n      }\r\n    }","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>1) you definitely need to reset your sum variable for every iteration, so you should do <code>int sum = 0;</code> in every loop.</p>\n\n<p>2) you need to iterate while <code>j &lt;= num/2;</code>!</p>\n\n<p>3) consider using Java 8, I'll write some sample here for you.</p>\n\n<p>See my example here, this is so beautiful:</p>\n\n<pre><code>public class PerfectNumbersDemo {\n\n  public static void main(String[] args) {\n    IntStream.range(1, 100)\n        .filter(PerfectNumbersDemo::isPerfect)\n        .forEach(System.out::println);\n  }\n\n  private static boolean isPerfect(int number) {\n    return number == IntStream.rangeClosed(1, number / 2)\n        .filter(i -&gt; number % i == 0)\n        .sum();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17397571,"reputation":135,"user_id":12607075,"display_name":"Rohith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578831026,"creation_date":1578831026,"answer_id":59703646,"question_id":54538708,"body_markdown":"    public class factors{\r\n    public static void main(String args[]){\r\n        int sum=0;\r\n        \r\n        for(int k=2;k&lt;=30;k++){\r\n        for(int i=1;i&lt;k;i++)\r\n        {\r\n            if(k%i==0)\r\n                sum=sum+i;\r\n            \r\n            \r\n        }\r\n           if(k==sum)\r\n                 System.out.println(sum);\r\n            \r\n             \r\n            sum=0;          //sum=0 is very important.\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n**OUTPUT**\r\n\r\n    6\r\n    28","title":"Printing Perfect Numbers between 1-100 using Java","body":"<pre><code>public class factors{\npublic static void main(String args[]){\n    int sum=0;\n\n    for(int k=2;k&lt;=30;k++){\n    for(int i=1;i&lt;k;i++)\n    {\n        if(k%i==0)\n            sum=sum+i;\n\n\n    }\n       if(k==sum)\n             System.out.println(sum);\n\n\n        sum=0;          //sum=0 is very important.\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>6\n28\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25521313,"reputation":1,"user_id":19311131,"display_name":"Rohitashwa Polley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674106995,"creation_date":1674106995,"answer_id":75168163,"question_id":54538708,"body_markdown":"    class PERFECT\r\n     {\r\n        public static void main(String args[])\r\n         {\r\n             int i,j,S,\r\n              for(i=1;i&lt;=100;i++)\r\n              {\r\n              S=0\r\n              for(j=1;j&lt;i;j++)\r\n              {\r\n              if(i%j==0)\r\n               S+=j;\r\n               if (S==i)\r\n               System.out.println(i+&quot;is perfect&quot;);\r\n               }\r\n               }\r\n               }\r\n               }\r\n\r\n","title":"Printing Perfect Numbers between 1-100 using Java","body":"<pre><code>class PERFECT\n {\n    public static void main(String args[])\n     {\n         int i,j,S,\n          for(i=1;i&lt;=100;i++)\n          {\n          S=0\n          for(j=1;j&lt;i;j++)\n          {\n          if(i%j==0)\n           S+=j;\n           if (S==i)\n           System.out.println(i+&quot;is perfect&quot;);\n           }\n           }\n           }\n           }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674226372,"creation_date":1674226372,"answer_id":75185666,"question_id":54538708,"body_markdown":"Here is an alternate way of finding [perfect numbers](https://en.wikipedia.org/wiki/Perfect_number).\r\n\r\n- if &lt;B&gt;2&lt;sup&gt;p&lt;/sup&gt;-1&lt;/B&gt; is prime when &lt;B&gt;p&lt;/B&gt; is prime. Then &lt;B&gt;(2&lt;sup&gt;p-1&lt;/sup&gt;)(2&lt;sup&gt;p&lt;/sup&gt;-1)&lt;/B&gt; is a perfect number. &lt;B&gt;2&lt;sup&gt;p&lt;/sup&gt;-1&lt;/B&gt; is known as a [Mersenne Prime](https://en.wikipedia.org/wiki/Mersenne_prime#:~:text=In%20mathematics%2C%20a%20Mersenne%20prime,so%20is%202n%20%E2%88%92%201)\r\n- As these numbers get real big real fast, using [BigInteger](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigInteger.html) is recommended.\r\n\r\nThis computes the first 10 perfect numbers.\r\n```\r\nint N = 10;\r\nint count = 1;\r\nfor(int i = 2; i &lt; 10_000; i += i == 2 ? 1 : 2) {\r\n    BigInteger val = BigInteger.valueOf(i);\r\n    if (val.isProbablePrime(99)) {\r\n        BigInteger mersenne1 = (BigInteger.ONE.shiftLeft(i)).subtract(BigInteger.ONE);\r\n        if (!mersenne1.isProbablePrime(99)) {\r\n            continue;\r\n        }\r\n        \r\n        BigInteger mersenne2 = BigInteger.ONE.shiftLeft(i-1);\r\n        System.out.printf(&quot;%3d:  %,d\\n&quot;,count, mersenne1.multiply(mersenne2));\r\n       \r\n        if (count++ &gt;= N) {\r\n            break;\r\n        }\r\n    }   \r\n}\r\n```\r\nprints\r\n```\r\n  1:  6\r\n  2:  28\r\n  3:  496\r\n  4:  8,128\r\n  5:  33,550,336\r\n  6:  8,589,869,056\r\n  7:  137,438,691,328\r\n  8:  2,305,843,008,139,952,128\r\n  9:  2,658,455,991,569,831,744,654,692,615,953,842,176\r\n 10:  191,561,942,608,236,107,294,793,378,084,303,638,130,997,321,548,169,216\r\n","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>Here is an alternate way of finding <a href=\"https://en.wikipedia.org/wiki/Perfect_number\" rel=\"nofollow noreferrer\">perfect numbers</a>.</p>\n<ul>\n<li>if <B>2<sup>p</sup>-1</B> is prime when <B>p</B> is prime. Then <B>(2<sup>p-1</sup>)(2<sup>p</sup>-1)</B> is a perfect number. <B>2<sup>p</sup>-1</B> is known as a <a href=\"https://en.wikipedia.org/wiki/Mersenne_prime#:%7E:text=In%20mathematics%2C%20a%20Mersenne%20prime,so%20is%202n%20%E2%88%92%201\" rel=\"nofollow noreferrer\">Mersenne Prime</a></li>\n<li>As these numbers get real big real fast, using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> is recommended.</li>\n</ul>\n<p>This computes the first 10 perfect numbers.</p>\n<pre><code>int N = 10;\nint count = 1;\nfor(int i = 2; i &lt; 10_000; i += i == 2 ? 1 : 2) {\n    BigInteger val = BigInteger.valueOf(i);\n    if (val.isProbablePrime(99)) {\n        BigInteger mersenne1 = (BigInteger.ONE.shiftLeft(i)).subtract(BigInteger.ONE);\n        if (!mersenne1.isProbablePrime(99)) {\n            continue;\n        }\n        \n        BigInteger mersenne2 = BigInteger.ONE.shiftLeft(i-1);\n        System.out.printf(&quot;%3d:  %,d\\n&quot;,count, mersenne1.multiply(mersenne2));\n       \n        if (count++ &gt;= N) {\n            break;\n        }\n    }   \n}\n</code></pre>\n<p>prints</p>\n<pre><code>  1:  6\n  2:  28\n  3:  496\n  4:  8,128\n  5:  33,550,336\n  6:  8,589,869,056\n  7:  137,438,691,328\n  8:  2,305,843,008,139,952,128\n  9:  2,658,455,991,569,831,744,654,692,615,953,842,176\n 10:  191,561,942,608,236,107,294,793,378,084,303,638,130,997,321,548,169,216\n</code></pre>\n"}],"owner":{"account_id":15015719,"reputation":29,"user_id":10838795,"display_name":"Ritwik Saini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15570,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":8,"score":1,"last_activity_date":1674226372,"creation_date":1549383619,"question_id":54538708,"body_markdown":"I don&#39;t know what is the problem with my code. It should print all the perfect numbers between 1-100. I tried with nested for-loop, do while loop and for-loop. However, the code seems to be incorrect.\r\n\r\n    class CompProject1\r\n    {\r\n    \r\n        public static void main()\r\n    \r\n        {\r\n    \r\n            int num, sum=0;\r\n    \r\n            int i;\r\n    \r\n            for(num=1; num&lt;100; num++)\r\n    \r\n            {\r\n    \r\n               for(int j = 1; j&lt;=num ; j++)\r\n    \r\n               {\r\n    \r\n                   if(num%j==0)\r\n    \r\n                   {\r\n    \r\n                       sum = sum+j;\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n               if(sum==num)\r\n    \r\n               {\r\n    \r\n                 System.out.println(sum);  \r\n    \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Printing Perfect Numbers between 1-100 using Java","body":"<p>I don't know what is the problem with my code. It should print all the perfect numbers between 1-100. I tried with nested for-loop, do while loop and for-loop. However, the code seems to be incorrect.</p>\n\n<pre><code>class CompProject1\n{\n\n    public static void main()\n\n    {\n\n        int num, sum=0;\n\n        int i;\n\n        for(num=1; num&lt;100; num++)\n\n        {\n\n           for(int j = 1; j&lt;=num ; j++)\n\n           {\n\n               if(num%j==0)\n\n               {\n\n                   sum = sum+j;\n\n                }\n\n            }\n\n           if(sum==num)\n\n           {\n\n             System.out.println(sum);  \n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","jhipster","auditing","jdl"],"comments":[{"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"score":0,"creation_date":1674117097,"post_id":75168412,"comment_id":132647305,"body_markdown":"Are you using a blueprint, module, or your own code to add auditing?","body":"Are you using a blueprint, module, or your own code to add auditing?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674157187,"post_id":75168412,"comment_id":132660841,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22184122,"reputation":11,"user_id":16427352,"display_name":"rami ismail"},"score":0,"creation_date":1674225949,"post_id":75168412,"comment_id":132675228,"body_markdown":"@MattRaible I&#39;m using the generated code module","body":"@MattRaible I&#39;m using the generated code module"},{"owner":{"account_id":2469136,"reputation":641,"user_id":2151471,"display_name":"atomfrede"},"score":0,"creation_date":1674828265,"post_id":75168412,"comment_id":132802047,"body_markdown":"Have you updated the database migrations to add the new fields to the database schema?","body":"Have you updated the database migrations to add the new fields to the database schema?"},{"owner":{"account_id":22184122,"reputation":11,"user_id":16427352,"display_name":"rami ismail"},"score":0,"creation_date":1674918878,"post_id":75168412,"comment_id":132818509,"body_markdown":"yes, that was exactly my issue, i had to update the changelog files in liquibase to see the changes","body":"yes, that was exactly my issue, i had to update the changelog files in liquibase to see the changes"}],"owner":{"account_id":22184122,"reputation":11,"user_id":16427352,"display_name":"rami ismail"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674226293,"creation_date":1674109198,"question_id":75168412,"body_markdown":"Hello I am using Jhipster to generate my backend code and I&#39;m trying to add auditing fields to my entities, I am aware that my custom entity should extend the ``AbstractAuditingEntity`` class, but the added fields are not showing in the database but are showing in JPA, do you know how can I solve the issue?\r\nhere is the code of the Abstract auditing entity class generated by Jhipster\r\n\r\n\r\n```\r\n@MappedSuperclass\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = { &quot;createdBy&quot;, &quot;createdDate&quot;, &quot;lastModifiedBy&quot;, &quot;lastModifiedDate&quot; }, allowGetters = true)\r\npublic abstract class AbstractAuditingEntity&lt;T&gt; implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public abstract T getId();\r\n\r\n    @CreatedBy\r\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\r\n    private String createdBy;\r\n\r\n    @CreatedDate\r\n    @Column(name = &quot;created_date&quot;, updatable = false)\r\n    private Instant createdDate = Instant.now();\r\n\r\n    @LastModifiedBy\r\n    @Column(name = &quot;last_modified_by&quot;, length = 50)\r\n    private String lastModifiedBy;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;last_modified_date&quot;)\r\n    private Instant lastModifiedDate = Instant.now();\r\n\r\n    public String getCreatedBy() {\r\n        return createdBy;\r\n    }\r\n\r\n    public void setCreatedBy(String createdBy) {\r\n        this.createdBy = createdBy;\r\n    }\r\n\r\n    public Instant getCreatedDate() {\r\n        return createdDate;\r\n    }\r\n\r\n    public void setCreatedDate(Instant createdDate) {\r\n        this.createdDate = createdDate;\r\n    }\r\n\r\n    public String getLastModifiedBy() {\r\n        return lastModifiedBy;\r\n    }\r\n\r\n    public void setLastModifiedBy(String lastModifiedBy) {\r\n        this.lastModifiedBy = lastModifiedBy;\r\n    }\r\n\r\n    public Instant getLastModifiedDate() {\r\n        return lastModifiedDate;\r\n    }\r\n\r\n    public void setLastModifiedDate(Instant lastModifiedDate) {\r\n        this.lastModifiedDate = lastModifiedDate;\r\n    }\r\n}\r\n```\r\nand here the custom entity code \r\n```\r\n@Entity\r\n@Table(name = &quot;indicator&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)\r\npublic class Indicator extends AbstractAuditingEntity&lt;Long&gt; implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;code&quot;, nullable = false, unique = true)\r\n    private Integer code;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;title&quot;, length = 50, nullable = false)\r\n    private String title;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;titlear&quot;, length = 50, nullable = false)\r\n    private String titlear;\r\n\r\n    @NotNull\r\n    @Size(max = 50)\r\n    @Column(name = &quot;titlefr&quot;, length = 50, nullable = false)\r\n    private String titlefr;\r\n\r\n    @Size(max = 500)\r\n    @Column(name = &quot;description&quot;, length = 500)\r\n    private String description;\r\n\r\n    @Size(max = 500)\r\n    @Column(name = &quot;descriptionar&quot;, length = 500)\r\n    private String descriptionar;\r\n\r\n    @Size(max = 500)\r\n    @Column(name = &quot;descriptionfr&quot;, length = 500)\r\n    private String descriptionfr;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;rating&quot;, nullable = false)\r\n    private Integer rating;\r\n\r\n    @ManyToMany(mappedBy = &quot;indicators&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    @JsonIgnoreProperties(value = { &quot;indicators&quot; }, allowSetters = true)\r\n    private Set&lt;Competency&gt; competencies = new HashSet&lt;&gt;();\r\n\r\n    // jhipster-needle-entity-add-field - JHipster will add fields here\r\n\r\n    public Long getId() {\r\n        return this.id;\r\n    }\r\n\r\n    public Indicator id(Long id) {\r\n        this.setId(id);\r\n        return this;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Integer getCode() {\r\n        return this.code;\r\n    }\r\n\r\n    public Indicator code(Integer code) {\r\n        this.setCode(code);\r\n        return this;\r\n    }\r\n\r\n    public void setCode(Integer code) {\r\n        this.code = code;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return this.title;\r\n    }\r\n\r\n    public Indicator title(String title) {\r\n        this.setTitle(title);\r\n        return this;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getTitlear() {\r\n        return this.titlear;\r\n    }\r\n\r\n    public Indicator titlear(String titlear) {\r\n        this.setTitlear(titlear);\r\n        return this;\r\n    }\r\n\r\n    public void setTitlear(String titlear) {\r\n        this.titlear = titlear;\r\n    }\r\n\r\n    public String getTitlefr() {\r\n        return this.titlefr;\r\n    }\r\n\r\n    public Indicator titlefr(String titlefr) {\r\n        this.setTitlefr(titlefr);\r\n        return this;\r\n    }\r\n\r\n    public void setTitlefr(String titlefr) {\r\n        this.titlefr = titlefr;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return this.description;\r\n    }\r\n\r\n    public Indicator description(String description) {\r\n        this.setDescription(description);\r\n        return this;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getDescriptionar() {\r\n        return this.descriptionar;\r\n    }\r\n\r\n    public Indicator descriptionar(String descriptionar) {\r\n        this.setDescriptionar(descriptionar);\r\n        return this;\r\n    }\r\n\r\n    public void setDescriptionar(String descriptionar) {\r\n        this.descriptionar = descriptionar;\r\n    }\r\n\r\n    public String getDescriptionfr() {\r\n        return this.descriptionfr;\r\n    }\r\n\r\n    public Indicator descriptionfr(String descriptionfr) {\r\n        this.setDescriptionfr(descriptionfr);\r\n        return this;\r\n    }\r\n\r\n    public void setDescriptionfr(String descriptionfr) {\r\n        this.descriptionfr = descriptionfr;\r\n    }\r\n\r\n    public Integer getRating() {\r\n        return this.rating;\r\n    }\r\n\r\n    public Indicator rating(Integer rating) {\r\n        this.setRating(rating);\r\n        return this;\r\n    }\r\n\r\n    public void setRating(Integer rating) {\r\n        this.rating = rating;\r\n    }\r\n\r\n    public Set&lt;Competency&gt; getCompetencies() {\r\n        return this.competencies;\r\n    }\r\n\r\n    public void setCompetencies(Set&lt;Competency&gt; competencies) {\r\n        if (this.competencies != null) {\r\n            this.competencies.forEach(i -&gt; i.removeIndicator(this));\r\n        }\r\n        if (competencies != null) {\r\n            competencies.forEach(i -&gt; i.addIndicator(this));\r\n        }\r\n        this.competencies = competencies;\r\n    }\r\n\r\n    public Indicator competencies(Set&lt;Competency&gt; competencies) {\r\n        this.setCompetencies(competencies);\r\n        return this;\r\n    }\r\n\r\n    public Indicator addCompetency(Competency competency) {\r\n        this.competencies.add(competency);\r\n        competency.getIndicators().add(this);\r\n        return this;\r\n    }\r\n\r\n    public Indicator removeCompetency(Competency competency) {\r\n        this.competencies.remove(competency);\r\n        competency.getIndicators().remove(this);\r\n        return this;\r\n    }\r\n\r\n    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (!(o instanceof Indicator)) {\r\n            return false;\r\n        }\r\n        return id != null &amp;&amp; id.equals(((Indicator) o).id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        // see https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/\r\n        return getClass().hashCode();\r\n    }\r\n\r\n    // prettier-ignore\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Indicator{&quot; +\r\n            &quot;id=&quot; + getId() +\r\n            &quot;, code=&quot; + getCode() +\r\n            &quot;, title=&#39;&quot; + getTitle() + &quot;&#39;&quot; +\r\n            &quot;, titlear=&#39;&quot; + getTitlear() + &quot;&#39;&quot; +\r\n            &quot;, titlefr=&#39;&quot; + getTitlefr() + &quot;&#39;&quot; +\r\n            &quot;, description=&#39;&quot; + getDescription() + &quot;&#39;&quot; +\r\n            &quot;, descriptionar=&#39;&quot; + getDescriptionar() + &quot;&#39;&quot; +\r\n            &quot;, descriptionfr=&#39;&quot; + getDescriptionfr() + &quot;&#39;&quot; +\r\n            &quot;, rating=&quot; + getRating() +\r\n            &quot;}&quot;;\r\n    }\r\n}\r\n```\r\nas you can see I have extended the class and the extra fields do appear in the persitance of JPA but whenever I run the server my database is not updated with those fields.\r\n\r\nthe database is also postgres if that can help ","title":"Jhipster Auditing Entities","body":"<p>Hello I am using Jhipster to generate my backend code and I'm trying to add auditing fields to my entities, I am aware that my custom entity should extend the <code>AbstractAuditingEntity</code> class, but the added fields are not showing in the database but are showing in JPA, do you know how can I solve the issue?\nhere is the code of the Abstract auditing entity class generated by Jhipster</p>\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = { &quot;createdBy&quot;, &quot;createdDate&quot;, &quot;lastModifiedBy&quot;, &quot;lastModifiedDate&quot; }, allowGetters = true)\npublic abstract class AbstractAuditingEntity&lt;T&gt; implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public abstract T getId();\n\n    @CreatedBy\n    @Column(name = &quot;created_by&quot;, nullable = false, length = 50, updatable = false)\n    private String createdBy;\n\n    @CreatedDate\n    @Column(name = &quot;created_date&quot;, updatable = false)\n    private Instant createdDate = Instant.now();\n\n    @LastModifiedBy\n    @Column(name = &quot;last_modified_by&quot;, length = 50)\n    private String lastModifiedBy;\n\n    @LastModifiedDate\n    @Column(name = &quot;last_modified_date&quot;)\n    private Instant lastModifiedDate = Instant.now();\n\n    public String getCreatedBy() {\n        return createdBy;\n    }\n\n    public void setCreatedBy(String createdBy) {\n        this.createdBy = createdBy;\n    }\n\n    public Instant getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Instant createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    public String getLastModifiedBy() {\n        return lastModifiedBy;\n    }\n\n    public void setLastModifiedBy(String lastModifiedBy) {\n        this.lastModifiedBy = lastModifiedBy;\n    }\n\n    public Instant getLastModifiedDate() {\n        return lastModifiedDate;\n    }\n\n    public void setLastModifiedDate(Instant lastModifiedDate) {\n        this.lastModifiedDate = lastModifiedDate;\n    }\n}\n</code></pre>\n<p>and here the custom entity code</p>\n<pre><code>@Entity\n@Table(name = &quot;indicator&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)\npublic class Indicator extends AbstractAuditingEntity&lt;Long&gt; implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;code&quot;, nullable = false, unique = true)\n    private Integer code;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;title&quot;, length = 50, nullable = false)\n    private String title;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;titlear&quot;, length = 50, nullable = false)\n    private String titlear;\n\n    @NotNull\n    @Size(max = 50)\n    @Column(name = &quot;titlefr&quot;, length = 50, nullable = false)\n    private String titlefr;\n\n    @Size(max = 500)\n    @Column(name = &quot;description&quot;, length = 500)\n    private String description;\n\n    @Size(max = 500)\n    @Column(name = &quot;descriptionar&quot;, length = 500)\n    private String descriptionar;\n\n    @Size(max = 500)\n    @Column(name = &quot;descriptionfr&quot;, length = 500)\n    private String descriptionfr;\n\n    @NotNull\n    @Column(name = &quot;rating&quot;, nullable = false)\n    private Integer rating;\n\n    @ManyToMany(mappedBy = &quot;indicators&quot;)\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    @JsonIgnoreProperties(value = { &quot;indicators&quot; }, allowSetters = true)\n    private Set&lt;Competency&gt; competencies = new HashSet&lt;&gt;();\n\n    // jhipster-needle-entity-add-field - JHipster will add fields here\n\n    public Long getId() {\n        return this.id;\n    }\n\n    public Indicator id(Long id) {\n        this.setId(id);\n        return this;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Integer getCode() {\n        return this.code;\n    }\n\n    public Indicator code(Integer code) {\n        this.setCode(code);\n        return this;\n    }\n\n    public void setCode(Integer code) {\n        this.code = code;\n    }\n\n    public String getTitle() {\n        return this.title;\n    }\n\n    public Indicator title(String title) {\n        this.setTitle(title);\n        return this;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getTitlear() {\n        return this.titlear;\n    }\n\n    public Indicator titlear(String titlear) {\n        this.setTitlear(titlear);\n        return this;\n    }\n\n    public void setTitlear(String titlear) {\n        this.titlear = titlear;\n    }\n\n    public String getTitlefr() {\n        return this.titlefr;\n    }\n\n    public Indicator titlefr(String titlefr) {\n        this.setTitlefr(titlefr);\n        return this;\n    }\n\n    public void setTitlefr(String titlefr) {\n        this.titlefr = titlefr;\n    }\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public Indicator description(String description) {\n        this.setDescription(description);\n        return this;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getDescriptionar() {\n        return this.descriptionar;\n    }\n\n    public Indicator descriptionar(String descriptionar) {\n        this.setDescriptionar(descriptionar);\n        return this;\n    }\n\n    public void setDescriptionar(String descriptionar) {\n        this.descriptionar = descriptionar;\n    }\n\n    public String getDescriptionfr() {\n        return this.descriptionfr;\n    }\n\n    public Indicator descriptionfr(String descriptionfr) {\n        this.setDescriptionfr(descriptionfr);\n        return this;\n    }\n\n    public void setDescriptionfr(String descriptionfr) {\n        this.descriptionfr = descriptionfr;\n    }\n\n    public Integer getRating() {\n        return this.rating;\n    }\n\n    public Indicator rating(Integer rating) {\n        this.setRating(rating);\n        return this;\n    }\n\n    public void setRating(Integer rating) {\n        this.rating = rating;\n    }\n\n    public Set&lt;Competency&gt; getCompetencies() {\n        return this.competencies;\n    }\n\n    public void setCompetencies(Set&lt;Competency&gt; competencies) {\n        if (this.competencies != null) {\n            this.competencies.forEach(i -&gt; i.removeIndicator(this));\n        }\n        if (competencies != null) {\n            competencies.forEach(i -&gt; i.addIndicator(this));\n        }\n        this.competencies = competencies;\n    }\n\n    public Indicator competencies(Set&lt;Competency&gt; competencies) {\n        this.setCompetencies(competencies);\n        return this;\n    }\n\n    public Indicator addCompetency(Competency competency) {\n        this.competencies.add(competency);\n        competency.getIndicators().add(this);\n        return this;\n    }\n\n    public Indicator removeCompetency(Competency competency) {\n        this.competencies.remove(competency);\n        competency.getIndicators().remove(this);\n        return this;\n    }\n\n    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof Indicator)) {\n            return false;\n        }\n        return id != null &amp;&amp; id.equals(((Indicator) o).id);\n    }\n\n    @Override\n    public int hashCode() {\n        // see https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/\n        return getClass().hashCode();\n    }\n\n    // prettier-ignore\n    @Override\n    public String toString() {\n        return &quot;Indicator{&quot; +\n            &quot;id=&quot; + getId() +\n            &quot;, code=&quot; + getCode() +\n            &quot;, title='&quot; + getTitle() + &quot;'&quot; +\n            &quot;, titlear='&quot; + getTitlear() + &quot;'&quot; +\n            &quot;, titlefr='&quot; + getTitlefr() + &quot;'&quot; +\n            &quot;, description='&quot; + getDescription() + &quot;'&quot; +\n            &quot;, descriptionar='&quot; + getDescriptionar() + &quot;'&quot; +\n            &quot;, descriptionfr='&quot; + getDescriptionfr() + &quot;'&quot; +\n            &quot;, rating=&quot; + getRating() +\n            &quot;}&quot;;\n    }\n}\n</code></pre>\n<p>as you can see I have extended the class and the extra fields do appear in the persitance of JPA but whenever I run the server my database is not updated with those fields.</p>\n<p>the database is also postgres if that can help</p>\n"},{"tags":["java","neo4j","traversal"],"answers":[{"tags":[],"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674210410,"creation_date":1674210410,"answer_id":75182729,"question_id":75179572,"body_markdown":"You are mixing 2 different things.\r\n\r\nThe `neo4j-java-driver` is used to communicate to a remote server and allows only to execute Cypher queries:\r\n\r\n```java\r\nvar authToken = AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;);\r\ntry (Driver driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, authToken);\r\n     Session session = driver.session()) {\r\n    var result = session.run(&quot;CREATE (n)&quot;);\r\n    var summary = result.consume();\r\n    System.out.println(summary.counters().nodesCreated());\r\n}\r\n```\r\n\r\nThe traversal Java API is used **within** an instance, either through an extension or Neo4j embedded. You cannot mix the Java driver and the traversal API together.\r\n\r\n```java\r\ntry (Transaction tx = db.beginTx()) {\r\n    Node node; // find some node\r\n    for (Path path : tx.traversalDescription()\r\n        .depthFirst()\r\n        .relationships(Rels.KNOWS)\r\n        .uniqueness(Uniqueness.RELATIONSHIP_GLOBAL)\r\n        .traverse(node)) {\r\n        // do something\r\n    }\r\n}\r\n```\r\n\r\nNotice here that the transaction is starting from `db`, an injected instance of a `GraphDatabaseService`, not from a Java driver&#39;s `Session`.\r\n\r\nSide notes:\r\n\r\n - version 3.0.1 of `neo4j-graphdb-api` is very old. Neo4j 3.0.1 has reached end of life [a long time ago.][1]\r\n - your compiler configuration targets Java 8, the shorthand properties to target Java 11 are ineffective here\r\n\r\n\r\n  [1]: https://neo4j.com/developer/kb/neo4j-supported-versions/","title":"Cannot resolve method &#39;findNode&#39; in &#39;Transaction&#39;","body":"<p>You are mixing 2 different things.</p>\n<p>The <code>neo4j-java-driver</code> is used to communicate to a remote server and allows only to execute Cypher queries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var authToken = AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;);\ntry (Driver driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, authToken);\n     Session session = driver.session()) {\n    var result = session.run(&quot;CREATE (n)&quot;);\n    var summary = result.consume();\n    System.out.println(summary.counters().nodesCreated());\n}\n</code></pre>\n<p>The traversal Java API is used <strong>within</strong> an instance, either through an extension or Neo4j embedded. You cannot mix the Java driver and the traversal API together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Transaction tx = db.beginTx()) {\n    Node node; // find some node\n    for (Path path : tx.traversalDescription()\n        .depthFirst()\n        .relationships(Rels.KNOWS)\n        .uniqueness(Uniqueness.RELATIONSHIP_GLOBAL)\n        .traverse(node)) {\n        // do something\n    }\n}\n</code></pre>\n<p>Notice here that the transaction is starting from <code>db</code>, an injected instance of a <code>GraphDatabaseService</code>, not from a Java driver's <code>Session</code>.</p>\n<p>Side notes:</p>\n<ul>\n<li>version 3.0.1 of <code>neo4j-graphdb-api</code> is very old. Neo4j 3.0.1 has reached end of life <a href=\"https://neo4j.com/developer/kb/neo4j-supported-versions/\" rel=\"nofollow noreferrer\">a long time ago.</a></li>\n<li>your compiler configuration targets Java 8, the shorthand properties to target Java 11 are ineffective here</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674226234,"creation_date":1674226234,"answer_id":75185627,"question_id":75179572,"body_markdown":"Your libraries and code are pretty old for now.\r\nHere is a Maven POM file with the new versions:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Traversal&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ZBD&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-graphdb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd do not use Traversal Framework, it looks like it is recommended to use Cypher now. \r\nAnd easier to find samples. Please, look here: https://neo4j.com/docs/java-reference/current/java-embedded/cypher-java/\r\n\r\n","title":"Cannot resolve method &#39;findNode&#39; in &#39;Transaction&#39;","body":"<p>Your libraries and code are pretty old for now.\nHere is a Maven POM file with the new versions:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;Traversal&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ZBD&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-graphdb-api&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And do not use Traversal Framework, it looks like it is recommended to use Cypher now.\nAnd easier to find samples. Please, look here: <a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/cypher-java/\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/java-reference/current/java-embedded/cypher-java/</a></p>\n"}],"owner":{"account_id":14585745,"reputation":1096,"user_id":10534633,"display_name":"maciejwww"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674226234,"creation_date":1674174270,"question_id":75179572,"body_markdown":"I&#39;m trying to understand *Traversal API* for *Neo4j*, but I have a problem with dependencies:\r\n```\r\nCannot resolve method &#39;findNode&#39; in &#39;Transaction&#39;\r\n```\r\nalso:\r\n```\r\nCannot resolve method &#39;traversalDescription&#39; in &#39;Transaction&#39;\r\n```\r\nHere is my code (because of the dependencies, I&#39;m still not sure if it&#39;s working - any tips unrelated to the question will be appreciated):\r\n``` java\r\nimport org.neo4j.driver.Driver;\r\nimport org.neo4j.driver.AuthTokens;\r\nimport org.neo4j.driver.GraphDatabase;import org.neo4j.driver.Session;\r\nimport org.neo4j.graphdb.*;\r\nimport org.neo4j.graphdb.traversal.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Driver driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;));\r\n        try (Session session = driver.session()) {\r\n            // Start a new transaction\r\n            try (Transaction tx = (Transaction) session.beginTransaction()) {\r\n                // Get the traversal description\r\n                TraversalDescription traversal = tx.traversalDescription()\r\n                        .depthFirst()\r\n                        .uniqueness(Uniqueness.NODE_GLOBAL);\r\n                Node startNode = tx.findNode(Label.label(&quot;Node&quot;), &quot;id&quot;, 0);\r\n                // Traverse the graph\r\n                Traverser traverser = traversal.traverse(startNode);\r\n                for (Path path : traverser) {\r\n                    Node node = path.endNode();\r\n                    System.out.println(&quot;Node id: &quot; + node.getProperty(&quot;id&quot;));\r\n                }\r\n                tx.success();\r\n            }\r\n        } finally {\r\n            driver.close();\r\n        }\r\n    }\r\n}\r\n```\r\nand `pom.xml` file:\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Traversal&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ZBD&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-graphdb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;ve tried to use examples from [*neo4j* repository on *GitHub*](https://github.com/neo4j/neo4j-documentation/tree/dev/embedded-examples/src/main/java/org/neo4j/examples), but the dependencies are still an issue.","title":"Cannot resolve method &#39;findNode&#39; in &#39;Transaction&#39;","body":"<p>I'm trying to understand <em>Traversal API</em> for <em>Neo4j</em>, but I have a problem with dependencies:</p>\n<pre><code>Cannot resolve method 'findNode' in 'Transaction'\n</code></pre>\n<p>also:</p>\n<pre><code>Cannot resolve method 'traversalDescription' in 'Transaction'\n</code></pre>\n<p>Here is my code (because of the dependencies, I'm still not sure if it's working - any tips unrelated to the question will be appreciated):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.neo4j.driver.Driver;\nimport org.neo4j.driver.AuthTokens;\nimport org.neo4j.driver.GraphDatabase;import org.neo4j.driver.Session;\nimport org.neo4j.graphdb.*;\nimport org.neo4j.graphdb.traversal.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Driver driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;));\n        try (Session session = driver.session()) {\n            // Start a new transaction\n            try (Transaction tx = (Transaction) session.beginTransaction()) {\n                // Get the traversal description\n                TraversalDescription traversal = tx.traversalDescription()\n                        .depthFirst()\n                        .uniqueness(Uniqueness.NODE_GLOBAL);\n                Node startNode = tx.findNode(Label.label(&quot;Node&quot;), &quot;id&quot;, 0);\n                // Traverse the graph\n                Traverser traverser = traversal.traverse(startNode);\n                for (Path path : traverser) {\n                    Node node = path.endNode();\n                    System.out.println(&quot;Node id: &quot; + node.getProperty(&quot;id&quot;));\n                }\n                tx.success();\n            }\n        } finally {\n            driver.close();\n        }\n    }\n}\n</code></pre>\n<p>and <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;Traversal&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ZBD&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-graphdb-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I've tried to use examples from <a href=\"https://github.com/neo4j/neo4j-documentation/tree/dev/embedded-examples/src/main/java/org/neo4j/examples\" rel=\"nofollow noreferrer\"><em>neo4j</em> repository on <em>GitHub</em></a>, but the dependencies are still an issue.</p>\n"},{"tags":["java","graphics","javafx"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1453920296,"post_id":35033309,"comment_id":57815334,"body_markdown":"You&#39;ve got a svg; It would be easy to use `SVGPath` to create the path (Which of course uses cubic B&#233;zier curves...). The only way to do this not using B&#233;zier curves that comes to my mind is using the `DisplacementMap` effect on a `Line` but this results in horrible quality and isn&#39;t really easier. Using B&#233;zier curves isn&#39;t that complicated. It can be done with approx 40 LOC for any given start/end point / wave height / wave length.","body":"You&#39;ve got a svg; It would be easy to use <code>SVGPath</code> to create the path (Which of course uses cubic B&#233;zier curves...). The only way to do this not using B&#233;zier curves that comes to my mind is using the <code>DisplacementMap</code> effect on a <code>Line</code> but this results in horrible quality and isn&#39;t really easier. Using B&#233;zier curves isn&#39;t that complicated. It can be done with approx 40 LOC for any given start/end point / wave height / wave length."},{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":0,"creation_date":1453922128,"post_id":35033309,"comment_id":57816392,"body_markdown":"Yes, I just thought maybe there is a built-in way. Take dashes for example - you could easily accomplish a dashed line with interchanging `MoveTo` and `LineTo`, but JavaFX provides a built in which is much simpler to use.","body":"Yes, I just thought maybe there is a built-in way. Take dashes for example - you could easily accomplish a dashed line with interchanging <code>MoveTo</code> and <code>LineTo</code>, but JavaFX provides a built in which is much simpler to use."}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674226198,"creation_date":1674225380,"answer_id":75185471,"question_id":35033309,"body_markdown":"**Wave line with `Path`**\r\n\r\nIn this approach `wavyPath` method will return a `Path` object with nested `CubicCurbeTo`  path elements . Where `length` is the length of the line in x axis , `subDivisions` are the amount of curves and `controlY` is the height in y axis . In this case the method will make a path of 200 pixels length with four curves and 40 pixels amplitude (80 pixels height).\r\n\r\nDocs of [Path][1] and [CubicCurveTo][2] (javafx 19)\r\n\r\nThis is a single class javafx app you can try \r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            var scene = new Scene(new StackPane(wavyPath(200, 4, 40)), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        private Path wavyPath(double length, int subdivisions, int controlY) {\r\n            var path = new Path(new MoveTo(0, 0));\r\n            double curveLengthX = length / subdivisions;\r\n            double controlX = curveLengthX * 0.5;\r\n    \r\n            for (int i = 0; i &lt; subdivisions; i++) {\r\n    \r\n                var curve = \r\n                        new CubicCurveTo((curveLengthX * i) + controlX, -controlY, \r\n                                (curveLengthX * i) + controlX, controlY, curveLengthX * (i + 1), 0);\r\n    \r\n                System.out.println(curveLengthX * (1 + i));\r\n                path.getElements().add(curve);\r\n            }\r\n            path.setStroke(Color.PURPLE);\r\n            path.setStrokeWidth(3);\r\n            return path;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**Result**\r\n\r\n[![wave line javafx][3]][3]\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/shape/Path.html\r\n  [2]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/shape/CubicCurveTo.html\r\n  [3]: https://i.stack.imgur.com/yXwEp.png","title":"JavaFX - draw squiggly line","body":"<p><strong>Wave line with <code>Path</code></strong></p>\n<p>In this approach <code>wavyPath</code> method will return a <code>Path</code> object with nested <code>CubicCurbeTo</code>  path elements . Where <code>length</code> is the length of the line in x axis , <code>subDivisions</code> are the amount of curves and <code>controlY</code> is the height in y axis . In this case the method will make a path of 200 pixels length with four curves and 40 pixels amplitude (80 pixels height).</p>\n<p>Docs of <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/shape/Path.html\" rel=\"nofollow noreferrer\">Path</a> and <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/shape/CubicCurveTo.html\" rel=\"nofollow noreferrer\">CubicCurveTo</a> (javafx 19)</p>\n<p>This is a single class javafx app you can try</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        var scene = new Scene(new StackPane(wavyPath(200, 4, 40)), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private Path wavyPath(double length, int subdivisions, int controlY) {\n        var path = new Path(new MoveTo(0, 0));\n        double curveLengthX = length / subdivisions;\n        double controlX = curveLengthX * 0.5;\n\n        for (int i = 0; i &lt; subdivisions; i++) {\n\n            var curve = \n                    new CubicCurveTo((curveLengthX * i) + controlX, -controlY, \n                            (curveLengthX * i) + controlX, controlY, curveLengthX * (i + 1), 0);\n\n            System.out.println(curveLengthX * (1 + i));\n            path.getElements().add(curve);\n        }\n        path.setStroke(Color.PURPLE);\n        path.setStrokeWidth(3);\n        return path;\n\n    }\n\n}\n</code></pre>\n<p><strong>Result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/yXwEp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXwEp.png\" alt=\"wave line javafx\" /></a></p>\n"}],"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674226198,"creation_date":1453886672,"question_id":35033309,"body_markdown":"Is there a simple way to draw a squiggly line across a path in JavaFX? Something like the horizontal line in \r\n[![enter image description here][1]][1]\r\n\r\n(Source: https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Electron-positron-annihilation.svg/2000px-Electron-positron-annihilation.svg.png)\r\n \r\n\r\nI know I can achieve this by breaking up the path to multiple parts, and drawing each with a cubic bezier curve, but I was hoping there was an easier way. \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/LRAMb.png","title":"JavaFX - draw squiggly line","body":"<p>Is there a simple way to draw a squiggly line across a path in JavaFX? Something like the horizontal line in \n<a href=\"https://i.stack.imgur.com/LRAMb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LRAMb.png\" alt=\"enter image description here\"></a></p>\n\n<p>(Source: <a href=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Electron-positron-annihilation.svg/2000px-Electron-positron-annihilation.svg.png\" rel=\"nofollow noreferrer\">https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Electron-positron-annihilation.svg/2000px-Electron-positron-annihilation.svg.png</a>)</p>\n\n<p>I know I can achieve this by breaking up the path to multiple parts, and drawing each with a cubic bezier curve, but I was hoping there was an easier way. </p>\n"},{"tags":["java","linux","io"],"comments":[{"owner":{"account_id":20143505,"reputation":1495,"user_id":14772619,"display_name":"dimich"},"score":0,"creation_date":1674172168,"post_id":75179339,"comment_id":132664429,"body_markdown":"What is &quot;blocking device&quot;? Do you mean block device?","body":"What is &quot;blocking device&quot;? Do you mean block device?"},{"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"score":0,"creation_date":1674225777,"post_id":75179339,"comment_id":132675161,"body_markdown":"@dimich sorry, I was mixing terms. It&#39;s a &quot;character special device file&quot;. The problem is that it is blocking. I edited the question","body":"@dimich sorry, I was mixing terms. It&#39;s a &quot;character special device file&quot;. The problem is that it is blocking. I edited the question"},{"owner":{"account_id":20143505,"reputation":1495,"user_id":14772619,"display_name":"dimich"},"score":0,"creation_date":1674228103,"post_id":75179339,"comment_id":132676112,"body_markdown":"If `write()` call blocks it means driver [temporary] won&#39;t accept data for some reason. It is specific to the driver which handles the device, you can do nothing with it from userspace. You should access device file like any other blocking IO. If the driver supports `poll()` you can wait with `POLLOUT` on file descriptor. Or set `O_NONBLOCK` flag and access device in nonblocking mode. Or call blocking operations in a separate thread.","body":"If <code>write()</code> call blocks it means driver [temporary] won&#39;t accept data for some reason. It is specific to the driver which handles the device, you can do nothing with it from userspace. You should access device file like any other blocking IO. If the driver supports <code>poll()</code> you can wait with <code>POLLOUT</code> on file descriptor. Or set <code>O_NONBLOCK</code> flag and access device in nonblocking mode. Or call blocking operations in a separate thread."}],"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674225998,"creation_date":1674171454,"question_id":75179339,"body_markdown":"I have a character special device file on a Linux system (eg /dev/foobardcma6) that I wish to constantly write data to. What is the preferred way to do this in Java?\r\n\r\nI tried using `AsynchronousFileChannel` and was able to write some bytes to it, but eventually it blocks/hangs when writing. I don&#39;t know if this is the right approach or not, however.\r\n\r\nI could use a `FileChannel`. The write method returns how many bytes were actually written. I assume if it returns less bytes than were requested to write, it means the write buffer is full, and you should wait before writing again. However, I don&#39;t see any mechanism to be notified that the file is ready for writing.\r\n\r\n**Update:**\r\n\r\nI tried using a `FileChannel`, and it also blocks after a certain number of bytes. The suspicious thing is both the `FileChannel` and `AsychronousFileChannel` implementations block after writing *exactly* the same number of bytes. In both cases the last call to `write` never returns.\r\n\r\nI have a test utility written in C++ that can successfully write data to the device without issue, so it&#39;s not a hardware problem. I assume I&#39;m doing something wrong with the FileChannels.\r\n","title":"How do you write to a blocking device file using Java?","body":"<p>I have a character special device file on a Linux system (eg /dev/foobardcma6) that I wish to constantly write data to. What is the preferred way to do this in Java?</p>\n<p>I tried using <code>AsynchronousFileChannel</code> and was able to write some bytes to it, but eventually it blocks/hangs when writing. I don't know if this is the right approach or not, however.</p>\n<p>I could use a <code>FileChannel</code>. The write method returns how many bytes were actually written. I assume if it returns less bytes than were requested to write, it means the write buffer is full, and you should wait before writing again. However, I don't see any mechanism to be notified that the file is ready for writing.</p>\n<p><strong>Update:</strong></p>\n<p>I tried using a <code>FileChannel</code>, and it also blocks after a certain number of bytes. The suspicious thing is both the <code>FileChannel</code> and <code>AsychronousFileChannel</code> implementations block after writing <em>exactly</em> the same number of bytes. In both cases the last call to <code>write</code> never returns.</p>\n<p>I have a test utility written in C++ that can successfully write data to the device without issue, so it's not a hardware problem. I assume I'm doing something wrong with the FileChannels.</p>\n"},{"tags":["java","spring","spring-boot","aop","spring-aop"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674061531,"post_id":75162736,"comment_id":132636206,"body_markdown":"Why not use `joinPoint.proceed()`?","body":"Why not use <code>joinPoint.proceed()</code>?"},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1674063532,"post_id":75162736,"comment_id":132636885,"body_markdown":"@Unmitigated, how to do that? Could you please give me an example? Thanks.","body":"@Unmitigated, how to do that? Could you please give me an example? Thanks."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1674072986,"post_id":75162736,"comment_id":132639715,"body_markdown":"I do not think it is possible to do unless you create a new field in `MyRequest` class say EntityA and set that field in the aspect(ater getting hold of myRequest Object in Aspect through `joinPoint.getArgs()`.  And you can access that in myMethod. You can define this new field as `@Transient`\n\nAnother option is you can use a cache for this call `myService.loadFromDB()` so that it is not reloaded from DB.","body":"I do not think it is possible to do unless you create a new field in <code>MyRequest</code> class say EntityA and set that field in the aspect(ater getting hold of myRequest Object in Aspect through <code>joinPoint.getArgs()</code>.  And you can access that in myMethod. You can define this new field as <code>@Transient</code>  Another option is you can use a cache for this call <code>myService.loadFromDB()</code> so that it is not reloaded from DB."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674225975,"creation_date":1674225975,"answer_id":75185578,"question_id":75162736,"body_markdown":"You cannot use aspects to magically inject objects into local variables. The term &quot;local&quot; says it all, does it not? If you use Spring, you should be familiar with a concept called dependency injection. Just use that concept. Instead of creating dependencies by yourself in the method where you need it, make sure that it can be injected from outside. But in this case, it is maybe easier to configure DB caching according to your needs.\r\n\r\nThe main problem with your question is your pseudo code and that neither you nor the code explain the problem you are actually trying to solve. For example, what is `MyRequest request` used for? How does `myService.loadFromDB()` know what exactly to load from the DB. Nobody can help you adequately, if you post code which does not resemble reality.","title":"How to pass an object loaded in aspect function to the annotated method","body":"<p>You cannot use aspects to magically inject objects into local variables. The term &quot;local&quot; says it all, does it not? If you use Spring, you should be familiar with a concept called dependency injection. Just use that concept. Instead of creating dependencies by yourself in the method where you need it, make sure that it can be injected from outside. But in this case, it is maybe easier to configure DB caching according to your needs.</p>\n<p>The main problem with your question is your pseudo code and that neither you nor the code explain the problem you are actually trying to solve. For example, what is <code>MyRequest request</code> used for? How does <code>myService.loadFromDB()</code> know what exactly to load from the DB. Nobody can help you adequately, if you post code which does not resemble reality.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674225975,"creation_date":1674061287,"question_id":75162736,"body_markdown":"I am using spring aop to create an annotation for some crosscut purpose. Below is the sample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Aspect\r\n    @Component\r\n    @Slf4j\r\n    public class MyAspect {\r\n        @Autowired\r\n        private MyService myService\r\n    \r\n        @Before(&quot;@annotation(MyAnnotationCheck)&quot;)\r\n        @SneakyThrows\r\n        public void check(JoinPoint joinPoint) {\r\n            // This is the object that I am going to reload in the\r\n            // function that being marked by the annotation I created.\r\n            // Anyway I can pass this into the annotated method instead\r\n            // of load from db again?\r\n            EntityA myObj = myService.loadFromDB();\r\n            // ...\r\n        }\r\n    }\r\n\r\nFollowing is the method being annotated, which is in different class\r\n        \r\n&lt;!-- language: java --&gt;\r\n\r\n    @MyAnnotationCheck(checkType = &quot;abc&quot;)\r\n    public void myMethod(MyRequest request) {\r\n        EntityA objA = myService.loadFromDB();  // Reload the object from DB\r\n    }\r\n\r\nWhat should I do with it? Anyway I can pass the object from the Aspect function to the method annotated?","title":"How to pass an object loaded in aspect function to the annotated method","body":"<p>I am using spring aop to create an annotation for some crosscut purpose. Below is the sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@Slf4j\npublic class MyAspect {\n    @Autowired\n    private MyService myService\n\n    @Before(&quot;@annotation(MyAnnotationCheck)&quot;)\n    @SneakyThrows\n    public void check(JoinPoint joinPoint) {\n        // This is the object that I am going to reload in the\n        // function that being marked by the annotation I created.\n        // Anyway I can pass this into the annotated method instead\n        // of load from db again?\n        EntityA myObj = myService.loadFromDB();\n        // ...\n    }\n}\n</code></pre>\n<p>Following is the method being annotated, which is in different class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MyAnnotationCheck(checkType = &quot;abc&quot;)\npublic void myMethod(MyRequest request) {\n    EntityA objA = myService.loadFromDB();  // Reload the object from DB\n}\n</code></pre>\n<p>What should I do with it? Anyway I can pass the object from the Aspect function to the method annotated?</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1389113640,"creation_date":1389113640,"answer_id":20977362,"question_id":20966818,"body_markdown":"The sheet margins are not contained in the `XSSFPrintSetup` object, but on the `XSSFSheet` itself.  Use `Sheet`&#39;s [`getMargin`][1] and [`setMargin`][2] methods, passing the appropriate `Sheet` constant for the top/left/bottom/right/header/footer margins.  Set and get the margin in inches.\r\n\r\n    double leftMarginInches = sheet.getMargin(Sheet.LeftMargin);\r\n    sheet.setMargin(Sheet.RightMargin, 0.5 /* inches */ );\r\n\r\n[1]: http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#getMargin(short)\r\n[2]: http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#setMargin(short,%20double)\r\n\r\n    ","title":"Apache POI - setting left/right print margin in Excel","body":"<p>The sheet margins are not contained in the <code>XSSFPrintSetup</code> object, but on the <code>XSSFSheet</code> itself.  Use <code>Sheet</code>'s <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#getMargin%28short%29\"><code>getMargin</code></a> and <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#setMargin%28short,%20double%29\"><code>setMargin</code></a> methods, passing the appropriate <code>Sheet</code> constant for the top/left/bottom/right/header/footer margins.  Set and get the margin in inches.</p>\n\n<pre><code>double leftMarginInches = sheet.getMargin(Sheet.LeftMargin);\nsheet.setMargin(Sheet.RightMargin, 0.5 /* inches */ );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2597086,"reputation":480,"user_id":2250506,"accept_rate":33,"display_name":"Timothy Dooling"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1457990580,"creation_date":1457963414,"answer_id":35989343,"question_id":20966818,"body_markdown":"The enumeration is now MarginType.LeftMargin, -RightMargin\r\n\r\n\r\n\r\n\r\n    double leftMargin = sheet.GetMargin(MarginType.LeftMargin);\r\n    double rightMargin = sheet.GetMargin(MarginType.RightMargin);\r\n\r\n**Update:**\r\n\r\nThe code preceding this code is:\r\n\r\n                var workbook = new XSSFWorkbook();\r\n                var sheet = workbook.CreateSheet(sheetname);\r\n                double leftMargin = sheet.GetMargin(MarginType.LeftMargin);\r\n                double rightMargin = sheet.GetMargin(MarginType.RightMargin);\r\n\r\nThis is indeed the NPOI.\r\n","title":"Apache POI - setting left/right print margin in Excel","body":"<p>The enumeration is now MarginType.LeftMargin, -RightMargin</p>\n\n<pre><code>double leftMargin = sheet.GetMargin(MarginType.LeftMargin);\ndouble rightMargin = sheet.GetMargin(MarginType.RightMargin);\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>The code preceding this code is:</p>\n\n<pre><code>            var workbook = new XSSFWorkbook();\n            var sheet = workbook.CreateSheet(sheetname);\n            double leftMargin = sheet.GetMargin(MarginType.LeftMargin);\n            double rightMargin = sheet.GetMargin(MarginType.RightMargin);\n</code></pre>\n\n<p>This is indeed the NPOI.</p>\n"},{"tags":[],"owner":{"account_id":24630446,"reputation":1,"user_id":18529738,"display_name":"skipper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674225766,"creation_date":1674225766,"answer_id":75185544,"question_id":20966818,"body_markdown":"for Kotlin the following works:\r\n\r\n        // set margins to 0.5 cm = 0.197 inches\r\n        xlWSheet.setMargin(Sheet.LeftMargin, 0.197)\r\n        xlWSheet.setMargin(Sheet.RightMargin, 0.197)\r\n        xlWSheet.setMargin(Sheet.TopMargin, 0.197)\r\n        xlWSheet.setMargin(Sheet.BottomMargin, 0.197)\r\n","title":"Apache POI - setting left/right print margin in Excel","body":"<p>for Kotlin the following works:</p>\n<pre><code>    // set margins to 0.5 cm = 0.197 inches\n    xlWSheet.setMargin(Sheet.LeftMargin, 0.197)\n    xlWSheet.setMargin(Sheet.RightMargin, 0.197)\n    xlWSheet.setMargin(Sheet.TopMargin, 0.197)\n    xlWSheet.setMargin(Sheet.BottomMargin, 0.197)\n</code></pre>\n"}],"owner":{"account_id":1366264,"reputation":1633,"user_id":1302626,"accept_rate":88,"display_name":"robson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14582,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20977362,"answer_count":3,"score":8,"last_activity_date":1674225766,"creation_date":1389082447,"question_id":20966818,"body_markdown":"Is that possible - with apache POI - to set left or right print margin for Excel sheet?\r\n\r\nThe default margins are quite big. I cannot see neither setLeftMargin nor setRightMargin in XSSFPrintSetup, but only header and footer:\r\n\r\n\t\tXSSFPrintSetup printSetup = (XSSFPrintSetup) sheet.getPrintSetup();\r\n\t\tprintSetup.setHeaderMargin(0.5D);\r\n\t\tprintSetup.setFooterMargin(0.5D);\r\n\r\nIs there any kind friend that could help me a little?","title":"Apache POI - setting left/right print margin in Excel","body":"<p>Is that possible - with apache POI - to set left or right print margin for Excel sheet?</p>\n\n<p>The default margins are quite big. I cannot see neither setLeftMargin nor setRightMargin in XSSFPrintSetup, but only header and footer:</p>\n\n<pre><code>    XSSFPrintSetup printSetup = (XSSFPrintSetup) sheet.getPrintSetup();\n    printSetup.setHeaderMargin(0.5D);\n    printSetup.setFooterMargin(0.5D);\n</code></pre>\n\n<p>Is there any kind friend that could help me a little?</p>\n"},{"tags":["java","swing","jpanel","paintcomponent"],"comments":[{"owner":{"account_id":386726,"reputation":281,"user_id":744645,"accept_rate":10,"display_name":"Dipendra Kumar Mishra"},"score":0,"creation_date":1352403141,"post_id":13224421,"comment_id":18130687,"body_markdown":"Thanks David for your help. I did call paintComponent however the damned thing won&#39;t paint over its sibling. I guess glasspane sounds like a solution but will require too much overhead. Will see if I find any other way. By the way I rated your solutions. Thanks.","body":"Thanks David for your help. I did call paintComponent however the damned thing won&#39;t paint over its sibling. I guess glasspane sounds like a solution but will require too much overhead. Will see if I find any other way. By the way I rated your solutions. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1352091144,"creation_date":1352090814,"answer_id":13226050,"question_id":13224421,"body_markdown":"You will need to override `paintComponent(Graphics g)` and do not forget to call `super.paintComponent(Graphics g);`\r\n\r\n    class .... extends JPanel\r\n    {\r\n        @Override\r\n        protected void paintComponent(Graphics g)\r\n        {\r\n            super.paintComponent(g);//honor paintComponent an call super to draw other components that were added to the JPanel\r\n            .......\r\n        }\r\n    }\r\n\r\nYou may also need to override `getPreferredSize(..)` of `JPanel` and return an appropriate size so the `JPanel` will be visible:\r\n\r\n    class .... extends JPanel\r\n    {\r\n        @Override\r\n        public Dimension getPreferredSize()\r\n        {\r\n            return new Dimension(300,300);\r\n        }\r\n    }\r\n\r\nEDIT:\r\n\r\nDepending on what you are doing you may also want to have a look at the [GlassPane][1] which will allow you to set a transparent pane over the entire `JFrame` window and can be painted too, which will cause the graphics to be drawn above all others like so:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\r\n  [2]: http://i.stack.imgur.com/AoFhi.png","title":"Java swing draw objects over other components","body":"<p>You will need to override <code>paintComponent(Graphics g)</code> and do not forget to call <code>super.paintComponent(Graphics g);</code></p>\n\n<pre><code>class .... extends JPanel\n{\n    @Override\n    protected void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);//honor paintComponent an call super to draw other components that were added to the JPanel\n        .......\n    }\n}\n</code></pre>\n\n<p>You may also need to override <code>getPreferredSize(..)</code> of <code>JPanel</code> and return an appropriate size so the <code>JPanel</code> will be visible:</p>\n\n<pre><code>class .... extends JPanel\n{\n    @Override\n    public Dimension getPreferredSize()\n    {\n        return new Dimension(300,300);\n    }\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Depending on what you are doing you may also want to have a look at the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">GlassPane</a> which will allow you to set a transparent pane over the entire <code>JFrame</code> window and can be painted too, which will cause the graphics to be drawn above all others like so:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AoFhi.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":134429,"reputation":3871,"user_id":336557,"accept_rate":78,"display_name":"Mahm00d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674225631,"creation_date":1674225631,"answer_id":75185517,"question_id":13224421,"body_markdown":"This is an old question, but I had the same problem and solved it by overriding **`paintChildren(Graphics g)`** instead of `paintComponent`.\r\n\r\nAs the [Oracle documentation](https://www.oracle.com/java/technologies/painting.html#smart) states, the order of execution for the three `paint` methods is:\r\n\r\n    protected void paintComponent(Graphics g) \r\n        protected void paintBorder(Graphics g)\r\n          protected void paintChildren(Graphics g)\r\n\r\nSo, `paintChildren(g)` is run last, which means whatever we draw inside it is drawn on top of all previously drawn components.","title":"Java swing draw objects over other components","body":"<p>This is an old question, but I had the same problem and solved it by overriding <strong><code>paintChildren(Graphics g)</code></strong> instead of <code>paintComponent</code>.</p>\n<p>As the <a href=\"https://www.oracle.com/java/technologies/painting.html#smart\" rel=\"nofollow noreferrer\">Oracle documentation</a> states, the order of execution for the three <code>paint</code> methods is:</p>\n<pre><code>protected void paintComponent(Graphics g) \n    protected void paintBorder(Graphics g)\n      protected void paintChildren(Graphics g)\n</code></pre>\n<p>So, <code>paintChildren(g)</code> is run last, which means whatever we draw inside it is drawn on top of all previously drawn components.</p>\n"}],"owner":{"account_id":386726,"reputation":281,"user_id":744645,"accept_rate":10,"display_name":"Dipendra Kumar Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6690,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1674225631,"creation_date":1352074848,"question_id":13224421,"body_markdown":"I am trying to make a small paint program. I am drawing objects over a `JPanel` which is on top of `JFrame` (I am using Netbeans 6.9). I have some basic functionality like font, line and fillRectangle. I am using the standard method to draw which is to override `paintComponent()`.\r\n\r\n    class .... extends JPanel\r\n    {\r\n    @Override\r\n    void paintComponents(Graphics g)\r\n    {\r\n    .......\r\n    }\r\n    }\r\n\r\nThe problem is that when I draw a text,line over a region then it is drawn behind it rather than on top of it. Basically I want to draw objects on top of all other objects that have previously been drawn on the `JPanel`. I really do not want to switch to other types of layered pane. One very naive method will be to undo every object and paint them in reverse order (last one first). ","title":"Java swing draw objects over other components","body":"<p>I am trying to make a small paint program. I am drawing objects over a <code>JPanel</code> which is on top of <code>JFrame</code> (I am using Netbeans 6.9). I have some basic functionality like font, line and fillRectangle. I am using the standard method to draw which is to override <code>paintComponent()</code>.</p>\n\n<pre><code>class .... extends JPanel\n{\n@Override\nvoid paintComponents(Graphics g)\n{\n.......\n}\n}\n</code></pre>\n\n<p>The problem is that when I draw a text,line over a region then it is drawn behind it rather than on top of it. Basically I want to draw objects on top of all other objects that have previously been drawn on the <code>JPanel</code>. I really do not want to switch to other types of layered pane. One very naive method will be to undo every object and paint them in reverse order (last one first). </p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":29648,"reputation":2949,"user_id":80286,"accept_rate":97,"display_name":"dev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417538438,"creation_date":1366923046,"answer_id":16224465,"question_id":16222720,"body_markdown":"**UPDATED**\r\nNew answer accepted above instead of this previous one:\r\n\r\n\r\n----------\r\n\r\n\r\nThe answer is [was]:\r\n\r\n  .to(&quot;file:/tmp?fileName=file-${property.uid}&quot;) + &quot;.xml&quot;)\r\n\r\nThis simple expression pulls in the exchange property.  For a complete list of what you can pull in, see the [Simple Expression Language Reference][1]\r\n\r\n\r\n  [1]: http://camel.apache.org/simple.html","title":"Use Exchange Property in Camel DSL &quot;to&quot;","body":"<p><strong>UPDATED</strong>\nNew answer accepted above instead of this previous one:</p>\n\n<hr>\n\n<p>The answer is [was]:</p>\n\n<p>.to(\"file:/tmp?fileName=file-${property.uid}\") + \".xml\")</p>\n\n<p>This simple expression pulls in the exchange property.  For a complete list of what you can pull in, see the <a href=\"http://camel.apache.org/simple.html\" rel=\"nofollow\">Simple Expression Language Reference</a></p>\n"},{"tags":[],"owner":{"account_id":4048595,"reputation":589,"user_id":3329032,"display_name":"Ben Goldin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1574150973,"creation_date":1392910648,"answer_id":21912463,"question_id":16222720,"body_markdown":"The `to` in the Camel is not interpreted at runtime. \r\n\r\nYou should use recipientList if you want to construct your URI dynamically. \r\nSee https://camel.apache.org/manual/latest/faq/how-to-use-a-dynamic-uri-in-to.html\r\n","title":"Use Exchange Property in Camel DSL &quot;to&quot;","body":"<p>The <code>to</code> in the Camel is not interpreted at runtime. </p>\n\n<p>You should use recipientList if you want to construct your URI dynamically. \nSee <a href=\"https://camel.apache.org/manual/latest/faq/how-to-use-a-dynamic-uri-in-to.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/latest/faq/how-to-use-a-dynamic-uri-in-to.html</a></p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674225394,"creation_date":1671088807,"answer_id":74808004,"question_id":16222720,"body_markdown":"Please use `toD()` if you want a dynamic destination. The expression in the parenthesis is interpreted with `simple()` language. No `simple()` needed.\r\n\r\n    toD(&quot;file:/tmp?fileName=file-${exchangeProperty.uid}.xml&quot;)\r\n\r\nBut pay attention to not creating too many endpoints. \r\n\r\nhttps://camel.apache.org/components/3.18.x/eips/toD-eip.html","title":"Use Exchange Property in Camel DSL &quot;to&quot;","body":"<p>Please use <code>toD()</code> if you want a dynamic destination. The expression in the parenthesis is interpreted with <code>simple()</code> language. No <code>simple()</code> needed.</p>\n<pre><code>toD(&quot;file:/tmp?fileName=file-${exchangeProperty.uid}.xml&quot;)\n</code></pre>\n<p>But pay attention to not creating too many endpoints.</p>\n<p><a href=\"https://camel.apache.org/components/3.18.x/eips/toD-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/eips/toD-eip.html</a></p>\n"}],"owner":{"account_id":29648,"reputation":2949,"user_id":80286,"accept_rate":97,"display_name":"dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17309,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":21912463,"answer_count":3,"score":6,"last_activity_date":1674225394,"creation_date":1366916566,"question_id":16222720,"body_markdown":"I want to set a property on a Camel Exchange and then use this property when saving the file.  In my camel dsl I have the following:\r\n\r\n    .process(processorToSetExhangeProperty)  // sets the property &lt;uid&gt; on the exchange\r\n    .to(&quot;file:/tmp?fileName=file-&quot; + property(&quot;uid&quot;) + &quot;.xml&quot;)\r\n\r\nThe file is being saved as:\r\n\r\n    &quot;file-property{uid}.xml&quot; though\r\n\r\nMy processor is as follows:\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        UUID uuid = UUID.randomUUID();\r\n        exchange.setProperty(&quot;uid&quot;, uuid.toString());\r\n        exchange.setOut(exchange.getIn());\r\n    }\r\n\r\nAny thoughts on what may be going wrong or how I can achieve this?  ","title":"Use Exchange Property in Camel DSL &quot;to&quot;","body":"<p>I want to set a property on a Camel Exchange and then use this property when saving the file.  In my camel dsl I have the following:</p>\n\n<pre><code>.process(processorToSetExhangeProperty)  // sets the property &lt;uid&gt; on the exchange\n.to(\"file:/tmp?fileName=file-\" + property(\"uid\") + \".xml\")\n</code></pre>\n\n<p>The file is being saved as:</p>\n\n<pre><code>\"file-property{uid}.xml\" though\n</code></pre>\n\n<p>My processor is as follows:</p>\n\n<pre><code>@Override\npublic void process(Exchange exchange) throws Exception {\n    UUID uuid = UUID.randomUUID();\n    exchange.setProperty(\"uid\", uuid.toString());\n    exchange.setOut(exchange.getIn());\n}\n</code></pre>\n\n<p>Any thoughts on what may be going wrong or how I can achieve this?  </p>\n"},{"tags":["java","android","bottom-sheet","android-bottomsheetdialog","bottomsheetdialogfragment"],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674224334,"creation_date":1674223069,"question_id":75184988,"body_markdown":"I am having a `BottomSheetDialogFragment` with the code below \r\n\r\n```\r\npublic class ClientDetailsModalBSheet extends BottomSheetDialogFragment {\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.modal_bottom_sheet, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nThe problem i am having is that the `Modal BottomSheet` is opening half way the screen can i make it open maybe lets say `3/4` of the screen or something like `70%` of the screen. I have researched and learnt something like `peekHeight` but its only applicable when one is using `Persistent Bottom Sheet`\r\n\r\nI have also tried below code inside onCreateView \r\n\r\n```\r\n\r\n@Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.modal_bottom_sheet, container, false);\r\n\r\n        BottomSheetBehavior&lt;View&gt; behavior = BottomSheetBehavior.from(view);\r\n\r\n        behavior.setPeekHeight(320, true);\r\n        behavior.setState(BottomSheetBehavior.STATE_HALF_EXPANDED);\r\n\r\n        return view;\r\n    }\r\n\r\n```\r\n\r\nBut the app is crashing and i am getting below error \r\n\r\n```\r\n\r\n java.lang.IllegalArgumentException: The view is not a child of CoordinatorLayout\r\n        at com.google.android.material.bottomsheet.BottomSheetBehavior.from(BottomSheetBehavior.java:1997)\r\n        at .fragments.ClientDetailsModalBSheet.onCreateView(ClientDetailsModalBSheet.java:23)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\r\n        at androidx.fragment.app.DialogFragment.performCreateView(DialogFragment.java:510)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\r\n        at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:547)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6518)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n\r\n```\r\n\r\n\r\n","title":"BottomSheetDialogFragment Open at specific height java","body":"<p>I am having a <code>BottomSheetDialogFragment</code> with the code below</p>\n<pre><code>public class ClientDetailsModalBSheet extends BottomSheetDialogFragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.modal_bottom_sheet, container, false);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n    }\n\n\n}\n\n</code></pre>\n<p>The problem i am having is that the <code>Modal BottomSheet</code> is opening half way the screen can i make it open maybe lets say <code>3/4</code> of the screen or something like <code>70%</code> of the screen. I have researched and learnt something like <code>peekHeight</code> but its only applicable when one is using <code>Persistent Bottom Sheet</code></p>\n<p>I have also tried below code inside onCreateView</p>\n<pre><code>\n@Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.modal_bottom_sheet, container, false);\n\n        BottomSheetBehavior&lt;View&gt; behavior = BottomSheetBehavior.from(view);\n\n        behavior.setPeekHeight(320, true);\n        behavior.setState(BottomSheetBehavior.STATE_HALF_EXPANDED);\n\n        return view;\n    }\n\n</code></pre>\n<p>But the app is crashing and i am getting below error</p>\n<pre><code>\n java.lang.IllegalArgumentException: The view is not a child of CoordinatorLayout\n        at com.google.android.material.bottomsheet.BottomSheetBehavior.from(BottomSheetBehavior.java:1997)\n        at .fragments.ClientDetailsModalBSheet.onCreateView(ClientDetailsModalBSheet.java:23)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\n        at androidx.fragment.app.DialogFragment.performCreateView(DialogFragment.java:510)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\n        at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:547)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6518)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":9854324,"reputation":1530,"user_id":7299340,"accept_rate":76,"display_name":"Harshit"},"score":0,"creation_date":1594077062,"post_id":62765711,"comment_id":110994528,"body_markdown":"`id` field will always be present in the document. However, if you don&#39;t want it then remove it from your mappings instead? or you can use queries to fetch documents and can exclude `id` field. Ref: https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-source-field.html#include-exclude","body":"<code>id</code> field will always be present in the document. However, if you don&#39;t want it then remove it from your mappings instead? or you can use queries to fetch documents and can exclude <code>id</code> field. Ref: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-source-field.html#include-exclude\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>"},{"owner":{"account_id":7593446,"reputation":293,"user_id":5760338,"display_name":"Oliver Henlich"},"score":0,"creation_date":1594077334,"post_id":62765711,"comment_id":110994581,"body_markdown":"Thanks @Harshit. Like I said in my question, up until now we have not had a `_source.id` field in our documents. \nThanks for the link.","body":"Thanks @Harshit. Like I said in my question, up until now we have not had a <code>_source.id</code> field in our documents.  Thanks for the link."}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1668752123,"creation_date":1594148792,"answer_id":62782212,"question_id":62765711,"body_markdown":"**Question 1:**\r\n\r\nTo omit the id field from the *_source*, you would normally use the `@Transient` annotation, but as you wrote, this does not work for the id property. Transient properties are ignored in Spring Data modules (not only Spring Data Elasticsearch).\r\n\r\nBut you you can use the `org.springframework.data.annotation.ReadOnlyProperty` annotation for this:\r\n\r\n    @Id\r\n    @ReadOnlyProperty\r\n    private String id;\r\n\r\nTo be honest, I didn&#39;t know up to now that this exists, this comes from Spring Data Commons as well and is checked in the `isWriteable()` method of the property when properties are written by the `MappingElasticsearchConverter` .\r\n\r\n**Question 2:**\r\n\r\nSurely not incorrect, but problematic as you found out. We always consider the whole entity when storing it, so we never thought about not writing the id. Strictly speaking, it is not necessary, there you&#39;re right, because we always get the id back in the *_id*  field together with the *_source*, so we can easily put the entity back together, but we never considered this a necessary feature to have.\r\n\r\n**Note:**\r\n\r\nWhen you look at the data in your ES index you will find that with the `MappingElasticsearchConverter` an additional *_source* field named *_class* is written which contains the name of the entity class (or a defined alias). This allows for mapping generics; for further info [check the documentation][1] - just in case you wonder where this comes from.\r\n\r\n\r\n**Edit 18.11.2022:**\r\n\r\nRecently (with version 4.4.3) we had a change that fixed a wrong behaviour in Spring Data Elasticsearch: Spring Data Elasticsearch must not write data into a property that is marked with `@ReadOnlyProperty`. This leads to the proposed solution not working any longer because on reading data from Elasticsearch the id property is not filled anymore.\r\n\r\nTo get the id property being set in this case it is necessary to add an `AfterConvertCallback` to your application:\r\n\r\n```java\r\n#import org.springframework.data.elasticsearch.core.event.AfterConvertCallback;\r\n\r\n@Component\r\npublic class EntityAfterConvertCallback implements AfterConvertCallback&lt;EsDocument&gt; {\r\n\r\n\t@Override\r\n\tpublic EsDocument onAfterConvert(EsDocument entity, Document document, IndexCoordinates indexCoordinates) {\r\n\t\tentity.setId(document.getId());\r\n\t\treturn entity;\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/4.0.1.RELEASE/reference/html/#elasticsearch.mapping.meta-model.rules","title":"Spring Data Elasticsearch (4.x) - Using @Id forces id field in _source","body":"<p><strong>Question 1:</strong></p>\n<p>To omit the id field from the <em>_source</em>, you would normally use the <code>@Transient</code> annotation, but as you wrote, this does not work for the id property. Transient properties are ignored in Spring Data modules (not only Spring Data Elasticsearch).</p>\n<p>But you you can use the <code>org.springframework.data.annotation.ReadOnlyProperty</code> annotation for this:</p>\n<pre><code>@Id\n@ReadOnlyProperty\nprivate String id;\n</code></pre>\n<p>To be honest, I didn't know up to now that this exists, this comes from Spring Data Commons as well and is checked in the <code>isWriteable()</code> method of the property when properties are written by the <code>MappingElasticsearchConverter</code> .</p>\n<p><strong>Question 2:</strong></p>\n<p>Surely not incorrect, but problematic as you found out. We always consider the whole entity when storing it, so we never thought about not writing the id. Strictly speaking, it is not necessary, there you're right, because we always get the id back in the <em>_id</em>  field together with the <em>_source</em>, so we can easily put the entity back together, but we never considered this a necessary feature to have.</p>\n<p><strong>Note:</strong></p>\n<p>When you look at the data in your ES index you will find that with the <code>MappingElasticsearchConverter</code> an additional <em>_source</em> field named <em>_class</em> is written which contains the name of the entity class (or a defined alias). This allows for mapping generics; for further info <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.0.1.RELEASE/reference/html/#elasticsearch.mapping.meta-model.rules\" rel=\"nofollow noreferrer\">check the documentation</a> - just in case you wonder where this comes from.</p>\n<p><strong>Edit 18.11.2022:</strong></p>\n<p>Recently (with version 4.4.3) we had a change that fixed a wrong behaviour in Spring Data Elasticsearch: Spring Data Elasticsearch must not write data into a property that is marked with <code>@ReadOnlyProperty</code>. This leads to the proposed solution not working any longer because on reading data from Elasticsearch the id property is not filled anymore.</p>\n<p>To get the id property being set in this case it is necessary to add an <code>AfterConvertCallback</code> to your application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>#import org.springframework.data.elasticsearch.core.event.AfterConvertCallback;\n\n@Component\npublic class EntityAfterConvertCallback implements AfterConvertCallback&lt;EsDocument&gt; {\n\n    @Override\n    public EsDocument onAfterConvert(EsDocument entity, Document document, IndexCoordinates indexCoordinates) {\n        entity.setId(document.getId());\n        return entity;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7593446,"reputation":293,"user_id":5760338,"display_name":"Oliver Henlich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3417,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":62782212,"answer_count":1,"score":8,"last_activity_date":1674224326,"creation_date":1594076447,"question_id":62765711,"body_markdown":"Summary\r\n-------\r\nRecently we upgraded to Spring Data Elasticsearch 4.x. Part of this major release meant that Jackson is no longer used to convert our domain objects to json (using `MappingElasticsearchConverter` instead) [1]. This means we are now forced to add a new `id` field to all our documents.\r\n\r\nPreviously we had domain objects like this:\r\n```\r\nimport org.springframework.data.annotation.Id;\r\n\r\npublic ESDocument {\r\n    @Id\r\n    private String id;\r\n\r\n    private String field1;\r\n\r\n    @JsonIgnore\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getField1() {\r\n        return field1;\r\n    }\r\n```\r\n\r\nWhich resulted in documents like this in ES:\r\n```\r\n{\r\n  &quot;_index&quot; : &quot;test_index&quot;,\r\n  &quot;_type&quot; : &quot;_doc&quot;,\r\n  &quot;_id&quot; : &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\r\n  &quot;_score&quot; : 1.0,\r\n  &quot;_source&quot; : {\r\n    &quot;field1&quot; : &quot;blabla&quot;\r\n  }\r\n}\r\n```\r\n\r\nNote that:\r\n 1. The `@JsonIgnore` annotation used to ensure that we were __not__ required to have a `id` field in the `_source`.\r\n 2. We are setting the document id ourselves and it ends up in `_id`.\r\n\r\nProblem\r\n-------\r\nWith Spring Data Elastic 4.x the `@JsonIgnore` annotation is no longer respected which means we are now forced to have an `id` field in the `_source` as shown below:\r\n```\r\n{\r\n  &quot;_index&quot; : &quot;test_index&quot;,\r\n  &quot;_type&quot; : &quot;_doc&quot;,\r\n  &quot;_id&quot; : &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\r\n  &quot;_score&quot; : 1.0,\r\n  &quot;_source&quot; : {\r\n    &quot;id&quot;: &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\r\n    &quot;field1&quot; : &quot;blabla&quot;\r\n  }\r\n}\r\n```\r\n\r\nQuestions\r\n---------\r\n 1. Is it no longer possible to omit the duplication of the identifier of the document (i.e. in the `_id` and `id` fields)? If so how? (Note we already tried `@org.springframework.data.annotation.Transient` which does not work because spring-data-elastic then thinks our document does not have an id).\r\n 2. Was our previous approach of suppressing the `id` field in `_source` incorrect or problematic?\r\n\r\nVersions\r\n--------\r\njava: 1.8.0_252  \r\nelasticsearch: 7.6.2  \r\nspring-boot: 2.3.1.RELEASE  \r\nspring-data-elastic: 4.0.1.RELEASE  \r\n\r\nReferences\r\n----------\r\n[1] - https://spring.io/blog/2020/05/27/what-s-new-in-spring-data-elasticsearch-4-0","title":"Spring Data Elasticsearch (4.x) - Using @Id forces id field in _source","body":"<h2>Summary</h2>\n<p>Recently we upgraded to Spring Data Elasticsearch 4.x. Part of this major release meant that Jackson is no longer used to convert our domain objects to json (using <code>MappingElasticsearchConverter</code> instead) [1]. This means we are now forced to add a new <code>id</code> field to all our documents.</p>\n<p>Previously we had domain objects like this:</p>\n<pre><code>import org.springframework.data.annotation.Id;\n\npublic ESDocument {\n    @Id\n    private String id;\n\n    private String field1;\n\n    @JsonIgnore\n    public String getId() {\n        return id;\n    }\n\n    public String getField1() {\n        return field1;\n    }\n</code></pre>\n<p>Which resulted in documents like this in ES:</p>\n<pre><code>{\n  &quot;_index&quot; : &quot;test_index&quot;,\n  &quot;_type&quot; : &quot;_doc&quot;,\n  &quot;_id&quot; : &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\n  &quot;_score&quot; : 1.0,\n  &quot;_source&quot; : {\n    &quot;field1&quot; : &quot;blabla&quot;\n  }\n}\n</code></pre>\n<p>Note that:</p>\n<ol>\n<li>The <code>@JsonIgnore</code> annotation used to ensure that we were <strong>not</strong> required to have a <code>id</code> field in the <code>_source</code>.</li>\n<li>We are setting the document id ourselves and it ends up in <code>_id</code>.</li>\n</ol>\n<h2>Problem</h2>\n<p>With Spring Data Elastic 4.x the <code>@JsonIgnore</code> annotation is no longer respected which means we are now forced to have an <code>id</code> field in the <code>_source</code> as shown below:</p>\n<pre><code>{\n  &quot;_index&quot; : &quot;test_index&quot;,\n  &quot;_type&quot; : &quot;_doc&quot;,\n  &quot;_id&quot; : &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\n  &quot;_score&quot; : 1.0,\n  &quot;_source&quot; : {\n    &quot;id&quot;: &quot;d5bf7b5c-7a44-42f9-94d6-d59fe3988482&quot;,\n    &quot;field1&quot; : &quot;blabla&quot;\n  }\n}\n</code></pre>\n<h2>Questions</h2>\n<ol>\n<li>Is it no longer possible to omit the duplication of the identifier of the document (i.e. in the <code>_id</code> and <code>id</code> fields)? If so how? (Note we already tried <code>@org.springframework.data.annotation.Transient</code> which does not work because spring-data-elastic then thinks our document does not have an id).</li>\n<li>Was our previous approach of suppressing the <code>id</code> field in <code>_source</code> incorrect or problematic?</li>\n</ol>\n<h2>Versions</h2>\n<p>java: 1.8.0_252<br />\nelasticsearch: 7.6.2<br />\nspring-boot: 2.3.1.RELEASE<br />\nspring-data-elastic: 4.0.1.RELEASE</p>\n<h2>References</h2>\n<p>[1] - <a href=\"https://spring.io/blog/2020/05/27/what-s-new-in-spring-data-elasticsearch-4-0\" rel=\"noreferrer\">https://spring.io/blog/2020/05/27/what-s-new-in-spring-data-elasticsearch-4-0</a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":7298128,"reputation":66,"user_id":5562053,"display_name":"Marco Belladelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674223950,"creation_date":1674223950,"answer_id":75185179,"question_id":75162805,"body_markdown":"As for the `jakarta.persistence.GenerationType` javadoc, `TABLE` is used to indicate the primary keys should be stored in an underlying database table - which is separate from the entities tables - whether you are using inheritance or not.\r\n\r\nIf you want `id` to be an `IDENTITY` column for each table you should use the `GenerationType.IDENTITY` strategy.","title":"Why do we need a sepearte table for TABLE strategy in hibernate?","body":"<p>As for the <code>jakarta.persistence.GenerationType</code> javadoc, <code>TABLE</code> is used to indicate the primary keys should be stored in an underlying database table - which is separate from the entities tables - whether you are using inheritance or not.</p>\n<p>If you want <code>id</code> to be an <code>IDENTITY</code> column for each table you should use the <code>GenerationType.IDENTITY</code> strategy.</p>\n"}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674224195,"creation_date":1674061656,"question_id":75162805,"body_markdown":"My question is, why do we need a sequence table for table strategy in hibernate inheritance, which id generation must be equal to TABLE? Can&#39;t each entity use the IDENTITY column of each table?\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE)\r\n        @Column(updatable = false, nullable = false, insertable = false)\r\n        protected int id;","title":"Why do we need a sepearte table for TABLE strategy in hibernate?","body":"<p>My question is, why do we need a sequence table for table strategy in hibernate inheritance, which id generation must be equal to TABLE? Can't each entity use the IDENTITY column of each table?</p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    @Column(updatable = false, nullable = false, insertable = false)\n    protected int id;\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"owner":{"account_id":13364598,"reputation":119,"user_id":9645351,"display_name":"Oleksandr Onopriienko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674224077,"creation_date":1674224077,"question_id":75185205,"body_markdown":"I have the following Swagger configuration\r\n\r\n     @Bean\r\n        @RouterOperation(path = PEOPLE_SEARCH_URL, produces = {MediaType.APPLICATION_JSON_VALUE},\r\n                beanClass = PersonSearchHandler.class, method = RequestMethod.GET, beanMethod = &quot;getSearchResponse&quot;,\r\n                operation = @Operation(operationId = &quot;getSearchResponse&quot;, security = {@SecurityRequirement(name = &quot;Bearer Authentication&quot;)},\r\n                        responses = {\r\n                                @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successful operation&quot;,\r\n                                        content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                                                schema = @Schema(implementation = SearchResponse.class))\r\n                                )},\r\n                        parameters = {@Parameter(in = ParameterIn.QUERY, name = &quot;request&quot;,\r\n                                description = &quot;SearchRequest object in JSON format converted to base64&quot;,\r\n                                schema = @Schema(implementation = SearchRequest.class))}\r\n                ))\r\n\r\nMy endpoint receives serialised SearchRequest object, which is encoded with Base64.\r\nOn swagger-ui I put encoded string , not Json object\r\nThe problem is - when I try to pass request param encoded with Base64 from Swagger UI, it validates this string against schema implementation = SearchRequest.class. But just remove @Schema is not an option, since I need to have request example and possibility to pass base64 encoded string.\r\nSo , I looking for work around and find some options:\r\n1) Remove @Schema and just add &#39;example&#39; to @Parameter. But SearchRequest consists a lot fields, so it is expanded to a lot of lines and look very bad.\r\n\r\n2) In some way, if it possible, disable validation against schema , so I can just put encoded string in request param.\r\n\r\nI will be very grateful for any workarounds and advices.\r\n","title":"How to add parameter example from Java class in Swagger","body":"<p>I have the following Swagger configuration</p>\n<pre><code> @Bean\n    @RouterOperation(path = PEOPLE_SEARCH_URL, produces = {MediaType.APPLICATION_JSON_VALUE},\n            beanClass = PersonSearchHandler.class, method = RequestMethod.GET, beanMethod = &quot;getSearchResponse&quot;,\n            operation = @Operation(operationId = &quot;getSearchResponse&quot;, security = {@SecurityRequirement(name = &quot;Bearer Authentication&quot;)},\n                    responses = {\n                            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successful operation&quot;,\n                                    content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\n                                            schema = @Schema(implementation = SearchResponse.class))\n                            )},\n                    parameters = {@Parameter(in = ParameterIn.QUERY, name = &quot;request&quot;,\n                            description = &quot;SearchRequest object in JSON format converted to base64&quot;,\n                            schema = @Schema(implementation = SearchRequest.class))}\n            ))\n</code></pre>\n<p>My endpoint receives serialised SearchRequest object, which is encoded with Base64.\nOn swagger-ui I put encoded string , not Json object\nThe problem is - when I try to pass request param encoded with Base64 from Swagger UI, it validates this string against schema implementation = SearchRequest.class. But just remove @Schema is not an option, since I need to have request example and possibility to pass base64 encoded string.\nSo , I looking for work around and find some options:</p>\n<ol>\n<li><p>Remove @Schema and just add 'example' to @Parameter. But SearchRequest consists a lot fields, so it is expanded to a lot of lines and look very bad.</p>\n</li>\n<li><p>In some way, if it possible, disable validation against schema , so I can just put encoded string in request param.</p>\n</li>\n</ol>\n<p>I will be very grateful for any workarounds and advices.</p>\n"},{"tags":["java","android","webview","cors"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1674224044,"creation_date":1674224044,"answer_id":75185199,"question_id":75182416,"body_markdown":"You should add internet permission in Manifest.xml \r\n\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nand follow [this][1] instruction for **Network Security Configuration**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53984915/18362930","title":"Android studio webview does not allow cors","body":"<p>You should add internet permission in Manifest.xml</p>\n<blockquote>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n</blockquote>\n<p>and follow <a href=\"https://stackoverflow.com/a/53984915/18362930\">this</a> instruction for <strong>Network Security Configuration</strong></p>\n"}],"owner":{"account_id":27567089,"reputation":13,"user_id":21039067,"display_name":"Lennard K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75185199,"answer_count":1,"score":1,"last_activity_date":1674224044,"creation_date":1674208733,"question_id":75182416,"body_markdown":"I creating a android application and i want to load data from my server but if i load the data i get a &quot;TypeError: Failed to fetch&quot;. \r\n\r\nI have tried many ways. I also tried just to load google.com inside the webpage and it also doesn&#39;t work. \r\n\r\nAll my files:\r\n\r\nMain_actifity.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout android:id=&quot;@+id/ContentFrame&quot;  \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; \r\n    android:layout_height=&quot;match_parent&quot;\r\n    /&gt;\r\n\r\n\r\nMainActivity.java\r\n\r\n    package com.enervisie.enervisieinspect;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.content.pm.ActivityInfo;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebResourceRequest;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebViewClient;\r\n    import android.webkit.WebChromeClient;\r\n    import android.webkit.WebView;\r\n    import android.view.View;\r\n    import android.webkit.SslErrorHandler;\r\n    import android.net.http.SslError;\r\n    import android.widget.FrameLayout;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); // Landscape\r\n\r\n\r\n        View decorView = getWindow().getDecorView();\r\n        int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN;\r\n        decorView.setSystemUiVisibility(uiOptions);\r\n\r\n        // WebView\r\n        FrameLayout contentFrame = (FrameLayout) findViewById(R.id.ContentFrame);\r\n        WebView mWebView = new WebView(this);\r\n\r\n        mWebView.getSettings().setJavaScriptEnabled(true);\r\n        mWebView.getSettings().setAllowFileAccessFromFileURLs(true);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\r\n            mWebView.getSettings().setAllowUniversalAccessFromFileURLs(true);\r\n        }\r\n\r\n        mWebView.getSettings().setLoadWithOverviewMode(true);\r\n        mWebView.getSettings().setBuiltInZoomControls(false);\r\n        mWebView.getSettings().setDatabaseEnabled(true);\r\n        mWebView.getSettings().setDomStorageEnabled(true);\r\n        mWebView.getSettings().setAllowContentAccess(true);\r\n\r\n        mWebView.getSettings().setSupportZoom(false);\r\n        mWebView.setWebChromeClient(new WebChromeClient());\r\n        mWebView.setInitialScale(0);\r\n\r\n\r\n        mWebView.setWebViewClient(new WebViewClient() {\r\n            public void onReceivedSslError (WebView view, SslErrorHandler handler, SslError error) {\r\n                handler.proceed() ;\r\n            }\r\n        });\r\n\r\n        mWebView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n                view.loadUrl(request.getUrl().toString());\r\n                return false;\r\n            }\r\n        });\r\n\r\n        mWebView.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n\r\n        contentFrame.removeAllViews();\r\n        contentFrame.addView(mWebView);\r\n    }\r\n\r\n    public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\r\n        setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); // Landscape\r\n        handler.proceed(); // Ignore SSL certificate errors\r\n    }\r\n\r\n    }\r\n\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.EnervisieInspect&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\nI was expecting to load data from my webserver and send data to my webserver.","title":"Android studio webview does not allow cors","body":"<p>I creating a android application and i want to load data from my server but if i load the data i get a &quot;TypeError: Failed to fetch&quot;.</p>\n<p>I have tried many ways. I also tried just to load google.com inside the webpage and it also doesn't work.</p>\n<p>All my files:</p>\n<p>Main_actifity.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout android:id=&quot;@+id/ContentFrame&quot;  \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; \nandroid:layout_height=&quot;match_parent&quot;\n/&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>package com.enervisie.enervisieinspect;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.pm.ActivityInfo;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebSettings;\nimport android.webkit.WebViewClient;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.view.View;\nimport android.webkit.SslErrorHandler;\nimport android.net.http.SslError;\nimport android.widget.FrameLayout;\n\npublic class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); // Landscape\n\n\n    View decorView = getWindow().getDecorView();\n    int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_FULLSCREEN;\n    decorView.setSystemUiVisibility(uiOptions);\n\n    // WebView\n    FrameLayout contentFrame = (FrameLayout) findViewById(R.id.ContentFrame);\n    WebView mWebView = new WebView(this);\n\n    mWebView.getSettings().setJavaScriptEnabled(true);\n    mWebView.getSettings().setAllowFileAccessFromFileURLs(true);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\n        mWebView.getSettings().setAllowUniversalAccessFromFileURLs(true);\n    }\n\n    mWebView.getSettings().setLoadWithOverviewMode(true);\n    mWebView.getSettings().setBuiltInZoomControls(false);\n    mWebView.getSettings().setDatabaseEnabled(true);\n    mWebView.getSettings().setDomStorageEnabled(true);\n    mWebView.getSettings().setAllowContentAccess(true);\n\n    mWebView.getSettings().setSupportZoom(false);\n    mWebView.setWebChromeClient(new WebChromeClient());\n    mWebView.setInitialScale(0);\n\n\n    mWebView.setWebViewClient(new WebViewClient() {\n        public void onReceivedSslError (WebView view, SslErrorHandler handler, SslError error) {\n            handler.proceed() ;\n        }\n    });\n\n    mWebView.setWebViewClient(new WebViewClient() {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n            view.loadUrl(request.getUrl().toString());\n            return false;\n        }\n    });\n\n    mWebView.loadUrl(&quot;file:///android_asset/index.html&quot;);\n\n    contentFrame.removeAllViews();\n    contentFrame.addView(mWebView);\n}\n\npublic void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\n    setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE); // Landscape\n    handler.proceed(); // Ignore SSL certificate errors\n}\n\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.EnervisieInspect&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I was expecting to load data from my webserver and send data to my webserver.</p>\n"},{"tags":["java","selenium","pagination"],"comments":[{"owner":{"account_id":5613946,"reputation":499,"user_id":4445920,"display_name":"Manish"},"score":0,"creation_date":1674214403,"post_id":75183376,"comment_id":132671247,"body_markdown":"please share the link to the page you are testing and any credentials that might be required to view the list. Also the error message and screenshot of the web element would be helpful","body":"please share the link to the page you are testing and any credentials that might be required to view the list. Also the error message and screenshot of the web element would be helpful"}],"answers":[{"tags":[],"owner":{"account_id":5613946,"reputation":499,"user_id":4445920,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674214831,"creation_date":1674214831,"answer_id":75183538,"question_id":75183376,"body_markdown":"You could try this path `//nav[@role=&#39;navigation&#39;]/div` This would give you 6 elements. 5 for the pages and 1 for the next button\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cef5j.png\r\n\r\n\r\nIf this is not the correct page, please share the URL and the element, I will try to provide a solution. ","title":"Pagination in selenium","body":"<p>You could try this path <code>//nav[@role='navigation']/div</code> This would give you 6 elements. 5 for the pages and 1 for the next button</p>\n<p><a href=\"https://i.stack.imgur.com/cef5j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cef5j.png\" alt=\"enter image description here\" /></a></p>\n<p>If this is not the correct page, please share the URL and the element, I will try to provide a solution.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674223918,"creation_date":1674223354,"answer_id":75185059,"question_id":75183376,"body_markdown":"The website [indeed.com](https://www.indeed.com/) have changed since the article [Web Scraping using selenium and Java](https://medium.com/@jidhiya_6779/web-scraping-using-selenium-and-java-6ef126bec672) was written. The pagination elements have changed. Currently the pagination is implemented through:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;nav role=&quot;navigation&quot; aria-label=&quot;pagination&quot; class=&quot;css-jbuxu0 ecydgvn0&quot;&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;button data-testid=&quot;pagination-page-current&quot; class=&quot;css-1cpyzlr e8ju0x51&quot;&gt;1&lt;/button&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-2&quot; rel=&quot;nofollow&quot; aria-label=&quot;2&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=10&quot; class=&quot;css-e9oyys e8ju0x50&quot;&gt;2&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-3&quot; rel=&quot;nofollow&quot; aria-label=&quot;3&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=20&quot; class=&quot;css-e9oyys e8ju0x50&quot;&gt;3&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-4&quot; rel=&quot;nofollow&quot; aria-label=&quot;4&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=30&quot; class=&quot;css-e9oyys e8ju0x50&quot;&gt;4&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-5&quot; rel=&quot;nofollow&quot; aria-label=&quot;5&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=40&quot; class=&quot;css-e9oyys e8ju0x50&quot;&gt;5&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;css-tvvxwd ecydgvn1&quot;&gt;\r\n    \t\t&lt;a data-testid=&quot;pagination-page-next&quot; rel=&quot;nofollow&quot; aria-label=&quot;Next Page&quot; href=&quot;/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=10&quot; class=&quot;css-cy0uue e8ju0x50&quot;&gt;\r\n    \t\t\t&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; focusable=&quot;false&quot; role=&quot;img&quot; fill=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot; class=&quot;css-1xqhio eac13zx0&quot;&gt;\r\n    \t\t\t\t&lt;path d=&quot;M9.888 5.998a.506.506 0 00-.716-.008l-.707.707a.506.506 0 00.01.716L13.06 12l-4.587 4.587c-.2.2-.204.521-.009.716l.707.707a.507.507 0 00.717-.009l5.647-5.648c.1-.1.148-.233.144-.366a.492.492 0 00-.144-.34v-.001a.611.611 0 00-.009-.009L9.888 5.998z&quot;&gt;\r\n    \t\t\t\t&lt;/path&gt;\r\n    \t\t\t&lt;/svg&gt;\r\n    \t\t&lt;/a&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/nav&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nInstead of creating a list of the pagination elements, as the pagination keeps on increasing as you move forward you can use the following solution:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\tChromeDriver driver = new ChromeDriver(options);\r\n\tdriver.get(&quot;https://in.indeed.com/&quot;);\r\n\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\r\n\t// Create a Scanner object to prompt for user input\r\n\tScanner myObj = new Scanner(System.in);\r\n\tSystem.out.println(&quot;What jobs are you looking for ? &quot;);\r\n\tString job = myObj.nextLine();\r\n\tSystem.out.println(&quot;Which city are you looking for ? &quot;);\r\n\tString city = myObj.nextLine();\r\n\twait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#text-input-what&quot;))).sendKeys(job);\r\n\tdriver.findElement(By.cssSelector(&quot;input#text-input-where&quot;)).sendKeys(city + Keys.RETURN);\r\n\tfor (int j=1; j&lt;6; j++)\r\n\t{\r\n\t\tdriver.findElement(By.xpath(&quot;//button[@data-testid=&#39;pagination-page-current&#39;]//following::div[1]/a[@data-testid]&quot;)).click();\r\n\t\tThread.sleep(15000);\r\n\t}\r\n\r\nNote: \r\n\r\n- Here `6` is the number of (pages-1) you want to scrape.\r\n- `Thread.sleep(15000)` is to provide the window to pulate _Email Address_ after the first click on pagination item.","title":"Pagination in selenium","body":"<p>The website <a href=\"https://www.indeed.com/\" rel=\"nofollow noreferrer\">indeed.com</a> have changed since the article <a href=\"https://medium.com/@jidhiya_6779/web-scraping-using-selenium-and-java-6ef126bec672\" rel=\"nofollow noreferrer\">Web Scraping using selenium and Java</a> was written. The pagination elements have changed. Currently the pagination is implemented through:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;nav role=\"navigation\" aria-label=\"pagination\" class=\"css-jbuxu0 ecydgvn0\"&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;button data-testid=\"pagination-page-current\" class=\"css-1cpyzlr e8ju0x51\"&gt;1&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-2\" rel=\"nofollow\" aria-label=\"2\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=10\" class=\"css-e9oyys e8ju0x50\"&gt;2&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-3\" rel=\"nofollow\" aria-label=\"3\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=20\" class=\"css-e9oyys e8ju0x50\"&gt;3&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-4\" rel=\"nofollow\" aria-label=\"4\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=30\" class=\"css-e9oyys e8ju0x50\"&gt;4&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-5\" rel=\"nofollow\" aria-label=\"5\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=40\" class=\"css-e9oyys e8ju0x50\"&gt;5&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"css-tvvxwd ecydgvn1\"&gt;\n        &lt;a data-testid=\"pagination-page-next\" rel=\"nofollow\" aria-label=\"Next Page\" href=\"/jobs?q=Api+Testing&amp;amp;l=Pune&amp;amp;start=10\" class=\"css-cy0uue e8ju0x50\"&gt;\n            &lt;svg xmlns=\"http://www.w3.org/2000/svg\" focusable=\"false\" role=\"img\" fill=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" class=\"css-1xqhio eac13zx0\"&gt;\n                &lt;path d=\"M9.888 5.998a.506.506 0 00-.716-.008l-.707.707a.506.506 0 00.01.716L13.06 12l-4.587 4.587c-.2.2-.204.521-.009.716l.707.707a.507.507 0 00.717-.009l5.647-5.648c.1-.1.148-.233.144-.366a.492.492 0 00-.144-.34v-.001a.611.611 0 00-.009-.009L9.888 5.998z\"&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/a&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<h2>Solution</h2>\n<p>Instead of creating a list of the pagination elements, as the pagination keeps on increasing as you move forward you can use the following solution:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nChromeDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://in.indeed.com/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\n// Create a Scanner object to prompt for user input\nScanner myObj = new Scanner(System.in);\nSystem.out.println(&quot;What jobs are you looking for ? &quot;);\nString job = myObj.nextLine();\nSystem.out.println(&quot;Which city are you looking for ? &quot;);\nString city = myObj.nextLine();\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#text-input-what&quot;))).sendKeys(job);\ndriver.findElement(By.cssSelector(&quot;input#text-input-where&quot;)).sendKeys(city + Keys.RETURN);\nfor (int j=1; j&lt;6; j++)\n{\n    driver.findElement(By.xpath(&quot;//button[@data-testid='pagination-page-current']//following::div[1]/a[@data-testid]&quot;)).click();\n    Thread.sleep(15000);\n}\n</code></pre>\n<p>Note:</p>\n<ul>\n<li>Here <code>6</code> is the number of (pages-1) you want to scrape.</li>\n<li><code>Thread.sleep(15000)</code> is to provide the window to pulate <em>Email Address</em> after the first click on pagination item.</li>\n</ul>\n"}],"owner":{"account_id":448713,"reputation":304,"user_id":843075,"accept_rate":17,"display_name":"fdama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1674223918,"creation_date":1674213871,"question_id":75183376,"body_markdown":"I&#39;m new to selenium and following a small [tutorial][1] on scraping that scrapes jobs from indeed.com, but I am having issues as it seems some of the elements have been renamed since the tutorial was written. I&#39;m stuck on this part:\r\n\r\n    List&lt;WebElement&gt; pagination = driver.findElements(By.xpath(&quot;//ul[@class=&#39;pagination-\r\n    list&#39;]/li&quot;));\r\n    int pgSize = pagination.size();\r\n    for (int j = 1; j &lt; pgSize; j++) {\r\n    Thread.sleep(1000);\r\n    WebElement pagei = driver.findElement(By.xpath(&quot;(//ul[@class=&#39;pagination-list&#39;]/li)[&quot; + j + &quot;]&quot;));\r\n    pagei.click();\r\n\r\nThe xpath needs to be updated as the element can no longer be found. I have changed the xpath to this, but the list does not get populated:\r\n\r\n    //nav[@aria-label=&#39;pagination&#39;]\r\n\r\nWhen I do this, it prints zero which means no elements have been added to the list:\r\n\r\n    List&lt;WebElement&gt; pagination = driver.findElements(By.xpath(&quot;//nav[@aria-label=&#39;pagination&#39;]&quot;));\r\n\t\tint size = pagination.size();\r\n\t\tSystem.out.println(size);\r\n\r\n \r\n\r\nIs this the correct xpath? I&#39;m not certain as to what is supposed to get populated into the list of Webelements? Should they be page numbers? \r\n\r\n\r\n  [1]: https://medium.com/@jidhiya_6779/web-scraping-using-selenium-and-java-6ef126bec672","title":"Pagination in selenium","body":"<p>I'm new to selenium and following a small <a href=\"https://medium.com/@jidhiya_6779/web-scraping-using-selenium-and-java-6ef126bec672\" rel=\"nofollow noreferrer\">tutorial</a> on scraping that scrapes jobs from indeed.com, but I am having issues as it seems some of the elements have been renamed since the tutorial was written. I'm stuck on this part:</p>\n<pre><code>List&lt;WebElement&gt; pagination = driver.findElements(By.xpath(&quot;//ul[@class='pagination-\nlist']/li&quot;));\nint pgSize = pagination.size();\nfor (int j = 1; j &lt; pgSize; j++) {\nThread.sleep(1000);\nWebElement pagei = driver.findElement(By.xpath(&quot;(//ul[@class='pagination-list']/li)[&quot; + j + &quot;]&quot;));\npagei.click();\n</code></pre>\n<p>The xpath needs to be updated as the element can no longer be found. I have changed the xpath to this, but the list does not get populated:</p>\n<pre><code>//nav[@aria-label='pagination']\n</code></pre>\n<p>When I do this, it prints zero which means no elements have been added to the list:</p>\n<pre><code>List&lt;WebElement&gt; pagination = driver.findElements(By.xpath(&quot;//nav[@aria-label='pagination']&quot;));\n    int size = pagination.size();\n    System.out.println(size);\n</code></pre>\n<p>Is this the correct xpath? I'm not certain as to what is supposed to get populated into the list of Webelements? Should they be page numbers?</p>\n"},{"tags":["java","class","methods","attributes"],"answers":[{"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673438812,"creation_date":1665334249,"answer_id":74006678,"question_id":74006638,"body_markdown":"You mean something like this?\r\n\r\n```java\r\nclass Door {\r\n\tpublic boolean closed = true;\r\n}\r\n\r\nclass Person {\r\n\tDoor door = new Door();\r\n\r\n\tpublic void changeDoorState(boolean closed) {\r\n\t\tdoor.closed = closed;\r\n\t}\r\n}\r\n```","title":"How do you have a class change the value of an attribute of another class?","body":"<p>You mean something like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Door {\n    public boolean closed = true;\n}\n\nclass Person {\n    Door door = new Door();\n\n    public void changeDoorState(boolean closed) {\n        door.closed = closed;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665336398,"creation_date":1665334924,"answer_id":74006771,"question_id":74006638,"body_markdown":"If you want to `set` the door state, you can pass a value in a setter as follows. I would use an enum for this since it is more descriptive.\r\n```\r\nenum Door {\r\n\tCLOSED, OPEN\r\n}\r\nprivate Door door = Door.OPEN;\r\n\r\nSystem.out.println(door);\r\nchangeDoorState();\r\nSystem.out.println(door);\r\nsetDoorState(door.OPEN);\r\nSystem.out.println(door);\r\n\r\npublic void setDoorState(Door status) {\r\n\tdoor = status;\r\n}\r\n\r\n\r\npublic boolean isDoorOpen() {\r\n\treturn door == Door.OPEN;\r\n}\r\n\r\npublic Door getDoorState() {\r\n     return door;\r\n}\r\n```\r\nIf you want to `change` the door state then do something like this.\r\n```\r\npublic void changeDoorState() {\r\n\t// ternary - if door is open set to closed, else set to open\r\n\tdoor = door == Door.OPEN ? Door.CLOSED : Door.OPEN;\r\n}","title":"How do you have a class change the value of an attribute of another class?","body":"<p>If you want to <code>set</code> the door state, you can pass a value in a setter as follows. I would use an enum for this since it is more descriptive.</p>\n<pre><code>enum Door {\n    CLOSED, OPEN\n}\nprivate Door door = Door.OPEN;\n\nSystem.out.println(door);\nchangeDoorState();\nSystem.out.println(door);\nsetDoorState(door.OPEN);\nSystem.out.println(door);\n\npublic void setDoorState(Door status) {\n    door = status;\n}\n\n\npublic boolean isDoorOpen() {\n    return door == Door.OPEN;\n}\n\npublic Door getDoorState() {\n     return door;\n}\n</code></pre>\n<p>If you want to <code>change</code> the door state then do something like this.</p>\n<pre><code>public void changeDoorState() {\n    // ternary - if door is open set to closed, else set to open\n    door = door == Door.OPEN ? Door.CLOSED : Door.OPEN;\n}\n</code></pre>\n"}],"owner":{"account_id":23834022,"reputation":13,"user_id":17839961,"display_name":"flyerz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74006678,"answer_count":2,"score":1,"last_activity_date":1674223917,"creation_date":1665333999,"question_id":74006638,"body_markdown":"Let&#39;s say I have a class named `Door` with an attribute that states whether it&#39;s _open_ or _closed_. Then, there is another class named `Person`, that is assigned to that door. \r\n\r\nHow would you tell the person to open/close the door by changing the value of the attribute in the `Door` class with a method in the `Person` class?","title":"How do you have a class change the value of an attribute of another class?","body":"<p>Let's say I have a class named <code>Door</code> with an attribute that states whether it's <em>open</em> or <em>closed</em>. Then, there is another class named <code>Person</code>, that is assigned to that door.</p>\n<p>How would you tell the person to open/close the door by changing the value of the attribute in the <code>Door</code> class with a method in the <code>Person</code> class?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674212838,"creation_date":1674212838,"answer_id":75183187,"question_id":75182361,"body_markdown":"You can define custom method which will accept `Source`as parameter and will make required computations. Call this method from `@Mapping` using `expression= &quot;java(&lt;method_name&gt;)&quot;`.\r\n```\r\n@Mapping(target = &quot;containerId&quot;,expression = &quot;java(calculateContainerId(source))&quot;)\r\nTargetABC toDto(Source source);\r\n\r\ndefault String calculateContainerId(Source source) {\r\n        var temperature = source.getPac.getTemperature();\r\n        var range = source.getRange();\r\n       \r\n        return range.calculate(temperature); \r\n}\r\n```","title":"Add custom method in mapstruct","body":"<p>You can define custom method which will accept <code>Source</code>as parameter and will make required computations. Call this method from <code>@Mapping</code> using <code>expression= &quot;java(&lt;method_name&gt;)&quot;</code>.</p>\n<pre><code>@Mapping(target = &quot;containerId&quot;,expression = &quot;java(calculateContainerId(source))&quot;)\nTargetABC toDto(Source source);\n\ndefault String calculateContainerId(Source source) {\n        var temperature = source.getPac.getTemperature();\n        var range = source.getRange();\n       \n        return range.calculate(temperature); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674223715,"creation_date":1674223715,"answer_id":75185132,"question_id":75182361,"body_markdown":"The simplest solution is defining a default method for mapping `source` to `containerId`, which would MapStruct recognize and use if you define `source` as the source used for mapping, as shown below:\r\n```java\r\n@Mapping(target = &quot;temperature&quot;, source = &quot;pac.temperature&quot;)\r\n@Mapping(target = &quot;containerId&quot;, source = &quot;source&quot;)\r\nTargerABC toDto(Source source);\r\n\r\ndefault Integer calculateContainerIdFromSource(Source source) {\r\n  var temperature = source.getPac().getTemperature();\r\n  var range = source.getRange();\r\n  return range.calculate(temperature);\r\n}\r\n```","title":"Add custom method in mapstruct","body":"<p>The simplest solution is defining a default method for mapping <code>source</code> to <code>containerId</code>, which would MapStruct recognize and use if you define <code>source</code> as the source used for mapping, as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;temperature&quot;, source = &quot;pac.temperature&quot;)\n@Mapping(target = &quot;containerId&quot;, source = &quot;source&quot;)\nTargerABC toDto(Source source);\n\ndefault Integer calculateContainerIdFromSource(Source source) {\n  var temperature = source.getPac().getTemperature();\n  var range = source.getRange();\n  return range.calculate(temperature);\n}\n</code></pre>\n"}],"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":"Самир Шахмурадлы"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75183187,"answer_count":2,"score":0,"last_activity_date":1674223776,"creation_date":1674208454,"question_id":75182361,"body_markdown":"    @Override\r\n        @Mappings(\r\n            {\r\n                @Mapping(target = &quot;temperature&quot;, source = &quot;pac.temperature&quot;),\r\n                @Mapping(target = &quot;containerId&quot;, ignore=true),\r\n    \r\n            }\r\n        )\r\n        TargetABC toDto(Source source);\r\n\r\n\r\n    @AfterMapping\r\n    default void inRange(Source source, @MappingTarget TargerABC target) {\r\n\r\n        \r\n            var temperature = source.getPac.getTemperature();\r\n            var range = source.getRange();\r\n            target.setContainerId(\r\n                range.calculate(temperature)\r\n            );\r\n        \r\n    }\r\n\r\n\r\nat the moment I have a solution using `@AfterMapping`, but I want to get rid of this approach in favor of `qualifiedByName` and do the mapping in the field itself by adding a method with the `@Named` annotation, is it possible that such a method will take two values? Maybe there is another better solution?","title":"Add custom method in mapstruct","body":"<pre><code>@Override\n    @Mappings(\n        {\n            @Mapping(target = &quot;temperature&quot;, source = &quot;pac.temperature&quot;),\n            @Mapping(target = &quot;containerId&quot;, ignore=true),\n\n        }\n    )\n    TargetABC toDto(Source source);\n\n\n@AfterMapping\ndefault void inRange(Source source, @MappingTarget TargerABC target) {\n\n    \n        var temperature = source.getPac.getTemperature();\n        var range = source.getRange();\n        target.setContainerId(\n            range.calculate(temperature)\n        );\n    \n}\n</code></pre>\n<p>at the moment I have a solution using <code>@AfterMapping</code>, but I want to get rid of this approach in favor of <code>qualifiedByName</code> and do the mapping in the field itself by adding a method with the <code>@Named</code> annotation, is it possible that such a method will take two values? Maybe there is another better solution?</p>\n"},{"tags":["java","annotations","time-complexity","big-o","complexity-theory"],"answers":[{"tags":[],"owner":{"account_id":451393,"reputation":27790,"user_id":847269,"accept_rate":100,"display_name":"Patrick87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674223556,"creation_date":1674223556,"answer_id":75185100,"question_id":75176023,"body_markdown":"Assuming a constant x for our purposes (i.e., we are not interested in the growth rate as a function of x), expIterative is also just a function of n, and is only called for cases where n &lt;= 4. There is some largest time t* that expIterative takes to run on x and n where n goes from 0 to 4. We can simply use that largest time t* as a constant, since the range of n that can be sent as an input is bounded.\r\n\r\n    double expRecursive(double x, int n) {\r\n        if (n &lt;= 4) {                                       // a+b\r\n            return expIterativ(x, n);                       // c+t*\r\n        }\r\n\r\n        return expRecursive(x, n/2) *                       // c+T(n/2)\r\n               expRecursive(x, (n + 1)/2);                  // d+T((n+1)/2)\r\n    }\r\n\r\nAs you pointed out, we can make the simplifying assumption that n is even and just worry about that case. If we assume n is a power of 2, even easier, since then all recursive calls will be for even numbers.\r\n\r\nWe get\r\n\r\n    T(n) &lt;= 2T(n/2) + (a+b+2c+d+t*)\r\n\r\nThe stuff in parentheses at the end is just a sum of constants, so we can add them together and call the result k:\r\n\r\n    T(n) &lt;= 2T(n/2) + k\r\n\r\nWe can write out some terms here:\r\n\r\n    n    T(n)\r\n    4    t*\r\n    8    2t* + k\r\n    16   4t* + 2k + k\r\n    32   8t* + 4k + 2k + k\r\n    ...\r\n    2^n  2^(n-2)t* + 2^(n-2)k - k\r\n       = (2^n)(t* + k)/4 - k\r\n\r\nSo for an input 2^n, it takes time proportional to 2^n. That means that T(n) = O(n).","title":"How to find the time complexity of a recursive method?","body":"<p>Assuming a constant x for our purposes (i.e., we are not interested in the growth rate as a function of x), expIterative is also just a function of n, and is only called for cases where n &lt;= 4. There is some largest time t* that expIterative takes to run on x and n where n goes from 0 to 4. We can simply use that largest time t* as a constant, since the range of n that can be sent as an input is bounded.</p>\n<pre><code>double expRecursive(double x, int n) {\n    if (n &lt;= 4) {                                       // a+b\n        return expIterativ(x, n);                       // c+t*\n    }\n\n    return expRecursive(x, n/2) *                       // c+T(n/2)\n           expRecursive(x, (n + 1)/2);                  // d+T((n+1)/2)\n}\n</code></pre>\n<p>As you pointed out, we can make the simplifying assumption that n is even and just worry about that case. If we assume n is a power of 2, even easier, since then all recursive calls will be for even numbers.</p>\n<p>We get</p>\n<pre><code>T(n) &lt;= 2T(n/2) + (a+b+2c+d+t*)\n</code></pre>\n<p>The stuff in parentheses at the end is just a sum of constants, so we can add them together and call the result k:</p>\n<pre><code>T(n) &lt;= 2T(n/2) + k\n</code></pre>\n<p>We can write out some terms here:</p>\n<pre><code>n    T(n)\n4    t*\n8    2t* + k\n16   4t* + 2k + k\n32   8t* + 4k + 2k + k\n...\n2^n  2^(n-2)t* + 2^(n-2)k - k\n   = (2^n)(t* + k)/4 - k\n</code></pre>\n<p>So for an input 2^n, it takes time proportional to 2^n. That means that T(n) = O(n).</p>\n"}],"owner":{"account_id":27385797,"reputation":111,"user_id":21045146,"display_name":"Need_MathHelp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674223556,"creation_date":1674148930,"question_id":75176023,"body_markdown":"```java\r\ndouble expRecursive(double x, int n) {\r\n    if (n &lt;= 4) {\r\n        return expIterativ(x, n);\r\n    }\r\n\r\n    return expRecursive(x, n/2) *\r\n           expRecursive(x, (n + 1)/2);\r\n}\r\n```\r\n\r\nSo the problem I am dealing with is how I can write the time complexity of this method using a big O notation.\r\n\r\nHere is what I&#39;ve done so far. I&#39;m not sure if it is correct but let me explain it. I get that T(n)= 2 T(n/2) + 1 for n&gt;4 since we have 2 recursive calls and other operations. But when it comes to n&lt;=4, that is where I got stuck. There is a recursive call which means that even it will be something like T(n)= T(n/2)+1. But this doesn&#39;t even feel right, I would really appreciate it if someone could help me.","title":"How to find the time complexity of a recursive method?","body":"<pre class=\"lang-java prettyprint-override\"><code>double expRecursive(double x, int n) {\n    if (n &lt;= 4) {\n        return expIterativ(x, n);\n    }\n\n    return expRecursive(x, n/2) *\n           expRecursive(x, (n + 1)/2);\n}\n</code></pre>\n<p>So the problem I am dealing with is how I can write the time complexity of this method using a big O notation.</p>\n<p>Here is what I've done so far. I'm not sure if it is correct but let me explain it. I get that T(n)= 2 T(n/2) + 1 for n&gt;4 since we have 2 recursive calls and other operations. But when it comes to n&lt;=4, that is where I got stuck. There is a recursive call which means that even it will be something like T(n)= T(n/2)+1. But this doesn't even feel right, I would really appreciate it if someone could help me.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9280,"page":712,"page_size":100}
