{"items":[{"tags":["java","android-studio","kotlin","gradle","okhttp"],"comments":[{"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"score":4,"creation_date":1634800790,"post_id":69656802,"comment_id":123124339,"body_markdown":"can you try using a stable kotlin_version instead of RC??","body":"can you try using a stable kotlin_version instead of RC??"},{"owner":{"account_id":15922516,"reputation":490,"user_id":11489088,"display_name":"petestmart"},"score":1,"creation_date":1634801615,"post_id":69656802,"comment_id":123124684,"body_markdown":"@ManojPerumarath That was it! Thanks!  I didn&#39;t even notice that, nor am I sure how it got there.\n\nI changed the buildscript from \n`ext.kotlin_version = &#39;1.6.0-RC&#39;` to `ext.kotlin_version = 1.5.21`\n\nThank you so much!","body":"@ManojPerumarath That was it! Thanks!  I didn&#39;t even notice that, nor am I sure how it got there.  I changed the buildscript from  <code>ext.kotlin_version = &#39;1.6.0-RC&#39;</code> to <code>ext.kotlin_version = 1.5.21</code>  Thank you so much!"},{"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"score":1,"creation_date":1634808867,"post_id":69656802,"comment_id":123127640,"body_markdown":"Glad it worked. Happy coding mate, stay safe @petestmart","body":"Glad it worked. Happy coding mate, stay safe @petestmart"},{"owner":{"account_id":4123049,"reputation":129,"user_id":3382883,"accept_rate":25,"display_name":"wverdese"},"score":2,"creation_date":1635588254,"post_id":69656802,"comment_id":123342241,"body_markdown":"I stumbled into this issue as well, but I&#39;m willing to use `ext.kotlin_version = &#39;1.6.0-RC&#39;`. Any suggestion?","body":"I stumbled into this issue as well, but I&#39;m willing to use <code>ext.kotlin_version = &#39;1.6.0-RC&#39;</code>. Any suggestion?"},{"owner":{"account_id":19307171,"reputation":147,"user_id":14113735,"display_name":"Prajwal R"},"score":0,"creation_date":1667558728,"post_id":69656802,"comment_id":131199886,"body_markdown":"i also stumbled into this issue as well, i wanted to make use of kotlin_version of 1.7.20  Any suggestion?","body":"i also stumbled into this issue as well, i wanted to make use of kotlin_version of 1.7.20  Any suggestion?"},{"owner":{"account_id":5306534,"reputation":1353,"user_id":5076051,"display_name":"Trevor"},"score":0,"creation_date":1683747285,"post_id":69656802,"comment_id":134415897,"body_markdown":"I ran into this issue on 1.8.21 kotlin. I am stuck.","body":"I ran into this issue on 1.8.21 kotlin. I am stuck."}],"answers":[{"tags":[],"owner":{"account_id":1765777,"reputation":578,"user_id":1611691,"accept_rate":83,"display_name":"outlying"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1649833366,"creation_date":1649833366,"answer_id":71853210,"question_id":69656802,"body_markdown":"Duplicated `kotlin-gradle-plugin` in Project&#39;s `build.gradle` might mess things up","title":"Unable to find method void org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptions.setUseIR(boolean)","body":"<p>Duplicated <code>kotlin-gradle-plugin</code> in Project's <code>build.gradle</code> might mess things up</p>\n"},{"tags":[],"owner":{"account_id":8652943,"reputation":22446,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668529403,"creation_date":1668529403,"answer_id":74448987,"question_id":69656802,"body_markdown":"Updating `com.android.tools.build:gradle` version to `7.0.4` fixed it for me\r\n\r\n\r\n    classpath &quot;com.android.tools.build:gradle:7.0.4&quot;","title":"Unable to find method void org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptions.setUseIR(boolean)","body":"<p>Updating <code>com.android.tools.build:gradle</code> version to <code>7.0.4</code> fixed it for me</p>\n<pre><code>classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n</code></pre>\n"}],"owner":{"account_id":15922516,"reputation":490,"user_id":11489088,"display_name":"petestmart"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11058,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1668529403,"creation_date":1634797197,"question_id":69656802,"body_markdown":"I&#39;m unable to run any tests or run the app or debugger because of `this error:`\r\n\r\n    `Unable to find method void org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptions.setUseIR(boolean)`\r\n\r\nI&#39;ve tried all of the provided solutions and hit the `File &gt; Invalidate Caches/Restart...` option.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is an Android Studio project in Kotlin and Java with Jetpack Compose, Retrofit2, OkHttp3.\r\n\r\n--------------------------\r\n\r\n**Update:** Here are my build.gradle files\r\n\r\nbuild.gradle Project:\r\n---------------------\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.6.0-RC&#39;\r\n        ext {\r\n            compose_version = &#39;1.0.1&#39;\r\n            fragment_version = &quot;1.3.6&quot;\r\n        }\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven {\r\n                url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\r\n            }\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.21&quot;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nbuild.gradle App:\r\n-----------------\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;kotlin-android&#39;\r\n        id(&quot;org.jetbrains.kotlin.android.extensions&quot;)\r\n    }\r\n    \r\n    android {\r\n        compileSdk 31\r\n    \r\n        useLibrary(&quot;android.test.runner&quot;)\r\n        useLibrary(&quot;android.test.base&quot;)\r\n        useLibrary(&quot;android.test.mock&quot;)\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.moviespotter&quot;\r\n            minSdk 21\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables {\r\n                useSupportLibrary true\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        buildFeatures {\r\n            viewBinding = true\r\n            compose true\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion compose_version\r\n            kotlinCompilerVersion &#39;1.5.21&#39;\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n        tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\r\n            kotlinOptions {\r\n                jvmTarget = &#39;1.8&#39;\r\n            }\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.6.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        implementation &quot;androidx.compose.ui:ui:$compose_version&quot;\r\n        implementation &quot;androidx.compose.material:material:$compose_version&quot;\r\n        implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_version&quot;\r\n        implementation &#39;androidx.activity:activity-compose:1.3.1&#39;\r\n        implementation &#39;androidx.test.espresso:espresso-idling-resource:3.1.1&#39;\r\n        testImplementation &#39;junit:junit:4.13&#39;\r\n        testImplementation(&quot;com.squareup.okhttp3:mockwebserver:4.9.2&quot;)\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_version&quot;\r\n        androidTestImplementation &#39;androidx.test:rules:1.4.0&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n        debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_version&quot;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.7.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.7.0&#39;\r\n        implementation &#39;com.squareup.okhttp3:okhttp:4.3.1&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.10.0&#39; //Glide\r\n        implementation &quot;androidx.fragment:fragment-ktx:$fragment_version&quot;\r\n        implementation &quot;androidx.fragment:fragment-ktx:$fragment_version&quot;\r\n        implementation &quot;io.coil-kt:coil-compose:1.3.1&quot;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.10.0&#39;\r\n        implementation &quot;androidx.core:core-ktx:+&quot;\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/yuQVJ.png\r\n\r\nHere are a bunch more words so that StackOverflow will accept my edits.  Too much code you say?  Maybe I&#39;m not that great at coding yet and I have way too many dependencies.  I don&#39;t know what these things do.  Sometimes I have an idea, but mostly I&#39;m just reading tutorials and documentation and blindly following whatever they say.  Is this enough words yet?","title":"Unable to find method void org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptions.setUseIR(boolean)","body":"<p>I'm unable to run any tests or run the app or debugger because of <code>this error:</code></p>\n<pre><code>`Unable to find method void org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptions.setUseIR(boolean)`\n</code></pre>\n<p>I've tried all of the provided solutions and hit the <code>File &gt; Invalidate Caches/Restart...</code> option.</p>\n<p><a href=\"https://i.stack.imgur.com/yuQVJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yuQVJ.png\" alt=\"enter image description here\" /></a></p>\n<p>This is an Android Studio project in Kotlin and Java with Jetpack Compose, Retrofit2, OkHttp3.</p>\n<hr />\n<p><strong>Update:</strong> Here are my build.gradle files</p>\n<h2>build.gradle Project:</h2>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.0-RC'\n    ext {\n        compose_version = '1.0.1'\n        fragment_version = &quot;1.3.6&quot;\n    }\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\n        }\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.21&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<h2>build.gradle App:</h2>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id(&quot;org.jetbrains.kotlin.android.extensions&quot;)\n}\n\nandroid {\n    compileSdk 31\n\n    useLibrary(&quot;android.test.runner&quot;)\n    useLibrary(&quot;android.test.base&quot;)\n    useLibrary(&quot;android.test.mock&quot;)\n\n    defaultConfig {\n        applicationId &quot;com.example.moviespotter&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    buildFeatures {\n        viewBinding = true\n        compose true\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion compose_version\n        kotlinCompilerVersion '1.5.21'\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n        kotlinOptions {\n            jvmTarget = '1.8'\n        }\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.6.0'\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation &quot;androidx.compose.ui:ui:$compose_version&quot;\n    implementation &quot;androidx.compose.material:material:$compose_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_version&quot;\n    implementation 'androidx.activity:activity-compose:1.3.1'\n    implementation 'androidx.test.espresso:espresso-idling-resource:3.1.1'\n    testImplementation 'junit:junit:4.13'\n    testImplementation(&quot;com.squareup.okhttp3:mockwebserver:4.9.2&quot;)\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_version&quot;\n    androidTestImplementation 'androidx.test:rules:1.4.0'\n    androidTestImplementation 'androidx.test:runner:1.4.0'\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_version&quot;\n    implementation 'com.squareup.retrofit2:retrofit:2.7.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.7.0'\n    implementation 'com.squareup.okhttp3:okhttp:4.3.1'\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'com.github.bumptech.glide:glide:4.10.0' //Glide\n    implementation &quot;androidx.fragment:fragment-ktx:$fragment_version&quot;\n    implementation &quot;androidx.fragment:fragment-ktx:$fragment_version&quot;\n    implementation &quot;io.coil-kt:coil-compose:1.3.1&quot;\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.10.0'\n    implementation &quot;androidx.core:core-ktx:+&quot;\n}\n</code></pre>\n<p>Here are a bunch more words so that StackOverflow will accept my edits.  Too much code you say?  Maybe I'm not that great at coding yet and I have way too many dependencies.  I don't know what these things do.  Sometimes I have an idea, but mostly I'm just reading tutorials and documentation and blindly following whatever they say.  Is this enough words yet?</p>\n"},{"tags":["java","postgresql","jpa","spring-data-jpa"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1668499974,"post_id":74442263,"comment_id":131413626,"body_markdown":"What people typically do, is to read the JSON value as a String through JDBC (`ResultSet.getString()`, then use Jackson to convert that JSON string into a Map.","body":"What people typically do, is to read the JSON value as a String through JDBC (<code>ResultSet.getString()</code>, then use Jackson to convert that JSON string into a Map."},{"owner":{"account_id":1042959,"reputation":638633,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"score":0,"creation_date":1668501662,"post_id":74442263,"comment_id":131414198,"body_markdown":"What database client library are you using in your code, in what programming language?","body":"What database client library are you using in your code, in what programming language?"},{"owner":{"account_id":24354244,"reputation":59,"user_id":18289688,"display_name":"Umar"},"score":0,"creation_date":1668525928,"post_id":74442263,"comment_id":131423715,"body_markdown":"i am making making this query on Repository class and using JPA @Query annotation to write a native query in springboot.","body":"i am making making this query on Repository class and using JPA @Query annotation to write a native query in springboot."}],"answers":[{"tags":[],"owner":{"account_id":1042959,"reputation":638633,"user_id":1048572,"accept_rate":77,"display_name":"Bergi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668500499,"creation_date":1668500499,"answer_id":74442497,"question_id":74442263,"body_markdown":"You can use\r\n\r\n    select to_json(*)\r\n    from (\r\n      select data-&gt;&gt;&#39;name&#39; as name,\r\n             data-&gt;&gt;&#39;dob&#39; as dob \r\n      from TableA\r\n      where id=&#39;1&#39;\r\n    ) result;\r\n\r\nor\r\n\r\n    select json_build_object(\r\n      &#39;name&#39;, data-&gt;&#39;name&#39;,\r\n      &#39;dob&#39;, data-&gt;&#39;dob&#39;\r\n    )\r\n    from TableA\r\n    where id=&#39;1&#39;;\r\n\r\nor\r\n\r\n    select json_object_agg(key,val)\r\n    from TableA, json_each(data)\r\n    where id=&#39;1&#39;\r\n      and key in (&#39;name&#39;, &#39;dob&#39;)","title":"Convert query result to string postgres","body":"<p>You can use</p>\n<pre><code>select to_json(*)\nfrom (\n  select data-&gt;&gt;'name' as name,\n         data-&gt;&gt;'dob' as dob \n  from TableA\n  where id='1'\n) result;\n</code></pre>\n<p>or</p>\n<pre><code>select json_build_object(\n  'name', data-&gt;'name',\n  'dob', data-&gt;'dob'\n)\nfrom TableA\nwhere id='1';\n</code></pre>\n<p>or</p>\n<pre><code>select json_object_agg(key,val)\nfrom TableA, json_each(data)\nwhere id='1'\n  and key in ('name', 'dob')\n</code></pre>\n"}],"owner":{"account_id":24354244,"reputation":59,"user_id":18289688,"display_name":"Umar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668529355,"creation_date":1668499252,"question_id":74442263,"body_markdown":"I have a table which like this \r\n\r\n    TableA\r\n    id  data\r\n    --------\r\n    1  {&quot;name&quot;:&quot;abc&quot;,&quot;dob&quot;:&quot;12-12-12&quot;,&quot;code&quot;&quot;12O0X&quot;}\r\n    2  {&quot;name&quot;:&quot;def&quot;,&quot;dob&quot;:&quot;13-12-12&quot;,&quot;code&quot;&quot;12O0Y&quot;}\r\n    3  {&quot;name&quot;:&quot;ghi&quot;,&quot;dob&quot;:&quot;14-12-12&quot;,&quot;code&quot;&quot;12O0Z&quot;}\r\n\r\nI need name and dob data from this table which I get by running this query\r\n\r\n    select data-&gt;&gt;&#39;name&#39; as name,\r\n           data-&gt;&gt;&#39;dob&#39; as dob \r\n    from TableA \r\n    where id=&#39;1&#39;;\r\n\r\nMy Output looks like this\r\n\r\n    name | abc\r\n    dob  | 12-12-12\r\n\r\nBut the catch is I want this data to be in string format like this\r\n\r\n    &quot; &quot;name&quot; : &quot;abc&quot; ,&quot;dob&quot; :&quot;12-12-12&quot; &quot;\r\n\r\nso that I can convert it into hashmap. Is there a Postgres function that can convert my query result into my desired format.\r\n\r\n\r\n","title":"Convert query result to string postgres","body":"<p>I have a table which like this</p>\n<pre><code>TableA\nid  data\n--------\n1  {&quot;name&quot;:&quot;abc&quot;,&quot;dob&quot;:&quot;12-12-12&quot;,&quot;code&quot;&quot;12O0X&quot;}\n2  {&quot;name&quot;:&quot;def&quot;,&quot;dob&quot;:&quot;13-12-12&quot;,&quot;code&quot;&quot;12O0Y&quot;}\n3  {&quot;name&quot;:&quot;ghi&quot;,&quot;dob&quot;:&quot;14-12-12&quot;,&quot;code&quot;&quot;12O0Z&quot;}\n</code></pre>\n<p>I need name and dob data from this table which I get by running this query</p>\n<pre><code>select data-&gt;&gt;'name' as name,\n       data-&gt;&gt;'dob' as dob \nfrom TableA \nwhere id='1';\n</code></pre>\n<p>My Output looks like this</p>\n<pre><code>name | abc\ndob  | 12-12-12\n</code></pre>\n<p>But the catch is I want this data to be in string format like this</p>\n<pre><code>&quot; &quot;name&quot; : &quot;abc&quot; ,&quot;dob&quot; :&quot;12-12-12&quot; &quot;\n</code></pre>\n<p>so that I can convert it into hashmap. Is there a Postgres function that can convert my query result into my desired format.</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1668539572,"post_id":74448959,"comment_id":131428874,"body_markdown":"Do you have annotation processors configured? (see https://micronaut.io/launch?type=DEFAULT&amp;name=demo&amp;package=com.example&amp;javaVersion=JDK_11&amp;lang=JAVA&amp;build=MAVEN&amp;test=JUNIT&amp;version=3.7.3&amp;activity=preview&amp;showing=/pom.xml for an example)","body":"Do you have annotation processors configured? (see <a href=\"https://micronaut.io/launch?type=DEFAULT&amp;name=demo&amp;package=com.example&amp;javaVersion=JDK_11&amp;lang=JAVA&amp;build=MAVEN&amp;test=JUNIT&amp;version=3.7.3&amp;activity=preview&amp;showing=/pom.xml\" rel=\"nofollow noreferrer\">micronaut.io/&hellip;</a> for an example)"},{"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"score":0,"creation_date":1668572203,"post_id":74448959,"comment_id":131435771,"body_markdown":"Hi @JeffScottBrown, thanks for the informaiton, Issue is resolved with the provided dependencies.","body":"Hi @JeffScottBrown, thanks for the informaiton, Issue is resolved with the provided dependencies."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1668606652,"post_id":74448959,"comment_id":131446106,"body_markdown":"&quot;thanks for the informaiton, Issue is resolved with the provided dependencies&quot; - I am glad you got it worked out!","body":"&quot;thanks for the informaiton, Issue is resolved with the provided dependencies&quot; - I am glad you got it worked out!"}],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668529306,"creation_date":1668529306,"question_id":74448959,"body_markdown":"I am trying to define an immutable configuration using an interface annotated with @ConfigurationProperties. But when I try to ran the applicaiton, I am getting below error.\r\n\r\n\r\n    Exception in thread &quot;main&quot; io.micronaut.context.exceptions.NoSuchBeanException: No bean of type [com.sample.app.configuration.AppConfig] exists. Make sure the bean is not disabled by bean requirements (enable trace logging for &#39;io.micronaut.context.condition&#39; to check) and if the bean is enabled then ensure the class is declared a bean and annotation processing is enabled (for Java and Kotlin the &#39;micronaut-inject-java&#39; dependency should be configured as an annotation processor).\r\n    \tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2805)\r\n    \tat io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1617)\r\n    \tat io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:867)\r\n    \tat io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:859)\r\n    \tat com.sample.app.App.main(App.java:13)\r\n\r\n**application.yml**\r\n\r\n    my:\r\n      app:\r\n        name: chat server\r\n        version: 1.23.45\r\n    \r\n**AppConfig class**\r\n\r\n    import io.micronaut.context.annotation.ConfigurationProperties;\r\n    import io.micronaut.core.bind.annotation.Bindable;\r\n    \r\n    import jakarta.annotation.Nonnull;\r\n    \r\n    @ConfigurationProperties(&quot;my.app&quot;)\r\n    public interface AppConfig {\r\n    \r\n    \t@Bindable(defaultValue = &quot;my chat server&quot;)\r\n    \t@Nonnull\r\n    \tString getName();\r\n    \r\n    \t@Bindable(defaultValue = &quot;1.0.0&quot;)\r\n    \tString getVersion();\r\n    \r\n    \t@Bindable(defaultValue = &quot;chat server send and receive messages&quot;)\r\n    \tString getDescription();\r\n    \r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.sample.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-app&lt;/artifactId&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.3&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;annotationProcessorPaths&gt;\r\n                &lt;path&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n                &lt;/path&gt;\r\n              &lt;/annotationProcessorPaths&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;mainClass&gt;com.sample.app.App&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n    \r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;make-assembly&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n    \r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n**References**\r\nhttps://docs.micronaut.io/latest/guide/#immutableConfig\r\n\r\n","title":"NoSuchBeanException while defining immutable configuration in Micronaut","body":"<p>I am trying to define an immutable configuration using an interface annotated with @ConfigurationProperties. But when I try to ran the applicaiton, I am getting below error.</p>\n<pre><code>Exception in thread &quot;main&quot; io.micronaut.context.exceptions.NoSuchBeanException: No bean of type [com.sample.app.configuration.AppConfig] exists. Make sure the bean is not disabled by bean requirements (enable trace logging for 'io.micronaut.context.condition' to check) and if the bean is enabled then ensure the class is declared a bean and annotation processing is enabled (for Java and Kotlin the 'micronaut-inject-java' dependency should be configured as an annotation processor).\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2805)\n    at io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1617)\n    at io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:867)\n    at io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:859)\n    at com.sample.app.App.main(App.java:13)\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>my:\n  app:\n    name: chat server\n    version: 1.23.45\n</code></pre>\n<p><strong>AppConfig class</strong></p>\n<pre><code>import io.micronaut.context.annotation.ConfigurationProperties;\nimport io.micronaut.core.bind.annotation.Bindable;\n\nimport jakarta.annotation.Nonnull;\n\n@ConfigurationProperties(&quot;my.app&quot;)\npublic interface AppConfig {\n\n    @Bindable(defaultValue = &quot;my chat server&quot;)\n    @Nonnull\n    String getName();\n\n    @Bindable(defaultValue = &quot;1.0.0&quot;)\n    String getVersion();\n\n    @Bindable(defaultValue = &quot;chat server send and receive messages&quot;)\n    String getDescription();\n\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.sample.app&lt;/groupId&gt;\n  &lt;artifactId&gt;micronaut-app&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.7.3&lt;/version&gt;\n  &lt;/parent&gt;\n\n\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.sample.app.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>References</strong>\n<a href=\"https://docs.micronaut.io/latest/guide/#immutableConfig\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/#immutableConfig</a></p>\n"},{"tags":["java","jtextarea"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1668529080,"post_id":74445322,"comment_id":131425097,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74445322/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1668529152,"post_id":74445322,"comment_id":131425132,"body_markdown":"`getText()` works fine. Write `System.out.println(&quot;Textarea content is: &quot;+file);` in your `actionPerformed()` method to see the content you read from the `JTextArea`.","body":"<code>getText()</code> works fine. Write <code>System.out.println(&quot;Textarea content is: &quot;+file);</code> in your <code>actionPerformed()</code> method to see the content you read from the <code>JTextArea</code>."},{"owner":{"account_id":26938778,"reputation":1,"user_id":20509979,"display_name":"Hansen85"},"score":0,"creation_date":1668582474,"post_id":74445322,"comment_id":131437626,"body_markdown":"It&#39;s my external program that&#39;s the problem then... System.out.println(&quot;Textarea content is: &quot;+file); Works.","body":"It&#39;s my external program that&#39;s the problem then... System.out.println(&quot;Textarea content is: &quot;+file); Works."}],"owner":{"account_id":26938778,"reputation":1,"user_id":20509979,"display_name":"Hansen85"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668529038,"creation_date":1668513916,"question_id":74445322,"body_markdown":"Does anyone know how to get JTextArea.getText(); to read all the text? It stops in the first space of the line...\r\nHere is the part of my code:\r\n      \r\n     \r\n      \r\n \r\n      choose.addActionListener(new ActionListener(){\r\n          @Override\r\n          public void actionPerformed(ActionEvent e){\r\n              \r\n    FileDialog dialog = new FileDialog((Frame)null, &quot;Select File to Open&quot;);\r\n    dialog.setMode(FileDialog.LOAD);\r\n    dialog.setVisible(true);\r\n    \r\n    String file = dialog.getDirectory()+dialog.getFile();\r\n    text.setText(file);\r\n    System.out.println(file);\r\n          }\r\n      \r\n      });\r\n\r\n     \r\n      \r\n      \r\n      \r\n      \r\n             Send.addActionListener(new ActionListener(){\r\n          @Override\r\n          public void actionPerformed(ActionEvent e){\r\n              \r\n              try {\r\n                String file = text.getText();\r\n                          \r\n             Runtime.getRuntime().exec(&quot;cmd /k start cmd.exe /K \\&quot;cd C:\\\\Program Files (x86)\\\\CAREL\\\\Sparkly &amp;&amp; Sparkly.exe configurations apply --connection Serial,COM8,192008N2,199 --src &quot;+file);\r\n           \r\n  \r\n              }\r\n            catch (IOException ex) {\r\n                  \r\n              }\r\n          }\r\n      \r\n      });\r\n      \r\n  \r\n             \r\n\r\nI need it to either remove the spaces or take all the text WITH spaces.\r\nGoogle did not help me :/","title":"JTextArea.getText(); Stops to read att first space","body":"<p>Does anyone know how to get JTextArea.getText(); to read all the text? It stops in the first space of the line...\nHere is the part of my code:</p>\n<pre><code>  choose.addActionListener(new ActionListener(){\n      @Override\n      public void actionPerformed(ActionEvent e){\n          \nFileDialog dialog = new FileDialog((Frame)null, &quot;Select File to Open&quot;);\ndialog.setMode(FileDialog.LOAD);\ndialog.setVisible(true);\n\nString file = dialog.getDirectory()+dialog.getFile();\ntext.setText(file);\nSystem.out.println(file);\n      }\n  \n  });\n\n \n  \n  \n  \n  \n         Send.addActionListener(new ActionListener(){\n      @Override\n      public void actionPerformed(ActionEvent e){\n          \n          try {\n            String file = text.getText();\n                      \n         Runtime.getRuntime().exec(&quot;cmd /k start cmd.exe /K \\&quot;cd C:\\\\Program Files (x86)\\\\CAREL\\\\Sparkly &amp;&amp; Sparkly.exe configurations apply --connection Serial,COM8,192008N2,199 --src &quot;+file);\n       \n\n          }\n        catch (IOException ex) {\n              \n          }\n      }\n  \n  });\n  \n\n         \n</code></pre>\n<p>I need it to either remove the spaces or take all the text WITH spaces.\nGoogle did not help me :/</p>\n"},{"tags":["java","security","rsa"],"comments":[{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1338912298,"post_id":10900643,"comment_id":14211586,"body_markdown":"What are you using to create your key, the standard java libary, BouncyCastle or something else?","body":"What are you using to create your key, the standard java libary, BouncyCastle or something else?"},{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1338913107,"post_id":10900643,"comment_id":14211911,"body_markdown":"Standard java very probably but its a remote team so I am not sure","body":"Standard java very probably but its a remote team so I am not sure"}],"answers":[{"tags":[],"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1338921347,"creation_date":1338921347,"answer_id":10902896,"question_id":10900643,"body_markdown":"Ok for grins ... try this\r\n\r\n  - base64 decode the key data to get a byte array (byte[])\r\n  - Create a new X509EncodedKeySpec using the byte array\r\n  - Get an instance of KeyFactory using KeyFactory.getInstance(&quot;RSA&quot;) assuming RSA here\r\n  - call the method generatePublic(KeySpec) with the X509EncodedKeySpec\r\n  - Result /should/ be a public key for your usage.","title":"How can I construct a java.security.PublicKey object from a base64 encoded string?","body":"<p>Ok for grins ... try this</p>\n\n<ul>\n<li>base64 decode the key data to get a byte array (byte[])</li>\n<li>Create a new X509EncodedKeySpec using the byte array</li>\n<li>Get an instance of KeyFactory using KeyFactory.getInstance(\"RSA\") assuming RSA here</li>\n<li>call the method generatePublic(KeySpec) with the X509EncodedKeySpec</li>\n<li>Result /should/ be a public key for your usage.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1076706,"reputation":1091,"user_id":1074691,"display_name":"alexis"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1404489941,"creation_date":1404187154,"answer_id":24502245,"question_id":10900643,"body_markdown":"Code for the above answer\r\n\r\n    public static PublicKey getKey(String key){\r\n    \ttry{\r\n    \t\tbyte[] byteKey = Base64.decode(key.getBytes(), Base64.DEFAULT);\r\n    \t\tX509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(byteKey);\r\n    \t\tKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \t\t\r\n    \t\treturn kf.generatePublic(X509publicKey);\r\n    \t}\r\n    \tcatch(Exception e){\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t\r\n    \treturn null;\r\n    }\r\n\r\n","title":"How can I construct a java.security.PublicKey object from a base64 encoded string?","body":"<p>Code for the above answer</p>\n\n<pre><code>public static PublicKey getKey(String key){\n    try{\n        byte[] byteKey = Base64.decode(key.getBytes(), Base64.DEFAULT);\n        X509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(byteKey);\n        KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n\n        return kf.generatePublic(X509publicKey);\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2613618,"reputation":991,"user_id":2263214,"display_name":"Rasheed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495810342,"creation_date":1495810342,"answer_id":44204550,"question_id":10900643,"body_markdown":"Try this....\r\n\r\n    PublicKey getPublicKey(byte[] encodedKey) throws NoSuchAlgorithmException, InvalidKeySpecException\r\n    {\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        X509EncodedKeySpec encodedKeySpec = new X509EncodedKeySpec(encodedKey);\r\n        return factory.generatePublic(encodedKeySpec);\r\n    }\r\n\r\n","title":"How can I construct a java.security.PublicKey object from a base64 encoded string?","body":"<p>Try this....</p>\n\n<pre><code>PublicKey getPublicKey(byte[] encodedKey) throws NoSuchAlgorithmException, InvalidKeySpecException\n{\n    KeyFactory factory = KeyFactory.getInstance(\"RSA\");\n    X509EncodedKeySpec encodedKeySpec = new X509EncodedKeySpec(encodedKey);\n    return factory.generatePublic(encodedKeySpec);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2817771,"reputation":935,"user_id":2426311,"display_name":"Jacob Abraham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529575444,"creation_date":1529575444,"answer_id":50965782,"question_id":10900643,"body_markdown":"Using spongy castle\r\n\r\n    public static PublicKey getPublicKeyFromString(String key) throws Exception {\r\n        KeyFactory keyFactory = KeyFactory.getInstance(ALGORITHM);\r\n        org.spongycastle.asn1.pkcs.RSAPublicKey pkcs1PublicKey\r\n                = org.spongycastle.asn1.pkcs.RSAPublicKey.getInstance(decodeB64(key));\r\n        RSAPublicKeySpec keySpec\r\n                = new RSAPublicKeySpec(pkcs1PublicKey.getModulus(), pkcs1PublicKey.getPublicExponent());\r\n        PublicKey publicKey = keyFactory.generatePublic(keySpec);\r\n        return publicKey;\r\n    }","title":"How can I construct a java.security.PublicKey object from a base64 encoded string?","body":"<p>Using spongy castle</p>\n\n<pre><code>public static PublicKey getPublicKeyFromString(String key) throws Exception {\n    KeyFactory keyFactory = KeyFactory.getInstance(ALGORITHM);\n    org.spongycastle.asn1.pkcs.RSAPublicKey pkcs1PublicKey\n            = org.spongycastle.asn1.pkcs.RSAPublicKey.getInstance(decodeB64(key));\n    RSAPublicKeySpec keySpec\n            = new RSAPublicKeySpec(pkcs1PublicKey.getModulus(), pkcs1PublicKey.getPublicExponent());\n    PublicKey publicKey = keyFactory.generatePublic(keySpec);\n    return publicKey;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1643512,"reputation":160,"user_id":1515517,"display_name":"Etay Ceder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668529038,"creation_date":1603145942,"answer_id":64435834,"question_id":10900643,"body_markdown":"you can try this solution:\r\n\r\nadd this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;1.70&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand use this method:\r\n\r\n    private Key parsePublicKey(String publicKey) throws IOException {\r\n        try (StringReader sr = new StringReader(publicKey)) {\r\n            PEMParser parser = new PEMParser(sr);\r\n            JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n            SubjectPublicKeyInfo publicKeyInfo = SubjectPublicKeyInfo.getInstance(parser.readObject());\r\n            return converter.getPublicKey(publicKeyInfo);\r\n        } catch (IOException e) {\r\n            // handle me\r\n        }\r\n    }","title":"How can I construct a java.security.PublicKey object from a base64 encoded string?","body":"<p>you can try this solution:</p>\n<p>add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;1.70&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and use this method:</p>\n<pre><code>private Key parsePublicKey(String publicKey) throws IOException {\n    try (StringReader sr = new StringReader(publicKey)) {\n        PEMParser parser = new PEMParser(sr);\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n        SubjectPublicKeyInfo publicKeyInfo = SubjectPublicKeyInfo.getInstance(parser.readObject());\n        return converter.getPublicKey(publicKeyInfo);\n    } catch (IOException e) {\n        // handle me\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":978550,"reputation":101,"user_id":5788599,"display_name":"Linesh Mehta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624859954,"creation_date":1624859954,"answer_id":68158224,"question_id":10900643,"body_markdown":"Here&#39;s a code snippet:\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport java.security.KeyFactory;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PublicKey;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.RSAPublicKeySpec;\r\n\r\nimport org.apache.commons.codec.binary.Base64;\r\ntry {\r\n\tKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\tBigInteger modulus = new BigInteger(1, Base64.decodeBase64(this.stringValue(&quot;n&quot;)));\r\n\tBigInteger exponent = new BigInteger(1, Base64.decodeBase64(this.stringValue(&quot;e&quot;)));\r\n\treturn kf.generatePublic(new RSAPublicKeySpec(modulus, exponent));\r\n} catch (InvalidKeySpecException var4) {\r\n\tthrow new InvalidPublicKeyException(&quot;Invalid public key&quot;, var4);\r\n} catch (NoSuchAlgorithmException var5) {\r\n\tthrow new InvalidPublicKeyException(&quot;Invalid algorithm to generate key&quot;, var5);\r\n}\r\n```","title":"How can I construct a java.security.PublicKey object from a base64 encoded string?","body":"<p>Here's a code snippet:</p>\n<pre><code>import java.math.BigInteger;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PublicKey;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.RSAPublicKeySpec;\n\nimport org.apache.commons.codec.binary.Base64;\ntry {\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n    BigInteger modulus = new BigInteger(1, Base64.decodeBase64(this.stringValue(&quot;n&quot;)));\n    BigInteger exponent = new BigInteger(1, Base64.decodeBase64(this.stringValue(&quot;e&quot;)));\n    return kf.generatePublic(new RSAPublicKeySpec(modulus, exponent));\n} catch (InvalidKeySpecException var4) {\n    throw new InvalidPublicKeyException(&quot;Invalid public key&quot;, var4);\n} catch (NoSuchAlgorithmException var5) {\n    throw new InvalidPublicKeyException(&quot;Invalid algorithm to generate key&quot;, var5);\n}\n</code></pre>\n"}],"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53726,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":10902896,"answer_count":6,"score":46,"last_activity_date":1668529038,"creation_date":1338911778,"question_id":10900643,"body_markdown":"I have a bse64encoded string Public key from external source (Android Store) and I need to use it to verify signed content. How can I convert the string into an instance of the java.security.PublicKey interface. I am on Java 6 if that makes a difference. \r\n\r\nThe key is (probably) generated using standard java lib and not bouncy castle (its from a remote team so I am not sure). Their sample code says to use Security.generatePublicKey(base64EncodedPublicKey); but the Security object in standard java has no such method. ","title":"How can I construct a java.security.PublicKey object from a base64 encoded string?","body":"<p>I have a bse64encoded string Public key from external source (Android Store) and I need to use it to verify signed content. How can I convert the string into an instance of the java.security.PublicKey interface. I am on Java 6 if that makes a difference. </p>\n\n<p>The key is (probably) generated using standard java lib and not bouncy castle (its from a remote team so I am not sure). Their sample code says to use Security.generatePublicKey(base64EncodedPublicKey); but the Security object in standard java has no such method. </p>\n"},{"tags":["java","mysql","oauth","google-cloud-sql"],"answers":[{"tags":[],"owner":{"account_id":2689356,"reputation":802,"user_id":2323006,"display_name":"Lorenz Pfisterer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668528992,"creation_date":1423659634,"answer_id":28455028,"question_id":28453981,"body_markdown":" 1. You have to create a project at [Google Console][1].\r\n 2. You have to create a OAuth Client ID for the created project\r\n![enter image description here][2]\r\n 3. Implement OAuth in your application like described in chapter **Command-line authorization code flow** on the [Wiki Page][3]\r\n 4. Replace OAuth2ClientCredentials-Constants from the example with your generated client ID and client secret from step 2\r\n \r\nA complete example of an java app which implemented OAuth with Google OAuth lib can be found [here][4]. Just checkout the source and adapt it to your application and change the Client ID and Client secret.\r\n\r\n\r\n  [1]: https://console.developers.google.com\r\n  [2]: http://i.stack.imgur.com/TuBse.jpg\r\n  [3]: https://github.com/googleapis/google-oauth-java-client/wiki/OAuth-2.0#command-line-authorization-code-flow\r\n  [4]: https://github.com/google/google-oauth-java-client/tree/master/samples/dailymotion-cmdline-sample","title":"Authenticate desktop client app with Google OAuth 2.0","body":"<ol>\n<li>You have to create a project at <a href=\"https://console.developers.google.com\" rel=\"nofollow noreferrer\">Google Console</a>.</li>\n<li>You have to create a OAuth Client ID for the created project\n<img src=\"https://i.stack.imgur.com/TuBse.jpg\" alt=\"enter image description here\" /></li>\n<li>Implement OAuth in your application like described in chapter <strong>Command-line authorization code flow</strong> on the <a href=\"https://github.com/googleapis/google-oauth-java-client/wiki/OAuth-2.0#command-line-authorization-code-flow\" rel=\"nofollow noreferrer\">Wiki Page</a></li>\n<li>Replace OAuth2ClientCredentials-Constants from the example with your generated client ID and client secret from step 2</li>\n</ol>\n<p>A complete example of an java app which implemented OAuth with Google OAuth lib can be found <a href=\"https://github.com/google/google-oauth-java-client/tree/master/samples/dailymotion-cmdline-sample\" rel=\"nofollow noreferrer\">here</a>. Just checkout the source and adapt it to your application and change the Client ID and Client secret.</p>\n"}],"owner":{"account_id":3399087,"reputation":1712,"user_id":2851837,"accept_rate":71,"display_name":"Robin Trietsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1934,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28455028,"answer_count":1,"score":3,"last_activity_date":1668528992,"creation_date":1423656455,"question_id":28453981,"body_markdown":"I&#39;m creating a Java desktop application that communicates with a Cloud SQL MySQL database. Currently, access is granted per ip address, and restricts access to certain computers to the database.\r\nI would like to authenticate computer access to the database using Google&#39;s OAuth 2.0. How do I set up Google OAuth for my application?\r\nI&#39;ve read the Google docs ([OAuth 2.0][1] and [Google Client API][2]), but I still have no clue how to do this.\r\n\r\nAny help is much appreciated!\r\n\r\n**EDIT**\r\nI have a client, which is the application running on a computer. This Java application has an openConnection method, that requests a mysql connection through the jdbc driver. I think that the openConnection method should look like presented below.\r\n\r\n    public void openConnection() {\r\n        Connection con = //HTTP request to Google App Engine\r\n    \t\t\t         //In http request: request(accessToken, ipAddress, );\r\n    }\r\n\r\n\r\nThe server should have a doGet method, which should look something like the one presented below.\r\n\r\n    public void doGet(HttpServletRequest req, HttpServletResponse res) {\r\n        \t//Authenticate\r\n            boolean passed = //some way to authenticate the client\r\n        \tif (passed) {\r\n        \t\t//This request would pass, because the app engine has read write access\r\n        \t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://&quot;+ipAddress+&quot;:&quot;+portNumber+&quot;/&quot;+databaseName,user,pass);\r\n        \t\treturn connection;\r\n        \t}\r\n            else{\r\n                //Not authenticated\r\n            }\r\n        \t\r\n    }\r\n\r\nDoes anyone know how to do this?\r\n\r\n\r\n  [1]: https://code.google.com/p/google-oauth-java-client/wiki/OAuth2 &quot;OAuth 2.0&quot;\r\n  [2]: https://code.google.com/p/google-api-java-client/wiki/OAuth2","title":"Authenticate desktop client app with Google OAuth 2.0","body":"<p>I'm creating a Java desktop application that communicates with a Cloud SQL MySQL database. Currently, access is granted per ip address, and restricts access to certain computers to the database.\nI would like to authenticate computer access to the database using Google's OAuth 2.0. How do I set up Google OAuth for my application?\nI've read the Google docs (<a href=\"https://code.google.com/p/google-oauth-java-client/wiki/OAuth2\" rel=\"nofollow\" title=\"OAuth 2.0\">OAuth 2.0</a> and <a href=\"https://code.google.com/p/google-api-java-client/wiki/OAuth2\" rel=\"nofollow\">Google Client API</a>), but I still have no clue how to do this.</p>\n\n<p>Any help is much appreciated!</p>\n\n<p><strong>EDIT</strong>\nI have a client, which is the application running on a computer. This Java application has an openConnection method, that requests a mysql connection through the jdbc driver. I think that the openConnection method should look like presented below.</p>\n\n<pre><code>public void openConnection() {\n    Connection con = //HTTP request to Google App Engine\n                     //In http request: request(accessToken, ipAddress, );\n}\n</code></pre>\n\n<p>The server should have a doGet method, which should look something like the one presented below.</p>\n\n<pre><code>public void doGet(HttpServletRequest req, HttpServletResponse res) {\n        //Authenticate\n        boolean passed = //some way to authenticate the client\n        if (passed) {\n            //This request would pass, because the app engine has read write access\n            Connection con = DriverManager.getConnection(\"jdbc:mysql://\"+ipAddress+\":\"+portNumber+\"/\"+databaseName,user,pass);\n            return connection;\n        }\n        else{\n            //Not authenticated\n        }\n\n}\n</code></pre>\n\n<p>Does anyone know how to do this?</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1668095603,"post_id":74391350,"comment_id":131328452,"body_markdown":"Binary search works only on sorted sequences. But your dataset in not sorted. It&#39;s seems to me like simply finding an index of first maximum element in array.","body":"Binary search works only on sorted sequences. But your dataset in not sorted. It&#39;s seems to me like simply finding an index of first maximum element in array."}],"answers":[{"tags":[],"owner":{"account_id":3957137,"reputation":2210,"user_id":3265253,"display_name":"dangarfield"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668094446,"creation_date":1668094446,"answer_id":74391545,"question_id":74391350,"body_markdown":"Loop through the values, each it is larger than the previous peak value, update the peak value and also the index. Return the index after completing.\r\n\r\n```\r\npublic class Solution {\r\n    public static int peakIndexInMountainArray(int[] arr) {\r\n        int peakValue = 0;\r\n        int peakIndex = 0;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            int value = arr[i];\r\n            if (value &gt; peakValue) {\r\n                peakValue = value;\r\n                peakIndex = i;\r\n            }\r\n        }\r\n        return peakIndex;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Set 1: &quot; + peakIndexInMountainArray(new int[]{0,1,2}));\r\n        System.out.println(&quot;Set 2: &quot; + peakIndexInMountainArray(new int[]{0,1,0}));\r\n        System.out.println(&quot;Set 3: &quot; + peakIndexInMountainArray(new int[]{0,2,1,0}));\r\n        System.out.println(&quot;Set 4: &quot; + peakIndexInMountainArray(new int[]{0,10,5,2}));\r\n        System.out.println(&quot;Set 5: &quot; + peakIndexInMountainArray(new int[]{0,100,500,2}));\r\n    }\r\n}\r\n```","title":"Troubleshooting code for exact output - Finding the peak index","body":"<p>Loop through the values, each it is larger than the previous peak value, update the peak value and also the index. Return the index after completing.</p>\n<pre><code>public class Solution {\n    public static int peakIndexInMountainArray(int[] arr) {\n        int peakValue = 0;\n        int peakIndex = 0;\n        for (int i = 0; i &lt; arr.length; i++) {\n            int value = arr[i];\n            if (value &gt; peakValue) {\n                peakValue = value;\n                peakIndex = i;\n            }\n        }\n        return peakIndex;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Set 1: &quot; + peakIndexInMountainArray(new int[]{0,1,2}));\n        System.out.println(&quot;Set 2: &quot; + peakIndexInMountainArray(new int[]{0,1,0}));\n        System.out.println(&quot;Set 3: &quot; + peakIndexInMountainArray(new int[]{0,2,1,0}));\n        System.out.println(&quot;Set 4: &quot; + peakIndexInMountainArray(new int[]{0,10,5,2}));\n        System.out.println(&quot;Set 5: &quot; + peakIndexInMountainArray(new int[]{0,100,500,2}));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22529197,"reputation":1,"user_id":16721568,"display_name":"Jack Sparrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668528814,"creation_date":1668093648,"question_id":74391350,"body_markdown":"I am facing issue while finding the peak index of array. I have tried solving using binary search. Don&#39;t know where I am going wrong. Though have successfully tested for some use cases.\r\n```\r\nclass Solution {\r\n    public int peakIndexInMountainArray(int[] arr) {\r\n        int low=0;\r\n        int high=arr.length-1;\r\n        int mid=0;\r\n        while(low&lt;=high){\r\n            mid = (low+high)/2;\r\n            if (mid==0 | (arr[mid]&gt;=arr[mid-1]) &amp;&amp; (mid==high | arr[mid]&gt;=arr[mid+1]))\r\n                return mid;\r\n            else if (mid&gt;0 | arr[mid-1]&gt;arr[mid]){\r\n                low = mid+1;\r\n            }\r\n            high = mid-1;\r\n        }return mid;       \r\n    }\r\n}\r\n```\r\nFor the given input [0,2,1,0] \r\n\r\nOutput\r\n2\r\nExpected\r\n1\r\n\r\n**Edit for clarification on behalf of the poster:**\r\n\r\nAn array `arr` is a mountain if the following properties hold:\r\n\r\n- `arr.length &gt;= 3`\r\n- There exists some `i` with `0 &lt; i &lt; arr.length - 1` such that:\r\n  -  `arr[0] &lt; arr[1] &lt; ... &lt; arr[i - 1] &lt; arr[i]`\r\n  -  `arr[i] &gt; arr[i + 1] &gt; ... &gt; arr[arr.length - 1]`\r\n\r\nGiven a mountain array `arr`, return the index `i` such that `arr[0] &lt; arr[1] &lt; ... &lt; arr[i - 1] &lt; arr[i] &gt; arr[i + 1] &gt; ... &gt; arr[arr.length - 1]`.\r\n\r\nYou must solve it in `O(log(arr.length))` time complexity.\r\n\r\nQuestion taken from https://leetcode.com/problems/peak-index-in-a-mountain-array/","title":"Troubleshooting code for exact output - Finding the peak index","body":"<p>I am facing issue while finding the peak index of array. I have tried solving using binary search. Don't know where I am going wrong. Though have successfully tested for some use cases.</p>\n<pre><code>class Solution {\n    public int peakIndexInMountainArray(int[] arr) {\n        int low=0;\n        int high=arr.length-1;\n        int mid=0;\n        while(low&lt;=high){\n            mid = (low+high)/2;\n            if (mid==0 | (arr[mid]&gt;=arr[mid-1]) &amp;&amp; (mid==high | arr[mid]&gt;=arr[mid+1]))\n                return mid;\n            else if (mid&gt;0 | arr[mid-1]&gt;arr[mid]){\n                low = mid+1;\n            }\n            high = mid-1;\n        }return mid;       \n    }\n}\n</code></pre>\n<p>For the given input [0,2,1,0]</p>\n<p>Output\n2\nExpected\n1</p>\n<p><strong>Edit for clarification on behalf of the poster:</strong></p>\n<p>An array <code>arr</code> is a mountain if the following properties hold:</p>\n<ul>\n<li><code>arr.length &gt;= 3</code></li>\n<li>There exists some <code>i</code> with <code>0 &lt; i &lt; arr.length - 1</code> such that:\n<ul>\n<li><code>arr[0] &lt; arr[1] &lt; ... &lt; arr[i - 1] &lt; arr[i]</code></li>\n<li><code>arr[i] &gt; arr[i + 1] &gt; ... &gt; arr[arr.length - 1]</code></li>\n</ul>\n</li>\n</ul>\n<p>Given a mountain array <code>arr</code>, return the index <code>i</code> such that <code>arr[0] &lt; arr[1] &lt; ... &lt; arr[i - 1] &lt; arr[i] &gt; arr[i + 1] &gt; ... &gt; arr[arr.length - 1]</code>.</p>\n<p>You must solve it in <code>O(log(arr.length))</code> time complexity.</p>\n<p>Question taken from <a href=\"https://leetcode.com/problems/peak-index-in-a-mountain-array/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/peak-index-in-a-mountain-array/</a></p>\n"},{"tags":["java","properties"],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668527655,"creation_date":1668527655,"answer_id":74448567,"question_id":74448412,"body_markdown":"You missed generics type in AllStuffs addEmployees() method argument. That is the problem. It should be like this:\r\n\r\n    public void addEmployees(ArrayList&lt;Employees&gt; listOfEmployees){","title":"Why can&#39;t I access the Object&#39;s properties from another class? (even when the Object was passed to the class that is trying to access the properties)","body":"<p>You missed generics type in AllStuffs addEmployees() method argument. That is the problem. It should be like this:</p>\n<pre><code>public void addEmployees(ArrayList&lt;Employees&gt; listOfEmployees){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18803667,"reputation":51,"user_id":13713476,"display_name":"Ruendan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668528617,"creation_date":1668528617,"answer_id":74448789,"question_id":74448412,"body_markdown":"When using a List (or any object that can be **generic**), it&#39;s a good practice to specify the type of List you&#39;re dealing with. In your case, the method `addEmployees(ArrayList listOfEmployees)` takes in parameter an ArrayList, which could be an ArrayList of literally any object. It could be an ArrayList of Employees, Strings, Integers, whereas you just want it to be an ArrayList of Employees.\r\n\r\nthe solution is to change your ArrayList into a `ArrayList&lt;Employees&gt; listOfEmployees`\r\n\r\n    public void addEmployees(ArrayList&lt;Employees&gt; listOfEmployees){\r\n        System.out.println(&quot;List of employees size: &quot; + listOfEmployees.size());\r\n\r\n        for (int i = 0; i &lt; listOfEmployees.size(); i++){\r\n            System.out.println(&quot;Employee names: &quot; + listOfEmployees.get(i).getName());\r\n            //The above should work just fine :)\r\n            System.out.println(&quot;Employee names: &quot; + listOfEmployees.get(i).name); \r\n            //This one will work too as the &quot;name&quot; attribute is public but as you have a getName() method, you probably should make it private :D.\r\n        }\r\n\r\n        this.employeesArrayList = listOfEmployees;\r\n    }\r\n\r\nTo explain it quickly without too much details, when you&#39;re using a List object, you must specify the List&#39;s type by putting `&lt;&gt;` around it. If you don&#39;t, the default type is **Object** which is the parent of every types in java.\r\n\r\nAlso, i guess your `static ArrayList &lt;AllStaff&gt; employeesArrayList;` is meant to be your list of employees. So replacing it with `static ArrayList &lt;Employees&gt; employeesArrayList;` seems to be what you want to do :D\r\n\r\n","title":"Why can&#39;t I access the Object&#39;s properties from another class? (even when the Object was passed to the class that is trying to access the properties)","body":"<p>When using a List (or any object that can be <strong>generic</strong>), it's a good practice to specify the type of List you're dealing with. In your case, the method <code>addEmployees(ArrayList listOfEmployees)</code> takes in parameter an ArrayList, which could be an ArrayList of literally any object. It could be an ArrayList of Employees, Strings, Integers, whereas you just want it to be an ArrayList of Employees.</p>\n<p>the solution is to change your ArrayList into a <code>ArrayList&lt;Employees&gt; listOfEmployees</code></p>\n<pre><code>public void addEmployees(ArrayList&lt;Employees&gt; listOfEmployees){\n    System.out.println(&quot;List of employees size: &quot; + listOfEmployees.size());\n\n    for (int i = 0; i &lt; listOfEmployees.size(); i++){\n        System.out.println(&quot;Employee names: &quot; + listOfEmployees.get(i).getName());\n        //The above should work just fine :)\n        System.out.println(&quot;Employee names: &quot; + listOfEmployees.get(i).name); \n        //This one will work too as the &quot;name&quot; attribute is public but as you have a getName() method, you probably should make it private :D.\n    }\n\n    this.employeesArrayList = listOfEmployees;\n}\n</code></pre>\n<p>To explain it quickly without too much details, when you're using a List object, you must specify the List's type by putting <code>&lt;&gt;</code> around it. If you don't, the default type is <strong>Object</strong> which is the parent of every types in java.</p>\n<p>Also, i guess your <code>static ArrayList &lt;AllStaff&gt; employeesArrayList;</code> is meant to be your list of employees. So replacing it with <code>static ArrayList &lt;Employees&gt; employeesArrayList;</code> seems to be what you want to do :D</p>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74448789,"answer_count":2,"score":0,"last_activity_date":1668528617,"creation_date":1668526966,"question_id":74448412,"body_markdown":"I hope you are able to help me.\r\n\r\nMy question is:\r\n\r\nWhen passing an instance of an object that is in an arraylist, and I pass that arraylist to another class, how do I access it&#39;s atributes?\r\n\r\nI can access the attributes before passing it to another class.\r\n\r\nThe &quot;Main&quot; class, passes on the data, to the &quot;Employees&quot; class.\r\n```\r\nEmployees employees = new Employees();\r\nemployees.addEmployee(&quot;Orlando&quot;, &quot;Silva&quot;, 111111111, &quot;St. King&#39;s Street&quot;, 111111111, 11111111111111L, employees.getMinimumWage(), employees.getDayShift());\r\nemployees.addEmployee(&quot;Rui&quot;, &quot;Guilherme&quot;, 111111111, &quot;St. King&#39;s Street&quot;, 111111111, 11111111111111L, employees.getMinimumWage(), employees.getNightShift());\r\nemployees.addEmployee(&quot;Marco&quot;, &quot;Alberto&quot;, 111111111, &quot;St. King&#39;s Street&quot;, 111111111, 11111111111111L, employees.getMinimumWage(), employees.getNightShift());\r\n```\r\n\r\nThe &quot;Employees&quot; class receives the data, adds it to an array, and from that array goes to the &quot;AllStaff&quot; class\r\n\r\nNotice, that I have access to the atributes, in the method &quot;addToAllStaff()&quot;\r\n```\r\npublic class Employees {\r\n    // Atributes\r\n    public String name;\r\n    private String lName;\r\n    private int nID;\r\n    private String address;\r\n    private int phNum;\r\n    private long nSocialSecNum;\r\n    private double minimumWage = 740.83;\r\n    private double employeeWage;\r\n    private String dayShift = &quot;Day shift&quot;, afternoonShift = &quot;Afternoon shift&quot;, nightShift = &quot;Night shift&quot;;\r\n    private String shift;\r\n\r\n    private ArrayList&lt;Employees&gt; employeesArrayList = new ArrayList&lt;Employees&gt;();\r\n    private AllStaff allStaff = new AllStaff();\r\n    //---------------------\r\n    // Constructors\r\n    public Employees(){\r\n\r\n    }\r\n\r\n    public Employees(String name, String lName, int nID, String address, int phNum, long nSocialSecNum, double minimumWage, String shift){\r\n        this.name = name;\r\n        this.lName = lName;\r\n        this.nID = nID;\r\n        this.address = address;\r\n        this.phNum = phNum;\r\n        this.nSocialSecNum = nSocialSecNum;\r\n        this.employeeWage = minimumWage;\r\n        this.shift = shift;\r\n        //----------------\r\n        extraWage();\r\n    }\r\n\r\n    //---------------------\r\n\r\n    public void addEmployee(String name, String lName, int nID, String address, int phNum, long nSocialSecNum, double minimumWage, String shift){\r\n           Employees employee = new Employees(name, lName, nID, address, phNum, nSocialSecNum, minimumWage, shift);\r\n           employeesArrayList.add(employee);\r\n           addToAllStaff();\r\n    }\r\n\r\n    void addToAllStaff(){\r\n        System.out.println(&quot;(Class Employees) employees size: &quot; + employeesArrayList.size());\r\n\r\n        for (int i = 0; i &lt; employeesArrayList.size(); i++){\r\n            System.out.println(&quot;Employee names: &quot; + employeesArrayList.get(i).getName());\r\n            System.out.println(&quot;Employee names: &quot; + employeesArrayList.get(i).name);\r\n        }\r\n\r\n        allStaff.addEmployees(employeesArrayList);\r\n    }\r\n}\r\n```\r\nIn the class &quot;AllStaff&quot;, is where I don&#39;t have access to the attributes\r\n```\r\npublic class AllStaff {\r\n    static ArrayList &lt;AllStaff&gt; employeesArrayList;\r\n\r\n    public AllStaff(){\r\n\r\n    }\r\n\r\n    public void addEmployees(ArrayList listOfEmployees){\r\n        System.out.println(&quot;List of employees size: &quot; + listOfEmployees.size());\r\n\r\n        for (int i = 0; i &lt; listOfEmployees.size(); i++){\r\n            System.out.println(&quot;Employee names: &quot; + listOfEmployees.get(i).getName());\r\n            System.out.println(&quot;Employee names: &quot; + listOfEmployees.get(i).name);\r\n        }\r\n\r\n        this.employeesArrayList = listOfEmployees;\r\n    }\r\n```\r\nFor the whole code, please visit this link: https://github.com/OrlandoVSilva/test-to-github/tree/master/test-to-github/src/mercado\r\n\r\nI hope this question has everything you need.\r\nThanks","title":"Why can&#39;t I access the Object&#39;s properties from another class? (even when the Object was passed to the class that is trying to access the properties)","body":"<p>I hope you are able to help me.</p>\n<p>My question is:</p>\n<p>When passing an instance of an object that is in an arraylist, and I pass that arraylist to another class, how do I access it's atributes?</p>\n<p>I can access the attributes before passing it to another class.</p>\n<p>The &quot;Main&quot; class, passes on the data, to the &quot;Employees&quot; class.</p>\n<pre><code>Employees employees = new Employees();\nemployees.addEmployee(&quot;Orlando&quot;, &quot;Silva&quot;, 111111111, &quot;St. King's Street&quot;, 111111111, 11111111111111L, employees.getMinimumWage(), employees.getDayShift());\nemployees.addEmployee(&quot;Rui&quot;, &quot;Guilherme&quot;, 111111111, &quot;St. King's Street&quot;, 111111111, 11111111111111L, employees.getMinimumWage(), employees.getNightShift());\nemployees.addEmployee(&quot;Marco&quot;, &quot;Alberto&quot;, 111111111, &quot;St. King's Street&quot;, 111111111, 11111111111111L, employees.getMinimumWage(), employees.getNightShift());\n</code></pre>\n<p>The &quot;Employees&quot; class receives the data, adds it to an array, and from that array goes to the &quot;AllStaff&quot; class</p>\n<p>Notice, that I have access to the atributes, in the method &quot;addToAllStaff()&quot;</p>\n<pre><code>public class Employees {\n    // Atributes\n    public String name;\n    private String lName;\n    private int nID;\n    private String address;\n    private int phNum;\n    private long nSocialSecNum;\n    private double minimumWage = 740.83;\n    private double employeeWage;\n    private String dayShift = &quot;Day shift&quot;, afternoonShift = &quot;Afternoon shift&quot;, nightShift = &quot;Night shift&quot;;\n    private String shift;\n\n    private ArrayList&lt;Employees&gt; employeesArrayList = new ArrayList&lt;Employees&gt;();\n    private AllStaff allStaff = new AllStaff();\n    //---------------------\n    // Constructors\n    public Employees(){\n\n    }\n\n    public Employees(String name, String lName, int nID, String address, int phNum, long nSocialSecNum, double minimumWage, String shift){\n        this.name = name;\n        this.lName = lName;\n        this.nID = nID;\n        this.address = address;\n        this.phNum = phNum;\n        this.nSocialSecNum = nSocialSecNum;\n        this.employeeWage = minimumWage;\n        this.shift = shift;\n        //----------------\n        extraWage();\n    }\n\n    //---------------------\n\n    public void addEmployee(String name, String lName, int nID, String address, int phNum, long nSocialSecNum, double minimumWage, String shift){\n           Employees employee = new Employees(name, lName, nID, address, phNum, nSocialSecNum, minimumWage, shift);\n           employeesArrayList.add(employee);\n           addToAllStaff();\n    }\n\n    void addToAllStaff(){\n        System.out.println(&quot;(Class Employees) employees size: &quot; + employeesArrayList.size());\n\n        for (int i = 0; i &lt; employeesArrayList.size(); i++){\n            System.out.println(&quot;Employee names: &quot; + employeesArrayList.get(i).getName());\n            System.out.println(&quot;Employee names: &quot; + employeesArrayList.get(i).name);\n        }\n\n        allStaff.addEmployees(employeesArrayList);\n    }\n}\n</code></pre>\n<p>In the class &quot;AllStaff&quot;, is where I don't have access to the attributes</p>\n<pre><code>public class AllStaff {\n    static ArrayList &lt;AllStaff&gt; employeesArrayList;\n\n    public AllStaff(){\n\n    }\n\n    public void addEmployees(ArrayList listOfEmployees){\n        System.out.println(&quot;List of employees size: &quot; + listOfEmployees.size());\n\n        for (int i = 0; i &lt; listOfEmployees.size(); i++){\n            System.out.println(&quot;Employee names: &quot; + listOfEmployees.get(i).getName());\n            System.out.println(&quot;Employee names: &quot; + listOfEmployees.get(i).name);\n        }\n\n        this.employeesArrayList = listOfEmployees;\n    }\n</code></pre>\n<p>For the whole code, please visit this link: <a href=\"https://github.com/OrlandoVSilva/test-to-github/tree/master/test-to-github/src/mercado\" rel=\"nofollow noreferrer\">https://github.com/OrlandoVSilva/test-to-github/tree/master/test-to-github/src/mercado</a></p>\n<p>I hope this question has everything you need.\nThanks</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1547132832,"creation_date":1547132832,"answer_id":54131550,"question_id":54127893,"body_markdown":"If you have generated the `UserRolesRecord`, and if your `UserRole` class follows the naming conventions defined by [`DefaultRecordMapper`][1], then you can load your custom `UserRole` content into the record like this:\r\n\r\n    UserRole ur = new UserRole();\r\n    // ...\r\n    UserRoleRecord rec = new UserRoleRecord();\r\n    rec.from(ur);\r\n    create.insertInto(USER_ROLES).set(rec).execute();\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org/jooq/impl/DefaultRecordMapper.html","title":"Inserting record in jOOQ without specifying column names","body":"<p>If you have generated the <code>UserRolesRecord</code>, and if your <code>UserRole</code> class follows the naming conventions defined by <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/impl/DefaultRecordMapper.html\" rel=\"noreferrer\"><code>DefaultRecordMapper</code></a>, then you can load your custom <code>UserRole</code> content into the record like this:</p>\n\n<pre><code>UserRole ur = new UserRole();\n// ...\nUserRoleRecord rec = new UserRoleRecord();\nrec.from(ur);\ncreate.insertInto(USER_ROLES).set(rec).execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10278183,"reputation":39,"user_id":7584324,"display_name":"Angelo Gargantini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668528544,"creation_date":1668528544,"answer_id":74448774,"question_id":54127893,"body_markdown":"You can do the following (simpler):\r\n\r\n```\r\nUserRole ur = new UserRole();\r\ncreate.insertInto(USER_ROLES).set(ur).execute();\r\n```","title":"Inserting record in jOOQ without specifying column names","body":"<p>You can do the following (simpler):</p>\n<pre><code>UserRole ur = new UserRole();\ncreate.insertInto(USER_ROLES).set(ur).execute();\n</code></pre>\n"}],"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1653,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54131550,"answer_count":2,"score":5,"last_activity_date":1668528544,"creation_date":1547120341,"question_id":54127893,"body_markdown":"I have a table USER_ROLES that has 5 columns. Also, a class UserRole that has the same number of fields and names as USER_ROLES.\r\n\r\nI&#39;m trying to insert a row without specifying the column names:\r\n\r\n        UserRole ur = new UserRole();\r\n        // UserRole fields setting\r\n \r\n    \tcreate.insertInto(USER_ROLES).values(ur).execute();\r\n\r\nBut I get this error when I attempt to create the row:\r\n\r\n`The number of values must match the number of fields`\r\n\r\nAm I forced to specify the column names?\r\n\r\n","title":"Inserting record in jOOQ without specifying column names","body":"<p>I have a table USER_ROLES that has 5 columns. Also, a class UserRole that has the same number of fields and names as USER_ROLES.</p>\n\n<p>I'm trying to insert a row without specifying the column names:</p>\n\n<pre><code>    UserRole ur = new UserRole();\n    // UserRole fields setting\n\n    create.insertInto(USER_ROLES).values(ur).execute();\n</code></pre>\n\n<p>But I get this error when I attempt to create the row:</p>\n\n<p><code>The number of values must match the number of fields</code></p>\n\n<p>Am I forced to specify the column names?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1668528830,"post_id":74448504,"comment_id":131424998,"body_markdown":"Just use two separate streams (one for `Cat`, one for `Dog`), and then `Stream#collect`. Note if `#fetch*` is blocking, then you&#39;re going to be waiting a while for each list retrieval. You can also take advantage of `#flatMap` to turn the `Stream&lt;List&lt;Animal&gt;&gt;` you receive into a `Stream&lt;Animal&gt;`. My primary advice, however, is to write this first without streams, and get a feel for what you&#39;re trying to accomplish. It appears that you&#39;ve got a lot of stream work that isn&#39;t really necessary.","body":"Just use two separate streams (one for <code>Cat</code>, one for <code>Dog</code>), and then <code>Stream#collect</code>. Note if <code>#fetch*</code> is blocking, then you&#39;re going to be waiting a while for each list retrieval. You can also take advantage of <code>#flatMap</code> to turn the <code>Stream&lt;List&lt;Animal&gt;&gt;</code> you receive into a <code>Stream&lt;Animal&gt;</code>. My primary advice, however, is to write this first without streams, and get a feel for what you&#39;re trying to accomplish. It appears that you&#39;ve got a lot of stream work that isn&#39;t really necessary."}],"answers":[{"tags":[],"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668528438,"creation_date":1668528438,"answer_id":74448747,"question_id":74448504,"body_markdown":"    Collection&lt;List&lt;Integer&gt;&gt; partitionedListOfNumbers = IntStream.rangeClosed(1,5000)\r\n        .collect(Collectors.groupingBy(num - &gt; counter.getAndIncrement() / 500))\r\n        .values();\r\n    List&lt;Cat&gt; catList = partitionedListOfNumbers.stream()\r\n        .map(list -&gt; catRepo.fetchCats(list))\r\n        .flatMap(List::stream)\r\n        .collect(Collectors.toList());\r\n    List&lt;Dog&gt; dogList = partitionedListOfNumbers.stream()\r\n        .map(list -&gt; dogRepo.fetchDogs(list))\r\n        .flatMap(List::stream)\r\n        .collect(Collectors.toList());\r\n\r\nYou could extract the logic to retrieve animals based on list of lists to a method that accepts a function to avoid the slight duplication of the code, but I think it solves your problem?","title":"Can anyone help me restructure the following code so that it avoids shared mutability?","body":"<pre><code>Collection&lt;List&lt;Integer&gt;&gt; partitionedListOfNumbers = IntStream.rangeClosed(1,5000)\n    .collect(Collectors.groupingBy(num - &gt; counter.getAndIncrement() / 500))\n    .values();\nList&lt;Cat&gt; catList = partitionedListOfNumbers.stream()\n    .map(list -&gt; catRepo.fetchCats(list))\n    .flatMap(List::stream)\n    .collect(Collectors.toList());\nList&lt;Dog&gt; dogList = partitionedListOfNumbers.stream()\n    .map(list -&gt; dogRepo.fetchDogs(list))\n    .flatMap(List::stream)\n    .collect(Collectors.toList());\n</code></pre>\n<p>You could extract the logic to retrieve animals based on list of lists to a method that accepts a function to avoid the slight duplication of the code, but I think it solves your problem?</p>\n"}],"owner":{"account_id":15850421,"reputation":31,"user_id":11436431,"display_name":"Pratap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668528438,"creation_date":1668527357,"question_id":74448504,"body_markdown":"I have a requirement where I want to fetch data from the database by passing a list of keys (in this case numbers) and the database has a limitation of accepting a certain number of parameters (say 500). The code I have written is as follows; \r\n\r\n```\r\nAtomicInteger counter = new AtomicInteger();\r\nList &lt; Cat &gt; catList = new ArrayList &lt; &gt; ();\r\nList &lt; Dog &gt; dogList = new ArrayList &lt; &gt; ();\r\nList &lt; Integer &gt; numbers = Stream.iterate(1, e - &gt; e + 1)\r\n    .limit(5000)\r\n    .collect(Collectors.toList());\r\nCollection &lt; List &lt; Integer &gt;&gt; partitionedListOfNumbers = numbers.stream()\r\n    .collect(Collectors.groupingBy(num - &gt; counter.getAndIncrement() / 500))\r\n    .values(); //Split the list into lists of size 500\r\npartitionedListOfNumbers.stream()\r\n    .forEach(list - &gt; {\r\n        List &lt; Cat &gt; interimCatList = catRepo.fetchCats(list); //Cat list to be fetched from the database\r\n        catList.addAll(interimCatList);\r\n        List &lt; Dog &gt; interimDogList = dogRepo.fetchDogs(list); //Dog list to be fetched from database\r\n        dogList.addAll(interimDogList);\r\n    });\r\n```\r\n\r\n\r\nI know the above function isn&#39;t pure as it is mutating the catList and the dogList. Would you mind to help me restructure the code so that it avoids shared mutability?\r\n\r\n\r\n\r\n```\r\nAtomicInteger counter = new AtomicInteger();\r\nList &lt; Cat &gt; catList = new ArrayList &lt; &gt; ();\r\nList &lt; Dog &gt; dogList = new ArrayList &lt; &gt; ();\r\nList &lt; Integer &gt; numbers = Stream.iterate(1, e - &gt; e + 1)\r\n    .limit(5000)\r\n    .collect(Collectors.toList());\r\nCollection &lt; List &lt; Integer &gt;&gt; partitionedListOfNumbers = numbers.stream()\r\n    .collect(Collectors.groupingBy(num - &gt; counter.getAndIncrement() / 500))\r\n    .values(); //Split the list into lists of size 500\r\npartitionedListOfNumbers.stream()\r\n    .forEach(list - &gt; {\r\n        List &lt; Cat &gt; interimCatList = catRepo.fetchCats(list); //Cat list to be fetched from the database\r\n        catList.addAll(interimCatList);\r\n        List &lt; Dog &gt; interimDogList = dogRepo.fetchDogs(list); //Dog list to be fetched from database\r\n        dogList.addAll(interimDogList);\r\n    });\r\n```\r\n","title":"Can anyone help me restructure the following code so that it avoids shared mutability?","body":"<p>I have a requirement where I want to fetch data from the database by passing a list of keys (in this case numbers) and the database has a limitation of accepting a certain number of parameters (say 500). The code I have written is as follows;</p>\n<pre><code>AtomicInteger counter = new AtomicInteger();\nList &lt; Cat &gt; catList = new ArrayList &lt; &gt; ();\nList &lt; Dog &gt; dogList = new ArrayList &lt; &gt; ();\nList &lt; Integer &gt; numbers = Stream.iterate(1, e - &gt; e + 1)\n    .limit(5000)\n    .collect(Collectors.toList());\nCollection &lt; List &lt; Integer &gt;&gt; partitionedListOfNumbers = numbers.stream()\n    .collect(Collectors.groupingBy(num - &gt; counter.getAndIncrement() / 500))\n    .values(); //Split the list into lists of size 500\npartitionedListOfNumbers.stream()\n    .forEach(list - &gt; {\n        List &lt; Cat &gt; interimCatList = catRepo.fetchCats(list); //Cat list to be fetched from the database\n        catList.addAll(interimCatList);\n        List &lt; Dog &gt; interimDogList = dogRepo.fetchDogs(list); //Dog list to be fetched from database\n        dogList.addAll(interimDogList);\n    });\n</code></pre>\n<p>I know the above function isn't pure as it is mutating the catList and the dogList. Would you mind to help me restructure the code so that it avoids shared mutability?</p>\n<pre><code>AtomicInteger counter = new AtomicInteger();\nList &lt; Cat &gt; catList = new ArrayList &lt; &gt; ();\nList &lt; Dog &gt; dogList = new ArrayList &lt; &gt; ();\nList &lt; Integer &gt; numbers = Stream.iterate(1, e - &gt; e + 1)\n    .limit(5000)\n    .collect(Collectors.toList());\nCollection &lt; List &lt; Integer &gt;&gt; partitionedListOfNumbers = numbers.stream()\n    .collect(Collectors.groupingBy(num - &gt; counter.getAndIncrement() / 500))\n    .values(); //Split the list into lists of size 500\npartitionedListOfNumbers.stream()\n    .forEach(list - &gt; {\n        List &lt; Cat &gt; interimCatList = catRepo.fetchCats(list); //Cat list to be fetched from the database\n        catList.addAll(interimCatList);\n        List &lt; Dog &gt; interimDogList = dogRepo.fetchDogs(list); //Dog list to be fetched from database\n        dogList.addAll(interimDogList);\n    });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668529546,"post_id":74446805,"comment_id":131425280,"body_markdown":"How about [`url`](https://javadoc.io/doc/org.springframework.cloud/spring-cloud-netflix-core/1.2.1.RELEASE/org/springframework/cloud/netflix/feign/FeignClient.html#url--) (+`path`) parameter(s)!?","body":"How about <a href=\"https://javadoc.io/doc/org.springframework.cloud/spring-cloud-netflix-core/1.2.1.RELEASE/org/springframework/cloud/netflix/feign/FeignClient.html#url--\" rel=\"nofollow noreferrer\"><code>url</code></a> (+<code>path</code>) parameter(s)!?"}],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668523651,"creation_date":1668523651,"answer_id":74447574,"question_id":74446805,"body_markdown":"You could declare different paths in each of your Feign Client&#39;s methods:\r\n\r\n \r\n\r\n    // Request to Provider first URL\r\n        @PostMapping(path=&quot;/url1&quot;, consumes = MediaType.APPLICATION_JSON_VALUE,\r\n                produces = MediaType.TEXT_HTML_VALUE)\r\n        DeposiResponse deposit(DeposiRequest request);\r\n    \r\n      // Request to Provider second  URL\r\n        @PostMapping(path=&quot;/url2&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE,\r\n                produces = MediaType.TEXT_XML_VALUE)\r\n        WithdrawResponse withdrawPrepare(@RequestBody WithdrawRequest withdrawRequest);","title":"Can I configure FeignClient for work with different URLs","body":"<p>You could declare different paths in each of your Feign Client's methods:</p>\n<pre><code>// Request to Provider first URL\n    @PostMapping(path=&quot;/url1&quot;, consumes = MediaType.APPLICATION_JSON_VALUE,\n            produces = MediaType.TEXT_HTML_VALUE)\n    DeposiResponse deposit(DeposiRequest request);\n\n  // Request to Provider second  URL\n    @PostMapping(path=&quot;/url2&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE,\n            produces = MediaType.TEXT_XML_VALUE)\n    WithdrawResponse withdrawPrepare(@RequestBody WithdrawRequest withdrawRequest);\n</code></pre>\n"}],"owner":{"account_id":8703671,"reputation":87,"user_id":6512583,"display_name":"Dima Kovbasa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668528171,"creation_date":1668520442,"question_id":74446805,"body_markdown":"I write a payment system on Spring Boot. For integration with payment providers, I use FeignClient. I see that for different operations, deposit and withdraw, the different providers can use different URLs.  FeignClient allows for diferent reaquent use diferent URL?\r\n\r\nWhat I mean: \r\n\r\n    @FeignClient(name = &quot;ProviderName&quot;)\r\n    public interface ProviderClient {\r\n\r\n         // Request to Provider deposit URL\r\n        @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE,\r\n                produces = MediaType.TEXT_HTML_VALUE)\r\n        DeposiResponse deposit(DeposiRequest request);\r\n    \r\n      // Request to Provider withdraw URL\r\n        @PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE,\r\n                produces = MediaType.TEXT_XML_VALUE)\r\n        WithdrawResponse withdrawPrepare(@RequestBody WithdrawRequest withdrawRequest);\r\n    }\r\n\r\n\r\nFor example:       \r\n\r\n    deposit: &quot;https://pay.skrill.com/&quot;\r\n    withdraw: &quot;https://www.skrill.com/app/pay.pl&quot;","title":"Can I configure FeignClient for work with different URLs","body":"<p>I write a payment system on Spring Boot. For integration with payment providers, I use FeignClient. I see that for different operations, deposit and withdraw, the different providers can use different URLs.  FeignClient allows for diferent reaquent use diferent URL?</p>\n<p>What I mean:</p>\n<pre><code>@FeignClient(name = &quot;ProviderName&quot;)\npublic interface ProviderClient {\n\n     // Request to Provider deposit URL\n    @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE,\n            produces = MediaType.TEXT_HTML_VALUE)\n    DeposiResponse deposit(DeposiRequest request);\n\n  // Request to Provider withdraw URL\n    @PostMapping(consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE,\n            produces = MediaType.TEXT_XML_VALUE)\n    WithdrawResponse withdrawPrepare(@RequestBody WithdrawRequest withdrawRequest);\n}\n</code></pre>\n<p>For example:</p>\n<pre><code>deposit: &quot;https://pay.skrill.com/&quot;\nwithdraw: &quot;https://www.skrill.com/app/pay.pl&quot;\n</code></pre>\n"},{"tags":["java","mapping","mapstruct"],"comments":[{"owner":{"account_id":8858676,"reputation":645,"user_id":6615581,"display_name":"Gonzalo Lorieto"},"score":0,"creation_date":1668523480,"post_id":74447485,"comment_id":131422639,"body_markdown":"Did you add `@Mapper` decorator to `PersonMapper`?","body":"Did you add <code>@Mapper</code> decorator to <code>PersonMapper</code>?"},{"owner":{"account_id":12876524,"reputation":13,"user_id":9313046,"display_name":"gregof"},"score":0,"creation_date":1668523821,"post_id":74447485,"comment_id":131422786,"body_markdown":"Yes (I&#39;ve just edited my post and added this annotation). Of course I was using this annotation in code - just omitted it here.","body":"Yes (I&#39;ve just edited my post and added this annotation). Of course I was using this annotation in code - just omitted it here."},{"owner":{"account_id":12876524,"reputation":13,"user_id":9313046,"display_name":"gregof"},"score":0,"creation_date":1668524359,"post_id":74447485,"comment_id":131423027,"body_markdown":"The second solution (expression) is almost working... Mapper is generated but I have compilation fail in this line:\nList&lt;FeatureOut&gt; features = personIn.getContainers().get(0).getFeatures();\nbecause he tries to map List&lt;FeatureIn&gt; to List&lt;FeatureOut&gt;\nbut types are not compatible - how can I tell him how to map it?\nI tried to add use = FeaturesMapper.class to my @Mapper but it was not working.","body":"The second solution (expression) is almost working... Mapper is generated but I have compilation fail in this line: List&lt;FeatureOut&gt; features = personIn.getContainers().get(0).getFeatures(); because he tries to map List&lt;FeatureIn&gt; to List&lt;FeatureOut&gt; but types are not compatible - how can I tell him how to map it? I tried to add use = FeaturesMapper.class to my @Mapper but it was not working."}],"answers":[{"tags":[],"owner":{"account_id":8858676,"reputation":645,"user_id":6615581,"display_name":"Gonzalo Lorieto"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668525186,"creation_date":1668525186,"answer_id":74447980,"question_id":74447485,"body_markdown":"Try this:\r\n\r\n```\r\n\r\n@Mapper\r\npublic interface FeatureMapper {\r\n    List&lt;FeatureOut&gt; map(List&lt;FeatureIn&gt; featureIn);\r\n}\r\n\r\n\r\n@Mapper(uses = { FeatureMapper.class })\r\npublic interface PersonMapper {\r\n    List&lt;PersonOut&gt; map(List&lt;PersonIn&gt; peopleIn);\r\n}\r\n\r\n\r\n```","title":"How to map how to map a list being the first element of a list to a list using MapStruct","body":"<p>Try this:</p>\n<pre><code>\n@Mapper\npublic interface FeatureMapper {\n    List&lt;FeatureOut&gt; map(List&lt;FeatureIn&gt; featureIn);\n}\n\n\n@Mapper(uses = { FeatureMapper.class })\npublic interface PersonMapper {\n    List&lt;PersonOut&gt; map(List&lt;PersonIn&gt; peopleIn);\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668528021,"creation_date":1668525551,"answer_id":74448076,"question_id":74447485,"body_markdown":"Quick solution, you can use a custom mapper by using `qualifiedByName`, for example:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface PersonMapper {\r\n\r\n        @Mapping(target = &quot;features&quot;, source = &quot;containers&quot;, qualifiedByName = &quot;mapContainers&quot;)\r\n        PersonOut toPersonOut(PersonIn personIn);\r\n    \r\n        FeatureOut toFeatureIn(FeatureIn featureIn);\r\n    \r\n        @Named(&quot;mapContainers&quot;)\r\n        default List&lt;FeatureOut&gt; mapContainers(List&lt;ContainerIn&gt; containers){\r\n            if(CollectionUtils.isEmpty(containers)){\r\n                return Collections.emptyList();\r\n            }\r\n            return containers.get(0).getFeatures().stream()\r\n                    .map(this::toFeatureIn)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n","title":"How to map how to map a list being the first element of a list to a list using MapStruct","body":"<p>Quick solution, you can use a custom mapper by using <code>qualifiedByName</code>, for example:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface PersonMapper {\n\n    @Mapping(target = &quot;features&quot;, source = &quot;containers&quot;, qualifiedByName = &quot;mapContainers&quot;)\n    PersonOut toPersonOut(PersonIn personIn);\n\n    FeatureOut toFeatureIn(FeatureIn featureIn);\n\n    @Named(&quot;mapContainers&quot;)\n    default List&lt;FeatureOut&gt; mapContainers(List&lt;ContainerIn&gt; containers){\n        if(CollectionUtils.isEmpty(containers)){\n            return Collections.emptyList();\n        }\n        return containers.get(0).getFeatures().stream()\n                .map(this::toFeatureIn)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12876524,"reputation":13,"user_id":9313046,"display_name":"gregof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74448076,"answer_count":2,"score":1,"last_activity_date":1668528021,"creation_date":1668523306,"question_id":74447485,"body_markdown":"I have \r\n\r\n```\r\n// Input DTOs:\r\npublic class FeatureIn {\r\n    private String val1;\r\n    private String val2;\r\n}\r\npublic class ContainerIn {\r\n    private List&lt;FeatureIn&gt; features;\r\n}\r\npublic class PersonIn {\r\n    private String name;\r\n    private String age;\r\n    private List&lt;ContainerIn&gt; containers;\r\n}\r\n// Output DTOs:\r\npublic class FeatureOut {\r\n    private String val1;\r\n    private String val2;\r\n}\r\npublic class PersonOut {\r\n    private String name;\r\n    private Integer age;\r\n    private List&lt;FeatureOut&gt; features;\r\n}\r\n```\r\nWhat I have to do is to map PersonIn -&gt; PersonOut. For name and age it is easy. For features is quite complicated. I&#39;m receiving the PersonOut object that contains containers list (but this list is already filtered so it will always have only 1 object). I have to read first object of this list and then map List&lt;FeatureIn&gt; to List&lt;FeatureOut&gt;. In other words. PersonOut.containers.get(0).features should be mapped to PersonOut.features\r\n\r\n\r\nI tried those two:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface PersonMapper {\r\n    @Mapping(target = &quot;features&quot;, source = &quot;containers.features&quot;)\r\n    PersonOut toPersonOut(PersonIn personIn);\r\n}\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface PersonMapper {\r\n    @Mapping(target = &quot;features&quot;, expression = &quot;java(personIn.getContainers().get(0).getFeatures())&quot;)\r\n    PersonOut toPersonOut(PersonIn personIn);\r\n}\r\n```\r\n\r\nbut it doesn&#39;t work. How can I do it?\r\n\r\n\r\nThe second solution (expression) is almost working... Mapper is generated but I have compilation fail in this line:\r\n```\r\nList&lt;FeatureOut&gt; features = personIn.getContainers().get(0).getFeatures();\r\n```\r\nbecause he tries to map List&lt;FeatureIn&gt; to List&lt;FeatureOut&gt;\r\nbut types are not compatible - how can I tell him how to map it?\r\nI tried to add use = FeaturesMapper.class to my @Mapper but it was not working.","title":"How to map how to map a list being the first element of a list to a list using MapStruct","body":"<p>I have</p>\n<pre><code>// Input DTOs:\npublic class FeatureIn {\n    private String val1;\n    private String val2;\n}\npublic class ContainerIn {\n    private List&lt;FeatureIn&gt; features;\n}\npublic class PersonIn {\n    private String name;\n    private String age;\n    private List&lt;ContainerIn&gt; containers;\n}\n// Output DTOs:\npublic class FeatureOut {\n    private String val1;\n    private String val2;\n}\npublic class PersonOut {\n    private String name;\n    private Integer age;\n    private List&lt;FeatureOut&gt; features;\n}\n</code></pre>\n<p>What I have to do is to map PersonIn -&gt; PersonOut. For name and age it is easy. For features is quite complicated. I'm receiving the PersonOut object that contains containers list (but this list is already filtered so it will always have only 1 object). I have to read first object of this list and then map List to List. In other words. PersonOut.containers.get(0).features should be mapped to PersonOut.features</p>\n<p>I tried those two:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface PersonMapper {\n    @Mapping(target = &quot;features&quot;, source = &quot;containers.features&quot;)\n    PersonOut toPersonOut(PersonIn personIn);\n}\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface PersonMapper {\n    @Mapping(target = &quot;features&quot;, expression = &quot;java(personIn.getContainers().get(0).getFeatures())&quot;)\n    PersonOut toPersonOut(PersonIn personIn);\n}\n</code></pre>\n<p>but it doesn't work. How can I do it?</p>\n<p>The second solution (expression) is almost working... Mapper is generated but I have compilation fail in this line:</p>\n<pre><code>List&lt;FeatureOut&gt; features = personIn.getContainers().get(0).getFeatures();\n</code></pre>\n<p>because he tries to map List to List\nbut types are not compatible - how can I tell him how to map it?\nI tried to add use = FeaturesMapper.class to my @Mapper but it was not working.</p>\n"},{"tags":["java","c","benchmarking"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1668526243,"post_id":74448197,"comment_id":131423874,"body_markdown":"Looks like too small a sample to be significant.","body":"Looks like too small a sample to be significant."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1668526333,"post_id":74448197,"comment_id":131423925,"body_markdown":"Java bytecode runs in a virtual machine, but that&#39;s not well characterized as &quot;ultimately interpreted&quot;.  Especially not when typical VMs perform selective just-in-time compilation to native code, and some Java compilers compile directly to native code instead of to bytecode.","body":"Java bytecode runs in a virtual machine, but that&#39;s not well characterized as &quot;ultimately interpreted&quot;.  Especially not when typical VMs perform selective just-in-time compilation to native code, and some Java compilers compile directly to native code instead of to bytecode."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1668526458,"post_id":74448197,"comment_id":131423978,"body_markdown":"Also, benchmarking is hard to do properly.","body":"Also, benchmarking is hard to do properly."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1668526481,"post_id":74448197,"comment_id":131423991,"body_markdown":"&quot;Have I been lied to all my life?&quot; What lie are you referring to?","body":"&quot;Have I been lied to all my life?&quot; What lie are you referring to?"},{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":3,"creation_date":1668526586,"post_id":74448197,"comment_id":131424029,"body_markdown":"&quot;Benchmarking&quot; C code with optimizations disabled is like measuring which car that&#39;s fastest without starting the engines...","body":"&quot;Benchmarking&quot; C code with optimizations disabled is like measuring which car that&#39;s fastest without starting the engines..."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1668526644,"post_id":74448197,"comment_id":131424055,"body_markdown":"You are performing your C compilation without optimization enabled.  It is worse than pointless to perform benchmarking on the result.  Add `-O2` or `-O3` to your C compilation command.","body":"You are performing your C compilation without optimization enabled.  It is worse than pointless to perform benchmarking on the result.  Add <code>-O2</code> or <code>-O3</code> to your C compilation command."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1668527129,"post_id":74448197,"comment_id":131424266,"body_markdown":"Also, without optimization enabled, GCC isn&#39;t going to hoist that `floor(sqrt())` out of the loop condition!!  So that&#39;s a performance disaster.  Oh, you did try with `-O3`.","body":"Also, without optimization enabled, GCC isn&#39;t going to hoist that <code>floor(sqrt())</code> out of the loop condition!!  So that&#39;s a performance disaster.  Oh, you did try with <code>-O3</code>."},{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":0,"creation_date":1668560591,"post_id":74448197,"comment_id":131434016,"body_markdown":"The Java test is also flawed. Benchmarking a JIT application like Java or .NET is very difficult. See [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/q/504103/995714)","body":"The Java test is also flawed. Benchmarking a JIT application like Java or .NET is very difficult. See <a href=\"https://stackoverflow.com/q/504103/995714\">How do I write a correct micro-benchmark in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1668526427,"creation_date":1668526427,"answer_id":74448300,"question_id":74448197,"body_markdown":"In the Beginning&lt;sup&gt;TM&lt;/sup&gt; is was true that Java was interpreted. But these times are long gone. Today common JREs use a technique called [just-in-time compilation][1], which translates the byte code into the native machine language of the host processor. There are even Java compilers producing native machine code.\r\n\r\nTherefore, benchmarks show commonly comparable results for C and Java. But as writing benchmarks is really hard, your results are correct only for your specific programs. You cannot derive any statement about the power of the languages.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Just-in-time_compilation\r\n","title":"C vs. Java Benchmarks","body":"<p>In the Beginning<sup>TM</sup> is was true that Java was interpreted. But these times are long gone. Today common JREs use a technique called <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow noreferrer\">just-in-time compilation</a>, which translates the byte code into the native machine language of the host processor. There are even Java compilers producing native machine code.</p>\n<p>Therefore, benchmarks show commonly comparable results for C and Java. But as writing benchmarks is really hard, your results are correct only for your specific programs. You cannot derive any statement about the power of the languages.</p>\n"}],"owner":{"account_id":3142874,"reputation":807,"user_id":2657986,"accept_rate":96,"display_name":"Isaac D. Cohen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1668527758,"creation_date":1668526034,"question_id":74448197,"body_markdown":"I have lately been curious about the relative speed of Java vs. C. Since Java is ultimately &quot;interpreted&quot; I&#39;d be surprised if it turned out to be faster than C.\r\n\r\nI wrote the following short program that checks a million times whether a number is prime. Here it is in Java:\r\n\r\n    import java.lang.Math;\r\n    \r\n    class time_test {\r\n        public static void main(String[] args){\r\n            \r\n            boolean prime = true;\r\n            long start, end;\r\n            \r\n            try{\r\n                // get the int\r\n                int num = Integer.parseInt(args[0]);\r\n                \r\n                // start the clock\r\n                start = System.nanoTime();\r\n                \r\n                for (int h=0; h&lt;1000000; h++)\r\n                    for (int i=2; i&lt;Math.floor(Math.sqrt(num))+1; i++)\r\n                        if (num % i == 0) prime = false;\r\n                    \r\n                end = System.nanoTime();\r\n                System.out.println((end-start)/1000000000.0);\r\n                System.out.println(prime);\r\n                \r\n            }\r\n            catch(Exception e) {\r\n                System.out.println(e.toString());\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here it is in C:\r\n\r\n    #include &lt;time.h&gt;\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;math.h&gt;\r\n    #include &lt;stdbool.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    \r\n    clock_t start, end;\r\n    \r\n    int main(int argc, char * argv[]){\r\n        \r\n        bool prime = true;\r\n        int num = atoi(argv[1]);\r\n        \r\n        start = clock();\r\n        for (int h=0; h&lt;1000000; h++)\r\n            for (int i=2; i&lt;floor(sqrt(num))+1; i++)\r\n                if (num%i == 0) prime = false;\r\n            \r\n        end=clock();\r\n        printf(&quot;%f\\n&quot;, (double) (end-start)/CLOCKS_PER_SEC);\r\n        \r\n        if (prime) printf(&quot;true\\n&quot;);\r\n        else printf(&quot;false\\n&quot;);\r\n    }\r\n\r\nI compiled the Java version with:\r\n\r\n    javac time_test.java\r\n\r\nAnd the C version with:\r\n\r\n    gcc time_test.c -lm\r\n\r\nHowever, when I ran them both with 27221 the Java version finished in 0.365623241 seconds and the C in 0.647930. How can this be? Even with `-O3` optimization the C version can only do it in 0.366007 seconds, which about the same as the Java! Have I been lied to all my life? :)\r\n\r\n","title":"C vs. Java Benchmarks","body":"<p>I have lately been curious about the relative speed of Java vs. C. Since Java is ultimately &quot;interpreted&quot; I'd be surprised if it turned out to be faster than C.</p>\n<p>I wrote the following short program that checks a million times whether a number is prime. Here it is in Java:</p>\n<pre><code>import java.lang.Math;\n\nclass time_test {\n    public static void main(String[] args){\n        \n        boolean prime = true;\n        long start, end;\n        \n        try{\n            // get the int\n            int num = Integer.parseInt(args[0]);\n            \n            // start the clock\n            start = System.nanoTime();\n            \n            for (int h=0; h&lt;1000000; h++)\n                for (int i=2; i&lt;Math.floor(Math.sqrt(num))+1; i++)\n                    if (num % i == 0) prime = false;\n                \n            end = System.nanoTime();\n            System.out.println((end-start)/1000000000.0);\n            System.out.println(prime);\n            \n        }\n        catch(Exception e) {\n            System.out.println(e.toString());\n        }\n    }\n}\n</code></pre>\n<p>And here it is in C:</p>\n<pre><code>#include &lt;time.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\n#include &lt;stdbool.h&gt;\n#include &lt;stdlib.h&gt;\n\nclock_t start, end;\n\nint main(int argc, char * argv[]){\n    \n    bool prime = true;\n    int num = atoi(argv[1]);\n    \n    start = clock();\n    for (int h=0; h&lt;1000000; h++)\n        for (int i=2; i&lt;floor(sqrt(num))+1; i++)\n            if (num%i == 0) prime = false;\n        \n    end=clock();\n    printf(&quot;%f\\n&quot;, (double) (end-start)/CLOCKS_PER_SEC);\n    \n    if (prime) printf(&quot;true\\n&quot;);\n    else printf(&quot;false\\n&quot;);\n}\n</code></pre>\n<p>I compiled the Java version with:</p>\n<pre><code>javac time_test.java\n</code></pre>\n<p>And the C version with:</p>\n<pre><code>gcc time_test.c -lm\n</code></pre>\n<p>However, when I ran them both with 27221 the Java version finished in 0.365623241 seconds and the C in 0.647930. How can this be? Even with <code>-O3</code> optimization the C version can only do it in 0.366007 seconds, which about the same as the Java! Have I been lied to all my life? :)</p>\n"},{"tags":["java","rabbitmq"],"comments":[{"owner":{"account_id":326480,"reputation":368,"user_id":5047819,"display_name":"Anders Lindgren"},"score":0,"creation_date":1629484451,"post_id":68866627,"comment_id":121707906,"body_markdown":"As far as I can see the method `getMessageListenerContainerById(String listenerId)` returns null. That is I guess the RabbitListenerEndpointRegistry is empty or does not contain what you are expecting","body":"As far as I can see the method <code>getMessageListenerContainerById(String listenerId)</code> returns null. That is I guess the RabbitListenerEndpointRegistry is empty or does not contain what you are expecting"},{"owner":{"account_id":16549719,"reputation":41,"user_id":11958374,"display_name":"Karis Njiru"},"score":0,"creation_date":1629550903,"post_id":68866627,"comment_id":121718798,"body_markdown":"Exactly. I need to do more research on how  RabbitListenerEndpointRegistry works otherwise am stuck for good or just use another message broker","body":"Exactly. I need to do more research on how  RabbitListenerEndpointRegistry works otherwise am stuck for good or just use another message broker"}],"answers":[{"tags":[],"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668527747,"creation_date":1668527747,"answer_id":74448600,"question_id":68866627,"body_markdown":"```RabbitListenerEndpointRegistry``` class is storage for all listener containers(```SimpleRabbitListenerContainer```, ```DirectRabbitListenerContainer```) and for managing their life cycle. Before taking ```MessageListenerContainer``` from ```RabbitListenerEndpointRegistry``` you need to register this container inside the registry like this:\r\n```\r\nSimpleRabbitListenerEndpoint endpoint = new SimpleRabbitListenerEndpoint();\r\nendpoint.setId(LISTENER_CONTAINER_ID);\r\nendpoint.setMessageListener(message -&gt; {\r\n        RabbitMQMessage&lt;QueueItem&gt; rabbitMQMessage = (RabbitMQMessage&lt;QueueItem&gt;) SerializationUtils.deserialize(message.getBody());\r\n        rabbitMQService.onMessage(rabbitMQMessage); //method where your message will be processed\r\n});\r\n\r\n//listenerContainerFactory is instance of DirectRabbitListenerContainerFactory or SimpleRabbitListenerContainerFactory\r\nregistry.registerListenerContainer(endpoint, listenerContainerFactory, true);\r\n\r\n//start the registry if it is created manually\r\n//registry.start();\r\n```\r\nand then you can take that container from registry by ```LISTENER_CONTAINER_ID```\r\n```\r\nregistry.getListenerContainer(LISTENER_CONTAINER_ID);\r\n```\r\nTo manage dynamic queues it is better to use ```DirectMessageListenerContainer```, this container will open a separate channel for each queue without restarting the container like ```SimpleRabbitListenerContainer``` does after adding a new queue and it will take some time until ```SimpleRabbitListenerContainer``` will be ready to receive messages from the queues.\r\n\r\nSee more differences here: https://docs.spring.io/spring-amqp/reference/html/#choose-container","title":"Adding Dynamically created queues to a listener RabbitMq Spring","body":"<p><code>RabbitListenerEndpointRegistry</code> class is storage for all listener containers(<code>SimpleRabbitListenerContainer</code>, <code>DirectRabbitListenerContainer</code>) and for managing their life cycle. Before taking <code>MessageListenerContainer</code> from <code>RabbitListenerEndpointRegistry</code> you need to register this container inside the registry like this:</p>\n<pre><code>SimpleRabbitListenerEndpoint endpoint = new SimpleRabbitListenerEndpoint();\nendpoint.setId(LISTENER_CONTAINER_ID);\nendpoint.setMessageListener(message -&gt; {\n        RabbitMQMessage&lt;QueueItem&gt; rabbitMQMessage = (RabbitMQMessage&lt;QueueItem&gt;) SerializationUtils.deserialize(message.getBody());\n        rabbitMQService.onMessage(rabbitMQMessage); //method where your message will be processed\n});\n\n//listenerContainerFactory is instance of DirectRabbitListenerContainerFactory or SimpleRabbitListenerContainerFactory\nregistry.registerListenerContainer(endpoint, listenerContainerFactory, true);\n\n//start the registry if it is created manually\n//registry.start();\n</code></pre>\n<p>and then you can take that container from registry by <code>LISTENER_CONTAINER_ID</code></p>\n<pre><code>registry.getListenerContainer(LISTENER_CONTAINER_ID);\n</code></pre>\n<p>To manage dynamic queues it is better to use <code>DirectMessageListenerContainer</code>, this container will open a separate channel for each queue without restarting the container like <code>SimpleRabbitListenerContainer</code> does after adding a new queue and it will take some time until <code>SimpleRabbitListenerContainer</code> will be ready to receive messages from the queues.</p>\n<p>See more differences here: <a href=\"https://docs.spring.io/spring-amqp/reference/html/#choose-container\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/reference/html/#choose-container</a></p>\n"}],"owner":{"account_id":16549719,"reputation":41,"user_id":11958374,"display_name":"Karis Njiru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668527747,"creation_date":1629483843,"question_id":68866627,"body_markdown":"I am creating a Web Application for events-planners to better manage their events. Each event they create needs a queue which means the app needs to create a queue when an event is created. So far I have been able to create the queues and they appear in the rabbitmq management console but when I try to add a queue to a listener it brings this error: `java.lang.NullPointerException: Cannot invoke &quot;org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.addQueueNames(String[])&quot; because the return value of &quot;co.ke.mpango.backend.config.webSocket.RabbitQueueServiceImpl.getMessageListenerContainerById` Here is the code:&lt;pre&gt;&lt;code&gt;   \r\n\r\n    @Service\r\n    @Log4j2\r\n    public class RabbitQueueServiceImpl implements RabbitQueueService\r\n    {\r\n    \t@Autowired\r\n    \tprivate RabbitAdmin rabbitAdmin;\r\n    \t@Autowired\r\n    \tprivate RabbitListenerEndpointRegistry rabbitListenerEndpointRegistry;\r\n    \r\n    \t@Override\r\n    \tpublic void addNewQueue(String queueName, String exchangeName, String routingKey) {\r\n    \t\tQueue queue = new Queue(queueName, true, false, false);\r\n    \t\tBinding binding = new Binding(\r\n    \t\t\t\tqueueName,\r\n    \t\t\t\tBinding.DestinationType.QUEUE,\r\n    \t\t\t\texchangeName,\r\n    \t\t\t\troutingKey,\r\n    \t\t\t\tnull\r\n    \t\t);\r\n    \t\trabbitAdmin.declareQueue(queue);\r\n    \t\trabbitAdmin.declareBinding(binding);\r\n    \t\tthis.addQueueToListener(exchangeName,queueName);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addQueueToListener(String listenerId, String queueName) {\r\n    \t\tlog.info(&quot;adding queue : &quot; + queueName + &quot; to listener with id : &quot; + listenerId);\r\n    \t\tif (!checkQueueExistOnListener(listenerId,queueName)) {\r\n    \t\t\tthis.getMessageListenerContainerById(listenerId).addQueueNames(queueName);\r\n    \t\t\tlog.info(&quot;queue &quot;);\r\n    \t\t} else {\r\n    \t\t\tlog.info(&quot;given queue name : &quot; + queueName + &quot; not exist on given listener id : &quot; + listenerId);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void removeQueueFromListener(String listenerId, String queueName) {\r\n    \t\tlog.info(&quot;removing queue : &quot; + queueName + &quot; from listener : &quot; + listenerId);\r\n    \t\tif (checkQueueExistOnListener(listenerId,queueName)) {\r\n    \t\t\tthis.getMessageListenerContainerById(listenerId).removeQueueNames(queueName);\r\n    \t\t\tlog.info(&quot;deleting queue from rabbit management&quot;);\r\n    \t\t\tthis.rabbitAdmin.deleteQueue(queueName);\r\n    \t\t} else {\r\n    \t\t\tlog.info(&quot;given queue name : &quot; + queueName + &quot; not exist on given listener id : &quot; + listenerId);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Boolean checkQueueExistOnListener(String listenerId, String queueName) {\r\n    \t\ttry {\r\n    \t\t\tlog.info(&quot;checking queueName : &quot; + queueName + &quot; exist on listener id : &quot; + listenerId);\r\n    \t\t\tlog.info(&quot;getting queueNames&quot;);\r\n    \t\t\tString[] queueNames = this.getMessageListenerContainerById(listenerId).getQueueNames();\r\n    \t\t\tif (queueNames != null) {\r\n    \t\t\t\tlog.info(&quot;checking &quot; + queueName + &quot; exist on active queues&quot;);\r\n    \t\t\t\tfor (String name : queueNames) {\r\n    \t\t\t\t\tlog.info(&quot;name : &quot; + name + &quot; with checking name : &quot; + queueName);\r\n    \t\t\t\t\tif (name.equals(queueName)) {\r\n    \t\t\t\t\t\tlog.info(&quot;queue name exist on listener, returning true&quot;);\r\n    \t\t\t\t\t\treturn Boolean.TRUE;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\treturn Boolean.FALSE;\r\n    \t\t\t} else {\r\n    \t\t\t\tlog.info(&quot;there is no queue exist on listener&quot;);\r\n    \t\t\t\treturn Boolean.FALSE;\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Error on checking queue exist on listener&quot;);\r\n    \t\t\treturn Boolean.FALSE;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate AbstractMessageListenerContainer getMessageListenerContainerById(String listenerId) {\r\n    \t\tlog.info(&quot;getting message listener container by id : &quot; + listenerId);\r\n    \t\treturn ((AbstractMessageListenerContainer) this.rabbitListenerEndpointRegistry\r\n    \t\t\t\t.getListenerContainer(listenerId)\r\n    \t\t);\r\n    \t}\r\n    }\r\n\r\nAdded: How could then one listener be defined? ","title":"Adding Dynamically created queues to a listener RabbitMq Spring","body":"<p>I am creating a Web Application for events-planners to better manage their events. Each event they create needs a queue which means the app needs to create a queue when an event is created. So far I have been able to create the queues and they appear in the rabbitmq management console but when I try to add a queue to a listener it brings this error: <code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.addQueueNames(String[])&quot; because the return value of &quot;co.ke.mpango.backend.config.webSocket.RabbitQueueServiceImpl.getMessageListenerContainerById</code> Here is the code:<pre><code></p>\n@Service\n@Log4j2\npublic class RabbitQueueServiceImpl implements RabbitQueueService\n{\n    @Autowired\n    private RabbitAdmin rabbitAdmin;\n    @Autowired\n    private RabbitListenerEndpointRegistry rabbitListenerEndpointRegistry;\n\n    @Override\n    public void addNewQueue(String queueName, String exchangeName, String routingKey) {\n        Queue queue = new Queue(queueName, true, false, false);\n        Binding binding = new Binding(\n                queueName,\n                Binding.DestinationType.QUEUE,\n                exchangeName,\n                routingKey,\n                null\n        );\n        rabbitAdmin.declareQueue(queue);\n        rabbitAdmin.declareBinding(binding);\n        this.addQueueToListener(exchangeName,queueName);\n    }\n\n    @Override\n    public void addQueueToListener(String listenerId, String queueName) {\n        log.info(&quot;adding queue : &quot; + queueName + &quot; to listener with id : &quot; + listenerId);\n        if (!checkQueueExistOnListener(listenerId,queueName)) {\n            this.getMessageListenerContainerById(listenerId).addQueueNames(queueName);\n            log.info(&quot;queue &quot;);\n        } else {\n            log.info(&quot;given queue name : &quot; + queueName + &quot; not exist on given listener id : &quot; + listenerId);\n        }\n    }\n\n    @Override\n    public void removeQueueFromListener(String listenerId, String queueName) {\n        log.info(&quot;removing queue : &quot; + queueName + &quot; from listener : &quot; + listenerId);\n        if (checkQueueExistOnListener(listenerId,queueName)) {\n            this.getMessageListenerContainerById(listenerId).removeQueueNames(queueName);\n            log.info(&quot;deleting queue from rabbit management&quot;);\n            this.rabbitAdmin.deleteQueue(queueName);\n        } else {\n            log.info(&quot;given queue name : &quot; + queueName + &quot; not exist on given listener id : &quot; + listenerId);\n        }\n    }\n\n    @Override\n    public Boolean checkQueueExistOnListener(String listenerId, String queueName) {\n        try {\n            log.info(&quot;checking queueName : &quot; + queueName + &quot; exist on listener id : &quot; + listenerId);\n            log.info(&quot;getting queueNames&quot;);\n            String[] queueNames = this.getMessageListenerContainerById(listenerId).getQueueNames();\n            if (queueNames != null) {\n                log.info(&quot;checking &quot; + queueName + &quot; exist on active queues&quot;);\n                for (String name : queueNames) {\n                    log.info(&quot;name : &quot; + name + &quot; with checking name : &quot; + queueName);\n                    if (name.equals(queueName)) {\n                        log.info(&quot;queue name exist on listener, returning true&quot;);\n                        return Boolean.TRUE;\n                    }\n                }\n                return Boolean.FALSE;\n            } else {\n                log.info(&quot;there is no queue exist on listener&quot;);\n                return Boolean.FALSE;\n            }\n        } catch (Exception e) {\n            log.error(&quot;Error on checking queue exist on listener&quot;);\n            return Boolean.FALSE;\n        }\n    }\n\n    private AbstractMessageListenerContainer getMessageListenerContainerById(String listenerId) {\n        log.info(&quot;getting message listener container by id : &quot; + listenerId);\n        return ((AbstractMessageListenerContainer) this.rabbitListenerEndpointRegistry\n                .getListenerContainer(listenerId)\n        );\n    }\n}\n</code></pre>\n<p>Added: How could then one listener be defined?</p>\n"},{"tags":["java","scala","akka","actor"],"comments":[{"owner":{"account_id":394560,"reputation":3857,"user_id":757071,"accept_rate":100,"display_name":"Johny T Koshy"},"score":1,"creation_date":1668506460,"post_id":74443580,"comment_id":131416023,"body_markdown":"Yes, but the message could be lost. Please check [message ordering](https://doc.akka.io/docs/akka/current/general/message-delivery-reliability.html#discussion-message-ordering) from akka doc.","body":"Yes, but the message could be lost. Please check <a href=\"https://doc.akka.io/docs/akka/current/general/message-delivery-reliability.html#discussion-message-ordering\" rel=\"nofollow noreferrer\">message ordering</a> from akka doc."},{"owner":{"account_id":10081405,"reputation":3033,"user_id":7451566,"display_name":"senjin.hajrulahovic"},"score":0,"creation_date":1668507390,"post_id":74443580,"comment_id":131416362,"body_markdown":"I&#39;m aware of the `fire and forget` semantics of `tell`. I wanted to know that if both messages arrive, will they arrive at the order in which they were sent.","body":"I&#39;m aware of the <code>fire and forget</code> semantics of <code>tell</code>. I wanted to know that if both messages arrive, will they arrive at the order in which they were sent."},{"owner":{"account_id":394560,"reputation":3857,"user_id":757071,"accept_rate":100,"display_name":"Johny T Koshy"},"score":3,"creation_date":1668507940,"post_id":74443580,"comment_id":131416574,"body_markdown":"According to the link in the previous comment from Akka docs and from my experience, if they arrive, they will arrive in order. ie, `message1` followed by `message2`.","body":"According to the link in the previous comment from Akka docs and from my experience, if they arrive, they will arrive in order. ie, <code>message1</code> followed by <code>message2</code>."}],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668527709,"creation_date":1668527709,"answer_id":74448585,"question_id":74443580,"body_markdown":"If `message1` and `message2` are sent in that order from the same thread, or from the same actor and they are sent to the same actor (and that actor is using a mailbox that does not reorder messages: the default mailbox does not, but one can implement mailboxes which reorder messages, e.g. in order to implement prioritization), `message2` will not be received by the target actor before `message1`.\r\n\r\nThus any of the of these four is possible:\r\n\r\n * `message1` is received and then `message2`\r\n * `message1` is received, but `message2` is never received\r\n * `message1` is never received, but `message2` is\r\n * neither `message1` nor `message2` is ever received\r\n\r\nNote that there is no guarantee that two message sends to different actors will be received in any particular order.  There is also no guarantee regarding the ordering of message sends from two different actors (or if outside of any actor (e.g. in a `Future` callback or the main method), a different thread)).","title":"Akka subsequent tells","body":"<p>If <code>message1</code> and <code>message2</code> are sent in that order from the same thread, or from the same actor and they are sent to the same actor (and that actor is using a mailbox that does not reorder messages: the default mailbox does not, but one can implement mailboxes which reorder messages, e.g. in order to implement prioritization), <code>message2</code> will not be received by the target actor before <code>message1</code>.</p>\n<p>Thus any of the of these four is possible:</p>\n<ul>\n<li><code>message1</code> is received and then <code>message2</code></li>\n<li><code>message1</code> is received, but <code>message2</code> is never received</li>\n<li><code>message1</code> is never received, but <code>message2</code> is</li>\n<li>neither <code>message1</code> nor <code>message2</code> is ever received</li>\n</ul>\n<p>Note that there is no guarantee that two message sends to different actors will be received in any particular order.  There is also no guarantee regarding the ordering of message sends from two different actors (or if outside of any actor (e.g. in a <code>Future</code> callback or the main method), a different thread)).</p>\n"}],"owner":{"account_id":10081405,"reputation":3033,"user_id":7451566,"display_name":"senjin.hajrulahovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74448585,"answer_count":1,"score":0,"last_activity_date":1668527709,"creation_date":1668505868,"question_id":74443580,"body_markdown":"Are messages sent by subsequent `tell` invocations guaranteed to be processed by the actor in the order in which they were sent?\r\n\r\nExample:\r\n\r\n&lt;!-- language: scala --&gt;\r\n    actor ! message1\r\n    actor ! message2\r\n\r\nWill `message1` and `message2` be always seen by the actor in the order in which they were sent.","title":"Akka subsequent tells","body":"<p>Are messages sent by subsequent <code>tell</code> invocations guaranteed to be processed by the actor in the order in which they were sent?</p>\n<p>Example:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>actor ! message1\nactor ! message2\n</code></pre>\n<p>Will <code>message1</code> and <code>message2</code> be always seen by the actor in the order in which they were sent.</p>\n"},{"tags":["java","spring-boot","hibernate","entity","identifier"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668527673,"creation_date":1668527673,"answer_id":74448568,"question_id":74447802,"body_markdown":"I can think of a couple of ways to solve this (which is basically the need for a custom `IdentifierGenerator` to be parameterized). \r\n\r\nOne idea involves each entity implementing an interface that can return the appropriate ID prefix for that entity type. Since the target entity is passed to the generator&#39;s `generate()` method, the generator could cast it to that interface and ask it for the prefix to use.\r\n\r\nAnother solution takes advantage of the fact that `IdentifierGenerator`s can implement the `org.hibernate.id.Configurable` interface to have configuration &quot;injected&quot; into them, and the `@GenericGenerator` annotation supports setting those as `@Parameter`s in the annotation. That way, each usage of `@GenericGenerator` can dictate what prefix it wants the custom generator to use. It would look something like this (*note*, this is untested code):\r\n\r\n```java\r\npublic class ProductIdGenerator implements IdentifierGenerator, org.hibernate.id.Configurable {\r\n\r\n\tpublic static final String GENERATOR_NAME = &quot;produtcIdGenerator&quot;;\r\n\tpublic static final String PREFIX_PARAM = &quot;prefix&quot;;\r\n\r\n\tprivate String prefix = &quot;&quot;;\r\n\r\n\t@Override\r\n\tpublic void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\r\n\t\tthis.prefix = params.getProperty(PREFIX_PARAM, &quot;&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Serializable generate(SharedSessionContractImplementor session, Object entityObject) throws HibernateException {\r\n\t\tString uuid = UUID.randomUUID().toString().substring(0, 8);\r\n\r\n\t\treturn prefix + uuid;\r\n\t}\r\n}\r\n```\r\n\r\nReferences to it would look like this:\r\n\r\n```java\r\n\t@Id\r\n    @GeneratedValue(generator = ProductIdGenerator.GENERATOR_NAME)\r\n\t@GenericGenerator(\r\n\t\t\t\t\tname = ProductIdGenerator.GENERATOR_NAME,\r\n\t\t\t\t\tstrategy = &quot;net.ddns.mrq.util.ProductIdGenerator&quot;,\r\n\t\t\t\t\tparameters = {@Parameter(name = ProductIdGenerator.PREFIX_PARAM, value = &quot;foo&quot;)})\r\n\tprivate String id;\r\n```\r\n\r\nPersonally, I find the second idea a little cleaner, but there&#39;s nothing wrong with the first that I can see. It&#39;s a matter of style.","title":"Is There A Way to manage a Custom generated ID with IdentifierGenerator from Hibernate to serve more than one Entity with different prefix?","body":"<p>I can think of a couple of ways to solve this (which is basically the need for a custom <code>IdentifierGenerator</code> to be parameterized).</p>\n<p>One idea involves each entity implementing an interface that can return the appropriate ID prefix for that entity type. Since the target entity is passed to the generator's <code>generate()</code> method, the generator could cast it to that interface and ask it for the prefix to use.</p>\n<p>Another solution takes advantage of the fact that <code>IdentifierGenerator</code>s can implement the <code>org.hibernate.id.Configurable</code> interface to have configuration &quot;injected&quot; into them, and the <code>@GenericGenerator</code> annotation supports setting those as <code>@Parameter</code>s in the annotation. That way, each usage of <code>@GenericGenerator</code> can dictate what prefix it wants the custom generator to use. It would look something like this (<em>note</em>, this is untested code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductIdGenerator implements IdentifierGenerator, org.hibernate.id.Configurable {\n\n    public static final String GENERATOR_NAME = &quot;produtcIdGenerator&quot;;\n    public static final String PREFIX_PARAM = &quot;prefix&quot;;\n\n    private String prefix = &quot;&quot;;\n\n    @Override\n    public void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\n        this.prefix = params.getProperty(PREFIX_PARAM, &quot;&quot;);\n    }\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor session, Object entityObject) throws HibernateException {\n        String uuid = UUID.randomUUID().toString().substring(0, 8);\n\n        return prefix + uuid;\n    }\n}\n</code></pre>\n<p>References to it would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Id\n    @GeneratedValue(generator = ProductIdGenerator.GENERATOR_NAME)\n    @GenericGenerator(\n                    name = ProductIdGenerator.GENERATOR_NAME,\n                    strategy = &quot;net.ddns.mrq.util.ProductIdGenerator&quot;,\n                    parameters = {@Parameter(name = ProductIdGenerator.PREFIX_PARAM, value = &quot;foo&quot;)})\n    private String id;\n</code></pre>\n<p>Personally, I find the second idea a little cleaner, but there's nothing wrong with the first that I can see. It's a matter of style.</p>\n"}],"owner":{"account_id":21665452,"reputation":28,"user_id":15983925,"display_name":"Thiago Marquet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74448568,"answer_count":1,"score":0,"last_activity_date":1668527673,"creation_date":1668524542,"question_id":74447802,"body_markdown":"I have a custom ID generator that generates an UUID string with a prefix for my entities ID, but since I&#39;m using different prefix for each entity I&#39;m having to create one ID generation class for each Entity, is there a way to only use one class for this?\r\n\r\n\r\nMy ID generation class is this:\r\n\r\n```\r\nimport java.io.Serializable;\r\nimport java.util.UUID;\r\n\r\nimport org.hibernate.HibernateException;\r\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\r\nimport org.hibernate.id.IdentifierGenerator;\r\n\r\npublic class ProductIdGenerator implements IdentifierGenerator{\r\n    \r\n    public static final String generatorName = &quot;produtcIdGenerator&quot;;\r\n\r\n    @Override\r\n    public Serializable generate(SharedSessionContractImplementor arg0, Object arg1) throws \r\nHibernateException {\r\n        \r\n        String prefix = &quot;PROD&quot;;\r\n        String uuid = UUID.randomUUID().toString().substring(0, 8);\r\n\r\n        return prefix + uuid;\r\n    }\r\n}\r\n```\r\n\r\nMy Entities looks like this:\r\n\r\n```\r\n@Entity\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = ProductIdGenerator.generatorName)\r\n    @GenericGenerator(name = ProductIdGenerator.generatorName, strategy = &quot;net.ddns.mrq.util.ProductIdGenerator&quot;)\r\n    @Column(name = &quot;product_id&quot;)\r\n    private String id;\r\n\r\n    private String name;\r\n    .\r\n    .\r\n    .\r\n\r\n```\r\n\r\nI have 8 entities and I had to create 8 classes like this for each of one them with different prefix.\r\n1) Is there a way to make this more dynamic and less &quot;time consuming&quot;?\r\n2) Is there a way to only change the prefix for each class without creating multiple id generation classes?","title":"Is There A Way to manage a Custom generated ID with IdentifierGenerator from Hibernate to serve more than one Entity with different prefix?","body":"<p>I have a custom ID generator that generates an UUID string with a prefix for my entities ID, but since I'm using different prefix for each entity I'm having to create one ID generation class for each Entity, is there a way to only use one class for this?</p>\n<p>My ID generation class is this:</p>\n<pre><code>import java.io.Serializable;\nimport java.util.UUID;\n\nimport org.hibernate.HibernateException;\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.id.IdentifierGenerator;\n\npublic class ProductIdGenerator implements IdentifierGenerator{\n    \n    public static final String generatorName = &quot;produtcIdGenerator&quot;;\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor arg0, Object arg1) throws \nHibernateException {\n        \n        String prefix = &quot;PROD&quot;;\n        String uuid = UUID.randomUUID().toString().substring(0, 8);\n\n        return prefix + uuid;\n    }\n}\n</code></pre>\n<p>My Entities looks like this:</p>\n<pre><code>@Entity\npublic class Product {\n\n    @Id\n    @GeneratedValue(generator = ProductIdGenerator.generatorName)\n    @GenericGenerator(name = ProductIdGenerator.generatorName, strategy = &quot;net.ddns.mrq.util.ProductIdGenerator&quot;)\n    @Column(name = &quot;product_id&quot;)\n    private String id;\n\n    private String name;\n    .\n    .\n    .\n\n</code></pre>\n<p>I have 8 entities and I had to create 8 classes like this for each of one them with different prefix.</p>\n<ol>\n<li>Is there a way to make this more dynamic and less &quot;time consuming&quot;?</li>\n<li>Is there a way to only change the prefix for each class without creating multiple id generation classes?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1668527433,"post_id":74448473,"comment_id":131424418,"body_markdown":"You have to declare types for the parameters. Ex: `String add_space(String s, String temp) { ... }`","body":"You have to declare types for the parameters. Ex: <code>String add_space(String s, String temp) { ... }</code>"},{"owner":{"account_id":26940950,"reputation":1,"user_id":20511764,"display_name":"Sumantra Prajapati"},"score":0,"creation_date":1668529541,"post_id":74448473,"comment_id":131425278,"body_markdown":"Main.java:56: error: &#39;.class&#39; expected\n\t\t    obj.manipulated_array(String []str,int n,int max);\n\t\t                                   ^\nMain.java:56: error: &#39;;&#39; expected\n\t\t    obj.manipulated_array(String []str,int n,int max);\n\t\t                                      ^\nMain.java:56: error:  expected\n\t\t    obj.manipulated_array(String []str,int n,int max);\n\t\t                                             ^\nMain.java:56: error: &#39;;&#39; expected\n\t\t    obj.manipulated_array(String []str,int n,int max);\n\t\t                                                    ^\n4 errors","body":"Main.java:56: error: &#39;.class&#39; expected \t\t    obj.manipulated_array(String []str,int n,int max); \t\t                                   ^ Main.java:56: error: &#39;;&#39; expected \t\t    obj.manipulated_array(String []str,int n,int max); \t\t                                      ^ Main.java:56: error:  expected \t\t    obj.manipulated_array(String []str,int n,int max); \t\t                                             ^ Main.java:56: error: &#39;;&#39; expected \t\t    obj.manipulated_array(String []str,int n,int max); \t\t                                                    ^ 4 errors"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1668529619,"post_id":74448473,"comment_id":131425313,"body_markdown":"...but you don&#39;t declare the types when calling the functions. Ex: `obj.manipulated_array(str, n, max);`","body":"...but you don&#39;t declare the types when calling the functions. Ex: <code>obj.manipulated_array(str, n, max);</code>"}],"owner":{"account_id":26940950,"reputation":1,"user_id":20511764,"display_name":"Sumantra Prajapati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668527365,"creation_date":1668527194,"question_id":74448473,"body_markdown":"```\r\nimport java.util.*;\r\npublic class Main\r\n{\r\n     String add_space(s,temp)//for adding the space so as to make all the strings equal\r\n    {\r\n        int to_add= max-s.length();\r\n        String blank=&quot; &quot;;\r\n        for(int i=0;i&lt;to_add;i++)\r\n        {\r\n            blank=s+blank;\r\n        }\r\n        return blank;\r\n    }\r\n    \r\n    void manipulated_array(str, n,max)\r\n    {\r\n        int temp=max;\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            String s=str[i];\r\n            str[i]=add_space(s,temp);\r\n        }\r\n        for(int j =0;j&lt;n;j++)\r\n        {\r\n            System.out.print(str[j].charAt(i));\r\n        }\r\n        System.out.println();\r\n       \r\n    }\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t    Main obj = new Main();\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint n=sc.nextInt();\r\n\t\tString str[]= new String[n];\r\n\t\tfor(int i=0;i&lt;n;i++)\r\n\t\t{\r\n\t\t    str[i]=sc.nextLine();\r\n\t\t}\r\n\t\t\r\n\t\t{\r\n\t\t    int max=str[0].length;\r\n\t\t    for(int i=0;i&lt;n;i++)\r\n\t\t    {\r\n\t\t        if(max=str[i].length())\r\n\t\t          max=str[i].length();\r\n\t\t        \r\n\t\t    }\r\n\t\t    obj.manipulated_array( str, n, max);\r\n\t\t  //  add_space(String str[],max);\r\n\t\t  \r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\ni am to trying to solve this question refer here:\r\n\r\nhttps://10yearsquestionpaper.com/isc/computer-practical-question-paper-2019.html\r\n\r\ni am getting 5 errors:\r\n\r\n```\r\nMain.java:11: error:  expected\r\n     String add_space( s,temp)//for adding the space so as to make all the strings equal\r\n                        ^\r\nMain.java:11: error:  expected\r\n     String add_space( s,temp)//for adding the space so as to make all the strings equal\r\n                             ^\r\nMain.java:22: error:  expected\r\n    void manipulated_array(str, m,ma)\r\n                              ^\r\nMain.java:22: error:  expected\r\n    void manipulated_array(str, m,ma)\r\n                                 ^\r\nMain.java:22: error:  expected\r\n    void manipulated_array(str, m,ma)\r\n                                    ^\r\n5 errors\r\n```\r\n\r\n ","title":"print the strings in vertical format in java","body":"<pre><code>import java.util.*;\npublic class Main\n{\n     String add_space(s,temp)//for adding the space so as to make all the strings equal\n    {\n        int to_add= max-s.length();\n        String blank=&quot; &quot;;\n        for(int i=0;i&lt;to_add;i++)\n        {\n            blank=s+blank;\n        }\n        return blank;\n    }\n    \n    void manipulated_array(str, n,max)\n    {\n        int temp=max;\n        for(int i=0;i&lt;n;i++)\n        {\n            String s=str[i];\n            str[i]=add_space(s,temp);\n        }\n        for(int j =0;j&lt;n;j++)\n        {\n            System.out.print(str[j].charAt(i));\n        }\n        System.out.println();\n       \n    }\n    public static void main(String[] args) \n    {\n        Main obj = new Main();\n        Scanner sc = new Scanner(System.in);\n        int n=sc.nextInt();\n        String str[]= new String[n];\n        for(int i=0;i&lt;n;i++)\n        {\n            str[i]=sc.nextLine();\n        }\n        \n        {\n            int max=str[0].length;\n            for(int i=0;i&lt;n;i++)\n            {\n                if(max=str[i].length())\n                  max=str[i].length();\n                \n            }\n            obj.manipulated_array( str, n, max);\n          //  add_space(String str[],max);\n          \n        }\n        \n    }\n}\n</code></pre>\n<p>i am to trying to solve this question refer here:</p>\n<p><a href=\"https://10yearsquestionpaper.com/isc/computer-practical-question-paper-2019.html\" rel=\"nofollow noreferrer\">https://10yearsquestionpaper.com/isc/computer-practical-question-paper-2019.html</a></p>\n<p>i am getting 5 errors:</p>\n<pre><code>Main.java:11: error:  expected\n     String add_space( s,temp)//for adding the space so as to make all the strings equal\n                        ^\nMain.java:11: error:  expected\n     String add_space( s,temp)//for adding the space so as to make all the strings equal\n                             ^\nMain.java:22: error:  expected\n    void manipulated_array(str, m,ma)\n                              ^\nMain.java:22: error:  expected\n    void manipulated_array(str, m,ma)\n                                 ^\nMain.java:22: error:  expected\n    void manipulated_array(str, m,ma)\n                                    ^\n5 errors\n</code></pre>\n"},{"tags":["java","linux","fedora","rpm","jpackage"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628703153,"post_id":68746207,"comment_id":121494734,"body_markdown":"*All I&#39;ve done for either Linux install is download the tar ball,* Which tarball?","body":"<i>All I&#39;ve done for either Linux install is download the tar ball,</i> Which tarball?"},{"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"score":0,"creation_date":1628727826,"post_id":68746207,"comment_id":121501429,"body_markdown":"From here:\nhttps://jdk.java.net/16/ .  I got this file:\n https://download.java.net/java/GA/jdk16.0.2/d4a915d82b4c4fbb9bde534da945d746/7/GPL/openjdk-16.0.2_linux-x64_bin.tar.gz\n\nI got 16.01 from the same place whenever that was the most recent version.  Also tried the EA of 17 - also from same page.","body":"From here: <a href=\"https://jdk.java.net/16/\" rel=\"nofollow noreferrer\">jdk.java.net/16</a> .  I got this file:  <a href=\"https://download.java.net/java/GA/jdk16.0.2/d4a915d82b4c4fbb9bde534da945d746/7/GPL/openjdk-16.0.2_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">download.java.net/java/GA/jdk16.0.2/&hellip;</a>  I got 16.01 from the same place whenever that was the most recent version.  Also tried the EA of 17 - also from same page."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628759634,"post_id":68746207,"comment_id":121508962,"body_markdown":"My guess is that since that is package-system-neutral, it won&#39;t know how to build an rpm installer. Try a jdk packaged in an rpm instead","body":"My guess is that since that is package-system-neutral, it won&#39;t know how to build an rpm installer. Try a jdk packaged in an rpm instead"},{"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"score":0,"creation_date":1628786587,"post_id":68746207,"comment_id":121520905,"body_markdown":"I tried installing the latest via &quot;sudo dnf install java-latest-openjdk-devel&quot;, which installs 16.0.2 rpms then made sure I had switched to the new version via &#39;sudo alternatives --config java&#39; and tried jpackage again.  Same error.","body":"I tried installing the latest via &quot;sudo dnf install java-latest-openjdk-devel&quot;, which installs 16.0.2 rpms then made sure I had switched to the new version via &#39;sudo alternatives --config java&#39; and tried jpackage again.  Same error."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628787130,"post_id":68746207,"comment_id":121521087,"body_markdown":"Can&#39;t help sorry. I&#39;ve done .deb, .msi and .exe. Try setting the output to super verbose and see if it helps.","body":"Can&#39;t help sorry. I&#39;ve done .deb, .msi and .exe. Try setting the output to super verbose and see if it helps."},{"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"score":0,"creation_date":1628787691,"post_id":68746207,"comment_id":121521262,"body_markdown":"As an aside, if that guess were correct, the tarball probably wouldn&#39;t know how to build .deb packages on Ubuntu either.  But I just tried 16.02 on Ubuntu and jpackage can build .deb packages.","body":"As an aside, if that guess were correct, the tarball probably wouldn&#39;t know how to build .deb packages on Ubuntu either.  But I just tried 16.02 on Ubuntu and jpackage can build .deb packages."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1628788303,"post_id":68746207,"comment_id":121521462,"body_markdown":"With any luck there will be someone along who&#39;s done this","body":"With any luck there will be someone along who&#39;s done this"}],"answers":[{"tags":[],"owner":{"account_id":26941026,"reputation":1,"user_id":20511831,"display_name":"Nemo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668527230,"creation_date":1668527230,"answer_id":74448479,"question_id":68746207,"body_markdown":"From [Oracle&#39;s documentation][1], it looks like the rpm-build package needs to be installed\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html#GUID-786E15C0-2CE7-4BDF-9B2F-AC1C57249134","title":"Unable to create a jpackage installer on Fedora but it works in Ubuntu, macOS, and Windows","body":"<p>From <a href=\"https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html#GUID-786E15C0-2CE7-4BDF-9B2F-AC1C57249134\" rel=\"nofollow noreferrer\">Oracle's documentation</a>, it looks like the rpm-build package needs to be installed</p>\n"}],"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668527230,"creation_date":1628701369,"question_id":68746207,"body_markdown":"I run the following jpackage command in Ubuntu 20.04 with OpenJDK 16.01:\r\n\r\n    jpackage --name MyApp --app-version 1.0.0 --icon /some/path/bigLogo.png --input ./ --main-jar my_app.jar\r\n\r\nand it creates a &quot;.deb&quot; installer file.  When I run the same command on my freshly installed Fedora 34 with OpenJDK 16.02, I get the error message:\r\n\r\n    Error: Invalid or unsupported type: [null]\r\n\r\nWhen I specifically identify the installer type via &quot;--type rpm&quot;, I get the error:\r\n\r\n    Error: Invalid or unsupported type: [rpm]\r\n\r\nWhen I do &quot;jpackage --help&quot; and look at the help for --type, it tells me:\r\n\r\n    Valid values are: {&quot;app-image&quot;, &quot;rpm&quot;, &quot;deb&quot;}\r\n\r\nUbuntu lists the same valid values, but if I give it the supposedly valid type of &#39;rpm&#39;, it gives the same error of &#39;rpm&#39; not being supported (but &#39;deb&#39; works). The help is definitely not totally static.  When I check the help in macOS, it tells me:\r\n\r\n    Valid values are: {&quot;app-image&quot;, &quot;dmg&quot;, &quot;pkg&quot;}\r\n\r\nHave I stumbled across an openjdk bug or am I missing some setup that needs to be performed on the JDK prior to use?  All I&#39;ve done for either Linux install is download the tar ball, set JAVA_HOME, and add $JAVA_HOME/bin to PATH.\r\n\r\nMy goal is to create an &#39;rpm&#39; installer.  If someone can give specific steps how I would do that with JDK 16, I&#39;d appreciate it.\r\n\r\n\r\n","title":"Unable to create a jpackage installer on Fedora but it works in Ubuntu, macOS, and Windows","body":"<p>I run the following jpackage command in Ubuntu 20.04 with OpenJDK 16.01:</p>\n<pre><code>jpackage --name MyApp --app-version 1.0.0 --icon /some/path/bigLogo.png --input ./ --main-jar my_app.jar\n</code></pre>\n<p>and it creates a &quot;.deb&quot; installer file.  When I run the same command on my freshly installed Fedora 34 with OpenJDK 16.02, I get the error message:</p>\n<pre><code>Error: Invalid or unsupported type: [null]\n</code></pre>\n<p>When I specifically identify the installer type via &quot;--type rpm&quot;, I get the error:</p>\n<pre><code>Error: Invalid or unsupported type: [rpm]\n</code></pre>\n<p>When I do &quot;jpackage --help&quot; and look at the help for --type, it tells me:</p>\n<pre><code>Valid values are: {&quot;app-image&quot;, &quot;rpm&quot;, &quot;deb&quot;}\n</code></pre>\n<p>Ubuntu lists the same valid values, but if I give it the supposedly valid type of 'rpm', it gives the same error of 'rpm' not being supported (but 'deb' works). The help is definitely not totally static.  When I check the help in macOS, it tells me:</p>\n<pre><code>Valid values are: {&quot;app-image&quot;, &quot;dmg&quot;, &quot;pkg&quot;}\n</code></pre>\n<p>Have I stumbled across an openjdk bug or am I missing some setup that needs to be performed on the JDK prior to use?  All I've done for either Linux install is download the tar ball, set JAVA_HOME, and add $JAVA_HOME/bin to PATH.</p>\n<p>My goal is to create an 'rpm' installer.  If someone can give specific steps how I would do that with JDK 16, I'd appreciate it.</p>\n"},{"tags":["java","spring","spring-mvc","servlets","spring-boot"],"comments":[{"owner":{"account_id":5456749,"reputation":923,"user_id":4339917,"accept_rate":33,"display_name":"Nalla Srinivas"},"score":0,"creation_date":1443086580,"post_id":32739957,"comment_id":53354800,"body_markdown":"are you using spring-security in your project?","body":"are you using spring-security in your project?"},{"owner":{"account_id":7001879,"reputation":123,"user_id":5367663,"display_name":"SKS"},"score":0,"creation_date":1443087636,"post_id":32739957,"comment_id":53355528,"body_markdown":"@NallaSrinivas Yes, but i tried to implement this listener in other project, that doesn&#39;t use Spring Security, it doesn&#39;t work too.","body":"@NallaSrinivas Yes, but i tried to implement this listener in other project, that doesn&#39;t use Spring Security, it doesn&#39;t work too."},{"owner":{"account_id":5456749,"reputation":923,"user_id":4339917,"accept_rate":33,"display_name":"Nalla Srinivas"},"score":0,"creation_date":1443088130,"post_id":32739957,"comment_id":53355815,"body_markdown":"extend org.springframework.security.web.session. ttpSessionEventPublisher if you are using spring security and specify this listener in web.xml. if you are not using spring security then check servlet api version, for you it should be 3.0","body":"extend org.springframework.security.web.session. ttpSessionEventPublisher if you are using spring security and specify this listener in web.xml. if you are not using spring security then check servlet api version, for you it should be 3.0"},{"owner":{"account_id":7001879,"reputation":123,"user_id":5367663,"display_name":"SKS"},"score":0,"creation_date":1443088898,"post_id":32739957,"comment_id":53356257,"body_markdown":"@NallaSrinivas tried to extend HttpSessionEventPublisher, nothing changed. I&#39;m using annotations and SpringBoot. Servlet-api 3.1.0","body":"@NallaSrinivas tried to extend HttpSessionEventPublisher, nothing changed. I&#39;m using annotations and SpringBoot. Servlet-api 3.1.0"},{"owner":{"account_id":5456749,"reputation":923,"user_id":4339917,"accept_rate":33,"display_name":"Nalla Srinivas"},"score":0,"creation_date":1443089025,"post_id":32739957,"comment_id":53356336,"body_markdown":"have you sprecified ttpSessionEventPublisher in web.xml?. also check spring security filter in web.xml. if you are using spring security then &lt;b&gt;SessionListener&lt;/b&gt; should be extended from ttpSessionEventPublisher and override two methods.","body":"have you sprecified ttpSessionEventPublisher in web.xml?. also check spring security filter in web.xml. if you are using spring security then &lt;b&gt;SessionListener&lt;/b&gt; should be extended from ttpSessionEventPublisher and override two methods."},{"owner":{"account_id":7001879,"reputation":123,"user_id":5367663,"display_name":"SKS"},"score":0,"creation_date":1443092517,"post_id":32739957,"comment_id":53358385,"body_markdown":"@NallaSrinivas i&#39;m not using web.xml in project, only annotations. Annotation &quot;WebListener&quot; should registrate listener. I tried to extend my SessionListener from HttpSessionEventPublisher and override this methods, it doesn&#39;t work too.","body":"@NallaSrinivas i&#39;m not using web.xml in project, only annotations. Annotation &quot;WebListener&quot; should registrate listener. I tried to extend my SessionListener from HttpSessionEventPublisher and override this methods, it doesn&#39;t work too."},{"owner":{"account_id":5456749,"reputation":923,"user_id":4339917,"accept_rate":33,"display_name":"Nalla Srinivas"},"score":0,"creation_date":1443093434,"post_id":32739957,"comment_id":53358975,"body_markdown":"register(SessionListener) this bean with spring container..","body":"register(SessionListener) this bean with spring container.."}],"answers":[{"tags":[],"owner":{"account_id":7001879,"reputation":123,"user_id":5367663,"display_name":"SKS"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1443097284,"creation_date":1443097284,"answer_id":32761198,"question_id":32739957,"body_markdown":"    @Bean\r\n    public ServletListenerRegistrationBean&lt;HttpSessionListener&gt; sessionListener() {\r\n        return new ServletListenerRegistrationBean&lt;HttpSessionListener&gt;(new sessionListener());\r\n    }\r\n\r\nThis bean registrated my listener. I haven&#39;t found another solution.","title":"HttpSessionListener doesn&#39;t work","body":"<pre><code>@Bean\npublic ServletListenerRegistrationBean&lt;HttpSessionListener&gt; sessionListener() {\n    return new ServletListenerRegistrationBean&lt;HttpSessionListener&gt;(new sessionListener());\n}\n</code></pre>\n\n<p>This bean registrated my listener. I haven't found another solution.</p>\n"},{"tags":[],"owner":{"account_id":10432074,"reputation":153,"user_id":7691601,"display_name":"SharpLizard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566934361,"creation_date":1566934361,"answer_id":57681163,"question_id":32739957,"body_markdown":"While not the poster&#39;s specific issue, another issue is that sessions aren&#39;t actually getting created, meaning your listeners are rightfully not triggered. If you use Spring Security, the default session creation policy is SessionCreationPolicy.IF_REQUIRED.\r\n\r\nYou can change this in your web security java configuration depending on your needs:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\r\n    }\r\n}\r\n```\r\n\r\nSource: https://www.baeldung.com/spring-security-session","title":"HttpSessionListener doesn&#39;t work","body":"<p>While not the poster's specific issue, another issue is that sessions aren't actually getting created, meaning your listeners are rightfully not triggered. If you use Spring Security, the default session creation policy is SessionCreationPolicy.IF_REQUIRED.</p>\n\n<p>You can change this in your web security java configuration depending on your needs:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\n    protected void configure(HttpSecurity http) throws Exception {\n        http.sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS);\n    }\n}\n</code></pre>\n\n<p>Source: <a href=\"https://www.baeldung.com/spring-security-session\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-session</a></p>\n"},{"tags":[],"owner":{"account_id":9371284,"reputation":21,"user_id":7081339,"display_name":"Mark Pollard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668526235,"creation_date":1668464629,"answer_id":74438546,"question_id":32739957,"body_markdown":"To avoid a session fixation attack, Spring changes the session ID after the user is authenticated. You must also implement `HttpSessionIdListener`:\r\n```\r\npublic class SessionListener implements HttpSessionListener, HttpSessionIdListener {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(SessionListener.class);\r\n\r\n    public SessionListener() {\r\n    }\r\n\r\n    @Override\r\n    public void sessionCreated(final HttpSessionEvent event) {\r\n        logIt(event.getSession(), &quot;CREATED  &quot;);\r\n    }\r\n\r\n    @Override\r\n    public void sessionDestroyed(final HttpSessionEvent event) {\r\n        logIt(event.getSession(), &quot;DESTROYED&quot;);\r\n    }\r\n\r\n    private void logIt(HttpSession session, String action) {\r\n        LOGGER.info(&quot;{}: {}, {}&quot;, action, session.getId(), Long.valueOf(session.getCreationTime()));\r\n    }\r\n\r\n    @Override\r\n    public void sessionIdChanged(HttpSessionEvent event, String oldSessionId) {\r\n        HttpSession session = event.getSession();\r\n        LOGGER.info(&quot;CHANGED  : {} --&gt; {}, {}&quot;, oldSessionId, session.getId(), Long.valueOf(session.getCreationTime()));\r\n    }\r\n\r\n}","title":"HttpSessionListener doesn&#39;t work","body":"<p>To avoid a session fixation attack, Spring changes the session ID after the user is authenticated. You must also implement <code>HttpSessionIdListener</code>:</p>\n<pre><code>public class SessionListener implements HttpSessionListener, HttpSessionIdListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SessionListener.class);\n\n    public SessionListener() {\n    }\n\n    @Override\n    public void sessionCreated(final HttpSessionEvent event) {\n        logIt(event.getSession(), &quot;CREATED  &quot;);\n    }\n\n    @Override\n    public void sessionDestroyed(final HttpSessionEvent event) {\n        logIt(event.getSession(), &quot;DESTROYED&quot;);\n    }\n\n    private void logIt(HttpSession session, String action) {\n        LOGGER.info(&quot;{}: {}, {}&quot;, action, session.getId(), Long.valueOf(session.getCreationTime()));\n    }\n\n    @Override\n    public void sessionIdChanged(HttpSessionEvent event, String oldSessionId) {\n        HttpSession session = event.getSession();\n        LOGGER.info(&quot;CHANGED  : {} --&gt; {}, {}&quot;, oldSessionId, session.getId(), Long.valueOf(session.getCreationTime()));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7001879,"reputation":123,"user_id":5367663,"display_name":"SKS"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5447,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32761198,"answer_count":3,"score":4,"last_activity_date":1668526235,"creation_date":1443012202,"question_id":32739957,"body_markdown":"I have implemented HttpSessionListiner but it doesn&#39;t work.\r\nChecked it with debuger - new session creates after entering servlet, JSESSION_ID changes after login, but session.getCreateTime() stays the same(session stays the same?).\r\nUsing annotations, Spring Security. Maybe i missed some config in spring security?\r\n\r\n    import javax.servlet.annotation.WebListener;\r\n    import javax.servlet.http.HttpSessionEvent;\r\n    import javax.servlet.http.HttpSessionListener;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    \r\n    @WebListener\r\n    public class SessionListener implements HttpSessionListener {\r\n    \r\n    \tprivate static int totalActiveSessions;\r\n    \tprivate static final Logger log = Logger.getLogger(SessionListener.class);  \r\n    \t\r\n        @Override\r\n    \tpublic void sessionCreated(HttpSessionEvent se) {\r\n    \t\ttotalActiveSessions++;\r\n    \t\tlog.warn(&quot;sessionCreated - add one session into counter&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void sessionDestroyed(HttpSessionEvent se) {\r\n    \t\ttotalActiveSessions--;\r\n    \t\tlog.debug(&quot;sessionDestroyed - deleted one session from counter&quot;);\r\n    \t}\r\n    }","title":"HttpSessionListener doesn&#39;t work","body":"<p>I have implemented HttpSessionListiner but it doesn't work.\nChecked it with debuger - new session creates after entering servlet, JSESSION_ID changes after login, but session.getCreateTime() stays the same(session stays the same?).\nUsing annotations, Spring Security. Maybe i missed some config in spring security?</p>\n\n<pre><code>import javax.servlet.annotation.WebListener;\nimport javax.servlet.http.HttpSessionEvent;\nimport javax.servlet.http.HttpSessionListener;\n\nimport org.apache.log4j.Logger;\n\n@WebListener\npublic class SessionListener implements HttpSessionListener {\n\n    private static int totalActiveSessions;\n    private static final Logger log = Logger.getLogger(SessionListener.class);  \n\n    @Override\n    public void sessionCreated(HttpSessionEvent se) {\n        totalActiveSessions++;\n        log.warn(\"sessionCreated - add one session into counter\");\n    }\n\n    @Override\n    public void sessionDestroyed(HttpSessionEvent se) {\n        totalActiveSessions--;\n        log.debug(\"sessionDestroyed - deleted one session from counter\");\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","security"],"answers":[{"tags":[],"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668526112,"creation_date":1668526112,"answer_id":74448213,"question_id":74429084,"body_markdown":"You can add your own custom filter and check your properties inside that filter and pass chain to basic auth filter if needed.\r\n\r\nYou can have a look on these articles\r\n\r\n - https://www.javadevjournal.com/spring-security/custom-filter-in-spring-security\r\n - https://www.baeldung.com/spring-security-custom-filter\r\n - https://www.baeldung.com/spring-onceperrequestfilter\r\n - https://spring.io/guides/topicals/spring-security-architecture","title":"Conditionally passing through spring security filterchain","body":"<p>You can add your own custom filter and check your properties inside that filter and pass chain to basic auth filter if needed.</p>\n<p>You can have a look on these articles</p>\n<ul>\n<li><a href=\"https://www.javadevjournal.com/spring-security/custom-filter-in-spring-security\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring-security/custom-filter-in-spring-security</a></li>\n<li><a href=\"https://www.baeldung.com/spring-security-custom-filter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-custom-filter</a></li>\n<li><a href=\"https://www.baeldung.com/spring-onceperrequestfilter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-onceperrequestfilter</a></li>\n<li><a href=\"https://spring.io/guides/topicals/spring-security-architecture\" rel=\"nofollow noreferrer\">https://spring.io/guides/topicals/spring-security-architecture</a></li>\n</ul>\n"}],"owner":{"account_id":12063747,"reputation":297,"user_id":8821759,"display_name":"tarmogoyf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668526112,"creation_date":1668416307,"question_id":74429084,"body_markdown":"    @Bean\r\n    @Order(10)\r\n    protected SecurityFilterChain samlFilterChain(final HttpSecurity http) throws Exception {\r\n        OpenSamlAuthenticationProvider authenticationProvider = new OpenSamlAuthenticationProvider();\r\n        authenticationProvider.setResponseAuthenticationConverter(groupsConverter());\r\n        if (!isSsoEnabled){\r\n            http.anonymous();\r\n            return http.build();}\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .antMatchers(&quot;/**&quot;)\r\n                        .permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .saml2Login(saml2 -&gt; saml2\r\n                        .authenticationManager(new ProviderManager(authenticationProvider))\r\n                )\r\n                .saml2Login()\r\n                .successHandler(successRedirectHandler())\r\n                .failureHandler(failureRedirectHandler())\r\n                .and()\r\n                .saml2Logout(Customizer.withDefaults());\r\n    \r\n        return http.build();\r\n    }\r\n\r\nMy goal is to check condition whether property allows us to use SSO and if not than just pass this filter chain and be able to login with basic authentication.The problem is that I can&#39;t figure out how to skip http creation here and just pass down the filter chain to the next SecurityFilterChain wiht lower precedense, just like: \r\n\r\n      chain.doFilter(request, response);","title":"Conditionally passing through spring security filterchain","body":"<pre><code>@Bean\n@Order(10)\nprotected SecurityFilterChain samlFilterChain(final HttpSecurity http) throws Exception {\n    OpenSamlAuthenticationProvider authenticationProvider = new OpenSamlAuthenticationProvider();\n    authenticationProvider.setResponseAuthenticationConverter(groupsConverter());\n    if (!isSsoEnabled){\n        http.anonymous();\n        return http.build();}\n    http.csrf().disable()\n            .authorizeHttpRequests(authorize -&gt; authorize\n                    .antMatchers(&quot;/**&quot;)\n                    .permitAll()\n                    .anyRequest().authenticated()\n            )\n            .saml2Login(saml2 -&gt; saml2\n                    .authenticationManager(new ProviderManager(authenticationProvider))\n            )\n            .saml2Login()\n            .successHandler(successRedirectHandler())\n            .failureHandler(failureRedirectHandler())\n            .and()\n            .saml2Logout(Customizer.withDefaults());\n\n    return http.build();\n}\n</code></pre>\n<p>My goal is to check condition whether property allows us to use SSO and if not than just pass this filter chain and be able to login with basic authentication.The problem is that I can't figure out how to skip http creation here and just pass down the filter chain to the next SecurityFilterChain wiht lower precedense, just like:</p>\n<pre><code>  chain.doFilter(request, response);\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","powermock"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1453756665,"creation_date":1453756665,"answer_id":35002542,"question_id":34994351,"body_markdown":"I am not aware of any way to go about this, for one clear reason: @InjectMocks is meant for non-mocked systems under test, and @Mock is meant for mocked collaborators, and Mockito is not designed for any class to fill both those roles in the same test.\r\n\r\nBear in mind that your `@Mock(CALLS_REAL_METHODS)` declaration is [inherently dangerous](https://stackoverflow.com/q/33516324/1426891): You&#39;re testing your AbstractClassUnderTest, but you are not running any constructors or initializing any fields. I don&#39;t think you can expect a test with this design to be realistic or robust, no matter what annotations can or cannot do for you. (Personally, I was previously in favor of real partial mocks of abstract classes as a &quot;tool in the toolbox&quot;, but I&#39;m coming around to thinking they&#39;re too far removed from reality to be useful.)\r\n\r\nWere I in your position, I would create a small override implementation for testing:\r\n\r\n    @RunWith(JUnit4.class) public class AbstractClassTest {\r\n      /** Minimial AbstractClass implementation for testing. */\r\n      public static class SimpleConcreteClass extends AbstractClass {\r\n        public SimpleConcreteClass() { super(&quot;foo&quot;, &quot;bar&quot;, 42); }\r\n        @Override public void abstractMethod1() {}\r\n        @Override public String abstractMethod2(int parameter) { return &quot;&quot;; }\r\n      }\r\n\r\n      @InjectMocks SimpleConcreteClass classUnderTest;\r\n      @Mock mockClassA;\r\n      @Mock mockClassB;\r\n    }\r\n    \r\nAt this point, you have a simple and predictable AbstractClass implementation, which you can use even without a mocking framework if you just wanted to test that AbstractClass has the same API for extension that it did before. (This is an often-overlooked test for abstract classes.) You can even extract this, as it may be useful for other testing: Should you want to override the abstract behavior for a single test class, you can create an anonymous inner class with just a single method override, or you can set `classUnderTest = spy(classUnderTest);` to set up Mockito proxying and the behavior you want.\r\n\r\n(Bear in mind that @InjectMocks and @Spy can&#39;t be used reliably together, as documented in [this GitHub issue](https://github.com/mockito/mockito/issues/169) and the Google Code and mailing list threads to which it links.)","title":"Mocking an abstract class and injecting classes with Mockito annotations?","body":"<p>I am not aware of any way to go about this, for one clear reason: @InjectMocks is meant for non-mocked systems under test, and @Mock is meant for mocked collaborators, and Mockito is not designed for any class to fill both those roles in the same test.</p>\n\n<p>Bear in mind that your <code>@Mock(CALLS_REAL_METHODS)</code> declaration is <a href=\"https://stackoverflow.com/q/33516324/1426891\">inherently dangerous</a>: You're testing your AbstractClassUnderTest, but you are not running any constructors or initializing any fields. I don't think you can expect a test with this design to be realistic or robust, no matter what annotations can or cannot do for you. (Personally, I was previously in favor of real partial mocks of abstract classes as a \"tool in the toolbox\", but I'm coming around to thinking they're too far removed from reality to be useful.)</p>\n\n<p>Were I in your position, I would create a small override implementation for testing:</p>\n\n<pre><code>@RunWith(JUnit4.class) public class AbstractClassTest {\n  /** Minimial AbstractClass implementation for testing. */\n  public static class SimpleConcreteClass extends AbstractClass {\n    public SimpleConcreteClass() { super(\"foo\", \"bar\", 42); }\n    @Override public void abstractMethod1() {}\n    @Override public String abstractMethod2(int parameter) { return \"\"; }\n  }\n\n  @InjectMocks SimpleConcreteClass classUnderTest;\n  @Mock mockClassA;\n  @Mock mockClassB;\n}\n</code></pre>\n\n<p>At this point, you have a simple and predictable AbstractClass implementation, which you can use even without a mocking framework if you just wanted to test that AbstractClass has the same API for extension that it did before. (This is an often-overlooked test for abstract classes.) You can even extract this, as it may be useful for other testing: Should you want to override the abstract behavior for a single test class, you can create an anonymous inner class with just a single method override, or you can set <code>classUnderTest = spy(classUnderTest);</code> to set up Mockito proxying and the behavior you want.</p>\n\n<p>(Bear in mind that @InjectMocks and @Spy can't be used reliably together, as documented in <a href=\"https://github.com/mockito/mockito/issues/169\" rel=\"noreferrer\">this GitHub issue</a> and the Google Code and mailing list threads to which it links.)</p>\n"},{"tags":[],"owner":{"account_id":6765991,"reputation":169,"user_id":5213610,"accept_rate":25,"display_name":"Riĥard Brugekĥaim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553249221,"creation_date":1553249221,"answer_id":55297226,"question_id":34994351,"body_markdown":"I found some trick with mocking field before initialization.\r\n\r\n    @InjectMocks\r\n    private AbstractClass abstractClass;\r\n    @Mock \r\n    private MockClass mockClass;\r\n    \r\n    @Before\r\n    public void init() {\r\n        abstractClass= mock(AbstractClass.class, Answers.CALLS_REAL_METHODS);\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nMaybe it&#39;ll help someone.","title":"Mocking an abstract class and injecting classes with Mockito annotations?","body":"<p>I found some trick with mocking field before initialization.</p>\n\n<pre><code>@InjectMocks\nprivate AbstractClass abstractClass;\n@Mock \nprivate MockClass mockClass;\n\n@Before\npublic void init() {\n    abstractClass= mock(AbstractClass.class, Answers.CALLS_REAL_METHODS);\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>Maybe it'll help someone.</p>\n"}],"owner":{"account_id":5786138,"reputation":197,"user_id":4565299,"display_name":"Sparwer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17959,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35002542,"answer_count":2,"score":4,"last_activity_date":1668526097,"creation_date":1453730157,"question_id":34994351,"body_markdown":"Is it possible to both mock an abstract class and inject it with mocked classes using Mockito annotations. I now have the following situation:\r\n\r\n    @Mock private MockClassA mockClassA;\r\n    @Mock private MockClassB mockClassB;\r\n\r\n    @Mock(answer = Answers.CALLS_REAL_METHODS) private AbstractClassUnderTest abstractClassUnderTest;\r\n\r\n    @Before\r\n    public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n        Whitebox.setInternalState(abstractClassUnderTest, mockClassA);\r\n        Whitebox.setInternalState(abstractClassUnderTest, mockClassB);\r\n    }\r\n\r\nI&#39;d like to use something like @InjectMocks on AbstractClassUnderTest but it can&#39;t be used in combination with @Mock. The current situation, with Whitebox from Powermock, works but I&#39;m curious if it&#39;s possible to solve it with just annotations. I couldn&#39;t find any solutions or examples.\r\n\r\n(I know about the objections to test abstract classes and I&#39;d personally rather test a concrete implementation and just use @InjectMocks.)","title":"Mocking an abstract class and injecting classes with Mockito annotations?","body":"<p>Is it possible to both mock an abstract class and inject it with mocked classes using Mockito annotations. I now have the following situation:</p>\n\n<pre><code>@Mock private MockClassA mockClassA;\n@Mock private MockClassB mockClassB;\n\n@Mock(answer = Answers.CALLS_REAL_METHODS) private AbstractClassUnderTest abstractClassUnderTest;\n\n@Before\npublic void init() {\n    MockitoAnnotations.initMocks(this);\n    Whitebox.setInternalState(abstractClassUnderTest, mockClassA);\n    Whitebox.setInternalState(abstractClassUnderTest, mockClassB);\n}\n</code></pre>\n\n<p>I'd like to use something like @InjectMocks on AbstractClassUnderTest but it can't be used in combination with @Mock. The current situation, with Whitebox from Powermock, works but I'm curious if it's possible to solve it with just annotations. I couldn't find any solutions or examples.</p>\n\n<p>(I know about the objections to test abstract classes and I'd personally rather test a concrete implementation and just use @InjectMocks.)</p>\n"},{"tags":["java","android","arrays","image","bitmap"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668529675,"post_id":74448198,"comment_id":131425335,"body_markdown":"A null is also returned if the bitmap would become too big for available memory.","body":"A null is also returned if the bitmap would become too big for available memory."},{"owner":{"account_id":22857031,"reputation":46,"user_id":17001732,"display_name":"Semerkosa"},"score":0,"creation_date":1668585071,"post_id":74448198,"comment_id":131438331,"body_markdown":"Maybe, but this can&#39;t be the case as it used to work (on the same device) with Camera1 API and I&#39;m just trying to update it with CameraX","body":"Maybe, but this can&#39;t be the case as it used to work (on the same device) with Camera1 API and I&#39;m just trying to update it with CameraX"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668585250,"post_id":74448198,"comment_id":131438383,"body_markdown":"Are you shure the used resolution is the same?","body":"Are you shure the used resolution is the same?"},{"owner":{"account_id":22857031,"reputation":46,"user_id":17001732,"display_name":"Semerkosa"},"score":0,"creation_date":1668586819,"post_id":74448198,"comment_id":131438872,"body_markdown":"Absolutely, but even a much lower resolution doesn&#39;t work.","body":"Absolutely, but even a much lower resolution doesn&#39;t work."}],"owner":{"account_id":22857031,"reputation":46,"user_id":17001732,"display_name":"Semerkosa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668526034,"creation_date":1668526034,"question_id":74448198,"body_markdown":"I am trying to create a `Bitmap` with data coming from the `ImageAnalysis` use-case from the `CameraX API`, which is in format `RGBA_8888`.\r\n\r\nThis is how I get the `byte array` within the overriden analyze method:\r\n```lang-java\r\nImage image = imageProxy.getImage();\r\nImage.Plane plane = image.getPlanes()[0];\r\nByteBuffer buffer = plane.getBuffer();\r\n\r\nbuffer.rewind();\r\nbyte[] bytes = new byte[buffer.remaining()];\r\nbuffer.get(bytes);\r\n```\r\n\r\nLater on, I try to create a `Bitmap`  like that:\r\n```lang-java\r\nBitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n```\r\nAnd the result is **NULL**. According to the [Bitmap docs][1], a null is returned when one tries to decode an invalid byte array.\r\n\r\nHow do I create a Bitmap or get some valid Bitmap bytes?\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/BitmapFactory#decodeByteArray(byte[],%20int,%20int,%20android.graphics.BitmapFactory.Options)","title":"Why can&#39;t I create a Bitmap with data from ImageAnalysis use-case with CameraX in Android","body":"<p>I am trying to create a <code>Bitmap</code> with data coming from the <code>ImageAnalysis</code> use-case from the <code>CameraX API</code>, which is in format <code>RGBA_8888</code>.</p>\n<p>This is how I get the <code>byte array</code> within the overriden analyze method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Image image = imageProxy.getImage();\nImage.Plane plane = image.getPlanes()[0];\nByteBuffer buffer = plane.getBuffer();\n\nbuffer.rewind();\nbyte[] bytes = new byte[buffer.remaining()];\nbuffer.get(bytes);\n</code></pre>\n<p>Later on, I try to create a <code>Bitmap</code>  like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n</code></pre>\n<p>And the result is <strong>NULL</strong>. According to the <a href=\"https://developer.android.com/reference/android/graphics/BitmapFactory#decodeByteArray(byte%5B%5D,%20int,%20int,%20android.graphics.BitmapFactory.Options)\" rel=\"nofollow noreferrer\">Bitmap docs</a>, a null is returned when one tries to decode an invalid byte array.</p>\n<p>How do I create a Bitmap or get some valid Bitmap bytes?</p>\n"},{"tags":["java","unit-testing","dependency-injection","ejb","mockito"],"answers":[{"tags":[],"owner":{"account_id":251692,"reputation":2306,"user_id":529256,"accept_rate":75,"display_name":"Craig"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1440138052,"creation_date":1440138052,"answer_id":32133630,"question_id":32133102,"body_markdown":"Since you cannot instantiate an Abstract class there is nothing to test. I would recommend that you create child class (it could be a nested class inside your test class), and then run your tests that way. Then you can use the `@Mock`, `@InjectMocks` as you would normally.","title":"Inject mocks to Abstract class using mockito","body":"<p>Since you cannot instantiate an Abstract class there is nothing to test. I would recommend that you create child class (it could be a nested class inside your test class), and then run your tests that way. Then you can use the <code>@Mock</code>, <code>@InjectMocks</code> as you would normally.</p>\n"},{"tags":[],"owner":{"account_id":5871852,"reputation":117,"user_id":4623946,"display_name":"Szymon Włodarczyk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1440143004,"creation_date":1440143004,"answer_id":32134934,"question_id":32133102,"body_markdown":"Good practice is to write unit tests for all possible classes which inherits from this abstract class. Because in theory it is possible situation. This dependency should be mocked and you should forget about mocking dependencies of this EJB component.\r\nMaybe some code snippets would help to clarify what you try to achieve here.","title":"Inject mocks to Abstract class using mockito","body":"<p>Good practice is to write unit tests for all possible classes which inherits from this abstract class. Because in theory it is possible situation. This dependency should be mocked and you should forget about mocking dependencies of this EJB component.\nMaybe some code snippets would help to clarify what you try to achieve here.</p>\n"},{"tags":[],"owner":{"account_id":5786138,"reputation":197,"user_id":4565299,"display_name":"Sparwer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453730613,"creation_date":1453730613,"answer_id":34994516,"question_id":32133102,"body_markdown":"You can use the Powermock library to inject mocks in `myAbstractClass` using `Whitebox.setInternalState(myAbstractClass, mock(MockedClass.class))`;","title":"Inject mocks to Abstract class using mockito","body":"<p>You can use the Powermock library to inject mocks in <code>myAbstractClass</code> using <code>Whitebox.setInternalState(myAbstractClass, mock(MockedClass.class))</code>;</p>\n"},{"tags":[],"owner":{"account_id":7722702,"reputation":73,"user_id":5848422,"display_name":"Christian Vega"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608158392,"creation_date":1608158392,"answer_id":65332136,"question_id":32133102,"body_markdown":"I am using junit5 for this.\r\n\r\nWhat I did is instantiate the abstract class with a ```new abstractClass()``` in ```@BeforeEach```  and call the methods by ```super``` if the method is not abstract(using this because I have ```protected``` methods), after this I use ```ReflectionUtils.setField()``` to set the mocks in the abstract class and test every method and works pretty well. I leave a simple example that works.\r\n\r\nAbstractClass\r\n``` \r\npublic abstract class AbstractClass {\r\n  @Autowired\r\n  private Environment environment;\r\n\r\n  protected String getProperty(String property){\r\n    return environment.getRequiredProperty(property);\r\n  }\r\n}\r\n```\r\nAbstractClassTest\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass AbstractClassTest {\r\n\r\n  AbstractClass abstractClass;\r\n\r\n  @Mock\r\n  Environment environment;\r\n\r\n  @BeforeEach\r\n  void setUp() {\r\n    abstractClass = new AbstractClass() {\r\n      @Override\r\n      public String getProperty(String property) {\r\n        return super.getProperty(property);\r\n      }\r\n    };\r\n    ReflectionTestUtils.setField(abstractClass, &quot;environment&quot;, environment);\r\n  }\r\n\r\n  @Test\r\n  void shouldReturnProperty() {\r\n    String propertyValue = &quot;this property&quot;;\r\n    when(environment.getRequiredProperty(&quot;property&quot;)).thenReturn(propertyValue);\r\n    String property = abstractClass.getProperty(&quot;property&quot;);\r\n    assertEquals(propertyValue, property);\r\n  }\r\n}\r\n```\r\nThis is just using mockito and junit5 to test.\r\nRemember to call ```ReflectionUtils``` after you instantiate the class with ```new AbstractClass()``` or the mocks won&#39;t be injected.\r\n\r\nAny improve on this implementation is welcome :D.","title":"Inject mocks to Abstract class using mockito","body":"<p>I am using junit5 for this.</p>\n<p>What I did is instantiate the abstract class with a <code>new abstractClass()</code> in <code>@BeforeEach</code>  and call the methods by <code>super</code> if the method is not abstract(using this because I have <code>protected</code> methods), after this I use <code>ReflectionUtils.setField()</code> to set the mocks in the abstract class and test every method and works pretty well. I leave a simple example that works.</p>\n<p>AbstractClass</p>\n<pre><code>public abstract class AbstractClass {\n  @Autowired\n  private Environment environment;\n\n  protected String getProperty(String property){\n    return environment.getRequiredProperty(property);\n  }\n}\n</code></pre>\n<p>AbstractClassTest</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AbstractClassTest {\n\n  AbstractClass abstractClass;\n\n  @Mock\n  Environment environment;\n\n  @BeforeEach\n  void setUp() {\n    abstractClass = new AbstractClass() {\n      @Override\n      public String getProperty(String property) {\n        return super.getProperty(property);\n      }\n    };\n    ReflectionTestUtils.setField(abstractClass, &quot;environment&quot;, environment);\n  }\n\n  @Test\n  void shouldReturnProperty() {\n    String propertyValue = &quot;this property&quot;;\n    when(environment.getRequiredProperty(&quot;property&quot;)).thenReturn(propertyValue);\n    String property = abstractClass.getProperty(&quot;property&quot;);\n    assertEquals(propertyValue, property);\n  }\n}\n</code></pre>\n<p>This is just using mockito and junit5 to test.\nRemember to call <code>ReflectionUtils</code> after you instantiate the class with <code>new AbstractClass()</code> or the mocks won't be injected.</p>\n<p>Any improve on this implementation is welcome :D.</p>\n"},{"tags":[],"owner":{"account_id":5124438,"reputation":2515,"user_id":4107038,"accept_rate":44,"display_name":"Rajat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628748043,"creation_date":1628748043,"answer_id":68752353,"question_id":32133102,"body_markdown":"***Junit 4 specific solution***\r\n\r\n**Abstract class that need to be tested**\r\n\r\n    @Slf4j\r\n    public abstract class AdhocNotificationEmail {\r\n\r\n        @Autowired\r\n        protected CustomerNotificationRepository customerNotificationRepository;\r\n\r\n        protected abstract  Map&lt;String, String&gt; abstractMethod(AdhocNotificationDTO adhocNotificationDTO);\r\n\r\n        public JSONObject concreteMethod(){\r\n          // some stuff that needs to be tested and common to all subclasses\r\n        }\r\n    }\r\n\r\n***Test Class:***\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class AdhocNotificationEmailTest{\r\n\r\n        @Mock\r\n        protected CustomerNotificationRepository customerNotificationRepository;\r\n\r\n        private AdhocNotificationEmail unit;\r\n\r\n        @Before\r\n        public void setUp() {\r\n            unit = new AdhocNotificationEmail() {\r\n                       @Override\r\n                       protected Map&lt;String, String&gt; abstractMethod(AdhocNotificationDTO notificationDTO) {\r\n                        return null;\r\n                       }\r\n                   };\r\n            unit.customerNotificationRepository = customerNotificationRepository;\r\n        }\r\n\r\n        @Test\r\n        public void concreteMethod_greenPath() {\r\n            final String templateName = &quot;NOTIFICATION_TEMPLATE&quot;;\r\n            final AdhocNotificationDTO adhocNotificationDTOStub = getAdhocNotificationDTOStub(templateName);\r\n            final CustomerNotification customerNotificationStub = getCustomerNotificationStub(templateName);\r\n            when(customerNotificationRepository.findByIdAndTemplateName(id, templateName)).thenReturn(customerNotificationStub);\r\n            final JSONObject response = unit.concreteMethod(adhocNotificationDTOStub);\r\n            assertNotNull(response);\r\n        }\r\n\r\n","title":"Inject mocks to Abstract class using mockito","body":"<p><em><strong>Junit 4 specific solution</strong></em></p>\n<p><strong>Abstract class that need to be tested</strong></p>\n<pre><code>@Slf4j\npublic abstract class AdhocNotificationEmail {\n\n    @Autowired\n    protected CustomerNotificationRepository customerNotificationRepository;\n\n    protected abstract  Map&lt;String, String&gt; abstractMethod(AdhocNotificationDTO adhocNotificationDTO);\n\n    public JSONObject concreteMethod(){\n      // some stuff that needs to be tested and common to all subclasses\n    }\n}\n</code></pre>\n<p><em><strong>Test Class:</strong></em></p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\npublic class AdhocNotificationEmailTest{\n\n    @Mock\n    protected CustomerNotificationRepository customerNotificationRepository;\n\n    private AdhocNotificationEmail unit;\n\n    @Before\n    public void setUp() {\n        unit = new AdhocNotificationEmail() {\n                   @Override\n                   protected Map&lt;String, String&gt; abstractMethod(AdhocNotificationDTO notificationDTO) {\n                    return null;\n                   }\n               };\n        unit.customerNotificationRepository = customerNotificationRepository;\n    }\n\n    @Test\n    public void concreteMethod_greenPath() {\n        final String templateName = &quot;NOTIFICATION_TEMPLATE&quot;;\n        final AdhocNotificationDTO adhocNotificationDTOStub = getAdhocNotificationDTOStub(templateName);\n        final CustomerNotification customerNotificationStub = getCustomerNotificationStub(templateName);\n        when(customerNotificationRepository.findByIdAndTemplateName(id, templateName)).thenReturn(customerNotificationStub);\n        final JSONObject response = unit.concreteMethod(adhocNotificationDTOStub);\n        assertNotNull(response);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10034131,"reputation":21,"user_id":7419479,"display_name":"Andr&#233; Pereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668525896,"creation_date":1668525896,"answer_id":74448164,"question_id":32133102,"body_markdown":"Personally, what I like to do is to extend the abstract with an anonymous class declared in the @Before (or @BeforeEach in junit.jupiter). This way I can achieve the following:\r\n- Don&#39;t mock the class that I want to test (like you are doing with ```Mockito.mock(MyAbstractClass.class, Mockito.CALLS_REAL_METHODS)```), since that is kind of an anti-pattern. You only want to Mock the dependencies of the class you are testing;\r\n- You can provide Mocks for the dependencies of the abstract class, and that are called by non-abstract methods;\r\n- You can test non-abstract methods that call abstract methods\r\n\r\nExample:\r\n```\r\nclass TestAbstractClass {\r\n    @Mock\r\n    private ServiceDependency dependency;\r\n\r\n    private AbstractClass abstractClass;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        abstractClass= new AbstractClass (dependency) { };\r\n    }\r\n\r\n    @Test\r\n    void test(){\r\n        Mockito.when(dependency.someMethod()).thenReturn(something);\r\n        var result = abstractclass.someNonAbstractMethod();\r\n        // assertions\r\n    }\r\n\r\n}\r\n```","title":"Inject mocks to Abstract class using mockito","body":"<p>Personally, what I like to do is to extend the abstract with an anonymous class declared in the @Before (or @BeforeEach in junit.jupiter). This way I can achieve the following:</p>\n<ul>\n<li>Don't mock the class that I want to test (like you are doing with <code>Mockito.mock(MyAbstractClass.class, Mockito.CALLS_REAL_METHODS)</code>), since that is kind of an anti-pattern. You only want to Mock the dependencies of the class you are testing;</li>\n<li>You can provide Mocks for the dependencies of the abstract class, and that are called by non-abstract methods;</li>\n<li>You can test non-abstract methods that call abstract methods</li>\n</ul>\n<p>Example:</p>\n<pre><code>class TestAbstractClass {\n    @Mock\n    private ServiceDependency dependency;\n\n    private AbstractClass abstractClass;\n\n    @BeforeEach\n    void setUp() {\n        abstractClass= new AbstractClass (dependency) { };\n    }\n\n    @Test\n    void test(){\n        Mockito.when(dependency.someMethod()).thenReturn(something);\n        var result = abstractclass.someNonAbstractMethod();\n        // assertions\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":346348,"reputation":2620,"user_id":679822,"accept_rate":73,"display_name":"Dilini Rajapaksha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16759,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1668525896,"creation_date":1440135748,"question_id":32133102,"body_markdown":"I am mocking an abstract class like below:\r\n\r\n`myAbstractClass = Mockito.mock(MyAbstractClass.class, Mockito.CALLS_REAL_METHODS);`\r\n\r\nthe problem is that `MyAbstractClass` has some dependencies injected via `EJB` annotations and there are not setters. Is there a way to inject the dependencies?\r\n\r\n`@InjectMocks` does not work with Abstract classes.","title":"Inject mocks to Abstract class using mockito","body":"<p>I am mocking an abstract class like below:</p>\n\n<p><code>myAbstractClass = Mockito.mock(MyAbstractClass.class, Mockito.CALLS_REAL_METHODS);</code></p>\n\n<p>the problem is that <code>MyAbstractClass</code> has some dependencies injected via <code>EJB</code> annotations and there are not setters. Is there a way to inject the dependencies?</p>\n\n<p><code>@InjectMocks</code> does not work with Abstract classes.</p>\n"},{"tags":["java","performance","recursion"],"comments":[{"owner":{"account_id":6812925,"reputation":2939,"user_id":8008340,"display_name":"Konstantin Strukov"},"score":0,"creation_date":1668525583,"post_id":74447619,"comment_id":131423548,"body_markdown":"&quot;Ive already tried it with an array and saved the values in it, but I don&#39;t think we are allowed to solve the task like that&quot; - you were moving in the proper direction. The task definition as you presented it prohibits loops but not speed/memory tradeoff, so memorization is the answer. Just keep in mind: you probably don&#39;t need to memorize the computations for all `n`s - each call to `sequence` depends on the 3 most recent values only (but any memorization impl. would be ok for the 1st iteration)...","body":"&quot;Ive already tried it with an array and saved the values in it, but I don&#39;t think we are allowed to solve the task like that&quot; - you were moving in the proper direction. The task definition as you presented it prohibits loops but not speed/memory tradeoff, so memorization is the answer. Just keep in mind: you probably don&#39;t need to memorize the computations for all <code>n</code>s - each call to <code>sequence</code> depends on the 3 most recent values only (but any memorization impl. would be ok for the 1st iteration)..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668525716,"post_id":74447619,"comment_id":131423616,"body_markdown":"Cache results of a calculation and only compute if no value exists. You can use a `ConcurrentSkipListMap` and the `computeifAbsent` function. If you use a regular `HashMap` or `ConcurrentHashMap` it will fail.","body":"Cache results of a calculation and only compute if no value exists. You can use a <code>ConcurrentSkipListMap</code> and the <code>computeifAbsent</code> function. If you use a regular <code>HashMap</code> or <code>ConcurrentHashMap</code> it will fail."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668525762,"creation_date":1668524617,"answer_id":74447823,"question_id":74447619,"body_markdown":"Look up and try to implement [memoization][1].\r\n\r\nIt&#39;s a technique to cache the result of a computation (especially useful if it&#39;s expensive one) and reuse this result when the same input appears again. Currently you recalculate the result for the same input `n` every time it appears.\r\n\r\nHints: You can use [Map&lt;Integer, Long&gt;][2], where key will be `n` and value is computed result. Or `long[]` can work as well, where value at index `n` will be computed result, you can use second array for negative `n`s.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Memoization\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"how to speed up recursive method to under one second?","body":"<p>Look up and try to implement <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\">memoization</a>.</p>\n<p>It's a technique to cache the result of a computation (especially useful if it's expensive one) and reuse this result when the same input appears again. Currently you recalculate the result for the same input <code>n</code> every time it appears.</p>\n<p>Hints: You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map&lt;Integer, Long&gt;</a>, where key will be <code>n</code> and value is computed result. Or <code>long[]</code> can work as well, where value at index <code>n</code> will be computed result, you can use second array for negative <code>n</code>s.</p>\n"}],"owner":{"display_name":"user19293033"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668525762,"creation_date":1668523812,"question_id":74447619,"body_markdown":"I have to solve a task with recursion, and the code has to run in under one second on an average computer. We are not allowed to use for/while loops and streams. We are allowed to use supporting methods and variables.\r\n\r\nI already solved the recursion part of the task, my method works for all -111 &lt; n &lt; 131.\r\nI am not sure how to speed up the process tho. Ive already tried it with an array and saved the values in it, but I don&#39;t think we are allowed to solve the task like that, since everything should be solved recursively..\r\n\r\nHow do I speed up this recursive method, especially for values n&gt;30?\r\n\r\n```\r\npublic static long sequence(int n, int a, int b, int c) {\r\n   if (n &gt; -111 &amp;&amp; n &lt; 131) {\r\n      if(n==0) {\r\n         return a;\r\n      }\r\n      if(n==1) {\r\n         return b;\r\n      }\r\n      if(n==2) {\r\n         return c;\r\n      }\r\n      if (n &lt; 0) {\r\n         return 2 * sequence(-n, a, b, c);\r\n      } else {\r\n         return sequence(n - 1, a, b, c) - sequence(n - 2, a, b, c) + 2 * sequence(n - 3, a, b, c);\r\n      }\r\n   }\r\n   return 0L;\r\n}\r\n```\r\n","title":"how to speed up recursive method to under one second?","body":"<p>I have to solve a task with recursion, and the code has to run in under one second on an average computer. We are not allowed to use for/while loops and streams. We are allowed to use supporting methods and variables.</p>\n<p>I already solved the recursion part of the task, my method works for all -111 &lt; n &lt; 131.\nI am not sure how to speed up the process tho. Ive already tried it with an array and saved the values in it, but I don't think we are allowed to solve the task like that, since everything should be solved recursively..</p>\n<p>How do I speed up this recursive method, especially for values n&gt;30?</p>\n<pre><code>public static long sequence(int n, int a, int b, int c) {\n   if (n &gt; -111 &amp;&amp; n &lt; 131) {\n      if(n==0) {\n         return a;\n      }\n      if(n==1) {\n         return b;\n      }\n      if(n==2) {\n         return c;\n      }\n      if (n &lt; 0) {\n         return 2 * sequence(-n, a, b, c);\n      } else {\n         return sequence(n - 1, a, b, c) - sequence(n - 2, a, b, c) + 2 * sequence(n - 3, a, b, c);\n      }\n   }\n   return 0L;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1668526128,"post_id":74447897,"comment_id":131423814,"body_markdown":"Which logging API are you using? If slf4j, possible duplicate of https://stackoverflow.com/q/29076981/639520","body":"Which logging API are you using? If slf4j, possible duplicate of <a href=\"https://stackoverflow.com/q/29076981/639520\">stackoverflow.com/q/29076981/639520</a>"},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1668526270,"post_id":74447897,"comment_id":131423893,"body_markdown":"@E-Riz I use log4j","body":"@E-Riz I use log4j"}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668525685,"creation_date":1668525685,"answer_id":74448110,"question_id":74447897,"body_markdown":"This isn&#39;t something Mockito excels at, but unless you need any of the clever Mockito matcher functionality to match errors, you can just write a fake Logger youself.\r\n\r\nTo do this, implement Logger—manually using Java or dynamically using Mockito `thenAnswer`s—and have each call increment a counter or save its arguments to an array. At the end of the test you could check error count or make any other queries you need.\r\n\r\nIf multiple tested components call your Logger, you can write the fake implementation once and use it for all the querying you need in all your unit and small integration tests.\r\n\r\nThis is similar to what the Android testing library Robolectric does with its [`ShadowLog.getLogs` implementation](https://robolectric.org/javadoc/4.1/org/robolectric/shadows/ShadowLog.html#getLogs--), though Robolectric uses a custom classloader to replace the Log class due to its static methods.","title":"Using Mockito to verify the number of times any of several methods have been invoked","body":"<p>This isn't something Mockito excels at, but unless you need any of the clever Mockito matcher functionality to match errors, you can just write a fake Logger youself.</p>\n<p>To do this, implement Logger—manually using Java or dynamically using Mockito <code>thenAnswer</code>s—and have each call increment a counter or save its arguments to an array. At the end of the test you could check error count or make any other queries you need.</p>\n<p>If multiple tested components call your Logger, you can write the fake implementation once and use it for all the querying you need in all your unit and small integration tests.</p>\n<p>This is similar to what the Android testing library Robolectric does with its <a href=\"https://robolectric.org/javadoc/4.1/org/robolectric/shadows/ShadowLog.html#getLogs--\" rel=\"nofollow noreferrer\"><code>ShadowLog.getLogs</code> implementation</a>, though Robolectric uses a custom classloader to replace the Log class due to its static methods.</p>\n"}],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668525685,"creation_date":1668524895,"question_id":74447897,"body_markdown":"If I want to verify either that no errors or some errors have been logged, but there are multiple error logging methods, I could do something clumsy like this:\r\n\r\n```\r\nLogger log = mock(Logger.class);\r\nboolean errorsExpected;\r\n...\r\nif (errorsExpected) {\r\n    try {\r\n        verify(log, atLeastOnce()).error(any());\r\n    } catch (AssertionError e) {\r\n        verify(log, atLeastOnce()).error(any(), any());\r\n    }\r\n} else {\r\n    verify(log, never()).error(any());\r\n    verify(log, never()).error(any(), any());\r\n}\r\n```\r\nIs there a better way?","title":"Using Mockito to verify the number of times any of several methods have been invoked","body":"<p>If I want to verify either that no errors or some errors have been logged, but there are multiple error logging methods, I could do something clumsy like this:</p>\n<pre><code>Logger log = mock(Logger.class);\nboolean errorsExpected;\n...\nif (errorsExpected) {\n    try {\n        verify(log, atLeastOnce()).error(any());\n    } catch (AssertionError e) {\n        verify(log, atLeastOnce()).error(any(), any());\n    }\n} else {\n    verify(log, never()).error(any());\n    verify(log, never()).error(any(), any());\n}\n</code></pre>\n<p>Is there a better way?</p>\n"},{"tags":["java","variables","methods","jupyter-notebook"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1668525913,"post_id":74447096,"comment_id":131423707,"body_markdown":"Welcome to stackoverflow.  Take the [tour] and restructure your question posting code and errors as text rather than images.  Try to create a minimal, reproducible example for others to utilize.","body":"Welcome to stackoverflow.  Take the <a href=\"https://stackoverflow.com/tour\">tour</a> and restructure your question posting code and errors as text rather than images.  Try to create a minimal, reproducible example for others to utilize."}],"answers":[{"tags":[],"owner":{"account_id":7098002,"reputation":1,"user_id":5430761,"display_name":"Cătălin Istrate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668522966,"creation_date":1668522966,"answer_id":74447386,"question_id":74447096,"body_markdown":"Java is a strongly typed language hence you always must declare the variable&#39;s type. \r\nAlso, in order to pass parameters to a function, you must specify them in the function&#39;s signature.\r\n`  public static void method2(int visitors, double money){`\r\n","title":"i keep getting &quot;Unresolved dependencies&quot;, (in the image below) in a Jupyter notebook (java)","body":"<p>Java is a strongly typed language hence you always must declare the variable's type.\nAlso, in order to pass parameters to a function, you must specify them in the function's signature.\n<code>  public static void method2(int visitors, double money){</code></p>\n"}],"owner":{"account_id":26939922,"reputation":1,"user_id":20510930,"display_name":"Dibbs Snacks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1668525405,"creation_date":1668521717,"question_id":74447096,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nMy project requires me to separate a program into multiple methods and call each method and test it, individually. Then have a separate method in which all the previous methods have been called to run the program. I can put the whole thing in one method but that is against the rules.\r\n\r\nI have defined total_money and total_visitors in method 1 (the user inputs the value), and I want to use those values in my next method but when I define them again, I get Unresolved dependencies error.\r\n\r\nI am using Jupyter Notebook.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/izhEO.png","title":"i keep getting &quot;Unresolved dependencies&quot;, (in the image below) in a Jupyter notebook (java)","body":"<p><a href=\"https://i.stack.imgur.com/izhEO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/izhEO.png\" alt=\"enter image description here\" /></a></p>\n<p>My project requires me to separate a program into multiple methods and call each method and test it, individually. Then have a separate method in which all the previous methods have been called to run the program. I can put the whole thing in one method but that is against the rules.</p>\n<p>I have defined total_money and total_visitors in method 1 (the user inputs the value), and I want to use those values in my next method but when I define them again, I get Unresolved dependencies error.</p>\n<p>I am using Jupyter Notebook.</p>\n"},{"tags":["java","rest","file-upload","jersey"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1668523872,"post_id":74447184,"comment_id":131422807,"body_markdown":"@Consumes(MediaType.MULTIPART_FORM_DATA) should probably be something like @Consumes(MediaType.APPLICATION_PDF)","body":"@Consumes(MediaType.MULTIPART_FORM_DATA) should probably be something like @Consumes(MediaType.APPLICATION_PDF)"}],"answers":[{"tags":[],"owner":{"account_id":23136889,"reputation":59,"user_id":17241007,"display_name":"Spam Garbage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668525352,"creation_date":1668525352,"answer_id":74448028,"question_id":74447184,"body_markdown":"I resolved this issue by changing param-value in web.xml , i used wrong package name, and changed jersey version from 2.9 to 2.25.1","title":"How to resolve 415 Unsupported Media Type?","body":"<p>I resolved this issue by changing param-value in web.xml , i used wrong package name, and changed jersey version from 2.9 to 2.25.1</p>\n"}],"owner":{"account_id":23136889,"reputation":59,"user_id":17241007,"display_name":"Spam Garbage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668525352,"creation_date":1668522076,"question_id":74447184,"body_markdown":"I wrote an API to upload files. I&#39;m using org.glassfish.jersey. I installed the project locally on WebSphere and wanted to test this endpoint using Postman, but got 415 Unsupported Media Type error. I tried to upload .pdf file. In Postman I&#39;m using correct url, method POST, to upload file I use Body with key type file name &quot;file&quot; and VALUE is my .pdf file\r\n\r\nMy code:\r\n\r\n    @POST\r\n\t@Path(&quot;/upload&quot;)\r\n\t@Consumes(MediaType.MULTIPART_FORM_DATA)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response uploadImage(\r\n\t    @FormDataParam(&quot;file&quot;) InputStream uploadedInputStream,\r\n\t    @FormDataParam(&quot;file&quot;) FormDataContentDisposition fileDetails) {\r\n\r\n\t   System.out.println(fileDetails.getFileName());\r\n\r\n\t   String uploadedFileLocation = &quot;C:/temp/&quot; + fileDetails.getFileName();\r\n\r\n\t   // save it\r\n\t   writeToFile(uploadedInputStream, uploadedFileLocation);\r\n\r\n\t   String output = &quot;File uploaded to : &quot; + uploadedFileLocation;\r\n\r\n\t   return Response.status(Response.Status.OK).entity(output).build();\r\n\t}\r\n\r\n\t// save uploaded file to new location\r\n\tprivate void writeToFile(InputStream uploadedInputStream,\r\n\t                   String uploadedFileLocation) {\r\n\t   try {\r\n\t      OutputStream out = new FileOutputStream(new File(\r\n\t            uploadedFileLocation));\r\n\t      int read = 0;\r\n\t      byte[] bytes = new byte[1024];\r\n\r\n\t      out = new FileOutputStream(new File(uploadedFileLocation));\r\n\t      while ((read = uploadedInputStream.read(bytes)) != -1) {\r\n\t         out.write(bytes, 0, read);\r\n\t      }\r\n\t      out.flush();\r\n\t      out.close();\r\n\t   } catch (IOException e) {\r\n\t      e.printStackTrace();\r\n\t   }\r\n\t}\r\n\r\nHere is my web.xml:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    \tversion=&quot;3.0&quot;&gt;\r\n\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/LoginServlet&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer\r\n    \t\t&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.javatpoint.rest&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;org.glassfish.jersey.filter.LoggingFilter;\r\n    \t\t\t\torg.glassfish.jersey.media.multipart.MultiPartFeature\r\n    \t\t\t&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to resolve 415 Unsupported Media Type?","body":"<p>I wrote an API to upload files. I'm using org.glassfish.jersey. I installed the project locally on WebSphere and wanted to test this endpoint using Postman, but got 415 Unsupported Media Type error. I tried to upload .pdf file. In Postman I'm using correct url, method POST, to upload file I use Body with key type file name &quot;file&quot; and VALUE is my .pdf file</p>\n<p>My code:</p>\n<pre><code>@POST\n@Path(&quot;/upload&quot;)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response uploadImage(\n    @FormDataParam(&quot;file&quot;) InputStream uploadedInputStream,\n    @FormDataParam(&quot;file&quot;) FormDataContentDisposition fileDetails) {\n\n   System.out.println(fileDetails.getFileName());\n\n   String uploadedFileLocation = &quot;C:/temp/&quot; + fileDetails.getFileName();\n\n   // save it\n   writeToFile(uploadedInputStream, uploadedFileLocation);\n\n   String output = &quot;File uploaded to : &quot; + uploadedFileLocation;\n\n   return Response.status(Response.Status.OK).entity(output).build();\n}\n\n// save uploaded file to new location\nprivate void writeToFile(InputStream uploadedInputStream,\n                   String uploadedFileLocation) {\n   try {\n      OutputStream out = new FileOutputStream(new File(\n            uploadedFileLocation));\n      int read = 0;\n      byte[] bytes = new byte[1024];\n\n      out = new FileOutputStream(new File(uploadedFileLocation));\n      while ((read = uploadedInputStream.read(bytes)) != -1) {\n         out.write(bytes, 0, read);\n      }\n      out.flush();\n      out.close();\n   } catch (IOException e) {\n      e.printStackTrace();\n   }\n}\n</code></pre>\n<p>Here is my web.xml:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_1.xsd\"\n    version=\"3.0\"&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/LoginServlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    \n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer\n        &lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.javatpoint.rest&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n            &lt;param-value&gt;org.glassfish.jersey.filter.LoggingFilter;\n                org.glassfish.jersey.media.multipart.MultiPartFeature\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668521916,"post_id":74447092,"comment_id":131421925,"body_markdown":"You never do anything with the value assigned to `line`. Currently, you read a line, assign it to `line`, and then do nothing with it at all. You don&#39;t show the code of `ListClasses`, but you probably need to populate it somehow. As an aside, never **ever** catch `NullPointerException`.","body":"You never do anything with the value assigned to <code>line</code>. Currently, you read a line, assign it to <code>line</code>, and then do nothing with it at all. You don&#39;t show the code of <code>ListClasses</code>, but you probably need to populate it somehow. As an aside, never <b>ever</b> catch <code>NullPointerException</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668524245,"post_id":74447092,"comment_id":131422972,"body_markdown":"I&#39;m guessing that the empty data is what it looks like when you create an instance of `ListClasses` using the empty ctor and none of its members gets populated. Certainly that is not in any way interacting with what you&#39;re reading and I&#39;m guessing it should, e.g. `list.add(new ListClasses(line));`","body":"I&#39;m guessing that the empty data is what it looks like when you create an instance of <code>ListClasses</code> using the empty ctor and none of its members gets populated. Certainly that is not in any way interacting with what you&#39;re reading and I&#39;m guessing it should, e.g. <code>list.add(new ListClasses(line));</code>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668525325,"creation_date":1668525325,"answer_id":74448020,"question_id":74447092,"body_markdown":"The records in you file should really represent *one* object so your class name shouldn&#39;t be a plural, but if your ctor is right, you can just do:\r\n\r\n    List&lt;ListClasses&gt; data = Files.lines(Paths.get(pathToDataFile)).map(ListClasses::new).collect(Collectors.toList());\r\n\r\n","title":"BufferedReader issue: String and Numeric values from a .txt are being retrieved as null and zeros","body":"<p>The records in you file should really represent <em>one</em> object so your class name shouldn't be a plural, but if your ctor is right, you can just do:</p>\n<pre><code>List&lt;ListClasses&gt; data = Files.lines(Paths.get(pathToDataFile)).map(ListClasses::new).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":26857166,"reputation":1,"user_id":20441300,"display_name":"Alejandro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668525325,"creation_date":1668521703,"question_id":74447092,"body_markdown":"I have tried to get string and numeric values from a text file using BufferedReader. Apparently, it is recognizing the number of records (lines) of the text file, but the values are not being retrieved as they are. String ones are being placed as &quot;null&quot; and double as zeros. I am kind of new in Java and I would like to know the possible reason of this output and also how could I solve it. \r\n\r\n![enter image description here](https://i.stack.imgur.com/adZbt.jpg)\r\n\r\nI tried to adapt the results to an arraylist as part of a table visualization, however after some tries it was not possible solve the problem:\r\n\r\n```\r\nprivate ArrayList&lt;ListClasses&gt; seeListe() {\r\n\tArrayList&lt;ListClasses&gt; list = new ArrayList&lt;&gt;();\r\n\t\r\n\tFile file = new File(&quot;C:/file/to/path/file.txt&quot;);\r\n\tBufferedReader br = null;\r\n\r\n\ttry {\t\t\t\t\r\n\t\tFileReader fr = new FileReader(file);\r\n\t\tBufferedReader breader = new BufferedReader(fr);\r\n\t\tString line = breader.readLine();\r\n\r\n\t    while (line != null) {\r\n\t    \tlist.add(new ListClasses());\r\n\t        line = breader.readLine();\r\n\t    }           \r\n\t} catch (FileNotFoundException e) {\r\n        System.out.println(&quot;File not found: &quot; + file.toString());\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;Unable to read file: &quot; + file.toString());\r\n    }\r\n\tfinally {\r\n\t\ttry {\r\n\t\t\tbr.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Unable to close file: &quot; + file.toString());\r\n        }\r\n        catch(NullPointerException ex) {\r\n        }\r\n    }\r\n\t\r\n\treturn list;\r\n}\r\n```\r\n\r\n","title":"BufferedReader issue: String and Numeric values from a .txt are being retrieved as null and zeros","body":"<p>I have tried to get string and numeric values from a text file using BufferedReader. Apparently, it is recognizing the number of records (lines) of the text file, but the values are not being retrieved as they are. String ones are being placed as &quot;null&quot; and double as zeros. I am kind of new in Java and I would like to know the possible reason of this output and also how could I solve it.</p>\n<p><img src=\"https://i.stack.imgur.com/adZbt.jpg\" alt=\"enter image description here\" /></p>\n<p>I tried to adapt the results to an arraylist as part of a table visualization, however after some tries it was not possible solve the problem:</p>\n<pre><code>private ArrayList&lt;ListClasses&gt; seeListe() {\n    ArrayList&lt;ListClasses&gt; list = new ArrayList&lt;&gt;();\n    \n    File file = new File(&quot;C:/file/to/path/file.txt&quot;);\n    BufferedReader br = null;\n\n    try {               \n        FileReader fr = new FileReader(file);\n        BufferedReader breader = new BufferedReader(fr);\n        String line = breader.readLine();\n\n        while (line != null) {\n            list.add(new ListClasses());\n            line = breader.readLine();\n        }           \n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;File not found: &quot; + file.toString());\n    } catch (IOException e) {\n        System.out.println(&quot;Unable to read file: &quot; + file.toString());\n    }\n    finally {\n        try {\n            br.close();\n        } catch (IOException e) {\n            System.out.println(&quot;Unable to close file: &quot; + file.toString());\n        }\n        catch(NullPointerException ex) {\n        }\n    }\n    \n    return list;\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-fragments","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1588514374,"creation_date":1588514374,"answer_id":61575663,"question_id":61572700,"body_markdown":"At the path `/$uid/User` you keep the data for a single user, so when you read that data you get a snapshot with the data for a single user. But your `onDataChange` loops over the results, as if there are multiple users. You should remove this loop, so:\r\n\r\n    myRef.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            User user= dataSnapshot.getValue(User.class);\r\n            ...","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.prj.User","body":"<p>At the path <code>/$uid/User</code> you keep the data for a single user, so when you read that data you get a snapshot with the data for a single user. But your <code>onDataChange</code> loops over the results, as if there are multiple users. You should remove this loop, so:</p>\n\n<pre><code>myRef.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        User user= dataSnapshot.getValue(User.class);\n        ...\n</code></pre>\n"}],"owner":{"account_id":17526101,"reputation":181,"user_id":12711159,"display_name":"shantanu srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61575663,"answer_count":1,"score":2,"last_activity_date":1668525310,"creation_date":1588500399,"question_id":61572700,"body_markdown":"I am trying to retrieve data from Firebase Realtime database and want to display them on the screen in the TextView but facing error.\r\nThe structure of my database is[![][1]][1] \r\n\r\n\r\nThe error displayed int the logcat is [![][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VfKcK.png\r\n  [2]: https://i.stack.imgur.com/ry3Bz.png\r\n\r\nThe code of UserFragment class is given below\r\n```\r\npackage com.example.prj;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link UserFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class UserFragment extends Fragment {\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n    ImageView profile;\r\n    TextView shopName, ownerName, address, phoneNumber , gstNumber, email, policyLink;\r\n    DatabaseReference myRef;\r\n    public UserFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment UserFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static UserFragment newInstance(String param1, String param2) {\r\n        UserFragment fragment = new UserFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v =  inflater.inflate(R.layout.fragment_user, container, false);\r\n        String u = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        myRef = FirebaseDatabase.getInstance().getReference(u).child(&quot;User&quot;);\r\n        profile = v.findViewById(R.id.profile_image);\r\n        shopName = v.findViewById(R.id.owner_name);\r\n        ownerName = v.findViewById(R.id.owner_name);\r\n        address = v.findViewById(R.id.address);\r\n        phoneNumber = v.findViewById(R.id.phone_number);\r\n        gstNumber = v.findViewById(R.id.gst_number);\r\n        email = v.findViewById(R.id.email);\r\n        policyLink = v.findViewById(R.id.policy_link);\r\n\r\n        myRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for(DataSnapshot detailSnapshot:dataSnapshot.getChildren())\r\n                {\r\n                    User user= detailSnapshot.getValue(User.class);\r\n                    shopName.setText(user.getShopname());\r\n                    ownerName.setText(user.getOwner());\r\n                    address.setText(user.getAddress());\r\n                   String p = user.getPhone1()+&quot; , &quot;+user.getPhone2();\r\n                    phoneNumber.setText(p);\r\n                    gstNumber.setText(user.getGst());\r\n                    email.setText(user.getEmail());\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n        return  v;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\nThe XML file of the layout of UserFragment is given below\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\nandroid:layout_width=&quot;match_parent&quot;\r\nandroid:layout_height=&quot;match_parent&quot;\r\ntools:context=&quot;.UserFragment&quot;&gt;\r\n\r\n\r\n&lt;ImageView\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginTop=&quot;10dp&quot;\r\n    android:background=&quot;@drawable/profile_pic&quot;\r\n    android:layout_marginRight=&quot;20dp&quot;\r\n    android:layout_marginLeft=&quot;20dp&quot;\r\n    android:id=&quot;@+id/logo&quot;\r\n    /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_below=&quot;@+id/logo&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:id=&quot;@+id/shop_name&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_below=&quot;@+id/shop_name&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:id=&quot;@+id/owner_name&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_below=&quot;@+id/owner_name&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:id=&quot;@+id/address&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_below=&quot;@+id/address&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:id=&quot;@+id/phone_number&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_below=&quot;@+id/phone_number&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:id=&quot;@+id/gst_number&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_below=&quot;@+id/gst_number&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:id=&quot;@+id/email&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_below=&quot;@+id/email&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:id=&quot;@+id/policy_link&quot;\r\n        /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\nThe code for User class is given below\r\n```\r\npackage com.example.prj;\r\n\r\npublic class User {\r\n    private static final String TAG = &quot;User&quot;;\r\n    String address, email, gst, owner, phone1, phone2, shopname;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(String address, String email, String gst, String owner, String phone1, String phone2, String shopname) {\r\n        this.address = address;\r\n        this.email = email;\r\n        this.gst = gst;\r\n        this.owner = owner;\r\n        this.phone1 = phone1;\r\n        this.phone2 = phone2;\r\n        this.shopname = shopname;\r\n    }\r\n\r\n    public static String getTAG() {\r\n        return TAG;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getGst() {\r\n        return gst;\r\n    }\r\n\r\n    public void setGst(String gst) {\r\n        this.gst = gst;\r\n    }\r\n\r\n    public String getOwner() {\r\n        return owner;\r\n    }\r\n\r\n    public void setOwner(String owner) {\r\n        this.owner = owner;\r\n    }\r\n\r\n    public String getPhone1() {\r\n        return phone1;\r\n    }\r\n\r\n    public void setPhone1(String phone1) {\r\n        this.phone1 = phone1;\r\n    }\r\n\r\n    public String getPhone2() {\r\n        return phone2;\r\n    }\r\n\r\n    public void setPhone2(String phone2) {\r\n        this.phone2 = phone2;\r\n    }\r\n\r\n    public String getShopname() {\r\n        return shopname;\r\n    }\r\n\r\n    public void setShopname(String shopname) {\r\n        this.shopname = shopname;\r\n    }\r\n}\r\n```\r\nI am trying to display the value of these child node in the Firebase but unable to do so because of the error. \r\n","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.prj.User","body":"<p>I am trying to retrieve data from Firebase Realtime database and want to display them on the screen in the TextView but facing error.\nThe structure of my database is<a href=\"https://i.stack.imgur.com/VfKcK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VfKcK.png\" alt=\"\"></a> </p>\n\n<p>The error displayed int the logcat is <a href=\"https://i.stack.imgur.com/ry3Bz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ry3Bz.png\" alt=\"\"></a></p>\n\n<p>The code of UserFragment class is given below</p>\n\n<pre><code>package com.example.prj;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link UserFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class UserFragment extends Fragment {\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = \"param1\";\n    private static final String ARG_PARAM2 = \"param2\";\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n    ImageView profile;\n    TextView shopName, ownerName, address, phoneNumber , gstNumber, email, policyLink;\n    DatabaseReference myRef;\n    public UserFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment UserFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static UserFragment newInstance(String param1, String param2) {\n        UserFragment fragment = new UserFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View v =  inflater.inflate(R.layout.fragment_user, container, false);\n        String u = FirebaseAuth.getInstance().getCurrentUser().getUid();\n        myRef = FirebaseDatabase.getInstance().getReference(u).child(\"User\");\n        profile = v.findViewById(R.id.profile_image);\n        shopName = v.findViewById(R.id.owner_name);\n        ownerName = v.findViewById(R.id.owner_name);\n        address = v.findViewById(R.id.address);\n        phoneNumber = v.findViewById(R.id.phone_number);\n        gstNumber = v.findViewById(R.id.gst_number);\n        email = v.findViewById(R.id.email);\n        policyLink = v.findViewById(R.id.policy_link);\n\n        myRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                for(DataSnapshot detailSnapshot:dataSnapshot.getChildren())\n                {\n                    User user= detailSnapshot.getValue(User.class);\n                    shopName.setText(user.getShopname());\n                    ownerName.setText(user.getOwner());\n                    address.setText(user.getAddress());\n                   String p = user.getPhone1()+\" , \"+user.getPhone2();\n                    phoneNumber.setText(p);\n                    gstNumber.setText(user.getGst());\n                    email.setText(user.getEmail());\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n        return  v;\n    }\n\n\n\n}\n</code></pre>\n\n<p>The XML file of the layout of UserFragment is given below</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".UserFragment\"&gt;\n\n\n&lt;ImageView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"10dp\"\n    android:background=\"@drawable/profile_pic\"\n    android:layout_marginRight=\"20dp\"\n    android:layout_marginLeft=\"20dp\"\n    android:id=\"@+id/logo\"\n    /&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_below=\"@+id/logo\"\n        android:layout_marginTop=\"5dp\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/shop_name\"\n        /&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_below=\"@+id/shop_name\"\n        android:layout_marginTop=\"5dp\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/owner_name\"\n        /&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_below=\"@+id/owner_name\"\n        android:layout_marginTop=\"5dp\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/address\"\n        /&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_below=\"@+id/address\"\n        android:layout_marginTop=\"5dp\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/phone_number\"\n        /&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_below=\"@+id/phone_number\"\n        android:layout_marginTop=\"5dp\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/gst_number\"\n        /&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_below=\"@+id/gst_number\"\n        android:layout_marginTop=\"5dp\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/email\"\n        /&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_below=\"@+id/email\"\n        android:layout_marginTop=\"5dp\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/policy_link\"\n        /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>The code for User class is given below</p>\n\n<pre><code>package com.example.prj;\n\npublic class User {\n    private static final String TAG = \"User\";\n    String address, email, gst, owner, phone1, phone2, shopname;\n\n    public User() {\n    }\n\n    public User(String address, String email, String gst, String owner, String phone1, String phone2, String shopname) {\n        this.address = address;\n        this.email = email;\n        this.gst = gst;\n        this.owner = owner;\n        this.phone1 = phone1;\n        this.phone2 = phone2;\n        this.shopname = shopname;\n    }\n\n    public static String getTAG() {\n        return TAG;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getGst() {\n        return gst;\n    }\n\n    public void setGst(String gst) {\n        this.gst = gst;\n    }\n\n    public String getOwner() {\n        return owner;\n    }\n\n    public void setOwner(String owner) {\n        this.owner = owner;\n    }\n\n    public String getPhone1() {\n        return phone1;\n    }\n\n    public void setPhone1(String phone1) {\n        this.phone1 = phone1;\n    }\n\n    public String getPhone2() {\n        return phone2;\n    }\n\n    public void setPhone2(String phone2) {\n        this.phone2 = phone2;\n    }\n\n    public String getShopname() {\n        return shopname;\n    }\n\n    public void setShopname(String shopname) {\n        this.shopname = shopname;\n    }\n}\n</code></pre>\n\n<p>I am trying to display the value of these child node in the Firebase but unable to do so because of the error. </p>\n"},{"tags":["java","rabbitmq","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":2929049,"reputation":4119,"user_id":2509773,"display_name":"Ilayaperumal Gopinathan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1478610439,"creation_date":1478610439,"answer_id":40487739,"question_id":40485421,"body_markdown":"You can achieve that by setting `spring.cloud.stream.dynamicDestinations` property  to a list of destination names (if you know the name beforehand) or keeping it as empty. The `BinderAwareChannelResolver` takes care of dynamically creating/binding the outbound channel for these dynamic destinations.\r\n\r\nThere is an out of the box `router` [application][1] available which does the similar thing.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud-stream-app-starters/router/blob/master/spring-cloud-starter-stream-sink-router/src/main/java/org/springframework/cloud/stream/app/router/sink/RouterSinkConfiguration.java#L48","title":"Spring cloud stream to support routing messages dynamically","body":"<p>You can achieve that by setting <code>spring.cloud.stream.dynamicDestinations</code> property  to a list of destination names (if you know the name beforehand) or keeping it as empty. The <code>BinderAwareChannelResolver</code> takes care of dynamically creating/binding the outbound channel for these dynamic destinations.</p>\n\n<p>There is an out of the box <code>router</code> <a href=\"https://github.com/spring-cloud-stream-app-starters/router/blob/master/spring-cloud-starter-stream-sink-router/src/main/java/org/springframework/cloud/stream/app/router/sink/RouterSinkConfiguration.java#L48\" rel=\"nofollow noreferrer\">application</a> available which does the similar thing.</p>\n"},{"tags":[],"owner":{"account_id":22979257,"reputation":61,"user_id":17106454,"display_name":"Axiomatic-1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668525045,"creation_date":1668524229,"answer_id":74447726,"question_id":40485421,"body_markdown":"You can use StreamBridge with topicname and spring-cloud will bind it with destination automatically in runtime. \r\n\r\n    @Autowired\r\n    private final StreamBridge streamBridge;\r\n      \r\n    public void sendDynamically(Message message, String topicName) {\r\n        streamBridge.send(route, topicName);\r\n    }\r\n\r\nhttps://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_streambridge_and_dynamic_destinations","title":"Spring cloud stream to support routing messages dynamically","body":"<p>You can use StreamBridge with topicname and spring-cloud will bind it with destination automatically in runtime.</p>\n<pre><code>@Autowired\nprivate final StreamBridge streamBridge;\n  \npublic void sendDynamically(Message message, String topicName) {\n    streamBridge.send(route, topicName);\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_streambridge_and_dynamic_destinations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_streambridge_and_dynamic_destinations</a></p>\n"}],"owner":{"account_id":2642027,"reputation":455,"user_id":2285473,"accept_rate":88,"display_name":"JasonS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40487739,"answer_count":2,"score":1,"last_activity_date":1668525045,"creation_date":1478603595,"question_id":40485421,"body_markdown":"i want to create a common project (using spring cloud stream) to route messages to different (consumer) projects dynamically according to message content. (rabbitmq as the message broker)\r\n\r\ndoes spring cloud stream support it? if not, any proposed way to accomplish that? thx","title":"Spring cloud stream to support routing messages dynamically","body":"<p>i want to create a common project (using spring cloud stream) to route messages to different (consumer) projects dynamically according to message content. (rabbitmq as the message broker)</p>\n\n<p>does spring cloud stream support it? if not, any proposed way to accomplish that? thx</p>\n"},{"tags":["java","datastage","ibm-infosphere"],"comments":[{"owner":{"account_id":8910696,"reputation":466,"user_id":6651050,"display_name":"mswatosh"},"score":0,"creation_date":1668524809,"post_id":74446569,"comment_id":131423220,"body_markdown":"This is likely a permissions issue, there are some suggestions in this link:\nhttps://www.ibm.com/support/pages/starting-websphere-application-server-gives-warning-message-could-not-lock-user-prefs\n\nOne other thing to check is that there is free disk space on the failing system.","body":"This is likely a permissions issue, there are some suggestions in this link: <a href=\"https://www.ibm.com/support/pages/starting-websphere-application-server-gives-warning-message-could-not-lock-user-prefs\" rel=\"nofollow noreferrer\">ibm.com/support/pages/&hellip;</a>  One other thing to check is that there is free disk space on the failing system."},{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1668524956,"post_id":74446569,"comment_id":131423266,"body_markdown":"Please avoid using words like *lakh* that are not globally understood","body":"Please avoid using words like <i>lakh</i> that are not globally understood"}],"owner":{"account_id":26886347,"reputation":3,"user_id":20465854,"display_name":"Rohith Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668524937,"creation_date":1668519305,"question_id":74446569,"body_markdown":"In a datastage parallel job we are getting a warning\r\n\r\n&gt; user prefs: java.util.prefs.BackingStoreException: Couldn&#39;t get file lock\r\n\r\n**Observations :** The error is coming up only for one job, and for only one set of file (large in size 400 000 to 500 000 records) in that job. \r\nSometimes it is observing in other jobs as well, But many jobs under the same platform is working fine.\r\n\r\n\r\n[IBM Doc](https://www.ibm.com/support/pages/ibm-infosphere-datastage-job-using-hierarchichal-stage-gets-multiple-warnings-0-couldnt-flush-user-prefs-javautilprefsbackingstoreexception-couldnt-get-file-lock)\r\n\r\nAs per the above IBM doc we set the correct value for JAVA_HOME variable, But still the issue persists. \r\n","title":"Couldn&#39;t get File Lock","body":"<p>In a datastage parallel job we are getting a warning</p>\n<blockquote>\n<p>user prefs: java.util.prefs.BackingStoreException: Couldn't get file lock</p>\n</blockquote>\n<p><strong>Observations :</strong> The error is coming up only for one job, and for only one set of file (large in size 400 000 to 500 000 records) in that job.\nSometimes it is observing in other jobs as well, But many jobs under the same platform is working fine.</p>\n<p><a href=\"https://www.ibm.com/support/pages/ibm-infosphere-datastage-job-using-hierarchichal-stage-gets-multiple-warnings-0-couldnt-flush-user-prefs-javautilprefsbackingstoreexception-couldnt-get-file-lock\" rel=\"nofollow noreferrer\">IBM Doc</a></p>\n<p>As per the above IBM doc we set the correct value for JAVA_HOME variable, But still the issue persists.</p>\n"},{"tags":["java","maven","groovy","gmaven"],"answers":[{"tags":[],"owner":{"account_id":23524,"reputation":28912,"user_id":59015,"accept_rate":69,"display_name":"Marty Pitt"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1351459316,"creation_date":1351459316,"answer_id":13113143,"question_id":13113142,"body_markdown":"This is caused by a missing `providerSelection` element from the GMaven plugin definition.\r\n\r\nThe correct GMaven definition looks as follows:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;gmaven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;providerSelection&gt;1.8&lt;/providerSelection&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generateStubs&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generateTestStubs&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;testCompile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n","title":"GMaven build fails with &quot;An API incompatibility was encountered&quot;","body":"<p>This is caused by a missing <code>providerSelection</code> element from the GMaven plugin definition.</p>\n\n<p>The correct GMaven definition looks as follows:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n            &lt;artifactId&gt;gmaven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;providerSelection&gt;1.8&lt;/providerSelection&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generateStubs&lt;/goal&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;generateTestStubs&lt;/goal&gt;\n                        &lt;goal&gt;testCompile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2373029,"reputation":21,"user_id":2077186,"display_name":"user2077186"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360967870,"creation_date":1360967870,"answer_id":14904551,"question_id":13113142,"body_markdown":"With a small modification to Marty&#39;s solution I was able to get it to work:\r\n\r\n\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gmaven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5&lt;/version&gt;\r\n            \r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;providerSelection&gt;2.0&lt;/providerSelection&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;generateStubs&lt;/goal&gt;\r\n                        &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;goal&gt;generateTestStubs&lt;/goal&gt;\r\n                        &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n","title":"GMaven build fails with &quot;An API incompatibility was encountered&quot;","body":"<p>With a small modification to Marty's solution I was able to get it to work:</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n        &lt;artifactId&gt;gmaven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.5&lt;/version&gt;\n\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;configuration&gt;\n                    &lt;providerSelection&gt;2.0&lt;/providerSelection&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;generateStubs&lt;/goal&gt;\n                    &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;goal&gt;generateTestStubs&lt;/goal&gt;\n                    &lt;goal&gt;testCompile&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2977730,"reputation":727,"user_id":2528433,"accept_rate":86,"display_name":"Pushkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425906542,"creation_date":1425906542,"answer_id":28942781,"question_id":13113142,"body_markdown":"Same error I had in my project but after long diagnosis found that jar associated with below dependency was corrupted. \r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"GMaven build fails with &quot;An API incompatibility was encountered&quot;","body":"<p>Same error I had in my project but after long diagnosis found that jar associated with below dependency was corrupted. </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n    &lt;version&gt;1.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9751904,"reputation":180,"user_id":7229904,"display_name":"dKucharczyk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668524918,"creation_date":1668510741,"answer_id":74444656,"question_id":13113142,"body_markdown":"Your problem might be caused by the Java version. In that case I recommend to downgrade it from Java 17 to Java 8.","title":"GMaven build fails with &quot;An API incompatibility was encountered&quot;","body":"<p>Your problem might be caused by the Java version. In that case I recommend to downgrade it from Java 17 to Java 8.</p>\n"}],"owner":{"account_id":23524,"reputation":28912,"user_id":59015,"accept_rate":69,"display_name":"Marty Pitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11352,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1668524918,"creation_date":1351459316,"question_id":13113142,"body_markdown":"While trying to compile my project using the Maven `Gmaven` plugin, the following error occurred:\r\n\r\n&gt;`[ERROR] Failed to execute goal org.codehaus.gmaven:gmaven-plugin:1.4:compile (default) on project concorde-web: Execution default of goal org.codehaus.gmaven:gmaven-plugin:1.4:compile failed: An API incompatibility was encountered while executing org.codehaus.gmaven:gmaven-plugin:1.4:compile: java.lang.NoSuchMethodError: org.codehaus.groovy.ast.ModuleNode.getStarImports()Ljava/util/List;`\r\n\r\n\r\nGoogling suggests that this is because of multiple groovy versions ending up in my dependency chain.  However, after checking the full dependency tree, I find that there is only one dependency in the full tree.\r\n\r\nHere&#39;s the excerpt of my pom.xml:\r\n\r\n\t\t&lt;!-- Groovy dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;!-- ... snip ... --&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;gmaven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generateStubs&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generateTestStubs&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;testCompile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\n","title":"GMaven build fails with &quot;An API incompatibility was encountered&quot;","body":"<p>While trying to compile my project using the Maven <code>Gmaven</code> plugin, the following error occurred:</p>\n\n<blockquote>\n  <p><code>[ERROR] Failed to execute goal org.codehaus.gmaven:gmaven-plugin:1.4:compile (default) on project concorde-web: Execution default of goal org.codehaus.gmaven:gmaven-plugin:1.4:compile failed: An API incompatibility was encountered while executing org.codehaus.gmaven:gmaven-plugin:1.4:compile: java.lang.NoSuchMethodError: org.codehaus.groovy.ast.ModuleNode.getStarImports()Ljava/util/List;</code></p>\n</blockquote>\n\n<p>Googling suggests that this is because of multiple groovy versions ending up in my dependency chain.  However, after checking the full dependency tree, I find that there is only one dependency in the full tree.</p>\n\n<p>Here's the excerpt of my pom.xml:</p>\n\n<pre><code>    &lt;!-- Groovy dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- ... snip ... --&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n            &lt;artifactId&gt;gmaven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generateStubs&lt;/goal&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;generateTestStubs&lt;/goal&gt;\n                        &lt;goal&gt;testCompile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n"},{"tags":["java","image","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668524653,"creation_date":1402131591,"answer_id":24095589,"question_id":24095572,"body_markdown":"You can use the `getType()` method from `BufferedImage` objects:\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import javax.imageio.ImageIO;\r\n    import java.io.File;\r\n    \r\n    // ...\r\n\r\n    BufferedImage image = ImageIO.read(new File(filePath));\r\n    System.out.println(image.getType());\r\n\r\nAccording to [Java Docs][1]:\r\n\r\n&gt; Returns the image type. If it is not one of the known types, TYPE_CUSTOM is returned.\r\n\r\nOn OpenJDK 11 running on x86_64 linux platform the above code snippet returns `BufferedImage.TYPE_4BYTE_ABGR` (integer value 6).\r\n\r\n**Edit:**\r\n\r\nRegarding the last question, you can read this [well-elaborated answer][2]. In short:\r\n\r\n&gt; No, there is no direct relationship between the `BufferedImage` types and file formats.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getType%28%29\r\n  [2]: https://stackoverflow.com/a/21077575/2670792","title":"What is the default type of a BufferedImage?","body":"<p>You can use the <code>getType()</code> method from <code>BufferedImage</code> objects:</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport java.io.File;\n\n// ...\n\nBufferedImage image = ImageIO.read(new File(filePath));\nSystem.out.println(image.getType());\n</code></pre>\n<p>According to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getType%28%29\" rel=\"nofollow noreferrer\">Java Docs</a>:</p>\n<blockquote>\n<p>Returns the image type. If it is not one of the known types, TYPE_CUSTOM is returned.</p>\n</blockquote>\n<p>On OpenJDK 11 running on x86_64 linux platform the above code snippet returns <code>BufferedImage.TYPE_4BYTE_ABGR</code> (integer value 6).</p>\n<p><strong>Edit:</strong></p>\n<p>Regarding the last question, you can read this <a href=\"https://stackoverflow.com/a/21077575/2670792\">well-elaborated answer</a>. In short:</p>\n<blockquote>\n<p>No, there is no direct relationship between the <code>BufferedImage</code> types and file formats.</p>\n</blockquote>\n"}],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1904,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":24095589,"answer_count":1,"score":0,"last_activity_date":1668524653,"creation_date":1402131475,"question_id":24095572,"body_markdown":"As we know, there are some types of BufferedImage like BufferedImage.TYPE_3BYTE_BGR , BufferedImage.TYPE_INT_ARGB , BufferedImage.TYPE_USHORT_565_RGB and so on.\r\n\r\nIf I only use \r\n\r\n    BufferedImage image = ImageIO.read(new pngFile(filePath));\r\n\r\nWhat is the type of image.Does it has something to do with the file&#39;s format like PNG?\r\n\r\n","title":"What is the default type of a BufferedImage?","body":"<p>As we know, there are some types of BufferedImage like BufferedImage.TYPE_3BYTE_BGR , BufferedImage.TYPE_INT_ARGB , BufferedImage.TYPE_USHORT_565_RGB and so on.</p>\n\n<p>If I only use </p>\n\n<pre><code>BufferedImage image = ImageIO.read(new pngFile(filePath));\n</code></pre>\n\n<p>What is the type of image.Does it has something to do with the file's format like PNG?</p>\n"},{"tags":["java","spring","hibernate","caching","redis"],"comments":[{"owner":{"account_id":22861885,"reputation":464,"user_id":17005821,"display_name":"Igor"},"score":0,"creation_date":1668561328,"post_id":74447800,"comment_id":131434139,"body_markdown":"It looks like your Redis server is not configured correctly, or is not running. Try checking the Redis server logs to see if there are any error messages.","body":"It looks like your Redis server is not configured correctly, or is not running. Try checking the Redis server logs to see if there are any error messages."}],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668524529,"creation_date":1668524529,"question_id":74447800,"body_markdown":"I&#39;m working on java spring application where I use RedissonRegionFactory as hibernate second level cache provide, I&#39;m using this maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;redisson-hibernate-52&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.17.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHowever running the project causes this error:\r\n\r\n    org.redisson.client.RedisResponseTimeoutException: Redis server response timeout (3000 ms) occured after 0 retry attempts, is non-idempotent command: false Check connection with Redis node: 127.0.0.1/127.0.0.1:6379 for TCP packet drops.  Try to increase nettyThreads and/or timeout settings. Command: (EVAL), params: [if redis.call(&#39;setnx&#39;, KEYS[6], ARGV[4]) == 0 then return -1;end;redis.call(&#39;expire&#39;, KEYS[6], ARGV[3]); local expiredKeys1 = redis.call(&#39;zrangebyscore&#39;, KEYS[2], 0, ARGV[1], &#39;limit&#39;, 0, ARGV[2]); for i, key in ipairs(expiredKeys1) do local v = redis.call(&#39;hget&#39;, KEYS[1], key); if v ~= false then local t, val = struct.unpack(&#39;dLc0&#39;, v); local msg = struct.pack(&#39;Lc0Lc0&#39;, string.len(key), key, string.len(val), val); local listeners = redis.call(&#39;publish&#39;, KEYS[4], msg); if (listeners == 0) then break;end; end;end;for i=1, #expiredKeys1, 5000 do redis.call(&#39;zrem&#39;, KEYS[5], unpack(expiredKeys1, i, math.min(i+4999, table.getn(expiredKeys1)))); redis.call(&#39;zrem&#39;, KEYS[3], unpack(expiredKeys1, i, math.min(i+4999, table.getn(expiredKeys1)))); redis.call(&#39;zrem&#39;, KEYS[2], unpack(expiredKeys1, i, math.min(i+4999, table.getn(expiredKeys1)))); redis.call(&#39;hdel&#39;, KEYS[1], unpack(expiredKeys1, i, math.min(i+4999, table.getn(expiredKeys1)))); end; local expiredKeys2 = redis.call(&#39;zrangebyscore&#39;, KEYS[...]\r\n\r\nI tried to increase the timeout for my client to 30000 ,by configuring my client in this way\r\n\r\n    final Config redissonConfig = new Config();\r\n     redissonConfig.useSingleServer()\r\n                .setKeepAlive(true)\r\n                .setConnectTimeout(30000 )\r\n                .setRetryAttempts(5)\r\n                .setDnsMonitoringInterval(300)\r\n                .setAddress(&quot;redis://127.0.0.1:6379&quot;);\r\n        return Redisson.create(redissonConfig);\r\n\r\nany help is appreciated!","title":"What causes Redisson Error MapCacheEvictionTask?","body":"<p>I'm working on java spring application where I use RedissonRegionFactory as hibernate second level cache provide, I'm using this maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n    &lt;artifactId&gt;redisson-hibernate-52&lt;/artifactId&gt;\n    &lt;version&gt;3.17.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However running the project causes this error:</p>\n<pre><code>org.redisson.client.RedisResponseTimeoutException: Redis server response timeout (3000 ms) occured after 0 retry attempts, is non-idempotent command: false Check connection with Redis node: 127.0.0.1/127.0.0.1:6379 for TCP packet drops.  Try to increase nettyThreads and/or timeout settings. Command: (EVAL), params: [if redis.call('setnx', KEYS[6], ARGV[4]) == 0 then return -1;end;redis.call('expire', KEYS[6], ARGV[3]); local expiredKeys1 = redis.call('zrangebyscore', KEYS[2], 0, ARGV[1], 'limit', 0, ARGV[2]); for i, key in ipairs(expiredKeys1) do local v = redis.call('hget', KEYS[1], key); if v ~= false then local t, val = struct.unpack('dLc0', v); local msg = struct.pack('Lc0Lc0', string.len(key), key, string.len(val), val); local listeners = redis.call('publish', KEYS[4], msg); if (listeners == 0) then break;end; end;end;for i=1, #expiredKeys1, 5000 do redis.call('zrem', KEYS[5], unpack(expiredKeys1, i, math.min(i+4999, table.getn(expiredKeys1)))); redis.call('zrem', KEYS[3], unpack(expiredKeys1, i, math.min(i+4999, table.getn(expiredKeys1)))); redis.call('zrem', KEYS[2], unpack(expiredKeys1, i, math.min(i+4999, table.getn(expiredKeys1)))); redis.call('hdel', KEYS[1], unpack(expiredKeys1, i, math.min(i+4999, table.getn(expiredKeys1)))); end; local expiredKeys2 = redis.call('zrangebyscore', KEYS[...]\n</code></pre>\n<p>I tried to increase the timeout for my client to 30000 ,by configuring my client in this way</p>\n<pre><code>final Config redissonConfig = new Config();\n redissonConfig.useSingleServer()\n            .setKeepAlive(true)\n            .setConnectTimeout(30000 )\n            .setRetryAttempts(5)\n            .setDnsMonitoringInterval(300)\n            .setAddress(&quot;redis://127.0.0.1:6379&quot;);\n    return Redisson.create(redissonConfig);\n</code></pre>\n<p>any help is appreciated!</p>\n"},{"tags":["java","android","android-bluetooth","spp"],"owner":{"account_id":2360417,"reputation":41,"user_id":2067206,"display_name":"Salman Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668524522,"creation_date":1668523905,"question_id":74447646,"body_markdown":"I am trying to connect to a bluetooth device via SPP and read from input stream. Here is my call() method of Future class that runs on a Single thread executor:\r\n`\r\n```\r\npublic Void call() {\r\n  while (!Thread.currentThread().isInterrupted()) {\r\n    try {\r\n      byte[] buffer = new byte[1024];\r\n      // reading PID\r\n      btInputStream.read(buffer, 0, 1);\r\n      int pId = ByteBuffer.wrap(buffer).order(java.nio.ByteOrder.LITTLE_ENDIAN).getInt();\r\n      buffer = new byte[1024];\r\n\r\n      btInputStream.read(buffer, 0, 1);\r\n      int count = ByteBuffer.wrap(buffer).order(java.nio.ByteOrder.LITTLE_ENDIAN).getInt();\r\n      buffer = new byte[1024];\r\n\r\n      // reading payload\r\n      btInputStream.read(buffer, 0, 2);\r\n      int payload = ByteBuffer.wrap(buffer).order(java.nio.ByteOrder.LITTLE_ENDIAN).getInt();\r\n      buffer = new byte[1024];\r\n\r\n      // reading timestamp\r\n      btInputStream.read(buffer, 0, 4);\r\n      double timeStamp = ByteBuffer.wrap(buffer).order(java.nio.ByteOrder.LITTLE_ENDIAN).getInt();\r\n\r\n      // reading payload data\r\n      buffer = new byte[payload - 4];\r\n      int read = btInputStream.read(buffer, 0, buffer.length);\r\n\r\n      buffer = null;\r\n    } catch (IOException e) {\r\n      Log.e(Utils.TAG, &quot;Error reading input stream. Exiting.&quot;, e);\r\n      break;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n```\r\n`\r\n\r\nReading from input stream works fine in Pixel phones with Android 13 but throws IO exception in Samsung A22(Android 12) after some time and in some Android 11 phones as well. Could anyone point me to the right direction? Thanks in advance!\r\n\r\n\r\n\r\nHere is my error log:\r\n\r\n```\r\nE/Explore: Error reading input stream. Exiting.\r\n    java.io.IOException: bt socket closed, read return: -1\r\n        at android.bluetooth.BluetoothSocket.read(BluetoothSocket.java:751)\r\n        at android.bluetooth.BluetoothInputStream.read(BluetoothInputStream.java:91)\r\n        at com.mentalab.service.decode.ParseRawDataTask.call(MyTask.java:71)\r\n        at com.mentalab.service.decode.ParseRawDataTask.call(MyTask.java:15)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n```\r\n","title":"&quot;java.io.IOException: bt socket closed&quot; in Android 12","body":"<p>I am trying to connect to a bluetooth device via SPP and read from input stream. Here is my call() method of Future class that runs on a Single thread executor:\n`</p>\n<pre><code>public Void call() {\n  while (!Thread.currentThread().isInterrupted()) {\n    try {\n      byte[] buffer = new byte[1024];\n      // reading PID\n      btInputStream.read(buffer, 0, 1);\n      int pId = ByteBuffer.wrap(buffer).order(java.nio.ByteOrder.LITTLE_ENDIAN).getInt();\n      buffer = new byte[1024];\n\n      btInputStream.read(buffer, 0, 1);\n      int count = ByteBuffer.wrap(buffer).order(java.nio.ByteOrder.LITTLE_ENDIAN).getInt();\n      buffer = new byte[1024];\n\n      // reading payload\n      btInputStream.read(buffer, 0, 2);\n      int payload = ByteBuffer.wrap(buffer).order(java.nio.ByteOrder.LITTLE_ENDIAN).getInt();\n      buffer = new byte[1024];\n\n      // reading timestamp\n      btInputStream.read(buffer, 0, 4);\n      double timeStamp = ByteBuffer.wrap(buffer).order(java.nio.ByteOrder.LITTLE_ENDIAN).getInt();\n\n      // reading payload data\n      buffer = new byte[payload - 4];\n      int read = btInputStream.read(buffer, 0, buffer.length);\n\n      buffer = null;\n    } catch (IOException e) {\n      Log.e(Utils.TAG, &quot;Error reading input stream. Exiting.&quot;, e);\n      break;\n    }\n  }\n  return null;\n}\n</code></pre>\n<p>`</p>\n<p>Reading from input stream works fine in Pixel phones with Android 13 but throws IO exception in Samsung A22(Android 12) after some time and in some Android 11 phones as well. Could anyone point me to the right direction? Thanks in advance!</p>\n<p>Here is my error log:</p>\n<pre><code>E/Explore: Error reading input stream. Exiting.\n    java.io.IOException: bt socket closed, read return: -1\n        at android.bluetooth.BluetoothSocket.read(BluetoothSocket.java:751)\n        at android.bluetooth.BluetoothInputStream.read(BluetoothInputStream.java:91)\n        at com.mentalab.service.decode.ParseRawDataTask.call(MyTask.java:71)\n        at com.mentalab.service.decode.ParseRawDataTask.call(MyTask.java:15)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","option-type"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":3,"creation_date":1655273354,"post_id":72626469,"comment_id":128290341,"body_markdown":"`Optional`s avoid `null`s, not handle Exceptions - so the proper way to handle this would be just `if (request.getId() != null) {`","body":"<code>Optional</code>s avoid <code>null</code>s, not handle Exceptions - so the proper way to handle this would be just <code>if (request.getId() != null) {</code>"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1655273815,"post_id":72626469,"comment_id":128290482,"body_markdown":"Try using `orElseThrow`","body":"Try using <code>orElseThrow</code>"},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1655274096,"post_id":72626469,"comment_id":128290541,"body_markdown":"@racraman I thought that, but look for a built in method for this kind of situations. Any proper solution?","body":"@racraman I thought that, but look for a built in method for this kind of situations. Any proper solution?"},{"owner":{"display_name":"user19254373"},"score":0,"creation_date":1655274116,"post_id":72626469,"comment_id":128290548,"body_markdown":"@Harsh I do not want to throw anything, instead create a new instance.","body":"@Harsh I do not want to throw anything, instead create a new instance."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1655274472,"post_id":72626469,"comment_id":128290646,"body_markdown":"@Jonathan No Built-in methods for Optionals to catch Exceptions - so your choice of the various ways to filter out the `null` before findById, or catch the Exception afterwards.","body":"@Jonathan No Built-in methods for Optionals to catch Exceptions - so your choice of the various ways to filter out the <code>null</code> before findById, or catch the Exception afterwards."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1655274523,"post_id":72626469,"comment_id":128290663,"body_markdown":"It isn&#39;t working in your case because , it is throwing exception even before the call is made to repository! You can get the result in Optional but make sure `request.getId()` is not null, since that isn&#39;t wrapped using Optional class ! I hope this explains","body":"It isn&#39;t working in your case because , it is throwing exception even before the call is made to repository! You can get the result in Optional but make sure <code>request.getId()</code> is not null, since that isn&#39;t wrapped using Optional class ! I hope this explains"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655274279,"creation_date":1655273906,"answer_id":72626669,"question_id":72626469,"body_markdown":"How about null-handling of the `request.getId()` and avoiding falling into the exception? \r\n\r\nUse one of the following, assuming `employeeRepository#findById` returns `Optional&lt;Employee&gt;`:\r\n\r\n```java\r\nEmployee employee = Optional.ofNullable(request.getId())\r\n                            .flatMap(id -&gt; employeeRepository.findById(id))\r\n                            .orElse(new Employee());\r\n```\r\n```java\r\nEmployee employee = Optional.ofNullable(request.getId())\r\n                            .flatMap(EmployeeRepository::findById)\r\n                            .ofElse(new Employee());","title":"Optional orElse() cannot return alternative value when an Exception occurs","body":"<p>How about null-handling of the <code>request.getId()</code> and avoiding falling into the exception?</p>\n<p>Use one of the following, assuming <code>employeeRepository#findById</code> returns <code>Optional&lt;Employee&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = Optional.ofNullable(request.getId())\n                            .flatMap(id -&gt; employeeRepository.findById(id))\n                            .orElse(new Employee());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = Optional.ofNullable(request.getId())\n                            .flatMap(EmployeeRepository::findById)\n                            .ofElse(new Employee());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655274422,"creation_date":1655274039,"answer_id":72626698,"question_id":72626469,"body_markdown":"As mentioned in the comments, the `Optional` doesn&#39;t do anything in this case. To solve it you need to handle the `null` value by yourself. You could do this by making the `request.getId()` return an `Optional` by itself (since it can be `null`).\r\n\r\nNow you can chain these `Optional`&#39;s using the `flatMap()` operator.\r\n\r\n```java\r\npublic class MyRequestClass {\r\n    private Long id;\r\n\r\n    // Change your getter to this, or make a new one, eg. &#39;getOptionalId()&#39;\r\n    public Optional&lt;Long&gt; getId() {\r\n        return Optional.ofNullable(id);\r\n    }\r\n}\r\n```\r\n\r\nNow you can refactor your code to:\r\n\r\n```java\r\nEmployee employee = request\r\n    .getId()\r\n    .flatMap(employeeRepository::findById) // Using flatMap() in stead of map()\r\n    .orElseGet(Employee::new); // I changed this part so that new Employee() is \r\n                               // called lazily when no Employee was found in \r\n                               // the database (or when the request has no ID)\r\n","title":"Optional orElse() cannot return alternative value when an Exception occurs","body":"<p>As mentioned in the comments, the <code>Optional</code> doesn't do anything in this case. To solve it you need to handle the <code>null</code> value by yourself. You could do this by making the <code>request.getId()</code> return an <code>Optional</code> by itself (since it can be <code>null</code>).</p>\n<p>Now you can chain these <code>Optional</code>'s using the <code>flatMap()</code> operator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRequestClass {\n    private Long id;\n\n    // Change your getter to this, or make a new one, eg. 'getOptionalId()'\n    public Optional&lt;Long&gt; getId() {\n        return Optional.ofNullable(id);\n    }\n}\n</code></pre>\n<p>Now you can refactor your code to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = request\n    .getId()\n    .flatMap(employeeRepository::findById) // Using flatMap() in stead of map()\n    .orElseGet(Employee::new); // I changed this part so that new Employee() is \n                               // called lazily when no Employee was found in \n                               // the database (or when the request has no ID)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668524358,"creation_date":1655298635,"answer_id":72632052,"question_id":72626469,"body_markdown":"# Avoid using Optional to hide a Null-checks&lt;/h3&gt;\r\n\r\nUsing an `Optional` to hide a *null-check* - is an Antipattern.\r\n\r\nThere&#39;s nothing wrong with implicit *null-checks* e.g. `if (something == null)` and more over `Optional` **wasn&#39;t** designed to perform *null-checks*.\r\n\r\nHere&#39;s a quote from the [*answer*](https://stackoverflow.com/a/34458582/17949945) by Stuart Marks, Java and OpenJDK developer:\r\n\r\n&gt; The **primary use of Optional** is as follows: (slide 36)\r\n&gt; \r\n&gt; &gt; `Optional` is intended to provide a **limited mechanism** for **library method\r\n&gt; &gt; return types** where there is a clear need to **represent &quot;no result,&quot;** and\r\n&gt; &gt; where using `null` for that is overwhelmingly likely to cause errors.\r\n&gt; \r\n&gt; The ability to chain methods from an `Optional` is undoubtedly very\r\n&gt; cool, and in some cases it reduces the clutter from conditional logic.\r\n&gt; But quite often this doesn&#39;t work out. A **typical code smell** is,\r\n&gt; instead of the code using method chaining to handle an Optional\r\n&gt; returned from some method, it **creates an Optional from something\r\n&gt; that&#39;s nullable**, in order to **chain methods** and **avoid conditionals**.\r\n\r\n(*the emphasis is mine*)\r\n\r\nFrom the quote above, it&#39;s clear that `Optional` was introduced in the JDK to provide a limited mechanism for **return types**. Any other cases like using optional as a field, storing it into a Collection, creating an optional to substitute a null-check or/and in order to chain methods on it are considered to be an abuse of `Optional`.\r\n\r\nAlso have a look at another answer by Stuart Marks: [*Should Optional.ofNullable() be used for null check?*](https://stackoverflow.com/a/52048770/17949945)\r\n\r\nThat said, the cleaner way of retrieving employee by `id`, when `id` in the request object can be `null` would be the following:\r\n\r\n    public Employee getEmployeeById(Request request) {\r\n        Long id = request.getId();\r\n        \r\n        if (id == null) return new Employee();\r\n    \r\n        return employeeRepository.findById(id)\r\n                .orElse(new Employee());\r\n    }\r\n\r\nIf fill uncomfortable that `new Employee()` appears twice in the code, then you can reimplement it like that:\r\n\r\n    public Employee getEmployeeById(Request request) {\r\n        Long id = request.getId();        \r\n        Optional&lt;Employee&gt; result = Optional.empty();\r\n\r\n        if (id != null) result = employeeRepository.findById(id);\r\n\r\n        return id == null || result.isEmpty() ? new Employee() : result.get();\r\n    }","title":"Optional orElse() cannot return alternative value when an Exception occurs","body":"<h1>Avoid using Optional to hide a Null-checks</h1>\n<p>Using an <code>Optional</code> to hide a <em>null-check</em> - is an Antipattern.</p>\n<p>There's nothing wrong with implicit <em>null-checks</em> e.g. <code>if (something == null)</code> and more over <code>Optional</code> <strong>wasn't</strong> designed to perform <em>null-checks</em>.</p>\n<p>Here's a quote from the <a href=\"https://stackoverflow.com/a/34458582/17949945\"><em>answer</em></a> by Stuart Marks, Java and OpenJDK developer:</p>\n<blockquote>\n<p>The <strong>primary use of Optional</strong> is as follows: (slide 36)</p>\n<blockquote>\n<p><code>Optional</code> is intended to provide a <strong>limited mechanism</strong> for <strong>library method\nreturn types</strong> where there is a clear need to <strong>represent &quot;no result,&quot;</strong> and\nwhere using <code>null</code> for that is overwhelmingly likely to cause errors.</p>\n</blockquote>\n<p>The ability to chain methods from an <code>Optional</code> is undoubtedly very\ncool, and in some cases it reduces the clutter from conditional logic.\nBut quite often this doesn't work out. A <strong>typical code smell</strong> is,\ninstead of the code using method chaining to handle an Optional\nreturned from some method, it <strong>creates an Optional from something\nthat's nullable</strong>, in order to <strong>chain methods</strong> and <strong>avoid conditionals</strong>.</p>\n</blockquote>\n<p>(<em>the emphasis is mine</em>)</p>\n<p>From the quote above, it's clear that <code>Optional</code> was introduced in the JDK to provide a limited mechanism for <strong>return types</strong>. Any other cases like using optional as a field, storing it into a Collection, creating an optional to substitute a null-check or/and in order to chain methods on it are considered to be an abuse of <code>Optional</code>.</p>\n<p>Also have a look at another answer by Stuart Marks: <a href=\"https://stackoverflow.com/a/52048770/17949945\"><em>Should Optional.ofNullable() be used for null check?</em></a></p>\n<p>That said, the cleaner way of retrieving employee by <code>id</code>, when <code>id</code> in the request object can be <code>null</code> would be the following:</p>\n<pre><code>public Employee getEmployeeById(Request request) {\n    Long id = request.getId();\n    \n    if (id == null) return new Employee();\n\n    return employeeRepository.findById(id)\n            .orElse(new Employee());\n}\n</code></pre>\n<p>If fill uncomfortable that <code>new Employee()</code> appears twice in the code, then you can reimplement it like that:</p>\n<pre><code>public Employee getEmployeeById(Request request) {\n    Long id = request.getId();        \n    Optional&lt;Employee&gt; result = Optional.empty();\n\n    if (id != null) result = employeeRepository.findById(id);\n\n    return id == null || result.isEmpty() ? new Employee() : result.get();\n}\n</code></pre>\n"}],"owner":{"display_name":"user19254373"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72632052,"answer_count":3,"score":2,"last_activity_date":1668524358,"creation_date":1655272468,"question_id":72626469,"body_markdown":"I am using this logic and try to return `new Employee()` if no employee is found. \r\n\r\nHowever, when `request.getId()` is `null`, it throws exception, and I am waiting that it executes `orElse()` part. However, it does not. So, should I use another optional method, e.g. `orElseGet()` or `ifPresentOrElse()`?\r\n\r\nHow can I fix this problem in a smart way?\r\n\r\n```\r\nEmployee employee = employeeRepository.findById(request.getId())\r\n        .orElse(new Employee());\r\n```\r\n\r\n\r\n&lt;br/&gt; \r\n\r\n***Update:*** If using `Optional` is not a good idea, I think of using the following approach: \r\n\r\n```\r\nEmployee employee = new Employee();\r\nif (id != null) {\r\n    employee = employeeRepository.findById(id)\r\n                   .orElse(new Employee());\r\n}\r\n```\r\n\r\nAny idea for that? ","title":"Optional orElse() cannot return alternative value when an Exception occurs","body":"<p>I am using this logic and try to return <code>new Employee()</code> if no employee is found.</p>\n<p>However, when <code>request.getId()</code> is <code>null</code>, it throws exception, and I am waiting that it executes <code>orElse()</code> part. However, it does not. So, should I use another optional method, e.g. <code>orElseGet()</code> or <code>ifPresentOrElse()</code>?</p>\n<p>How can I fix this problem in a smart way?</p>\n<pre><code>Employee employee = employeeRepository.findById(request.getId())\n        .orElse(new Employee());\n</code></pre>\n<br/> \n<p><em><strong>Update:</strong></em> If using <code>Optional</code> is not a good idea, I think of using the following approach:</p>\n<pre><code>Employee employee = new Employee();\nif (id != null) {\n    employee = employeeRepository.findById(id)\n                   .orElse(new Employee());\n}\n</code></pre>\n<p>Any idea for that?</p>\n"},{"tags":["java","apache-kafka","amazon-ecs","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668524128,"creation_date":1668524128,"answer_id":74447702,"question_id":74447582,"body_markdown":"See `ListenerContainerIdleEvent` and respective container property and its docs: https://docs.spring.io/spring-kafka/docs/current/reference/html/#idleEventInterval","title":"How to stop a service or a kafka consumer after it has been idle for a certain period of time?","body":"<p>See <code>ListenerContainerIdleEvent</code> and respective container property and its docs: <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#idleEventInterval\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#idleEventInterval</a></p>\n"}],"owner":{"account_id":6089074,"reputation":63,"user_id":8324957,"display_name":"slick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74447702,"answer_count":1,"score":0,"last_activity_date":1668524128,"creation_date":1668523670,"question_id":74447582,"body_markdown":"I have a Kafka consumer running continuously as a service . I&#39;ve noticed it only runs for a certain period of time during the day. Instead of keeping it continuously running I want to set some kind of polling timeout for the consumer. \r\n\r\nIf the consumer doesn&#39;t consumes anything/idle for 10mins then I want to shut down the service. Is there some kind of polling timeout and signaling mechanism such as this in Kafka that I can use ?","title":"How to stop a service or a kafka consumer after it has been idle for a certain period of time?","body":"<p>I have a Kafka consumer running continuously as a service . I've noticed it only runs for a certain period of time during the day. Instead of keeping it continuously running I want to set some kind of polling timeout for the consumer.</p>\n<p>If the consumer doesn't consumes anything/idle for 10mins then I want to shut down the service. Is there some kind of polling timeout and signaling mechanism such as this in Kafka that I can use ?</p>\n"},{"tags":["java","spring","spring-integration","spring-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668523688,"creation_date":1668523688,"answer_id":74447585,"question_id":74446553,"body_markdown":"Your problem is here:\r\n\r\n        .transform((File f) -&gt; f.getName().contains(temp_) ?\r\n                f.renameTo(new File(f.getParent(), f.getName().replace(temp_, &quot;&quot;))) :\r\n                null)\r\n\r\nThe `transformer` is a request-reply endpoint which does not tolerate `null` as a reply.\r\n\r\nYour logic over here is not fully clear.\r\nLet&#39;s forget that you cannot return `null`! It&#39;s definitely wrong and has to be fixed this or other way.\r\n\r\nWhat exactly do you want to return from this transformer? Probably your wish is just to rename the file and go ahead downstream with that renamed file already?\r\n\r\nProbably you wanted something like this:\r\n\r\n        .transform((File f) -&gt; \r\n             { \r\n                if (f.getName().contains(temp_)) {\r\n                    f.renameTo(new File(f.getParent(), f.getName().replace(temp_, &quot;&quot;)));\r\n                }\r\n                return f;\r\n              })\r\n?\r\n\r\nSorry, it is not clear what is a business task from a content of your quesiton, but I hope I explained why your error appears.\r\n","title":"Transformer, changing filename after ingestion in Spring Integration","body":"<p>Your problem is here:</p>\n<pre><code>    .transform((File f) -&gt; f.getName().contains(temp_) ?\n            f.renameTo(new File(f.getParent(), f.getName().replace(temp_, &quot;&quot;))) :\n            null)\n</code></pre>\n<p>The <code>transformer</code> is a request-reply endpoint which does not tolerate <code>null</code> as a reply.</p>\n<p>Your logic over here is not fully clear.\nLet's forget that you cannot return <code>null</code>! It's definitely wrong and has to be fixed this or other way.</p>\n<p>What exactly do you want to return from this transformer? Probably your wish is just to rename the file and go ahead downstream with that renamed file already?</p>\n<p>Probably you wanted something like this:</p>\n<pre><code>    .transform((File f) -&gt; \n         { \n            if (f.getName().contains(temp_)) {\n                f.renameTo(new File(f.getParent(), f.getName().replace(temp_, &quot;&quot;)));\n            }\n            return f;\n          })\n</code></pre>\n<p>?</p>\n<p>Sorry, it is not clear what is a business task from a content of your quesiton, but I hope I explained why your error appears.</p>\n"}],"owner":{"account_id":2654907,"reputation":440,"user_id":2295807,"accept_rate":76,"display_name":"kacpr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74447585,"answer_count":1,"score":0,"last_activity_date":1668523688,"creation_date":1668519210,"question_id":74446553,"body_markdown":"I am completely new to Spring Integration package and found different advice on how to approach the problem. So far I only found one that worked, but I am unsure if it is correct or why it produces a logged Error (even though the file is ingested and re-named as I intended).\r\n\r\nThe use case for this is that my system expects a &quot;temp_&quot; prefix to ignore a partially downloaded file. I found that even though the default &quot;.writing&quot; can be changed, it only works as a suffix.\r\n\r\nHere is the config I used:\r\n\r\n````\r\nSftpInboundChannelAdapterSpec integrationFlow = Sftp.inboundAdapter(sftpSessionFactory)\r\n        .filter(chainFilter)\r\n        .localFilename(temp_::concat)\r\n        .remoteDirectory(remoteDirectory)\r\n        .deleteRemoteFiles(false)\r\n        .preserveTimestamp(true)\r\n        .localDirectory(new File(localDirectory));\r\nreturn IntegrationFlows\r\n        .from(integrationFlow, pc -&gt; pc.poller(pm -&gt; pm.cron(cron).maxMessagesPerPoll(1).errorHandler(new SftpUtils.SftpErrorHandler())))\r\n        .transform((File f) -&gt; f.getName().contains(temp_) ?\r\n                f.renameTo(new File(f.getParent(), f.getName().replace(temp_, &quot;&quot;))) :\r\n                null)\r\n        .handle((transformResult, messageHeaders) -&gt; {\r\n            log.info(&quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ({}): {}&quot;, localDirectory, transformResult);\r\n            return null;\r\n        })\r\n        .get();\r\n````\r\n\r\nAnd the error being produced:\r\n```\r\nSftpErrorHandler: Error occured in SFTP ingestion flow, exception: nested exception is org.springframework.integration.handler.ReplyRequiredException: No reply produced by handler &#39;leapInboundFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0&#39;, and its &#39;requiresReply&#39; property is set to true., failedMessage=GenericMessage [payload=src\\main\\resources\\input\\genericfile.name, headers={file_originalFile=src\\main\\resources\\input\\genericfile.name, id=293a3e85-cd62-37f7-b701-bbacbf27a83f, file_name=genericfile.name, file_relativePath=genericfile.name, timestamp=1668518160014}]\r\n```","title":"Transformer, changing filename after ingestion in Spring Integration","body":"<p>I am completely new to Spring Integration package and found different advice on how to approach the problem. So far I only found one that worked, but I am unsure if it is correct or why it produces a logged Error (even though the file is ingested and re-named as I intended).</p>\n<p>The use case for this is that my system expects a &quot;temp_&quot; prefix to ignore a partially downloaded file. I found that even though the default &quot;.writing&quot; can be changed, it only works as a suffix.</p>\n<p>Here is the config I used:</p>\n<pre><code>SftpInboundChannelAdapterSpec integrationFlow = Sftp.inboundAdapter(sftpSessionFactory)\n        .filter(chainFilter)\n        .localFilename(temp_::concat)\n        .remoteDirectory(remoteDirectory)\n        .deleteRemoteFiles(false)\n        .preserveTimestamp(true)\n        .localDirectory(new File(localDirectory));\nreturn IntegrationFlows\n        .from(integrationFlow, pc -&gt; pc.poller(pm -&gt; pm.cron(cron).maxMessagesPerPoll(1).errorHandler(new SftpUtils.SftpErrorHandler())))\n        .transform((File f) -&gt; f.getName().contains(temp_) ?\n                f.renameTo(new File(f.getParent(), f.getName().replace(temp_, &quot;&quot;))) :\n                null)\n        .handle((transformResult, messageHeaders) -&gt; {\n            log.info(&quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ({}): {}&quot;, localDirectory, transformResult);\n            return null;\n        })\n        .get();\n</code></pre>\n<p>And the error being produced:</p>\n<pre><code>SftpErrorHandler: Error occured in SFTP ingestion flow, exception: nested exception is org.springframework.integration.handler.ReplyRequiredException: No reply produced by handler 'leapInboundFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0', and its 'requiresReply' property is set to true., failedMessage=GenericMessage [payload=src\\main\\resources\\input\\genericfile.name, headers={file_originalFile=src\\main\\resources\\input\\genericfile.name, id=293a3e85-cd62-37f7-b701-bbacbf27a83f, file_name=genericfile.name, file_relativePath=genericfile.name, timestamp=1668518160014}]\n</code></pre>\n"},{"tags":["java","postgresql","sql-delete"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":3,"creation_date":1668519620,"post_id":74446614,"comment_id":131420879,"body_markdown":"yes, just use delete statement with where condition","body":"yes, just use delete statement with where condition"},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1668519714,"post_id":74446614,"comment_id":131420922,"body_markdown":"Seems like you need a stored procedure and cursor. I.e. minimize jdbc network latency between java application code and database.","body":"Seems like you need a stored procedure and cursor. I.e. minimize jdbc network latency between java application code and database."},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":1,"creation_date":1668519773,"post_id":74446614,"comment_id":131420954,"body_markdown":"A single DELETE might be faster because it has to read this large table just once. You could first create an index on the city name, and then delete city by city.","body":"A single DELETE might be faster because it has to read this large table just once. You could first create an index on the city name, and then delete city by city."},{"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"score":1,"creation_date":1668520891,"post_id":74446614,"comment_id":131421438,"body_markdown":"For any non-trivial data related jobs only use native standard SQL, the lingua franca for data management. What value CRUDRepository or whatever else logic tier tool could bring except proprietary syntax and a massive amount of meaningless roundtrips?","body":"For any non-trivial data related jobs only use native standard SQL, the lingua franca for data management. What value CRUDRepository or whatever else logic tier tool could bring except proprietary syntax and a massive amount of meaningless roundtrips?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668523021,"post_id":74446614,"comment_id":131422406,"body_markdown":"Just write `DELETE FROM per.person WHERE city in (:cityNames)` instead of retrieving everything and then issue a delete.","body":"Just write <code>DELETE FROM per.person WHERE city in (:cityNames)</code> instead of retrieving everything and then issue a delete."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1668529918,"post_id":74446614,"comment_id":131425424,"body_markdown":"Of course there is a better way.  But is it worth the effort to find it?  Probably not.  By the time you find and test it, the job will already be done.  Is there actually a problem with the current way?  Is it done often enough to matter?  Why screw around with LIMIT rather than just doing what you want to do?","body":"Of course there is a better way.  But is it worth the effort to find it?  Probably not.  By the time you find and test it, the job will already be done.  Is there actually a problem with the current way?  Is it done often enough to matter?  Why screw around with LIMIT rather than just doing what you want to do?"},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1668590500,"post_id":74446614,"comment_id":131440126,"body_markdown":"@Frank Heikens Index will affect delete, yes it will speed up the selection in the same time delete will bring to B-tree index structure rebuild and re-balance. So result will be log2 slower then delete without index.","body":"@Frank Heikens Index will affect delete, yes it will speed up the selection in the same time delete will bring to B-tree index structure rebuild and re-balance. So result will be log2 slower then delete without index."},{"owner":{"account_id":14003687,"reputation":33,"user_id":10114495,"display_name":"dexter2415"},"score":0,"creation_date":1668740825,"post_id":74446614,"comment_id":131485577,"body_markdown":"since the system that we use in java has a distributed (hazelcast) caching, the data has to be removed from cache too,  the cache stores in form of partitions and i have to remove data finding the partition and then execute DELETE at last using the primary key IDs, the problem with the direct delete is for the subsequent deletes the execution time is going to increase","body":"since the system that we use in java has a distributed (hazelcast) caching, the data has to be removed from cache too,  the cache stores in form of partitions and i have to remove data finding the partition and then execute DELETE at last using the primary key IDs, the problem with the direct delete is for the subsequent deletes the execution time is going to increase"}],"answers":[{"tags":[],"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668519673,"creation_date":1668519673,"answer_id":74446650,"question_id":74446614,"body_markdown":"https://dba.stackexchange.com/questions/91247/optimizing-a-postgres-query-with-a-large-in outlines several approaches.\r\n\r\n&gt; Instead of using a huge IN-list, join on a VALUES expression, or if the list is large enough, use a temp table, index it, then join on it.\r\n\r\nThat thread links to several other references showing these strategies.","title":"Delete 25 million records from 2.4 billion rows using in Postgresql","body":"<p><a href=\"https://dba.stackexchange.com/questions/91247/optimizing-a-postgres-query-with-a-large-in\">https://dba.stackexchange.com/questions/91247/optimizing-a-postgres-query-with-a-large-in</a> outlines several approaches.</p>\n<blockquote>\n<p>Instead of using a huge IN-list, join on a VALUES expression, or if the list is large enough, use a temp table, index it, then join on it.</p>\n</blockquote>\n<p>That thread links to several other references showing these strategies.</p>\n"}],"owner":{"account_id":14003687,"reputation":33,"user_id":10114495,"display_name":"dexter2415"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74446650,"answer_count":1,"score":2,"last_activity_date":1668523671,"creation_date":1668519466,"question_id":74446614,"body_markdown":"I&#39;m using Java Spring scheduler to run deletion for 1000 rows in loop for 1000 times for this. \r\n\r\nthe main concern about it is, The execution plan for each successive loop will do more work than the previous loop. the `cityNames` is **not an indexed.**\r\n\r\n**Table Structure**\r\n```none\r\nID |  NAME  | CITY | ADDRESS | ZIP\r\n```\r\n\r\n**my approach**\r\n\r\nI&#39;m using below select query to fetch them for ID&#39;s\r\n\r\n```\r\nSELECT * \r\nFROM per.person \r\nWHERE city IN (:cityNames) LIMIT :limit&quot;\r\n```\r\n\r\nthen use CRUDRepository inbuilt `deleteByIdInBatch(ids)` methods to delete all those in single query using those retrieved Ids\r\n\r\nIs there any better way than this?","title":"Delete 25 million records from 2.4 billion rows using in Postgresql","body":"<p>I'm using Java Spring scheduler to run deletion for 1000 rows in loop for 1000 times for this.</p>\n<p>the main concern about it is, The execution plan for each successive loop will do more work than the previous loop. the <code>cityNames</code> is <strong>not an indexed.</strong></p>\n<p><strong>Table Structure</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>ID |  NAME  | CITY | ADDRESS | ZIP\n</code></pre>\n<p><strong>my approach</strong></p>\n<p>I'm using below select query to fetch them for ID's</p>\n<pre><code>SELECT * \nFROM per.person \nWHERE city IN (:cityNames) LIMIT :limit&quot;\n</code></pre>\n<p>then use CRUDRepository inbuilt <code>deleteByIdInBatch(ids)</code> methods to delete all those in single query using those retrieved Ids</p>\n<p>Is there any better way than this?</p>\n"},{"tags":["java","linux","bash","shell","maven"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1668519442,"post_id":74446585,"comment_id":131420795,"body_markdown":"Remove `clean`. This will try to avoid recompiling classes whose sources haven&#39;t changed. Switching to a more recent Java version to compile may improve compilation (slightly).","body":"Remove <code>clean</code>. This will try to avoid recompiling classes whose sources haven&#39;t changed. Switching to a more recent Java version to compile may improve compilation (slightly)."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668520106,"post_id":74446585,"comment_id":131421096,"body_markdown":"15-16 minutes seems pretty slow, but you also told us nothing about what machine you&#39;re running this on. You can try [running a parallel build using something like `-T 1C`](https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3) which may or may not help, depending on where the bottleneck is.","body":"15-16 minutes seems pretty slow, but you also told us nothing about what machine you&#39;re running this on. You can try <a href=\"https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3\" rel=\"nofollow noreferrer\">running a parallel build using something like <code>-T 1C</code></a> which may or may not help, depending on where the bottleneck is."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1668520223,"post_id":74446585,"comment_id":131421144,"body_markdown":"just a wild guess but maybe you are working on mac with m1 processor and you have wrong java for that :D","body":"just a wild guess but maybe you are working on mac with m1 processor and you have wrong java for that :D"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668522713,"post_id":74446585,"comment_id":131422287,"body_markdown":"Are all those classes within a single module? Also why using `install` ?? Also as already mentioned remove `clean` ... Also upgrade more recent version of Maven ... (3.6.3 is pretty old) use most recent 3.8.6 in particular if you have multi module build....Also have you really measured your build what is really cause (check via: https://github.com/khmarbaise/maven-buildtime-profiler)","body":"Are all those classes within a single module? Also why using <code>install</code> ?? Also as already mentioned remove <code>clean</code> ... Also upgrade more recent version of Maven ... (3.6.3 is pretty old) use most recent 3.8.6 in particular if you have multi module build....Also have you really measured your build what is really cause (check via: <a href=\"https://github.com/khmarbaise/maven-buildtime-profiler\" rel=\"nofollow noreferrer\">github.com/khmarbaise/maven-buildtime-profiler</a>)"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668523413,"creation_date":1668523413,"answer_id":74447513,"question_id":74446585,"body_markdown":"Try using the experimental maven parallel mode by:\r\n\r\n```shell\r\nmvn clean install -DskipTests -T $(nproc)\r\n```\r\n\r\nWhere `-T` means **thread number** and `$(nproc)` gets the number of your CPU cores (if you are on Linux).","title":"make javac compiler compile faster","body":"<p>Try using the experimental maven parallel mode by:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean install -DskipTests -T $(nproc)\n</code></pre>\n<p>Where <code>-T</code> means <strong>thread number</strong> and <code>$(nproc)</code> gets the number of your CPU cores (if you are on Linux).</p>\n"}],"owner":{"account_id":13034651,"reputation":235,"user_id":9419988,"display_name":"willy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668523433,"creation_date":1668519365,"question_id":74446585,"body_markdown":"I am trying to compile 5000+ java files (a lot of these Java files contains inner class). When I use this command\r\n\r\n    mvn clean install -DskipTests\r\n\r\nIt takes around 15-16 minutes.\r\n\r\nI am using Java 8 and Maven 3.6. Any tips to make it much faster?","title":"make javac compiler compile faster","body":"<p>I am trying to compile 5000+ java files (a lot of these Java files contains inner class). When I use this command</p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p>It takes around 15-16 minutes.</p>\n<p>I am using Java 8 and Maven 3.6. Any tips to make it much faster?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":15222298,"reputation":181,"user_id":10983863,"display_name":"mapawa"},"score":0,"creation_date":1668519028,"post_id":74446242,"comment_id":131420618,"body_markdown":"Is the project compiled without errors? Please provide more details on which commands you are executing.","body":"Is the project compiled without errors? Please provide more details on which commands you are executing."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668519607,"post_id":74446242,"comment_id":131420874,"body_markdown":"Your entity‘s @Id is of type int, but the repository uses Long.","body":"Your entity‘s @Id is of type int, but the repository uses Long."},{"owner":{"account_id":1356858,"reputation":483,"user_id":1295089,"accept_rate":97,"display_name":"steve"},"score":0,"creation_date":1668520034,"post_id":74446242,"comment_id":131421077,"body_markdown":"@ChristophDahlen I changed this but stil the same issue.","body":"@ChristophDahlen I changed this but stil the same issue."},{"owner":{"account_id":1356858,"reputation":483,"user_id":1295089,"accept_rate":97,"display_name":"steve"},"score":0,"creation_date":1668520080,"post_id":74446242,"comment_id":131421089,"body_markdown":"@mapawa I run the command: gradle clean build jar. This has no issues and creates the jar and then I run the jar file","body":"@mapawa I run the command: gradle clean build jar. This has no issues and creates the jar and then I run the jar file"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668522743,"post_id":74446242,"comment_id":131422301,"body_markdown":"Remove `@Repository` apart from hurting the eyes it adds nothing. Add your `@SpringBootApplication` annotated classes and your dependencies. One thing I notice is wrong they type of ID. In your entity it is an `int` in your repository it is a `Long`. Either the `int` should be `long` or the `Long` should be `Integer`.","body":"Remove <code>@Repository</code> apart from hurting the eyes it adds nothing. Add your <code>@SpringBootApplication</code> annotated classes and your dependencies. One thing I notice is wrong they type of ID. In your entity it is an <code>int</code> in your repository it is a <code>Long</code>. Either the <code>int</code> should be <code>long</code> or the <code>Long</code> should be <code>Integer</code>."},{"owner":{"account_id":1356858,"reputation":483,"user_id":1295089,"accept_rate":97,"display_name":"steve"},"score":0,"creation_date":1668523441,"post_id":74446242,"comment_id":131422620,"body_markdown":"I removed it and changed the integer and added the springbootapplicaiton code that I used @M.Deinum","body":"I removed it and changed the integer and added the springbootapplicaiton code that I used @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668523655,"post_id":74446242,"comment_id":131422716,"body_markdown":"Do you have a database configuration and driver? No database, no JPA no Spring Data JPA.","body":"Do you have a database configuration and driver? No database, no JPA no Spring Data JPA."},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1668590728,"post_id":74446242,"comment_id":131440226,"body_markdown":"maybe add `@EnableJpaRepositories`","body":"maybe add <code>@EnableJpaRepositories</code>"}],"owner":{"account_id":1356858,"reputation":483,"user_id":1295089,"accept_rate":97,"display_name":"steve"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668523404,"creation_date":1668517974,"question_id":74446242,"body_markdown":"I&#39;m trying to auto wire a repository for a simple springboot application. But When I start to do java -jar for my app it says: Field bugRepository in be.tquality.demospringdb.BugController required a bean of type &#39;be.tquality.demospringdb.BugRepository&#39; that could not be found.\r\n\r\nThis is the bug repository:\r\n\r\n    package be.tquality.demospringdb;\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface BugRepository extends JpaRepository&lt;Bug, Long&gt; {\r\n    \r\n    }\r\n\r\nand my controller\r\n\r\n    package be.tquality.demospringdb;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    public class BugController {\r\n    \r\n        @Autowired\r\n        private BugRepository bugRepository;\r\n    \r\n        @GetMapping(value = &quot;bug/findall&quot;)\r\n        public List&lt;Bug&gt; findAll(){\r\n            return bugRepository.findAll();\r\n        }\r\n    }\r\n\r\nAnd this my actual database class\r\n\r\n    package be.tquality.demospringdb;\r\n    \r\n    import lombok.Data;\r\n    \r\n    import javax.persistence.*;\r\n    import java.io.Serializable;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;BUG&quot;)\r\n    @Data\r\n    public class Bug implements Serializable {\r\n    \r\n        private static final long serialVersionUID = -2343243243242432341L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;TESTCASEID&quot;)\r\n        private int testcaseid;\r\n    \r\n        @Column(name = &quot;TESTSTEPID&quot;)\r\n        private int teststepid;\r\n    \r\n        @Column(name = &quot;TITLE&quot;)\r\n        private String title;\r\n    \r\n        @Column(name = &quot;DESCRIPTION&quot;)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;STATUS&quot;)\r\n        private int status;\r\n    \r\n        @Column(name = &quot;ASSIGNEE&quot;)\r\n        private int assignee;\r\n    \r\n        @Column(name = &quot;PROJECTID&quot;)\r\n        private int projectid;\r\n    \r\n        @Column(name = &quot;EXPECTEDRESULT&quot;)\r\n        private String expectedresult;\r\n    \r\n        @Column(name = &quot;ACTUALRESULT&quot;)\r\n        private String actualresult;\r\n    \r\n        public Bug(){}\r\n    \r\n        public Bug(int testcaseid, int teststepid, String title, String description, int status,int assignee,int projectid,\r\n                   String expectedresult,String actualresult) {\r\n            this.testcaseid = testcaseid;\r\n            this.teststepid = teststepid;\r\n            this.title = title;\r\n            this.description = description;\r\n            this.status = status;\r\n            this.assignee = assignee;\r\n            this.projectid = projectid;\r\n            this.expectedresult = expectedresult;\r\n            this.actualresult = actualresult;\r\n        }\r\n    }\r\n\r\nI really don&#39;t see what I&#39;m doing wrong and why it cannot connect to the repository. As in my ide it can connect easily\r\n\r\nThe part that&#39;s start issues when I run java -jar is\r\n\r\n    2022-11-15 14:45:27.901  WARN 32225 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;bugController&#39;: Unsatisfied dependency expressed through field &#39;bugRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;be.tquality.demospringdb.BugRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2022-11-15 14:45:27.905  INFO 32225 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-11-15 14:45:28.035  INFO 32225 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-11-15 14:45:28.095 ERROR 32225 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field bugRepository in be.tquality.demospringdb.BugController required a bean of type &#39;be.tquality.demospringdb.BugRepository&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;be.tquality.demospringdb.BugRepository&#39; in your configuration.\r\n\r\n\r\nMy spring boot application\r\n\r\n    package be.tquality.demospringdb;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemospringdbApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemospringdbApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n","title":"Autowired repository not connecting","body":"<p>I'm trying to auto wire a repository for a simple springboot application. But When I start to do java -jar for my app it says: Field bugRepository in be.tquality.demospringdb.BugController required a bean of type 'be.tquality.demospringdb.BugRepository' that could not be found.</p>\n<p>This is the bug repository:</p>\n<pre><code>package be.tquality.demospringdb;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface BugRepository extends JpaRepository&lt;Bug, Long&gt; {\n\n}\n</code></pre>\n<p>and my controller</p>\n<pre><code>package be.tquality.demospringdb;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class BugController {\n\n    @Autowired\n    private BugRepository bugRepository;\n\n    @GetMapping(value = &quot;bug/findall&quot;)\n    public List&lt;Bug&gt; findAll(){\n        return bugRepository.findAll();\n    }\n}\n</code></pre>\n<p>And this my actual database class</p>\n<pre><code>package be.tquality.demospringdb;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Entity\n@Table(name = &quot;BUG&quot;)\n@Data\npublic class Bug implements Serializable {\n\n    private static final long serialVersionUID = -2343243243242432341L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    @Column(name = &quot;TESTCASEID&quot;)\n    private int testcaseid;\n\n    @Column(name = &quot;TESTSTEPID&quot;)\n    private int teststepid;\n\n    @Column(name = &quot;TITLE&quot;)\n    private String title;\n\n    @Column(name = &quot;DESCRIPTION&quot;)\n    private String description;\n\n    @Column(name = &quot;STATUS&quot;)\n    private int status;\n\n    @Column(name = &quot;ASSIGNEE&quot;)\n    private int assignee;\n\n    @Column(name = &quot;PROJECTID&quot;)\n    private int projectid;\n\n    @Column(name = &quot;EXPECTEDRESULT&quot;)\n    private String expectedresult;\n\n    @Column(name = &quot;ACTUALRESULT&quot;)\n    private String actualresult;\n\n    public Bug(){}\n\n    public Bug(int testcaseid, int teststepid, String title, String description, int status,int assignee,int projectid,\n               String expectedresult,String actualresult) {\n        this.testcaseid = testcaseid;\n        this.teststepid = teststepid;\n        this.title = title;\n        this.description = description;\n        this.status = status;\n        this.assignee = assignee;\n        this.projectid = projectid;\n        this.expectedresult = expectedresult;\n        this.actualresult = actualresult;\n    }\n}\n</code></pre>\n<p>I really don't see what I'm doing wrong and why it cannot connect to the repository. As in my ide it can connect easily</p>\n<p>The part that's start issues when I run java -jar is</p>\n<pre><code>2022-11-15 14:45:27.901  WARN 32225 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bugController': Unsatisfied dependency expressed through field 'bugRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'be.tquality.demospringdb.BugRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2022-11-15 14:45:27.905  INFO 32225 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-11-15 14:45:28.035  INFO 32225 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-11-15 14:45:28.095 ERROR 32225 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField bugRepository in be.tquality.demospringdb.BugController required a bean of type 'be.tquality.demospringdb.BugRepository' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'be.tquality.demospringdb.BugRepository' in your configuration.\n</code></pre>\n<p>My spring boot application</p>\n<pre><code>package be.tquality.demospringdb;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemospringdbApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemospringdbApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","smb","cifs","jcifs"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1668523317,"post_id":74447467,"comment_id":131422562,"body_markdown":"Do not use Java. Do not write your own `rsync`. Just use [`rsync`](https://rsync.samba.org/). It&#39;s literally written for this use case.","body":"Do not use Java. Do not write your own <code>rsync</code>. Just use <a href=\"https://rsync.samba.org/\" rel=\"nofollow noreferrer\"><code>rsync</code></a>. It&#39;s literally written for this use case."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668523482,"post_id":74447467,"comment_id":131422641,"body_markdown":"@ElliottFrisch   Although Windows has come to encompass ssh, I&#39;m not sure rsync (which is ssh-based) for Windows is yet a thing. If not, I&#39;d be inclined to `ProcessBuilder` Windows xcopy. *Unless* of course there is no Windows here at all and the cifs, like mine, involves only a Linux server","body":"@ElliottFrisch   Although Windows has come to encompass ssh, I&#39;m not sure rsync (which is ssh-based) for Windows is yet a thing. If not, I&#39;d be inclined to <code>ProcessBuilder</code> Windows xcopy. <i>Unless</i> of course there is no Windows here at all and the cifs, like mine, involves only a Linux server"},{"owner":{"account_id":4257661,"reputation":740,"user_id":3482896,"accept_rate":90,"display_name":"GregMa"},"score":0,"creation_date":1668523540,"post_id":74447467,"comment_id":131422668,"body_markdown":"Thought about that.  couple of issues, one, I am forced to use a remote Windows 11 server which doesn&#39;t allow rsync to be installed, thus is must be either a java method, or perhaps something in powershell.","body":"Thought about that.  couple of issues, one, I am forced to use a remote Windows 11 server which doesn&#39;t allow rsync to be installed, thus is must be either a java method, or perhaps something in powershell."},{"owner":{"account_id":4257661,"reputation":740,"user_id":3482896,"accept_rate":90,"display_name":"GregMa"},"score":0,"creation_date":1668523608,"post_id":74447467,"comment_id":131422698,"body_markdown":"xcopy through powershell might be an alternative.  It&#39;s been so darned long I forgot all about that.  Now to see if it exists on the build servers.","body":"xcopy through powershell might be an alternative.  It&#39;s been so darned long I forgot all about that.  Now to see if it exists on the build servers."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668523725,"post_id":74447467,"comment_id":131422743,"body_markdown":"If they&#39;re Windows boxes, it definitely should. It&#39;s one of the old DOS apps still remaining","body":"If they&#39;re Windows boxes, it definitely should. It&#39;s one of the old DOS apps still remaining"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1668524524,"post_id":74447467,"comment_id":131423095,"body_markdown":"@g00se WSL is a thing. And a quick search shows rsync is supported on Windows. But fair enough. I would research existing solutions more exhaustively, before considering a (poor) reimplementation of rsync.","body":"@g00se WSL is a thing. And a quick search shows rsync is supported on Windows. But fair enough. I would research existing solutions more exhaustively, before considering a (poor) reimplementation of rsync."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668525651,"post_id":74447467,"comment_id":131423581,"body_markdown":"Well, I&#39;m not sure and would be interested to know if rsync really works on Windows. Certainly xcopy will do the job and has less complexity about it","body":"Well, I&#39;m not sure and would be interested to know if rsync really works on Windows. Certainly xcopy will do the job and has less complexity about it"}],"owner":{"account_id":4257661,"reputation":740,"user_id":3482896,"accept_rate":90,"display_name":"GregMa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668523247,"creation_date":1668523247,"question_id":74447467,"body_markdown":"I have several SMB file utilities written, and can easily copy files from one cifs share to another cifs share using SMB.  Problem is I want to create a &quot;mirror&quot; method that will copy all files from one share to another that have changed or are new.  I am talking about a share with thousands of files and up to 4GB in size and this will run every 1/2 hour, so just copying every file would never work.  Anyone have ideas or know of an existing package in maven that would accomplish this?","title":"mirror one CIFS SMB share to another CIFS SMB share using java (Only copy files which are newer or changed)","body":"<p>I have several SMB file utilities written, and can easily copy files from one cifs share to another cifs share using SMB.  Problem is I want to create a &quot;mirror&quot; method that will copy all files from one share to another that have changed or are new.  I am talking about a share with thousands of files and up to 4GB in size and this will run every 1/2 hour, so just copying every file would never work.  Anyone have ideas or know of an existing package in maven that would accomplish this?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":21665452,"reputation":28,"user_id":15983925,"display_name":"Thiago Marquet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668523006,"creation_date":1668523006,"answer_id":74447396,"question_id":74446749,"body_markdown":"Your problems is with the List&lt;String&gt;.\r\nThe server is waiting for a List of Strings but you are sending a List of objects with fields that are Strings.\r\n\r\n```\r\nprivate List&lt;String&gt; dataFields; // This property is a List of string not a list of &quot;dataFields&quot;\r\n```\r\n\r\n\r\nYou should create a class DataField and it would looks like this\r\n\r\n```\r\npublic class DataField{\r\n    \r\n    private String type;\r\n    private String label;\r\n    private String name;\r\n    .\r\n    .\r\n    .\r\n\r\n}\r\n```\r\n\r\nAnd then in your ManageRequest class you should do like this:\r\n\r\n```\r\n public class ManageRequest {\r\n    private String accountId;\r\n    private String command;\r\n    private String transactionId;\r\n    private List&lt;DataField&gt; dataFields;\r\n\r\n    //Getter and setters\r\n}\r\n\r\n\r\n```\r\n","title":"RequestBody handling a JSON containing Strings and a List","body":"<p>Your problems is with the List.\nThe server is waiting for a List of Strings but you are sending a List of objects with fields that are Strings.</p>\n<pre><code>private List&lt;String&gt; dataFields; // This property is a List of string not a list of &quot;dataFields&quot;\n</code></pre>\n<p>You should create a class DataField and it would looks like this</p>\n<pre><code>public class DataField{\n    \n    private String type;\n    private String label;\n    private String name;\n    .\n    .\n    .\n\n}\n</code></pre>\n<p>And then in your ManageRequest class you should do like this:</p>\n<pre><code> public class ManageRequest {\n    private String accountId;\n    private String command;\n    private String transactionId;\n    private List&lt;DataField&gt; dataFields;\n\n    //Getter and setters\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":20002293,"reputation":303,"user_id":14661041,"display_name":"letsgetraw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74447396,"answer_count":1,"score":1,"last_activity_date":1668523006,"creation_date":1668520184,"question_id":74446749,"body_markdown":"I&#39;m sending a post request from the client to the server. The body of the post request looks like this: \r\n\r\n            ...\r\n            body: JSON.stringify\r\n                ({\r\n                    command: &#39;someString&#39;,\r\n                    dataFields: setDataList()\r\n                })\r\n            ...\r\n\r\nwhile the &quot;setDataList()&quot; returns the following structure:\r\n[ {…}, {…}, {…}, ..., {…} ]\r\n\r\n            [0: {type: &quot;_header_&quot;, label: &quot;upload&quot;}\r\n            1: {type: &quot;_image_&quot;, name: &quot;data:image/jpeg;base64&quot;, value: &quot;base64 encoded string&quot;, label: &quot;someImage.JPG&quot;}\r\n            2: {...}]\r\n\r\nI&#39;m having issues processing the content of the &quot;dataFields&quot; key at the server. Currently, the SpringBoot applicaiton looks like this:\r\n\r\n    @PostMapping(\r\n    consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE},\r\n    produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    public void postBody(@RequestBody ManageRequest manageRequest) {\r\n      ...\r\n    }\r\n\r\nand &quot;ManageRequest&quot; like this:\r\n\r\n    import java.util.List;\r\n\r\n    public class ManageRequest {\r\n      private String accountId;\r\n      private String command;\r\n      private String transactionId;\r\n      private List&lt;String&gt; dataFields;\r\n\r\n      public String getAccountId() {\r\n        return accountId;\r\n      }\r\n\r\n      public String getTransactionId() {\r\n        return transactionId;\r\n      }\r\n\r\n      public void setTransactionId(String transactionId) {\r\n        this.transactionId = transactionId;\r\n      }\r\n\r\n      public void setAccountId(String accountId) {\r\n        this.accountId = accountId;\r\n      }\r\n\r\n      public String getCommand() {\r\n        return command;\r\n      }\r\n\r\n      public void setCommand(String command) {\r\n        this.command = command;\r\n      }\r\n\r\n      public List&lt;String&gt; getDataFieldList() {\r\n        return dataFields;\r\n      }\r\n\r\n      public void setDataFieldList(List&lt;String&gt; dataList) {\r\n        this.dataFields = dataList;\r\n      }\r\n  }\r\n\r\nI&#39;m not experienced in handling such requests with Java. My goal would be to extract the content of the &quot;dataFields&quot; like this: &quot;dataFields[0], dataFields[1], ...&quot; and allocate them to a new List to add to a post request.\r\nAt the moment, the list seems to be empty when arriving at the end point. ","title":"RequestBody handling a JSON containing Strings and a List","body":"<p>I'm sending a post request from the client to the server. The body of the post request looks like this:</p>\n<pre><code>        ...\n        body: JSON.stringify\n            ({\n                command: 'someString',\n                dataFields: setDataList()\n            })\n        ...\n</code></pre>\n<p>while the &quot;setDataList()&quot; returns the following structure:\n[ {…}, {…}, {…}, ..., {…} ]</p>\n<pre><code>        [0: {type: &quot;_header_&quot;, label: &quot;upload&quot;}\n        1: {type: &quot;_image_&quot;, name: &quot;data:image/jpeg;base64&quot;, value: &quot;base64 encoded string&quot;, label: &quot;someImage.JPG&quot;}\n        2: {...}]\n</code></pre>\n<p>I'm having issues processing the content of the &quot;dataFields&quot; key at the server. Currently, the SpringBoot applicaiton looks like this:</p>\n<pre><code>@PostMapping(\nconsumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.APPLICATION_XML_VALUE},\nproduces = {MediaType.APPLICATION_JSON_VALUE})\npublic void postBody(@RequestBody ManageRequest manageRequest) {\n  ...\n}\n</code></pre>\n<p>and &quot;ManageRequest&quot; like this:</p>\n<pre><code>import java.util.List;\n\npublic class ManageRequest {\n  private String accountId;\n  private String command;\n  private String transactionId;\n  private List&lt;String&gt; dataFields;\n\n  public String getAccountId() {\n    return accountId;\n  }\n\n  public String getTransactionId() {\n    return transactionId;\n  }\n\n  public void setTransactionId(String transactionId) {\n    this.transactionId = transactionId;\n  }\n\n  public void setAccountId(String accountId) {\n    this.accountId = accountId;\n  }\n\n  public String getCommand() {\n    return command;\n  }\n\n  public void setCommand(String command) {\n    this.command = command;\n  }\n\n  public List&lt;String&gt; getDataFieldList() {\n    return dataFields;\n  }\n\n  public void setDataFieldList(List&lt;String&gt; dataList) {\n    this.dataFields = dataList;\n  }\n</code></pre>\n<p>}</p>\n<p>I'm not experienced in handling such requests with Java. My goal would be to extract the content of the &quot;dataFields&quot; like this: &quot;dataFields[0], dataFields[1], ...&quot; and allocate them to a new List to add to a post request.\nAt the moment, the list seems to be empty when arriving at the end point.</p>\n"},{"tags":["java","abstract-syntax-tree","inria-spoon"],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668417037,"creation_date":1668417037,"answer_id":74429223,"question_id":74429108,"body_markdown":"try it  :\r\n\r\n     IndexOutOfBoundsException e  = new java.lang.IndexOutOfBoundsException(s);\r\n            Field[] field = e.getClass().getDeclaredFields();\r\n            for(int i = 0 ; i&lt;field.length ; i++)\r\n                java.lang.System.out.print(field[i].get(e));\r\n\r\n&gt; But it won&#39;t be able to get the value declared as private","title":"How to use spoon to get the properties of a class in java?","body":"<p>try it  :</p>\n<pre><code> IndexOutOfBoundsException e  = new java.lang.IndexOutOfBoundsException(s);\n        Field[] field = e.getClass().getDeclaredFields();\n        for(int i = 0 ; i&lt;field.length ; i++)\n            java.lang.System.out.print(field[i].get(e));\n</code></pre>\n<blockquote>\n<p>But it won't be able to get the value declared as private</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":968493,"reputation":1887,"user_id":1153476,"accept_rate":20,"display_name":"Martin Monperrus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668522702,"creation_date":1668522702,"answer_id":74447327,"question_id":74429108,"body_markdown":"You need some kind of [data-flow analysis](https://en.wikipedia.org/wiki/Data-flow_analysis) for this.\r\n\r\nIn Spoon, this is not in spoon-core but in submodule https://github.com/INRIA/spoon/tree/master/spoon-dataflow  ","title":"How to use spoon to get the properties of a class in java?","body":"<p>You need some kind of <a href=\"https://en.wikipedia.org/wiki/Data-flow_analysis\" rel=\"nofollow noreferrer\">data-flow analysis</a> for this.</p>\n<p>In Spoon, this is not in spoon-core but in submodule <a href=\"https://github.com/INRIA/spoon/tree/master/spoon-dataflow\" rel=\"nofollow noreferrer\">https://github.com/INRIA/spoon/tree/master/spoon-dataflow</a></p>\n"}],"owner":{"account_id":9832615,"reputation":19,"user_id":7283890,"display_name":"Link"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668522702,"creation_date":1668416434,"question_id":74429108,"body_markdown":"I have a java file and I want to get the exception message for the exception type after the throw keyword\r\n\r\n```java\r\n // this is the code of D:\\\\ProjectFile\\\\AST\\\\Test\\\\000001\\\\test.java\r\n if (len &lt; 0 || offset &lt; 0 || len + offset &gt; b.length) {\r\n            String str = &quot;index out of bounds&quot;;\r\n            throw new IndexOutOfBoundsException(s);\r\n        }\r\n\r\n```\r\nFor example, I want to get the string, &quot;index out of bounds&quot; inthe &quot;D:\\\\ProjectFile\\\\AST\\\\Test\\\\000001\\\\test.java&quot;, because he is a property of IndexOutOfBoundsException\r\n\r\nSo, When I use [spoon](https://spoon.gforge.inria.fr/), I don&#39;t find enough examples to teach me\r\n\r\n\r\n\r\n\r\n\r\n```java\r\n\r\npublic static void main(String[] args) {\r\n    Launcher launcher = new Launcher();\r\n\r\n    launcher.addInputResource(&quot;D:\\\\ProjectFile\\\\AST\\\\Test\\\\000001\\\\test.java&quot;);\r\n\r\n    launcher.buildModel();\r\n    CtModel model = launcher.getModel();\r\n\r\n\r\n    List&lt;CtThrow&gt; throwList = model.getElements(new TypeFilter&lt;&gt;(CtThrow.class));\r\n\r\n    for (int i = 0; i &lt; throwList.size();i++) {\r\n        System.out.println(throwList.get(i).getThrownExpression());\r\n    }\r\n}\r\n```\r\n\r\nUsing the code above, I can only get the following：\r\n\r\n```\r\nnew java.lang.IndexOutOfBoundsException(s)\r\n```\r\nI can not get the value of `s`.\r\n\r\n**I want to be able to check the constructor of this exception type and get its property value, how should I do this?**","title":"How to use spoon to get the properties of a class in java?","body":"<p>I have a java file and I want to get the exception message for the exception type after the throw keyword</p>\n<pre class=\"lang-java prettyprint-override\"><code> // this is the code of D:\\\\ProjectFile\\\\AST\\\\Test\\\\000001\\\\test.java\n if (len &lt; 0 || offset &lt; 0 || len + offset &gt; b.length) {\n            String str = &quot;index out of bounds&quot;;\n            throw new IndexOutOfBoundsException(s);\n        }\n\n</code></pre>\n<p>For example, I want to get the string, &quot;index out of bounds&quot; inthe &quot;D:\\ProjectFile\\AST\\Test\\000001\\test.java&quot;, because he is a property of IndexOutOfBoundsException</p>\n<p>So, When I use <a href=\"https://spoon.gforge.inria.fr/\" rel=\"nofollow noreferrer\">spoon</a>, I don't find enough examples to teach me</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static void main(String[] args) {\n    Launcher launcher = new Launcher();\n\n    launcher.addInputResource(&quot;D:\\\\ProjectFile\\\\AST\\\\Test\\\\000001\\\\test.java&quot;);\n\n    launcher.buildModel();\n    CtModel model = launcher.getModel();\n\n\n    List&lt;CtThrow&gt; throwList = model.getElements(new TypeFilter&lt;&gt;(CtThrow.class));\n\n    for (int i = 0; i &lt; throwList.size();i++) {\n        System.out.println(throwList.get(i).getThrownExpression());\n    }\n}\n</code></pre>\n<p>Using the code above, I can only get the following：</p>\n<pre><code>new java.lang.IndexOutOfBoundsException(s)\n</code></pre>\n<p>I can not get the value of <code>s</code>.</p>\n<p><strong>I want to be able to check the constructor of this exception type and get its property value, how should I do this?</strong></p>\n"},{"tags":["java","web-services"],"comments":[{"owner":{"account_id":1578490,"reputation":4780,"user_id":1464389,"accept_rate":49,"display_name":"F.O.O"},"score":0,"creation_date":1467762586,"post_id":26256720,"comment_id":63852569,"body_markdown":"Isn&#39;t that the point of the Include.NON_NULL annotation? If you want all fields included then remove the annotation. It probably worked because @JsonSerialize(include = Inclusion.NON_NULL) is deprecated.","body":"Isn&#39;t that the point of the Include.NON_NULL annotation? If you want all fields included then remove the annotation. It probably worked because @JsonSerialize(include = Inclusion.NON_NULL) is deprecated."}],"answers":[{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":4,"up_vote_count":23,"is_accepted":true,"score":19,"last_activity_date":1558756644,"creation_date":1412772640,"answer_id":26257344,"question_id":26256720,"body_markdown":"I tried \r\n\r\n    @JsonSerialize(include = Inclusion.NON_NULL)\r\n\r\nintead of\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n\r\nand it worked as expected.\r\n","title":"@JsonInclude(Include.NON_NULL) not working as expected","body":"<p>I tried </p>\n\n<pre><code>@JsonSerialize(include = Inclusion.NON_NULL)\n</code></pre>\n\n<p>intead of</p>\n\n<pre><code>@JsonInclude(Include.NON_NULL)\n</code></pre>\n\n<p>and it worked as expected.</p>\n"},{"tags":[],"owner":{"account_id":13687954,"reputation":103,"user_id":9876595,"display_name":"Bosco Han"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1663816733,"creation_date":1528811357,"answer_id":50818886,"question_id":26256720,"body_markdown":"This is deprecated:\r\n    \r\n    @JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)\r\nInstead use:\r\n    \r\n    @JsonInclude(Include.NON_NULL)","title":"@JsonInclude(Include.NON_NULL) not working as expected","body":"<p>This is deprecated:</p>\n<pre><code>@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)\n</code></pre>\n<p>Instead use:</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11828252,"reputation":53,"user_id":8655668,"display_name":"Arpan Jain"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1541149366,"creation_date":1541149366,"answer_id":53115498,"question_id":26256720,"body_markdown":"I am using Java Spring &amp; in that, I am implementing like :\r\n\r\n**Class Level:**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    \r\n            @JsonInclude(JsonInclude.Include.NON_NULL)\r\n            public class Student {\r\n            \r\n            \tString name;\r\n            \t//getter-setter\r\n        }\r\n\r\nYou can also implement it on elements level of class :\r\n\r\n**Elements Level:**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    \r\n            @JsonInclude(JsonInclude.Include.NON_NULL)\r\n            public class Student {\r\n            \r\n            \tString name;\r\n                \r\n                @JsonInclude(JsonInclude.Include.NON_NULL)\r\n                String address;\r\n            \t//getter-setter\r\n        }\r\n\r\n","title":"@JsonInclude(Include.NON_NULL) not working as expected","body":"<p>I am using Java Spring &amp; in that, I am implementing like :</p>\n\n<p><strong>Class Level:</strong></p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\n\n        @JsonInclude(JsonInclude.Include.NON_NULL)\n        public class Student {\n\n            String name;\n            //getter-setter\n    }\n</code></pre>\n\n<p>You can also implement it on elements level of class :</p>\n\n<p><strong>Elements Level:</strong></p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\n\n        @JsonInclude(JsonInclude.Include.NON_NULL)\n        public class Student {\n\n            String name;\n\n            @JsonInclude(JsonInclude.Include.NON_NULL)\n            String address;\n            //getter-setter\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14168569,"reputation":756,"user_id":10235840,"display_name":"senti143"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595579177,"creation_date":1595579177,"answer_id":63069778,"question_id":26256720,"body_markdown":"I encountered the same issue\r\nSolved by using\r\n\r\n    @JsonInclude(value = Include.NON_EMPTY, content = Include.NON_NULL)\r\n","title":"@JsonInclude(Include.NON_NULL) not working as expected","body":"<p>I encountered the same issue\nSolved by using</p>\n<pre><code>@JsonInclude(value = Include.NON_EMPTY, content = Include.NON_NULL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21913345,"reputation":75,"user_id":16197546,"display_name":"Dhruv sahu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634894632,"creation_date":1634894632,"answer_id":69674432,"question_id":26256720,"body_markdown":"\r\nThis is the correct way of using it. This I valid from jdk 8 +.\r\n\r\n`@JsonInclude(JsonInclude.Include.NON_EMPTY)`\r\n\r\nmore information is available in :\r\n[json-include-non-empty][1]\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/misc/jackson/json-include-non-empty.html","title":"@JsonInclude(Include.NON_NULL) not working as expected","body":"<p>This is the correct way of using it. This I valid from jdk 8 +.</p>\n<p><code>@JsonInclude(JsonInclude.Include.NON_EMPTY)</code></p>\n<p>more information is available in :\n<a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-include-non-empty.html\" rel=\"noreferrer\">json-include-non-empty</a></p>\n"},{"tags":[],"owner":{"account_id":1722137,"reputation":36,"user_id":13180602,"display_name":"Ela Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668522692,"creation_date":1668522692,"answer_id":74447319,"question_id":26256720,"body_markdown":"Add @JsonInclude(JsonInclude.Include.NON_NULL) at the attribute level instead of class level as show below :\r\n\r\n    public class Response {\r\n      @JsonInclude(JsonInclude.Include.NON_NULL)\r\n      private String message;\r\n      // getters and setters\r\n    }\r\n\r\nYou can also change your class to record and add the json property then you don&#39;t have to write the getters and setters: \r\n\r\n    public record Response(@JsonInclude(JsonInclude.Include.NON_NULL) String message) {}\r\n\r\n","title":"@JsonInclude(Include.NON_NULL) not working as expected","body":"<p>Add @JsonInclude(JsonInclude.Include.NON_NULL) at the attribute level instead of class level as show below :</p>\n<pre><code>public class Response {\n  @JsonInclude(JsonInclude.Include.NON_NULL)\n  private String message;\n  // getters and setters\n}\n</code></pre>\n<p>You can also change your class to record and add the json property then you don't have to write the getters and setters:</p>\n<pre><code>public record Response(@JsonInclude(JsonInclude.Include.NON_NULL) String message) {}\n</code></pre>\n"}],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51836,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":26257344,"answer_count":6,"score":21,"last_activity_date":1668522692,"creation_date":1412770695,"question_id":26256720,"body_markdown":"I have added `@JsonInclude(Include.NON_NULL)` annotation on Response class.\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    public class Response {\r\n\r\n      @JsonProperty\r\n      private String message;\r\n\r\n     // getter-setters\r\n    }\r\n\r\nIf the value is null the property does not include in JSON\r\n\r\nBut still I am getting this property as a NULL.\r\n\r\n    {\r\n    &quot;message&quot;: null\r\n    }\r\n\r\nWhat can be the reason ? Am I missing anything ?","title":"@JsonInclude(Include.NON_NULL) not working as expected","body":"<p>I have added <code>@JsonInclude(Include.NON_NULL)</code> annotation on Response class.</p>\n\n<pre><code>@JsonInclude(Include.NON_NULL)\npublic class Response {\n\n  @JsonProperty\n  private String message;\n\n // getter-setters\n}\n</code></pre>\n\n<p>If the value is null the property does not include in JSON</p>\n\n<p>But still I am getting this property as a NULL.</p>\n\n<pre><code>{\n\"message\": null\n}\n</code></pre>\n\n<p>What can be the reason ? Am I missing anything ?</p>\n"},{"tags":["java","firebase","android-studio","synchronization"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668522154,"post_id":74447182,"comment_id":131422039,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **300** (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>300</b> (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668526229,"post_id":74447182,"comment_id":131423867,"body_markdown":"I&#39;m sorry, but it doesn&#39;t seem to have less than 300 lines of code.","body":"I&#39;m sorry, but it doesn&#39;t seem to have less than 300 lines of code."}],"owner":{"account_id":23876007,"reputation":23,"user_id":17877163,"display_name":"lead step"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668522666,"creation_date":1668522069,"question_id":74447182,"body_markdown":"I have a 2 Insole (left and right insole), then 2 data generated from the left and right insole will be sent to firebase every 1 second. To send data per second I use 2 timers namely **left_timer.scheduleAtFixedRate** and **right_timer.scheduleAtFixedRate** but the data generated from these 2 insoles is still out of sync. because the resulting data is messy. the reason the resulting data is messy is that if we walk only one foot will step on the insole. but with this code, two feet will be on the ground when we walk. I suspect this delay is due to the process of sending data. is there any solution for this problem\r\n\r\nHere My code:\r\n  \r\nconnectLeftBtn: \r\n\r\n         connectLeftBtn.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\r\n                    if(isChecked)\r\n                    {\r\n                        connectDevice(L_insole_mac);\r\n                    }\r\n                    else\r\n                    {\r\n                        if (is_L_insole_connected)\r\n                            if(is_L_insole_started)\r\n                                left_insole_device_interface.stopInsole();\r\n                        startLeftBtn.setText(&quot;Start Left&quot;);\r\n                        is_L_insole_started = false;\r\n                        bluetoothManager.closeDevice(left_insole_device_interface);\r\n                        is_L_insole_connected = false;\r\n                        Toast.makeText(Visualization.this, &quot;Left Insole Disconnected.&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    }\r\n                }\r\n                private void connectDevice(String mac) {\r\n                    bluetoothManager.openSerialDevice(mac)\r\n                            .subscribeOn(Schedulers.io())\r\n                            .observeOn(AndroidSchedulers.mainThread())\r\n                            .subscribe(this::onConnected, this::onError);\r\n                }\r\n                @RequiresApi(api = Build.VERSION_CODES.N)\r\n                private void onConnected(BluetoothSerialDevice connectedDevice) {\r\n                    // You are now connected to this device!\r\n                    // Here you may want to retain an instance to your device:\r\n                    left_insole_device_interface = connectedDevice.toSimpleDeviceInterface();\r\n    \r\n                    // Listen to bluetooth events\r\n                    left_insole_device_interface.setListeners(message -&gt; onMessageReceived(message), this::onMessageSent, this::onError);\r\n                    left_insole_device_interface.stopInsole();\r\n    \r\n                    is_L_insole_connected = true;\r\n                    Toast.makeText(getApplication(), &quot;Connected to Left Insole.&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n                @RequiresApi(api = Build.VERSION_CODES.N)\r\n                private void onMessageReceived(String message) {\r\n                    //store incoming bytes temporarily\r\n                    if(!is_L_insole_started){\r\n                        left_temp_bytes+=message+&quot; &quot;;\r\n                    }\r\n                    //check whether the start_bytes exits in the temporary buffer\r\n                    if(!is_L_insole_started &amp;&amp; left_temp_bytes.contains(start_bytes)){\r\n                        is_L_insole_started = true;\r\n                        left_temp_bytes =&quot;&quot;;\r\n                    }\r\n                    //if the start_bytes are found in the temporary buffer, start storing the incoming messages in the actual buffer\r\n                    if(is_L_insole_started){\r\n                        left_data_len++;\r\n                        if(left_data_len&gt;15) {\r\n                            left_sensor_data_count++;\r\n                            if (!non_sensor_indeces.contains(left_sensor_data_count)) {\r\n                                l_data_double_arr[left_data_index] = Double.parseDouble(message);\r\n    //                            System.out.println(&quot;NON SENSOR INDEX:&quot; + left_data_index + &quot; &quot;+ message);\r\n                                left_data_index++;\r\n                            }\r\n                        }\r\n    \r\n                        Date date = new Date();\r\n    \r\n                        leftDataDict.put(String.valueOf(formatter.format(date)), Arrays.toString(l_data_double_arr));\r\n                        \r\n    \r\n                        //if the data length reach the max_data_length, release the buffer and invert the start flag\r\n                        if(left_data_len&gt;=max_data_len+15){\r\n                            heatMapLeft.clearData();\r\n                            for(int i=0; i&lt;x_L.length; i++) {\r\n                                HeatMap.DataPoint point =  new HeatMap.DataPoint(x_L[i], y[i], l_data_double_arr[i]);\r\n                                heatMapLeft.addData(point);\r\n                                heatMapLeft.forceRefresh();\r\n                            }\r\n    \r\n                            left_package_count++;\r\n                            left_data_index= 0;\r\n                            left_sensor_data_count = 0;\r\n                            left_data_len=0;\r\n                            is_L_insole_started=false;\r\n                        }\r\n                    }\r\n                }\r\n                private void onMessageSent(String message) {\r\n                    // We sent a message! Handle it here.\r\n    //                Toast.makeText(getApplication(), &quot;Sent a message! Message was: &quot; + message, Toast.LENGTH_LONG).show(); // Replace context with your context instance.\r\n                }\r\n    \r\n                private void onError(Throwable error) {\r\n                    // Handle the error\r\n                }\r\n    \r\n            });\r\n\r\n   connectRightBtn:\r\n        \r\n    connectRightBtn.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\r\n        \r\n                        if (isChecked) {\r\n                            connectDevice(R_insole_mac);\r\n        \r\n                        } else {\r\n                            if (is_R_insole_connected) {\r\n                                if (is_R_insole_started) {\r\n                                    right_insole_device_interface.stopInsole();\r\n                                    startRightBtn.setText(&quot;Start Right&quot;);\r\n                                    is_R_insole_started = false;\r\n                                }\r\n                                bluetoothManager.closeDevice(right_insole_device_interface);\r\n                                is_R_insole_connected = false;\r\n                                Toast.makeText(Visualization.this, &quot;Right Insole Disconnected.&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }\r\n        \r\n                    private void connectDevice (String mac){\r\n                        bluetoothManager.openSerialDevice(mac)\r\n                                .subscribeOn(Schedulers.io())\r\n                                .observeOn(AndroidSchedulers.mainThread())\r\n                                .subscribe(this::onConnected, this::onError);\r\n                    }\r\n        \r\n                    @RequiresApi(api = Build.VERSION_CODES.O)\r\n                    private void onConnected (BluetoothSerialDevice connectedDevice){\r\n                        // You are now connected to this device!\r\n                        // Here you may want to retain an instance to your device:\r\n                        right_insole_device_interface = connectedDevice.toSimpleDeviceInterface();\r\n        \r\n                        // Listen to bluetooth events\r\n                        right_insole_device_interface.setListeners(message -&gt; onMessageReceived(message), this::onMessageSent, this::onError);\r\n                        right_insole_device_interface.stopInsole();\r\n        \r\n                        is_R_insole_connected = true;\r\n                        Toast.makeText(getApplication(), &quot;Connected to Right Insole.&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n        \r\n                    private void onMessageSent (String message){\r\n                        // We sent a message! Handle it here.\r\n                    }\r\n        \r\n                    @RequiresApi(api = Build.VERSION_CODES.N)\r\n                    private void onMessageReceived (String message){\r\n                        //store incoming bytes temporarily\r\n                        if(!is_R_insole_started){\r\n                            right_temp_bytes+=message+&quot; &quot;;\r\n                        }\r\n                        //check whether the start_bytes exits in the temporary buffer\r\n                        if(!is_R_insole_started &amp;&amp; right_temp_bytes.contains(start_bytes)){\r\n                            is_R_insole_started = true;\r\n                            right_temp_bytes =&quot;&quot;;\r\n                        }\r\n                        //if the start_bytes are found in the temporary buffer, start storing the incoming messages in the actual buffer\r\n                        if(is_R_insole_started){\r\n                            right_data_len++;\r\n                            if(right_data_len&gt;15) {\r\n                                right_sensor_data_count++;\r\n                                if (!non_sensor_indeces.contains(right_sensor_data_count)) {\r\n                                    r_data_double_arr[right_data_index] = Double.parseDouble(message);\r\n        //                                System.out.println(&quot;NON SENSOR INDEX:&quot; + right_data_index + &quot; &quot;+ message);\r\n                                    right_data_index++;\r\n                                }\r\n                            }\r\n        \r\n                            Date date = new Date();\r\n                            rightDataDict.put(String.valueOf(formatter.format(date)),Arrays.toString(r_data_double_arr));\r\n        \r\n        //                        if the data length reach the max_data_length, release the buffer and invert the start flag\r\n                            if(right_data_len&gt;=max_data_len+15){\r\n                                heatMapRight.clearData();\r\n                                for(int i=0; i&lt;x_R.length; i++) {\r\n                                    HeatMap.DataPoint point =  new HeatMap.DataPoint(x_R[i], y[i], r_data_double_arr[i]);\r\n                                    heatMapRight.addData(point);\r\n                                    heatMapRight.forceRefresh();\r\n                                }\r\n        \r\n                                right_data_index= 0;\r\n                                right_sensor_data_count = 0;\r\n                                right_data_len=0;\r\n                                is_R_insole_started=false;\r\n                            }\r\n                        }\r\n                    }\r\n        \r\n        \r\n                    private void onError(Throwable error) {\r\n                        // Handle the error\r\n                    }\r\n                });\r\nstartLeftBtn:\r\n    \r\n    startLeftBtn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        if (is_L_insole_connected) {\r\n                            if (is_L_insole_started) {\r\n                                left_insole_device_interface.stopInsole();\r\n                                is_L_insole_started = false;\r\n                                startLeftBtn.setText(&quot;Start Left&quot;);\r\n                                left_timer.cancel();\r\n        \r\n                            } else {\r\n                                left_insole_device_interface.startInsole();\r\n                                is_L_insole_started = true;\r\n                                startLeftBtn.setText(&quot;Stop Left&quot;);\r\n        \r\n                                left_timer.scheduleAtFixedRate(new TimerTask() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        runOnUiThread(new Runnable() {\r\n                                            @RequiresApi(api = Build.VERSION_CODES.N)\r\n                                            public void run() {\r\n        //                                        Log.d(&quot;TAG&quot;, &quot;Hashmap: &quot;+ leftDataDict);\r\n                                                sendToFirebase(leftDataDict, &quot;Left_Insole&quot;);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                },1000, 1000);\r\n        \r\n                                Toast.makeText(Visualization.this, &quot;Left Insole Started.&quot;, Toast.LENGTH_SHORT).show();\r\n        \r\n                            }\r\n                        }else\r\n                        {\r\n                            Toast.makeText(Visualization.this, &quot;Left Insole Not Connected!&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n        \r\n                    }\r\n                });\r\n\r\nstartRightBtn:\r\n    \r\n    startRightBtn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n        \r\n                        if(is_R_insole_connected) {\r\n                            if (is_R_insole_started) {\r\n                                right_insole_device_interface.stopInsole();\r\n                                is_R_insole_started = false;\r\n                                startRightBtn.setText(&quot;Start Right&quot;);\r\n                                right_timer.cancel();\r\n                            } else {\r\n                                right_insole_device_interface.startInsole();\r\n                                is_R_insole_started = true;\r\n                                startRightBtn.setText(&quot;Stop Right&quot;);\r\n        \r\n                                right_timer.scheduleAtFixedRate(new TimerTask() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        runOnUiThread(new Runnable() {\r\n                                            public void run() {\r\n                                                sendToFirebase(rightDataDict, &quot;Right_Insole&quot;);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                },1000, 1000);\r\n        \r\n                                Toast.makeText(Visualization.this, &quot;Right Insole Started.&quot;, Toast.LENGTH_SHORT).show();\r\n        \r\n                            }\r\n                        }else{\r\n                            Toast.makeText(Visualization.this, &quot;Right Insole Not Connected!&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n\r\nSendToFirebase:\r\n    \r\n    public void sendToFirebase(Map&lt;String,Object&gt;  data, String of_insole){\r\n                Date date = new Date();\r\n                db.collection(&quot;Experiments&quot;).document(PATIENT_NAME).set(patientRecord);\r\n                db.collection(&quot;Experiments&quot;)\r\n                        .document(PATIENT_NAME)\r\n                        .collection(of_insole)\r\n                        .document(String.valueOf(formatter2.format(date)))\r\n                        .set(data)\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void unused) {\r\n                                data.clear();\r\n                                Toast.makeText(Visualization.this, &quot;Succesfully saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(Visualization.this, &quot;Failed to saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n            }\r\n\r\n\r\n\r\n","title":"how to synchronize 2 data generated from 2 different devices","body":"<p>I have a 2 Insole (left and right insole), then 2 data generated from the left and right insole will be sent to firebase every 1 second. To send data per second I use 2 timers namely <strong>left_timer.scheduleAtFixedRate</strong> and <strong>right_timer.scheduleAtFixedRate</strong> but the data generated from these 2 insoles is still out of sync. because the resulting data is messy. the reason the resulting data is messy is that if we walk only one foot will step on the insole. but with this code, two feet will be on the ground when we walk. I suspect this delay is due to the process of sending data. is there any solution for this problem</p>\n<p>Here My code:</p>\n<p>connectLeftBtn:</p>\n<pre><code>     connectLeftBtn.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\n                if(isChecked)\n                {\n                    connectDevice(L_insole_mac);\n                }\n                else\n                {\n                    if (is_L_insole_connected)\n                        if(is_L_insole_started)\n                            left_insole_device_interface.stopInsole();\n                    startLeftBtn.setText(&quot;Start Left&quot;);\n                    is_L_insole_started = false;\n                    bluetoothManager.closeDevice(left_insole_device_interface);\n                    is_L_insole_connected = false;\n                    Toast.makeText(Visualization.this, &quot;Left Insole Disconnected.&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            }\n            private void connectDevice(String mac) {\n                bluetoothManager.openSerialDevice(mac)\n                        .subscribeOn(Schedulers.io())\n                        .observeOn(AndroidSchedulers.mainThread())\n                        .subscribe(this::onConnected, this::onError);\n            }\n            @RequiresApi(api = Build.VERSION_CODES.N)\n            private void onConnected(BluetoothSerialDevice connectedDevice) {\n                // You are now connected to this device!\n                // Here you may want to retain an instance to your device:\n                left_insole_device_interface = connectedDevice.toSimpleDeviceInterface();\n\n                // Listen to bluetooth events\n                left_insole_device_interface.setListeners(message -&gt; onMessageReceived(message), this::onMessageSent, this::onError);\n                left_insole_device_interface.stopInsole();\n\n                is_L_insole_connected = true;\n                Toast.makeText(getApplication(), &quot;Connected to Left Insole.&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n            @RequiresApi(api = Build.VERSION_CODES.N)\n            private void onMessageReceived(String message) {\n                //store incoming bytes temporarily\n                if(!is_L_insole_started){\n                    left_temp_bytes+=message+&quot; &quot;;\n                }\n                //check whether the start_bytes exits in the temporary buffer\n                if(!is_L_insole_started &amp;&amp; left_temp_bytes.contains(start_bytes)){\n                    is_L_insole_started = true;\n                    left_temp_bytes =&quot;&quot;;\n                }\n                //if the start_bytes are found in the temporary buffer, start storing the incoming messages in the actual buffer\n                if(is_L_insole_started){\n                    left_data_len++;\n                    if(left_data_len&gt;15) {\n                        left_sensor_data_count++;\n                        if (!non_sensor_indeces.contains(left_sensor_data_count)) {\n                            l_data_double_arr[left_data_index] = Double.parseDouble(message);\n//                            System.out.println(&quot;NON SENSOR INDEX:&quot; + left_data_index + &quot; &quot;+ message);\n                            left_data_index++;\n                        }\n                    }\n\n                    Date date = new Date();\n\n                    leftDataDict.put(String.valueOf(formatter.format(date)), Arrays.toString(l_data_double_arr));\n                    \n\n                    //if the data length reach the max_data_length, release the buffer and invert the start flag\n                    if(left_data_len&gt;=max_data_len+15){\n                        heatMapLeft.clearData();\n                        for(int i=0; i&lt;x_L.length; i++) {\n                            HeatMap.DataPoint point =  new HeatMap.DataPoint(x_L[i], y[i], l_data_double_arr[i]);\n                            heatMapLeft.addData(point);\n                            heatMapLeft.forceRefresh();\n                        }\n\n                        left_package_count++;\n                        left_data_index= 0;\n                        left_sensor_data_count = 0;\n                        left_data_len=0;\n                        is_L_insole_started=false;\n                    }\n                }\n            }\n            private void onMessageSent(String message) {\n                // We sent a message! Handle it here.\n//                Toast.makeText(getApplication(), &quot;Sent a message! Message was: &quot; + message, Toast.LENGTH_LONG).show(); // Replace context with your context instance.\n            }\n\n            private void onError(Throwable error) {\n                // Handle the error\n            }\n\n        });\n</code></pre>\n<p>connectRightBtn:</p>\n<pre><code>connectRightBtn.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\n    \n                    if (isChecked) {\n                        connectDevice(R_insole_mac);\n    \n                    } else {\n                        if (is_R_insole_connected) {\n                            if (is_R_insole_started) {\n                                right_insole_device_interface.stopInsole();\n                                startRightBtn.setText(&quot;Start Right&quot;);\n                                is_R_insole_started = false;\n                            }\n                            bluetoothManager.closeDevice(right_insole_device_interface);\n                            is_R_insole_connected = false;\n                            Toast.makeText(Visualization.this, &quot;Right Insole Disconnected.&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n    \n                private void connectDevice (String mac){\n                    bluetoothManager.openSerialDevice(mac)\n                            .subscribeOn(Schedulers.io())\n                            .observeOn(AndroidSchedulers.mainThread())\n                            .subscribe(this::onConnected, this::onError);\n                }\n    \n                @RequiresApi(api = Build.VERSION_CODES.O)\n                private void onConnected (BluetoothSerialDevice connectedDevice){\n                    // You are now connected to this device!\n                    // Here you may want to retain an instance to your device:\n                    right_insole_device_interface = connectedDevice.toSimpleDeviceInterface();\n    \n                    // Listen to bluetooth events\n                    right_insole_device_interface.setListeners(message -&gt; onMessageReceived(message), this::onMessageSent, this::onError);\n                    right_insole_device_interface.stopInsole();\n    \n                    is_R_insole_connected = true;\n                    Toast.makeText(getApplication(), &quot;Connected to Right Insole.&quot;, Toast.LENGTH_SHORT).show();\n                }\n    \n                private void onMessageSent (String message){\n                    // We sent a message! Handle it here.\n                }\n    \n                @RequiresApi(api = Build.VERSION_CODES.N)\n                private void onMessageReceived (String message){\n                    //store incoming bytes temporarily\n                    if(!is_R_insole_started){\n                        right_temp_bytes+=message+&quot; &quot;;\n                    }\n                    //check whether the start_bytes exits in the temporary buffer\n                    if(!is_R_insole_started &amp;&amp; right_temp_bytes.contains(start_bytes)){\n                        is_R_insole_started = true;\n                        right_temp_bytes =&quot;&quot;;\n                    }\n                    //if the start_bytes are found in the temporary buffer, start storing the incoming messages in the actual buffer\n                    if(is_R_insole_started){\n                        right_data_len++;\n                        if(right_data_len&gt;15) {\n                            right_sensor_data_count++;\n                            if (!non_sensor_indeces.contains(right_sensor_data_count)) {\n                                r_data_double_arr[right_data_index] = Double.parseDouble(message);\n    //                                System.out.println(&quot;NON SENSOR INDEX:&quot; + right_data_index + &quot; &quot;+ message);\n                                right_data_index++;\n                            }\n                        }\n    \n                        Date date = new Date();\n                        rightDataDict.put(String.valueOf(formatter.format(date)),Arrays.toString(r_data_double_arr));\n    \n    //                        if the data length reach the max_data_length, release the buffer and invert the start flag\n                        if(right_data_len&gt;=max_data_len+15){\n                            heatMapRight.clearData();\n                            for(int i=0; i&lt;x_R.length; i++) {\n                                HeatMap.DataPoint point =  new HeatMap.DataPoint(x_R[i], y[i], r_data_double_arr[i]);\n                                heatMapRight.addData(point);\n                                heatMapRight.forceRefresh();\n                            }\n    \n                            right_data_index= 0;\n                            right_sensor_data_count = 0;\n                            right_data_len=0;\n                            is_R_insole_started=false;\n                        }\n                    }\n                }\n    \n    \n                private void onError(Throwable error) {\n                    // Handle the error\n                }\n            });\n</code></pre>\n<p>startLeftBtn:</p>\n<pre><code>startLeftBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if (is_L_insole_connected) {\n                        if (is_L_insole_started) {\n                            left_insole_device_interface.stopInsole();\n                            is_L_insole_started = false;\n                            startLeftBtn.setText(&quot;Start Left&quot;);\n                            left_timer.cancel();\n    \n                        } else {\n                            left_insole_device_interface.startInsole();\n                            is_L_insole_started = true;\n                            startLeftBtn.setText(&quot;Stop Left&quot;);\n    \n                            left_timer.scheduleAtFixedRate(new TimerTask() {\n                                @Override\n                                public void run() {\n                                    runOnUiThread(new Runnable() {\n                                        @RequiresApi(api = Build.VERSION_CODES.N)\n                                        public void run() {\n    //                                        Log.d(&quot;TAG&quot;, &quot;Hashmap: &quot;+ leftDataDict);\n                                            sendToFirebase(leftDataDict, &quot;Left_Insole&quot;);\n                                        }\n                                    });\n                                }\n                            },1000, 1000);\n    \n                            Toast.makeText(Visualization.this, &quot;Left Insole Started.&quot;, Toast.LENGTH_SHORT).show();\n    \n                        }\n                    }else\n                    {\n                        Toast.makeText(Visualization.this, &quot;Left Insole Not Connected!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n    \n                }\n            });\n</code></pre>\n<p>startRightBtn:</p>\n<pre><code>startRightBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n    \n                    if(is_R_insole_connected) {\n                        if (is_R_insole_started) {\n                            right_insole_device_interface.stopInsole();\n                            is_R_insole_started = false;\n                            startRightBtn.setText(&quot;Start Right&quot;);\n                            right_timer.cancel();\n                        } else {\n                            right_insole_device_interface.startInsole();\n                            is_R_insole_started = true;\n                            startRightBtn.setText(&quot;Stop Right&quot;);\n    \n                            right_timer.scheduleAtFixedRate(new TimerTask() {\n                                @Override\n                                public void run() {\n                                    runOnUiThread(new Runnable() {\n                                        public void run() {\n                                            sendToFirebase(rightDataDict, &quot;Right_Insole&quot;);\n                                        }\n                                    });\n                                }\n                            },1000, 1000);\n    \n                            Toast.makeText(Visualization.this, &quot;Right Insole Started.&quot;, Toast.LENGTH_SHORT).show();\n    \n                        }\n                    }else{\n                        Toast.makeText(Visualization.this, &quot;Right Insole Not Connected!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n</code></pre>\n<p>SendToFirebase:</p>\n<pre><code>public void sendToFirebase(Map&lt;String,Object&gt;  data, String of_insole){\n            Date date = new Date();\n            db.collection(&quot;Experiments&quot;).document(PATIENT_NAME).set(patientRecord);\n            db.collection(&quot;Experiments&quot;)\n                    .document(PATIENT_NAME)\n                    .collection(of_insole)\n                    .document(String.valueOf(formatter2.format(date)))\n                    .set(data)\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void unused) {\n                            data.clear();\n                            Toast.makeText(Visualization.this, &quot;Succesfully saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(Visualization.this, &quot;Failed to saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n        }\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":4896710,"reputation":1488,"user_id":3946096,"accept_rate":71,"display_name":"Alexander N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668205283,"creation_date":1668205283,"answer_id":74408720,"question_id":74408278,"body_markdown":"Authentication is not attestation.\r\n\r\nIf you are using Anonymous Authentication and still serving data and only restricting the access of that data to whether a UID is present in the request, then anyone can still generate an anonymous user and access your database through a series of rest calls since generating an anonymous user has no barrier to it.\r\n\r\nIt sounds like what you really want to do is implement [AppCheck][1]. AppCheck will ensure that your users are only accessing your application and database through approved applications and not accessing it through REST calls or other service calls. What you could do is enable AppCheck on your project and then [enable enforcement][2] when all your users have migrated to the latest edition of your app. Your DB is still able to be accessed, but only if it has a valid AppCheck token which can only be provided through an attestation provider like SafetyNet or reCaptcha.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/app-check\r\n  [2]: https://firebase.google.com/docs/app-check/enable-enforcement","title":"Firebase authentication - many users logged with the same credentials","body":"<p>Authentication is not attestation.</p>\n<p>If you are using Anonymous Authentication and still serving data and only restricting the access of that data to whether a UID is present in the request, then anyone can still generate an anonymous user and access your database through a series of rest calls since generating an anonymous user has no barrier to it.</p>\n<p>It sounds like what you really want to do is implement <a href=\"https://firebase.google.com/docs/app-check\" rel=\"nofollow noreferrer\">AppCheck</a>. AppCheck will ensure that your users are only accessing your application and database through approved applications and not accessing it through REST calls or other service calls. What you could do is enable AppCheck on your project and then <a href=\"https://firebase.google.com/docs/app-check/enable-enforcement\" rel=\"nofollow noreferrer\">enable enforcement</a> when all your users have migrated to the latest edition of your app. Your DB is still able to be accessed, but only if it has a valid AppCheck token which can only be provided through an attestation provider like SafetyNet or reCaptcha.</p>\n"},{"tags":[],"owner":{"account_id":26711879,"reputation":391,"user_id":20317091,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668206808,"creation_date":1668206808,"answer_id":74408897,"question_id":74408278,"body_markdown":"Firebase allows 50k monthly active users at the free tier but gets expensive very quickly after that. If you have Firebase Authentication with Identity Platform setup, you can enable automatic clean-up so stale accounts are removed if not used.\r\n\r\nYou could deploy a blocking function with Cloud Functions that triggers a `beforeCreate` event. First, you could log IP addresses when a new user is created, then could run a check to see if that IP is already in use with `beforeCreate`. Obviously, there are many reasons why that could fail but it would at least reduce the number of duplicates.\r\n\r\nThe best thing would be to force a real sign-in method after a user is anonymous for some period of time. You can easily link an existing anonymous account to a social provider or other method to reduce friction for the UX.","title":"Firebase authentication - many users logged with the same credentials","body":"<p>Firebase allows 50k monthly active users at the free tier but gets expensive very quickly after that. If you have Firebase Authentication with Identity Platform setup, you can enable automatic clean-up so stale accounts are removed if not used.</p>\n<p>You could deploy a blocking function with Cloud Functions that triggers a <code>beforeCreate</code> event. First, you could log IP addresses when a new user is created, then could run a check to see if that IP is already in use with <code>beforeCreate</code>. Obviously, there are many reasons why that could fail but it would at least reduce the number of duplicates.</p>\n<p>The best thing would be to force a real sign-in method after a user is anonymous for some period of time. You can easily link an existing anonymous account to a social provider or other method to reduce friction for the UX.</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668521878,"creation_date":1668411885,"answer_id":74428355,"question_id":74408278,"body_markdown":"&gt; Now I was thinking of creating one user in the console (email/password authentication), and all devices authenticate using such email and password.\r\n\r\nWhile this approach might work, this is not how you should handle authentication. Why? Simply because when you&#39;re using a single account, a single UID will be generated. That means that 20k users will share the same UID, which is bad because you cannot write proper security rules. You might think, that you can find another way to differentiate one user from another, like an IP, a device ID, and so on, but unfortunately all these IDs might change. So you&#39;ll end up having trouble.\r\n\r\n&gt; My app has about 20 000 active users. Is it a problem with 20 000 sessions at the same time and also with so many requests to Firebase products with the same user?\r\n\r\nIt&#39;s not about a limitation as it&#39;s about managing users and security. Besides that, in terms of app design, each user should have their own account. As also @Tim mentioned in his comment, the best option that you have is use continue using Firebase Anonymous Authentication and enable automatic clean-up. In this way, you&#39;ll have a database containing only active users, since unused accounts will be deleted after 30 days. That being said, since each user has their own account, you can link that anonymous account with email and password, and you&#39;ll have distinct accounts for your users, and the most important part is that you&#39;ll be able to secure your app properly.\r\n\r\n**Edit:**\r\n\r\n&gt; Given that my app and DB are not based on a user profile, such rules like `auth.uid==$user.uid` or `$user.role==&#39;admin&#39;` are useless.\r\n\r\nUnderstanding that security isn&#39;t a concern, then you can ignore that and use a single account.\r\n\r\n&gt; I just want to know and be sure that the approach of using a single user for all my devices will work and won&#39;t occur limit problems.\r\n\r\nIn most cases, folks are trying to [limit access to the app on multiple devices][1], but if your application requires a single account, then you can go ahead with that. Regarding limitations, there are no limitations when it comes to how many users can access a single account, as there are no limitations when it comes to [how many users can authenticate into your app][2].\r\n\r\n**Edit2:**\r\n\r\nYes, the following [limitation][3]:\r\n\r\n&gt; Operations per service account: 500 requests/second\r\n\r\nRefers to the maximum number of operations that can be performed in a single second. But, that&#39;s a large number in my opinion, given the fact that a single user needs to authenticate only once since the [auth state persists across application restarts][4]. So the need for a user to sign in or out it&#39;s not so often. Besides that, I don&#39;t see any reason why a user should sign out. \r\n\r\nSo even if you have 20k users, it&#39;s hard to believe that more than 500 will try to perform an operation in exact same second. Even if that happens, you can catch the error and display a message to the user in which you can ask to try again in 5 seconds, for example.\r\n\r\nOnce all those 20k users are authenticated, I cannot see how you can reach that limit. I think that even Facebook doesn&#39;t have more than 500 new users that sign in to the application in a single second. Because if so, in a single minute they would have 30k new visitors, and in an hour would have 1.8 million new users. I let you do the math for a day. So it&#39;s quite impossible.\r\n\r\n  [1]: https://stackoverflow.com/questions/47751377/firebase-prevent-same-account-on-multiple-devices\r\n  [2]: https://stackoverflow.com/questions/44161195/which-pricing-tier-mentions-firebase-authentication\r\n  [3]: https://firebase.google.com/docs/auth/limits#api_limits\r\n  [4]: https://stackoverflow.com/a/74442257/5246885","title":"Firebase authentication - many users logged with the same credentials","body":"<blockquote>\n<p>Now I was thinking of creating one user in the console (email/password authentication), and all devices authenticate using such email and password.</p>\n</blockquote>\n<p>While this approach might work, this is not how you should handle authentication. Why? Simply because when you're using a single account, a single UID will be generated. That means that 20k users will share the same UID, which is bad because you cannot write proper security rules. You might think, that you can find another way to differentiate one user from another, like an IP, a device ID, and so on, but unfortunately all these IDs might change. So you'll end up having trouble.</p>\n<blockquote>\n<p>My app has about 20 000 active users. Is it a problem with 20 000 sessions at the same time and also with so many requests to Firebase products with the same user?</p>\n</blockquote>\n<p>It's not about a limitation as it's about managing users and security. Besides that, in terms of app design, each user should have their own account. As also @Tim mentioned in his comment, the best option that you have is use continue using Firebase Anonymous Authentication and enable automatic clean-up. In this way, you'll have a database containing only active users, since unused accounts will be deleted after 30 days. That being said, since each user has their own account, you can link that anonymous account with email and password, and you'll have distinct accounts for your users, and the most important part is that you'll be able to secure your app properly.</p>\n<p><strong>Edit:</strong></p>\n<blockquote>\n<p>Given that my app and DB are not based on a user profile, such rules like <code>auth.uid==$user.uid</code> or <code>$user.role=='admin'</code> are useless.</p>\n</blockquote>\n<p>Understanding that security isn't a concern, then you can ignore that and use a single account.</p>\n<blockquote>\n<p>I just want to know and be sure that the approach of using a single user for all my devices will work and won't occur limit problems.</p>\n</blockquote>\n<p>In most cases, folks are trying to <a href=\"https://stackoverflow.com/questions/47751377/firebase-prevent-same-account-on-multiple-devices\">limit access to the app on multiple devices</a>, but if your application requires a single account, then you can go ahead with that. Regarding limitations, there are no limitations when it comes to how many users can access a single account, as there are no limitations when it comes to <a href=\"https://stackoverflow.com/questions/44161195/which-pricing-tier-mentions-firebase-authentication\">how many users can authenticate into your app</a>.</p>\n<p><strong>Edit2:</strong></p>\n<p>Yes, the following <a href=\"https://firebase.google.com/docs/auth/limits#api_limits\" rel=\"nofollow noreferrer\">limitation</a>:</p>\n<blockquote>\n<p>Operations per service account: 500 requests/second</p>\n</blockquote>\n<p>Refers to the maximum number of operations that can be performed in a single second. But, that's a large number in my opinion, given the fact that a single user needs to authenticate only once since the <a href=\"https://stackoverflow.com/a/74442257/5246885\">auth state persists across application restarts</a>. So the need for a user to sign in or out it's not so often. Besides that, I don't see any reason why a user should sign out.</p>\n<p>So even if you have 20k users, it's hard to believe that more than 500 will try to perform an operation in exact same second. Even if that happens, you can catch the error and display a message to the user in which you can ask to try again in 5 seconds, for example.</p>\n<p>Once all those 20k users are authenticated, I cannot see how you can reach that limit. I think that even Facebook doesn't have more than 500 new users that sign in to the application in a single second. Because if so, in a single minute they would have 30k new visitors, and in an hour would have 1.8 million new users. I let you do the math for a day. So it's quite impossible.</p>\n"}],"owner":{"account_id":19299720,"reputation":59,"user_id":14107943,"display_name":"Luis "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1668521878,"creation_date":1668201914,"question_id":74408278,"body_markdown":"In my job, we needed to implement authentication because of security and we wanted the DB not to be completely open. We have implemented anonymous authentication because the app is not based on a user profile. It works well, but it is creating too many users (every time the app is uninstalled or the cache is cleared a new user is created). Although there isn&#39;t any limit for anonymous users, it is not good to have so many [UIDs][1] in the project. \r\n\r\nNow I was thinking of creating one user in the console  (email/password authentication), and all devices authenticate using such email and password.\r\n\r\nWould there be a problem with that? Would Firebase limit the number of sessions with the same user?\r\n\r\nMy app has about 20 000 active users. Is it a problem with 20 000 sessions at the same time and also with so many requests to Firebase products with the same user? It&#39;s important to be completely sure that a limit problem will not occur before I make that migration from anonymous to email/password (unique user).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/User_identifier\r\n\r\n\r\n\r\n","title":"Firebase authentication - many users logged with the same credentials","body":"<p>In my job, we needed to implement authentication because of security and we wanted the DB not to be completely open. We have implemented anonymous authentication because the app is not based on a user profile. It works well, but it is creating too many users (every time the app is uninstalled or the cache is cleared a new user is created). Although there isn't any limit for anonymous users, it is not good to have so many <a href=\"https://en.wikipedia.org/wiki/User_identifier\" rel=\"nofollow noreferrer\">UIDs</a> in the project.</p>\n<p>Now I was thinking of creating one user in the console  (email/password authentication), and all devices authenticate using such email and password.</p>\n<p>Would there be a problem with that? Would Firebase limit the number of sessions with the same user?</p>\n<p>My app has about 20 000 active users. Is it a problem with 20 000 sessions at the same time and also with so many requests to Firebase products with the same user? It's important to be completely sure that a limit problem will not occur before I make that migration from anonymous to email/password (unique user).</p>\n"},{"tags":["java","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":2460702,"reputation":171,"user_id":2144940,"display_name":"Eduardo Felipe Zambom Santana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668521708,"creation_date":1668521708,"answer_id":74447094,"question_id":74446809,"body_markdown":"I think you will need to verify if the city exists before persist a new Citizen, and if it exists, you will need to set the City property with the object you get from the database. \r\n\r\nOtherwise, it will try to persist a new city with the same key, and it will throw the PK violation error.","title":"Spring data - force merge of manytoone element when inserting main entity","body":"<p>I think you will need to verify if the city exists before persist a new Citizen, and if it exists, you will need to set the City property with the object you get from the database.</p>\n<p>Otherwise, it will try to persist a new city with the same key, and it will throw the PK violation error.</p>\n"}],"owner":{"account_id":25758080,"reputation":1,"user_id":19509453,"display_name":"Ribirams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668521708,"creation_date":1668520470,"question_id":74446809,"body_markdown":"So I have a bit of an annoying database layout, where I have to have a dynamic list side table which uses a natural key. And this second table should get a new entity added if it doesn&#39;t exist yet, otherwise updated.\r\n\r\nSo to say:\r\n\r\n| citizen | city |\r\n| -------- | -------- |\r\n| id   | code   |\r\n| postal_code  | name  |\r\n\r\nThe Citizen entity has\r\n\r\n```\r\n@ManyTone(cascade = javax.persistence.CascadeType.ALL)\r\n@Cascade(CascadeType.SAVE_UPDATE)\r\n@JoinColumn(name = &quot;postal_code&quot;\r\nprivate City city;\r\n```\r\n\r\nNow when I create a new `Citizen` and `City` instance, and insert them it works fine the first time. However the second time I get a PK violation on city since there&#39;s already a city with the given code. Now what I want to achieve is that the city gets saved or updated when the citizen gets saved. (not the best example I know)\r\n\r\nTo persist I used the &#39;JpaRepository -&gt; saveAll&#39; method.\r\n\r\nWorst case I could ofcourse first persist all cities, and then set the persisted instances on the citizen but I&#39;d like to avoid that.\r\n\r\n\r\n\r\nThe side entities to get created/updated as passed in without first having to manually insert them myself.","title":"Spring data - force merge of manytoone element when inserting main entity","body":"<p>So I have a bit of an annoying database layout, where I have to have a dynamic list side table which uses a natural key. And this second table should get a new entity added if it doesn't exist yet, otherwise updated.</p>\n<p>So to say:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>citizen</th>\n<th>city</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td>code</td>\n</tr>\n<tr>\n<td>postal_code</td>\n<td>name</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The Citizen entity has</p>\n<pre><code>@ManyTone(cascade = javax.persistence.CascadeType.ALL)\n@Cascade(CascadeType.SAVE_UPDATE)\n@JoinColumn(name = &quot;postal_code&quot;\nprivate City city;\n</code></pre>\n<p>Now when I create a new <code>Citizen</code> and <code>City</code> instance, and insert them it works fine the first time. However the second time I get a PK violation on city since there's already a city with the given code. Now what I want to achieve is that the city gets saved or updated when the citizen gets saved. (not the best example I know)</p>\n<p>To persist I used the 'JpaRepository -&gt; saveAll' method.</p>\n<p>Worst case I could ofcourse first persist all cities, and then set the persisted instances on the citizen but I'd like to avoid that.</p>\n<p>The side entities to get created/updated as passed in without first having to manually insert them myself.</p>\n"},{"tags":["java","angular","http","controller"],"answers":[{"tags":[],"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668521647,"creation_date":1668521647,"answer_id":74447078,"question_id":74446924,"body_markdown":"You call the method, that is why you see the console logs. The return value, however is a **cold** observable. In order to actually send the request to the backend you need to subscribe to the observable.\r\n\r\nI expect that you simply call the method like this somewhere:\r\n\r\n    const response = this.productService.extendDateWithMonths(1, 2);\r\n\r\nWhat you need to do:\r\n\r\n    this.productService.extendDateWithMonths(1, 2).subscribe(\r\n      response =&gt; this.response = response;\r\n    );\r\n","title":"Call from angular frontend to java backend fails without error","body":"<p>You call the method, that is why you see the console logs. The return value, however is a <strong>cold</strong> observable. In order to actually send the request to the backend you need to subscribe to the observable.</p>\n<p>I expect that you simply call the method like this somewhere:</p>\n<pre><code>const response = this.productService.extendDateWithMonths(1, 2);\n</code></pre>\n<p>What you need to do:</p>\n<pre><code>this.productService.extendDateWithMonths(1, 2).subscribe(\n  response =&gt; this.response = response;\n);\n</code></pre>\n"}],"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74447078,"answer_count":1,"score":0,"last_activity_date":1668521647,"creation_date":1668520947,"question_id":74446924,"body_markdown":"I&#39;m building a project in angular which connects to my java-backend (restapi). The project basics are already done, but now I&#39;m adding one by one some advanced calls. Suddenly, I come to the point where I&#39;m implementing a new method, but therequest just doesn&#39;t reach the method in the controller. I don&#39;t even get an error in the frontend, the backend just doesn&#39;t react. The frontend service creates the right url, makes the call, no error .. backend receives nothing.\r\n\r\nI tried changing the request to get, losing the pathvariables and using RequestBody, creating a simple test-controller that returns a String, .. nothing seems to work anymore, except what was already their. What am I doing wrong ? Why doesn&#39;t this specific request doesn&#39;t reach my backend?\r\n\r\nangular service:\r\n\r\n``` \r\n\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({\r\n    &#39;Content-Type&#39;:  &#39;application/json&#39;\r\n  })\r\n};\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\n\r\nexport class ProductService {\r\nurl = &quot;http://localhost:8080/products/&quot;;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  extendDateWithMonths(month : number, id:number | undefined): Observable&lt;Response&gt; {\r\n    console.log(&quot;service reached&quot;);\r\n    console.log(&quot;month: &quot; + month);\r\n    console.log(&quot;id: &quot; + id);\r\n    const specificUrl = this.url + &quot;extenddate/&quot;+ `${month}` +&quot;/&quot;+ `${id}`;\r\n    console.log(&quot;url: &quot; + specificUrl);\r\n    return this.http.post&lt;any&gt;(specificUrl, month, httpOptions);\r\n   \r\n  }\r\n}\r\n ```\r\nconsole.out request:\r\n\r\n - service reached \r\n - month: 3 \r\n - id: 1  \r\n - url:http://localhost:8080/products/extenddate/3/1\r\n\r\njava backend controller running on localhost 8080:\r\n\r\n``` \r\n\r\n@RestController\r\n@RequestMapping(&quot;/products&quot;)\r\n@CrossOrigin(exposedHeaders = &quot;http://localhost:4200&quot;)\r\npublic class ProductController {\r\n\r\n\t@Autowired\r\n\tProductService productService;\r\n\r\n\t@PostMapping(&quot;/extenddate/{month}/{id}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; extenddate(@PathVariable int month, @PathVariable long id){\r\n\t\tSystem.out.println(&quot;extenddate reached&quot;);\r\n\t\tproductService.extendProductsFromBon(month, id);\r\n\t\treturn ResponseEntity.ok(new MessageResponse(&quot;date extended successfully!&quot;));\r\n\t}\r\n}\r\n ```\r\n\r\nWhy doesn&#39;t this specific request doesn&#39;t reach my backend? Why don&#39;t I get an error or anything from the console? Either it can reach the restapi or it cannot, but this is very strange.","title":"Call from angular frontend to java backend fails without error","body":"<p>I'm building a project in angular which connects to my java-backend (restapi). The project basics are already done, but now I'm adding one by one some advanced calls. Suddenly, I come to the point where I'm implementing a new method, but therequest just doesn't reach the method in the controller. I don't even get an error in the frontend, the backend just doesn't react. The frontend service creates the right url, makes the call, no error .. backend receives nothing.</p>\n<p>I tried changing the request to get, losing the pathvariables and using RequestBody, creating a simple test-controller that returns a String, .. nothing seems to work anymore, except what was already their. What am I doing wrong ? Why doesn't this specific request doesn't reach my backend?</p>\n<p>angular service:</p>\n<pre><code>\n\nconst httpOptions = {\n  headers: new HttpHeaders({\n    'Content-Type':  'application/json'\n  })\n};\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ProductService {\nurl = &quot;http://localhost:8080/products/&quot;;\n\n  constructor(private http: HttpClient) { }\n\n  extendDateWithMonths(month : number, id:number | undefined): Observable&lt;Response&gt; {\n    console.log(&quot;service reached&quot;);\n    console.log(&quot;month: &quot; + month);\n    console.log(&quot;id: &quot; + id);\n    const specificUrl = this.url + &quot;extenddate/&quot;+ `${month}` +&quot;/&quot;+ `${id}`;\n    console.log(&quot;url: &quot; + specificUrl);\n    return this.http.post&lt;any&gt;(specificUrl, month, httpOptions);\n   \n  }\n}\n</code></pre>\n<p>console.out request:</p>\n<ul>\n<li>service reached</li>\n<li>month: 3</li>\n<li>id: 1</li>\n<li>url:http://localhost:8080/products/extenddate/3/1</li>\n</ul>\n<p>java backend controller running on localhost 8080:</p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;/products&quot;)\n@CrossOrigin(exposedHeaders = &quot;http://localhost:4200&quot;)\npublic class ProductController {\n\n    @Autowired\n    ProductService productService;\n\n    @PostMapping(&quot;/extenddate/{month}/{id}&quot;)\n    public ResponseEntity&lt;?&gt; extenddate(@PathVariable int month, @PathVariable long id){\n        System.out.println(&quot;extenddate reached&quot;);\n        productService.extendProductsFromBon(month, id);\n        return ResponseEntity.ok(new MessageResponse(&quot;date extended successfully!&quot;));\n    }\n}\n</code></pre>\n<p>Why doesn't this specific request doesn't reach my backend? Why don't I get an error or anything from the console? Either it can reach the restapi or it cannot, but this is very strange.</p>\n"},{"tags":["java","matrix","3d","processing","projection"],"comments":[{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1668558007,"post_id":74443149,"comment_id":131433602,"body_markdown":"There are functions in Processing that could simplify some of these tasks: [`camera()`](https://processing.org/reference/camera_.html), [`perspective()`](https://processing.org/reference/perspective_.html) to set projection, [`PMatrix3D`](https://processing.github.io/processing-javadocs/core/processing/core/PMatrix3D.html) to do the matrix to matrix / vector to matrix mulitplication, etc. and PApplet exposes PGraphics buffer `g` which with the `P3D` renderer has handy properties such as https://processing.github.io/processing-javadocs/core/processing/opengl/PGraphicsOpenGL.html#modelview ...","body":"There are functions in Processing that could simplify some of these tasks: <a href=\"https://processing.org/reference/camera_.html\" rel=\"nofollow noreferrer\"><code>camera()</code></a>, <a href=\"https://processing.org/reference/perspective_.html\" rel=\"nofollow noreferrer\"><code>perspective()</code></a> to set projection, <a href=\"https://processing.github.io/processing-javadocs/core/processing/core/PMatrix3D.html\" rel=\"nofollow noreferrer\"><code>PMatrix3D</code></a> to do the matrix to matrix / vector to matrix mulitplication, etc. and PApplet exposes PGraphics buffer <code>g</code> which with the <code>P3D</code> renderer has handy properties such as <a href=\"https://processing.github.io/processing-javadocs/core/processing/opengl/PGraphicsOpenGL.html#modelview\" rel=\"nofollow noreferrer\">processing.github.io/processing-javadocs/core/processing/ope&zwnj;&#8203;ngl/&hellip;</a> ..."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1668558104,"post_id":74443149,"comment_id":131433616,"body_markdown":"https://processing.github.io/processing-javadocs/core/processing/opengl/PGraphicsOpenGL.html#camera , https://processing.github.io/processing-javadocs/core/processing/opengl/PGraphicsOpenGL.html#projection though my hunch is you want to familiar yourself with linear albgebra / 3D Math, hence writing your own mini engine. The above may come in handy later on (hence why this is a comment and not an answer).","body":"<a href=\"https://processing.github.io/processing-javadocs/core/processing/opengl/PGraphicsOpenGL.html#camera\" rel=\"nofollow noreferrer\">processing.github.io/processing-javadocs/core/processing/ope&zwnj;&#8203;ngl/&hellip;</a> , <a href=\"https://processing.github.io/processing-javadocs/core/processing/opengl/PGraphicsOpenGL.html#projection\" rel=\"nofollow noreferrer\">processing.github.io/processing-javadocs/core/processing/ope&zwnj;&#8203;ngl/&hellip;</a> though my hunch is you want to familiar yourself with linear albgebra / 3D Math, hence writing your own mini engine. The above may come in handy later on (hence why this is a comment and not an answer)."}],"answers":[{"tags":[],"owner":{"account_id":17628634,"reputation":2611,"user_id":12793185,"display_name":"ardget"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668521473,"creation_date":1668521473,"answer_id":74447047,"question_id":74443149,"body_markdown":"The perspective projection formulas, `x / z` and `y / z` are valid only when `z &gt; 0`. If `z &lt; 0`, it gets flipped: `-x / abs(z)` and `-y / abs(z)`. So, in case any portions of the model can go to the backside of camera by rotation, you need to [clip][1] only valid parts (`z &gt; 0`) prior to applying perspective projection. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Clipping_(computer_graphics)#Clipping_in_3D_graphics\r\n\r\nFor example, minimal near-plane clipping for the wireframe model can be :\r\n\r\n    void draw()\r\n    {\r\n\r\n         :\r\n\r\n        //PVector[] points_projected = new PVector[points.length];\r\n        PVector[] points_view = new PVector[points.length];\r\n\r\n        for (int i = 0; i &lt; points.length; i++)\r\n        {\r\n            //points_projected[i] = applyPerspective(points[i]);\r\n            points_view[i] = applyViewTransform(points[i]);\r\n        }\r\n\r\n        float nearPlane = 1.0F;\r\n\r\n        for (int i = 0; i &lt; points_view.length; i++)\r\n        {\r\n            for (int a = 0; a &lt; points_view.length; a++)\r\n            {\r\n                // Alle Punkte verbinden\r\n                if (i == a) continue;\r\n                PVector p0 = points_view[i];\r\n                PVector p1 = points_view[a];\r\n                switch (((p0.z &gt;= nearPlane) ? 1 : 0) | ((p1.z &gt;= nearPlane) ? 2 : 0))\r\n                {\r\n                    case 0: // Both ends are in back of camera.\r\n                        continue;\r\n                    case 3: // Both ends are in front of camera.\r\n                        break;\r\n                    case 1: // p0.z &gt;= nearPlane &amp;&amp; p1.z &lt; nearPlane\r\n                        p1 = PVector.lerp(p0, p1, (p0.z - nearPlane) / (p0.z - p1.z));\r\n                        break;\r\n                    case 2: // p1.z &gt;= nearPlane &amp;&amp; p0.z &lt; nearPlane\r\n                        p0 = PVector.lerp(p1, p0, (p1.z - nearPlane) / (p1.z - p0.z));\r\n                        break;\r\n                }\r\n\r\n                //line(points_projected[i].x, points_projected[i].y, points_projected[a].x, points_projected[a].y);\r\n\r\n                PVector[] points_projected = {applyPerspectiveTransform(p0), applyPerspectiveTransform(p1)};\r\n                line(points_projected[0].x, points_projected[0].y, points_projected[1].x, points_projected[1].y);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\nWhere new functions, `applyViewTransform()` and `applyPerspectiveTransform()` were made by splitting `applyPerspective()` function as follows;\r\n\r\n - `applyViewTransform()`: Transform from world-space to camera-space.\r\n - `applyPerspectiveTransform()`: Perspective transform from 3d-space to 2d-screen-space.\r\n\r\n.\r\n\r\n    PVector applyPerspective(PVector p)\r\n    {\r\n        PVector d = applyViewTransform(p);\r\n        return applyPerspectiveTransform(d);\r\n    }\r\n\r\n    PVector applyViewTransform(PVector p)\r\n    {\r\n       \r\n        PVector c = cam;\r\n        PVector co = cam_angle;\r\n        //PVector e = new PVector(0, 0, 100);\r\n        // c = camera position\r\n        // co = camera orientation / camera rotation\r\n\r\n        // dx, dy, dz     https://en.wikipedia.org/wiki/3D_projection   :   Mathematical Formula\r\n        float[][] dxyz = matmul(\r\n                matmul(new float[][]{\r\n                        {1, 0, 0},\r\n                        {0, cos(co.x), sin(co.x)},\r\n                        {0, -sin(co.x), cos(co.x)}\r\n                }, new float[][]{\r\n                        {cos(co.y), 0, -sin(co.y)},\r\n                        {0, 1, 0},\r\n                        {sin(co.y), 0, cos(co.y)}\r\n                }),\r\n\r\n                matmul(new float[][]{\r\n                        {cos(co.z), sin(co.z), 0},\r\n                        {-sin(co.z), cos(co.z), 0},\r\n                        {0, 0, 1}\r\n                }, new float[][]{\r\n                        {p.x - c.x},\r\n                        {p.y - c.y},\r\n                        {p.z - c.z},\r\n                }));\r\n\r\n        PVector d = new PVector(dxyz[0][0], dxyz[1][0], dxyz[2][0]);\r\n        return d;\r\n    }\r\n\r\n    PVector applyPerspectiveTransform(PVector d)\r\n    {\r\n        PVector e = new PVector(0, 0, 100);\r\n        // e = displays surface pos relative to camera pinhole c\r\n        return new PVector((e.z / d.z) * d.x + e.x, (e.z / d.z) * d.y + e.y);\r\n    }\r\n\r\n\r\n","title":"3d projection Axis inversion problem (Java/Processing)","body":"<p>The perspective projection formulas, <code>x / z</code> and <code>y / z</code> are valid only when <code>z &gt; 0</code>. If <code>z &lt; 0</code>, it gets flipped: <code>-x / abs(z)</code> and <code>-y / abs(z)</code>. So, in case any portions of the model can go to the backside of camera by rotation, you need to <a href=\"https://en.wikipedia.org/wiki/Clipping_(computer_graphics)#Clipping_in_3D_graphics\" rel=\"nofollow noreferrer\">clip</a> only valid parts (<code>z &gt; 0</code>) prior to applying perspective projection.</p>\n<p>For example, minimal near-plane clipping for the wireframe model can be :</p>\n<pre><code>void draw()\n{\n\n     :\n\n    //PVector[] points_projected = new PVector[points.length];\n    PVector[] points_view = new PVector[points.length];\n\n    for (int i = 0; i &lt; points.length; i++)\n    {\n        //points_projected[i] = applyPerspective(points[i]);\n        points_view[i] = applyViewTransform(points[i]);\n    }\n\n    float nearPlane = 1.0F;\n\n    for (int i = 0; i &lt; points_view.length; i++)\n    {\n        for (int a = 0; a &lt; points_view.length; a++)\n        {\n            // Alle Punkte verbinden\n            if (i == a) continue;\n            PVector p0 = points_view[i];\n            PVector p1 = points_view[a];\n            switch (((p0.z &gt;= nearPlane) ? 1 : 0) | ((p1.z &gt;= nearPlane) ? 2 : 0))\n            {\n                case 0: // Both ends are in back of camera.\n                    continue;\n                case 3: // Both ends are in front of camera.\n                    break;\n                case 1: // p0.z &gt;= nearPlane &amp;&amp; p1.z &lt; nearPlane\n                    p1 = PVector.lerp(p0, p1, (p0.z - nearPlane) / (p0.z - p1.z));\n                    break;\n                case 2: // p1.z &gt;= nearPlane &amp;&amp; p0.z &lt; nearPlane\n                    p0 = PVector.lerp(p1, p0, (p1.z - nearPlane) / (p1.z - p0.z));\n                    break;\n            }\n\n            //line(points_projected[i].x, points_projected[i].y, points_projected[a].x, points_projected[a].y);\n\n            PVector[] points_projected = {applyPerspectiveTransform(p0), applyPerspectiveTransform(p1)};\n            line(points_projected[0].x, points_projected[0].y, points_projected[1].x, points_projected[1].y);\n\n        }\n    }\n}\n</code></pre>\n<p>Where new functions, <code>applyViewTransform()</code> and <code>applyPerspectiveTransform()</code> were made by splitting <code>applyPerspective()</code> function as follows;</p>\n<ul>\n<li><code>applyViewTransform()</code>: Transform from world-space to camera-space.</li>\n<li><code>applyPerspectiveTransform()</code>: Perspective transform from 3d-space to 2d-screen-space.</li>\n</ul>\n<p>.</p>\n<pre><code>PVector applyPerspective(PVector p)\n{\n    PVector d = applyViewTransform(p);\n    return applyPerspectiveTransform(d);\n}\n\nPVector applyViewTransform(PVector p)\n{\n   \n    PVector c = cam;\n    PVector co = cam_angle;\n    //PVector e = new PVector(0, 0, 100);\n    // c = camera position\n    // co = camera orientation / camera rotation\n\n    // dx, dy, dz     https://en.wikipedia.org/wiki/3D_projection   :   Mathematical Formula\n    float[][] dxyz = matmul(\n            matmul(new float[][]{\n                    {1, 0, 0},\n                    {0, cos(co.x), sin(co.x)},\n                    {0, -sin(co.x), cos(co.x)}\n            }, new float[][]{\n                    {cos(co.y), 0, -sin(co.y)},\n                    {0, 1, 0},\n                    {sin(co.y), 0, cos(co.y)}\n            }),\n\n            matmul(new float[][]{\n                    {cos(co.z), sin(co.z), 0},\n                    {-sin(co.z), cos(co.z), 0},\n                    {0, 0, 1}\n            }, new float[][]{\n                    {p.x - c.x},\n                    {p.y - c.y},\n                    {p.z - c.z},\n            }));\n\n    PVector d = new PVector(dxyz[0][0], dxyz[1][0], dxyz[2][0]);\n    return d;\n}\n\nPVector applyPerspectiveTransform(PVector d)\n{\n    PVector e = new PVector(0, 0, 100);\n    // e = displays surface pos relative to camera pinhole c\n    return new PVector((e.z / d.z) * d.x + e.x, (e.z / d.z) * d.y + e.y);\n}\n</code></pre>\n"}],"owner":{"account_id":26053641,"reputation":35,"user_id":19756377,"display_name":"mardari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74447047,"answer_count":1,"score":0,"last_activity_date":1668521473,"creation_date":1668503825,"question_id":74443149,"body_markdown":"*Brief introduction: Unfortunately I always had problems with math and was never good at it. I&#39;m currently trying to combine math with my knowledge and my passion for programming. In linear algebra, we now have topics of matrix multiplication and 3D projection, which sounds more interesting to me as an enthusiastic programmer than the whole thing with abstract number theories. So I set myself the goal of programming a small 3D game in Processing (Java). My first success was to rotate a Cube in 3 dimensions and had no problems with that.*\r\n\r\n---\r\n\r\n**What I want**: After that however I wanted to have a **camera perspective for a three-dimensional space**. I took the 3D projection matrix from here: [Mathematical Formula](https://en.m.wikipedia.org/wiki/3D_projection)\r\n\r\n**The issue**: I noticed that when I rotate the camera, the projection (the box in this case) flips horizontally and vertically as seen in the video [here](https://www.youtube.com/watch?v=_xrSYmCa_FQ). What is happening (timestamp 0:14) and how can I fix it?\r\n\r\nThis is my code:\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\n\r\nPVector[] points;\r\n\r\nPVector cam, cam_angle, point;\r\n\r\nfloat angle = 0.0;\r\n\r\nvoid setup() {\r\n  //fullScreen();  \r\n  \r\n  size(1000,400);\r\n  noCursor();\r\n\r\n  cam = point = new PVector(0, 0, -1000);\r\n  cam_angle = new PVector(0,0,0);\r\n\r\n  points = new PVector[] {\r\n    new PVector(-100, -100, -100),\r\n    new PVector(-100, -100, 100),\r\n    new PVector(-100, 100, -100),\r\n    new PVector(-100, 100, 100),\r\n    new PVector( 100, -100, -100),\r\n    new PVector( 100, -100, 100),\r\n    new PVector( 100, 100, -100),\r\n    new PVector( 100, 100, 100),\r\n  };\r\n  \r\n}\r\n\r\n\r\nPVector Rotate2d(PVector p, float a) {\r\n  // a = angle\r\n\r\n  float[][] m2 = {\r\n    {cos(a), -sin(a)},\r\n    {sin(a), cos(a)}\r\n  };\r\n\r\n  float[][] rotated = matmul(m2, new float[][] {\r\n    { p.x },\r\n    { p.y }\r\n    });\r\n\r\n  return new PVector(rotated[0][0], rotated[1][0]);\r\n}\r\n\r\n\r\nPVector Rotate3d(PVector p, float[][] m2) {\r\n\r\n  float[][] rotated = matmul(m2, new float[][] {\r\n    { p.x },\r\n    { p.y },\r\n    { p.z }\r\n    });\r\n\r\n  return new PVector(rotated[0][0], rotated[1][0], rotated[2][0]);\r\n}\r\n\r\n\r\n\r\nPVector Rotate3d_x(PVector p, float a) {\r\n  return Rotate3d(p,\r\n    new float[][] {\r\n    {1, 0, 0},\r\n    {0, cos(a), -sin(a)},\r\n    {0, sin(a), cos(a)}\r\n    });\r\n};\r\n\r\nPVector Rotate3d_y(PVector p, float a) {\r\n  return Rotate3d(p,\r\n    new float[][] {\r\n    {cos(a), 0, sin(a)},\r\n    {0, 1, 0},\r\n    {-sin(a), 0, cos(a)}\r\n    });\r\n}\r\n\r\nPVector Rotate3d_z(PVector p, float a) {\r\n  return Rotate3d(p,\r\n    new float[][] {\r\n    {cos(a), -sin(a), 0},\r\n    {sin(a), cos(a), 0},\r\n    {0, 0, 1}\r\n    });\r\n}\r\n\r\nPVector Rotate3d(PVector p, PVector a) {\r\n  return Rotate3d_z( Rotate3d_y(Rotate3d_x(p, a.x), a.y), a.z );\r\n}\r\n\r\n\r\n\r\nPVector applyPerspective(PVector p) {\r\n   PVector c = cam;\r\n   PVector co = cam_angle;\r\n   PVector e =  new PVector(0, 0, 100);\r\n  // c = camera position\r\n  // co = camera orientation / camera rotation\r\n  // e = displays surface pos relative to camera pinhole c\r\n\r\n  // dx, dy, dz     https://en.wikipedia.org/wiki/3D_projection   :   Mathematical Formula\r\n  float[][] dxyz = matmul(\r\n    matmul(new float[][]{\r\n    {1, 0, 0},\r\n    {0, cos(co.x), sin(co.x)},\r\n    {0, -sin(co.x), cos(co.x)}\r\n    }, new float[][]{\r\n      {cos(co.y), 0, -sin(co.y)},\r\n      {0, 1, 0},\r\n      {sin(co.y), 0, cos(co.y)}\r\n    }),\r\n\r\n    matmul(new float[][]{\r\n      {cos(co.z), sin(co.z), 0},\r\n      {-sin(co.z), cos(co.z), 0},\r\n      {0, 0, 1}\r\n    }, new float[][]{\r\n      {p.x - c.x},\r\n      {p.y - c.y},\r\n      {p.z - c.z},\r\n    }));\r\n\r\n  PVector d = new PVector(dxyz[0][0], dxyz[1][0], dxyz[2][0]);\r\n\r\n  return new PVector((e.z/d.z)*d.x+e.x, (e.z/d.z)*d.y+e.y);\r\n}\r\n\r\n\r\n\r\n// Matrixmultiplikation\r\nfloat[][] matmul(float[][] m1, float[][] m2) {\r\n\r\n  int cols_m1 = m1.length,\r\n    rows_m1 = m1[0].length;\r\n\r\n  int cols_m2 = m2.length,\r\n    rows_m2 = m2[0].length;\r\n\r\n  try {\r\n    if (rows_m1 != cols_m2) throw new Exception(&quot;Rows of m1 must match Columns of m2!&quot;);\r\n  }\r\n  catch(Exception e) {\r\n    println(e);\r\n  }\r\n\r\n\r\n  float[][] res = new float[cols_m2][rows_m2];\r\n\r\n\r\n  for (int c=0; c &lt; cols_m1; c++) {\r\n\r\n    for (int r2=0; r2 &lt; rows_m2; r2++) {\r\n\r\n      float sum = 0;\r\n      float[] buf = new float[rows_m1];\r\n\r\n      // Multiply rows of m1 with columns of m2 and store in buf\r\n      for (int r=0; r &lt; rows_m1; r++) {\r\n        buf[r] = m1[c][r]* m2[r][r2];\r\n      }\r\n\r\n      // Add up all entries into sum\r\n      for (float entry : buf) {\r\n        sum += entry;\r\n      }\r\n\r\n      res[c][r2] = sum;\r\n    }\r\n  }\r\n\r\n  return res;\r\n}\r\n\r\n\r\nvoid draw() {\r\n  cam_angle = new PVector(0.01*(mouseY-width/2), 0.01*(mouseX-height/2), 0);\r\n  \r\n  background(255);\r\n  translate(width/2, height/2);\r\n  strokeWeight(1);\r\n  fill(0);\r\n\r\n  PVector[] points_projected = new PVector[points.length];\r\n\r\n  for (int i=0; i &lt; points.length; i++) {\r\n    points_projected[i] =   applyPerspective(points[i]);\r\n  }\r\n\r\n  \r\n  for (int i=0; i &lt; points_projected.length; i++) {    \r\n    for (int a=0; a &lt; points_projected.length; a++) {\r\n      // Alle Punkte verbinden\r\n      line(points_projected[i].x, points_projected[i].y, points_projected[a].x, points_projected[a].y);\r\n    }\r\n  }  \r\n}\r\n\r\n\r\nvoid keyPressed() {\r\n  if (key == &#39;w&#39;) {\r\n    cam.add(Rotate3d(new PVector(0, 0, -20), cam_angle));\r\n  }\r\n  \r\n  if (key == &#39;a&#39;) {\r\n    cam.add(Rotate3d(new PVector(20, 0, 0), cam_angle));\r\n\r\n  }\r\n  \r\n  if (key == &#39;s&#39;) {\r\n    cam.add(Rotate3d(new PVector(0, 0, 20), cam_angle));\r\n\r\n  }\r\n  \r\n  if (key == &#39;d&#39;) {\r\n   cam.add(Rotate3d(new PVector(-20, 0, 0), cam_angle));\r\n\r\n  }  \r\n}\r\n```\r\n\r\nI also tried changing the values for \r\n```\r\n// e = displays surface position relative to camera pinhole c\r\nPVector e = new PVector(0, 0, 1000);\r\n```\r\naround, which didn&#39;t help either.","title":"3d projection Axis inversion problem (Java/Processing)","body":"<p><em>Brief introduction: Unfortunately I always had problems with math and was never good at it. I'm currently trying to combine math with my knowledge and my passion for programming. In linear algebra, we now have topics of matrix multiplication and 3D projection, which sounds more interesting to me as an enthusiastic programmer than the whole thing with abstract number theories. So I set myself the goal of programming a small 3D game in Processing (Java). My first success was to rotate a Cube in 3 dimensions and had no problems with that.</em></p>\n<hr />\n<p><strong>What I want</strong>: After that however I wanted to have a <strong>camera perspective for a three-dimensional space</strong>. I took the 3D projection matrix from here: <a href=\"https://en.m.wikipedia.org/wiki/3D_projection\" rel=\"nofollow noreferrer\">Mathematical Formula</a></p>\n<p><strong>The issue</strong>: I noticed that when I rotate the camera, the projection (the box in this case) flips horizontally and vertically as seen in the video <a href=\"https://www.youtube.com/watch?v=_xrSYmCa_FQ\" rel=\"nofollow noreferrer\">here</a>. What is happening (timestamp 0:14) and how can I fix it?</p>\n<p>This is my code:</p>\n<pre><code>import java.util.Arrays;\n\n\nPVector[] points;\n\nPVector cam, cam_angle, point;\n\nfloat angle = 0.0;\n\nvoid setup() {\n  //fullScreen();  \n  \n  size(1000,400);\n  noCursor();\n\n  cam = point = new PVector(0, 0, -1000);\n  cam_angle = new PVector(0,0,0);\n\n  points = new PVector[] {\n    new PVector(-100, -100, -100),\n    new PVector(-100, -100, 100),\n    new PVector(-100, 100, -100),\n    new PVector(-100, 100, 100),\n    new PVector( 100, -100, -100),\n    new PVector( 100, -100, 100),\n    new PVector( 100, 100, -100),\n    new PVector( 100, 100, 100),\n  };\n  \n}\n\n\nPVector Rotate2d(PVector p, float a) {\n  // a = angle\n\n  float[][] m2 = {\n    {cos(a), -sin(a)},\n    {sin(a), cos(a)}\n  };\n\n  float[][] rotated = matmul(m2, new float[][] {\n    { p.x },\n    { p.y }\n    });\n\n  return new PVector(rotated[0][0], rotated[1][0]);\n}\n\n\nPVector Rotate3d(PVector p, float[][] m2) {\n\n  float[][] rotated = matmul(m2, new float[][] {\n    { p.x },\n    { p.y },\n    { p.z }\n    });\n\n  return new PVector(rotated[0][0], rotated[1][0], rotated[2][0]);\n}\n\n\n\nPVector Rotate3d_x(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {1, 0, 0},\n    {0, cos(a), -sin(a)},\n    {0, sin(a), cos(a)}\n    });\n};\n\nPVector Rotate3d_y(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {cos(a), 0, sin(a)},\n    {0, 1, 0},\n    {-sin(a), 0, cos(a)}\n    });\n}\n\nPVector Rotate3d_z(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {cos(a), -sin(a), 0},\n    {sin(a), cos(a), 0},\n    {0, 0, 1}\n    });\n}\n\nPVector Rotate3d(PVector p, PVector a) {\n  return Rotate3d_z( Rotate3d_y(Rotate3d_x(p, a.x), a.y), a.z );\n}\n\n\n\nPVector applyPerspective(PVector p) {\n   PVector c = cam;\n   PVector co = cam_angle;\n   PVector e =  new PVector(0, 0, 100);\n  // c = camera position\n  // co = camera orientation / camera rotation\n  // e = displays surface pos relative to camera pinhole c\n\n  // dx, dy, dz     https://en.wikipedia.org/wiki/3D_projection   :   Mathematical Formula\n  float[][] dxyz = matmul(\n    matmul(new float[][]{\n    {1, 0, 0},\n    {0, cos(co.x), sin(co.x)},\n    {0, -sin(co.x), cos(co.x)}\n    }, new float[][]{\n      {cos(co.y), 0, -sin(co.y)},\n      {0, 1, 0},\n      {sin(co.y), 0, cos(co.y)}\n    }),\n\n    matmul(new float[][]{\n      {cos(co.z), sin(co.z), 0},\n      {-sin(co.z), cos(co.z), 0},\n      {0, 0, 1}\n    }, new float[][]{\n      {p.x - c.x},\n      {p.y - c.y},\n      {p.z - c.z},\n    }));\n\n  PVector d = new PVector(dxyz[0][0], dxyz[1][0], dxyz[2][0]);\n\n  return new PVector((e.z/d.z)*d.x+e.x, (e.z/d.z)*d.y+e.y);\n}\n\n\n\n// Matrixmultiplikation\nfloat[][] matmul(float[][] m1, float[][] m2) {\n\n  int cols_m1 = m1.length,\n    rows_m1 = m1[0].length;\n\n  int cols_m2 = m2.length,\n    rows_m2 = m2[0].length;\n\n  try {\n    if (rows_m1 != cols_m2) throw new Exception(&quot;Rows of m1 must match Columns of m2!&quot;);\n  }\n  catch(Exception e) {\n    println(e);\n  }\n\n\n  float[][] res = new float[cols_m2][rows_m2];\n\n\n  for (int c=0; c &lt; cols_m1; c++) {\n\n    for (int r2=0; r2 &lt; rows_m2; r2++) {\n\n      float sum = 0;\n      float[] buf = new float[rows_m1];\n\n      // Multiply rows of m1 with columns of m2 and store in buf\n      for (int r=0; r &lt; rows_m1; r++) {\n        buf[r] = m1[c][r]* m2[r][r2];\n      }\n\n      // Add up all entries into sum\n      for (float entry : buf) {\n        sum += entry;\n      }\n\n      res[c][r2] = sum;\n    }\n  }\n\n  return res;\n}\n\n\nvoid draw() {\n  cam_angle = new PVector(0.01*(mouseY-width/2), 0.01*(mouseX-height/2), 0);\n  \n  background(255);\n  translate(width/2, height/2);\n  strokeWeight(1);\n  fill(0);\n\n  PVector[] points_projected = new PVector[points.length];\n\n  for (int i=0; i &lt; points.length; i++) {\n    points_projected[i] =   applyPerspective(points[i]);\n  }\n\n  \n  for (int i=0; i &lt; points_projected.length; i++) {    \n    for (int a=0; a &lt; points_projected.length; a++) {\n      // Alle Punkte verbinden\n      line(points_projected[i].x, points_projected[i].y, points_projected[a].x, points_projected[a].y);\n    }\n  }  \n}\n\n\nvoid keyPressed() {\n  if (key == 'w') {\n    cam.add(Rotate3d(new PVector(0, 0, -20), cam_angle));\n  }\n  \n  if (key == 'a') {\n    cam.add(Rotate3d(new PVector(20, 0, 0), cam_angle));\n\n  }\n  \n  if (key == 's') {\n    cam.add(Rotate3d(new PVector(0, 0, 20), cam_angle));\n\n  }\n  \n  if (key == 'd') {\n   cam.add(Rotate3d(new PVector(-20, 0, 0), cam_angle));\n\n  }  \n}\n</code></pre>\n<p>I also tried changing the values for</p>\n<pre><code>// e = displays surface position relative to camera pinhole c\nPVector e = new PVector(0, 0, 1000);\n</code></pre>\n<p>around, which didn't help either.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":26759497,"reputation":17,"user_id":20485604,"display_name":"kratnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668521184,"creation_date":1668521184,"answer_id":74446986,"question_id":74438378,"body_markdown":"With lots of googling and trial and error I found this solution https://www.javadevjournal.com/spring-boot/spring-boot-ssl/\r\n\r\nBut I&#39;m still wondering why the above solution didn&#39;t work\r\n\r\n    @Bean\r\n    public ServletWebServerFactory servletContainer() {\r\n    \tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {@Override\r\n    \t\tprotected void postProcessContext(Context context) {\r\n    \t\t\tSecurityConstraint securityConstraint = new SecurityConstraint();\r\n    \t\t\tsecurityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n    \t\t\tSecurityCollection collection = new SecurityCollection();\r\n    \t\t\tcollection.addPattern(&quot;/*&quot;);\r\n    \t\t\tsecurityConstraint.addCollection(collection);\r\n    \t\t\tcontext.addConstraint(securityConstraint);\r\n    \t\t}\r\n    \t};\r\n    \ttomcat.addAdditionalTomcatConnectors(redirectConnector());\r\n    \treturn tomcat;\r\n    }\r\n    \r\n    private Connector redirectConnector() {\r\n    \tConnector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n    \tconnector.setScheme(&quot;http&quot;);\r\n    \tconnector.setPort(8080);\r\n    \tconnector.setSecure(false);\r\n    \tconnector.setRedirectPort(8443);\r\n    \treturn connector;\r\n    }","title":"portMapper().http(8080).mapsTo(8443) doesn&#39;t redirect http to https spring boot 2.7.4","body":"<p>With lots of googling and trial and error I found this solution <a href=\"https://www.javadevjournal.com/spring-boot/spring-boot-ssl/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring-boot/spring-boot-ssl/</a></p>\n<p>But I'm still wondering why the above solution didn't work</p>\n<pre><code>@Bean\npublic ServletWebServerFactory servletContainer() {\n    TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {@Override\n        protected void postProcessContext(Context context) {\n            SecurityConstraint securityConstraint = new SecurityConstraint();\n            securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n            SecurityCollection collection = new SecurityCollection();\n            collection.addPattern(&quot;/*&quot;);\n            securityConstraint.addCollection(collection);\n            context.addConstraint(securityConstraint);\n        }\n    };\n    tomcat.addAdditionalTomcatConnectors(redirectConnector());\n    return tomcat;\n}\n\nprivate Connector redirectConnector() {\n    Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n    connector.setScheme(&quot;http&quot;);\n    connector.setPort(8080);\n    connector.setSecure(false);\n    connector.setRedirectPort(8443);\n    return connector;\n}\n</code></pre>\n"}],"owner":{"account_id":26759497,"reputation":17,"user_id":20485604,"display_name":"kratnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74446986,"answer_count":1,"score":1,"last_activity_date":1668521184,"creation_date":1668463421,"question_id":74438378,"body_markdown":"I&#39;m very new to Spring Boot and software development.\r\n\r\nI want to redirect http requests to https counterpart. Https and the rest of the functionality seems to work fine\r\n\r\nThank you for your input!\r\n\r\n`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.4&lt;/version&gt;\r\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;name&gt;taco-cloud&lt;/name&gt;\r\n   &lt;description&gt;Taco Cloud Example&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;17&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n         &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n               &lt;excludes&gt;\r\n                  &lt;exclude&gt;\r\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                  &lt;/exclude&gt;\r\n               &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n`\r\n\r\n`\r\n```\r\npackage tacos.config;\r\n\r\nimport com.fasterxml.jackson.databind.annotation.JsonAppend;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport tacos.model.User;\r\nimport tacos.repository.UserRepository;\r\n\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(UserRepository userRepository){\r\n        return username -&gt; {\r\n            User user = userRepository.findByUsername(username);\r\n            if (user != null) return user;\r\n            throw new UsernameNotFoundException(&quot;User &quot; + username + &quot;not found&quot;);\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception{\r\n        return httpSecurity.authorizeRequests().\r\n                antMatchers(&quot;/design&quot;,&quot;/orders&quot;,&quot;/orders/*&quot;).hasRole(&quot;USER&quot;).\r\n                antMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll().\r\n                antMatchers(&quot;/h2-console/**&quot;).permitAll().\r\n                and().\r\n                csrf().ignoringAntMatchers(&quot;/h2-console/**&quot;).\r\n                and().\r\n                headers().frameOptions().sameOrigin().\r\n                and().\r\n                formLogin().loginPage(&quot;/login&quot;).\r\n                loginProcessingUrl(&quot;/authenticate&quot;).\r\n                usernameParameter(&quot;user&quot;).\r\n                passwordParameter(&quot;pwd&quot;).\r\n                defaultSuccessUrl(&quot;/design&quot;, true).and().\r\n                oauth2Login().loginPage(&quot;/login&quot;).and().\r\n                logout().\r\n                and().\r\n                requiresChannel().anyRequest().requiresSecure().\r\n                and().\r\n                portMapper().http(8080)\r\n                .mapsTo(8443).\r\n                and().build();\r\n    }\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nI saw a number of questions here where answer was to add portMapper().http(8080).mapsTo(8443) to configuration. But for me this doesn&#39;t solve the issue.\r\nI saw other much more cumbersome solutions involving TomcatEmbeddedServletContainerFactory\r\n","title":"portMapper().http(8080).mapsTo(8443) doesn&#39;t redirect http to https spring boot 2.7.4","body":"<p>I'm very new to Spring Boot and software development.</p>\n<p>I want to redirect http requests to https counterpart. Https and the rest of the functionality seems to work fine</p>\n<p>Thank you for your input!</p>\n<p>`</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.7.4&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;taco-cloud&lt;/name&gt;\n   &lt;description&gt;Taco Cloud Example&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;17&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n         &lt;artifactId&gt;h2&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n               &lt;excludes&gt;\n                  &lt;exclude&gt;\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                  &lt;/exclude&gt;\n               &lt;/excludes&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>package tacos.config;\n\nimport com.fasterxml.jackson.databind.annotation.JsonAppend;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport tacos.model.User;\nimport tacos.repository.UserRepository;\n\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(UserRepository userRepository){\n        return username -&gt; {\n            User user = userRepository.findByUsername(username);\n            if (user != null) return user;\n            throw new UsernameNotFoundException(&quot;User &quot; + username + &quot;not found&quot;);\n        };\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception{\n        return httpSecurity.authorizeRequests().\n                antMatchers(&quot;/design&quot;,&quot;/orders&quot;,&quot;/orders/*&quot;).hasRole(&quot;USER&quot;).\n                antMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll().\n                antMatchers(&quot;/h2-console/**&quot;).permitAll().\n                and().\n                csrf().ignoringAntMatchers(&quot;/h2-console/**&quot;).\n                and().\n                headers().frameOptions().sameOrigin().\n                and().\n                formLogin().loginPage(&quot;/login&quot;).\n                loginProcessingUrl(&quot;/authenticate&quot;).\n                usernameParameter(&quot;user&quot;).\n                passwordParameter(&quot;pwd&quot;).\n                defaultSuccessUrl(&quot;/design&quot;, true).and().\n                oauth2Login().loginPage(&quot;/login&quot;).and().\n                logout().\n                and().\n                requiresChannel().anyRequest().requiresSecure().\n                and().\n                portMapper().http(8080)\n                .mapsTo(8443).\n                and().build();\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n<p>I saw a number of questions here where answer was to add portMapper().http(8080).mapsTo(8443) to configuration. But for me this doesn't solve the issue.\nI saw other much more cumbersome solutions involving TomcatEmbeddedServletContainerFactory</p>\n"},{"tags":["java","spring-boot","spring-kafka","flush"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668521148,"creation_date":1668521148,"answer_id":74446975,"question_id":74441918,"body_markdown":"You generally don&#39;t need to flush the template (unless you have a large `linger.ms` and want to pre-empt it).\r\n\r\nYes, it will flush everything.\r\n\r\nInstead, you can wait on the `Future` returned by the send, to get the `SendResult`, rather than adding a listener to it to get an async callback.","title":"Flush one shared KafkaTemplate&lt;String, Object&gt; vs flushing multiple specific KafkaTemplates&lt;String, T&gt;","body":"<p>You generally don't need to flush the template (unless you have a large <code>linger.ms</code> and want to pre-empt it).</p>\n<p>Yes, it will flush everything.</p>\n<p>Instead, you can wait on the <code>Future</code> returned by the send, to get the <code>SendResult</code>, rather than adding a listener to it to get an async callback.</p>\n"}],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668521148,"creation_date":1668497025,"question_id":74441918,"body_markdown":"I use `flush` method in `KafkaTemplate` to ensure the messages are successfully sent to the broker. I have different topics and different type of messages. The example of the service is below. There will be several beans of the service depending on the type of the message `&lt;T&gt;`. I plan to use common `KafkaTemplate&lt;String, Object&gt;` shared in those services. \r\n\r\nI am worried about flushing of the same shared `KafkaTemplate&lt;String, Object&gt;` in different services. If I call `flush` in one service bean, apparentely it will trigger flushing all messages of all types. In general it is ok and will break nothing for me. But from performance point of view: maybe it is better to use different `kafkaTemplate&lt;String, T&gt;` in differnt &lt;T&gt; beans and flush different `KafkaTemplate&lt;String, T&gt;`? \r\n\r\n    public class SenderServiceImpl&lt;T&gt; implements SenderService&lt;T&gt; {\r\n        \r\n        // use one shared kafkaTemplate for any T beans\r\n        private final KafkaTemplate&lt;String, Object&gt; kafkaTemplate;\r\n\r\n        // ??? or maybe use multiple specific kafkaTemplate for specific T bean ???\r\n        // Might it get a performance gain ?\r\n        // private final KafkaTemplate&lt;String, T&gt; kafkaTemplate;\r\n    \r\n        @Override\r\n        public List&lt;T&gt; sendMessages(String topicName, List&lt;T&gt; list) {\r\n            List&lt;T&gt; successList = new ArrayList&lt;&gt;();\r\n            list.forEach(value -&gt;\r\n                    kafkaTemplate.send(topicName, value)\r\n                            .addCallback(new ListenableFutureCallback&lt;&gt;() {\r\n                                @Override\r\n                                public void onSuccess(SendResult&lt;String, E&gt; result) {\r\n                                    successList.add(value.getId());\r\n                                    log.debug(&quot;Successfully send message ...&quot;);\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onFailure(Throwable exception) {\r\n                                    log.warn(&quot;Fail to send message ...&quot;);\r\n                                }\r\n                            }));\r\n            kafkaTemplate.flush();\r\n            return successList;\r\n        }\r\n    }","title":"Flush one shared KafkaTemplate&lt;String, Object&gt; vs flushing multiple specific KafkaTemplates&lt;String, T&gt;","body":"<p>I use <code>flush</code> method in <code>KafkaTemplate</code> to ensure the messages are successfully sent to the broker. I have different topics and different type of messages. The example of the service is below. There will be several beans of the service depending on the type of the message <code>&lt;T&gt;</code>. I plan to use common <code>KafkaTemplate&lt;String, Object&gt;</code> shared in those services.</p>\n<p>I am worried about flushing of the same shared <code>KafkaTemplate&lt;String, Object&gt;</code> in different services. If I call <code>flush</code> in one service bean, apparentely it will trigger flushing all messages of all types. In general it is ok and will break nothing for me. But from performance point of view: maybe it is better to use different <code>kafkaTemplate&lt;String, T&gt;</code> in differnt  beans and flush different <code>KafkaTemplate&lt;String, T&gt;</code>?</p>\n<pre><code>public class SenderServiceImpl&lt;T&gt; implements SenderService&lt;T&gt; {\n    \n    // use one shared kafkaTemplate for any T beans\n    private final KafkaTemplate&lt;String, Object&gt; kafkaTemplate;\n\n    // ??? or maybe use multiple specific kafkaTemplate for specific T bean ???\n    // Might it get a performance gain ?\n    // private final KafkaTemplate&lt;String, T&gt; kafkaTemplate;\n\n    @Override\n    public List&lt;T&gt; sendMessages(String topicName, List&lt;T&gt; list) {\n        List&lt;T&gt; successList = new ArrayList&lt;&gt;();\n        list.forEach(value -&gt;\n                kafkaTemplate.send(topicName, value)\n                        .addCallback(new ListenableFutureCallback&lt;&gt;() {\n                            @Override\n                            public void onSuccess(SendResult&lt;String, E&gt; result) {\n                                successList.add(value.getId());\n                                log.debug(&quot;Successfully send message ...&quot;);\n                            }\n\n                            @Override\n                            public void onFailure(Throwable exception) {\n                                log.warn(&quot;Fail to send message ...&quot;);\n                            }\n                        }));\n        kafkaTemplate.flush();\n        return successList;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","navbar"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1668522742,"post_id":74446913,"comment_id":131422300,"body_markdown":"How about `app:itemBackground=&quot;@android:color/transparent&quot;`?","body":"How about <code>app:itemBackground=&quot;@android:color&#47;transparent&quot;</code>?"},{"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"score":0,"creation_date":1668537782,"post_id":74446913,"comment_id":131428309,"body_markdown":"nope, I tried to put it inside the bottomview, the appbar and the bottomview style, but nothing, that background and that text still there","body":"nope, I tried to put it inside the bottomview, the appbar and the bottomview style, but nothing, that background and that text still there"}],"owner":{"account_id":17408002,"reputation":97,"user_id":12615735,"display_name":"C-Gian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668520909,"creation_date":1668520909,"question_id":74446913,"body_markdown":"As you can see in this gif:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OyDCf.gif\r\n\r\nwhen I click an icon on the navbar the icon and text background appear, also, if I long click it will appear a text too, how can I remove the icon and text background and the long click text?","title":"android bottom navbar shows text and background when clicked","body":"<p>As you can see in this gif:</p>\n<p><a href=\"https://i.stack.imgur.com/OyDCf.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OyDCf.gif\" alt=\"enter image description here\" /></a></p>\n<p>when I click an icon on the navbar the icon and text background appear, also, if I long click it will appear a text too, how can I remove the icon and text background and the long click text?</p>\n"},{"tags":["java","android","request","http-post","android-volley"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1668521843,"post_id":74446860,"comment_id":131421891,"body_markdown":"because of the limit of logcat log ? save to the file instead and check then (or just show in log in 4k chunks)","body":"because of the limit of logcat log ? save to the file instead and check then (or just show in log in 4k chunks)"},{"owner":{"account_id":22341995,"reputation":750,"user_id":16561638,"display_name":"Robin Hood"},"score":1,"creation_date":1668522151,"post_id":74446860,"comment_id":131422036,"body_markdown":"Yes, @Selvin right there is a limit to logcat log, but you can check your full response by adding a breakpoint in  onResponse method","body":"Yes, @Selvin right there is a limit to logcat log, but you can check your full response by adding a breakpoint in  onResponse method"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1668522253,"post_id":74446860,"comment_id":131422081,"body_markdown":"as I wrote ... log to file or log in chunks","body":"as I wrote ... log to file or log in chunks"},{"owner":{"account_id":22341995,"reputation":750,"user_id":16561638,"display_name":"Robin Hood"},"score":1,"creation_date":1668522481,"post_id":74446860,"comment_id":131422179,"body_markdown":"you can also increase the logger buffer size in the Developer options","body":"you can also increase the logger buffer size in the Developer options"}],"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668520663,"creation_date":1668520663,"question_id":74446860,"body_markdown":"My complete response in Postman is the following but I can&#39;t get a complete response as JSON when using Volley android.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/LDo1d.png)](https://i.stack.imgur.com/LDo1d.png)\r\n\r\n\r\nMy volley code :\r\n\r\nI have no problem sending a request but I show my logic that maybe was a problem with my code.\r\n\r\n\r\n\r\n```\r\n    public void makeAssignment(final String token,   HashMap&lt;String,String&gt; info_doc , List&lt;Region&gt; result, final OnMakeAssignment onMakeAssignment) {\r\n        HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n        params.put(&quot;document_type&quot;, info_doc.get(&quot;type_doc&quot;));\r\n        params.put(&quot;title&quot;, info_doc.get(&quot;title_doc&quot;));\r\n        params.put(&quot;meter&quot;, info_doc.get(&quot;meter_doc&quot;));\r\n        params.put(&quot;price&quot;, info_doc.get(&quot;price_frosh&quot;));\r\n        params.put(&quot;mortgage_price&quot;, info_doc.get(&quot;vagozari_price_rahn&quot;)); // رهن\r\n        params.put(&quot;monthly_rent_price&quot;, info_doc.get(&quot;vagozari_price_ejareh&quot;)); // ejareh\r\n        params.put(&quot;address&quot;, info_doc.get(&quot;address&quot;));\r\n        params.put(&quot;description&quot;, info_doc.get(&quot;vagozari_description&quot;));\r\n        params.put(&quot;region[0]&quot;, &quot;1&quot;);\r\n\r\n        if (result.isEmpty()){\r\n            params.put(&quot;region[0]&quot;, &quot;all&quot;);\r\n        }else{\r\n            for (int i = 0; i &lt; result.size(); i++) {\r\n                params.put(&quot;region[&quot;+i+&quot;]&quot;, String.valueOf(result.get(i).getId()));\r\n            }\r\n        }\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, Vars.MAKE_ASSIGNMENT,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        onMakeAssignment.onReceived(response);\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n\r\n                        if (error instanceof NoConnectionError || error instanceof TimeoutError) {\r\n                            context.startActivity(new Intent(context, NoInternet.class));\r\n                            onMakeAssignment.onError(error.getMessage());\r\n                        }\r\n                    }\r\n                }) {\r\n\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\r\n                 params.put(Vars.KEY_AUTH, token);\r\n                params.put(Vars.KEY_USERNAME, Vars.USERNAME);\r\n                params.put(Vars.KEY_PASSWORD, Vars.PASSWORD);\r\n                return params;\r\n            }\r\n\r\n\r\n            @Nullable\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n          \r\n                return params;\r\n            }\r\n\r\n\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n        requestQueue.add(stringRequest);\r\n     \r\n\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nThe JSON response details are imperfect when I call this method with the Volley library but a response in the Postman is complete. so finally o don&#39;t know why this happens because it isn&#39;t a problem in requests when using PostMan. so my android Logcat gets back this response when running a method request but unfortunately it isn&#39;t the same as the response Postman.\r\n\r\n\r\n&gt; I/resewssssssss: {&quot;clients&quot;:[{&quot;id&quot;:44,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic LUnrhilQIWfdY6YQr6lxWCuZ8TAtNs4ailckURW6MG&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-22T12:27:41.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-22T12:27:41.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:6,&quot;client_regions&quot;:[{&quot;id&quot;:69,&quot;client_id&quot;:44,&quot;region_id&quot;:1}]},{&quot;id&quot;:43,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic jwfz4Ll1YYE3oG4ZFDtAQEgufW4q2ZozEr3LUJU0q58&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-22T11:59:49.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-22T11:59:49.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:2,&quot;client_regions&quot;:[{&quot;id&quot;:68,&quot;client_id&quot;:43,&quot;region_id&quot;:1}]},{&quot;id&quot;:31,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic SI3FWNH1mxg8N4JL0HEu45nEqlUBtEv\r\nJQbRdmpuR4CeKcJ0&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-20T16:01:48.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-20T16:01:48.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:1,&quot;client_regions&quot;:[{&quot;id&quot;:51,&quot;client_id&quot;:31,&quot;region_id&quot;:1}]},{&quot;id&quot;:33,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic nOwhIwlowhqgQUXEHH8heXSmM\r\niJOqNEoJiVb6TKwO381Yp&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-20T20:05:22.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-20T20:05:22.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:1,&quot;client_regions&quot;:[{&quot;id&quot;:53,&quot;client_id&quot;:33,&quot;region_id&quot;:1},{&quot;id&quot;:54,&quot;client_id&quot;:33,&quot;region_id&quot;:118}]},{&quot;id&quot;:34,&quot;name&quot;:null,&quot;mobile&quot;:&quot;09123456789&quot;,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic DkCrb8tzrt5FKldXon0xm8d\r\ne2fLpugea61lVRnOR3IATSfb&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-20T20:51:55.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-21T18:08:46.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:1,&quot;client_regions&quot;:[{&quot;id&quot;:55,&quot;client_id&quot;:34,&quot;region_id&quot;:1}]},{&quot;id&quot;:1,&quot;name&quot;:&quot;\\u06a9\\u0627\\u0631\\u0628\\u0631 \\u062a\\u0633\\u062a&quot;,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:null,&quot;firebase_token&quot;:null,&quot;device_serial&quot;:null,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:1,&quot;region_id&quot;:null,&quot;state_id&quot;:1,&quot;api_token&quot;:&quot;Basic a142pbR0LGvfaZFi6333ZIj5pghgyzsFmGiNvn4k4CwzRi6g&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-02T13:16:26.000000Z&quot;,&quot;updated_at&quot;:&quot;2021-05-21T02:48:02.000000Z&quot;,&quot;credit_date&quot;:&quot;2021-05-18&quot;,&quot;description&quot;:&quot;ttewtwt&quot;,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:0,&quot;client_regions&quot;:[{&quot;id&quot;:1,&quot;client_id&quot;:1,&quot;region_id&quot;:1},{&quot;id&quot;:2,&quot;client_id&quot;:1,&quot;region_id&quot;:2},{&quot;id&quot;:3,&quot;client_id&quot;:1,&quot;region_id&quot;:3}]},{&quot;id&quot;:9,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;\r\n","title":"why does the JSON response imperfect in Volley Android?","body":"<p>My complete response in Postman is the following but I can't get a complete response as JSON when using Volley android.</p>\n<p><a href=\"https://i.stack.imgur.com/LDo1d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LDo1d.png\" alt=\"enter image description here\" /></a></p>\n<p>My volley code :</p>\n<p>I have no problem sending a request but I show my logic that maybe was a problem with my code.</p>\n<pre><code>    public void makeAssignment(final String token,   HashMap&lt;String,String&gt; info_doc , List&lt;Region&gt; result, final OnMakeAssignment onMakeAssignment) {\n        HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n        params.put(&quot;document_type&quot;, info_doc.get(&quot;type_doc&quot;));\n        params.put(&quot;title&quot;, info_doc.get(&quot;title_doc&quot;));\n        params.put(&quot;meter&quot;, info_doc.get(&quot;meter_doc&quot;));\n        params.put(&quot;price&quot;, info_doc.get(&quot;price_frosh&quot;));\n        params.put(&quot;mortgage_price&quot;, info_doc.get(&quot;vagozari_price_rahn&quot;)); // رهن\n        params.put(&quot;monthly_rent_price&quot;, info_doc.get(&quot;vagozari_price_ejareh&quot;)); // ejareh\n        params.put(&quot;address&quot;, info_doc.get(&quot;address&quot;));\n        params.put(&quot;description&quot;, info_doc.get(&quot;vagozari_description&quot;));\n        params.put(&quot;region[0]&quot;, &quot;1&quot;);\n\n        if (result.isEmpty()){\n            params.put(&quot;region[0]&quot;, &quot;all&quot;);\n        }else{\n            for (int i = 0; i &lt; result.size(); i++) {\n                params.put(&quot;region[&quot;+i+&quot;]&quot;, String.valueOf(result.get(i).getId()));\n            }\n        }\n\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, Vars.MAKE_ASSIGNMENT,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        onMakeAssignment.onReceived(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n\n                        if (error instanceof NoConnectionError || error instanceof TimeoutError) {\n                            context.startActivity(new Intent(context, NoInternet.class));\n                            onMakeAssignment.onError(error.getMessage());\n                        }\n                    }\n                }) {\n\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\n                 params.put(Vars.KEY_AUTH, token);\n                params.put(Vars.KEY_USERNAME, Vars.USERNAME);\n                params.put(Vars.KEY_PASSWORD, Vars.PASSWORD);\n                return params;\n            }\n\n\n            @Nullable\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n          \n                return params;\n            }\n\n\n        };\n\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n        requestQueue.add(stringRequest);\n     \n\n    }\n\n</code></pre>\n<p>The JSON response details are imperfect when I call this method with the Volley library but a response in the Postman is complete. so finally o don't know why this happens because it isn't a problem in requests when using PostMan. so my android Logcat gets back this response when running a method request but unfortunately it isn't the same as the response Postman.</p>\n<blockquote>\n<p>I/resewssssssss: {&quot;clients&quot;:[{&quot;id&quot;:44,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic LUnrhilQIWfdY6YQr6lxWCuZ8TAtNs4ailckURW6MG&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-22T12:27:41.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-22T12:27:41.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:6,&quot;client_regions&quot;:[{&quot;id&quot;:69,&quot;client_id&quot;:44,&quot;region_id&quot;:1}]},{&quot;id&quot;:43,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic jwfz4Ll1YYE3oG4ZFDtAQEgufW4q2ZozEr3LUJU0q58&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-22T11:59:49.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-22T11:59:49.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:2,&quot;client_regions&quot;:[{&quot;id&quot;:68,&quot;client_id&quot;:43,&quot;region_id&quot;:1}]},{&quot;id&quot;:31,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic SI3FWNH1mxg8N4JL0HEu45nEqlUBtEv\nJQbRdmpuR4CeKcJ0&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-20T16:01:48.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-20T16:01:48.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:1,&quot;client_regions&quot;:[{&quot;id&quot;:51,&quot;client_id&quot;:31,&quot;region_id&quot;:1}]},{&quot;id&quot;:33,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic nOwhIwlowhqgQUXEHH8heXSmM\niJOqNEoJiVb6TKwO381Yp&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-20T20:05:22.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-20T20:05:22.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:1,&quot;client_regions&quot;:[{&quot;id&quot;:53,&quot;client_id&quot;:33,&quot;region_id&quot;:1},{&quot;id&quot;:54,&quot;client_id&quot;:33,&quot;region_id&quot;:118}]},{&quot;id&quot;:34,&quot;name&quot;:null,&quot;mobile&quot;:&quot;09123456789&quot;,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;:&quot;Basic DkCrb8tzrt5FKldXon0xm8d\ne2fLpugea61lVRnOR3IATSfb&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-20T20:51:55.000000Z&quot;,&quot;updated_at&quot;:&quot;2020-07-21T18:08:46.000000Z&quot;,&quot;credit_date&quot;:null,&quot;description&quot;:null,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:1,&quot;client_regions&quot;:[{&quot;id&quot;:55,&quot;client_id&quot;:34,&quot;region_id&quot;:1}]},{&quot;id&quot;:1,&quot;name&quot;:&quot;\\u06a9\\u0627\\u0631\\u0628\\u0631 \\u062a\\u0633\\u062a&quot;,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:null,&quot;firebase_token&quot;:null,&quot;device_serial&quot;:null,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:1,&quot;region_id&quot;:null,&quot;state_id&quot;:1,&quot;api_token&quot;:&quot;Basic a142pbR0LGvfaZFi6333ZIj5pghgyzsFmGiNvn4k4CwzRi6g&quot;,&quot;client_type&quot;:1,&quot;created_at&quot;:&quot;2020-07-02T13:16:26.000000Z&quot;,&quot;updated_at&quot;:&quot;2021-05-21T02:48:02.000000Z&quot;,&quot;credit_date&quot;:&quot;2021-05-18&quot;,&quot;description&quot;:&quot;ttewtwt&quot;,&quot;assignment_active&quot;:1,&quot;assignment_reason&quot;:null,&quot;visited&quot;:null,&quot;property_request_active&quot;:1,&quot;property_request_reason&quot;:null,&quot;properties_count&quot;:0,&quot;client_regions&quot;:[{&quot;id&quot;:1,&quot;client_id&quot;:1,&quot;region_id&quot;:1},{&quot;id&quot;:2,&quot;client_id&quot;:1,&quot;region_id&quot;:2},{&quot;id&quot;:3,&quot;client_id&quot;:1,&quot;region_id&quot;:3}]},{&quot;id&quot;:9,&quot;name&quot;:null,&quot;mobile&quot;:null,&quot;mobile_confirmed&quot;:0,&quot;invited&quot;:0,&quot;device_id&quot;:&quot;null&quot;,&quot;firebase_token&quot;:&quot;&quot;,&quot;device_serial&quot;:&quot;&quot;,&quot;credit&quot;:&quot;0&quot;,&quot;city_id&quot;:null,&quot;region_id&quot;:null,&quot;state_id&quot;:null,&quot;api_token&quot;</p>\n</blockquote>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1668515675,"post_id":74445506,"comment_id":131419257,"body_markdown":"What happens if you simply don&#39;t set `foreignKey` in the parent class?","body":"What happens if you simply don&#39;t set <code>foreignKey</code> in the parent class?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1668517194,"post_id":74445506,"comment_id":131419869,"body_markdown":"I think you are looking for the `@AssociationOverride` annotation ([ref](https://javaee.github.io/javaee-spec/javadocs/javax/persistence/AssociationOverride.html)). Specify it in the subclasses; the example in the Javadocs seems to fit your case very closely.","body":"I think you are looking for the <code>@AssociationOverride</code> annotation (<a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/AssociationOverride.html\" rel=\"nofollow noreferrer\">ref</a>). Specify it in the subclasses; the example in the Javadocs seems to fit your case very closely."},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1668519869,"post_id":74445506,"comment_id":131421003,"body_markdown":"I need to set something, otherwise I get names like `fkmaxnxnbv09bbuu4kb0yjg6i8` which is not a solution I can live with. I will now check `@AssociationOverride`. I have already used it for something different, but I do not have enough experience to do it without further research.","body":"I need to set something, otherwise I get names like <code>fkmaxnxnbv09bbuu4kb0yjg6i8</code> which is not a solution I can live with. I will now check <code>@AssociationOverride</code>. I have already used it for something different, but I do not have enough experience to do it without further research."},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1668520536,"post_id":74445506,"comment_id":131421286,"body_markdown":"I tried to do it with `@AssociationOverride` but if failed. I have added the results to the original post.","body":"I tried to do it with <code>@AssociationOverride</code> but if failed. I have added the results to the original post."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1670496771,"post_id":74445506,"comment_id":131890880,"body_markdown":"Looks like https://hibernate.atlassian.net/browse/HHH-4329 is not out of date. You should create a new JIRA issue and reference that.","body":"Looks like <a href=\"https://hibernate.atlassian.net/browse/HHH-4329\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-4329</a> is not out of date. You should create a new JIRA issue and reference that."}],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668520465,"creation_date":1668514701,"question_id":74445506,"body_markdown":"I am using Hibernate 6.1.2 as JPA implementation to connect from Java 17 to PostgreSQL 12+.\r\n\r\nI have a `@MappedSuperclass` to track changes with something like this:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;modification_users_id&quot;, foreignKey = @ForeignKey(name=&quot;fk_problem_is_here&quot;), nullable = false)\r\n    private User modificationUser;\r\n\r\nThe user is a backend user stored in another table users and not a PostgreSQL user. That was necessary for session handling, data sharing, and other things. It was a several month analysis and negotiation with customers to finalize that, I cannot make many changes there.\r\n\r\nMy problem is that whatever I put as foreign key name is used for every `@Entity` class that inherits from my `@MappedSuperclass`. The PostgresSQL server actually accepts that, but it is most likely not valid according to SQL-99. Moreover, external tools like pgmodeler get utterly confused during import. Finally, it is not coherent to what we specified for foreign key nomenclature internally.\r\n\r\nMany questions showing up on the web are about corresponding `@OneToMany` attributes in classes that would corresponding to my `Users` class. However, that might not be a problem here because there are currently no plans to search all modifications done by one user with the Java backend. Thus, I thin I can just omit those attributes in the class.\r\n\r\nI found something that seems to be related [here][1]. However, the discussion goes into a direction that seems to be about Oracle automatic constraint generation and is not something that related to how to do it in Java.\r\n\r\nAt the moment, my last and best hope for a solution seems to be Copy&amp;Paste the attribute with minimal changes for every derived `@Entity` class. What I would prefer is only changing the annotation in the derived classes, putting as little Copy&amp;Paste code there as possible. Can this be done?\r\n\r\nEdit: based on replies I considered a solution like [this][2] but there still seems to be a Hibernate bug. I have troubles understanding the bug report discussion, but if I add\r\n\r\n    @AssociationOverride(name = &quot;modificationUser&quot;, joinColumns = {@JoinColumn(name = &quot;modification_users_id&quot;, foreignKey = @ForeignKey(name=&quot;fk_inventories_users_id&quot;), nullable = false)})\r\n\r\nto the derived class I can actually change the name of the foreign key, but only from the preset in the `@MappedSuperclass` to gibberish, as if I had not set a key name at all.\r\n\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?f=1&amp;t=987384\r\n  [2]: https://stackoverflow.com/questions/30785192/foreignkey-with-associationoverride","title":"JPA: Setting @ForeignKey name in @MappedSuperclass","body":"<p>I am using Hibernate 6.1.2 as JPA implementation to connect from Java 17 to PostgreSQL 12+.</p>\n<p>I have a <code>@MappedSuperclass</code> to track changes with something like this:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;modification_users_id&quot;, foreignKey = @ForeignKey(name=&quot;fk_problem_is_here&quot;), nullable = false)\nprivate User modificationUser;\n</code></pre>\n<p>The user is a backend user stored in another table users and not a PostgreSQL user. That was necessary for session handling, data sharing, and other things. It was a several month analysis and negotiation with customers to finalize that, I cannot make many changes there.</p>\n<p>My problem is that whatever I put as foreign key name is used for every <code>@Entity</code> class that inherits from my <code>@MappedSuperclass</code>. The PostgresSQL server actually accepts that, but it is most likely not valid according to SQL-99. Moreover, external tools like pgmodeler get utterly confused during import. Finally, it is not coherent to what we specified for foreign key nomenclature internally.</p>\n<p>Many questions showing up on the web are about corresponding <code>@OneToMany</code> attributes in classes that would corresponding to my <code>Users</code> class. However, that might not be a problem here because there are currently no plans to search all modifications done by one user with the Java backend. Thus, I thin I can just omit those attributes in the class.</p>\n<p>I found something that seems to be related <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=987384\" rel=\"nofollow noreferrer\">here</a>. However, the discussion goes into a direction that seems to be about Oracle automatic constraint generation and is not something that related to how to do it in Java.</p>\n<p>At the moment, my last and best hope for a solution seems to be Copy&amp;Paste the attribute with minimal changes for every derived <code>@Entity</code> class. What I would prefer is only changing the annotation in the derived classes, putting as little Copy&amp;Paste code there as possible. Can this be done?</p>\n<p>Edit: based on replies I considered a solution like <a href=\"https://stackoverflow.com/questions/30785192/foreignkey-with-associationoverride\">this</a> but there still seems to be a Hibernate bug. I have troubles understanding the bug report discussion, but if I add</p>\n<pre><code>@AssociationOverride(name = &quot;modificationUser&quot;, joinColumns = {@JoinColumn(name = &quot;modification_users_id&quot;, foreignKey = @ForeignKey(name=&quot;fk_inventories_users_id&quot;), nullable = false)})\n</code></pre>\n<p>to the derived class I can actually change the name of the foreign key, but only from the preset in the <code>@MappedSuperclass</code> to gibberish, as if I had not set a key name at all.</p>\n"},{"tags":["java","apache-spark","data-lake","iceberg","apache-iceberg"],"answers":[{"tags":[],"owner":{"account_id":8517095,"reputation":304,"user_id":6385205,"display_name":"liliwei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668520369,"creation_date":1668520369,"answer_id":74446790,"question_id":74425551,"body_markdown":"1. Reset your table property\r\n```\r\nALTER TABLE prod.db.sample SET TBLPROPERTIES (\r\n    &#39;write.format.default&#39;=&#39;parquet&#39;\r\n)\r\n```\r\n2. rewrite your data\r\nspark sql\r\n```\r\nCALL catalog_name.system.rewrite_data_files(table =&gt; &#39;db.sample&#39;, strategy =&gt; &#39;sort&#39;,sort_order =&gt; &#39;id&#39;,options =&gt; map(&#39;rewrite-all&#39;,&#39;true&#39;))\r\n\r\n```\r\nor use spark-java api, as you listed above.","title":"How to rewrite Apache Iceberg data files to another format?","body":"<ol>\n<li>Reset your table property</li>\n</ol>\n<pre><code>ALTER TABLE prod.db.sample SET TBLPROPERTIES (\n    'write.format.default'='parquet'\n)\n</code></pre>\n<ol start=\"2\">\n<li>rewrite your data\nspark sql</li>\n</ol>\n<pre><code>CALL catalog_name.system.rewrite_data_files(table =&gt; 'db.sample', strategy =&gt; 'sort',sort_order =&gt; 'id',options =&gt; map('rewrite-all','true'))\n\n</code></pre>\n<p>or use spark-java api, as you listed above.</p>\n"}],"owner":{"account_id":26922139,"reputation":11,"user_id":20495974,"display_name":"apache-northeast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668520369,"creation_date":1668381761,"question_id":74425551,"body_markdown":"I&#39;d like to use the Apache Iceberg Apache Spark-Java based API for rewriting data files on my Iceberg table. I&#39;m writing my data files in an Avro format, but I&#39;d like to rewrite them to Parquet. Is it possible in a somewhat easy way?\r\n\r\nI&#39;ve researched the API of https://iceberg.apache.org/javadoc/1.0.0/org/apache/iceberg/actions/RewriteDataFiles.html, with the builder of:\r\n```java\r\nSparkActions\r\n    .get()\r\n    .rewriteDataFiles(table)\r\n    .filter(Expressions.equal(&quot;date&quot;, &quot;2020-08-18&quot;))\r\n    .option(&quot;target-file-size-bytes&quot;, Long.toString(500 * 1024 * 1024)) // 500 MB\r\n    .execute();\r\n```\r\nBut I could not find how can I change the files format.","title":"How to rewrite Apache Iceberg data files to another format?","body":"<p>I'd like to use the Apache Iceberg Apache Spark-Java based API for rewriting data files on my Iceberg table. I'm writing my data files in an Avro format, but I'd like to rewrite them to Parquet. Is it possible in a somewhat easy way?</p>\n<p>I've researched the API of <a href=\"https://iceberg.apache.org/javadoc/1.0.0/org/apache/iceberg/actions/RewriteDataFiles.html\" rel=\"nofollow noreferrer\">https://iceberg.apache.org/javadoc/1.0.0/org/apache/iceberg/actions/RewriteDataFiles.html</a>, with the builder of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SparkActions\n    .get()\n    .rewriteDataFiles(table)\n    .filter(Expressions.equal(&quot;date&quot;, &quot;2020-08-18&quot;))\n    .option(&quot;target-file-size-bytes&quot;, Long.toString(500 * 1024 * 1024)) // 500 MB\n    .execute();\n</code></pre>\n<p>But I could not find how can I change the files format.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","long-integer","word-count"],"answers":[{"tags":[],"owner":{"account_id":1453882,"reputation":618,"user_id":1370047,"accept_rate":33,"display_name":"leccionesonline"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668518661,"creation_date":1668518661,"answer_id":74446413,"question_id":74445936,"body_markdown":"try a KTable instead:\r\n\r\n    KStream&lt;String, String&gt; textLines = builder.stream(&quot;test-topic&quot;, Consumed.with(stringSerde, stringSerde));\r\n    \r\n    KTable&lt;String, Long&gt; wordCounts = textLines    \r\n        .flatMapValues(value -&gt; Arrays.asList(value.toLowerCase().split(&quot;\\\\W+&quot;)))\r\n        .groupBy((key, value) -&gt; value)    \r\n        .count()\r\n    \t.toStream()\r\n    \t.to(&quot;test-output&quot;, Produced.with(Serdes.String(), Serdes.Long()));","title":"Kafka Streams Twitter Wordcount - Count Value not Long after Serialization","body":"<p>try a KTable instead:</p>\n<pre><code>KStream&lt;String, String&gt; textLines = builder.stream(&quot;test-topic&quot;, Consumed.with(stringSerde, stringSerde));\n\nKTable&lt;String, Long&gt; wordCounts = textLines    \n    .flatMapValues(value -&gt; Arrays.asList(value.toLowerCase().split(&quot;\\\\W+&quot;)))\n    .groupBy((key, value) -&gt; value)    \n    .count()\n    .toStream()\n    .to(&quot;test-output&quot;, Produced.with(Serdes.String(), Serdes.Long()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668520160,"creation_date":1668520160,"answer_id":74446746,"question_id":74445936,"body_markdown":"Control Center UI and console consumer can only render UTF8 data, by default.\r\n\r\nYou&#39;ll need to explicitly pass LongDeserializer to the console consumer, as the value deserializer only ","title":"Kafka Streams Twitter Wordcount - Count Value not Long after Serialization","body":"<p>Control Center UI and console consumer can only render UTF8 data, by default.</p>\n<p>You'll need to explicitly pass LongDeserializer to the console consumer, as the value deserializer only</p>\n"}],"owner":{"account_id":26939150,"reputation":3,"user_id":20510283,"display_name":"chris_vee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74446746,"answer_count":2,"score":0,"last_activity_date":1668520190,"creation_date":1668516742,"question_id":74445936,"body_markdown":"I am running a Kafka Cluster Docker Compose on an AWS EC2 instance. \r\nI want to receive all the tweets of a specific keyword and push them to Kafka. This works fine.\r\nBut I also want to count the most used words of those tweets.\r\n\r\nThis is the WordCount code:\r\n\r\n```\r\nimport org.apache.kafka.common.serialization.Serdes;\r\nimport org.apache.kafka.streams.KafkaStreams;\r\nimport org.apache.kafka.streams.kstream.KStream;\r\nimport org.apache.kafka.streams.StreamsBuilder;\r\nimport java.util.Arrays;\r\nimport java.util.Properties;\r\nimport org.apache.kafka.streams.Topology;\r\nimport org.apache.kafka.streams.kstream.Materialized;\r\nimport org.apache.kafka.streams.kstream.Produced;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\nimport static org.apache.kafka.streams.StreamsConfig.APPLICATION_ID_CONFIG;\r\nimport static org.apache.kafka.streams.StreamsConfig.BOOTSTRAP_SERVERS_CONFIG;\r\nimport static org.apache.kafka.streams.StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG;\r\nimport static org.apache.kafka.streams.StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG;\r\n\r\npublic class WordCount {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        final StreamsBuilder builder = new StreamsBuilder();\r\n\r\n        final KStream&lt;String, String&gt; textLines = builder\r\n                .stream(&quot;test-topic&quot;);\r\n\r\n        textLines\r\n                .flatMapValues(value -&gt; Arrays.asList(value.toLowerCase().split(&quot;\\\\W+&quot;)))\r\n                .groupBy((key, value) -&gt; value)\r\n                .count(Materialized.as(&quot;WordCount&quot;))\r\n                .toStream()\r\n                .to(&quot;test-output&quot;, Produced.with(Serdes.String(), Serdes.Long()));\r\n\r\n        final Topology topology = builder.build();\r\n\r\n        Properties props = new Properties();\r\n        props.put(APPLICATION_ID_CONFIG, &quot;streams-word-count&quot;);\r\n        props.put(BOOTSTRAP_SERVERS_CONFIG, &quot;ec2-ip:9092&quot;);\r\n        props.put(DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        props.put(DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n\r\n        final KafkaStreams streams = new KafkaStreams(topology, props);\r\n\r\n        final CountDownLatch latch = new CountDownLatch(1);\r\n        Runtime.getRuntime().addShutdownHook(\r\n                new Thread(&quot;streams-shutdown-hook&quot;) {\r\n                    @Override\r\n                    public void run() {\r\n                        streams.close();\r\n                        latch.countDown();\r\n                    }\r\n                });\r\n        try {\r\n            streams.start();\r\n            latch.await();\r\n        } catch (Throwable e) {\r\n            System.exit(1);\r\n        }\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\n\r\nWhen I check the output topic in the Control Center, it looks like this:\r\n\r\n[Key](https://i.stack.imgur.com/1Z2l5.png)\r\n\r\n[Value](https://i.stack.imgur.com/9co4b.png)\r\n\r\n\r\n\r\nLooks like it&#39;s working as far as splitting the tweets into single words. But the count value isn&#39;t in Long format, although it is specified in the code.\r\n\r\nWhen I use the kafka-console-consumer to consume from this topic, it says:\r\n\r\n&quot;Size of data received by LongDeserializer is not 8&quot;","title":"Kafka Streams Twitter Wordcount - Count Value not Long after Serialization","body":"<p>I am running a Kafka Cluster Docker Compose on an AWS EC2 instance.\nI want to receive all the tweets of a specific keyword and push them to Kafka. This works fine.\nBut I also want to count the most used words of those tweets.</p>\n<p>This is the WordCount code:</p>\n<pre><code>import org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.streams.KafkaStreams;\nimport org.apache.kafka.streams.kstream.KStream;\nimport org.apache.kafka.streams.StreamsBuilder;\nimport java.util.Arrays;\nimport java.util.Properties;\nimport org.apache.kafka.streams.Topology;\nimport org.apache.kafka.streams.kstream.Materialized;\nimport org.apache.kafka.streams.kstream.Produced;\nimport java.util.concurrent.CountDownLatch;\n\nimport static org.apache.kafka.streams.StreamsConfig.APPLICATION_ID_CONFIG;\nimport static org.apache.kafka.streams.StreamsConfig.BOOTSTRAP_SERVERS_CONFIG;\nimport static org.apache.kafka.streams.StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG;\nimport static org.apache.kafka.streams.StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG;\n\npublic class WordCount {\n\n    public static void main(String[] args) {\n\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        final KStream&lt;String, String&gt; textLines = builder\n                .stream(&quot;test-topic&quot;);\n\n        textLines\n                .flatMapValues(value -&gt; Arrays.asList(value.toLowerCase().split(&quot;\\\\W+&quot;)))\n                .groupBy((key, value) -&gt; value)\n                .count(Materialized.as(&quot;WordCount&quot;))\n                .toStream()\n                .to(&quot;test-output&quot;, Produced.with(Serdes.String(), Serdes.Long()));\n\n        final Topology topology = builder.build();\n\n        Properties props = new Properties();\n        props.put(APPLICATION_ID_CONFIG, &quot;streams-word-count&quot;);\n        props.put(BOOTSTRAP_SERVERS_CONFIG, &quot;ec2-ip:9092&quot;);\n        props.put(DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n\n        final KafkaStreams streams = new KafkaStreams(topology, props);\n\n        final CountDownLatch latch = new CountDownLatch(1);\n        Runtime.getRuntime().addShutdownHook(\n                new Thread(&quot;streams-shutdown-hook&quot;) {\n                    @Override\n                    public void run() {\n                        streams.close();\n                        latch.countDown();\n                    }\n                });\n        try {\n            streams.start();\n            latch.await();\n        } catch (Throwable e) {\n            System.exit(1);\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>When I check the output topic in the Control Center, it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/1Z2l5.png\" rel=\"nofollow noreferrer\">Key</a></p>\n<p><a href=\"https://i.stack.imgur.com/9co4b.png\" rel=\"nofollow noreferrer\">Value</a></p>\n<p>Looks like it's working as far as splitting the tweets into single words. But the count value isn't in Long format, although it is specified in the code.</p>\n<p>When I use the kafka-console-consumer to consume from this topic, it says:</p>\n<p>&quot;Size of data received by LongDeserializer is not 8&quot;</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668259789,"post_id":74412313,"comment_id":131364656,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1668260452,"post_id":74412313,"comment_id":131364787,"body_markdown":"Unexpected token sounds like you have syntax problem in the loop. Please paste the code example.","body":"Unexpected token sounds like you have syntax problem in the loop. Please paste the code example."}],"answers":[{"tags":[],"owner":{"account_id":5459096,"reputation":4018,"user_id":4341733,"display_name":"diabolist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668520119,"creation_date":1668520119,"answer_id":74446741,"question_id":74412313,"body_markdown":"If you write your scenario at a higher level of abstraction you can avoid some of the problems you are facing.\r\n\r\nGenerally when filtering you want to have some things that should be shown and some things that should not. You can write you filter test as something like\r\n\r\n```\r\n  Background:\r\n    Given I am logged in as an admin\r\n    Given there are some thing with foo enabled and foo disabled\r\n    And I am viewing all the things\r\n\r\n  Scenario: View all\r\n    Then I should see all the foo enabled and foo disabled things\r\n\r\n  Scenario: Filter by Foo\r\n    When I filter things to show foo enabled\r\n    Then I should see only the foo enabled things\r\n    And I should not see the foo disabled things\r\n\r\n  Scenario: Filter by No Foo\r\n    When I filter things to show foo disabled\r\n    Then I should see only the foo disabled things\r\n    And I should not see the foo enabled things\r\n```\r\n\r\nNow your steps are working in larger chunks and are describing WHAT you are doing rather than HOW you are doing it.\r\n\r\nYou can make your step implementations simpler by making your step definitions call helper methods rather than have them contain all the code. The examples below are in Ruby, but you should be able to translate\r\n\r\n  \r\n```\r\nGiven &quot;there are some thing with foo enabled and foo disabled&quot; do\r\n  @foo_enabled_things, @foo_disabled_things =\r\n    create_foo_enabled_and_disabled_things\r\nend\r\n```\r\n\r\nSo here we are delegating the work of creating things to a helper method create_foo_enabled_and_disabled_things which returns two arrays which we assign to globals\r\n\r\nNow the only difficulty is checking that the filter works. This is where you would loop on the things stored in the globals to check for their presence in the view. Somewhere in code called by a Then you would have\r\n\r\n```\r\n  @foo.enabled_things.each do\r\n    ...\r\n  end\r\n\r\n  ...\r\n```\r\n\r\nAgain I would suggest using helper methods so that the details of HOW you check something are \r\n\r\n1) Low down your code stack\r\n2) In a place where they can be re-used\r\n\r\nHopefully the above will give you some ideas to tidy your code and make things simpler. Good luck.","title":"Including loops in step definitions (Java)","body":"<p>If you write your scenario at a higher level of abstraction you can avoid some of the problems you are facing.</p>\n<p>Generally when filtering you want to have some things that should be shown and some things that should not. You can write you filter test as something like</p>\n<pre><code>  Background:\n    Given I am logged in as an admin\n    Given there are some thing with foo enabled and foo disabled\n    And I am viewing all the things\n\n  Scenario: View all\n    Then I should see all the foo enabled and foo disabled things\n\n  Scenario: Filter by Foo\n    When I filter things to show foo enabled\n    Then I should see only the foo enabled things\n    And I should not see the foo disabled things\n\n  Scenario: Filter by No Foo\n    When I filter things to show foo disabled\n    Then I should see only the foo disabled things\n    And I should not see the foo enabled things\n</code></pre>\n<p>Now your steps are working in larger chunks and are describing WHAT you are doing rather than HOW you are doing it.</p>\n<p>You can make your step implementations simpler by making your step definitions call helper methods rather than have them contain all the code. The examples below are in Ruby, but you should be able to translate</p>\n<pre><code>Given &quot;there are some thing with foo enabled and foo disabled&quot; do\n  @foo_enabled_things, @foo_disabled_things =\n    create_foo_enabled_and_disabled_things\nend\n</code></pre>\n<p>So here we are delegating the work of creating things to a helper method create_foo_enabled_and_disabled_things which returns two arrays which we assign to globals</p>\n<p>Now the only difficulty is checking that the filter works. This is where you would loop on the things stored in the globals to check for their presence in the view. Somewhere in code called by a Then you would have</p>\n<pre><code>  @foo.enabled_things.each do\n    ...\n  end\n\n  ...\n</code></pre>\n<p>Again I would suggest using helper methods so that the details of HOW you check something are</p>\n<ol>\n<li>Low down your code stack</li>\n<li>In a place where they can be re-used</li>\n</ol>\n<p>Hopefully the above will give you some ideas to tidy your code and make things simpler. Good luck.</p>\n"}],"owner":{"account_id":5124003,"reputation":1,"user_id":4106740,"display_name":"Leenata Deshmukh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668520119,"creation_date":1668251049,"question_id":74412313,"body_markdown":"I have a cucumber feature file which has a set of scenario outline. For each of the examples in the scenario outline, there is a corresponding step definition. But the issue is each example has a different xpath which needs to be iterated for a fixed number of times. \r\nI am not being able to place a loop in the Java step definition file for the specific number of steps that need to be executed for a fixed number of times.\r\nThanks in advance for any help\r\n\r\nI tried to put the loop before the step definition methods so that I could call the methods in the loop but kept getting an error of unexpected token\r\n\r\n\r\nFollowing is the set of scenario steps that are defined:\r\n   `\r\n - When I click on &lt;columnHeader&gt; filter icon\r\n - And I enter the &lt;textOne&gt;\r\n - And I select specific &lt;logic&gt;\r\n - And I enter again &lt;textTwo&gt;\r\n - And I click on Filter button\r\n - Then Grid should be filtered accordingly\r\n - And I click on Clear Filters button\r\n - And I click on Collapse All button\r\n`\r\n\r\nMy query is which step&#39;s definition should the loop be placed, since these are the repetitive steps for over 8 times.\r\n\r\nHere is the code snippet of step definitions:\r\n\r\n        @When(&quot;I click on {} filter icon&quot;)\r\n    public void filterIcon(String columnHeader) {\r\n      // determine row\r\n            driver.findElement(By.xpath(&quot;//div[@id=&#39;grid&#39;]//table[@role=&#39;grid&#39;]/thead[@role=&#39;rowgroup&#39;]/tr[@role=&#39;row&#39;]/th[2]//span&quot;)).click();\r\n        }\r\n\r\n    @And(&quot;I enter the {}&quot;)\r\n    public void enterTextOne(String textOne) {\r\n        //some name one\r\n        Actions act1 = new Actions(driver);\r\n        WebElement val1 = driver.findElement(By.xpath(&quot;/html//form[@title=&#39;Show items with value that:&#39;]//input[@title=&#39;Value&#39;]&quot;));\r\n        act1.moveToElement(val1).click(val1).sendKeys(textOne).perform();\r\n    }\r\n\r\n    @And(&quot;I select specific {}&quot;)\r\n    public void selectSpecificLogic(String logic) {\r\n        //and or or\r\n        WebDriverWait pause = new WebDriverWait(driver, Duration.ofSeconds(3000));\r\n        WebElement filterLogic = driver.findElement(By.xpath(&quot;/html//form[@title=&#39;Show items with value that:&#39;]/div[1]/span[2]//span[@class=&#39;k-input&#39;]&quot;));\r\n        filterLogic.click();\r\n        WebElement logic1 = pause.until(\r\n                ExpectedConditions.elementToBeClickable(\r\n                        driver.findElement(By.xpath(\r\n                                &quot;/html//form[@title=&#39;Show items with value that:&#39;]/div[1]/span[2]//span[@class=&#39;k-input&#39;]&quot;))));\r\n        Actions act3 = new Actions(driver);\r\n        act3.moveToElement(logic1).click(logic1).perform();\r\n    }\r\n\r\n    @And(&quot;I enter again{}&quot;)\r\n    public void enterTextTwo(String textTwo) {\r\n        //enter the second param here\r\n        Actions act2 = new Actions(driver);\r\n        WebElement val2 = driver.findElement(By.xpath(&quot;/html/body/div[7]/form/div[1]/input[2]&quot;));\r\n        act2.moveToElement(val2).click(val2).sendKeys(textTwo).perform();\r\n    }\r\n\r\n    @And(&quot;I click on Filter button&quot;)\r\n    public void filterButton() {\r\n        driver.findElement(By.xpath(&quot;/html/body/div[@class=&#39;k-animation-container&#39;]/form[@title=&#39;Show items with value that:&#39;]//button[@type=&#39;submit&#39;]&quot;)).click();\r\n    }\r\n\r\n    @Then(&quot;Grid should be filtered accordingly&quot;)\r\n    public void verifyRow() throws InterruptedException {\r\n        //verifying row with data\r\n        //and this\r\n        WebDriverWait find = new WebDriverWait(driver, Duration.ofSeconds(10000));\r\n        WebElement gridData = driver.findElement(By.xpath(&quot;//*[@id=&#39;grid&#39;]/div/div[3]/table/tbody/tr[1]/td[1]/a&quot;));\r\n        Thread.sleep(10000);\r\n        WebElement gridData1 = driver.findElement(By.xpath(&quot;//*[@id=&#39;grid&#39;]/div/div[3]/table/tbody/tr[1]/td[1]/a&quot;));\r\n        WebElement grid = find.until(ExpectedConditions.elementToBeClickable(gridData1));\r\n        grid.click();\r\n        Thread.sleep(5000);\r\n        String cellData = driver.findElement(By.xpath(&quot;//tbody/tr[1]/td[1]/span[1]&quot;)).getText();\r\n        if (cellData != null) {\r\n            System.out.println(&quot;grid is filtered&quot;);\r\n        } else {\r\n            System.out.println(&quot;Grid not filtered&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    @And(&quot;I click on Clear Filters button&quot;)\r\n    public void clearFiltersGrid() throws InterruptedException {\r\n        driver.findElement(By.xpath(&quot;//div[@id=&#39;grid&#39;]//ent-grid-buttons[@class=&#39;ng-isolate-scope&#39;]/ul[@class=&#39;ent-buttons-list&#39;]//a[.=&#39;Clear filters&#39;]&quot;)).click();\r\n        Thread.sleep(7000);\r\n    }\r\n\r\n    @And(&quot;I click on Collapse All button&quot;)\r\n    public void collapseGridRow() throws InterruptedException {\r\n        //collapsing the rows expanded in earlier grid filter\r\n        driver.findElement(By.xpath(&quot;//div[@id=&#39;grid&#39;]//ent-grid-buttons[@class=&#39;ng-isolate-scope&#39;]/ul[@class=&#39;ent-buttons-list&#39;]//a[@class=&#39;collapse-all-btn&#39;]&quot;)).click();\r\n        Thread.sleep(5000);\r\n    }\r\n","title":"Including loops in step definitions (Java)","body":"<p>I have a cucumber feature file which has a set of scenario outline. For each of the examples in the scenario outline, there is a corresponding step definition. But the issue is each example has a different xpath which needs to be iterated for a fixed number of times.\nI am not being able to place a loop in the Java step definition file for the specific number of steps that need to be executed for a fixed number of times.\nThanks in advance for any help</p>\n<p>I tried to put the loop before the step definition methods so that I could call the methods in the loop but kept getting an error of unexpected token</p>\n<p>Following is the set of scenario steps that are defined:\n`</p>\n<ul>\n<li>When I click on  filter icon</li>\n<li>And I enter the </li>\n<li>And I select specific </li>\n<li>And I enter again </li>\n<li>And I click on Filter button</li>\n<li>Then Grid should be filtered accordingly</li>\n<li>And I click on Clear Filters button</li>\n<li>And I click on Collapse All button\n`</li>\n</ul>\n<p>My query is which step's definition should the loop be placed, since these are the repetitive steps for over 8 times.</p>\n<p>Here is the code snippet of step definitions:</p>\n<pre><code>    @When(&quot;I click on {} filter icon&quot;)\npublic void filterIcon(String columnHeader) {\n  // determine row\n        driver.findElement(By.xpath(&quot;//div[@id='grid']//table[@role='grid']/thead[@role='rowgroup']/tr[@role='row']/th[2]//span&quot;)).click();\n    }\n\n@And(&quot;I enter the {}&quot;)\npublic void enterTextOne(String textOne) {\n    //some name one\n    Actions act1 = new Actions(driver);\n    WebElement val1 = driver.findElement(By.xpath(&quot;/html//form[@title='Show items with value that:']//input[@title='Value']&quot;));\n    act1.moveToElement(val1).click(val1).sendKeys(textOne).perform();\n}\n\n@And(&quot;I select specific {}&quot;)\npublic void selectSpecificLogic(String logic) {\n    //and or or\n    WebDriverWait pause = new WebDriverWait(driver, Duration.ofSeconds(3000));\n    WebElement filterLogic = driver.findElement(By.xpath(&quot;/html//form[@title='Show items with value that:']/div[1]/span[2]//span[@class='k-input']&quot;));\n    filterLogic.click();\n    WebElement logic1 = pause.until(\n            ExpectedConditions.elementToBeClickable(\n                    driver.findElement(By.xpath(\n                            &quot;/html//form[@title='Show items with value that:']/div[1]/span[2]//span[@class='k-input']&quot;))));\n    Actions act3 = new Actions(driver);\n    act3.moveToElement(logic1).click(logic1).perform();\n}\n\n@And(&quot;I enter again{}&quot;)\npublic void enterTextTwo(String textTwo) {\n    //enter the second param here\n    Actions act2 = new Actions(driver);\n    WebElement val2 = driver.findElement(By.xpath(&quot;/html/body/div[7]/form/div[1]/input[2]&quot;));\n    act2.moveToElement(val2).click(val2).sendKeys(textTwo).perform();\n}\n\n@And(&quot;I click on Filter button&quot;)\npublic void filterButton() {\n    driver.findElement(By.xpath(&quot;/html/body/div[@class='k-animation-container']/form[@title='Show items with value that:']//button[@type='submit']&quot;)).click();\n}\n\n@Then(&quot;Grid should be filtered accordingly&quot;)\npublic void verifyRow() throws InterruptedException {\n    //verifying row with data\n    //and this\n    WebDriverWait find = new WebDriverWait(driver, Duration.ofSeconds(10000));\n    WebElement gridData = driver.findElement(By.xpath(&quot;//*[@id='grid']/div/div[3]/table/tbody/tr[1]/td[1]/a&quot;));\n    Thread.sleep(10000);\n    WebElement gridData1 = driver.findElement(By.xpath(&quot;//*[@id='grid']/div/div[3]/table/tbody/tr[1]/td[1]/a&quot;));\n    WebElement grid = find.until(ExpectedConditions.elementToBeClickable(gridData1));\n    grid.click();\n    Thread.sleep(5000);\n    String cellData = driver.findElement(By.xpath(&quot;//tbody/tr[1]/td[1]/span[1]&quot;)).getText();\n    if (cellData != null) {\n        System.out.println(&quot;grid is filtered&quot;);\n    } else {\n        System.out.println(&quot;Grid not filtered&quot;);\n    }\n\n}\n\n@And(&quot;I click on Clear Filters button&quot;)\npublic void clearFiltersGrid() throws InterruptedException {\n    driver.findElement(By.xpath(&quot;//div[@id='grid']//ent-grid-buttons[@class='ng-isolate-scope']/ul[@class='ent-buttons-list']//a[.='Clear filters']&quot;)).click();\n    Thread.sleep(7000);\n}\n\n@And(&quot;I click on Collapse All button&quot;)\npublic void collapseGridRow() throws InterruptedException {\n    //collapsing the rows expanded in earlier grid filter\n    driver.findElement(By.xpath(&quot;//div[@id='grid']//ent-grid-buttons[@class='ng-isolate-scope']/ul[@class='ent-buttons-list']//a[@class='collapse-all-btn']&quot;)).click();\n    Thread.sleep(5000);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668519987,"creation_date":1668518546,"answer_id":74446376,"question_id":74442173,"body_markdown":"It&#39;s pretty simple.\r\n\r\nFirst you need to listen for charging state changes. It can be done by:\r\n    \r\n    //Create receiver\r\n    BroadcastReceiver powerChangeReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            \r\n            if(Intent.ACTION_POWER_CONNECTED.equals(action)){\r\n                turnScreenOn();\r\n            } else if(Intent.ACTION_POWER_DISCONNECTED.equals(action)){\r\n                turnScreenOff();\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    //Register receiver\r\n    IntentFilter i = new IntentFilter();\r\n    i.addAction(Intent.ACTION_POWER_CONNECTED);\r\n    i.addAction(Intent.ACTION_POWER_DISCONNECTED);\r\n    registerReceiver(powerChangeReceiver, i);\r\n\r\nand now all you need to do is to implement `turnScreenOn()` and `turnScreenOff()` methods:\r\n\r\n    public void turnScreenOn(){\r\n        runOnUiThread(() -&gt; {\r\n            PowerManager pm = (PowerManager) getApplicationContext().getSystemService(POWER_SERVICE);\r\n            @SuppressWarnings(&quot;deprecation&quot;)\r\n            PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.SCREEN_BRIGHT_WAKE_LOCK |\r\n                    PowerManager.ACQUIRE_CAUSES_WAKEUP, &quot;example:tag&quot;);\r\n            wl.acquire();\r\n        });\r\n    }\r\n\r\n    public void turnScreenOff(){\r\n        if(policyManager.isDeviceOwnerApp(getPackageName())) {\r\n            runOnUiThread(() -&gt; {\r\n                policyManager.lockNow();\r\n            });\r\n        }\r\n    }\r\n\r\nand don&#39;t forget to add `WAKE_LOCK` permission to your Manifest:\r\n\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n```\r\n\r\nHope it helps!","title":"Android app KIOSK MODE turn on display when charging detected","body":"<p>It's pretty simple.</p>\n<p>First you need to listen for charging state changes. It can be done by:</p>\n<pre><code>//Create receiver\nBroadcastReceiver powerChangeReceiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        \n        if(Intent.ACTION_POWER_CONNECTED.equals(action)){\n            turnScreenOn();\n        } else if(Intent.ACTION_POWER_DISCONNECTED.equals(action)){\n            turnScreenOff();\n        }\n\n    }\n};\n\n//Register receiver\nIntentFilter i = new IntentFilter();\ni.addAction(Intent.ACTION_POWER_CONNECTED);\ni.addAction(Intent.ACTION_POWER_DISCONNECTED);\nregisterReceiver(powerChangeReceiver, i);\n</code></pre>\n<p>and now all you need to do is to implement <code>turnScreenOn()</code> and <code>turnScreenOff()</code> methods:</p>\n<pre><code>public void turnScreenOn(){\n    runOnUiThread(() -&gt; {\n        PowerManager pm = (PowerManager) getApplicationContext().getSystemService(POWER_SERVICE);\n        @SuppressWarnings(&quot;deprecation&quot;)\n        PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.SCREEN_BRIGHT_WAKE_LOCK |\n                PowerManager.ACQUIRE_CAUSES_WAKEUP, &quot;example:tag&quot;);\n        wl.acquire();\n    });\n}\n\npublic void turnScreenOff(){\n    if(policyManager.isDeviceOwnerApp(getPackageName())) {\n        runOnUiThread(() -&gt; {\n            policyManager.lockNow();\n        });\n    }\n}\n</code></pre>\n<p>and don't forget to add <code>WAKE_LOCK</code> permission to your Manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":25926284,"reputation":9,"user_id":20286764,"display_name":"user1618809"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668519987,"creation_date":1668498712,"question_id":74442173,"body_markdown":"Im developping app for tablets, its a car navigation. \r\nWhat I need to do is - if the driver turns on car the tablet turns on screen, if the car is shut down display is off. \r\nMy first thought is to keep tablet plugged to the car charger and if the charging is detected turn on display. If the charging is not detected turn off display.\r\nApp would run in KIOSK mode. What would be the best approach to detect charging status while screen is off ?\r\n","title":"Android app KIOSK MODE turn on display when charging detected","body":"<p>Im developping app for tablets, its a car navigation.\nWhat I need to do is - if the driver turns on car the tablet turns on screen, if the car is shut down display is off.\nMy first thought is to keep tablet plugged to the car charger and if the charging is detected turn on display. If the charging is not detected turn off display.\nApp would run in KIOSK mode. What would be the best approach to detect charging status while screen is off ?</p>\n"},{"tags":["java","c","graalvm-native-image"],"comments":[{"owner":{"account_id":26589772,"reputation":582,"user_id":20213170,"display_name":"nick"},"score":1,"creation_date":1666017107,"post_id":74097247,"comment_id":130829231,"body_markdown":"Please check you tags, is this C or C++ ?","body":"Please check you tags, is this C or C++ ?"}],"answers":[{"tags":[],"owner":{"account_id":25836185,"reputation":56,"user_id":19572559,"display_name":"Maxim Zinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668519691,"creation_date":1666869517,"answer_id":74221231,"question_id":74097247,"body_markdown":"you need to transfer the bytes from the buffer to destination array:\r\n\r\n        var buf = CTypeConversion.asByteBuffer(message, size);\r\n        byte[] arr = new byte[buf.remaining()];\r\n        buf.get(arr);","title":"How to pass byte array from C to GraalVM native-image Java entrypoint using a void pointer?","body":"<p>you need to transfer the bytes from the buffer to destination array:</p>\n<pre><code>    var buf = CTypeConversion.asByteBuffer(message, size);\n    byte[] arr = new byte[buf.remaining()];\n    buf.get(arr);\n</code></pre>\n"}],"owner":{"account_id":2663332,"reputation":370,"user_id":2302485,"display_name":"egor10_4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74221231,"answer_count":1,"score":1,"last_activity_date":1668519691,"creation_date":1666009526,"question_id":74097247,"body_markdown":"I create this entrypoint on the Java side:\r\n```java    \r\n    @CEntryPoint(name = &quot;printStruct&quot;)\r\n    public static void printStruct(IsolateThread thread, VoidPointer message, int size) {\r\n        System.out.println(message.isNull());\r\n        ByteBuffer buf = CTypeConversion.asByteBuffer(message, size);\r\n\r\n        System.out.println(new String(buf.array()));\r\n    }\r\n```\r\nIt&#39;s compiled by the GraalVM native-image compiler and `libexample.h` is generated with:\r\n```cpp   \r\n    void printStruct(graal_isolatethread_t* thread, void* message, int size);\r\n```   \r\n\r\nThen I build and run *C* code:\r\n ```cpp   \r\n    int main() {\r\n      graal_isolatethread_t *thread;\r\n\r\n\r\n      int i = graal_create_isolate(NULL, NULL, &amp;thread);\r\n      if (i != 0) {\r\n        printf(&quot;Error creating isolate %d&quot;, i);\r\n        return -1;\r\n      }\r\n      printStruct(thread, &quot;heh&quot;, 3);\r\n      i = graal_tear_down_isolate(thread);\r\n      if (i != 0) {\r\n        printf(&quot;Error tearing down isolate %d&quot;, i);\r\n      }\r\n\r\n      return 0;\r\n    }\r\n```\r\nIt builds fine but being executed outputs:\r\n```\r\n  false\r\n  java.lang.UnsupportedOperationException: null\r\n     at java.nio.ByteBuffer.array(ByteBuffer.java:1471)\r\n     at examples.App.printStruct(App.java:26)\r\n```\r\nI couldn&#39;t find any explanation of that. The documentation of `asByteArray` says:\r\n&gt; Creates a ByteBuffer that refers to the native memory at the specified address. \r\n\r\nSo the `message` is not a null pointer but I cannot access byte array I passed.","title":"How to pass byte array from C to GraalVM native-image Java entrypoint using a void pointer?","body":"<p>I create this entrypoint on the Java side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @CEntryPoint(name = &quot;printStruct&quot;)\n    public static void printStruct(IsolateThread thread, VoidPointer message, int size) {\n        System.out.println(message.isNull());\n        ByteBuffer buf = CTypeConversion.asByteBuffer(message, size);\n\n        System.out.println(new String(buf.array()));\n    }\n</code></pre>\n<p>It's compiled by the GraalVM native-image compiler and <code>libexample.h</code> is generated with:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>    void printStruct(graal_isolatethread_t* thread, void* message, int size);\n</code></pre>\n<p>Then I build and run <em>C</em> code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>   int main() {\n     graal_isolatethread_t *thread;\n\n\n     int i = graal_create_isolate(NULL, NULL, &amp;thread);\n     if (i != 0) {\n       printf(&quot;Error creating isolate %d&quot;, i);\n       return -1;\n     }\n     printStruct(thread, &quot;heh&quot;, 3);\n     i = graal_tear_down_isolate(thread);\n     if (i != 0) {\n       printf(&quot;Error tearing down isolate %d&quot;, i);\n     }\n\n     return 0;\n   }\n</code></pre>\n<p>It builds fine but being executed outputs:</p>\n<pre><code>  false\n  java.lang.UnsupportedOperationException: null\n     at java.nio.ByteBuffer.array(ByteBuffer.java:1471)\n     at examples.App.printStruct(App.java:26)\n</code></pre>\n<p>I couldn't find any explanation of that. The documentation of <code>asByteArray</code> says:</p>\n<blockquote>\n<p>Creates a ByteBuffer that refers to the native memory at the specified address.</p>\n</blockquote>\n<p>So the <code>message</code> is not a null pointer but I cannot access byte array I passed.</p>\n"},{"tags":["java","spring-webflux","couchbase","circuit-breaker"],"comments":[{"owner":{"account_id":5963819,"reputation":416,"user_id":4688115,"display_name":"Graham Pople"},"score":1,"creation_date":1668524356,"post_id":74446629,"comment_id":131423024,"body_markdown":"I don&#39;t think you can.  In the core-io jar, CircuitBreakers are owned by Endpoints which are ultimately owned inside Nodes in Core, and as this is all internal state it&#39;s not accessible externally.  OOI what is the use-case?","body":"I don&#39;t think you can.  In the core-io jar, CircuitBreakers are owned by Endpoints which are ultimately owned inside Nodes in Core, and as this is all internal state it&#39;s not accessible externally.  OOI what is the use-case?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1668558094,"post_id":74446629,"comment_id":131433615,"body_markdown":"Cross reference: [discussion on Couchbase Forum](https://forums.couchbase.com/t/how-to-implement-couchbase-circuit-breaker-on-state-change-event/34867)","body":"Cross reference: <a href=\"https://forums.couchbase.com/t/how-to-implement-couchbase-circuit-breaker-on-state-change-event/34867\" rel=\"nofollow noreferrer\">discussion on Couchbase Forum</a>"}],"owner":{"account_id":4931123,"reputation":157,"user_id":3970878,"display_name":"Md. Hasan Basri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668519539,"creation_date":1668519539,"question_id":74446629,"body_markdown":"I am new to using Couchbase. I have an implementation of the couchbase circuit breaker in one of our Spring Webflux-based applications.\r\n\r\nRef: [The official document][1]\r\n```java\r\n    public ReactiveBucket getBucket(String bucketName) {\r\n        CircuitBreakerConfig.Builder circuitBreakerConfig = CircuitBreakerConfig.builder()\r\n                .enabled(true)\r\n                .volumeThreshold(45)\r\n                .errorThresholdPercentage(25)\r\n                .sleepWindow(Duration.ofSeconds(1))\r\n                .rollingWindow(Duration.ofMinutes(2));\r\n        IoConfig.Builder ioConfig = IoConfig.\r\n                kvCircuitBreakerConfig(circuitBreakerConfig);\r\n        return ReactiveCluster\r\n                .connect(cacheConnection.getUrl(), ClusterOptions.clusterOptions(userName, password)\r\n                        .environment(ClusterEnvironment.builder()\r\n                                .ioConfig(ioConfig)\r\n                                .timeoutConfig(TimeoutConfig.connectTimeout(Duration.ofMillis(cacheConnection.getConnectionTimeout())))\r\n                                .build()))\r\n                .bucket(bucketName);\r\n    }\r\n```\r\nI need support to implement the below things.\r\n1) I need to implement an event that triggers on Couchbase circuit breaker state change.\r\n2) I need a method that will return the current state of the Couchbase circuit breaker.\r\n\r\n\r\n  [1]: https://docs.couchbase.com/java-sdk/current/ref/client-settings.html#circuit-breaker-options","title":"How to implement Couchbase circuit breaker on state change event?","body":"<p>I am new to using Couchbase. I have an implementation of the couchbase circuit breaker in one of our Spring Webflux-based applications.</p>\n<p>Ref: <a href=\"https://docs.couchbase.com/java-sdk/current/ref/client-settings.html#circuit-breaker-options\" rel=\"nofollow noreferrer\">The official document</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public ReactiveBucket getBucket(String bucketName) {\n        CircuitBreakerConfig.Builder circuitBreakerConfig = CircuitBreakerConfig.builder()\n                .enabled(true)\n                .volumeThreshold(45)\n                .errorThresholdPercentage(25)\n                .sleepWindow(Duration.ofSeconds(1))\n                .rollingWindow(Duration.ofMinutes(2));\n        IoConfig.Builder ioConfig = IoConfig.\n                kvCircuitBreakerConfig(circuitBreakerConfig);\n        return ReactiveCluster\n                .connect(cacheConnection.getUrl(), ClusterOptions.clusterOptions(userName, password)\n                        .environment(ClusterEnvironment.builder()\n                                .ioConfig(ioConfig)\n                                .timeoutConfig(TimeoutConfig.connectTimeout(Duration.ofMillis(cacheConnection.getConnectionTimeout())))\n                                .build()))\n                .bucket(bucketName);\n    }\n</code></pre>\n<p>I need support to implement the below things.</p>\n<ol>\n<li>I need to implement an event that triggers on Couchbase circuit breaker state change.</li>\n<li>I need a method that will return the current state of the Couchbase circuit breaker.</li>\n</ol>\n"},{"tags":["java","spring","rabbitmq","spring-cloud-stream","spring-cloud-stream-binder"],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668517358,"creation_date":1668517358,"answer_id":74446086,"question_id":74445026,"body_markdown":"You are actually describing the feature of spring-cloud-stream (SCSt) where the binder automatically connects/reconnects to the server, thus making your app resilient. \r\n\r\nSure, we can add some kind of switch to stop reconnecting, but what would that buy you? SCSt is not for generic messaging apps (there are other spring frameworks for that). It was specifically designed for data streaming cases, where connection may be disrupted but the system stays resilient. There is really no valid use case for streaming application to sit in an un-connected state.  . . then it is not a streaming application.","title":"When rabbitMQ is down in spring boot, startup time increases due to connection retries","body":"<p>You are actually describing the feature of spring-cloud-stream (SCSt) where the binder automatically connects/reconnects to the server, thus making your app resilient.</p>\n<p>Sure, we can add some kind of switch to stop reconnecting, but what would that buy you? SCSt is not for generic messaging apps (there are other spring frameworks for that). It was specifically designed for data streaming cases, where connection may be disrupted but the system stays resilient. There is really no valid use case for streaming application to sit in an un-connected state.  . . then it is not a streaming application.</p>\n"}],"owner":{"account_id":4809719,"reputation":1,"user_id":3883540,"display_name":"Naren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668519104,"creation_date":1668512471,"question_id":74445026,"body_markdown":"I have a spring boot micro service application and I am using spring-cloud-stream-binder-rabbit\r\nAll my rabbiqMq configurations are working fine but if rabbitMq goes down, consumers keeps attempting to fetch the connection indefinitely increasing the service startup time. \r\nWhen rabbitMq is up, it takes &lt;30s, when rabbitMQis down, it takes around 270 seconds\r\nIs there a way to stop looking for connections after certain times?\r\n\r\nThis also causes my application to go down affecting all the APIs that are not related to rabbitMQ.\r\nI tried looking for properties I could add in application.properties to overcome this but couldn&#39;t find one. \r\n\r\n```\r\n@EnableBinding({HelperMQChannel.class})\r\npublic class MyTestServerApplication{\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyTestServerApplication.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic interface HelperMQChannel {\r\n\r\n    @Input(&quot;testConsumerChannel&quot;)\r\n    SubscribableChannel testConsumerChannel();\r\n\r\n    @Output(&quot;testConsumerErrorPublishChannel&quot;)\r\n    MessageChannel testConsumerErrorPublishChannel();\r\n}\r\n\r\n```\r\n\r\n```\r\n\r\n@Component\r\npublic class TestConsumerListener {\r\n\r\n    @StreamListener(&quot;testConsumerChannel&quot;)\r\n    public void processMessage(@NonNull RandomDto randomDto,\r\n                               @Header(name = QueueConstants.X_DEATH, required = false) Map&lt;String, Object&gt; retryCount) {\r\n          // my business logic\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nAlso tried creating a bean for RabbitTemplate as mentioned in https://stackoverflow.com/a/42399165/3883540 but still no luck as I dont even see the log message in my logs\r\n\r\n```\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\r\n        RabbitTemplate template = new RabbitTemplate(connectionFactory);\r\n\r\n        RetryTemplate retryTemplate = new RetryTemplate();\r\n        /*FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\r\n        retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\r\n\r\n        SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy();\r\n        retryPolicy.setMaxAttempts(2);\r\n        retryTemplate.setRetryPolicy(retryPolicy);\r\n        */\r\n        template.setRetryTemplate(retryTemplate);\r\n\r\n\r\n        RecoveryCallback&lt;?&gt; callback = (RecoveryCallback&lt;Object&gt;) retryContext -&gt; {\r\n            log.error(&quot;Nothing to do&quot;);\r\n            return null;\r\n        };\r\n\r\n        template.setRecoveryCallback(callback);\r\n        return template;\r\n    }\r\n\r\n```\r\n\r\nThis is what I see in logs\r\n\r\n```\r\n2022-11-15 17:06:01 [test-exchange.test-consumer-channel-2] WARN  o.s.a.r.l.SimpleMessageListenerContainer.logConsumerException - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\r\n2022-11-15 17:06:01 [test-exchange.test-consumer-channel-2] INFO  o.s.a.r.l.SimpleMessageListenerContainer.killOrRestart - Restarting Consumer@17ea9632: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0\r\n2022-11-15 17:06:04 [test-exchange.test-consumer-channel-3] INFO  o.s.a.r.c.CachingConnectionFactory.connectAddresses - Attempting to connect to: [localhost:5673]\r\n2022-11-15 17:06:13 [test-exchange.test-consumer-channel-3] WARN  o.s.a.r.l.SimpleMessageListenerContainer.logConsumerException - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\r\n2022-11-15 17:06:13 [test-exchange.test-consumer-channel-3] INFO  o.s.a.r.l.SimpleMessageListenerContainer.killOrRestart - Restarting Consumer@30dd942a: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0\r\n2022-11-15 17:06:16 [test-exchange.test-consumer-channel-4] INFO  o.s.a.r.c.CachingConnectionFactory.connectAddresses - Attempting to connect to: [localhost:5673]\r\n```\r\n","title":"When rabbitMQ is down in spring boot, startup time increases due to connection retries","body":"<p>I have a spring boot micro service application and I am using spring-cloud-stream-binder-rabbit\nAll my rabbiqMq configurations are working fine but if rabbitMq goes down, consumers keeps attempting to fetch the connection indefinitely increasing the service startup time.\nWhen rabbitMq is up, it takes &lt;30s, when rabbitMQis down, it takes around 270 seconds\nIs there a way to stop looking for connections after certain times?</p>\n<p>This also causes my application to go down affecting all the APIs that are not related to rabbitMQ.\nI tried looking for properties I could add in application.properties to overcome this but couldn't find one.</p>\n<pre><code>@EnableBinding({HelperMQChannel.class})\npublic class MyTestServerApplication{\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyTestServerApplication.class, args);\n    }\n}\n\n</code></pre>\n<pre><code>public interface HelperMQChannel {\n\n    @Input(&quot;testConsumerChannel&quot;)\n    SubscribableChannel testConsumerChannel();\n\n    @Output(&quot;testConsumerErrorPublishChannel&quot;)\n    MessageChannel testConsumerErrorPublishChannel();\n}\n\n</code></pre>\n<pre><code>\n@Component\npublic class TestConsumerListener {\n\n    @StreamListener(&quot;testConsumerChannel&quot;)\n    public void processMessage(@NonNull RandomDto randomDto,\n                               @Header(name = QueueConstants.X_DEATH, required = false) Map&lt;String, Object&gt; retryCount) {\n          // my business logic\n\n    }\n}\n\n</code></pre>\n<p>Also tried creating a bean for RabbitTemplate as mentioned in <a href=\"https://stackoverflow.com/a/42399165/3883540\">https://stackoverflow.com/a/42399165/3883540</a> but still no luck as I dont even see the log message in my logs</p>\n<pre><code>\n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n        RabbitTemplate template = new RabbitTemplate(connectionFactory);\n\n        RetryTemplate retryTemplate = new RetryTemplate();\n        /*FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\n        retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\n\n        SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy();\n        retryPolicy.setMaxAttempts(2);\n        retryTemplate.setRetryPolicy(retryPolicy);\n        */\n        template.setRetryTemplate(retryTemplate);\n\n\n        RecoveryCallback&lt;?&gt; callback = (RecoveryCallback&lt;Object&gt;) retryContext -&gt; {\n            log.error(&quot;Nothing to do&quot;);\n            return null;\n        };\n\n        template.setRecoveryCallback(callback);\n        return template;\n    }\n\n</code></pre>\n<p>This is what I see in logs</p>\n<pre><code>2022-11-15 17:06:01 [test-exchange.test-consumer-channel-2] WARN  o.s.a.r.l.SimpleMessageListenerContainer.logConsumerException - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\n2022-11-15 17:06:01 [test-exchange.test-consumer-channel-2] INFO  o.s.a.r.l.SimpleMessageListenerContainer.killOrRestart - Restarting Consumer@17ea9632: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0\n2022-11-15 17:06:04 [test-exchange.test-consumer-channel-3] INFO  o.s.a.r.c.CachingConnectionFactory.connectAddresses - Attempting to connect to: [localhost:5673]\n2022-11-15 17:06:13 [test-exchange.test-consumer-channel-3] WARN  o.s.a.r.l.SimpleMessageListenerContainer.logConsumerException - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\n2022-11-15 17:06:13 [test-exchange.test-consumer-channel-3] INFO  o.s.a.r.l.SimpleMessageListenerContainer.killOrRestart - Restarting Consumer@30dd942a: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0\n2022-11-15 17:06:16 [test-exchange.test-consumer-channel-4] INFO  o.s.a.r.c.CachingConnectionFactory.connectAddresses - Attempting to connect to: [localhost:5673]\n</code></pre>\n"},{"tags":["java","android","android-intent"],"answers":[{"tags":[],"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1402454145,"creation_date":1402450517,"answer_id":24153376,"question_id":24153304,"body_markdown":"You are using setcontentview twice. Doing so will require you to initialize most of the things like buttons,etc again. Its not a good practice. It is recommended to use only once and in onCreate method of your activity. Remove this line:\r\n\r\n    setContentView(R.layout.main);//on onActivityResult\r\n","title":"startActivityForResults interferes with onTouchListener","body":"<p>You are using setcontentview twice. Doing so will require you to initialize most of the things like buttons,etc again. Its not a good practice. It is recommended to use only once and in onCreate method of your activity. Remove this line:</p>\n\n<pre><code>setContentView(R.layout.main);//on onActivityResult\n</code></pre>\n"}],"owner":{"account_id":4596164,"reputation":3,"user_id":3728154,"display_name":"user3728154"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":24153376,"answer_count":1,"score":-1,"last_activity_date":1668519081,"creation_date":1402449850,"question_id":24153304,"body_markdown":"I am new to Java programming but have programmed in other languages. I am having an issue with what I think is losing view focus when returning from a new intent.\r\n\r\nThe first time I run I want to collect information from the user, so I do \r\n\r\n    Intent myIntent = new Intent(getApplicationContext(), UserInformation.class);\r\n    startActivityForResult(myIntent, UserInformationRequest);\r\n\r\nThis works fine.  I jump to the intent, collect the data and return to onActivityResult.\r\nThere I want to display the main screen and have the user move an image around, so I setup an onTouchListener\r\n\r\n     @Override\r\n      public void onActivityResult(int iRequestCode, int iResultCode, Intent UserInformationData)\r\n       {\r\n        super.onActivityResult(iRequestCode, iResultCode, UserInformationData); \r\n        \r\n        switch(iRequestCode)\r\n         {\r\n          case UserInformationRequest: setContentView(R.layout.main);\r\n                                       doMoving();                                 \r\n         }\r\n       }\r\n    \r\n    \r\n      public void doMoving()\r\n        {\r\n    \t   ivImage =(ImageView) findViewById(R.id.image);\r\n    \t   ivImage.setOnTouchListener(this);  \r\n       }\r\n      \r\n      \r\n      @Override\r\n      public boolean onTouch(View View, MotionEvent event)\r\n       {\r\n        final int X = (int) event.getRawX();\r\n        final int Y = (int) event.getRawY();\r\n        \r\n        switch (event.getAction() &amp; MotionEvent.ACTION_MASK)\r\n         {\r\n          case MotionEvent.ACTION_DOWN: _xDelta = (int) (X - ivImage.getTranslationX());\r\n                                        _yDelta = (int) (Y - ivImage.getTranslationY());\r\n                                        \r\n                                        ivHomeImage.setVisibility(View.VISIBLE);\r\n          break;\r\n       \r\n          case MotionEvent.ACTION_UP: ivHomeImage.setVisibility(View.INVISIBLE);\r\n          break;\r\n       \r\n          case MotionEvent.ACTION_POINTER_DOWN:\r\n          break;\r\n       \r\n          case MotionEvent.ACTION_POINTER_UP:\r\n          break;\r\n        \r\n          case MotionEvent.ACTION_MOVE: ivImage.setTranslationX(X - _xDelta);\r\n                                        ivImage.setTranslationY(Y - _yDelta);\r\n          break;\r\n         }\r\n        return true;\r\n       }\r\n     }\r\n\r\nThis does not work.  If I skip calling the intent and go directly to the onTouchListener the image can be moved.\r\n\r\nI do understand why calling the Intent and returning leaves my MainActivity broken.\r\n\r\n\r\n","title":"startActivityForResults interferes with onTouchListener","body":"<p>I am new to Java programming but have programmed in other languages. I am having an issue with what I think is losing view focus when returning from a new intent.</p>\n<p>The first time I run I want to collect information from the user, so I do</p>\n<pre><code>Intent myIntent = new Intent(getApplicationContext(), UserInformation.class);\nstartActivityForResult(myIntent, UserInformationRequest);\n</code></pre>\n<p>This works fine.  I jump to the intent, collect the data and return to onActivityResult.\nThere I want to display the main screen and have the user move an image around, so I setup an onTouchListener</p>\n<pre><code> @Override\n  public void onActivityResult(int iRequestCode, int iResultCode, Intent UserInformationData)\n   {\n    super.onActivityResult(iRequestCode, iResultCode, UserInformationData); \n    \n    switch(iRequestCode)\n     {\n      case UserInformationRequest: setContentView(R.layout.main);\n                                   doMoving();                                 \n     }\n   }\n\n\n  public void doMoving()\n    {\n       ivImage =(ImageView) findViewById(R.id.image);\n       ivImage.setOnTouchListener(this);  \n   }\n  \n  \n  @Override\n  public boolean onTouch(View View, MotionEvent event)\n   {\n    final int X = (int) event.getRawX();\n    final int Y = (int) event.getRawY();\n    \n    switch (event.getAction() &amp; MotionEvent.ACTION_MASK)\n     {\n      case MotionEvent.ACTION_DOWN: _xDelta = (int) (X - ivImage.getTranslationX());\n                                    _yDelta = (int) (Y - ivImage.getTranslationY());\n                                    \n                                    ivHomeImage.setVisibility(View.VISIBLE);\n      break;\n   \n      case MotionEvent.ACTION_UP: ivHomeImage.setVisibility(View.INVISIBLE);\n      break;\n   \n      case MotionEvent.ACTION_POINTER_DOWN:\n      break;\n   \n      case MotionEvent.ACTION_POINTER_UP:\n      break;\n    \n      case MotionEvent.ACTION_MOVE: ivImage.setTranslationX(X - _xDelta);\n                                    ivImage.setTranslationY(Y - _yDelta);\n      break;\n     }\n    return true;\n   }\n }\n</code></pre>\n<p>This does not work.  If I skip calling the intent and go directly to the onTouchListener the image can be moved.</p>\n<p>I do understand why calling the Intent and returning leaves my MainActivity broken.</p>\n"},{"tags":["java","android"],"owner":{"account_id":22940402,"reputation":11,"user_id":17073319,"display_name":"user1080425"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668518979,"creation_date":1668492415,"question_id":74441212,"body_markdown":"I want to jump to the system album. I really jump to the system album app instead of pop up the album to select pictures.\r\n\r\nI looked up a lot of information. The closest solution is：\r\n\r\n    Intent intent = new Intent();\r\n    intent.setAction(Intent.ACTION_MAIN);\r\n    intent.addCategory(Intent.CATEGORY_APP_GALLERY);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intent);\r\n\r\n\r\nBut I found that its animation was not what I wanted. \r\n\r\nI try this:\r\n   \r\n\r\n    \r\n    overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n    startActivity(intent);\r\n\r\nBut I found that the animation has not changed on some machines, such as HarmonyOS. \r\n\r\nThen I try\r\n\r\n    \r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    ComponentName cmp = new ComponentName(&quot;xx&quot;,&quot;xx&quot;);\r\n    intent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    intent.setComponent(cmp);\r\n    startActivity(intent);\r\n            \r\n    overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\r\n    \r\n\r\nHowever, it can not solve the problem very well, because the package names of the image library are different on different devices. \r\n\r\nWhat better way do I have jump to the system album app with fade out animation?\r\n","title":"Can I jump to the system album app with fade out animation?","body":"<p>I want to jump to the system album. I really jump to the system album app instead of pop up the album to select pictures.</p>\n<p>I looked up a lot of information. The closest solution is：</p>\n<pre><code>Intent intent = new Intent();\nintent.setAction(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_APP_GALLERY);\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(intent);\n</code></pre>\n<p>But I found that its animation was not what I wanted.</p>\n<p>I try this:</p>\n<pre><code>overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\nstartActivity(intent);\n</code></pre>\n<p>But I found that the animation has not changed on some machines, such as HarmonyOS.</p>\n<p>Then I try</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_MAIN);\nComponentName cmp = new ComponentName(&quot;xx&quot;,&quot;xx&quot;);\nintent.addCategory(Intent.CATEGORY_LAUNCHER);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nintent.setComponent(cmp);\nstartActivity(intent);\n        \noverridePendingTransition(R.anim.fade_in, R.anim.fade_out);\n</code></pre>\n<p>However, it can not solve the problem very well, because the package names of the image library are different on different devices.</p>\n<p>What better way do I have jump to the system album app with fade out animation?</p>\n"},{"tags":["java","list","logic","dynamic-list"],"answers":[{"tags":[],"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668457205,"creation_date":1668457205,"answer_id":74437381,"question_id":74436761,"body_markdown":"Consider creating a [sentinel value][1]/node to represent the end of the real data.  The code that is handling the dynamic loads simply returns real data over and over until it runs out, at which point it returns a special value representing the sentinel.  The client knows to never display the sentinel, and also knows that once it comes in, you are done and can stop fetching any new data.  Your search can go through all the received data, and if it encounters the sentinel, it is done, if not, you know there might be more dynamic data to fetch.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Sentinel_value","title":"How can I find the end of a dynamically populating list?","body":"<p>Consider creating a <a href=\"https://en.wikipedia.org/wiki/Sentinel_value\" rel=\"nofollow noreferrer\">sentinel value</a>/node to represent the end of the real data.  The code that is handling the dynamic loads simply returns real data over and over until it runs out, at which point it returns a special value representing the sentinel.  The client knows to never display the sentinel, and also knows that once it comes in, you are done and can stop fetching any new data.  Your search can go through all the received data, and if it encounters the sentinel, it is done, if not, you know there might be more dynamic data to fetch.</p>\n"}],"owner":{"account_id":23999521,"reputation":1,"user_id":17984627,"display_name":"BabaYaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668518957,"creation_date":1668453464,"question_id":74436761,"body_markdown":"Scenerio is that we are having a page in which the whole data will load in a single page, at a time limited data is there on the screen but as we scroll down the scroll bar other data will populated dynamically, the case is that we do not know the exact amount of data we are having.I want to search for an attribute in the whole data if I&#39;ll found the data I can simply break it from my code but if the searched attribute is not present then how I can know whether I have iterated threw all the search results?&#160;&#160;\r\n\r\nI am having no clue how can i procced ?","title":"How can I find the end of a dynamically populating list?","body":"<p>Scenerio is that we are having a page in which the whole data will load in a single page, at a time limited data is there on the screen but as we scroll down the scroll bar other data will populated dynamically, the case is that we do not know the exact amount of data we are having.I want to search for an attribute in the whole data if I'll found the data I can simply break it from my code but if the searched attribute is not present then how I can know whether I have iterated threw all the search results?  </p>\n<p>I am having no clue how can i procced ?</p>\n"},{"tags":["java","apache-spark","hadoop","hadoop-yarn","google-cloud-dataproc"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668518945,"creation_date":1668518577,"answer_id":74446384,"question_id":74442879,"body_markdown":"Your file needs to exist on every executor, in the same location. Local mode obviously is only running on one machine... You can see in the Spark UI which node the code runs on, then you see `FileNotFoundException` in the logs, so then you can debug on your own by SSH to that machine and look around the file path to see if the exception is true... \r\n\r\nYou should upload the file to HDFS, not use local Unix file paths, or have Spark do it with the `--files` argument to spark-submit ","title":"Spark-submit on GCP dataproc shows java.io. FileNotFoundException error","body":"<p>Your file needs to exist on every executor, in the same location. Local mode obviously is only running on one machine... You can see in the Spark UI which node the code runs on, then you see <code>FileNotFoundException</code> in the logs, so then you can debug on your own by SSH to that machine and look around the file path to see if the exception is true...</p>\n<p>You should upload the file to HDFS, not use local Unix file paths, or have Spark do it with the <code>--files</code> argument to spark-submit</p>\n"}],"owner":{"account_id":11762207,"reputation":117,"user_id":8607900,"display_name":"Aavash Bhandari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668518945,"creation_date":1668502458,"question_id":74442879,"body_markdown":"All the cases are performed in GCP data proc cluster with a master and 4 executors.\r\n\r\n**Case 1:** When I execute a runnable JAR file with the **spark-submit** in Local mode with **spark-config** as \r\n\r\n```SparkConf config = new SparkConf().setMaster(&quot;local[*]&quot;).setAppName(&quot;ANNCLUSTERED&quot;);```\r\n\r\n```spark-submit /home/aavashbhandari/dataset/RunSCL.jar /home/aavashbhandari/dataset/California_Nodes.txt /home/aavashbhandari/dataset/California_Edges.txt /home/aavashbhandari/dataset/California_part_4.txt 4 10000 10000 1```  \\\r\nand run it on local mode, it runs without any issues.\r\n\r\n**Case 2:** Setting the spark configuration on the source as:\r\n```\r\n\t\tSparkConf config = new SparkConf().setAppName(&quot;ANNCLUSTERD&quot;).set(&quot;spark.locality.wait&quot;, &quot;0&quot;)\r\n\t\t\t\t.set(&quot;spark.submit.deployMode&quot;, &quot;cluster&quot;).set(&quot;spark.driver.maxResultSize&quot;, &quot;6g&quot;)\r\n\t\t\t\t.set(&quot;spark.executor.memory&quot;, &quot;6g&quot;).setMaster(&quot;spark://34.80.87.222:7077&quot;).set(&quot;spark.cores.max&quot;, &quot;8&quot;)\r\n\t\t\t\t.set(&quot;spark.blockManager.port&quot;, &quot;10025&quot;).set(&quot;spark.driver.blockManager.port&quot;, &quot;10026&quot;)\r\n\t\t\t\t.set(&quot;spark.driver.port&quot;, &quot;10027&quot;).set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;)\r\n\t\t\t\t.set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\r\n```\r\nand run the same **spark-submit** command I am getting this error:\r\n```\r\n22/11/15 08:45:37 ERROR org.apache.spark.scheduler.cluster.StandaloneSchedulerBackend: Application has been killed. Reason: All masters are unresponsive! Giving up.\r\n22/11/15 08:45:37 WARN org.apache.spark.scheduler.cluster.StandaloneSchedulerBackend: Application ID is not initialized yet.\r\n22/11/15 08:45:37 INFO org.spark_project.jetty.server.AbstractConnector: Stopped Spark@40147317{HTTP/1.1, (http/1.1)}{0.0.0.0:0}\r\n22/11/15 08:45:37 WARN org.apache.spark.deploy.client.StandaloneAppClient$ClientEndpoint: Drop UnregisterApplication(null) because has not yet connected to master\r\n22/11/15 08:45:38 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\n        at scala.Predef$.require(Predef.scala:281)\r\n        at org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\n        at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\n        at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\n        at main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:296)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:855)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:939)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:948)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\n        at scala.Predef$.require(Predef.scala:281)\r\n        at org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\n        at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\n        at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\n        at main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:296)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:855)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:939)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:948)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n\r\n```\r\n\r\n**Case 3:** When I try to run the same JAR file in YARN cluster mode with 4 executors changing the config file to:\r\n\r\n```SparkConf config=new SparkConf().setAppName(&quot;ANN-SCL&quot;);```\r\n\r\nand the submit command I get this following error:\r\n\r\n```\r\nspark-submit --class main.GraphNetworkSCLAlgorithm --master yarn --deploy-mode cluster --num-executors 4 /home/aavashbhandari/dataset/RunSCL.jar /home/aavashbhandari/dataset/California_Nodes.txt /home/aavashbhandari/dataset/California_Edges.txt /home/aavashbhandari/dataset/California_part_4.txt 4 10000 10000 1\r\n```\r\nI get the following error, while the job gets accepted it never passes to the running stage.\r\n```\r\nApplication application_1668488196607_0004 failed 2 times due to AM Container for appattempt_1668488196607_0004_000002 exited with exitCode: 13\r\nFailing this attempt.Diagnostics: [2022-11-15 08:16:01.044]Exception from container-launch.\r\nContainer id: container_1668488196607_0004_02_000001\r\nExit code: 13\r\n[2022-11-15 08:16:01.086]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of stderr :\r\nat java.io.FileInputStream.open0(Native Method)\r\nat java.io.FileInputStream.open(FileInputStream.java:195)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\r\nat framework.UtilsManagement.readEdgeTxtFileReturnGraph(UtilsManagement.java:382)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:91)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\njava.io.FileNotFoundException: /home/aavashbhandari/dataset/California_Edges.txt (No such file or directory)\r\nat java.io.FileInputStream.open0(Native Method)\r\nat java.io.FileInputStream.open(FileInputStream.java:195)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\r\nat edu.ufl.cise.bsmock.graph.YenGraph.readFromFile(YenGraph.java:171)\r\nat edu.ufl.cise.bsmock.graph.YenGraph.&lt;init&gt;(YenGraph.java:21)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:92)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\njava.io.FileNotFoundException: /home/aavashbhandari/dataset/California_Nodes.txt (No such file or directory)\r\nat java.io.FileInputStream.open0(Native Method)\r\nat java.io.FileInputStream.open(FileInputStream.java:195)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\r\nat framework.UtilsManagement.readTxtNodeFile(UtilsManagement.java:210)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:97)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n22/11/15 08:16:00 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\r\njava.util.concurrent.TimeoutException: Futures timed out after [100000 milliseconds]\r\nat scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:259)\r\nat scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:263)\r\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:220)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\r\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat javax.security.auth.Subject.doAs(Subject.java:422)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\r\n[2022-11-15 08:16:01.087]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of stderr :\r\nat java.io.FileInputStream.open0(Native Method)\r\nat java.io.FileInputStream.open(FileInputStream.java:195)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\r\nat framework.UtilsManagement.readEdgeTxtFileReturnGraph(UtilsManagement.java:382)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:91)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\njava.io.FileNotFoundException: /home/aavashbhandari/dataset/California_Edges.txt (No such file or directory)\r\nat java.io.FileInputStream.open0(Native Method)\r\nat java.io.FileInputStream.open(FileInputStream.java:195)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\r\nat edu.ufl.cise.bsmock.graph.YenGraph.readFromFile(YenGraph.java:171)\r\nat edu.ufl.cise.bsmock.graph.YenGraph.&lt;init&gt;(YenGraph.java:21)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:92)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\njava.io.FileNotFoundException: /home/aavashbhandari/dataset/California_Nodes.txt (No such file or directory)\r\nat java.io.FileInputStream.open0(Native Method)\r\nat java.io.FileInputStream.open(FileInputStream.java:195)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\r\nat framework.UtilsManagement.readTxtNodeFile(UtilsManagement.java:210)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:97)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n22/11/15 08:16:00 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\r\njava.util.concurrent.TimeoutException: Futures timed out after [100000 milliseconds]\r\nat scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:259)\r\nat scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:263)\r\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:220)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\r\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat javax.security.auth.Subject.doAs(Subject.java:422)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\r\nFor more detailed output, check the application tracking page: http://spark-cluster-m:8188/applicationhistory/app/application_1668488196607_0004 Then click on links to logs of each attempt.\r\n. Failing the application.\r\n```\r\n\r\nI am using the absolute file path to pass the file as an argument and but still running on the error. I am worried that my configurations are not correct\r\n\r\n","title":"Spark-submit on GCP dataproc shows java.io. FileNotFoundException error","body":"<p>All the cases are performed in GCP data proc cluster with a master and 4 executors.</p>\n<p><strong>Case 1:</strong> When I execute a runnable JAR file with the <strong>spark-submit</strong> in Local mode with <strong>spark-config</strong> as</p>\n<p><code>SparkConf config = new SparkConf().setMaster(&quot;local[*]&quot;).setAppName(&quot;ANNCLUSTERED&quot;);</code></p>\n<p><code>spark-submit /home/aavashbhandari/dataset/RunSCL.jar /home/aavashbhandari/dataset/California_Nodes.txt /home/aavashbhandari/dataset/California_Edges.txt /home/aavashbhandari/dataset/California_part_4.txt 4 10000 10000 1</code>  <br />\nand run it on local mode, it runs without any issues.</p>\n<p><strong>Case 2:</strong> Setting the spark configuration on the source as:</p>\n<pre><code>        SparkConf config = new SparkConf().setAppName(&quot;ANNCLUSTERD&quot;).set(&quot;spark.locality.wait&quot;, &quot;0&quot;)\n                .set(&quot;spark.submit.deployMode&quot;, &quot;cluster&quot;).set(&quot;spark.driver.maxResultSize&quot;, &quot;6g&quot;)\n                .set(&quot;spark.executor.memory&quot;, &quot;6g&quot;).setMaster(&quot;spark://34.80.87.222:7077&quot;).set(&quot;spark.cores.max&quot;, &quot;8&quot;)\n                .set(&quot;spark.blockManager.port&quot;, &quot;10025&quot;).set(&quot;spark.driver.blockManager.port&quot;, &quot;10026&quot;)\n                .set(&quot;spark.driver.port&quot;, &quot;10027&quot;).set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;)\n                .set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\n</code></pre>\n<p>and run the same <strong>spark-submit</strong> command I am getting this error:</p>\n<pre><code>22/11/15 08:45:37 ERROR org.apache.spark.scheduler.cluster.StandaloneSchedulerBackend: Application has been killed. Reason: All masters are unresponsive! Giving up.\n22/11/15 08:45:37 WARN org.apache.spark.scheduler.cluster.StandaloneSchedulerBackend: Application ID is not initialized yet.\n22/11/15 08:45:37 INFO org.spark_project.jetty.server.AbstractConnector: Stopped Spark@40147317{HTTP/1.1, (http/1.1)}{0.0.0.0:0}\n22/11/15 08:45:37 WARN org.apache.spark.deploy.client.StandaloneAppClient$ClientEndpoint: Drop UnregisterApplication(null) because has not yet connected to master\n22/11/15 08:45:38 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\n        at scala.Predef$.require(Predef.scala:281)\n        at org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\n        at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\n        at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\n        at main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:296)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:855)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:939)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:948)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\n        at scala.Predef$.require(Predef.scala:281)\n        at org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\n        at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\n        at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\n        at main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:296)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:855)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:939)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:948)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n\n</code></pre>\n<p><strong>Case 3:</strong> When I try to run the same JAR file in YARN cluster mode with 4 executors changing the config file to:</p>\n<p><code>SparkConf config=new SparkConf().setAppName(&quot;ANN-SCL&quot;);</code></p>\n<p>and the submit command I get this following error:</p>\n<pre><code>spark-submit --class main.GraphNetworkSCLAlgorithm --master yarn --deploy-mode cluster --num-executors 4 /home/aavashbhandari/dataset/RunSCL.jar /home/aavashbhandari/dataset/California_Nodes.txt /home/aavashbhandari/dataset/California_Edges.txt /home/aavashbhandari/dataset/California_part_4.txt 4 10000 10000 1\n</code></pre>\n<p>I get the following error, while the job gets accepted it never passes to the running stage.</p>\n<pre><code>Application application_1668488196607_0004 failed 2 times due to AM Container for appattempt_1668488196607_0004_000002 exited with exitCode: 13\nFailing this attempt.Diagnostics: [2022-11-15 08:16:01.044]Exception from container-launch.\nContainer id: container_1668488196607_0004_02_000001\nExit code: 13\n[2022-11-15 08:16:01.086]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\nLast 4096 bytes of stderr :\nat java.io.FileInputStream.open0(Native Method)\nat java.io.FileInputStream.open(FileInputStream.java:195)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\nat framework.UtilsManagement.readEdgeTxtFileReturnGraph(UtilsManagement.java:382)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:91)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\njava.io.FileNotFoundException: /home/aavashbhandari/dataset/California_Edges.txt (No such file or directory)\nat java.io.FileInputStream.open0(Native Method)\nat java.io.FileInputStream.open(FileInputStream.java:195)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\nat edu.ufl.cise.bsmock.graph.YenGraph.readFromFile(YenGraph.java:171)\nat edu.ufl.cise.bsmock.graph.YenGraph.&lt;init&gt;(YenGraph.java:21)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:92)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\njava.io.FileNotFoundException: /home/aavashbhandari/dataset/California_Nodes.txt (No such file or directory)\nat java.io.FileInputStream.open0(Native Method)\nat java.io.FileInputStream.open(FileInputStream.java:195)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\nat framework.UtilsManagement.readTxtNodeFile(UtilsManagement.java:210)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:97)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n22/11/15 08:16:00 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\njava.util.concurrent.TimeoutException: Futures timed out after [100000 milliseconds]\nat scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:259)\nat scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:263)\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:220)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\n[2022-11-15 08:16:01.087]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\nLast 4096 bytes of stderr :\nat java.io.FileInputStream.open0(Native Method)\nat java.io.FileInputStream.open(FileInputStream.java:195)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\nat framework.UtilsManagement.readEdgeTxtFileReturnGraph(UtilsManagement.java:382)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:91)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\njava.io.FileNotFoundException: /home/aavashbhandari/dataset/California_Edges.txt (No such file or directory)\nat java.io.FileInputStream.open0(Native Method)\nat java.io.FileInputStream.open(FileInputStream.java:195)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\nat edu.ufl.cise.bsmock.graph.YenGraph.readFromFile(YenGraph.java:171)\nat edu.ufl.cise.bsmock.graph.YenGraph.&lt;init&gt;(YenGraph.java:21)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:92)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\njava.io.FileNotFoundException: /home/aavashbhandari/dataset/California_Nodes.txt (No such file or directory)\nat java.io.FileInputStream.open0(Native Method)\nat java.io.FileInputStream.open(FileInputStream.java:195)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\nat java.io.FileReader.&lt;init&gt;(FileReader.java:58)\nat framework.UtilsManagement.readTxtNodeFile(UtilsManagement.java:210)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:97)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n22/11/15 08:16:00 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\njava.util.concurrent.TimeoutException: Futures timed out after [100000 milliseconds]\nat scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:259)\nat scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:263)\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:220)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\nFor more detailed output, check the application tracking page: http://spark-cluster-m:8188/applicationhistory/app/application_1668488196607_0004 Then click on links to logs of each attempt.\n. Failing the application.\n</code></pre>\n<p>I am using the absolute file path to pass the file as an argument and but still running on the error. I am worried that my configurations are not correct</p>\n"},{"tags":["java","jms","websphere","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1668521987,"post_id":74446395,"comment_id":131421954,"body_markdown":"What type of filters?   MessagId?","body":"What type of filters?   MessagId?"},{"owner":{"account_id":7482453,"reputation":47,"user_id":5686831,"display_name":"Chaitnya Joshi"},"score":0,"creation_date":1668613928,"post_id":74446395,"comment_id":131449301,"body_markdown":"I am consuming messages in chunks. So there is a way to provide options such as receive chunks in logical order, wait till all the chunks are available etc in ibm mq code. I want to specify same options while using jms listener.","body":"I am consuming messages in chunks. So there is a way to provide options such as receive chunks in logical order, wait till all the chunks are available etc in ibm mq code. I want to specify same options while using jms listener."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1668638044,"post_id":74446395,"comment_id":131457560,"body_markdown":"There is no direct way to get the auto segmentation your are looking for in JMS.  This answer may help you do it a different way: https://stackoverflow.com/questions/46242936/how-to-implement-logical-ordering-in-ibm-mq-in-java/46245234?r=SearchResults&amp;s=7%7C12.7123#46245234","body":"There is no direct way to get the auto segmentation your are looking for in JMS.  This answer may help you do it a different way: <a href=\"https://stackoverflow.com/questions/46242936/how-to-implement-logical-ordering-in-ibm-mq-in-java/46245234?r=SearchResults&amp;s=7%7C12.7123#46245234\" title=\"how to implement logical ordering in ibm mq in java\">stackoverflow.com/questions/46242936/&hellip;</a>"}],"owner":{"account_id":7482453,"reputation":47,"user_id":5686831,"display_name":"Chaitnya Joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668518593,"creation_date":1668518593,"question_id":74446395,"body_markdown":"I have a working code where in I can specify options while listening to queue messages. However, code uses IBM MQ classes and I want to achieve the same functionality using JMS classes. Is there any way I can specify the options ( more of filters) while listening to queue messages using JMS listener.\r\nAttaching the sample code used while listening to queue messages using IBM MQ classes.\r\n```MQMessage mgMessage = new MQMessage ( ) ; \r\nMQGetMessageOptions gmo = new MQGetMessageOptions ( ) ; \r\ngmo.options = MQC.MQGMO_NO_WAIT + MQC.MQGMO_FAIL_IF_QUIESCING; \r\nserverFileQueue.get(mqMessage,gmo);\r\n\r\n","title":"Specifying options while listening to queue messages in JMS Listener","body":"<p>I have a working code where in I can specify options while listening to queue messages. However, code uses IBM MQ classes and I want to achieve the same functionality using JMS classes. Is there any way I can specify the options ( more of filters) while listening to queue messages using JMS listener.\nAttaching the sample code used while listening to queue messages using IBM MQ classes.</p>\n<pre><code>MQGetMessageOptions gmo = new MQGetMessageOptions ( ) ; \ngmo.options = MQC.MQGMO_NO_WAIT + MQC.MQGMO_FAIL_IF_QUIESCING; \nserverFileQueue.get(mqMessage,gmo);\n\n</code></pre>\n"},{"tags":["java","java-stream","option-type"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1668255265,"post_id":74412806,"comment_id":131363855,"body_markdown":"Why not call `get()` / `orElseX()` ?","body":"Why not call <code>get()</code> / <code>orElseX()</code> ?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668255322,"post_id":74412806,"comment_id":131363863,"body_markdown":"`optionalStream.orElse(Stream.of({}).stream` or similar, not sure about creating an empty stream","body":"<code>optionalStream.orElse(Stream.of({}).stream</code> or similar, not sure about creating an empty stream"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1668255739,"post_id":74412806,"comment_id":131363931,"body_markdown":"What&#39;s a more &quot;beautiful&quot; way?","body":"What&#39;s a more &quot;beautiful&quot; way?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668257680,"post_id":74412806,"comment_id":131364256,"body_markdown":"Personally, I would not use an optional wrapping a stream. Use only a stream.","body":"Personally, I would not use an optional wrapping a stream. Use only a stream."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1668272582,"post_id":74412806,"comment_id":131367219,"body_markdown":"How do you end up with an `Optional&lt;Stream&gt;` other than artificially creating it like in your example? You must have made a mistake somewhere.","body":"How do you end up with an <code>Optional&lt;Stream&gt;</code> other than artificially creating it like in your example? You must have made a mistake somewhere."},{"owner":{"account_id":23010429,"reputation":215,"user_id":17133024,"display_name":"Dario Viva"},"score":0,"creation_date":1668291081,"post_id":74412806,"comment_id":131370828,"body_markdown":"that was just an example, in my real scenario it makes somewhat more sense.\nthere I have something like:\n`stream.findFirst().map(e -&gt; e.getChildren())`","body":"that was just an example, in my real scenario it makes somewhat more sense. there I have something like: <code>stream.findFirst().map(e -&gt; e.getChildren())</code>"}],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668255344,"creation_date":1668255344,"answer_id":74412838,"question_id":74412806,"body_markdown":"I guess you could use the `orElseGet()` method:\r\n\r\n    optionalStream.orElseGet(()-&gt;Stream.empty())","title":"Exctract the Stream from an Optional&lt;Stream&gt;","body":"<p>I guess you could use the <code>orElseGet()</code> method:</p>\n<pre><code>optionalStream.orElseGet(()-&gt;Stream.empty())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1668518380,"creation_date":1668255610,"answer_id":74412877,"question_id":74412806,"body_markdown":"# Use [`Stream.empty()`][1]\r\n\r\nIt doesn&#39;t make sense to wrap a `Stream` with an `Optional`.\r\n\r\nAn `Optional` allows to interact safely with the result of the method call, which might not produce the data. And empty Optional represents the case when the data is absent.\r\n\r\nA `Stream` can also be empty, and it represents the absents of data perfectly fine without a need of being packed into an `Optional`.\r\n\r\nUse `Stream.empty()` as a return value for your method.\r\n\r\n*You also might want to check these references:*\r\n\r\n* [Uses for Optional](https://stackoverflow.com/a/23464794/17949945)\r\n\r\n* [Valid usage of Optional type in Java 8](https://stackoverflow.com/a/34458582/17949945)\r\n\r\n&lt;h3&gt;Addressing the Question-update&lt;/h3&gt;\r\n\r\n# [`Optional.stream()`][2]\r\n\r\nThe best solution to the problem is to **eliminate the problem**.\r\n\r\nThe spirit of the answer remains unchanged: don&#39;t create an `Optional&lt;Stream&lt;T&gt;&gt;` and there would be no need to deal with it.\r\n\r\nJava 9 `Optional.stream()` comes to the rescue. Apply `stream()` after `findFirst()`, and you would get either a singleton-stream containing a value captured by `findFirst()`, or an empty stream. And then you can perform any transformation you need.\r\n\r\nSo, instead of this:\r\n\r\n```\r\nstream.findFirst().map(e -&gt; e.getChildren())\r\n```\r\n\r\nDo the following:\r\n\r\n```\r\nstream.findFirst().stream().flatMap(Foo::getChildren)\r\n```\r\n\r\n# Stream.limit()\r\n\r\nAlternatively, as suggested by *@Holger* instead of `findFirt()` you can apply `limit(1)` and continue to chain stream-operation. This approach would work with JDK 8.\r\n\r\n```\r\nstream.limit(1).flatMap(Foo::getChildren)\r\n```\r\n\r\n\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#empty()\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#stream()","title":"Exctract the Stream from an Optional&lt;Stream&gt;","body":"<h1>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#empty()\" rel=\"nofollow noreferrer\"><code>Stream.empty()</code></a></h1>\n<p>It doesn't make sense to wrap a <code>Stream</code> with an <code>Optional</code>.</p>\n<p>An <code>Optional</code> allows to interact safely with the result of the method call, which might not produce the data. And empty Optional represents the case when the data is absent.</p>\n<p>A <code>Stream</code> can also be empty, and it represents the absents of data perfectly fine without a need of being packed into an <code>Optional</code>.</p>\n<p>Use <code>Stream.empty()</code> as a return value for your method.</p>\n<p><em>You also might want to check these references:</em></p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/a/23464794/17949945\">Uses for Optional</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/34458582/17949945\">Valid usage of Optional type in Java 8</a></p>\n</li>\n</ul>\n<h3>Addressing the Question-update</h3>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#stream()\" rel=\"nofollow noreferrer\"><code>Optional.stream()</code></a></h1>\n<p>The best solution to the problem is to <strong>eliminate the problem</strong>.</p>\n<p>The spirit of the answer remains unchanged: don't create an <code>Optional&lt;Stream&lt;T&gt;&gt;</code> and there would be no need to deal with it.</p>\n<p>Java 9 <code>Optional.stream()</code> comes to the rescue. Apply <code>stream()</code> after <code>findFirst()</code>, and you would get either a singleton-stream containing a value captured by <code>findFirst()</code>, or an empty stream. And then you can perform any transformation you need.</p>\n<p>So, instead of this:</p>\n<pre><code>stream.findFirst().map(e -&gt; e.getChildren())\n</code></pre>\n<p>Do the following:</p>\n<pre><code>stream.findFirst().stream().flatMap(Foo::getChildren)\n</code></pre>\n<h1>Stream.limit()</h1>\n<p>Alternatively, as suggested by <em>@Holger</em> instead of <code>findFirt()</code> you can apply <code>limit(1)</code> and continue to chain stream-operation. This approach would work with JDK 8.</p>\n<pre><code>stream.limit(1).flatMap(Foo::getChildren)\n</code></pre>\n"}],"owner":{"account_id":23010429,"reputation":215,"user_id":17133024,"display_name":"Dario Viva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74412838,"answer_count":2,"score":2,"last_activity_date":1668518380,"creation_date":1668255038,"question_id":74412806,"body_markdown":"Suppose I have an `Optional` containing a `Stream`:\r\n\r\n```java\r\nOptional&lt;Stream&lt;Integer&gt;&gt; optionalStream = Optional.of(Stream.of(1, 2, 3));\r\n```\r\n\r\nNow I need to extract the `Stream` itself. If the `Optional` is empty, you want to get an empty Stream.\r\n\r\nI&#39;m looking of is something like `flatStream()` that performs transformation in one step. How can I do this?\r\n\r\n*My current attempt:*\r\n\r\n```java\r\nStream&lt;Integer&gt; stream = optionalStream.stream().flatMap(Function.identity());\r\n```\r\n____________________________________________________\r\n\r\n&lt;h3&gt;The Context of the Problem&lt;/h3&gt;\r\n\r\nIn my real scenario, I have something like this, which gives me a `Stream&lt;Optional&lt;Foo&gt;&gt;`:\r\n\r\n```\r\nstream.findFirst().map(e -&gt; e.getChildren())\r\n```\r\n","title":"Exctract the Stream from an Optional&lt;Stream&gt;","body":"<p>Suppose I have an <code>Optional</code> containing a <code>Stream</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Stream&lt;Integer&gt;&gt; optionalStream = Optional.of(Stream.of(1, 2, 3));\n</code></pre>\n<p>Now I need to extract the <code>Stream</code> itself. If the <code>Optional</code> is empty, you want to get an empty Stream.</p>\n<p>I'm looking of is something like <code>flatStream()</code> that performs transformation in one step. How can I do this?</p>\n<p><em>My current attempt:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;Integer&gt; stream = optionalStream.stream().flatMap(Function.identity());\n</code></pre>\n<hr />\n<h3>The Context of the Problem</h3>\n<p>In my real scenario, I have something like this, which gives me a <code>Stream&lt;Optional&lt;Foo&gt;&gt;</code>:</p>\n<pre><code>stream.findFirst().map(e -&gt; e.getChildren())\n</code></pre>\n"},{"tags":["java","google-cloud-firestore","arraylist","android-recyclerview","android-adapter"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668522026,"post_id":74446323,"comment_id":131421978,"body_markdown":"Please don&#39;t add duplicate questions. You already got two answers to the previous question. If you have a question regarding those solutions, please add them there, don&#39;t post a new question.","body":"Please don&#39;t add duplicate questions. You already got two answers to the previous question. If you have a question regarding those solutions, please add them there, don&#39;t post a new question."},{"owner":{"account_id":20164856,"reputation":21,"user_id":14789064,"display_name":"jayCoder"},"score":0,"creation_date":1668522697,"post_id":74446323,"comment_id":131422278,"body_markdown":"I really dont think they are similar this one involves the recyclerview and the adapter","body":"I really dont think they are similar this one involves the recyclerview and the adapter"}],"owner":{"account_id":20164856,"reputation":21,"user_id":14789064,"display_name":"jayCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668521957,"answer_count":0,"score":0,"last_activity_date":1668518323,"creation_date":1668518323,"question_id":74446323,"body_markdown":"The recyclerView shows a single item when an authenticated user logs in. The authenticated user has to see different photos i.e if they have uploaded different photos.\r\n\r\nThe **MainActivity** gets data from firestore and is stored in an array list which is passed to the other arraylist in the **adapter**.\r\n\r\n**Below is the MainActivity Code Sample that gets data from firestore and stores in arrayList**\r\n\r\n    fStore.collection(&quot;images&quot;).whereEqualTo(&quot;userId&quot;, Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getUid()).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if(task.isSuccessful()){\r\n                   // DocumentSnapshot document = task.getResult();\r\n                    Item item = new Item();\r\n                    itemList = new ArrayList&lt;&gt;();\r\n                    for(QueryDocumentSnapshot document: task.getResult()){\r\n\r\n\r\n                        item.setItemName(document.getData().get(&quot;name&quot;).toString());\r\n\r\n\r\n                        item.setItemPrice(document.getData().get(&quot;price&quot;).toString());\r\n                        item.setItemImage(document.getData().get(&quot;image&quot;).toString());\r\n                        item.setItemDescription(document.getData().get(&quot;description&quot;).toString());\r\n                        itemList.add(item);\r\n                        System.out.println(&quot;This are my items:&quot;+ itemList.get(0).getItemName());\r\n\r\n\r\n                    }\r\n                    shoeAdapter = new ShoeAdapter(MainActivity.this, itemList);\r\n                    recyclerView.setAdapter(shoeAdapter);\r\n                    shoeAdapter.notifyDataSetChanged();\r\n\r\n                }else {\r\n                    Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n                }\r\n\r\n**The Adapter Code Sample below**\r\n\r\n    package com.bac.shoesrecyclerview;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.bumptech.glide.Glide;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class ShoeAdapter extends RecyclerView.Adapter&lt;ShoeAdapter.ViewHolder&gt; {\r\n    \r\n            private Context context;\r\n            private List&lt;Item&gt; mItems;\r\n   \r\n    \r\n        public ShoeAdapter(Context context, List&lt;Item&gt; items) {\r\n                this.mItems = items;\r\n                this.context = context;\r\n            }\r\n    \r\n        public void removeItem(int position){\r\n            mItems.remove(position);\r\n            notifyItemRemoved(position);\r\n        }\r\n    \r\n        public void restoreItem(Item shoes, int position){\r\n            mItems.add(position, shoes);\r\n            notifyItemInserted(position);\r\n        }\r\n    \r\n        @NonNull\r\n            @Override\r\n            public ShoeAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                Context context = parent.getContext();\r\n                LayoutInflater inflater = LayoutInflater.from(context);\r\n    \r\n                // Inflate the custom layout\r\n                View contactView = inflater.inflate(R.layout.item_layout, parent, false);\r\n    \r\n                // Return a new holder instance\r\n                ViewHolder viewHolder = new ViewHolder(contactView);\r\n                return viewHolder;\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onBindViewHolder(@NonNull ShoeAdapter.ViewHolder holder, int position) {\r\n                 Item upload = mItems.get(position);\r\n                Glide.with(context).load(upload.getItemImage()).into(holder.imageView);\r\n                System.out.println(&quot;ITEM ARRAY:&quot;+ upload);\r\n    \r\n                holder.nameTextView.setText(upload.getItemName());\r\n                holder.nameTextView2.setText(upload.getItemDescription());\r\n                holder.textViewStock.setText(upload.getItemPrice());\r\n                \r\n    \r\n            }\r\n    \r\n            @Override\r\n            public int getItemCount() {\r\n                return mItems.size();\r\n            }\r\n    \r\n            public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n    \r\n                public TextView nameTextView;\r\n                public TextView nameTextView2;\r\n                public TextView textViewStock;\r\n                public ImageView imageView;\r\n                public RelativeLayout displayLayout;\r\n    \r\n                public ViewHolder(@NonNull View itemView) {\r\n                    super(itemView);\r\n                  nameTextView = itemView.findViewById(R.id.textViewDescription);\r\n                   nameTextView2 = itemView.findViewById(R.id.textViewName);\r\n                  imageView = itemView.findViewById(R.id.imageView);\r\n                  textViewStock = itemView.findViewById(R.id.textViewStock);\r\n                  displayLayout = itemView.findViewById(R.id.layoutDisplay);\r\n                    itemView.setOnClickListener(this);\r\n                }\r\n    \r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    int position = getAdapterPosition();\r\n                    Item items  = mItems.get(position);\r\n                    Intent intent = new Intent(context,display_shoes.class);\r\n                    intent.putExtra(&quot;name&quot;,items.getItemName());\r\n                    intent.putExtra(&quot;description&quot;,items.getItemDescription());\r\n                    intent.putExtra(&quot;image&quot;,items.getItemImage());\r\n                    intent.putExtra(&quot;price&quot;,items.getItemPrice());\r\n    \r\n    \r\n                    context.startActivity(intent);\r\n    \r\n    \r\n                }\r\n            }\r\n        }\r\n\r\nI debugged the above adapter by  printing what upload variable has`Item upload = mItems.get(position); System.out.println(&quot;ITEM ARRAY:&quot;+ upload);`.\r\n\r\n**Output From the Console**\r\n[![enter image description here][1]][1]\r\n\r\nEven though it does not hold any readable and understandable values it is showing repetition am suspecting that might be the root cause.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d971z.png\r\n\r\n**The Layout of the Item activity That gets Inflated**\r\n\r\n  \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/FrameLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:background=&quot;@color/white&quot;&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/view_background&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;244dp&quot;\r\n            android:background=&quot;#D81B60&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/delete_icon&quot;\r\n                android:layout_width=&quot;85dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;50dp&quot;\r\n                android:layout_marginRight=&quot;15dp&quot;\r\n                android:src=&quot;@drawable/ic_baseline_delete_24&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;52dp&quot;\r\n                android:layout_height=&quot;165dp&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;90dp&quot;\r\n                android:layout_marginEnd=&quot;-100dp&quot;\r\n                android:layout_toLeftOf=&quot;@id/delete_icon&quot;\r\n                android:text=&quot;Delete&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layoutDisplay&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@color/white&quot;\r\n                android:padding=&quot;10dp&quot;&gt;\r\n    \r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView&quot;\r\n                    android:layout_width=&quot;90dp&quot;\r\n                    android:layout_height=&quot;90dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:background=&quot;@drawable/roundshape&quot;\r\n                    android:scaleType=&quot;centerCrop&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n    \r\n                    android:id=&quot;@+id/textViewName&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_toRightOf=&quot;@+id/imageView&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:fontFamily=&quot;sans-serif&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;17sp&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n    \r\n                    android:id=&quot;@+id/textViewDescription&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/textViewName&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_toRightOf=&quot;@id/imageView&quot;\r\n                    android:textColor=&quot;#555353&quot;\r\n                    android:textSize=&quot;12sp&quot; /&gt;\r\n    \r\n    \r\n                &lt;TextView\r\n    \r\n                    android:id=&quot;@+id/textViewStock&quot;\r\n                    android:layout_width=&quot;60dp&quot;\r\n                    android:layout_height=&quot;60dp&quot;\r\n    \r\n                    android:layout_alignParentBottom=&quot;true&quot;\r\n                    android:layout_marginLeft=&quot;30dp&quot;\r\n    \r\n                    android:layout_marginBottom=&quot;140dp&quot;\r\n    \r\n                    android:layout_toRightOf=&quot;@+id/imageView&quot;\r\n    \r\n                    android:textColor=&quot;#D81B60&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n    \r\n            &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\n**The Structure Of The RecyclerView**\r\n\r\n  \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n    \r\n            android:layout_height=&quot;83dp&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                android:minHeight=&quot;?attr/actionBarSize&quot;\r\n                android:theme=&quot;?attr/actionBarTheme&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/logOutBtn&quot;\r\n                android:layout_width=&quot;85dp&quot;\r\n                android:layout_height=&quot;45dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:background=&quot;@drawable/roundcheck&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/toolbar&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.049&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/toolbar&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Logout&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView6&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;28dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/logOutBtn&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/logOutBtn&quot;\r\n                app:srcCompat=&quot;@drawable/activeperson&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/LoggedIn&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:text=&quot;LoggedIn :&quot;\r\n                android:textColor=&quot;#F6F2F2&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/imageView6&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n    \r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginEnd=&quot;4dp&quot;\r\n            android:backgroundTint=&quot;@color/light_pink&quot;\r\n    \r\n            android:src=&quot;@drawable/ic_baseline_add_box_24&quot; /&gt;\r\n    \r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;90dp&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;","title":"RecyclerView Displays a Single Item When a user logs in","body":"<p>The recyclerView shows a single item when an authenticated user logs in. The authenticated user has to see different photos i.e if they have uploaded different photos.</p>\n<p>The <strong>MainActivity</strong> gets data from firestore and is stored in an array list which is passed to the other arraylist in the <strong>adapter</strong>.</p>\n<p><strong>Below is the MainActivity Code Sample that gets data from firestore and stores in arrayList</strong></p>\n<pre><code>fStore.collection(&quot;images&quot;).whereEqualTo(&quot;userId&quot;, Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getUid()).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if(task.isSuccessful()){\n               // DocumentSnapshot document = task.getResult();\n                Item item = new Item();\n                itemList = new ArrayList&lt;&gt;();\n                for(QueryDocumentSnapshot document: task.getResult()){\n\n\n                    item.setItemName(document.getData().get(&quot;name&quot;).toString());\n\n\n                    item.setItemPrice(document.getData().get(&quot;price&quot;).toString());\n                    item.setItemImage(document.getData().get(&quot;image&quot;).toString());\n                    item.setItemDescription(document.getData().get(&quot;description&quot;).toString());\n                    itemList.add(item);\n                    System.out.println(&quot;This are my items:&quot;+ itemList.get(0).getItemName());\n\n\n                }\n                shoeAdapter = new ShoeAdapter(MainActivity.this, itemList);\n                recyclerView.setAdapter(shoeAdapter);\n                shoeAdapter.notifyDataSetChanged();\n\n            }else {\n                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\n            }\n</code></pre>\n<p><strong>The Adapter Code Sample below</strong></p>\n<pre><code>package com.bac.shoesrecyclerview;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.List;\n\npublic class ShoeAdapter extends RecyclerView.Adapter&lt;ShoeAdapter.ViewHolder&gt; {\n\n        private Context context;\n        private List&lt;Item&gt; mItems;\n\n\n    public ShoeAdapter(Context context, List&lt;Item&gt; items) {\n            this.mItems = items;\n            this.context = context;\n        }\n\n    public void removeItem(int position){\n        mItems.remove(position);\n        notifyItemRemoved(position);\n    }\n\n    public void restoreItem(Item shoes, int position){\n        mItems.add(position, shoes);\n        notifyItemInserted(position);\n    }\n\n    @NonNull\n        @Override\n        public ShoeAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            Context context = parent.getContext();\n            LayoutInflater inflater = LayoutInflater.from(context);\n\n            // Inflate the custom layout\n            View contactView = inflater.inflate(R.layout.item_layout, parent, false);\n\n            // Return a new holder instance\n            ViewHolder viewHolder = new ViewHolder(contactView);\n            return viewHolder;\n\n        }\n\n        @Override\n        public void onBindViewHolder(@NonNull ShoeAdapter.ViewHolder holder, int position) {\n             Item upload = mItems.get(position);\n            Glide.with(context).load(upload.getItemImage()).into(holder.imageView);\n            System.out.println(&quot;ITEM ARRAY:&quot;+ upload);\n\n            holder.nameTextView.setText(upload.getItemName());\n            holder.nameTextView2.setText(upload.getItemDescription());\n            holder.textViewStock.setText(upload.getItemPrice());\n            \n\n        }\n\n        @Override\n        public int getItemCount() {\n            return mItems.size();\n        }\n\n        public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n            public TextView nameTextView;\n            public TextView nameTextView2;\n            public TextView textViewStock;\n            public ImageView imageView;\n            public RelativeLayout displayLayout;\n\n            public ViewHolder(@NonNull View itemView) {\n                super(itemView);\n              nameTextView = itemView.findViewById(R.id.textViewDescription);\n               nameTextView2 = itemView.findViewById(R.id.textViewName);\n              imageView = itemView.findViewById(R.id.imageView);\n              textViewStock = itemView.findViewById(R.id.textViewStock);\n              displayLayout = itemView.findViewById(R.id.layoutDisplay);\n                itemView.setOnClickListener(this);\n            }\n\n            @Override\n            public void onClick(View v) {\n\n                int position = getAdapterPosition();\n                Item items  = mItems.get(position);\n                Intent intent = new Intent(context,display_shoes.class);\n                intent.putExtra(&quot;name&quot;,items.getItemName());\n                intent.putExtra(&quot;description&quot;,items.getItemDescription());\n                intent.putExtra(&quot;image&quot;,items.getItemImage());\n                intent.putExtra(&quot;price&quot;,items.getItemPrice());\n\n\n                context.startActivity(intent);\n\n\n            }\n        }\n    }\n</code></pre>\n<p>I debugged the above adapter by  printing what upload variable has<code>Item upload = mItems.get(position); System.out.println(&quot;ITEM ARRAY:&quot;+ upload);</code>.</p>\n<p><strong>Output From the Console</strong>\n<a href=\"https://i.stack.imgur.com/d971z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d971z.png\" alt=\"enter image description here\" /></a></p>\n<p>Even though it does not hold any readable and understandable values it is showing repetition am suspecting that might be the root cause.</p>\n<p><strong>The Layout of the Item activity That gets Inflated</strong></p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/FrameLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;100dp&quot;\n    android:background=&quot;@color/white&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/view_background&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;244dp&quot;\n        android:background=&quot;#D81B60&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/delete_icon&quot;\n            android:layout_width=&quot;85dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:layout_alignParentRight=&quot;true&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;50dp&quot;\n            android:layout_marginRight=&quot;15dp&quot;\n            android:src=&quot;@drawable/ic_baseline_delete_24&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;52dp&quot;\n            android:layout_height=&quot;165dp&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;90dp&quot;\n            android:layout_marginEnd=&quot;-100dp&quot;\n            android:layout_toLeftOf=&quot;@id/delete_icon&quot;\n            android:text=&quot;Delete&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;16sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/layoutDisplay&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/white&quot;\n            android:padding=&quot;10dp&quot;&gt;\n\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView&quot;\n                android:layout_width=&quot;90dp&quot;\n                android:layout_height=&quot;90dp&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                android:background=&quot;@drawable/roundshape&quot;\n                android:scaleType=&quot;centerCrop&quot; /&gt;\n\n            &lt;TextView\n\n                android:id=&quot;@+id/textViewName&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_toRightOf=&quot;@+id/imageView&quot;\n                android:ellipsize=&quot;end&quot;\n                android:fontFamily=&quot;sans-serif&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;17sp&quot; /&gt;\n\n            &lt;TextView\n\n                android:id=&quot;@+id/textViewDescription&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/textViewName&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_toRightOf=&quot;@id/imageView&quot;\n                android:textColor=&quot;#555353&quot;\n                android:textSize=&quot;12sp&quot; /&gt;\n\n\n            &lt;TextView\n\n                android:id=&quot;@+id/textViewStock&quot;\n                android:layout_width=&quot;60dp&quot;\n                android:layout_height=&quot;60dp&quot;\n\n                android:layout_alignParentBottom=&quot;true&quot;\n                android:layout_marginLeft=&quot;30dp&quot;\n\n                android:layout_marginBottom=&quot;140dp&quot;\n\n                android:layout_toRightOf=&quot;@+id/imageView&quot;\n\n                android:textColor=&quot;#D81B60&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n\n        &lt;/RelativeLayout&gt;\n\n\n    &lt;/RelativeLayout&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><strong>The Structure Of The RecyclerView</strong></p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n\n        android:layout_height=&quot;83dp&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            android:minHeight=&quot;?attr/actionBarSize&quot;\n            android:theme=&quot;?attr/actionBarTheme&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/logOutBtn&quot;\n            android:layout_width=&quot;85dp&quot;\n            android:layout_height=&quot;45dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:background=&quot;@drawable/roundcheck&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/toolbar&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.049&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/toolbar&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Logout&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView6&quot;\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:layout_marginStart=&quot;28dp&quot;\n            android:layout_marginBottom=&quot;8dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/logOutBtn&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/logOutBtn&quot;\n            app:srcCompat=&quot;@drawable/activeperson&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/LoggedIn&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:text=&quot;LoggedIn :&quot;\n            android:textColor=&quot;#F6F2F2&quot;\n            android:textSize=&quot;14sp&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/imageView6&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;4dp&quot;\n        android:backgroundTint=&quot;@color/light_pink&quot;\n\n        android:src=&quot;@drawable/ic_baseline_add_box_24&quot; /&gt;\n\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;90dp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","certificate","rsa","keytool","jks"],"comments":[{"owner":{"account_id":26515998,"reputation":85,"user_id":20150530,"display_name":"HTML"},"score":0,"creation_date":1668532811,"post_id":74446289,"comment_id":131426590,"body_markdown":"no one got an answer? :(","body":"no one got an answer? :("}],"owner":{"account_id":26515998,"reputation":85,"user_id":20150530,"display_name":"HTML"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668518173,"creation_date":1668518173,"question_id":74446289,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nkeytool -genkey -alias ima -keyalg RSA -keysiz\r\ne 2048 -validity 730 -keystore fake_keystore_name.jks -storetype JKS -storepass fake_keystore_password -keypass fake_keystore_password -dname &quot;CN=0025598, OU=bolbol.az, O=bolbol.az, L=Baku, ST=Baku, C=AZ&quot;\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nkeytool -certreq -alias ima -file fake_cert_\r\nreq.csr -keystore fake_keystore_name.jks -storepass fake_keystore_password```\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSending and then receiving certificates...\r\n\r\n[![enter image description here][4]][4]\r\n\r\nFolder looks like the above attachment.\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nkeytool -import -noprompt -alias ima -file certificate.0025598.der -keystore fake_keystore_name.jks -storepass fake_keystore_password\r\n\r\nError:\r\n```keytool error: java.lang.Exception: Failed to establish chain from reply```\r\n\r\nWhy? How to solve?\r\nI noticed if in the last command I type not the actual .jks filename but something else (like random_keystore_name.jks) it works and gives me &quot;Certificate was added successfully&quot;. Why? It is not how it should work. + when I retype the last command with new random filename it gives me ```keytool error: java.lang.Exception: Certificate not imported, alias &lt;ima&gt; already exists```. Please help I am stuck! \r\n\r\n  [1]: https://i.stack.imgur.com/DqHQ8.png\r\n  [2]: https://i.stack.imgur.com/CgTjX.png\r\n  [3]: https://i.stack.imgur.com/KP830.png\r\n  [4]: https://i.stack.imgur.com/iTVRm.png\r\n  [5]: https://i.stack.imgur.com/JIQJc.png","title":"keytool error: java.lang.Exception: Failed to establish chain from reply (certificate)","body":"<p><a href=\"https://i.stack.imgur.com/DqHQ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DqHQ8.png\" alt=\"enter image description here\" /></a></p>\n<p>keytool -genkey -alias ima -keyalg RSA -keysiz\ne 2048 -validity 730 -keystore fake_keystore_name.jks -storetype JKS -storepass fake_keystore_password -keypass fake_keystore_password -dname &quot;CN=0025598, OU=bolbol.az, O=bolbol.az, L=Baku, ST=Baku, C=AZ&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/CgTjX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CgTjX.png\" alt=\"enter image description here\" /></a></p>\n<p>keytool -certreq -alias ima -file fake_cert_\nreq.csr -keystore fake_keystore_name.jks -storepass fake_keystore_password```</p>\n<p><a href=\"https://i.stack.imgur.com/KP830.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KP830.png\" alt=\"enter image description here\" /></a></p>\n<p>Sending and then receiving certificates...</p>\n<p><a href=\"https://i.stack.imgur.com/iTVRm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTVRm.png\" alt=\"enter image description here\" /></a></p>\n<p>Folder looks like the above attachment.</p>\n<p><a href=\"https://i.stack.imgur.com/JIQJc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JIQJc.png\" alt=\"enter image description here\" /></a></p>\n<p>keytool -import -noprompt -alias ima -file certificate.0025598.der -keystore fake_keystore_name.jks -storepass fake_keystore_password</p>\n<p>Error:\n<code>keytool error: java.lang.Exception: Failed to establish chain from reply</code></p>\n<p>Why? How to solve?\nI noticed if in the last command I type not the actual .jks filename but something else (like random_keystore_name.jks) it works and gives me &quot;Certificate was added successfully&quot;. Why? It is not how it should work. + when I retype the last command with new random filename it gives me <code>keytool error: java.lang.Exception: Certificate not imported, alias &lt;ima&gt; already exists</code>. Please help I am stuck!</p>\n"},{"tags":["java","hibernate","maven","cdi","weld"],"answers":[{"tags":[],"owner":{"account_id":281082,"reputation":11615,"user_id":577181,"accept_rate":20,"display_name":"John Ament"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1413306056,"creation_date":1410523763,"answer_id":25808029,"question_id":25797866,"body_markdown":"This has nothing to do with Hibernate.  You&#39;re missing jandex from your classpath, which is required in Weld 2.2.x.  Verify that you end up with a jandex 1.2 jar on your classpath after building.\r\n\r\nSince you&#39;re using maven, add this to your pom.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso related:\r\n\r\nhttps://stackoverflow.com/questions/15168365/why-is-hibernate-4-2-using-jandex-and-classmate-if-its-maven-pom-defines-them-as\r\n","title":"Hibernate makes Weld not initializing in Java SE","body":"<p>This has nothing to do with Hibernate.  You're missing jandex from your classpath, which is required in Weld 2.2.x.  Verify that you end up with a jandex 1.2 jar on your classpath after building.</p>\n\n<p>Since you're using maven, add this to your pom.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n    &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n    &lt;version&gt;1.2.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Also related:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15168365/why-is-hibernate-4-2-using-jandex-and-classmate-if-its-maven-pom-defines-them-as\">Why is Hibernate 4.2 using jandex and classmate if its Maven POM defines them as test scope?</a></p>\n"},{"tags":[],"owner":{"account_id":7709400,"reputation":748,"user_id":5839280,"display_name":"Jalal Kiswani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668517771,"creation_date":1668517771,"answer_id":74446191,"question_id":25797866,"body_markdown":"**For people who have same issue with the latest versions of Weld and Hibernate:**\r\n\r\nBoth Weld and Hibernate have dependency on Jandex but with different versions, you need to exclude Jandex dependency from the hibernates dependency: \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nGood Luck\r\n","title":"Hibernate makes Weld not initializing in Java SE","body":"<p><strong>For people who have same issue with the latest versions of Weld and Hibernate:</strong></p>\n<p>Both Weld and Hibernate have dependency on Jandex but with different versions, you need to exclude Jandex dependency from the hibernates dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n            &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Good Luck</p>\n"}],"owner":{"account_id":403449,"reputation":4350,"user_id":771217,"accept_rate":79,"display_name":"Wrench"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6130,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":25808029,"answer_count":2,"score":8,"last_activity_date":1668517771,"creation_date":1410473987,"question_id":25797866,"body_markdown":"So, I have a basic Java SE program with dependency injection using Weld 1.2.\r\n\r\nEverything is working fine, until I throw Hibernate into the mix, with the following pom.xml dependency entries:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n        &lt;artifactId&gt;weld-se&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.3.6.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHibernate being the added dependency, making it break. This is my entry class:\r\n\r\n    public class EntryPoint {\r\n        public static void main( String[] ARGV ) {\r\n            Weld weld = new Weld();\r\n            WeldContainer container = weld.initialize();\r\n\r\n            Application application = container.instance().select(Application.class).get();\r\n\r\n            application.testFetch();\r\n\r\n            weld.shutdown();\r\n        }\r\n    }\r\n\r\nWhen I try to run it after including Hibernate dependency, this is my output:\r\n\r\n    Sep 11, 2014 11:13:44 PM org.jboss.weld.bootstrap.WeldStartup &lt;clinit&gt;\r\n    INFO: WELD-000900: 2.2.4 (Final)\r\n    Sep 11, 2014 11:13:44 PM org.jboss.weld.bootstrap.WeldStartup startContainer\r\n    INFO: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.\r\n    Exception in thread &quot;main&quot; org.jboss.weld.exceptions.DeploymentException: org.jboss.jandex.ClassInfo.hasNoArgsConstructor()Z\r\n    \tat org.jboss.weld.executor.AbstractExecutorServices.checkForExceptions(AbstractExecutorServices.java:66)\r\n    \tat org.jboss.weld.executor.AbstractExecutorServices.invokeAllAndCheckForExceptions(AbstractExecutorServices.java:43)\r\n    \tat org.jboss.weld.executor.AbstractExecutorServices.invokeAllAndCheckForExceptions(AbstractExecutorServices.java:51)\r\n    \tat org.jboss.weld.bootstrap.ConcurrentBeanDeployer.addClasses(ConcurrentBeanDeployer.java:62)\r\n    \tat org.jboss.weld.bootstrap.BeanDeployment.createClasses(BeanDeployment.java:209)\r\n    \tat org.jboss.weld.bootstrap.WeldStartup.startInitialization(WeldStartup.java:351)\r\n    \tat org.jboss.weld.bootstrap.WeldBootstrap.startInitialization(WeldBootstrap.java:76)\r\n    \tat org.jboss.weld.environment.se.Weld.initialize(Weld.java:157)\r\n    \tat com.mybeautycompare.integration.EntryPoint.main(EntryPoint.java:24)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n    Caused by: java.lang.NoSuchMethodError: org.jboss.jandex.ClassInfo.hasNoArgsConstructor()Z\r\n    \tat org.jboss.weld.environment.se.discovery.WeldSEClassFileInfo.&lt;init&gt;(WeldSEClassFileInfo.java:65)\r\n    \tat org.jboss.weld.environment.se.discovery.WeldSEClassFileServices.getClassFileInfo(WeldSEClassFileServices.java:85)\r\n    \tat org.jboss.weld.bootstrap.FastAnnotatedTypeLoader.loadAnnotatedType(FastAnnotatedTypeLoader.java:61)\r\n    \tat org.jboss.weld.bootstrap.BeanDeployer.addClass(BeanDeployer.java:97)\r\n    \tat org.jboss.weld.bootstrap.ConcurrentBeanDeployer$1.doWork(ConcurrentBeanDeployer.java:65)\r\n    \tat org.jboss.weld.bootstrap.ConcurrentBeanDeployer$1.doWork(ConcurrentBeanDeployer.java:62)\r\n    \tat org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:60)\r\n    \tat org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:53)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nLine 24 in my EntryPoint class is: `WeldContainer container = weld.initialize();`\r\n","title":"Hibernate makes Weld not initializing in Java SE","body":"<p>So, I have a basic Java SE program with dependency injection using Weld 1.2.</p>\n\n<p>Everything is working fine, until I throw Hibernate into the mix, with the following pom.xml dependency entries:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n    &lt;version&gt;7.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n    &lt;artifactId&gt;weld-se&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;4.3.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Hibernate being the added dependency, making it break. This is my entry class:</p>\n\n<pre><code>public class EntryPoint {\n    public static void main( String[] ARGV ) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n\n        Application application = container.instance().select(Application.class).get();\n\n        application.testFetch();\n\n        weld.shutdown();\n    }\n}\n</code></pre>\n\n<p>When I try to run it after including Hibernate dependency, this is my output:</p>\n\n<pre><code>Sep 11, 2014 11:13:44 PM org.jboss.weld.bootstrap.WeldStartup &lt;clinit&gt;\nINFO: WELD-000900: 2.2.4 (Final)\nSep 11, 2014 11:13:44 PM org.jboss.weld.bootstrap.WeldStartup startContainer\nINFO: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.\nException in thread \"main\" org.jboss.weld.exceptions.DeploymentException: org.jboss.jandex.ClassInfo.hasNoArgsConstructor()Z\n    at org.jboss.weld.executor.AbstractExecutorServices.checkForExceptions(AbstractExecutorServices.java:66)\n    at org.jboss.weld.executor.AbstractExecutorServices.invokeAllAndCheckForExceptions(AbstractExecutorServices.java:43)\n    at org.jboss.weld.executor.AbstractExecutorServices.invokeAllAndCheckForExceptions(AbstractExecutorServices.java:51)\n    at org.jboss.weld.bootstrap.ConcurrentBeanDeployer.addClasses(ConcurrentBeanDeployer.java:62)\n    at org.jboss.weld.bootstrap.BeanDeployment.createClasses(BeanDeployment.java:209)\n    at org.jboss.weld.bootstrap.WeldStartup.startInitialization(WeldStartup.java:351)\n    at org.jboss.weld.bootstrap.WeldBootstrap.startInitialization(WeldBootstrap.java:76)\n    at org.jboss.weld.environment.se.Weld.initialize(Weld.java:157)\n    at com.mybeautycompare.integration.EntryPoint.main(EntryPoint.java:24)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: java.lang.NoSuchMethodError: org.jboss.jandex.ClassInfo.hasNoArgsConstructor()Z\n    at org.jboss.weld.environment.se.discovery.WeldSEClassFileInfo.&lt;init&gt;(WeldSEClassFileInfo.java:65)\n    at org.jboss.weld.environment.se.discovery.WeldSEClassFileServices.getClassFileInfo(WeldSEClassFileServices.java:85)\n    at org.jboss.weld.bootstrap.FastAnnotatedTypeLoader.loadAnnotatedType(FastAnnotatedTypeLoader.java:61)\n    at org.jboss.weld.bootstrap.BeanDeployer.addClass(BeanDeployer.java:97)\n    at org.jboss.weld.bootstrap.ConcurrentBeanDeployer$1.doWork(ConcurrentBeanDeployer.java:65)\n    at org.jboss.weld.bootstrap.ConcurrentBeanDeployer$1.doWork(ConcurrentBeanDeployer.java:62)\n    at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:60)\n    at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:53)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Line 24 in my EntryPoint class is: <code>WeldContainer container = weld.initialize();</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1668517634,"post_id":74446070,"comment_id":131420036,"body_markdown":"Are you sure you want an infinite loop?","body":"Are you sure you want an infinite loop?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1668536120,"post_id":74446070,"comment_id":131427707,"body_markdown":"Please do not post source code as screen shot. Just copy and paste it into your question.","body":"Please do not post source code as screen shot. Just copy and paste it into your question."}],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668517676,"creation_date":1668517676,"answer_id":74446172,"question_id":74446070,"body_markdown":"Similar question answered here in kotlin and java. You can review.\r\n\r\n[Link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19997588/countdowntimer-in-android-how-to-restart-it","title":"how to start again the CountDownTimer in java","body":"<p>Similar question answered here in kotlin and java. You can review.</p>\n<p><a href=\"https://stackoverflow.com/questions/19997588/countdowntimer-in-android-how-to-restart-it\">Link</a></p>\n"}],"owner":{"account_id":19620323,"reputation":1,"user_id":14360925,"display_name":"Babs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668517676,"creation_date":1668517296,"question_id":74446070,"body_markdown":"[enter image description here](https://i.stack.imgur.com/19A4L.png)\r\n\r\ndoes anyone knows how to start again the CountDownTimer? i was trying using loop but it does not resetting the time to 300s\r\n\r\nPS. Im not using loop on my example\r\n\r\nwhat i want to do only is when the timer is Finish it will start again for no reason thats it.\r\n\r\nwhat i want to do only is when the timer is Finish it will start again for no reason thats it.","title":"how to start again the CountDownTimer in java","body":"<p><a href=\"https://i.stack.imgur.com/19A4L.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>does anyone knows how to start again the CountDownTimer? i was trying using loop but it does not resetting the time to 300s</p>\n<p>PS. Im not using loop on my example</p>\n<p>what i want to do only is when the timer is Finish it will start again for no reason thats it.</p>\n<p>what i want to do only is when the timer is Finish it will start again for no reason thats it.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":14232399,"reputation":189,"user_id":10281237,"display_name":"Ascendise"},"score":0,"creation_date":1668517507,"post_id":74445987,"comment_id":131419970,"body_markdown":"Does this answer your question? [Maven: add a dependency to a jar by relative path](https://stackoverflow.com/questions/2229757/maven-add-a-dependency-to-a-jar-by-relative-path)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2229757/maven-add-a-dependency-to-a-jar-by-relative-path\">Maven: add a dependency to a jar by relative path</a>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1668517524,"post_id":74445987,"comment_id":131419977,"body_markdown":"If the version is -SNAPSHOT, Maven will happily overwrite the jar with newer ones. Actually, for your local repository ($HOME/.m2/repository/), I think it overwrites stable versions too. So, just go to project B and do an `mvn install`. It will build it with your changes and deploy the updated jar *locally*, from where project A can pick it up with no changes in the dependency.","body":"If the version is -SNAPSHOT, Maven will happily overwrite the jar with newer ones. Actually, for your local repository ($HOME/.m2/repository/), I think it overwrites stable versions too. So, just go to project B and do an <code>mvn install</code>. It will build it with your changes and deploy the updated jar <i>locally</i>, from where project A can pick it up with no changes in the dependency."},{"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"score":0,"creation_date":1668518588,"post_id":74445987,"comment_id":131420432,"body_markdown":"@NikosParaskevopoulos So what do you refer for mvn install. Project B is already a Maven project that i pull from the repository. After I pull the Project B from the repository I did the changes and build the project in IntellyJ. But when I go to Project A the changes (add a getter to a class) still is not being recognized.","body":"@NikosParaskevopoulos So what do you refer for mvn install. Project B is already a Maven project that i pull from the repository. After I pull the Project B from the repository I did the changes and build the project in IntellyJ. But when I go to Project A the changes (add a getter to a class) still is not being recognized."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1668518714,"post_id":74445987,"comment_id":131420497,"body_markdown":"I think you need to run mvn deploy and not mvn install. &#39;deploy&#39; command will deploy it to your local repository on your local computer. (usually in m2 folder). But it is a repository known to your maven for the other project. And it will be visible","body":"I think you need to run mvn deploy and not mvn install. &#39;deploy&#39; command will deploy it to your local repository on your local computer. (usually in m2 folder). But it is a repository known to your maven for the other project. And it will be visible"},{"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"score":0,"creation_date":1668520157,"post_id":74445987,"comment_id":131421116,"body_markdown":"But when i runnit the test fails with the follwing message:  &quot;The forked VM terminated without saying properly goodbye. VM crash or System.exit called ?&quot; I do not need to execute tests as i only added a getter into a class. So how can i skip the test from the intellyj run install in edit configurations? Also it looks like my user/.m2/repository/project is being updated, but still i cannot make use of the getter i just added...","body":"But when i runnit the test fails with the follwing message:  &quot;The forked VM terminated without saying properly goodbye. VM crash or System.exit called ?&quot; I do not need to execute tests as i only added a getter into a class. So how can i skip the test from the intellyj run install in edit configurations? Also it looks like my user/.m2/repository/project is being updated, but still i cannot make use of the getter i just added..."}],"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668517548,"creation_date":1668516932,"question_id":74445987,"body_markdown":"I have a Maven Project (A) that is depending on a Maven Project (B). Now i need to change a few things in Maven Project (B) but my boss won&#39;t let me till I show him the changes works in my local environment.\r\n\r\nSo what i have in the pom.xml is in Maven Project (A) is:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.company.name.network&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;network-project-B&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nSo i edit in my local environment project B with the changes I wanted and now i would like to edit the dependency in pom.xml project A to point to my local directory and not to the repository. Something like:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.company.name.network&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;network-project-B&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;C:/users/my_name/projectB&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nIf I achieve that, i can keep making changes to Project B and see how they impact to project A without having to upload the changes to the repository.\r\n\r\nIs that possible? I am sorry to ask this here but i am seeing others post similar but because my little knowledge in the framework i cannot understand it.\r\n\r\nThanks","title":"How to add a maven project i have in my local folder as a dependency on my other project","body":"<p>I have a Maven Project (A) that is depending on a Maven Project (B). Now i need to change a few things in Maven Project (B) but my boss won't let me till I show him the changes works in my local environment.</p>\n<p>So what i have in the pom.xml is in Maven Project (A) is:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.company.name.network&lt;/groupId&gt;\n            &lt;artifactId&gt;network-project-B&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>So i edit in my local environment project B with the changes I wanted and now i would like to edit the dependency in pom.xml project A to point to my local directory and not to the repository. Something like:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.company.name.network&lt;/groupId&gt;\n            &lt;artifactId&gt;network-project-B&lt;/artifactId&gt;\n            &lt;version&gt;C:/users/my_name/projectB&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>If I achieve that, i can keep making changes to Project B and see how they impact to project A without having to upload the changes to the repository.</p>\n<p>Is that possible? I am sorry to ask this here but i am seeing others post similar but because my little knowledge in the framework i cannot understand it.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1668456893,"post_id":74436065,"comment_id":131404894,"body_markdown":"You annotated object under test with `@InjectMocks`, but `RegistrationEventValidator` constructor takes no arguments - what are you expecting to inject?","body":"You annotated object under test with <code>@InjectMocks</code>, but <code>RegistrationEventValidator</code> constructor takes no arguments - what are you expecting to inject?"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1668526406,"post_id":74436065,"comment_id":131423960,"body_markdown":"@Lesiak RegistrationEventValidator class.","body":"@Lesiak RegistrationEventValidator class."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1668554920,"post_id":74436065,"comment_id":131433071,"body_markdown":"Does this answer your question? [Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-calling-my-mocked-methods-in-unit-test\">Why is my class not calling my mocked methods in unit test?</a>"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1669153554,"post_id":74436065,"comment_id":131578936,"body_markdown":"You struggle with this test because you violate an impotant rule of Java programming: Constructors should not do any work other than assigning its parameters to (`final`) object member variables and (very) simple sanity checks. Especially they should not call other methods. The second rule you violate is, that a class should not instantiate its dependencies itself but get them injected as constructor parameters.","body":"You struggle with this test because you violate an impotant rule of Java programming: Constructors should not do any work other than assigning its parameters to (<code>final</code>) object member variables and (very) simple sanity checks. Especially they should not call other methods. The second rule you violate is, that a class should not instantiate its dependencies itself but get them injected as constructor parameters."}],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668517185,"creation_date":1668449423,"question_id":74436065,"body_markdown":"I have a class which I have annotated as @injectMock. This class has a constructor which loads messages from in put stream as below:\r\n\r\n    public class RegistrationEventValidator {\r\n        private Properties validationMessages;\r\n\r\n        RegistrationEventValidator() {\r\n            validationMessages = new Properties();\r\n            try {\r\n                validationMessages.load(RegistrationEventValidator.class.getClassLoader().getResourceAsStream(&quot;ValidationMessages.properties&quot;));\r\n            } catch (IOException e) {\r\n                throw new InternalErrorException(&quot;Failed loading ValidationMessages.properties&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nMy test covers up until the &quot;catch exception&quot;. How do I unit test that part? Thank you.\r\n\r\nThis is what I have so far and I am getting this error: &quot;org.opentest4j.AssertionFailedError: Expected com.autonation.ca.exception.InternalErrorException to be thrown, but nothing was thrown&quot;\r\n\r\n```\r\n@Test\r\nvoid test_validation_messages_properties() throws IOException {\r\n    //given\r\n    List&lt;String&gt; errors = new ArrayList&lt;&gt;();\r\n    Event&lt;AuthEventDetails&gt; event = new Event&lt;&gt;();\r\n    AuthEventDetails request = new AuthEventDetails();\r\n    event.setCustomerId(RandomStringUtils.random(65));\r\n    request.setFirstName(RandomStringUtils.random(256));\r\n    request.setLastName(RandomStringUtils.random(256));\r\n  \r\n    event.setEventDetails(request);\r\n\r\n    doThrow(new InternalErrorException(&quot;Failed loading ValidationMessages.properties&quot;)).when(validationMessages).load(any(InputStream.class));\r\n\r\n    assertThrows(InternalErrorException.class, () -&gt; registrationEventValidator.validate(event, errors));\r\n}\r\n```\r\n","title":"How to test unit test a constructor","body":"<p>I have a class which I have annotated as @injectMock. This class has a constructor which loads messages from in put stream as below:</p>\n<pre><code>public class RegistrationEventValidator {\n    private Properties validationMessages;\n\n    RegistrationEventValidator() {\n        validationMessages = new Properties();\n        try {\n            validationMessages.load(RegistrationEventValidator.class.getClassLoader().getResourceAsStream(&quot;ValidationMessages.properties&quot;));\n        } catch (IOException e) {\n            throw new InternalErrorException(&quot;Failed loading ValidationMessages.properties&quot;);\n        }\n    }\n}\n</code></pre>\n<p>My test covers up until the &quot;catch exception&quot;. How do I unit test that part? Thank you.</p>\n<p>This is what I have so far and I am getting this error: &quot;org.opentest4j.AssertionFailedError: Expected com.autonation.ca.exception.InternalErrorException to be thrown, but nothing was thrown&quot;</p>\n<pre><code>@Test\nvoid test_validation_messages_properties() throws IOException {\n    //given\n    List&lt;String&gt; errors = new ArrayList&lt;&gt;();\n    Event&lt;AuthEventDetails&gt; event = new Event&lt;&gt;();\n    AuthEventDetails request = new AuthEventDetails();\n    event.setCustomerId(RandomStringUtils.random(65));\n    request.setFirstName(RandomStringUtils.random(256));\n    request.setLastName(RandomStringUtils.random(256));\n  \n    event.setEventDetails(request);\n\n    doThrow(new InternalErrorException(&quot;Failed loading ValidationMessages.properties&quot;)).when(validationMessages).load(any(InputStream.class));\n\n    assertThrows(InternalErrorException.class, () -&gt; registrationEventValidator.validate(event, errors));\n}\n</code></pre>\n"},{"tags":["java","azure-databricks","databricks-connect"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1668444061,"post_id":74434094,"comment_id":131400806,"body_markdown":"you need to point PATH environment variable to the new installation, or maybe `JAVA_HOME` should be enough","body":"you need to point PATH environment variable to the new installation, or maybe <code>JAVA_HOME</code> should be enough"},{"owner":{"account_id":6332276,"reputation":661,"user_id":10710625,"display_name":"the phoenix"},"score":0,"creation_date":1668516277,"post_id":74434094,"comment_id":131419516,"body_markdown":"@AlexOtt I updated my question. It seems that I have two paths for Java. Any ideas ?","body":"@AlexOtt I updated my question. It seems that I have two paths for Java. Any ideas ?"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668517185,"creation_date":1668517185,"answer_id":74446045,"question_id":74434094,"body_markdown":"The actual version of Java that gets used is the one that comes first in the PATH environment variable. Go to your system settings and change the PATH variable to bring Java 8 before Java 11.\r\n\r\nHowever, the problem is that Databricks Connect uses a very old version of Java, so you would typically only want to use Java 8 for Databricks Connect and a reasonably modern version (such as 11 or 17) for everything else. Therefore, create a wrapper batch file to run databricks-connect after setting Java 8 as the default for the current session:\r\n\r\n    rem dc.bat\r\n    set PATH=C:\\Java_jre1.8.0_202\\bin;%PATH%\r\n    databricks-connect %1\r\n","title":"Databrick-connect using the wrong Java version","body":"<p>The actual version of Java that gets used is the one that comes first in the PATH environment variable. Go to your system settings and change the PATH variable to bring Java 8 before Java 11.</p>\n<p>However, the problem is that Databricks Connect uses a very old version of Java, so you would typically only want to use Java 8 for Databricks Connect and a reasonably modern version (such as 11 or 17) for everything else. Therefore, create a wrapper batch file to run databricks-connect after setting Java 8 as the default for the current session:</p>\n<pre><code>rem dc.bat\nset PATH=C:\\Java_jre1.8.0_202\\bin;%PATH%\ndatabricks-connect %1\n</code></pre>\n"}],"owner":{"account_id":6332276,"reputation":661,"user_id":10710625,"display_name":"the phoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74446045,"answer_count":1,"score":0,"last_activity_date":1668517185,"creation_date":1668439843,"question_id":74434094,"body_markdown":"I setup &amp; configured databricks-connect in a conda env on windows 10. One of the prerequisites is having Java &lt; 8 for it to work. \r\nI tried to install Java 8 and even Java 7 from here: https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html\r\nI changed afterwards the system enviroment varibales afterwards to the new Java 8 bin folder. However in the conda enviroment and when I run `java --version` or `databricks-connect test` I see that a newer version of Java is still being used.\r\n**If I run databricks-connect test:** \r\n\r\n    PS C:\\Users&gt; databricks-connect test\r\n    * PySpark is installed at C:\\Users\\Name\\Anaconda3\\envs\\Conda_SD\\lib\\site-packages\\pyspark\r\n    * Checking SPARK_HOME\r\n    * Checking java version\r\n    openjdk version &quot;11.0.12&quot; 2021-07-20\r\n    OpenJDK Runtime Environment Microsoft-25199 (build 11.0.12+7)\r\n    OpenJDK 64-Bit Server VM Microsoft-25199 (build 11.0.12+7, mixed mode)\r\n    WARNING: Java versions &gt;8 are not supported by this SDK\r\n    * Skipping scala command test on Windows\r\n\r\n**If I check the version of Java in windows powershell:** \r\n\r\n    Java --version\r\n    openjdk 11.0.12 2021-07-20\r\n    OpenJDK Runtime Environment Microsoft-25199 (build 11.0.12+7)\r\n    OpenJDK 64-Bit Server VM Microsoft-25199 (build 11.0.12+7, mixed mode)\r\n\r\nIf I type `where Java` in `cmd`, I get the following: \r\n\r\n    C:\\Users\\User1&gt;where java\r\n    C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe\r\n    C:\\Java_jre1.8.0_202\\bin\\java.exe\r\n\r\nThere seems to be two paths for Java. The same command in windows powershell does not seems to show anything. \r\n\r\nAm I missunderstanding something here? why after installing Java 8 a higher version is still being used? \r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gL2GN.png","title":"Databrick-connect using the wrong Java version","body":"<p>I setup &amp; configured databricks-connect in a conda env on windows 10. One of the prerequisites is having Java &lt; 8 for it to work.\nI tried to install Java 8 and even Java 7 from here: <a href=\"https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html</a>\nI changed afterwards the system enviroment varibales afterwards to the new Java 8 bin folder. However in the conda enviroment and when I run <code>java --version</code> or <code>databricks-connect test</code> I see that a newer version of Java is still being used.\n<strong>If I run databricks-connect test:</strong></p>\n<pre><code>PS C:\\Users&gt; databricks-connect test\n* PySpark is installed at C:\\Users\\Name\\Anaconda3\\envs\\Conda_SD\\lib\\site-packages\\pyspark\n* Checking SPARK_HOME\n* Checking java version\nopenjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment Microsoft-25199 (build 11.0.12+7)\nOpenJDK 64-Bit Server VM Microsoft-25199 (build 11.0.12+7, mixed mode)\nWARNING: Java versions &gt;8 are not supported by this SDK\n* Skipping scala command test on Windows\n</code></pre>\n<p><strong>If I check the version of Java in windows powershell:</strong></p>\n<pre><code>Java --version\nopenjdk 11.0.12 2021-07-20\nOpenJDK Runtime Environment Microsoft-25199 (build 11.0.12+7)\nOpenJDK 64-Bit Server VM Microsoft-25199 (build 11.0.12+7, mixed mode)\n</code></pre>\n<p>If I type <code>where Java</code> in <code>cmd</code>, I get the following:</p>\n<pre><code>C:\\Users\\User1&gt;where java\nC:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe\nC:\\Java_jre1.8.0_202\\bin\\java.exe\n</code></pre>\n<p>There seems to be two paths for Java. The same command in windows powershell does not seems to show anything.</p>\n<p>Am I missunderstanding something here? why after installing Java 8 a higher version is still being used?</p>\n"},{"tags":["java","spring-boot","gradle","jenkins-pipeline"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1668518117,"post_id":74444572,"comment_id":131420240,"body_markdown":"That is the Spring Dependency plugin at work. One thing you are mixing jars from different versions of Spring Boot never mix jars from different versions as that will eventually lead to issues. If you want to override a dependency version the how to is explained in the documentation.","body":"That is the Spring Dependency plugin at work. One thing you are mixing jars from different versions of Spring Boot never mix jars from different versions as that will eventually lead to issues. If you want to override a dependency version the how to is explained in the documentation."}],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668517105,"creation_date":1668517105,"answer_id":74446021,"question_id":74444572,"body_markdown":"you can get what you want by simply overriding the main jar.\r\n```\r\n    implementation &#39;org.apache.logging.log4j:log4j-to-slf4j:2.17.2&#39;\r\n    implementation &#39;com.oracle.database.jdbc:ojdbc8&#39;\r\n    implementation &#39;com.jcraft:jsch:0.1.55&#39;\r\n    implementation &#39;io.github.resilience4j:resilience4j-spring-boot2:1.7.0&#39;\r\n    implementation (&#39;org.springframework.boot:spring-boot-starter-aop&#39;)\r\n//    {\r\n//        exclude group : &#39;org.springframework.boot&#39; , module:&#39;spring-boot-starter-logging&#39;\r\n//    }\r\n//implementation &#39;org.springframework.boot:spring-boot-starter-logging:2.6.8&#39;\r\n```\r\n\r\n\r\nyou can verify before and after with `./gradlew dependencyInsight --configuration runtimeClasspath --dependency log4j-to-slf4j`","title":"Gradle dependency resolving to lower version","body":"<p>you can get what you want by simply overriding the main jar.</p>\n<pre><code>    implementation 'org.apache.logging.log4j:log4j-to-slf4j:2.17.2'\n    implementation 'com.oracle.database.jdbc:ojdbc8'\n    implementation 'com.jcraft:jsch:0.1.55'\n    implementation 'io.github.resilience4j:resilience4j-spring-boot2:1.7.0'\n    implementation ('org.springframework.boot:spring-boot-starter-aop')\n//    {\n//        exclude group : 'org.springframework.boot' , module:'spring-boot-starter-logging'\n//    }\n//implementation 'org.springframework.boot:spring-boot-starter-logging:2.6.8'\n</code></pre>\n<p>you can verify before and after with <code>./gradlew dependencyInsight --configuration runtimeClasspath --dependency log4j-to-slf4j</code></p>\n"}],"owner":{"account_id":6131586,"reputation":1281,"user_id":4781571,"accept_rate":76,"display_name":"harsha kumar Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668517105,"creation_date":1668510368,"question_id":74444572,"body_markdown":"According to my knowledge gradle should resolve to latest dependencies when there is conflict\r\n\r\nbut in following dependency tree i can see lower dependency is getting resolved can anyone tell me why this is happening \r\n\r\n&gt; org.apache.logging.log4j:log4j-to-slf4j:2.17.2 -&gt; 2.13.3\r\n\r\n    +--- org.springframework.boot:spring-boot-starter-logging:2.6.8\r\n    |    +--- ch.qos.logback:logback-classic:1.2.11 -&gt; 1.2.3\r\n    |    |    +--- ch.qos.logback:logback-core:1.2.3\r\n    |    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\r\n    |    +--- org.apache.logging.log4j:log4j-to-slf4j:2.17.2 -&gt; 2.13.3\r\n    |    |    +--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\r\n    |    |    \\--- org.apache.logging.log4j:log4j-api:2.13.3\r\n    |    \\--- org.slf4j:jul-to-slf4j:1.7.36 -&gt; 1.7.30\r\n    |         \\--- org.slf4j:slf4j-api:1.7.30\r\n\r\nAnd my gradle.build file looks like this \r\n\r\n  \r\n\r\n    plugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.4.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;com.google.cloud.tools.jib&#39; version &#39;2.0.0&#39;\r\n\tid &#39;java&#39;\r\n    id &#39;org.sonarqube&#39; version &#39;3.3&#39;\r\n    }\r\n\r\n    group = &#39;com.cox.cns&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n\r\n    configurations {\r\n    developmentOnly\r\n      runtimeClasspath {\r\n        extendsFrom developmentOnly\r\n     }\r\n    }\r\n\r\n    repositories {\r\n\tmavenCentral()\r\n\tmaven { url &#39;https://repo.spring.io/milestone&#39; }\r\n\tmaven { url &#39;https://repo.spring.io/snapshot&#39; }\r\n    }\r\n    \r\n    dependencies {\r\n\r\n    implementation &#39;com.oracle.database.jdbc:ojdbc8&#39;\r\n    implementation group: &#39;com.jcraft&#39;, name: &#39;jsch&#39;, version: &#39;0.1.55&#39;\r\n    implementation &#39;io.github.resilience4j:resilience4j-spring-boot2:1.7.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-logging:2.6.8&#39;\r\n    implementation (&#39;org.springframework.boot:spring-boot-starter-aop&#39;){\r\n    exclude group : &#39;org.springframework.boot&#39; , module:&#39;spring-boot-starter-logging&#39;\r\n    }\r\n    implementation &#39;com.amazonaws:aws-java-sdk-sqs&#39;\r\n    implementation &#39;com.amazonaws:amazon-sqs-java-messaging-lib:1.0.8&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-activemq&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\timplementation &#39;com.amazonaws:aws-java-sdk-sns:1.11.964&#39;\r\n    implementation &#39;com.amazonaws:aws-java-sdk-s3:1.11.851&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n\timplementation &#39;javax.mail:mail:1.4.7&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-aws- \r\n    messaging:2.2.6.RELEASE&#39;\r\n\ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n\t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n\t}\r\n\r\n    }\r\n\r\n ","title":"Gradle dependency resolving to lower version","body":"<p>According to my knowledge gradle should resolve to latest dependencies when there is conflict</p>\n<p>but in following dependency tree i can see lower dependency is getting resolved can anyone tell me why this is happening</p>\n<blockquote>\n<p>org.apache.logging.log4j:log4j-to-slf4j:2.17.2 -&gt; 2.13.3</p>\n</blockquote>\n<pre><code>+--- org.springframework.boot:spring-boot-starter-logging:2.6.8\n|    +--- ch.qos.logback:logback-classic:1.2.11 -&gt; 1.2.3\n|    |    +--- ch.qos.logback:logback-core:1.2.3\n|    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\n|    +--- org.apache.logging.log4j:log4j-to-slf4j:2.17.2 -&gt; 2.13.3\n|    |    +--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\n|    |    \\--- org.apache.logging.log4j:log4j-api:2.13.3\n|    \\--- org.slf4j:jul-to-slf4j:1.7.36 -&gt; 1.7.30\n|         \\--- org.slf4j:slf4j-api:1.7.30\n</code></pre>\n<p>And my gradle.build file looks like this</p>\n<pre><code>plugins {\nid 'org.springframework.boot' version '2.4.4'\nid 'io.spring.dependency-management' version '1.0.11.RELEASE'\nid 'com.google.cloud.tools.jib' version '2.0.0'\nid 'java'\nid 'org.sonarqube' version '3.3'\n}\n\ngroup = 'com.cox.cns'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nconfigurations {\ndevelopmentOnly\n  runtimeClasspath {\n    extendsFrom developmentOnly\n }\n}\n\nrepositories {\nmavenCentral()\nmaven { url 'https://repo.spring.io/milestone' }\nmaven { url 'https://repo.spring.io/snapshot' }\n}\n\ndependencies {\n\nimplementation 'com.oracle.database.jdbc:ojdbc8'\nimplementation group: 'com.jcraft', name: 'jsch', version: '0.1.55'\nimplementation 'io.github.resilience4j:resilience4j-spring-boot2:1.7.0'\nimplementation 'org.springframework.boot:spring-boot-starter-logging:2.6.8'\nimplementation ('org.springframework.boot:spring-boot-starter-aop'){\nexclude group : 'org.springframework.boot' , module:'spring-boot-starter-logging'\n}\nimplementation 'com.amazonaws:aws-java-sdk-sqs'\nimplementation 'com.amazonaws:amazon-sqs-java-messaging-lib:1.0.8'\nimplementation 'org.springframework.boot:spring-boot-starter-activemq'\nimplementation 'org.springframework.boot:spring-boot-starter'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.boot:spring-boot-starter-actuator'\ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'\nimplementation 'com.amazonaws:aws-java-sdk-sns:1.11.964'\nimplementation 'com.amazonaws:aws-java-sdk-s3:1.11.851'\nimplementation 'org.springframework.boot:spring-boot-starter-cache'\nimplementation 'javax.mail:mail:1.4.7'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.boot:spring-boot-starter-test'\nimplementation 'org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE'\nimplementation 'org.springframework.cloud:spring-cloud-starter-aws- \nmessaging:2.2.6.RELEASE'\ntestImplementation('org.springframework.boot:spring-boot-starter-test') {\n    exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n}\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","microservices"],"answers":[{"tags":[],"owner":{"account_id":16585465,"reputation":662,"user_id":11985018,"display_name":"Anirudh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1621148281,"creation_date":1621148281,"answer_id":67553887,"question_id":67553680,"body_markdown":"Just had a look at your project structure. In your case, you need to ensure that your main class is in a root package above other classes.\r\n\r\nWhenever a Spring Boot Application is started or run (example : `Application.java` or a class annotated with `@SpringBootApplication`), it scans the classes below your main class package.\r\n\r\nAn example would be : \r\n\r\n    com\r\n       +- test\r\n             +- Application.java \r\n             |\r\n             +- controller\r\n             |   +- UserRestController.java\r\n             +- domains\r\n                 +- User.java\r\n\r\nTry this and check.\r\nAlso, please ensure that you have added all the necessary annotations required on all the required classes for a Spring boot application for work correctly.\r\n","title":"Error in spring-boot appplication : This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>Just had a look at your project structure. In your case, you need to ensure that your main class is in a root package above other classes.</p>\n<p>Whenever a Spring Boot Application is started or run (example : <code>Application.java</code> or a class annotated with <code>@SpringBootApplication</code>), it scans the classes below your main class package.</p>\n<p>An example would be :</p>\n<pre><code>com\n   +- test\n         +- Application.java \n         |\n         +- controller\n         |   +- UserRestController.java\n         +- domains\n             +- User.java\n</code></pre>\n<p>Try this and check.\nAlso, please ensure that you have added all the necessary annotations required on all the required classes for a Spring boot application for work correctly.</p>\n"},{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668516426,"creation_date":1668516426,"answer_id":74445862,"question_id":67553680,"body_markdown":"In my case (I ended up here, looking for a solution, Stackoverflow is great!), I had forgotten to add the thymeleaf dependency.","title":"Error in spring-boot appplication : This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>In my case (I ended up here, looking for a solution, Stackoverflow is great!), I had forgotten to add the thymeleaf dependency.</p>\n"}],"owner":{"account_id":1663628,"reputation":95,"user_id":1531470,"display_name":"borkarda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8670,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67553887,"answer_count":2,"score":3,"last_activity_date":1668516426,"creation_date":1621146109,"question_id":67553680,"body_markdown":"I have created a simple spring boot application in Eclipse which has User class and I have written web services to perform various operations on User such as get-users, create-user, delete-user.\r\n\r\nWhen I am testing the application from the browser, I am getting the below error:\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nThe path that I used: http://localhost:8080/user/get-user/Mike\r\nI have annotated User resource class @RestController and Application class @SpringBootApplication.\r\n\r\nCode snippet :\r\n\r\n    @RequestMapping(method = RequestMethod.GET, path = &quot;/user/get-user/{name}&quot; )\r\n\tpublic User getUserByName(@PathVariable String name) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Request for name: &quot;+name);\r\n        return service.getUser(name); // this return the first user found with given name\r\n\t}\r\n\r\nHere is my project structure:\r\n[Project Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ryDu.png","title":"Error in spring-boot appplication : This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>I have created a simple spring boot application in Eclipse which has User class and I have written web services to perform various operations on User such as get-users, create-user, delete-user.</p>\n<p>When I am testing the application from the browser, I am getting the below error:\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>The path that I used: http://localhost:8080/user/get-user/Mike\nI have annotated User resource class @RestController and Application class @SpringBootApplication.</p>\n<p>Code snippet :</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, path = &quot;/user/get-user/{name}&quot; )\npublic User getUserByName(@PathVariable String name) {\n    \n    System.out.println(&quot;Request for name: &quot;+name);\n    return service.getUser(name); // this return the first user found with given name\n}\n</code></pre>\n<p>Here is my project structure:\n<a href=\"https://i.stack.imgur.com/1ryDu.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n"},{"tags":["java","hibernate","jpa","hql"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1668507047,"post_id":74443409,"comment_id":131416227,"body_markdown":"`getDateStarted()` != `getDateSwam()` you sure you are looking at the right fields? Also there is no need to provice the `TemporalType` in `q.setParameter(&quot;dateStarted&quot;, session.getDateStarted(), TemporalType.TIMESTAMP);`. Also also, since you are on java 11 now, you should definitely use `LocalDate` and `LocalDateTime` as types. With these you don&#39;t need `@Temporal` annotation.","body":"<code>getDateStarted()</code> != <code>getDateSwam()</code> you sure you are looking at the right fields? Also there is no need to provice the <code>TemporalType</code> in <code>q.setParameter(&quot;dateStarted&quot;, session.getDateStarted(), TemporalType.TIMESTAMP);</code>. Also also, since you are on java 11 now, you should definitely use <code>LocalDate</code> and <code>LocalDateTime</code> as types. With these you don&#39;t need <code>@Temporal</code> annotation."},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1668510320,"post_id":74443409,"comment_id":131417383,"body_markdown":"Sorry my mistake, copied the wrong Getter, updated now, it has the same annotations","body":"Sorry my mistake, copied the wrong Getter, updated now, it has the same annotations"},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1668510439,"post_id":74443409,"comment_id":131417431,"body_markdown":"Yes we will migrate to Java Date/Time API at some point but I didn&#39;t want to get stuck into that right now as would require a lot of retesting","body":"Yes we will migrate to Java Date/Time API at some point but I didn&#39;t want to get stuck into that right now as would require a lot of retesting"},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1668511917,"post_id":74443409,"comment_id":131417983,"body_markdown":"If I remove TemporalType from setParameter it still sets the time to 00:00:00","body":"If I remove TemporalType from setParameter it still sets the time to 00:00:00"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668512721,"post_id":74443409,"comment_id":131418257,"body_markdown":"Have you tried to move the annotations to the field? AFAIK there might be slight difference how the annotations are handled depending on where they are located. Also I just checked and hibernate 5.2 does not support JPA 2.2 [hibernate website](https://hibernate.org/orm/releases/5.2/) states exactly that. Also hibernate 5.2 already reached its end of life. You should get [compatible versions](https://hibernate.org/orm/releases/)","body":"Have you tried to move the annotations to the field? AFAIK there might be slight difference how the annotations are handled depending on where they are located. Also I just checked and hibernate 5.2 does not support JPA 2.2 <a href=\"https://hibernate.org/orm/releases/5.2/\" rel=\"nofollow noreferrer\">hibernate website</a> states exactly that. Also hibernate 5.2 already reached its end of life. You should get <a href=\"https://hibernate.org/orm/releases/\" rel=\"nofollow noreferrer\">compatible versions</a>"},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1668516302,"post_id":74443409,"comment_id":131419527,"body_markdown":"Actually we are using hibernate 5.3.24.Final - its the versions bundles with JavaEE8 and Wildfly 26 so they are compatible","body":"Actually we are using hibernate 5.3.24.Final - its the versions bundles with JavaEE8 and Wildfly 26 so they are compatible"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668583889,"post_id":74443409,"comment_id":131438012,"body_markdown":"You say you only look at the generated SQL parameters. Have you checked the actual value of `session.getDateStarted()`?","body":"You say you only look at the generated SQL parameters. Have you checked the actual value of <code>session.getDateStarted()</code>?"},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1668594136,"post_id":74443409,"comment_id":131441466,"body_markdown":"Yes of course, the database field (postgres timestamp) has a time","body":"Yes of course, the database field (postgres timestamp) has a time"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668596451,"post_id":74443409,"comment_id":131442337,"body_markdown":"Not whats in the database, whats `System.out.println(session.getDateStarted());` giving you?","body":"Not whats in the database, whats <code>System.out.println(session.getDateStarted());</code> giving you?"},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1668777082,"post_id":74443409,"comment_id":131494680,"body_markdown":"The dateStarted getter returns the full date and time, the time is being lost when its being assigned as a query parameter","body":"The dateStarted getter returns the full date and time, the time is being lost when its being assigned as a query parameter"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1668779865,"post_id":74443409,"comment_id":131495718,"body_markdown":"The only idea I have left is that it could be that hibernate also looks at what column you compare the parameter to. Meaning `cu.dateJoined` and `c.dateCreated` could be actually just dates and not datetime. Thus hibernate omits the time part. Otherwise perhaps the postgres timestamp mapping which could be an issue. Overall, try to just switch the involved date fields to `LocalDateTime` and see if that would fix it","body":"The only idea I have left is that it could be that hibernate also looks at what column you compare the parameter to. Meaning <code>cu.dateJoined</code> and <code>c.dateCreated</code> could be actually just dates and not datetime. Thus hibernate omits the time part. Otherwise perhaps the postgres timestamp mapping which could be an issue. Overall, try to just switch the involved date fields to <code>LocalDateTime</code> and see if that would fix it"},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1668784752,"post_id":74443409,"comment_id":131497536,"body_markdown":"Thanks for the input, actually you are right it was the cu.dateJoined field that has TemporalType.DATE, when I change this to TIMESTAMP it works ok. Annoying as I wanted to keep dateJoined as a date only, I guess hibernate is not smart enough to compare the two as different types.","body":"Thanks for the input, actually you are right it was the cu.dateJoined field that has TemporalType.DATE, when I change this to TIMESTAMP it works ok. Annoying as I wanted to keep dateJoined as a date only, I guess hibernate is not smart enough to compare the two as different types."},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1668784780,"post_id":74443409,"comment_id":131497542,"body_markdown":"Feel free to add this as an answer if you want","body":"Feel free to add this as an answer if you want"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1669015660,"post_id":74443409,"comment_id":131537716,"body_markdown":"If `c.dateCreated` is a timestamp and `cu.dateJoined` is a date, then you can supply the same parameter 2 times with different names. Then it should resolve the timestamps and dates correctly. There should be no difference in results is `cu.dateJoined` is treated as timestamp or date as long as the database only contains date values","body":"If <code>c.dateCreated</code> is a timestamp and <code>cu.dateJoined</code> is a date, then you can supply the same parameter 2 times with different names. Then it should resolve the timestamps and dates correctly. There should be no difference in results is <code>cu.dateJoined</code> is treated as timestamp or date as long as the database only contains date values"}],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668516333,"creation_date":1668505070,"question_id":74443409,"body_markdown":"We have řecently migrated a project from JPA 2 / Hibernate 4 / Java7 -----&gt; JPA 2.2 / Hibernate 5.3.24 Java 11. Our HQL queries have since changed behaviour causing some nasty bugs,\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic List&lt;CompetitionUser&gt; findUsersToCheckSession(Session session){\r\n    \t\tStringBuilder sb = new StringBuilder(&quot;select distinct cu from CompetitionUser cu&quot;);\r\n    \t\tsb.append(&quot; left join fetch cu.competition c&quot;);\r\n    \t\tsb.append(&quot; left join fetch cu.user&quot;);\r\n    \t\tsb.append(&quot; left join fetch cu.currentBestSession as cus&quot;);\r\n    \t\tsb.append(&quot; left join fetch cus.session&quot;);\r\n    \t\tsb.append(&quot; where cu.user = :user and cu.leftCompetition = false&quot;);\r\n    \t\tsb.append(&quot; and ((cu.dateJoined &lt;= :dateStarted and c.nationalComp is null) or (c.dateCreated &lt;= :dateStarted and c.nationalComp is not null))&quot;);\r\n    \t\tsb.append(&quot; and c.deleted = false and c.archived = false order by c.title&quot;);\r\n    \t\tQuery q = entityManager().createQuery(sb.toString());\r\n    \t\tq.setParameter(&quot;user&quot;, session.getUser());\r\n    \t\tq.setParameter(&quot;dateStarted&quot;, session.getDateStarted(), TemporalType.TIMESTAMP);\r\n    \t\treturn q.getResultList();\r\n    \t}\r\n\r\nWhen I look at the SQL output the `dateStarted` parameter used to provide the full date and time (eg. &#39;2021-12-17 12:51:02&#39;) but now it always sets the time to 00:00:00 (eg. &#39;2021-12-17 00:00:00&#39;)\r\n\r\nHere is the dateStarted field\r\n\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;date_started&quot;, nullable = false, length = 29)\r\n    \tpublic Date getDateStarted() {\r\n    \t\treturn this.dateStarted;\r\n    \t}\r\n\r\nHas something changed in the spec? We are using java.util.Date within our Entity","title":"JPA 2.2 TemporalType.TIMESTAMP sets query parameter to 00:00:00","body":"<p>We have řecently migrated a project from JPA 2 / Hibernate 4 / Java7 -----&gt; JPA 2.2 / Hibernate 5.3.24 Java 11. Our HQL queries have since changed behaviour causing some nasty bugs,</p>\n<pre><code>    @SuppressWarnings(&quot;unchecked&quot;)\n    public List&lt;CompetitionUser&gt; findUsersToCheckSession(Session session){\n        StringBuilder sb = new StringBuilder(&quot;select distinct cu from CompetitionUser cu&quot;);\n        sb.append(&quot; left join fetch cu.competition c&quot;);\n        sb.append(&quot; left join fetch cu.user&quot;);\n        sb.append(&quot; left join fetch cu.currentBestSession as cus&quot;);\n        sb.append(&quot; left join fetch cus.session&quot;);\n        sb.append(&quot; where cu.user = :user and cu.leftCompetition = false&quot;);\n        sb.append(&quot; and ((cu.dateJoined &lt;= :dateStarted and c.nationalComp is null) or (c.dateCreated &lt;= :dateStarted and c.nationalComp is not null))&quot;);\n        sb.append(&quot; and c.deleted = false and c.archived = false order by c.title&quot;);\n        Query q = entityManager().createQuery(sb.toString());\n        q.setParameter(&quot;user&quot;, session.getUser());\n        q.setParameter(&quot;dateStarted&quot;, session.getDateStarted(), TemporalType.TIMESTAMP);\n        return q.getResultList();\n    }\n</code></pre>\n<p>When I look at the SQL output the <code>dateStarted</code> parameter used to provide the full date and time (eg. '2021-12-17 12:51:02') but now it always sets the time to 00:00:00 (eg. '2021-12-17 00:00:00')</p>\n<p>Here is the dateStarted field</p>\n<pre><code>    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;date_started&quot;, nullable = false, length = 29)\n    public Date getDateStarted() {\n        return this.dateStarted;\n    }\n</code></pre>\n<p>Has something changed in the spec? We are using java.util.Date within our Entity</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1668518721,"post_id":74445781,"comment_id":131420499,"body_markdown":"Put the code outside that function. Registrate both at the same time. Same place.","body":"Put the code outside that function. Registrate both at the same time. Same place."},{"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"score":0,"creation_date":1668520493,"post_id":74445781,"comment_id":131421274,"body_markdown":"This works indeed, thanks. But it doesn&#39;t look like a good coding practice because i launch 2 activities in the same place (function). Any way it will work in a seperate function?","body":"This works indeed, thanks. But it doesn&#39;t look like a good coding practice because i launch 2 activities in the same place (function). Any way it will work in a seperate function?"},{"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"score":0,"creation_date":1668543608,"post_id":74445781,"comment_id":131430058,"body_markdown":"Try running the function on the main thread if you want it your way.  Also, the simplest solution is generally preferred so +1 blackapps!  It&#39;s much more readable, less convoluted, and shrinks code by 2 lines!  Good luck and happy coding!","body":"Try running the function on the main thread if you want it your way.  Also, the simplest solution is generally preferred so +1 blackapps!  It&#39;s much more readable, less convoluted, and shrinks code by 2 lines!  Good luck and happy coding!"},{"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"score":0,"creation_date":1668585073,"post_id":74445781,"comment_id":131438332,"body_markdown":"@BigBeef the activities i launch perform http requests so i can&#39;t launch them on the main thread. There has to be a more elegant way of activity management that i am unaware of, bundling launchers together seems bad code to me.","body":"@BigBeef the activities i launch perform http requests so i can&#39;t launch them on the main thread. There has to be a more elegant way of activity management that i am unaware of, bundling launchers together seems bad code to me."},{"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"score":0,"creation_date":1668655247,"post_id":74445781,"comment_id":131460455,"body_markdown":"Right, so I would launch the activities on the main thread after the success.  Not to say your code isn&#39;t good looking, but what is bad code?  When you call the runOnUIThread(()-&gt;{//code});, that solution, to me, is ugly, which is what I&#39;m suggesting you do.  Let us know how it goes!","body":"Right, so I would launch the activities on the main thread after the success.  Not to say your code isn&#39;t good looking, but what is bad code?  When you call the runOnUIThread(()-&gt;{//code});, that solution, to me, is ugly, which is what I&#39;m suggesting you do.  Let us know how it goes!"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668515960,"creation_date":1668515960,"question_id":74445781,"body_markdown":"I am launching an activity from MainActivity using the following launcher:\r\n```\r\nButton someButton = findViewById(R.id.some_button);\r\nActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n\tnew ActivityResultContracts.StartActivityForResult(),\r\n\tnew ActivityResultCallback&lt;ActivityResult&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onActivityResult(ActivityResult result) {\r\n\t\t\tif (result.getResultCode() == 1) {\r\n\t\t\t\tIntent data = result.getData();\r\n\t\t\t\tSomeClass obj = (obj) data.getSerializableExtra(&quot;Object&quot;);\r\n\t\t\t\topenOtherActivity(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nsomeButton.setOnClickListener(new View.OnClickListener() {\r\n\t@Override\r\n\tpublic void onClick(View view) {\r\n\t\tIntent someIntent = new Intent(MainActivity.this, SomeActivity.class);\r\n\t\tsomeActivityResultLauncher.launch(someIntent);\r\n\t}\r\n});\r\n```\r\nAfter launching someActivity, i am getting a response object from it. Then i want to launch another activity and pass the response object as input by calling openOtherActivity(obj). The second activity launcher goes like this:\r\n```\r\npublic void openOtherActivity(SomeClass obj){\r\n\tActivityResultLauncher&lt;Intent&gt; otherActivityResultLauncher = registerForActivityResult(\r\n\t\tnew ActivityResultContracts.StartActivityForResult(),\r\n\t\tnew ActivityResultCallback&lt;ActivityResult&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onActivityResult(ActivityResult result) {\r\n\t\t\t\tif (result.getResultCode() == 1) {\r\n\t\t\t\t\t//do nothing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tIntent profileIntent = new Intent(MainActivity.this, OtherActivity.class);\r\n\totherIntent.putExtra(&quot;Object&quot;, obj);\r\n\totherActivityResultLauncher.launch(otherIntent);\r\n}\r\n```\r\nAfter testing the above, the following error occurs while calling the openOtherActivity().\r\n\r\n```\r\nMainActivity@88a859c is attempting to register while current state is STARTED. LifecycleOwners must call register before they are STARTED.\r\n```","title":"Launch activity from ActivityResultLauncher result","body":"<p>I am launching an activity from MainActivity using the following launcher:</p>\n<pre><code>Button someButton = findViewById(R.id.some_button);\nActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n    new ActivityResultContracts.StartActivityForResult(),\n    new ActivityResultCallback&lt;ActivityResult&gt;() {\n        @Override\n        public void onActivityResult(ActivityResult result) {\n            if (result.getResultCode() == 1) {\n                Intent data = result.getData();\n                SomeClass obj = (obj) data.getSerializableExtra(&quot;Object&quot;);\n                openOtherActivity(obj);\n            }\n        }\n    }\n);\n\nsomeButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        Intent someIntent = new Intent(MainActivity.this, SomeActivity.class);\n        someActivityResultLauncher.launch(someIntent);\n    }\n});\n</code></pre>\n<p>After launching someActivity, i am getting a response object from it. Then i want to launch another activity and pass the response object as input by calling openOtherActivity(obj). The second activity launcher goes like this:</p>\n<pre><code>public void openOtherActivity(SomeClass obj){\n    ActivityResultLauncher&lt;Intent&gt; otherActivityResultLauncher = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode() == 1) {\n                    //do nothing\n                }\n            }\n        }\n    );\n    Intent profileIntent = new Intent(MainActivity.this, OtherActivity.class);\n    otherIntent.putExtra(&quot;Object&quot;, obj);\n    otherActivityResultLauncher.launch(otherIntent);\n}\n</code></pre>\n<p>After testing the above, the following error occurs while calling the openOtherActivity().</p>\n<pre><code>MainActivity@88a859c is attempting to register while current state is STARTED. LifecycleOwners must call register before they are STARTED.\n</code></pre>\n"},{"tags":["java","timeunit"],"answers":[{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1404739041,"creation_date":1404735637,"answer_id":24610498,"question_id":24610473,"body_markdown":"From Java Documentation - [TimeUnit#convert][1]\r\n\r\n    public long convert(long sourceDuration,TimeUnit sourceUnit)\r\n\r\n&gt; Convert the given time duration in the given unit to this unit.\r\n&gt; Conversions from finer to coarser granularities truncate, so lose\r\n&gt; precision. For example converting 999 milliseconds to seconds results\r\n&gt; in 0. Conversions from coarser to finer granularities with arguments\r\n&gt; that would numerically overflow saturate to Long.MIN_VALUE if negative\r\n&gt; or Long.MAX_VALUE if positive.\r\n\r\nSo to get your answer\r\n\r\n    double milliseconds = 665477 / 1000000.0;\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html#convert(long,%20java.util.concurrent.TimeUnit)","title":"How to get decimal result when converting nanosecond to millisecond?","body":"<p>From Java Documentation - <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html#convert%28long,%20java.util.concurrent.TimeUnit%29\" rel=\"nofollow\">TimeUnit#convert</a></p>\n\n<pre><code>public long convert(long sourceDuration,TimeUnit sourceUnit)\n</code></pre>\n\n<blockquote>\n  <p>Convert the given time duration in the given unit to this unit.\n  Conversions from finer to coarser granularities truncate, so lose\n  precision. For example converting 999 milliseconds to seconds results\n  in 0. Conversions from coarser to finer granularities with arguments\n  that would numerically overflow saturate to Long.MIN_VALUE if negative\n  or Long.MAX_VALUE if positive.</p>\n</blockquote>\n\n<p>So to get your answer</p>\n\n<pre><code>double milliseconds = 665477 / 1000000.0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":304032,"reputation":4971,"user_id":613319,"accept_rate":90,"display_name":"sina72"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1404735745,"creation_date":1404735745,"answer_id":24610537,"question_id":24610473,"body_markdown":"Just divide by 1,000,000:\r\n\r\n    double millis = 665477 / 1000000.0;\r\n\r\nWith `TimeUnit` you will only get an integer result.","title":"How to get decimal result when converting nanosecond to millisecond?","body":"<p>Just divide by 1,000,000:</p>\n\n<pre><code>double millis = 665477 / 1000000.0;\n</code></pre>\n\n<p>With <code>TimeUnit</code> you will only get an integer result.</p>\n"},{"tags":[],"owner":{"account_id":3032746,"reputation":725,"user_id":2571426,"display_name":"schlagi123"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404735779,"creation_date":1404735779,"answer_id":24610551,"question_id":24610473,"body_markdown":"You can calculate this manualy    \r\n\r\n    double mil = 665477L/1_000_000.0","title":"How to get decimal result when converting nanosecond to millisecond?","body":"<p>You can calculate this manualy    </p>\n\n<pre><code>double mil = 665477L/1_000_000.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1404741479,"creation_date":1404738980,"answer_id":24611514,"question_id":24610473,"body_markdown":"shorter and less error prone:\r\n\r\n    double millis = 665477 / 1E6;\r\n\r\n\r\n\r\nmilli -&gt; mikro -&gt; nano\r\n\r\nare two steps, each step has a conversion faktor of 1000 = 1E3;\r\nSo makes one million, which can easier be read as 1E6, than by counting zeros.","title":"How to get decimal result when converting nanosecond to millisecond?","body":"<p>shorter and less error prone:</p>\n\n<pre><code>double millis = 665477 / 1E6;\n</code></pre>\n\n<p>milli -> mikro -> nano</p>\n\n<p>are two steps, each step has a conversion faktor of 1000 = 1E3;\nSo makes one million, which can easier be read as 1E6, than by counting zeros.</p>\n"},{"tags":[],"owner":{"account_id":499397,"reputation":831,"user_id":1063628,"display_name":"Sebien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668515620,"creation_date":1668515620,"answer_id":74445709,"question_id":24610473,"body_markdown":"    double milliSeconds = nanoSeconds / (double) TimeUnit.MILLISECONDS.toNanos(1);\r\n\r\nso you don&#39;t have to put the magic number 1_000_000.0 in your code, or remember what is the correct ratio to make sure there is no bug: the line is pretty self-validating.\r\n\r\nYou can `import static java.util.concurrent.TimeUnit.MILLISECONDS;` for a code reading even more like prose.","title":"How to get decimal result when converting nanosecond to millisecond?","body":"<pre><code>double milliSeconds = nanoSeconds / (double) TimeUnit.MILLISECONDS.toNanos(1);\n</code></pre>\n<p>so you don't have to put the magic number 1_000_000.0 in your code, or remember what is the correct ratio to make sure there is no bug: the line is pretty self-validating.</p>\n<p>You can <code>import static java.util.concurrent.TimeUnit.MILLISECONDS;</code> for a code reading even more like prose.</p>\n"}],"owner":{"account_id":2524540,"reputation":327,"user_id":2194146,"accept_rate":80,"display_name":"Petter Bjao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11350,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":24610498,"answer_count":5,"score":8,"last_activity_date":1668515620,"creation_date":1404735535,"question_id":24610473,"body_markdown":"Using `TimeUnit`, how can I convert 665477 nanosecond to 0.665477 millisecond?\r\n\r\n    long t = TimeUnit.MILLISECONDS.convert(665477L, TimeUnit.NANOSECONDS);\r\n\r\nThis always gives `0` but I need decimal points precision.","title":"How to get decimal result when converting nanosecond to millisecond?","body":"<p>Using <code>TimeUnit</code>, how can I convert 665477 nanosecond to 0.665477 millisecond?</p>\n\n<pre><code>long t = TimeUnit.MILLISECONDS.convert(665477L, TimeUnit.NANOSECONDS);\n</code></pre>\n\n<p>This always gives <code>0</code> but I need decimal points precision.</p>\n"},{"tags":["java","android","android-studio","accessibilityservice"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1668475816,"post_id":74439356,"comment_id":131409347,"body_markdown":"Your true/false condition is incorrect. From the official web, it said \n&quot;If true then the event will be consumed and not delivered to applications, otherwise it will be delivered as usual.&quot;","body":"Your true/false condition is incorrect. From the official web, it said  &quot;If true then the event will be consumed and not delivered to applications, otherwise it will be delivered as usual.&quot;"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1668475899,"post_id":74439356,"comment_id":131409356,"body_markdown":"So if you don&#39;t want the volume up/down events to be taken care by system, you shall return true to &quot;consume&quot; it. REF: https://developer.android.com/reference/android/accessibilityservice/AccessibilityService#onKeyEvent(android.view.KeyEvent)","body":"So if you don&#39;t want the volume up/down events to be taken care by system, you shall return true to &quot;consume&quot; it. REF: <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityService#onKeyEvent(android.view.KeyEvent)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/accessibilityservice&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":25335247,"reputation":23,"user_id":19154488,"display_name":"Kali C"},"score":0,"creation_date":1668515213,"post_id":74439356,"comment_id":131419077,"body_markdown":"@AndroidNewbieA Hey, I tried it both ways and it didn&#39;t work but after debugging I figured the problem was it running twice once on action = ACTION_UP and once on ACTION_DOWN so the volume keys always worked. after changing it to consume both actions it finally worked. Thanks so much for the help!","body":"@AndroidNewbieA Hey, I tried it both ways and it didn&#39;t work but after debugging I figured the problem was it running twice once on action = ACTION_UP and once on ACTION_DOWN so the volume keys always worked. after changing it to consume both actions it finally worked. Thanks so much for the help!"}],"answers":[{"tags":[],"owner":{"account_id":25335247,"reputation":23,"user_id":19154488,"display_name":"Kali C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668515446,"creation_date":1668515446,"answer_id":74445662,"question_id":74439356,"body_markdown":"Hey the problem was that the function only consumed the action = ACTION_UP while it triggers both action_up and action_down so the volume keys always worked, now I have changed it to consume both actions and it works! the code is:\r\n\r\n    @Override\r\n    public boolean onKeyEvent(KeyEvent event) {\r\n\r\n        int action = event.getAction();\r\n        int keyCode = event.getKeyCode();\r\n        if(CONDITION) {\r\n            if (action == KeyEvent.ACTION_UP || action == KeyEvent.ACTION_DOWN) {\r\n                if (keyCode == KeyEvent.KEYCODE_VOLUME_UP || keyCode == KeyEvent.KEYCODE_VOLUME_DOWN) {\r\n                    return true; // Volume key don&#39;t work\r\n                }\r\n            }\r\n        }\r\n        return false; // Volume keys work\r\n    }\r\n\r\nHope it helps anyone. :)","title":"Accessibility Service onKeyEvent","body":"<p>Hey the problem was that the function only consumed the action = ACTION_UP while it triggers both action_up and action_down so the volume keys always worked, now I have changed it to consume both actions and it works! the code is:</p>\n<pre><code>@Override\npublic boolean onKeyEvent(KeyEvent event) {\n\n    int action = event.getAction();\n    int keyCode = event.getKeyCode();\n    if(CONDITION) {\n        if (action == KeyEvent.ACTION_UP || action == KeyEvent.ACTION_DOWN) {\n            if (keyCode == KeyEvent.KEYCODE_VOLUME_UP || keyCode == KeyEvent.KEYCODE_VOLUME_DOWN) {\n                return true; // Volume key don't work\n            }\n        }\n    }\n    return false; // Volume keys work\n}\n</code></pre>\n<p>Hope it helps anyone. :)</p>\n"}],"owner":{"account_id":25335247,"reputation":23,"user_id":19154488,"display_name":"Kali C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668515446,"creation_date":1668471530,"question_id":74439356,"body_markdown":"I&#39;m trying to mute all sounds threw Accessibility Service, is that possible?\r\n\r\nif not can I manage the volume keys? I am currently using onKeyEvent to get all volume\r\nkey events, and it is working fine but I would like to disable the volume keys in a certain condition and enable them in other condition. I have failed to make this happened because it behaves in a strange way which don&#39;t listen to my condition and either works or not.\r\nThe following code is an example of what I got:\r\n\r\n    @Override\r\n    public boolean onKeyEvent(KeyEvent event) {\r\n\r\n        int action = event.getAction();\r\n        int keyCode = event.getKeyCode();\r\n        if(CONDITION) {\r\n            if (action == KeyEvent.ACTION_UP) {\r\n                if (keyCode == KeyEvent.KEYCODE_VOLUME_UP || keyCode == KeyEvent.KEYCODE_VOLUME_DOWN) {\r\n                    return false; // Volume key shouldn&#39;t work\r\n                }\r\n                return true; // execute key normally\r\n            }\r\n        }\r\n        return true; // Volume key should work\r\n    }\r\n\r\nin this case the volume keys don&#39;t work no matter what the CONDITION is.\r\nand if I change one of the returns to return super.onKeyEvent(event) suddenly the volume key work all the time despite the CONDITION :(\r\nI don&#39;t know what to do\r\n\r\nPlease Help,\r\nAny advise would help.\r\n\r\n**Thanks in advance!:)**","title":"Accessibility Service onKeyEvent","body":"<p>I'm trying to mute all sounds threw Accessibility Service, is that possible?</p>\n<p>if not can I manage the volume keys? I am currently using onKeyEvent to get all volume\nkey events, and it is working fine but I would like to disable the volume keys in a certain condition and enable them in other condition. I have failed to make this happened because it behaves in a strange way which don't listen to my condition and either works or not.\nThe following code is an example of what I got:</p>\n<pre><code>@Override\npublic boolean onKeyEvent(KeyEvent event) {\n\n    int action = event.getAction();\n    int keyCode = event.getKeyCode();\n    if(CONDITION) {\n        if (action == KeyEvent.ACTION_UP) {\n            if (keyCode == KeyEvent.KEYCODE_VOLUME_UP || keyCode == KeyEvent.KEYCODE_VOLUME_DOWN) {\n                return false; // Volume key shouldn't work\n            }\n            return true; // execute key normally\n        }\n    }\n    return true; // Volume key should work\n}\n</code></pre>\n<p>in this case the volume keys don't work no matter what the CONDITION is.\nand if I change one of the returns to return super.onKeyEvent(event) suddenly the volume key work all the time despite the CONDITION :(\nI don't know what to do</p>\n<p>Please Help,\nAny advise would help.</p>\n<p><strong>Thanks in advance!:)</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1510299795,"post_id":47217892,"comment_id":81385148,"body_markdown":"Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x1\n that&#39;s why, apparently","body":"Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x1  that&#39;s why, apparently"},{"owner":{"account_id":1371289,"reputation":25857,"user_id":1306419,"accept_rate":85,"display_name":"Shobhit Puri"},"score":0,"creation_date":1510299800,"post_id":47217892,"comment_id":81385149,"body_markdown":"Please add the relevant code sniplet of the xml file and the java code","body":"Please add the relevant code sniplet of the xml file and the java code"},{"owner":{"account_id":6617940,"reputation":3932,"user_id":5110595,"display_name":"Hemant Parmar"},"score":0,"creation_date":1510299920,"post_id":47217892,"comment_id":81385209,"body_markdown":"@Mohil khare, did you initialized your button ?","body":"@Mohil khare, did you initialized your button ?"},{"owner":{"account_id":8384956,"reputation":3437,"user_id":6295668,"accept_rate":57,"display_name":"Jinesh Francis"},"score":0,"creation_date":1510300105,"post_id":47217892,"comment_id":81385321,"body_markdown":"@Mohil Khare Please check anywhere you are setting integer value(or non string value) to textview or button","body":"@Mohil Khare Please check anywhere you are setting integer value(or non string value) to textview or button"},{"owner":{"account_id":10345394,"reputation":15,"user_id":7630517,"display_name":"Mohil Khare"},"score":0,"creation_date":1510300214,"post_id":47217892,"comment_id":81385371,"body_markdown":"@JineshFrancis I have commented the relevant java and xml code","body":"@JineshFrancis I have commented the relevant java and xml code"},{"owner":{"account_id":10345394,"reputation":15,"user_id":7630517,"display_name":"Mohil Khare"},"score":0,"creation_date":1510300330,"post_id":47217892,"comment_id":81385425,"body_markdown":"@ShobhitPuri I&#39;ve commented the relevant code now","body":"@ShobhitPuri I&#39;ve commented the relevant code now"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1510300662,"post_id":47217892,"comment_id":81385543,"body_markdown":"@HemantParmar Yes. Or he would get an NPE.","body":"@HemantParmar Yes. Or he would get an NPE."}],"answers":[{"tags":[],"owner":{"account_id":7358919,"reputation":2548,"user_id":5602752,"display_name":"Munir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510300477,"creation_date":1510300477,"answer_id":47218069,"question_id":47217892,"body_markdown":"it&#39;s because you set int value in TextView.Because setText() accepts only String values or Resource ID of a String (which is infact int). \r\n\r\nchange\r\n\r\n    displayMessageOnnumOfTotalDays.setText(totalDays);\r\n    \r\n    displayMessageOntv1.setText(daysAttended);\r\n\r\nTo\r\n\r\n \r\n\r\n     displayMessageOnnumOfTotalDays.setText(String.valueOf(totalDays));\r\n        \r\n     displayMessageOntv1.setText(String.valueOf(daysAttended));","title":"App crashing because of onclick?","body":"<p>it's because you set int value in TextView.Because setText() accepts only String values or Resource ID of a String (which is infact int). </p>\n\n<p>change</p>\n\n<pre><code>displayMessageOnnumOfTotalDays.setText(totalDays);\n\ndisplayMessageOntv1.setText(daysAttended);\n</code></pre>\n\n<p>To</p>\n\n<pre><code> displayMessageOnnumOfTotalDays.setText(String.valueOf(totalDays));\n\n displayMessageOntv1.setText(String.valueOf(daysAttended));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2452613,"reputation":186,"user_id":2138498,"display_name":"Manjeet Singh Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668515348,"creation_date":1510304471,"answer_id":47219031,"question_id":47217892,"body_markdown":"As well as you can use following way.\r\n\r\n    displayMessageOnnumOfTotalDays.setText(String.valueOf(totalDays));\r\n    displayMessageOntv1.setText(String.valueOf(daysAttended));","title":"App crashing because of onclick?","body":"<p>As well as you can use following way.</p>\n<pre><code>displayMessageOnnumOfTotalDays.setText(String.valueOf(totalDays));\ndisplayMessageOntv1.setText(String.valueOf(daysAttended));\n</code></pre>\n"}],"owner":{"account_id":10345394,"reputation":15,"user_id":7630517,"display_name":"Mohil Khare"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47218069,"answer_count":2,"score":1,"last_activity_date":1668515348,"creation_date":1510299729,"question_id":47217892,"body_markdown":"While I was testing my app on a virtual device, I faced the following error:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n                  Process: com.attendancekeeper.mohilkhare.attendancekeeper, PID: 4150\r\n                  java.lang.IllegalStateException: Could not execute method for android:onClick\r\n                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)\r\n                      at android.view.View.performClick(View.java:5198)\r\n                      at android.view.View$PerformClick.run(View.java:21147)\r\n                      at android.os.Handler.handleCallback(Handler.java:739)\r\n                      at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                      at android.os.Looper.loop(Looper.java:148)\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n                   Caused by: java.lang.reflect.InvocationTargetException\r\n                      at java.lang.reflect.Method.invoke(Native Method)\r\n                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\r\n                      at android.view.View.performClick(View.java:5198)&#160;\r\n                      at android.view.View$PerformClick.run(View.java:21147)&#160;\r\n                      at android.os.Handler.handleCallback(Handler.java:739)&#160;\r\n                      at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n                      at android.os.Looper.loop(Looper.java:148)&#160;\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5417)&#160;\r\n                      at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)&#160;\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)&#160;\r\n                   Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x1\r\n                      at android.content.res.Resources.getText(Resources.java:312)\r\n                      at android.widget.TextView.setText(TextView.java:4417)\r\n                      at com.attendancekeeper.mohilkhare.attendancekeeper.MainActivity.displayMessageOnnumOfTotalDays(MainActivity.java:32)\r\n                      at com.attendancekeeper.mohilkhare.attendancekeeper.MainActivity.present(MainActivity.java:25)\r\n                      at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)&#160;\r\n                      at android.view.View.performClick(View.java:5198)&#160;\r\n                      at android.view.View$PerformClick.run(View.java:21147)&#160;\r\n                      at android.os.Handler.handleCallback(Handler.java:739)&#160;\r\n                      at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n                      at android.os.Looper.loop(Looper.java:148)&#160;\r\n                      at android.app.ActivityThread.main(ActivityThread.java:5417)&#160;\r\n                      at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)&#160;\r\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)&#160;\r\n\r\nThis error came when I added the following to MainActivity.java:\r\n\r\n - A function that incremented a couple of integers and displayed the values to text view targetted using text view id.\r\n\r\nCan anyone please explain why is this happening? I am new to this. ","title":"App crashing because of onclick?","body":"<p>While I was testing my app on a virtual device, I faced the following error:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: com.attendancekeeper.mohilkhare.attendancekeeper, PID: 4150\n              java.lang.IllegalStateException: Could not execute method for android:onClick\n                  at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)\n                  at android.view.View.performClick(View.java:5198)\n                  at android.view.View$PerformClick.run(View.java:21147)\n                  at android.os.Handler.handleCallback(Handler.java:739)\n                  at android.os.Handler.dispatchMessage(Handler.java:95)\n                  at android.os.Looper.loop(Looper.java:148)\n                  at android.app.ActivityThread.main(ActivityThread.java:5417)\n                  at java.lang.reflect.Method.invoke(Native Method)\n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n               Caused by: java.lang.reflect.InvocationTargetException\n                  at java.lang.reflect.Method.invoke(Native Method)\n                  at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\n                  at android.view.View.performClick(View.java:5198) \n                  at android.view.View$PerformClick.run(View.java:21147) \n                  at android.os.Handler.handleCallback(Handler.java:739) \n                  at android.os.Handler.dispatchMessage(Handler.java:95) \n                  at android.os.Looper.loop(Looper.java:148) \n                  at android.app.ActivityThread.main(ActivityThread.java:5417) \n                  at java.lang.reflect.Method.invoke(Native Method) \n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \n               Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x1\n                  at android.content.res.Resources.getText(Resources.java:312)\n                  at android.widget.TextView.setText(TextView.java:4417)\n                  at com.attendancekeeper.mohilkhare.attendancekeeper.MainActivity.displayMessageOnnumOfTotalDays(MainActivity.java:32)\n                  at com.attendancekeeper.mohilkhare.attendancekeeper.MainActivity.present(MainActivity.java:25)\n                  at java.lang.reflect.Method.invoke(Native Method) \n                  at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288) \n                  at android.view.View.performClick(View.java:5198) \n                  at android.view.View$PerformClick.run(View.java:21147) \n                  at android.os.Handler.handleCallback(Handler.java:739) \n                  at android.os.Handler.dispatchMessage(Handler.java:95) \n                  at android.os.Looper.loop(Looper.java:148) \n                  at android.app.ActivityThread.main(ActivityThread.java:5417) \n                  at java.lang.reflect.Method.invoke(Native Method) \n                  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726) \n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616) \n</code></pre>\n\n<p>This error came when I added the following to MainActivity.java:</p>\n\n<ul>\n<li>A function that incremented a couple of integers and displayed the values to text view targetted using text view id.</li>\n</ul>\n\n<p>Can anyone please explain why is this happening? I am new to this. </p>\n"},{"tags":["java","api","rest","spotify"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1668518067,"post_id":74445585,"comment_id":131420225,"body_markdown":"As I see u pass grant_type parameter as a request body not a form parameter(s). Try to build a valid x-www-form-url-encoded request. Hope it helps: https://stackoverflow.com/questions/56728398/java-11-new-http-client-send-post-requests-with-x-www-form-urlencoded-parameter","body":"As I see u pass grant_type parameter as a request body not a form parameter(s). Try to build a valid x-www-form-url-encoded request. Hope it helps: <a href=\"https://stackoverflow.com/questions/56728398/java-11-new-http-client-send-post-requests-with-x-www-form-urlencoded-parameter\" title=\"java 11 new http client send post requests with x www form urlencoded parameter\">stackoverflow.com/questions/56728398/&hellip;</a>"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1668613976,"post_id":74445585,"comment_id":131449324,"body_markdown":"You are passing the values as body but it requires them as form params.","body":"You are passing the values as body but it requires them as form params."}],"owner":{"account_id":26938867,"reputation":11,"user_id":20510056,"display_name":"kalle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668515086,"creation_date":1668515086,"question_id":74445585,"body_markdown":"So I&#39;m trying to get the access token for the Web API with the client_id and client_secret, but I&#39;m keep getting this error: {&quot;error&quot;:&quot;unsupported_grant_type&quot;,&quot;error_description&quot;:&quot;grant_type parameter is missing&quot;}\r\nThis is my code:\r\n\\`\r\n\r\n```\r\npublic static void getAuthToken() throws Exception {\r\n    Gson gson = new Gson();\r\n    Transcript transcript = new Transcript();\r\n    String jsonRequest = gson.toJson(transcript);\r\n    String originalInput = Access.CLIENT_ID + &quot;:&quot; + Access.CLIENT_SECRET;\r\n    String encodedString = Base64.getEncoder().encodeToString(originalInput.getBytes());\r\n    System.out.println(jsonRequest);\r\n    HttpRequest postRequest = (HttpRequest) HttpRequest.newBuilder()\r\n            .uri(new URI(&quot;https://accounts.spotify.com/api/token&quot;))\r\n            .POST(HttpRequest.BodyPublishers.ofString(jsonRequest))\r\n            .header(&quot;Authorization&quot;, &quot;Basic &quot; + encodedString)\r\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n            .build();\r\n\r\n    HttpClient httpClient = HttpClient.newHttpClient();\r\n\r\n    HttpResponse&lt;String&gt; postResponse = httpClient.send(postRequest, HttpResponse.BodyHandlers.ofString());\r\n    System.out.println(postResponse.body());\r\n}\r\n```\r\n\r\n` and:`\r\n\r\n```\r\npublic class Transcript {\r\n\r\n    private String grant_type = &quot;client_credentials&quot;;\r\n\r\n}\r\n```\r\n\r\n\\`\r\n\r\nWell the error obviously states that something is wrong with the grant_type, so I printed the request body and it seems fine.","title":"Spotify API AuthToken with Java","body":"<p>So I'm trying to get the access token for the Web API with the client_id and client_secret, but I'm keep getting this error: {&quot;error&quot;:&quot;unsupported_grant_type&quot;,&quot;error_description&quot;:&quot;grant_type parameter is missing&quot;}\nThis is my code:\n`</p>\n<pre><code>public static void getAuthToken() throws Exception {\n    Gson gson = new Gson();\n    Transcript transcript = new Transcript();\n    String jsonRequest = gson.toJson(transcript);\n    String originalInput = Access.CLIENT_ID + &quot;:&quot; + Access.CLIENT_SECRET;\n    String encodedString = Base64.getEncoder().encodeToString(originalInput.getBytes());\n    System.out.println(jsonRequest);\n    HttpRequest postRequest = (HttpRequest) HttpRequest.newBuilder()\n            .uri(new URI(&quot;https://accounts.spotify.com/api/token&quot;))\n            .POST(HttpRequest.BodyPublishers.ofString(jsonRequest))\n            .header(&quot;Authorization&quot;, &quot;Basic &quot; + encodedString)\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n            .build();\n\n    HttpClient httpClient = HttpClient.newHttpClient();\n\n    HttpResponse&lt;String&gt; postResponse = httpClient.send(postRequest, HttpResponse.BodyHandlers.ofString());\n    System.out.println(postResponse.body());\n}\n</code></pre>\n<p><code> and:</code></p>\n<pre><code>public class Transcript {\n\n    private String grant_type = &quot;client_credentials&quot;;\n\n}\n</code></pre>\n<p>`</p>\n<p>Well the error obviously states that something is wrong with the grant_type, so I printed the request body and it seems fine.</p>\n"},{"tags":["java","unit-testing","testing","mocking","http-delete"],"comments":[{"owner":{"account_id":14232399,"reputation":189,"user_id":10281237,"display_name":"Ascendise"},"score":0,"creation_date":1668513658,"post_id":74445237,"comment_id":131418528,"body_markdown":"what do you mean with it didn&#39;t cover the `userRepository.delete`? Was it not called?\nIf you mean how to verify that the method was called, then what did you try to do and why did it not work (was there an error or how did the behaviour differ from your expectations)?","body":"what do you mean with it didn&#39;t cover the <code>userRepository.delete</code>? Was it not called? If you mean how to verify that the method was called, then what did you try to do and why did it not work (was there an error or how did the behaviour differ from your expectations)?"},{"owner":{"account_id":26795405,"reputation":3,"user_id":20388221,"display_name":"RobbLBobbl"},"score":0,"creation_date":1668514033,"post_id":74445237,"comment_id":131418673,"body_markdown":"I mean that when I try to run test with coverage, this line is not covered. When I&#39;ve used verify, I think that I&#39;ve used it incorrectly and always had an error with &quot;wanted but not invoked&quot;. That&#39;s why, I want to ask - how to test it properly?","body":"I mean that when I try to run test with coverage, this line is not covered. When I&#39;ve used verify, I think that I&#39;ve used it incorrectly and always had an error with &quot;wanted but not invoked&quot;. That&#39;s why, I want to ask - how to test it properly?"},{"owner":{"account_id":14232399,"reputation":189,"user_id":10281237,"display_name":"Ascendise"},"score":1,"creation_date":1668514215,"post_id":74445237,"comment_id":131418734,"body_markdown":"the userRepository you use in your test is not a real object but just a mock. That means you are not testing the implementation of your userRepository, therefore it does not count as being covered in your test.\nIf you want to cover the code of your userRepository, you would have to write a test that uses a &#39;real&#39; UserRepository, not a mock.","body":"the userRepository you use in your test is not a real object but just a mock. That means you are not testing the implementation of your userRepository, therefore it does not count as being covered in your test. If you want to cover the code of your userRepository, you would have to write a test that uses a &#39;real&#39; UserRepository, not a mock."},{"owner":{"account_id":26795405,"reputation":3,"user_id":20388221,"display_name":"RobbLBobbl"},"score":0,"creation_date":1668514663,"post_id":74445237,"comment_id":131418875,"body_markdown":"OK, thanks for your answer! And how can I do it? I&#39;ve used UserRepository with mock annotation in order to test other methods.","body":"OK, thanks for your answer! And how can I do it? I&#39;ve used UserRepository with mock annotation in order to test other methods."},{"owner":{"account_id":14232399,"reputation":189,"user_id":10281237,"display_name":"Ascendise"},"score":0,"creation_date":1668514950,"post_id":74445237,"comment_id":131418992,"body_markdown":"You would have to create an instance of the UserRepository and pass this to your UserService instead of your mock.","body":"You would have to create an instance of the UserRepository and pass this to your UserService instead of your mock."},{"owner":{"account_id":26795405,"reputation":3,"user_id":20388221,"display_name":"RobbLBobbl"},"score":0,"creation_date":1668515403,"post_id":74445237,"comment_id":131419151,"body_markdown":"Sorry, but I didn&#39;t get it. I already have UserRepository in my service with &#39;when&#39; above","body":"Sorry, but I didn&#39;t get it. I already have UserRepository in my service with &#39;when&#39; above"},{"owner":{"account_id":14232399,"reputation":189,"user_id":10281237,"display_name":"Ascendise"},"score":0,"creation_date":1668515684,"post_id":74445237,"comment_id":131419261,"body_markdown":"How do you create your userService? Are you using Spring and @SpringBootTest and use `@Autowired` for getting the userService-instance? In this case, you can just replace your `@Mock` annotation with `@Autowired` for your userRepository. Spring will then create a real object for you and pass this to your UserService. Note that you would then have to add test data to the database at the beginning of your test.","body":"How do you create your userService? Are you using Spring and @SpringBootTest and use <code>@Autowired</code> for getting the userService-instance? In this case, you can just replace your <code>@Mock</code> annotation with <code>@Autowired</code> for your userRepository. Spring will then create a real object for you and pass this to your UserService. Note that you would then have to add test data to the database at the beginning of your test."}],"answers":[{"tags":[],"owner":{"account_id":14232399,"reputation":189,"user_id":10281237,"display_name":"Ascendise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668514824,"creation_date":1668514824,"answer_id":74445532,"question_id":74445237,"body_markdown":"Test coverage means, which lines of your code are being called. If you mock an object, you are not calling the real code but only simulate the behaviour\r\n\r\nYour only test the implementation of your userService and mock the behaviour of your userRepository.\r\nSo your test only covers the code inside of your userService.deleteUser(...) method, but not the code inside of your userRepository.\r\nIf you want to cover your userRepository, you have to write a test with a &#39;real&#39; userRepository.","title":"How to create mock test to soft-delete void method?","body":"<p>Test coverage means, which lines of your code are being called. If you mock an object, you are not calling the real code but only simulate the behaviour</p>\n<p>Your only test the implementation of your userService and mock the behaviour of your userRepository.\nSo your test only covers the code inside of your userService.deleteUser(...) method, but not the code inside of your userRepository.\nIf you want to cover your userRepository, you have to write a test with a 'real' userRepository.</p>\n"}],"owner":{"account_id":26795405,"reputation":3,"user_id":20388221,"display_name":"RobbLBobbl"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74445532,"answer_count":1,"score":0,"last_activity_date":1668514824,"creation_date":1668513428,"question_id":74445237,"body_markdown":"I would like to test my delete method which looks like:\r\n\r\n```\r\npublic void deleteUser(String id) {\r\n    var userEntity = userRepository.findById(Integer.valueOf(id))\r\n            .orElseThrow(() -&gt; new UserNotFoundException(&quot;Id not found&quot;));\r\n    if (userEntity.getLastAccessDate() == null) {\r\n        throw new ProhibitedAccessException(&quot;Policy has been violated&quot;);\r\n    }\r\n    userRepository.delete(userEntity);\r\n}\r\n```\r\n\r\nMy delete method in repository is the following:\r\n\r\n```\r\n@Modifying\r\n@Query(&quot;update UserEntity u set deleted = true where u = :userEntity&quot;)\r\nvoid delete(UserEntity userEntity);\r\n```\r\n\r\nAnd I&#39;ve written the following test:\r\n\r\n```\r\n@Test\r\nvoid deleteUserTest(){\r\n    final int id = 1;\r\n    UserEntity userEntity = new UserEntity();\r\n    var idString = String.valueOf(id);\r\n    when(userRepository.findById(id)).thenReturn(Optional.of(userEntity));\r\n    assertThrows(RuntimeException.class, () -&gt; userService.deleteUser(idString));\r\n}\r\n```\r\n\r\nThis test is working good but it didn&#39;t cover the\r\n\r\n```\r\nuserRepository.delete(userEntity);\r\n```\r\n\r\nCould you help me please - how can I add it to my test? Previously, I&#39;ve tried to to do it through verify but it didn&#39;t help.","title":"How to create mock test to soft-delete void method?","body":"<p>I would like to test my delete method which looks like:</p>\n<pre><code>public void deleteUser(String id) {\n    var userEntity = userRepository.findById(Integer.valueOf(id))\n            .orElseThrow(() -&gt; new UserNotFoundException(&quot;Id not found&quot;));\n    if (userEntity.getLastAccessDate() == null) {\n        throw new ProhibitedAccessException(&quot;Policy has been violated&quot;);\n    }\n    userRepository.delete(userEntity);\n}\n</code></pre>\n<p>My delete method in repository is the following:</p>\n<pre><code>@Modifying\n@Query(&quot;update UserEntity u set deleted = true where u = :userEntity&quot;)\nvoid delete(UserEntity userEntity);\n</code></pre>\n<p>And I've written the following test:</p>\n<pre><code>@Test\nvoid deleteUserTest(){\n    final int id = 1;\n    UserEntity userEntity = new UserEntity();\n    var idString = String.valueOf(id);\n    when(userRepository.findById(id)).thenReturn(Optional.of(userEntity));\n    assertThrows(RuntimeException.class, () -&gt; userService.deleteUser(idString));\n}\n</code></pre>\n<p>This test is working good but it didn't cover the</p>\n<pre><code>userRepository.delete(userEntity);\n</code></pre>\n<p>Could you help me please - how can I add it to my test? Previously, I've tried to to do it through verify but it didn't help.</p>\n"},{"tags":["java","recursion","methods","java.util.scanner"],"comments":[{"owner":{"account_id":5179087,"reputation":3759,"user_id":4145291,"accept_rate":40,"display_name":"BarrySW19"},"score":0,"creation_date":1668513983,"post_id":74445018,"comment_id":131418652,"body_markdown":"Not sure why you would do this with a recursive method, but if you must it would be better to create a single Scanner outside the method before calling it rather than creating a new Scanner each time the method is called. You would have multiple Scanners all reading from System.in with this approach.","body":"Not sure why you would do this with a recursive method, but if you must it would be better to create a single Scanner outside the method before calling it rather than creating a new Scanner each time the method is called. You would have multiple Scanners all reading from System.in with this approach."}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668514660,"creation_date":1668514266,"answer_id":74445392,"question_id":74445018,"body_markdown":"Each time method its called, it creates its own local variables. For instance if you have method like \r\n\r\n```\r\nvoid foo(int n) { \r\n    int x = n + 1; \r\n    if (x &lt; 2) \r\n        foo(x); \r\n}\r\n```\r\n\r\nand you call it like `foo(0);` then while executing it will have *its own* two *local variables* `n=0` (method parameter) and `x = n+1 = 0+1 = 1` (declared in body of method).   \r\nThen when you invoke recursively `foo(x);` which will end up as `foo(1)` that invocation will create another set of `n` `x` *local variables* which will be holding values `n=1` `x=2`. \r\n\r\nSimilarly in your case, each time you call `maxintRecursive` method it creates *its own* separate `Scanner in = new Scanner(...)` object. ***So if you called your method N times, the N `Scanner` objects ware created*** (all of them reading from `System.in`). Even if you call `in.close();` in method handling `if (a &lt;= 0)` it will only close Scanner created by *that* recursive invocation. Other Scanners, created in previous method calls will never be closed. \r\n\r\nPossible solution could be *also* adding `in.close();` at the end of your method (after recursive call), which will ensure that each method will close its own Scanner.\r\n\r\nBut ***preferred*** solution would be preventing creating so many Scanners in the first place. Instead create one in `main` method and *pass* it to recursive method as parameter. Since it will be *passed* Java will not force you to close that scanner in method itself, but in *scope* where it was created (the main method). \r\n\r\nTo do this you need to let `maxintRecursive` *accept* Scanner as parameter by modifying its declaration like \r\n\r\n```\r\npublic static void maxintRecursive(int max, Scanner in) {\r\n    //...\r\n}\r\n```\r\n\r\nThis way all you need now is something like\r\n\r\n```\r\npublic static main(String[] args){\r\n    Scanner scanner = new Scanner(System.in);\r\n    maxintRecursive(-1, scanner);\r\n    scanner.close();\r\n}\r\n```\r\n\r\n---\r\nBTW another reason we avoid creating Scanner which handles `System.in` inside our own methods is fact that closing such Scanner by that method would also close `System.in`. This means when you will try to call your method again it will create Scanner which will try to read from already close `System.in`. Again, preferred solution in such case is to *pass* Scanner handling System.in as method parameter.","title":"Scanner is never closed in method, but I think it does actually close every time the method ends?","body":"<p>Each time method its called, it creates its own local variables. For instance if you have method like</p>\n<pre><code>void foo(int n) { \n    int x = n + 1; \n    if (x &lt; 2) \n        foo(x); \n}\n</code></pre>\n<p>and you call it like <code>foo(0);</code> then while executing it will have <em>its own</em> two <em>local variables</em> <code>n=0</code> (method parameter) and <code>x = n+1 = 0+1 = 1</code> (declared in body of method).<br />\nThen when you invoke recursively <code>foo(x);</code> which will end up as <code>foo(1)</code> that invocation will create another set of <code>n</code> <code>x</code> <em>local variables</em> which will be holding values <code>n=1</code> <code>x=2</code>.</p>\n<p>Similarly in your case, each time you call <code>maxintRecursive</code> method it creates <em>its own</em> separate <code>Scanner in = new Scanner(...)</code> object. <em><strong>So if you called your method N times, the N <code>Scanner</code> objects ware created</strong></em> (all of them reading from <code>System.in</code>). Even if you call <code>in.close();</code> in method handling <code>if (a &lt;= 0)</code> it will only close Scanner created by <em>that</em> recursive invocation. Other Scanners, created in previous method calls will never be closed.</p>\n<p>Possible solution could be <em>also</em> adding <code>in.close();</code> at the end of your method (after recursive call), which will ensure that each method will close its own Scanner.</p>\n<p>But <em><strong>preferred</strong></em> solution would be preventing creating so many Scanners in the first place. Instead create one in <code>main</code> method and <em>pass</em> it to recursive method as parameter. Since it will be <em>passed</em> Java will not force you to close that scanner in method itself, but in <em>scope</em> where it was created (the main method).</p>\n<p>To do this you need to let <code>maxintRecursive</code> <em>accept</em> Scanner as parameter by modifying its declaration like</p>\n<pre><code>public static void maxintRecursive(int max, Scanner in) {\n    //...\n}\n</code></pre>\n<p>This way all you need now is something like</p>\n<pre><code>public static main(String[] args){\n    Scanner scanner = new Scanner(System.in);\n    maxintRecursive(-1, scanner);\n    scanner.close();\n}\n</code></pre>\n<hr />\n<p>BTW another reason we avoid creating Scanner which handles <code>System.in</code> inside our own methods is fact that closing such Scanner by that method would also close <code>System.in</code>. This means when you will try to call your method again it will create Scanner which will try to read from already close <code>System.in</code>. Again, preferred solution in such case is to <em>pass</em> Scanner handling System.in as method parameter.</p>\n"}],"owner":{"account_id":26938460,"reputation":3,"user_id":20509717,"display_name":"simo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74445392,"answer_count":1,"score":0,"last_activity_date":1668514660,"creation_date":1668512431,"question_id":74445018,"body_markdown":"\r\n```\r\npublic static void maxintRecursive(int max) {\r\n\r\n// create scanner\r\n        Scanner in = new Scanner(System.in);\r\n\r\n// asks user for integer input\r\n        int a = in.nextInt();\r\n\r\n\r\n\r\n// checks if integer input satisfies exit condition, closes scanner, prints max and returns\r\n        if (a &lt;= 0) {\r\n            in.close();\r\n            System.out.println(&quot;Max int is: &quot; + max);\r\n            return;\r\n        }\r\n\r\n// checks if input is greater than previous max registered int\r\n        if (a &gt; max) {\r\n            max = a;\r\n        }\r\n// calls itself again\r\n        maxintRecursive(max);\r\n    }\r\n```\r\n\r\n\r\nI can compile and run it successfully, but at line 3 it underlines &quot;in&quot; saying that it&#39;s never closed\r\nHowever, this method keeps calling itself until you reach the exit condition (a &lt;=0) under which the scanner does in fact get closed\r\n\r\nIs it an error? Is it actually never getting closed and I&#39;m getting a memory leak?\r\n\r\nShould I pass a scanner in the method from the main, or would it be the same?\r\n\r\nThis recursive method asks the user for an integer input and returns the maximum integer received once the user inputs 0 or less\r\n\r\nI created a scanner inside the method and closed it when the recursive method reaches its exit condition\r\n\r\nI expected the scanner to be closed by my code inside the exit condition, but VS Code says it never gets closed\r\n","title":"Scanner is never closed in method, but I think it does actually close every time the method ends?","body":"<pre><code>public static void maxintRecursive(int max) {\n\n// create scanner\n        Scanner in = new Scanner(System.in);\n\n// asks user for integer input\n        int a = in.nextInt();\n\n\n\n// checks if integer input satisfies exit condition, closes scanner, prints max and returns\n        if (a &lt;= 0) {\n            in.close();\n            System.out.println(&quot;Max int is: &quot; + max);\n            return;\n        }\n\n// checks if input is greater than previous max registered int\n        if (a &gt; max) {\n            max = a;\n        }\n// calls itself again\n        maxintRecursive(max);\n    }\n</code></pre>\n<p>I can compile and run it successfully, but at line 3 it underlines &quot;in&quot; saying that it's never closed\nHowever, this method keeps calling itself until you reach the exit condition (a &lt;=0) under which the scanner does in fact get closed</p>\n<p>Is it an error? Is it actually never getting closed and I'm getting a memory leak?</p>\n<p>Should I pass a scanner in the method from the main, or would it be the same?</p>\n<p>This recursive method asks the user for an integer input and returns the maximum integer received once the user inputs 0 or less</p>\n<p>I created a scanner inside the method and closed it when the recursive method reaches its exit condition</p>\n<p>I expected the scanner to be closed by my code inside the exit condition, but VS Code says it never gets closed</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":26701199,"reputation":21,"user_id":20308225,"display_name":"miguel30452"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668514424,"creation_date":1668514424,"answer_id":74445436,"question_id":74440825,"body_markdown":"the problem seems to be that you have no connection to the database, check that the database is up and if you have connection to it from the pc.\r\n\r\nIf you have connection the problem is probably in the connection between the database and the program, if you can attach the .yml","title":"Communications link failure using springBoot Application","body":"<p>the problem seems to be that you have no connection to the database, check that the database is up and if you have connection to it from the pc.</p>\n<p>If you have connection the problem is probably in the connection between the database and the program, if you can attach the .yml</p>\n"}],"owner":{"account_id":26934954,"reputation":1,"user_id":20506716,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668877901,"answer_count":1,"score":0,"last_activity_date":1668514424,"creation_date":1668488683,"question_id":74440825,"body_markdown":"\r\n\r\n**Communications link failure**\r\n\r\nI am Getting these type of error can anyone solve my error\r\n```\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\t... 54 common frames omitted\r\n\r\n","title":"Communications link failure using springBoot Application","body":"<p><strong>Communications link failure</strong></p>\n<p>I am Getting these type of error can anyone solve my error</p>\n<pre><code>Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    ... 54 common frames omitted\n\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","spring-data","java-11"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668507759,"post_id":74443943,"comment_id":131416518,"body_markdown":"`lastReceived` isn&#39;t a datetime type so that won&#39;t work. Make it a proper datetime type both in the database and the java code.","body":"<code>lastReceived</code> isn&#39;t a datetime type so that won&#39;t work. Make it a proper datetime type both in the database and the java code."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668508064,"post_id":74443943,"comment_id":131416629,"body_markdown":"Is `repo` an Spring JPA Repository or self-made?","body":"Is <code>repo</code> an Spring JPA Repository or self-made?"},{"owner":{"account_id":10481981,"reputation":57,"user_id":7726732,"display_name":"Codinghubby"},"score":0,"creation_date":1668508123,"post_id":74443943,"comment_id":131416647,"body_markdown":"Spring JPA with queryDSL","body":"Spring JPA with queryDSL"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668508256,"post_id":74443943,"comment_id":131416692,"body_markdown":"If it really is a datetime write a proper query instead of retrieving everything and filter in memory.","body":"If it really is a datetime write a proper query instead of retrieving everything and filter in memory."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":2,"creation_date":1668508268,"post_id":74443943,"comment_id":131416700,"body_markdown":"I would go with `repo.findFirstByNameOrderByLastReceivedDesc(&quot;USD&quot;)`","body":"I would go with <code>repo.findFirstByNameOrderByLastReceivedDesc(&quot;USD&quot;)</code>"},{"owner":{"account_id":10481981,"reputation":57,"user_id":7726732,"display_name":"Codinghubby"},"score":0,"creation_date":1668508458,"post_id":74443943,"comment_id":131416782,"body_markdown":"Ok, Let me try, thank you.","body":"Ok, Let me try, thank you."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668514387,"creation_date":1668511192,"answer_id":74444761,"question_id":74443943,"body_markdown":"It appears that you should group by currency **AND** date and then select by maximal (most recent) timestamp, this results in a map, and then you can use the map&#39;s `values()` to build the list.\r\n\r\nSo, a list of currency name and the date can be used as the key in the map, and `Collectors.collectingAndThen` is needed to convert the `Optional` result of `Collectors.maxBy` into the currency instance:\r\n```java\r\nList&lt;Currency&gt; lastByDate = new ArrayList&lt;&gt;(data\r\n        .stream() // Stream&lt;Currency&gt;\r\n        .collect(Collectors.groupingBy(\r\n            // key = List&lt;Serializable &amp; Comparable&lt;? extends Comparable&lt;?&gt;&gt;&gt;\r\n            curr -&gt; Arrays.asList(curr.getName(), curr.getLastReceived().toLocalDate()),\r\n            Collectors.collectingAndThen(\r\n                Collectors.maxBy(Comparator.comparing(Currency::getLastReceived)),\r\n                Optional::get // Optional&lt;Currency&gt; -&gt; Currency\r\n            )\r\n        )) // Map&lt;List&lt;...&gt;, Currency&gt;\r\n        .values()\r\n);\r\n```\r\nIf a sorted list is required, it may be retrieved by sorting the stream of `values`:\r\n```java\r\nList&lt;Currency&gt; sortedByDateAndCurr = data\r\n        .stream()\r\n        .collect(Collectors.groupingBy(\r\n                curr -&gt; Arrays.asList(curr.getName(), curr.getLastReceived().toLocalDate()),\r\n                Collectors.collectingAndThen(\r\n                        Collectors.maxBy(Comparator.comparing(Currency::getLastReceived)),\r\n                        Optional::get\r\n                )\r\n        ))\r\n        .values()\r\n        .stream()\r\n        .sorted(\r\n            Comparator.comparing(Currency::getLastReceived)\r\n                      .thenComparing(Currency::getName)\r\n        )\r\n        .collect(Collectors.toList());\r\n```\r\nor just by sorting the unsorted list:\r\n```java\r\nlastByDate.sort(\r\n    Comparator.comparing(Currency::getLastReceived)\r\n              .thenComparing(Currency::getName)\r\n);\r\n```\r\n----\r\nFor a specific currency (e.g. `USD`) the implementation should be changed slightly to include filtering by the currency name then a simpler key should be created in the map:\r\n```java\r\nList&lt;Currency&gt; lastUSDByDate = new ArrayList&lt;&gt;(data\r\n    .stream()\r\n    .filter(curr -&gt; &quot;USD&quot;.equalsIgnoreCase(curr.getName()))\r\n    .collect(Collectors.groupingBy(\r\n        curr -&gt; curr.getLastReceived().toLocalDate(),\r\n        Collectors.collectingAndThen(\r\n            Collectors.maxBy(Comparator.comparing(Currency::getLastReceived)),\r\n                Optional::get\r\n        )\r\n    ))\r\n    .values()\r\n);\r\nlastUSDByDate.sort(Comparator.comparing(Currency::getLastReceived));\r\n```\r\n----\r\nSimilar result may be achieved by building a native SQL query using a window function to get the most recent value per date.  JPA does not seem to support yet the window functions.\r\n\r\nAn example for PostgreSQL\r\n```java\r\n// some JPA CurrencyRepository\r\n@Query(nativeQuery = true, value = &quot;&quot;&quot;\r\n    SELECT id, name, last_received\r\n    FROM (\r\n        SELECT c.*,\r\n        ROW_NUMBER() OVER (\r\n            PARTITION BY name, to_char(last_received, &#39;yyyy-MM-dd&#39;)\r\n            ORDER BY last_received DESC\r\n        ) AS rr\r\n        FROM Currency c\r\n        WHERE c.name = :currName\r\n    ) tbl\r\n    WHERE rr = 1\r\n    ORDER BY last_received\r\n&quot;&quot;&quot;)\r\nList&lt;Currency&gt; findLastByDateByCurrencyName(@Param(&quot;currName&quot;) currName);\r\n```","title":"Retrieve all details with least timestamp using java 8","body":"<p>It appears that you should group by currency <strong>AND</strong> date and then select by maximal (most recent) timestamp, this results in a map, and then you can use the map's <code>values()</code> to build the list.</p>\n<p>So, a list of currency name and the date can be used as the key in the map, and <code>Collectors.collectingAndThen</code> is needed to convert the <code>Optional</code> result of <code>Collectors.maxBy</code> into the currency instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Currency&gt; lastByDate = new ArrayList&lt;&gt;(data\n        .stream() // Stream&lt;Currency&gt;\n        .collect(Collectors.groupingBy(\n            // key = List&lt;Serializable &amp; Comparable&lt;? extends Comparable&lt;?&gt;&gt;&gt;\n            curr -&gt; Arrays.asList(curr.getName(), curr.getLastReceived().toLocalDate()),\n            Collectors.collectingAndThen(\n                Collectors.maxBy(Comparator.comparing(Currency::getLastReceived)),\n                Optional::get // Optional&lt;Currency&gt; -&gt; Currency\n            )\n        )) // Map&lt;List&lt;...&gt;, Currency&gt;\n        .values()\n);\n</code></pre>\n<p>If a sorted list is required, it may be retrieved by sorting the stream of <code>values</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Currency&gt; sortedByDateAndCurr = data\n        .stream()\n        .collect(Collectors.groupingBy(\n                curr -&gt; Arrays.asList(curr.getName(), curr.getLastReceived().toLocalDate()),\n                Collectors.collectingAndThen(\n                        Collectors.maxBy(Comparator.comparing(Currency::getLastReceived)),\n                        Optional::get\n                )\n        ))\n        .values()\n        .stream()\n        .sorted(\n            Comparator.comparing(Currency::getLastReceived)\n                      .thenComparing(Currency::getName)\n        )\n        .collect(Collectors.toList());\n</code></pre>\n<p>or just by sorting the unsorted list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>lastByDate.sort(\n    Comparator.comparing(Currency::getLastReceived)\n              .thenComparing(Currency::getName)\n);\n</code></pre>\n<hr />\n<p>For a specific currency (e.g. <code>USD</code>) the implementation should be changed slightly to include filtering by the currency name then a simpler key should be created in the map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Currency&gt; lastUSDByDate = new ArrayList&lt;&gt;(data\n    .stream()\n    .filter(curr -&gt; &quot;USD&quot;.equalsIgnoreCase(curr.getName()))\n    .collect(Collectors.groupingBy(\n        curr -&gt; curr.getLastReceived().toLocalDate(),\n        Collectors.collectingAndThen(\n            Collectors.maxBy(Comparator.comparing(Currency::getLastReceived)),\n                Optional::get\n        )\n    ))\n    .values()\n);\nlastUSDByDate.sort(Comparator.comparing(Currency::getLastReceived));\n</code></pre>\n<hr />\n<p>Similar result may be achieved by building a native SQL query using a window function to get the most recent value per date.  JPA does not seem to support yet the window functions.</p>\n<p>An example for PostgreSQL</p>\n<pre class=\"lang-java prettyprint-override\"><code>// some JPA CurrencyRepository\n@Query(nativeQuery = true, value = &quot;&quot;&quot;\n    SELECT id, name, last_received\n    FROM (\n        SELECT c.*,\n        ROW_NUMBER() OVER (\n            PARTITION BY name, to_char(last_received, 'yyyy-MM-dd')\n            ORDER BY last_received DESC\n        ) AS rr\n        FROM Currency c\n        WHERE c.name = :currName\n    ) tbl\n    WHERE rr = 1\n    ORDER BY last_received\n&quot;&quot;&quot;)\nList&lt;Currency&gt; findLastByDateByCurrencyName(@Param(&quot;currName&quot;) currName);\n</code></pre>\n"}],"owner":{"account_id":10481981,"reputation":57,"user_id":7726732,"display_name":"Codinghubby"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74444761,"answer_count":1,"score":0,"last_activity_date":1668514387,"creation_date":1668507496,"question_id":74443943,"body_markdown":"Hello I working on a scenario, where I need the latest timestamp data based on Currency using Java 8. \r\n\r\nSuppose I&#39;m requesting for USD currency then I should get all USD data with Least timestamp for all date. \r\n\r\n    class Currency{\r\n       private Integer id;\r\n       private String name;\r\n       private LocalDateTime lastReceived;\r\n    }\r\n\r\nRecord In Database As below.\r\n\r\n    ID NAME  LAST_RECEIVED\r\n    -- ----  -------------\r\n    1  USD   18-MAY-22 09.04.01.545899000 AM\r\n    2  USD   18-MAY-22 08.04.01.545899000 AM\r\n    3  USD   19-MAY-22 08.04.01.545899000 AM\r\n    4  USD   20-MAY-22 08.04.01.545899000 AM\r\n    5  USD   20-MAY-22 11.04.01.545899000 AM\r\n    6  BUSD   18-MAY-22 08.04.01.545899000 AM\r\n    \r\n    Expected:\r\n    ID NAME  LAST_RECEIVED\r\n    -- ----  -------------\r\n    1  USD   18-MAY-22 09.04.01.545899000 AM\r\n    3  USD   19-MAY-22 08.04.01.545899000 AM\r\n    5  USD   20-MAY-22 11.04.01.545899000 AM\r\n\r\n\r\nI tried,\r\nSuppose I requested for USD Data,\r\n\r\n    List&lt;Currency&gt; listCurrency = repo.getAllDataBasedOnCurrency(&quot;USD&quot;);\r\n    \r\n    listCurrency.stream().sorted(Comparator.comparing(Currency::getLastReceived).reversed()).collect(Collectors.toList());\r\n    \r\n    // But here I want latest received Data for a single date.\r\n\r\n\r\n\r\n  ","title":"Retrieve all details with least timestamp using java 8","body":"<p>Hello I working on a scenario, where I need the latest timestamp data based on Currency using Java 8.</p>\n<p>Suppose I'm requesting for USD currency then I should get all USD data with Least timestamp for all date.</p>\n<pre><code>class Currency{\n   private Integer id;\n   private String name;\n   private LocalDateTime lastReceived;\n}\n</code></pre>\n<p>Record In Database As below.</p>\n<pre><code>ID NAME  LAST_RECEIVED\n-- ----  -------------\n1  USD   18-MAY-22 09.04.01.545899000 AM\n2  USD   18-MAY-22 08.04.01.545899000 AM\n3  USD   19-MAY-22 08.04.01.545899000 AM\n4  USD   20-MAY-22 08.04.01.545899000 AM\n5  USD   20-MAY-22 11.04.01.545899000 AM\n6  BUSD   18-MAY-22 08.04.01.545899000 AM\n\nExpected:\nID NAME  LAST_RECEIVED\n-- ----  -------------\n1  USD   18-MAY-22 09.04.01.545899000 AM\n3  USD   19-MAY-22 08.04.01.545899000 AM\n5  USD   20-MAY-22 11.04.01.545899000 AM\n</code></pre>\n<p>I tried,\nSuppose I requested for USD Data,</p>\n<pre><code>List&lt;Currency&gt; listCurrency = repo.getAllDataBasedOnCurrency(&quot;USD&quot;);\n\nlistCurrency.stream().sorted(Comparator.comparing(Currency::getLastReceived).reversed()).collect(Collectors.toList());\n\n// But here I want latest received Data for a single date.\n</code></pre>\n"},{"tags":["java","hashmap","iteration"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1668428050,"post_id":74431472,"comment_id":131394781,"body_markdown":"Of course that is possible, by writing the right code.","body":"Of course that is possible, by writing the right code."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668428191,"post_id":74431472,"comment_id":131394840,"body_markdown":"can you please explain how?","body":"can you please explain how?"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1668428242,"post_id":74431472,"comment_id":131394857,"body_markdown":"by learning Java","body":"by learning Java"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668428370,"post_id":74431472,"comment_id":131394894,"body_markdown":"@jwenting well I am currently learning sir, and I have also attempted to solve it.","body":"@jwenting well I am currently learning sir, and I have also attempted to solve it."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668428395,"post_id":74431472,"comment_id":131394903,"body_markdown":"I&#39;m just stuck at this bit, which is why I&#39;m asking","body":"I&#39;m just stuck at this bit, which is why I&#39;m asking"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668428443,"post_id":74431472,"comment_id":131394926,"body_markdown":"so what have you done to try to solve it? Personally, I &#39;m not even sure your solution would compile. check the size of the Map, then only get the items that are max half it&#39;s index","body":"so what have you done to try to solve it? Personally, I &#39;m not even sure your solution would compile. check the size of the Map, then only get the items that are max half it&#39;s index"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":2,"creation_date":1668428738,"post_id":74431472,"comment_id":131395027,"body_markdown":"Given that a `HashMap` is unordered you would first need to define &quot;half&quot;.  Your sample conveniently lists the map in an apparent order but that is not a result of the map.","body":"Given that a <code>HashMap</code> is unordered you would first need to define &quot;half&quot;.  Your sample conveniently lists the map in an apparent order but that is not a result of the map."},{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":0,"creation_date":1668428790,"post_id":74431472,"comment_id":131395050,"body_markdown":"Java doesn&#39;t allow you to directly divide a Set by 2. Once you have an ordered list of the map&#39;s entries, you&#39;ll need to iterate up to the index half-way through the map (.keySet().size()/2) and edit the values at this index","body":"Java doesn&#39;t allow you to directly divide a Set by 2. Once you have an ordered list of the map&#39;s entries, you&#39;ll need to iterate up to the index half-way through the map (.keySet().size()/2) and edit the values at this index"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1668428878,"post_id":74431472,"comment_id":131395082,"body_markdown":"Your title question is &quot;print half the map&quot;.  Therefore, (1) decide the criteria for printing an entry or not, (2) encode that decision in a &#39;if&#39; statement inside a loop through all map entries.","body":"Your title question is &quot;print half the map&quot;.  Therefore, (1) decide the criteria for printing an entry or not, (2) encode that decision in a &#39;if&#39; statement inside a loop through all map entries."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":2,"creation_date":1668428930,"post_id":74431472,"comment_id":131395097,"body_markdown":"But your example code, replacing values by &quot;-&quot;, has nothing at all to do with printing anything, so it&#39;s not really clear what you want.","body":"But your example code, replacing values by &quot;-&quot;, has nothing at all to do with printing anything, so it&#39;s not really clear what you want."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668429048,"post_id":74431472,"comment_id":131395135,"body_markdown":"I want to replace half of all the key&#39;s values with &quot;-&quot; instead of the values originally present","body":"I want to replace half of all the key&#39;s values with &quot;-&quot; instead of the values originally present"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668430003,"post_id":74431472,"comment_id":131395467,"body_markdown":"For map &#39;h&#39;: `Map&lt;String, String&gt; mNew = h.entrySet().stream().limit(h.entrySet().size()/2).collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; &quot;-&quot;));\n`","body":"For map &#39;h&#39;: <code>Map&lt;String, String&gt; mNew = h.entrySet().stream().limit(h.entrySet().size()&#47;2).collect(C&zwnj;&#8203;ollectors.toMap(e -&gt; e.getKey(), e -&gt; &quot;-&quot;)); </code>"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":3,"creation_date":1668432185,"post_id":74431472,"comment_id":131396219,"body_markdown":"The accepted answer is correct, but I&#39;m still left wondering what the point is.  Since HashMaps have no predictable iteration order, you&#39;re modifying an unpredictable set of entries.","body":"The accepted answer is correct, but I&#39;m still left wondering what the point is.  Since HashMaps have no predictable iteration order, you&#39;re modifying an unpredictable set of entries."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668432417,"post_id":74431472,"comment_id":131396301,"body_markdown":"Quite right. Maybe all will be revealed... ;)","body":"Quite right. Maybe all will be revealed... ;)"}],"answers":[{"tags":[],"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1668429185,"creation_date":1668429185,"answer_id":74431716,"question_id":74431472,"body_markdown":"You should do something like this:\r\n\r\n    int maxiterations = p.keySet().size() / 2;\r\n    Iterator&lt;String&gt; iterator = p.keySet().iterator();\r\n    for (int i=0; i &lt; maxiterations; i++) {\r\n        if (iterator.hasNext()) {\r\n            String key = iterator.next();\r\n            p.replace(key, &quot;-&quot;);\r\n        }\r\n    }\r\n\r\nOr\r\n\r\n    int iterations = p.keySet().size() / 2;\r\n    do {\r\n        if (iterator.hasNext()) {\r\n            p.replace(iterator.next(), &quot;-&quot;);\r\n        }\r\n    } while (--iterations &gt; 0);\r\n","title":"Is it possible to iterate through only half of the provided hashmap entries?","body":"<p>You should do something like this:</p>\n<pre><code>int maxiterations = p.keySet().size() / 2;\nIterator&lt;String&gt; iterator = p.keySet().iterator();\nfor (int i=0; i &lt; maxiterations; i++) {\n    if (iterator.hasNext()) {\n        String key = iterator.next();\n        p.replace(key, &quot;-&quot;);\n    }\n}\n</code></pre>\n<p>Or</p>\n<pre><code>int iterations = p.keySet().size() / 2;\ndo {\n    if (iterator.hasNext()) {\n        p.replace(iterator.next(), &quot;-&quot;);\n    }\n} while (--iterations &gt; 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7772811,"reputation":1523,"user_id":5881773,"accept_rate":0,"display_name":"Vipul Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668442030,"creation_date":1668429274,"answer_id":74431732,"question_id":74431472,"body_markdown":"you can learn from this \r\n ```\r\n    Map&lt;Integer, Integer&gt; map= new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            map.put(i,i);\r\n        }\r\n        int half=map.size()/2;\r\n        int count=0;\r\n        for (Map.Entry&lt;Integer,Integer&gt; cm: map.entrySet()) {\r\n            if (!((count++) &lt; half))) { // if my count is greater than half\r\n                System.out.println(cm.getKey() + &quot; &quot; + cm.getValue());\r\n            }\r\n        }\r\n```\r\nNow Evaluate and solve\r\n\r\nadd this else\r\n```\r\n         else{\r\n                System.out.println(cm.getKey() + &quot; _ &quot;);\r\n            }\r\n```","title":"Is it possible to iterate through only half of the provided hashmap entries?","body":"<p>you can learn from this</p>\n<pre><code>   Map&lt;Integer, Integer&gt; map= new HashMap&lt;&gt;();\n       for (int i = 0; i &lt; 10; i++) {\n           map.put(i,i);\n       }\n       int half=map.size()/2;\n       int count=0;\n       for (Map.Entry&lt;Integer,Integer&gt; cm: map.entrySet()) {\n           if (!((count++) &lt; half))) { // if my count is greater than half\n               System.out.println(cm.getKey() + &quot; &quot; + cm.getValue());\n           }\n       }\n</code></pre>\n<p>Now Evaluate and solve</p>\n<p>add this else</p>\n<pre><code>         else{\n                System.out.println(cm.getKey() + &quot; _ &quot;);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668431560,"creation_date":1668431560,"answer_id":74432208,"question_id":74431472,"body_markdown":"Another solution:\r\n\r\n    \tp.entrySet()\r\n\t\t\t.stream()\r\n\t\t\t.limit(p.size()/2)\r\n\t\t\t.forEach(e-&gt; e.setValue(&quot;-&quot;));","title":"Is it possible to iterate through only half of the provided hashmap entries?","body":"<p>Another solution:</p>\n<pre><code>    p.entrySet()\n        .stream()\n        .limit(p.size()/2)\n        .forEach(e-&gt; e.setValue(&quot;-&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11438398,"reputation":29,"user_id":8384918,"display_name":"AAG"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668433110,"creation_date":1668433110,"answer_id":74432553,"question_id":74431472,"body_markdown":"You may do something similar to:\r\n\r\n\r\n    String[] keys = capitalCities.keySet().toArray(new String[0]);\r\n\tfor(int i=0 ; i&lt;keys.length/2 ; i++)\r\n\t\t\tcapitalCities.put(keys[i],&quot;-&quot;);","title":"Is it possible to iterate through only half of the provided hashmap entries?","body":"<p>You may do something similar to:</p>\n<pre><code>String[] keys = capitalCities.keySet().toArray(new String[0]);\nfor(int i=0 ; i&lt;keys.length/2 ; i++)\n        capitalCities.put(keys[i],&quot;-&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668451110,"creation_date":1668451110,"answer_id":74436356,"question_id":74431472,"body_markdown":"another way to do that\r\n\r\n     public static void main(String[] args) {\r\n\r\n        HashMap&lt; String, String&gt; p = new HashMap&lt;&gt;();\r\n        p.put(&quot;A&quot;, &quot;100&quot;);\r\n        p.put(&quot;B&quot;, &quot;400&quot;);\r\n        p.put(&quot;C&quot;, &quot;600&quot;);\r\n        p.put(&quot;D&quot;, &quot;845&quot;);\r\n\r\n        int halfSize = (p.size() / 2)+1;\r\n\r\n        for(String key : p.keySet()){\r\n            halfSize =  halfSize-1;\r\n            if (halfSize == 0){\r\n                break;\r\n            }else{\r\n                p.replace(key, &quot;-&quot;);\r\n            }\r\n        }\r\n\r\n        for (String key : p.keySet()){\r\n            System.out.println(p.get(key));\r\n        }\r\n\r\n\r\n    }","title":"Is it possible to iterate through only half of the provided hashmap entries?","body":"<p>another way to do that</p>\n<pre><code> public static void main(String[] args) {\n\n    HashMap&lt; String, String&gt; p = new HashMap&lt;&gt;();\n    p.put(&quot;A&quot;, &quot;100&quot;);\n    p.put(&quot;B&quot;, &quot;400&quot;);\n    p.put(&quot;C&quot;, &quot;600&quot;);\n    p.put(&quot;D&quot;, &quot;845&quot;);\n\n    int halfSize = (p.size() / 2)+1;\n\n    for(String key : p.keySet()){\n        halfSize =  halfSize-1;\n        if (halfSize == 0){\n            break;\n        }else{\n            p.replace(key, &quot;-&quot;);\n        }\n    }\n\n    for (String key : p.keySet()){\n        System.out.println(p.get(key));\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":74431716,"answer_count":5,"score":0,"last_activity_date":1668514309,"creation_date":1668428000,"question_id":74431472,"body_markdown":"I have a `Hashmap&lt; String, String&gt; p` and I&#39;m trying to replace half of the values of the keys with &#39;-&#39;\r\nFor instance, lets say my current Hashmap has the following values\r\n\r\n    &quot;A&quot;, &quot;100&quot;\r\n    &quot;B&quot;, &quot;400&quot;\r\n    &quot;C&quot;, &quot;600&quot;\r\n    &quot;D&quot;, &quot;845&quot;\r\n\r\nI want to somehow manipulate only half (first two in this case) of the key of the values by changing their values from the provided integer to a &#39;-&#39;.\r\nSo it would look like this: \r\n\r\n        &quot;A&quot;, &quot;-&quot;\r\n        &quot;B&quot;, &quot;-&quot;\r\n        &quot;C&quot;, &quot;600&quot;\r\n        &quot;D&quot;, &quot;845&quot;\r\n\r\nI&#39;ve attempted this, but to no avail.\r\n\r\n    for (String i : p.keySet()/2) {\r\n      p.replace(i, &#39;-&#39;)\r\n    }\r\n\r\nIs there a way to do this? If yes, can you please explain how?","title":"Is it possible to iterate through only half of the provided hashmap entries?","body":"<p>I have a <code>Hashmap&lt; String, String&gt; p</code> and I'm trying to replace half of the values of the keys with '-'\nFor instance, lets say my current Hashmap has the following values</p>\n<pre><code>&quot;A&quot;, &quot;100&quot;\n&quot;B&quot;, &quot;400&quot;\n&quot;C&quot;, &quot;600&quot;\n&quot;D&quot;, &quot;845&quot;\n</code></pre>\n<p>I want to somehow manipulate only half (first two in this case) of the key of the values by changing their values from the provided integer to a '-'.\nSo it would look like this:</p>\n<pre><code>    &quot;A&quot;, &quot;-&quot;\n    &quot;B&quot;, &quot;-&quot;\n    &quot;C&quot;, &quot;600&quot;\n    &quot;D&quot;, &quot;845&quot;\n</code></pre>\n<p>I've attempted this, but to no avail.</p>\n<pre><code>for (String i : p.keySet()/2) {\n  p.replace(i, '-')\n}\n</code></pre>\n<p>Is there a way to do this? If yes, can you please explain how?</p>\n"},{"tags":["java","reactive-programming","mutiny","quarkus-reactive"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668513226,"creation_date":1668418070,"answer_id":74429434,"question_id":74429274,"body_markdown":"`.subscribe().with(System.out::println);` is asynchronous, if you don&#39;t add some check to make sure that the stream is over, the program will exit before the first result is available.\r\n\r\nI usually work with [Vert.x unit][1]:\r\n```java\r\n\t@Test\r\n\tpublic void test(TestContext context) {\r\n\t\tRandom random = new Random();\r\n        // This is only used to signal the test\r\n        // when the stream is terminated\r\n\t\tAsync async = context.async();\r\n\r\n\t\tUni.createFrom()\r\n\t\t\t\t.item( List.of( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ) )\r\n\t\t\t\t// Convert the Uni&lt;List&lt;String&gt;&gt; into a Multi&lt;String&gt;\r\n\t\t\t\t.onItem().transformToMulti( Multi.createFrom()::iterable )\r\n\t\t\t\t.onItem().transformToUniAndMerge( s -&gt;\r\n\t\t\t\t\t\t  // You can create a uni the way you prefer\r\n\t\t\t\t\t\t  Uni.createFrom().item( s )\r\n\t\t\t\t\t\t\t\t  // Add some random duration\r\n\t\t\t\t\t\t\t\t  .onItem().delayIt().by( Duration.ofMillis( (random.nextInt(5) + 1) * 1000 ) )\r\n\t\t\t\t)\r\n                // End the test only when the stream has terminated\r\n\t\t\t\t.onTermination().invoke( (throwable, aBoolean) -&gt; {\r\n\t\t\t\t\tif (throwable != null ) {\r\n\t\t\t\t\t\tcontext.fail(throwable);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tasync.complete();\r\n\t\t\t\t\t}\r\n\t\t\t\t} )\r\n\t\t\t\t.subscribe()\r\n\t\t\t\t.with( s -&gt; System.out.println(&quot;Printing: &quot; + s) );\r\n\t}\r\n```\r\na while-loop should work as well.\r\n\r\nOr, you could collect the results:\r\n```\r\n\t\tRandom random = new Random();\r\n\t\tUni.createFrom()\r\n\t\t\t\t.item( List.of( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ) )\r\n\t\t\t\t// Convert the Uni&lt;List&lt;String&gt;&gt; into a Multi&lt;String&gt;\r\n\t\t\t\t.onItem().transformToMulti( Multi.createFrom()::iterable )\r\n\t\t\t\t.onItem().transformToUniAndMerge( s -&gt; {\r\n\t\t\t\t \t      final int duration = (random.nextInt( 5 ) + 1) * 1000;\r\n\t\t\t\t\t\t  // You can create a uni the way you prefer\r\n\t\t\t\t\t\t  return Uni.createFrom().item( s )\r\n\t\t\t\t\t\t\t\t  // Add some random duration\r\n\t\t\t\t\t\t\t\t  .onItem().delayIt().by( Duration.ofMillis( duration ) )\r\n\t\t\t\t\t\t\t\t  .invoke( () -&gt; System.out.println(&quot;Letter: &quot; + s + &quot;, duration in ms: &quot; + duration) );\r\n\t\t\t\t} )\r\n\t\t\t\t.onItem().invoke( s -&gt; System.out.println(&quot;Printing: &quot; + s) )\r\n\t\t\t\t.collect().asList().await().indefinitely();\r\n```\r\n\r\n  [1]: https://vertx.io/docs/vertx-unit/java/#_junit_integration","title":"Process items in Uni&lt;List&gt; asynchronously","body":"<p><code>.subscribe().with(System.out::println);</code> is asynchronous, if you don't add some check to make sure that the stream is over, the program will exit before the first result is available.</p>\n<p>I usually work with <a href=\"https://vertx.io/docs/vertx-unit/java/#_junit_integration\" rel=\"nofollow noreferrer\">Vert.x unit</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test(TestContext context) {\n        Random random = new Random();\n        // This is only used to signal the test\n        // when the stream is terminated\n        Async async = context.async();\n\n        Uni.createFrom()\n                .item( List.of( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ) )\n                // Convert the Uni&lt;List&lt;String&gt;&gt; into a Multi&lt;String&gt;\n                .onItem().transformToMulti( Multi.createFrom()::iterable )\n                .onItem().transformToUniAndMerge( s -&gt;\n                          // You can create a uni the way you prefer\n                          Uni.createFrom().item( s )\n                                  // Add some random duration\n                                  .onItem().delayIt().by( Duration.ofMillis( (random.nextInt(5) + 1) * 1000 ) )\n                )\n                // End the test only when the stream has terminated\n                .onTermination().invoke( (throwable, aBoolean) -&gt; {\n                    if (throwable != null ) {\n                        context.fail(throwable);\n                    }\n                    else {\n                        async.complete();\n                    }\n                } )\n                .subscribe()\n                .with( s -&gt; System.out.println(&quot;Printing: &quot; + s) );\n    }\n</code></pre>\n<p>a while-loop should work as well.</p>\n<p>Or, you could collect the results:</p>\n<pre><code>        Random random = new Random();\n        Uni.createFrom()\n                .item( List.of( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ) )\n                // Convert the Uni&lt;List&lt;String&gt;&gt; into a Multi&lt;String&gt;\n                .onItem().transformToMulti( Multi.createFrom()::iterable )\n                .onItem().transformToUniAndMerge( s -&gt; {\n                          final int duration = (random.nextInt( 5 ) + 1) * 1000;\n                          // You can create a uni the way you prefer\n                          return Uni.createFrom().item( s )\n                                  // Add some random duration\n                                  .onItem().delayIt().by( Duration.ofMillis( duration ) )\n                                  .invoke( () -&gt; System.out.println(&quot;Letter: &quot; + s + &quot;, duration in ms: &quot; + duration) );\n                } )\n                .onItem().invoke( s -&gt; System.out.println(&quot;Printing: &quot; + s) )\n                .collect().asList().await().indefinitely();\n</code></pre>\n"}],"owner":{"account_id":4730095,"reputation":3443,"user_id":3825989,"accept_rate":67,"display_name":"isADon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74429434,"answer_count":1,"score":1,"last_activity_date":1668513226,"creation_date":1668417242,"question_id":74429274,"body_markdown":"I have a Uni&lt;List&gt;\r\n\r\n    Uni&lt;List&lt;String&gt;&gt; list = Uni.createFrom().item(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n\r\nI would like to map each item in this list to a new Uni and then process them asynchronously.\r\n\r\nI have tried following:\r\n\r\n\r\n```java\r\nlist.map(strings -&gt; strings.stream().map(this::processItem).toList())\r\n                .flatMap(unis -&gt; Uni.join().all(unis).andCollectFailures())\r\n                .subscribe()\r\n                .with(System.out::println);\r\n\r\n    private Future&lt;String&gt; process(String s) {\r\n        return executor.submit(() -&gt; {\r\n            System.out.println(&quot;start &quot; + s);\r\n            Thread.sleep(5000);\r\n            System.out.println(&quot;end &quot; + s);\r\n            return s;\r\n        });\r\n    }\r\n\r\n    private Uni&lt;Void&gt; processItem(String item) {\r\n        return Uni.createFrom().future(process(item))\r\n                .replaceWithVoid();\r\n    }\r\n```\r\n\r\nHowever, this only processes the first element of the list. How can I map a Uni&lt;List&gt; to a List&lt;Uni&gt; and process each Uni asynchronously? \r\n","title":"Process items in Uni&lt;List&gt; asynchronously","body":"<p>I have a Uni</p>\n<pre><code>Uni&lt;List&lt;String&gt;&gt; list = Uni.createFrom().item(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\n</code></pre>\n<p>I would like to map each item in this list to a new Uni and then process them asynchronously.</p>\n<p>I have tried following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.map(strings -&gt; strings.stream().map(this::processItem).toList())\n                .flatMap(unis -&gt; Uni.join().all(unis).andCollectFailures())\n                .subscribe()\n                .with(System.out::println);\n\n    private Future&lt;String&gt; process(String s) {\n        return executor.submit(() -&gt; {\n            System.out.println(&quot;start &quot; + s);\n            Thread.sleep(5000);\n            System.out.println(&quot;end &quot; + s);\n            return s;\n        });\n    }\n\n    private Uni&lt;Void&gt; processItem(String item) {\n        return Uni.createFrom().future(process(item))\n                .replaceWithVoid();\n    }\n</code></pre>\n<p>However, this only processes the first element of the list. How can I map a Uni to a List and process each Uni asynchronously?</p>\n"},{"tags":["java","mongodb","aws-lambda","concurrency","mongo-java-driver"],"owner":{"account_id":6135208,"reputation":37,"user_id":4784299,"display_name":"Lorenzo Valente"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668513198,"creation_date":1668440680,"question_id":74434310,"body_markdown":"I&#39;m working on an `event` collection, where each document is modeled like so:\r\n\r\n```\r\n{\r\n&quot;event_name&quot;: &quot;John Doe Concert&quot;,\r\n&quot;event_date&quot;: &quot;2022-01-01&quot;\r\n&quot;ticket_types&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Front seats&quot;,\r\n      &quot;total&quot;: 50 (we&#39;ll call this `oldTotal1`),\r\n      &quot;available&quot;: 25 (we&#39;ll call this `oldAvailable1`)\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Back seats&quot;,\r\n      &quot;total&quot;: 100 (we&#39;ll call this `oldTotal2`),\r\n      &quot;available&quot;: 50 (we&#39;ll call this `oldAvailable2`)\r\n    }\r\n]\r\n}\r\n```\r\n\r\nSuppose I have a REST API supporting a PUT endpoint which accepts a payload like this:\r\n\r\n```\r\n{\r\n&quot;event_name&quot;: &quot;Jane Doe Concert&quot;,\r\n&quot;event_date&quot;: &quot;2022-02-02&quot;\r\n&quot;ticket_types&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Front seats&quot;,\r\n      &quot;total&quot;: 100 (we&#39;ll call this `newTotal1`),\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Back seats&quot;,\r\n      &quot;total&quot;: 150 (we&#39;ll call this `newTotal2`),\r\n    }\r\n]\r\n}\r\n```\r\n\r\nAs you can see, I&#39;m looking to update the document (doesn&#39;t matter if it&#39;s update or replace as long as the operation is atomic on a document level). For each element `i` in the `ticket_types` array in the payload, we can assume `newTotal[i] &gt;= oldTotal[i]` \r\n\r\nThe way I&#39;d like my document to look like after the update:\r\n\r\n```\r\n{\r\n&quot;event_name&quot;: &quot;Jane Doe Concert&quot;,\r\n&quot;event_date&quot;: &quot;2022-02-02&quot;\r\n&quot;ticket_types&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Front seats&quot;,\r\n      &quot;total&quot;: 100 (the value of `newTotal1`),\r\n      &quot;available&quot;: 75 (the value of `oldAvailable1` + `newTotal1` - `oldTotal1`)\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Back seats&quot;,\r\n      &quot;total&quot;: 150 (the value of `newTotal2`),\r\n      &quot;available&quot;: 100 (the value of `oldAvailable2` + `newTotal2` - `oldTotal2`)\r\n    }\r\n]\r\n}\r\n```\r\n\r\nThe problem I&#39;m having is that I would like to perform the calculations of the resulting values of `total` and `available` exclusively through Mongo&#39;s `findAndUpdate` operation (without fetching the document first and doing the changes via Java code after so to speak). This is because the environment the code is run in is AWS Lambda, so I don&#39;t think I can rely on any locking mechanism other than the DB&#39;s own mechanisms, nor would I want to touch MongoDB&#39;s Transaction API.\r\n\r\n\r\n\r\nMy attempt so far:\r\n\r\n```\r\nfinal Document result = collection.findOneAndUpdate(query, Updates.combine(\r\n    Updates.set(&quot;event_name&quot;, request.getEventName()),\r\n    Updates.set(&quot;event_date&quot;, request.getDate().toString()),\r\n   // please help me!\r\n    Updates.set(&quot;ticket_types.$[elem].total&quot;, ...)\r\n    Updates.set(&quot;ticket_types.$[elem].available&quot;, ...)\r\n```\r\n\r\nJavascript equivalent should be:\r\n\r\n```\r\ndb.getCollection(&quot;events&quot;).updateOne({name: &#39;John Doe Concert&#39;},\r\n {\r\n     $set: {\r\n         &quot;ticket_types.$[first].total&quot;: 1000,\r\n         &quot;ticket_types.$[first].available&quot;:  &quot;ticket_types.$[first].available&quot; + 1000 - &quot;ticket_types.$[first].total&quot;,\r\n          &quot;ticket_types.$[second].total&quot;: 2000,\r\n         &quot;ticket_types.$[second].available&quot;:  &quot;ticket_types.$[second].available&quot; + 2000 - &quot;ticket_types.$[second].total&quot; \r\n     }\r\n    \r\n },\r\n{ \r\n    arrayFilters: [  \r\n                 { &quot;first.name&quot;: &quot;Front seats&quot; },\r\n                 { &quot;second.name&quot;: &quot;Back seats&quot; }     \r\n    ]\r\n}\r\n)\r\n```\r\n\r\nEdit: The goal is to update the data doing calculation using existing attributes. I feel it&#39;s possible to achieve this using an update aggregation pipeline.\r\n\r\nI am using DocumentDB 4.0 with application layer written in Java \r\n\r\nThanks\r\n\r\n","title":"mongo-java-driver update each item of array field belonging to document applying some conditional logic","body":"<p>I'm working on an <code>event</code> collection, where each document is modeled like so:</p>\n<pre><code>{\n&quot;event_name&quot;: &quot;John Doe Concert&quot;,\n&quot;event_date&quot;: &quot;2022-01-01&quot;\n&quot;ticket_types&quot;: [\n    {\n      &quot;name&quot;: &quot;Front seats&quot;,\n      &quot;total&quot;: 50 (we'll call this `oldTotal1`),\n      &quot;available&quot;: 25 (we'll call this `oldAvailable1`)\n    },\n    {\n      &quot;name&quot;: &quot;Back seats&quot;,\n      &quot;total&quot;: 100 (we'll call this `oldTotal2`),\n      &quot;available&quot;: 50 (we'll call this `oldAvailable2`)\n    }\n]\n}\n</code></pre>\n<p>Suppose I have a REST API supporting a PUT endpoint which accepts a payload like this:</p>\n<pre><code>{\n&quot;event_name&quot;: &quot;Jane Doe Concert&quot;,\n&quot;event_date&quot;: &quot;2022-02-02&quot;\n&quot;ticket_types&quot;: [\n    {\n      &quot;name&quot;: &quot;Front seats&quot;,\n      &quot;total&quot;: 100 (we'll call this `newTotal1`),\n    },\n    {\n      &quot;name&quot;: &quot;Back seats&quot;,\n      &quot;total&quot;: 150 (we'll call this `newTotal2`),\n    }\n]\n}\n</code></pre>\n<p>As you can see, I'm looking to update the document (doesn't matter if it's update or replace as long as the operation is atomic on a document level). For each element <code>i</code> in the <code>ticket_types</code> array in the payload, we can assume <code>newTotal[i] &gt;= oldTotal[i]</code></p>\n<p>The way I'd like my document to look like after the update:</p>\n<pre><code>{\n&quot;event_name&quot;: &quot;Jane Doe Concert&quot;,\n&quot;event_date&quot;: &quot;2022-02-02&quot;\n&quot;ticket_types&quot;: [\n    {\n      &quot;name&quot;: &quot;Front seats&quot;,\n      &quot;total&quot;: 100 (the value of `newTotal1`),\n      &quot;available&quot;: 75 (the value of `oldAvailable1` + `newTotal1` - `oldTotal1`)\n    },\n    {\n      &quot;name&quot;: &quot;Back seats&quot;,\n      &quot;total&quot;: 150 (the value of `newTotal2`),\n      &quot;available&quot;: 100 (the value of `oldAvailable2` + `newTotal2` - `oldTotal2`)\n    }\n]\n}\n</code></pre>\n<p>The problem I'm having is that I would like to perform the calculations of the resulting values of <code>total</code> and <code>available</code> exclusively through Mongo's <code>findAndUpdate</code> operation (without fetching the document first and doing the changes via Java code after so to speak). This is because the environment the code is run in is AWS Lambda, so I don't think I can rely on any locking mechanism other than the DB's own mechanisms, nor would I want to touch MongoDB's Transaction API.</p>\n<p>My attempt so far:</p>\n<pre><code>final Document result = collection.findOneAndUpdate(query, Updates.combine(\n    Updates.set(&quot;event_name&quot;, request.getEventName()),\n    Updates.set(&quot;event_date&quot;, request.getDate().toString()),\n   // please help me!\n    Updates.set(&quot;ticket_types.$[elem].total&quot;, ...)\n    Updates.set(&quot;ticket_types.$[elem].available&quot;, ...)\n</code></pre>\n<p>Javascript equivalent should be:</p>\n<pre><code>db.getCollection(&quot;events&quot;).updateOne({name: 'John Doe Concert'},\n {\n     $set: {\n         &quot;ticket_types.$[first].total&quot;: 1000,\n         &quot;ticket_types.$[first].available&quot;:  &quot;ticket_types.$[first].available&quot; + 1000 - &quot;ticket_types.$[first].total&quot;,\n          &quot;ticket_types.$[second].total&quot;: 2000,\n         &quot;ticket_types.$[second].available&quot;:  &quot;ticket_types.$[second].available&quot; + 2000 - &quot;ticket_types.$[second].total&quot; \n     }\n    \n },\n{ \n    arrayFilters: [  \n                 { &quot;first.name&quot;: &quot;Front seats&quot; },\n                 { &quot;second.name&quot;: &quot;Back seats&quot; }     \n    ]\n}\n)\n</code></pre>\n<p>Edit: The goal is to update the data doing calculation using existing attributes. I feel it's possible to achieve this using an update aggregation pipeline.</p>\n<p>I am using DocumentDB 4.0 with application layer written in Java</p>\n<p>Thanks</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668513089,"creation_date":1606676564,"answer_id":65063974,"question_id":65061763,"body_markdown":"[flatMap]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/requests/RestAction.html#flatMap(java.util.function.Function)\r\n\r\n**Update:** You have to wrap the emoji using `Emoji.fromUnicode` in JDA 5. So the new code is `message.addReaction(Emoji.fromUnicode(&quot;✔&quot;))`.\r\n\r\n---\r\n\r\nYou can use [flatMap][flatMap]:\r\n\r\n```java\r\nevent.getChannel().sendMessage(announcementFormat)\r\n     .flatMap(message -&gt; message.addReaction(&quot;✔&quot;))\r\n     .queue();\r\n```\r\n\r\nInstead of `event.reply(announcementFormat)`.\r\n\r\nYour code currently tries to add a reaction to the message sent by the user rather than the message sent by your bot. However, that message was already deleted at that point which is why you get an `Unknown Message` error.","title":"JDA Discord Add Reaction To Message","body":"<p><strong>Update:</strong> You have to wrap the emoji using <code>Emoji.fromUnicode</code> in JDA 5. So the new code is <code>message.addReaction(Emoji.fromUnicode(&quot;✔&quot;))</code>.</p>\n<hr />\n<p>You can use <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/requests/RestAction.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\">flatMap</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>event.getChannel().sendMessage(announcementFormat)\n     .flatMap(message -&gt; message.addReaction(&quot;✔&quot;))\n     .queue();\n</code></pre>\n<p>Instead of <code>event.reply(announcementFormat)</code>.</p>\n<p>Your code currently tries to add a reaction to the message sent by the user rather than the message sent by your bot. However, that message was already deleted at that point which is why you get an <code>Unknown Message</code> error.</p>\n"}],"owner":{"display_name":"user13506987"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1516,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65063974,"answer_count":1,"score":2,"last_activity_date":1668513089,"creation_date":1606663530,"question_id":65061763,"body_markdown":"I have problem when I try to add reaction to message send by the bot. Here is my code and the problem I get when I try to add reaction.\r\n\r\nThe idea is simple. Just a poll command send by the bot + add reaction to it like thumbs up and thumbs down for example :\r\n\r\n&quot; $poll This Is Example Poll &quot; and after this poll got created, add the reactions\r\n\r\nCODE -\r\n```\r\n    @Override\r\n    protected void execute(CommandEvent event) {\r\n        if (this.check(event)) {\r\n            return;\r\n        }\r\n\r\n        var args = event.getArgs().trim();\r\n        if (args.isEmpty()) {\r\n            this.incorrectUsage(event);\r\n            return;\r\n        }\r\n\r\n        var announcementFormat = this.getConfig().getMessages().get(&quot;pool-format&quot;)\r\n                .replaceAll(&quot;%message&quot;, args);\r\n\r\n\r\n        event.reply(announcementFormat);\r\n        event.getMessage().addReaction(&quot;✔&quot;).queue();\r\n    }\r\n```\r\n\r\nERROR -\r\n\r\n```\r\nERROR net.dv8tion.jda.api.requests.RestAction - RestAction queue returned failure: [ErrorResponseException] 10008: Unknown Message\r\nnet.dv8tion.jda.api.exceptions.ContextException\r\n        at net.dv8tion.jda.api.exceptions.ContextException.here(ContextException.java:54)\r\n        at net.dv8tion.jda.api.requests.Request.&lt;init&gt;(Request.java:71)\r\n        at net.dv8tion.jda.internal.requests.RestActionImpl.queue(RestActionImpl.java:197)\r\n        at net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:563)\r\n        at net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:529)\r\n        at cf.lionsquad.lionminus.command.impl.PollCommand.execute(PollCommand.java:48)\r\n        at com.jagrosh.jdautilities.command.Command.run(Command.java:323)\r\n        at com.jagrosh.jdautilities.command.impl.CommandClientImpl.onMessageReceived(CommandClientImpl.java:557)\r\n        at com.jagrosh.jdautilities.command.impl.CommandClientImpl.onEvent(CommandClientImpl.java:445)\r\n        at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:82)\r\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:69)\r\n        at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:150)\r\n        at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:122)\r\n        at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:948)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:835)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:813)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:986)\r\n        at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n        at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n        at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n        at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n        at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n        at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n        at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\r\n```","title":"JDA Discord Add Reaction To Message","body":"<p>I have problem when I try to add reaction to message send by the bot. Here is my code and the problem I get when I try to add reaction.</p>\n<p>The idea is simple. Just a poll command send by the bot + add reaction to it like thumbs up and thumbs down for example :</p>\n<p>&quot; $poll This Is Example Poll &quot; and after this poll got created, add the reactions</p>\n<p>CODE -</p>\n<pre><code>    @Override\n    protected void execute(CommandEvent event) {\n        if (this.check(event)) {\n            return;\n        }\n\n        var args = event.getArgs().trim();\n        if (args.isEmpty()) {\n            this.incorrectUsage(event);\n            return;\n        }\n\n        var announcementFormat = this.getConfig().getMessages().get(&quot;pool-format&quot;)\n                .replaceAll(&quot;%message&quot;, args);\n\n\n        event.reply(announcementFormat);\n        event.getMessage().addReaction(&quot;✔&quot;).queue();\n    }\n</code></pre>\n<p>ERROR -</p>\n<pre><code>ERROR net.dv8tion.jda.api.requests.RestAction - RestAction queue returned failure: [ErrorResponseException] 10008: Unknown Message\nnet.dv8tion.jda.api.exceptions.ContextException\n        at net.dv8tion.jda.api.exceptions.ContextException.here(ContextException.java:54)\n        at net.dv8tion.jda.api.requests.Request.&lt;init&gt;(Request.java:71)\n        at net.dv8tion.jda.internal.requests.RestActionImpl.queue(RestActionImpl.java:197)\n        at net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:563)\n        at net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:529)\n        at cf.lionsquad.lionminus.command.impl.PollCommand.execute(PollCommand.java:48)\n        at com.jagrosh.jdautilities.command.Command.run(Command.java:323)\n        at com.jagrosh.jdautilities.command.impl.CommandClientImpl.onMessageReceived(CommandClientImpl.java:557)\n        at com.jagrosh.jdautilities.command.impl.CommandClientImpl.onEvent(CommandClientImpl.java:445)\n        at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:82)\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:69)\n        at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:150)\n        at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:122)\n        at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:948)\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:835)\n        at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:813)\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:986)\n        at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n        at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n        at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n        at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n        at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n        at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n        at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n</code></pre>\n"},{"tags":["java","swagger","dropwizard"],"comments":[{"owner":{"account_id":8538075,"reputation":65,"user_id":6399069,"display_name":"Mooner_guo"},"score":0,"creation_date":1689231704,"post_id":74445103,"comment_id":135184632,"body_markdown":"Swagger 2 does not seem to be possible","body":"Swagger 2 does not seem to be possible"}],"owner":{"account_id":17098341,"reputation":612,"user_id":12372860,"display_name":"Steffen Bobek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668512774,"creation_date":1668512774,"question_id":74445103,"body_markdown":"In a Dropwizard application with Swagger 2 interface descriptions, I get the following output in the ```swagger.json``` file for an object with an Enum type property.\r\n\r\n```json\r\n{\r\n  &quot;swagger&quot; : &quot;2.0&quot;,\r\n  &quot;definitions&quot; : {\r\n    &quot;Thing&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;color&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;,\r\n          &quot;enum&quot; : [ &quot;BLUE&quot;, &quot;GREEN&quot;, &quot;RED&quot;, &quot;YELLOW&quot; ]\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe enum ```Color``` mentioned in the above example is exposed as type ```string```. However, I would like it to be a reused ref, so something like this:\r\n\r\n```json\r\n{\r\n  &quot;swagger&quot; : &quot;2.0&quot;,\r\n  &quot;definitions&quot; : {\r\n    &quot;Color&quot; : {\r\n      &quot;type&quot; : &quot;string&quot;,\r\n      &quot;enum&quot; : [ &quot;BLUE&quot;, &quot;GREEN&quot;, &quot;RED&quot;, &quot;YELLOW&quot; ]\r\n    },\r\n    &quot;Thing&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;color&quot; : {\r\n          &quot;$ref&quot; : &quot;#/definitions/Color&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nFor OpenAPI 3 there is a [solution][1]: Just add the annotation ```@Schema(enumAsRef = true)``` on the defining enum. Is there something comparable in Swagger 2 so that I get the above output? Or do I need to migrate to OpenAPI 3?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57079808","title":"How to generate reusable ref for enum in Java Swagger 2","body":"<p>In a Dropwizard application with Swagger 2 interface descriptions, I get the following output in the <code>swagger.json</code> file for an object with an Enum type property.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;swagger&quot; : &quot;2.0&quot;,\n  &quot;definitions&quot; : {\n    &quot;Thing&quot; : {\n      &quot;type&quot; : &quot;object&quot;,\n      &quot;properties&quot; : {\n        &quot;color&quot; : {\n          &quot;type&quot; : &quot;string&quot;,\n          &quot;enum&quot; : [ &quot;BLUE&quot;, &quot;GREEN&quot;, &quot;RED&quot;, &quot;YELLOW&quot; ]\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>The enum <code>Color</code> mentioned in the above example is exposed as type <code>string</code>. However, I would like it to be a reused ref, so something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;swagger&quot; : &quot;2.0&quot;,\n  &quot;definitions&quot; : {\n    &quot;Color&quot; : {\n      &quot;type&quot; : &quot;string&quot;,\n      &quot;enum&quot; : [ &quot;BLUE&quot;, &quot;GREEN&quot;, &quot;RED&quot;, &quot;YELLOW&quot; ]\n    },\n    &quot;Thing&quot; : {\n      &quot;type&quot; : &quot;object&quot;,\n      &quot;properties&quot; : {\n        &quot;color&quot; : {\n          &quot;$ref&quot; : &quot;#/definitions/Color&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>For OpenAPI 3 there is a <a href=\"https://stackoverflow.com/questions/57079808\">solution</a>: Just add the annotation <code>@Schema(enumAsRef = true)</code> on the defining enum. Is there something comparable in Swagger 2 so that I get the above output? Or do I need to migrate to OpenAPI 3?</p>\n"},{"tags":["java","hadoop","google-cloud-storage","hdfs","google-cloud-dataproc"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1669302559,"post_id":74445091,"comment_id":131617935,"body_markdown":"Hi @Selim Alawwa, can you provide the sample code which you have tried?","body":"Hi @Selim Alawwa, can you provide the sample code which you have tried?"},{"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"score":0,"creation_date":1669545616,"post_id":74445091,"comment_id":131661289,"body_markdown":"@ShipraSarkar the code is simply executing `fs.delete(path, recursively);` on some gcs path i.e &quot;gcs://some-path&quot; passing recursively as true. The result of this returns `false` even when the file is actually deleted at the bucket","body":"@ShipraSarkar the code is simply executing <code>fs.delete(path, recursively);</code> on some gcs path i.e &quot;gcs://some-path&quot; passing recursively as true. The result of this returns <code>false</code> even when the file is actually deleted at the bucket"},{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1669718911,"post_id":74445091,"comment_id":131701386,"body_markdown":"Hi @Selim Alawwa, could you clarify where are you running your Java application and how you are using hadoop in your application?","body":"Hi @Selim Alawwa, could you clarify where are you running your Java application and how you are using hadoop in your application?"},{"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"score":0,"creation_date":1669892746,"post_id":74445091,"comment_id":131748474,"body_markdown":"It is a Java application, the same can be applied with a unit tests. Hadoop using hadoop jars 3.2.0","body":"It is a Java application, the same can be applied with a unit tests. Hadoop using hadoop jars 3.2.0"},{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1669984935,"post_id":74445091,"comment_id":131773031,"body_markdown":"Hi @Selim Alawwa, It appears that this issue has to be investigated further, so if you have a support plan please create a new [GCP support case](https://cloud.google.com/support/). Otherwise, you can open a new issue on the [Issue tracker](https://cloud.google.com/support/docs/issue-trackers).","body":"Hi @Selim Alawwa, It appears that this issue has to be investigated further, so if you have a support plan please create a new <a href=\"https://cloud.google.com/support/\" rel=\"nofollow noreferrer\">GCP support case</a>. Otherwise, you can open a new issue on the <a href=\"https://cloud.google.com/support/docs/issue-trackers\" rel=\"nofollow noreferrer\">Issue tracker</a>."},{"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"score":0,"creation_date":1670324587,"post_id":74445091,"comment_id":131845086,"body_markdown":"@ShipraSarkar I have created this issue: https://issuetracker.google.com/issues/259972867 from 2 weeks and nobody responded","body":"@ShipraSarkar I have created this issue: <a href=\"https://issuetracker.google.com/issues/259972867\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/259972867</a> from 2 weeks and nobody responded"}],"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668512737,"creation_date":1668512737,"question_id":74445091,"body_markdown":"In my Java application I have an implementation for a file-system, where my file class is a wrapper for Hadoop filesystem methods. I am upgrading the from [hadoop3-1.9.17][1] to [hadoop3-2.2.8][2] and I am using the [shaded jar][3] of the new version.\r\n\r\nMy delete method implementation is as follows:\r\n\r\n    @Override\r\n    public boolean delete(boolean recursively) {\r\n        return fs.delete(path, recursively);\r\n    }\r\n\r\nWhere fs is an instance of `org.apache.hadoop.fs.FileSystem` so this method calls `org.apache.hadoop.fs.FileSystem.delete(Path, boolean)`\r\n\r\nFrequently when calling the above delete method on a directory which contains files it returns `false` &#39;meaning dir/file NOT deleted&#39; however when checking the directory is actually deleted at Google Cloud Storage.\r\n\r\nIs there a change in the upgraded GCS connector causing this (caching of file-status i.e) or is there a configuration to fix this issue?\r\n\r\nThis is causing performance issues in my application since when a delete returns false retry / extra operations are done without being needed. \r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.cloud.bigdataoss/gcs-connector/hadoop3-1.9.17\r\n  [2]: https://mvnrepository.com/artifact/com.google.cloud.bigdataoss/gcs-connector/hadoop3-2.2.8\r\n  [3]: https://repo1.maven.org/maven2/com/google/cloud/bigdataoss/gcs-connector/hadoop3-2.2.8/gcs-connector-hadoop3-2.2.8-shaded.jar","title":"GCS Connector Hadoop3 hadoop3-2.2.8 FileSystem.delete returns false but file/dir is actually deleted","body":"<p>In my Java application I have an implementation for a file-system, where my file class is a wrapper for Hadoop filesystem methods. I am upgrading the from <a href=\"https://mvnrepository.com/artifact/com.google.cloud.bigdataoss/gcs-connector/hadoop3-1.9.17\" rel=\"nofollow noreferrer\">hadoop3-1.9.17</a> to <a href=\"https://mvnrepository.com/artifact/com.google.cloud.bigdataoss/gcs-connector/hadoop3-2.2.8\" rel=\"nofollow noreferrer\">hadoop3-2.2.8</a> and I am using the <a href=\"https://repo1.maven.org/maven2/com/google/cloud/bigdataoss/gcs-connector/hadoop3-2.2.8/gcs-connector-hadoop3-2.2.8-shaded.jar\" rel=\"nofollow noreferrer\">shaded jar</a> of the new version.</p>\n<p>My delete method implementation is as follows:</p>\n<pre><code>@Override\npublic boolean delete(boolean recursively) {\n    return fs.delete(path, recursively);\n}\n</code></pre>\n<p>Where fs is an instance of <code>org.apache.hadoop.fs.FileSystem</code> so this method calls <code>org.apache.hadoop.fs.FileSystem.delete(Path, boolean)</code></p>\n<p>Frequently when calling the above delete method on a directory which contains files it returns <code>false</code> 'meaning dir/file NOT deleted' however when checking the directory is actually deleted at Google Cloud Storage.</p>\n<p>Is there a change in the upgraded GCS connector causing this (caching of file-status i.e) or is there a configuration to fix this issue?</p>\n<p>This is causing performance issues in my application since when a delete returns false retry / extra operations are done without being needed.</p>\n"},{"tags":["java","java.util.scanner","filereader"],"comments":[{"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"score":1,"creation_date":1668475123,"post_id":74439647,"comment_id":131409251,"body_markdown":"Could you please clarify the question - perhaps some sample input..?  Is your file format separated by a &#39; &#39; (space) character?","body":"Could you please clarify the question - perhaps some sample input..?  Is your file format separated by a &#39; &#39; (space) character?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1668475296,"post_id":74439647,"comment_id":131409273,"body_markdown":"What does your file look like? And why do you expect the return value of `in.nextLine()` to contain linebreaks? The [docs](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()) say &quot;This method returns the rest of the current line, excluding any line separator at the end&quot;","body":"What does your file look like? And why do you expect the return value of <code>in.nextLine()</code> to contain linebreaks? The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">docs</a> say &quot;This method returns the rest of the current line, excluding any line separator at the end&quot;"},{"owner":{"display_name":"user20331188"},"score":0,"creation_date":1668475314,"post_id":74439647,"comment_id":131409279,"body_markdown":"@synapticloop hopefully thats better the edit","body":"@synapticloop hopefully thats better the edit"},{"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"score":0,"creation_date":1668476616,"post_id":74439647,"comment_id":131409454,"body_markdown":"Are you testing in MAC computer with file in linux format (line ends with `\\n`). I have no way to test, but the only explanation that I found for your results, is that `nextLine()` reads until next `\\r`, but not found any, and read until the end.","body":"Are you testing in MAC computer with file in linux format (line ends with <code>\\n</code>). I have no way to test, but the only explanation that I found for your results, is that <code>nextLine()</code> reads until next <code>\\r</code>, but not found any, and read until the end."}],"answers":[{"tags":[],"owner":{"account_id":26914061,"reputation":114,"user_id":20489149,"display_name":"synapticloop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668476317,"creation_date":1668475670,"answer_id":74439699,"question_id":74439647,"body_markdown":"Your code (from what I can see) should work fine - you are trying to split a line on the &quot; &quot; character - but it is only a single line...\r\n\r\n```\r\n\tpublic static void main (String[] args) throws FileNotFoundException{\r\n\t\tFile file = new File(&quot;numbers.txt&quot;);\r\n\t\tScanner in = new Scanner(file);\r\n\t\tString gg = &quot;&quot;;\r\n\t\twhile (in.hasNext()) {\r\n\t\t\tgg = in.nextLine().trim();  // &lt;- trim of whitespace\r\n\t\t\tSystem.out.println(gg);\r\n\r\n\t\t\t// maybe the line is all blank ??? best to check\r\n\r\n\t\t\t// convert the number to an int here...\r\n\r\n\t\t\t// determine min/max/average - need some variables :)\r\n\r\n\t\t}\r\n\t}\r\n\r\n```\r\n","title":"reading a file with mutiple lines and trying to split into a string array","body":"<p>Your code (from what I can see) should work fine - you are trying to split a line on the &quot; &quot; character - but it is only a single line...</p>\n<pre><code>    public static void main (String[] args) throws FileNotFoundException{\n        File file = new File(&quot;numbers.txt&quot;);\n        Scanner in = new Scanner(file);\n        String gg = &quot;&quot;;\n        while (in.hasNext()) {\n            gg = in.nextLine().trim();  // &lt;- trim of whitespace\n            System.out.println(gg);\n\n            // maybe the line is all blank ??? best to check\n\n            // convert the number to an int here...\n\n            // determine min/max/average - need some variables :)\n\n        }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668477702,"creation_date":1668477702,"answer_id":74439849,"question_id":74439647,"body_markdown":"put string array outside scope of while loop i assumed length is 3 btw replace this with whatever it is \r\n\r\n    String line;\r\n\t\t\tString sub[] = new String[100];\r\n\r\n\t\t\ttry {\r\n\t\t\t\twhile((line = buffread.readLine()) != null) {\r\n\t\t\t\t\tint i=0;\r\n\t\t\t\t\tsub[i] = line;\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(sub[0]);\r\n\r\n\t\t\t}\r\n\r\n\r\noutput is 1234","title":"reading a file with mutiple lines and trying to split into a string array","body":"<p>put string array outside scope of while loop i assumed length is 3 btw replace this with whatever it is</p>\n<pre><code>String line;\n        String sub[] = new String[100];\n\n        try {\n            while((line = buffread.readLine()) != null) {\n                int i=0;\n                sub[i] = line;\n                i++;\n            }\n            System.out.println(sub[0]);\n\n        }\n</code></pre>\n<p>output is 1234</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668511814,"creation_date":1668511814,"answer_id":74444892,"question_id":74439647,"body_markdown":"Unless there&#39;s something strange about the whitespace inside your file, the following should work. Just ignore the whitespace and concentrate on collecting what isn&#39;t. If this doesn&#39;t work, we&#39;ll need to look more closely at the content of your file. Please report!\r\n\r\n    import java.util.Scanner;\r\n    import java.nio.file.Path;\r\n    import java.util.Arrays;\r\n    \r\n    public class Nums {\r\n        public static void main(String[] args) {\r\n            try (Scanner s = new Scanner(Path.of(args[0]))) {\r\n                String[] nums = s.tokens().toArray(String[]::new);\r\n                System.out.println(Arrays.toString(nums));\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"reading a file with mutiple lines and trying to split into a string array","body":"<p>Unless there's something strange about the whitespace inside your file, the following should work. Just ignore the whitespace and concentrate on collecting what isn't. If this doesn't work, we'll need to look more closely at the content of your file. Please report!</p>\n<pre><code>import java.util.Scanner;\nimport java.nio.file.Path;\nimport java.util.Arrays;\n\npublic class Nums {\n    public static void main(String[] args) {\n        try (Scanner s = new Scanner(Path.of(args[0]))) {\n            String[] nums = s.tokens().toArray(String[]::new);\n            System.out.println(Arrays.toString(nums));\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user20331188"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1668511814,"creation_date":1668474944,"question_id":74439647,"body_markdown":"Hi i have a txt file with loads of numbers each number is randomly scattered across the file and when i read  the file in as a string and try to subdivide it into individual numbers in an array i get the issue of \r\nie my file contains \r\n\r\n\r\n\r\n             1234\r\n\r\n             3467\r\n\r\n \r\n             22222\r\n\r\n\r\ni didvide the numbers into string array String sub[] however every number goes into sub[0] ie sub[0] = 1234\r\n3467\r\n22222\r\n\r\n\r\nwhereas my desired output for sub[0] would be 1234\r\nmy code is below \r\n`\r\n```\r\nFile file = new File(s);\r\n\t\tString gg;\r\n\t\ttry {\r\n\t\t\tScanner in = new Scanner(file);\r\n\t\t\twhile (in.hasNext()) {\r\n\t\t\t\tgg = in.nextLine();\r\n\r\n\t\t\t\t// String temp = gg.replaceAll(&quot;\\\\s*[\\\\r\\\\n]+\\\\s*&quot;, &quot;&quot;).trim();\r\n\t\t\t\tString temp = gg.replace(&#39;\\n&#39;, &#39; &#39;);\r\n\t\t\t\tString[] sub = temp.split(&quot; &quot;);\r\n\t\t\t\tSystem.out.println(sub[0]);\r\n```\r\n\r\n`\r\n\r\nand the output im getting for sub[0] is a whole bunch of numbers when i only want one  which in above example it should be 1234\r\n\r\n\r\nthe comment is one of the ways i tried \r\ni also tried using .replaceall the char one &#39;\\n&#39; but it didnt work and .replaceall &quot;\\\\s&quot;","title":"reading a file with mutiple lines and trying to split into a string array","body":"<p>Hi i have a txt file with loads of numbers each number is randomly scattered across the file and when i read  the file in as a string and try to subdivide it into individual numbers in an array i get the issue of\nie my file contains</p>\n<pre><code>         1234\n\n         3467\n\n\n         22222\n</code></pre>\n<p>i didvide the numbers into string array String sub[] however every number goes into sub[0] ie sub[0] = 1234\n3467\n22222</p>\n<p>whereas my desired output for sub[0] would be 1234\nmy code is below\n`</p>\n<pre><code>File file = new File(s);\n        String gg;\n        try {\n            Scanner in = new Scanner(file);\n            while (in.hasNext()) {\n                gg = in.nextLine();\n\n                // String temp = gg.replaceAll(&quot;\\\\s*[\\\\r\\\\n]+\\\\s*&quot;, &quot;&quot;).trim();\n                String temp = gg.replace('\\n', ' ');\n                String[] sub = temp.split(&quot; &quot;);\n                System.out.println(sub[0]);\n</code></pre>\n<p>`</p>\n<p>and the output im getting for sub[0] is a whole bunch of numbers when i only want one  which in above example it should be 1234</p>\n<p>the comment is one of the ways i tried\ni also tried using .replaceall the char one '\\n' but it didnt work and .replaceall &quot;\\s&quot;</p>\n"},{"tags":["java","artificial-intelligence","cryptarithmetic-puzzle"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1668509834,"post_id":74440803,"comment_id":131417219,"body_markdown":"&quot;each letter represents a different number from 1-10&quot; - are you sure? You&#39;re currently using 0-9. I *suspect* it&#39;s meant to be 1-9.","body":"&quot;each letter represents a different number from 1-10&quot; - are you sure? You&#39;re currently using 0-9. I <i>suspect</i> it&#39;s meant to be 1-9."},{"owner":{"display_name":"user19705717"},"score":0,"creation_date":1668511145,"post_id":74440803,"comment_id":131417672,"body_markdown":"yaa sorry its 0 to 9","body":"yaa sorry its 0 to 9"},{"owner":{"account_id":2426467,"reputation":689,"user_id":2118279,"accept_rate":0,"display_name":"Gopi"},"score":0,"creation_date":1668514174,"post_id":74440803,"comment_id":131418716,"body_markdown":"What condition are you checking for in below line: `(((E != A) &amp;&amp; (E != L) &amp;&amp; (E != T)&amp;&amp;(E !=P) &amp;&amp;(E!=L)&amp;&amp;(E!=H) &amp;&amp; \n            (T != A) &amp;&amp; (T != L) &amp;&amp; (T != E) &amp;&amp;(T!=P)&amp;&amp;(T!=L)&amp;&amp;(T!=H)))`","body":"What condition are you checking for in below line: <code>(((E != A) &amp;&amp; (E != L) &amp;&amp; (E != T)&amp;&amp;(E !=P) &amp;&amp;(E!=L)&amp;&amp;(E!=H) &amp;&amp;              (T != A) &amp;&amp; (T != L) &amp;&amp; (T != E) &amp;&amp;(T!=P)&amp;&amp;(T!=L)&amp;&amp;(T!=H)))</code>"}],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668509809,"creation_date":1668492824,"answer_id":74441264,"question_id":74440803,"body_markdown":"\r\n\r\n\r\n    **Second Version of Code**\r\n\r\n    public class EatingApple {\r\n     ArrayList&lt;Permutation&gt;  eat = new ArrayList();\r\n    static      ArrayList&lt;Permutation&gt; that = new ArrayList();\r\n    static     ArrayList&lt;Permutation&gt; apples = new ArrayList();\r\n          \r\n        public static void main(String[] args) throws IOException {\r\n          EatingApple apples  = new EatingApple();\r\n            apples.makePermutation();\r\n            apples.searchAppleEqualsSum();\r\n            \r\n            \r\n             \r\n            }\r\n    \r\n      public void searchAppleEqualsSum() \r\n     {\r\n         for(Permutation eatP : eat)\r\n         {\r\n             int E_eat = (Integer) eatP.getCharacterValue(&quot;E&quot;);\r\n             int A_eat = (Integer) eatP.getCharacterValue(&quot;A&quot;);\r\n             int T_eat = (Integer) eatP.getCharacterValue(&quot;T&quot;);\r\n             for(Permutation thatP : that)\r\n             {\r\n                   int T_that = (Integer) thatP.getCharacterValue(&quot;T&quot;);\r\n                   int A_that = (Integer) thatP.getCharacterValue(&quot;A&quot;);\r\n                   if(T_eat == T_that&amp;&amp;A_eat ==A_that)\r\n                        for(Permutation apple : apples)\r\n                        {\r\n                            int A_apple = (Integer) apple.getCharacterValue(&quot;A&quot;);\r\n                            int E_apple = (Integer) apple.getCharacterValue(&quot;E&quot;);\r\n                            if(A_apple==E_eat&amp;&amp;E_apple==E_eat)\r\n                            {\r\n                              int  eat_value = Integer.parseInt(eatP.permutationString);\r\n                              int  that_value = Integer.parseInt(thatP.permutationString);\r\n                              int  apple_value = Integer.parseInt(apple.permutationString);\r\n                              if(apple_value == (that_value + eat_value)&amp;&amp;apple_value!=0)\r\n                              {\r\n                                  System.out.println(&quot;EAT :&quot; + eatP.permutationString);\r\n                                  System.out.println(&quot;THAT :&quot; + thatP.permutationString);\r\n                                  System.out.println(&quot;Apple :&quot; + apple.permutationString);\r\n                                  System.out.println(&quot;.............&quot;);\r\n                              }\r\n                            }\r\n                        }\r\n                            \r\n                   \r\n                       \r\n             }\r\n               \r\n         }\r\n     }\r\n        public void makePermutation()\r\n        {\r\n              for(int e=0;e&lt;10;e++)\r\n                for(int a=0;a&lt;10;a++)\r\n                    for(int t=0;t&lt;10;t++)\r\n                    {\r\n                        String permutationString = &quot;&quot;+e+a+t;\r\n                        int value = e+a+t;\r\n                        Permutation eatCombination = new Permutation(permutationString,value);\r\n                        eatCombination.addCharToMap(&quot;E&quot;, e);\r\n                        eatCombination.addCharToMap(&quot;A&quot;, a);\r\n                        eatCombination.addCharToMap(&quot;T&quot;, t);\r\n                        eatCombination.permutationValue=value;\r\n                        \r\n                        \r\n                        eat.add(eatCombination);\r\n                        \r\n                    }\r\n              \r\n                for (int t = 0; t &lt; 10; t++)\r\n                for (int h = 0; h &lt; 10; h++) \r\n                    for(int a = 0; a &lt; 10;a++)\r\n                    {\r\n                        String permutationString = &quot;&quot;+t+h+a+t;\r\n                        int value = t + h + a + t;\r\n                        \r\n                        Permutation thatCombination = new Permutation(permutationString,value);\r\n                        \r\n                        \r\n                        thatCombination.addCharToMap(&quot;T&quot;, t);\r\n                        thatCombination.addCharToMap(&quot;H&quot;, h);\r\n                        thatCombination.addCharToMap(&quot;A&quot;, a);\r\n                        thatCombination.permutationValue=value;\r\n                        \r\n                        that.add(thatCombination);\r\n                        \r\n                    }\r\n                for (int a = 0; a &lt; 10; a++)\r\n                for (int p = 0; p  &lt; 10; p++) \r\n                    for(int l = 0; l &lt;10;l++)\r\n                        for(int e = 0; e &lt; 10; e++)\r\n                    \r\n                    {\r\n                        String permutationString = &quot;&quot;+a+p+p+l+e;\r\n                        int value = a+p+p+l+e;\r\n                        \r\n                        \r\n                         Permutation appleCombination = new Permutation(permutationString,value);\r\n                        \r\n                         appleCombination.addCharToMap(&quot;A&quot;, a);\r\n                        appleCombination.addCharToMap(&quot;P&quot;, p);\r\n                        appleCombination.addCharToMap(&quot;L&quot;, l);\r\n                        appleCombination.addCharToMap(&quot;E&quot;, e);\r\n                       \r\n                        appleCombination.permutationValue=value;\r\n                        \r\n                        apples.add(appleCombination);\r\n                      \r\n                        \r\n                    }\r\n            \r\n            \r\n        }\r\n       class Permutation\r\n      {\r\n          String permutationString=&quot;&quot;;\r\n          int permutationValue =0;\r\n           HashMap wordMap;\r\n    \r\n            public int getPermuttionValue() {\r\n                return permutationValue;\r\n            }\r\n        Permutation(String pString, int pValue)\r\n        {\r\n            this.wordMap = new HashMap();\r\n            this.permutationString=pString;\r\n            this.permutationValue=pValue;\r\n        }\r\n        public int getCharacterValue(String character)\r\n        {\r\n            if(wordMap.get(character)==null)\r\n                return -1;\r\n            return (Integer) wordMap.get(character);\r\n                    \r\n                \r\n        }\r\n        public  void  addCharToMap(String character, int value)\r\n        {\r\n            \r\n                wordMap.put(character, value);\r\n        }\r\n       \r\n    \r\n      \r\n      }\r\n    }\r\n\r\n","title":"Solving this cryptarithmetic program gives infinite results","body":"<pre><code>**Second Version of Code**\n\npublic class EatingApple {\n ArrayList&lt;Permutation&gt;  eat = new ArrayList();\nstatic      ArrayList&lt;Permutation&gt; that = new ArrayList();\nstatic     ArrayList&lt;Permutation&gt; apples = new ArrayList();\n      \n    public static void main(String[] args) throws IOException {\n      EatingApple apples  = new EatingApple();\n        apples.makePermutation();\n        apples.searchAppleEqualsSum();\n        \n        \n         \n        }\n\n  public void searchAppleEqualsSum() \n {\n     for(Permutation eatP : eat)\n     {\n         int E_eat = (Integer) eatP.getCharacterValue(&quot;E&quot;);\n         int A_eat = (Integer) eatP.getCharacterValue(&quot;A&quot;);\n         int T_eat = (Integer) eatP.getCharacterValue(&quot;T&quot;);\n         for(Permutation thatP : that)\n         {\n               int T_that = (Integer) thatP.getCharacterValue(&quot;T&quot;);\n               int A_that = (Integer) thatP.getCharacterValue(&quot;A&quot;);\n               if(T_eat == T_that&amp;&amp;A_eat ==A_that)\n                    for(Permutation apple : apples)\n                    {\n                        int A_apple = (Integer) apple.getCharacterValue(&quot;A&quot;);\n                        int E_apple = (Integer) apple.getCharacterValue(&quot;E&quot;);\n                        if(A_apple==E_eat&amp;&amp;E_apple==E_eat)\n                        {\n                          int  eat_value = Integer.parseInt(eatP.permutationString);\n                          int  that_value = Integer.parseInt(thatP.permutationString);\n                          int  apple_value = Integer.parseInt(apple.permutationString);\n                          if(apple_value == (that_value + eat_value)&amp;&amp;apple_value!=0)\n                          {\n                              System.out.println(&quot;EAT :&quot; + eatP.permutationString);\n                              System.out.println(&quot;THAT :&quot; + thatP.permutationString);\n                              System.out.println(&quot;Apple :&quot; + apple.permutationString);\n                              System.out.println(&quot;.............&quot;);\n                          }\n                        }\n                    }\n                        \n               \n                   \n         }\n           \n     }\n }\n    public void makePermutation()\n    {\n          for(int e=0;e&lt;10;e++)\n            for(int a=0;a&lt;10;a++)\n                for(int t=0;t&lt;10;t++)\n                {\n                    String permutationString = &quot;&quot;+e+a+t;\n                    int value = e+a+t;\n                    Permutation eatCombination = new Permutation(permutationString,value);\n                    eatCombination.addCharToMap(&quot;E&quot;, e);\n                    eatCombination.addCharToMap(&quot;A&quot;, a);\n                    eatCombination.addCharToMap(&quot;T&quot;, t);\n                    eatCombination.permutationValue=value;\n                    \n                    \n                    eat.add(eatCombination);\n                    \n                }\n          \n            for (int t = 0; t &lt; 10; t++)\n            for (int h = 0; h &lt; 10; h++) \n                for(int a = 0; a &lt; 10;a++)\n                {\n                    String permutationString = &quot;&quot;+t+h+a+t;\n                    int value = t + h + a + t;\n                    \n                    Permutation thatCombination = new Permutation(permutationString,value);\n                    \n                    \n                    thatCombination.addCharToMap(&quot;T&quot;, t);\n                    thatCombination.addCharToMap(&quot;H&quot;, h);\n                    thatCombination.addCharToMap(&quot;A&quot;, a);\n                    thatCombination.permutationValue=value;\n                    \n                    that.add(thatCombination);\n                    \n                }\n            for (int a = 0; a &lt; 10; a++)\n            for (int p = 0; p  &lt; 10; p++) \n                for(int l = 0; l &lt;10;l++)\n                    for(int e = 0; e &lt; 10; e++)\n                \n                {\n                    String permutationString = &quot;&quot;+a+p+p+l+e;\n                    int value = a+p+p+l+e;\n                    \n                    \n                     Permutation appleCombination = new Permutation(permutationString,value);\n                    \n                     appleCombination.addCharToMap(&quot;A&quot;, a);\n                    appleCombination.addCharToMap(&quot;P&quot;, p);\n                    appleCombination.addCharToMap(&quot;L&quot;, l);\n                    appleCombination.addCharToMap(&quot;E&quot;, e);\n                   \n                    appleCombination.permutationValue=value;\n                    \n                    apples.add(appleCombination);\n                  \n                    \n                }\n        \n        \n    }\n   class Permutation\n  {\n      String permutationString=&quot;&quot;;\n      int permutationValue =0;\n       HashMap wordMap;\n\n        public int getPermuttionValue() {\n            return permutationValue;\n        }\n    Permutation(String pString, int pValue)\n    {\n        this.wordMap = new HashMap();\n        this.permutationString=pString;\n        this.permutationValue=pValue;\n    }\n    public int getCharacterValue(String character)\n    {\n        if(wordMap.get(character)==null)\n            return -1;\n        return (Integer) wordMap.get(character);\n                \n            \n    }\n    public  void  addCharToMap(String character, int value)\n    {\n        \n            wordMap.put(character, value);\n    }\n   \n\n  \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19429067,"reputation":289,"user_id":14209943,"display_name":"Warm Red"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668511719,"creation_date":1668511719,"answer_id":74444873,"question_id":74440803,"body_markdown":"\r\nWhen facing such problems it is of great importance to **simplify the problem as much as possible**. \r\n\r\n&lt;h2&gt;Let&#39;s create a sub problem:&lt;/h2&gt;\r\n\r\nAssume that `THAT` must equal 8208. What are the values of each character?\r\n\r\nYou can **notice that you are just solving an equation**:\r\n`T` * 1000 + `H` * 100 + `A` * 10 + `T` = 8208\r\n(The only solution is `T` = 8, `H` = 2, `A` = 0)\r\n\r\n&lt;h2&gt;Back to our main problem:&lt;/h2&gt;\r\n\r\nUsing the logic above **simplify the main problem to an equation**,\r\n\r\n`EAT` + `THAT`= `APPLE` =&gt; `EAT` + `THAT` - `APPLE` = 0;\r\n\r\nThat in fact means:\r\n\r\n`E` * 100 + `A` * 10 + `T` + `T` * 1000 + `H` * 100 + `A` * 10 + `T` - `A` * 10000 - `P` * 1000 - `P` * 1000 - `L` * 10 - `E` = 0\r\n\r\n\r\n**After simplification you get:\r\n-9980 * `A` - 1100 * `P` + 1002 * `T` + 100 * `H` + 99 * `E` - 10 * `L` = 0**\r\n\r\nAs the values for each variable are very limited we are free to brute force the solution.\r\n```java\r\npublic class MyClass {\r\n   public static int[] calc(){\r\n      for(int A = 0; A &lt; 10; A++){\r\n          for(int P = 0; P &lt; 10; P++){\r\n              for(int T = 0; T &lt; 10; T++){\r\n                  for(int H = 0; H &lt; 10; H++){\r\n                      for(int E = 0; E &lt; 10; E++){\r\n                          for(int L = 0; L &lt; 10; L++){\r\n                              if(A!=P &amp;&amp; A != T &amp;&amp; A != H &amp;&amp; A != E &amp;&amp; A != L &amp;&amp; P != T &amp;&amp; P != H &amp;&amp; P != E &amp;&amp; P != L &amp;&amp; T != H &amp;&amp; T != E &amp;&amp; T != L &amp;&amp; H != E &amp;&amp; H != L &amp;&amp; E != L){\r\n                                 //In your code you are lacking this statment, it checks whether values are indeed a solution of the equation\r\n                                 if(-9980 * A - 1100 * P + 1002 * T + 100 * H + 99 * E - 10 * L == 0){\r\n                                     int[] outArr = {A, P, T, H, E, L};\r\n                                     return outArr;\r\n                                 }\r\n                              }\r\n                          }\r\n                      }\r\n                  }\r\n              }\r\n           }\r\n       }\r\n       return null;\r\n   }\r\n    \r\n   public static void main(String args[]) {\r\n     int[] answer = calc();\r\n     System.out.println(&quot;A&quot; + answer[0] + &quot; P&quot; + answer[1] + &quot; P&quot; + answer[1] + &quot; L&quot; + answer[5] + &quot; E&quot; + answer[4]);\r\n   }\r\n}\r\n```\r\n\r\n**If you don&#39;t want your if statement to be this massive**, you can always create an array of size 10 filled with zeroes and for each variable (let&#39;s call it `i`) increase the value for the given index with `array[i]++;`, if at any point at any index `array[x]` &gt; 1 you will know that values repeat.\r\n\r\nThere are ways of optimizing how the script works, by acknowledging the relations between digits *(for example you can observe that `A` can only equal either 0 or 1, whereas 0 leads up to a contradictory equation, so `A` must equal 1 and so on and so forth until you find the exact value for each digit just by using logic)*, but in the end you will end up with purely mathematical solution and I don&#39;t think that&#39;s what you want to end up with.","title":"Solving this cryptarithmetic program gives infinite results","body":"<p>When facing such problems it is of great importance to <strong>simplify the problem as much as possible</strong>.</p>\n<h2>Let's create a sub problem:</h2>\n<p>Assume that <code>THAT</code> must equal 8208. What are the values of each character?</p>\n<p>You can <strong>notice that you are just solving an equation</strong>:\n<code>T</code> * 1000 + <code>H</code> * 100 + <code>A</code> * 10 + <code>T</code> = 8208\n(The only solution is <code>T</code> = 8, <code>H</code> = 2, <code>A</code> = 0)</p>\n<h2>Back to our main problem:</h2>\n<p>Using the logic above <strong>simplify the main problem to an equation</strong>,</p>\n<p><code>EAT</code> + <code>THAT</code>= <code>APPLE</code> =&gt; <code>EAT</code> + <code>THAT</code> - <code>APPLE</code> = 0;</p>\n<p>That in fact means:</p>\n<p><code>E</code> * 100 + <code>A</code> * 10 + <code>T</code> + <code>T</code> * 1000 + <code>H</code> * 100 + <code>A</code> * 10 + <code>T</code> - <code>A</code> * 10000 - <code>P</code> * 1000 - <code>P</code> * 1000 - <code>L</code> * 10 - <code>E</code> = 0</p>\n<p><strong>After simplification you get:\n-9980 * <code>A</code> - 1100 * <code>P</code> + 1002 * <code>T</code> + 100 * <code>H</code> + 99 * <code>E</code> - 10 * <code>L</code> = 0</strong></p>\n<p>As the values for each variable are very limited we are free to brute force the solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n   public static int[] calc(){\n      for(int A = 0; A &lt; 10; A++){\n          for(int P = 0; P &lt; 10; P++){\n              for(int T = 0; T &lt; 10; T++){\n                  for(int H = 0; H &lt; 10; H++){\n                      for(int E = 0; E &lt; 10; E++){\n                          for(int L = 0; L &lt; 10; L++){\n                              if(A!=P &amp;&amp; A != T &amp;&amp; A != H &amp;&amp; A != E &amp;&amp; A != L &amp;&amp; P != T &amp;&amp; P != H &amp;&amp; P != E &amp;&amp; P != L &amp;&amp; T != H &amp;&amp; T != E &amp;&amp; T != L &amp;&amp; H != E &amp;&amp; H != L &amp;&amp; E != L){\n                                 //In your code you are lacking this statment, it checks whether values are indeed a solution of the equation\n                                 if(-9980 * A - 1100 * P + 1002 * T + 100 * H + 99 * E - 10 * L == 0){\n                                     int[] outArr = {A, P, T, H, E, L};\n                                     return outArr;\n                                 }\n                              }\n                          }\n                      }\n                  }\n              }\n           }\n       }\n       return null;\n   }\n    \n   public static void main(String args[]) {\n     int[] answer = calc();\n     System.out.println(&quot;A&quot; + answer[0] + &quot; P&quot; + answer[1] + &quot; P&quot; + answer[1] + &quot; L&quot; + answer[5] + &quot; E&quot; + answer[4]);\n   }\n}\n</code></pre>\n<p><strong>If you don't want your if statement to be this massive</strong>, you can always create an array of size 10 filled with zeroes and for each variable (let's call it <code>i</code>) increase the value for the given index with <code>array[i]++;</code>, if at any point at any index <code>array[x]</code> &gt; 1 you will know that values repeat.</p>\n<p>There are ways of optimizing how the script works, by acknowledging the relations between digits <em>(for example you can observe that <code>A</code> can only equal either 0 or 1, whereas 0 leads up to a contradictory equation, so <code>A</code> must equal 1 and so on and so forth until you find the exact value for each digit just by using logic)</em>, but in the end you will end up with purely mathematical solution and I don't think that's what you want to end up with.</p>\n"}],"owner":{"display_name":"user19705717"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668535040,"accepted_answer_id":74444873,"answer_count":2,"score":0,"last_activity_date":1668511719,"creation_date":1668488433,"question_id":74440803,"body_markdown":"I am doing the EAT+ THAT= APPLE, where each letter represents a different number from 0-9. I need to find all combinations. I was wondering if there is a better way to write it, especially &#39;if&#39; and &#39;for&#39;\r\n\r\nI&#39;ve tried writing it like this but it gave me infinite results\r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n\r\npublic static void main(String[] args) {\r\nint count = 0;\r\nint E,A,T,P,L,H;\r\n\r\nfor (E = 0; E &lt;=9; E++)   \r\n{\r\n    for (A = 0; A &lt;=9; A++)\r\n        for (T = 0; T &lt;=9; T++)\r\n            for (P = 0; P &lt;=9; P++)\r\n                for (L = 0; L &lt;=9; L++)\r\n                    for (H = 0; H &lt;=9; H++)\r\n\r\n    if (((E != A) &amp;&amp; (E != L) &amp;&amp; (E != T)&amp;&amp;(E !=P) &amp;&amp;(E!=L)&amp;&amp;(E!=H) &amp;&amp; \r\n            (T != A) &amp;&amp; (T != L) &amp;&amp; (T != E) &amp;&amp;(T!=P)&amp;&amp;(T!=L)&amp;&amp;(T!=H)))\r\n    {\r\n        System.out.println(&quot;A&quot;+A+&quot;P&quot;+P+&quot;P&quot;+P+&quot;L&quot;+L+&quot;E&quot;+E);\r\n\r\n    }\r\n    else count = count +1;    \r\n}\r\nSystem.out.println(count);\r\n\r\n    }\r\n}\r\n```","title":"Solving this cryptarithmetic program gives infinite results","body":"<p>I am doing the EAT+ THAT= APPLE, where each letter represents a different number from 0-9. I need to find all combinations. I was wondering if there is a better way to write it, especially 'if' and 'for'</p>\n<p>I've tried writing it like this but it gave me infinite results</p>\n<pre><code>public class Main {\n\n\npublic static void main(String[] args) {\nint count = 0;\nint E,A,T,P,L,H;\n\nfor (E = 0; E &lt;=9; E++)   \n{\n    for (A = 0; A &lt;=9; A++)\n        for (T = 0; T &lt;=9; T++)\n            for (P = 0; P &lt;=9; P++)\n                for (L = 0; L &lt;=9; L++)\n                    for (H = 0; H &lt;=9; H++)\n\n    if (((E != A) &amp;&amp; (E != L) &amp;&amp; (E != T)&amp;&amp;(E !=P) &amp;&amp;(E!=L)&amp;&amp;(E!=H) &amp;&amp; \n            (T != A) &amp;&amp; (T != L) &amp;&amp; (T != E) &amp;&amp;(T!=P)&amp;&amp;(T!=L)&amp;&amp;(T!=H)))\n    {\n        System.out.println(&quot;A&quot;+A+&quot;P&quot;+P+&quot;P&quot;+P+&quot;L&quot;+L+&quot;E&quot;+E);\n\n    }\n    else count = count +1;    \n}\nSystem.out.println(count);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","wildfly","jaas","elytron","wildfly-26"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1664890919,"post_id":73947956,"comment_id":130570070,"body_markdown":"Debug and set a breakpoint in `my.first.lm.FirstLoginModule` to check if its called anyway.","body":"Debug and set a breakpoint in <code>my.first.lm.FirstLoginModule</code> to check if its called anyway."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1664891103,"post_id":73947956,"comment_id":130570131,"body_markdown":"The file path is an absolute path what seems odd to me. Furthermore, I would use slashes instead of backslashes in the path because slashes are universal in order to support all OS.","body":"The file path is an absolute path what seems odd to me. Furthermore, I would use slashes instead of backslashes in the path because slashes are universal in order to support all OS."},{"owner":{"account_id":10634300,"reputation":206,"user_id":7831454,"accept_rate":60,"display_name":"Mono"},"score":0,"creation_date":1664892994,"post_id":73947956,"comment_id":130570949,"body_markdown":"Hi. I tried the path with slashes with no luck, but i think it should be ok since I am on windows. The error I&#39;m getting is javax.servlet.ServletException: UT010062: No SecurityContext available. I can see its not properly configured even from response I am getting on context root. It returns index page, which should be restricted content. Desired response is login page.","body":"Hi. I tried the path with slashes with no luck, but i think it should be ok since I am on windows. The error I&#39;m getting is javax.servlet.ServletException: UT010062: No SecurityContext available. I can see its not properly configured even from response I am getting on context root. It returns index page, which should be restricted content. Desired response is login page."},{"owner":{"account_id":10634300,"reputation":206,"user_id":7831454,"accept_rate":60,"display_name":"Mono"},"score":0,"creation_date":1664897079,"post_id":73947956,"comment_id":130572535,"body_markdown":"Just found this thread: https://groups.google.com/g/wildfly/c/FNj4bhJ8dh4 One of the comments says, that jaas-realm will not wort with login modules based on picketbox. Is this true (or still true)? My login module is based on picket box :(","body":"Just found this thread: <a href=\"https://groups.google.com/g/wildfly/c/FNj4bhJ8dh4\" rel=\"nofollow noreferrer\">groups.google.com/g/wildfly/c/FNj4bhJ8dh4</a> One of the comments says, that jaas-realm will not wort with login modules based on picketbox. Is this true (or still true)? My login module is based on picket box :("},{"owner":{"account_id":10634300,"reputation":206,"user_id":7831454,"accept_rate":60,"display_name":"Mono"},"score":0,"creation_date":1664962347,"post_id":73947956,"comment_id":130586484,"body_markdown":"Ok, I am a bit further. It was wrong on at least two levels. First, the definition of the login module in JAAS-login-module.conf must have a semicolon on the end of a row. Second, the security domain name, referenced from jboss-web.xml, have to be name of a &quot;application-security-domain&quot;, defined in an underthow subsystem, not name of a security domain, defined in elytron subsystem. Now, security domain is working. Still, its not using my login module, but I can see that its correctly defined from the fact, that I am getting login page on context root, not restricted index page.","body":"Ok, I am a bit further. It was wrong on at least two levels. First, the definition of the login module in JAAS-login-module.conf must have a semicolon on the end of a row. Second, the security domain name, referenced from jboss-web.xml, have to be name of a &quot;application-security-domain&quot;, defined in an underthow subsystem, not name of a security domain, defined in elytron subsystem. Now, security domain is working. Still, its not using my login module, but I can see that its correctly defined from the fact, that I am getting login page on context root, not restricted index page."},{"owner":{"account_id":10634300,"reputation":206,"user_id":7831454,"accept_rate":60,"display_name":"Mono"},"score":0,"creation_date":1664964803,"post_id":73947956,"comment_id":130587284,"body_markdown":"Now, I am getting LoginException: No LoginModule found for my.first.lm.FirstLoginModule. I think that is due to the fact mentioned higher, that my LM is based on picket box.","body":"Now, I am getting LoginException: No LoginModule found for my.first.lm.FirstLoginModule. I think that is due to the fact mentioned higher, that my LM is based on picket box."},{"owner":{"account_id":23931050,"reputation":91,"user_id":17925539,"display_name":"diavil"},"score":0,"creation_date":1667420043,"post_id":73947956,"comment_id":131165757,"body_markdown":"There is no way to use a custom LM based on Picket box anymore. PB was removed from WildFly, so modules cannot have it as a dependency. As you have found out, Elytron&#39;s security realms or custom security realms have to be used instead of the custom Login Module","body":"There is no way to use a custom LM based on Picket box anymore. PB was removed from WildFly, so modules cannot have it as a dependency. As you have found out, Elytron&#39;s security realms or custom security realms have to be used instead of the custom Login Module"}],"answers":[{"tags":[],"owner":{"account_id":26938304,"reputation":1,"user_id":20509593,"display_name":"manohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668511508,"creation_date":1668510658,"answer_id":74444636,"question_id":73947956,"body_markdown":"```xml\r\n&lt;jboss-web&gt;\r\n  &lt;context-root&gt;${context-root}&lt;/context-root&gt;\r\n  &lt;security-domain&gt;mySD&lt;/security-domain&gt;\r\n&lt;/jboss-web&gt;\r\n```\r\n\r\nIn web.xml also you have to configure your realm name like\r\n\r\n```xml\r\n&lt;login-config&gt;\r\n\t&lt;auth-method&gt;FORM&lt;/auth-method&gt;\r\n\t&lt;realm-name&gt;myJaasRealm&lt;/realm-name&gt;\r\n&lt;/login-config&gt;\r\n```\r\n","title":"How to migrate legacy login module to jaas-realm","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;jboss-web&gt;\n  &lt;context-root&gt;${context-root}&lt;/context-root&gt;\n  &lt;security-domain&gt;mySD&lt;/security-domain&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>In web.xml also you have to configure your realm name like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;login-config&gt;\n    &lt;auth-method&gt;FORM&lt;/auth-method&gt;\n    &lt;realm-name&gt;myJaasRealm&lt;/realm-name&gt;\n&lt;/login-config&gt;\n</code></pre>\n"}],"owner":{"account_id":10634300,"reputation":206,"user_id":7831454,"accept_rate":60,"display_name":"Mono"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668511508,"creation_date":1664886975,"question_id":73947956,"body_markdown":"I am trying to find a way to migrate our security solution from WildFly 22 to WildFly 26, where the legacy way with custom login modules is no longer supported. I found for example this blog post https://wildfly-security.github.io/wildfly-elytron/blog/jaas-realm/ suggesting to use jaas-realm, but I am not able to configure it to be honest.\r\n\r\nWhat exactly should I do, if I want to migrate this example? This was in earlier versions of WildFly defined like this:\r\n\r\n```xml\r\n&lt;security-domain name=&quot;my-form-auth&quot; cache-type=&quot;default&quot;&gt;\r\n  &lt;authentication&gt;\r\n    &lt;login-module name=&quot;FirstLoginModule&quot; code=&quot;my.first.lm.FirstLoginModule&quot; flag=&quot;sufficient&quot;&gt;\r\n      &lt;module-option name=&quot;config.filename&quot; value=&quot;.first_lm_props&quot; /&gt;\r\n    &lt;/login-module&gt;\r\n    &lt;login-module name=&quot;SecondLoginModule&quot; code=&quot;my.second.lm.SecondLoginModule&quot; flag=&quot;sufficient&quot;&gt;\r\n      &lt;module-option name=&quot;config.filename&quot; value=&quot;.second_lm_props&quot; /&gt;\r\n    &lt;/login-module&gt;\r\n  &lt;/authentication&gt;\r\n&lt;/security-domain&gt;\r\n```\r\n\r\nActual code of these login modules was available to WildFly as a dependency of deployed application.\r\n\r\nSo far, I managed to set configuration of WildFly 26 like this (with basic scenario - just one login module):\r\n\r\n```xml\r\n         &lt;security-domains&gt;\r\n            ...\r\n            &lt;security-domain name=&quot;mySD&quot; default-realm=&quot;myJaasRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\r\n                &lt;realm name=&quot;myJaasRealm&quot;/&gt;\r\n            &lt;/security-domain&gt;\r\n        &lt;/security-domains&gt;\r\n        &lt;security-realms&gt;\r\n            ...\r\n            &lt;jaas-realm name=&quot;myJaasRealm&quot; entry=&quot;myEntry&quot; module=&quot;my.module.with.lm&quot;&gt;\r\n                &lt;file path=&quot;D:\\APP\\Wildfly\\wildfly-26.0.1.Final\\bin\\elytron\\JAAS-login-module.conf&quot;/&gt;\r\n            &lt;/jaas-realm&gt;\r\n        &lt;/security-realms&gt;\r\n....\r\n        &lt;http&gt;\r\n            &lt;http-authentication-factory name=&quot;example-loginconfig-http-auth&quot; security-domain=&quot;mySD&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\r\n                &lt;mechanism-configuration&gt;\r\n                    &lt;mechanism mechanism-name=&quot;FORM&quot;&gt;\r\n                        &lt;mechanism-realm realm-name=&quot;myJaasRealm&quot;/&gt;\r\n                    &lt;/mechanism&gt;\r\n                &lt;/mechanism-configuration&gt;\r\n            &lt;/http-authentication-factory&gt;\r\n        &lt;/http&gt;\r\n\r\n....\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:12.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;${wildfly.undertow.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\r\n        ...\r\n        &lt;application-security-domains&gt;\r\n            &lt;application-security-domain name=&quot;other&quot; http-authentication-factory=&quot;example-loginconfig-http-auth&quot;/&gt;\r\n        &lt;/application-security-domains&gt;\r\n&lt;/subsystem&gt;\r\n```\r\n\r\nJAAS-login-module.conf:\r\n\r\n```\r\nMyEntry {\r\n  my.first.lm.FirstLoginModule sufficient;\r\n};\r\n```\r\n\r\njboss-web.xml:\r\n\r\n```xml\r\n&lt;jboss-web&gt;\r\n  &lt;context-root&gt;${context-root}&lt;/context-root&gt;\r\n  &lt;security-domain&gt;other&lt;/security-domain&gt;\r\n&lt;/jboss-web&gt;\r\n```\r\n\r\nStill, I am not able to get it to work.","title":"How to migrate legacy login module to jaas-realm","body":"<p>I am trying to find a way to migrate our security solution from WildFly 22 to WildFly 26, where the legacy way with custom login modules is no longer supported. I found for example this blog post <a href=\"https://wildfly-security.github.io/wildfly-elytron/blog/jaas-realm/\" rel=\"nofollow noreferrer\">https://wildfly-security.github.io/wildfly-elytron/blog/jaas-realm/</a> suggesting to use jaas-realm, but I am not able to configure it to be honest.</p>\n<p>What exactly should I do, if I want to migrate this example? This was in earlier versions of WildFly defined like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security-domain name=&quot;my-form-auth&quot; cache-type=&quot;default&quot;&gt;\n  &lt;authentication&gt;\n    &lt;login-module name=&quot;FirstLoginModule&quot; code=&quot;my.first.lm.FirstLoginModule&quot; flag=&quot;sufficient&quot;&gt;\n      &lt;module-option name=&quot;config.filename&quot; value=&quot;.first_lm_props&quot; /&gt;\n    &lt;/login-module&gt;\n    &lt;login-module name=&quot;SecondLoginModule&quot; code=&quot;my.second.lm.SecondLoginModule&quot; flag=&quot;sufficient&quot;&gt;\n      &lt;module-option name=&quot;config.filename&quot; value=&quot;.second_lm_props&quot; /&gt;\n    &lt;/login-module&gt;\n  &lt;/authentication&gt;\n&lt;/security-domain&gt;\n</code></pre>\n<p>Actual code of these login modules was available to WildFly as a dependency of deployed application.</p>\n<p>So far, I managed to set configuration of WildFly 26 like this (with basic scenario - just one login module):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>         &lt;security-domains&gt;\n            ...\n            &lt;security-domain name=&quot;mySD&quot; default-realm=&quot;myJaasRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\n                &lt;realm name=&quot;myJaasRealm&quot;/&gt;\n            &lt;/security-domain&gt;\n        &lt;/security-domains&gt;\n        &lt;security-realms&gt;\n            ...\n            &lt;jaas-realm name=&quot;myJaasRealm&quot; entry=&quot;myEntry&quot; module=&quot;my.module.with.lm&quot;&gt;\n                &lt;file path=&quot;D:\\APP\\Wildfly\\wildfly-26.0.1.Final\\bin\\elytron\\JAAS-login-module.conf&quot;/&gt;\n            &lt;/jaas-realm&gt;\n        &lt;/security-realms&gt;\n....\n        &lt;http&gt;\n            &lt;http-authentication-factory name=&quot;example-loginconfig-http-auth&quot; security-domain=&quot;mySD&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\n                &lt;mechanism-configuration&gt;\n                    &lt;mechanism mechanism-name=&quot;FORM&quot;&gt;\n                        &lt;mechanism-realm realm-name=&quot;myJaasRealm&quot;/&gt;\n                    &lt;/mechanism&gt;\n                &lt;/mechanism-configuration&gt;\n            &lt;/http-authentication-factory&gt;\n        &lt;/http&gt;\n\n....\n&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:12.0&quot; default-server=&quot;default-server&quot; default-virtual-host=&quot;default-host&quot; default-servlet-container=&quot;default&quot; default-security-domain=&quot;other&quot; statistics-enabled=&quot;${wildfly.undertow.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\n        ...\n        &lt;application-security-domains&gt;\n            &lt;application-security-domain name=&quot;other&quot; http-authentication-factory=&quot;example-loginconfig-http-auth&quot;/&gt;\n        &lt;/application-security-domains&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>JAAS-login-module.conf:</p>\n<pre><code>MyEntry {\n  my.first.lm.FirstLoginModule sufficient;\n};\n</code></pre>\n<p>jboss-web.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jboss-web&gt;\n  &lt;context-root&gt;${context-root}&lt;/context-root&gt;\n  &lt;security-domain&gt;other&lt;/security-domain&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>Still, I am not able to get it to work.</p>\n"},{"tags":["java","datetime","date","jodatime"],"comments":[{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1321997311,"post_id":8233900,"comment_id":10127572,"body_markdown":"I tried that one and the method is protected","body":"I tried that one and the method is protected"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1321997389,"post_id":8233900,"comment_id":10127595,"body_markdown":"`LocalDate` is meant to hold only a date - year, month, day. If you need a local date and time, use `LocalDateTime` instead.","body":"<code>LocalDate</code> is meant to hold only a date - year, month, day. If you need a local date and time, use <code>LocalDateTime</code> instead."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668513517,"post_id":8233900,"comment_id":131418489,"body_markdown":"Your calculation is wrong. You are assuming that a day is always 24 hours. Because of DST and many other anomalies this is not so.","body":"Your calculation is wrong. You are assuming that a day is always 24 hours. Because of DST and many other anomalies this is not so."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668540107,"post_id":8233900,"comment_id":131429031,"body_markdown":"For most purposes you don’t need milliseconds since the epoch, and as I said, for counting days it’s wrong to use them. In case someone does need them, the answer to the question in your title is `date.toDateTimeAtStartOfDay(DateTimeZone.getDefault()).getMillis()` (where `date` is your Joda-Time `LocalDate`).","body":"For most purposes you don’t need milliseconds since the epoch, and as I said, for counting days it’s wrong to use them. In case someone does need them, the answer to the question in your title is <code>date.toDateTimeAtStartOfDay(DateTimeZone.getDefault()).getMi&zwnj;&#8203;llis()</code> (where <code>date</code> is your Joda-Time <code>LocalDate</code>)."}],"answers":[{"tags":[],"owner":{"account_id":1006365,"reputation":1098,"user_id":1020030,"accept_rate":73,"display_name":"amit modi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321997492,"creation_date":1321996998,"answer_id":8233996,"question_id":8233900,"body_markdown":"Try something like this:\r\n\r\n\r\n          LocalDate date =  new LocalDate();\r\n \r\n           Date utilDate = date.toDateTimeAtStartOfDay( timeZone ).toDate( );\r\n\r\nor refer to this post\r\n\r\nhttps://stackoverflow.com/questions/5597671/how-to-convert-joda-localdate-to-java-util-date\r\n\r\n","title":"What is the equivalent of getTime(), which is a method in Date, in joda.time.LocalDate?","body":"<p>Try something like this:</p>\n\n<pre><code>      LocalDate date =  new LocalDate();\n\n       Date utilDate = date.toDateTimeAtStartOfDay( timeZone ).toDate( );\n</code></pre>\n\n<p>or refer to this post</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5597671/how-to-convert-joda-localdate-to-java-util-date\">How to convert Joda LocalDate to java.util.Date?</a></p>\n"},{"tags":[],"owner":{"account_id":120436,"reputation":2639,"user_id":312884,"display_name":"r0ast3d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321997129,"creation_date":1321997129,"answer_id":8234016,"question_id":8233900,"body_markdown":"I tested this sample code to find out the difference in days, you can find the difference as per your needs.\r\n\r\nPlease see http://joda-time.sourceforge.net/key_period.html\r\n\r\n\t\tLocalDate currentDate = new LocalDate();\r\n\t\t\r\n\t\tLocalDate previousDate = currentDate.minusDays(1);\r\n\t\tSystem.out.println(currentDate);\r\n\t\tSystem.out.println(previousDate);\r\n\t\t\r\n\t\tPeriod periodDifference = new Period(currentDate, previousDate, PeriodType.days());\r\n\t\tSystem.out.println(periodDifference);","title":"What is the equivalent of getTime(), which is a method in Date, in joda.time.LocalDate?","body":"<p>I tested this sample code to find out the difference in days, you can find the difference as per your needs.</p>\n\n<p>Please see <a href=\"http://joda-time.sourceforge.net/key_period.html\" rel=\"nofollow\">http://joda-time.sourceforge.net/key_period.html</a></p>\n\n<pre><code>    LocalDate currentDate = new LocalDate();\n\n    LocalDate previousDate = currentDate.minusDays(1);\n    System.out.println(currentDate);\n    System.out.println(previousDate);\n\n    Period periodDifference = new Period(currentDate, previousDate, PeriodType.days());\n    System.out.println(periodDifference);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1322005222,"creation_date":1321997425,"answer_id":8234075,"question_id":8233900,"body_markdown":" [Days.daysBetween()][1] is the answer.\r\n\r\n    LocalDate now = new LocalDate();\r\n    LocalDate past = now.minusDays(300);\r\n    int days = Days.daysBetween(past,now).getDays();\r\n\r\n**Never** convert a LocalDate to a Java Date (two completey different beasts) if you are just dealing with dates. A Jodatime Localdate is a true &quot;Calendar date&quot;, i.e. , a tuple of {day,month,year} (together with a Gregorian calendar specification), and has nothing to do with &quot;physical time&quot;, with seconds, hours, etc. If you need to do dates arithmetic, stick with Localdate and you&#39;ll never need to worry about stupid bugs (timezones, DST, etc) which could arise if you dates arithmetic using java Dates.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/org/joda/time/Days.html#daysBetween%28org.joda.time.ReadablePartial,%20org.joda.time.ReadablePartial%29","title":"What is the equivalent of getTime(), which is a method in Date, in joda.time.LocalDate?","body":"<p><a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/Days.html#daysBetween%28org.joda.time.ReadablePartial,%20org.joda.time.ReadablePartial%29\" rel=\"nofollow\">Days.daysBetween()</a> is the answer.</p>\n\n<pre><code>LocalDate now = new LocalDate();\nLocalDate past = now.minusDays(300);\nint days = Days.daysBetween(past,now).getDays();\n</code></pre>\n\n<p><strong>Never</strong> convert a LocalDate to a Java Date (two completey different beasts) if you are just dealing with dates. A Jodatime Localdate is a true \"Calendar date\", i.e. , a tuple of {day,month,year} (together with a Gregorian calendar specification), and has nothing to do with \"physical time\", with seconds, hours, etc. If you need to do dates arithmetic, stick with Localdate and you'll never need to worry about stupid bugs (timezones, DST, etc) which could arise if you dates arithmetic using java Dates.</p>\n"},{"tags":[],"owner":{"account_id":1038150,"reputation":2733,"user_id":1044799,"accept_rate":80,"display_name":"awm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321997433,"creation_date":1321997433,"answer_id":8234078,"question_id":8233900,"body_markdown":"    private long diff(Calendar c1, Calendar c2) { \r\n      long d1 = c1.getTimeInMillis();\r\n      long d2 = c2.getTimeInMillis();\r\n      return ((d2 - d1) / (60*60*24*1000));\r\n    }","title":"What is the equivalent of getTime(), which is a method in Date, in joda.time.LocalDate?","body":"<pre><code>private long diff(Calendar c1, Calendar c2) { \n  long d1 = c1.getTimeInMillis();\n  long d2 = c2.getTimeInMillis();\n  return ((d2 - d1) / (60*60*24*1000));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9366242,"reputation":2001,"user_id":6951063,"display_name":"Andriy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668511497,"creation_date":1668511497,"answer_id":74444821,"question_id":8233900,"body_markdown":"Have not found any equivalents for LocalDate as they are not exact.\r\nBut there are several equivalents for LocalDateTime:\r\n\r\n    LocalDateTime localDateTime = LocalDateTime.now();\r\n    long longValue = ZonedDateTime.of(localDateTime, ZoneId.systemDefault()).toInstant().toEpochMilli();\r\n\r\nor\r\n\r\n    long longValue = localDateTime.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();\r\n\r\nor\r\n\r\n    long longValue = localDateTime.toInstant(OffsetDateTime.now().getOffset()).toEpochMilli();\r\n\r\nor\r\n\r\n    long longValue = Timestamp.valueOf(localDateTime).getTime();\r\n\r\n","title":"What is the equivalent of getTime(), which is a method in Date, in joda.time.LocalDate?","body":"<p>Have not found any equivalents for LocalDate as they are not exact.\nBut there are several equivalents for LocalDateTime:</p>\n<pre><code>LocalDateTime localDateTime = LocalDateTime.now();\nlong longValue = ZonedDateTime.of(localDateTime, ZoneId.systemDefault()).toInstant().toEpochMilli();\n</code></pre>\n<p>or</p>\n<pre><code>long longValue = localDateTime.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();\n</code></pre>\n<p>or</p>\n<pre><code>long longValue = localDateTime.toInstant(OffsetDateTime.now().getOffset()).toEpochMilli();\n</code></pre>\n<p>or</p>\n<pre><code>long longValue = Timestamp.valueOf(localDateTime).getTime();\n</code></pre>\n"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8234075,"answer_count":5,"score":2,"last_activity_date":1668511497,"creation_date":1321996452,"question_id":8233900,"body_markdown":"I was doing a simple calculation to get the difference between two dates. If I was using a `Date` class I can do like this:\r\n\r\n    Date d1 = new GregorianCalendar(2000, 11, 31, 23, 59).getTime();\r\n    \r\n        /** Today&#39;s date */\r\n        Date today = new Date();\r\n    \r\n        // Get msec from each, and subtract.\r\n        long diff = today.getTime() - d1.getTime();\r\n    \r\n        System.out.println(&quot;The 21st century (up to &quot; + today + &quot;) is &quot;\r\n            + (diff / (1000 * 60 * 60 * 24)) + &quot; days old.&quot;);\r\n      }\r\n\r\nBut I couldn&#39;t find a method like getTime() in Local date. Is there any way so I can easily get what I am trying to achieve?\r\n\r\nI even tried to change my LocalDate object to a temporary date object like this:\r\n\r\n   \r\n\r\n     LocalDate date=new LocalDate();\r\n        Date d=date.toDate();\r\n\r\nbut the method toDate() isnt working . i.e it says it is not recognized method.(so compile time error) but from what I can see it is in the Documentation \r\n\r\nThank you for your time and of course happy Thanksgiving.","title":"What is the equivalent of getTime(), which is a method in Date, in joda.time.LocalDate?","body":"<p>I was doing a simple calculation to get the difference between two dates. If I was using a <code>Date</code> class I can do like this:</p>\n\n<pre><code>Date d1 = new GregorianCalendar(2000, 11, 31, 23, 59).getTime();\n\n    /** Today's date */\n    Date today = new Date();\n\n    // Get msec from each, and subtract.\n    long diff = today.getTime() - d1.getTime();\n\n    System.out.println(\"The 21st century (up to \" + today + \") is \"\n        + (diff / (1000 * 60 * 60 * 24)) + \" days old.\");\n  }\n</code></pre>\n\n<p>But I couldn't find a method like getTime() in Local date. Is there any way so I can easily get what I am trying to achieve?</p>\n\n<p>I even tried to change my LocalDate object to a temporary date object like this:</p>\n\n<pre><code> LocalDate date=new LocalDate();\n    Date d=date.toDate();\n</code></pre>\n\n<p>but the method toDate() isnt working . i.e it says it is not recognized method.(so compile time error) but from what I can see it is in the Documentation </p>\n\n<p>Thank you for your time and of course happy Thanksgiving.</p>\n"},{"tags":["java","search","tree"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1668521130,"post_id":74444641,"comment_id":131421548,"body_markdown":"Is a company a department?","body":"Is a company a department?"},{"owner":{"account_id":26848932,"reputation":13,"user_id":20434225,"display_name":"wesky77"},"score":0,"creation_date":1668521521,"post_id":74444641,"comment_id":131421749,"body_markdown":"In this exercise yes.","body":"In this exercise yes."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668511402,"creation_date":1668511402,"answer_id":74444805,"question_id":74444641,"body_markdown":"You can use recursion\r\n```\r\npublic List&lt;Department&gt; findDepartmentByType( String type ) {\r\n  ArrayList&lt;Department&gt; result = new ArrayList&lt;&gt;();\r\n  findDepartmentByTypeImpl(type, getDepartments(), result);\r\n  return result;\r\n}\r\n\r\nprivate void findDepartmentByTypeImpl( String type, List&lt;Department&gt; departments, List&lt;Department&gt; result ) {\r\n  for (Department current : departments) {\r\n    if (type.equals(current.getType())) {\r\n      result.add(current);\r\n    }\r\n    if (current instanceof Company) {\r\n      findDepartmentByTypeImpl(type, ((Company) current).getDepartments(), result);\r\n    }\r\n  }\r\n}\r\n```\r\nbut it is also possible to use an iterative approach\r\n```\r\npublic List&lt;Department&gt; findDepartmentByType( String type ) {\r\n  ArrayList&lt;Department&gt; result = new ArrayList&lt;&gt;();\r\n\r\n  ArrayList&lt;Department&gt; stack = new ArrayList&lt;&gt;();\r\n  stack.addAll(getDepartments());\r\n  while (!stack.isEmpty()) {\r\n    Department current = stack.remove(stack.size() - 1);\r\n    if (type.equals(current.getType())) {\r\n      result.add(current);\r\n    }\r\n    if (current instanceof Company) {\r\n      stack.addAll(((Company) current).getDepartments());\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n```\r\n(Not tested, use at your own risk.)","title":"Java Tree Search","body":"<p>You can use recursion</p>\n<pre><code>public List&lt;Department&gt; findDepartmentByType( String type ) {\n  ArrayList&lt;Department&gt; result = new ArrayList&lt;&gt;();\n  findDepartmentByTypeImpl(type, getDepartments(), result);\n  return result;\n}\n\nprivate void findDepartmentByTypeImpl( String type, List&lt;Department&gt; departments, List&lt;Department&gt; result ) {\n  for (Department current : departments) {\n    if (type.equals(current.getType())) {\n      result.add(current);\n    }\n    if (current instanceof Company) {\n      findDepartmentByTypeImpl(type, ((Company) current).getDepartments(), result);\n    }\n  }\n}\n</code></pre>\n<p>but it is also possible to use an iterative approach</p>\n<pre><code>public List&lt;Department&gt; findDepartmentByType( String type ) {\n  ArrayList&lt;Department&gt; result = new ArrayList&lt;&gt;();\n\n  ArrayList&lt;Department&gt; stack = new ArrayList&lt;&gt;();\n  stack.addAll(getDepartments());\n  while (!stack.isEmpty()) {\n    Department current = stack.remove(stack.size() - 1);\n    if (type.equals(current.getType())) {\n      result.add(current);\n    }\n    if (current instanceof Company) {\n      stack.addAll(((Company) current).getDepartments());\n    }\n  }\n\n  return result;\n}\n</code></pre>\n<p>(Not tested, use at your own risk.)</p>\n"}],"owner":{"account_id":26848932,"reputation":13,"user_id":20434225,"display_name":"wesky77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74444805,"answer_count":1,"score":1,"last_activity_date":1668511402,"creation_date":1668510691,"question_id":74444641,"body_markdown":"I try to solve to problem with tree traversing.\r\nI feel I very close to solve it but I need more clue. \r\n\r\nSo I have two interfaces:\r\n\r\n\r\n```\r\npublic interface Department {\r\n\r\n    String getName();\r\n\r\n    String getType();\r\n}\r\n```\r\n\r\n\r\n```\r\npublic interface Company extends Department {\r\n    List&lt;Department&gt; getDepartments();\r\n}\r\n\r\n```\r\nSo this creates Tree structure. \r\n\r\nI want to find Department List by type.\r\n\r\nI implemented finding a single element already. \r\n\r\n```\r\npublic class Concern {\r\n    private List&lt;Department&gt; getDepartments;\r\n\r\n\r\n    public Optional&lt;Department&gt; findDepartmentByName(String name) {\r\n        return findDepartmentByPredicate(department -&gt; department.getName().equals(name)).findFirst();\r\n    }\r\n\r\n    public List&lt;Department&gt; findDeparmentByType(String type) {\r\n        return findDepartmentByPredicate(department -&gt; deparment.getType().equals(type))\r\n                .toList();\r\n    }\r\n\r\n    private Stream&lt;Department&gt; findDepartmentByPredicate(Predicate&lt;Department&gt; predicate) {\r\n        return department.stream()\r\n                .map(department -&gt; department.getMatchingDepartment(predicate))\r\n                .filter(Optional::isPresent)\r\n                .map(Optional::get);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI trying using this with one function. \r\n\r\n\r\n```\r\npublic interface Department {\r\n   ....\r\n\r\n    default Optional&lt;Department&gt; getMatchingDepartment(Predicate&lt;Department&gt; predicate) {\r\n        if (predicate.test(this)) {\r\n            return Optional.of(this);\r\n        }\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAnd this is a part where I don&#39;t how to do this.\r\n\r\nI try to call getMatchingDepartment on every list element but it don&#39;t traverse all child elements.\r\n\r\n\r\n```\r\npublic interface Comapny extends Deparment {\r\n\r\n    default Optional&lt;Department&gt; getMatchingDepartment(Predicate&lt;Department&gt; predicate) {\r\n        return getDepartments().stream()\r\n                .map(department -&gt; department.getMatchingDepartment(predicate))\r\n                .filter(Optional::isPresent)\r\n                .map(Optional::get)\r\n                .findFirst();\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\nIs it possible to do this that way ?\r\nI need to use recursion somehow? \r\n\r\n\r\n","title":"Java Tree Search","body":"<p>I try to solve to problem with tree traversing.\nI feel I very close to solve it but I need more clue.</p>\n<p>So I have two interfaces:</p>\n<pre><code>public interface Department {\n\n    String getName();\n\n    String getType();\n}\n</code></pre>\n<pre><code>public interface Company extends Department {\n    List&lt;Department&gt; getDepartments();\n}\n\n</code></pre>\n<p>So this creates Tree structure.</p>\n<p>I want to find Department List by type.</p>\n<p>I implemented finding a single element already.</p>\n<pre><code>public class Concern {\n    private List&lt;Department&gt; getDepartments;\n\n\n    public Optional&lt;Department&gt; findDepartmentByName(String name) {\n        return findDepartmentByPredicate(department -&gt; department.getName().equals(name)).findFirst();\n    }\n\n    public List&lt;Department&gt; findDeparmentByType(String type) {\n        return findDepartmentByPredicate(department -&gt; deparment.getType().equals(type))\n                .toList();\n    }\n\n    private Stream&lt;Department&gt; findDepartmentByPredicate(Predicate&lt;Department&gt; predicate) {\n        return department.stream()\n                .map(department -&gt; department.getMatchingDepartment(predicate))\n                .filter(Optional::isPresent)\n                .map(Optional::get);\n    }\n\n}\n</code></pre>\n<p>I trying using this with one function.</p>\n<pre><code>public interface Department {\n   ....\n\n    default Optional&lt;Department&gt; getMatchingDepartment(Predicate&lt;Department&gt; predicate) {\n        if (predicate.test(this)) {\n            return Optional.of(this);\n        }\n        return Optional.empty();\n    }\n}\n</code></pre>\n<p>And this is a part where I don't how to do this.</p>\n<p>I try to call getMatchingDepartment on every list element but it don't traverse all child elements.</p>\n<pre><code>public interface Comapny extends Deparment {\n\n    default Optional&lt;Department&gt; getMatchingDepartment(Predicate&lt;Department&gt; predicate) {\n        return getDepartments().stream()\n                .map(department -&gt; department.getMatchingDepartment(predicate))\n                .filter(Optional::isPresent)\n                .map(Optional::get)\n                .findFirst();\n\n    }\n\n\n}\n</code></pre>\n<p>Is it possible to do this that way ?\nI need to use recursion somehow?</p>\n"},{"tags":["java","dataframe","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":6099207,"reputation":6223,"user_id":4758823,"display_name":"Som"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1594786288,"creation_date":1594746040,"answer_id":62900270,"question_id":62898190,"body_markdown":"## Alternative-1 Create `empty dataframe` with the `user defined schema` ##\r\n```java\r\n// alternative - 1\r\n        StructType s = new StructType()\r\n                .add(new StructField(&quot;Column_1&quot;, DataTypes.StringType, true, Metadata.empty()));\r\n        Dataset&lt;Row&gt; csv = spark.read().schema(s).csv(spark.emptyDataset(Encoders.STRING()));\r\n        csv.show(false);\r\n        csv.printSchema();\r\n        /**\r\n         * +--------+\r\n         * |Column_1|\r\n         * +--------+\r\n         * +--------+\r\n         *\r\n         * root\r\n         *  |-- Column_1: string (nullable = true)\r\n         */\r\n```\r\n## Alternative-2 create dataframe with `null` value and `user defined schema` ##\r\n```java\r\n Dataset&lt;Row&gt; df4 = spark.sql(&quot;select cast(null  as string) Column_1&quot;);\r\n        df4.show(false);\r\n        df4.printSchema();\r\n        /**\r\n         * +--------+\r\n         * |Column_1|\r\n         * +--------+\r\n         * |null    |\r\n         * +--------+\r\n         *\r\n         * root\r\n         *  |-- Column_1: string (nullable = true)\r\n         */\r\n```\r\n## Alternative-3 ##\r\n```java\r\n ClassTag&lt;Row&gt; rowTag = scala.reflect.ClassTag$.MODULE$.apply(Row.class);\r\n        Dataset&lt;Row&gt; df5 = spark.createDataFrame(spark.sparkContext().emptyRDD(rowTag),\r\n                new StructType()\r\n                        .add(new StructField(&quot;Column_1&quot;, DataTypes.StringType, true, Metadata.empty())));\r\n        df5.show(false);\r\n        df5.printSchema();\r\n        /**\r\n         * +--------+\r\n         * |Column_1|\r\n         * +--------+\r\n         * +--------+\r\n         *\r\n         * root\r\n         *  |-- Column_1: string (nullable = true)\r\n         */\r\n```\r\n\r\n## `spark.emptyDataframe` to create dataframe without any column and value ##\r\n```java \r\n Dataset&lt;Row&gt; rowDataset = spark.emptyDataFrame();\r\n        rowDataset.show(false);\r\n        rowDataset.printSchema();\r\n        /**\r\n         * ++\r\n         * ||\r\n         * ++\r\n         * ++\r\n         *\r\n         * root\r\n         */\r\n```","title":"Create Empty dataframe Java Spark","body":"<h2>Alternative-1 Create <code>empty dataframe</code> with the <code>user defined schema</code></h2>\n<pre class=\"lang-java prettyprint-override\"><code>// alternative - 1\n        StructType s = new StructType()\n                .add(new StructField(&quot;Column_1&quot;, DataTypes.StringType, true, Metadata.empty()));\n        Dataset&lt;Row&gt; csv = spark.read().schema(s).csv(spark.emptyDataset(Encoders.STRING()));\n        csv.show(false);\n        csv.printSchema();\n        /**\n         * +--------+\n         * |Column_1|\n         * +--------+\n         * +--------+\n         *\n         * root\n         *  |-- Column_1: string (nullable = true)\n         */\n</code></pre>\n<h2>Alternative-2 create dataframe with <code>null</code> value and <code>user defined schema</code></h2>\n<pre class=\"lang-java prettyprint-override\"><code> Dataset&lt;Row&gt; df4 = spark.sql(&quot;select cast(null  as string) Column_1&quot;);\n        df4.show(false);\n        df4.printSchema();\n        /**\n         * +--------+\n         * |Column_1|\n         * +--------+\n         * |null    |\n         * +--------+\n         *\n         * root\n         *  |-- Column_1: string (nullable = true)\n         */\n</code></pre>\n<h2>Alternative-3</h2>\n<pre class=\"lang-java prettyprint-override\"><code> ClassTag&lt;Row&gt; rowTag = scala.reflect.ClassTag$.MODULE$.apply(Row.class);\n        Dataset&lt;Row&gt; df5 = spark.createDataFrame(spark.sparkContext().emptyRDD(rowTag),\n                new StructType()\n                        .add(new StructField(&quot;Column_1&quot;, DataTypes.StringType, true, Metadata.empty())));\n        df5.show(false);\n        df5.printSchema();\n        /**\n         * +--------+\n         * |Column_1|\n         * +--------+\n         * +--------+\n         *\n         * root\n         *  |-- Column_1: string (nullable = true)\n         */\n</code></pre>\n<h2><code>spark.emptyDataframe</code> to create dataframe without any column and value</h2>\n<pre class=\"lang-java prettyprint-override\"><code> Dataset&lt;Row&gt; rowDataset = spark.emptyDataFrame();\n        rowDataset.show(false);\n        rowDataset.printSchema();\n        /**\n         * ++\n         * ||\n         * ++\n         * ++\n         *\n         * root\n         */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6789104,"reputation":305,"user_id":5856262,"display_name":"oskarryn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668511294,"creation_date":1668511294,"answer_id":74444782,"question_id":62898190,"body_markdown":"Another approach to create an empty dataset with specified schema in Java is given in [this answer](https://stackoverflow.com/a/50362512/5856262).\r\n\r\nOnce you created the `schema` of type `StructType`, use\r\n\r\n```\r\nDataset&lt;Row&gt; emptyDataSet = spark.createDataFrame(new ArrayList&lt;&gt;(), schema);\r\n```","title":"Create Empty dataframe Java Spark","body":"<p>Another approach to create an empty dataset with specified schema in Java is given in <a href=\"https://stackoverflow.com/a/50362512/5856262\">this answer</a>.</p>\n<p>Once you created the <code>schema</code> of type <code>StructType</code>, use</p>\n<pre><code>Dataset&lt;Row&gt; emptyDataSet = spark.createDataFrame(new ArrayList&lt;&gt;(), schema);\n</code></pre>\n"}],"owner":{"account_id":12080821,"reputation":1067,"user_id":8832641,"accept_rate":83,"display_name":"Padfoot123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6310,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":62900270,"answer_count":2,"score":1,"last_activity_date":1668511294,"creation_date":1594739176,"question_id":62898190,"body_markdown":"There are many examples on how to create empty dataframe/Dataset using Spark Scala/Python. But I would like to know how to create an empty dataframe/Dataset in Java Spark.\r\n\r\nI have to create an empty dataframe with just one column with header as Column_1 and type String. \r\n\r\n ","title":"Create Empty dataframe Java Spark","body":"<p>There are many examples on how to create empty dataframe/Dataset using Spark Scala/Python. But I would like to know how to create an empty dataframe/Dataset in Java Spark.</p>\n<p>I have to create an empty dataframe with just one column with header as Column_1 and type String.</p>\n"},{"tags":["java","polymorphism","instanceof"],"comments":[{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":2,"creation_date":1289837865,"post_id":4186320,"comment_id":4523575,"body_markdown":"That&#39;s why he&#39;s asking a question delnan...","body":"That&#39;s why he&#39;s asking a question delnan..."},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1289844181,"post_id":4186320,"comment_id":4524882,"body_markdown":"Regarding the question in your edit, why not just try to compile it yourself?  You don&#39;t need the SO community to act as a compiler for you.","body":"Regarding the question in your edit, why not just try to compile it yourself?  You don&#39;t need the SO community to act as a compiler for you."},{"owner":{"account_id":34786,"reputation":13222,"user_id":98361,"accept_rate":93,"display_name":"JDelage"},"score":0,"creation_date":1289852999,"post_id":4186320,"comment_id":4526505,"body_markdown":"@Mark Peters - point well taken, my interest is not really what would happen, but more how differently the compiler would parse that.","body":"@Mark Peters - point well taken, my interest is not really what would happen, but more how differently the compiler would parse that."}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289837706,"creation_date":1289837706,"answer_id":4186340,"question_id":4186320,"body_markdown":"If `c1` is declared as a type of `Square` then casting is required. If it is a declared as an `Object` then casting is not needed.","title":"Why cast after an instanceOf?","body":"<p>If <code>c1</code> is declared as a type of <code>Square</code> then casting is required. If it is a declared as an <code>Object</code> then casting is not needed.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1289838511,"creation_date":1289837718,"answer_id":4186343,"question_id":4186320,"body_markdown":"Because this particular [syntactic sugar][1] is not yet added to the language. I think it was proposed for Java 7, but it doesn&#39;t seem to have entered [project coin][2]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Syntactic_sugar\r\n  [2]: http://openjdk.java.net/projects/coin/","title":"Why cast after an instanceOf?","body":"<p>Because this particular <a href=\"http://en.wikipedia.org/wiki/Syntactic_sugar\" rel=\"nofollow\">syntactic sugar</a> is not yet added to the language. I think it was proposed for Java 7, but it doesn't seem to have entered <a href=\"http://openjdk.java.net/projects/coin/\" rel=\"nofollow\">project coin</a></p>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1289838276,"creation_date":1289837720,"answer_id":4186344,"question_id":4186320,"body_markdown":"The compiler does not infer that since you are in the block, you have done a successful check for the type of the object.  An explicit cast is still required to tell the compiler that you wish to reference the object as a different type.\r\n\r\n    if (p1 instanceof Square) {\r\n        // if we are in here, we (programmer) know it&#39;s an instance of Square\r\n        // Here, we explicitly tell the compiler that p1 is a Square\r\n        c1 = (Square) p1;\r\n    }\r\n\r\nIn C# you can do the check and the cast in 1 call:\r\n\r\n    c1 = p1 as Square;\r\n\r\nThis will cast `p1` to a Square, and if the cast fails, c1 will be set to `null`.","title":"Why cast after an instanceOf?","body":"<p>The compiler does not infer that since you are in the block, you have done a successful check for the type of the object.  An explicit cast is still required to tell the compiler that you wish to reference the object as a different type.</p>\n\n<pre><code>if (p1 instanceof Square) {\n    // if we are in here, we (programmer) know it's an instance of Square\n    // Here, we explicitly tell the compiler that p1 is a Square\n    c1 = (Square) p1;\n}\n</code></pre>\n\n<p>In C# you can do the check and the cast in 1 call:</p>\n\n<pre><code>c1 = p1 as Square;\n</code></pre>\n\n<p>This will cast <code>p1</code> to a Square, and if the cast fails, c1 will be set to <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1405950297,"creation_date":1289837744,"answer_id":4186354,"question_id":4186320,"body_markdown":"Keep in mind, you could always assign an instance of Square to a type higher up the inheritance chain. You may then want to cast the less specific type to the more specific type, in which case you need to be sure that your cast is valid:\r\n\r\n    Object p1 = new Square();\r\n    Square c1;\r\n\r\n    if(p1 instanceof Square)\r\n        c1 = (Square) p1;","title":"Why cast after an instanceOf?","body":"<p>Keep in mind, you could always assign an instance of Square to a type higher up the inheritance chain. You may then want to cast the less specific type to the more specific type, in which case you need to be sure that your cast is valid:</p>\n\n<pre><code>Object p1 = new Square();\nSquare c1;\n\nif(p1 instanceof Square)\n    c1 = (Square) p1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":230830,"reputation":1352,"user_id":494667,"display_name":"Jules"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289837818,"creation_date":1289837818,"answer_id":4186371,"question_id":4186320,"body_markdown":"E.g. If you hand over p1 as of type Object, the compiler wouldn&#39;t know that it is in fact an instance of Square, so that Methods etc. wouldn&#39;t be accessible. The if simply checks for a certain type to return true/false, but that doesn&#39;t change the type of the variable p1.\r\n","title":"Why cast after an instanceOf?","body":"<p>E.g. If you hand over p1 as of type Object, the compiler wouldn't know that it is in fact an instance of Square, so that Methods etc. wouldn't be accessible. The if simply checks for a certain type to return true/false, but that doesn't change the type of the variable p1.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289837864,"creation_date":1289837864,"answer_id":4186381,"question_id":4186320,"body_markdown":"The test is done to prevent from `ClassCastExceptions` at runtime:\r\n   \r\n    Square c1 = null;\r\n    if (p1 instanceof Square) {\r\n       c1 = (Square) p1;\r\n    } else {\r\n       // we have a p1 that is not a subclass of Square\r\n    }\r\n\r\nIf you&#39;re absolutly positive that `p1` is a `Square`, then you don&#39;t have to test. But leave this to private methods...\r\n","title":"Why cast after an instanceOf?","body":"<p>The test is done to prevent from <code>ClassCastExceptions</code> at runtime:</p>\n\n<pre><code>Square c1 = null;\nif (p1 instanceof Square) {\n   c1 = (Square) p1;\n} else {\n   // we have a p1 that is not a subclass of Square\n}\n</code></pre>\n\n<p>If you're absolutly positive that <code>p1</code> is a <code>Square</code>, then you don't have to test. But leave this to private methods...</p>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289838362,"creation_date":1289838362,"answer_id":4186480,"question_id":4186320,"body_markdown":"The variable p1 has whatever type it started with - let&#39;s say Shape.  p1 is a Shape, and only a Shape, no matter that its current contents happen to be a Square.  You can call - let&#39;s say - side() on a Square, but not on a Shape.  So long as you are identifying the entity in question via the variable p1, whose type is Shape, you can&#39;t call side() on it, because of the type of the variable.  The way Java&#39;s type system works, if you can call p1.side() when you happen to know it&#39;s a Square, you can *always* call p1.side().  But p1 can hold not just Square Shapes, but also (say) Circle Shapes, and it would be an error to call p1.side() when p1 held a Circle.  So you need another variable to represent the Shape which you happen to know is a Square, a variable whose type is Square.  That&#39;s why the cast is necessary.","title":"Why cast after an instanceOf?","body":"<p>The variable p1 has whatever type it started with - let's say Shape.  p1 is a Shape, and only a Shape, no matter that its current contents happen to be a Square.  You can call - let's say - side() on a Square, but not on a Shape.  So long as you are identifying the entity in question via the variable p1, whose type is Shape, you can't call side() on it, because of the type of the variable.  The way Java's type system works, if you can call p1.side() when you happen to know it's a Square, you can <em>always</em> call p1.side().  But p1 can hold not just Square Shapes, but also (say) Circle Shapes, and it would be an error to call p1.side() when p1 held a Circle.  So you need another variable to represent the Shape which you happen to know is a Square, a variable whose type is Square.  That's why the cast is necessary.</p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1289838437,"creation_date":1289838437,"answer_id":4186496,"question_id":4186320,"body_markdown":"There&#39;s a difference between measuring if some object will fit in a box, and actually *putting* it in the box.  `instanceof` is the former, and casting is the latter.\r\n","title":"Why cast after an instanceOf?","body":"<p>There's a difference between measuring if some object will fit in a box, and actually <em>putting</em> it in the box.  <code>instanceof</code> is the former, and casting is the latter.</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1289843989,"creation_date":1289843989,"answer_id":4187388,"question_id":4186320,"body_markdown":"Not to be obnoxious, but you have to tell the compiler what you want to do because the alternative would be for it to guess what you&#39;re trying to do. Sure, you might think, &quot;If I&#39;m checking the type of an object, OBVIOUSLY that must mean that I want to cast it to that type.&quot; But who says? Maybe that&#39;s what you&#39;re up to and maybe it isn&#39;t.\r\n\r\nSure, in a simple case like\r\n\r\n    if (x instanceof Integer)\r\n    {\r\n      Integer ix=(Integer) x;\r\n      ...\r\n\r\nMy intent is pretty obvious. Or is it? Maybe what I really want is:\r\n\r\n    if (x instanceof Integer || x instanceof Double)\r\n    {\r\n      Number n=(Number) x;\r\n    ... work with n ...\r\n\r\nOr what if I wrote:\r\n\r\n    if (x instanceof Integer || x instanceof String)\r\n\r\nWhat would you expect the compiler to do next? What type should it assume for x?\r\n\r\nRE the comments that instanceof is obsolete or otherwise a bad idea: It can certainly be mis-used. I recently worked on a program where the original author created six classes that all turned out to be pages and pages long, but identical to each other, and the only apparent reason for having them was so he could say &quot;x instanceof classA&quot; versus &quot;x instanceof classB&quot;, etc. That is, he used the class as a type flag. It would have been better to just have one class and add an enum for the various types. But there are also plenty of very good uses. Perhaps the most obvious is something like:\r\n\r\n    public MyClass\r\n    {\r\n      int foo;\r\n      String bar;\r\n      public boolean equals(Object othat)\r\n      {\r\n        if (!(othat instanceof MyClass))\r\n          return false;\r\n        MyClass that=(MyClass) othat;\r\n        return this.foo==that.foo &amp;&amp; this.bar.equals(that.bar); \r\n      }\r\n      ... etc ...\r\n    }\r\n\r\nHow would you do that without using instanceof? You could make the parameter be of type MyClass instead of Object. But then there&#39;s be no way to even call it with a generic Object, which could be highly desirable in many cases. Indeed, maybe I want a collection to include, say, both Strings and Integers, and I want comparisons of unlike types to simply return false.","title":"Why cast after an instanceOf?","body":"<p>Not to be obnoxious, but you have to tell the compiler what you want to do because the alternative would be for it to guess what you're trying to do. Sure, you might think, \"If I'm checking the type of an object, OBVIOUSLY that must mean that I want to cast it to that type.\" But who says? Maybe that's what you're up to and maybe it isn't.</p>\n\n<p>Sure, in a simple case like</p>\n\n<pre><code>if (x instanceof Integer)\n{\n  Integer ix=(Integer) x;\n  ...\n</code></pre>\n\n<p>My intent is pretty obvious. Or is it? Maybe what I really want is:</p>\n\n<pre><code>if (x instanceof Integer || x instanceof Double)\n{\n  Number n=(Number) x;\n... work with n ...\n</code></pre>\n\n<p>Or what if I wrote:</p>\n\n<pre><code>if (x instanceof Integer || x instanceof String)\n</code></pre>\n\n<p>What would you expect the compiler to do next? What type should it assume for x?</p>\n\n<p>RE the comments that instanceof is obsolete or otherwise a bad idea: It can certainly be mis-used. I recently worked on a program where the original author created six classes that all turned out to be pages and pages long, but identical to each other, and the only apparent reason for having them was so he could say \"x instanceof classA\" versus \"x instanceof classB\", etc. That is, he used the class as a type flag. It would have been better to just have one class and add an enum for the various types. But there are also plenty of very good uses. Perhaps the most obvious is something like:</p>\n\n<pre><code>public MyClass\n{\n  int foo;\n  String bar;\n  public boolean equals(Object othat)\n  {\n    if (!(othat instanceof MyClass))\n      return false;\n    MyClass that=(MyClass) othat;\n    return this.foo==that.foo &amp;&amp; this.bar.equals(that.bar); \n  }\n  ... etc ...\n}\n</code></pre>\n\n<p>How would you do that without using instanceof? You could make the parameter be of type MyClass instead of Object. But then there's be no way to even call it with a generic Object, which could be highly desirable in many cases. Indeed, maybe I want a collection to include, say, both Strings and Integers, and I want comparisons of unlike types to simply return false.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1647799529,"creation_date":1439112486,"answer_id":31902768,"question_id":4186320,"body_markdown":"Old code will not work correctly\r\n===\r\nThe *implied cast feature* is justified after all but we have trouble to implement this FR to java because of backward-compatibility. \r\n\r\nSee this:\r\n\r\n    public class A {\r\n        public static void draw(Square s){...} // with implied cast\r\n        public static void draw(Object o){...} // without implied cast\r\n        public static void main(String[] args) {\r\n            final Object foo = new Square();\r\n            if (foo instanceof Square) {\r\n                draw(foo);\r\n            }\r\n        }\r\n    }\r\n\r\nThe current JDK would compile the usage of the second declared method. \r\nIf we implement this FR in java, it would compile to use the first method! \r\n\r\n\r\n&#128308; JDK 14\r\n-\r\nWe finally implemented this feature in JDK 14. As you might have noticed you can declare a new variable within the instanceof-linkage. This new variable has been defined by the value of a automatically downcast to the specified type.\r\n\r\n    if (any instanceof String s) {\r\n      System.out.println(s);\r\n    }\r\n","title":"Why cast after an instanceOf?","body":"<h1>Old code will not work correctly</h1>\n<p>The <em>implied cast feature</em> is justified after all but we have trouble to implement this FR to java because of backward-compatibility.</p>\n<p>See this:</p>\n<pre><code>public class A {\n    public static void draw(Square s){...} // with implied cast\n    public static void draw(Object o){...} // without implied cast\n    public static void main(String[] args) {\n        final Object foo = new Square();\n        if (foo instanceof Square) {\n            draw(foo);\n        }\n    }\n}\n</code></pre>\n<p>The current JDK would compile the usage of the second declared method.\nIf we implement this FR in java, it would compile to use the first method!</p>\n<h2>🔴 JDK 14</h2>\n<p>We finally implemented this feature in JDK 14. As you might have noticed you can declare a new variable within the instanceof-linkage. This new variable has been defined by the value of a automatically downcast to the specified type.</p>\n<pre><code>if (any instanceof String s) {\n  System.out.println(s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4893749,"reputation":490,"user_id":3944040,"display_name":"Leroy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1668511248,"creation_date":1590749677,"answer_id":62084293,"question_id":4186320,"body_markdown":"Just to provide an update on this, Java 14 now provides pattern matching for instanceof, this allows you to check and cast in one fell swoop.\r\n\r\nThis (old way):\r\n```\r\nvoid outputValue(Object obj) {\r\n    if (obj instanceof String) {                      // Compare\r\n        String aString = (String) obj;                // New variable &amp; explicit casting\r\n        System.out.println(aString.toUpperCase());    // Access member\r\n    }\r\n}\r\n```\r\n\r\nCan be simplified to this:\r\n```\r\nvoid outputValue(Object obj) {\r\n    if (obj instanceof String aString) {              // Compare and cast (if true)\r\n        System.out.println(aString.toUpperCase());    // Access member\r\n    }\r\n}\r\n```","title":"Why cast after an instanceOf?","body":"<p>Just to provide an update on this, Java 14 now provides pattern matching for instanceof, this allows you to check and cast in one fell swoop.</p>\n<p>This (old way):</p>\n<pre><code>void outputValue(Object obj) {\n    if (obj instanceof String) {                      // Compare\n        String aString = (String) obj;                // New variable &amp; explicit casting\n        System.out.println(aString.toUpperCase());    // Access member\n    }\n}\n</code></pre>\n<p>Can be simplified to this:</p>\n<pre><code>void outputValue(Object obj) {\n    if (obj instanceof String aString) {              // Compare and cast (if true)\n        System.out.println(aString.toUpperCase());    // Access member\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663870585,"creation_date":1635239481,"answer_id":69720373,"question_id":4186320,"body_markdown":"As Leroy mentioned, Java 14 introduces [pattern matching][1] for instanceof. So, you can combine both instanceof check and typecast altogether in a single expression: \r\n\r\n```java\r\nif (p1 instanceof Square) {\r\n    c1 = (Square) p1;\r\n}\r\n```\r\n\r\ncan be rewritten as \r\n\r\n```java\r\nif (p1 instanceof Square c1) {\r\n    // use c1\r\n}\r\n```\r\n\r\nThis feature is finalized in Java 16 (JEP 394). For the below versions, refer [this][1] link to enable this preview feature from IDEs such as IntelliJ, Eclipse, and STS.\r\n\r\n\r\n  [1]: https://tedblob.com/java-pattern-matching-instanceof/","title":"Why cast after an instanceOf?","body":"<p>As Leroy mentioned, Java 14 introduces <a href=\"https://tedblob.com/java-pattern-matching-instanceof/\" rel=\"nofollow noreferrer\">pattern matching</a> for instanceof. So, you can combine both instanceof check and typecast altogether in a single expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (p1 instanceof Square) {\n    c1 = (Square) p1;\n}\n</code></pre>\n<p>can be rewritten as</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (p1 instanceof Square c1) {\n    // use c1\n}\n</code></pre>\n<p>This feature is finalized in Java 16 (JEP 394). For the below versions, refer <a href=\"https://tedblob.com/java-pattern-matching-instanceof/\" rel=\"nofollow noreferrer\">this</a> link to enable this preview feature from IDEs such as IntelliJ, Eclipse, and STS.</p>\n"}],"owner":{"account_id":34786,"reputation":13222,"user_id":98361,"accept_rate":93,"display_name":"JDelage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49651,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":4186354,"answer_count":12,"score":41,"last_activity_date":1668511248,"creation_date":1289837560,"question_id":4186320,"body_markdown":"In the example below (from my coursepack), we want to give to the `Square` instance `c1` the reference of some other object `p1`, but only if those 2 are of compatible types.\r\n\r\n    if (p1 instanceof Square) {c1 = (Square) p1;}\r\n\r\nWhat I don&#39;t understand here is that we first check that `p1` is indeed a `Square`, and then we still cast it.  If it&#39;s a `Square`, why cast?\r\n\r\nI suspect the answer lies in the distinction between apparent and actual types, but I&#39;m confused nonetheless...\r\n\r\n**Edit:**  \r\nHow would the compiler deal with:\r\n\r\n    if (p1 instanceof Square) {c1 = p1;}\r\n\r\n**Edit2:**  \r\nIs the issue that `instanceof` checks for the _actual_ type rather than the _apparent_ type?  And then that the cast changes the _apparent_ type?\r\n","title":"Why cast after an instanceOf?","body":"<p>In the example below (from my coursepack), we want to give to the <code>Square</code> instance <code>c1</code> the reference of some other object <code>p1</code>, but only if those 2 are of compatible types.</p>\n<pre><code>if (p1 instanceof Square) {c1 = (Square) p1;}\n</code></pre>\n<p>What I don't understand here is that we first check that <code>p1</code> is indeed a <code>Square</code>, and then we still cast it.  If it's a <code>Square</code>, why cast?</p>\n<p>I suspect the answer lies in the distinction between apparent and actual types, but I'm confused nonetheless...</p>\n<p><strong>Edit:</strong><br />\nHow would the compiler deal with:</p>\n<pre><code>if (p1 instanceof Square) {c1 = p1;}\n</code></pre>\n<p><strong>Edit2:</strong><br />\nIs the issue that <code>instanceof</code> checks for the <em>actual</em> type rather than the <em>apparent</em> type?  And then that the cast changes the <em>apparent</em> type?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9110,"page":882,"page_size":100}
