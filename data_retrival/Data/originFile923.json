{"items":[{"tags":["java","javafx","focus","contextmenu","textfield"],"comments":[{"owner":{"account_id":2287595,"reputation":67,"user_id":2011256,"accept_rate":75,"display_name":"Masy"},"score":0,"creation_date":1552135946,"post_id":55077121,"comment_id":96901465,"body_markdown":"Sure, I added an example.","body":"Sure, I added an example."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1552143593,"post_id":55077121,"comment_id":96903512,"body_markdown":"ooookay .. can&#39;t reproduce the not-selection, but had seen it, so seems to be very random ;) As to the details of your requirements: a bit hard to follow - in your shoes I would have a look at ContextMenuSkin and ContextMenuContent,  latter is doing all the key bindings, selections and such - you might be able to hook into them (if your context isn&#39;t too complex like having multiple levels of submenus).","body":"ooookay .. can&#39;t reproduce the not-selection, but had seen it, so seems to be very random ;) As to the details of your requirements: a bit hard to follow - in your shoes I would have a look at ContextMenuSkin and ContextMenuContent,  latter is doing all the key bindings, selections and such - you might be able to hook into them (if your context isn&#39;t too complex like having multiple levels of submenus)."}],"answers":[{"tags":[],"owner":{"account_id":16410239,"reputation":181,"user_id":11853737,"display_name":"Caelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572808926,"creation_date":1572808926,"answer_id":58683801,"question_id":55077121,"body_markdown":"I workaround the problem in Kotlin by opening a &quot;fake&quot; ContextMenu in the AutoCompleteTextField init-block and closing it after one millisecond in other coroutine. \r\n\r\nYou can do that in Java as well with a new thread. Hope it helps!\r\n\r\n    GlobalScope.launch {\r\n        Platform.runLater {\r\n            suggestionMenu.items.add(MenuItem(&quot;fake&quot;))\r\n            suggestionMenu.show(this@AutoCompleteTextField, Side.BOTTOM, 0.0, 0.0)\r\n        }\r\n        delay(1)\r\n        Platform.runLater {\r\n            suggestionMenu.hide()\r\n        }\r\n    }\r\n","title":"Controlling a JavaFX ContextMenu connected to a TextField with the arrow keys","body":"<p>I workaround the problem in Kotlin by opening a \"fake\" ContextMenu in the AutoCompleteTextField init-block and closing it after one millisecond in other coroutine. </p>\n\n<p>You can do that in Java as well with a new thread. Hope it helps!</p>\n\n<pre><code>GlobalScope.launch {\n    Platform.runLater {\n        suggestionMenu.items.add(MenuItem(\"fake\"))\n        suggestionMenu.show(this@AutoCompleteTextField, Side.BOTTOM, 0.0, 0.0)\n    }\n    delay(1)\n    Platform.runLater {\n        suggestionMenu.hide()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667089370,"creation_date":1619329022,"answer_id":67250132,"question_id":55077121,"body_markdown":"I created a solution based on [this][1] and the `ContextMenuContent.class`.\r\n\r\n`ContextMenuContent`, as kleopatra suggested, does most of the key bindings. Inside, there is a method called `requestFocusOnIndex()` that allowed me to get rid that weird behavior.\r\n\r\nSo your code could be:\r\n\r\n    textField.addEventFilter(KeyEvent.KEY_PRESSED, event-&gt;{\r\n\t\tif(event.getCode() == KeyCode.DOWN) {\r\n\t\t\tif(!suggestionMenu.isShowing())\r\n\t\t\t\tsuggestionMenu.show(textField, Side.BOTTOM, 0, 0);\r\n\t\t\tsuggestionMenuKeyBindings = (ContextMenuContent) suggestionMenu.getSkin().getNode();\r\n\t\t\tsuggestionMenuKeyBindings.requestFocusOnIndex(0);\r\n\t\t}\r\n\t});\r\nAlso, you will need to put \r\n\r\n    --add-exports javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED\r\nWhen compiling AND running, otherwise you may get an IllegalAccessError\r\n\r\n  [1]: https://stackoverflow.com/questions/59688014/is-there-a-way-to-access-contextmenu-scroll-arrows-scroll-bar-javafx","title":"Controlling a JavaFX ContextMenu connected to a TextField with the arrow keys","body":"<p>I created a solution based on <a href=\"https://stackoverflow.com/questions/59688014/is-there-a-way-to-access-contextmenu-scroll-arrows-scroll-bar-javafx\">this</a> and the <code>ContextMenuContent.class</code>.</p>\n<p><code>ContextMenuContent</code>, as kleopatra suggested, does most of the key bindings. Inside, there is a method called <code>requestFocusOnIndex()</code> that allowed me to get rid that weird behavior.</p>\n<p>So your code could be:</p>\n<pre><code>textField.addEventFilter(KeyEvent.KEY_PRESSED, event-&gt;{\n    if(event.getCode() == KeyCode.DOWN) {\n        if(!suggestionMenu.isShowing())\n            suggestionMenu.show(textField, Side.BOTTOM, 0, 0);\n        suggestionMenuKeyBindings = (ContextMenuContent) suggestionMenu.getSkin().getNode();\n        suggestionMenuKeyBindings.requestFocusOnIndex(0);\n    }\n});\n</code></pre>\n<p>Also, you will need to put</p>\n<pre><code>--add-exports javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED\n</code></pre>\n<p>When compiling AND running, otherwise you may get an IllegalAccessError</p>\n"}],"owner":{"account_id":2287595,"reputation":67,"user_id":2011256,"accept_rate":75,"display_name":"Masy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667089370,"creation_date":1552132743,"question_id":55077121,"body_markdown":"I am trying to make an autocomplete style **TextField** that uses a **ContextMenu** to display the suggestions below the TextField. I would like for the ContextMenu to be displayed when a user presses the down key while focus is on the TextField. This is my current solution:\r\n\r\n    setOnKeyPressed(event -&gt; {\r\n            System.out.println(&quot;pressed &quot; + event.getCode());\r\n            switch (event.getCode()) {\r\n                case DOWN:\r\n                    if(getText().length()&gt;0) {\r\n                        if (!suggestionMenu.isShowing()) {\r\n                            suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\r\n                        }\r\n                        suggestionMenu.getSkin().getNode().lookup(&quot;.menu-item&quot;).requestFocus();\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n\r\n&gt; *Source: https://stackoverflow.com/questions/27332981/contextmenu-and-programmatically-selecting-an-item/27333547#27333547*\r\n\r\nUsing this code, the down arrow always &quot;selects&quot; (colours blue) the first item in the list. The problem is that sometimes (seems random to me), the second arrow key-press will not yield any response in the ContextMenu - the first item will stay selected. After that press, it will always work fine.\r\n\r\nI would also prefer that pressing up while having the first element selected would hide the ContextMenu, and that space would not fire the *onAction* method of the **MenuItem**s, though I don&#39;t really understand how the focus/event listening for this menu works. It seems like the keyboard has two focuses at once - up/down, spacebar and enter on the ContextMenu, while everything else goes to the TextField.\r\n\r\nEdit:\r\nHere is a complete example. When showing the ContextMenu using the arrow down key, sometimes it will cause the problematic behaviour, other times not.\r\n\r\n**Main.java**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage stage) throws Exception {\r\n    \t\tBorderPane pane = new BorderPane();\r\n    \t\tAutoCompleteTextField actf = new AutoCompleteTextField();\r\n    \t\tpane.setTop(actf);\r\n    \t\tstage.setScene(new Scene(pane));\r\n    \t\tstage.show();\r\n    \t}\r\n    }\r\n\r\n**AutoCompleteTextField.java**\r\n\r\n    import javafx.geometry.Side;\r\n    import javafx.scene.control.ContextMenu;\r\n    import javafx.scene.control.CustomMenuItem;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class AutoCompleteTextField extends TextField {\r\n        private ContextMenu suggestionMenu;\r\n    \r\n        public AutoCompleteTextField(){\r\n            super();\r\n            suggestionMenu = new ContextMenu();\r\n            for(int i = 0; i&lt;5; i++) {\r\n                CustomMenuItem item = new CustomMenuItem(new Label(&quot;Item &quot;+i), true);\r\n                item.setOnAction(event -&gt; {\r\n                    setText(&quot;selected&quot;);\r\n                    positionCaret(getText().length());\r\n                    suggestionMenu.hide();\r\n                });\r\n                suggestionMenu.getItems().add(item);\r\n            }\r\n    \r\n            textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                if(getText().length()&gt;0){\r\n                    if (!suggestionMenu.isShowing())\r\n                        suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\r\n                } else {\r\n                    suggestionMenu.hide();\r\n                }\r\n            });\r\n    \r\n            setOnKeyPressed(event -&gt; {\r\n                System.out.println(&quot;pressed &quot; + event.getCode());\r\n                switch (event.getCode()) {\r\n                    case DOWN:\r\n                        if(getText().length()&gt;0) {\r\n                            if (!suggestionMenu.isShowing()) {\r\n                                suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\r\n                            }\r\n                            suggestionMenu.getSkin().getNode().lookup(&quot;.menu-item&quot;).requestFocus();\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Controlling a JavaFX ContextMenu connected to a TextField with the arrow keys","body":"<p>I am trying to make an autocomplete style <strong>TextField</strong> that uses a <strong>ContextMenu</strong> to display the suggestions below the TextField. I would like for the ContextMenu to be displayed when a user presses the down key while focus is on the TextField. This is my current solution:</p>\n\n<pre><code>setOnKeyPressed(event -&gt; {\n        System.out.println(\"pressed \" + event.getCode());\n        switch (event.getCode()) {\n            case DOWN:\n                if(getText().length()&gt;0) {\n                    if (!suggestionMenu.isShowing()) {\n                        suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\n                    }\n                    suggestionMenu.getSkin().getNode().lookup(\".menu-item\").requestFocus();\n                }\n                break;\n        }\n    });\n</code></pre>\n\n<blockquote>\n  <p><em>Source: <a href=\"https://stackoverflow.com/questions/27332981/contextmenu-and-programmatically-selecting-an-item/27333547#27333547\">ContextMenu and programmatically selecting an item</a></em></p>\n</blockquote>\n\n<p>Using this code, the down arrow always \"selects\" (colours blue) the first item in the list. The problem is that sometimes (seems random to me), the second arrow key-press will not yield any response in the ContextMenu - the first item will stay selected. After that press, it will always work fine.</p>\n\n<p>I would also prefer that pressing up while having the first element selected would hide the ContextMenu, and that space would not fire the <em>onAction</em> method of the <strong>MenuItem</strong>s, though I don't really understand how the focus/event listening for this menu works. It seems like the keyboard has two focuses at once - up/down, spacebar and enter on the ContextMenu, while everything else goes to the TextField.</p>\n\n<p>Edit:\nHere is a complete example. When showing the ContextMenu using the arrow down key, sometimes it will cause the problematic behaviour, other times not.</p>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        BorderPane pane = new BorderPane();\n        AutoCompleteTextField actf = new AutoCompleteTextField();\n        pane.setTop(actf);\n        stage.setScene(new Scene(pane));\n        stage.show();\n    }\n}\n</code></pre>\n\n<p><strong>AutoCompleteTextField.java</strong></p>\n\n<pre><code>import javafx.geometry.Side;\nimport javafx.scene.control.ContextMenu;\nimport javafx.scene.control.CustomMenuItem;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\n\npublic class AutoCompleteTextField extends TextField {\n    private ContextMenu suggestionMenu;\n\n    public AutoCompleteTextField(){\n        super();\n        suggestionMenu = new ContextMenu();\n        for(int i = 0; i&lt;5; i++) {\n            CustomMenuItem item = new CustomMenuItem(new Label(\"Item \"+i), true);\n            item.setOnAction(event -&gt; {\n                setText(\"selected\");\n                positionCaret(getText().length());\n                suggestionMenu.hide();\n            });\n            suggestionMenu.getItems().add(item);\n        }\n\n        textProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if(getText().length()&gt;0){\n                if (!suggestionMenu.isShowing())\n                    suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\n            } else {\n                suggestionMenu.hide();\n            }\n        });\n\n        setOnKeyPressed(event -&gt; {\n            System.out.println(\"pressed \" + event.getCode());\n            switch (event.getCode()) {\n                case DOWN:\n                    if(getText().length()&gt;0) {\n                        if (!suggestionMenu.isShowing()) {\n                            suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\n                        }\n                        suggestionMenu.getSkin().getNode().lookup(\".menu-item\").requestFocus();\n                    }\n                    break;\n            }\n        });\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-functions","firebase-cloud-messaging","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666947761,"creation_date":1666947761,"answer_id":74232968,"question_id":74232839,"body_markdown":"Use\r\n\r\n    Notification noti=new Notification(&quot;Title&quot;,&quot;Body&quot;);\r\n    Message messages = Message.builder()\r\n            .setNotification(noti)\r\n                .setToken(registrationToken)\r\n                .build();","title":"Uncompilable code - cannot find symbol: method builder() location: class com.google.firebase.messaging.Notification","body":"<p>Use</p>\n<pre><code>Notification noti=new Notification(&quot;Title&quot;,&quot;Body&quot;);\nMessage messages = Message.builder()\n        .setNotification(noti)\n            .setToken(registrationToken)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667088836,"creation_date":1666947116,"question_id":74232839,"body_markdown":"I&#39;m trying to send a notification from my Java web app to Android using FCM, but I&#39;m getting an error:\r\n\r\n&gt; Uncompilable code - cannot find symbol   symbol:   method builder()  \r\n&gt; location: class com.google.firebase.messaging.Notification\r\n\r\nMy full code:\r\n\r\n~~~\r\npublic class FirebaseMessagingSnippets {\r\n    \r\n    public final static String registrationToken = &quot;token&quot;;\r\n    public final static String API_URL_FCM = &quot;https://fcm.googleapis.com/fcm/send&quot;;\r\n    public static void sendAll() throws FirebaseMessagingException, FileNotFoundException, IOException{\r\n      \r\n        //System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\r\n\r\n    FileInputStream serviceAccount =\r\n      new FileInputStream(&quot;service.json&quot;);\r\n\r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n      .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n      .build();\r\n\r\n    FirebaseApp.initializeApp(options);\r\n\r\n    Message messages = Message.builder()\r\n            .setNotification(Notification.builder()\r\n                .setTitle(&quot;Price drop&quot;)\r\n                .setBody(&quot;2% off all books&quot;)\r\n                .build())\r\n                .putData(&quot;title&quot;, &quot;850&quot;)\r\n                .putData(&quot;body&quot;, &quot;2:45&quot;)\r\n                .setToken(registrationToken)\r\n                .build();\r\n       // Send a message to the device corresponding to the provided\r\n    // registration token.\r\n    String response = FirebaseMessaging.getInstance().send(messages);\r\n    // Response is a message ID string.\r\n    System.out.println(&quot;Successfully sent message: &quot; + response);\r\n    \r\n  }\r\n   \r\n}\r\n~~~\r\n\r\n\r\nThere&#39;s no issue with Message.builder(), only for Notification.builder().\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iSyEx.png","title":"Uncompilable code - cannot find symbol: method builder() location: class com.google.firebase.messaging.Notification","body":"<p>I'm trying to send a notification from my Java web app to Android using FCM, but I'm getting an error:</p>\n<blockquote>\n<p>Uncompilable code - cannot find symbol   symbol:   method builder()<br />\nlocation: class com.google.firebase.messaging.Notification</p>\n</blockquote>\n<p>My full code:</p>\n<pre><code>public class FirebaseMessagingSnippets {\n    \n    public final static String registrationToken = &quot;token&quot;;\n    public final static String API_URL_FCM = &quot;https://fcm.googleapis.com/fcm/send&quot;;\n    public static void sendAll() throws FirebaseMessagingException, FileNotFoundException, IOException{\n      \n        //System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\n\n    FileInputStream serviceAccount =\n      new FileInputStream(&quot;service.json&quot;);\n\n    FirebaseOptions options = new FirebaseOptions.Builder()\n      .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n      .build();\n\n    FirebaseApp.initializeApp(options);\n\n    Message messages = Message.builder()\n            .setNotification(Notification.builder()\n                .setTitle(&quot;Price drop&quot;)\n                .setBody(&quot;2% off all books&quot;)\n                .build())\n                .putData(&quot;title&quot;, &quot;850&quot;)\n                .putData(&quot;body&quot;, &quot;2:45&quot;)\n                .setToken(registrationToken)\n                .build();\n       // Send a message to the device corresponding to the provided\n    // registration token.\n    String response = FirebaseMessaging.getInstance().send(messages);\n    // Response is a message ID string.\n    System.out.println(&quot;Successfully sent message: &quot; + response);\n    \n  }\n   \n}\n</code></pre>\n<p>There's no issue with Message.builder(), only for Notification.builder().</p>\n<p><a href=\"https://i.stack.imgur.com/iSyEx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSyEx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","intellij-idea"],"owner":{"account_id":26645528,"reputation":46,"user_id":20368478,"display_name":"MikeW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1667087861,"creation_date":1667086657,"question_id":74249598,"body_markdown":"I have a Java/Gradle project that I imported into IntelliJ. When I open the Generate menu (Alt+Insert) for a `build.gradle` file, I don&#39;t see an &quot;Add dependency...&quot; option.\r\n\r\n**Details:** I imported a multi-project Java/Gradle build into IntelliJ [New &gt; Project From Existing Sources...]. The top-level project only has a `settings.gradle` file (excluding the `gradlew` scripts) that looks like this:\r\n\r\n\r\n```\r\nrootProject.name = &#39;project&#39;\r\n\r\ninclude &#39;subproject1&#39;\r\ninclude &#39;subproject2&#39;\r\ninclude &#39;subproject3&#39;\r\n```\r\n\r\nWhen I open the `build.gradle` file for any sub-project, however, the Generate menu (Alt+Insert) doesn&#39;t have an &quot;Add Dependency...&quot; option. My only option is to manually type in the dependency.\r\n\r\nOther Notes:\r\n\r\n* I also don&#39;t see a &quot;Dependencies&quot; option in the &quot;View &gt; Tool Windows&quot; menu.\r\n* When I manually type in the dependency, auto-complete still works.\r\n* AFAIK, all other Gradle functionality works just fine in IntelliJ. \r\n* I also have a separate single-project Java/Gradle build that I created via IntelliJ [New &gt; Project...], and I can generate dependencies just fine in that project.\r\n\r\n**Versions:**\r\n\r\n* Ubuntu 22.04 LTS\r\n* Gradle 7.3.2 [installed via snap]\r\n* OpenJDK 17 [installed via apt]\r\n* IntelliJ IDEA 2022.2.3 (Community Edition) [installed via snap]\r\n\r\n","title":"IntelliJ: Cannot Generate Dependencies (Alt+Insert) for Java/Gradle Project","body":"<p>I have a Java/Gradle project that I imported into IntelliJ. When I open the Generate menu (Alt+Insert) for a <code>build.gradle</code> file, I don't see an &quot;Add dependency...&quot; option.</p>\n<p><strong>Details:</strong> I imported a multi-project Java/Gradle build into IntelliJ [New &gt; Project From Existing Sources...]. The top-level project only has a <code>settings.gradle</code> file (excluding the <code>gradlew</code> scripts) that looks like this:</p>\n<pre><code>rootProject.name = 'project'\n\ninclude 'subproject1'\ninclude 'subproject2'\ninclude 'subproject3'\n</code></pre>\n<p>When I open the <code>build.gradle</code> file for any sub-project, however, the Generate menu (Alt+Insert) doesn't have an &quot;Add Dependency...&quot; option. My only option is to manually type in the dependency.</p>\n<p>Other Notes:</p>\n<ul>\n<li>I also don't see a &quot;Dependencies&quot; option in the &quot;View &gt; Tool Windows&quot; menu.</li>\n<li>When I manually type in the dependency, auto-complete still works.</li>\n<li>AFAIK, all other Gradle functionality works just fine in IntelliJ.</li>\n<li>I also have a separate single-project Java/Gradle build that I created via IntelliJ [New &gt; Project...], and I can generate dependencies just fine in that project.</li>\n</ul>\n<p><strong>Versions:</strong></p>\n<ul>\n<li>Ubuntu 22.04 LTS</li>\n<li>Gradle 7.3.2 [installed via snap]</li>\n<li>OpenJDK 17 [installed via apt]</li>\n<li>IntelliJ IDEA 2022.2.3 (Community Edition) [installed via snap]</li>\n</ul>\n"},{"tags":["java","spring","database","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1667088877,"post_id":74249657,"comment_id":131088417,"body_markdown":"This pretty much sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). If I understand you correctly, you want that the connection is created when you set some property at runtime, and is later destroyed when the property is reset? This has consequences. I suspect that you use this bean somewhere (through DI), and those beans can only (!) be created when the conditional bean is present, and must be destroyed when the conditional bean is destroyed. This is not how a DI container normally operates. Why do you want to do this?","body":"This pretty much sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. If I understand you correctly, you want that the connection is created when you set some property at runtime, and is later destroyed when the property is reset? This has consequences. I suspect that you use this bean somewhere (through DI), and those beans can only (!) be created when the conditional bean is present, and must be destroyed when the conditional bean is destroyed. This is not how a DI container normally operates. Why do you want to do this?"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667089424,"post_id":74249657,"comment_id":131088476,"body_markdown":"Not a XY problem because as described, those configuration classes are running automatically, which causes issues setting the correct database configurations. Responding to your question, I want this because I have multiple h2 databases under a specific path. Based on a selection it&#39;s done once the application starts, it&#39;s needed to build and connect to the selected database, instead of automatically connecting to one of them","body":"Not a XY problem because as described, those configuration classes are running automatically, which causes issues setting the correct database configurations. Responding to your question, I want this because I have multiple h2 databases under a specific path. Based on a selection it&#39;s done once the application starts, it&#39;s needed to build and connect to the selected database, instead of automatically connecting to one of them"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667089558,"post_id":74249657,"comment_id":131088490,"body_markdown":"Why not create connections to all of them, and use the connection needed in the specific use cases?","body":"Why not create connections to all of them, and use the connection needed in the specific use cases?"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667089684,"post_id":74249657,"comment_id":131088504,"body_markdown":"Cause some of it might not exist (based on the selection options), so a custom database is created based on pre-configuration, once that configuration is done, then I can safely run the database connection algorithm based on the new custom configuration","body":"Cause some of it might not exist (based on the selection options), so a custom database is created based on pre-configuration, once that configuration is done, then I can safely run the database connection algorithm based on the new custom configuration"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667089810,"post_id":74249657,"comment_id":131088518,"body_markdown":"all that algorithm is done and working, I just need to make my @Configuration class wait till the custom configuration is set","body":"all that algorithm is done and working, I just need to make my @Configuration class wait till the custom configuration is set"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667090063,"post_id":74249657,"comment_id":131088549,"body_markdown":"responding to your question after edit: that&#39;s exactly my goal, I want to use the connection needed in the specific use cases, but the use cases are set before the database creation and connection, that&#39;s why I need to hold the @Configuration class till the use cases are set","body":"responding to your question after edit: that&#39;s exactly my goal, I want to use the connection needed in the specific use cases, but the use cases are set before the database creation and connection, that&#39;s why I need to hold the @Configuration class till the use cases are set"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1667092487,"post_id":74249657,"comment_id":131088807,"body_markdown":"I would suggest you to pay attention to @Turing85 advice: it looks like you have found a convenient way to configure data source via configurations and now looking for a way to make configurations dynamic - configurations are not designed for such scenarios, instead you need to learn about proxies and/or prototype scope. Implementations of org.springframework.jdbc.datasource.AbstractDataSource might help you as well.","body":"I would suggest you to pay attention to @Turing85 advice: it looks like you have found a convenient way to configure data source via configurations and now looking for a way to make configurations dynamic - configurations are not designed for such scenarios, instead you need to learn about proxies and/or prototype scope. Implementations of org.springframework.jdbc.datasource.AbstractDataSource might help you as well."},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667104822,"post_id":74249657,"comment_id":131089937,"body_markdown":"I don&#39;t see any way proxies and prototype scope would help at all. I&#39;m not looking to conditionally run a specific @Bean method but the entire class. Although AbstractDataSource seems very interesting approach and I&#39;ll be definitely giving it a shot. Thanks for suggesting","body":"I don&#39;t see any way proxies and prototype scope would help at all. I&#39;m not looking to conditionally run a specific @Bean method but the entire class. Although AbstractDataSource seems very interesting approach and I&#39;ll be definitely giving it a shot. Thanks for suggesting"}],"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667087747,"creation_date":1667087605,"question_id":74249657,"body_markdown":"By &quot;arbitrary&quot; I refer to the ability to do an action whenever it&#39;s wanted. So, with that, what is intended here is to run @Configuration classes only when it&#39;s explicitly called or when it&#39;s strictly needed (instead of running automatically as soon spring context is up, which is the default behavior).\r\n\r\n\r\nDescribing a bit of my scenario: the @Configuration class is a database configuration and connection class. Although I don&#39;t want it to be created automatically, as soon the application starts (default spring behavior). Instead, I&#39;m looking for a way to programmaticaly build and connect to it, strictly when I call for it to do so.\r\n\r\n\r\nSo the question would be: ***How to prevent @Configuration classes from automatically running and after that, how should it be &quot;re-enabled&quot; again to be able to run?***\r\n\r\n\r\n\r\n**Please note that NONE of that below worked out as expected:**\r\n\r\nTried using @Conditional, and at first it seemed to be the perfect fit, although @Conditional expressions (or based on some kind of logic or property like @ConditionalOnProperty) runs once after application context is built, which means that the value being passed to the annotation could even change, although that class wouldn&#39;t react to the @Conditional expression changes (which would be perfect, like, telling spring &quot;run that configuration class after property name X is set&quot;)\r\n\r\nSomething like that:\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnProperty(name = &quot;X&quot;, havingValue = &quot;true&quot;)\r\npublic class DatabaseTest {\r\n// bean is not created, no value for property X\r\n```\r\n\r\nthen, after setting a value to X with\r\n\r\n```\r\nProperties properties = new Properties();\r\nproperties.put(&quot;X&quot;, &quot;anyValue&quot;));\r\n```\r\n\r\nAlthough it works per as described above, the class do not react to the property changes.\r\n\r\nAnother attempt was to use @DependsOn and @Order, but still, those beans annotated with it automatically runs as soon the depending beans are created.\r\n\r\nAlso tried using\r\n\r\n```\r\n@ComponentScan(excludeFilters  = {@ComponentScan.Filter(\r\n        type = FilterType.ASSIGNABLE_TYPE, classes = {ConfigurationClass2.class, ConfigurationClass1.class})})\r\n```\r\n\r\nand it do prevent @Configuration classes from running, but I have no idea how to switch it back working.\r\n","title":"Arbitrary running @Configuration classes","body":"<p>By &quot;arbitrary&quot; I refer to the ability to do an action whenever it's wanted. So, with that, what is intended here is to run @Configuration classes only when it's explicitly called or when it's strictly needed (instead of running automatically as soon spring context is up, which is the default behavior).</p>\n<p>Describing a bit of my scenario: the @Configuration class is a database configuration and connection class. Although I don't want it to be created automatically, as soon the application starts (default spring behavior). Instead, I'm looking for a way to programmaticaly build and connect to it, strictly when I call for it to do so.</p>\n<p>So the question would be: <em><strong>How to prevent @Configuration classes from automatically running and after that, how should it be &quot;re-enabled&quot; again to be able to run?</strong></em></p>\n<p><strong>Please note that NONE of that below worked out as expected:</strong></p>\n<p>Tried using @Conditional, and at first it seemed to be the perfect fit, although @Conditional expressions (or based on some kind of logic or property like @ConditionalOnProperty) runs once after application context is built, which means that the value being passed to the annotation could even change, although that class wouldn't react to the @Conditional expression changes (which would be perfect, like, telling spring &quot;run that configuration class after property name X is set&quot;)</p>\n<p>Something like that:</p>\n<pre><code>@Configuration\n@ConditionalOnProperty(name = &quot;X&quot;, havingValue = &quot;true&quot;)\npublic class DatabaseTest {\n// bean is not created, no value for property X\n</code></pre>\n<p>then, after setting a value to X with</p>\n<pre><code>Properties properties = new Properties();\nproperties.put(&quot;X&quot;, &quot;anyValue&quot;));\n</code></pre>\n<p>Although it works per as described above, the class do not react to the property changes.</p>\n<p>Another attempt was to use @DependsOn and @Order, but still, those beans annotated with it automatically runs as soon the depending beans are created.</p>\n<p>Also tried using</p>\n<pre><code>@ComponentScan(excludeFilters  = {@ComponentScan.Filter(\n        type = FilterType.ASSIGNABLE_TYPE, classes = {ConfigurationClass2.class, ConfigurationClass1.class})})\n</code></pre>\n<p>and it do prevent @Configuration classes from running, but I have no idea how to switch it back working.</p>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1667394797,"post_id":74247630,"comment_id":131156172,"body_markdown":"Do you have a `module-info.java` in the source root? If so, what is its contents?","body":"Do you have a <code>module-info.java</code> in the source root? If so, what is its contents?"}],"answers":[{"tags":[],"owner":{"account_id":5196039,"reputation":187,"user_id":4157304,"display_name":"Ankur Saxena"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667067213,"creation_date":1667067213,"answer_id":74247690,"question_id":74247630,"body_markdown":"Can you add sql jar in classpath in :-\r\n\r\nDownload Jar\r\n[http://www.java2s.com/Code/Jar/s/Downloadsqljar.htm]\r\n\r\nAdding in classpath\r\n[https://www.janbasktraining.com/community/sql-server/how-to-import-a-jar-file-in-eclipse]\r\n","title":"I am unable to import java.sql.* package in Eclipse Project","body":"<p>Can you add sql jar in classpath in :-</p>\n<p>Download Jar\n[http://www.java2s.com/Code/Jar/s/Downloadsqljar.htm]</p>\n<p>Adding in classpath\n[https://www.janbasktraining.com/community/sql-server/how-to-import-a-jar-file-in-eclipse]</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667087474,"creation_date":1667072946,"answer_id":74248346,"question_id":74247630,"body_markdown":"The [`java.sql`][1] package is included as part of every implementation of Java SE. There is no need to add JARs to your project for the `java.sql` API. \r\n\r\nYou *do* need to add a JAR for a [JDBC driver][2] implementing [JDBC][3], a driver specific to your database of choice such as MySQL or Postgres. \r\n\r\nUsually we include a JDBC driver as a dependency managed by Maven or Gradle. If you are not using a dependency manager, you will need to manually add the JDBC driver. \r\n\r\nGiven your screenshot, I suspect that either you have installed a JRE rather than a full [JDK][4], or your JDK is somehow corrupted. I suggest you delete your current JRE or JDK and download/install a fresh one. Tip: [SDKMAN!][5]. Java 17 is the current [long-term support][6] version. \r\n\r\nAlso, I suggest you skip the JPA/Jakarta Persistence and the Hibernate until you get the basics of a database engine and database connection working. Make a simple little throwaway project to practice.\r\n\r\nIf you search Stack Overflow you will find full example apps already written for connecting to a database, creating a table, populating the table, and retrieving from the table. Some were even written by me.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/package-summary.html\r\n  [2]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [3]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [4]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [5]: https://sdkman.io/\r\n  [6]: https://en.wikipedia.org/wiki/Long-term_support","title":"I am unable to import java.sql.* package in Eclipse Project","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.sql</code></a> package is included as part of every implementation of Java SE. There is no need to add JARs to your project for the <code>java.sql</code> API.</p>\n<p>You <em>do</em> need to add a JAR for a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> implementing <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>, a driver specific to your database of choice such as MySQL or Postgres.</p>\n<p>Usually we include a JDBC driver as a dependency managed by Maven or Gradle. If you are not using a dependency manager, you will need to manually add the JDBC driver.</p>\n<p>Given your screenshot, I suspect that either you have installed a JRE rather than a full <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a>, or your JDK is somehow corrupted. I suggest you delete your current JRE or JDK and download/install a fresh one. Tip: <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>. Java 17 is the current <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">long-term support</a> version.</p>\n<p>Also, I suggest you skip the JPA/Jakarta Persistence and the Hibernate until you get the basics of a database engine and database connection working. Make a simple little throwaway project to practice.</p>\n<p>If you search Stack Overflow you will find full example apps already written for connecting to a database, creating a table, populating the table, and retrieving from the table. Some were even written by me.</p>\n"}],"owner":{"account_id":26770942,"reputation":1,"user_id":20367323,"display_name":"gravity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667087474,"creation_date":1667066723,"question_id":74247630,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI am able to import other packages like java.io to eclipse but, I am unable to import java.sql to my project in eclipse. What could be the reason?\r\n\r\nI don&#39;t know how to proceed. I have tried a couple of things, but none of them worked out for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uX80x.png","title":"I am unable to import java.sql.* package in Eclipse Project","body":"<p><a href=\"https://i.stack.imgur.com/uX80x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uX80x.png\" alt=\"enter image description here\" /></a></p>\n<p>I am able to import other packages like java.io to eclipse but, I am unable to import java.sql to my project in eclipse. What could be the reason?</p>\n<p>I don't know how to proceed. I have tried a couple of things, but none of them worked out for me.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1903161,"reputation":4455,"user_id":1718575,"display_name":"NicholasM"},"score":0,"creation_date":1575483982,"post_id":59182272,"comment_id":104585907,"body_markdown":"You could implement the multiplicity requirement as follows:  for every distinct letter `x` in `letters`, count the number of occurrences `N_x` in `letters`.  Count the number of occurrences of these same letters in `check`, and call this `M_x`.  Return true if `M_x &gt;= N_x` for all `x` in `letters`.  Basically, you want to check if the multiset formed by `letters` is a subset of the multiset formed by the letters of `check`.","body":"You could implement the multiplicity requirement as follows:  for every distinct letter <code>x</code> in <code>letters</code>, count the number of occurrences <code>N_x</code> in <code>letters</code>.  Count the number of occurrences of these same letters in <code>check</code>, and call this <code>M_x</code>.  Return true if <code>M_x &gt;= N_x</code> for all <code>x</code> in <code>letters</code>.  Basically, you want to check if the multiset formed by <code>letters</code> is a subset of the multiset formed by the letters of <code>check</code>."}],"answers":[{"tags":[],"owner":{"account_id":7878945,"reputation":87,"user_id":5953746,"display_name":"Amey Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575485238,"creation_date":1575484312,"answer_id":59182630,"question_id":59182272,"body_markdown":"    public static boolean Xish(String check, String letters) {\r\n        boolean ish = true;\r\n        String word = check;\r\n        \r\n        char[] contains= letters.toCharArray();\r\n\r\n        for(int i = 0; i &lt; contains.length; i++){\r\n            if(word.indexOf(contains[i]) &lt; 0){\r\n                ish = false;\r\n            }else {\r\n                StringBuilder sb = new StringBuilder(word);\r\n                sb.deleteCharAt(word.indexOf(contains[i]));\r\n                word = sb.toString();\r\n                // System.out.println(word);\r\n            }\r\n        }\r\n        \r\n        return ish;\r\n    }\r\n\r\n\r\nThis could be one way, but it is not recursive.\r\nXish(&quot;Waffle&quot;, &quot;elff&quot;) returns true, but\r\nXish(&quot;Waffle&quot;, &quot;elfff&quot;) returns false.","title":"Using a recursive method to determine if a word is elf-ish","body":"<pre><code>public static boolean Xish(String check, String letters) {\n    boolean ish = true;\n    String word = check;\n\n    char[] contains= letters.toCharArray();\n\n    for(int i = 0; i &lt; contains.length; i++){\n        if(word.indexOf(contains[i]) &lt; 0){\n            ish = false;\n        }else {\n            StringBuilder sb = new StringBuilder(word);\n            sb.deleteCharAt(word.indexOf(contains[i]));\n            word = sb.toString();\n            // System.out.println(word);\n        }\n    }\n\n    return ish;\n}\n</code></pre>\n\n<p>This could be one way, but it is not recursive.\nXish(\"Waffle\", \"elff\") returns true, but\nXish(\"Waffle\", \"elfff\") returns false.</p>\n"},{"tags":[],"owner":{"account_id":12079826,"reputation":45,"user_id":10530569,"display_name":"CuriousOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575484977,"creation_date":1575484977,"answer_id":59182780,"question_id":59182272,"body_markdown":"The title mentions a recursive function so I will propose a recursive solution.\r\n\r\n1. For each character in your check string, compare it against the first character in your letters string.\r\n\r\n2. If the compared characters are equivalent, remove the first character from your letters string and pass both strings back into your function.\r\n\r\n3. If the check string is fully iterated without finding a character in the letters string, return false\r\n\r\n4. If letters is empty at any point, return true\r\n\r\nThis is a brute force approach, and there are several other ways to accomplish what you are looking for. Maybe think about how you could check every character in your in you check string a single time?","title":"Using a recursive method to determine if a word is elf-ish","body":"<p>The title mentions a recursive function so I will propose a recursive solution.</p>\n\n<ol>\n<li><p>For each character in your check string, compare it against the first character in your letters string.</p></li>\n<li><p>If the compared characters are equivalent, remove the first character from your letters string and pass both strings back into your function.</p></li>\n<li><p>If the check string is fully iterated without finding a character in the letters string, return false</p></li>\n<li><p>If letters is empty at any point, return true</p></li>\n</ol>\n\n<p>This is a brute force approach, and there are several other ways to accomplish what you are looking for. Maybe think about how you could check every character in your in you check string a single time?</p>\n"},{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1575485584,"creation_date":1575485584,"answer_id":59182908,"question_id":59182272,"body_markdown":"Actually, doing this recursively will also take care of the multiple occurrences issue.\r\n\r\nFirst, your own method is not really correct - it looks for the whole `letters` in the word. That is, if `letters` is `elf`, then true will be returned for `self`, but not for `heartfelt`, and that&#39;s wrong. You are supposed to look for the individual letters, because the order is not important.\r\n\r\nFor recursion:\r\n\r\n1. If the `letters` is an empty string - return true. You can say that any word is fine if there are no restrictions.\r\n\r\n2. If the `check` is an empty string - return false. An empty string does not contain the letters in `letters` (and we already know that letters is not empty).\r\n\r\n3. Take the first letter in `letters`. Look for it in `check`. If it&#39;s not there, return false.\r\n\r\n4. If it was there, then call the same method, but pass only what remains of `check` and `letters`. For example, if `check` was `selfish` and `letters` was `elf`, you found that `e` exists. Return the result of `Xish(&quot;slfish&quot;,&quot;lf&quot;)`. This will take care of the multiple occurrences. You do that by using `substring` and concatenating the applicable parts.\r\n\r\nIf multiple occurrences weren&#39;t an issue, you could pass the `check` as-is to the next level of the recursion. But since they matter, we need to remove one letter for each letter requested, to make sure that we don&#39;t match the same position again for the next occurrenc.","title":"Using a recursive method to determine if a word is elf-ish","body":"<p>Actually, doing this recursively will also take care of the multiple occurrences issue.</p>\n\n<p>First, your own method is not really correct - it looks for the whole <code>letters</code> in the word. That is, if <code>letters</code> is <code>elf</code>, then true will be returned for <code>self</code>, but not for <code>heartfelt</code>, and that's wrong. You are supposed to look for the individual letters, because the order is not important.</p>\n\n<p>For recursion:</p>\n\n<ol>\n<li><p>If the <code>letters</code> is an empty string - return true. You can say that any word is fine if there are no restrictions.</p></li>\n<li><p>If the <code>check</code> is an empty string - return false. An empty string does not contain the letters in <code>letters</code> (and we already know that letters is not empty).</p></li>\n<li><p>Take the first letter in <code>letters</code>. Look for it in <code>check</code>. If it's not there, return false.</p></li>\n<li><p>If it was there, then call the same method, but pass only what remains of <code>check</code> and <code>letters</code>. For example, if <code>check</code> was <code>selfish</code> and <code>letters</code> was <code>elf</code>, you found that <code>e</code> exists. Return the result of <code>Xish(\"slfish\",\"lf\")</code>. This will take care of the multiple occurrences. You do that by using <code>substring</code> and concatenating the applicable parts.</p></li>\n</ol>\n\n<p>If multiple occurrences weren't an issue, you could pass the <code>check</code> as-is to the next level of the recursion. But since they matter, we need to remove one letter for each letter requested, to make sure that we don't match the same position again for the next occurrenc.</p>\n"},{"tags":[],"owner":{"account_id":11714700,"reputation":415,"user_id":8575615,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575485647,"creation_date":1575485647,"answer_id":59182921,"question_id":59182272,"body_markdown":"Not sure whether it solves your question 100 %. But i tried a recursive method. See if this helps. \r\n\r\n\r\npackage com.company;\r\n\r\npublic class Selfish {\r\n\r\n    public static void main(String args[]) {\r\n\r\n        String check = &quot;waffle&quot;;\r\n        String letters = &quot;elf&quot;; // &quot;eof&quot;\r\n\r\n        int xishCount = xish(check, letters, 0);\r\n\r\n        if(letters.length()== xishCount) {\r\n            System.out.println(&quot;TRUE&quot;);\r\n        }else{\r\n            System.out.println(&quot;FALSE&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    static int xish(String check, String letters, int xishCount) {\r\n\r\n        if(letters.length() &lt; 1) {\r\n            return 0;\r\n        }\r\n\r\n        if(check.contains(letters.substring(0, 1))) {\r\n            xishCount = 1;\r\n        }\r\n\r\n        return xishCount + xish(check, letters.substring(1, letters.length()), 0);\r\n    }\r\n\r\n}","title":"Using a recursive method to determine if a word is elf-ish","body":"<p>Not sure whether it solves your question 100 %. But i tried a recursive method. See if this helps. </p>\n\n<p>package com.company;</p>\n\n<p>public class Selfish {</p>\n\n<pre><code>public static void main(String args[]) {\n\n    String check = \"waffle\";\n    String letters = \"elf\"; // \"eof\"\n\n    int xishCount = xish(check, letters, 0);\n\n    if(letters.length()== xishCount) {\n        System.out.println(\"TRUE\");\n    }else{\n        System.out.println(\"FALSE\");\n    }\n}\n\n\nstatic int xish(String check, String letters, int xishCount) {\n\n    if(letters.length() &lt; 1) {\n        return 0;\n    }\n\n    if(check.contains(letters.substring(0, 1))) {\n        xishCount = 1;\n    }\n\n    return xishCount + xish(check, letters.substring(1, letters.length()), 0);\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"display_name":"user12480764"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59182908,"answer_count":4,"score":0,"last_activity_date":1667087133,"creation_date":1575482756,"question_id":59182272,"body_markdown":"```\r\npublic static boolean Xish\r\n```\r\n\r\nThis method should take in two parameters, in the following order:  A String of the word to check and a String made up of the letters to check for. For example, a word is considered elf-ish, if it contains the letters e, l, and f, in any order `(“waffle”, “rainleaf”)` and a true return of the method would be `Xish(“waffle”, ”elf”)`. If there are multiple occurrences of a letter to check for, it must occur multiple times in the search word. Return true if the word contains all the needed characters and false if it does not contain all the characters.\r\n\r\nThis is what I have so far, but I am lost how I would recall the method and check to see if there are multiple occurrences (2nd part).\r\n\r\n    public static boolean Xish(String check, String letters) {\r\n    \t\tString word = check;\r\n    \t\tString contains= letters;\r\n\r\n    \t\tif(word.indexOf(contains) &gt;= 0)\r\n    \t\t\treturn true;\r\n    \t\telse\r\n    \t\t\treturn false;\r\n    \t}","title":"Using a recursive method to determine if a word is elf-ish","body":"<pre><code>public static boolean Xish\n</code></pre>\n\n<p>This method should take in two parameters, in the following order:  A String of the word to check and a String made up of the letters to check for. For example, a word is considered elf-ish, if it contains the letters e, l, and f, in any order <code>(“waffle”, “rainleaf”)</code> and a true return of the method would be <code>Xish(“waffle”, ”elf”)</code>. If there are multiple occurrences of a letter to check for, it must occur multiple times in the search word. Return true if the word contains all the needed characters and false if it does not contain all the characters.</p>\n\n<p>This is what I have so far, but I am lost how I would recall the method and check to see if there are multiple occurrences (2nd part).</p>\n\n<pre><code>public static boolean Xish(String check, String letters) {\n        String word = check;\n        String contains= letters;\n\n        if(word.indexOf(contains) &gt;= 0)\n            return true;\n        else\n            return false;\n    }\n</code></pre>\n"},{"tags":["java","struct","inputstream","bytearrayoutputstream","bytearrayinputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667076963,"post_id":74248322,"comment_id":131086719,"body_markdown":"Difficult to advise as we don&#39;t know the real data. That code wouldn&#39;t compile so can&#39;t be the actual code","body":"Difficult to advise as we don&#39;t know the real data. That code wouldn&#39;t compile so can&#39;t be the actual code"},{"owner":{"display_name":"user18901048"},"score":0,"creation_date":1667077588,"post_id":74248322,"comment_id":131086803,"body_markdown":"@g00se real data is String[] business = [&#39;CONSUMER&#39;, &#39;TELUS&#39;];\nString[] position = [&#39;Business&#39;, &#39;SMB&#39;,&#39;THPS&#39;];\nString isDone = &quot;Yes&quot;;","body":"@g00se real data is String[] business = [&#39;CONSUMER&#39;, &#39;TELUS&#39;]; String[] position = [&#39;Business&#39;, &#39;SMB&#39;,&#39;THPS&#39;]; String isDone = &quot;Yes&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667085503,"creation_date":1667085503,"answer_id":74249520,"question_id":74248322,"body_markdown":"You can do something like \r\n\r\n       String[] business = { &quot;CONSUMER&quot;, &quot;TELUS&quot; };\r\n        StringWriter sw = new StringWriter();\r\n        PrintWriter out = new PrintWriter(sw);\r\n        for (String s : business) {\r\n            out.println(s);\r\n        }\r\n        InputStream in = new ByteArrayInputStream(sw.toString().getBytes());\r\n\r\n","title":"How to create an InputStream from a multiple array of strings","body":"<p>You can do something like</p>\n<pre><code>   String[] business = { &quot;CONSUMER&quot;, &quot;TELUS&quot; };\n    StringWriter sw = new StringWriter();\n    PrintWriter out = new PrintWriter(sw);\n    for (String s : business) {\n        out.println(s);\n    }\n    InputStream in = new ByteArrayInputStream(sw.toString().getBytes());\n</code></pre>\n"}],"owner":{"display_name":"user18901048"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667085503,"creation_date":1667072711,"question_id":74248322,"body_markdown":"I have an 3 array of strings ( actually it&#39;s an ArrayList ) and I would like to create an InputStream from it, each element of the array being a line in the stream.\r\n\r\n    String[] business = [&#39;CONSUMER&#39;, &#39;TELUS&#39;];\r\n    String[] position = [&#39;Business&#39;, &#39;SMB&#39;,&#39;THPS&#39;];\r\n    String isDone = &quot;Yes&quot;;\r\n\r\nneed to convert the above data into and pass it to InputStream so i can upload the data to ftp server \r\n\r\n    Business_Unit:     &#39;TELUS&#39;, &#39;CONSUMER&#39;\r\n    Position_Group:    &#39;Business&#39;, &#39;SMB&#39;, &#39;THPS&#39;\r\n    On-Cycle_Schedule: &#39;Yes&#39;  or &#39;No\r\n\r\n\r\nftp server method as follows \r\n\r\n        private boolean fileUpload(InputStream isUploadFile, String dirName, String fileName){\r\n             boolean storeRetVal = false;\r\n    \r\n          //File submission method \r\n    \r\n            \r\n          return storeRetVal;\r\n         }\r\n\r\nthe above method gets called from action class \r\n\r\n    public ActionForward generatePayroll(ActionMapping mapping, ActionForm form,\r\n                           HttpServletRequest request, HttpServletResponse response) {\r\n       SessionInfoForm _form = (SessionInfoForm) form;\r\n       String isDone = &quot;Yes&quot;;\r\n       String[] business = request.getParameterValues(&quot;selectedBusinessValues&quot;);\r\n       String[] position = request.getParameterValues(&quot;selectedPositionValues&quot;);\r\n       String fileName = &quot;result.csv&quot;;\r\n       InputStream isUploadFile;\r\n       fileUpload(isUploadFile, fileName);\r\n       return mapping.findForward(&quot;success&quot;);\r\n    }","title":"How to create an InputStream from a multiple array of strings","body":"<p>I have an 3 array of strings ( actually it's an ArrayList ) and I would like to create an InputStream from it, each element of the array being a line in the stream.</p>\n<pre><code>String[] business = ['CONSUMER', 'TELUS'];\nString[] position = ['Business', 'SMB','THPS'];\nString isDone = &quot;Yes&quot;;\n</code></pre>\n<p>need to convert the above data into and pass it to InputStream so i can upload the data to ftp server</p>\n<pre><code>Business_Unit:     'TELUS', 'CONSUMER'\nPosition_Group:    'Business', 'SMB', 'THPS'\nOn-Cycle_Schedule: 'Yes'  or 'No\n</code></pre>\n<p>ftp server method as follows</p>\n<pre><code>    private boolean fileUpload(InputStream isUploadFile, String dirName, String fileName){\n         boolean storeRetVal = false;\n\n      //File submission method \n\n        \n      return storeRetVal;\n     }\n</code></pre>\n<p>the above method gets called from action class</p>\n<pre><code>public ActionForward generatePayroll(ActionMapping mapping, ActionForm form,\n                       HttpServletRequest request, HttpServletResponse response) {\n   SessionInfoForm _form = (SessionInfoForm) form;\n   String isDone = &quot;Yes&quot;;\n   String[] business = request.getParameterValues(&quot;selectedBusinessValues&quot;);\n   String[] position = request.getParameterValues(&quot;selectedPositionValues&quot;);\n   String fileName = &quot;result.csv&quot;;\n   InputStream isUploadFile;\n   fileUpload(isUploadFile, fileName);\n   return mapping.findForward(&quot;success&quot;);\n}\n</code></pre>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":7381830,"reputation":532,"user_id":5618266,"display_name":"Cedric"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492176949,"creation_date":1492176949,"answer_id":43412672,"question_id":43412261,"body_markdown":"You can simply write your own [JsonDeserializer][1] where you check whether your `bleh` or `foo` are JsonObjects or JsonArrays.\r\n\r\nTo check if a JsonElement is an array or an object:\r\n\r\n    JsonElement element = ...;\r\n    if (element.isJsonObject()) {\r\n        //element is a JsonObject\r\n    } else if (element.isJsonArray()) {\r\n        //element is a JsonArray\r\n    }\r\n\r\n  [1]: https://google.github.io/gson/apidocs/com/google/gson/JsonDeserializer.html","title":"Make GSON accept single objects where it expects arrays","body":"<p>You can simply write your own <a href=\"https://google.github.io/gson/apidocs/com/google/gson/JsonDeserializer.html\" rel=\"nofollow noreferrer\">JsonDeserializer</a> where you check whether your <code>bleh</code> or <code>foo</code> are JsonObjects or JsonArrays.</p>\n\n<p>To check if a JsonElement is an array or an object:</p>\n\n<pre><code>JsonElement element = ...;\nif (element.isJsonObject()) {\n    //element is a JsonObject\n} else if (element.isJsonArray()) {\n    //element is a JsonArray\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1492178034,"creation_date":1492178034,"answer_id":43412985,"question_id":43412261,"body_markdown":"&gt; But the problem is I have Lists with many different element types and I don&#39;t want to write a separate TypeAdapter for each case. Nor have I been able to a generic TypeAdapter&lt;List&lt;?&gt;&gt;, because at some point you need to know the type.\r\n\r\nThis is what type adapter factories are designed for: you can control every type in `Gson` instance configuration.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tfinal class AlwaysListTypeAdapterFactory&lt;E&gt;\r\n\t\t\timplements TypeAdapterFactory {\r\n\r\n\t    // Gson can instantiate it itself\r\n\t\tprivate AlwaysListTypeAdapterFactory() {\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n\t\t    // If it&#39;s not a List -- just delegate the job to Gson and let it pick the best type adapter itself\r\n\t\t\tif ( !List.class.isAssignableFrom(typeToken.getRawType()) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t// Resolving the list parameter type\r\n\t\t\tfinal Type elementType = resolveTypeArgument(typeToken.getType());\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tfinal TypeAdapter&lt;E&gt; elementTypeAdapter = (TypeAdapter&lt;E&gt;) gson.getAdapter(TypeToken.get(elementType));\r\n\t\t\t// Note that the always-list type adapter is made null-safe, so we don&#39;t have to check nulls ourselves\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tfinal TypeAdapter&lt;T&gt; alwaysListTypeAdapter = (TypeAdapter&lt;T&gt;) new AlwaysListTypeAdapter&lt;&gt;(elementTypeAdapter).nullSafe();\r\n\t\t\treturn alwaysListTypeAdapter;\r\n\t\t}\r\n\t\r\n\t\tprivate static Type resolveTypeArgument(final Type type) {\r\n\t\t    // The given type is not parameterized?\r\n\t\t\tif ( !(type instanceof ParameterizedType) ) {\r\n\t\t\t    // No, raw\r\n\t\t\t\treturn Object.class;\r\n\t\t\t}\r\n\t\t\tfinal ParameterizedType parameterizedType = (ParameterizedType) type;\r\n\t\t\treturn parameterizedType.getActualTypeArguments()[0];\r\n\t\t}\r\n\t\r\n\t\tprivate static final class AlwaysListTypeAdapter&lt;E&gt;\r\n\t\t\t\textends TypeAdapter&lt;List&lt;E&gt;&gt; {\r\n\t\r\n\t\t\tprivate final TypeAdapter&lt;E&gt; elementTypeAdapter;\r\n\t\r\n\t\t\tprivate AlwaysListTypeAdapter(final TypeAdapter&lt;E&gt; elementTypeAdapter) {\r\n\t\t\t\tthis.elementTypeAdapter = elementTypeAdapter;\r\n\t\t\t}\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic void write(final JsonWriter out, final List&lt;E&gt; list) {\r\n\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t}\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic List&lt;E&gt; read(final JsonReader in)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\t// This is where we detect the list &quot;type&quot;\r\n\t\t\t\tfinal List&lt;E&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\tfinal JsonToken token = in.peek();\r\n\t\t\t\tswitch ( token ) {\r\n\t\t\t\tcase BEGIN_ARRAY:\r\n\t\t\t\t    // If it&#39;s a regular list, just consume [, &lt;all elements&gt;, and ]\r\n\t\t\t\t\tin.beginArray();\r\n\t\t\t\t\twhile ( in.hasNext() ) {\r\n\t\t\t\t\t\tlist.add(elementTypeAdapter.read(in));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tin.endArray();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase BEGIN_OBJECT:\r\n\t\t\t\tcase STRING:\r\n\t\t\t\tcase NUMBER:\r\n\t\t\t\tcase BOOLEAN:\r\n\t\t\t\t    // An object or a primitive? Just add the current value to the result list\r\n\t\t\t\t\tlist.add(elementTypeAdapter.read(in));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NULL:\r\n\t\t\t\t\tthrow new AssertionError(&quot;Must never happen: check if the type adapter configured with .nullSafe()&quot;);\r\n\t\t\t\tcase NAME:\r\n\t\t\t\tcase END_ARRAY:\r\n\t\t\t\tcase END_OBJECT:\r\n\t\t\t\tcase END_DOCUMENT:\r\n\t\t\t\t\tthrow new MalformedJsonException(&quot;Unexpected token: &quot; + token);\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new AssertionError(&quot;Must never happen: &quot; + token);\r\n\t\t\t\t}\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\nNow you just have to tell Gson _which_ fields are not well-formed.\r\nOf course, you might configure the whole `Gson` instance to accept such lists, but let it be more precise using the `@JsonAdapter` annotation:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    final class Model {\r\n    \r\n        @JsonAdapter(AlwaysListTypeAdapterFactory.class)\r\n        final List&lt;String&gt; foo = null;\r\n    \r\n        @JsonAdapter(AlwaysListTypeAdapterFactory.class)\r\n        final List&lt;SomeObject&gt; bleh = null;\r\n    \r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Model{&quot; + &quot;foo=&quot; + foo + &quot;, bleh=&quot; + bleh + &#39;}&#39;;\r\n\t\t}\r\n\r\n    }\r\n\r\n    final class SomeObject {\r\n    \r\n        final String some = null;\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;SomeObject{&quot; + &quot;some=&#39;&quot; + some + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n\t\t}\r\n    \r\n    }\r\n\r\nTest data:\r\n\r\n### single.json\r\n\r\n&lt;!-- language: javascript --&gt;\r\n\r\n    {\r\n        &quot;foo&quot;: &quot;bar&quot;,\r\n        &quot;bleh&quot;: {&quot;some&quot;: &quot;object&quot;}\r\n    }\r\n\r\n\r\n### list.json\r\n\r\n&lt;!-- language: javascript --&gt;\r\n\r\n    {\r\n        &quot;foo&quot;: [&quot;bar&quot;],\r\n        &quot;bleh&quot;: [{&quot;some&quot;: &quot;object&quot;}]\r\n    }\r\n\r\nExample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tprivate static final Gson gson = new Gson();\r\n\r\n\tpublic static void main(final String... args)\r\n\t\t\tthrows IOException {\r\n\t\tfor ( final String resource : ImmutableList.of(&quot;single.json&quot;, &quot;list.json&quot;) ) {\r\n\t\t\ttry ( final JsonReader jsonReader = getPackageResourceJsonReader(Q43412261.class, resource) ) {\r\n\t\t\t\tfinal Model model = gson.fromJson(jsonReader, Model.class);\r\n\t\t\t\tSystem.out.println(model);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAnd the output:\r\n\r\n&gt;Model{foo=[bar], bleh=[SomeObject{some=&#39;object&#39;}]}  \r\n&gt;Model{foo=[bar], bleh=[SomeObject{some=&#39;object&#39;}]}  \r\n","title":"Make GSON accept single objects where it expects arrays","body":"<blockquote>\n  <p>But the problem is I have Lists with many different element types and I don't want to write a separate TypeAdapter for each case. Nor have I been able to a generic TypeAdapter>, because at some point you need to know the type.</p>\n</blockquote>\n\n<p>This is what type adapter factories are designed for: you can control every type in <code>Gson</code> instance configuration.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final class AlwaysListTypeAdapterFactory&lt;E&gt;\n        implements TypeAdapterFactory {\n\n    // Gson can instantiate it itself\n    private AlwaysListTypeAdapterFactory() {\n    }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n        // If it's not a List -- just delegate the job to Gson and let it pick the best type adapter itself\n        if ( !List.class.isAssignableFrom(typeToken.getRawType()) ) {\n            return null;\n        }\n        // Resolving the list parameter type\n        final Type elementType = resolveTypeArgument(typeToken.getType());\n        @SuppressWarnings(\"unchecked\")\n        final TypeAdapter&lt;E&gt; elementTypeAdapter = (TypeAdapter&lt;E&gt;) gson.getAdapter(TypeToken.get(elementType));\n        // Note that the always-list type adapter is made null-safe, so we don't have to check nulls ourselves\n        @SuppressWarnings(\"unchecked\")\n        final TypeAdapter&lt;T&gt; alwaysListTypeAdapter = (TypeAdapter&lt;T&gt;) new AlwaysListTypeAdapter&lt;&gt;(elementTypeAdapter).nullSafe();\n        return alwaysListTypeAdapter;\n    }\n\n    private static Type resolveTypeArgument(final Type type) {\n        // The given type is not parameterized?\n        if ( !(type instanceof ParameterizedType) ) {\n            // No, raw\n            return Object.class;\n        }\n        final ParameterizedType parameterizedType = (ParameterizedType) type;\n        return parameterizedType.getActualTypeArguments()[0];\n    }\n\n    private static final class AlwaysListTypeAdapter&lt;E&gt;\n            extends TypeAdapter&lt;List&lt;E&gt;&gt; {\n\n        private final TypeAdapter&lt;E&gt; elementTypeAdapter;\n\n        private AlwaysListTypeAdapter(final TypeAdapter&lt;E&gt; elementTypeAdapter) {\n            this.elementTypeAdapter = elementTypeAdapter;\n        }\n\n        @Override\n        public void write(final JsonWriter out, final List&lt;E&gt; list) {\n            throw new UnsupportedOperationException();\n        }\n\n        @Override\n        public List&lt;E&gt; read(final JsonReader in)\n                throws IOException {\n            // This is where we detect the list \"type\"\n            final List&lt;E&gt; list = new ArrayList&lt;&gt;();\n            final JsonToken token = in.peek();\n            switch ( token ) {\n            case BEGIN_ARRAY:\n                // If it's a regular list, just consume [, &lt;all elements&gt;, and ]\n                in.beginArray();\n                while ( in.hasNext() ) {\n                    list.add(elementTypeAdapter.read(in));\n                }\n                in.endArray();\n                break;\n            case BEGIN_OBJECT:\n            case STRING:\n            case NUMBER:\n            case BOOLEAN:\n                // An object or a primitive? Just add the current value to the result list\n                list.add(elementTypeAdapter.read(in));\n                break;\n            case NULL:\n                throw new AssertionError(\"Must never happen: check if the type adapter configured with .nullSafe()\");\n            case NAME:\n            case END_ARRAY:\n            case END_OBJECT:\n            case END_DOCUMENT:\n                throw new MalformedJsonException(\"Unexpected token: \" + token);\n            default:\n                throw new AssertionError(\"Must never happen: \" + token);\n            }\n            return list;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Now you just have to tell Gson <em>which</em> fields are not well-formed.\nOf course, you might configure the whole <code>Gson</code> instance to accept such lists, but let it be more precise using the <code>@JsonAdapter</code> annotation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final class Model {\n\n    @JsonAdapter(AlwaysListTypeAdapterFactory.class)\n    final List&lt;String&gt; foo = null;\n\n    @JsonAdapter(AlwaysListTypeAdapterFactory.class)\n    final List&lt;SomeObject&gt; bleh = null;\n\n    @Override\n    public String toString() {\n        return \"Model{\" + \"foo=\" + foo + \", bleh=\" + bleh + '}';\n    }\n\n}\n\nfinal class SomeObject {\n\n    final String some = null;\n\n    @Override\n    public String toString() {\n        return \"SomeObject{\" + \"some='\" + some + '\\'' + '}';\n    }\n\n}\n</code></pre>\n\n<p>Test data:</p>\n\n<h3>single.json</h3>\n\n<pre><code>{\n    \"foo\": \"bar\",\n    \"bleh\": {\"some\": \"object\"}\n}\n</code></pre>\n\n<h3>list.json</h3>\n\n<pre><code>{\n    \"foo\": [\"bar\"],\n    \"bleh\": [{\"some\": \"object\"}]\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final Gson gson = new Gson();\n\npublic static void main(final String... args)\n        throws IOException {\n    for ( final String resource : ImmutableList.of(\"single.json\", \"list.json\") ) {\n        try ( final JsonReader jsonReader = getPackageResourceJsonReader(Q43412261.class, resource) ) {\n            final Model model = gson.fromJson(jsonReader, Model.class);\n            System.out.println(model);\n        }\n    }\n}\n</code></pre>\n\n<p>And the output:</p>\n\n<blockquote>\n  <p>Model{foo=[bar], bleh=[SomeObject{some='object'}]}<br>\n  Model{foo=[bar], bleh=[SomeObject{some='object'}]}  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":309455,"reputation":2562,"user_id":973919,"accept_rate":75,"display_name":"xarlymg89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533721675,"creation_date":1533721675,"answer_id":51743579,"question_id":43412261,"body_markdown":"When using the GSON library, you could just check whether or not the following token is an object or an array. This of course requires you to go more fine grained while parsing the XML, but it allows you full control of what do you want to get from it. Sometimes we are not under control of the XML, and it could come handy.\r\n\r\nThis is an example to check if the next token is an object or an array, using the `JsonReader` class to parse the file:\r\n\r\n    if (jsonReader.peek() == JsonToken.BEGIN_ARRAY) {\r\n        jsonReader.beginArray()\r\n    } else if (jsonReader.peek() == JsonToken.BEGIN_OBJECT) {\r\n        jsonReader.beginObject()\r\n    }\r\n\r\nAnd at the end of the array / object, you could do the same, but for the end tokens:\r\n\r\n    if (jsonReader.peek() == JsonToken.END_ARRAY) {\r\n        jsonReader.endArray()\r\n    } else if (jsonReader.peek() == JsonToken.END_OBJECT) {\r\n        jsonReader.endObject()\r\n    }\r\n\r\nThis way, you could have identical code (adding an extra check, to verify if you are on an array or on an object) to parse your array of objects, or a single object.","title":"Make GSON accept single objects where it expects arrays","body":"<p>When using the GSON library, you could just check whether or not the following token is an object or an array. This of course requires you to go more fine grained while parsing the XML, but it allows you full control of what do you want to get from it. Sometimes we are not under control of the XML, and it could come handy.</p>\n\n<p>This is an example to check if the next token is an object or an array, using the <code>JsonReader</code> class to parse the file:</p>\n\n<pre><code>if (jsonReader.peek() == JsonToken.BEGIN_ARRAY) {\n    jsonReader.beginArray()\n} else if (jsonReader.peek() == JsonToken.BEGIN_OBJECT) {\n    jsonReader.beginObject()\n}\n</code></pre>\n\n<p>And at the end of the array / object, you could do the same, but for the end tokens:</p>\n\n<pre><code>if (jsonReader.peek() == JsonToken.END_ARRAY) {\n    jsonReader.endArray()\n} else if (jsonReader.peek() == JsonToken.END_OBJECT) {\n    jsonReader.endObject()\n}\n</code></pre>\n\n<p>This way, you could have identical code (adding an extra check, to verify if you are on an array or on an object) to parse your array of objects, or a single object.</p>\n"},{"tags":[],"owner":{"account_id":1961832,"reputation":295,"user_id":1763157,"display_name":"Bryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552948222,"creation_date":1552948222,"answer_id":55231018,"question_id":43412261,"body_markdown":"I had this same problem consuming xml / json from a vendor - they certainly weren&#39;t going to change their code for me :) There were several resources on the web that I used before changing adapting them to my own version [This SO answer was very helpful][1]. I spent some time looking at the gson code and finding a lot of private variable that I wanted access to. So, essentially what my custom collection adapter does is peek to see if the next element is an object. If not, we just delegate the read to the previous adapter (that we have overridden).\r\n\r\nIf the next element is an object, we use gson to process that. We then convert that to an array of one object. Use gson to write that to a string, then pass that string as a JsonReader to the underlying adapter. This can then create an instance of the underlying list and add the one element we have.\r\n\r\nHere&#39;s the AdapterTypeFactory:\r\n\r\n        public enum ListSingleObjectAdapterFactory implements TypeAdapterFactory {\r\n        INSTANCE; // Josh Bloch&#39;s Enum singleton pattern\r\n\r\n        @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n        @Override\r\n        public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n\r\n            Class&lt;? super T&gt; rawType = typeToken.getRawType();\r\n            if (!Collection.class.isAssignableFrom(rawType)) {\r\n                return null;\r\n            }\r\n\r\n            TypeAdapter collectionAdapter = gson.getDelegateAdapter(this, typeToken);\r\n            Class genericClass = (Class) ((ParameterizedType) typeToken.getType())\r\n                    .getActualTypeArguments()[0];\r\n                    return new SingleObjectOrCollectionAdapter(\r\n                            gson, collectionAdapter, genericClass);\r\n        }\r\n    }\r\n\r\nThen the type adapter I have is:\r\n\r\n    public class SingleObjectOrCollectionAdapter&lt;T&gt; extends TypeAdapter&lt;Collection&lt;T&gt;&gt; {\r\n        private Class&lt;T&gt; adapterclass;\r\n        private Gson gson;\r\n        private TypeAdapter arrayTypeAdapter;\r\n\r\n\r\n        public SingleObjectOrCollectionAdapter(Gson gson, TypeAdapter&lt;T&gt; collectionTypeAdapter, Class&lt;T&gt; componentType) {\r\n            arrayTypeAdapter = collectionTypeAdapter;\r\n            this.gson = gson;\r\n            adapterclass = componentType;\r\n        }\r\n\r\n\r\n        @Override\r\n        public Collection&lt;T&gt; read(JsonReader reader) throws IOException {\r\n        Collection&lt;T&gt; collection;\r\n            JsonReader myReader = reader;\r\n            if (reader.peek() == JsonToken.BEGIN_OBJECT) {\r\n                T inning = gson.fromJson(reader, adapterclass);\r\n                String s = gson.toJson(new Object[]{inning});\r\n                myReader = new JsonReader(new StringReader(s));\r\n\r\n            }\r\n            collection = (Collection)arrayTypeAdapter.read( myReader );\r\n\r\n            return collection;\r\n        }\r\n\r\n        @Override\r\n        public void write(JsonWriter writer, Collection&lt;T&gt; value) throws IOException {\r\n            arrayTypeAdapter.write(writer, value);\r\n        }\r\n    }\r\n\r\nFinally, we need to register the adapter factory:\r\n\r\n    GsonBuilder gb = new GsonBuilder().registerTypeAdapterFactory(ListSingleObjectAdapterFactory.INSTANCE);\r\n\r\nSo far, it seems to be working well handling both single and multiple objects - although I wouldn&#39;t be surprised if it needs some tweaking down the road.\r\n\r\n  [1]: https://stackoverflow.com/a/22307855/1763157","title":"Make GSON accept single objects where it expects arrays","body":"<p>I had this same problem consuming xml / json from a vendor - they certainly weren't going to change their code for me :) There were several resources on the web that I used before changing adapting them to my own version <a href=\"https://stackoverflow.com/a/22307855/1763157\">This SO answer was very helpful</a>. I spent some time looking at the gson code and finding a lot of private variable that I wanted access to. So, essentially what my custom collection adapter does is peek to see if the next element is an object. If not, we just delegate the read to the previous adapter (that we have overridden).</p>\n\n<p>If the next element is an object, we use gson to process that. We then convert that to an array of one object. Use gson to write that to a string, then pass that string as a JsonReader to the underlying adapter. This can then create an instance of the underlying list and add the one element we have.</p>\n\n<p>Here's the AdapterTypeFactory:</p>\n\n<pre><code>    public enum ListSingleObjectAdapterFactory implements TypeAdapterFactory {\n    INSTANCE; // Josh Bloch's Enum singleton pattern\n\n    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n\n        Class&lt;? super T&gt; rawType = typeToken.getRawType();\n        if (!Collection.class.isAssignableFrom(rawType)) {\n            return null;\n        }\n\n        TypeAdapter collectionAdapter = gson.getDelegateAdapter(this, typeToken);\n        Class genericClass = (Class) ((ParameterizedType) typeToken.getType())\n                .getActualTypeArguments()[0];\n                return new SingleObjectOrCollectionAdapter(\n                        gson, collectionAdapter, genericClass);\n    }\n}\n</code></pre>\n\n<p>Then the type adapter I have is:</p>\n\n<pre><code>public class SingleObjectOrCollectionAdapter&lt;T&gt; extends TypeAdapter&lt;Collection&lt;T&gt;&gt; {\n    private Class&lt;T&gt; adapterclass;\n    private Gson gson;\n    private TypeAdapter arrayTypeAdapter;\n\n\n    public SingleObjectOrCollectionAdapter(Gson gson, TypeAdapter&lt;T&gt; collectionTypeAdapter, Class&lt;T&gt; componentType) {\n        arrayTypeAdapter = collectionTypeAdapter;\n        this.gson = gson;\n        adapterclass = componentType;\n    }\n\n\n    @Override\n    public Collection&lt;T&gt; read(JsonReader reader) throws IOException {\n    Collection&lt;T&gt; collection;\n        JsonReader myReader = reader;\n        if (reader.peek() == JsonToken.BEGIN_OBJECT) {\n            T inning = gson.fromJson(reader, adapterclass);\n            String s = gson.toJson(new Object[]{inning});\n            myReader = new JsonReader(new StringReader(s));\n\n        }\n        collection = (Collection)arrayTypeAdapter.read( myReader );\n\n        return collection;\n    }\n\n    @Override\n    public void write(JsonWriter writer, Collection&lt;T&gt; value) throws IOException {\n        arrayTypeAdapter.write(writer, value);\n    }\n}\n</code></pre>\n\n<p>Finally, we need to register the adapter factory:</p>\n\n<pre><code>GsonBuilder gb = new GsonBuilder().registerTypeAdapterFactory(ListSingleObjectAdapterFactory.INSTANCE);\n</code></pre>\n\n<p>So far, it seems to be working well handling both single and multiple objects - although I wouldn't be surprised if it needs some tweaking down the road.</p>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667085391,"creation_date":1667085391,"answer_id":74249511,"question_id":43412261,"body_markdown":"One solution to this would be to write a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) which creates an adapter which peeks at the JSON data. If it encounters something other than a JSON array (or JSON null) it wraps it inside a JSON array before deserializing it:\r\n```java\r\n// Only intended for usage with @JsonAdapter on fields\r\nclass SingleValueOrListAdapterFactory implements TypeAdapterFactory {\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Note: Cannot use getDelegateAdapter due to https://github.com/google/gson/issues/1028\r\n        TypeAdapter&lt;T&gt; listAdapterDelegate = gson.getAdapter(type);\r\n        TypeAdapter&lt;JsonElement&gt; jsonElementAdapter = gson.getAdapter(JsonElement.class);\r\n\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                listAdapterDelegate.write(out, value);\r\n            }\r\n\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                JsonToken peeked = in.peek();\r\n                if (peeked == JsonToken.NULL || peeked == JsonToken.BEGIN_ARRAY) {\r\n                    return listAdapterDelegate.read(in);\r\n                } else {\r\n                    // Wrap JSON element in a new JSON array before deserializing it\r\n                    JsonElement jsonElement = jsonElementAdapter.read(in);\r\n                    JsonArray jsonArray = new JsonArray();\r\n                    jsonArray.add(jsonElement);\r\n\r\n                    return listAdapterDelegate.fromJsonTree(jsonArray);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThe above implementation is designed only for usage with [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html) on fields, for example:\r\n```java\r\n@JsonAdapter(SingleValueOrListAdapterFactory.class)\r\nprivate List&lt;MyClass&gt; myField;\r\n```\r\n\r\nCompared to the [currently accepted answer](https://stackoverflow.com/a/43412985) this provides the following advantages because it simply delegates the actual deserialization to `listAdapterDelegate`:\r\n- Custom `List` (or `Collection`) subclasses are supported because creation of them is delegated to Gson\r\n- Gson&#39;s default type resolution logic is used to determine the element type and to deserialize it\r\n\r\nBut it also has the following disadvantage:\r\n- Decreased performance because if the data is not already in a JSON array it is first deserialized to a `JsonElement` before the actual deserialization is performed\r\n","title":"Make GSON accept single objects where it expects arrays","body":"<p>One solution to this would be to write a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> which creates an adapter which peeks at the JSON data. If it encounters something other than a JSON array (or JSON null) it wraps it inside a JSON array before deserializing it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Only intended for usage with @JsonAdapter on fields\nclass SingleValueOrListAdapterFactory implements TypeAdapterFactory {\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Note: Cannot use getDelegateAdapter due to https://github.com/google/gson/issues/1028\n        TypeAdapter&lt;T&gt; listAdapterDelegate = gson.getAdapter(type);\n        TypeAdapter&lt;JsonElement&gt; jsonElementAdapter = gson.getAdapter(JsonElement.class);\n\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                listAdapterDelegate.write(out, value);\n            }\n\n            @Override\n            public T read(JsonReader in) throws IOException {\n                JsonToken peeked = in.peek();\n                if (peeked == JsonToken.NULL || peeked == JsonToken.BEGIN_ARRAY) {\n                    return listAdapterDelegate.read(in);\n                } else {\n                    // Wrap JSON element in a new JSON array before deserializing it\n                    JsonElement jsonElement = jsonElementAdapter.read(in);\n                    JsonArray jsonArray = new JsonArray();\n                    jsonArray.add(jsonElement);\n\n                    return listAdapterDelegate.fromJsonTree(jsonArray);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>The above implementation is designed only for usage with <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a> on fields, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAdapter(SingleValueOrListAdapterFactory.class)\nprivate List&lt;MyClass&gt; myField;\n</code></pre>\n<p>Compared to the <a href=\"https://stackoverflow.com/a/43412985\">currently accepted answer</a> this provides the following advantages because it simply delegates the actual deserialization to <code>listAdapterDelegate</code>:</p>\n<ul>\n<li>Custom <code>List</code> (or <code>Collection</code>) subclasses are supported because creation of them is delegated to Gson</li>\n<li>Gson's default type resolution logic is used to determine the element type and to deserialize it</li>\n</ul>\n<p>But it also has the following disadvantage:</p>\n<ul>\n<li>Decreased performance because if the data is not already in a JSON array it is first deserialized to a <code>JsonElement</code> before the actual deserialization is performed</li>\n</ul>\n"}],"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7774,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":43412985,"answer_count":5,"score":17,"last_activity_date":1667085391,"creation_date":1492175590,"question_id":43412261,"body_markdown":"I have bunch of model classes which have fields of type `List&lt;X&gt;` where `X` is one of many things (e.g. `String`, `Integer`, but also some of my own types). I&#39;m using GSON to parse JSON representations of these models.\r\n\r\nMy problem is that the server I&#39;m dealing with (which is beyond my control) somehow removed singleton arrays and replaces them by the contained object.\r\n\r\nFor example, instead of returning:\r\n\r\n    {\r\n      &quot;foo&quot;: [ &quot;bar&quot;],\r\n      &quot;bleh&quot;: [ { &quot;some&quot;: &quot;object&quot; } ]\r\n    }\r\n\r\nIt returns:\r\n\r\n    {\r\n      &quot;foo&quot;: &quot;bar&quot;,\r\n      &quot;bleh&quot;: { &quot;some&quot;: &quot;object&quot; }\r\n    }\r\n\r\nNow assume that the Java model class look something like this:\r\n\r\n    public class Model {\r\n       private List&lt;String&gt; foo;\r\n       private List&lt;SomeObject&gt; bleh;\r\n    }\r\n\r\nCurrently this causes GSON to throw an exception because it finds `BEGIN_STRING` or `BEGIN_OBJECT` where it expects `BEGIN_ARRAY`.\r\n\r\nFor arrays or lists of Strings this is easily solved using a `TypeAdapter&lt;List&lt;String&gt;&gt;`. But the problem is I have `List`s with many different element types and I don&#39;t want to write a separate `TypeAdapter` for each case. Nor have I been able to a generic `TypeAdapter&lt;List&lt;?&gt;&gt;`, because at some point you need to know the type.\r\nSo is there another way to configure GSON to be smart enough to turn single objects or values into arrays/lists? Or in other words, just &quot;pretend&quot; that the `[ ` and `]` are there where it expects to find them although they aren&#39;t there?","title":"Make GSON accept single objects where it expects arrays","body":"<p>I have bunch of model classes which have fields of type <code>List&lt;X&gt;</code> where <code>X</code> is one of many things (e.g. <code>String</code>, <code>Integer</code>, but also some of my own types). I'm using GSON to parse JSON representations of these models.</p>\n\n<p>My problem is that the server I'm dealing with (which is beyond my control) somehow removed singleton arrays and replaces them by the contained object.</p>\n\n<p>For example, instead of returning:</p>\n\n<pre><code>{\n  \"foo\": [ \"bar\"],\n  \"bleh\": [ { \"some\": \"object\" } ]\n}\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>{\n  \"foo\": \"bar\",\n  \"bleh\": { \"some\": \"object\" }\n}\n</code></pre>\n\n<p>Now assume that the Java model class look something like this:</p>\n\n<pre><code>public class Model {\n   private List&lt;String&gt; foo;\n   private List&lt;SomeObject&gt; bleh;\n}\n</code></pre>\n\n<p>Currently this causes GSON to throw an exception because it finds <code>BEGIN_STRING</code> or <code>BEGIN_OBJECT</code> where it expects <code>BEGIN_ARRAY</code>.</p>\n\n<p>For arrays or lists of Strings this is easily solved using a <code>TypeAdapter&lt;List&lt;String&gt;&gt;</code>. But the problem is I have <code>List</code>s with many different element types and I don't want to write a separate <code>TypeAdapter</code> for each case. Nor have I been able to a generic <code>TypeAdapter&lt;List&lt;?&gt;&gt;</code>, because at some point you need to know the type.\nSo is there another way to configure GSON to be smart enough to turn single objects or values into arrays/lists? Or in other words, just \"pretend\" that the <code>[</code> and <code>]</code> are there where it expects to find them although they aren't there?</p>\n"},{"tags":["java","eclipse","intellij-idea"],"comments":[{"owner":{"account_id":2256418,"reputation":3983,"user_id":1987514,"accept_rate":86,"display_name":"Ben Green"},"score":0,"creation_date":1465471316,"post_id":37723064,"comment_id":62920276,"body_markdown":"I deleted my answer, as I had totally missed the fact that you already have that turned on. \n\nApologies, but I think that&#39;s as good as you&#39;re going to get. Personally, I think it&#39;s cleaner than Eclipse, as it only shows you the info if you want it. If you think you want to use AffineTransform, why do you care about the constructor for Affine3D?","body":"I deleted my answer, as I had totally missed the fact that you already have that turned on.   Apologies, but I think that&#39;s as good as you&#39;re going to get. Personally, I think it&#39;s cleaner than Eclipse, as it only shows you the info if you want it. If you think you want to use AffineTransform, why do you care about the constructor for Affine3D?"},{"owner":{"account_id":1517219,"reputation":772,"user_id":1417953,"accept_rate":93,"display_name":"Gelunox"},"score":0,"creation_date":1465473470,"post_id":37723064,"comment_id":62921813,"body_markdown":"it may be cleaner, but it doesn&#39;t show any info about the class itself, it only shows method signatures. Eclipse gives me actual javadoc and a much better sense of the class I&#39;m about to create an object of. And Eclipse also doesn&#39;t require me to use a separate keycombo for finding out signatures afterwards, I can ctrl+space inside the parenthesis. If I try that in IntelliJ my autocomplete keycombo (also ctrl+space) gets blocked so I can&#39;t manually call it anymore....","body":"it may be cleaner, but it doesn&#39;t show any info about the class itself, it only shows method signatures. Eclipse gives me actual javadoc and a much better sense of the class I&#39;m about to create an object of. And Eclipse also doesn&#39;t require me to use a separate keycombo for finding out signatures afterwards, I can ctrl+space inside the parenthesis. If I try that in IntelliJ my autocomplete keycombo (also ctrl+space) gets blocked so I can&#39;t manually call it anymore...."},{"owner":{"account_id":2256418,"reputation":3983,"user_id":1987514,"accept_rate":86,"display_name":"Ben Green"},"score":1,"creation_date":1465473824,"post_id":37723064,"comment_id":62922062,"body_markdown":"Fair enough. Then I don&#39;t think that what you are looking for is possible. Sorry.","body":"Fair enough. Then I don&#39;t think that what you are looking for is possible. Sorry."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1465483066,"post_id":37723064,"comment_id":62929310,"body_markdown":"What&#39;s wrong for clicking on the correct signature in &quot;Documentation for AffineTransform&quot; (the panel on the right) ?","body":"What&#39;s wrong for clicking on the correct signature in &quot;Documentation for AffineTransform&quot; (the panel on the right) ?"}],"answers":[{"tags":[],"owner":{"account_id":920765,"reputation":2524,"user_id":952511,"accept_rate":78,"display_name":"sinujohn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465467626,"creation_date":1465467626,"answer_id":37723203,"question_id":37723064,"body_markdown":"Type the class name and the parenthesis. Inside parenthesis, type ```Ctrl+P```. Eg: ```new BufferedWriter( &lt;ctrl+P&gt; )```\r\n\r\nIn fact you can type, ```ctrl+P``` to get details of any function, not just constructor.","title":"IntelliJ IDEA code completion show all constructor signatures?","body":"<p>Type the class name and the parenthesis. Inside parenthesis, type <code>Ctrl+P</code>. Eg: <code>new BufferedWriter( &lt;ctrl+P&gt; )</code></p>\n\n<p>In fact you can type, <code>ctrl+P</code> to get details of any function, not just constructor.</p>\n"},{"tags":[],"owner":{"account_id":13728241,"reputation":116,"user_id":9906396,"display_name":"Talis Guo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633581960,"creation_date":1633312991,"answer_id":69430247,"question_id":37723064,"body_markdown":"This answer is base on IDEA version 2021.2.2\r\n\r\nIn the `Settings -&gt; Editor -&gt; General -&gt; Code Completion`, check **Show parameter name hints on completion** under **Parameter Info** session.\r\n\r\n![setting image](https://i.stack.imgur.com/fpp3X.png)\r\n\r\n![example image](https://i.stack.imgur.com/wew8O.png)\r\n\r\nCombine with `Ctrl + Q`, you can view the javadoc for each constructor.","title":"IntelliJ IDEA code completion show all constructor signatures?","body":"<p>This answer is base on IDEA version 2021.2.2</p>\n<p>In the <code>Settings -&gt; Editor -&gt; General -&gt; Code Completion</code>, check <strong>Show parameter name hints on completion</strong> under <strong>Parameter Info</strong> session.</p>\n<p><img src=\"https://i.stack.imgur.com/fpp3X.png\" alt=\"setting image\" /></p>\n<p><img src=\"https://i.stack.imgur.com/wew8O.png\" alt=\"example image\" /></p>\n<p>Combine with <code>Ctrl + Q</code>, you can view the javadoc for each constructor.</p>\n"},{"tags":[],"owner":{"account_id":3491211,"reputation":1083,"user_id":2920861,"accept_rate":88,"display_name":"Crigges"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667084431,"creation_date":1667084431,"answer_id":74249446,"question_id":37723064,"body_markdown":"It is also possible to show overloaded constructors by enabling a hidden option. Invoke the `Help | Find Action` menu item and type `Registry` to go to the Registry. Here enable the `java.completion.show.constructors` option.\r\n[![constructor overloads in completion][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ebfgq.png\r\n  [2]: https://i.stack.imgur.com/l1LDS.png\r\n\r\nCopied From: https://stackoverflow.com/a/43639241/2920861","title":"IntelliJ IDEA code completion show all constructor signatures?","body":"<p>It is also possible to show overloaded constructors by enabling a hidden option. Invoke the <code>Help | Find Action</code> menu item and type <code>Registry</code> to go to the Registry. Here enable the <code>java.completion.show.constructors</code> option.\n<a href=\"https://i.stack.imgur.com/l1LDS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l1LDS.png\" alt=\"constructor overloads in completion\" /></a></p>\n<p>Copied From: <a href=\"https://stackoverflow.com/a/43639241/2920861\">https://stackoverflow.com/a/43639241/2920861</a></p>\n"}],"owner":{"account_id":1517219,"reputation":772,"user_id":1417953,"accept_rate":93,"display_name":"Gelunox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1829,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69430247,"answer_count":3,"score":4,"last_activity_date":1667084431,"creation_date":1465467241,"question_id":37723064,"body_markdown":"I&#39;m considering switching from Eclipse to IntelliJ IDEA, but there&#39;s one thing holding me back: the autocomplete. Eclipse shows me all the information I want from the start whereas IntelliJ holds back some information. The only thing I&#39;m still missing is separate entries in code completion for each constructor signature. And I believe it&#39;s pretty weird that&#39;s missing since method signatures are done separately.\r\n\r\n**My question being, is it possible (am I overlooking something) to get IntelliJ to show separate entries for each signature for constructors WITH documentation, instead of just showing the class name and making you figure out afterwards if you&#39;re even in the right place or not.**\r\n\r\nEclipse way of showing (preferred)\r\n[![eclipse autocomplete][1]][1]\r\n\r\nIntelliJ IDEA way of showing (not preferred)\r\n[![intellij autocomplete][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bgLsc.png\r\n  [2]: http://i.stack.imgur.com/vkluh.png","title":"IntelliJ IDEA code completion show all constructor signatures?","body":"<p>I'm considering switching from Eclipse to IntelliJ IDEA, but there's one thing holding me back: the autocomplete. Eclipse shows me all the information I want from the start whereas IntelliJ holds back some information. The only thing I'm still missing is separate entries in code completion for each constructor signature. And I believe it's pretty weird that's missing since method signatures are done separately.</p>\n\n<p><strong>My question being, is it possible (am I overlooking something) to get IntelliJ to show separate entries for each signature for constructors WITH documentation, instead of just showing the class name and making you figure out afterwards if you're even in the right place or not.</strong></p>\n\n<p>Eclipse way of showing (preferred)\n<a href=\"https://i.stack.imgur.com/bgLsc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bgLsc.png\" alt=\"eclipse autocomplete\"></a></p>\n\n<p>IntelliJ IDEA way of showing (not preferred)\n<a href=\"https://i.stack.imgur.com/vkluh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vkluh.png\" alt=\"intellij autocomplete\"></a></p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667084027,"creation_date":1667084027,"answer_id":74249410,"question_id":74248048,"body_markdown":"If you don&#39;t set it using `Repartitioned.numberOfPartitions()`, then it&#39;s the same as the input topic.\r\n\r\nReference - https://stackoverflow.com/q/49578931/2308683 ","title":"Kafka streams repartitioning","body":"<p>If you don't set it using <code>Repartitioned.numberOfPartitions()</code>, then it's the same as the input topic.</p>\n<p>Reference - <a href=\"https://stackoverflow.com/q/49578931/2308683\">Is there a way to repartition the input topic in Kafka streams?</a></p>\n"}],"owner":{"account_id":25313613,"reputation":23,"user_id":19161839,"display_name":"Konrad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249410,"answer_count":1,"score":0,"last_activity_date":1667084027,"creation_date":1667070150,"question_id":74248048,"body_markdown":"In Kafka streams when function to modify the key is used then Kafka Streams creates internal repartitioned topic. I wonder what is number of partition of newly created topic? When new topic partition number is grater than 1 then other consumers from consumers group also are involved for consuming that internal topic?\r\n\r\nI am trying to scale one of my consumers but I try to understand first how does it works. ","title":"Kafka streams repartitioning","body":"<p>In Kafka streams when function to modify the key is used then Kafka Streams creates internal repartitioned topic. I wonder what is number of partition of newly created topic? When new topic partition number is grater than 1 then other consumers from consumers group also are involved for consuming that internal topic?</p>\n<p>I am trying to scale one of my consumers but I try to understand first how does it works.</p>\n"},{"tags":["java","gson","mapping","unmarshalling","jsonobjectrequest"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1667084027,"post_id":74240430,"comment_id":131087810,"body_markdown":"Does this answer your question? [Make GSON accept single objects where it expects arrays](https://stackoverflow.com/questions/43412261/make-gson-accept-single-objects-where-it-expects-arrays)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43412261/make-gson-accept-single-objects-where-it-expects-arrays\">Make GSON accept single objects where it expects arrays</a>"}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667083874,"creation_date":1667083874,"answer_id":74249397,"question_id":74240430,"body_markdown":"You could solve this with a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) which creates an adapter which first peeks at the type of the JSON data and then adds special handling where the JSON object is not wrapped in an JSON array:\r\n```java\r\n// Only intended for usage with @JsonAdapter\r\nclass SingleObjectOrListAdapterFactory implements TypeAdapterFactory {\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Note: Cannot use getDelegateAdapter due to https://github.com/google/gson/issues/1028\r\n        TypeAdapter&lt;T&gt; listAdapterDelegate = gson.getAdapter(type);\r\n        TypeAdapter&lt;JsonObject&gt; jsonObjectAdapter = gson.getAdapter(JsonObject.class);\r\n\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                listAdapterDelegate.write(out, value);\r\n            }\r\n\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                if (in.peek() == JsonToken.BEGIN_OBJECT) {\r\n                    // Wrap JSON object in a new JSON array before parsing it\r\n                    JsonObject jsonObject = jsonObjectAdapter.read(in);\r\n                    JsonArray jsonArray = new JsonArray();\r\n                    jsonArray.add(jsonObject);\r\n\r\n                    return listAdapterDelegate.fromJsonTree(jsonArray);\r\n                } else {\r\n                    return listAdapterDelegate.read(in);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nThe factory can then be specified for the affected field with [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html):\r\n```java\r\n@JsonAdapter(SingleObjectOrListAdapterFactory.class)\r\nprivate ArrayList&lt;RadarReport&gt; RadarReport;\r\n```","title":"Json string to Object mapping with dynamic values","body":"<p>You could solve this with a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> which creates an adapter which first peeks at the type of the JSON data and then adds special handling where the JSON object is not wrapped in an JSON array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Only intended for usage with @JsonAdapter\nclass SingleObjectOrListAdapterFactory implements TypeAdapterFactory {\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Note: Cannot use getDelegateAdapter due to https://github.com/google/gson/issues/1028\n        TypeAdapter&lt;T&gt; listAdapterDelegate = gson.getAdapter(type);\n        TypeAdapter&lt;JsonObject&gt; jsonObjectAdapter = gson.getAdapter(JsonObject.class);\n\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                listAdapterDelegate.write(out, value);\n            }\n\n            @Override\n            public T read(JsonReader in) throws IOException {\n                if (in.peek() == JsonToken.BEGIN_OBJECT) {\n                    // Wrap JSON object in a new JSON array before parsing it\n                    JsonObject jsonObject = jsonObjectAdapter.read(in);\n                    JsonArray jsonArray = new JsonArray();\n                    jsonArray.add(jsonObject);\n\n                    return listAdapterDelegate.fromJsonTree(jsonArray);\n                } else {\n                    return listAdapterDelegate.read(in);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>The factory can then be specified for the affected field with <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAdapter(SingleObjectOrListAdapterFactory.class)\nprivate ArrayList&lt;RadarReport&gt; RadarReport;\n</code></pre>\n"}],"owner":{"account_id":26763665,"reputation":3,"user_id":20361188,"display_name":"sandy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249397,"answer_count":1,"score":0,"last_activity_date":1667083874,"creation_date":1666987859,"question_id":74240430,"body_markdown":"I am consuming Thirdparty jsonString, I am trying to parse the json but sometimes JSON object &quot;RadarReports&quot; is an list and sometimes it object. \r\n\r\n    {&quot;RadarReports&quot;: {\r\n        &quot;executionTime&quot;: &quot;135&quot;,\r\n    &quot;RadarReport&quot;: {\r\n            &quot;abc&quot;: &quot;1116591&quot;,\r\n            &quot;name&quot;: &quot;abc&quot;,\r\n            &quot;id&quot;: &quot;2019050311582056119&quot;,\r\n            &quot;ownerId&quot;: &quot;xyz&quot;\r\n        },\r\n    &quot;size&quot; :&quot;1&quot;\r\n    }}\r\n=================\r\n\r\n  \r\n\r\n      {&quot;RadarReports&quot;: {\r\n            &quot;executionTime&quot;: &quot;113&quot;,\r\n            &quot;RadarReport&quot;: [\r\n                {\r\n                     &quot;abc&quot;: &quot;1116591&quot;,\r\n                &quot;name&quot;: &quot;abc&quot;,\r\n                &quot;id&quot;: &quot;2019050311582056119&quot;,\r\n                &quot;ownerId&quot;: &quot;xyz&quot;\r\n                },\r\n                {\r\n                &quot;abc&quot;: &quot;1116591&quot;,\r\n                &quot;name&quot;: &quot;abc&quot;,\r\n                &quot;id&quot;: &quot;2019050311582056119&quot;,\r\n                &quot;ownerId&quot;: &quot;xyz&quot;\r\n                },\r\n        \t]\r\n        &quot;size&quot; : &quot;2&quot;\r\n        }}\r\n\r\nI tried below to parse but failing when single object came into picture, need to accept both single and list of objects.\r\n\r\n\r\n\r\n    @Data\r\n    public class Radarreports {\r\n        private int size;\r\n        private ArrayList&lt;RadarreportSet&gt; RadarReportSet;\r\n        private ArrayList&lt;RadarReport&gt; RadarReport;\r\n    }\r\n\r\n    @Data\r\n    public\r\n    class ReportsResponse {\r\n        Radarreports RadarReports;\r\n    }\r\n\r\n    URL url = new URL(queryUrl);\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()));\r\n    Gson gson = new GsonBuilder().create();\r\n    ReportsResponse radarReports = gson.fromJson(br, ReportsResponse.class);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Json string to Object mapping with dynamic values","body":"<p>I am consuming Thirdparty jsonString, I am trying to parse the json but sometimes JSON object &quot;RadarReports&quot; is an list and sometimes it object.</p>\n<pre><code>{&quot;RadarReports&quot;: {\n    &quot;executionTime&quot;: &quot;135&quot;,\n&quot;RadarReport&quot;: {\n        &quot;abc&quot;: &quot;1116591&quot;,\n        &quot;name&quot;: &quot;abc&quot;,\n        &quot;id&quot;: &quot;2019050311582056119&quot;,\n        &quot;ownerId&quot;: &quot;xyz&quot;\n    },\n&quot;size&quot; :&quot;1&quot;\n}}\n</code></pre>\n<p>=================</p>\n<pre><code>  {&quot;RadarReports&quot;: {\n        &quot;executionTime&quot;: &quot;113&quot;,\n        &quot;RadarReport&quot;: [\n            {\n                 &quot;abc&quot;: &quot;1116591&quot;,\n            &quot;name&quot;: &quot;abc&quot;,\n            &quot;id&quot;: &quot;2019050311582056119&quot;,\n            &quot;ownerId&quot;: &quot;xyz&quot;\n            },\n            {\n            &quot;abc&quot;: &quot;1116591&quot;,\n            &quot;name&quot;: &quot;abc&quot;,\n            &quot;id&quot;: &quot;2019050311582056119&quot;,\n            &quot;ownerId&quot;: &quot;xyz&quot;\n            },\n        ]\n    &quot;size&quot; : &quot;2&quot;\n    }}\n</code></pre>\n<p>I tried below to parse but failing when single object came into picture, need to accept both single and list of objects.</p>\n<pre><code>@Data\npublic class Radarreports {\n    private int size;\n    private ArrayList&lt;RadarreportSet&gt; RadarReportSet;\n    private ArrayList&lt;RadarReport&gt; RadarReport;\n}\n\n@Data\npublic\nclass ReportsResponse {\n    Radarreports RadarReports;\n}\n\nURL url = new URL(queryUrl);\nBufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()));\nGson gson = new GsonBuilder().create();\nReportsResponse radarReports = gson.fromJson(br, ReportsResponse.class);\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667083106,"creation_date":1667083106,"answer_id":74249338,"question_id":74248330,"body_markdown":"Writing tests could be boring, but as you get stuck in errors, you will find it very necessary to write tests to avoid repeated actions.\r\nMethods like delete and update usually should be void, and you should only look for exceptions and response status.\r\n\r\nYou can use simply test your repository using the code below: \r\n\r\n    @AutoConfigureMockMvc\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @Import({ObjectMapper.class, &lt;yourController&gt;.class})\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    class &lt;YourClassName&gt; {\r\n        // use this to perform api requests\r\n        @Autowired\r\n    \t\tprivate MockMvc mockMvc;\r\n        // for live testing no mocking\r\n        @Autowired\r\n        private &lt;YourRepository&gt; repo;\r\n    \r\n        // saved user id\r\n        private static int savedUserId;\r\n        // you are mocking the repository and testing the service layer\r\n        // this is not applicable here, use the above code to test in integration mode.\r\n        /*@Mock\r\n        private &lt;YourRepository&gt; mockedRepo;*/\r\n        \r\n        // optionally used to create json objects\r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            \r\n        }\r\n    \r\n    \r\n      // save a user with and put the id in static filed (savedUserId)\r\n        @Test\r\n    \t  @Order(1)\r\n        public void saveStaffTest() throws Exception {\r\n          final String link = &quot;/user/save&quot;; // link to your controller api end point\r\n          User user = new User(10001L, &quot;Alex&quot;, &quot;alex.jamal@gmail.com&quot;, 10, LocalDate.of(2012, Month.APRIL, 13)); // define your default object here\r\n          /***\r\n           *  note: in your User class you might have id as auto generated, because of this you need two constructor one with id, and other without id\r\n           * , or you will have an error.\r\n           *  you can use objectmapper if you run to an error and just pass the object as json string.\r\n          */\r\n          \r\n          // here you are performing save request and getting the result\r\n          MvcResult result = this.mockMvc.perform(MockMvcRequestBuilders\r\n    \t\t\t\t\t\t.post(link)\r\n    \t\t\t\t\t\t.accept(MediaType.APPLICATION_JSON)\r\n    \t\t\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n    \t\t\t\t\t\t.content(objectMapper.writeValueAsBytes(user))) // this will make the object a json string\r\n    \t\t\t\t\t\t.andExpect(MockMvcResultMatchers.status().isCreated()) // here is what important! it will check the response status, if created 201 the test will success, else it will fail\r\n    \t\t\t\t\t\t.andReturn(); // returning the result\r\n    \t\t\t\tString response = result.getResponse().getContentAsString();\r\n    \t\t\t\tSystem.out.println(&quot;from response: &quot;+response); // this is the response you passed on your controller method\r\n    \t\t\t\t/**\r\n            * knowing your response structure search for the user id\r\n            */\r\n    \t\t\t\tJsonNode root = objectMapper.readTree(response); \r\n    \t\t\t\tJsonNode id = root.get(&quot;id&quot;); \r\n    \t\t\t\tsavedUserId = id.asInt(); here you save the id in static field savedUserId, then you can pass this id on the next test (delete/update);\r\n            \r\n    \t\t\t\tSystem.out.println(&quot;id is: &quot;+id);\r\n        }\r\n        @Test\r\n        @Order(2)\r\n        void shouldDeleteUser() throws IllegalStateException, Exception{\r\n        // here delete the object, and assert the response state is ok, no need to return any value\r\n        final String link = &quot;/user/delete/&quot;+savedUserId;\r\n    \t\t\t\tthis.mockMvc.perform(MockMvcRequestBuilders\r\n    \t\t\t\t\t\t.post(link)\r\n    \t\t\t\t\t\t.accept(MediaType.APPLICATION_JSON))\r\n    \t\t\t\t\t\t.andExpect(MockMvcResultMatchers.status().isOk()); // fail if the response is not 200, couldn&#39;t delete the object\r\n            underTest.addNewUser(userCreateDto);\r\n            final long id = 223;\r\n            // when\r\n            underTest.deleteUserById(id);\r\n            //then\r\n            verify(userRepository).deleteById(id);\r\n        }\r\n        \r\n        /***************** save user method to add to controller ***************/\r\n          @PostMapping(&quot;/user/save&quot;)\r\n          private ResponseEntity&lt;User&gt; addNewUser(@RequestBody User user){\r\n              try {\r\n                   userRepo.save(user); // can call the service if you want also\r\n                   return ResponseEntity.status(HttpStatus.CREATED).body(user);\r\n              }catch(Exception e){\r\n                  System.out.println(e.getMessage()); \r\n              }\r\n            \r\n              return ResponseEntity.badRequest().body(null);\r\n          }\r\n          \r\n          /***************** delete user method to add to controller ***************/\r\n          @PostMapping(&quot;/user/delete/{userId});\r\n          private ResponseEntity deleteUser(@PathVariable(&quot;userId) int userId){\r\n              try {\r\n                  // you can add the logic to check if user exists first\r\n                  User user = userRepo.getById(userId);\r\n                  if(user != null){\r\n                  // delete the user if it exists\r\n                   userRepo.delete(user); // delete\r\n                   return ResponseEntity.OK(); // you can add a body response if you want to\r\n              }catch(Exception e){\r\n                  System.out.println(e.getMessage()); \r\n              }\r\n            \r\n              return ResponseEntity.badRequest();\r\n          }\r\n    \r\n    }","title":"How to mock and test delete service?","body":"<p>Writing tests could be boring, but as you get stuck in errors, you will find it very necessary to write tests to avoid repeated actions.\nMethods like delete and update usually should be void, and you should only look for exceptions and response status.</p>\n<p>You can use simply test your repository using the code below:</p>\n<pre><code>@AutoConfigureMockMvc\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Import({ObjectMapper.class, &lt;yourController&gt;.class})\n@TestMethodOrder(OrderAnnotation.class)\nclass &lt;YourClassName&gt; {\n    // use this to perform api requests\n    @Autowired\n        private MockMvc mockMvc;\n    // for live testing no mocking\n    @Autowired\n    private &lt;YourRepository&gt; repo;\n\n    // saved user id\n    private static int savedUserId;\n    // you are mocking the repository and testing the service layer\n    // this is not applicable here, use the above code to test in integration mode.\n    /*@Mock\n    private &lt;YourRepository&gt; mockedRepo;*/\n    \n    // optionally used to create json objects\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @BeforeEach\n    void setUp() {\n        \n    }\n\n\n  // save a user with and put the id in static filed (savedUserId)\n    @Test\n      @Order(1)\n    public void saveStaffTest() throws Exception {\n      final String link = &quot;/user/save&quot;; // link to your controller api end point\n      User user = new User(10001L, &quot;Alex&quot;, &quot;alex.jamal@gmail.com&quot;, 10, LocalDate.of(2012, Month.APRIL, 13)); // define your default object here\n      /***\n       *  note: in your User class you might have id as auto generated, because of this you need two constructor one with id, and other without id\n       * , or you will have an error.\n       *  you can use objectmapper if you run to an error and just pass the object as json string.\n      */\n      \n      // here you are performing save request and getting the result\n      MvcResult result = this.mockMvc.perform(MockMvcRequestBuilders\n                        .post(link)\n                        .accept(MediaType.APPLICATION_JSON)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsBytes(user))) // this will make the object a json string\n                        .andExpect(MockMvcResultMatchers.status().isCreated()) // here is what important! it will check the response status, if created 201 the test will success, else it will fail\n                        .andReturn(); // returning the result\n                String response = result.getResponse().getContentAsString();\n                System.out.println(&quot;from response: &quot;+response); // this is the response you passed on your controller method\n                /**\n        * knowing your response structure search for the user id\n        */\n                JsonNode root = objectMapper.readTree(response); \n                JsonNode id = root.get(&quot;id&quot;); \n                savedUserId = id.asInt(); here you save the id in static field savedUserId, then you can pass this id on the next test (delete/update);\n        \n                System.out.println(&quot;id is: &quot;+id);\n    }\n    @Test\n    @Order(2)\n    void shouldDeleteUser() throws IllegalStateException, Exception{\n    // here delete the object, and assert the response state is ok, no need to return any value\n    final String link = &quot;/user/delete/&quot;+savedUserId;\n                this.mockMvc.perform(MockMvcRequestBuilders\n                        .post(link)\n                        .accept(MediaType.APPLICATION_JSON))\n                        .andExpect(MockMvcResultMatchers.status().isOk()); // fail if the response is not 200, couldn't delete the object\n        underTest.addNewUser(userCreateDto);\n        final long id = 223;\n        // when\n        underTest.deleteUserById(id);\n        //then\n        verify(userRepository).deleteById(id);\n    }\n    \n    /***************** save user method to add to controller ***************/\n      @PostMapping(&quot;/user/save&quot;)\n      private ResponseEntity&lt;User&gt; addNewUser(@RequestBody User user){\n          try {\n               userRepo.save(user); // can call the service if you want also\n               return ResponseEntity.status(HttpStatus.CREATED).body(user);\n          }catch(Exception e){\n              System.out.println(e.getMessage()); \n          }\n        \n          return ResponseEntity.badRequest().body(null);\n      }\n      \n      /***************** delete user method to add to controller ***************/\n      @PostMapping(&quot;/user/delete/{userId});\n      private ResponseEntity deleteUser(@PathVariable(&quot;userId) int userId){\n          try {\n              // you can add the logic to check if user exists first\n              User user = userRepo.getById(userId);\n              if(user != null){\n              // delete the user if it exists\n               userRepo.delete(user); // delete\n               return ResponseEntity.OK(); // you can add a body response if you want to\n          }catch(Exception e){\n              System.out.println(e.getMessage()); \n          }\n        \n          return ResponseEntity.badRequest();\n      }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26771442,"reputation":11,"user_id":20367759,"display_name":"expectedNoneExpected"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667083106,"creation_date":1667072764,"question_id":74248330,"body_markdown":"So I am making Spring boot Tests on my Rest API and I am struggling a lot. When I search for tests online and try to replicate them, they do not work. How do I test delete service? Do I need to save new user first or is there another way to test it out?\r\n\r\n```\r\npackage com.example.tattooweb.user;\r\n\r\nimport org.junit.Ignore;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Disabled;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.ArgumentCaptor;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThatThrownBy;\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.BDDMockito.given;\r\nimport static org.mockito.Mockito.*;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserServiceTest {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Mock\r\n    private UserRepository userRepository;\r\n    private UserService underTest;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        underTest = new UserService(userRepository);\r\n    }\r\n\r\n\r\n    @Test\r\n    void shouldDeleteUser() {\r\n//        assertThrows(IllegalStateException.class, () -&gt; userService.deleteUser(123L));\r\n//        assertThrows(IllegalStateException.class, () -&gt; userService.deleteUser(5L));\r\n        final User user = new User(\r\n                10001L,\r\n                &quot;Alex&quot;,\r\n                &quot;alex.jamal@gmail.com&quot;,\r\n                10,\r\n                LocalDate.of(2012, Month.APRIL, 13));\r\n        // given\r\n        UserCreateDto userCreateDto = new UserCreateDto(\r\n                &quot;Alex&quot;,\r\n                &quot;alex.jamal@gmail.com&quot;,\r\n                LocalDate.of(2012, Month.APRIL, 13)\r\n        );\r\n        underTest.addNewUser(userCreateDto);\r\n        final long id = 223;\r\n        // when\r\n        underTest.deleteUserById(id);\r\n        //then\r\n        verify(userRepository).deleteById(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI made this method boolean while testing, thought it might make it easier. If making API do we want to return status when using Delete endpoint or do we keep it as void method and return nothing?\r\n```\r\npublic boolean deleteUserById(Long userId) {\r\n    if(!userRepository.existsById(userId)) {\r\n        throw new IllegalStateException(&quot;User with id &quot; + userId + &quot; doesn&#39;t exist&quot;);\r\n    }\r\n    userRepository.deleteById(userId);\r\n    return true;\r\n}\r\n```\r\n\r\n\r\n\r\nIf any information is necessary or missing please ask. I&#39;m doing this project for self learning, but been stuck on this issue of mine for past 3 days, I&#39;m new to testing and so far it wasn&#39;t very easy.\r\n\r\nI also have two questions on top of that.\r\n\r\n1. What service methods better kept as void?\r\n2. How often do you write tests when it comes to job?","title":"How to mock and test delete service?","body":"<p>So I am making Spring boot Tests on my Rest API and I am struggling a lot. When I search for tests online and try to replicate them, they do not work. How do I test delete service? Do I need to save new user first or is there another way to test it out?</p>\n<pre><code>package com.example.tattooweb.user;\n\nimport org.junit.Ignore;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Disabled;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThatThrownBy;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.BDDMockito.given;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n    @Autowired\n    private UserService userService;\n\n    @Mock\n    private UserRepository userRepository;\n    private UserService underTest;\n\n    @BeforeEach\n    void setUp() {\n        underTest = new UserService(userRepository);\n    }\n\n\n    @Test\n    void shouldDeleteUser() {\n//        assertThrows(IllegalStateException.class, () -&gt; userService.deleteUser(123L));\n//        assertThrows(IllegalStateException.class, () -&gt; userService.deleteUser(5L));\n        final User user = new User(\n                10001L,\n                &quot;Alex&quot;,\n                &quot;alex.jamal@gmail.com&quot;,\n                10,\n                LocalDate.of(2012, Month.APRIL, 13));\n        // given\n        UserCreateDto userCreateDto = new UserCreateDto(\n                &quot;Alex&quot;,\n                &quot;alex.jamal@gmail.com&quot;,\n                LocalDate.of(2012, Month.APRIL, 13)\n        );\n        underTest.addNewUser(userCreateDto);\n        final long id = 223;\n        // when\n        underTest.deleteUserById(id);\n        //then\n        verify(userRepository).deleteById(id);\n    }\n\n}\n</code></pre>\n<p>I made this method boolean while testing, thought it might make it easier. If making API do we want to return status when using Delete endpoint or do we keep it as void method and return nothing?</p>\n<pre><code>public boolean deleteUserById(Long userId) {\n    if(!userRepository.existsById(userId)) {\n        throw new IllegalStateException(&quot;User with id &quot; + userId + &quot; doesn't exist&quot;);\n    }\n    userRepository.deleteById(userId);\n    return true;\n}\n</code></pre>\n<p>If any information is necessary or missing please ask. I'm doing this project for self learning, but been stuck on this issue of mine for past 3 days, I'm new to testing and so far it wasn't very easy.</p>\n<p>I also have two questions on top of that.</p>\n<ol>\n<li>What service methods better kept as void?</li>\n<li>How often do you write tests when it comes to job?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667082281,"post_id":74249218,"comment_id":131087541,"body_markdown":"Why should 5 be 50? Shouldn&#39;t that be 05 as well? 35, 05, 92, 99, …","body":"Why should 5 be 50? Shouldn&#39;t that be 05 as well? 35, 05, 92, 99, …"},{"owner":{"account_id":20213056,"reputation":5,"user_id":14824774,"display_name":"cvhvx"},"score":0,"creation_date":1667082715,"post_id":74249218,"comment_id":131087613,"body_markdown":"@knittl Sorry, my mistake, yes 5 should actually be 05. Will make the edit","body":"@knittl Sorry, my mistake, yes 5 should actually be 05. Will make the edit"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667081899,"creation_date":1667081899,"answer_id":74249250,"question_id":74249218,"body_markdown":"Numbers don&#39;t have leading zeros. 3 is 03 is 003. If you require leading zeros, keep a string and only convert to a number when summing:\r\n\r\n```\r\nfor(int i = 0; i &lt; length; i = i + group)\r\n{\r\n   final String substring = randomString.substring(i, Math.min(length, i + group));\r\n   System.out.println(&quot;Group: &quot; + substring);\r\n   int digits = Integer.parseInt(substring);\r\n   total = total + digits;\r\n}\r\n```\r\n\r\nor\r\n\r\n```\r\nfor(int i = 0; i &lt; length; i += group)\r\n{\r\n   final String digits = randomString.substring(i, Math.min(length, i + group));\r\n   System.out.println(&quot;Group: &quot; + digits);\r\n   total += Integer.parseInt(digits);\r\n}\r\n```","title":"How to include 0s of substrings without ArrayList and array?","body":"<p>Numbers don't have leading zeros. 3 is 03 is 003. If you require leading zeros, keep a string and only convert to a number when summing:</p>\n<pre><code>for(int i = 0; i &lt; length; i = i + group)\n{\n   final String substring = randomString.substring(i, Math.min(length, i + group));\n   System.out.println(&quot;Group: &quot; + substring);\n   int digits = Integer.parseInt(substring);\n   total = total + digits;\n}\n</code></pre>\n<p>or</p>\n<pre><code>for(int i = 0; i &lt; length; i += group)\n{\n   final String digits = randomString.substring(i, Math.min(length, i + group));\n   System.out.println(&quot;Group: &quot; + digits);\n   total += Integer.parseInt(digits);\n}\n</code></pre>\n"}],"owner":{"account_id":20213056,"reputation":5,"user_id":14824774,"display_name":"cvhvx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249250,"answer_count":1,"score":0,"last_activity_date":1667082848,"creation_date":1667081557,"question_id":74249218,"body_markdown":"I finished a program where I use Math.random() to pick a number 25-50, both inclusive. This will be passed to stringAdd() as length. The method creates a string with the randomized length from numbers 0-9 (also inclusive) using Math.random() as well.\r\n\r\nThen, if the length is above 30, &quot;group&quot; the string by 3 digits, otherwise, just &quot;group&quot; by 2 digits. Uneven grouping is allowed at the end (see the sample output I included below).\r\n\r\nLast, the program must loop through the string, change all group of numbers to int and then add the sum to a total, so the total can be returned.\r\n\r\nThis is the code I have:\r\n\r\n```\r\npublic class Grouping\r\n{\r\n    public static int stringAdd(int length)\r\n    {\r\n        ArrayList&lt;String&gt; numbers = new ArrayList&lt;String&gt;();\r\n        String randomString = &quot;&quot;;\r\n        for(int i = 0; i &lt; length; i++)\r\n\t{\r\n\t    int randomNumbers = (int)(Math.random()*10);\r\n\t    randomString = randomString + randomNumbers;\r\n\t}\r\n\tSystem.out.println(&quot;Generated string: &quot; + randomString);\r\n\t\t\r\n\tint group = 2;\r\n\tif(length &gt; 30)\r\n\t    group = 3;\r\n\t\t\r\n\tfor(int i = 0; i &lt; length; i = i + group)\r\n\t{\r\n\t    numbers.add(randomString.substring(i, Math.min(length, i + group)));\r\n            System.out.println(&quot;Group: &quot; + randomString.substring(i, Math.min(length, i + group)));\r\n\t}\r\n\t\t\r\n        int[] array = new int[numbers.size()];\r\n        int total = 0;\r\n        \r\n\tfor(int i = 0; i &lt; numbers.size(); i++)\r\n\t{\r\n\t    array[i] = Integer.parseInt(numbers.get(i));\r\n            total = total + array[i];\r\n\t}\r\n\treturn total;\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\tint randomLength = (int)(Math.random() * (50 - 25) + 1) + 25;\r\n\tSystem.out.println(&quot;Length of the string is &quot; + randomLength);\r\n\tSystem.out.println(&quot;Total: &quot; + stringAdd(randomLength));\r\n    }\r\n}\r\n```\r\n\r\nThe output is this:\r\n```\r\nLength of the string is 30\r\nGenerated string: 157768294302045453441313535692\r\nGroup: 15\r\nGroup: 77\r\nGroup: 68\r\nGroup: 29\r\nGroup: 43\r\nGroup: 02\r\nGroup: 04\r\nGroup: 54\r\nGroup: 53\r\nGroup: 44\r\nGroup: 13\r\nGroup: 13\r\nGroup: 53\r\nGroup: 56\r\nGroup: 92\r\nTotal: 616\r\n```\r\n\r\nHowever, I wanted to simplify this and remove the use of ArrayList and array so that I only need two for loops instead of three. So I did something similar that I already have:\r\n\r\n```\r\nint total = 0;\r\nfor(int i = 0; i &lt; length; i = i + group)\r\n{\r\n   int digits = Integer.parseInt(randomString.substring(i, Math.min(length, i + group)));\r\n   System.out.println(&quot;Group: &quot; + digits);\r\n   total = total + digits;\r\n}\r\nreturn total; \r\n```\r\n\r\nAnd one output is this, which looks fine...\r\n```\r\nLength of the string is 47\r\nGenerated string: 26011336670044862237923585625878411711193186128\r\nGroup: 260\r\nGroup: 113\r\nGroup: 366\r\nGroup: 700\r\nGroup: 448\r\nGroup: 622\r\nGroup: 379\r\nGroup: 235\r\nGroup: 856\r\nGroup: 258\r\nGroup: 784\r\nGroup: 117\r\nGroup: 111\r\nGroup: 931\r\nGroup: 861\r\nGroup: 28\r\nTotal: 7069\r\n```\r\n\r\nBut another output would be this:\r\n```\r\nLength of the string is 28\r\nGenerated string: 7581863393306645423505929903\r\nGroup: 75\r\nGroup: 81\r\nGroup: 86\r\nGroup: 33\r\nGroup: 93\r\nGroup: 30\r\nGroup: 66\r\nGroup: 45\r\nGroup: 42\r\nGroup: 35\r\nGroup: 5\r\nGroup: 92\r\nGroup: 99\r\nGroup: 3\r\nTotal: 785\r\n```\r\n\r\n5 should actually be 05 and 3 should actually be 03. I understand that the &quot;zero&quot; in 03 does not add to the total, but I strictly want my program to group by the digits. I also am working under constraints so unfortunately I cannot use anything advanced yet","title":"How to include 0s of substrings without ArrayList and array?","body":"<p>I finished a program where I use Math.random() to pick a number 25-50, both inclusive. This will be passed to stringAdd() as length. The method creates a string with the randomized length from numbers 0-9 (also inclusive) using Math.random() as well.</p>\n<p>Then, if the length is above 30, &quot;group&quot; the string by 3 digits, otherwise, just &quot;group&quot; by 2 digits. Uneven grouping is allowed at the end (see the sample output I included below).</p>\n<p>Last, the program must loop through the string, change all group of numbers to int and then add the sum to a total, so the total can be returned.</p>\n<p>This is the code I have:</p>\n<pre><code>public class Grouping\n{\n    public static int stringAdd(int length)\n    {\n        ArrayList&lt;String&gt; numbers = new ArrayList&lt;String&gt;();\n        String randomString = &quot;&quot;;\n        for(int i = 0; i &lt; length; i++)\n    {\n        int randomNumbers = (int)(Math.random()*10);\n        randomString = randomString + randomNumbers;\n    }\n    System.out.println(&quot;Generated string: &quot; + randomString);\n        \n    int group = 2;\n    if(length &gt; 30)\n        group = 3;\n        \n    for(int i = 0; i &lt; length; i = i + group)\n    {\n        numbers.add(randomString.substring(i, Math.min(length, i + group)));\n            System.out.println(&quot;Group: &quot; + randomString.substring(i, Math.min(length, i + group)));\n    }\n        \n        int[] array = new int[numbers.size()];\n        int total = 0;\n        \n    for(int i = 0; i &lt; numbers.size(); i++)\n    {\n        array[i] = Integer.parseInt(numbers.get(i));\n            total = total + array[i];\n    }\n    return total;\n    }\n\n    public static void main(String[] args)\n    {\n    int randomLength = (int)(Math.random() * (50 - 25) + 1) + 25;\n    System.out.println(&quot;Length of the string is &quot; + randomLength);\n    System.out.println(&quot;Total: &quot; + stringAdd(randomLength));\n    }\n}\n</code></pre>\n<p>The output is this:</p>\n<pre><code>Length of the string is 30\nGenerated string: 157768294302045453441313535692\nGroup: 15\nGroup: 77\nGroup: 68\nGroup: 29\nGroup: 43\nGroup: 02\nGroup: 04\nGroup: 54\nGroup: 53\nGroup: 44\nGroup: 13\nGroup: 13\nGroup: 53\nGroup: 56\nGroup: 92\nTotal: 616\n</code></pre>\n<p>However, I wanted to simplify this and remove the use of ArrayList and array so that I only need two for loops instead of three. So I did something similar that I already have:</p>\n<pre><code>int total = 0;\nfor(int i = 0; i &lt; length; i = i + group)\n{\n   int digits = Integer.parseInt(randomString.substring(i, Math.min(length, i + group)));\n   System.out.println(&quot;Group: &quot; + digits);\n   total = total + digits;\n}\nreturn total; \n</code></pre>\n<p>And one output is this, which looks fine...</p>\n<pre><code>Length of the string is 47\nGenerated string: 26011336670044862237923585625878411711193186128\nGroup: 260\nGroup: 113\nGroup: 366\nGroup: 700\nGroup: 448\nGroup: 622\nGroup: 379\nGroup: 235\nGroup: 856\nGroup: 258\nGroup: 784\nGroup: 117\nGroup: 111\nGroup: 931\nGroup: 861\nGroup: 28\nTotal: 7069\n</code></pre>\n<p>But another output would be this:</p>\n<pre><code>Length of the string is 28\nGenerated string: 7581863393306645423505929903\nGroup: 75\nGroup: 81\nGroup: 86\nGroup: 33\nGroup: 93\nGroup: 30\nGroup: 66\nGroup: 45\nGroup: 42\nGroup: 35\nGroup: 5\nGroup: 92\nGroup: 99\nGroup: 3\nTotal: 785\n</code></pre>\n<p>5 should actually be 05 and 3 should actually be 03. I understand that the &quot;zero&quot; in 03 does not add to the total, but I strictly want my program to group by the digits. I also am working under constraints so unfortunately I cannot use anything advanced yet</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":4,"creation_date":1452974143,"post_id":34831420,"comment_id":57404489,"body_markdown":"From the Javadoc of [`Arrays.sort`](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-int:A-): &quot;This algorithm offers O(n log(n)) performance on many data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.&quot; Your premise is wrong.","body":"From the Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-int:A-\" rel=\"nofollow noreferrer\"><code>Arrays.sort</code></a>: &quot;This algorithm offers O(n log(n)) performance on many data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.&quot; Your premise is wrong."},{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":1,"creation_date":1452974384,"post_id":34831420,"comment_id":57404560,"body_markdown":"I&#39;m voting to close this question as off-topic because OP misread the documentation","body":"I&#39;m voting to close this question as off-topic because OP misread the documentation"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1452974588,"post_id":34831420,"comment_id":57404633,"body_markdown":"@Tunaki His premise is not wrong. The implementation may not exhibit *O(n^2)* behaviour as often as others, but it cannot escape exhibiting it for some datasets.","body":"@Tunaki His premise is not wrong. The implementation may not exhibit <i>O(n^2)</i> behaviour as often as others, but it cannot escape exhibiting it for some datasets."},{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":1,"creation_date":1452974663,"post_id":34831420,"comment_id":57404648,"body_markdown":"Are all those downvotes really necessary?","body":"Are all those downvotes really necessary?"},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1452974692,"post_id":34831420,"comment_id":57404659,"body_markdown":"@EJP Well yes but saying &quot;Arrays.sort isn&#39;t O(n log n)&quot; is wrong.","body":"@EJP Well yes but saying &quot;Arrays.sort isn&#39;t O(n log n)&quot; is wrong."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1452974793,"post_id":34831420,"comment_id":57404693,"body_markdown":"@Tunaki Certainly, but that doesn&#39;t invalidate the premise of the question.","body":"@Tunaki Certainly, but that doesn&#39;t invalidate the premise of the question."},{"owner":{"account_id":7650632,"reputation":79,"user_id":5799521,"display_name":"Pand"},"score":1,"creation_date":1452977171,"post_id":34831420,"comment_id":57405451,"body_markdown":"Saying Arrays.sort isn&#39;t O(n log n) is of course right. Worst case complexity is O(n^2) and having array with 10^6 elements it might not stop for years..","body":"Saying Arrays.sort isn&#39;t O(n log n) is of course right. Worst case complexity is O(n^2) and having array with 10^6 elements it might not stop for years.."}],"answers":[{"tags":[],"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452975217,"creation_date":1452974703,"answer_id":34831537,"question_id":34831420,"body_markdown":"Just implement the mergesort yourself, it&#39;s no rocket science.\r\nAfter you have implemented it, do take a little time to run some benchmarks and compare the performance of you implementation with that of `Arrays.sort`. There may be some surprises waiting for you there.\r\n\r\nAlso, read up on [premature optimization][1], I think you might find the notion useful.\r\n\r\n\r\n  [1]: http://c2.com/cgi/wiki?PrematureOptimization","title":"How to sort int array efficiently","body":"<p>Just implement the mergesort yourself, it's no rocket science.\nAfter you have implemented it, do take a little time to run some benchmarks and compare the performance of you implementation with that of <code>Arrays.sort</code>. There may be some surprises waiting for you there.</p>\n\n<p>Also, read up on <a href=\"http://c2.com/cgi/wiki?PrematureOptimization\" rel=\"nofollow\">premature optimization</a>, I think you might find the notion useful.</p>\n"},{"tags":[],"owner":{"account_id":2175036,"reputation":5034,"user_id":1925904,"accept_rate":75,"display_name":"Chad Dienhart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452974874,"creation_date":1452974874,"answer_id":34831569,"question_id":34831420,"body_markdown":"You should investigate [Heapsort][1], while slightly slower it guarantees O(n Log n). \r\nhttps://stackoverflow.com/questions/2467751/quicksort-vs-heapsort\r\n \r\nThere is also the textbook explanation [here][2].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Heapsort\r\n  [2]: http://algs4.cs.princeton.edu/24pq/","title":"How to sort int array efficiently","body":"<p>You should investigate <a href=\"https://en.wikipedia.org/wiki/Heapsort\" rel=\"nofollow noreferrer\">Heapsort</a>, while slightly slower it guarantees O(n Log n). \n<a href=\"https://stackoverflow.com/questions/2467751/quicksort-vs-heapsort\">Quicksort vs heapsort</a></p>\n\n<p>There is also the textbook explanation <a href=\"http://algs4.cs.princeton.edu/24pq/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453676964,"creation_date":1452975482,"answer_id":34831685,"question_id":34831420,"body_markdown":"If the range of integers is small you can use [Counting Sort][1], which uses numbers as array-indexes and, unlike comparison-sort algorithms that have a lower bound of O(*nlogn*) (eg Quicksort or Mergesort), it has a complexity of O(*n+k*), where *k* is the range between your min and max value.\r\n\r\nWhich algorithm to choose always depends on any extra knowledge you may have regarding the distribution of the array elements.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Counting_sort","title":"How to sort int array efficiently","body":"<p>If the range of integers is small you can use <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow\">Counting Sort</a>, which uses numbers as array-indexes and, unlike comparison-sort algorithms that have a lower bound of O(<em>nlogn</em>) (eg Quicksort or Mergesort), it has a complexity of O(<em>n+k</em>), where <em>k</em> is the range between your min and max value.</p>\n\n<p>Which algorithm to choose always depends on any extra knowledge you may have regarding the distribution of the array elements.</p>\n"},{"tags":[],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667082397,"creation_date":1666732364,"answer_id":74200260,"question_id":34831420,"body_markdown":"O(n) time, O(1) space\r\n----\r\nUse [`IntArrays.unstableSort(int[] a)`][fastutil-sort] from [fastutil][fastutil] library.\r\n\r\nIt uses in-place [radix sort][radix-sort-wiki] for big enough arrays and quicksort for small arrays:\r\n```java\r\nif (to - from &gt;= RADIX_SORT_MIN_THRESHOLD) {\r\n  radixSort(a, from, to);\r\n} else {\r\n  quickSort(a, from, to);\r\n}\r\n```\r\n\r\nO(n log(n)) time, O(n) space and Java 14+\r\n-----------------------\r\n\r\n&gt; Arrays.sort uses quicksort, which sometimes result in O(n^2) complexity\r\n\r\nThis is only true if you are using Java 13 or earlier versions. Starting from Java 14 Arrays.sort(int[]) guarantees O(n log(n)) performance in the worst case:\r\n\r\n&gt; This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)\r\n\r\nThis is achieved by [resorting to heapsort][2] if recursion becomes too deep:\r\n```java\r\nif ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\r\n  heapSort(a, low, high);\r\n  return;\r\n}\r\n```\r\n\r\n  [fastutil-sort]: https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/IntArrays.html#unstableSort(int%5B%5D)\r\n  [radix-sort-wiki]: https://en.wikipedia.org/wiki/Radix_sort\r\n\r\n\r\n  [fastutil]: https://fastutil.di.unimi.it/\r\n  [2]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961","title":"How to sort int array efficiently","body":"<h2>O(n) time, O(1) space</h2>\n<p>Use <a href=\"https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/IntArrays.html#unstableSort(int%5B%5D)\" rel=\"nofollow noreferrer\"><code>IntArrays.unstableSort(int[] a)</code></a> from <a href=\"https://fastutil.di.unimi.it/\" rel=\"nofollow noreferrer\">fastutil</a> library.</p>\n<p>It uses in-place <a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow noreferrer\">radix sort</a> for big enough arrays and quicksort for small arrays:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (to - from &gt;= RADIX_SORT_MIN_THRESHOLD) {\n  radixSort(a, from, to);\n} else {\n  quickSort(a, from, to);\n}\n</code></pre>\n<h2>O(n log(n)) time, O(n) space and Java 14+</h2>\n<blockquote>\n<p>Arrays.sort uses quicksort, which sometimes result in O(n^2) complexity</p>\n</blockquote>\n<p>This is only true if you are using Java 13 or earlier versions. Starting from Java 14 Arrays.sort(int[]) guarantees O(n log(n)) performance in the worst case:</p>\n<blockquote>\n<p>This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)</a></p>\n<p>This is achieved by <a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961\" rel=\"nofollow noreferrer\">resorting to heapsort</a> if recursion becomes too deep:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\n  heapSort(a, low, high);\n  return;\n}\n</code></pre>\n"}],"owner":{"account_id":7650632,"reputation":79,"user_id":5799521,"display_name":"Pand"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1734,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"answer_count":4,"score":4,"last_activity_date":1667082397,"creation_date":1452974044,"question_id":34831420,"body_markdown":"I have array of ints\r\n\r\n    int array[] = ...\r\n\r\nand I can sort it using \r\n\r\n    Arrays.sort(array);\r\n\r\nbut Arrays.sort uses quicksort, which sometimes result in *O(n^2)* complexity. I had an idea to convert it to List&lt;Integer&gt; and then sort it (mergesort is used, so upper bound is *O(n log n))*, but the drawback is that it creates a lot of objects due to boxing from int to Integer.\r\n\r\nMy third approach is this :\r\n\r\n    array = Arrays.stream(array).sorted().toArray();\r\n\r\nI operate only on IntStream, but unfortunately the complexity isn&#39;t mentioned in the documentation.\r\n\r\nI was looking for similar questions and I have found only this https://stackoverflow.com/questions/31301471/big-o-complexity-of-java-util-stream-streamt-sorted  which isn&#39;t helpful at all, because there are two different answers (first is of course partially wrong, because Arrays.sort isn&#39;t always *O(n log n))*. What about the second one ? I haven&#39;t found the proof.","title":"How to sort int array efficiently","body":"<p>I have array of ints</p>\n\n<pre><code>int array[] = ...\n</code></pre>\n\n<p>and I can sort it using </p>\n\n<pre><code>Arrays.sort(array);\n</code></pre>\n\n<p>but Arrays.sort uses quicksort, which sometimes result in <em>O(n^2)</em> complexity. I had an idea to convert it to List and then sort it (mergesort is used, so upper bound is <em>O(n log n))</em>, but the drawback is that it creates a lot of objects due to boxing from int to Integer.</p>\n\n<p>My third approach is this :</p>\n\n<pre><code>array = Arrays.stream(array).sorted().toArray();\n</code></pre>\n\n<p>I operate only on IntStream, but unfortunately the complexity isn't mentioned in the documentation.</p>\n\n<p>I was looking for similar questions and I have found only this <a href=\"https://stackoverflow.com/questions/31301471/big-o-complexity-of-java-util-stream-streamt-sorted\">Big-O complexity of java.util.stream.Stream&lt;T&gt;.sorted()</a>  which isn't helpful at all, because there are two different answers (first is of course partially wrong, because Arrays.sort isn't always <em>O(n log n))</em>. What about the second one ? I haven't found the proof.</p>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667034336,"post_id":74244034,"comment_id":131078664,"body_markdown":"Why do you want it to run faster? How many times per second do you think your monitor refreshes its image?","body":"Why do you want it to run faster? How many times per second do you think your monitor refreshes its image?"},{"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"score":0,"creation_date":1667035516,"post_id":74244034,"comment_id":131078840,"body_markdown":"I added an fps counter that also prints it in the console, at start its under 200 and by the end it barely gets to 240 or 250 when at max size, when i make it small it can get up to 9000 to 10000 fps","body":"I added an fps counter that also prints it in the console, at start its under 200 and by the end it barely gets to 240 or 250 when at max size, when i make it small it can get up to 9000 to 10000 fps"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667036212,"post_id":74244034,"comment_id":131078949,"body_markdown":"`frame.getGraphics()` is NOT how you should be doing this, you&#39;re fighting the existing passive paint system and in this context, you couldn&#39;t guarantee when something is actually painted to the screen.  Swing is also NOT thread safe, this means you shouldn&#39;t be updating the UI or any state the UI depends on from out side the content of the Event Dispatching Thread","body":"<code>frame.getGraphics()</code> is NOT how you should be doing this, you&#39;re fighting the existing passive paint system and in this context, you couldn&#39;t guarantee when something is actually painted to the screen.  Swing is also NOT thread safe, this means you shouldn&#39;t be updating the UI or any state the UI depends on from out side the content of the Event Dispatching Thread"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667036299,"post_id":74244034,"comment_id":131078960,"body_markdown":"For more details, look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details","body":"For more details, look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details"},{"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"score":0,"creation_date":1667037271,"post_id":74244034,"comment_id":131079107,"body_markdown":"Sooo, should i use normal Frame object? It misses some stuff that JFrame has though","body":"Sooo, should i use normal Frame object? It misses some stuff that JFrame has though"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667038260,"post_id":74244034,"comment_id":131079251,"body_markdown":"You shouldn&#39;t be trying to a `JFrame` - it&#39;s complicated and messy.  Better to start with a `JPanel`.  I got a Swing `Timer` to paint at roughly 800fps and a `BufferStrategy` to between 680-711fps using a 1 millisecond delay between frames or, if I go hell for leather, ~8500fps ... although I would argue if that&#39;s an &quot;accurate&quot; representation or just how fast I can make a thread loop","body":"You shouldn&#39;t be trying to a <code>JFrame</code> - it&#39;s complicated and messy.  Better to start with a <code>JPanel</code>.  I got a Swing <code>Timer</code> to paint at roughly 800fps and a <code>BufferStrategy</code> to between 680-711fps using a 1 millisecond delay between frames or, if I go hell for leather, ~8500fps ... although I would argue if that&#39;s an &quot;accurate&quot; representation or just how fast I can make a thread loop"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667038319,"post_id":74244034,"comment_id":131079260,"body_markdown":"I would also suggest having a look at [BufferStrategy and BufferCapabilities\n](https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html) which will give you direct access to the paint process","body":"I would also suggest having a look at [BufferStrategy and BufferCapabilities ](<a href=\"https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/fullscreen/&hellip;</a>) which will give you direct access to the paint process"},{"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"score":0,"creation_date":1667038554,"post_id":74244034,"comment_id":131079290,"body_markdown":"Ok, i tried having a JPanel in the frame and then draw the VolatileImage on it but it made the program even slower. Could you maybe write a small example? I understand it better when its in code. Thanks for the answer though. Will look into it and see if that fixes it","body":"Ok, i tried having a JPanel in the frame and then draw the VolatileImage on it but it made the program even slower. Could you maybe write a small example? I understand it better when its in code. Thanks for the answer though. Will look into it and see if that fixes it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667082106,"creation_date":1667038969,"answer_id":74244480,"question_id":74244034,"body_markdown":"# Swing &quot;passive&quot; painting\r\n\r\nThis makes use of a [Swing `Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)\r\n\r\n~170fps\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Timer timer;\r\n            private Instant lastTick;\r\n            private int fps = 0;\r\n\r\n            public TestPane() {\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n                timer = new Timer(5, new ActionListener() {\r\n                    private int frameCount = 0;\r\n\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (lastTick != null) {\r\n                            Duration duration = Duration.between(lastTick, Instant.now());\r\n                            if (duration.toMillis() &gt;= 1000) {\r\n                                lastTick = Instant.now();\r\n                                fps = frameCount;\r\n                                frameCount = 0;\r\n                            } else {\r\n                                frameCount++;\r\n                            }\r\n                        } else {\r\n                            lastTick = Instant.now();\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n                timer = null;\r\n                super.removeNotify();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.RED);\r\n                g2d.fillOval(20, 20, 20, 20);\r\n                g2d.fillOval(40, 40, 20, 20);\r\n\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                String text = Integer.toString(fps);\r\n                g2d.drawString(text, 10, fm.getAscent());\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n# &quot;Active&quot; painting via a `BufferStrategy`\r\n\r\n~680fps\r\n\r\n    import java.awt.Canvas;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Frame;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferStrategy;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n\r\n    public class Other {\r\n        public static void main(String[] args) {\r\n            new Other();\r\n        }\r\n\r\n        public Other() {\r\n            Frame frame = new Frame();\r\n            MainCanvas canvas = new MainCanvas();\r\n            frame.setBackground(Color.BLUE);\r\n            frame.add(canvas);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public class MainCanvas extends Canvas {\r\n\r\n            private Thread thread;\r\n            private AtomicBoolean running = new AtomicBoolean(false);\r\n            private int fps;\r\n\r\n            public MainCanvas() {\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                createBufferStrategy(3);\r\n                start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                stop();\r\n                super.removeNotify();\r\n            }\r\n\r\n            public void start() {\r\n                stop();\r\n                run();\r\n            }\r\n\r\n            protected void stop() {\r\n                if (running.get()) {\r\n                    running.set(false);\r\n                }\r\n                thread = null;\r\n            }\r\n\r\n            protected void run() {\r\n                stop();\r\n\r\n                running.set(true);\r\n                thread = new Thread(new Runnable() {\r\n                    private Instant lastTick;\r\n                    private int frameCount;\r\n\r\n                    @Override\r\n                    public void run() {\r\n                        while (running.get()) {\r\n                            if (lastTick != null) {\r\n                                Duration duration = Duration.between(lastTick, Instant.now());\r\n                                if (duration.toMillis() &gt;= 1000) {\r\n                                    lastTick = Instant.now();\r\n                                    fps = frameCount;\r\n                                    frameCount = 0;\r\n                                } else {\r\n                                    frameCount++;\r\n                                }\r\n                            } else {\r\n                                lastTick = Instant.now();\r\n                            }\r\n                            render();\r\n                            // Comment out these lines and see where it takes you\r\n                            try {\r\n                                Thread.sleep(1);\r\n                            } catch (InterruptedException ex) {\r\n                                java.util.logging.Logger.getLogger(Other.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                thread.start();\r\n            }\r\n\r\n            protected void render() {\r\n                BufferStrategy bs = getBufferStrategy();\r\n                while (bs == null) {\r\n                    bs = getBufferStrategy();\r\n                }\r\n                do {\r\n                    // The following loop ensures that the contents of the drawing buffer\r\n                    // are consistent in case the underlying surface was recreated\r\n                    do {\r\n                        // Get a new graphics context every time through the loop\r\n                        // to make sure the strategy is validated\r\n                        Graphics2D g2d = (Graphics2D) bs.getDrawGraphics();\r\n\r\n                        g2d.setColor(Color.GREEN);\r\n                        g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                        // Render to graphics\r\n                        // ...\r\n                        g2d.setColor(Color.RED);\r\n                        g2d.fillOval(20, 20, 20, 20);\r\n                        g2d.fillOval(40, 40, 20, 20);\r\n\r\n                        FontMetrics fm = g2d.getFontMetrics();\r\n                        String text = Integer.toString(fps);\r\n                        g2d.drawString(text, 10, fm.getAscent());\r\n                        // Dispose the graphics\r\n                        g2d.dispose();\r\n\r\n                        // Repeat the rendering if the drawing buffer contents\r\n                        // were restored\r\n                    } while (bs.contentsRestored());\r\n\r\n                    // Display the buffer\r\n                    bs.show();\r\n\r\n                    // Repeat the rendering if the drawing buffer was lost\r\n                } while (bs.contentsLost());\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n        }\r\n    }\r\n\r\n# Disclaimer\r\n\r\nThis is by far a &quot;scientific&quot; example and is intended simply as a demonstration between passive and active rendering workflows","title":"How can I make my swing graphics project have a higher FPS(frames per second for anyone who doesn&#39;t know what it means)?","body":"<h1>Swing &quot;passive&quot; painting</h1>\n<p>This makes use of a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing <code>Timer</code></a></p>\n<p>~170fps</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Timer timer;\n        private Instant lastTick;\n        private int fps = 0;\n\n        public TestPane() {\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n            timer = new Timer(5, new ActionListener() {\n                private int frameCount = 0;\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (lastTick != null) {\n                        Duration duration = Duration.between(lastTick, Instant.now());\n                        if (duration.toMillis() &gt;= 1000) {\n                            lastTick = Instant.now();\n                            fps = frameCount;\n                            frameCount = 0;\n                        } else {\n                            frameCount++;\n                        }\n                    } else {\n                        lastTick = Instant.now();\n                    }\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            if (timer != null) {\n                timer.stop();\n            }\n            timer = null;\n            super.removeNotify();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n            g2d.fillOval(20, 20, 20, 20);\n            g2d.fillOval(40, 40, 20, 20);\n\n            FontMetrics fm = g2d.getFontMetrics();\n            String text = Integer.toString(fps);\n            g2d.drawString(text, 10, fm.getAscent());\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<h1>&quot;Active&quot; painting via a <code>BufferStrategy</code></h1>\n<p>~680fps</p>\n<pre><code>import java.awt.Canvas;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FontMetrics;\nimport java.awt.Frame;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferStrategy;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class Other {\n    public static void main(String[] args) {\n        new Other();\n    }\n\n    public Other() {\n        Frame frame = new Frame();\n        MainCanvas canvas = new MainCanvas();\n        frame.setBackground(Color.BLUE);\n        frame.add(canvas);\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public class MainCanvas extends Canvas {\n\n        private Thread thread;\n        private AtomicBoolean running = new AtomicBoolean(false);\n        private int fps;\n\n        public MainCanvas() {\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            createBufferStrategy(3);\n            start();\n        }\n\n        @Override\n        public void removeNotify() {\n            stop();\n            super.removeNotify();\n        }\n\n        public void start() {\n            stop();\n            run();\n        }\n\n        protected void stop() {\n            if (running.get()) {\n                running.set(false);\n            }\n            thread = null;\n        }\n\n        protected void run() {\n            stop();\n\n            running.set(true);\n            thread = new Thread(new Runnable() {\n                private Instant lastTick;\n                private int frameCount;\n\n                @Override\n                public void run() {\n                    while (running.get()) {\n                        if (lastTick != null) {\n                            Duration duration = Duration.between(lastTick, Instant.now());\n                            if (duration.toMillis() &gt;= 1000) {\n                                lastTick = Instant.now();\n                                fps = frameCount;\n                                frameCount = 0;\n                            } else {\n                                frameCount++;\n                            }\n                        } else {\n                            lastTick = Instant.now();\n                        }\n                        render();\n                        // Comment out these lines and see where it takes you\n                        try {\n                            Thread.sleep(1);\n                        } catch (InterruptedException ex) {\n                            java.util.logging.Logger.getLogger(Other.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n                        }\n                    }\n                }\n            });\n            thread.start();\n        }\n\n        protected void render() {\n            BufferStrategy bs = getBufferStrategy();\n            while (bs == null) {\n                bs = getBufferStrategy();\n            }\n            do {\n                // The following loop ensures that the contents of the drawing buffer\n                // are consistent in case the underlying surface was recreated\n                do {\n                    // Get a new graphics context every time through the loop\n                    // to make sure the strategy is validated\n                    Graphics2D g2d = (Graphics2D) bs.getDrawGraphics();\n\n                    g2d.setColor(Color.GREEN);\n                    g2d.fillRect(0, 0, getWidth(), getHeight());\n                    // Render to graphics\n                    // ...\n                    g2d.setColor(Color.RED);\n                    g2d.fillOval(20, 20, 20, 20);\n                    g2d.fillOval(40, 40, 20, 20);\n\n                    FontMetrics fm = g2d.getFontMetrics();\n                    String text = Integer.toString(fps);\n                    g2d.drawString(text, 10, fm.getAscent());\n                    // Dispose the graphics\n                    g2d.dispose();\n\n                    // Repeat the rendering if the drawing buffer contents\n                    // were restored\n                } while (bs.contentsRestored());\n\n                // Display the buffer\n                bs.show();\n\n                // Repeat the rendering if the drawing buffer was lost\n            } while (bs.contentsLost());\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n    }\n}\n</code></pre>\n<h1>Disclaimer</h1>\n<p>This is by far a &quot;scientific&quot; example and is intended simply as a demonstration between passive and active rendering workflows</p>\n"}],"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667082106,"creation_date":1667034071,"question_id":74244034,"body_markdown":"I started remaking my graphics engine and i have a problem with repainting the VolatileImage on the JFrame, i added an FPS counter and when it is in full-screen it only gets to around 250 or 280 FPS even though i have the loop in a new thread and I&#39;m only drawing 2 dots on the screen.\r\nHere is the code for the init and render functions in the Window class, might be a bit unorganized:\r\n`\r\n```\r\npublic int render() {\r\n    frame.getGraphics().drawImage(vImg, 0, 0, frame.getWidth(), frame.getHeight(), null);\r\n    totalFrames++;\r\n    if (System.nanoTime() &gt; lastFPScheck + 1000000000) {\r\n        lastFPScheck = System.nanoTime();\r\n        currentFPS = totalFrames;\r\n        totalFrames = 0;\r\n    }\r\n    if (vImg.validate(gc) == VolatileImage.IMAGE_OK) {\r\n        vImg = gc.createCompatibleVolatileImage(frame.getWidth(), frame.getHeight());\r\n    }\r\n    if (debugging()) {\r\n        frame.setTitle(title + &quot;[FPS: &quot; + currentFPS + &quot;]&quot;);\r\n    }\r\n    graphics = (Graphics2D)vImg.getGraphics();\r\n\r\n    graphics.setColor(bg_color);\r\n    graphics.fillRect(0, 0, frame.getWidth(), frame.getHeight());\r\n    return currentFPS;\r\n}\r\n\r\npublic void repaint_buffer() {\r\n    frame.getContentPane().getGraphics().drawImage(vImg, 0, 0, canvasWidth, canvasHeight, null);\r\n}\r\n\r\npublic void init(int width,\r\n                 int height,\r\n                 String title,\r\n                 Color bg_color,\r\n                 Consumer&lt;Void&gt; onDestroy) {\r\n    this.canvasWidth = width;\r\n    this.canvasHeight = height;\r\n    this.is_open = true;\r\n    this.title = title;\r\n    this.bg_color = bg_color;\r\n\r\n    this.frame.addWindowListener(new WindowAdapter() {\r\n        public void windowClosing(WindowEvent e) {\r\n            onDestroy.accept(null);\r\n        }\r\n    });\r\n    this.frame.addWindowListener(new WindowAdapter() {\r\n        public void windowResized(WindowEvent e) {\r\n            vImg = gc.createCompatibleVolatileImage(frame.getWidth(), frame.getHeight());\r\n        }\r\n    });\r\n    this.frame.setLayout(null);\r\n    this.frame.setSize(canvasWidth, canvasHeight);\r\n    this.frame.addKeyListener(keyInput);\r\n    this.frame.setResizable(true);\r\n    this.frame.setLocation(-7, 0);\r\n    this.frame.setTitle(title);\r\n    this.frame.setVisible(true);\r\n\r\n    gc = this.frame.getGraphicsConfiguration();\r\n    vImg = gc.createCompatibleVolatileImage(this.frame.getWidth(), this.frame.getHeight());\r\n    this.graphics = (Graphics2D) vImg.getGraphics();\r\n}\r\n```\r\n`\r\nand here is the code from the Main class, the GraphicsManager object only contains the set_pixel function which sets the color and draws a rectangle at the given position with a size of 1x1 pixels:\r\n\r\n```\r\npackage obsidian.core;\r\nimport obsidian.core.Window;\r\n\r\nimport java.awt.*;\r\n\r\npublic class Main {\r\n    private static void on_destroy() {\r\n        System.exit(0);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Window window = new Window();\r\n        window.init(Window.get_max_size().width, Window.get_max_size().height, &quot;title&quot;, new Color(0, 0, 0), destroy -&gt; on_destroy());\r\n\r\n        GraphicsManager gm = new GraphicsManager(window);\r\n        Thread t = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while(window.is_open()) {\r\n                    window.render();\r\n\r\n                    gm.draw_pixel(0.5, 0.5, new Color(255, 0, 0));\r\n                    gm.draw_pixel(0, 0, new Color(255, 255, 255));\r\n                    \r\n                    System.out.println(window.get_current_fps());\r\n                }\r\n            }\r\n        });\r\n\r\n        t.start();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried removing the VolatileImage and directly drawing on the frame but the filling of the image makes it glitchy but it got to about 2000 FPS and IntelliJ IDEA couldn&#39;t keep up. The only solution I could find to make it run faster is removing the VolatileImage and draw directly to the frame. Didn&#39;t work ;-;\r\nCan anyone help me with this? Thank you","title":"How can I make my swing graphics project have a higher FPS(frames per second for anyone who doesn&#39;t know what it means)?","body":"<p>I started remaking my graphics engine and i have a problem with repainting the VolatileImage on the JFrame, i added an FPS counter and when it is in full-screen it only gets to around 250 or 280 FPS even though i have the loop in a new thread and I'm only drawing 2 dots on the screen.\nHere is the code for the init and render functions in the Window class, might be a bit unorganized:\n`</p>\n<pre><code>public int render() {\n    frame.getGraphics().drawImage(vImg, 0, 0, frame.getWidth(), frame.getHeight(), null);\n    totalFrames++;\n    if (System.nanoTime() &gt; lastFPScheck + 1000000000) {\n        lastFPScheck = System.nanoTime();\n        currentFPS = totalFrames;\n        totalFrames = 0;\n    }\n    if (vImg.validate(gc) == VolatileImage.IMAGE_OK) {\n        vImg = gc.createCompatibleVolatileImage(frame.getWidth(), frame.getHeight());\n    }\n    if (debugging()) {\n        frame.setTitle(title + &quot;[FPS: &quot; + currentFPS + &quot;]&quot;);\n    }\n    graphics = (Graphics2D)vImg.getGraphics();\n\n    graphics.setColor(bg_color);\n    graphics.fillRect(0, 0, frame.getWidth(), frame.getHeight());\n    return currentFPS;\n}\n\npublic void repaint_buffer() {\n    frame.getContentPane().getGraphics().drawImage(vImg, 0, 0, canvasWidth, canvasHeight, null);\n}\n\npublic void init(int width,\n                 int height,\n                 String title,\n                 Color bg_color,\n                 Consumer&lt;Void&gt; onDestroy) {\n    this.canvasWidth = width;\n    this.canvasHeight = height;\n    this.is_open = true;\n    this.title = title;\n    this.bg_color = bg_color;\n\n    this.frame.addWindowListener(new WindowAdapter() {\n        public void windowClosing(WindowEvent e) {\n            onDestroy.accept(null);\n        }\n    });\n    this.frame.addWindowListener(new WindowAdapter() {\n        public void windowResized(WindowEvent e) {\n            vImg = gc.createCompatibleVolatileImage(frame.getWidth(), frame.getHeight());\n        }\n    });\n    this.frame.setLayout(null);\n    this.frame.setSize(canvasWidth, canvasHeight);\n    this.frame.addKeyListener(keyInput);\n    this.frame.setResizable(true);\n    this.frame.setLocation(-7, 0);\n    this.frame.setTitle(title);\n    this.frame.setVisible(true);\n\n    gc = this.frame.getGraphicsConfiguration();\n    vImg = gc.createCompatibleVolatileImage(this.frame.getWidth(), this.frame.getHeight());\n    this.graphics = (Graphics2D) vImg.getGraphics();\n}\n</code></pre>\n<p>`\nand here is the code from the Main class, the GraphicsManager object only contains the set_pixel function which sets the color and draws a rectangle at the given position with a size of 1x1 pixels:</p>\n<pre><code>package obsidian.core;\nimport obsidian.core.Window;\n\nimport java.awt.*;\n\npublic class Main {\n    private static void on_destroy() {\n        System.exit(0);\n    }\n\n    public static void main(String[] args) {\n        Window window = new Window();\n        window.init(Window.get_max_size().width, Window.get_max_size().height, &quot;title&quot;, new Color(0, 0, 0), destroy -&gt; on_destroy());\n\n        GraphicsManager gm = new GraphicsManager(window);\n        Thread t = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while(window.is_open()) {\n                    window.render();\n\n                    gm.draw_pixel(0.5, 0.5, new Color(255, 0, 0));\n                    gm.draw_pixel(0, 0, new Color(255, 255, 255));\n                    \n                    System.out.println(window.get_current_fps());\n                }\n            }\n        });\n\n        t.start();\n\n    }\n}\n\n</code></pre>\n<p>I tried removing the VolatileImage and directly drawing on the frame but the filling of the image makes it glitchy but it got to about 2000 FPS and IntelliJ IDEA couldn't keep up. The only solution I could find to make it run faster is removing the VolatileImage and draw directly to the frame. Didn't work ;-;\nCan anyone help me with this? Thank you</p>\n"},{"tags":["java","maven","version"],"answers":[{"tags":[],"owner":{"account_id":291009,"reputation":9437,"user_id":592898,"accept_rate":60,"display_name":"Frederic Close"},"down_vote_count":9,"up_vote_count":45,"is_accepted":false,"score":36,"last_activity_date":1380709271,"creation_date":1380651469,"answer_id":19123130,"question_id":19123013,"body_markdown":"If you have a parent project you can set the version in the parent pom and in the children you can reference sibling libs with the *${project.version}* or *${version}* properties.\r\n\r\nIf you want to avoid to repeat the version of the parent in each children: you can do this:\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n    &lt;version&gt;${my.version}&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n    &lt;properties&gt;\r\n    &lt;my.version&gt;1.1.2-SNAPSHOT&lt;/my.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\nAnd then in your children pom you have to do:\r\n\r\n        &lt;parent&gt;\r\n          &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n          &lt;groupId&gt;company&lt;/groupId&gt;\r\n          &lt;relativePath&gt;../build.parent/pom.xml&lt;/relativePath&gt;\r\n          &lt;version&gt;${my.version}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n        &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt; \r\n               &lt;groupId&gt;company&lt;/groupId&gt;\r\n               &lt;artifactId&gt;otherartifact&lt;/artifactId&gt;   \r\n               &lt;version&gt;${my.version}&lt;/version&gt;\r\n    or\r\n               &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nhth","title":"Maven version with a property","body":"<p>If you have a parent project you can set the version in the parent pom and in the children you can reference sibling libs with the <em>${project.version}</em> or <em>${version}</em> properties.</p>\n\n<p>If you want to avoid to repeat the version of the parent in each children: you can do this:</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;company&lt;/groupId&gt;\n&lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n&lt;version&gt;${my.version}&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;properties&gt;\n&lt;my.version&gt;1.1.2-SNAPSHOT&lt;/my.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>And then in your children pom you have to do:</p>\n\n<pre><code>    &lt;parent&gt;\n      &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n      &lt;groupId&gt;company&lt;/groupId&gt;\n      &lt;relativePath&gt;../build.parent/pom.xml&lt;/relativePath&gt;\n      &lt;version&gt;${my.version}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;company&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact&lt;/artifactId&gt;\n    &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt; \n           &lt;groupId&gt;company&lt;/groupId&gt;\n           &lt;artifactId&gt;otherartifact&lt;/artifactId&gt;   \n           &lt;version&gt;${my.version}&lt;/version&gt;\nor\n           &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>hth</p>\n"},{"tags":[],"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1403011581,"creation_date":1403011581,"answer_id":24265093,"question_id":19123013,"body_markdown":"Using a property for the version generates the following warning:\r\n\r\n    [WARNING]\r\n    [WARNING] Some problems were encountered while building the effective model for xxx.yyy.sandbox:Sandbox:war:0.1.0-SNAPSHOT\r\n    [WARNING] &#39;version&#39; contains an expression but should be a constant. @ xxx.yyy.sandbox:Sandbox:${my.version}, C:\\Users\\xxx\\development\\gwtsandbox\\pom.xml, line 8, column 14\r\n    [WARNING]\r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING]\r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING]\r\n\r\nIf your problem is that you have to change the version in multiple places because you are switching versions, then the correct thing to do is to use the Maven Release Plugin that will do this for you automatically.","title":"Maven version with a property","body":"<p>Using a property for the version generates the following warning:</p>\n\n<pre><code>[WARNING]\n[WARNING] Some problems were encountered while building the effective model for xxx.yyy.sandbox:Sandbox:war:0.1.0-SNAPSHOT\n[WARNING] 'version' contains an expression but should be a constant. @ xxx.yyy.sandbox:Sandbox:${my.version}, C:\\Users\\xxx\\development\\gwtsandbox\\pom.xml, line 8, column 14\n[WARNING]\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING]\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING]\n</code></pre>\n\n<p>If your problem is that you have to change the version in multiple places because you are switching versions, then the correct thing to do is to use the Maven Release Plugin that will do this for you automatically.</p>\n"},{"tags":[],"owner":{"account_id":214333,"reputation":1988,"user_id":468249,"accept_rate":50,"display_name":"rince"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507236159,"creation_date":1507236159,"answer_id":46594479,"question_id":19123013,"body_markdown":"If you&#39;re using Maven 3, one option to work around this problem is to use the versions plugin\r\nhttp://www.mojohaus.org/versions-maven-plugin/\r\n\r\nSpecifically the commands, \r\n\r\n    mvn versions:set -DnewVersion=2.0-RELEASE\r\n    mvn versions:commit\r\n\r\nThis will update the parent and child poms to 2.0-RELEASE. You can run this as a build step before.\r\n\r\nUnlike the release plugin, it doesn&#39;t try to talk to your source control","title":"Maven version with a property","body":"<p>If you're using Maven 3, one option to work around this problem is to use the versions plugin\n<a href=\"http://www.mojohaus.org/versions-maven-plugin/\" rel=\"noreferrer\">http://www.mojohaus.org/versions-maven-plugin/</a></p>\n\n<p>Specifically the commands, </p>\n\n<pre><code>mvn versions:set -DnewVersion=2.0-RELEASE\nmvn versions:commit\n</code></pre>\n\n<p>This will update the parent and child poms to 2.0-RELEASE. You can run this as a build step before.</p>\n\n<p>Unlike the release plugin, it doesn't try to talk to your source control</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1562574367,"creation_date":1519778763,"answer_id":49020281,"question_id":19123013,"body_markdown":"The correct answer is this (example version):\r\n\r\n* In parent pom.xml you should have (**not** inside `properties`):\r\n\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n* In all child modules you should have:\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.vvirlan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grafiti&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\nSo it is hardcoded.\r\n\r\nNow, to update the version you do this:\r\n\r\n```\r\nmvn versions:set -DnewVersion=0.0.2-SNAPSHOT\r\nmvn versions:commit # Necessary to remove the backup file pom.xml\r\n```\r\n\r\nand all your 400 modules will have the parent version updated.\r\n","title":"Maven version with a property","body":"<p>The correct answer is this (example version):</p>\n\n<ul>\n<li><p>In parent pom.xml you should have (<strong>not</strong> inside <code>properties</code>):</p>\n\n<pre><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n</code></pre></li>\n<li><p>In all child modules you should have:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;com.vvirlan&lt;/groupId&gt;\n    &lt;artifactId&gt;grafiti&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre></li>\n</ul>\n\n<p>So it is hardcoded.</p>\n\n<p>Now, to update the version you do this:</p>\n\n<pre><code>mvn versions:set -DnewVersion=0.0.2-SNAPSHOT\nmvn versions:commit # Necessary to remove the backup file pom.xml\n</code></pre>\n\n<p>and all your 400 modules will have the parent version updated.</p>\n"},{"tags":[],"owner":{"account_id":7046,"reputation":4518,"user_id":12039,"accept_rate":89,"display_name":"Kariem"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1629737482,"creation_date":1519821014,"answer_id":49029661,"question_id":19123013,"body_markdown":"With a Maven version of 3.5 or higher, you should be able to use a placeholder (e.g. `${revision}`) in the parent section and inside the rest of the POM, you can use `${project.version}`.\r\n\r\nActually, you can also omit GAV properties outside of `&lt;parent&gt;` which are the same, as they will be inherited. The result would look something like this:\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n            &lt;groupId&gt;company&lt;/groupId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;  &lt;!-- use placeholder --&gt;\r\n            &lt;relativePath&gt;../build.parent&lt;/relativePath&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n        &lt;!-- no &#39;version&#39;, no &#39;groupId&#39;; inherited from parent --&gt;\r\n        &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\r\n\r\n        ...\r\n    &lt;/project&gt;\r\n\r\nFor more information, especially on how to resolve the placeholder during publishing, see [Maven CI Friendly Versions | Multi Module Setup][1].\r\n\r\n\r\n  [1]: https://maven.apache.org/maven-ci-friendly.html#Multi_Module_Setup","title":"Maven version with a property","body":"<p>With a Maven version of 3.5 or higher, you should be able to use a placeholder (e.g. <code>${revision}</code>) in the parent section and inside the rest of the POM, you can use <code>${project.version}</code>.</p>\n<p>Actually, you can also omit GAV properties outside of <code>&lt;parent&gt;</code> which are the same, as they will be inherited. The result would look something like this:</p>\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n        &lt;groupId&gt;company&lt;/groupId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;  &lt;!-- use placeholder --&gt;\n        &lt;relativePath&gt;../build.parent&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;artifact&lt;/artifactId&gt;\n    &lt;!-- no 'version', no 'groupId'; inherited from parent --&gt;\n    &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\n\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>For more information, especially on how to resolve the placeholder during publishing, see <a href=\"https://maven.apache.org/maven-ci-friendly.html#Multi_Module_Setup\" rel=\"nofollow noreferrer\">Maven CI Friendly Versions | Multi Module Setup</a>.</p>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1553684737,"creation_date":1553684737,"answer_id":55375697,"question_id":19123013,"body_markdown":"See the _Maven - Users_ forum [_&#39;version&#39; contains an expression but should be a constant. Better way to add a new version?_][version]:\r\n\r\n&gt; here is why this is a bad plan.\r\n\r\n&gt; the pom that gets deployed will not have the property value resolved, so\r\nanyone depending on that pom will pick up the dependency as being the string uninterpolated with the ${ } and much hilarity will ensue in your\r\nbuild process.\r\n\r\n&gt; in maven 2.1.0 and/or 2.2.0 an attempt was made to deploy poms with\r\nresolved properties... this broke more than expected, which is why those\r\ntwo versions are not recommended, 2.2.1 being the recommended 2.x version.\r\n\r\n[version]: http://maven.40175.n5.nabble.com/version-contains-an-expression-but-should-be-a-constant-Better-way-to-add-a-new-version-tp5146537p5146727.html","title":"Maven version with a property","body":"<p>See the <em>Maven - Users</em> forum <a href=\"http://maven.40175.n5.nabble.com/version-contains-an-expression-but-should-be-a-constant-Better-way-to-add-a-new-version-tp5146537p5146727.html\" rel=\"noreferrer\"><em>'version' contains an expression but should be a constant. Better way to add a new version?</em></a>:</p>\n\n<blockquote>\n  <p>here is why this is a bad plan.</p>\n  \n  <p>the pom that gets deployed will not have the property value resolved, so\n  anyone depending on that pom will pick up the dependency as being the string uninterpolated with the ${ } and much hilarity will ensue in your\n  build process.</p>\n  \n  <p>in maven 2.1.0 and/or 2.2.0 an attempt was made to deploy poms with\n  resolved properties... this broke more than expected, which is why those\n  two versions are not recommended, 2.2.1 being the recommended 2.x version.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":207032,"reputation":1411,"user_id":456678,"display_name":"Hemang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593620824,"creation_date":1593620824,"answer_id":62681239,"question_id":19123013,"body_markdown":"I have two recommendation for you\r\n1. Use [CI Friendly Revision](https://maven.apache.org/maven-ci-friendly.html) for all your artifacts. You can add `-Drevision=2.0.1` in `.mvn/maven.config` file. So basically you define your version only at one location.\r\n2. For all external dependency create a property in parent file. You can use [Apache Camel Parent Pom](https://github.com/apache/camel/blob/master/parent/pom.xml) as reference","title":"Maven version with a property","body":"<p>I have two recommendation for you</p>\n<ol>\n<li>Use <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">CI Friendly Revision</a> for all your artifacts. You can add <code>-Drevision=2.0.1</code> in <code>.mvn/maven.config</code> file. So basically you define your version only at one location.</li>\n<li>For all external dependency create a property in parent file. You can use <a href=\"https://github.com/apache/camel/blob/master/parent/pom.xml\" rel=\"nofollow noreferrer\">Apache Camel Parent Pom</a> as reference</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1598466294,"creation_date":1598466294,"answer_id":63603618,"question_id":19123013,"body_markdown":"**The version of the pom.xml should be valid**\r\n\r\n    &lt;groupId&gt;com.amazonaws.lambda&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lambda&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.2.4 SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n**This version should not be like 2.2.4. etc**","title":"Maven version with a property","body":"<p><strong>The version of the pom.xml should be valid</strong></p>\n<pre><code>&lt;groupId&gt;com.amazonaws.lambda&lt;/groupId&gt;\n&lt;artifactId&gt;lambda&lt;/artifactId&gt;\n&lt;version&gt;2.2.4 SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n<p><strong>This version should not be like 2.2.4. etc</strong></p>\n"},{"tags":[],"owner":{"account_id":16729678,"reputation":1,"user_id":12092383,"display_name":"Angelina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667081156,"creation_date":1667081028,"answer_id":74249170,"question_id":19123013,"body_markdown":"I have successfully resolved the issue thus:\r\n\r\nIn parent pom.xml I have sited the version as usual (not inside properties):\r\n\r\n```\r\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n```\r\n\r\nIn all child modules I used:\r\n\r\n```\r\n&lt;parent&gt;\r\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nThen I changed the parent to:\r\n\r\n```\r\n&lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n```\r\n\r\nNow, to update the version I executed in the command line:\r\n\r\n```\r\nmvn -N versions:update-child-modules\r\n```\r\n\r\nThe children have been updated automatically to:\r\n\r\n```\r\n&lt;parent&gt;\r\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nIn other words I have used the **versions:update-child-modules goal**.\r\n\r\nI have found this solution [here](https://www.mojohaus.org/versions-maven-plugin/examples/update-child-modules.html).","title":"Maven version with a property","body":"<p>I have successfully resolved the issue thus:</p>\n<p>In parent pom.xml I have sited the version as usual (not inside properties):</p>\n<pre><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n</code></pre>\n<p>In all child modules I used:</p>\n<pre><code>&lt;parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Then I changed the parent to:</p>\n<pre><code>&lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n</code></pre>\n<p>Now, to update the version I executed in the command line:</p>\n<pre><code>mvn -N versions:update-child-modules\n</code></pre>\n<p>The children have been updated automatically to:</p>\n<pre><code>&lt;parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n   &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>In other words I have used the <strong>versions:update-child-modules goal</strong>.</p>\n<p>I have found this solution <a href=\"https://www.mojohaus.org/versions-maven-plugin/examples/update-child-modules.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160568,"favorite_count":0,"down_vote_count":1,"up_vote_count":63,"accepted_answer_id":55375697,"answer_count":9,"score":62,"last_activity_date":1667081156,"creation_date":1380651064,"question_id":19123013,"body_markdown":"I have big Maven (Tycho) project witch about 400 plug-ins.\r\n\r\nWe have specified version of application in each POM file.\r\n\r\nIs there a way how to specify the version for all POM:s only on one place?\r\n\r\nI would expect some think like:\r\n\r\n    &lt;properties&gt;\r\n    &lt;buildVersion&gt;1.1.2-SNAPSHOT&lt;/buildVersion&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    ....\r\n    \r\n    &lt;version&gt;${buildVersion}&lt;/version&gt;\r\n\r\n\r\nWe have parent `pom.xml`:\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nThen in each POM is reference to parent POM:\r\n\r\n    &lt;parent&gt;\r\n      &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n      &lt;groupId&gt;company&lt;/groupId&gt;\r\n      &lt;relativePath&gt;../build.parent/pom.xml&lt;/relativePath&gt;\r\n      &lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\r\n\r\n","title":"Maven version with a property","body":"<p>I have big Maven (Tycho) project witch about 400 plug-ins.</p>\n\n<p>We have specified version of application in each POM file.</p>\n\n<p>Is there a way how to specify the version for all POM:s only on one place?</p>\n\n<p>I would expect some think like:</p>\n\n<pre><code>&lt;properties&gt;\n&lt;buildVersion&gt;1.1.2-SNAPSHOT&lt;/buildVersion&gt;\n&lt;/properties&gt;\n\n....\n\n&lt;version&gt;${buildVersion}&lt;/version&gt;\n</code></pre>\n\n<p>We have parent <code>pom.xml</code>:</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;company&lt;/groupId&gt;\n&lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n&lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<p>Then in each POM is reference to parent POM:</p>\n\n<pre><code>&lt;parent&gt;\n  &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n  &lt;groupId&gt;company&lt;/groupId&gt;\n  &lt;relativePath&gt;../build.parent/pom.xml&lt;/relativePath&gt;\n  &lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;company&lt;/groupId&gt;\n&lt;artifactId&gt;artifact&lt;/artifactId&gt;\n&lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593541195,"creation_date":1593541195,"answer_id":62663813,"question_id":62663732,"body_markdown":"Just create two classes having main functions, one for producer and one for consumer and you can run both.\r\n\r\nThis is main signature you need:\r\n\r\n    public static void main(String[] args) {\r\n    }","title":"Kafka Consumer and Producer in the same IntelliJ project","body":"<p>Just create two classes having main functions, one for producer and one for consumer and you can run both.</p>\n<p>This is main signature you need:</p>\n<pre><code>public static void main(String[] args) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667080782,"creation_date":1593541441,"answer_id":62663885,"question_id":62663732,"body_markdown":"Its been a while since I asked this, so long that I ran into the same issue again and found this post, But I have an easier answer now. If you are using IntelliJ like me there isnt an Import menu item like Eclipse, so what you need to do is create you two spring boot projects.\r\n\r\nLets say ones a Kafka Producer and the other is a kafka Consumer, go to springboot create both projects, then unzip them both on your desktop. now create a new folder called &quot;Kafka&quot; move both your springboot projects into the new folder and open that folder in intelliJ, now you will have both your project running in IntelliJ.\r\n\r\nThis will work as long as each project has its own main method as stated above.","title":"Kafka Consumer and Producer in the same IntelliJ project","body":"<p>Its been a while since I asked this, so long that I ran into the same issue again and found this post, But I have an easier answer now. If you are using IntelliJ like me there isnt an Import menu item like Eclipse, so what you need to do is create you two spring boot projects.</p>\n<p>Lets say ones a Kafka Producer and the other is a kafka Consumer, go to springboot create both projects, then unzip them both on your desktop. now create a new folder called &quot;Kafka&quot; move both your springboot projects into the new folder and open that folder in intelliJ, now you will have both your project running in IntelliJ.</p>\n<p>This will work as long as each project has its own main method as stated above.</p>\n"},{"tags":[],"owner":{"account_id":20509461,"reputation":221,"user_id":15051566,"display_name":"Yousef R Hammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661413225,"creation_date":1661413225,"answer_id":73483639,"question_id":62663732,"body_markdown":"Simply you can open two different projects using IntelliJ \r\n\r\n 1. File -&gt; new -&gt; Project \r\n 2. Enter your config \r\n 3. Then it will appear this window, And choose **New Window**\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M3ffY.png","title":"Kafka Consumer and Producer in the same IntelliJ project","body":"<p>Simply you can open two different projects using IntelliJ</p>\n<ol>\n<li>File -&gt; new -&gt; Project</li>\n<li>Enter your config</li>\n<li>Then it will appear this window, And choose <strong>New Window</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/M3ffY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M3ffY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62663813,"answer_count":3,"score":1,"last_activity_date":1667080782,"creation_date":1593540881,"question_id":62663732,"body_markdown":"I am going through a tutorial on Kafka, the author is using eclipse and has both the Kafka Consumer and the Kafka Producer both running in Eclipse. I use IntelliJ which I am new to, and I have to create two different projects one for the consumer and one for the Producer. How to run two different projects in IntelliJ?\r\n","title":"Kafka Consumer and Producer in the same IntelliJ project","body":"<p>I am going through a tutorial on Kafka, the author is using eclipse and has both the Kafka Consumer and the Kafka Producer both running in Eclipse. I use IntelliJ which I am new to, and I have to create two different projects one for the consumer and one for the Producer. How to run two different projects in IntelliJ?</p>\n"},{"tags":["java","maven","jenkins-pipeline","jenkins-groovy"],"comments":[{"owner":{"account_id":1611342,"reputation":870,"user_id":1794617,"accept_rate":40,"display_name":"AjB"},"score":0,"creation_date":1664770668,"post_id":73880277,"comment_id":130539840,"body_markdown":"I tried changing the POM file to reflect the current maven version I have installed on my Linux box but it doesn&#39;t seem to help","body":"I tried changing the POM file to reflect the current maven version I have installed on my Linux box but it doesn&#39;t seem to help"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1664799043,"post_id":73880277,"comment_id":130546720,"body_markdown":"What version of Java and maven are you using?","body":"What version of Java and maven are you using?"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1664891234,"post_id":73880277,"comment_id":130570182,"body_markdown":"You&#39;re using a rather old version of the maven-war-plugin. In general when a plugin fails with something that&#39;s most likely out of your control, the advice is to check for a more recent version. https://maven.apache.org/plugins/maven-war-plugin/ shows you it is 3.3.2 (at time of writing). You can do this by updating the pom.xml","body":"You&#39;re using a rather old version of the maven-war-plugin. In general when a plugin fails with something that&#39;s most likely out of your control, the advice is to check for a more recent version. <a href=\"https://maven.apache.org/plugins/maven-war-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-war-plugin</a> shows you it is 3.3.2 (at time of writing). You can do this by updating the pom.xml"},{"owner":{"account_id":1611342,"reputation":870,"user_id":1794617,"accept_rate":40,"display_name":"AjB"},"score":0,"creation_date":1664902217,"post_id":73880277,"comment_id":130574279,"body_markdown":"@RobertScholte I&#39;ve tried updating my POM file replacing the plugin version with 3.8.6 but that doesn&#39;t seem to help. Are there specific pieces in the POM file that I need to update? Would you please let me know which sections in the POM file to update?","body":"@RobertScholte I&#39;ve tried updating my POM file replacing the plugin version with 3.8.6 but that doesn&#39;t seem to help. Are there specific pieces in the POM file that I need to update? Would you please let me know which sections in the POM file to update?"}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664913727,"creation_date":1664913727,"answer_id":73953095,"question_id":73880277,"body_markdown":"Update your pom.xml to include `maven-compiler-plugin` with `maven-war-plugin` latest version. Also, check your java version in the Jenkins project configuration.\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.10.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.8&lt;/source&gt;\r\n        &lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Building scripted Jenkins pipeline, error while packaging using Maven","body":"<p>Update your pom.xml to include <code>maven-compiler-plugin</code> with <code>maven-war-plugin</code> latest version. Also, check your java version in the Jenkins project configuration.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.10.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665058350,"creation_date":1665058350,"answer_id":73973581,"question_id":73880277,"body_markdown":"I see 3 things that might cause this:\r\n\r\n1. In your pom, your current compiler is quit old, 3.2:\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nTry upgrading this to latest, 3.10.\r\n\r\n2. I dont see `maven-war-plugin` in your pom. Try adding it with latest version as well.\r\n\r\n3. [Note: Merely setting the target option in the configuration tag does not guarantee that your code actually runs on a JRE with the specified version.][1]\r\n\r\nTry adding this to ensure you are actually compiling using the same version\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      [...]\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Building scripted Jenkins pipeline, error while packaging using Maven","body":"<p>I see 3 things that might cause this:</p>\n<ol>\n<li><p>In your pom, your current compiler is quit old, 3.2:</p>\n<pre><code>    &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.2&lt;/version&gt;\n         &lt;configuration&gt;\n             &lt;source&gt;1.8&lt;/source&gt;\n             &lt;target&gt;1.8&lt;/target&gt;\n         &lt;/configuration&gt;\n     &lt;/plugin&gt;\n</code></pre>\n</li>\n</ol>\n<p>Try upgrading this to latest, 3.10.</p>\n<ol start=\"2\">\n<li><p>I dont see <code>maven-war-plugin</code> in your pom. Try adding it with latest version as well.</p>\n</li>\n<li><p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">Note: Merely setting the target option in the configuration tag does not guarantee that your code actually runs on a JRE with the specified version.</a></p>\n</li>\n</ol>\n<p>Try adding this to ensure you are actually compiling using the same version</p>\n<pre><code>&lt;project&gt;\n  [...]\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7480404,"reputation":11,"user_id":6071809,"display_name":"DamienG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665128928,"creation_date":1665128928,"answer_id":73983972,"question_id":73880277,"body_markdown":"In complement to previous answer : \r\n - Add `maven-compiler-plugin` and `maven-war-plugin` declaration to the `plugin` section in your POM (with latest version). Also explicitly declare the Java version to the maven-compiler-plugin &#39;&lt;configuration&gt;&#39; section.\r\n - Specify explicitly in your pipeline the Java version used :\r\n```\r\npipeline {\r\n    agent any\r\n    tools {\r\n        git &#39;YOUR_GIT_INSTALLATION&#39;\r\n        jdk &#39;YOUR_JDK_VERSION&#39;\r\n        maven &#39;MAVEN_JENKINS&#39;\r\n    }\r\n...\r\n\r\n}\r\n```\r\n where &#39;**YOUR_GIT_INSTALLATION**&#39; and &#39;**YOUR_JDK_VERSION**&#39; are the one declared in your tool configuration (it is also a good practice to declare explicitly the GIT version and any tools you&#39;re using in the pipeline)","title":"Building scripted Jenkins pipeline, error while packaging using Maven","body":"<p>In complement to previous answer :</p>\n<ul>\n<li>Add <code>maven-compiler-plugin</code> and <code>maven-war-plugin</code> declaration to the <code>plugin</code> section in your POM (with latest version). Also explicitly declare the Java version to the maven-compiler-plugin '' section.</li>\n<li>Specify explicitly in your pipeline the Java version used :</li>\n</ul>\n<pre><code>pipeline {\n    agent any\n    tools {\n        git 'YOUR_GIT_INSTALLATION'\n        jdk 'YOUR_JDK_VERSION'\n        maven 'MAVEN_JENKINS'\n    }\n...\n\n}\n</code></pre>\n<p>where '<strong>YOUR_GIT_INSTALLATION</strong>' and '<strong>YOUR_JDK_VERSION</strong>' are the one declared in your tool configuration (it is also a good practice to declare explicitly the GIT version and any tools you're using in the pipeline)</p>\n"}],"owner":{"account_id":1611342,"reputation":870,"user_id":1794617,"accept_rate":40,"display_name":"AjB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73953095,"answer_count":3,"score":0,"last_activity_date":1667079492,"creation_date":1664362585,"question_id":73880277,"body_markdown":"I&#39;m relatively new to DevOps in General as well as Java. Which makes debugging Maven and Jenkins all the more difficult for me.\r\n\r\nI am trying to create a scripted Jenkins pipeline for a Java project from the internet using the following script:\r\n\r\n    pipeline{\r\n        agent any\r\n        tools{\r\n            maven &#39;MAVEN_JENKINS&#39;\r\n        }\r\n        stages{\r\n            stage(&quot;checkout from github&quot;){\r\n                steps{\r\n                    git branch: &#39;master&#39;,\r\n                    url:&#39;https://github.com/redbilledpanda/DevOpsClassCodes.git&#39;\r\n                    echo &#39;pulled from github successfully&#39;\r\n                }\r\n            }\r\n            stage(&quot;compile the code to executable format&quot;){\r\n                steps{\r\n                    sh &quot;mvn compile&quot;\r\n                    echo &#39;converted the code from human readable to machine readable &#39;\r\n                }\r\n            }\r\n            stage(&quot;testing the code&quot;){\r\n                steps{\r\n                    sh &quot;mvn test&quot;\r\n                    echo &#39;run and execute the test cases written in selenium&#39;\r\n                }\r\n            }\r\n            stage(&quot;code review to check quality of code&quot;){\r\n                steps{\r\n                    sh &quot;mvn pmd:pmd&quot;\r\n                    echo &#39;code review done&#39;\r\n                }\r\n            }\r\n            stage(&quot;convert the code to package&quot;){\r\n                steps{\r\n                    sh &quot;mvn clean package&quot;\r\n                    echo &#39;convert the files to war file&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe only section that fails is the packaging stage. Here is the entire log:\r\n\r\n    + mvn package\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for com.edurekademo.tutorial:addressbook:war:2.0\r\n    [WARNING] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @ line 298, column 40\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] \r\n    [INFO] ----------------&lt; com.edurekademo.tutorial:addressbook &gt;----------------\r\n    [INFO] Building Vaadin Addressbook example 2.0\r\n    [INFO] --------------------------------[ war ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-versions) @ addressbook ---\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ addressbook ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory /var/lib/jenkins/workspace/scriptedpipeline/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ addressbook ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ addressbook ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ addressbook ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ addressbook ---\r\n    \r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running com.edurekademo.utilities.TestLogger\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/var/lib/jenkins/.m2/repository/org/slf4j/slf4j-simple/1.7.7/slf4j-simple-1.7.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/var/lib/jenkins/.m2/repository/org/slf4j/slf4j-log4j12/1.7.7/slf4j-log4j12-1.7.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\r\n    [pool-1-thread-2] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage2(TestLogger.java:30)\r\n    Cause:at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [pool-1-thread-1] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage1(TestLogger.java:14)\r\n    Cause:at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [pool-1-thread-4] INFO com.edurekademo.utilities.TestLogger - java.io.IOException: TESTIOEXCEPTION\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doNothing(ExceptionThrower.java:18)\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage4(TestLogger.java:60)\r\n    [pool-1-thread-3] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.getCounter(ExceptionThrower.java:13)\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage3(TestLogger.java:45)\r\n    [pool-1-thread-5] ERROR com.edurekademo.utilities.ExceptionThrower - java.lang.Exception: DEAR\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doYYY(ExceptionThrower.java:35)\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doXXX(ExceptionThrower.java:23)\r\n    [pool-1-thread-5] INFO com.edurekademo.utilities.TestLogger - java.lang.Exception: TEST MESSAGE\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doCheck(ExceptionThrower.java:43)\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage5(TestLogger.java:75)\r\n    ***** java.lang.Exception: TEST MESSAGE\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doCheck(ExceptionThrower.java:43)\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage5(TestLogger.java:75)\r\n    Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec - in com.edurekademo.utilities.TestLogger\r\n    Running com.edurekademo.utilities.TestHexAsciiConversion\r\n    74657374696e6720617363696920636f6e76657274696f6e20696e746f2068657861646563696d616c\r\n    testing ascii convertion into hexadecimal\r\n    Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in com.edurekademo.utilities.TestHexAsciiConversion\r\n    Running com.edurekademo.utilities.TestGenericComparator\r\n    Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.edurekademo.utilities.TestGenericComparator\r\n    \r\n    Results :\r\n    \r\n    Tests run: 23, Failures: 0, Errors: 0, Skipped: 0\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-war-plugin:2.2:war (default-war) @ addressbook ---\r\n    [WARNING] Error injecting: org.apache.maven.plugin.war.WarMojo\r\n    com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n    \r\n    1) Error injecting constructor, java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\r\n      at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\r\n      while locating org.apache.maven.plugin.war.WarMojo\r\n    \r\n    1 error\r\n        at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\r\n        at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\r\n        at com.thoughtworks.xstream.converters.collections.PropertiesConverter.&lt;clinit&gt; (PropertiesConverter.java:46)\r\n        at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:647)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:445)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:385)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:342)\r\n        at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\r\n        at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:316)\r\n        at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:49)\r\n        at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n        at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\r\n        at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\r\n        at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\r\n        at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\r\n        at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\r\n        at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\r\n        at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.680 s\r\n    [INFO] Finished at: 2022-09-28T16:24:30+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project addressbook: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.2&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: Cannot access defaults field of Properties\r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.2\r\n    [ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    [ERROR] urls[0] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.2/maven-war-plugin-2.2.jar\r\n    [ERROR] urls[1] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\r\n    [ERROR] urls[2] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\r\n    [ERROR] urls[3] = file:/var/lib/jenkins/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\r\n    [ERROR] urls[4] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\r\n    [ERROR] urls[5] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\r\n    [ERROR] urls[6] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-io/2.0.2/plexus-io-2.0.2.jar\r\n    [ERROR] urls[7] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-archiver/2.1/plexus-archiver-2.1.jar\r\n    [ERROR] urls[8] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\r\n    [ERROR] urls[9] = file:/var/lib/jenkins/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\n    [ERROR] urls[10] = file:/var/lib/jenkins/.m2/repository/com/thoughtworks/xstream/xstream/1.3.1/xstream-1.3.1.jar\r\n    [ERROR] urls[11] = file:/var/lib/jenkins/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\r\n    [ERROR] urls[12] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-utils/3.0/plexus-utils-3.0.jar\r\n    [ERROR] urls[13] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\r\n    [ERROR] Number of foreign imports: 1\r\n    [ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    [ERROR] \r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] \r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n\r\nThe POM file for the project is [here][1]. What exactly is going wrong?\r\n\r\n\r\n  [1]: https://github.com/redbilledpanda/DevOpsClassCodes/blob/master/pom.xml\r\n","title":"Building scripted Jenkins pipeline, error while packaging using Maven","body":"<p>I'm relatively new to DevOps in General as well as Java. Which makes debugging Maven and Jenkins all the more difficult for me.</p>\n<p>I am trying to create a scripted Jenkins pipeline for a Java project from the internet using the following script:</p>\n<pre><code>pipeline{\n    agent any\n    tools{\n        maven 'MAVEN_JENKINS'\n    }\n    stages{\n        stage(&quot;checkout from github&quot;){\n            steps{\n                git branch: 'master',\n                url:'https://github.com/redbilledpanda/DevOpsClassCodes.git'\n                echo 'pulled from github successfully'\n            }\n        }\n        stage(&quot;compile the code to executable format&quot;){\n            steps{\n                sh &quot;mvn compile&quot;\n                echo 'converted the code from human readable to machine readable '\n            }\n        }\n        stage(&quot;testing the code&quot;){\n            steps{\n                sh &quot;mvn test&quot;\n                echo 'run and execute the test cases written in selenium'\n            }\n        }\n        stage(&quot;code review to check quality of code&quot;){\n            steps{\n                sh &quot;mvn pmd:pmd&quot;\n                echo 'code review done'\n            }\n        }\n        stage(&quot;convert the code to package&quot;){\n            steps{\n                sh &quot;mvn clean package&quot;\n                echo 'convert the files to war file'\n            }\n        }\n    }\n}\n</code></pre>\n<p>The only section that fails is the packaging stage. Here is the entire log:</p>\n<pre><code>+ mvn package\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for com.edurekademo.tutorial:addressbook:war:2.0\n[WARNING] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @ line 298, column 40\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] \n[INFO] ----------------&lt; com.edurekademo.tutorial:addressbook &gt;----------------\n[INFO] Building Vaadin Addressbook example 2.0\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] \n[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-versions) @ addressbook ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ addressbook ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /var/lib/jenkins/workspace/scriptedpipeline/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ addressbook ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ addressbook ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ addressbook ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ addressbook ---\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning com.edurekademo.utilities.TestLogger\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/var/lib/jenkins/.m2/repository/org/slf4j/slf4j-simple/1.7.7/slf4j-simple-1.7.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/var/lib/jenkins/.m2/repository/org/slf4j/slf4j-log4j12/1.7.7/slf4j-log4j12-1.7.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\n[pool-1-thread-2] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage2(TestLogger.java:30)\nCause:at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[pool-1-thread-1] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage1(TestLogger.java:14)\nCause:at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[pool-1-thread-4] INFO com.edurekademo.utilities.TestLogger - java.io.IOException: TESTIOEXCEPTION\nCause:at com.edurekademo.utilities.ExceptionThrower.doNothing(ExceptionThrower.java:18)\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage4(TestLogger.java:60)\n[pool-1-thread-3] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\nCause:at com.edurekademo.utilities.ExceptionThrower.getCounter(ExceptionThrower.java:13)\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage3(TestLogger.java:45)\n[pool-1-thread-5] ERROR com.edurekademo.utilities.ExceptionThrower - java.lang.Exception: DEAR\nCause:at com.edurekademo.utilities.ExceptionThrower.doYYY(ExceptionThrower.java:35)\nCause:at com.edurekademo.utilities.ExceptionThrower.doXXX(ExceptionThrower.java:23)\n[pool-1-thread-5] INFO com.edurekademo.utilities.TestLogger - java.lang.Exception: TEST MESSAGE\nCause:at com.edurekademo.utilities.ExceptionThrower.doCheck(ExceptionThrower.java:43)\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage5(TestLogger.java:75)\n***** java.lang.Exception: TEST MESSAGE\nCause:at com.edurekademo.utilities.ExceptionThrower.doCheck(ExceptionThrower.java:43)\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage5(TestLogger.java:75)\nTests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec - in com.edurekademo.utilities.TestLogger\nRunning com.edurekademo.utilities.TestHexAsciiConversion\n74657374696e6720617363696920636f6e76657274696f6e20696e746f2068657861646563696d616c\ntesting ascii convertion into hexadecimal\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in com.edurekademo.utilities.TestHexAsciiConversion\nRunning com.edurekademo.utilities.TestGenericComparator\nTests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.edurekademo.utilities.TestGenericComparator\n\nResults :\n\nTests run: 23, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] \n[INFO] --- maven-war-plugin:2.2:war (default-war) @ addressbook ---\n[WARNING] Error injecting: org.apache.maven.plugin.war.WarMojo\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\n\n1) Error injecting constructor, java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\n  at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\n  while locating org.apache.maven.plugin.war.WarMojo\n\n1 error\n    at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\n    at com.thoughtworks.xstream.converters.collections.PropertiesConverter.&lt;clinit&gt; (PropertiesConverter.java:46)\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:647)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:445)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:385)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:342)\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:316)\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:49)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.680 s\n[INFO] Finished at: 2022-09-28T16:24:30+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project addressbook: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.2' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: Cannot access defaults field of Properties\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.2\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.2/maven-war-plugin-2.2.jar\n[ERROR] urls[1] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\n[ERROR] urls[2] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\n[ERROR] urls[3] = file:/var/lib/jenkins/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\n[ERROR] urls[4] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\n[ERROR] urls[5] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\n[ERROR] urls[6] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-io/2.0.2/plexus-io-2.0.2.jar\n[ERROR] urls[7] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-archiver/2.1/plexus-archiver-2.1.jar\n[ERROR] urls[8] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\n[ERROR] urls[9] = file:/var/lib/jenkins/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\n[ERROR] urls[10] = file:/var/lib/jenkins/.m2/repository/com/thoughtworks/xstream/xstream/1.3.1/xstream-1.3.1.jar\n[ERROR] urls[11] = file:/var/lib/jenkins/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\n[ERROR] urls[12] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-utils/3.0/plexus-utils-3.0.jar\n[ERROR] urls[13] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR] \n[ERROR] -----------------------------------------------------\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n<p>The POM file for the project is <a href=\"https://github.com/redbilledpanda/DevOpsClassCodes/blob/master/pom.xml\" rel=\"nofollow noreferrer\">here</a>. What exactly is going wrong?</p>\n"},{"tags":["java","arrays","regex"],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481176725,"creation_date":1481176725,"answer_id":41032721,"question_id":41032660,"body_markdown":"This regex will work for you (checks for a &quot;valid array&quot;) :\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;18,32,5,8,10&quot;;\r\n\t\tSystem.out.println(s.matches(&quot;(?!.*,$)(?!,.*$)(\\\\d+(?:,|$))+&quot;));\r\n\t}\r\n\r\nChecks and fails for:\r\n\r\n1. multiple continuous commas\r\n2. comma at beginning\r\n3. comma at end","title":"Regex for int Array","body":"<p>This regex will work for you (checks for a \"valid array\") :</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"18,32,5,8,10\";\n    System.out.println(s.matches(\"(?!.*,$)(?!,.*$)(\\\\d+(?:,|$))+\"));\n}\n</code></pre>\n\n<p>Checks and fails for:</p>\n\n<ol>\n<li>multiple continuous commas</li>\n<li>comma at beginning</li>\n<li>comma at end</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1481177250,"creation_date":1481176804,"answer_id":41032745,"question_id":41032660,"body_markdown":"Use a group construct to specify that digits should be followed by (`,` digits) ...\r\n\r\n    \\\\d+(?:,\\\\d+)+","title":"Regex for int Array","body":"<p>Use a group construct to specify that digits should be followed by (<code>,</code> digits) ...</p>\n\n<pre><code>\\\\d+(?:,\\\\d+)+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8565841,"reputation":255,"user_id":6418343,"display_name":"sharad_kalya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481177389,"creation_date":1481177389,"answer_id":41032872,"question_id":41032660,"body_markdown":"Since I don&#39;t know how to use regex and if I were in your place then this would have been my way to do so\r\n\r\n    String test = &quot;18,32,5,8,10&quot;;\r\n    String str[]=test.split(&quot;,&quot;);\r\n\tint ar[] = new int[str.length];\r\n    for(int i = 0; i&lt;ar.length; i++){\r\n    \tar[i] = Integer.parseInt(str[i]);\r\n    }\r\n\r\nThe problem in this code if any I can see is this that call to parseInt() method must be wrapped in try-catch as it can throw NumberFormatException if your string contains value other than digit and comma(,).","title":"Regex for int Array","body":"<p>Since I don't know how to use regex and if I were in your place then this would have been my way to do so</p>\n\n<pre><code>String test = \"18,32,5,8,10\";\nString str[]=test.split(\",\");\nint ar[] = new int[str.length];\nfor(int i = 0; i&lt;ar.length; i++){\n    ar[i] = Integer.parseInt(str[i]);\n}\n</code></pre>\n\n<p>The problem in this code if any I can see is this that call to parseInt() method must be wrapped in try-catch as it can throw NumberFormatException if your string contains value other than digit and comma(,).</p>\n"},{"tags":[],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562931417,"creation_date":1562930881,"answer_id":57006085,"question_id":41032660,"body_markdown":"Regex for both array and single element \r\n\r\n`(\\d|\\[(\\d|,\\s*)*])`","title":"Regex for int Array","body":"<p>Regex for both array and single element </p>\n\n<p><code>(\\d|\\[(\\d|,\\s*)*])</code></p>\n"},{"tags":[],"owner":{"account_id":25723521,"reputation":31,"user_id":19480206,"display_name":"Diego Yednak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667078695,"creation_date":1667078695,"answer_id":74248940,"question_id":41032660,"body_markdown":"You can try\r\n\r\n    Pattern = &quot;^\\d+(,\\d+)*$&quot;\r\n\r\n    text = &quot;10,5,10&quot;    (TRUE)\r\n    text = &quot;10,5,10,&quot;   (FALSE)\r\n    text = &quot;10,5,10 &quot;   (FALSE)","title":"Regex for int Array","body":"<p>You can try</p>\n<pre><code>Pattern = &quot;^\\d+(,\\d+)*$&quot;\n\ntext = &quot;10,5,10&quot;    (TRUE)\ntext = &quot;10,5,10,&quot;   (FALSE)\ntext = &quot;10,5,10 &quot;   (FALSE)\n</code></pre>\n"}],"owner":{"account_id":3617313,"reputation":362,"user_id":3016853,"accept_rate":100,"display_name":"hacker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41032745,"answer_count":5,"score":1,"last_activity_date":1667078695,"creation_date":1481176391,"question_id":41032660,"body_markdown":"I need to validate a string argument if it can be converted to an int Array.\r\n\r\n\r\n    String pattern = &quot;(\\\\d+[,])+&quot;;\r\n    String test = &quot;18,32,5,8,10&quot;;\r\n\r\n    test2.matches(pattern2) //returns false as i requires , in the end\r\n\r\nIs there any way to ignore last &#39; , &#39;\r\n","title":"Regex for int Array","body":"<p>I need to validate a string argument if it can be converted to an int Array.</p>\n\n<pre><code>String pattern = \"(\\\\d+[,])+\";\nString test = \"18,32,5,8,10\";\n\ntest2.matches(pattern2) //returns false as i requires , in the end\n</code></pre>\n\n<p>Is there any way to ignore last ' , '</p>\n"},{"tags":["java","file","nio","glob"],"answers":[{"tags":[],"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1547029633,"creation_date":1544519115,"answer_id":53720655,"question_id":53720374,"body_markdown":"There are two things to be changed:\r\n\r\nTo &quot;*find(first) file with given glob String*&quot; you need to finish walking the tree if you encounter the file, thus if a match is given. And you need to store the matching path as result. The result of `Files.walkFileTree` itself is the &quot;the starting file&quot; ([JavaDoc][1]). That&#39;s a `Path` pointing to the `location`.\r\n\r\n\r\n    public static String match(String glob, String location) throws IOException {\r\n        StringBuilder result = new StringBuilder();\r\n        PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\r\n        Files.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n            @Override\r\n            public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\r\n                if (pathMatcher.matches(path)) {\r\n                    result.append(path.toString());\r\n                    return FileVisitResult.TERMINATE;\r\n                }\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n\r\n        return result.toString();\r\n    }\r\n\r\nIf there is no match then the resulting `String` is empty.\r\n\r\nEDIT:  \r\nUsing `Files.walk` we can implement the search with less code still using a glob expression based matcher:\r\n\r\n    public static Optional&lt;Path&gt; match(String glob, String location) throws IOException {\r\n        PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\r\n        return Files.walk(Paths.get(location)).filter(pathMatcher::matches).findFirst();\r\n    }\r\n\r\nThe `Optional` as result shows that there may be no match.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html#walkFileTree(java.nio.file.Path,java.nio.file.FileVisitor)\r\n","title":"Java NIO Search file in a directory","body":"<p>There are two things to be changed:</p>\n\n<p>To \"<em>find(first) file with given glob String</em>\" you need to finish walking the tree if you encounter the file, thus if a match is given. And you need to store the matching path as result. The result of <code>Files.walkFileTree</code> itself is the \"the starting file\" (<a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html#walkFileTree(java.nio.file.Path,java.nio.file.FileVisitor)\" rel=\"nofollow noreferrer\">JavaDoc</a>). That's a <code>Path</code> pointing to the <code>location</code>.</p>\n\n<pre><code>public static String match(String glob, String location) throws IOException {\n    StringBuilder result = new StringBuilder();\n    PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\n    Files.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\n\n        @Override\n        public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\n            if (pathMatcher.matches(path)) {\n                result.append(path.toString());\n                return FileVisitResult.TERMINATE;\n            }\n            return FileVisitResult.CONTINUE;\n        }\n    });\n\n    return result.toString();\n}\n</code></pre>\n\n<p>If there is no match then the resulting <code>String</code> is empty.</p>\n\n<p>EDIT:<br>\nUsing <code>Files.walk</code> we can implement the search with less code still using a glob expression based matcher:</p>\n\n<pre><code>public static Optional&lt;Path&gt; match(String glob, String location) throws IOException {\n    PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\n    return Files.walk(Paths.get(location)).filter(pathMatcher::matches).findFirst();\n}\n</code></pre>\n\n<p>The <code>Optional</code> as result shows that there may be no match.</p>\n"},{"tags":[],"owner":{"account_id":2822251,"reputation":1914,"user_id":2425755,"display_name":"Akceptor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544519870,"creation_date":1544519273,"answer_id":53720687,"question_id":53720374,"body_markdown":"Based on your own code. Just stop traversing once found some match\r\n\r\n    public class Main {\r\n    \r\n    \tprivate static Path found = &quot;nothing&quot;; // First file found\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tString glob = &quot;glob:**.{java}&quot;; //pattern to look for\r\n            String location = &quot;D:\\\\&quot;; //where to search\r\n    \t\tmatch(location, glob);\r\n    \t\tSystem.out.println(&quot;Found: &quot; + found);\r\n    \t}\r\n    \r\n    \tpublic static void match(String location, String glob) throws IOException {\r\n    \r\n    \t\tfinal PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\r\n    \r\n    \t\tFiles.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n    \t\t\t@Override\r\n    \t\t\tpublic FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\r\n    \t\t\t\tif (pathMatcher.matches(path)) {\r\n    \t\t\t\t\tfound = path; // Match found, stop traversal\r\n    \t\t\t\t\treturn FileVisitResult.TERMINATE;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nOr you can populate collection saving all the files matching the pattern","title":"Java NIO Search file in a directory","body":"<p>Based on your own code. Just stop traversing once found some match</p>\n\n<pre><code>public class Main {\n\n    private static Path found = \"nothing\"; // First file found\n\n    public static void main(String[] args) throws IOException {\n        String glob = \"glob:**.{java}\"; //pattern to look for\n        String location = \"D:\\\\\"; //where to search\n        match(location, glob);\n        System.out.println(\"Found: \" + found);\n    }\n\n    public static void match(String location, String glob) throws IOException {\n\n        final PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\n\n        Files.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\n\n            @Override\n            public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\n                if (pathMatcher.matches(path)) {\n                    found = path; // Match found, stop traversal\n                    return FileVisitResult.TERMINATE;\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Or you can populate collection saving all the files matching the pattern</p>\n"},{"tags":[],"owner":{"account_id":4560293,"reputation":751,"user_id":3702839,"display_name":"Joao Esperancinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544529644,"creation_date":1544529644,"answer_id":53723780,"question_id":53720374,"body_markdown":"I don&#39;t know if this example could help you further, but it seems like you would need your own custom file visitor. Here is an alternative solution:\r\n\r\n    package com.jesperancinha.files;\r\n    \r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.FileVisitResult;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.PathMatcher;\r\n    import java.nio.file.SimpleFileVisitor;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    \r\n    public class GlobFileVisitor extends SimpleFileVisitor&lt;Path&gt; {\r\n    \tprivate final PathMatcher pathMatcher;\r\n    \r\n    \tprivate Path path;\r\n    \r\n    \tpublic GlobFileVisitor(String glob) {\r\n    \t\tthis.pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic FileVisitResult visitFile(Path path, BasicFileAttributes attrs) {\r\n    \t\tif (pathMatcher.matches(path)) {\r\n    \t\t\tthis.path = path;\r\n    \t\t\treturn FileVisitResult.TERMINATE;\r\n    \t\t}\r\n    \t\treturn FileVisitResult.CONTINUE;\r\n    \t}\r\n    \r\n    \tpublic Path getFoundPath() {\r\n    \t\treturn path;\r\n    \t}\r\n    }\r\n\r\nAnd this is another possibility for your running example:\r\n\r\n    package com.jesperancinha.files;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class FileFinder {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tString glob = &quot;glob:**.{java}&quot;;\r\n    \t\tString location = &quot;/Users/joao/dev/src/jesperancinha&quot;;\r\n    \t\tPath found = match(location, glob);\r\n    \t\tSystem.out.println(&quot;Found: &quot; + found);\r\n    \t}\r\n    \r\n    \tpublic static Path match(String location, String glob) throws IOException {\r\n    \t\tGlobFileVisitor globFileVisitor = new GlobFileVisitor(glob);\r\n    \t\tFiles.walkFileTree(Paths.get(location), globFileVisitor);\r\n    \t\treturn globFileVisitor.getFoundPath();\r\n    \t}\r\n    }\r\n\r\n","title":"Java NIO Search file in a directory","body":"<p>I don't know if this example could help you further, but it seems like you would need your own custom file visitor. Here is an alternative solution:</p>\n\n<pre><code>package com.jesperancinha.files;\n\nimport java.nio.file.FileSystems;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Path;\nimport java.nio.file.PathMatcher;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class GlobFileVisitor extends SimpleFileVisitor&lt;Path&gt; {\n    private final PathMatcher pathMatcher;\n\n    private Path path;\n\n    public GlobFileVisitor(String glob) {\n        this.pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\n    }\n\n    @Override\n    public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) {\n        if (pathMatcher.matches(path)) {\n            this.path = path;\n            return FileVisitResult.TERMINATE;\n        }\n        return FileVisitResult.CONTINUE;\n    }\n\n    public Path getFoundPath() {\n        return path;\n    }\n}\n</code></pre>\n\n<p>And this is another possibility for your running example:</p>\n\n<pre><code>package com.jesperancinha.files;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class FileFinder {\n    public static void main(String[] args) throws IOException {\n        String glob = \"glob:**.{java}\";\n        String location = \"/Users/joao/dev/src/jesperancinha\";\n        Path found = match(location, glob);\n        System.out.println(\"Found: \" + found);\n    }\n\n    public static Path match(String location, String glob) throws IOException {\n        GlobFileVisitor globFileVisitor = new GlobFileVisitor(glob);\n        Files.walkFileTree(Paths.get(location), globFileVisitor);\n        return globFileVisitor.getFoundPath();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653039,"reputation":599,"user_id":7775861,"accept_rate":50,"display_name":"Kyle Berezin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667077925,"creation_date":1667077925,"answer_id":74248866,"question_id":53720374,"body_markdown":"These answers will all work, but the intended way to search for files with NIO is `Files.Find` with a `BiPreicate&lt;Path,BasicFileAttributes&gt;`.\r\n\r\n    PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.txt&quot;);\r\n    Stream&lt;Path&gt; stream = Files.find(\r\n            Paths.get(&quot;/dirToSearch&quot;),\r\n            1, // Search depth of 1 in our case, set to &gt;1 or -1 to explore subfolders\r\n            (path, basicFileAttributes) -&gt;  matcher.matches(path)\r\n    );\r\n    // The stream is lazily populated\r\n    Path firstMatch = stream.findFirst().get();","title":"Java NIO Search file in a directory","body":"<p>These answers will all work, but the intended way to search for files with NIO is <code>Files.Find</code> with a <code>BiPreicate&lt;Path,BasicFileAttributes&gt;</code>.</p>\n<pre><code>PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.txt&quot;);\nStream&lt;Path&gt; stream = Files.find(\n        Paths.get(&quot;/dirToSearch&quot;),\n        1, // Search depth of 1 in our case, set to &gt;1 or -1 to explore subfolders\n        (path, basicFileAttributes) -&gt;  matcher.matches(path)\n);\n// The stream is lazily populated\nPath firstMatch = stream.findFirst().get();\n</code></pre>\n"}],"owner":{"account_id":12352374,"reputation":721,"user_id":10428123,"display_name":"Keryanie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4424,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53720655,"answer_count":4,"score":5,"last_activity_date":1667077925,"creation_date":1544517991,"question_id":53720374,"body_markdown":"I want to search a file(without knowing the full name) in a specific directory using Java NIO and glob. \r\n\r\n    public static void match(String glob, String location) throws IOException {\r\n    \t\r\n    \t\tfinal PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(\r\n    \t\t\t\tglob);\r\n    \t\t\r\n    \t\tFiles.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic FileVisitResult visitFile(Path path,\r\n    \t\t\t\t\tBasicFileAttributes attrs) throws IOException {\r\n    \t\t\t\tif (pathMatcher.matches(path)) {\r\n    \t\t\t\t\tSystem.out.println(path);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n\r\nReading some tutorial I did this. I just want to return string if I find(first) file with given glob String. \r\n\r\n    if (pathMatcher.matches(path)) {\r\n        return path.toString();\r\n    }\r\n\r\n","title":"Java NIO Search file in a directory","body":"<p>I want to search a file(without knowing the full name) in a specific directory using Java NIO and glob. </p>\n\n<pre><code>public static void match(String glob, String location) throws IOException {\n\n        final PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(\n                glob);\n\n        Files.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\n\n            @Override\n            public FileVisitResult visitFile(Path path,\n                    BasicFileAttributes attrs) throws IOException {\n                if (pathMatcher.matches(path)) {\n                    System.out.println(path);\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n</code></pre>\n\n<p>Reading some tutorial I did this. I just want to return string if I find(first) file with given glob String. </p>\n\n<pre><code>if (pathMatcher.matches(path)) {\n    return path.toString();\n}\n</code></pre>\n"},{"tags":["java","boolean","boolean-logic","boolean-expression"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667041329,"post_id":74244690,"comment_id":131079755,"body_markdown":"Looking at the above example, it looks like you have to write a parser.","body":"Looking at the above example, it looks like you have to write a parser."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667041938,"post_id":74244690,"comment_id":131079845,"body_markdown":"Look at a tool like Lucene.","body":"Look at a tool like Lucene."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667077776,"creation_date":1667077776,"answer_id":74248851,"question_id":74244690,"body_markdown":"This may not be an overall solution but it might give you a step towards that goal. The method below will try to parse and validate the supplied custom expressions you described in your post. If the supplied expression is valid the components of that supplied expression is returned within a String[] Array. If the returned String[] Array is null then the supplied expression is found to be invalid. An Invalid expression will also display an error message within the console window explaining why that expression is invalid. Be sure to read the comments in code:\r\n\r\n    /**\r\n     * Custom Expression Parser/Validator:\r\n     * \r\n     * If the supplied expression is valid whereas it meets the guidelines within \r\n     * the code, then return a String[] Array containing the components of that \r\n     * expression. If the expression is found to be invalid then a warning message \r\n     * is displayed to the Console Window explaining the problem and null is returned.\r\n     * \r\n     * @param expressionString (String) The expression to validate.&lt;br&gt;\r\n     * \r\n     * @return (String[] Array) Returns null if the expression is found invalid \r\n     * otherwise the returned String Array will contain the components of the \r\n     * expression. Process these returned expression components as you see fit.\r\n     */\r\n    public String[] isExpressionValid(String expressionString) {\r\n        // List to hold expression components.\r\n        List&lt;String&gt; expressionList = new ArrayList&lt;&gt;();\r\n        \r\n        // If the expression string is null or empty then return null.\r\n        if (expressionString == null || expressionString.isEmpty()) {\r\n            return null;\r\n        }\r\n        \r\n        // Are the brackets proper in the expression?\r\n        Map&lt;Character, Character&gt; openClosePair = new HashMap&lt;&gt;();\r\n        openClosePair.put(&#39;)&#39;, &#39;(&#39;);\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        for (char ch : expressionString.toCharArray()) {\r\n            if (openClosePair.containsKey(ch)) {\r\n                if (stack.isEmpty() || !Objects.equals(stack.pop(), openClosePair.get(ch))) {\r\n                    break;\r\n                }\r\n            }\r\n            else if (openClosePair.values().contains(ch)) {\r\n                stack.push(ch);\r\n            }\r\n        }\r\n        if (!stack.isEmpty()) {\r\n            System.err.println(&quot;Invalid Expression! [&quot; + expressionString + &quot;] -  Parentheses Mismatch!&quot;);\r\n            return null;\r\n        }\r\n        \r\n        /* Parentheses are valid so now remove them to validate \r\n           the data within the parentheses.    */\r\n        expressionString = expressionString.replaceAll(&quot;[\\\\(\\\\)]&quot;, &quot;&quot;);\r\n        \r\n        /* Is &amp;, !, or | within the expression? If so, is it proper?\r\n           If there are consecutive `same` operators (ie: &quot;&amp;&amp;&amp;&quot;) then\r\n           convert them to a single operator (ie: &quot;&amp;&quot;).        */\r\n        expressionString = expressionString.replaceAll(&quot;[&amp;]{2,}&quot;, &quot;&amp;&quot;)\r\n                .replaceAll(&quot;[|]{2,}&quot;, &quot;|&quot;). replaceAll(&quot;[!]{2,}&quot;, &quot;!&quot;);\r\n        \r\n        // Add whatever you feel would be invalid...\r\n        String[] invalidOperators = {&quot;&amp;|&quot;, &quot;|&amp;&quot;, &quot;!|&quot;, &quot;!&amp;&quot;, &quot;!&amp;|&quot;, &quot;!|&amp;&quot;, \r\n                                     &quot;&amp;!|&quot;, &quot;&amp;|!&quot;, &quot;|!&amp;&quot;, &quot;|&amp;!&quot;};\r\n        // Make sure of valid operator use.\r\n        for (String op : invalidOperators) {\r\n            if (expressionString.contains(op)) {\r\n                System.err.println(&quot;Invalid Logical Operator Configuruation [&quot; + \r\n                                   op + &quot;] Within Expression!&quot;);\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        /* Split the expression on delimiters &#39;&amp;&#39; or &#39;|&#39; but \r\n           also add the delimiter to the generated array: */\r\n        String regEx = &quot;((?&lt;=\\\\Q&amp;\\\\E)|(?=\\\\Q&amp;\\\\E))|&quot;\r\n                     + &quot;((?&lt;=\\\\Q|\\\\E)|(?=\\\\Q|\\\\E))&quot;;\r\n        String[] expParts = expressionString.split(regEx);\r\n        String exp;\r\n        for (int i = 0; i &lt; expParts.length; i++) {\r\n            exp = expParts[i].trim();  // Remove leading/trailing whitespaces.\r\n            // Is the element a non-numerical value?\r\n            if (!exp.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;) &amp;&amp; !exp.matches(&quot;[!\\\\|&amp;]&quot;)) {\r\n                // This element must be alpha or alphanumeric. \r\n                /* Is there a whitespace in it? If so, is it wrapped in quote marks? \r\n                   If not then this is invalid.                */\r\n                if (exp.contains(&quot; &quot;) &amp;&amp; ((!exp.startsWith(&quot;!\\&quot;&quot;) || !exp.startsWith(&quot;\\&quot;&quot;)) &amp;&amp; !exp.endsWith(&quot;\\&quot;&quot;))) {\r\n                    System.err.println(&quot;Invalid String [&quot; + exp + &quot;] Within Expression!&quot; \r\n                            + System.lineSeparator() + &quot;Because this portion of the expression &quot;\r\n                            + &quot;contains at least one whitespace,&quot; + System.lineSeparator() \r\n                            + &quot;it should be wrapped within quotation marks excluding any Logical Operator&quot; \r\n                            + System.lineSeparator() + &quot;located at the beginning.&quot;);\r\n                    return null;\r\n                }\r\n            }\r\n            /* Does the expression start with or end with a Logical Operator &#39;&amp;&#39; or &#39;|&#39;? \r\n               This is considered invalid.            */\r\n            if ((i == 0 || i == expParts.length - 1) &amp;&amp; (exp.equals(&quot;&amp;&quot;) || exp.equals(&quot;|&quot;))) {\r\n                System.err.println(&quot;Invalid Logical Operator Location! [&quot; + expressionString + &quot;]&quot;\r\n                            + System.lineSeparator() + &quot;The expression can not start with or end &quot;\r\n                            + &quot;with a &#39;&amp;&#39; or &#39;|&#39; operator!&quot;);\r\n                return null;        \r\n            }\r\n            \r\n            // Add the expresion component to the List\r\n            expressionList.add(exp);\r\n        }\r\n        \r\n        // Convert the List to a String[] Array and return.\r\n        return expressionList.toArray(new String[expressionList.size()]);\r\n    }\r\n\r\nHow you might use the above method would be something like this: \r\n\r\n    String expression = &quot;(footballer football !| basket)(&quot;;\r\n        \r\n    String[] expressionParts = isExpressionValid(expression);\r\n\r\n    if (expressionParts != null) {\r\n        // Display the components of the supplied expression:\r\n        System.out.println(Arrays.toString(expressionParts));\r\n    }\r\n\r\n","title":"How can I validate a boolean string input in java","body":"<p>This may not be an overall solution but it might give you a step towards that goal. The method below will try to parse and validate the supplied custom expressions you described in your post. If the supplied expression is valid the components of that supplied expression is returned within a String[] Array. If the returned String[] Array is null then the supplied expression is found to be invalid. An Invalid expression will also display an error message within the console window explaining why that expression is invalid. Be sure to read the comments in code:</p>\n<pre><code>/**\n * Custom Expression Parser/Validator:\n * \n * If the supplied expression is valid whereas it meets the guidelines within \n * the code, then return a String[] Array containing the components of that \n * expression. If the expression is found to be invalid then a warning message \n * is displayed to the Console Window explaining the problem and null is returned.\n * \n * @param expressionString (String) The expression to validate.&lt;br&gt;\n * \n * @return (String[] Array) Returns null if the expression is found invalid \n * otherwise the returned String Array will contain the components of the \n * expression. Process these returned expression components as you see fit.\n */\npublic String[] isExpressionValid(String expressionString) {\n    // List to hold expression components.\n    List&lt;String&gt; expressionList = new ArrayList&lt;&gt;();\n    \n    // If the expression string is null or empty then return null.\n    if (expressionString == null || expressionString.isEmpty()) {\n        return null;\n    }\n    \n    // Are the brackets proper in the expression?\n    Map&lt;Character, Character&gt; openClosePair = new HashMap&lt;&gt;();\n    openClosePair.put(')', '(');\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    for (char ch : expressionString.toCharArray()) {\n        if (openClosePair.containsKey(ch)) {\n            if (stack.isEmpty() || !Objects.equals(stack.pop(), openClosePair.get(ch))) {\n                break;\n            }\n        }\n        else if (openClosePair.values().contains(ch)) {\n            stack.push(ch);\n        }\n    }\n    if (!stack.isEmpty()) {\n        System.err.println(&quot;Invalid Expression! [&quot; + expressionString + &quot;] -  Parentheses Mismatch!&quot;);\n        return null;\n    }\n    \n    /* Parentheses are valid so now remove them to validate \n       the data within the parentheses.    */\n    expressionString = expressionString.replaceAll(&quot;[\\\\(\\\\)]&quot;, &quot;&quot;);\n    \n    /* Is &amp;, !, or | within the expression? If so, is it proper?\n       If there are consecutive `same` operators (ie: &quot;&amp;&amp;&amp;&quot;) then\n       convert them to a single operator (ie: &quot;&amp;&quot;).        */\n    expressionString = expressionString.replaceAll(&quot;[&amp;]{2,}&quot;, &quot;&amp;&quot;)\n            .replaceAll(&quot;[|]{2,}&quot;, &quot;|&quot;). replaceAll(&quot;[!]{2,}&quot;, &quot;!&quot;);\n    \n    // Add whatever you feel would be invalid...\n    String[] invalidOperators = {&quot;&amp;|&quot;, &quot;|&amp;&quot;, &quot;!|&quot;, &quot;!&amp;&quot;, &quot;!&amp;|&quot;, &quot;!|&amp;&quot;, \n                                 &quot;&amp;!|&quot;, &quot;&amp;|!&quot;, &quot;|!&amp;&quot;, &quot;|&amp;!&quot;};\n    // Make sure of valid operator use.\n    for (String op : invalidOperators) {\n        if (expressionString.contains(op)) {\n            System.err.println(&quot;Invalid Logical Operator Configuruation [&quot; + \n                               op + &quot;] Within Expression!&quot;);\n            return null;\n        }\n    }\n    \n    /* Split the expression on delimiters '&amp;' or '|' but \n       also add the delimiter to the generated array: */\n    String regEx = &quot;((?&lt;=\\\\Q&amp;\\\\E)|(?=\\\\Q&amp;\\\\E))|&quot;\n                 + &quot;((?&lt;=\\\\Q|\\\\E)|(?=\\\\Q|\\\\E))&quot;;\n    String[] expParts = expressionString.split(regEx);\n    String exp;\n    for (int i = 0; i &lt; expParts.length; i++) {\n        exp = expParts[i].trim();  // Remove leading/trailing whitespaces.\n        // Is the element a non-numerical value?\n        if (!exp.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;) &amp;&amp; !exp.matches(&quot;[!\\\\|&amp;]&quot;)) {\n            // This element must be alpha or alphanumeric. \n            /* Is there a whitespace in it? If so, is it wrapped in quote marks? \n               If not then this is invalid.                */\n            if (exp.contains(&quot; &quot;) &amp;&amp; ((!exp.startsWith(&quot;!\\&quot;&quot;) || !exp.startsWith(&quot;\\&quot;&quot;)) &amp;&amp; !exp.endsWith(&quot;\\&quot;&quot;))) {\n                System.err.println(&quot;Invalid String [&quot; + exp + &quot;] Within Expression!&quot; \n                        + System.lineSeparator() + &quot;Because this portion of the expression &quot;\n                        + &quot;contains at least one whitespace,&quot; + System.lineSeparator() \n                        + &quot;it should be wrapped within quotation marks excluding any Logical Operator&quot; \n                        + System.lineSeparator() + &quot;located at the beginning.&quot;);\n                return null;\n            }\n        }\n        /* Does the expression start with or end with a Logical Operator '&amp;' or '|'? \n           This is considered invalid.            */\n        if ((i == 0 || i == expParts.length - 1) &amp;&amp; (exp.equals(&quot;&amp;&quot;) || exp.equals(&quot;|&quot;))) {\n            System.err.println(&quot;Invalid Logical Operator Location! [&quot; + expressionString + &quot;]&quot;\n                        + System.lineSeparator() + &quot;The expression can not start with or end &quot;\n                        + &quot;with a '&amp;' or '|' operator!&quot;);\n            return null;        \n        }\n        \n        // Add the expresion component to the List\n        expressionList.add(exp);\n    }\n    \n    // Convert the List to a String[] Array and return.\n    return expressionList.toArray(new String[expressionList.size()]);\n}\n</code></pre>\n<p>How you might use the above method would be something like this:</p>\n<pre><code>String expression = &quot;(footballer football !| basket)(&quot;;\n    \nString[] expressionParts = isExpressionValid(expression);\n\nif (expressionParts != null) {\n    // Display the components of the supplied expression:\n    System.out.println(Arrays.toString(expressionParts));\n}\n</code></pre>\n"}],"owner":{"account_id":26768129,"reputation":3,"user_id":20364956,"display_name":"Yisus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74248851,"answer_count":1,"score":-3,"last_activity_date":1667077776,"creation_date":1667040826,"question_id":74244690,"body_markdown":"I&#39;ve been fighting with this problem and haven&#39;t found a solution. I have to validate the syntax of a boolean string expression so I can use it to find words or sentences in a document. For example, (footballer football !| basket)( should be incorrect because footballer and football are separated and should be between &quot;&quot; , and also because of the incorrect parenthesis and the ! |that makes no sense. But (&quot;footballer football&quot; | ! basket) should be correct. It is a simple bool expression so I can use &amp;,!, |, ()... \r\nAny idea? \r\n\r\nI&#39;ve tried to iterate over the string trying to validate every single character but I can&#39;t get to the final solution. ","title":"How can I validate a boolean string input in java","body":"<p>I've been fighting with this problem and haven't found a solution. I have to validate the syntax of a boolean string expression so I can use it to find words or sentences in a document. For example, (footballer football !| basket)( should be incorrect because footballer and football are separated and should be between &quot;&quot; , and also because of the incorrect parenthesis and the ! |that makes no sense. But (&quot;footballer football&quot; | ! basket) should be correct. It is a simple bool expression so I can use &amp;,!, |, ()...\nAny idea?</p>\n<p>I've tried to iterate over the string trying to validate every single character but I can't get to the final solution.</p>\n"},{"tags":["java","android","inflate-exception"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667070821,"post_id":74248115,"comment_id":131085665,"body_markdown":"Could you edit your question and post the entire stack trace?","body":"Could you edit your question and post the entire stack trace?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667071661,"post_id":74248115,"comment_id":131085826,"body_markdown":"Are you sure that this is the XML element that is triggering the problem? The error seems to be complaining about a string resource, but this element does not use one.","body":"Are you sure that this is the XML element that is triggering the problem? The error seems to be complaining about a string resource, but this element does not use one."},{"owner":{"account_id":23985355,"reputation":21,"user_id":17972234,"display_name":"Ralph Botes"},"score":0,"creation_date":1667077302,"post_id":74248115,"comment_id":131086762,"body_markdown":"Yes, this occurs in both my RegisterActivity and in my LoginActivity.","body":"Yes, this occurs in both my RegisterActivity and in my LoginActivity."}],"answers":[{"tags":[],"owner":{"account_id":23985355,"reputation":21,"user_id":17972234,"display_name":"Ralph Botes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667077473,"creation_date":1667077473,"answer_id":74248823,"question_id":74248115,"body_markdown":"@CommonsWare, this ***&quot;The error seems to be complaining about a string resource&quot;*** actually gave me an idea. I changed my TextViews and Buttons to use strings from the strings file rather than adding them directly. \r\n\r\nandroid:text=&quot;Login&quot;\r\n**TO:**\r\nandroid:text=&quot;@string/login&quot;\r\n\r\nProblem solved!! \r\nThanks for pointing String resource out:)","title":"Error inflating Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView","body":"<p>@CommonsWare, this <em><strong>&quot;The error seems to be complaining about a string resource&quot;</strong></em> actually gave me an idea. I changed my TextViews and Buttons to use strings from the strings file rather than adding them directly.</p>\n<p>android:text=&quot;Login&quot;\n<strong>TO:</strong>\nandroid:text=&quot;@string/login&quot;</p>\n<p>Problem solved!!\nThanks for pointing String resource out:)</p>\n"}],"owner":{"account_id":23985355,"reputation":21,"user_id":17972234,"display_name":"Ralph Botes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667077473,"creation_date":1667070735,"question_id":74248115,"body_markdown":"Running app on Android version 7.1.1 device. Was working perfectly then suddenly I got this inflation exception error.\r\n\r\n**XML file:**\r\n```\r\n&lt;com.google.android.material.textview.MaterialTextView\r\n    android:id=&quot;@+id/titleLogin&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:fontFamily=&quot;sans-serif&quot;\r\n    android:paddingStart=&quot;20dp&quot;\r\n    android:paddingTop=&quot;20dp&quot;\r\n    android:paddingBottom=&quot;10dp&quot;\r\n    android:text=&quot;Login&quot;\r\n    android:textColor=&quot;@color/black&quot;\r\n    android:textSize=&quot;34sp&quot;\r\n    android:textStyle=&quot;bold&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    app:layout_constraintVertical_bias=&quot;0&quot;\r\n    app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\r\n```\r\n\r\n**Logcat:**\r\n\r\n```\r\nCaused by: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n     Caused by: android.view.InflateException: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n```\r\n\r\n\r\n\r\nI tried changing MaterialTextView to TextView, did not work.\r\n\r\nAs I don&#39;t have any drawable or layouts imported I don&#39;t know why the problem is there. As I said, was working fine one moment and crashed the next. \r\n\r\nDoes the same with a button as well...\r\n\r\n**Stack trace:**\r\n\r\n```\r\n2022-10-29 21:16:00.512 12386-12386/com.poweredbyralph.southernlines E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.poweredbyralph.southernlines, PID: 12386\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.poweredbyralph.southernlines/com.poweredbyralph.southernlines.LoginActivity}: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2798)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2863)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:203)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6410)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1084)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:945)\r\n     Caused by: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n     Caused by: android.view.InflateException: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at com.poweredbyralph.southernlines.LoginActivity.onCreate(LoginActivity.java:39)\r\n        at android.app.Activity.performCreate(Activity.java:6681)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2751)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2863)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:203)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6410)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1084)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:945)\r\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=56; index=930\r\n        at android.content.res.StringBlock.get(StringBlock.java:65)\r\n        at android.content.res.XmlBlock$Parser.getPooledString(XmlBlock.java:458)\r\n        at android.content.res.TypedArray.loadStringValueAt(TypedArray.java:1218)\r\n        at android.content.res.TypedArray.getText(TypedArray.java:168)\r\n        at android.widget.TextView.&lt;init&gt;(TextView.java:1028)\r\n2022-10-29 21:16:00.512 12386-12386/com.poweredbyralph.southernlines E/AndroidRuntime:     at android.widget.TextView.&lt;init&gt;(TextView.java:731)\r\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:108)\r\n        at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:88)\r\n        at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:83)\r\n        \t... 31 more\r\n```","title":"Error inflating Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView","body":"<p>Running app on Android version 7.1.1 device. Was working perfectly then suddenly I got this inflation exception error.</p>\n<p><strong>XML file:</strong></p>\n<pre><code>&lt;com.google.android.material.textview.MaterialTextView\n    android:id=&quot;@+id/titleLogin&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:fontFamily=&quot;sans-serif&quot;\n    android:paddingStart=&quot;20dp&quot;\n    android:paddingTop=&quot;20dp&quot;\n    android:paddingBottom=&quot;10dp&quot;\n    android:text=&quot;Login&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:textSize=&quot;34sp&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0&quot;\n    app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\n</code></pre>\n<p><strong>Logcat:</strong></p>\n<pre><code>Caused by: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n     Caused by: android.view.InflateException: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n     Caused by: java.lang.reflect.InvocationTargetException\n</code></pre>\n<p>I tried changing MaterialTextView to TextView, did not work.</p>\n<p>As I don't have any drawable or layouts imported I don't know why the problem is there. As I said, was working fine one moment and crashed the next.</p>\n<p>Does the same with a button as well...</p>\n<p><strong>Stack trace:</strong></p>\n<pre><code>2022-10-29 21:16:00.512 12386-12386/com.poweredbyralph.southernlines E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.poweredbyralph.southernlines, PID: 12386\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.poweredbyralph.southernlines/com.poweredbyralph.southernlines.LoginActivity}: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2798)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2863)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:203)\n        at android.app.ActivityThread.main(ActivityThread.java:6410)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1084)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:945)\n     Caused by: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n     Caused by: android.view.InflateException: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.poweredbyralph.southernlines.LoginActivity.onCreate(LoginActivity.java:39)\n        at android.app.Activity.performCreate(Activity.java:6681)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2751)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2863)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:203)\n        at android.app.ActivityThread.main(ActivityThread.java:6410)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1084)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:945)\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=56; index=930\n        at android.content.res.StringBlock.get(StringBlock.java:65)\n        at android.content.res.XmlBlock$Parser.getPooledString(XmlBlock.java:458)\n        at android.content.res.TypedArray.loadStringValueAt(TypedArray.java:1218)\n        at android.content.res.TypedArray.getText(TypedArray.java:168)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:1028)\n2022-10-29 21:16:00.512 12386-12386/com.poweredbyralph.southernlines E/AndroidRuntime:     at android.widget.TextView.&lt;init&gt;(TextView.java:731)\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:108)\n        at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:88)\n        at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:83)\n            ... 31 more\n</code></pre>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1430949366,"post_id":30088245,"comment_id":48289731,"body_markdown":"Have you read [Finding Files](https://docs.oracle.com/javase/tutorial/essential/io/find.html)?","body":"Have you read <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/find.html\" rel=\"nofollow noreferrer\">Finding Files</a>?"},{"owner":{"account_id":3939215,"reputation":9245,"user_id":3254377,"display_name":"wsl"},"score":0,"creation_date":1430949413,"post_id":30088245,"comment_id":48289756,"body_markdown":"See http://stackoverflow.com/questions/20443793/allow-wildcards-to-search-for-subdirectories-from-a-parent-directory. It should help you in constructing right code for that.","body":"See <a href=\"http://stackoverflow.com/questions/20443793/allow-wildcards-to-search-for-subdirectories-from-a-parent-directory\" title=\"allow wildcards to search for subdirectories from a parent directory\">stackoverflow.com/questions/20443793/&hellip;</a>. It should help you in constructing right code for that."}],"answers":[{"tags":[],"owner":{"account_id":49618,"reputation":2174,"user_id":147808,"accept_rate":100,"display_name":"olovb"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1430957401,"creation_date":1430952751,"answer_id":30089043,"question_id":30088245,"body_markdown":"You could use a [directory stream](http://docs.oracle.com/javase/7/docs/api/java/nio/file/DirectoryStream.html) with a [glob](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#newDirectoryStream%28java.nio.file.Path,%20java.lang.String%29) like:\r\n\r\n    DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir, identifier+&quot;.*&quot;)\r\n\r\nand then iterate the file paths:\r\n\r\n    for (Path entry: stream) {\r\n    }","title":"Java 7 nio list directory with wildcard","body":"<p>You could use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/DirectoryStream.html\" rel=\"noreferrer\">directory stream</a> with a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#newDirectoryStream%28java.nio.file.Path,%20java.lang.String%29\" rel=\"noreferrer\">glob</a> like:</p>\n\n<pre><code>DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir, identifier+\".*\")\n</code></pre>\n\n<p>and then iterate the file paths:</p>\n\n<pre><code>for (Path entry: stream) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1431033324,"creation_date":1430954324,"answer_id":30089290,"question_id":30088245,"body_markdown":"You can pass a glob to a DirectoryStream\r\n\r\n    import java.nio.file.DirectoryStream;\r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    ...\r\n        \r\n    Path dir = FileSystems.getDefault().getPath( filePath );\r\n    DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream( dir, &quot;*.{txt,doc,pdf,ppt}&quot; );\r\n    for (Path path : stream) {\r\n        System.out.println( path.getFileName() );\r\n    }\r\n    stream.close();","title":"Java 7 nio list directory with wildcard","body":"<p>You can pass a glob to a DirectoryStream</p>\n\n<pre><code>import java.nio.file.DirectoryStream;\nimport java.nio.file.FileSystems;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n...\n\nPath dir = FileSystems.getDefault().getPath( filePath );\nDirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream( dir, \"*.{txt,doc,pdf,ppt}\" );\nfor (Path path : stream) {\n    System.out.println( path.getFileName() );\n}\nstream.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653039,"reputation":599,"user_id":7775861,"accept_rate":50,"display_name":"Kyle Berezin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667077250,"creation_date":1667077250,"answer_id":74248801,"question_id":30088245,"body_markdown":"This question was specifically for Java 7, but it also comes up as the first result for this question in general. With Java 8 and higher the way to do this wit NIO is to use `Files.find` with a `BiPredicate&lt;T, U&gt;`.\r\n\r\n    Stream&lt;Path&gt; stream = Files.find(\r\n            Paths.get(&quot;/dirToSearch&quot;),\r\n            1, // Search depth of 1 in our case, set to &gt;1 or -1 to explore subfolders\r\n            (path, basicFileAttributes) -&gt; {\r\n                String filename = path.getFileName().toString();\r\n                return filename.startsWith(&quot;identifier&quot;);\r\n            }\r\n    );\r\n    // The stream is lazily populated\r\n    Path firstMatch = stream.findFirst().get();","title":"Java 7 nio list directory with wildcard","body":"<p>This question was specifically for Java 7, but it also comes up as the first result for this question in general. With Java 8 and higher the way to do this wit NIO is to use <code>Files.find</code> with a <code>BiPredicate&lt;T, U&gt;</code>.</p>\n<pre><code>Stream&lt;Path&gt; stream = Files.find(\n        Paths.get(&quot;/dirToSearch&quot;),\n        1, // Search depth of 1 in our case, set to &gt;1 or -1 to explore subfolders\n        (path, basicFileAttributes) -&gt; {\n            String filename = path.getFileName().toString();\n            return filename.startsWith(&quot;identifier&quot;);\n        }\n);\n// The stream is lazily populated\nPath firstMatch = stream.findFirst().get();\n</code></pre>\n"}],"owner":{"account_id":1312755,"reputation":1752,"user_id":1260393,"accept_rate":93,"display_name":"Jabda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14997,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":30089290,"answer_count":3,"score":17,"last_activity_date":1667077250,"creation_date":1430948971,"question_id":30088245,"body_markdown":"I&#39;d like to find a file in a directory using wildcard. I have this in Java 6 but want to convert the code to Java 7 NIO:\r\n\r\n     File dir = new File(mydir); \r\n     FileFilter fileFilter = new WildcardFileFilter(identifier+&quot;.*&quot;);\r\n\t File[] files = dir.listFiles(fileFilter);\r\n\r\nThere is no `WildcardFileFilter`, and I&#39;ve played around a bit with globs.","title":"Java 7 nio list directory with wildcard","body":"<p>I'd like to find a file in a directory using wildcard. I have this in Java 6 but want to convert the code to Java 7 NIO:</p>\n\n<pre><code> File dir = new File(mydir); \n FileFilter fileFilter = new WildcardFileFilter(identifier+\".*\");\n File[] files = dir.listFiles(fileFilter);\n</code></pre>\n\n<p>There is no <code>WildcardFileFilter</code>, and I've played around a bit with globs.</p>\n"},{"tags":["java","xml","android-layout","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667075573,"creation_date":1667075573,"answer_id":74248622,"question_id":74247965,"body_markdown":"Error says you do not have view for your fragment, check your layout files, for each fragment you need to have one layout, if not transaction can not send you there. After all layouts in place, follow the docs [link](https://developer.android.com/guide/fragments/transactions#java) like so:\r\n```\r\nFragmentManager fragmentManager = getChildFragmentManager();\r\nFragmentTransaction transaction = fragmentManager.beginTransaction();\r\ntransaction.setReorderingAllowed(true);\r\n\r\ntransaction.replace(R.id.parent_fragment, CalculatorResultsFragment.class, null);\r\n\r\ntransaction.commit();\r\n```","title":"Trying to move from one fragment to another with a button","body":"<p>Error says you do not have view for your fragment, check your layout files, for each fragment you need to have one layout, if not transaction can not send you there. After all layouts in place, follow the docs <a href=\"https://developer.android.com/guide/fragments/transactions#java\" rel=\"nofollow noreferrer\">link</a> like so:</p>\n<pre><code>FragmentManager fragmentManager = getChildFragmentManager();\nFragmentTransaction transaction = fragmentManager.beginTransaction();\ntransaction.setReorderingAllowed(true);\n\ntransaction.replace(R.id.parent_fragment, CalculatorResultsFragment.class, null);\n\ntransaction.commit();\n</code></pre>\n"}],"owner":{"account_id":25892500,"reputation":11,"user_id":19619677,"display_name":"Nathan Schroeder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667075573,"creation_date":1667069540,"question_id":74247965,"body_markdown":"So my goal is to swap from my CalculatorFragment to my CalculatorResultsFragment using a parent FrameLayout through a a button. I&#39;m getting the error:\r\n\r\n```\r\n    java.lang.IllegalArgumentException: No view found for id 0x7f08020f (com.example.flexplan:id/parent_fragment) for fragment CalculatorResultsFragment{1046933} (71b49e01-2328-4454-870b-5acb04ccc3d0 id=0x7f08020f)\r\n\r\n```\r\n\r\n**fragment_calculator_fragment.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.Calculator.CalculatorParentFragment&quot;&gt;\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/parent_fragment&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n**CalculatorParentFragment.java**\r\n```\r\nFragmentManager manager = getChildFragmentManager();\r\nFragmentTransaction transaction = manager.beginTransaction();\r\ntransaction.add(R.id.parent_fragment, new CalculatorFragment());\r\ntransaction.commit();\r\n```\r\n\r\n\r\n**CalculatorFragment.java**\r\n\r\n```\r\nsubmitButton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        FragmentManager manager = getChildFragmentManager();\r\n        FragmentTransaction transaction = manager.beginTransaction();\r\n        transaction.replace(R.id.parent_fragment, new CalculatorResultsFragment());\r\n        transaction.commit();\r\n    }\r\n});\r\n```\r\n\r\n\r\n\r\nAnyone know how I can fix this?","title":"Trying to move from one fragment to another with a button","body":"<p>So my goal is to swap from my CalculatorFragment to my CalculatorResultsFragment using a parent FrameLayout through a a button. I'm getting the error:</p>\n<pre><code>    java.lang.IllegalArgumentException: No view found for id 0x7f08020f (com.example.flexplan:id/parent_fragment) for fragment CalculatorResultsFragment{1046933} (71b49e01-2328-4454-870b-5acb04ccc3d0 id=0x7f08020f)\n\n</code></pre>\n<p><strong>fragment_calculator_fragment.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.Calculator.CalculatorParentFragment&quot;&gt;\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/parent_fragment&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>CalculatorParentFragment.java</strong></p>\n<pre><code>FragmentManager manager = getChildFragmentManager();\nFragmentTransaction transaction = manager.beginTransaction();\ntransaction.add(R.id.parent_fragment, new CalculatorFragment());\ntransaction.commit();\n</code></pre>\n<p><strong>CalculatorFragment.java</strong></p>\n<pre><code>submitButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        FragmentManager manager = getChildFragmentManager();\n        FragmentTransaction transaction = manager.beginTransaction();\n        transaction.replace(R.id.parent_fragment, new CalculatorResultsFragment());\n        transaction.commit();\n    }\n});\n</code></pre>\n<p>Anyone know how I can fix this?</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639654673,"creation_date":1639649658,"answer_id":70377230,"question_id":70376811,"body_markdown":"You can use **$** and **@** wildcards for **code** and **value**, respectively while combining the elements under common factor by using **&amp;.** as prefixes for them in the first step. Then combine elements other than **ID** and **age** within the same array in the last step such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;userId&quot;: &quot;ID&quot;,\r\n      &quot;age&quot;: &quot;age&quot;,\r\n      &quot;*&quot;: {\r\n        &quot;$&quot;: &quot;&amp;.code&quot;,\r\n        &quot;@&quot;: &quot;&amp;.value&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;ID&quot;: &quot;&amp;&quot;,\r\n      &quot;age&quot;: &quot;&amp;&quot;,\r\n      &quot;*&quot;: &quot;additionalInformation[]&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1TQZn.jpg\r\n\r\n**Edit**(*due to the comment*) : If you need to pick some individual elements such as **desc1** and **desc3** rather than all(**&quot;*&quot;**), then replace the first spec with following \r\n```json\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;userId&quot;: &quot;ID&quot;,\r\n      &quot;age&quot;: &quot;age&quot;,\r\n      &quot;desc1|desc3&quot;: {\r\n        &quot;$&quot;: &quot;&amp;.code&quot;,\r\n        &quot;@&quot;: &quot;&amp;.value&quot;\r\n      }\r\n    }\r\n  }\r\n```","title":"Jolt transform several object to array with new field name","body":"<p>You can use <strong>$</strong> and <strong>@</strong> wildcards for <strong>code</strong> and <strong>value</strong>, respectively while combining the elements under common factor by using <strong>&amp;.</strong> as prefixes for them in the first step. Then combine elements other than <strong>ID</strong> and <strong>age</strong> within the same array in the last step such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;userId&quot;: &quot;ID&quot;,\n      &quot;age&quot;: &quot;age&quot;,\n      &quot;*&quot;: {\n        &quot;$&quot;: &quot;&amp;.code&quot;,\n        &quot;@&quot;: &quot;&amp;.value&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;ID&quot;: &quot;&amp;&quot;,\n      &quot;age&quot;: &quot;&amp;&quot;,\n      &quot;*&quot;: &quot;additionalInformation[]&quot;\n    }\n  }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1TQZn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1TQZn.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit</strong>(<em>due to the comment</em>) : If you need to pick some individual elements such as <strong>desc1</strong> and <strong>desc3</strong> rather than all(<strong>&quot;*&quot;</strong>), then replace the first spec with following</p>\n<pre class=\"lang-json prettyprint-override\"><code>  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;userId&quot;: &quot;ID&quot;,\n      &quot;age&quot;: &quot;age&quot;,\n      &quot;desc1|desc3&quot;: {\n        &quot;$&quot;: &quot;&amp;.code&quot;,\n        &quot;@&quot;: &quot;&amp;.value&quot;\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":7556417,"reputation":83,"user_id":5735858,"display_name":"Yawyaw1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70377230,"answer_count":1,"score":1,"last_activity_date":1667075270,"creation_date":1639647665,"question_id":70376811,"body_markdown":"I&#39;am new using jolt tool and i wonder if there a way to take several json objects and put them to an array with a new field named as follows:\r\n\r\n***Input*** :\r\n```json\r\n{\r\n  &quot;userId&quot;: 1,\r\n  &quot;age&quot;: 20,\r\n  &quot;desc1&quot;: &quot;value desc1&quot;,\r\n  &quot;desc2&quot;: &quot;value desc2&quot;,\r\n  &quot;desc3&quot;: &quot;value desc3&quot;\r\n}\r\n```\r\n***JSON spec*** :\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;userId&quot;: &quot;ID&quot;,\r\n      &quot;age&quot;: &quot;age&quot;,\r\n      &quot;*&quot;: &quot;additionalInformation&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n***Expected result*** :\r\n```json\r\n{\r\n  &quot;ID&quot;: 1,\r\n  &quot;age&quot;: 20,\r\n  &quot;additionalInformation&quot;: [\r\n    {\r\n      &quot;code&quot;: &quot;desc1&quot;,\r\n      &quot;value&quot;: &quot;value desc1&quot;\r\n    },\r\n    {\r\n      &quot;code&quot;: &quot;desc2&quot;,\r\n      &quot;value&quot;: &quot;value desc2&quot;\r\n    },\r\n    {\r\n      &quot;code&quot;: &quot;desc3&quot;,\r\n      &quot;value&quot;: &quot;value desc3&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nUsing the spec above i can only obtain ***this result*** :\r\n```json\r\n{\r\n  &quot;ID&quot;: 1,\r\n  &quot;test&quot;: 20,\r\n  &quot;additionalInformation&quot;: [\r\n    &quot;value desc1&quot;,\r\n    &quot;value desc2&quot;,\r\n    &quot;value desc3&quot;\r\n  ]\r\n}\r\n```  \r\n\r\n  Any suggestion what i have missed ?\r\n\r\n\r\n\r\n","title":"Jolt transform several object to array with new field name","body":"<p>I'am new using jolt tool and i wonder if there a way to take several json objects and put them to an array with a new field named as follows:</p>\n<p><em><strong>Input</strong></em> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;userId&quot;: 1,\n  &quot;age&quot;: 20,\n  &quot;desc1&quot;: &quot;value desc1&quot;,\n  &quot;desc2&quot;: &quot;value desc2&quot;,\n  &quot;desc3&quot;: &quot;value desc3&quot;\n}\n</code></pre>\n<p><em><strong>JSON spec</strong></em> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;userId&quot;: &quot;ID&quot;,\n      &quot;age&quot;: &quot;age&quot;,\n      &quot;*&quot;: &quot;additionalInformation&quot;\n    }\n  }\n]\n</code></pre>\n<p><em><strong>Expected result</strong></em> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ID&quot;: 1,\n  &quot;age&quot;: 20,\n  &quot;additionalInformation&quot;: [\n    {\n      &quot;code&quot;: &quot;desc1&quot;,\n      &quot;value&quot;: &quot;value desc1&quot;\n    },\n    {\n      &quot;code&quot;: &quot;desc2&quot;,\n      &quot;value&quot;: &quot;value desc2&quot;\n    },\n    {\n      &quot;code&quot;: &quot;desc3&quot;,\n      &quot;value&quot;: &quot;value desc3&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Using the spec above i can only obtain <em><strong>this result</strong></em> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ID&quot;: 1,\n  &quot;test&quot;: 20,\n  &quot;additionalInformation&quot;: [\n    &quot;value desc1&quot;,\n    &quot;value desc2&quot;,\n    &quot;value desc3&quot;\n  ]\n}\n</code></pre>\n<p>Any suggestion what i have missed ?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662295550,"creation_date":1662287660,"answer_id":73598660,"question_id":73597454,"body_markdown":"Typos alert!\r\n\r\nBelow are the correct ones. Please fix them.\r\n\r\n`hbm2ddl`\r\n\r\n`driver_class`\r\n\r\n`hibernate.dialect`\r\n\r\n`hibernate.show_sql`","title":"How to find this error in Hibernate 5.6.4 with MySQL 8.0.29","body":"<p>Typos alert!</p>\n<p>Below are the correct ones. Please fix them.</p>\n<p><code>hbm2ddl</code></p>\n<p><code>driver_class</code></p>\n<p><code>hibernate.dialect</code></p>\n<p><code>hibernate.show_sql</code></p>\n"}],"owner":{"account_id":26239883,"reputation":1,"user_id":19914355,"display_name":"Suryamani Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667074537,"creation_date":1662275403,"question_id":73597454,"body_markdown":"***Error***\r\n\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n        \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n        \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n        \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n        \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1406)\r\n        \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493)\r\n        \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285)\r\n        \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420)\r\n        \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n        \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n        \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n        \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n        \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n        \tat com.tapacad.application.Program2.main(Program2.java:34)\r\n        Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n        \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n        \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n        \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n        \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n        \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n        \tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375)\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908)\r\n        \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\r\n        \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n        \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n        \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n        \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n        \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n        \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n        \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n        \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402)\r\n        \t... 9 more\r\n        Caused by: java.sql.SQLSyntaxErrorException: Table &#39;hibernatedb.student&#39; doesn&#39;t exist\r\n        \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n        \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n        \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n        \t... 21 more\r\n\r\n***Student.java***\r\n\r\n    package com.tapacad.model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n    \t\r\n    \t// Attributes\r\n    \t@Id\r\n    \t@Column(name = &quot;roll&quot;)\r\n    \tprivate int roll;\r\n    \t\r\n    \t@Column(name = &quot;name&quot;)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Column(name = &quot;email&quot;)\r\n    \tprivate String email;\r\n    \t\r\n    \t@Column(name = &quot;marks&quot;)\r\n    \tprivate int marks;\r\n    \t\r\n    \t// Constructor\r\n    \tpublic Student() {\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic Student(int roll, String name, String email, int marks) {\r\n    \t\tsuper();\r\n    \t\tthis.roll = roll;\r\n    \t\tthis.name = name;\r\n    \t\tthis.email = email;\r\n    \t\tthis.marks = marks;\r\n    \t}\r\n    \r\n    \t// Setters and Getters\r\n    \t\r\n    \tpublic int getRoll() {\r\n    \t\treturn roll;\r\n    \t}\r\n    \r\n    \tpublic void setRoll(int roll) {\r\n    \t\tthis.roll = roll;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \t\r\n    \tpublic int getMarks() {\r\n    \t\treturn marks;\r\n    \t}\r\n    \r\n    \tpublic void setMarks(int marks) {\r\n    \t\tthis.marks = marks;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n***Program2.java***\r\n\r\n    package com.tapacad.application;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    import com.tapacad.model.Student;\r\n    \r\n    public class Program2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSession session = null;\r\n    \t\tSessionFactory sessionFactory = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tConfiguration config = new Configuration();\r\n    \t\t\tconfig.configure();\r\n    \t\t\tconfig.addAnnotatedClass(Student.class);\r\n    \t\t\t\r\n    \t\t\tsessionFactory = config.buildSessionFactory();\r\n    \t\t\tsession = sessionFactory.openSession();\r\n    \t\t\t\r\n    \t\t\t// Create Transaction\r\n    \t\t\tTransaction transaction = session.beginTransaction();\r\n    \t\t\t\r\n    \t\t\t// CRUD Operation\r\n    \t\t\tStudent s = new Student(1,&quot;Alex&quot;,&quot;alex@gmail.com&quot;,97);\r\n    \t\t\tsession.save(s);\r\n    \t\t\t\r\n    \t\t\ttransaction.commit();\r\n    \t\t}\r\n    \t\tfinally{\r\n    \t\t\tsession.close();\r\n    \t\t\tsessionFactory.close();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n***hibernate.cfg.xml***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n        \r\n        \r\n        \r\n        &lt;hibernate-configuration&gt;\r\n        \t&lt;session-factory&gt;\r\n        \t\t&lt;property name = &quot;hibernate.connection.driver.class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernatedb&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;hibernate.connection.password&quot;&gt;mysql@123&lt;/property&gt;\r\n        \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;hibernate.hbm2dll.auto&quot;&gt;update&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;show_sql&quot;&gt;update&lt;/property&gt;\r\n        \t\r\n        \t&lt;/session-factory&gt;\r\n        \t\r\n        \t\r\n        &lt;/hibernate-configuration&gt;\r\n\r\n","title":"How to find this error in Hibernate 5.6.4 with MySQL 8.0.29","body":"<p><em><strong>Error</strong></em></p>\n<pre><code>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute statement\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1406)\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493)\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285)\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420)\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n        at com.tapacad.application.Program2.main(Program2.java:34)\n    Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n        at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908)\n        at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n        at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n        at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n        at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402)\n        ... 9 more\n    Caused by: java.sql.SQLSyntaxErrorException: Table 'hibernatedb.student' doesn't exist\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n        ... 21 more\n</code></pre>\n<p><em><strong>Student.java</strong></em></p>\n<pre><code>package com.tapacad.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n    \n    // Attributes\n    @Id\n    @Column(name = &quot;roll&quot;)\n    private int roll;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n    \n    @Column(name = &quot;marks&quot;)\n    private int marks;\n    \n    // Constructor\n    public Student() {\n        \n    }\n\n    public Student(int roll, String name, String email, int marks) {\n        super();\n        this.roll = roll;\n        this.name = name;\n        this.email = email;\n        this.marks = marks;\n    }\n\n    // Setters and Getters\n    \n    public int getRoll() {\n        return roll;\n    }\n\n    public void setRoll(int roll) {\n        this.roll = roll;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    \n    public int getMarks() {\n        return marks;\n    }\n\n    public void setMarks(int marks) {\n        this.marks = marks;\n    }\n    \n}\n</code></pre>\n<p><em><strong>Program2.java</strong></em></p>\n<pre><code>package com.tapacad.application;\n\nimport java.io.Serializable;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\nimport com.tapacad.model.Student;\n\npublic class Program2 {\n\n    public static void main(String[] args) {\n        \n        Session session = null;\n        SessionFactory sessionFactory = null;\n        \n        try {\n            Configuration config = new Configuration();\n            config.configure();\n            config.addAnnotatedClass(Student.class);\n            \n            sessionFactory = config.buildSessionFactory();\n            session = sessionFactory.openSession();\n            \n            // Create Transaction\n            Transaction transaction = session.beginTransaction();\n            \n            // CRUD Operation\n            Student s = new Student(1,&quot;Alex&quot;,&quot;alex@gmail.com&quot;,97);\n            session.save(s);\n            \n            transaction.commit();\n        }\n        finally{\n            session.close();\n            sessionFactory.close();\n        }\n        \n    }\n\n}\n</code></pre>\n<p><em><strong>hibernate.cfg.xml</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n    \n    \n    \n    &lt;hibernate-configuration&gt;\n        &lt;session-factory&gt;\n            &lt;property name = &quot;hibernate.connection.driver.class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n            &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernatedb&lt;/property&gt;\n            &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n            &lt;property name = &quot;hibernate.connection.password&quot;&gt;mysql@123&lt;/property&gt;\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n            &lt;property name = &quot;hibernate.hbm2dll.auto&quot;&gt;update&lt;/property&gt;\n            &lt;property name = &quot;show_sql&quot;&gt;update&lt;/property&gt;\n        \n        &lt;/session-factory&gt;\n        \n        \n    &lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","logcat"],"answers":[{"tags":[],"owner":{"account_id":21752129,"reputation":111,"user_id":16057905,"display_name":"Byte Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667074469,"creation_date":1667074469,"answer_id":74248508,"question_id":74244352,"body_markdown":"I think your theme already has a toolbar and in your layout you are trying to use another one. So, remove the default toolbar that comes within your theme. In your themes.xml, change parent to NoActionBar like below.\r\n\r\n    &lt;style name=&quot;&lt;app theme name&gt;&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;","title":"How do figure out problem in logcat in android studio?","body":"<p>I think your theme already has a toolbar and in your layout you are trying to use another one. So, remove the default toolbar that comes within your theme. In your themes.xml, change parent to NoActionBar like below.</p>\n<pre><code>&lt;style name=&quot;&lt;app theme name&gt;&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":26581201,"reputation":17,"user_id":20205826,"display_name":"AlecW123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667074469,"creation_date":1667037705,"question_id":74244352,"body_markdown":"I have a bug problem where my app closes whenever it launches and I have read that I should look in my logcat to identify problem but I don&#39;t know how do I read the logcat and understand how to solve the problems. These are all the errors I&#39;m getting in my logcat\r\n\r\n        FATAL EXCEPTION: main\r\n                                                                                                    \r\n    \r\n    Process: com.mydomain.calculator, PID: 6294\r\n                                                                                                \r\n    \r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mydomain.calculator/com.mydomain.calculator.MainActivity}: java.lang.IllegalStateException: This Activity already has an action bar supplied by the window decor. Do not request Window.FEATURE_SUPPORT_ACTION_BAR and set windowActionBar to false in your theme to use a Toolbar instead.\r\n\r\n\r\nThis is the only androidruntime error I&#39;m getting. I&#39;m not sure how to solve it can someone help","title":"How do figure out problem in logcat in android studio?","body":"<p>I have a bug problem where my app closes whenever it launches and I have read that I should look in my logcat to identify problem but I don't know how do I read the logcat and understand how to solve the problems. These are all the errors I'm getting in my logcat</p>\n<pre><code>    FATAL EXCEPTION: main\n                                                                                                \n\nProcess: com.mydomain.calculator, PID: 6294\n                                                                                            \n\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.mydomain.calculator/com.mydomain.calculator.MainActivity}: java.lang.IllegalStateException: This Activity already has an action bar supplied by the window decor. Do not request Window.FEATURE_SUPPORT_ACTION_BAR and set windowActionBar to false in your theme to use a Toolbar instead.\n</code></pre>\n<p>This is the only androidruntime error I'm getting. I'm not sure how to solve it can someone help</p>\n"},{"tags":["java","json","tree","jolt"],"comments":[{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1667133107,"post_id":74248481,"comment_id":131093842,"body_markdown":"Hi Michal, I&#39;ve realised that the answer will be similar to the previous one, just replace the asterisks(keys) on the line 7,10,13 with `foo`es...","body":"Hi Michal, I&#39;ve realised that the answer will be similar to the previous one, just replace the asterisks(keys) on the line 7,10,13 with <code>foo</code>es..."},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":1,"creation_date":1667133138,"post_id":74248481,"comment_id":131093847,"body_markdown":"eg. you can use this : `[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;foo&quot;: &quot;@(1,id).&amp;&quot;,\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;foo&quot;: &quot;@(1,id).&amp;&quot;,\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;foo&quot;: &quot;@(1,id).&amp;&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    // get rid of object labels\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&quot;\n    }\n  }\n]\n`","body":"eg. you can use this : <code>[   {     &quot;operation&quot;: &quot;shift&quot;,     &quot;spec&quot;: {       &quot;item&quot;: {         &quot;*&quot;: {           &quot;foo&quot;: &quot;@(1,id).&amp;&quot;,           &quot;item&quot;: {             &quot;*&quot;: {               &quot;foo&quot;: &quot;@(1,id).&amp;&quot;,               &quot;item&quot;: {                 &quot;*&quot;: {                   &quot;foo&quot;: &quot;@(1,id).&amp;&quot;                 }               }             }           }         }       }     }   },   {     &#47;&#47; get rid of object labels     &quot;operation&quot;: &quot;shift&quot;,     &quot;spec&quot;: {       &quot;*&quot;: &quot;&quot;     }   } ] </code>"},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":1,"creation_date":1667144831,"post_id":74248481,"comment_id":131096247,"body_markdown":"Many many thanks!!!, I&#39;ve another little Q please: https://stackoverflow.com/questions/74254469/jolt-shift-transformation-collect-the-items-from-all-the-levels-without-knowing hope its ok...","body":"Many many thanks!!!, I&#39;ve another little Q please: <a href=\"https://stackoverflow.com/questions/74254469/jolt-shift-transformation-collect-the-items-from-all-the-levels-without-knowing\" title=\"jolt shift transformation collect the items from all the levels without knowing\">stackoverflow.com/questions/74254469/&hellip;</a> hope its ok..."},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1667203401,"post_id":74248481,"comment_id":131106370,"body_markdown":"little more issue regarding this Q plz: if I want to change the name of one property in foo object  for exa: from &quot;nn&quot; to &quot;kk&quot; how should I do it in the spec above? onle with 1 or 2 specs not more... thanks ahead!!","body":"little more issue regarding this Q plz: if I want to change the name of one property in foo object  for exa: from &quot;nn&quot; to &quot;kk&quot; how should I do it in the spec above? onle with 1 or 2 specs not more... thanks ahead!!"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1667205953,"post_id":74248481,"comment_id":131107065,"body_markdown":"Can you please edit what exactly you want on this question please ?","body":"Can you please edit what exactly you want on this question please ?"},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1667213572,"post_id":74248481,"comment_id":131109335,"body_markdown":"use the same input and the output is also the same but the property &quot;nn&quot; in the &quot;foo&quot; will be &quot;kk&quot; in the new output, should I open a new Q?","body":"use the same input and the output is also the same but the property &quot;nn&quot; in the &quot;foo&quot; will be &quot;kk&quot; in the new output, should I open a new Q?"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1667214445,"post_id":74248481,"comment_id":131109626,"body_markdown":"No, not need to opn a new question, just better to edit such details those you mentioned. I&#39;ll be looking at it when I&#39;m available.","body":"No, not need to opn a new question, just better to edit such details those you mentioned. I&#39;ll be looking at it when I&#39;m available."},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1667218006,"post_id":74248481,"comment_id":131110708,"body_markdown":"ok, I open a new one a little bit diff https://stackoverflow.com/questions/74263027/jolt-shift-transformation-collect-the-items-from-all-the-levels-and-change-the","body":"ok, I open a new one a little bit diff <a href=\"https://stackoverflow.com/questions/74263027/jolt-shift-transformation-collect-the-items-from-all-the-levels-and-change-the\" title=\"jolt shift transformation collect the items from all the levels and change the\">stackoverflow.com/questions/74263027/&hellip;</a>"}],"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667074222,"creation_date":1667074222,"question_id":74248481,"body_markdown":"I am trying to transform a JSON using Jolt transformation looking for some input here.\r\nI am trying to get the items from all the levels into an one array.\r\n**My goal is to get an array that contains a part of the items without knowing how many levels I have in the json.**\r\n\r\nHere is my input and expected output:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;1_1&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;1_1_2&quot;,\r\n          &quot;foo&quot;: [\r\n            {\r\n              &quot;nn&quot;: &quot;cc&quot;,\r\n              &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ss&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ii&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;uu&quot;,\r\n              &quot;vvv&quot;: &quot;kk&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;aaa&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ff&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ff&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;yy&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;foo&quot;: [\r\n        {\r\n          &quot;nn&quot;: &quot;cc&quot;,\r\n          &quot;vvv&quot;: &quot;ww&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ss&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ii&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;uu&quot;,\r\n          &quot;vvv&quot;: &quot;kk&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;aaa&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;bb&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;d&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;yy&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;1_2&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;1_2_1&quot;,\r\n          &quot;foo&quot;: [\r\n            {\r\n              &quot;nn&quot;: &quot;cc&quot;,\r\n              &quot;vvv&quot;: &quot;ww&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ss&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ii&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;uu&quot;,\r\n              &quot;vvv&quot;: &quot;kk&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;aaa&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;yy&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;foo&quot;: [\r\n        {\r\n          &quot;nn&quot;: &quot;cc&quot;,\r\n          &quot;vvv&quot;: &quot;ww&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ss&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ii&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;uu&quot;,\r\n          &quot;vvv&quot;: &quot;kk&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;aaa&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;bb&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;d&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;yy&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n*Expected output*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;d&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ff&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ff&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;d&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\nCan you please told me how to do it right?","title":"JOLT shift transformation: collect the items from all the levels without knowing how many levels when there are multiple properties","body":"<p>I am trying to transform a JSON using Jolt transformation looking for some input here.\nI am trying to get the items from all the levels into an one array.\n<strong>My goal is to get an array that contains a part of the items without knowing how many levels I have in the json.</strong></p>\n<p>Here is my input and expected output:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 1,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;1_1&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;1_1_2&quot;,\n          &quot;foo&quot;: [\n            {\n              &quot;nn&quot;: &quot;cc&quot;,\n              &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ss&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ii&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;uu&quot;,\n              &quot;vvv&quot;: &quot;kk&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;aaa&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ff&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ff&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;yy&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            }\n          ]\n        }\n      ],\n      &quot;foo&quot;: [\n        {\n          &quot;nn&quot;: &quot;cc&quot;,\n          &quot;vvv&quot;: &quot;ww&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ss&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ii&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;uu&quot;,\n          &quot;vvv&quot;: &quot;kk&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;aaa&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;bb&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;d&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;yy&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        }\n      ]\n    },\n    {\n      &quot;id&quot;: &quot;1_2&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;1_2_1&quot;,\n          &quot;foo&quot;: [\n            {\n              &quot;nn&quot;: &quot;cc&quot;,\n              &quot;vvv&quot;: &quot;ww&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ss&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ii&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;uu&quot;,\n              &quot;vvv&quot;: &quot;kk&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;aaa&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;yy&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            }\n          ]\n        }\n      ],\n      &quot;foo&quot;: [\n        {\n          &quot;nn&quot;: &quot;cc&quot;,\n          &quot;vvv&quot;: &quot;ww&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ss&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ii&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;uu&quot;,\n          &quot;vvv&quot;: &quot;kk&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;aaa&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;bb&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;d&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;yy&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><em>Expected output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;d&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ff&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ff&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;d&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>Can you please told me how to do it right?</p>\n"},{"tags":["java","spring","spring-mvc","resttemplate"],"comments":[{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1576842095,"post_id":29650483,"comment_id":105035429,"body_markdown":"are you using lombok?","body":"are you using lombok?"}],"answers":[{"tags":[],"owner":{"account_id":4227579,"reputation":402,"user_id":3460763,"accept_rate":56,"display_name":"chetank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667074124,"creation_date":1429101852,"answer_id":29650576,"question_id":29650483,"body_markdown":"Do you have `consumes=&quot;application/json&quot;` attribute in the `@RequestMapping`. If not please put that in the annotation and then try. Also if that doesn&#39;t work, try using `contentNegotiator`, you can google it for `contentNegotiation` for spring.","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>Do you have <code>consumes=&quot;application/json&quot;</code> attribute in the <code>@RequestMapping</code>. If not please put that in the annotation and then try. Also if that doesn't work, try using <code>contentNegotiator</code>, you can google it for <code>contentNegotiation</code> for spring.</p>\n"},{"tags":[],"owner":{"account_id":4996023,"reputation":1207,"user_id":4016595,"accept_rate":38,"display_name":"Akash Chavda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429101955,"creation_date":1429101955,"answer_id":29650609,"question_id":29650483,"body_markdown":"you can add this annotation\r\n\r\n    @RequestMapping(method = RequestMethod.PUT, consumes = MediaType.APPLICATION_JSON)\r\n\r\nor put this dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>you can add this annotation</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.PUT, consumes = MediaType.APPLICATION_JSON)\n</code></pre>\n\n<p>or put this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11048114,"reputation":140,"user_id":8113460,"display_name":"Allen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499143469,"creation_date":1499143469,"answer_id":44897204,"question_id":29650483,"body_markdown":"Firstly, Make sure that you have a correctly jackson version using:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n         &lt;version&gt;2.8.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n         &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n         &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n         &lt;version&gt;2.8.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nAs for me, when I use the version of v2.7.6 or v2.8.7. This error came to me! And I change to v2.8.0, It work well!\r\n\r\n\r\nSecondly, Make sure your controller code:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/user&quot;, produces = {MediaType.APPLICATION_JSON}, consumes = {MediaType.APPLICATION_JSON})\r\n    public class UserController extends GenericController&lt;User, String&gt; {\r\n    \r\n        @RequestMapping(method = RequestMethod.POST)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public ResponseMessage add(@RequestBody User user) {\r\n           String id = getService().insert(user);\r\n           return ResponseMessage.created(id );\r\n        }\r\n    }\r\n\r\nRequestBody:\r\n\r\n    {\r\n    \t&quot;username&quot;:&quot;123&quot;,\r\n    \t&quot;password&quot;:&quot;123&quot;,\r\n    \t&quot;name&quot;:&quot;123&quot;,\r\n    \t&quot;phone&quot;:&quot;123&quot;,\r\n    \t&quot;email&quot;:&quot;123@qq.com&quot;,\r\n    \t&quot;status&quot;:1\r\n    }\r\n\r\n\r\nPostman :\r\n\r\n[Postman Post][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TV1V9.png\r\n\r\nHope it helps you!","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>Firstly, Make sure that you have a correctly jackson version using:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n     &lt;version&gt;2.8.0&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n     &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n     &lt;version&gt;2.8.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>As for me, when I use the version of v2.7.6 or v2.8.7. This error came to me! And I change to v2.8.0, It work well!</p>\n\n<p>Secondly, Make sure your controller code:</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/user\", produces = {MediaType.APPLICATION_JSON}, consumes = {MediaType.APPLICATION_JSON})\npublic class UserController extends GenericController&lt;User, String&gt; {\n\n    @RequestMapping(method = RequestMethod.POST)\n    @ResponseStatus(HttpStatus.CREATED)\n    public ResponseMessage add(@RequestBody User user) {\n       String id = getService().insert(user);\n       return ResponseMessage.created(id );\n    }\n}\n</code></pre>\n\n<p>RequestBody:</p>\n\n<pre><code>{\n    \"username\":\"123\",\n    \"password\":\"123\",\n    \"name\":\"123\",\n    \"phone\":\"123\",\n    \"email\":\"123@qq.com\",\n    \"status\":1\n}\n</code></pre>\n\n<p>Postman :</p>\n\n<p><a href=\"https://i.stack.imgur.com/TV1V9.png\" rel=\"nofollow noreferrer\">Postman Post</a></p>\n\n<p>Hope it helps you!</p>\n"},{"tags":[],"owner":{"account_id":1374386,"reputation":3070,"user_id":1308685,"accept_rate":88,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583249352,"creation_date":1583249352,"answer_id":60510552,"question_id":29650483,"body_markdown":"I was getting this in my unit tests, even though I had all the correct annotations on the Controller methods, and I was correctly setting the Content-Type in my request.  \r\n\r\nError - \r\n`Caused by: org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json&#39; not supported`\r\n\r\nAfter debugging `AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters` , I realized there were no registered message converters that supported `application/json` . \r\n\r\n`@AutoConfigureMockMvc` doesn&#39;t register all the converters, but `@WebMvcTest` does.  \r\nI changed the test annotation, and the problem was solved. \r\n\r\nPreviously I was using -   \r\n```\r\n@SpringJUnitWebConfig\r\n@ContextConfiguration\r\n@AutoConfigureMockMvc\r\npublic class ReportControllerTests {\r\n```\r\n\r\nNow using the `@WebMvcTest` which registers the additional message converters.  \r\n```\r\n@SpringJUnitWebConfig\r\n@ContextConfiguration\r\n@WebMvcTest(controllers = ReportController.class)\r\npublic class ReportControllerTests {\r\n```","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>I was getting this in my unit tests, even though I had all the correct annotations on the Controller methods, and I was correctly setting the Content-Type in my request.  </p>\n\n<p>Error - \n<code>Caused by: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/json' not supported</code></p>\n\n<p>After debugging <code>AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters</code> , I realized there were no registered message converters that supported <code>application/json</code> . </p>\n\n<p><code>@AutoConfigureMockMvc</code> doesn't register all the converters, but <code>@WebMvcTest</code> does.<br>\nI changed the test annotation, and the problem was solved. </p>\n\n<p>Previously I was using -   </p>\n\n<pre><code>@SpringJUnitWebConfig\n@ContextConfiguration\n@AutoConfigureMockMvc\npublic class ReportControllerTests {\n</code></pre>\n\n<p>Now using the <code>@WebMvcTest</code> which registers the additional message converters.  </p>\n\n<pre><code>@SpringJUnitWebConfig\n@ContextConfiguration\n@WebMvcTest(controllers = ReportController.class)\npublic class ReportControllerTests {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603192014,"creation_date":1603192014,"answer_id":64443902,"question_id":29650483,"body_markdown":"Try it without consumer and producer options in @PutMapping.\r\n\r\n    @PutMapping(value = &quot;/lists/{ListName}/item&quot;)\r\n\r\n","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>Try it without consumer and producer options in @PutMapping.</p>\n<pre><code>@PutMapping(value = &quot;/lists/{ListName}/item&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18901230,"reputation":99,"user_id":13789176,"display_name":"copbint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621128526,"creation_date":1621128526,"answer_id":67552489,"question_id":29650483,"body_markdown":"add jackson-databind in pom.xml solved my problem:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nthere is **NO** need to add consumes:\r\n`consumes = MediaType.APPLICATION_JSON_VALUE`\r\n","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>add jackson-databind in pom.xml solved my problem:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>there is <strong>NO</strong> need to add consumes:\n<code>consumes = MediaType.APPLICATION_JSON_VALUE</code></p>\n"},{"tags":[],"owner":{"account_id":24524473,"reputation":1,"user_id":18437093,"display_name":"Manoj D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646987144,"creation_date":1646987144,"answer_id":71435590,"question_id":29650483,"body_markdown":"I also faced the same issue. Now i fixed it by the following steps\r\n\r\nIn Controller\r\n\r\n    @RequestMapping(consumes=MediaType.APPLICATION_JSON_VALUE)\r\n\r\nIn pom.xml include the below dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>I also faced the same issue. Now i fixed it by the following steps</p>\n<p>In Controller</p>\n<pre><code>@RequestMapping(consumes=MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>In pom.xml include the below dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;version&gt;2.9.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6072798,"reputation":269,"user_id":4741029,"accept_rate":5,"display_name":"Java Learing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30677,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1667074124,"creation_date":1429101587,"question_id":29650483,"body_markdown":"I am getting below exception when i am using `@RequestBody` in my controller class. \r\n\r\nBut I need to use `@RequestBody` only for post method. \r\n\r\n&gt; Caused by: org.springframework.web.HttpMediaTypeNotSupportedException:\r\n&gt; Content type &#39;application/json&#39; not supported\r\n\r\nAnyone can help how to solve this issue..","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>I am getting below exception when i am using <code>@RequestBody</code> in my controller class. </p>\n\n<p>But I need to use <code>@RequestBody</code> only for post method. </p>\n\n<blockquote>\n  <p>Caused by: org.springframework.web.HttpMediaTypeNotSupportedException:\n  Content type 'application/json' not supported</p>\n</blockquote>\n\n<p>Anyone can help how to solve this issue..</p>\n"},{"tags":["java","spring-boot","hibernate","transactions","locking"],"comments":[{"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"score":0,"creation_date":1667067896,"post_id":74247629,"comment_id":131085105,"body_markdown":"Is it possible that somehow, the entity did not exist and you have passed `updateInCache=true`? Because in such a case, you would try to save the entity twice.","body":"Is it possible that somehow, the entity did not exist and you have passed <code>updateInCache=true</code>? Because in such a case, you would try to save the entity twice."},{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1667089163,"post_id":74247629,"comment_id":131088446,"body_markdown":"@AidHadzic Even if it already existed, the entity would be saved once with the new ComplexNumber(). And with a different value for the second time (complexNumber + 1).","body":"@AidHadzic Even if it already existed, the entity would be saved once with the new ComplexNumber(). And with a different value for the second time (complexNumber + 1)."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667906088,"post_id":74247629,"comment_id":131274269,"body_markdown":"Hey @EvgeniaRubanova was my answer helpful to your issue? If so I would appreciate if you marked it as correct!","body":"Hey @EvgeniaRubanova was my answer helpful to your issue? If so I would appreciate if you marked it as correct!"}],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667073413,"creation_date":1667073413,"answer_id":74248397,"question_id":74247629,"body_markdown":"You need to enforce the locking to happen as soon as you start using the repository inside the `@Transactional` method. Currently only `findOneForUpdate` method locks the table. \r\n\r\nTo do that you need to annotate with `@Lock(LockModeType.PESSIMISTIC_WRITE)` all the repository methods you need to use inside your service method. Read more about it [here](https://www.baeldung.com/java-jpa-transaction-locks#enable_transaction_locks).","title":"@Transactional and @Lock - what to change?","body":"<p>You need to enforce the locking to happen as soon as you start using the repository inside the <code>@Transactional</code> method. Currently only <code>findOneForUpdate</code> method locks the table.</p>\n<p>To do that you need to annotate with <code>@Lock(LockModeType.PESSIMISTIC_WRITE)</code> all the repository methods you need to use inside your service method. Read more about it <a href=\"https://www.baeldung.com/java-jpa-transaction-locks#enable_transaction_locks\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667073413,"creation_date":1667066718,"question_id":74247629,"body_markdown":"I have Service which is annotated with @Transactional annotation. And repository method with Lock.\r\n\r\nOnce I had **DataIntegrityViolationException** (the entity already exists in repository) when one thread was trying to update repository with new entity using default CRUDRepository save() method. It failed in the getNumber() method.\r\n\r\nAny assumptions why that could happen? And what should I change with the annotations maybe?\r\n\r\n    @Transactional(Transactional.TxType.REQUIRES_NEW)\r\n    public class MyService {\r\n    private ComplexNumber getNumber(ComplexKey key, boolean updateInCache) {\r\n            Optional&lt;ENumber&gt; documentNumber;\r\n\r\n            if (updateInCache) {\r\n                documentNumber = numberRepository.findOneForUpdate(key.getClientId(), key.getDocumentType(), key.getResetDate());\r\n            } else {\r\n                documentNumber = numberRepository.get(key);\r\n            }\r\n    \r\n            ComplexNumber complexNumber = new ComplexNumber();\r\n            if (documentNumber.isEmpty()) {\r\n                numberRepository.put(key, complexNumber);\r\n            } else {\r\n                complexNumber.setPrefix(documentNumber.get().getPrefix());\r\n                complexNumber.setNumber(documentNumber.get().getNumber());\r\n            }\r\n    \r\n            complexNumber.setNumber(complexNumber.getNumber() + 1);\r\n    \r\n            if (updateInCache) {\r\n                numberRepository.put(key, complexNumber);\r\n            }\r\n    \r\n            return complexNumber;\r\n        }\r\n    }\r\n\r\n\r\n    public interface EDocumentNumberRepository extends JpaRepository&lt;ENumber, ComplexKey&gt; {\r\n    \r\n        @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n        @Query(&quot;select e from ENumber e where e.clientId = :clientId &quot;)\r\n        Optional&lt;ENumber&gt; findOneForUpdate(@Param(&quot;clientId&quot;) Long clientId);\r\n    \r\n        default Optional&lt;ENumber&gt; get(ComplexKey key) {\r\n                return findById(key);\r\n            }\r\n\r\n        default void put(ComplexKey key, ComplexNumber complexNumber) {\r\n            ENumber number = new ENumber()\r\n                .setKey(key)\r\n                .setPrefix(complexNumber.getPrefix())\r\n                .setNumber(complexNumber.getNumber());\r\n            save(number);\r\n    }\r\n    }","title":"@Transactional and @Lock - what to change?","body":"<p>I have Service which is annotated with @Transactional annotation. And repository method with Lock.</p>\n<p>Once I had <strong>DataIntegrityViolationException</strong> (the entity already exists in repository) when one thread was trying to update repository with new entity using default CRUDRepository save() method. It failed in the getNumber() method.</p>\n<p>Any assumptions why that could happen? And what should I change with the annotations maybe?</p>\n<pre><code>@Transactional(Transactional.TxType.REQUIRES_NEW)\npublic class MyService {\nprivate ComplexNumber getNumber(ComplexKey key, boolean updateInCache) {\n        Optional&lt;ENumber&gt; documentNumber;\n\n        if (updateInCache) {\n            documentNumber = numberRepository.findOneForUpdate(key.getClientId(), key.getDocumentType(), key.getResetDate());\n        } else {\n            documentNumber = numberRepository.get(key);\n        }\n\n        ComplexNumber complexNumber = new ComplexNumber();\n        if (documentNumber.isEmpty()) {\n            numberRepository.put(key, complexNumber);\n        } else {\n            complexNumber.setPrefix(documentNumber.get().getPrefix());\n            complexNumber.setNumber(documentNumber.get().getNumber());\n        }\n\n        complexNumber.setNumber(complexNumber.getNumber() + 1);\n\n        if (updateInCache) {\n            numberRepository.put(key, complexNumber);\n        }\n\n        return complexNumber;\n    }\n}\n\n\npublic interface EDocumentNumberRepository extends JpaRepository&lt;ENumber, ComplexKey&gt; {\n\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    @Query(&quot;select e from ENumber e where e.clientId = :clientId &quot;)\n    Optional&lt;ENumber&gt; findOneForUpdate(@Param(&quot;clientId&quot;) Long clientId);\n\n    default Optional&lt;ENumber&gt; get(ComplexKey key) {\n            return findById(key);\n        }\n\n    default void put(ComplexKey key, ComplexNumber complexNumber) {\n        ENumber number = new ENumber()\n            .setKey(key)\n            .setPrefix(complexNumber.getPrefix())\n            .setNumber(complexNumber.getNumber());\n        save(number);\n}\n}\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667071911,"creation_date":1667069985,"answer_id":74248027,"question_id":74247954,"body_markdown":"You can sort by `value` using using `Map.Entry.comparingByValue()` and reverse it for descending orrder\r\n\r\n    cities.entrySet()\r\n                .stream().sorted(Map.Entry.&lt;String,Integer&gt;comparingByValue().reversed())\r\n                .forEach(System.out::println);\r\n\r\n**Output**\r\n    \r\n    Brest=4999234\r\n    Vitebsk=3999231\r\n    Minsk=1999234\r\n    Mogilev=1599234\r\n\r\nIf you specifically want to print `key` then use lambda to print it \r\n\r\n    forEach(e-&gt; System.out.println(e.getKey()))\r\n\r\nUse `map` and `collect` to collect keys into `List`\r\n\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList())","title":"How to display the name of cities sorted by population through streams?","body":"<p>You can sort by <code>value</code> using using <code>Map.Entry.comparingByValue()</code> and reverse it for descending orrder</p>\n<pre><code>cities.entrySet()\n            .stream().sorted(Map.Entry.&lt;String,Integer&gt;comparingByValue().reversed())\n            .forEach(System.out::println);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Brest=4999234\nVitebsk=3999231\nMinsk=1999234\nMogilev=1599234\n</code></pre>\n<p>If you specifically want to print <code>key</code> then use lambda to print it</p>\n<pre><code>forEach(e-&gt; System.out.println(e.getKey()))\n</code></pre>\n<p>Use <code>map</code> and <code>collect</code> to collect keys into <code>List</code></p>\n<pre><code>.map(Map.Entry::getKey)\n.collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667070333,"creation_date":1667070333,"answer_id":74248065,"question_id":74247954,"body_markdown":"Instead of mapping to the value first and then sorting, sort first, and then you can map to the name or do anything else with the stream of cities\r\n\r\nYou can sort `Map.Entry`s by value using the [`comparingByValue`][1] comparator:\r\n\r\n    var cityNames = cities.entrySet().stream()\r\n        .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n        .map(Map.Entry::getKey)\r\n        .toList();\r\n    System.out.println(cityNames);\r\n\r\nNote that it might be better if you create a record/class to model the cities, instead of using a `Map`.\r\n\r\n    record City(String name, int population) {}\r\n\r\nIn which case the sorting code would become:\r\n\r\n    List&lt;City&gt; cities = List.of(\r\n        new City(&quot;Minsk&quot;,1999234),\r\n        new City(&quot;Mogilev&quot;,1599234),\r\n        new City(&quot;Vitebsk&quot;,3999231),\r\n        new City(&quot;Brest&quot;,4999234)\r\n    );\r\n    var cityNames = cities.stream()\r\n        .sorted(Comparator.comparingInt(City::population).reversed())\r\n        .map(City::name)\r\n        .toList();\r\n    System.out.println(cityNames);\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#comparingByValue(java.util.Comparator)","title":"How to display the name of cities sorted by population through streams?","body":"<p>Instead of mapping to the value first and then sorting, sort first, and then you can map to the name or do anything else with the stream of cities</p>\n<p>You can sort <code>Map.Entry</code>s by value using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#comparingByValue(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>comparingByValue</code></a> comparator:</p>\n<pre><code>var cityNames = cities.entrySet().stream()\n    .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n    .map(Map.Entry::getKey)\n    .toList();\nSystem.out.println(cityNames);\n</code></pre>\n<p>Note that it might be better if you create a record/class to model the cities, instead of using a <code>Map</code>.</p>\n<pre><code>record City(String name, int population) {}\n</code></pre>\n<p>In which case the sorting code would become:</p>\n<pre><code>List&lt;City&gt; cities = List.of(\n    new City(&quot;Minsk&quot;,1999234),\n    new City(&quot;Mogilev&quot;,1599234),\n    new City(&quot;Vitebsk&quot;,3999231),\n    new City(&quot;Brest&quot;,4999234)\n);\nvar cityNames = cities.stream()\n    .sorted(Comparator.comparingInt(City::population).reversed())\n    .map(City::name)\n    .toList();\nSystem.out.println(cityNames);\n</code></pre>\n"}],"owner":{"account_id":22910177,"reputation":85,"user_id":17047574,"display_name":"Денис Задорожний"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74248065,"answer_count":2,"score":0,"last_activity_date":1667071911,"creation_date":1667069461,"question_id":74247954,"body_markdown":"I study streams and solve various tasks with them. And I can’t cope with one, I have a map with cities and the amount of violence. I need to display only the name of the cities in descending order of the number of population.In fact, it should display the cities in this order Brest, Vitebsk,Minsk, Mogilev. No matter how I write, I can&#39;t, here&#39;s my code.\r\n\r\n            Map&lt;String,Integer&gt; cities = new HashMap&lt;&gt;();\r\n        cities.put(&quot;Minsk&quot;,1999234);\r\n        cities.put(&quot;Mogilev&quot;,1599234);\r\n        cities.put(&quot;Vitebsk&quot;,3999231);\r\n        cities.put(&quot;Brest&quot;,4999234);\r\n\r\n        List&lt;Integer&gt; collect =cities.entrySet().stream()\r\n            .map(o-&gt;o.getValue())\r\n            .sorted(Comparator.reverseOrder())\r\n            .collect(Collectors.toList());\r\n\r\nSo far, I was able to sort by population, but I don’t understand how to display the name of the cities sorted further","title":"How to display the name of cities sorted by population through streams?","body":"<p>I study streams and solve various tasks with them. And I can’t cope with one, I have a map with cities and the amount of violence. I need to display only the name of the cities in descending order of the number of population.In fact, it should display the cities in this order Brest, Vitebsk,Minsk, Mogilev. No matter how I write, I can't, here's my code.</p>\n<pre><code>        Map&lt;String,Integer&gt; cities = new HashMap&lt;&gt;();\n    cities.put(&quot;Minsk&quot;,1999234);\n    cities.put(&quot;Mogilev&quot;,1599234);\n    cities.put(&quot;Vitebsk&quot;,3999231);\n    cities.put(&quot;Brest&quot;,4999234);\n\n    List&lt;Integer&gt; collect =cities.entrySet().stream()\n        .map(o-&gt;o.getValue())\n        .sorted(Comparator.reverseOrder())\n        .collect(Collectors.toList());\n</code></pre>\n<p>So far, I was able to sort by population, but I don’t understand how to display the name of the cities sorted further</p>\n"},{"tags":["java","c#","operating-system","raspberry-pi"],"comments":[{"owner":{"account_id":505485,"reputation":5712,"user_id":5481787,"accept_rate":90,"display_name":"BWA"},"score":0,"creation_date":1495469943,"post_id":44117665,"comment_id":75254581,"body_markdown":"Short answer, no.","body":"Short answer, no."},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1495469946,"post_id":44117665,"comment_id":75254582,"body_markdown":"They do have a browser, so you can program it in Javascript.","body":"They do have a browser, so you can program it in Javascript."},{"owner":{"account_id":4955797,"reputation":334,"user_id":3988440,"display_name":"Random Man Wangler"},"score":3,"creation_date":1495470567,"post_id":44117665,"comment_id":75254923,"body_markdown":"&quot;I am a very good programmer.&quot;","body":"&quot;I am a very good programmer.&quot;"},{"owner":{"account_id":3686350,"reputation":6713,"user_id":3070060,"display_name":"PaulF"},"score":0,"creation_date":1495471188,"post_id":44117665,"comment_id":75255250,"body_markdown":"Both languages compile to an intermediate code which requires a further interpreter to execute it - neither compiles to native code which you would need to write an operating system.","body":"Both languages compile to an intermediate code which requires a further interpreter to execute it - neither compiles to native code which you would need to write an operating system."},{"owner":{"account_id":3686350,"reputation":6713,"user_id":3070060,"display_name":"PaulF"},"score":0,"creation_date":1495471734,"post_id":44117665,"comment_id":75255518,"body_markdown":"C/C++ would be a possibility with a cross-compiler : http://hackaday.com/2016/02/03/code-craft-cross-compiling-for-the-raspberry-pi/","body":"C/C++ would be a possibility with a cross-compiler : <a href=\"http://hackaday.com/2016/02/03/code-craft-cross-compiling-for-the-raspberry-pi/\" rel=\"nofollow noreferrer\">hackaday.com/2016/02/03/&hellip;</a>"},{"owner":{"account_id":6198062,"reputation":1462,"user_id":4828786,"display_name":"Kevin"},"score":0,"creation_date":1495472221,"post_id":44117665,"comment_id":75255763,"body_markdown":"The short answer as stated by BWA is no. You need a language that compiles to native binary executable by the CPU. No managed language does that (both C# and Java are managed).","body":"The short answer as stated by BWA is no. You need a language that compiles to native binary executable by the CPU. No managed language does that (both C# and Java are managed)."}],"answers":[{"tags":[],"owner":{"account_id":10953642,"reputation":11,"user_id":8049186,"display_name":"SuseelMenon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495470810,"creation_date":1495470810,"answer_id":44117961,"question_id":44117665,"body_markdown":"Coding a full fledged operating system from the bottom up is obviously difficult and time consuming. What you can do is use any openly available Linux distro or the Linux kernel/source code and modify it in ways you prefer.\nTo do the same you need to have good hand at C as the source code for Linux is written in C. \nVisit this link I found : \n\n[This is the Linux from scratch page][1]\n\n\n  [1]: http://www.linuxfromscratch.org/lfs/","title":"Raspberry Pi operating system based on a high level language such as C# or Java?","body":"<p>Coding a full fledged operating system from the bottom up is obviously difficult and time consuming. What you can do is use any openly available Linux distro or the Linux kernel/source code and modify it in ways you prefer.\nTo do the same you need to have good hand at C as the source code for Linux is written in C. \nVisit this link I found : </p>\n\n<p><a href=\"http://www.linuxfromscratch.org/lfs/\" rel=\"nofollow noreferrer\">This is the Linux from scratch page</a></p>\n"},{"tags":[],"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1495471604,"creation_date":1495471604,"answer_id":44118181,"question_id":44117665,"body_markdown":"While I won&#39;t say that it&#39;s impossible, programming an OS from the ground up in nothing but C#  isn&#39;t really feasible. All* the C# compilers (such as the ones for .NET and Mono) compile the C# into an intermediary code called Common Intermediary Language (CIL). This language is interpreted at runtime into bytecode that is then executed by the computer. You can&#39;t very well have a runtime interpreting that code if there&#39;s no OS to be interpreting it. (Java executes into a Java-esque pseudo-bytecode which is interpreted by the Java Runtime Environment, so the same thing applies.)\r\n\r\nWhat you _can_ do is install the [Windows 10 IoT Core OS][1] onto your Raspberry Pi. Once you do that, you will be able to program and run C# programs on your machine via UWP. Maybe not a perfect solution for your needs, but it&#39;s as close as you can get without writing a custom C# compiler/runtime from scratch.\r\n\r\n_*: There are one or two third party C# compilers that do compile into C-like bytecode, but AFAIK they are abandoned, highly experimental, support ony  a small subset of the language, or any combination of the three. In addition, using these compilers would disallow you to use any of the .NET standard library, meaning you really will be coding from scratch._\r\n\r\n\r\n  [1]: https://developer.microsoft.com/en-us/windows/iot/getstarted","title":"Raspberry Pi operating system based on a high level language such as C# or Java?","body":"<p>While I won't say that it's impossible, programming an OS from the ground up in nothing but C#  isn't really feasible. All* the C# compilers (such as the ones for .NET and Mono) compile the C# into an intermediary code called Common Intermediary Language (CIL). This language is interpreted at runtime into bytecode that is then executed by the computer. You can't very well have a runtime interpreting that code if there's no OS to be interpreting it. (Java executes into a Java-esque pseudo-bytecode which is interpreted by the Java Runtime Environment, so the same thing applies.)</p>\n\n<p>What you <em>can</em> do is install the <a href=\"https://developer.microsoft.com/en-us/windows/iot/getstarted\" rel=\"nofollow noreferrer\">Windows 10 IoT Core OS</a> onto your Raspberry Pi. Once you do that, you will be able to program and run C# programs on your machine via UWP. Maybe not a perfect solution for your needs, but it's as close as you can get without writing a custom C# compiler/runtime from scratch.</p>\n\n<p><em>*: There are one or two third party C# compilers that do compile into C-like bytecode, but AFAIK they are abandoned, highly experimental, support ony  a small subset of the language, or any combination of the three. In addition, using these compilers would disallow you to use any of the .NET standard library, meaning you really will be coding from scratch.</em></p>\n"},{"tags":[],"owner":{"account_id":204204,"reputation":2723,"user_id":452266,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495471700,"creation_date":1495471700,"answer_id":44118207,"question_id":44117665,"body_markdown":"At one time, Microsoft Research developed an operating system, [Singularity][1], that was primarily written in a variant of C#.  Even for that project though, certain core pieces of the OS had to be written in C and assembly.  While the project predates the Pi, it can give you an idea of what OS components could feasibly be written in C#.\r\n\r\n\r\n  [1]: https://www.microsoft.com/en-us/research/project/singularity/","title":"Raspberry Pi operating system based on a high level language such as C# or Java?","body":"<p>At one time, Microsoft Research developed an operating system, <a href=\"https://www.microsoft.com/en-us/research/project/singularity/\" rel=\"nofollow noreferrer\">Singularity</a>, that was primarily written in a variant of C#.  Even for that project though, certain core pieces of the OS had to be written in C and assembly.  While the project predates the Pi, it can give you an idea of what OS components could feasibly be written in C#.</p>\n"}],"owner":{"account_id":9081025,"reputation":836,"user_id":6760875,"display_name":"Alwin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1495484720,"accepted_answer_id":44118181,"answer_count":3,"score":-1,"last_activity_date":1667071619,"creation_date":1495469852,"question_id":44117665,"body_markdown":"I know that operating systems are usually developed in low level languages such as C, C++ or even Assembly. However, is there any way to program a Raspberry Pi operating system in a high level language such as C# or Java? ","title":"Raspberry Pi operating system based on a high level language such as C# or Java?","body":"<p>I know that operating systems are usually developed in low level languages such as C, C++ or even Assembly. However, is there any way to program a Raspberry Pi operating system in a high level language such as C# or Java?</p>\n"},{"tags":["java","android","android-navigation","android-navigation-graph"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667070688,"creation_date":1667070688,"answer_id":74248112,"question_id":74242901,"body_markdown":"When you use app:popUpTo=&quot;@id/navigation_dashboard&quot;, it will delete the dashboard and jumps one back from it, in your case to home. Just delete those 2 lines to avoid that situation.\r\n```\r\n&lt;fragment\r\n        android:id=&quot;@+id/navigation_dashboard&quot;\r\n        android:name=&quot;com.example.www.ui.dashboard.DashboardFragment&quot;\r\n        android:label=&quot;@string/title_dashboard&quot;\r\n        tools:layout=&quot;@layout/fragment_dashboard&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_dashboard&quot;\r\n            app:destination=&quot;@+id/navigation_seconddash&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n```\r\nAnd for your 2 problems add below line, it will delete your backstack when you click any of the bottom nav items, and the deleting one by one situation works well:\r\n\r\n```\r\n        yourBottomNavView.setOnItemSelectedListener { item -&gt;\r\n            NavigationUI.onNavDestinationSelected(item, yourNavController)\r\n            yourNavController.popBackStack(item.itemId, inclusive = false)\r\n            true\r\n        }\r\n```\r\n","title":"Android navigation best practice?","body":"<p>When you use app:popUpTo=&quot;@id/navigation_dashboard&quot;, it will delete the dashboard and jumps one back from it, in your case to home. Just delete those 2 lines to avoid that situation.</p>\n<pre><code>&lt;fragment\n        android:id=&quot;@+id/navigation_dashboard&quot;\n        android:name=&quot;com.example.www.ui.dashboard.DashboardFragment&quot;\n        android:label=&quot;@string/title_dashboard&quot;\n        tools:layout=&quot;@layout/fragment_dashboard&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_dashboard&quot;\n            app:destination=&quot;@+id/navigation_seconddash&quot; /&gt;\n    &lt;/fragment&gt;\n</code></pre>\n<p>And for your 2 problems add below line, it will delete your backstack when you click any of the bottom nav items, and the deleting one by one situation works well:</p>\n<pre><code>        yourBottomNavView.setOnItemSelectedListener { item -&gt;\n            NavigationUI.onNavDestinationSelected(item, yourNavController)\n            yourNavController.popBackStack(item.itemId, inclusive = false)\n            true\n        }\n</code></pre>\n"}],"owner":{"account_id":26766019,"reputation":13,"user_id":20363150,"display_name":"user20363150"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74248112,"answer_count":1,"score":0,"last_activity_date":1667070688,"creation_date":1667019254,"question_id":74242901,"body_markdown":"I&#39;m currently using navigation version 2.5.2\r\n\r\nI&#39;ve got BottomNavigationView for main menu.\r\n\r\nFor example,\r\n\r\nMain Menu : `A, B, C`&lt;br/&gt;\r\nA(home) can go `A -&gt; Aa -&gt; Ab -&gt; D`&lt;br/&gt;\r\nB can go `B -&gt; D`&lt;br/&gt;\r\nC can go `C -&gt; Ca -&gt; D`&lt;br/&gt;\r\n\r\nsomething like that.\r\n\r\nHere&#39;s what I have to do,\r\n\r\n**1. When user click bottom menu, the navigation stack must erase. (ex. When user go A-\\&gt;Aa, and then click B menu at the bottom and back to A, Aa should be erased. User is to see A not Aa)**\r\n\r\n**2. When user click system back button, the stack should be erased one by one. (ex. A-\\&gt;Aa-\\&gt;Ab. When click back, Ab gone and Aa gone and A)**\r\n\r\n*The problem is*,\r\nWhen I go B-\\&gt;D and click back(B appeared) and back again(A appeared as it&#39;s home).\r\nAnd!!! click B again,\r\n\r\nIt doesn&#39;t even created at the first click, and it is shown from the second click.&lt;br/&gt;\r\nNo error msg.\r\n\r\n&lt;br/&gt;\r\nmobile_navigation.xml\r\n\r\n```\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@id/home&quot;&gt;\r\n\r\n    &lt;include app:graph=&quot;@navigation/home&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_dashboard&quot;\r\n        android:name=&quot;com.example.www.ui.dashboard.DashboardFragment&quot;\r\n        android:label=&quot;@string/title_dashboard&quot;\r\n        tools:layout=&quot;@layout/fragment_dashboard&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_dashboard&quot;\r\n            app:destination=&quot;@+id/navigation_seconddash&quot;\r\n            app:popUpTo=&quot;@id/navigation_dashboard&quot;\r\n            app:popUpToSaveState=&quot;true&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_seconddash&quot;\r\n        android:name=&quot;com.example.www.ui.home.SecondDashboardFragment&quot;\r\n        android:label=&quot;DashBoard2&quot;\r\n        tools:layout=&quot;@layout/fragment_seconddashboard&quot;/&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_notifications&quot;\r\n        android:name=&quot;com.example.www.ui.notifications.NotificationsFragment&quot;\r\n        android:label=&quot;@string/title_notifications&quot;\r\n        tools:layout=&quot;@layout/fragment_notifications&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\n\r\nDashboard clickevent\r\n\r\n```\r\nbinding.btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Navigation.findNavController(view).navigate(R.id.action_dashboard);\r\n            }\r\n        });\r\n```\r\n\r\n\r\nIt works find when click menu instead of back button.&lt;br/&gt;\r\nhttps://www.youtube.com/shorts/RgyjKWDLx0I&lt;br/&gt;\r\nAbove is video I recorded cos hard to explain in text.\r\n\r\n\r\nI&#39;ve tried deeplink, but it doesn&#39;t clear stack.\r\ntried different versions, doesn&#39;t work.\r\n\r\n","title":"Android navigation best practice?","body":"<p>I'm currently using navigation version 2.5.2</p>\n<p>I've got BottomNavigationView for main menu.</p>\n<p>For example,</p>\n<p>Main Menu : <code>A, B, C</code><br/>\nA(home) can go <code>A -&gt; Aa -&gt; Ab -&gt; D</code><br/>\nB can go <code>B -&gt; D</code><br/>\nC can go <code>C -&gt; Ca -&gt; D</code><br/></p>\n<p>something like that.</p>\n<p>Here's what I have to do,</p>\n<p><strong>1. When user click bottom menu, the navigation stack must erase. (ex. When user go A-&gt;Aa, and then click B menu at the bottom and back to A, Aa should be erased. User is to see A not Aa)</strong></p>\n<p><strong>2. When user click system back button, the stack should be erased one by one. (ex. A-&gt;Aa-&gt;Ab. When click back, Ab gone and Aa gone and A)</strong></p>\n<p><em>The problem is</em>,\nWhen I go B-&gt;D and click back(B appeared) and back again(A appeared as it's home).\nAnd!!! click B again,</p>\n<p>It doesn't even created at the first click, and it is shown from the second click.<br/>\nNo error msg.</p>\n<br/>\nmobile_navigation.xml\n<pre><code>&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mobile_navigation&quot;\n    app:startDestination=&quot;@id/home&quot;&gt;\n\n    &lt;include app:graph=&quot;@navigation/home&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/navigation_dashboard&quot;\n        android:name=&quot;com.example.www.ui.dashboard.DashboardFragment&quot;\n        android:label=&quot;@string/title_dashboard&quot;\n        tools:layout=&quot;@layout/fragment_dashboard&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_dashboard&quot;\n            app:destination=&quot;@+id/navigation_seconddash&quot;\n            app:popUpTo=&quot;@id/navigation_dashboard&quot;\n            app:popUpToSaveState=&quot;true&quot; /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/navigation_seconddash&quot;\n        android:name=&quot;com.example.www.ui.home.SecondDashboardFragment&quot;\n        android:label=&quot;DashBoard2&quot;\n        tools:layout=&quot;@layout/fragment_seconddashboard&quot;/&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/navigation_notifications&quot;\n        android:name=&quot;com.example.www.ui.notifications.NotificationsFragment&quot;\n        android:label=&quot;@string/title_notifications&quot;\n        tools:layout=&quot;@layout/fragment_notifications&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>Dashboard clickevent</p>\n<pre><code>binding.btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Navigation.findNavController(view).navigate(R.id.action_dashboard);\n            }\n        });\n</code></pre>\n<p>It works find when click menu instead of back button.<br/>\n<a href=\"https://www.youtube.com/shorts/RgyjKWDLx0I\" rel=\"nofollow noreferrer\">https://www.youtube.com/shorts/RgyjKWDLx0I</a><br/>\nAbove is video I recorded cos hard to explain in text.</p>\n<p>I've tried deeplink, but it doesn't clear stack.\ntried different versions, doesn't work.</p>\n"},{"tags":["java","spring","oracle","apache-camel"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1666911144,"post_id":74228857,"comment_id":131053355,"body_markdown":"Java has an SQL [CLOB](https://docs.oracle.com/javase/7/docs/api/java/sql/Types.html#CLOB) type... How are the Java variables that are bound to the OUT parameters defined?","body":"Java has an SQL <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Types.html#CLOB\" rel=\"nofollow noreferrer\">CLOB</a> type... How are the Java variables that are bound to the OUT parameters defined?"},{"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"score":0,"creation_date":1666933827,"post_id":74228857,"comment_id":131056456,"body_markdown":"As the procedure fails every night for last 3 weeks, *something* changed. Might be that content size was much smaller before, as now - as you said - it is 75K. It shouldn&#39;t be too difficult to verify it: modify the procedure and put e.g. &quot;Gerry&quot; into the return content - that *should* fit. Doesn&#39;t matter that it isn&#39;t what you&#39;d expect as the result, but - you don&#39;t have it for 3 weeks now, so one more night won&#39;t make a difference. If the procedure finishes OK, then you got it. I don&#39;t know Java so - have a look at what Alex said.","body":"As the procedure fails every night for last 3 weeks, <i>something</i> changed. Might be that content size was much smaller before, as now - as you said - it is 75K. It shouldn&#39;t be too difficult to verify it: modify the procedure and put e.g. &quot;Gerry&quot; into the return content - that <i>should</i> fit. Doesn&#39;t matter that it isn&#39;t what you&#39;d expect as the result, but - you don&#39;t have it for 3 weeks now, so one more night won&#39;t make a difference. If the procedure finishes OK, then you got it. I don&#39;t know Java so - have a look at what Alex said."},{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1667067459,"post_id":74228857,"comment_id":131085006,"body_markdown":"Maybe this is how to do it https://stackoverflow.com/questions/39466517/persist-data-into-blob-clob-datatype-in-oracle-db-using-apache-camel-framework Sure would be nice if the Camel people would document this stuff, or if they have, if I could find it.","body":"Maybe this is how to do it <a href=\"https://stackoverflow.com/questions/39466517/persist-data-into-blob-clob-datatype-in-oracle-db-using-apache-camel-framework\" title=\"persist data into blob clob datatype in oracle db using apache camel framework\">stackoverflow.com/questions/39466517/&hellip;</a> Sure would be nice if the Camel people would document this stuff, or if they have, if I could find it."},{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1667068576,"post_id":74228857,"comment_id":131085270,"body_markdown":"And somebody does it in XML, but how to do in Java https://stackoverflow.com/questions/72237216/retrieve-clob-data-using-apache-camel","body":"And somebody does it in XML, but how to do in Java <a href=\"https://stackoverflow.com/questions/72237216/retrieve-clob-data-using-apache-camel\" title=\"retrieve clob data using apache camel\">stackoverflow.com/questions/72237216/&hellip;</a>"},{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1667315842,"post_id":74228857,"comment_id":131136198,"body_markdown":"Wrote a test stored procedure and found 32K is okay, 75K blows up. Changing the stored procedure to implement paging. Still no CLOB, no idea at all what that would look like.","body":"Wrote a test stored procedure and found 32K is okay, 75K blows up. Changing the stored procedure to implement paging. Still no CLOB, no idea at all what that would look like."}],"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667069266,"creation_date":1666908967,"question_id":74228857,"body_markdown":"I have a major problem with Camel/Spring framework/Oracle. My middleware calls many stored procedures, but one has a problem. Code looks like:\r\n\r\n    .to(&quot;sql-stored:someschema.somepackagename.someprocedure(&quot; + \r\n    \t&quot;OUT VARCHAR op_pending_list, OUT INTEGER op_return_status, OUT VARCHAR op_return_message)?dataSource=#somedatasource&quot;)\r\n\r\nThis is a nightly job that ran fine for 3 weeks, but now fails every night.\r\n\r\nThat procedure logs (to a db table) that everything is fine. The very last thing it does is log the result count and status code and that indicates working as expected.\r\n\r\nOn processing the response, middleware detects and logs the Oracle exception:\r\n\r\n    org.springframework.jdbc.BadSqlGrammarException CallableStatementCallback; bad SQL grammar [{call someschmea.somepackagename.someprocedure(?, ?, ?)}]; nested exception is java.sql.SQLException: ORA-06502: PL/SQL: numeric or value error\r\n    ORA-06512: at line 1\r\n\r\nPossibly the return value (Integer) might need to change to Number (NUMERIC in Camel). Integer is used in a number of other places without issue.\r\n\r\nAnother possibility is the return content is too large, I think it is around 75K. Declared as VARCHAR in middleware. In the stored procedure it is CLOB, but there is no Java type for that. Correction: there is a Java type for CLOB, but no idea how to use it. If I use CLOB it blows up trying to make the call. \r\n\r\nAnother possibility is that it is after logging (in the stored procedure) the exception occurs, even though the write to the table works and there isn’t any code left to run.\r\n\r\nPossible spring framework problem? \r\n\r\nWe have 3 environments, works fine in DEV and TEST, fails in PROD. Used to work in PROD for a while.... \r\n\r\nthoughts?\r\n","title":"Camel calls stored procedure which works fine, except for new mystery ORA exception","body":"<p>I have a major problem with Camel/Spring framework/Oracle. My middleware calls many stored procedures, but one has a problem. Code looks like:</p>\n<pre><code>.to(&quot;sql-stored:someschema.somepackagename.someprocedure(&quot; + \n    &quot;OUT VARCHAR op_pending_list, OUT INTEGER op_return_status, OUT VARCHAR op_return_message)?dataSource=#somedatasource&quot;)\n</code></pre>\n<p>This is a nightly job that ran fine for 3 weeks, but now fails every night.</p>\n<p>That procedure logs (to a db table) that everything is fine. The very last thing it does is log the result count and status code and that indicates working as expected.</p>\n<p>On processing the response, middleware detects and logs the Oracle exception:</p>\n<pre><code>org.springframework.jdbc.BadSqlGrammarException CallableStatementCallback; bad SQL grammar [{call someschmea.somepackagename.someprocedure(?, ?, ?)}]; nested exception is java.sql.SQLException: ORA-06502: PL/SQL: numeric or value error\nORA-06512: at line 1\n</code></pre>\n<p>Possibly the return value (Integer) might need to change to Number (NUMERIC in Camel). Integer is used in a number of other places without issue.</p>\n<p>Another possibility is the return content is too large, I think it is around 75K. Declared as VARCHAR in middleware. In the stored procedure it is CLOB, but there is no Java type for that. Correction: there is a Java type for CLOB, but no idea how to use it. If I use CLOB it blows up trying to make the call.</p>\n<p>Another possibility is that it is after logging (in the stored procedure) the exception occurs, even though the write to the table works and there isn’t any code left to run.</p>\n<p>Possible spring framework problem?</p>\n<p>We have 3 environments, works fine in DEV and TEST, fails in PROD. Used to work in PROD for a while....</p>\n<p>thoughts?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667045197,"post_id":74245097,"comment_id":131080359,"body_markdown":"So you basically need group by?","body":"So you basically need group by?"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1667045449,"post_id":74245097,"comment_id":131080405,"body_markdown":"how are you going to fit that record into a hashmap?","body":"how are you going to fit that record into a hashmap?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667045677,"post_id":74245097,"comment_id":131080435,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1667045806,"post_id":74245097,"comment_id":131080456,"body_markdown":"I dont know why you use List&lt;Map&lt;String,String&gt;&gt; when you could use a custom class/Record to represent each record instead.","body":"I dont know why you use List&lt;Map&lt;String,String&gt;&gt; when you could use a custom class/Record to represent each record instead."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1667061233,"post_id":74245097,"comment_id":131083678,"body_markdown":"Try looking at [Count occurrences of value in a map](https://stackoverflow.com/questions/44500446/count-occurrences-of-value-in-a-map?adlt=strict&amp;toWww=1&amp;redig=C18AF74D8EC54E0FB8B6FAF4A71EDBDD).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/44500446/count-occurrences-of-value-in-a-map?adlt=strict&amp;toWww=1&amp;redig=C18AF74D8EC54E0FB8B6FAF4A71EDBDD\">Count occurrences of value in a map</a>."}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667068809,"creation_date":1667068809,"answer_id":74247866,"question_id":74245097,"body_markdown":"**Using Java 8 stream**\r\n\r\n*You can try using stream `groupingBy` feature to get the `count` of each member type shown as below:*\r\n\r\n**Logic:**\r\n\r\nHere, I have created a POJO class `FamilyMember` with some attributes as given in the problem statement and created a list of FamilyMember and then by using `stream` operation and using `groupingBy`, grouped the data by `memberType` and using `Collectors.counting` getting the count of each memberType.\r\n\r\n**Suggestions:**\r\n\r\nAs mentioned in the problem statement, the given input is in the form of `List&lt;Map&lt;String, String&gt;&gt;` so instead of Map you can use a POJO class to hold the data for each member as shown in my implementation.\r\nAnd moreover, how you are holding this kind of structure in the form of `Map&lt;String,String&gt;`\r\n\r\n**Code:**\r\n\r\n        public class Test {\r\n    \r\n           public static void main(String[] args) {\r\n    \r\n            FamilyMember member1 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name&quot;,\r\n                    LocalDate.of(1990,12,12),&quot;Male&quot;);\r\n            FamilyMember member2 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name2&quot;,\r\n                    LocalDate.of(1990,12,12),&quot;Male&quot;);\r\n            FamilyMember member3 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name3&quot;,\r\n                    LocalDate.of(1990,12,12),&quot;Male&quot;);\r\n            FamilyMember member4 = new FamilyMember(&quot;Child&quot;,&quot;Child name&quot;,\r\n                    LocalDate.of(2010,12,12),&quot;Male&quot;);\r\n            FamilyMember member5 = new FamilyMember(&quot;Child&quot;,&quot;Child name2&quot;,\r\n                    LocalDate.of(2000,12,12),&quot;Female&quot;);\r\n            FamilyMember member6 = new FamilyMember(&quot;Spouse&quot;,&quot;Spouse name&quot;,\r\n                    LocalDate.of(1990,12,12),&quot;Male&quot;);\r\n    \r\n            List&lt;FamilyMember&gt; listOfFamilyMember = Arrays.asList(member1,member2,\r\n                                                  member3,member4,member5,member6);\r\n    \r\n            Map&lt;String,Long&gt; countMembers = listOfFamilyMember.stream()\r\n                    .collect(Collectors.groupingBy(FamilyMember::getMemberType,\r\n                   Collectors.counting()));\r\n    \r\n            System.out.println(countMembers);\r\n        }\r\n    }\r\n\r\n**FamilyMember.java**\r\n\r\n    public class FamilyMember {\r\n    \r\n        private String memberType;\r\n        private String fullName;\r\n        private LocalDate dateOfBirth;\r\n        private String gender;\r\n    \r\n        public FamilyMember(String memberType, String fullName, \r\n                            LocalDate dateOfBirth, String gender) {\r\n            this.memberType = memberType;\r\n            this.fullName = fullName;\r\n            this.dateOfBirth = dateOfBirth;\r\n            this.gender = gender;\r\n        }\r\n        //getters and setters\r\n    }\r\n\r\n**Output:**\r\n\r\n    {Spouse=1, Sibling=3, Child=2}\r\n\r\n","title":"Get key count or occurrences in List&lt;Map&lt;String, String&gt; : Java","body":"<p><strong>Using Java 8 stream</strong></p>\n<p><em>You can try using stream <code>groupingBy</code> feature to get the <code>count</code> of each member type shown as below:</em></p>\n<p><strong>Logic:</strong></p>\n<p>Here, I have created a POJO class <code>FamilyMember</code> with some attributes as given in the problem statement and created a list of FamilyMember and then by using <code>stream</code> operation and using <code>groupingBy</code>, grouped the data by <code>memberType</code> and using <code>Collectors.counting</code> getting the count of each memberType.</p>\n<p><strong>Suggestions:</strong></p>\n<p>As mentioned in the problem statement, the given input is in the form of <code>List&lt;Map&lt;String, String&gt;&gt;</code> so instead of Map you can use a POJO class to hold the data for each member as shown in my implementation.\nAnd moreover, how you are holding this kind of structure in the form of <code>Map&lt;String,String&gt;</code></p>\n<p><strong>Code:</strong></p>\n<pre><code>    public class Test {\n\n       public static void main(String[] args) {\n\n        FamilyMember member1 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name&quot;,\n                LocalDate.of(1990,12,12),&quot;Male&quot;);\n        FamilyMember member2 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name2&quot;,\n                LocalDate.of(1990,12,12),&quot;Male&quot;);\n        FamilyMember member3 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name3&quot;,\n                LocalDate.of(1990,12,12),&quot;Male&quot;);\n        FamilyMember member4 = new FamilyMember(&quot;Child&quot;,&quot;Child name&quot;,\n                LocalDate.of(2010,12,12),&quot;Male&quot;);\n        FamilyMember member5 = new FamilyMember(&quot;Child&quot;,&quot;Child name2&quot;,\n                LocalDate.of(2000,12,12),&quot;Female&quot;);\n        FamilyMember member6 = new FamilyMember(&quot;Spouse&quot;,&quot;Spouse name&quot;,\n                LocalDate.of(1990,12,12),&quot;Male&quot;);\n\n        List&lt;FamilyMember&gt; listOfFamilyMember = Arrays.asList(member1,member2,\n                                              member3,member4,member5,member6);\n\n        Map&lt;String,Long&gt; countMembers = listOfFamilyMember.stream()\n                .collect(Collectors.groupingBy(FamilyMember::getMemberType,\n               Collectors.counting()));\n\n        System.out.println(countMembers);\n    }\n}\n</code></pre>\n<p><strong>FamilyMember.java</strong></p>\n<pre><code>public class FamilyMember {\n\n    private String memberType;\n    private String fullName;\n    private LocalDate dateOfBirth;\n    private String gender;\n\n    public FamilyMember(String memberType, String fullName, \n                        LocalDate dateOfBirth, String gender) {\n        this.memberType = memberType;\n        this.fullName = fullName;\n        this.dateOfBirth = dateOfBirth;\n        this.gender = gender;\n    }\n    //getters and setters\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>{Spouse=1, Sibling=3, Child=2}\n</code></pre>\n"}],"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667068809,"creation_date":1667045010,"question_id":74245097,"body_markdown":"I have List&lt;Map&lt;String, String&gt;&gt; that have family member details. Depending on added family member the rest details will be processed. \r\nThere can be other family member like uncle, aunt, niece... etc. These records can be single or multiple.\r\n\r\n      | Add_Family_Member | Full_Name     | Date_Of_Birth | Gender |\r\n      | Sibling           | Sibling name  | 12-12-1990    | Male   |\r\n      | Sibling           | Sibling name2 | 12-12-1990    | Male   |\r\n      | Sibling           | Sibling name2 | 12-12-1990    | Male   |\r\n      | Child             | Child name    | 12-12-2010    | Male   |\r\n      | Child             | Child name2   | 12-12-2000    | Female |\r\n      | Spouse            | Spouse name   | 12-12-1990    | Male   |\r\n\r\nSo how can I count Add_Family_Member i.e. Sibling count 3, Child count 2 and spouse count 1.","title":"Get key count or occurrences in List&lt;Map&lt;String, String&gt; : Java","body":"<p>I have List&lt;Map&lt;String, String&gt;&gt; that have family member details. Depending on added family member the rest details will be processed.\nThere can be other family member like uncle, aunt, niece... etc. These records can be single or multiple.</p>\n<pre><code>  | Add_Family_Member | Full_Name     | Date_Of_Birth | Gender |\n  | Sibling           | Sibling name  | 12-12-1990    | Male   |\n  | Sibling           | Sibling name2 | 12-12-1990    | Male   |\n  | Sibling           | Sibling name2 | 12-12-1990    | Male   |\n  | Child             | Child name    | 12-12-2010    | Male   |\n  | Child             | Child name2   | 12-12-2000    | Female |\n  | Spouse            | Spouse name   | 12-12-1990    | Male   |\n</code></pre>\n<p>So how can I count Add_Family_Member i.e. Sibling count 3, Child count 2 and spouse count 1.</p>\n"},{"tags":["java","linux","intellij-idea","javafx","jar"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1490645217,"post_id":43055474,"comment_id":73195594,"body_markdown":"Which Java runtime do you have on the linux machine? OpenJDK does not ship with JavaFX.","body":"Which Java runtime do you have on the linux machine? OpenJDK does not ship with JavaFX."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1490648415,"post_id":43055474,"comment_id":73197226,"body_markdown":"[Which linux?](https://www.cyberciti.biz/faq/find-linux-distribution-name-version-number/), what Java version ([`java -version`])?   Related: [Why is JavaFX is not included in OpenJDK 8 on Ubuntu Wily (15.10)?](http://stackoverflow.com/questions/34243982/why-is-javafx-is-not-included-in-openjdk-8-on-ubuntu-wily-15-10) and [JavaFX and OpenJDK](http://stackoverflow.com/questions/18547362/javafx-and-openjdk).  See also [Oracle java distributions for Linux](http://www.oracle.com/technetwork/java/javase/downloads/index.html), which include JavaFX.","body":"<a href=\"https://www.cyberciti.biz/faq/find-linux-distribution-name-version-number/\" rel=\"nofollow noreferrer\">Which linux?</a>, what Java version ([<code>java -version</code>])?   Related: <a href=\"http://stackoverflow.com/questions/34243982/why-is-javafx-is-not-included-in-openjdk-8-on-ubuntu-wily-15-10\">Why is JavaFX is not included in OpenJDK 8 on Ubuntu Wily (15.10)?</a> and <a href=\"http://stackoverflow.com/questions/18547362/javafx-and-openjdk\">JavaFX and OpenJDK</a>.  See also <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">Oracle java distributions for Linux</a>, which include JavaFX."}],"answers":[{"tags":[],"owner":{"account_id":4524506,"reputation":189,"user_id":3676769,"display_name":"Matheus Valin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1490651823,"creation_date":1490651823,"answer_id":43057149,"question_id":43055474,"body_markdown":"So, turns out the problem was that the JRE on the Linux machine was OpenJDK, which does not come with JavaFX, as noted by James_D and jewelsea\r\n\r\nAfter installing the oracle JRE 8, it worked fine","title":"JavaFX .jar works on Windows and OSX but not on Linux","body":"<p>So, turns out the problem was that the JRE on the Linux machine was OpenJDK, which does not come with JavaFX, as noted by James_D and jewelsea</p>\n\n<p>After installing the oracle JRE 8, it worked fine</p>\n"},{"tags":[],"owner":{"account_id":4076843,"reputation":508,"user_id":3348298,"accept_rate":100,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667068048,"creation_date":1667068048,"answer_id":74247799,"question_id":43055474,"body_markdown":"Sorry for the necro post, but I had to take a few extra steps. I had JRE 8 installed, but I still had to point java_home to it.\r\nI&#39;m using a MAC. \r\n\r\nThe JDK locations are here:\r\n/Library/Java/JavaVirtualMachines (verify this)\r\n\r\nThe default JDK for my machine was temurin-17.jdk\r\n\r\nI had to change it to jdk1.8.0_301.jdk\r\n\r\nSteps:\r\n1) Open a terminal\r\n2) Type:\r\nvim ~/.bash_profile\r\n3) I pasted this onto the file:\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_301.jdk/Contents/Home\r\n4) Save and exit vim:\r\nhttps://phoenixnap.com/kb/how-to-vim-save-quit-exit\r\n5) In the terminal, type:\r\nsource ~/.bash_profile\r\n6) Restart your terminal\r\n7) In the terminal, type:\r\njava -version\r\n8) Make sure it&#39;s pointing to the right version\r\n9) Now navigate back to where the .jar is located.\r\n10) In the terminal, type: \r\njava -jar myapp.jar\r\n\r\nHope this helps.\r\n","title":"JavaFX .jar works on Windows and OSX but not on Linux","body":"<p>Sorry for the necro post, but I had to take a few extra steps. I had JRE 8 installed, but I still had to point java_home to it.\nI'm using a MAC.</p>\n<p>The JDK locations are here:\n/Library/Java/JavaVirtualMachines (verify this)</p>\n<p>The default JDK for my machine was temurin-17.jdk</p>\n<p>I had to change it to jdk1.8.0_301.jdk</p>\n<p>Steps:</p>\n<ol>\n<li>Open a terminal</li>\n<li>Type:\nvim ~/.bash_profile</li>\n<li>I pasted this onto the file:\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_301.jdk/Contents/Home</li>\n<li>Save and exit vim:\n<a href=\"https://phoenixnap.com/kb/how-to-vim-save-quit-exit\" rel=\"nofollow noreferrer\">https://phoenixnap.com/kb/how-to-vim-save-quit-exit</a></li>\n<li>In the terminal, type:\nsource ~/.bash_profile</li>\n<li>Restart your terminal</li>\n<li>In the terminal, type:\njava -version</li>\n<li>Make sure it's pointing to the right version</li>\n<li>Now navigate back to where the .jar is located.</li>\n<li>In the terminal, type:\njava -jar myapp.jar</li>\n</ol>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":4524506,"reputation":189,"user_id":3676769,"display_name":"Matheus Valin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43057149,"answer_count":2,"score":1,"last_activity_date":1667068048,"creation_date":1490645005,"question_id":43055474,"body_markdown":"I&#39;m trying to make a cross-platform JavaFX application, and it works fine on Windows and OSX machines, but not on Linux.\r\n\r\nWhen I try to run it on a Linux machine using java -jar app.jar, this is what I get:\r\n\r\n    Error: Could not find or load main class app.Main\r\n\r\nBut the class app.Main is in the .jar, as shown by &#39;jar tf app.jar&#39;:\r\n\r\n    ...\r\n    app/Main.class\r\n    ...\r\n\r\nI tried specifying the main class using java -cp app.jar app.Main but I got the same error message.\r\n\r\nThe .jar was built in Intellij IDEA, using basic JavaFX configuration.\r\n\r\nAny help?\r\n\r\n\r\n\r\n","title":"JavaFX .jar works on Windows and OSX but not on Linux","body":"<p>I'm trying to make a cross-platform JavaFX application, and it works fine on Windows and OSX machines, but not on Linux.</p>\n\n<p>When I try to run it on a Linux machine using java -jar app.jar, this is what I get:</p>\n\n<pre><code>Error: Could not find or load main class app.Main\n</code></pre>\n\n<p>But the class app.Main is in the .jar, as shown by 'jar tf app.jar':</p>\n\n<pre><code>...\napp/Main.class\n...\n</code></pre>\n\n<p>I tried specifying the main class using java -cp app.jar app.Main but I got the same error message.</p>\n\n<p>The .jar was built in Intellij IDEA, using basic JavaFX configuration.</p>\n\n<p>Any help?</p>\n"},{"tags":["java","spring-boot","drools","kie","drools-kie-server"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1643635216,"post_id":70899690,"comment_id":125384762,"body_markdown":"Did you save `dtFile` to your filesystem and verify it&#39;s actually saved before entering this &#39;if&#39; statement? (save/write being async operations.)","body":"Did you save <code>dtFile</code> to your filesystem and verify it&#39;s actually saved before entering this &#39;if&#39; statement? (save/write being async operations.)"}],"answers":[{"tags":[],"owner":{"account_id":24349652,"reputation":1,"user_id":18285660,"display_name":"Kapil Ankam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667067613,"creation_date":1667067613,"answer_id":74247743,"question_id":70899690,"body_markdown":"We see this issue when the DRL file not configured properly. \r\nThis error is misleading, please make sure drl file is not corrupted.","title":"Cannot find KieModule: org.default:artifact:1.0.0","body":"<p>We see this issue when the DRL file not configured properly.\nThis error is misleading, please make sure drl file is not corrupted.</p>\n"}],"owner":{"account_id":19510490,"reputation":11,"user_id":14274538,"display_name":"Ibrahim_Fneich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667067613,"creation_date":1643400347,"question_id":70899690,"body_markdown":"This is my configuration : \r\n\r\n    File dtFile = new File(&quot;path&quot;);\r\n           \r\n            if (dtFile != null) {\r\n                KieServices kieServices = KieServices.Factory.get();\r\n                KieFileSystem kieFileSystem = kieServices.newKieFileSystem().write(\r\n                        kieServices.getResources().newFileSystemResource(dtFile).setResourceType(ResourceType.DTABLE)\r\n                );\r\n                KieBuilder kieBuilder = kieServices.newKieBuilder(kieFileSystem);\r\n                kieBuilder.buildAll();\r\n                KieRepository kieRepository = kieServices.getRepository();\r\n                kieContainer = kieServices.newKieContainer(kieRepository.getDefaultReleaseId());\r\n            }\r\n\r\nand there is this error (Cannot find KieModule: org.default:artifact:1.0.0)\r\nat `kieContainer = kieServices.newKieContainer(kieRepository.getDefaultReleaseId());`\r\n...\r\n\r\n&gt; **The weird thing is if i open the excel file and save it manually (ctrl +s) the process will work successfully without errors**\r\n\r\n ","title":"Cannot find KieModule: org.default:artifact:1.0.0","body":"<p>This is my configuration :</p>\n<pre><code>File dtFile = new File(&quot;path&quot;);\n       \n        if (dtFile != null) {\n            KieServices kieServices = KieServices.Factory.get();\n            KieFileSystem kieFileSystem = kieServices.newKieFileSystem().write(\n                    kieServices.getResources().newFileSystemResource(dtFile).setResourceType(ResourceType.DTABLE)\n            );\n            KieBuilder kieBuilder = kieServices.newKieBuilder(kieFileSystem);\n            kieBuilder.buildAll();\n            KieRepository kieRepository = kieServices.getRepository();\n            kieContainer = kieServices.newKieContainer(kieRepository.getDefaultReleaseId());\n        }\n</code></pre>\n<p>and there is this error (Cannot find KieModule: org.default:artifact:1.0.0)\nat <code>kieContainer = kieServices.newKieContainer(kieRepository.getDefaultReleaseId());</code>\n...</p>\n<blockquote>\n<p><strong>The weird thing is if i open the excel file and save it manually (ctrl +s) the process will work successfully without errors</strong></p>\n</blockquote>\n"},{"tags":["java","android","xml","android-layout"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667067404,"creation_date":1667067404,"answer_id":74247717,"question_id":74247421,"body_markdown":"I think you are not getting the name correct, so it&#39;s not initializing it, name must be a string as a whole :\r\n```\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;layout&quot; + (i+1).toString(), &quot;id&quot;, this.getPackageName());\r\n                L[i] = findViewById(resourceId);\r\n            }\r\n```\r\n","title":"Why do I get a null object reference on my RealtiveLayout.setBackgroundColor although I have initialized it","body":"<p>I think you are not getting the name correct, so it's not initializing it, name must be a string as a whole :</p>\n<pre><code>            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;layout&quot; + (i+1).toString(), &quot;id&quot;, this.getPackageName());\n                L[i] = findViewById(resourceId);\n            }\n</code></pre>\n"}],"owner":{"account_id":19941118,"reputation":37,"user_id":20176107,"display_name":"Hamza Ateya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74247717,"answer_count":1,"score":1,"last_activity_date":1667067404,"creation_date":1667064800,"question_id":74247421,"body_markdown":"Here is my java code:\r\n```\r\npackage com.example.project_final;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class history extends AppCompatActivity {\r\n    FirebaseFirestore Fstore;\r\n    String userID;\r\n    FirebaseAuth fAuth ;\r\n    int times;\r\n    int heart;\r\n    int avg_heart;\r\n    String date;\r\n    int count = 0;\r\n    TextView Data;\r\n    RelativeLayout [] L = new RelativeLayout[7];\r\n    TextView [] hr = new TextView[7];\r\n    TextView [] dates = new TextView[7];\r\n    ImageView [] img = new ImageView[7];\r\n    TextView last;\r\n    ArrayList&lt;Integer&gt; intheart = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; intdates = new ArrayList&lt;&gt;();\r\n    TextView average;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_history);\r\n        Fstore = FirebaseFirestore.getInstance();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        userID= fAuth.getUid();\r\n        DocumentReference documentReference = Fstore.collection(&quot;users&quot;).document(userID);\r\n        Data = findViewById(R.id.txtNodata);\r\n        Intent intent1 = getIntent();\r\n        String signup = intent1.getStringExtra(&quot;signup&quot;);\r\n            last = findViewById(R.id.txtlast);\r\n            average = findViewById(R.id.txtaverage);\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;layout&quot;+ i+1, &quot;id&quot;, this.getPackageName());\r\n                L[i] = findViewById(resourceId);\r\n            }\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;heartrate&quot;+ i+1, &quot;id&quot;, this.getPackageName());\r\n                hr[i] = findViewById(resourceId);\r\n            }\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;txtdate&quot;+ i+1, &quot;id&quot;, this.getPackageName());\r\n                dates[i] = findViewById(resourceId);\r\n            }\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;img&quot;+ i+1, &quot;id&quot;, this.getPackageName());\r\n                img[i] = findViewById(resourceId);\r\n            }\r\n            documentReference.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                    times = Math.toIntExact(task.getResult().getLong(&quot;times&quot;));\r\n                    avg_heart = Math.toIntExact(task.getResult().getLong(&quot;average_heart_rate&quot;));\r\n                    for (int i = 0 ; i &lt;times ;i++){\r\n                        intdates.add(task.getResult().getString(&quot;date&quot; + i));\r\n                        intheart.add(Math.toIntExact(task.getResult().getLong(&quot;heart&quot;+i)));\r\n                    }\r\n                }\r\n            });\r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if(!(intheart.isEmpty()||intdates.isEmpty())){\r\n                        int count =0;\r\n                        if(times&gt;7){\r\n                            times=7;\r\n                        }\r\n                        last.setText(&quot;Last &quot;+ times +&quot; Days history&quot;);\r\n                        for(int i =0 ; i&lt;intdates.size();i++){\r\n                            if(1.2*avg_heart&lt;intheart.get(i)||0.8*avg_heart&lt;intheart.get(i)){\r\n                                L[i].setBackgroundColor(R.drawable.color_gradient1);\r\n                                img[i].setImageResource(R.drawable.sad);\r\n                            }\r\n                            else{\r\n                                L[i].setBackgroundColor(R.drawable.gradient_color);\r\n                                img[i].setImageResource(R.drawable.happy);\r\n                            }\r\n                            dates[i].setText(intdates.get(i));\r\n                            hr[i].setText(intheart.get(i)+&quot; Bpm&quot;);\r\n                            L[i].setVisibility(View.VISIBLE);\r\n                        }\r\n                    }\r\n                    else{\r\n                        handler.postDelayed(this, 100);\r\n\r\n                    }\r\n\r\n                }\r\n            }, 100);\r\n\r\n\r\n\r\n        \r\n    }\r\n}\r\n```\r\nHere is my XML code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:padding=&quot;20dp&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.history&quot;&gt;\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtlast&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;40dp&quot;\r\n        android:text=&quot;&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:text=&quot;&quot;\r\n        android:id=&quot;@+id/txtaverage&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtday1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 1&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtdate1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday1&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot; /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate1&quot;\r\n                    android:id=&quot;@+id/heartrate1&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img1&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                android:background=&quot;@drawable/color_gradient1&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 2&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday2&quot;\r\n                    /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtdate2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday2&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/heartrate2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate2&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img2&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:id=&quot;@+id/layout3&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 3&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday3&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday3&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate3&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate3&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:id=&quot;@+id/heartrate3&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img3&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout4&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/color_gradient1&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 4&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday4&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday4&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate4&quot;\r\n                    /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/heartrate4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate4&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot; /&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img4&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout5&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 1&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday5&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday5&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate5&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate5&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:id=&quot;@+id/heartrate5&quot;\r\n                    /&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img5&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:visibility=&quot;invisible&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:id=&quot;@+id/layout6&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 6&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday6&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday6&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate6&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate6&quot;\r\n                    android:id=&quot;@+id/heartrate6&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img6&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:visibility=&quot;invisible&quot;\r\n                android:id=&quot;@+id/layout7&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 7&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday7&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday7&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate7&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate7&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:id=&quot;@+id/heartrate7&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img7&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtNodata&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:fontFamily=&quot;@font/lovelo&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;No data Available&quot;\r\n        android:textColor=&quot;@color/colorRed&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:visibility=&quot;invisible&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n&lt;/ScrollView&gt;\r\n\r\n```\r\nWhen I run the code I get this error on a null object reference when I try to setbackground color inside the handler:\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.RelativeLayout.setBackgroundColor(int)&#39; \r\n\r\nThe code should run fine since I initialized all the views. I&#39;ve been stuck for a while I don&#39;t know where is the problem help.","title":"Why do I get a null object reference on my RealtiveLayout.setBackgroundColor although I have initialized it","body":"<p>Here is my java code:</p>\n<pre><code>package com.example.project_final;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.EventListener;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.FirebaseFirestoreException;\n\nimport java.util.ArrayList;\n\npublic class history extends AppCompatActivity {\n    FirebaseFirestore Fstore;\n    String userID;\n    FirebaseAuth fAuth ;\n    int times;\n    int heart;\n    int avg_heart;\n    String date;\n    int count = 0;\n    TextView Data;\n    RelativeLayout [] L = new RelativeLayout[7];\n    TextView [] hr = new TextView[7];\n    TextView [] dates = new TextView[7];\n    ImageView [] img = new ImageView[7];\n    TextView last;\n    ArrayList&lt;Integer&gt; intheart = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; intdates = new ArrayList&lt;&gt;();\n    TextView average;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_history);\n        Fstore = FirebaseFirestore.getInstance();\n        fAuth = FirebaseAuth.getInstance();\n        userID= fAuth.getUid();\n        DocumentReference documentReference = Fstore.collection(&quot;users&quot;).document(userID);\n        Data = findViewById(R.id.txtNodata);\n        Intent intent1 = getIntent();\n        String signup = intent1.getStringExtra(&quot;signup&quot;);\n            last = findViewById(R.id.txtlast);\n            average = findViewById(R.id.txtaverage);\n            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;layout&quot;+ i+1, &quot;id&quot;, this.getPackageName());\n                L[i] = findViewById(resourceId);\n            }\n            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;heartrate&quot;+ i+1, &quot;id&quot;, this.getPackageName());\n                hr[i] = findViewById(resourceId);\n            }\n            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;txtdate&quot;+ i+1, &quot;id&quot;, this.getPackageName());\n                dates[i] = findViewById(resourceId);\n            }\n            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;img&quot;+ i+1, &quot;id&quot;, this.getPackageName());\n                img[i] = findViewById(resourceId);\n            }\n            documentReference.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                    times = Math.toIntExact(task.getResult().getLong(&quot;times&quot;));\n                    avg_heart = Math.toIntExact(task.getResult().getLong(&quot;average_heart_rate&quot;));\n                    for (int i = 0 ; i &lt;times ;i++){\n                        intdates.add(task.getResult().getString(&quot;date&quot; + i));\n                        intheart.add(Math.toIntExact(task.getResult().getLong(&quot;heart&quot;+i)));\n                    }\n                }\n            });\n            final Handler handler = new Handler();\n            handler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    if(!(intheart.isEmpty()||intdates.isEmpty())){\n                        int count =0;\n                        if(times&gt;7){\n                            times=7;\n                        }\n                        last.setText(&quot;Last &quot;+ times +&quot; Days history&quot;);\n                        for(int i =0 ; i&lt;intdates.size();i++){\n                            if(1.2*avg_heart&lt;intheart.get(i)||0.8*avg_heart&lt;intheart.get(i)){\n                                L[i].setBackgroundColor(R.drawable.color_gradient1);\n                                img[i].setImageResource(R.drawable.sad);\n                            }\n                            else{\n                                L[i].setBackgroundColor(R.drawable.gradient_color);\n                                img[i].setImageResource(R.drawable.happy);\n                            }\n                            dates[i].setText(intdates.get(i));\n                            hr[i].setText(intheart.get(i)+&quot; Bpm&quot;);\n                            L[i].setVisibility(View.VISIBLE);\n                        }\n                    }\n                    else{\n                        handler.postDelayed(this, 100);\n\n                    }\n\n                }\n            }, 100);\n\n\n\n        \n    }\n}\n</code></pre>\n<p>Here is my XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:padding=&quot;20dp&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.history&quot;&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n    &lt;TextView\n        android:id=&quot;@+id/txtlast&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;40dp&quot;\n        android:text=&quot;&quot;\n        android:textSize=&quot;30sp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textColor=&quot;#000&quot;\n        android:textStyle=&quot;bold&quot;\n        /&gt;\n    &lt;TextView\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textStyle=&quot;bold&quot;\n        android:text=&quot;&quot;\n        android:id=&quot;@+id/txtaverage&quot;\n        android:textColor=&quot;#000&quot;\n        android:layout_gravity=&quot;center&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:id=&quot;@+id/layout1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:padding=&quot;10dp&quot;\n                android:visibility=&quot;invisible&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/txtday1&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 1&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/txtdate1&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday1&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot; /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate1&quot;\n                    android:id=&quot;@+id/heartrate1&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img1&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:id=&quot;@+id/layout2&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:visibility=&quot;invisible&quot;\n                android:background=&quot;@drawable/color_gradient1&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 2&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday2&quot;\n                    /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/txtdate2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday2&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/heartrate2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate2&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img2&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:id=&quot;@+id/layout3&quot;\n                android:visibility=&quot;invisible&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 3&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday3&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday3&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate3&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate3&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:id=&quot;@+id/heartrate3&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img3&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:id=&quot;@+id/layout4&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/color_gradient1&quot;\n                android:visibility=&quot;invisible&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 4&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday4&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday4&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate4&quot;\n                    /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/heartrate4&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate4&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot; /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/img4&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:id=&quot;@+id/layout5&quot;\n                android:visibility=&quot;invisible&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 1&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday5&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday5&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate5&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate5&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:id=&quot;@+id/heartrate5&quot;\n                    /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/img5&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:visibility=&quot;invisible&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:id=&quot;@+id/layout6&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 6&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday6&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday6&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate6&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate6&quot;\n                    android:id=&quot;@+id/heartrate6&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img6&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:visibility=&quot;invisible&quot;\n                android:id=&quot;@+id/layout7&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 7&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday7&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday7&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate7&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate7&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:id=&quot;@+id/heartrate7&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img7&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n\n    &lt;/LinearLayout&gt;\n    &lt;TextView\n        android:id=&quot;@+id/txtNodata&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:fontFamily=&quot;@font/lovelo&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;No data Available&quot;\n        android:textColor=&quot;@color/colorRed&quot;\n        android:textSize=&quot;20sp&quot;\n        android:visibility=&quot;invisible&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n\n</code></pre>\n<p>When I run the code I get this error on a null object reference when I try to setbackground color inside the handler:</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.RelativeLayout.setBackgroundColor(int)'</p>\n<p>The code should run fine since I initialized all the views. I've been stuck for a while I don't know where is the problem help.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-secrets-manager","truststore"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1667067147,"post_id":74245933,"comment_id":131084941,"body_markdown":"What truststore? The Java truststore? The code for accessing the truststore and the code for accessing something in SecretsManager would be completely different, so it is entirely unclear what is happening in your application. You would need to edit your question to include your code, and any relevant logs and error messages, if you want someone here to help you.","body":"What truststore? The Java truststore? The code for accessing the truststore and the code for accessing something in SecretsManager would be completely different, so it is entirely unclear what is happening in your application. You would need to edit your question to include your code, and any relevant logs and error messages, if you want someone here to help you."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667081920,"post_id":74245933,"comment_id":131087488,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26494082,"reputation":1,"user_id":20132107,"display_name":"qwerty"},"score":0,"creation_date":1667169500,"post_id":74245933,"comment_id":131101470,"body_markdown":"I meant java truststore. So I have a java application and it has truststore with few keys related to project. Now I&#39;m adding new feature, where I want to use secret manager to store my secrets. Its erroring out in secrets manager client while trying to access the secret: with error: [sdkclientexception unable to execute http request pkix path building failed: unable to find valid certification path]","body":"I meant java truststore. So I have a java application and it has truststore with few keys related to project. Now I&#39;m adding new feature, where I want to use secret manager to store my secrets. Its erroring out in secrets manager client while trying to access the secret: with error: [sdkclientexception unable to execute http request pkix path building failed: unable to find valid certification path]"},{"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"score":0,"creation_date":1678185962,"post_id":74245933,"comment_id":133480620,"body_markdown":"Consider using https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC1/reference/html/index.html#spring-cloud-aws-secrets-manager to simplify it.","body":"Consider using <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC1/reference/html/index.html#spring-cloud-aws-secrets-manager\" rel=\"nofollow noreferrer\">docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC1/reference/h&zwnj;&#8203;tml/&hellip;</a> to simplify it."}],"owner":{"account_id":26494082,"reputation":1,"user_id":20132107,"display_name":"qwerty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667067083,"creation_date":1667051943,"question_id":74245933,"body_markdown":"I have lambda function in spring boot, and I want to access secret manager and not truststore.\r\nWhile trying to get access secret manager, application is trying to find for the secret in truststore rather than going to secret manager. \r\nhow to solve this?\r\n\r\n\r\ntrying to find if there are any configs that will help me to use both truststore and secret manager.","title":"Access AWS secret manager over truststore of application","body":"<p>I have lambda function in spring boot, and I want to access secret manager and not truststore.\nWhile trying to get access secret manager, application is trying to find for the secret in truststore rather than going to secret manager.\nhow to solve this?</p>\n<p>trying to find if there are any configs that will help me to use both truststore and secret manager.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","spring-cloud-gateway"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1666878130,"post_id":74220633,"comment_id":131043108,"body_markdown":"Shouldn&#39;t the return of the `keycloakIntrospector` bean method be `ReactiveOpaqueTokenIntrospector`?","body":"Shouldn&#39;t the return of the <code>keycloakIntrospector</code> bean method be <code>ReactiveOpaqueTokenIntrospector</code>?"},{"owner":{"account_id":24845157,"reputation":119,"user_id":18723075,"display_name":"alexmntmnk"},"score":0,"creation_date":1666879061,"post_id":74220633,"comment_id":131043489,"body_markdown":"If only in the article on the site https://www.baeldung.com an error. You can follow the link and make sure that they have an object of the SpringOpaqueTokenIntrospector class","body":"If only in the article on the site <a href=\"https://www.baeldung.com\" rel=\"nofollow noreferrer\">baeldung.com</a> an error. You can follow the link and make sure that they have an object of the SpringOpaqueTokenIntrospector class"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667065625,"creation_date":1666893889,"answer_id":74226469,"question_id":74220633,"body_markdown":"Marcus is right in his comment, your `keycloakIntrospector` @Bean type should be  `ReactiveOpaqueTokenIntrospector` (and not `SpringOpaqueTokenIntrospector` as declared in your conf)\r\n\r\nFew facts:\r\n- `SpringReactiveOpaqueTokenIntrospector` is a `ReactiveOpaqueTokenIntrospector` but `SpringOpaqueTokenIntrospector` isn&#39;t\r\n- your `KeycloakReactiveTokenInstrospector` is (implements) a `ReactiveOpaqueTokenIntrospector` too but is neither a `SpringReactiveOpaqueTokenIntrospector`, `SpringOpaqueTokenIntrospector` nor `OpaqueTokenIntrospector`\r\n\r\n# Side notes\r\n## Introspection VS JWT decoding\r\nKeycloak issues JWTs. JWT decoding is far more efficient than introspection: resource-server needs to fetch public-key only once from authorization-server to validate all incoming JWTs when introspection requires to submit access-token to authorization-server for each and every incoming request.\r\n\r\nAlso, you might not be able to implement multi-tenant scenarios with introspection: how to figure out by which issuer (Keycloak instance or realm) an opaque token was emitted? =&gt; you would have to &quot;try&quot; introspection on each issuer until one responds positively :/\r\n\r\n## Overriding introspector VS providing an authentication converter\r\nIf you switch to spring-security 5.8 or higher, customizing introspection is easier: you don&#39;t have to override the all introspector but can just provide a `ReactiveOpaqueTokenAuthenticationConverter` bean instead:\r\n```java\r\nhttp.oauth2ResourceServer().opaqueToken().authenticationConverter(\r\n    (String introspectedToken, OAuth2AuthenticatedPrincipal authenticatedPrincipal) -&gt; \r\n        new BearerTokenAuthentication(...));\r\n```\r\n\r\nThis bean is called after introspection was successfuly completed (and token attributes retrieved) but before `Authentication` is instanciated and put in security-context which allows you to just map authorities from any attribute you like or completely switch the authentication implementation.\r\n\r\n## Simplifying your resource-server configuration\r\nI host a [set of libs][1] to ease OAuth2 resource-server testing and configuration. There are various spring-boot starters depending on introspection or JWT decoding is used into servlet or reactive apps.\r\n\r\nAccording to your case (reactive app with introspection), you should have a look at this [sample with `BearerTokenAuthentication`][2] and [this other one with a custom authentication][3].\r\n\r\nConfiguration can be as simple as:\r\n```java\r\n@EnableReactiveMethodSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n}\r\n```\r\n```properties\r\nspring.security.oauth2.resourceserver.opaquetoken.introspection-uri=https://localhost:8443/realms/master/protocol/openid-connect/token/introspect\r\nspring.security.oauth2.resourceserver.opaquetoken.client-id=spring-addons-confidential\r\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=change-me\r\n\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\r\n\r\n# this is probably too permissive, addapt to your needs\r\ncom.c4-soft.springaddons.security.cors[0]=/**\r\n```\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-addons-webflux-introspecting-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.3&lt;/version&gt;&lt;!-- warning, this version goes with spring-boot 3.0.0-RC1 --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-default\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-oauthentication","title":"I can&#39;t build a Spring Cloud Gateway project with OAuth 2.0","body":"<p>Marcus is right in his comment, your <code>keycloakIntrospector</code> @Bean type should be  <code>ReactiveOpaqueTokenIntrospector</code> (and not <code>SpringOpaqueTokenIntrospector</code> as declared in your conf)</p>\n<p>Few facts:</p>\n<ul>\n<li><code>SpringReactiveOpaqueTokenIntrospector</code> is a <code>ReactiveOpaqueTokenIntrospector</code> but <code>SpringOpaqueTokenIntrospector</code> isn't</li>\n<li>your <code>KeycloakReactiveTokenInstrospector</code> is (implements) a <code>ReactiveOpaqueTokenIntrospector</code> too but is neither a <code>SpringReactiveOpaqueTokenIntrospector</code>, <code>SpringOpaqueTokenIntrospector</code> nor <code>OpaqueTokenIntrospector</code></li>\n</ul>\n<h1>Side notes</h1>\n<h2>Introspection VS JWT decoding</h2>\n<p>Keycloak issues JWTs. JWT decoding is far more efficient than introspection: resource-server needs to fetch public-key only once from authorization-server to validate all incoming JWTs when introspection requires to submit access-token to authorization-server for each and every incoming request.</p>\n<p>Also, you might not be able to implement multi-tenant scenarios with introspection: how to figure out by which issuer (Keycloak instance or realm) an opaque token was emitted? =&gt; you would have to &quot;try&quot; introspection on each issuer until one responds positively :/</p>\n<h2>Overriding introspector VS providing an authentication converter</h2>\n<p>If you switch to spring-security 5.8 or higher, customizing introspection is easier: you don't have to override the all introspector but can just provide a <code>ReactiveOpaqueTokenAuthenticationConverter</code> bean instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.oauth2ResourceServer().opaqueToken().authenticationConverter(\n    (String introspectedToken, OAuth2AuthenticatedPrincipal authenticatedPrincipal) -&gt; \n        new BearerTokenAuthentication(...));\n</code></pre>\n<p>This bean is called after introspection was successfuly completed (and token attributes retrieved) but before <code>Authentication</code> is instanciated and put in security-context which allows you to just map authorities from any attribute you like or completely switch the authentication implementation.</p>\n<h2>Simplifying your resource-server configuration</h2>\n<p>I host a <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">set of libs</a> to ease OAuth2 resource-server testing and configuration. There are various spring-boot starters depending on introspection or JWT decoding is used into servlet or reactive apps.</p>\n<p>According to your case (reactive app with introspection), you should have a look at this <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-default\" rel=\"nofollow noreferrer\">sample with <code>BearerTokenAuthentication</code></a> and <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-oauthentication\" rel=\"nofollow noreferrer\">this other one with a custom authentication</a>.</p>\n<p>Configuration can be as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableReactiveMethodSecurity\n@Configuration\npublic class SecurityConfig {\n}\n</code></pre>\n<pre><code>spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=https://localhost:8443/realms/master/protocol/openid-connect/token/introspect\nspring.security.oauth2.resourceserver.opaquetoken.client-id=spring-addons-confidential\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=change-me\n\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\n\n# this is probably too permissive, addapt to your needs\ncom.c4-soft.springaddons.security.cors[0]=/**\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webflux-introspecting-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;&lt;!-- warning, this version goes with spring-boot 3.0.0-RC1 --&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24845157,"reputation":119,"user_id":18723075,"display_name":"alexmntmnk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74226469,"answer_count":1,"score":1,"last_activity_date":1667065625,"creation_date":1666866726,"question_id":74220633,"body_markdown":"I&#39;m trying to build a Backend Service project using the example from the site\r\n\r\n[Using Spring Cloud Gateway with OAuth 2.0 Patterns][1]\r\n\r\nHere is the repository itself\r\n[backend][2]\r\n\r\nAdded dependencies\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;ru.test.gw.oauth.resource&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;backresource&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;backresource&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;14&lt;/java.version&gt;\t\t\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI moved the properties from the quotes-application.properties file to this project\r\n\r\n    server.port=11002\r\n    # Resource server settings\r\n    spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://localhost:8484/auth/realms/demo/protocol/openid-connect/token/introspect\r\n    spring.security.oauth2.resourceserver.opaquetoken.client-id=gateway\r\n    spring.security.oauth2.resourceserver.opaquetoken.client-secret=dfdslksfkljweewrfsd\r\n\r\nAdded a class \r\n\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.oauth2.core.DefaultOAuth2AuthenticatedPrincipal;\r\n    import org.springframework.security.oauth2.core.OAuth2AuthenticatedPrincipal;\r\n    import org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    // Custom ReactiveTokenIntrospector to map realm roles into Spring GrantedAuthorities\r\n    public class KeycloakReactiveTokenInstrospector implements ReactiveOpaqueTokenIntrospector {\r\n        \r\n        private final ReactiveOpaqueTokenIntrospector delegate;\r\n       \r\n        public KeycloakReactiveTokenInstrospector(ReactiveOpaqueTokenIntrospector delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n    \r\n        @Override\r\n        public Mono&lt;OAuth2AuthenticatedPrincipal&gt; introspect(String token) {\r\n            \r\n            return delegate.introspect(token)\r\n             .map( this::mapPrincipal);\r\n        }\r\n        \r\n        protected OAuth2AuthenticatedPrincipal mapPrincipal(OAuth2AuthenticatedPrincipal principal) {\r\n            \r\n            return new DefaultOAuth2AuthenticatedPrincipal(\r\n                principal.getName(),\r\n                principal.getAttributes(),\r\n                extractAuthorities(principal));\r\n        }\r\n        \r\n        protected Collection&lt;GrantedAuthority&gt; extractAuthorities(OAuth2AuthenticatedPrincipal principal) {\r\n            \r\n            //\r\n            Map&lt;String,List&lt;String&gt;&gt; realm_access = principal.getAttribute(&quot;realm_access&quot;);\r\n            List&lt;String&gt; roles = realm_access.getOrDefault(&quot;roles&quot;, Collections.emptyList());\r\n            List&lt;GrantedAuthority&gt; rolesAuthorities = roles.stream()\r\n                    .map(SimpleGrantedAuthority::new)\r\n                    .collect(Collectors.toList());\r\n            \r\n            Set&lt;GrantedAuthority&gt; allAuthorities = new HashSet&lt;&gt;();\r\n            allAuthorities.addAll(principal.getAuthorities());\r\n            allAuthorities.addAll(rolesAuthorities);\r\n            \r\n            return allAuthorities;\r\n        }\r\n    }\r\n\r\n\r\nAnd the main class of the project\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\r\n    import org.springframework.security.oauth2.server.resource.introspection.NimbusReactiveOpaqueTokenIntrospector;\r\n    import org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector;\r\n    import ru.test.gw.oauth.resource.backresource.security.KeycloakReactiveTokenInstrospector;\r\n    \r\n    @SpringBootApplication\r\n    //@PropertySource(&quot;classpath:quotes-application.properties&quot;)\r\n    @EnableWebFluxSecurity\r\n    public class BackresourceApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(BackresourceApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n        public SpringOpaqueTokenIntrospector keycloakIntrospector(OAuth2ResourceServerProperties props) {\r\n            \r\n            NimbusReactiveOpaqueTokenIntrospector delegate = new NimbusReactiveOpaqueTokenIntrospector(\r\n               props.getOpaquetoken().getIntrospectionUri(),\r\n               props.getOpaquetoken().getClientId(),\r\n               props.getOpaquetoken().getClientSecret());\r\n            \r\n            return new KeycloakReactiveTokenInstrospector(delegate);\r\n        }\r\n    \t\r\n    }\r\n\r\nAnd in this class I get an error on SpringOpaqueTokenIntrospector, writes that it is not defined. Although all the imports completely coincide with the training example.\r\nIf I add a dependency that the IDE tells me to\r\n\r\n    import org.springframework.security.oauth2.server.resource.introspection.SpringOpaqueTokenIntrospector;\r\n\r\n, then I get an error\r\n\r\n    Type mismatch: cannot convert from KeycloakReactiveTokenInstrospector to SpringOpaqueTokenIntrospector \r\n\r\nWhat&#39;s the problem here? Is there some kind of dependency missing?\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-gateway-oauth2\r\n  [2]: https://github.com/eugenp/tutorials/blob/master/spring-cloud-modules/spring-cloud-gateway/src/main/java/com/baeldung/springcloudgateway/oauth/backend/\r\n\r\nI completely repeated the structure of the project from the training material. \r\nSo far, I would like to build a project without errors.","title":"I can&#39;t build a Spring Cloud Gateway project with OAuth 2.0","body":"<p>I'm trying to build a Backend Service project using the example from the site</p>\n<p><a href=\"https://www.baeldung.com/spring-cloud-gateway-oauth2\" rel=\"nofollow noreferrer\">Using Spring Cloud Gateway with OAuth 2.0 Patterns</a></p>\n<p>Here is the repository itself\n<a href=\"https://github.com/eugenp/tutorials/blob/master/spring-cloud-modules/spring-cloud-gateway/src/main/java/com/baeldung/springcloudgateway/oauth/backend/\" rel=\"nofollow noreferrer\">backend</a></p>\n<p>Added dependencies</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;ru.test.gw.oauth.resource&lt;/groupId&gt;\n    &lt;artifactId&gt;backresource&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backresource&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;     \n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I moved the properties from the quotes-application.properties file to this project</p>\n<pre><code>server.port=11002\n# Resource server settings\nspring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://localhost:8484/auth/realms/demo/protocol/openid-connect/token/introspect\nspring.security.oauth2.resourceserver.opaquetoken.client-id=gateway\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=dfdslksfkljweewrfsd\n</code></pre>\n<p>Added a class</p>\n<pre><code>import org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.oauth2.core.DefaultOAuth2AuthenticatedPrincipal;\nimport org.springframework.security.oauth2.core.OAuth2AuthenticatedPrincipal;\nimport org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector;\nimport reactor.core.publisher.Mono;\n\n// Custom ReactiveTokenIntrospector to map realm roles into Spring GrantedAuthorities\npublic class KeycloakReactiveTokenInstrospector implements ReactiveOpaqueTokenIntrospector {\n    \n    private final ReactiveOpaqueTokenIntrospector delegate;\n   \n    public KeycloakReactiveTokenInstrospector(ReactiveOpaqueTokenIntrospector delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public Mono&lt;OAuth2AuthenticatedPrincipal&gt; introspect(String token) {\n        \n        return delegate.introspect(token)\n         .map( this::mapPrincipal);\n    }\n    \n    protected OAuth2AuthenticatedPrincipal mapPrincipal(OAuth2AuthenticatedPrincipal principal) {\n        \n        return new DefaultOAuth2AuthenticatedPrincipal(\n            principal.getName(),\n            principal.getAttributes(),\n            extractAuthorities(principal));\n    }\n    \n    protected Collection&lt;GrantedAuthority&gt; extractAuthorities(OAuth2AuthenticatedPrincipal principal) {\n        \n        //\n        Map&lt;String,List&lt;String&gt;&gt; realm_access = principal.getAttribute(&quot;realm_access&quot;);\n        List&lt;String&gt; roles = realm_access.getOrDefault(&quot;roles&quot;, Collections.emptyList());\n        List&lt;GrantedAuthority&gt; rolesAuthorities = roles.stream()\n                .map(SimpleGrantedAuthority::new)\n                .collect(Collectors.toList());\n        \n        Set&lt;GrantedAuthority&gt; allAuthorities = new HashSet&lt;&gt;();\n        allAuthorities.addAll(principal.getAuthorities());\n        allAuthorities.addAll(rolesAuthorities);\n        \n        return allAuthorities;\n    }\n}\n</code></pre>\n<p>And the main class of the project</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\nimport org.springframework.security.oauth2.server.resource.introspection.NimbusReactiveOpaqueTokenIntrospector;\nimport org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector;\nimport ru.test.gw.oauth.resource.backresource.security.KeycloakReactiveTokenInstrospector;\n\n@SpringBootApplication\n//@PropertySource(&quot;classpath:quotes-application.properties&quot;)\n@EnableWebFluxSecurity\npublic class BackresourceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackresourceApplication.class, args);\n    }\n\n    @Bean\n    public SpringOpaqueTokenIntrospector keycloakIntrospector(OAuth2ResourceServerProperties props) {\n        \n        NimbusReactiveOpaqueTokenIntrospector delegate = new NimbusReactiveOpaqueTokenIntrospector(\n           props.getOpaquetoken().getIntrospectionUri(),\n           props.getOpaquetoken().getClientId(),\n           props.getOpaquetoken().getClientSecret());\n        \n        return new KeycloakReactiveTokenInstrospector(delegate);\n    }\n    \n}\n</code></pre>\n<p>And in this class I get an error on SpringOpaqueTokenIntrospector, writes that it is not defined. Although all the imports completely coincide with the training example.\nIf I add a dependency that the IDE tells me to</p>\n<pre><code>import org.springframework.security.oauth2.server.resource.introspection.SpringOpaqueTokenIntrospector;\n</code></pre>\n<p>, then I get an error</p>\n<pre><code>Type mismatch: cannot convert from KeycloakReactiveTokenInstrospector to SpringOpaqueTokenIntrospector \n</code></pre>\n<p>What's the problem here? Is there some kind of dependency missing?</p>\n<p>I completely repeated the structure of the project from the training material.\nSo far, I would like to build a project without errors.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1667043226,"post_id":74244790,"comment_id":131080034,"body_markdown":"Add more detail to what `when a members leaves` means","body":"Add more detail to what <code>when a members leaves</code> means"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1667043767,"post_id":74244790,"comment_id":131080100,"body_markdown":"No, this is not possible. You can only check roles, but channel overwrites are cleaned up on leave.","body":"No, this is not possible. You can only check roles, but channel overwrites are cleaned up on leave."}],"answers":[{"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667065084,"creation_date":1667065084,"answer_id":74247452,"question_id":74244790,"body_markdown":"It took me a while, but i found the asnwer!\r\n\r\nFirst declare an array of type PermissionOverride[] in the main method.\r\n\r\nThen in the onGuildMemberJoin method:\r\n```\r\n    overrides = new PermissionOverride[overrides.length +1];\r\n        overrides[overrides.length - 1] = event.getGuild()\r\n                .getTextChannelById(textChannel.getId())\r\n                .getPermissionContainer()\r\n                .getPermissionOverrides()\r\n                .get(0);\r\n```\r\nNow in the onGuildMemberRemove method i can simply check if what i am looking for exists in overrides[]\r\n```\r\n    public void onGuildMemberRemove(GuildMemberRemoveEvent event) {\r\n\r\n        for(int k=0; k&lt;event.getGuild().getCategoryById(&quot;1030472114907652137&quot;).getChannels().size(); k++) {\r\n            for(int l = 0 ; l &lt; overrides.length; l++){\r\n                if(overrides[l].getChannel().getId().equals(event.getGuild().getCategoryById(&quot;1030472114907652137&quot;).getChannels().get(k).getId())) {\r\n                    if (!overrides[l].getChannel().getId().equals(null)) {\r\n                        overrides[l].getChannel().asTextChannel().delete().queue();\r\n\r\n                        overrides = removeOverride(overrides, overrides[l]);\r\n\r\n                        System.out.println(overrides);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\nFor explanation i am creating a verification channel every time someone joins the server and grants them the VIEW_CHANNEL permission, then in case they leave before completing the verification, i remove the channel that they had access too.\r\n\r\nIn other words if you want to do it, you have to save the data in a PermissionOverride array, to access it when you need.\r\n\r\n@Minn\r\nNothing is impossible.","title":"How to check if a user HAD a permission before they left the server?","body":"<p>It took me a while, but i found the asnwer!</p>\n<p>First declare an array of type PermissionOverride[] in the main method.</p>\n<p>Then in the onGuildMemberJoin method:</p>\n<pre><code>    overrides = new PermissionOverride[overrides.length +1];\n        overrides[overrides.length - 1] = event.getGuild()\n                .getTextChannelById(textChannel.getId())\n                .getPermissionContainer()\n                .getPermissionOverrides()\n                .get(0);\n</code></pre>\n<p>Now in the onGuildMemberRemove method i can simply check if what i am looking for exists in overrides[]</p>\n<pre><code>    public void onGuildMemberRemove(GuildMemberRemoveEvent event) {\n\n        for(int k=0; k&lt;event.getGuild().getCategoryById(&quot;1030472114907652137&quot;).getChannels().size(); k++) {\n            for(int l = 0 ; l &lt; overrides.length; l++){\n                if(overrides[l].getChannel().getId().equals(event.getGuild().getCategoryById(&quot;1030472114907652137&quot;).getChannels().get(k).getId())) {\n                    if (!overrides[l].getChannel().getId().equals(null)) {\n                        overrides[l].getChannel().asTextChannel().delete().queue();\n\n                        overrides = removeOverride(overrides, overrides[l]);\n\n                        System.out.println(overrides);\n                    }\n                }\n            }\n        }\n    }\n\n</code></pre>\n<p>For explanation i am creating a verification channel every time someone joins the server and grants them the VIEW_CHANNEL permission, then in case they leave before completing the verification, i remove the channel that they had access too.</p>\n<p>In other words if you want to do it, you have to save the data in a PermissionOverride array, to access it when you need.</p>\n<p>@Minn\nNothing is impossible.</p>\n"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74247452,"answer_count":1,"score":0,"last_activity_date":1667065084,"creation_date":1667042075,"question_id":74244790,"body_markdown":"Since\r\n\r\n```\r\nonGuildMemberRemove() \r\n```\r\n\r\nis called when a members leaves, when trying to check if he had permission to view/speak in a specific channel, it returns that\r\n\r\n```\r\ntextChannel.canTalk(event.getMember()) \r\n```\r\n\r\nis empty / null\r\n\r\nPlease help me get around this.\r\n\r\nHere is my\r\n\r\n```\r\nonGuildMemberRemove() \r\n```\r\n\r\n```\r\nfor (int i = 0; i &lt; channelID.length; i++) {\r\n    TextChannel textChannel = event.getGuild().getTextChannelById(channelID[i]);\r\n\r\n    if (textChannel.canTalk(event.getMember()) &amp;&amp; textChannel.getParentCategoryId().equals(&quot;1030472114907652137&quot;)) {\r\n        textChannel.delete().queue();\r\n        Arrays.stream(channelID).toList().remove(i);\r\n    }\r\n\r\n}\r\n```","title":"How to check if a user HAD a permission before they left the server?","body":"<p>Since</p>\n<pre><code>onGuildMemberRemove() \n</code></pre>\n<p>is called when a members leaves, when trying to check if he had permission to view/speak in a specific channel, it returns that</p>\n<pre><code>textChannel.canTalk(event.getMember()) \n</code></pre>\n<p>is empty / null</p>\n<p>Please help me get around this.</p>\n<p>Here is my</p>\n<pre><code>onGuildMemberRemove() \n</code></pre>\n<pre><code>for (int i = 0; i &lt; channelID.length; i++) {\n    TextChannel textChannel = event.getGuild().getTextChannelById(channelID[i]);\n\n    if (textChannel.canTalk(event.getMember()) &amp;&amp; textChannel.getParentCategoryId().equals(&quot;1030472114907652137&quot;)) {\n        textChannel.delete().queue();\n        Arrays.stream(channelID).toList().remove(i);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1666759271,"post_id":74202726,"comment_id":131009655,"body_markdown":"Right now you&#39;re running the outer loop N times (N = number of years) and the inner loop N * 12 times.  `1*(1*12) = 12`, but `2*(2*12) = 48`.  Why do you think the outer loop is needed?  You never use `i` in your current code.","body":"Right now you&#39;re running the outer loop N times (N = number of years) and the inner loop N * 12 times.  <code>1*(1*12) = 12</code>, but <code>2*(2*12) = 48</code>.  Why do you think the outer loop is needed?  You never use <code>i</code> in your current code."}],"answers":[{"tags":[],"owner":{"account_id":26278195,"reputation":1,"user_id":19947011,"display_name":"slingshot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666759640,"creation_date":1666759048,"answer_id":74202763,"question_id":74202726,"body_markdown":"Try using the break statement at which condition you want to break. In that case, you can easily come out of the loop.\r\nYou already looping per year so you do not need to multiply the year again in the next loop.\r\nOriginal : `for(int j = 1; j &lt;= (years * 12); j++)` Changed: `for(int j = 1; j &lt;= 12; j++)`\r\n\r\nHere is some ref: https://www.programiz.com/java-programming/break-statement\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class AverageRainfall {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner kb = new Scanner(System.in);\r\n            \r\n            System.out.println(&quot;How many years did it rain? &quot;);\r\n    \r\n            int years = kb.nextInt();\r\n            int totalRain = 0;\r\n    \r\n            \r\n            for (int i = 1; i &lt;= years; i++){\r\n                for(int j = 1; j &lt;= 12; j++){\r\n                    System.out.println(&quot;How many inches of rain this month?&quot;);\r\n                    totalRain += kb.nextInt();\r\n                    \r\n                    System.out.println(&quot;Month: &quot; + j);\r\n                    System.out.println(totalRain + &quot; Inches of rain!&quot; );\r\n                }\r\n        }\r\n            System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot;years is:&quot; + totalRain/(12*years) + &quot;Inches&quot;);\r\n            \r\n        }\r\n        \r\n    }","title":"Java: How to make my nested for loop stop after it has completed its loop","body":"<p>Try using the break statement at which condition you want to break. In that case, you can easily come out of the loop.\nYou already looping per year so you do not need to multiply the year again in the next loop.\nOriginal : <code>for(int j = 1; j &lt;= (years * 12); j++)</code> Changed: <code>for(int j = 1; j &lt;= 12; j++)</code></p>\n<p>Here is some ref: <a href=\"https://www.programiz.com/java-programming/break-statement\" rel=\"nofollow noreferrer\">https://www.programiz.com/java-programming/break-statement</a></p>\n<pre><code>import java.util.Scanner;\n\npublic class AverageRainfall {\n\n    public static void main(String[] args) {\n        Scanner kb = new Scanner(System.in);\n        \n        System.out.println(&quot;How many years did it rain? &quot;);\n\n        int years = kb.nextInt();\n        int totalRain = 0;\n\n        \n        for (int i = 1; i &lt;= years; i++){\n            for(int j = 1; j &lt;= 12; j++){\n                System.out.println(&quot;How many inches of rain this month?&quot;);\n                totalRain += kb.nextInt();\n                \n                System.out.println(&quot;Month: &quot; + j);\n                System.out.println(totalRain + &quot; Inches of rain!&quot; );\n            }\n    }\n        System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot;years is:&quot; + totalRain/(12*years) + &quot;Inches&quot;);\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13208968,"reputation":41,"user_id":9539836,"display_name":"Int"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666770023,"creation_date":1666764819,"answer_id":74203372,"question_id":74202726,"body_markdown":"The main problem in your code is that you are looping over 12 * years for every year (if you have 2 years, you will loop twice over 24 months). \r\nYou should use the inner loop only for looping over each month, or just use one loop that is 12 * years\r\n\r\nAlso please take note that it is good practise to close the Scanner using .close() method.\r\n\r\nIf you are new I&#39;d suggest you to **always** use significative names for your variables, for example you could rename &quot;kb&quot; to &quot;scanner&quot;, because when the code is longer, the reader loses context of what &quot;kb&quot; is, in any case you should not shorten words and at least use &quot;keyboard&quot; instead \r\n\r\nYou also need to add some spaces when concatenating string with variables, otherwise you will see things like &quot;period of 9years&quot;\r\n\r\nHere&#39;s your code, I&#39;ve taken profit of the structure stated in the assignment and added some messages to improve user experience and information on what he is typing in any moment\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;How many years did it rain? &quot;);\r\n\r\n        int years = scanner.nextInt();\r\n        int totalRain = 0;\r\n\r\n        for (int i = 1; i &lt;= years; i++){\r\n        \t System.out.println(&quot;Lets go with year &quot; + i + &quot;:&quot;);\r\n        \t \r\n            for(int j = 1; j &lt;= 12; j++){\r\n                System.out.println(&quot;How many inches of rain in month &quot; + j + &quot; ?&quot;);\r\n                totalRain += scanner.nextInt();\r\n                \r\n                System.out.println(totalRain + &quot; inches of rain in total!&quot; );\r\n            }\r\n        }\r\n        \r\n         System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot; years is: &quot; + totalRain/(12*years) + &quot; inches.&quot;);\r\n        \r\n         scanner.close();\r\n    }\r\n\r\n ","title":"Java: How to make my nested for loop stop after it has completed its loop","body":"<p>The main problem in your code is that you are looping over 12 * years for every year (if you have 2 years, you will loop twice over 24 months).\nYou should use the inner loop only for looping over each month, or just use one loop that is 12 * years</p>\n<p>Also please take note that it is good practise to close the Scanner using .close() method.</p>\n<p>If you are new I'd suggest you to <strong>always</strong> use significative names for your variables, for example you could rename &quot;kb&quot; to &quot;scanner&quot;, because when the code is longer, the reader loses context of what &quot;kb&quot; is, in any case you should not shorten words and at least use &quot;keyboard&quot; instead</p>\n<p>You also need to add some spaces when concatenating string with variables, otherwise you will see things like &quot;period of 9years&quot;</p>\n<p>Here's your code, I've taken profit of the structure stated in the assignment and added some messages to improve user experience and information on what he is typing in any moment</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.println(&quot;How many years did it rain? &quot;);\n\n    int years = scanner.nextInt();\n    int totalRain = 0;\n\n    for (int i = 1; i &lt;= years; i++){\n         System.out.println(&quot;Lets go with year &quot; + i + &quot;:&quot;);\n         \n        for(int j = 1; j &lt;= 12; j++){\n            System.out.println(&quot;How many inches of rain in month &quot; + j + &quot; ?&quot;);\n            totalRain += scanner.nextInt();\n            \n            System.out.println(totalRain + &quot; inches of rain in total!&quot; );\n        }\n    }\n    \n     System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot; years is: &quot; + totalRain/(12*years) + &quot; inches.&quot;);\n    \n     scanner.close();\n}\n</code></pre>\n"}],"owner":{"account_id":22927376,"reputation":5,"user_id":17062245,"display_name":"ioannis_03"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74203372,"answer_count":2,"score":-1,"last_activity_date":1667065066,"creation_date":1666758662,"question_id":74202726,"body_markdown":"[![My assigment](https://i.stack.imgur.com/dmCPJ.png)](https://i.stack.imgur.com/dmCPJ.png)\r\n\r\nI am pretty new to this so sorry if i am not clear.  \r\nMy code works so far for one year (12 months), however when i want to find the average rainfall for two years (24 months), it finds it for 48 months.\r\n\r\nNot sure how to fix this, or where the problem is situated.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class AverageRainfall {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner kb = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;How many years did it rain? &quot;);\r\n\r\n        int years = kb.nextInt();\r\n\r\n        \r\n        for (int i = 1; i &lt;= years; i++){\r\n            for(int j = 1; j &lt;= (years * 12); j++){\r\n                System.out.println(&quot;How many inches of rain this month?&quot;);\r\n                totalRain += kb.nextInt();\r\n                \r\n                System.out.println(&quot;Month: &quot; + j);\r\n                System.out.println(totalRain + &quot; Inches of rain!&quot; );\r\n            }\r\n    }\r\n        System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot;years is:&quot; + totalRain/(12*years) + &quot;Inches&quot;);\r\n        \r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nI tried changing things inside my for loop conditions but I can&#39;t figure it out.","title":"Java: How to make my nested for loop stop after it has completed its loop","body":"<p><a href=\"https://i.stack.imgur.com/dmCPJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dmCPJ.png\" alt=\"My assigment\" /></a></p>\n<p>I am pretty new to this so sorry if i am not clear.<br />\nMy code works so far for one year (12 months), however when i want to find the average rainfall for two years (24 months), it finds it for 48 months.</p>\n<p>Not sure how to fix this, or where the problem is situated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class AverageRainfall {\n\n    public static void main(String[] args) {\n        Scanner kb = new Scanner(System.in);\n        \n        System.out.println(&quot;How many years did it rain? &quot;);\n\n        int years = kb.nextInt();\n\n        \n        for (int i = 1; i &lt;= years; i++){\n            for(int j = 1; j &lt;= (years * 12); j++){\n                System.out.println(&quot;How many inches of rain this month?&quot;);\n                totalRain += kb.nextInt();\n                \n                System.out.println(&quot;Month: &quot; + j);\n                System.out.println(totalRain + &quot; Inches of rain!&quot; );\n            }\n    }\n        System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot;years is:&quot; + totalRain/(12*years) + &quot;Inches&quot;);\n        \n    }\n    \n}\n\n</code></pre>\n<p>I tried changing things inside my for loop conditions but I can't figure it out.</p>\n"},{"tags":["java","exception","javafx","media-player"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667067527,"post_id":74247333,"comment_id":131085022,"body_markdown":"Why do you call `Platform.runLater`?","body":"Why do you call <code>Platform.runLater</code>?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667067724,"post_id":74247333,"comment_id":131085063,"body_markdown":"Provide a [mcve].  *Minimal* code that replicates the issue through copy and paste with no change or addition that uses a publicly hosted media file via http.","body":"Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  <i>Minimal</i> code that replicates the issue through copy and paste with no change or addition that uses a publicly hosted media file via http."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667068134,"post_id":74247333,"comment_id":131085157,"body_markdown":"Ensure you are using a [JavaFX version](https://search.maven.org/artifact/org.openjfx/javafx-graphics) that is not early access (has `ea` in the version number).","body":"Ensure you are using a <a href=\"https://search.maven.org/artifact/org.openjfx/javafx-graphics\" rel=\"nofollow noreferrer\">JavaFX version</a> that is not early access (has <code>ea</code> in the version number)."},{"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"score":0,"creation_date":1667122471,"post_id":74247333,"comment_id":131092061,"body_markdown":"I ran Platform.runLater since the changes of the textfields otherwise are not shown or delayed.","body":"I ran Platform.runLater since the changes of the textfields otherwise are not shown or delayed."},{"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"score":0,"creation_date":1667122565,"post_id":74247333,"comment_id":131092082,"body_markdown":"JavaFX: 19+11 as stated in the first sentence is no early access to my knowledge but an official release (https://gluonhq.com/products/javafx/openjfx-19-release-notes/)","body":"JavaFX: 19+11 as stated in the first sentence is no early access to my knowledge but an official release (<a href=\"https://gluonhq.com/products/javafx/openjfx-19-release-notes/\" rel=\"nofollow noreferrer\">gluonhq.com/products/javafx/openjfx-19-release-notes</a>)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667125730,"post_id":74247333,"comment_id":131092597,"body_markdown":"&quot;I ran Platform.runLater since the changes of the textfields otherwise are not shown or delayed&quot; -&gt; that sounds like a problem in itself. Probably you have concurrency errors, perhaps other errors as well.","body":"&quot;I ran Platform.runLater since the changes of the textfields otherwise are not shown or delayed&quot; -&gt; that sounds like a problem in itself. Probably you have concurrency errors, perhaps other errors as well."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667126142,"post_id":74247333,"comment_id":131092671,"body_markdown":"I thought the + versions were all early access, but I guess the + number is related to the build (early access will have `ea` in the version).  I ran a version check of javafx system properties on the `19` release and it returned `javafx.version` of 19, and `javafx.runtime.version` of `19+11`.  So `19+11` is the released build of the javafx runtime for the javafx `19` (not early access) release.","body":"I thought the + versions were all early access, but I guess the + number is related to the build (early access will have <code>ea</code> in the version).  I ran a version check of javafx system properties on the <code>19</code> release and it returned <code>javafx.version</code> of 19, and <code>javafx.runtime.version</code> of <code>19+11</code>.  So <code>19+11</code> is the released build of the javafx runtime for the javafx <code>19</code> (not early access) release."}],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667064904,"creation_date":1667064035,"question_id":74247333,"body_markdown":"I wrote a JavaFX based application (Java: 18.0.2, Oracle Corporation and\r\nJavaFX: 19+11, Win 11) to guide through sport training sessions by showing short movies with the respective exercises. For testing purposes I created the first 4 short movies, which I really want to use, once the application is stable. \r\nThe issue is that over 90% of the time the application throws\r\n \r\n\r\n    MediaException: UNKNOWN : [com.sun.media.jfxmediaimpl.platform.gstreamer.GSTMediaPlayer@3f239193] ERROR_MEDIA_INVALID: ERROR_MEDIA_INVALID\r\n    \tat javafx.media@19/javafx.scene.media.MediaException.getMediaException(MediaException.java:161)\r\n    \tat javafx.media@19/javafx.scene.media.MediaPlayer$_MediaErrorListener.onError(MediaPlayer.java:2624)\r\n    \tat javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaPlayer$EventQueueThread.HandleErrorEvents(NativeMediaPlayer.java:692)\r\n    \tat javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaPlayer$EventQueueThread.run(NativeMediaPlayer.java:426)\r\n\r\non one of the four movies. Which movie triggers the exception differs. While the earlier JavaFX version stumbled frequently over the first movie as well, since I installed the current JavaFX version the first movie most of the time - not always - runs fine.\r\n\r\nI checked the release notes and I took from it, that unusual width and height may cause a problem. However, I would expect that either the movie can be shown or not. But that the application sometimes shows the movies and sometimes not, makes it difficult to address the issue.\r\n \r\nFollowing some info about the four movies:\r\n\r\n    All of the videos are \r\n       - Format                               : MPEG-4 \r\n       - Format-Profil                        : Base Media / Version 2 \r\n       - Codec-ID                             : mp42 (mp41/isom)\r\n       - ID                                   : 1 \r\n         - Format                             : AVC \r\n         - Format/Info                        : Advanced Video Codec\r\n         - Format-Profil                      : Baseline@L3.1\r\n         - Format-Setting                     : 2 Ref Frames\r\n         - Format-Setting for CABAC           : No \r\n         - Format-Setting for RefFrames       : 2 frames \r\n         - Codec-ID                           : avc1 \r\n         - Codec-ID/Info                      : Advanced Video Coding \r\n         - Aspect ratio                       : 16:9 \r\n         - Refresh rate mode                  : constant \r\n         - FPS Color space                    : YUV \r\n         - Chroma subsampling                 : 4:2:0 \r\n         - Bit depth                          : 8 bits \r\n         - Scantyp                            : progressiv \r\n         - Codec configuration box            : avcC\r\n\r\nIf the movie has sound, the Audio is\r\n\r\n       - ID                                       : 2\r\n       - Format                                   : AAC LC\r\n       - Format/Info                              : Advanced Audio Codec Low Complexity\r\n       - Codec-ID                                 : mp4a-40-2\r\n       - Bitraten-Mode                            : constant\r\n\r\nIndividual movie info:\r\n\r\n     - Movie 1 Video \r\n       \r\n         - Duration                           : 5s 900 ms\r\n         - Bitrate                            : 1 653 kb/s \r\n         - Width                              : 960 Pixel\r\n         - Height                             : 540 Pixel \r\n         - Image refresh rate                 : 30,000 FPS \r\n         - Bits/(Pixel*Frame)                 : 0.106\r\n         - Stream-Size                        : 1,16 MiB (68%)\r\n     - Movie 2 Video \r\n       \r\n         - Duration                           : 2s 102 ms \r\n         - Bitrate                            : 934 kb/s \r\n         - Width                              : 1 280 Pixel\r\n         - Height                             : 720 Pixel \r\n         - Image refresh rate                 : 29,970 (29970/1000) \r\n         - Bits/(Pixel*Frame)                 : 0.034\r\n         - Stream-Size                        : 240 KiB (100%)\r\n     - Movie 3 Video \r\n       \r\n         - Duration                           : 2s 536 ms \r\n         - Bitrate                            : 3 931 kb/s \r\n         - Width                              : 1 280 Pixel\r\n         - Height                             : 720 Pixel \r\n         - Image refresh rate                 : 29,970 (29970/1000) \r\n         - Bits/(Pixel*Frame)                 : 0.142\r\n         - Stream-Size                        : 1,19 MiB (97%)\r\n    \r\n     - Movie 4 Video \r\n       \r\n         - Duration                           : 2s 536 ms \r\n         - Bitrate                            : 3 931 kb/s \r\n         - Width                              : 1 280 Pixel\r\n         - Height                             : 720 Pixel \r\n         - Image refresh rate                 : 29,970 (29970/1000) \r\n         - Bits/(Pixel*Frame)                 : 0.142\r\n         - Stream-Size                        : 1,19 MiB (97%)\r\n        \r\n\r\nSince the flaky behaviour suggests maybe a race condition issue, please find following the method that controls showing movies in a MediaView: \r\n\r\n    /**\r\n\t * \r\n\t * @param exercise, the object that encapsulates all information about a single training activity, that shall be displayed now\r\n\t * @param breakBetweenExercisesInSec, seconds to pause before the next exercise should be shown\r\n\t * @param exercises, list of remaining training exercises\r\n\t */\r\n    protected void runMovieExercise(Exercise exercise, int breakBetweenExercisesInSec, List&lt;Exercise&gt; exercises) {\r\n\r\n\t\tsets = reps = 0;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Initialize for every new exercise\r\n\t\tshowIntro = exercise.isShowIntro();\r\n\t\tsetLabel.setText(Integer.toString(sets + 1) + &quot; / &quot; + exercise.getNumOfSets());\r\n\t\trepLabel.setText(Integer.toString(reps + 1) + &quot; / &quot; + exercise.getRepsPerSet());\r\n\r\n\t\tURL urlMediaLocation = getMediaLocation(exercise);\r\n\t\tif(urlMediaLocation == null) {\r\n\t\t\tSystem.err.println(&quot;Cannot show exercise: &quot; + exercise.getMediaFilePath());\r\n\t\t\trunSession(exercises, breakBetweenExercisesInSec);\t\t\t\t\t\t\t\t\t\t\t// Continue with next exercise\r\n\t\t}\r\n\t\tPlatform.runLater(() -&gt; {\r\n\t\t\texerciseLabel.setText(exercise.getName());\r\n\t\t});\r\n\r\n\t\tmedia = new Media(urlMediaLocation.toString());\r\n\t\tplayer = new MediaPlayer(media);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Every file needs a new dedicated MediaPlayer object according to API\r\n\t\tplayer.setVolume(0);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// TODO save and restore volume setting\r\n\t\tmediaView.setMediaPlayer(player);\r\n\r\n\t\tplayer.setOnError(() -&gt; {\r\n\t\t\tMediaException exc = player.getError();\r\n\t\t\tLOGGER.fine(&quot;An error occurred: &quot;  + exc.getLocalizedMessage());\r\n\t\t\tLOGGER.fine(urlMediaLocation.toExternalForm());\r\n\t\t\texc.printStackTrace(System.err);\r\n\t\t\tButtonType result = MessageBox.showMessageDialog(AlertType.ERROR, &quot;Cannot show media&quot;, \r\n\t\t\t\t\t&quot;Couldn&#39;t open the movie file: &quot; + exercise.getMediaFilePath() + &quot;.\\nRetry loading the media file?&quot;, \r\n\t\t\t\t\tmediaPane.getScene().getWindow(), ButtonType.NO, ButtonType.OK, ButtonType.NO);\r\n\t\t\tif (ButtonType.NO.equals(result)) {\r\n\t\t\t\trunSession(exercises, breakBetweenExercisesInSec);\t\t\t\t\t\t\t\t\t\t// Continue with next exercise\r\n\t\t\t} else {\t\t\t\t\r\n\t\t\t\trunMovieExercise(exercise, breakBetweenExercisesInSec, exercises);\t\t\t\t\t\t// Retry\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tplayer.setOnEndOfMedia(() -&gt; {\r\n\r\n\t\t\tLOGGER.fine(&quot;setOnEndOfMedia started&quot;);\r\n\r\n\t\t\tif(showIntro) {\r\n\t\t\t\treps--;\r\n\t\t\t\tButtonType result = MessageBox.showMessageDialog(AlertType.CONFIRMATION, &quot;Replay the introduction?&quot;, \r\n\t\t\t\t\t\t&quot;You may want to repeat the introduction.&quot;, \r\n\t\t\t\t\t\tmediaPane.getScene().getWindow(), ButtonType.NO, ButtonType.YES, ButtonType.NO);\r\n\t\t\t\tif (ButtonType.NO.equals(result)) {\r\n\t\t\t\t\tshowIntro = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treps++;\r\n\t\t\tif((reps != 0) &amp;&amp; (reps % exercise.getRepsPerSet() == 0)) {\r\n\t\t\t\tsets++;\r\n\t\t\t\tif(sets == exercise.getNumOfSets())  {\t\t\t\t\t// start the next exercise\r\n\t\t\t\t\tplayer.dispose();\r\n\t\t\t\t\tif(exercises.size() &gt; 0) {\r\n\t\t\t\t\t\tpause(breakBetweenExercisesInSec, &quot;Exercise completed !&quot;);\r\n\t\t\t\t\t\tLOGGER.fine(&quot;starting next exercise&quot;);\r\n\t\t\t\t\t\trunSession(exercises, breakBetweenExercisesInSec);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpause(5, &quot;YOU MADE IT !!&quot;);\r\n\t\t\t\t\t\tstartStopContinueButton.setText(&quot;Start&quot;);\r\n\t\t\t\t\t\tsetLabel.setText(&quot;&quot;);\r\n\t\t\t\t\t\trepLabel.setText(&quot;&quot;);\r\n\t\t\t\t\t\tstartStopContinueButton.setDisable(true);\r\n\t\t\t\t\t\texerciseTable.setItems(null);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tPlatform.runLater(() -&gt; {\r\n\t\t\t\t\tsetLabel.setText(Integer.toString(sets + 1) + &quot; / &quot; + exercise.getNumOfSets());\r\n\t\t\t\t});\r\n\t\t\t\tpause(exercise.getBreakBetweenSetsInSecs(), &quot;Set completed !&quot;);\r\n\t\t\t\treps = 0;\r\n\t\t\t}\r\n\t\t\tPlatform.runLater(() -&gt; {\r\n\t\t\t\trepLabel.setText(Integer.toString(reps + 1) + &quot; / &quot; + exercise.getRepsPerSet());\r\n\t\t\t});\r\n\r\n\t\t\tplayer.setRate(exercise.getSpeed(reps));\r\n\t\t\tplayer.seek(Duration.ZERO);\r\n\t\t\tplayer.setAutoPlay(true);\r\n\t\t});\r\n\r\n\r\n\t\tvolumeSlider.valueProperty().bindBidirectional(player.volumeProperty());\r\n\t\tspeedSlider.valueProperty().bindBidirectional(player.rateProperty());\r\n\r\n\t\tif(showIntro) {\r\n\t\t\tMessageBox.showMessageDialog(AlertType.INFORMATION, &quot;Introduction&quot;, \r\n\t\t\t\t\t&quot;This exercise will now be shown to you for introductional purposes&quot;, \r\n\t\t\t\t\tmediaPane.getScene().getWindow(), ButtonType.YES, ButtonType.YES);\r\n\t\t}\r\n\r\n\t\tplayer.setRate(exercise.getSpeed(reps));\r\n\t\tplayer.setAutoPlay(true);\r\n\t}\r\n\r\n    protected URL getMediaLocation(Exercise exercise) {\r\n\r\n\t\tURL mediaLocationURL = null;\r\n\t\tFile mediaLocationFile = new File(System.getProperty(&quot;user.home&quot;), &quot;.sifuSays/exercises/&quot; + exercise.getMediaFilePath());\r\n\r\n\t\ttry {\r\n\t\t\tmediaLocationURL = mediaLocationFile.toURI().toURL();\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot show exercise: &quot; + mediaLocationFile.getAbsolutePath());\r\n\t\t\tmediaLocationURL = null;\r\n\t\t}\r\n\t\treturn mediaLocationURL;\r\n\t}\r\n\r\nAs you can see, in player.setOnError() the code allows to re-try opening the file, which does work. So a typical run starts the first movie without problem. For movie 2 it needs 1 re-try, movie 3 needed 7 re-trys, and movie 4 needed 3 re-trys. But I also have runs where the application needed to re-try the first movie and all others were fine. So technically each movie is &quot;showable&quot;.\r\n\r\nIs there something I am missing or what am I do wrong?\r\n\r\nShould you need more code, let me know and I am happy to setup a github project to download the entire application - however, for legal reasons I cannot upload the movies, which is maybe the interesting part?! ","title":"Flaky JavaFX ERROR_MEDIA_INVALID MediaException","body":"<p>I wrote a JavaFX based application (Java: 18.0.2, Oracle Corporation and\nJavaFX: 19+11, Win 11) to guide through sport training sessions by showing short movies with the respective exercises. For testing purposes I created the first 4 short movies, which I really want to use, once the application is stable.\nThe issue is that over 90% of the time the application throws</p>\n<pre><code>MediaException: UNKNOWN : [com.sun.media.jfxmediaimpl.platform.gstreamer.GSTMediaPlayer@3f239193] ERROR_MEDIA_INVALID: ERROR_MEDIA_INVALID\n    at javafx.media@19/javafx.scene.media.MediaException.getMediaException(MediaException.java:161)\n    at javafx.media@19/javafx.scene.media.MediaPlayer$_MediaErrorListener.onError(MediaPlayer.java:2624)\n    at javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaPlayer$EventQueueThread.HandleErrorEvents(NativeMediaPlayer.java:692)\n    at javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaPlayer$EventQueueThread.run(NativeMediaPlayer.java:426)\n</code></pre>\n<p>on one of the four movies. Which movie triggers the exception differs. While the earlier JavaFX version stumbled frequently over the first movie as well, since I installed the current JavaFX version the first movie most of the time - not always - runs fine.</p>\n<p>I checked the release notes and I took from it, that unusual width and height may cause a problem. However, I would expect that either the movie can be shown or not. But that the application sometimes shows the movies and sometimes not, makes it difficult to address the issue.</p>\n<p>Following some info about the four movies:</p>\n<pre><code>All of the videos are \n   - Format                               : MPEG-4 \n   - Format-Profil                        : Base Media / Version 2 \n   - Codec-ID                             : mp42 (mp41/isom)\n   - ID                                   : 1 \n     - Format                             : AVC \n     - Format/Info                        : Advanced Video Codec\n     - Format-Profil                      : Baseline@L3.1\n     - Format-Setting                     : 2 Ref Frames\n     - Format-Setting for CABAC           : No \n     - Format-Setting for RefFrames       : 2 frames \n     - Codec-ID                           : avc1 \n     - Codec-ID/Info                      : Advanced Video Coding \n     - Aspect ratio                       : 16:9 \n     - Refresh rate mode                  : constant \n     - FPS Color space                    : YUV \n     - Chroma subsampling                 : 4:2:0 \n     - Bit depth                          : 8 bits \n     - Scantyp                            : progressiv \n     - Codec configuration box            : avcC\n</code></pre>\n<p>If the movie has sound, the Audio is</p>\n<pre><code>   - ID                                       : 2\n   - Format                                   : AAC LC\n   - Format/Info                              : Advanced Audio Codec Low Complexity\n   - Codec-ID                                 : mp4a-40-2\n   - Bitraten-Mode                            : constant\n</code></pre>\n<p>Individual movie info:</p>\n<pre><code> - Movie 1 Video \n   \n     - Duration                           : 5s 900 ms\n     - Bitrate                            : 1 653 kb/s \n     - Width                              : 960 Pixel\n     - Height                             : 540 Pixel \n     - Image refresh rate                 : 30,000 FPS \n     - Bits/(Pixel*Frame)                 : 0.106\n     - Stream-Size                        : 1,16 MiB (68%)\n - Movie 2 Video \n   \n     - Duration                           : 2s 102 ms \n     - Bitrate                            : 934 kb/s \n     - Width                              : 1 280 Pixel\n     - Height                             : 720 Pixel \n     - Image refresh rate                 : 29,970 (29970/1000) \n     - Bits/(Pixel*Frame)                 : 0.034\n     - Stream-Size                        : 240 KiB (100%)\n - Movie 3 Video \n   \n     - Duration                           : 2s 536 ms \n     - Bitrate                            : 3 931 kb/s \n     - Width                              : 1 280 Pixel\n     - Height                             : 720 Pixel \n     - Image refresh rate                 : 29,970 (29970/1000) \n     - Bits/(Pixel*Frame)                 : 0.142\n     - Stream-Size                        : 1,19 MiB (97%)\n\n - Movie 4 Video \n   \n     - Duration                           : 2s 536 ms \n     - Bitrate                            : 3 931 kb/s \n     - Width                              : 1 280 Pixel\n     - Height                             : 720 Pixel \n     - Image refresh rate                 : 29,970 (29970/1000) \n     - Bits/(Pixel*Frame)                 : 0.142\n     - Stream-Size                        : 1,19 MiB (97%)\n    \n</code></pre>\n<p>Since the flaky behaviour suggests maybe a race condition issue, please find following the method that controls showing movies in a MediaView:</p>\n<pre><code>/**\n * \n * @param exercise, the object that encapsulates all information about a single training activity, that shall be displayed now\n * @param breakBetweenExercisesInSec, seconds to pause before the next exercise should be shown\n * @param exercises, list of remaining training exercises\n */\nprotected void runMovieExercise(Exercise exercise, int breakBetweenExercisesInSec, List&lt;Exercise&gt; exercises) {\n\n    sets = reps = 0;                                                                                // Initialize for every new exercise\n    showIntro = exercise.isShowIntro();\n    setLabel.setText(Integer.toString(sets + 1) + &quot; / &quot; + exercise.getNumOfSets());\n    repLabel.setText(Integer.toString(reps + 1) + &quot; / &quot; + exercise.getRepsPerSet());\n\n    URL urlMediaLocation = getMediaLocation(exercise);\n    if(urlMediaLocation == null) {\n        System.err.println(&quot;Cannot show exercise: &quot; + exercise.getMediaFilePath());\n        runSession(exercises, breakBetweenExercisesInSec);                                          // Continue with next exercise\n    }\n    Platform.runLater(() -&gt; {\n        exerciseLabel.setText(exercise.getName());\n    });\n\n    media = new Media(urlMediaLocation.toString());\n    player = new MediaPlayer(media);                                                                // Every file needs a new dedicated MediaPlayer object according to API\n    player.setVolume(0);                                                                            // TODO save and restore volume setting\n    mediaView.setMediaPlayer(player);\n\n    player.setOnError(() -&gt; {\n        MediaException exc = player.getError();\n        LOGGER.fine(&quot;An error occurred: &quot;  + exc.getLocalizedMessage());\n        LOGGER.fine(urlMediaLocation.toExternalForm());\n        exc.printStackTrace(System.err);\n        ButtonType result = MessageBox.showMessageDialog(AlertType.ERROR, &quot;Cannot show media&quot;, \n                &quot;Couldn't open the movie file: &quot; + exercise.getMediaFilePath() + &quot;.\\nRetry loading the media file?&quot;, \n                mediaPane.getScene().getWindow(), ButtonType.NO, ButtonType.OK, ButtonType.NO);\n        if (ButtonType.NO.equals(result)) {\n            runSession(exercises, breakBetweenExercisesInSec);                                      // Continue with next exercise\n        } else {                \n            runMovieExercise(exercise, breakBetweenExercisesInSec, exercises);                      // Retry\n        }\n    });\n\n\n    player.setOnEndOfMedia(() -&gt; {\n\n        LOGGER.fine(&quot;setOnEndOfMedia started&quot;);\n\n        if(showIntro) {\n            reps--;\n            ButtonType result = MessageBox.showMessageDialog(AlertType.CONFIRMATION, &quot;Replay the introduction?&quot;, \n                    &quot;You may want to repeat the introduction.&quot;, \n                    mediaPane.getScene().getWindow(), ButtonType.NO, ButtonType.YES, ButtonType.NO);\n            if (ButtonType.NO.equals(result)) {\n                showIntro = false;\n            }\n        }\n\n        reps++;\n        if((reps != 0) &amp;&amp; (reps % exercise.getRepsPerSet() == 0)) {\n            sets++;\n            if(sets == exercise.getNumOfSets())  {                  // start the next exercise\n                player.dispose();\n                if(exercises.size() &gt; 0) {\n                    pause(breakBetweenExercisesInSec, &quot;Exercise completed !&quot;);\n                    LOGGER.fine(&quot;starting next exercise&quot;);\n                    runSession(exercises, breakBetweenExercisesInSec);\n                    return;\n                } else {\n                    pause(5, &quot;YOU MADE IT !!&quot;);\n                    startStopContinueButton.setText(&quot;Start&quot;);\n                    setLabel.setText(&quot;&quot;);\n                    repLabel.setText(&quot;&quot;);\n                    startStopContinueButton.setDisable(true);\n                    exerciseTable.setItems(null);\n                    return;\n                }\n            }\n            Platform.runLater(() -&gt; {\n                setLabel.setText(Integer.toString(sets + 1) + &quot; / &quot; + exercise.getNumOfSets());\n            });\n            pause(exercise.getBreakBetweenSetsInSecs(), &quot;Set completed !&quot;);\n            reps = 0;\n        }\n        Platform.runLater(() -&gt; {\n            repLabel.setText(Integer.toString(reps + 1) + &quot; / &quot; + exercise.getRepsPerSet());\n        });\n\n        player.setRate(exercise.getSpeed(reps));\n        player.seek(Duration.ZERO);\n        player.setAutoPlay(true);\n    });\n\n\n    volumeSlider.valueProperty().bindBidirectional(player.volumeProperty());\n    speedSlider.valueProperty().bindBidirectional(player.rateProperty());\n\n    if(showIntro) {\n        MessageBox.showMessageDialog(AlertType.INFORMATION, &quot;Introduction&quot;, \n                &quot;This exercise will now be shown to you for introductional purposes&quot;, \n                mediaPane.getScene().getWindow(), ButtonType.YES, ButtonType.YES);\n    }\n\n    player.setRate(exercise.getSpeed(reps));\n    player.setAutoPlay(true);\n}\n\nprotected URL getMediaLocation(Exercise exercise) {\n\n    URL mediaLocationURL = null;\n    File mediaLocationFile = new File(System.getProperty(&quot;user.home&quot;), &quot;.sifuSays/exercises/&quot; + exercise.getMediaFilePath());\n\n    try {\n        mediaLocationURL = mediaLocationFile.toURI().toURL();\n    } catch (MalformedURLException e) {\n        System.err.println(&quot;Cannot show exercise: &quot; + mediaLocationFile.getAbsolutePath());\n        mediaLocationURL = null;\n    }\n    return mediaLocationURL;\n}\n</code></pre>\n<p>As you can see, in player.setOnError() the code allows to re-try opening the file, which does work. So a typical run starts the first movie without problem. For movie 2 it needs 1 re-try, movie 3 needed 7 re-trys, and movie 4 needed 3 re-trys. But I also have runs where the application needed to re-try the first movie and all others were fine. So technically each movie is &quot;showable&quot;.</p>\n<p>Is there something I am missing or what am I do wrong?</p>\n<p>Should you need more code, let me know and I am happy to setup a github project to download the entire application - however, for legal reasons I cannot upload the movies, which is maybe the interesting part?!</p>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1666971075,"post_id":74233262,"comment_id":131067712,"body_markdown":"Yes, this is one of the primary use cases of modules, and even when you use private and package protected, Reflection could get around that... but not with modules.","body":"Yes, this is one of the primary use cases of modules, and even when you use private and package protected, Reflection could get around that... but not with modules."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1666972489,"post_id":74233262,"comment_id":131068242,"body_markdown":"Your &quot;it&#39;s still working&quot; comment is unclear.  You should still be able to use the internal classes from inside your library but not from the other class.  Is that what you saw?","body":"Your &quot;it&#39;s still working&quot; comment is unclear.  You should still be able to use the internal classes from inside your library but not from the other class.  Is that what you saw?"},{"owner":{"account_id":2756894,"reputation":79,"user_id":2374709,"accept_rate":100,"display_name":"a_dobryn"},"score":0,"creation_date":1666983014,"post_id":74233262,"comment_id":131071551,"body_markdown":"@DanielWiddis no, I meant that I&#39;m able to use the internal classes from other classes (outside my library) and exactly this I&#39;m trying to prevent","body":"@DanielWiddis no, I meant that I&#39;m able to use the internal classes from other classes (outside my library) and exactly this I&#39;m trying to prevent"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1666997796,"post_id":74233262,"comment_id":131074778,"body_markdown":"That shouldn&#39;t be possible *IF* the other project is modular.   If the other project doesn&#39;t have a module descriptor it access your project the old way.","body":"That shouldn&#39;t be possible <i>IF</i> the other project is modular.   If the other project doesn&#39;t have a module descriptor it access your project the old way."},{"owner":{"account_id":2756894,"reputation":79,"user_id":2374709,"accept_rate":100,"display_name":"a_dobryn"},"score":0,"creation_date":1667044473,"post_id":74233262,"comment_id":131080239,"body_markdown":"@DanielWiddis thank you! It&#39;s good to know. \nHow do you think, if there is some another way to achieve that rather then put all internals in private/package protected in library?","body":"@DanielWiddis thank you! It&#39;s good to know.  How do you think, if there is some another way to achieve that rather then put all internals in private/package protected in library?"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1667059988,"post_id":74233262,"comment_id":131083410,"body_markdown":"Generally no way to “enforce” it that’s not heavyweight.  You can use custom class annotations to communicate to users what they “should” not extend or used some sort of mechanism to mine the stack trace to inspect the calling class…","body":"Generally no way to “enforce” it that’s not heavyweight.  You can use custom class annotations to communicate to users what they “should” not extend or used some sort of mechanism to mine the stack trace to inspect the calling class…"}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667064616,"creation_date":1667064616,"answer_id":74247403,"question_id":74233262,"body_markdown":"&gt; So the main question - could modules used for something like this or is it used only to specifying new abstraction levels in-between packages in the same application?\r\n\r\nYes, modules can be used for this, and in fact were one of the primary motivators for Project Jigsaw (which became JPMS).  \r\n\r\n[JSR-376][1], which defines the JPMS specification, includes strong encapsulation as one of its two fundamental capabilities:\r\n&gt; This specification achieves that goal by providing two fundamental capabilities:\r\n&gt; \r\n&gt; *Reliable configuration*, to replace the brittle, error-prone class-path mechanism with a means for program components to declare explicit dependences upon one another, along with\r\n&gt; \r\n&gt; *Strong encapsulation*, to allow a component to declare which of its public types are accessible to other components, and which are not.\r\n\r\n[JEP-260][2], part of the implementation, explicitly does this behavior for the JDK itself:\r\n&gt; **Summary**\r\n&gt;\r\n&gt; Encapsulate most of the JDK&#39;s internal APIs by default so that they are inaccessible at compile time, and prepare for a future release in which they will be inaccessible at run time. \r\n\r\nThis all seems like a good idea and would have been had it been included in the language specifications from the beginning.  However, using modules is still somewhat opt-in because Java also loves to support backwards compatibility and doesn&#39;t want to break a huge existing ecosystem where developers say things like:\r\n&gt; this library is already written and it would be a lot of effort to refactor it in that way.\r\n\r\nTo support backwards compatibility, Java separated the *module path* (which enforces this encapsulation) from the *class path* (the old way of doing things).  The class path fits into the module system as an &quot;unnamed module&quot;.\r\n\r\nSo if consumers of a library don&#39;t use modules, those imported classes end up on the class path, and they can do everything they used to be able to do, including accessing any package they want, and even working around access modifiers like `private` by (ab)using reflection (which simply requires a JVM argument to enable).   Many large java libraries still rely on reflection to do their work (e.g., JNA, Spring Boot, Jackson).\r\n\r\n&gt; And after that I&#39;ve tried to instantiate some classes from *.internal package and it&#39;s still working.\r\n\r\nWithout forcing other libraries to be modular to use your libraries, there&#39;s not much you can do to explicitly prevent it.  However, if you&#39;re willing to accept &quot;you shouldn&#39;t&quot; rather than &quot;you can&#39;t&quot; then there are many options available to you.  Some simpler ones:\r\n - Move classes into a package with a clear indication of its usage in its name (*.internal) as you have done.\r\n - Without moving any classes, use an annotation on the class such as `@foobar.api` and `@foobar.internal` to clearly communicate to users what they are supposed to use.\r\n\r\nIn parallel with this, motivate users to comply with this behavior by respecting [semantic versioning][3] for your API classes, but not requiring it (and even warning users) that internal class APIs may change (frequently) which will discourage users from taking dependencies on them.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~mr/jigsaw/spec/\r\n  [2]: https://openjdk.org/jeps/260\r\n  [3]: https://semver.org/","title":"Java library: using JPMS to prevent internal library classes from using them","body":"<blockquote>\n<p>So the main question - could modules used for something like this or is it used only to specifying new abstraction levels in-between packages in the same application?</p>\n</blockquote>\n<p>Yes, modules can be used for this, and in fact were one of the primary motivators for Project Jigsaw (which became JPMS).</p>\n<p><a href=\"http://cr.openjdk.java.net/%7Emr/jigsaw/spec/\" rel=\"nofollow noreferrer\">JSR-376</a>, which defines the JPMS specification, includes strong encapsulation as one of its two fundamental capabilities:</p>\n<blockquote>\n<p>This specification achieves that goal by providing two fundamental capabilities:</p>\n<p><em>Reliable configuration</em>, to replace the brittle, error-prone class-path mechanism with a means for program components to declare explicit dependences upon one another, along with</p>\n<p><em>Strong encapsulation</em>, to allow a component to declare which of its public types are accessible to other components, and which are not.</p>\n</blockquote>\n<p><a href=\"https://openjdk.org/jeps/260\" rel=\"nofollow noreferrer\">JEP-260</a>, part of the implementation, explicitly does this behavior for the JDK itself:</p>\n<blockquote>\n<p><strong>Summary</strong></p>\n<p>Encapsulate most of the JDK's internal APIs by default so that they are inaccessible at compile time, and prepare for a future release in which they will be inaccessible at run time.</p>\n</blockquote>\n<p>This all seems like a good idea and would have been had it been included in the language specifications from the beginning.  However, using modules is still somewhat opt-in because Java also loves to support backwards compatibility and doesn't want to break a huge existing ecosystem where developers say things like:</p>\n<blockquote>\n<p>this library is already written and it would be a lot of effort to refactor it in that way.</p>\n</blockquote>\n<p>To support backwards compatibility, Java separated the <em>module path</em> (which enforces this encapsulation) from the <em>class path</em> (the old way of doing things).  The class path fits into the module system as an &quot;unnamed module&quot;.</p>\n<p>So if consumers of a library don't use modules, those imported classes end up on the class path, and they can do everything they used to be able to do, including accessing any package they want, and even working around access modifiers like <code>private</code> by (ab)using reflection (which simply requires a JVM argument to enable).   Many large java libraries still rely on reflection to do their work (e.g., JNA, Spring Boot, Jackson).</p>\n<blockquote>\n<p>And after that I've tried to instantiate some classes from *.internal package and it's still working.</p>\n</blockquote>\n<p>Without forcing other libraries to be modular to use your libraries, there's not much you can do to explicitly prevent it.  However, if you're willing to accept &quot;you shouldn't&quot; rather than &quot;you can't&quot; then there are many options available to you.  Some simpler ones:</p>\n<ul>\n<li>Move classes into a package with a clear indication of its usage in its name (*.internal) as you have done.</li>\n<li>Without moving any classes, use an annotation on the class such as <code>@foobar.api</code> and <code>@foobar.internal</code> to clearly communicate to users what they are supposed to use.</li>\n</ul>\n<p>In parallel with this, motivate users to comply with this behavior by respecting <a href=\"https://semver.org/\" rel=\"nofollow noreferrer\">semantic versioning</a> for your API classes, but not requiring it (and even warning users) that internal class APIs may change (frequently) which will discourage users from taking dependencies on them.</p>\n"}],"owner":{"account_id":2756894,"reputation":79,"user_id":2374709,"accept_rate":100,"display_name":"a_dobryn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74247403,"answer_count":1,"score":1,"last_activity_date":1667064736,"creation_date":1666949237,"question_id":74233262,"body_markdown":"I&#39;m trying to separate public API from internals in a library, so that users of that library can not instantiate internal classes. \r\n\r\nAs I understand, normally this is achieved through making internal things private/package protected. But this library is already written and it would be a lot of effort to refactor it in that way.\r\n\r\nAfter some reading I&#39;ve found out about the java modules, and that we can explicitly say which packages we would like to expose. So I did it in that way:\r\n - moved API classes to *.api package and internal to *.internal\r\n - created a Java module like this:\r\n```java\r\nmodule some.library{\r\n    exports some.library.api;\r\n    requires etc1;\r\n}\r\n```\r\nAfter that I&#39;ve compiled my library and used it in another project \r\n```xml\r\n&lt;parent&gt;\r\n    &lt;artifactId&gt;some.library&lt;/artifactId&gt;\r\n    &lt;groupId&gt;some.library&lt;/groupId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/parent&gt;\r\n```\r\nAnd after that I&#39;ve tried to instantiate some classes from *.internal package and it&#39;s still working (I can access these internal classes from the other project).\r\n\r\nSo the main question - could modules used for something like this or is it used only to specifying new abstraction levels in-between packages in the same application?","title":"Java library: using JPMS to prevent internal library classes from using them","body":"<p>I'm trying to separate public API from internals in a library, so that users of that library can not instantiate internal classes.</p>\n<p>As I understand, normally this is achieved through making internal things private/package protected. But this library is already written and it would be a lot of effort to refactor it in that way.</p>\n<p>After some reading I've found out about the java modules, and that we can explicitly say which packages we would like to expose. So I did it in that way:</p>\n<ul>\n<li>moved API classes to *.api package and internal to *.internal</li>\n<li>created a Java module like this:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>module some.library{\n    exports some.library.api;\n    requires etc1;\n}\n</code></pre>\n<p>After that I've compiled my library and used it in another project</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;artifactId&gt;some.library&lt;/artifactId&gt;\n    &lt;groupId&gt;some.library&lt;/groupId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And after that I've tried to instantiate some classes from *.internal package and it's still working (I can access these internal classes from the other project).</p>\n<p>So the main question - could modules used for something like this or is it used only to specifying new abstraction levels in-between packages in the same application?</p>\n"},{"tags":["java","jsp","servlets"],"owner":{"account_id":20150219,"reputation":315,"user_id":14777704,"display_name":"MVKXXX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667064311,"creation_date":1667064311,"question_id":74247362,"body_markdown":"I am learning Servlets and JSP. I have written an index.jsp page and a login servlet which are as follows - \r\n\r\nindex.jsp - (the welcome page)\r\n```\r\n&lt;body&gt;\r\n&lt;form action=&quot;login&quot; method=&quot;post&quot;&gt;\r\nUserName:&lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;\r\n&lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\nLoginServlet - \r\n```\r\n@WebServlet(&quot;/login&quot;)\r\npublic class LoginServlet extends HttpServlet {\r\n@Override\t\r\n\tprotected void doPost(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n\t\tString username=req.getParameter(&quot;username&quot;);\r\n\t\tHttpSession session=req.getSession(false);\r\n\t\tsession.setAttribute(&quot;username&quot;,username);\r\n        RequestDispatcher rd=req.getRequestDispatcher(&quot;home.jsp&quot;);\r\n\t\trd.forward(req,res);\r\n\r\n\r\n}\r\n```\r\n\r\nIt works if I keep cookies enabled in Edge browser. But when I disable cookies in Edge browser it shows error that - session is null. But when I set req.getSession(true), then on disabling cookies it works.\r\n\r\n(I know that req.getSession(true) makes a new session if there is no existing session but req.getSession(false) returns null if there is no existing session. )\r\n\r\n\r\nCan anyone please explain why this is happening? Also, when exactly does the new session object get created? \r\n","title":"Why req.getSession(false) returns null on disabling cookies in browser?","body":"<p>I am learning Servlets and JSP. I have written an index.jsp page and a login servlet which are as follows -</p>\n<p>index.jsp - (the welcome page)</p>\n<pre><code>&lt;body&gt;\n&lt;form action=&quot;login&quot; method=&quot;post&quot;&gt;\nUserName:&lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;\n&lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n<p>LoginServlet -</p>\n<pre><code>@WebServlet(&quot;/login&quot;)\npublic class LoginServlet extends HttpServlet {\n@Override   \n    protected void doPost(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n        String username=req.getParameter(&quot;username&quot;);\n        HttpSession session=req.getSession(false);\n        session.setAttribute(&quot;username&quot;,username);\n        RequestDispatcher rd=req.getRequestDispatcher(&quot;home.jsp&quot;);\n        rd.forward(req,res);\n\n\n}\n</code></pre>\n<p>It works if I keep cookies enabled in Edge browser. But when I disable cookies in Edge browser it shows error that - session is null. But when I set req.getSession(true), then on disabling cookies it works.</p>\n<p>(I know that req.getSession(true) makes a new session if there is no existing session but req.getSession(false) returns null if there is no existing session. )</p>\n<p>Can anyone please explain why this is happening? Also, when exactly does the new session object get created?</p>\n"},{"tags":["java","string","io","simulator"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667066502,"post_id":74247277,"comment_id":131084804,"body_markdown":"*then I will have to save that into our virtual memory, but there is no spot in the instruction to indicate where in memory it will be.*   That&#39;s the job of the &quot;input a string&quot; function that uses the IN instruction, not the job of the IN instruction.  Plenty of actual computers manage to read strings despite only having &quot;read a character into a register&quot; in the instruction set.  Your simulated computer can work the same way.","body":"<i>then I will have to save that into our virtual memory, but there is no spot in the instruction to indicate where in memory it will be.</i>   That&#39;s the job of the &quot;input a string&quot; function that uses the IN instruction, not the job of the IN instruction.  Plenty of actual computers manage to read strings despite only having &quot;read a character into a register&quot; in the instruction set.  Your simulated computer can work the same way."},{"owner":{"account_id":26295800,"reputation":15,"user_id":19962063,"display_name":"Bi Bi"},"score":0,"creation_date":1667438622,"post_id":74247277,"comment_id":131169649,"body_markdown":"I see. Thank you for your feedback. I&#39;m just having trouble finding the right keywords to look things up. I can&#39;t seem to find the right resources since most of what I found are more high level languages, and this is more machine code. Is there any way you can help point me to where I can find these information? Or even just what the right keywords are?","body":"I see. Thank you for your feedback. I&#39;m just having trouble finding the right keywords to look things up. I can&#39;t seem to find the right resources since most of what I found are more high level languages, and this is more machine code. Is there any way you can help point me to where I can find these information? Or even just what the right keywords are?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667440352,"post_id":74247277,"comment_id":131169892,"body_markdown":"This is a basic programming exercise: given a way to read a single character at a time, assemble an integer value from a sequence of characters.  The fundamental step is that for each digit value you get (0 to 9 for decimal input), multiply the number-so-far by 10 (if you want decimal input) and add the new digit value.  It doesn&#39;t matter if your read-a-character routine is a machine instruction or some &quot;readchar&quot; library routine, the algorithm is the same.","body":"This is a basic programming exercise: given a way to read a single character at a time, assemble an integer value from a sequence of characters.  The fundamental step is that for each digit value you get (0 to 9 for decimal input), multiply the number-so-far by 10 (if you want decimal input) and add the new digit value.  It doesn&#39;t matter if your read-a-character routine is a machine instruction or some &quot;readchar&quot; library routine, the algorithm is the same."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667064153,"creation_date":1667064153,"answer_id":74247348,"question_id":74247277,"body_markdown":"What you want is mathematically impossible, by way of the pigeonhole principle. Imagine you&#39;re in a room with 3 lightswitches in it, that do nothing. You get to walk in, fiddle with the switches, and you must walk out again. You can&#39;t leave anything, you can&#39;t mess with anything else.\r\n\r\nLater I enter the same room, and I get to look at the switches, that&#39;s all.\r\n\r\nWe can communicate only 8 different things, because I can fully enumerate each and every situation you can possibly create: DDD, DDU, DUD, DUU, UDD, UDU, UUD, and UUU. That&#39;s 8.\r\n\r\n2 bytes is the same, except, its 16 lightswitches, not 3. You can thus communicate 65536 different states (2^16).\r\n\r\nThere are way more than 65536 strings of length 30 or so, which the message &quot;Some characters here and 12234&quot; is long. Given that you have to &#39;compress&#39; it down to 65536 different unique states, there can only be 65536 different strings that you can possibly represent. You&#39;re free to choose whatever 65536 different strings you want, but it can only be, at most, 65536 strings. After all, imagine that both &quot;Hi&quot; and &quot;Hello&quot; compress down to &#39;01 191&#39;. So if I see &#39;01 191&#39;, did you say Hi or did you say Hello? It&#39;s impossible to know.\r\n\r\nIf you severely reduce the amount of symbols that can be in the message, let&#39;s say down to only the capitals, space, and the digits, and that&#39;s it. No dots, no dashes, no underscores, no plusses, no question marks. That&#39;s only 26 + 1 + 10 = 37 characters. Let&#39;s knock off 5 more for convenience - we make the &#39;x&#39; impossible, the 0 and 1 (just use the letter &#39;o&#39; and &#39;l&#39; I guess), q, and z. Now it&#39;s 32 characters. Which can be represented with exactly 5 bits. You have 16 of em, so you can now represent 3 letters with your 16 bits, with 1 bit left over.\r\n\r\nBut that&#39;s as far as it goes.\r\n","title":"JAVA: saving a string encoded into a number (not parseInt)","body":"<p>What you want is mathematically impossible, by way of the pigeonhole principle. Imagine you're in a room with 3 lightswitches in it, that do nothing. You get to walk in, fiddle with the switches, and you must walk out again. You can't leave anything, you can't mess with anything else.</p>\n<p>Later I enter the same room, and I get to look at the switches, that's all.</p>\n<p>We can communicate only 8 different things, because I can fully enumerate each and every situation you can possibly create: DDD, DDU, DUD, DUU, UDD, UDU, UUD, and UUU. That's 8.</p>\n<p>2 bytes is the same, except, its 16 lightswitches, not 3. You can thus communicate 65536 different states (2^16).</p>\n<p>There are way more than 65536 strings of length 30 or so, which the message &quot;Some characters here and 12234&quot; is long. Given that you have to 'compress' it down to 65536 different unique states, there can only be 65536 different strings that you can possibly represent. You're free to choose whatever 65536 different strings you want, but it can only be, at most, 65536 strings. After all, imagine that both &quot;Hi&quot; and &quot;Hello&quot; compress down to '01 191'. So if I see '01 191', did you say Hi or did you say Hello? It's impossible to know.</p>\n<p>If you severely reduce the amount of symbols that can be in the message, let's say down to only the capitals, space, and the digits, and that's it. No dots, no dashes, no underscores, no plusses, no question marks. That's only 26 + 1 + 10 = 37 characters. Let's knock off 5 more for convenience - we make the 'x' impossible, the 0 and 1 (just use the letter 'o' and 'l' I guess), q, and z. Now it's 32 characters. Which can be represented with exactly 5 bits. You have 16 of em, so you can now represent 3 letters with your 16 bits, with 1 bit left over.</p>\n<p>But that's as far as it goes.</p>\n"}],"owner":{"account_id":26295800,"reputation":15,"user_id":19962063,"display_name":"Bi Bi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667064153,"creation_date":1667063508,"question_id":74247277,"body_markdown":"I&#39;m wondering if there is a way to convert a string into a number to be stored (not parseInt).\r\n\r\nSay, I have a user input a string `&quot;Some characters here and 12234&quot;`, is there a way to convert this to a specific number? That later on, that number can be interpreted and print back out as the same string?\r\n\r\nI thought about implementing it as ASCII characters, but ASCII characters require 1 byte for each characters, but my number is only 16-bit long (short).\r\n\r\nFor more information, I&#39;m implementing a basic computer simulator and I&#39;m trying to implement simple I/O instructions. The numbers will be stored into a register that is 16-bit in size. \r\nThe problem is that the instruction format is fixed, which is &quot;IN reg, device&quot; or &quot;OUT reg, device&quot;. If I use ASCII, the reg can only hold 2 characters at a time, then I will have to save that into our virtual memory, but there is no spot in the instruction to indicate where in memory it will be. ","title":"JAVA: saving a string encoded into a number (not parseInt)","body":"<p>I'm wondering if there is a way to convert a string into a number to be stored (not parseInt).</p>\n<p>Say, I have a user input a string <code>&quot;Some characters here and 12234&quot;</code>, is there a way to convert this to a specific number? That later on, that number can be interpreted and print back out as the same string?</p>\n<p>I thought about implementing it as ASCII characters, but ASCII characters require 1 byte for each characters, but my number is only 16-bit long (short).</p>\n<p>For more information, I'm implementing a basic computer simulator and I'm trying to implement simple I/O instructions. The numbers will be stored into a register that is 16-bit in size.\nThe problem is that the instruction format is fixed, which is &quot;IN reg, device&quot; or &quot;OUT reg, device&quot;. If I use ASCII, the reg can only hold 2 characters at a time, then I will have to save that into our virtual memory, but there is no spot in the instruction to indicate where in memory it will be.</p>\n"},{"tags":["java","sql-server","jdbc","mssql-jdbc"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1610620090,"post_id":65717197,"comment_id":116192247,"body_markdown":"My *guess* would be that the problem lies in what ever language you are using to insert the data, not the database (as inserting those characters when using that collation works fine). You should be tagging your application&#39;s language here too.","body":"My <i>guess</i> would be that the problem lies in what ever language you are using to insert the data, not the database (as inserting those characters when using that collation works fine). You should be tagging your application&#39;s language here too."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610622285,"post_id":65717197,"comment_id":116193174,"body_markdown":"Thanks, nice point, application has been written in java. Data has been inserted by some other app, the user locale is da_DK","body":"Thanks, nice point, application has been written in java. Data has been inserted by some other app, the user locale is da_DK"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1610622350,"post_id":65717197,"comment_id":116193200,"body_markdown":"What OS do you use? What is the default character encoding? Both on the dev and production environment.","body":"What OS do you use? What is the default character encoding? Both on the dev and production environment."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610623465,"post_id":65717197,"comment_id":116193657,"body_markdown":"Dev Environment: I am using MacOS, SQL Server is installed as Docker Image.\nStaging: app\\SQL server is running on Windows. \nJava version: openjdk version &quot;1.8.0_275&quot;","body":"Dev Environment: I am using MacOS, SQL Server is installed as Docker Image. Staging: app\\SQL server is running on Windows.  Java version: openjdk version &quot;1.8.0_275&quot;"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1610631393,"post_id":65717197,"comment_id":116197359,"body_markdown":"Does tempdb on the staging server also use Danish_Greenlandic_100_CS_AS?","body":"Does tempdb on the staging server also use Danish_Greenlandic_100_CS_AS?"},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610634449,"post_id":65717197,"comment_id":116198987,"body_markdown":"Yep. Both databases uses same collation: &#39;Danish_Greenlandic_100_CS_AS&#39;. On my local dev machine everything works fine, on staging server - &#39;&#216;&#39; &#39;&#197;&#39; &#39;&#198;&#39;characters are encoded improperly(non readable chars)","body":"Yep. Both databases uses same collation: &#39;Danish_Greenlandic_100_CS_AS&#39;. On my local dev machine everything works fine, on staging server - &#39;&#216;&#39; &#39;&#197;&#39; &#39;&#198;&#39;characters are encoded improperly(non readable chars)"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1610795705,"post_id":65717197,"comment_id":116247854,"body_markdown":"If you try the same thing directly in the database, is it successfully writing the Danish characters?","body":"If you try the same thing directly in the database, is it successfully writing the Danish characters?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1610824443,"post_id":65717197,"comment_id":116256024,"body_markdown":"Please, pay attention to the different default charsets of the JVM that you are using in MacOS (`UTF-8`) and Windows (`cp-1252`or some variant): I realized that you indicated charset `UTF-8` in you connection properties but maybe the problem is related with some kind of post processing (file output, ...)","body":"Please, pay attention to the different default charsets of the JVM that you are using in MacOS (<code>UTF-8</code>) and Windows (<code>cp-1252</code>or some variant): I realized that you indicated charset <code>UTF-8</code> in you connection properties but maybe the problem is related with some kind of post processing (file output, ...)"},{"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"score":0,"creation_date":1610844218,"post_id":65717197,"comment_id":116260902,"body_markdown":"I recommend to check locale of OS(in docker and on server),then the locale for the JVM, and server locale.","body":"I recommend to check locale of OS(in docker and on server),then the locale for the JVM, and server locale."},{"owner":{"account_id":1205141,"reputation":5974,"user_id":1174966,"display_name":"jdaz"},"score":0,"creation_date":1610934131,"post_id":65717197,"comment_id":116281215,"body_markdown":"How are you testing that the characters are encoded improperly on the staging machine?  If you are just printing them to the command line, that could be your problem since Windows CMD uses `cp-1252` instead of `UTF-8` by default. If the machine is at least running Windows 7, run `chcp 65001` on the console before printing anything and see if that fixes it.","body":"How are you testing that the characters are encoded improperly on the staging machine?  If you are just printing them to the command line, that could be your problem since Windows CMD uses <code>cp-1252</code> instead of <code>UTF-8</code> by default. If the machine is at least running Windows 7, run <code>chcp 65001</code> on the console before printing anything and see if that fixes it."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610949298,"post_id":65717197,"comment_id":116283901,"body_markdown":"Disclaimers: I am not able to insert anything to the table, and alongside the issue with charset, the additional complication to this  is the fact that I have quite limited access to staging environment. @LajosArpad","body":"Disclaimers: I am not able to insert anything to the table, and alongside the issue with charset, the additional complication to this  is the fact that I have quite limited access to staging environment. @LajosArpad"},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610949625,"post_id":65717197,"comment_id":116283967,"body_markdown":"Invalid characters are printed in web server response(which I assume is base64 encoded ) and in logs. I believe that when I invoke rs.getString (or new String(&lt;input_raw_bytes&gt;, &quot;CharsetName)) then java is converting automatically to given encoding, and by default the result is UTF-8","body":"Invalid characters are printed in web server response(which I assume is base64 encoded ) and in logs. I believe that when I invoke rs.getString (or new String(&lt;input_raw_bytes&gt;, &quot;CharsetName)) then java is converting automatically to given encoding, and by default the result is UTF-8"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1610962433,"post_id":65717197,"comment_id":116288580,"body_markdown":"@Nazar it&#39;s a key question to find out whether the raw query that is to be executed works. If yes, then it is something with your Java. If not, then it is something with your query.","body":"@Nazar it&#39;s a key question to find out whether the raw query that is to be executed works. If yes, then it is something with your Java. If not, then it is something with your query."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1611014866,"post_id":65717197,"comment_id":116309766,"body_markdown":"@Nazar Both the server response and the logs are typical examples of the problem with the charset I tried to explain. Please, review the charset which is in place in the JVM in every environment. Please, review the value of the `file.encoding` system property in your laptop and in the staging environment, maybe it will provide you some insights into the problem.","body":"@Nazar Both the server response and the logs are typical examples of the problem with the charset I tried to explain. Please, review the charset which is in place in the JVM in every environment. Please, review the value of the <code>file.encoding</code> system property in your laptop and in the staging environment, maybe it will provide you some insights into the problem."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1611123217,"post_id":65717197,"comment_id":116345607,"body_markdown":"Many thanks @jccampanero. You gave me good direction, i&#39;ll review those settings, I suspect that on windows based machine it won&#39;t be UTF-8. At least I have on option to try. \nWhat I have so far: I create a logs and in logs, when I opened them on staging(Windows 2012 Server RC2)/ or on Mac - I see issues, however If i specifically change encoding in logs file to ISO-8859-1 - logs looks good.","body":"Many thanks @jccampanero. You gave me good direction, i&#39;ll review those settings, I suspect that on windows based machine it won&#39;t be UTF-8. At least I have on option to try.  What I have so far: I create a logs and in logs, when I opened them on staging(Windows 2012 Server RC2)/ or on Mac - I see issues, however If i specifically change encoding in logs file to ISO-8859-1 - logs looks good."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1611136015,"post_id":65717197,"comment_id":116350729,"body_markdown":"That is great @Nazar. I hope it works properly. If you think I can be of any help, please, tell me, I will be glad to help you if I can.","body":"That is great @Nazar. I hope it works properly. If you think I can be of any help, please, tell me, I will be glad to help you if I can."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1611206857,"post_id":65717197,"comment_id":116377540,"body_markdown":"@jccampanero - I solved my issue and many thanks to your input. So please write the answer below so that I can accept it and gave your bounty. Story is following:. default JVM character encodings matters! I launched the same application with JVM parameter: `-Dfile.encoding=UTF-8` and it started working correctly. Without this option it picks `Charset.defaultCharset()` that is not UTF-8 for Windows case and it causes issues. Simply adding option `java -jar -Dfile.encoding=UTF-8 &lt;my_app.jar&gt;` fixes the issue and the code from starts working correctly","body":"@jccampanero - I solved my issue and many thanks to your input. So please write the answer below so that I can accept it and gave your bounty. Story is following:. default JVM character encodings matters! I launched the same application with JVM parameter: <code>-Dfile.encoding=UTF-8</code> and it started working correctly. Without this option it picks <code>Charset.defaultCharset()</code> that is not UTF-8 for Windows case and it causes issues. Simply adding option <code>java -jar -Dfile.encoding=UTF-8 &lt;my_app.jar&gt;</code> fixes the issue and the code from starts working correctly"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1611223359,"post_id":65717197,"comment_id":116383389,"body_markdown":"It is nice @Nazar! I am very happy to know that you finally was able to solve the issue. I will post an answer summarizing the different comments. Please, do not hesitate to contact me if you think that I can be of any help.","body":"It is nice @Nazar! I am very happy to know that you finally was able to solve the issue. I will post an answer summarizing the different comments. Please, do not hesitate to contact me if you think that I can be of any help."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667063875,"creation_date":1611223792,"answer_id":65825163,"question_id":65717197,"body_markdown":"The problem can be related with the use of different charsets for the in MacOS (by default, `UTF-8`), in your local laptop, and Windows (`cp-1252` or some variant)  in the staging environment.\r\n\r\nAlthough you indicated charset UTF-8 in you connection properties, perhaps the problem is related with some kind of post processing.\r\n\r\nIn fact, as indicated in the question comments, both the server response and log files are typical examples of the aforementioned problem with the charset.\r\n\r\nPlease, review the charset which is in place in the JVM in every environment: review and adapt if necessary the value of the `file.encoding` system property on your laptop and the staging environment, maybe it will give you some insights about the problem and help you solve it.\r\n\r\nSo in oder to fix your issue try to add `file.encoding` JVM parameter while running your application:\r\n\r\n`java -Dfile.encoding=UTF-8 -jar your_app.jar`","title":"JDBC: Issue with rendering Danish specific characters: &#216;,&#197;,&#198;","body":"<p>The problem can be related with the use of different charsets for the in MacOS (by default, <code>UTF-8</code>), in your local laptop, and Windows (<code>cp-1252</code> or some variant)  in the staging environment.</p>\n<p>Although you indicated charset UTF-8 in you connection properties, perhaps the problem is related with some kind of post processing.</p>\n<p>In fact, as indicated in the question comments, both the server response and log files are typical examples of the aforementioned problem with the charset.</p>\n<p>Please, review the charset which is in place in the JVM in every environment: review and adapt if necessary the value of the <code>file.encoding</code> system property on your laptop and the staging environment, maybe it will give you some insights about the problem and help you solve it.</p>\n<p>So in oder to fix your issue try to add <code>file.encoding</code> JVM parameter while running your application:</p>\n<p><code>java -Dfile.encoding=UTF-8 -jar your_app.jar</code></p>\n"}],"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65825163,"answer_count":1,"score":1,"last_activity_date":1667063875,"creation_date":1610619866,"question_id":65717197,"body_markdown":"Problem:\r\nDanish specific characters are displayed improperly(as non readable chars)\r\n\r\nGiven: \r\nDatabase is `Microsoft SQL server 2019`, database collation is: `Danish_Greenlandic_100_CS_AS`. Data has been stored in Varchar column types, data has been already there; change collation or any data modification is not appropriate. I am not inserting data, only reading them(kind of report functionality).\r\nEverything is working fine on my local machine, however on staging environment Danish characters are encoded improperly. \r\n\r\nConnection initialization snippet\r\n```\r\nProperties props = new Properties();\r\nprops.put (&quot;charSet&quot;, &quot;UTF-8&quot;);\r\nprops.put(&quot;username&quot;, &quot;dbusername&quot;);\r\nprops.put(&quot;password&quot;, &quot;secret&quot;);\r\ntry (Connection con = getConnection(repositoryUrl, props);\r\n   PreparedStatement preparedStatement = con.prepareStatement(sqlQuery)\r\n) {\r\n\r\n```\r\nReading data snippet:\r\n```\r\nResultSet rs = //getResultSet\r\nwhile (rs.next()) {\r\n            Map&lt;String, String&gt; rowEntry = new LinkedHashMap&lt;&gt;();\r\n            for (int i =0; i &lt; columnCount; i++ ) {\r\n                int columnIndex = i+1;\r\n                String value = rs.getString(columnIndex);\r\n                rowEntry.put(columnName, value);\r\n            }\r\n            result.add(rowEntry);\r\n        }\r\n```\r\n","title":"JDBC: Issue with rendering Danish specific characters: &#216;,&#197;,&#198;","body":"<p>Problem:\nDanish specific characters are displayed improperly(as non readable chars)</p>\n<p>Given:\nDatabase is <code>Microsoft SQL server 2019</code>, database collation is: <code>Danish_Greenlandic_100_CS_AS</code>. Data has been stored in Varchar column types, data has been already there; change collation or any data modification is not appropriate. I am not inserting data, only reading them(kind of report functionality).\nEverything is working fine on my local machine, however on staging environment Danish characters are encoded improperly.</p>\n<p>Connection initialization snippet</p>\n<pre><code>Properties props = new Properties();\nprops.put (&quot;charSet&quot;, &quot;UTF-8&quot;);\nprops.put(&quot;username&quot;, &quot;dbusername&quot;);\nprops.put(&quot;password&quot;, &quot;secret&quot;);\ntry (Connection con = getConnection(repositoryUrl, props);\n   PreparedStatement preparedStatement = con.prepareStatement(sqlQuery)\n) {\n\n</code></pre>\n<p>Reading data snippet:</p>\n<pre><code>ResultSet rs = //getResultSet\nwhile (rs.next()) {\n            Map&lt;String, String&gt; rowEntry = new LinkedHashMap&lt;&gt;();\n            for (int i =0; i &lt; columnCount; i++ ) {\n                int columnIndex = i+1;\n                String value = rs.getString(columnIndex);\n                rowEntry.put(columnName, value);\n            }\n            result.add(rowEntry);\n        }\n</code></pre>\n"},{"tags":["java","swing","intersection","rectangles"],"comments":[{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1666889772,"post_id":74225604,"comment_id":131047535,"body_markdown":"Does this answer your question? [Java - Determining if two Ellipses intersect](https://stackoverflow.com/questions/71430237/java-determining-if-two-ellipses-intersect)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71430237/java-determining-if-two-ellipses-intersect\">Java - Determining if two Ellipses intersect</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667063160,"creation_date":1667062475,"answer_id":74247133,"question_id":74225604,"body_markdown":"The code in your question is not a [minimal, reproducible example][1] since it throws `NullPointerException` because variables, like `panel1`, are not assigned values.\r\n\r\nTherefore the below code simply demonstrates how to &quot;bounce balls&quot; and is not a &quot;fixed&quot; version of the code in your question. Hopefully it will help you to write your intended application.\r\n\r\nIn order to perform animation in *Swing* you need to use class [javax.swing.Timer][2] (and **not** class `java.util.Timer`).\r\n\r\nIf you want to place the `JLabel`s anywhere inside the `JFrame` then you should set the [layout manager][3] to null. In the below code, I null the layout manager of the [content pane][4].\r\n\r\nThe below code displays only two balls (and not three as in the code in your question) merely in order to show you how to check whether the two balls are touching. Because of this, the below code is not an accurate simulation as it does not obey the laws of physics.\r\n\r\nThe below code uses [method references][5].\r\n```java\r\nimport java.awt.Container;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.ActionEvent;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.Timer;\r\n\r\npublic class Bouncing {\r\n    private int  factorBasketball = 1;\r\n    private int  factorSoccerballX = 1;\r\n    private int  factorSoccerballY = -1;\r\n    private JFrame  frame;\r\n    private JLabel  basketball;\r\n    private JLabel  soccerball;\r\n\r\n    private void buildAndDisplayGui() {\r\n        frame = new JFrame(&quot;Balls&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        Container contentPane = frame.getContentPane();\r\n        contentPane.setLayout(null);\r\n        basketball = new JLabel(new ImageIcon(&quot;DA0zx.png&quot;));\r\n        basketball.setBounds(150, 150, 50, 50);\r\n        contentPane.add(basketball);\r\n        soccerball = new JLabel(new ImageIcon(&quot;WgQXM.png&quot;));\r\n        soccerball.setBounds(150, 300, 50, 50);\r\n        contentPane.add(soccerball);\r\n        frame.setSize(500,500);\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n        Timer timer = new Timer(50, this::timerTask);\r\n        timer.start();\r\n    }\r\n\r\n    private void timerTask(ActionEvent event) {\r\n        Rectangle boundsBasketball = basketball.getBounds();\r\n        Rectangle boundsSoccerball = soccerball.getBounds();\r\n        if (boundsBasketball.intersects(boundsSoccerball)) {\r\n            factorBasketball *= -1;\r\n        }\r\n        boundsBasketball.x += 10 * factorBasketball;\r\n        boundsBasketball.y += 10 * factorBasketball;\r\n        if (boundsBasketball.x &gt;= 440  ||\r\n            boundsBasketball.x &lt;= 0    ||\r\n            boundsBasketball.y &gt;= 410  ||\r\n            boundsBasketball.y &lt;= 0) {\r\n            factorBasketball *= -1;\r\n        }\r\n        basketball.setBounds(boundsBasketball);\r\n        boundsSoccerball.x += 10 * factorSoccerballX;\r\n        boundsSoccerball.y += 10 * factorSoccerballY;\r\n        if (boundsSoccerball.x &gt;= 440  ||\r\n            boundsSoccerball.x &lt;= 0    ||\r\n            boundsSoccerball.y &gt;= 410  ||\r\n            boundsSoccerball.y &lt;= 0) {\r\n            factorSoccerballX *= -1;\r\n            factorSoccerballY *= -1;\r\n        }\r\n        soccerball.setBounds(boundsSoccerball);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new Bouncing().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n\r\n[![screen capture of running Swing app][6]][6]\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [6]: https://i.stack.imgur.com/1LdBj.gif","title":"i have a problem with intersects bouncing balls in java","body":"<p>The code in your question is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> since it throws <code>NullPointerException</code> because variables, like <code>panel1</code>, are not assigned values.</p>\n<p>Therefore the below code simply demonstrates how to &quot;bounce balls&quot; and is not a &quot;fixed&quot; version of the code in your question. Hopefully it will help you to write your intended application.</p>\n<p>In order to perform animation in <em>Swing</em> you need to use class <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">javax.swing.Timer</a> (and <strong>not</strong> class <code>java.util.Timer</code>).</p>\n<p>If you want to place the <code>JLabel</code>s anywhere inside the <code>JFrame</code> then you should set the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout manager</a> to null. In the below code, I null the layout manager of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">content pane</a>.</p>\n<p>The below code displays only two balls (and not three as in the code in your question) merely in order to show you how to check whether the two balls are touching. Because of this, the below code is not an accurate simulation as it does not obey the laws of physics.</p>\n<p>The below code uses <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Container;\nimport java.awt.EventQueue;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.Timer;\n\npublic class Bouncing {\n    private int  factorBasketball = 1;\n    private int  factorSoccerballX = 1;\n    private int  factorSoccerballY = -1;\n    private JFrame  frame;\n    private JLabel  basketball;\n    private JLabel  soccerball;\n\n    private void buildAndDisplayGui() {\n        frame = new JFrame(&quot;Balls&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Container contentPane = frame.getContentPane();\n        contentPane.setLayout(null);\n        basketball = new JLabel(new ImageIcon(&quot;DA0zx.png&quot;));\n        basketball.setBounds(150, 150, 50, 50);\n        contentPane.add(basketball);\n        soccerball = new JLabel(new ImageIcon(&quot;WgQXM.png&quot;));\n        soccerball.setBounds(150, 300, 50, 50);\n        contentPane.add(soccerball);\n        frame.setSize(500,500);\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n        Timer timer = new Timer(50, this::timerTask);\n        timer.start();\n    }\n\n    private void timerTask(ActionEvent event) {\n        Rectangle boundsBasketball = basketball.getBounds();\n        Rectangle boundsSoccerball = soccerball.getBounds();\n        if (boundsBasketball.intersects(boundsSoccerball)) {\n            factorBasketball *= -1;\n        }\n        boundsBasketball.x += 10 * factorBasketball;\n        boundsBasketball.y += 10 * factorBasketball;\n        if (boundsBasketball.x &gt;= 440  ||\n            boundsBasketball.x &lt;= 0    ||\n            boundsBasketball.y &gt;= 410  ||\n            boundsBasketball.y &lt;= 0) {\n            factorBasketball *= -1;\n        }\n        basketball.setBounds(boundsBasketball);\n        boundsSoccerball.x += 10 * factorSoccerballX;\n        boundsSoccerball.y += 10 * factorSoccerballY;\n        if (boundsSoccerball.x &gt;= 440  ||\n            boundsSoccerball.x &lt;= 0    ||\n            boundsSoccerball.y &gt;= 410  ||\n            boundsSoccerball.y &lt;= 0) {\n            factorSoccerballX *= -1;\n            factorSoccerballY *= -1;\n        }\n        soccerball.setBounds(boundsSoccerball);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new Bouncing().buildAndDisplayGui());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1LdBj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1LdBj.gif\" alt=\"screen capture of running Swing app\" /></a></p>\n"}],"owner":{"account_id":24492715,"reputation":9,"user_id":18409532,"display_name":"fantazsizt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667063160,"creation_date":1666889509,"question_id":74225604,"body_markdown":"I am making bouncing balls, there are icons on the labels in the codes. When I multiply the variables &#39;hizx&#39;,&#39;hizx2&#39;,&#39;hizx3&#39; by -1, they only hop on the x-axis. If I write the variables &#39;hizy&#39;, &#39;hizy2&#39;, &#39;hizy3&#39; in the comment line as I did, the icons get weird when the balls cross each other.Could you help?\r\n\r\n \r\n\r\n\r\nHow can I make icons bounce after touching each other?\r\n\r\n\r\nPictures I used\r\n\r\n[enter image description here][1]\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n[enter image description here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DA0zx.png\r\n  [2]: https://i.stack.imgur.com/WgQXM.png\r\n  [3]: https://i.stack.imgur.com/LJUib.png\r\n\r\n# form starter\r\n\r\n```\r\npackage odev5_m_metin;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class giris {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                odev_intersect o1 = new odev_intersect();\r\n                o1.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n# Main code:\r\n```\r\npackage odev5_m_metin;\r\n\r\nimport javax.swing.*;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\nimport java.awt.Rectangle;\r\n\r\n\r\npublic class odev_intersect extends JFrame {\r\n\r\n    private JPanel panel1;\r\n    private JLabel label1;\r\n    private JLabel label2;\r\n    private JLabel label3;\r\n\r\n    static int x,y,x2,y2,x3,y3,hizx = 5, hizy = 4,hizx2 = 5, hizy2 = 7,hizx3=5,hizy3=5;\r\n    static Timer time1;\r\n    static TimerTask g1,g2;\r\n\r\n    static Rectangle r1;\r\n    static Rectangle r2;\r\n    static Rectangle r3;\r\n\r\n    public odev_intersect() {\r\n        add(panel1);\r\n        setSize(500,500);\r\n        setTitle(&quot;Intersect &#214;dev&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        label1.setBounds(150,150,50,50);\r\n        label2.setBounds(150,300,50,50);\r\n        label3.setBounds(450,450,50,50);\r\n\r\n        x=100;\r\n        y=200;\r\n        x2=200;\r\n        y2=200;\r\n        x3=300;\r\n        x3=300;\r\n\r\n        time1 = new Timer();\r\n\r\n        g1 = new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                r1 = new Rectangle(label1.getX(),label1.getY(),label1.getWidth(),label1.getHeight());\r\n                r2 = new Rectangle(label2.getX(),label2.getY(),label2.getWidth(),label2.getHeight());\r\n                r3 = new Rectangle(label3.getX(),label3.getY(),label3.getWidth(),label3.getHeight());\r\n\r\n                x+=hizx;\r\n                y+=hizy;\r\n                x2+=hizx2;\r\n                y2+=hizy2;\r\n                x3+=hizx3;\r\n                y3+=hizy3;\r\n\r\n                if (x&gt;=440 || x&lt;=0) hizx*=-1;\r\n                if (y&gt;=410 || y&lt;=0) hizy*=-1;\r\n                if (x2&gt;=440 || x2&lt;=0) hizx2*=-1;\r\n                if (y2&gt;=410 || y2&lt;=0) hizy2*=-1;\r\n                if (x3&gt;=440 || x3&lt;=0) hizx3*=-1;\r\n                if (y3&gt;=410 || y3&lt;=0) hizy3*=-1;\r\n\r\n                if (r1.intersects(r2) || r1.intersects(r3)) hizx*=-1; //hizy*=-1;\r\n                if (r2.intersects(r1) || r2.intersects(r3)) hizx2*=-1; //hizy2*=-1;\r\n                if (r3.intersects(r2) || r3.intersects(r1)) hizx3*=-1; //hizy3*=-1;\r\n\r\n                label1.setBounds(x,y,50,50);\r\n                label2.setBounds(x2,y2,50,50);\r\n                label3.setBounds(x3,y3,50,50);\r\n            }\r\n        };\r\n\r\n        time1.schedule(g1,0,10);\r\n    }\r\n}\r\n```\r\n","title":"i have a problem with intersects bouncing balls in java","body":"<p>I am making bouncing balls, there are icons on the labels in the codes. When I multiply the variables 'hizx','hizx2','hizx3' by -1, they only hop on the x-axis. If I write the variables 'hizy', 'hizy2', 'hizy3' in the comment line as I did, the icons get weird when the balls cross each other.Could you help?</p>\n<p>How can I make icons bounce after touching each other?</p>\n<p>Pictures I used</p>\n<p><a href=\"https://i.stack.imgur.com/DA0zx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/WgQXM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/LJUib.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<h1>form starter</h1>\n<pre><code>package odev5_m_metin;\n\nimport javax.swing.*;\n\npublic class giris {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                odev_intersect o1 = new odev_intersect();\n                o1.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n<h1>Main code:</h1>\n<pre><code>package odev5_m_metin;\n\nimport javax.swing.*;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport java.awt.Rectangle;\n\n\npublic class odev_intersect extends JFrame {\n\n    private JPanel panel1;\n    private JLabel label1;\n    private JLabel label2;\n    private JLabel label3;\n\n    static int x,y,x2,y2,x3,y3,hizx = 5, hizy = 4,hizx2 = 5, hizy2 = 7,hizx3=5,hizy3=5;\n    static Timer time1;\n    static TimerTask g1,g2;\n\n    static Rectangle r1;\n    static Rectangle r2;\n    static Rectangle r3;\n\n    public odev_intersect() {\n        add(panel1);\n        setSize(500,500);\n        setTitle(&quot;Intersect Ödev&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        label1.setBounds(150,150,50,50);\n        label2.setBounds(150,300,50,50);\n        label3.setBounds(450,450,50,50);\n\n        x=100;\n        y=200;\n        x2=200;\n        y2=200;\n        x3=300;\n        x3=300;\n\n        time1 = new Timer();\n\n        g1 = new TimerTask() {\n            @Override\n            public void run() {\n                r1 = new Rectangle(label1.getX(),label1.getY(),label1.getWidth(),label1.getHeight());\n                r2 = new Rectangle(label2.getX(),label2.getY(),label2.getWidth(),label2.getHeight());\n                r3 = new Rectangle(label3.getX(),label3.getY(),label3.getWidth(),label3.getHeight());\n\n                x+=hizx;\n                y+=hizy;\n                x2+=hizx2;\n                y2+=hizy2;\n                x3+=hizx3;\n                y3+=hizy3;\n\n                if (x&gt;=440 || x&lt;=0) hizx*=-1;\n                if (y&gt;=410 || y&lt;=0) hizy*=-1;\n                if (x2&gt;=440 || x2&lt;=0) hizx2*=-1;\n                if (y2&gt;=410 || y2&lt;=0) hizy2*=-1;\n                if (x3&gt;=440 || x3&lt;=0) hizx3*=-1;\n                if (y3&gt;=410 || y3&lt;=0) hizy3*=-1;\n\n                if (r1.intersects(r2) || r1.intersects(r3)) hizx*=-1; //hizy*=-1;\n                if (r2.intersects(r1) || r2.intersects(r3)) hizx2*=-1; //hizy2*=-1;\n                if (r3.intersects(r2) || r3.intersects(r1)) hizx3*=-1; //hizy3*=-1;\n\n                label1.setBounds(x,y,50,50);\n                label2.setBounds(x2,y2,50,50);\n                label3.setBounds(x3,y3,50,50);\n            }\n        };\n\n        time1.schedule(g1,0,10);\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","annotations","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":12402697,"reputation":11,"user_id":9039174,"display_name":"Vladimir Portianko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667062614,"creation_date":1667062614,"answer_id":74247152,"question_id":67016779,"body_markdown":"For WebFlux you need to use `HandlerMethodArgumentResolverSupport`, not `HandlerMethodArgumentResolver`.\r\n\r\nAlso if you are using Spring Boot, you don&#39;t need to implement `WebFluxConfigurer`, just add ArgumentResolver classes to context with @Bean or @Component.","title":"Spring Webflux HandlerMethodArgumentResolver not executing","body":"<p>For WebFlux you need to use <code>HandlerMethodArgumentResolverSupport</code>, not <code>HandlerMethodArgumentResolver</code>.</p>\n<p>Also if you are using Spring Boot, you don't need to implement <code>WebFluxConfigurer</code>, just add ArgumentResolver classes to context with @Bean or @Component.</p>\n"}],"owner":{"account_id":8902878,"reputation":296,"user_id":6645767,"accept_rate":64,"display_name":"matrixguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667062614,"creation_date":1617953123,"question_id":67016779,"body_markdown":"I am working on a project using spring webflux.\r\nI have to add custom annotations on query params in controller and have some logic on them , came into HandlerMethodArgumentResolver. However i haven&#39;t been able to get it to work \r\n\r\n```\r\nobject RequestParamsResolver : HandlerMethodArgumentResolver {\r\n    override fun supportsParameter(parameter: MethodParameter): Boolean {\r\n        println(&quot;....check parameter support&quot;)\r\n        return parameter.getParameterAnnotation(Control::class.java) != null\r\n    }\r\n\r\n    override fun resolveArgument(\r\n        parameter: MethodParameter,\r\n        bindingContext: BindingContext,\r\n        exchange: ServerWebExchange\r\n    ): Mono&lt;Any&gt; {\r\n        println(&quot;....resolve argument called&quot;)\r\n        val annotation = parameter.getParameterAnnotation(Control::class.java)\r\n        return Mono.empty()\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Configuration\r\nclass WebConfig : WebFluxConfigurer {\r\n\r\n    override fun configureArgumentResolvers(configurer: ArgumentResolverConfigurer) {\r\n        println(&quot;...adding custom resolver&quot;)\r\n        configurer.addCustomResolver(RequestParamsResolver)\r\n        super.configureArgumentResolvers(configurer)\r\n    }\r\n}\r\n```\r\n\r\nMy configureArgumentResolvers is being executed,  but none of the methods in RequestParamsResolver is being called. Am i missing something? Will appreciate any help. TIA\r\n\r\n\r\nI have looked into the similar question, but it didn&#39;t work.\r\nhttps://stackoverflow.com/questions/17331448/spring-handlermethodargumentresolver-not-executing","title":"Spring Webflux HandlerMethodArgumentResolver not executing","body":"<p>I am working on a project using spring webflux.\nI have to add custom annotations on query params in controller and have some logic on them , came into HandlerMethodArgumentResolver. However i haven't been able to get it to work</p>\n<pre><code>object RequestParamsResolver : HandlerMethodArgumentResolver {\n    override fun supportsParameter(parameter: MethodParameter): Boolean {\n        println(&quot;....check parameter support&quot;)\n        return parameter.getParameterAnnotation(Control::class.java) != null\n    }\n\n    override fun resolveArgument(\n        parameter: MethodParameter,\n        bindingContext: BindingContext,\n        exchange: ServerWebExchange\n    ): Mono&lt;Any&gt; {\n        println(&quot;....resolve argument called&quot;)\n        val annotation = parameter.getParameterAnnotation(Control::class.java)\n        return Mono.empty()\n    }\n\n}\n</code></pre>\n<pre><code>@Configuration\nclass WebConfig : WebFluxConfigurer {\n\n    override fun configureArgumentResolvers(configurer: ArgumentResolverConfigurer) {\n        println(&quot;...adding custom resolver&quot;)\n        configurer.addCustomResolver(RequestParamsResolver)\n        super.configureArgumentResolvers(configurer)\n    }\n}\n</code></pre>\n<p>My configureArgumentResolvers is being executed,  but none of the methods in RequestParamsResolver is being called. Am i missing something? Will appreciate any help. TIA</p>\n<p>I have looked into the similar question, but it didn't work.\n<a href=\"https://stackoverflow.com/questions/17331448/spring-handlermethodargumentresolver-not-executing\">Spring HandlerMethodArgumentResolver not executing</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"score":0,"creation_date":1666978066,"post_id":74238282,"comment_id":131070133,"body_markdown":"The provided pieces of code are not enough to test and reproduce your problem, consider posting the FXML file as well.\nsee how to create a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"The provided pieces of code are not enough to test and reproduce your problem, consider posting the FXML file as well. see how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":15114979,"reputation":41,"user_id":10907692,"display_name":"Alan Matthews"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667062362,"creation_date":1667062362,"answer_id":74247120,"question_id":74238282,"body_markdown":"I&#39;ve solved the problem. The problem did not lie with the injection of the subScene into the borderpane but with setGroup(width, depth) where the parameters were both zero. The objects could not rendered since they were out of scene.   ","title":"JavaFX BorderPane.setCenter(SubScene) does not display subscene content when generated from FXML file","body":"<p>I've solved the problem. The problem did not lie with the injection of the subScene into the borderpane but with setGroup(width, depth) where the parameters were both zero. The objects could not rendered since they were out of scene.</p>\n"}],"owner":{"account_id":15114979,"reputation":41,"user_id":10907692,"display_name":"Alan Matthews"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667062362,"creation_date":1666974517,"question_id":74238282,"body_markdown":"Having constructed a GUI from SceneBuilder based upon a BorderPane layout I cannot display the items in subScene assigned to the Center region. When building the application without an FXML file the contents are displayed.\r\n\r\n       Group objects = setGroup(width, height);\r\n       Group group = new Group(objects, camera, spot, light);\r\n       SubScene subScene = new SubScene(group, 600, 550, true, SceneAntialiasing.BALANCED);\r\n       BorderPane borderpane =  new BorderPane(null, menubar, null, sliders, null);\r\n       borderpane.setCenter(subScene);\r\n       Scene scene = new Scene(borderpane, 600, 600);\r\n       stage.setScene(scene);\r\nThe above works fine when borderpane is instantiated within start(Stage stage) but if borderpane is referenced from the FXMLController     \r\n\r\n       Group objects = setGroup(width, height);\r\n       Group group = new Group(objects, camera, spot, light);\r\n       SubScene subScene = new SubScene(group, 600, 550, true, SceneAntialiasing.BALANCED);\r\n       BorderPane borderpane = controller.getBorderPane();\r\n       borderpane.setCenter(subScene);\r\n       Scene scene = new Scene(root, 600, 600);\r\n       stage.setScene(scene);\r\n","title":"JavaFX BorderPane.setCenter(SubScene) does not display subscene content when generated from FXML file","body":"<p>Having constructed a GUI from SceneBuilder based upon a BorderPane layout I cannot display the items in subScene assigned to the Center region. When building the application without an FXML file the contents are displayed.</p>\n<pre><code>   Group objects = setGroup(width, height);\n   Group group = new Group(objects, camera, spot, light);\n   SubScene subScene = new SubScene(group, 600, 550, true, SceneAntialiasing.BALANCED);\n   BorderPane borderpane =  new BorderPane(null, menubar, null, sliders, null);\n   borderpane.setCenter(subScene);\n   Scene scene = new Scene(borderpane, 600, 600);\n   stage.setScene(scene);\n</code></pre>\n<p>The above works fine when borderpane is instantiated within start(Stage stage) but if borderpane is referenced from the FXMLController</p>\n<pre><code>   Group objects = setGroup(width, height);\n   Group group = new Group(objects, camera, spot, light);\n   SubScene subScene = new SubScene(group, 600, 550, true, SceneAntialiasing.BALANCED);\n   BorderPane borderpane = controller.getBorderPane();\n   borderpane.setCenter(subScene);\n   Scene scene = new Scene(root, 600, 600);\n   stage.setScene(scene);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1666878166,"post_id":74222812,"comment_id":131043126,"body_markdown":"instead of casting `temp%10` to an int grab that last digit first in a long `long thisDig = temp % 10` then cast it to an int before you save it `result[i] = (int)thisDig` the problem is the long is cast to an int and then divided, but your long is too large and doesn&#39;t appear correctly on the first loop iteration. Try printing `(int)temp` and see what you get","body":"instead of casting <code>temp%10</code> to an int grab that last digit first in a long <code>long thisDig = temp % 10</code> then cast it to an int before you save it <code>result[i] = (int)thisDig</code> the problem is the long is cast to an int and then divided, but your long is too large and doesn&#39;t appear correctly on the first loop iteration. Try printing <code>(int)temp</code> and see what you get"},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":1,"creation_date":1666879520,"post_id":74222812,"comment_id":131043695,"body_markdown":"@Portal The LeetCode challenge states `1 &lt;= digits.length &lt;= 100`, so `long` is still way too short for the approach: `int[]` to number; increment; number to `int[]`. You&#39;ll have to use `java.math.BigInteger` instead. Although the idea of the challenge is to just start increasing digits individually from the last digit backwards as long as you still encounter `9`s, instead of converting it to a number.","body":"@Portal The LeetCode challenge states <code>1 &lt;= digits.length &lt;= 100</code>, so <code>long</code> is still way too short for the approach: <code>int[]</code> to number; increment; number to <code>int[]</code>. You&#39;ll have to use <code>java.math.BigInteger</code> instead. Although the idea of the challenge is to just start increasing digits individually from the last digit backwards as long as you still encounter <code>9</code>s, instead of converting it to a number."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1666890643,"post_id":74222812,"comment_id":131047830,"body_markdown":"How does this relate to `dsa` (did you read the usage description?)","body":"How does this relate to <code>dsa</code> (did you read the usage description?)"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666945318,"post_id":74222812,"comment_id":131059078,"body_markdown":"Another pointless programming exercise that no one will ever do in a real job.","body":"Another pointless programming exercise that no one will ever do in a real job."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666946938,"creation_date":1666943689,"answer_id":74232212,"question_id":74222812,"body_markdown":"There is nothing really wrong with your code...it just needs a little tweak. \r\n\r\nThe problem you are having is within the `for` loop that converts the incremented number held in `temp` to an int[] Array. Casting the `temp % 10` to an `int` as in `result[i] = (int) temp % 10;` is going to produce an undesirable result. `temp` is a long and therefore shouldn&#39;t be cast to `int` **until** is has finished its modulo calculation. So, the simple solution would be to wrap the equation within parentheses, for example: \r\n\r\n    result[i] = (int) (temp % 10);\r\n\r\nThat should solve the immediate problem. An even bigger problem is the fact that you are limited to a numerical value that can only fit into a `long` data type. An `int[]` Array can hold an extremely large number if you were to take each element of that array and sequentially combine the digits. A `long` data type for example can only hold an unsigned value of `9223372036854775807`. As you can see, this would create an int[] Array of 19 elements and that&#39;s a small Array. \r\n\r\nWhat if the Array contained 100 elements (digits)? That&#39;s a pretty big number but not necessarily out of the realm of use. This is why you have been advised (in comments) to utilize the [java.math.BigInteger](https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html) class. With BigInteger, you can work with any size of **integer** number which is basically what you **really** need. Here is how you could carry out the same task using **BigInteger**:\r\n\r\n    public int[] plusOne(int[] digits) {\r\n        java.math.BigInteger num = java.math.BigInteger.ZERO;\r\n\r\n        // Convert int[] Array to a BigInteger number...\r\n        for (int b : digits) {\r\n            num = num.multiply(java.math.BigInteger.valueOf(10))\r\n                               .add(java.math.BigInteger.valueOf(b));\r\n        }\r\n\r\n        // Add 1 to the determined BigInteger number\r\n        num = num.add(java.math.BigInteger.valueOf(1));\r\n\r\n        // Convert BigInteger number back to an Array\r\n        digits = num.toString().chars().map(c -&gt; c - &#39;0&#39;).toArray();\r\n\r\n        return digits;\r\n    }\r\n\r\nAs an example, let&#39;s run this method against an `int[]` Array of 100 elements. That would be an integer number consisting of 100 digits. Now that&#39;s a **large** number:\r\n\r\n    /* Auto-create an int[] array containing 100 elements of random digits \r\n       0 to 9 (the first digit of the Array will never be a 0).   */\r\n    int[] array = new int[100];\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        int n = new java.util.Random().nextInt(9);\r\n        // Make sure the first digit isn&#39;t a 0.\r\n        if (i == 0 &amp;&amp; n == 0) {\r\n            i--;\r\n            continue;\r\n        }\r\n        array[i] = new java.util.Random().nextInt(9);\r\n    }\r\n    System.out.println(&quot;Original: -&gt; &quot; + Arrays.toString(array));\r\n\r\n    /* Cycle the plusOne() method 12 times and display the array \r\n       within each cycle...                */\r\n    for (int i = 0; i &lt; 12; i++) {\r\n        array = plusOne(array);\r\n        // Display The array:\r\n        System.out.println(&quot;Plus One: -&gt; &quot; + Arrays.toString(array));\r\n    } \r\n\r\nThe Console Window should display something like this. You will need to scroll to the end to see the incrementing (plus one):\r\n\r\n```\r\nOriginal: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 2, 6]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 2, 7]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 2, 8]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 2, 9]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 0]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 1]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 2]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 3]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 4]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 5]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 6]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 7]\r\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 8]\r\n```","title":"Not able to solve Plus One Java problem on Leetcode","body":"<p>There is nothing really wrong with your code...it just needs a little tweak.</p>\n<p>The problem you are having is within the <code>for</code> loop that converts the incremented number held in <code>temp</code> to an int[] Array. Casting the <code>temp % 10</code> to an <code>int</code> as in <code>result[i] = (int) temp % 10;</code> is going to produce an undesirable result. <code>temp</code> is a long and therefore shouldn't be cast to <code>int</code> <strong>until</strong> is has finished its modulo calculation. So, the simple solution would be to wrap the equation within parentheses, for example:</p>\n<pre><code>result[i] = (int) (temp % 10);\n</code></pre>\n<p>That should solve the immediate problem. An even bigger problem is the fact that you are limited to a numerical value that can only fit into a <code>long</code> data type. An <code>int[]</code> Array can hold an extremely large number if you were to take each element of that array and sequentially combine the digits. A <code>long</code> data type for example can only hold an unsigned value of <code>9223372036854775807</code>. As you can see, this would create an int[] Array of 19 elements and that's a small Array.</p>\n<p>What if the Array contained 100 elements (digits)? That's a pretty big number but not necessarily out of the realm of use. This is why you have been advised (in comments) to utilize the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">java.math.BigInteger</a> class. With BigInteger, you can work with any size of <strong>integer</strong> number which is basically what you <strong>really</strong> need. Here is how you could carry out the same task using <strong>BigInteger</strong>:</p>\n<pre><code>public int[] plusOne(int[] digits) {\n    java.math.BigInteger num = java.math.BigInteger.ZERO;\n\n    // Convert int[] Array to a BigInteger number...\n    for (int b : digits) {\n        num = num.multiply(java.math.BigInteger.valueOf(10))\n                           .add(java.math.BigInteger.valueOf(b));\n    }\n\n    // Add 1 to the determined BigInteger number\n    num = num.add(java.math.BigInteger.valueOf(1));\n\n    // Convert BigInteger number back to an Array\n    digits = num.toString().chars().map(c -&gt; c - '0').toArray();\n\n    return digits;\n}\n</code></pre>\n<p>As an example, let's run this method against an <code>int[]</code> Array of 100 elements. That would be an integer number consisting of 100 digits. Now that's a <strong>large</strong> number:</p>\n<pre><code>/* Auto-create an int[] array containing 100 elements of random digits \n   0 to 9 (the first digit of the Array will never be a 0).   */\nint[] array = new int[100];\nfor (int i = 0; i &lt; 100; i++) {\n    int n = new java.util.Random().nextInt(9);\n    // Make sure the first digit isn't a 0.\n    if (i == 0 &amp;&amp; n == 0) {\n        i--;\n        continue;\n    }\n    array[i] = new java.util.Random().nextInt(9);\n}\nSystem.out.println(&quot;Original: -&gt; &quot; + Arrays.toString(array));\n\n/* Cycle the plusOne() method 12 times and display the array \n   within each cycle...                */\nfor (int i = 0; i &lt; 12; i++) {\n    array = plusOne(array);\n    // Display The array:\n    System.out.println(&quot;Plus One: -&gt; &quot; + Arrays.toString(array));\n} \n</code></pre>\n<p>The Console Window should display something like this. You will need to scroll to the end to see the incrementing (plus one):</p>\n<pre><code>Original: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 2, 6]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 2, 7]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 2, 8]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 2, 9]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 0]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 1]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 2]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 3]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 4]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 5]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 6]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 7]\nPlus One: -&gt; [7, 8, 8, 3, 7, 3, 2, 1, 4, 6, 8, 8, 0, 7, 5, 8, 1, 7, 7, 0, 2, 2, 3, 2, 7, 2, 2, 2, 3, 4, 6, 7, 4, 6, 1, 4, 2, 4, 3, 1, 0, 4, 2, 8, 3, 4, 3, 8, 3, 6, 2, 5, 6, 6, 3, 5, 1, 3, 0, 7, 0, 0, 8, 7, 0, 0, 2, 4, 8, 5, 0, 6, 0, 2, 3, 5, 0, 1, 3, 3, 4, 1, 2, 8, 8, 1, 8, 3, 0, 5, 8, 8, 2, 2, 6, 6, 3, 5, 3, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666944257,"creation_date":1666944257,"answer_id":74232297,"question_id":74222812,"body_markdown":"This is pretty straight forward solution. Just what you do in the school: increment right to left with keeping carry for the next digit.\r\n\r\n```java\r\nclass Solution {\r\n    public int[] plusOne(int[] digits) {\r\n        boolean carry = true;\r\n\r\n        for (int i = digits.length - 1; carry &amp;&amp; i &gt;= 0; i--) {\r\n            carry = digits[i] == 9;\r\n            digits[i] = carry ? 0 : digits[i] + 1;\r\n        }\r\n\r\n        if (carry) {\r\n            int[] tmp = new int[digits.length + 1];\r\n            tmp[0] = 1;\r\n            System.arraycopy(digits, 0, tmp, 1, digits.length);\r\n            digits = tmp;\r\n        }\r\n\r\n        return digits;\r\n    }\r\n}\r\n```","title":"Not able to solve Plus One Java problem on Leetcode","body":"<p>This is pretty straight forward solution. Just what you do in the school: increment right to left with keeping carry for the next digit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public int[] plusOne(int[] digits) {\n        boolean carry = true;\n\n        for (int i = digits.length - 1; carry &amp;&amp; i &gt;= 0; i--) {\n            carry = digits[i] == 9;\n            digits[i] = carry ? 0 : digits[i] + 1;\n        }\n\n        if (carry) {\n            int[] tmp = new int[digits.length + 1];\n            tmp[0] = 1;\n            System.arraycopy(digits, 0, tmp, 1, digits.length);\n            digits = tmp;\n        }\n\n        return digits;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22319245,"reputation":41,"user_id":16542113,"display_name":"Ankit Biswas"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1666945165,"accepted_answer_id":74232212,"answer_count":2,"score":-2,"last_activity_date":1667062120,"creation_date":1666877062,"question_id":74222812,"body_markdown":"I am trying to solve [Plus One on Leetcode][1]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/plus-one/\r\n\r\n\r\nThe description is as follows:\r\n\r\nYou are given a large integer represented as an integer array digits, where each digits[i] is the ith digit of the integer. The digits are ordered from most significant to least significant in left-to-right order. The large integer does not contain any leading 0&#39;s.\r\n\r\nIncrement the large integer by one and return the resulting array of digits.\r\n\r\n \r\n\r\nExample 1:\r\n\r\nInput: digits = [1,2,3]\r\nOutput: [1,2,4]\r\nExplanation: The array represents the integer 123.\r\nIncrementing by one gives 123 + 1 = 124.\r\nThus, the result should be [1,2,4].\r\n\r\n\r\nMy code is:\r\n\r\n    class Solution {\r\n    public int[] plusOne(int[] digits) {\r\n        \r\n        long temp=0;int c=0;\r\n        for(int i:digits)\r\n        {\r\n            temp=temp*10+i;\r\n            //System.out.println(temp);\r\n            \r\n        }\r\n         //System.out.println(temp);\r\n        temp+=1;\r\n        //System.out.println(temp);\r\n        long copy=temp;\r\n        while(copy&gt;0)\r\n        {\r\n            copy/=10;\r\n            c++;\r\n        }\r\n        \r\n        int[] result=new int[c];\r\n        \r\n        for(int i=c-1;i&gt;=0;i--)\r\n        {\r\n            //System.out.println((int)temp%10);\r\n            result[i]=(int)temp%10;\r\n           // System.out.println(result[i]);\r\n            temp/=10;\r\n        }\r\n        \r\n        return result;\r\n    }\r\n}\r\n\r\nThe problem is when I am trying to extract the number in the unit&#39;s digit it is givig 9 instead of 1.\r\n\r\nExpected output:[9,8,7,6,5,4,3,2,1,1]\r\n\r\nMy Output:[9,8,7,6,5,4,3,2,1,9]","title":"Not able to solve Plus One Java problem on Leetcode","body":"<p>I am trying to solve <a href=\"https://leetcode.com/problems/plus-one/\" rel=\"nofollow noreferrer\">Plus One on Leetcode</a></p>\n<p>The description is as follows:</p>\n<p>You are given a large integer represented as an integer array digits, where each digits[i] is the ith digit of the integer. The digits are ordered from most significant to least significant in left-to-right order. The large integer does not contain any leading 0's.</p>\n<p>Increment the large integer by one and return the resulting array of digits.</p>\n<p>Example 1:</p>\n<p>Input: digits = [1,2,3]\nOutput: [1,2,4]\nExplanation: The array represents the integer 123.\nIncrementing by one gives 123 + 1 = 124.\nThus, the result should be [1,2,4].</p>\n<p>My code is:</p>\n<pre><code>class Solution {\npublic int[] plusOne(int[] digits) {\n    \n    long temp=0;int c=0;\n    for(int i:digits)\n    {\n        temp=temp*10+i;\n        //System.out.println(temp);\n        \n    }\n     //System.out.println(temp);\n    temp+=1;\n    //System.out.println(temp);\n    long copy=temp;\n    while(copy&gt;0)\n    {\n        copy/=10;\n        c++;\n    }\n    \n    int[] result=new int[c];\n    \n    for(int i=c-1;i&gt;=0;i--)\n    {\n        //System.out.println((int)temp%10);\n        result[i]=(int)temp%10;\n       // System.out.println(result[i]);\n        temp/=10;\n    }\n    \n    return result;\n}\n</code></pre>\n<p>}</p>\n<p>The problem is when I am trying to extract the number in the unit's digit it is givig 9 instead of 1.</p>\n<p>Expected output:[9,8,7,6,5,4,3,2,1,1]</p>\n<p>My Output:[9,8,7,6,5,4,3,2,1,9]</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":36085,"reputation":1602,"user_id":102694,"accept_rate":79,"display_name":"Aron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667062026,"creation_date":1667062026,"answer_id":74247082,"question_id":74215354,"body_markdown":"I was hoping to avoid annotating the classes (mostly for not-very-convincing aesthetic reasons), but adding `@JsonDeserialize(using = ThingDeserializer.class)` to `ThingImpl` does the trick.","title":"Jackson: custom deserializer on an interface","body":"<p>I was hoping to avoid annotating the classes (mostly for not-very-convincing aesthetic reasons), but adding <code>@JsonDeserialize(using = ThingDeserializer.class)</code> to <code>ThingImpl</code> does the trick.</p>\n"}],"owner":{"account_id":36085,"reputation":1602,"user_id":102694,"accept_rate":79,"display_name":"Aron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667062026,"creation_date":1666828211,"question_id":74215354,"body_markdown":"I have an `interface Thing`, implemented by `class ThingImpl`. I have a custom Jackson serializer and deserializer registered for the interface, `Thing`. All works great on serialization, and when deserializing when Jackson is told the type: `mapper.readValue(json, Thing.class)`.\r\n\r\nBut, I have cases where Jackson needs to deserialize a `Thing` when the type is not statically known - like as the value in a `Map&lt;String, Object&gt;`. To support that, I added an annotation to `Thing` to tell it to add type info:\r\n\r\n```java\r\n@JsonTypeInfo(use = Id.CLASS)\r\n```\r\n\r\n...and I updated the serializer to write out the type info by overriding `serializeWithType`.\r\n\r\nNow, the `@class` attribute is added to the serialized form and when deserializing, Jackson recognizes the type info - but the class name written to `@class` is the implementation, `ThingImpl`, rather than the interface, and it doesn&#39;t invoke my custom deserializer for the interface, `Thing`. Instead, it tries to naively deserialize to a `ThingImpl` and fails.\r\n\r\nHow can I tell Jackson to use my `Thing` deserializer for `ThingImpl`s, or tag serialized `ThingImpl`s as `Thing`s?","title":"Jackson: custom deserializer on an interface","body":"<p>I have an <code>interface Thing</code>, implemented by <code>class ThingImpl</code>. I have a custom Jackson serializer and deserializer registered for the interface, <code>Thing</code>. All works great on serialization, and when deserializing when Jackson is told the type: <code>mapper.readValue(json, Thing.class)</code>.</p>\n<p>But, I have cases where Jackson needs to deserialize a <code>Thing</code> when the type is not statically known - like as the value in a <code>Map&lt;String, Object&gt;</code>. To support that, I added an annotation to <code>Thing</code> to tell it to add type info:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = Id.CLASS)\n</code></pre>\n<p>...and I updated the serializer to write out the type info by overriding <code>serializeWithType</code>.</p>\n<p>Now, the <code>@class</code> attribute is added to the serialized form and when deserializing, Jackson recognizes the type info - but the class name written to <code>@class</code> is the implementation, <code>ThingImpl</code>, rather than the interface, and it doesn't invoke my custom deserializer for the interface, <code>Thing</code>. Instead, it tries to naively deserialize to a <code>ThingImpl</code> and fails.</p>\n<p>How can I tell Jackson to use my <code>Thing</code> deserializer for <code>ThingImpl</code>s, or tag serialized <code>ThingImpl</code>s as <code>Thing</code>s?</p>\n"},{"tags":["java","arrays","jboss","teiid"],"answers":[{"tags":[],"owner":{"account_id":1974326,"reputation":554,"user_id":1772470,"display_name":"Ramesh Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667059307,"creation_date":1667059307,"answer_id":74246761,"question_id":74231564,"body_markdown":"The issue is with this line\r\n\r\n```      \r\ndouble[] depths = (double[])((double[])depthArray);\r\n```\r\n\r\nEither try changing the method signature to use `double[] depthArray` if that does not work, try casting to ArrayImpl like\r\n\r\n```\r\n\r\neither one of the above solutions will work!\r\n    if (depthArray instanceof ArrayImpl) {\r\n        ArrayImpl array = (ArrayImpl) depth array;\r\n        Object[] arrayVals = array.getValues();\r\n        for (int i = 0; i &lt; arrayVals.length; i++) {\r\n            double val = arrayVals[i];\r\n            // do \r\n        }\r\n    }\r\n```\r\n\r\n\r\none of the above solutions should work!","title":"Conversion Error in TEIID during function call","body":"<p>The issue is with this line</p>\n<pre><code>double[] depths = (double[])((double[])depthArray);\n</code></pre>\n<p>Either try changing the method signature to use <code>double[] depthArray</code> if that does not work, try casting to ArrayImpl like</p>\n<pre><code>\neither one of the above solutions will work!\n    if (depthArray instanceof ArrayImpl) {\n        ArrayImpl array = (ArrayImpl) depth array;\n        Object[] arrayVals = array.getValues();\n        for (int i = 0; i &lt; arrayVals.length; i++) {\n            double val = arrayVals[i];\n            // do \n        }\n    }\n</code></pre>\n<p>one of the above solutions should work!</p>\n"}],"owner":{"account_id":9686601,"reputation":19,"user_id":7186191,"display_name":"ASAFDAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667059307,"creation_date":1666939617,"question_id":74231564,"body_markdown":"I have following function defined in a java jar file within the vdb folder:\r\n\r\n```\r\npublic static Blob createSampleLogCurve(String indexType, String indexUnit, String curveName, String curveUnit, String curveDataType, Object depthArray, Object valueArray) throws BulkDataException, SQLException { NullValueDef nullDef = new NullValueDef();\r\n      byte[] bytes = null;\r\n      nullDef.setNullFloat(-98765.0F);\r\n      double[] depths = (double[])((double[])depthArray);\r\n      int totalsamples = depths.length;\r\n      String dataType = DataType.FLOAT.toString();\r\n      double increment = depths[1] - depths[0];\r\n\r\n      for(int i = 0; i &lt; totalsamples - 1; ++i) {\r\n         if (increment != depths[i + 1] - depths[i]) {\r\n            increment = 0.0D;\r\n            break;\r\n         }\r\n      }\r\n\r\n      if (curveDataType.equalsIgnoreCase(&quot;INT&quot;)) {\r\n         dataType = DataType.INT.toString();\r\n      } else if (curveDataType.equalsIgnoreCase(&quot;DOUBLE&quot;)) {\r\n         dataType = DataType.DOUBLE.toString();\r\n      } else {\r\n         dataType = DataType.FLOAT.toString();\r\n      }\r\n\r\n      CurveIndexProtoBuf indexProtobuf = new CurveIndexProtoBuf(depths[0], increment, totalsamples, indexType, indexUnit, depths);\r\n      List&lt;CurveValueProtoBuf&gt; values = new ArrayList();\r\n      values.add(new CurveValueProtoBuf(SampleType.VALUE.toString(), dataType, (String)null, curveUnit, 1, 1, (List)null, curveName, (Index)null, (Index)null, valueArray));\r\n      LogCurveProtoBuf logCurveProtobuf = new LogCurveProtoBuf(indexType.equals(&quot;DEPTH&quot;) ? IndexType.DEPTH.toString() : IndexType.TIME.toString(), indexProtobuf, values);\r\n      PipedInputStream in = new PipedInputStream(1024);\r\n      PipedOutputStream out = null;\r\n\r\n      try {\r\n         out = new PipedOutputStream(in);\r\n         logCurveProtobuf.build().writeDelimitedTo(out);\r\n         out.close();\r\n         bytes = IOUtils.toByteArray(in);\r\n      } catch (Exception var29) {\r\n         System.out.println(var29);\r\n      } finally {\r\n         try {\r\n            out.close();\r\n            in.close();\r\n         } catch (IOException var28) {\r\n            var28.printStackTrace();\r\n         }\r\n\r\n      }\r\n\r\n      return new SerialBlob(bytes)\r\n}\r\n```\r\n\r\nThis is how I have declared the UDF in DDL\r\n```\r\nCREATE VIRTUAL FUNCTION createSampleLogCurve(indexType string,  indexUnit string,  curveName string, curveUnit string,  curveDataType string,  depthArray double[],  valueArray float[]) returns Blob\r\n                OPTIONS(JAVA_CLASS &#39;com.common.udf.ProtoBufFunctions&#39;, JAVA_METHOD &#39;createSampleLogCurve&#39;);\r\n```\r\n\r\nWhen I call the function from SQL client, I get below error. I also tried object and object[]\r\n```\r\njava.lang.ClassCastException: org.teiid.core.types.ArrayImpl cannot be cast to [D\r\n```\r\nAppreciate any help on this\r\n\r\nThanks\r\n","title":"Conversion Error in TEIID during function call","body":"<p>I have following function defined in a java jar file within the vdb folder:</p>\n<pre><code>public static Blob createSampleLogCurve(String indexType, String indexUnit, String curveName, String curveUnit, String curveDataType, Object depthArray, Object valueArray) throws BulkDataException, SQLException { NullValueDef nullDef = new NullValueDef();\n      byte[] bytes = null;\n      nullDef.setNullFloat(-98765.0F);\n      double[] depths = (double[])((double[])depthArray);\n      int totalsamples = depths.length;\n      String dataType = DataType.FLOAT.toString();\n      double increment = depths[1] - depths[0];\n\n      for(int i = 0; i &lt; totalsamples - 1; ++i) {\n         if (increment != depths[i + 1] - depths[i]) {\n            increment = 0.0D;\n            break;\n         }\n      }\n\n      if (curveDataType.equalsIgnoreCase(&quot;INT&quot;)) {\n         dataType = DataType.INT.toString();\n      } else if (curveDataType.equalsIgnoreCase(&quot;DOUBLE&quot;)) {\n         dataType = DataType.DOUBLE.toString();\n      } else {\n         dataType = DataType.FLOAT.toString();\n      }\n\n      CurveIndexProtoBuf indexProtobuf = new CurveIndexProtoBuf(depths[0], increment, totalsamples, indexType, indexUnit, depths);\n      List&lt;CurveValueProtoBuf&gt; values = new ArrayList();\n      values.add(new CurveValueProtoBuf(SampleType.VALUE.toString(), dataType, (String)null, curveUnit, 1, 1, (List)null, curveName, (Index)null, (Index)null, valueArray));\n      LogCurveProtoBuf logCurveProtobuf = new LogCurveProtoBuf(indexType.equals(&quot;DEPTH&quot;) ? IndexType.DEPTH.toString() : IndexType.TIME.toString(), indexProtobuf, values);\n      PipedInputStream in = new PipedInputStream(1024);\n      PipedOutputStream out = null;\n\n      try {\n         out = new PipedOutputStream(in);\n         logCurveProtobuf.build().writeDelimitedTo(out);\n         out.close();\n         bytes = IOUtils.toByteArray(in);\n      } catch (Exception var29) {\n         System.out.println(var29);\n      } finally {\n         try {\n            out.close();\n            in.close();\n         } catch (IOException var28) {\n            var28.printStackTrace();\n         }\n\n      }\n\n      return new SerialBlob(bytes)\n}\n</code></pre>\n<p>This is how I have declared the UDF in DDL</p>\n<pre><code>CREATE VIRTUAL FUNCTION createSampleLogCurve(indexType string,  indexUnit string,  curveName string, curveUnit string,  curveDataType string,  depthArray double[],  valueArray float[]) returns Blob\n                OPTIONS(JAVA_CLASS 'com.common.udf.ProtoBufFunctions', JAVA_METHOD 'createSampleLogCurve');\n</code></pre>\n<p>When I call the function from SQL client, I get below error. I also tried object and object[]</p>\n<pre><code>java.lang.ClassCastException: org.teiid.core.types.ArrayImpl cannot be cast to [D\n</code></pre>\n<p>Appreciate any help on this</p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","compiler-errors"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1473766592,"post_id":39469018,"comment_id":66257812,"body_markdown":"I strongly suspect there&#39;s something wrong in the surrounding context. Please post a [mcve].","body":"I strongly suspect there&#39;s something wrong in the surrounding context. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1834465,"reputation":1354,"user_id":3967945,"display_name":"mroman"},"score":1,"creation_date":1473766696,"post_id":39469018,"comment_id":66257859,"body_markdown":"The `@Override` annotation is wrong because with interfaces you do not override things. I suspect that you have a `class` somewhere which has a `suggest(GameBoard gb)` which defaults to protected but we really need to see more code to answer this question.","body":"The <code>@Override</code> annotation is wrong because with interfaces you do not override things. I suspect that you have a <code>class</code> somewhere which has a <code>suggest(GameBoard gb)</code> which defaults to protected but we really need to see more code to answer this question."},{"owner":{"account_id":8614021,"reputation":137852,"user_id":6451573,"accept_rate":90,"display_name":"Jean-Fran&#231;ois Fabre"},"score":0,"creation_date":1473766735,"post_id":39469018,"comment_id":66257886,"body_markdown":"found this: https://bugs.eclipse.org/bugs/show_bug.cgi?id=130117. Which jdk are you using?","body":"found this: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=130117\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=130117</a>. Which jdk are you using?"},{"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"score":0,"creation_date":1473767052,"post_id":39469018,"comment_id":66258062,"body_markdown":"It&#39;s quite possible that the `@Override` annotation is wrong. I got the code this way.\n\nI hope it&#39;s not the bug as I don&#39;t know how to do a workaround :)\n\nOkay, I&#39;ll make an example, but it will take some time.","body":"It&#39;s quite possible that the <code>@Override</code> annotation is wrong. I got the code this way.  I hope it&#39;s not the bug as I don&#39;t know how to do a workaround :)  Okay, I&#39;ll make an example, but it will take some time."},{"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"score":0,"creation_date":1473769458,"post_id":39469018,"comment_id":66259498,"body_markdown":"I&#39;m using JDK 1.8.0_91","body":"I&#39;m using JDK 1.8.0_91"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":2,"creation_date":1473772828,"post_id":39469018,"comment_id":66261578,"body_markdown":"@mroman, it&#39;s actually supported (and encouraged) to annotate interface method implementations with `@Override` as of JDK 1.6 and above. But I do agree that the cause is likely in the surrounding code of `YourConsultant`.","body":"@mroman, it&#39;s actually supported (and encouraged) to annotate interface method implementations with <code>@Override</code> as of JDK 1.6 and above. But I do agree that the cause is likely in the surrounding code of <code>YourConsultant</code>."}],"answers":[{"tags":[],"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1473799619,"creation_date":1473799619,"answer_id":39478736,"question_id":39469018,"body_markdown":"Okay, I found the error... I left a lonely &quot;private&quot; tag hanging in the air a few lines before YourConsultant :D. Your comments were helpful, especially the one asking for a Minimal, Complete and Verifiable example","title":"the method can only set one of public / protected / private","body":"<p>Okay, I found the error... I left a lonely \"private\" tag hanging in the air a few lines before YourConsultant :D. Your comments were helpful, especially the one asking for a Minimal, Complete and Verifiable example</p>\n"}],"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10242,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"closed_date":1667070368,"accepted_answer_id":39478736,"answer_count":1,"score":15,"last_activity_date":1667059026,"creation_date":1473766478,"question_id":39469018,"body_markdown":"I&#39;m implementing an interface:\r\n\r\n    public interface Consultant {\r\n        // some documentation here explaining it should throw 3 types of exceptions\r\n\t    CellLocation suggest(GameBoard gameBoard);\r\n    }\r\n\r\nIt uses another interface:\r\n\r\n    public interface GameBoard {\r\n\t    CellState getCellState(CellLocation cellLocation);\r\n    }\r\n\r\nI wrote a lot of methods, but just started implementing the all-important suggest method. It looks like this so far:\r\n\r\n    public class YourConsultant implements Consultant {\r\n  \t    @Override\r\n\t    public CellLocation suggest(GameBoard gameBoard) {\r\n\t\t    char[][] arrayBoardGlobal;\r\n\t\t    Player currentPlayerGlobal;\r\n\t\t    GameState gameStateGlobal;\r\n\t\t    return null;\r\n\t    }\r\n    }\r\n\r\nBut I get the error\r\n\r\n&gt;The method suggest in type YourConsultant can only set one of public / protected / private\r\n\r\nOf course I cannot change it from public to anything else because of the interface.\r\n\r\nWhat could be the cause? I haven&#39;t found the answer here or the net, probably because it brings up basic info about access modifiers. I&#39;m using Eclipse Neon.","title":"the method can only set one of public / protected / private","body":"<p>I'm implementing an interface:</p>\n\n<pre><code>public interface Consultant {\n    // some documentation here explaining it should throw 3 types of exceptions\n    CellLocation suggest(GameBoard gameBoard);\n}\n</code></pre>\n\n<p>It uses another interface:</p>\n\n<pre><code>public interface GameBoard {\n    CellState getCellState(CellLocation cellLocation);\n}\n</code></pre>\n\n<p>I wrote a lot of methods, but just started implementing the all-important suggest method. It looks like this so far:</p>\n\n<pre><code>public class YourConsultant implements Consultant {\n    @Override\n    public CellLocation suggest(GameBoard gameBoard) {\n        char[][] arrayBoardGlobal;\n        Player currentPlayerGlobal;\n        GameState gameStateGlobal;\n        return null;\n    }\n}\n</code></pre>\n\n<p>But I get the error</p>\n\n<blockquote>\n  <p>The method suggest in type YourConsultant can only set one of public / protected / private</p>\n</blockquote>\n\n<p>Of course I cannot change it from public to anything else because of the interface.</p>\n\n<p>What could be the cause? I haven't found the answer here or the net, probably because it brings up basic info about access modifiers. I'm using Eclipse Neon.</p>\n"},{"tags":["java","list","performance","sorting"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1641516970,"creation_date":1641516398,"answer_id":70615328,"question_id":70615319,"body_markdown":"The two methods end up executing the same code; there is zero difference between the two.\r\n\r\n`Collections.sort` predates `list.sort`. That is because `list.sort` is a so-called [`default` interface method](https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html), which is a Java feature that did not exist back then. Hence why `Collections.sort` exists.\r\n\r\nNow that default methods for interfaces is available, `list.sort` also exists, because java is OOP and &#39;thingYouWantToDoSomethingWith.theThingYouWantToDo&#39; is better style.\r\n\r\nYou should use `list.sort(Comparator.naturalOrder())` for that reason. Purely style points - there is no difference in effect or performance whatsoever.\r\n","title":"Collections.sort(list) and list.sort(Comparator...) in term of usability?","body":"<p>The two methods end up executing the same code; there is zero difference between the two.</p>\n<p><code>Collections.sort</code> predates <code>list.sort</code>. That is because <code>list.sort</code> is a so-called <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\"><code>default</code> interface method</a>, which is a Java feature that did not exist back then. Hence why <code>Collections.sort</code> exists.</p>\n<p>Now that default methods for interfaces is available, <code>list.sort</code> also exists, because java is OOP and 'thingYouWantToDoSomethingWith.theThingYouWantToDo' is better style.</p>\n<p>You should use <code>list.sort(Comparator.naturalOrder())</code> for that reason. Purely style points - there is no difference in effect or performance whatsoever.</p>\n"}],"owner":{"account_id":9255103,"reputation":17,"user_id":6874272,"display_name":"Ale MaGD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1667058523,"creation_date":1641516316,"question_id":70615319,"body_markdown":"I mean list.sort(..) can have a comparator that sorts the list ascending and reverseOrder \r\n\r\n","title":"Collections.sort(list) and list.sort(Comparator...) in term of usability?","body":"<p>I mean list.sort(..) can have a comparator that sorts the list ascending and reverseOrder</p>\n"},{"tags":["java","android","android-studio","authentication","sign"],"answers":[{"tags":[],"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658326794,"creation_date":1658325655,"answer_id":73053066,"question_id":73052818,"body_markdown":"Modify button click like this\r\n\r\nYou&#39;ve to validate before submitting firebase edit text values.\r\nUser name optional but when you read it&#39;s possible to throw null pointer exception\r\n\r\n\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(eposta.getText().toString().isEmpty() || password.getText().toString().isEmpty()) {\r\n                        //sign up modu\r\n                        return;\r\n                    }\r\n                   if(signup &amp;&amp; username.getText().toString().isEmpty()){\r\n                            Toast.makeText(Giris_activity.this, &quot;Invalid input&quot;, Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                            //eğer eposta ve şifre doğruysa gir---eğer signup modundaysak username de doğruysa gir\r\n                   }\r\n    \r\n                    if(signup){\r\n                        handlesignup();\r\n                    }else{\r\n                        handlelogin();\r\n                    }\r\n                }\r\n            });","title":"When logging in in login and register modes, leaving the edittexts blank, it kicks them out of the application","body":"<p>Modify button click like this</p>\n<p>You've to validate before submitting firebase edit text values.\nUser name optional but when you read it's possible to throw null pointer exception</p>\n<pre><code>button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(eposta.getText().toString().isEmpty() || password.getText().toString().isEmpty()) {\n                    //sign up modu\n                    return;\n                }\n               if(signup &amp;&amp; username.getText().toString().isEmpty()){\n                        Toast.makeText(Giris_activity.this, &quot;Invalid input&quot;, Toast.LENGTH_SHORT).show();\n                        return;\n                        //eğer eposta ve şifre doğruysa gir---eğer signup modundaysak username de doğruysa gir\n               }\n\n                if(signup){\n                    handlesignup();\n                }else{\n                    handlelogin();\n                }\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25845426,"reputation":856,"user_id":19580355,"display_name":"PineapplePie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658325707,"creation_date":1658325707,"answer_id":73053073,"question_id":73052818,"body_markdown":"&gt;leaving e-mail password and username blank, no problem\r\n\r\nThere is no crash because you have a partial validation (although I&#39;m not sure why it works only for one field and only for the signing up proccess)\r\n\r\n    if (signup &amp;&amp; username.getText().toString().isEmpty()) { return; }\r\n\r\n&gt;leaving email and password blank will throw an error and kick you out of the app\r\n\r\nYou&#39;re not validating any fields here and calling `signInWithEmailAndPassword()` with empty strings will cause a crash which comes from Firebase SDK. \r\n","title":"When logging in in login and register modes, leaving the edittexts blank, it kicks them out of the application","body":"<blockquote>\n<p>leaving e-mail password and username blank, no problem</p>\n</blockquote>\n<p>There is no crash because you have a partial validation (although I'm not sure why it works only for one field and only for the signing up proccess)</p>\n<pre><code>if (signup &amp;&amp; username.getText().toString().isEmpty()) { return; }\n</code></pre>\n<blockquote>\n<p>leaving email and password blank will throw an error and kick you out of the app</p>\n</blockquote>\n<p>You're not validating any fields here and calling <code>signInWithEmailAndPassword()</code> with empty strings will cause a crash which comes from Firebase SDK.</p>\n"}],"owner":{"account_id":22536412,"reputation":7,"user_id":16727652,"display_name":"Efe Bostancı"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73053066,"answer_count":2,"score":0,"last_activity_date":1667058381,"creation_date":1658324799,"question_id":73052818,"body_markdown":"I&#39;m new to Android, there are 2 modes in the code I wrote (so we can think of it). When I leave the edittexts blank in the registration section, there is no problem, but when I leave the edittexts blank in the mode I am trying to log in, it throws them out of the application.\r\n\r\nstep by step:\r\n\r\nStep 1: registration mode &gt; leaving e-mail password and username blank, no problem\r\n\r\nstep 2: login mode &gt; leaving email and password blank will throw an error and kick you out of the app\r\n\r\nthis is my error message: java.lang.IllegalArgumentException: Given String is empty or null\r\n\r\n\r\n```@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_giris);\r\n\r\n        username = (EditText) findViewById(R.id.kullaniciadi);\r\n        password = (EditText) findViewById(R.id.sifre);\r\n        eposta = (EditText) findViewById(R.id.eposta);\r\n\r\n        button = (Button) findViewById(R.id.giris);\r\n\r\n        login = (TextView) findViewById(R.id.Logininfo);\r\n        forgotpas = (TextView) findViewById(R.id.forgotpas);\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(eposta.getText().toString().isEmpty() || password.getText().toString().isEmpty()) {\r\n                    //sign up modu\r\n                    if(signup &amp;&amp; username.getText().toString().isEmpty()){\r\n                        Toast.makeText(Giris_activity.this, &quot;Invalid input&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                        //eğer eposta ve şifre doğruysa gir---eğer signup modundaysak username de doğruysa gir\r\n                    }\r\n                }\r\n\r\n                if(signup)\r\n                {\r\n                    handlesignup();\r\n                }else\r\n                {\r\n                    handlelogin();\r\n                }\r\n            }\r\n        });\r\n\r\n        forgotpas.setVisibility(View.GONE);\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (signup) {\r\n                    signup = false;\r\n                    username.setVisibility(View.GONE);\r\n                    forgotpas.setVisibility(View.VISIBLE);\r\n                    button.setText(&quot;Log in&quot;);\r\n                    login.setText(&quot;Dont have an account? Sign up&quot;);\r\n                } else {\r\n                    signup = true;\r\n                    username.setVisibility(View.VISIBLE);\r\n                    forgotpas.setVisibility(View.GONE);\r\n                    button.setText(&quot;Sign up&quot;);\r\n                    login.setText(&quot;Already have an account? Log in&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        forgotpas.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openforgotpas();\r\n            }\r\n        });\r\n    }\r\n\r\n    //-----------------------firebase---------------------------\r\n    private  void handlesignup() {\r\n        FirebaseAuth.getInstance().createUserWithEmailAndPassword(eposta.getText().toString(),password.getText().toString()).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                    Toast.makeText(Giris_activity.this, &quot;Signed up successfully, you can login&quot;, Toast.LENGTH_SHORT).show();\r\n                }else{\r\n                    Toast.makeText(Giris_activity.this, task.getException().getLocalizedMessage(), Toast.LENGTH_LONG).show();\r\n                }\r\n                    \r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void handlelogin() {\r\n        FirebaseAuth.getInstance().signInWithEmailAndPassword(eposta.getText().toString(),password.getText().toString()).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                    Toast.makeText(Giris_activity.this, &quot;Logged in successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    openbaslangic();\r\n                }else{\r\n                    Toast.makeText(Giris_activity.this, task.getException().getLocalizedMessage(), Toast.LENGTH_LONG).show();\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n}```","title":"When logging in in login and register modes, leaving the edittexts blank, it kicks them out of the application","body":"<p>I'm new to Android, there are 2 modes in the code I wrote (so we can think of it). When I leave the edittexts blank in the registration section, there is no problem, but when I leave the edittexts blank in the mode I am trying to log in, it throws them out of the application.</p>\n<p>step by step:</p>\n<p>Step 1: registration mode &gt; leaving e-mail password and username blank, no problem</p>\n<p>step 2: login mode &gt; leaving email and password blank will throw an error and kick you out of the app</p>\n<p>this is my error message: java.lang.IllegalArgumentException: Given String is empty or null</p>\n<pre><code>    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_giris);\n\n        username = (EditText) findViewById(R.id.kullaniciadi);\n        password = (EditText) findViewById(R.id.sifre);\n        eposta = (EditText) findViewById(R.id.eposta);\n\n        button = (Button) findViewById(R.id.giris);\n\n        login = (TextView) findViewById(R.id.Logininfo);\n        forgotpas = (TextView) findViewById(R.id.forgotpas);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(eposta.getText().toString().isEmpty() || password.getText().toString().isEmpty()) {\n                    //sign up modu\n                    if(signup &amp;&amp; username.getText().toString().isEmpty()){\n                        Toast.makeText(Giris_activity.this, &quot;Invalid input&quot;, Toast.LENGTH_SHORT).show();\n                        return;\n                        //eğer eposta ve şifre doğruysa gir---eğer signup modundaysak username de doğruysa gir\n                    }\n                }\n\n                if(signup)\n                {\n                    handlesignup();\n                }else\n                {\n                    handlelogin();\n                }\n            }\n        });\n\n        forgotpas.setVisibility(View.GONE);\n        login.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (signup) {\n                    signup = false;\n                    username.setVisibility(View.GONE);\n                    forgotpas.setVisibility(View.VISIBLE);\n                    button.setText(&quot;Log in&quot;);\n                    login.setText(&quot;Dont have an account? Sign up&quot;);\n                } else {\n                    signup = true;\n                    username.setVisibility(View.VISIBLE);\n                    forgotpas.setVisibility(View.GONE);\n                    button.setText(&quot;Sign up&quot;);\n                    login.setText(&quot;Already have an account? Log in&quot;);\n                }\n            }\n        });\n\n        forgotpas.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openforgotpas();\n            }\n        });\n    }\n\n    //-----------------------firebase---------------------------\n    private  void handlesignup() {\n        FirebaseAuth.getInstance().createUserWithEmailAndPassword(eposta.getText().toString(),password.getText().toString()).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if(task.isSuccessful())\n                {\n                    Toast.makeText(Giris_activity.this, &quot;Signed up successfully, you can login&quot;, Toast.LENGTH_SHORT).show();\n                }else{\n                    Toast.makeText(Giris_activity.this, task.getException().getLocalizedMessage(), Toast.LENGTH_LONG).show();\n                }\n                    \n            }\n        });\n\n    }\n\n    private void handlelogin() {\n        FirebaseAuth.getInstance().signInWithEmailAndPassword(eposta.getText().toString(),password.getText().toString()).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if(task.isSuccessful())\n                {\n                    Toast.makeText(Giris_activity.this, &quot;Logged in successfully&quot;, Toast.LENGTH_SHORT).show();\n                    openbaslangic();\n                }else{\n                    Toast.makeText(Giris_activity.this, task.getException().getLocalizedMessage(), Toast.LENGTH_LONG).show();\n                }\n\n            }\n        });\n    }\n}```\n</code></pre>\n"},{"tags":["java","postgresql","docker","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666995119,"post_id":74241304,"comment_id":131074332,"body_markdown":"`@EnableJpaRepositories` goes on _a configuration class_, not a repository, and `@Repository` isn&#39;t needed. Show your POM: Do you have `spring-boot-starter-data-jpa`?","body":"<code>@EnableJpaRepositories</code> goes on <i>a configuration class</i>, not a repository, and <code>@Repository</code> isn&#39;t needed. Show your POM: Do you have <code>spring-boot-starter-data-jpa</code>?"},{"owner":{"account_id":26752848,"reputation":11,"user_id":20351943,"display_name":"Lucas Teodoro"},"score":0,"creation_date":1666998974,"post_id":74241304,"comment_id":131074952,"body_markdown":"I see, I didn&#39;t create a configuration class. About this @EnableJpaRepositories annotation, it was just a test I did wrong and I forgot to remove it.\nWell, I better pass the project&#39;s GitHub, right.\n[Beerstore project GitHub](https://github.com/teodorolucasac/beerstore)","body":"I see, I didn&#39;t create a configuration class. About this @EnableJpaRepositories annotation, it was just a test I did wrong and I forgot to remove it. Well, I better pass the project&#39;s GitHub, right. <a href=\"https://github.com/teodorolucasac/beerstore\" rel=\"nofollow noreferrer\">Beerstore project GitHub</a>"}],"answers":[{"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667028279,"creation_date":1667028279,"answer_id":74243535,"question_id":74241304,"body_markdown":"you need `@EnableJpaRepositories(basePackages = &quot;YOUR_PACKAGE&quot;)`\r\nalso make sure to add this in pom.xml\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.31&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n or this\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;version&gt;42.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot / Postgres / Docker &quot;UnsatisfiedDependencyException&quot; and &quot;NoSuchBeanDefinitionException:&quot; Ignored because not a concrete top-level class:","body":"<p>you need <code>@EnableJpaRepositories(basePackages = &quot;YOUR_PACKAGE&quot;)</code>\nalso make sure to add this in pom.xml</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.31&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or this</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26752848,"reputation":11,"user_id":20351943,"display_name":"Lucas Teodoro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667058020,"creation_date":1666994358,"question_id":74241304,"body_markdown":"I want to share a problem I had when trying to upload a simple application with docker connected to postgres also in docker.\r\n\r\nlooks like it&#39;s having trouble finding the BeersRepository interface.\r\n\r\nI&#39;ve tried annotations like @ComponentScan, @EnableJpaRepository etc...\r\n\r\n**EDIT:** [https://github.com/teodorolucasac/beerstore][1]\r\n\r\n**This is the error log:**\r\n`\r\n```\r\n20:48:51.989 [main] INFO com.hibicode.beerstore.BeerstoreApplication - Starting BeerstoreApplication using Java 18-ea on c97aaa0419fe with PID 1 (/app/app.jar started by root in /)\r\n20:48:51.991 [main] DEBUG com.hibicode.beerstore.BeerstoreApplication - Running with Spring Boot, Spring\r\n20:48:51.994 [main] INFO com.hibicode.beerstore.BeerstoreApplication - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n20:48:51.996 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.hibicode.beerstore.BeerstoreApplication\r\n20:48:52.062 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1a052a00\r\n20:48:52.072 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalConfigurationAnnotationProcessor&#39;\r\n20:48:52.129 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Ignored because not a concrete top-level class: URL [jar:file:/app/app.jar!/com/hibicode/beerstore/repository/BeersRepository.class]\r\n20:48:52.159 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beerstore/resource/BeerResource.class]\r\n20:48:52.170 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beerstore/service/BeerService.class]\r\n20:48:52.327 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerProcessor&#39;\r\n20:48:52.329 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalEventListenerFactory&#39;\r\n20:48:52.332 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalAutowiredAnnotationProcessor&#39;\r\n20:48:52.334 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalCommonAnnotationProcessor&#39;\r\n20:48:52.337 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.internalPersistenceAnnotationProcessor&#39;\r\n20:48:52.342 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;beerstoreApplication&#39;\r\n20:48:52.349 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;beerResource&#39;\r\n20:48:52.367 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;beerResource&#39;: Unsatisfied dependency expressed through field &#39;beersRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.hibicode.beerstore.repository.BeersRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n20:48:52.375 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;beerResource&#39;: Unsatisfied dependency expressed through field &#39;beersRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.hibicode.beerstore.repository.BeersRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        at com.hibicode.beerstore.BeerstoreApplication.main(BeerstoreApplication.java:17)\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.hibicode.beerstore.repository.BeersRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n        ... 19 common frames omitted\r\n```\r\n`\r\n\r\n**Application**\r\n`\r\n```\r\npackage com.hibicode.beerstore;\r\n\r\n@SpringBootApplication\r\npublic class BeerstoreApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(BeerstoreApplication.class, args);\r\n   }\r\n}\r\n```\r\n`\r\n\r\n**Entity**\r\n`\r\n```\r\npackage com.hibicode.beerstore.model;\r\n\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\npublic class Beer {\r\n```\r\n`\r\n\r\n**Repository**\r\n`\r\n```\r\npackage com.hibicode.beerstore.repository;\r\n\r\n@Repository\r\n@EnableJpaRepositories\r\npublic interface BeersRepository extends JpaRepository&lt;Beer, Long&gt; {\r\n\r\n    Optional&lt;Beer&gt; findByNameAndType(String name, BeerType type);\r\n}\r\n```\r\n`\r\n\r\n**Controller**\r\n`\r\n```\r\npackage com.hibicode.beerstore.resource;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/beers&quot;)\r\npublic class BeerResource {\r\n```\r\n`\r\n\r\n**Service**\r\n`\r\n```\r\npackage com.hibicode.beerstore.service;\r\n\r\nimport java.util.Optional;\r\n\r\n@Service\r\n@Component\r\npublic class BeerService {\r\n```\r\n`\r\n\r\n**application.properties**\r\nthe port is 5433 because my Docker is configured like this: 0.0.0.0:5433-&gt;5432/tcp, because I was having problem in docker with windows, and the only solution I found was to change the port of my machine\r\n`\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5433/beerstore\r\nspring.datasource.username=beerstore\r\nspring.datasource.password=beerstore\r\n\r\nspring.jpa.hibernate.temp.use_jdbc_metadata_defaults=false\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n```\r\n`\r\n\r\n**Dockerfile**\r\nPS: I was creating my project .jar through Intellij &gt; File &gt; Project Structure &gt; Project Settings &gt; Artifacts\r\nThen Build &gt; Build artifacts\r\n`\r\n```\r\nFROM openjdk:18-jdk-alpine3.14\r\n\r\nENV LANG C.UTF-8\r\n\r\nRUN apk add --update bash\r\n\r\nADD out/artifacts/beerstore_jar/*.jar /app/app.jar\r\n\r\nCMD java -jar /app/app.jar $APP_OPTIONS\r\n```\r\n`\r\n\r\n**docker image build**\r\n`docker build -t teodorolucasac/beerstore:0.3 .`\r\n\r\n**docker run**\r\n`docker run -p 8080:8080 --rm --network beernet -e APP_OPTIONS=&#39;--spring.datasource.url=jdbc:postgresql://beerdb:5433/beerstore&#39; teodorolucasac/beerstore:0.3`\r\n\r\nps: postgres is already running on docker and connected to the beernet network\r\n\r\nSomeone save me please. If any information is missing, you can ask me to post it immediately.\r\n\r\n\r\nI tried annotations like @ComponentScan, @EnableJpaRepository etc... but it didn&#39;t work\r\n\r\n**EDIT** I will post the new error message after some changes as @EnableJpaRepository.\r\nIt looks like there is some problem with entityManagerFactory.\r\n**PS:** the application runs perfectly on my machine, this problem only happens when I go to docker.\r\n**new error:**\r\n`\r\n```\r\n15:07:41.192 [main] INFO com.hibicode.beerstore.BeerstoreApplication - Starting BeerstoreApplication using Java 18-ea on 755d25c6462c with PID 1 (/app/app.jar started by root in /)\r\n15:07:41.194 [main] DEBUG com.hibicode.beerstore.BeerstoreApplication - Running with Spring Boot, Spring\r\n15:07:41.197 [main] INFO com.hibicode.beerstore.BeerstoreApplication - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n15:07:41.198 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.hibicode.beerstore.BeerstoreApplication\r\n15:07:41.263 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationConte\r\nxt@1a052a00\r\n15:07:41.271 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.inte\r\nrnalConfigurationAnnotationProcessor&#39;\r\n15:07:41.343 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\r\nre/config/ApiErrorConfig.class]\r\n15:07:41.354 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\r\nre/error/ApiExceptionHandler.class]\r\n15:07:41.359 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\r\nre/error/GeneralExceptionHandler.class]\r\n15:07:41.368 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Ignored because not a concrete top-level class: URL [jar:file:/app/app.jar!/com/hibico\r\nde/beerstore/repository/BeersRepository.class]\r\n15:07:41.388 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\r\nre/resource/BeerResource.class]\r\n15:07:41.391 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\r\nre/service/BeerService.class]\r\n15:07:41.509 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n15:07:41.520 [main] DEBUG org.springframework.data.repository.config.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.hibicode.beerstore.repository.\r\n15:07:41.533 [main] DEBUG org.springframework.data.repository.config.RepositoryComponentProvider - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beerst\r\nore/repository/BeersRepository.class]\r\n15:07:41.582 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 1 JPA repository interfac\r\nes.\r\n15:07:41.666 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;emBeanDefinitionRegistrarPostProcessor&#39;\r\n15:07:41.669 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalE\r\nventListenerProcessor&#39;\r\n15:07:41.672 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.event.internalE\r\nventListenerFactory&#39;\r\n15:07:41.675 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.inte\r\nrnalAutowiredAnnotationProcessor&#39;\r\n15:07:41.677 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.inte\r\nrnalCommonAnnotationProcessor&#39;\r\n15:07:41.682 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.context.annotation.inte\r\nrnalPersistenceAnnotationProcessor&#39;\r\n15:07:41.691 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;beerstoreApplication&#39;\r\n15:07:41.698 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;apiErrorConfig&#39;\r\n15:07:41.700 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;apiExceptionHandler&#39;\r\n15:07:41.733 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;apiErrorMessageSource&#39;\r\n15:07:41.753 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Autowiring by type from bean name &#39;apiExceptionHandler&#39; via constructor to bean named &#39;\r\napiErrorMessageSource&#39;\r\n15:07:41.754 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;generalExceptionHandler&#39;\r\n15:07:41.763 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;beerResource&#39;\r\n15:07:41.776 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;beersRepository&#39;\r\n15:07:41.838 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: o\r\nrg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;beerResource&#39;: Unsatisfied dependency expressed through field &#39;beersRepository&#39;; nested \r\nexception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;beersRepository&#39; defined in com.hibicode.beerstore.repository.BeersRepository defin\r\ned in @EnableJpaRepositories declared on BeerstoreApplication: Cannot create inner bean &#39;(inner bean)#53f0a4cb&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while s\r\netting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#53f0a4cb&#39;: Cannot resolve\r\n reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entity\r\nManagerFactory&#39; available\r\n15:07:41.846 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;beerResource&#39;: Unsatisfied dependency expressed through field &#39;beersRepository&#39;; nested\r\n exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;beersRepository&#39; defined in com.hibicode.beerstore.repository.BeersRepository defi\r\nned in @EnableJpaRepositories declared on BeerstoreApplication: Cannot create inner bean &#39;(inner bean)#53f0a4cb&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while \r\nsetting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#53f0a4cb&#39;: Cannot resolv\r\ne reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entit\r\nyManagerFactory&#39; available\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)     \r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        at com.hibicode.beerstore.BeerstoreApplication.main(BeerstoreApplication.java:12)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;beersRepository&#39; defined in com.hibicode.beerstore.repository.BeersRepository defined\r\n in @EnableJpaRepositories declared on BeerstoreApplication: Cannot create inner bean &#39;(inner bean)#53f0a4cb&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while set\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\r\n        ... 40 common frames omitted\r\n```\r\n`\r\n\r\n\r\n  [1]: https://github.com/teodorolucasac/beerstore","title":"Spring Boot / Postgres / Docker &quot;UnsatisfiedDependencyException&quot; and &quot;NoSuchBeanDefinitionException:&quot; Ignored because not a concrete top-level class:","body":"<p>I want to share a problem I had when trying to upload a simple application with docker connected to postgres also in docker.</p>\n<p>looks like it's having trouble finding the BeersRepository interface.</p>\n<p>I've tried annotations like @ComponentScan, @EnableJpaRepository etc...</p>\n<p><strong>EDIT:</strong> <a href=\"https://github.com/teodorolucasac/beerstore\" rel=\"nofollow noreferrer\">https://github.com/teodorolucasac/beerstore</a></p>\n<p><strong>This is the error log:</strong>\n`</p>\n<pre><code>20:48:51.989 [main] INFO com.hibicode.beerstore.BeerstoreApplication - Starting BeerstoreApplication using Java 18-ea on c97aaa0419fe with PID 1 (/app/app.jar started by root in /)\n20:48:51.991 [main] DEBUG com.hibicode.beerstore.BeerstoreApplication - Running with Spring Boot, Spring\n20:48:51.994 [main] INFO com.hibicode.beerstore.BeerstoreApplication - No active profile set, falling back to 1 default profile: &quot;default&quot;\n20:48:51.996 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.hibicode.beerstore.BeerstoreApplication\n20:48:52.062 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1a052a00\n20:48:52.072 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'\n20:48:52.129 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Ignored because not a concrete top-level class: URL [jar:file:/app/app.jar!/com/hibicode/beerstore/repository/BeersRepository.class]\n20:48:52.159 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beerstore/resource/BeerResource.class]\n20:48:52.170 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beerstore/service/BeerService.class]\n20:48:52.327 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'\n20:48:52.329 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'\n20:48:52.332 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'\n20:48:52.334 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'\n20:48:52.337 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'\n20:48:52.342 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beerstoreApplication'\n20:48:52.349 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beerResource'\n20:48:52.367 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'beerResource': Unsatisfied dependency expressed through field 'beersRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hibicode.beerstore.repository.BeersRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n20:48:52.375 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'beerResource': Unsatisfied dependency expressed through field 'beersRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hibicode.beerstore.repository.BeersRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.hibicode.beerstore.BeerstoreApplication.main(BeerstoreApplication.java:17)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hibicode.beerstore.repository.BeersRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n        ... 19 common frames omitted\n</code></pre>\n<p>`</p>\n<p><strong>Application</strong>\n`</p>\n<pre><code>package com.hibicode.beerstore;\n\n@SpringBootApplication\npublic class BeerstoreApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(BeerstoreApplication.class, args);\n   }\n}\n</code></pre>\n<p>`</p>\n<p><strong>Entity</strong>\n`</p>\n<pre><code>package com.hibicode.beerstore.model;\n\n@Entity\n@Data\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Beer {\n</code></pre>\n<p>`</p>\n<p><strong>Repository</strong>\n`</p>\n<pre><code>package com.hibicode.beerstore.repository;\n\n@Repository\n@EnableJpaRepositories\npublic interface BeersRepository extends JpaRepository&lt;Beer, Long&gt; {\n\n    Optional&lt;Beer&gt; findByNameAndType(String name, BeerType type);\n}\n</code></pre>\n<p>`</p>\n<p><strong>Controller</strong>\n`</p>\n<pre><code>package com.hibicode.beerstore.resource;\n\n@RestController\n@RequestMapping(&quot;/beers&quot;)\npublic class BeerResource {\n</code></pre>\n<p>`</p>\n<p><strong>Service</strong>\n`</p>\n<pre><code>package com.hibicode.beerstore.service;\n\nimport java.util.Optional;\n\n@Service\n@Component\npublic class BeerService {\n</code></pre>\n<p>`</p>\n<p><strong>application.properties</strong>\nthe port is 5433 because my Docker is configured like this: 0.0.0.0:5433-&gt;5432/tcp, because I was having problem in docker with windows, and the only solution I found was to change the port of my machine\n`</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5433/beerstore\nspring.datasource.username=beerstore\nspring.datasource.password=beerstore\n\nspring.jpa.hibernate.temp.use_jdbc_metadata_defaults=false\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>`</p>\n<p><strong>Dockerfile</strong>\nPS: I was creating my project .jar through Intellij &gt; File &gt; Project Structure &gt; Project Settings &gt; Artifacts\nThen Build &gt; Build artifacts\n`</p>\n<pre><code>FROM openjdk:18-jdk-alpine3.14\n\nENV LANG C.UTF-8\n\nRUN apk add --update bash\n\nADD out/artifacts/beerstore_jar/*.jar /app/app.jar\n\nCMD java -jar /app/app.jar $APP_OPTIONS\n</code></pre>\n<p>`</p>\n<p><strong>docker image build</strong>\n<code>docker build -t teodorolucasac/beerstore:0.3 .</code></p>\n<p><strong>docker run</strong>\n<code>docker run -p 8080:8080 --rm --network beernet -e APP_OPTIONS='--spring.datasource.url=jdbc:postgresql://beerdb:5433/beerstore' teodorolucasac/beerstore:0.3</code></p>\n<p>ps: postgres is already running on docker and connected to the beernet network</p>\n<p>Someone save me please. If any information is missing, you can ask me to post it immediately.</p>\n<p>I tried annotations like @ComponentScan, @EnableJpaRepository etc... but it didn't work</p>\n<p><strong>EDIT</strong> I will post the new error message after some changes as @EnableJpaRepository.\nIt looks like there is some problem with entityManagerFactory.\n<strong>PS:</strong> the application runs perfectly on my machine, this problem only happens when I go to docker.\n<strong>new error:</strong>\n`</p>\n<pre><code>15:07:41.192 [main] INFO com.hibicode.beerstore.BeerstoreApplication - Starting BeerstoreApplication using Java 18-ea on 755d25c6462c with PID 1 (/app/app.jar started by root in /)\n15:07:41.194 [main] DEBUG com.hibicode.beerstore.BeerstoreApplication - Running with Spring Boot, Spring\n15:07:41.197 [main] INFO com.hibicode.beerstore.BeerstoreApplication - No active profile set, falling back to 1 default profile: &quot;default&quot;\n15:07:41.198 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.hibicode.beerstore.BeerstoreApplication\n15:07:41.263 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationConte\nxt@1a052a00\n15:07:41.271 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.inte\nrnalConfigurationAnnotationProcessor'\n15:07:41.343 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\nre/config/ApiErrorConfig.class]\n15:07:41.354 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\nre/error/ApiExceptionHandler.class]\n15:07:41.359 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\nre/error/GeneralExceptionHandler.class]\n15:07:41.368 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Ignored because not a concrete top-level class: URL [jar:file:/app/app.jar!/com/hibico\nde/beerstore/repository/BeersRepository.class]\n15:07:41.388 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\nre/resource/BeerResource.class]\n15:07:41.391 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beersto\nre/service/BeerService.class]\n15:07:41.509 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n15:07:41.520 [main] DEBUG org.springframework.data.repository.config.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.hibicode.beerstore.repository.\n15:07:41.533 [main] DEBUG org.springframework.data.repository.config.RepositoryComponentProvider - Identified candidate component class: URL [jar:file:/app/app.jar!/com/hibicode/beerst\nore/repository/BeersRepository.class]\n15:07:41.582 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 1 JPA repository interfac\nes.\n15:07:41.666 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'\n15:07:41.669 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalE\nventListenerProcessor'\n15:07:41.672 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalE\nventListenerFactory'\n15:07:41.675 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.inte\nrnalAutowiredAnnotationProcessor'\n15:07:41.677 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.inte\nrnalCommonAnnotationProcessor'\n15:07:41.682 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.inte\nrnalPersistenceAnnotationProcessor'\n15:07:41.691 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beerstoreApplication'\n15:07:41.698 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'apiErrorConfig'\n15:07:41.700 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'apiExceptionHandler'\n15:07:41.733 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'apiErrorMessageSource'\n15:07:41.753 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Autowiring by type from bean name 'apiExceptionHandler' via constructor to bean named '\napiErrorMessageSource'\n15:07:41.754 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'generalExceptionHandler'\n15:07:41.763 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beerResource'\n15:07:41.776 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'beersRepository'\n15:07:41.838 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: o\nrg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'beerResource': Unsatisfied dependency expressed through field 'beersRepository'; nested \nexception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'beersRepository' defined in com.hibicode.beerstore.repository.BeersRepository defin\ned in @EnableJpaRepositories declared on BeerstoreApplication: Cannot create inner bean '(inner bean)#53f0a4cb' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while s\netting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#53f0a4cb': Cannot resolve\n reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entity\nManagerFactory' available\n15:07:41.846 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'beerResource': Unsatisfied dependency expressed through field 'beersRepository'; nested\n exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'beersRepository' defined in com.hibicode.beerstore.repository.BeersRepository defi\nned in @EnableJpaRepositories declared on BeerstoreApplication: Cannot create inner bean '(inner bean)#53f0a4cb' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while \nsetting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#53f0a4cb': Cannot resolv\ne reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entit\nyManagerFactory' available\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)     \n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.hibicode.beerstore.BeerstoreApplication.main(BeerstoreApplication.java:12)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'beersRepository' defined in com.hibicode.beerstore.repository.BeersRepository defined\n in @EnableJpaRepositories declared on BeerstoreApplication: Cannot create inner bean '(inner bean)#53f0a4cb' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while set\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\n        ... 40 common frames omitted\n</code></pre>\n<p>`</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667057514,"creation_date":1667057514,"answer_id":74246563,"question_id":74242172,"body_markdown":"Camel is very powerful and flexible, and as a result there are myriad ways to do this. Here are a few:\r\n 1. You could test the result of whatever `ELFTracingProcessor` does.\r\n 2. You could add a `to(&quot;mock:xyz&quot;)` as the last step and use Camel&#39;s [Mock Component](https://camel.apache.org/components/3.18.x/mock-component.html) facilities to test that the Mock was invoked. \r\n 3. Personally the previous option doesn&#39;t bother me at all. Cars come with dipsticks for a reason. But if you don&#39;t want to see the call to the Mock component, you can use [AdviceWith](https://camel.apache.org/manual/advice-with.html) to add a call to the Mock component:\r\n```lang-java\r\nAdviceWith.adviceWith(context, &quot;myRouteId&quot;, builder -&gt; {\r\n    builder.weaveById(&quot;myProcessorId&quot;).after().to(&quot;mock:xyz&quot;);\r\n});\r\n```\r\n","title":"How do I unit test an apache camel route with no output endpoint?","body":"<p>Camel is very powerful and flexible, and as a result there are myriad ways to do this. Here are a few:</p>\n<ol>\n<li>You could test the result of whatever <code>ELFTracingProcessor</code> does.</li>\n<li>You could add a <code>to(&quot;mock:xyz&quot;)</code> as the last step and use Camel's <a href=\"https://camel.apache.org/components/3.18.x/mock-component.html\" rel=\"nofollow noreferrer\">Mock Component</a> facilities to test that the Mock was invoked.</li>\n<li>Personally the previous option doesn't bother me at all. Cars come with dipsticks for a reason. But if you don't want to see the call to the Mock component, you can use <a href=\"https://camel.apache.org/manual/advice-with.html\" rel=\"nofollow noreferrer\">AdviceWith</a> to add a call to the Mock component:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>AdviceWith.adviceWith(context, &quot;myRouteId&quot;, builder -&gt; {\n    builder.weaveById(&quot;myProcessorId&quot;).after().to(&quot;mock:xyz&quot;);\n});\n</code></pre>\n"}],"owner":{"account_id":12002339,"reputation":83,"user_id":8781761,"display_name":"Cris Manrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667057514,"creation_date":1667005686,"question_id":74242172,"body_markdown":"How would I create a junit test for this route if there&#39;s not an output path? \r\n```\r\nfrom(&quot;{{input.files.tab}}&quot;)\r\n        .routeId(IdRoute)\r\n        .autoStartup(isAllowed(IdRoute))\r\n        .onCompletion()\r\n        .onCompleteOnly()\r\n        .modeBeforeConsumer()\r\n        .setHeader(COMPLETE_ONLY, constant(COMPLETE_ONLY))\r\n        .process(new ELFTracingProcessor(internationalRocPricingBalancing, tracer));\r\n```","title":"How do I unit test an apache camel route with no output endpoint?","body":"<p>How would I create a junit test for this route if there's not an output path?</p>\n<pre><code>from(&quot;{{input.files.tab}}&quot;)\n        .routeId(IdRoute)\n        .autoStartup(isAllowed(IdRoute))\n        .onCompletion()\n        .onCompleteOnly()\n        .modeBeforeConsumer()\n        .setHeader(COMPLETE_ONLY, constant(COMPLETE_ONLY))\n        .process(new ELFTracingProcessor(internationalRocPricingBalancing, tracer));\n</code></pre>\n"},{"tags":["java","junit","autocloseable"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1667051465,"post_id":74245796,"comment_id":131081643,"body_markdown":"You need to explain what the code is *intended* to do.","body":"You need to explain what the code is <i>intended</i> to do."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667051687,"post_id":74245796,"comment_id":131081686,"body_markdown":"Or to put it another way, why do you &gt;think&lt; that that statement shouldn&#39;t be reached?","body":"Or to put it another way, why do you &gt;think&lt; that that statement shouldn&#39;t be reached?"},{"owner":{"account_id":23645124,"reputation":13,"user_id":17674855,"display_name":"Gabriel N"},"score":0,"creation_date":1667051799,"post_id":74245796,"comment_id":131081712,"body_markdown":"The test checks if the Autocloseable method is working. The first test goes ok, the second test has a fail asset which makes the second test not pass. I don&#39;t undestand why or how to  make it work. edit. If it reaches that fail statement the test fails.","body":"The test checks if the Autocloseable method is working. The first test goes ok, the second test has a fail asset which makes the second test not pass. I don&#39;t undestand why or how to  make it work. edit. If it reaches that fail statement the test fails."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667051987,"post_id":74245796,"comment_id":131081754,"body_markdown":"Well, to my mind the only problem is that `fail(&quot;this code should not be reached&quot;);` is incorrect.  If `use()` throws an `Exception`, then you should be able to catch it there.  That&#39;s just how *try with resources* works.","body":"Well, to my mind the only problem is that <code>fail(&quot;this code should not be reached&quot;);</code> is incorrect.  If <code>use()</code> throws an <code>Exception</code>, then you should be able to catch it there.  That&#39;s just how <i>try with resources</i> works."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667052208,"post_id":74245796,"comment_id":131081795,"body_markdown":"Hint: read about suppressed exceptions; https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html#suppressed-exceptions","body":"Hint: read about suppressed exceptions; <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html#suppressed-exceptions\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667056293,"post_id":74245796,"comment_id":131082647,"body_markdown":"Gabriel, I know the question is already closed, but I posted an answer for you before this. Please check it out and mark it as the selected answer if it works for you. If not, post a comment under my answer so I could refine it for you.","body":"Gabriel, I know the question is already closed, but I posted an answer for you before this. Please check it out and mark it as the selected answer if it works for you. If not, post a comment under my answer so I could refine it for you."},{"owner":{"account_id":23645124,"reputation":13,"user_id":17674855,"display_name":"Gabriel N"},"score":0,"creation_date":1667059738,"post_id":74245796,"comment_id":131083361,"body_markdown":"@hfontanez I can&#39;t modify the test so I have to make due with what I have. Thank you for helping me.","body":"@hfontanez I can&#39;t modify the test so I have to make due with what I have. Thank you for helping me."},{"owner":{"account_id":23645124,"reputation":13,"user_id":17674855,"display_name":"Gabriel N"},"score":1,"creation_date":1667060615,"post_id":74245796,"comment_id":131083557,"body_markdown":"I&#39;ve used the if(_closed) in the use method and it worked. I&#39;ve been struggling for quite a while with this. I am learning. Thank you.","body":"I&#39;ve used the if(_closed) in the use method and it worked. I&#39;ve been struggling for quite a while with this. I am learning. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667056187,"creation_date":1667053800,"answer_id":74246142,"question_id":74245796,"body_markdown":"`private static boolean _closed = false;` why is this *static*? Making it static sets it to true or false on all instances instead of on a specific instance. I am not sure this is the desired behavior. When you create a new `CloseableResource` new resources will remain closed. In the constructor, you MUST set the *static* `_close` back to `false`. This will make your test pass, but it will make for a lousy implementation.\r\n\r\nThis is what I did to make it &quot;work&quot; with Java 8. With Java 8, there is no way that I know of to really test the auto-closeable attribute of your resource.\r\n \r\n```\r\npublic class CloseableResource implements AutoCloseable {\r\n\tprivate boolean _closed = false;\r\n\tint _n;\r\n\t\r\n\tpublic CloseableResource() {\r\n\t\t_n = 1;\r\n\t}\r\n\r\n//\tpublic CloseableResource(int n) {\r\n//\t\t_n = n;\r\n//\t}\r\n\r\n\tpublic void use() throws Exception {\r\n\t\tif (_closed) {\r\n\t\t\tthrow new Exception(&quot;Attempting to use a closed resource&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close() throws Exception {\r\n\t\tif(_closed) {\r\n\t\t\tthrow new Exception (&quot;Attempting to close a closed resource&quot;);\r\n\t\t}\r\n\t\t_closed = true;\r\n\t}\r\n\r\n\tpublic boolean isClosed() {\r\n\t\tSystem.out.println(_closed);\r\n\t\treturn _closed;\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testAutoClose() {\r\n\r\n\t\tCloseableResource res = new CloseableResource();\r\n\t\ttry {\r\n\t\t\tassertTrue(res != null);\r\n\t\t\tres.use();\r\n\t\t\tres.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\tfail(&quot;This code should not be reached&quot;);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tassertTrue(res != null);\r\n\t\t\tres.use();\r\n\t\t} catch (Exception e) {\r\n\t\t\tassertTrue(e.getMessage().equals(&quot;Attempting to use a closed resource&quot;));\r\n        }\r\n\t\t\r\n\t\ttry {\r\n\t\t\tres.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\tassertTrue(e.getMessage().equals(&quot;Attempting to close a closed resource&quot;));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nHowever, if using Java 9 or greater, you can declare the resource outside the try (it will be effectively final); thus allowing you to test the auto-closeable attribute of your resource effectively.\r\n\r\n```\r\n@Test\r\npublic void testAutoClose() {\r\n\tCloseableResource res = new CloseableResource();\r\n\ttry(res) {\r\n\t\tassertTrue(res != null);\r\n\t\tres.use();\r\n\t} catch (Exception e) {\r\n\t\tfail(&quot;This code should not be reached&quot;);\r\n\t}\r\n\t\r\n\ttry {\r\n\t\tres.use();\r\n\t} catch (Exception e) {\r\n\t\tassertTrue(e.getMessage().equals(&quot;Attempting to use a closed resource&quot;));\r\n\t}\r\n\t\t\r\n\ttry {\r\n\t\tres.close();\r\n\t} catch (Exception e) {\r\n\t\tassertTrue(e.getMessage().equals(&quot;Attempting to close a closed resource&quot;));\r\n\t}\r\n}\r\n```\r\nThis will allow you to use the same object to test all conditions in the same test.","title":"Java Autocloseable Test","body":"<p><code>private static boolean _closed = false;</code> why is this <em>static</em>? Making it static sets it to true or false on all instances instead of on a specific instance. I am not sure this is the desired behavior. When you create a new <code>CloseableResource</code> new resources will remain closed. In the constructor, you MUST set the <em>static</em> <code>_close</code> back to <code>false</code>. This will make your test pass, but it will make for a lousy implementation.</p>\n<p>This is what I did to make it &quot;work&quot; with Java 8. With Java 8, there is no way that I know of to really test the auto-closeable attribute of your resource.</p>\n<pre><code>public class CloseableResource implements AutoCloseable {\n    private boolean _closed = false;\n    int _n;\n    \n    public CloseableResource() {\n        _n = 1;\n    }\n\n//  public CloseableResource(int n) {\n//      _n = n;\n//  }\n\n    public void use() throws Exception {\n        if (_closed) {\n            throw new Exception(&quot;Attempting to use a closed resource&quot;);\n        }\n    }\n\n    @Override\n    public void close() throws Exception {\n        if(_closed) {\n            throw new Exception (&quot;Attempting to close a closed resource&quot;);\n        }\n        _closed = true;\n    }\n\n    public boolean isClosed() {\n        System.out.println(_closed);\n        return _closed;\n    }\n\n    @Test\n    public void testAutoClose() {\n\n        CloseableResource res = new CloseableResource();\n        try {\n            assertTrue(res != null);\n            res.use();\n            res.close();\n        } catch (Exception e) {\n            fail(&quot;This code should not be reached&quot;);\n        }\n\n        try {\n            assertTrue(res != null);\n            res.use();\n        } catch (Exception e) {\n            assertTrue(e.getMessage().equals(&quot;Attempting to use a closed resource&quot;));\n        }\n        \n        try {\n            res.close();\n        } catch (Exception e) {\n            assertTrue(e.getMessage().equals(&quot;Attempting to close a closed resource&quot;));\n        }\n    }\n}\n</code></pre>\n<p>However, if using Java 9 or greater, you can declare the resource outside the try (it will be effectively final); thus allowing you to test the auto-closeable attribute of your resource effectively.</p>\n<pre><code>@Test\npublic void testAutoClose() {\n    CloseableResource res = new CloseableResource();\n    try(res) {\n        assertTrue(res != null);\n        res.use();\n    } catch (Exception e) {\n        fail(&quot;This code should not be reached&quot;);\n    }\n    \n    try {\n        res.use();\n    } catch (Exception e) {\n        assertTrue(e.getMessage().equals(&quot;Attempting to use a closed resource&quot;));\n    }\n        \n    try {\n        res.close();\n    } catch (Exception e) {\n        assertTrue(e.getMessage().equals(&quot;Attempting to close a closed resource&quot;));\n    }\n}\n</code></pre>\n<p>This will allow you to use the same object to test all conditions in the same test.</p>\n"}],"owner":{"account_id":23645124,"reputation":13,"user_id":17674855,"display_name":"Gabriel N"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1667052324,"accepted_answer_id":74246142,"answer_count":1,"score":-2,"last_activity_date":1667056187,"creation_date":1667050799,"question_id":74245796,"body_markdown":"```\r\npublic class CloseableResource implements AutoCloseable {\r\nprivate static boolean _closed = false;\r\nint _n;\r\n\r\n  public CloseableResource(int n){\r\n    }\r\n    \r\n    public void use() throws Exception{\r\n        throw new Exception(&quot;Exception&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public void close() throws Exception{\r\n        _closed = true;\r\n    }\r\n    \r\n    public static boolean isClosed() {\r\n        System.out.println(_closed);\r\n        return _closed;\r\n    }\r\n\r\n@Test\r\npublic void testAutoClose() {\r\n   boolean failed = false;\r\n\r\n   try (CloseableResource res = new CloseableResource(2)) {\r\n      assertTrue(res != null);\r\n      res.use();\r\n   } catch (Exception e) {\r\n      assertTrue(CloseableResource.isClosed());\r\n      failed = true;\r\n   }\r\n   assertTrue(failed == true);\r\n\r\n   failed = false;\r\n\r\n   try (CloseableResource res = new CloseableResource(3)) {\r\n      assertTrue(res != null);\r\n      res.use();\r\n   } catch (Exception e) {\r\n      fail(&quot;this code should not be reached&quot;);\r\n      failed = true;\r\n   } finally {\r\n      assertTrue(CloseableResource.isClosed());\r\n   }\r\n   assertTrue(failed == false);\r\n}\r\n\r\n```\r\n\r\n\r\nI am trying to make that test work, the close method seems to work but I can&#39;t figure out why the test doesn&#39;t, it always ends up with fail(&quot;this code should not be reached&quot;). I need some guidance please.","title":"Java Autocloseable Test","body":"<pre><code>public class CloseableResource implements AutoCloseable {\nprivate static boolean _closed = false;\nint _n;\n\n  public CloseableResource(int n){\n    }\n    \n    public void use() throws Exception{\n        throw new Exception(&quot;Exception&quot;);\n    }\n    \n    @Override\n    public void close() throws Exception{\n        _closed = true;\n    }\n    \n    public static boolean isClosed() {\n        System.out.println(_closed);\n        return _closed;\n    }\n\n@Test\npublic void testAutoClose() {\n   boolean failed = false;\n\n   try (CloseableResource res = new CloseableResource(2)) {\n      assertTrue(res != null);\n      res.use();\n   } catch (Exception e) {\n      assertTrue(CloseableResource.isClosed());\n      failed = true;\n   }\n   assertTrue(failed == true);\n\n   failed = false;\n\n   try (CloseableResource res = new CloseableResource(3)) {\n      assertTrue(res != null);\n      res.use();\n   } catch (Exception e) {\n      fail(&quot;this code should not be reached&quot;);\n      failed = true;\n   } finally {\n      assertTrue(CloseableResource.isClosed());\n   }\n   assertTrue(failed == false);\n}\n\n</code></pre>\n<p>I am trying to make that test work, the close method seems to work but I can't figure out why the test doesn't, it always ends up with fail(&quot;this code should not be reached&quot;). I need some guidance please.</p>\n"},{"tags":["java","arraylist","collections","time-complexity","hashset"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667042811,"post_id":74244796,"comment_id":131079975,"body_markdown":"That&#39;s a nasty one. As the [documentation for `HashSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html) states, the actual operation is `O(1)`. Problem here is that we have to calculate the hash of a `List`, and the [API of `List::hashCode`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#hashCode()) shows a loop, so `O(n)`. Likewise, even if the hash would be `O(1)` we have to compare the &quot;found&quot; list with the input list since hash collisions are a thing. And comparing two `List`s is `O(n)`.","body":"That&#39;s a nasty one. As the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\">documentation for <code>HashSet</code></a> states, the actual operation is <code>O(1)</code>. Problem here is that we have to calculate the hash of a <code>List</code>, and the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#hashCode()\" rel=\"nofollow noreferrer\">API of <code>List::hashCode</code></a> shows a loop, so <code>O(n)</code>. Likewise, even if the hash would be <code>O(1)</code> we have to compare the &quot;found&quot; list with the input list since hash collisions are a thing. And comparing two <code>List</code>s is <code>O(n)</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667043368,"post_id":74244796,"comment_id":131080048,"body_markdown":"@xerx593 `O(n*m)` is an extreme case if all hashes collide, but yeah, it could (in theory) happen. What I do not understand is your statement of `O(1)`. Hash calculation and list comparison is always `O(n)`.","body":"@xerx593 <code>O(n*m)</code> is an extreme case if all hashes collide, but yeah, it could (in theory) happen. What I do not understand is your statement of <code>O(1)</code>. Hash calculation and list comparison is always <code>O(n)</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667043689,"post_id":74244796,"comment_id":131080088,"body_markdown":"@xerx593 can you link the exact reference? I somehow fail to find it.","body":"@xerx593 can you link the exact reference? I somehow fail to find it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667043971,"post_id":74244796,"comment_id":131080140,"body_markdown":"I found (only) on the quick: https://developer.classpath.org/doc/java/util/AbstractList-source.html , @Turing85 ..like any good/generated equals method it starts with `if(this==o) return true;`","body":"I found (only) on the quick: <a href=\"https://developer.classpath.org/doc/java/util/AbstractList-source.html\" rel=\"nofollow noreferrer\">developer.classpath.org/doc/java/util/AbstractList-source.ht&zwnj;&#8203;ml</a> , @Turing85 ..like any good/generated equals method it starts with <code>if(this==o) return true;</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667044103,"post_id":74244796,"comment_id":131080172,"body_markdown":"@xerx593 aaaaaah okay. Yeah true. For this special case (`b` being the same exact object in the list`), yeah, equals comparison is `O(1)`. Got your point.","body":"@xerx593 aaaaaah okay. Yeah true. For this special case (<code>b</code> being the same exact object in the list<code>), yeah, equals comparison is </code>O(1)`. Got your point."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667044524,"post_id":74244796,"comment_id":131080249,"body_markdown":"@xerx593 well, we have still to calculate the hash code of the input-list. And since the hash does not seem to be cached, we are back to `O(m)` best case scenario.","body":"@xerx593 well, we have still to calculate the hash code of the input-list. And since the hash does not seem to be cached, we are back to <code>O(m)</code> best case scenario."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667044678,"post_id":74244796,"comment_id":131080269,"body_markdown":"Yuk! Let&#39;s make them hash functions faster! ;(;(","body":"Yuk! Let&#39;s make them hash functions faster! ;(;("},{"owner":{"account_id":19080775,"reputation":25,"user_id":20365106,"display_name":"Sherlock Holmes"},"score":0,"creation_date":1667325130,"post_id":74244796,"comment_id":131139509,"body_markdown":"Thank you xerx593 and Turing85 for the thoughtful responses. This is very helpful! To conclude, it will take O(m) operations to perform the contains function as it takes linear time to generate the hash code. Let me know if this is in line with what has been discussed so far.","body":"Thank you xerx593 and Turing85 for the thoughtful responses. This is very helpful! To conclude, it will take O(m) operations to perform the contains function as it takes linear time to generate the hash code. Let me know if this is in line with what has been discussed so far."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667055946,"creation_date":1667043776,"answer_id":74244950,"question_id":74244796,"body_markdown":"First of all, it&#39;s **discouraged** to use hash-based Collections with mutable objects.\r\n\r\n`HashSet` implementation uses a `HashMap` under the hood. When a new entry is being added into the under-laying map, it creates a `Node`. Node has the following declaration:\r\n\r\n    static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\r\n        final int hash;\r\n        final K key;\r\n        V value;\r\n        Node&lt;K,V&gt; next;\r\n\r\n        // ...\r\n    }\r\n\r\nThe field `hash` is marked as `final` it would be calculated **only once**. While examining nodes (for instance, during invocation of `contains()`, `add()`, etc.) the value stored in the `hash` would be used, the hash would **not** be recalculated. That&#39;s why it is not advisable to store mutable objects in a `HashSet`, or as a `HashMap`s key.\r\n\r\nThe time complexity of the `contains()` check on a `HashSet` if nodes are relatively evenly distributed between buckets would be **O(1)**. In the worst case scenario, when all the nodes end up in the same bucket, `contains()` would run in **O(log n)** (because nodes after a curtain threshold would be arranged into a Tree, and prior to Java 8 it would be **O(n)**).\r\n\r\nAnd in this case, `contains(myList)` would have a time complexity of **O(m)**, where `m` is the size of `myList`, because each element in the `myList` needs to be examined in order to calculate the hash (note that the hash of the list provided argument as an argument would be computed only once per `contains()` call).\r\n\r\nIn case if the contents of `myList` would **not** be `Integer`, but an object with a badly implemented `hashCode()` contract, which creates a lot of collisions, the time complexity of the `contains(myList)` would be **O(log n + m)** (where `n` is the number of nodes in the set) because computing the hash of the argument would cost **O(m)**, and traversal of the nodes arranged into would runt in **O(log n)**.","title":"Time complexetiy for searching a list in a HashSet","body":"<p>First of all, it's <strong>discouraged</strong> to use hash-based Collections with mutable objects.</p>\n<p><code>HashSet</code> implementation uses a <code>HashMap</code> under the hood. When a new entry is being added into the under-laying map, it creates a <code>Node</code>. Node has the following declaration:</p>\n<pre><code>static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\n    final int hash;\n    final K key;\n    V value;\n    Node&lt;K,V&gt; next;\n\n    // ...\n}\n</code></pre>\n<p>The field <code>hash</code> is marked as <code>final</code> it would be calculated <strong>only once</strong>. While examining nodes (for instance, during invocation of <code>contains()</code>, <code>add()</code>, etc.) the value stored in the <code>hash</code> would be used, the hash would <strong>not</strong> be recalculated. That's why it is not advisable to store mutable objects in a <code>HashSet</code>, or as a <code>HashMap</code>s key.</p>\n<p>The time complexity of the <code>contains()</code> check on a <code>HashSet</code> if nodes are relatively evenly distributed between buckets would be <strong>O(1)</strong>. In the worst case scenario, when all the nodes end up in the same bucket, <code>contains()</code> would run in <strong>O(log n)</strong> (because nodes after a curtain threshold would be arranged into a Tree, and prior to Java 8 it would be <strong>O(n)</strong>).</p>\n<p>And in this case, <code>contains(myList)</code> would have a time complexity of <strong>O(m)</strong>, where <code>m</code> is the size of <code>myList</code>, because each element in the <code>myList</code> needs to be examined in order to calculate the hash (note that the hash of the list provided argument as an argument would be computed only once per <code>contains()</code> call).</p>\n<p>In case if the contents of <code>myList</code> would <strong>not</strong> be <code>Integer</code>, but an object with a badly implemented <code>hashCode()</code> contract, which creates a lot of collisions, the time complexity of the <code>contains(myList)</code> would be <strong>O(log n + m)</strong> (where <code>n</code> is the number of nodes in the set) because computing the hash of the argument would cost <strong>O(m)</strong>, and traversal of the nodes arranged into would runt in <strong>O(log n)</strong>.</p>\n"}],"owner":{"account_id":19080775,"reputation":25,"user_id":20365106,"display_name":"Sherlock Holmes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1667055946,"creation_date":1667042119,"question_id":74244796,"body_markdown":"Let&#39;s say I have a HashSet that stores lists\r\n\r\n\r\n```\r\nHashSet&lt;ArrayList&lt;Integer&gt;&gt; hs = new HashSet&lt;&gt;();\r\nArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\nArrayList&lt;Integer&gt; b = new ArrayList&lt;&gt;();\r\nArrayList&lt;Integer&gt; c = new ArrayList&lt;&gt;();\r\n\r\na.add(1);\r\na.add(2);\r\n\r\nb.add(3);\r\nb.add(4);\r\n\r\nc.add(5);\r\nc.add(6);\r\n\r\nhs.add(a);\r\nhs.add(b);\r\nhs.add(c);\r\n\r\n\r\nArrayList&lt;Integer&gt; d = new ArrayList&lt;&gt;();\r\n\r\nd.add(3);\r\nd.add(4);\r\n\r\nhs.contains(d); // what is the time complexity of this operation?\r\n\r\n```\r\n\r\n\r\nNow if I were to perform a search on this HashSet, would the time complexity be O(1) or O(n) or O(n*m) where &#39;n&#39; is the number of Lists and &#39;m&#39; is the number of elements in each list?\r\n\r\nI&#39;m preparing for interviews for FAANG and this question came up in one of the mock interview questions. I would appreciate anyone who can help me find an answer to this question. Thanks in advance!","title":"Time complexetiy for searching a list in a HashSet","body":"<p>Let's say I have a HashSet that stores lists</p>\n<pre><code>HashSet&lt;ArrayList&lt;Integer&gt;&gt; hs = new HashSet&lt;&gt;();\nArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\nArrayList&lt;Integer&gt; b = new ArrayList&lt;&gt;();\nArrayList&lt;Integer&gt; c = new ArrayList&lt;&gt;();\n\na.add(1);\na.add(2);\n\nb.add(3);\nb.add(4);\n\nc.add(5);\nc.add(6);\n\nhs.add(a);\nhs.add(b);\nhs.add(c);\n\n\nArrayList&lt;Integer&gt; d = new ArrayList&lt;&gt;();\n\nd.add(3);\nd.add(4);\n\nhs.contains(d); // what is the time complexity of this operation?\n\n</code></pre>\n<p>Now if I were to perform a search on this HashSet, would the time complexity be O(1) or O(n) or O(n*m) where 'n' is the number of Lists and 'm' is the number of elements in each list?</p>\n<p>I'm preparing for interviews for FAANG and this question came up in one of the mock interview questions. I would appreciate anyone who can help me find an answer to this question. Thanks in advance!</p>\n"},{"tags":["java","arrays","palindrome"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667056316,"post_id":74246260,"comment_id":131082650,"body_markdown":"use a debugger or at least printing out the values of `k` and `s` when setting `m = 0` || I recommend writing  a method to determine if ONE number is a palindrome or not. And use that method in a loop to test all numbers","body":"use a debugger or at least printing out the values of <code>k</code> and <code>s</code> when setting <code>m = 0</code> || I recommend writing  a method to determine if ONE number is a palindrome or not. And use that method in a loop to test all numbers"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1667060959,"post_id":74246260,"comment_id":131083616,"body_markdown":"https://stackoverflow.com/questions/199184/how-do-i-check-if-a-number-is-a-palindrome","body":"<a href=\"https://stackoverflow.com/questions/199184/how-do-i-check-if-a-number-is-a-palindrome\" title=\"how do i check if a number is a palindrome\">stackoverflow.com/questions/199184/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667055865,"creation_date":1667055865,"answer_id":74246379,"question_id":74246260,"body_markdown":"You can convert each `int` into `String` and then check `String` for being palindrome:\r\n\r\n```\r\n    static boolean isPalyndrome(String value) {\r\n        for (int i = 0; i &lt; value.length() / 2; ++i)\r\n            if (value.charAt(i) != value.charAt(value.length() - 1 - i))\r\n                return false;\r\n                \r\n        return true;\r\n    }\r\n    \r\n    static boolean allPalyndroms(int[] values) {\r\n        for (int i = 0; i &lt; values.length; ++i)\r\n            if (!isPalyndrome((new Integer(values[i])).toString()))\r\n                return false;\r\n                \r\n        return true;\r\n    }\r\n```\r\n\r\nThen if `palinArray` signature is fixed you can implement it as \r\n\r\n```\r\npublic static int palinArray(int[] a, int n) {\r\n  return allPalyndroms(a) ? 1 : 0;\r\n}\r\n```","title":"checking whether all the elements in an array are palindrome or not","body":"<p>You can convert each <code>int</code> into <code>String</code> and then check <code>String</code> for being palindrome:</p>\n<pre><code>    static boolean isPalyndrome(String value) {\n        for (int i = 0; i &lt; value.length() / 2; ++i)\n            if (value.charAt(i) != value.charAt(value.length() - 1 - i))\n                return false;\n                \n        return true;\n    }\n    \n    static boolean allPalyndroms(int[] values) {\n        for (int i = 0; i &lt; values.length; ++i)\n            if (!isPalyndrome((new Integer(values[i])).toString()))\n                return false;\n                \n        return true;\n    }\n</code></pre>\n<p>Then if <code>palinArray</code> signature is fixed you can implement it as</p>\n<pre><code>public static int palinArray(int[] a, int n) {\n  return allPalyndroms(a) ? 1 : 0;\n}\n</code></pre>\n"}],"owner":{"account_id":18720709,"reputation":1,"user_id":13648636,"display_name":"Pronoy Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667055865,"creation_date":1667054777,"question_id":74246260,"body_markdown":"```\r\nclass GfG\r\n{\r\n\tpublic static int palinArray(int[] a, int n)\r\n           {\r\n               int k;\r\n               int s=0;\r\n               int m=1;\r\n               int remainder;\r\n               \r\n               \r\n                  for(int i=0;i&lt;n;i++){\r\n                      k=a[i];\r\n                      while(a[i]!=0){\r\n                          remainder=a[i]%10;\r\n                          s=s*10+remainder;\r\n                          a[i]=a[i]/10;\r\n                      }\r\n                      if(k!=s){\r\n                          m=0;\r\n                          break;\r\n                      }\r\n                     \r\n                      else\r\n                        m=1;\r\n                        \r\n                      \r\n                  }\r\n                  \r\n                  return m;\r\n                \r\n           }\r\n}\r\n```\r\n\r\n\r\nI tried to take each element of the array and check whether it is palindrome or not. If all the elements in the given array is palindrome then it should return 1 and if it&#39;s not then it should return 0.\r\n\r\n**for example**\r\n*input*\r\n5\r\n111 222 333 444 555\r\n*expected output*\r\n1\r\n*My output*\r\n0\r\n\r\nThanks for the help.","title":"checking whether all the elements in an array are palindrome or not","body":"<pre><code>class GfG\n{\n    public static int palinArray(int[] a, int n)\n           {\n               int k;\n               int s=0;\n               int m=1;\n               int remainder;\n               \n               \n                  for(int i=0;i&lt;n;i++){\n                      k=a[i];\n                      while(a[i]!=0){\n                          remainder=a[i]%10;\n                          s=s*10+remainder;\n                          a[i]=a[i]/10;\n                      }\n                      if(k!=s){\n                          m=0;\n                          break;\n                      }\n                     \n                      else\n                        m=1;\n                        \n                      \n                  }\n                  \n                  return m;\n                \n           }\n}\n</code></pre>\n<p>I tried to take each element of the array and check whether it is palindrome or not. If all the elements in the given array is palindrome then it should return 1 and if it's not then it should return 0.</p>\n<p><strong>for example</strong>\n<em>input</em>\n5\n111 222 333 444 555\n<em>expected output</em>\n1\n<em>My output</em>\n0</p>\n<p>Thanks for the help.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1666718447,"post_id":74180389,"comment_id":131001365,"body_markdown":"Pls see EDIT, i can through the posted code reproduce the problem in my PC, i don&#39;t see why you cannot","body":"Pls see EDIT, i can through the posted code reproduce the problem in my PC, i don&#39;t see why you cannot"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666849007,"post_id":74180389,"comment_id":131033599,"body_markdown":"Your `TreeItemNode` has x and y co-ordinates which you set in your `drawNodeRecursive`.  But you are reusing instances of a TreeItemNode in multiple places in your tree, so the x and y coordinates for a given instance will be set more than once.  This is very confusing.  Maybe take a look at a [tree layout library](https://github.com/abego/treelayout) to see how you could fix/improve your implementation.","body":"Your <code>TreeItemNode</code> has x and y co-ordinates which you set in your <code>drawNodeRecursive</code>.  But you are reusing instances of a TreeItemNode in multiple places in your tree, so the x and y coordinates for a given instance will be set more than once.  This is very confusing.  Maybe take a look at a <a href=\"https://github.com/abego/treelayout\" rel=\"nofollow noreferrer\">tree layout library</a> to see how you could fix/improve your implementation."},{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1666908030,"post_id":74180389,"comment_id":131052761,"body_markdown":"How you embed the tree into a JavaFx AnchorPane in that case?","body":"How you embed the tree into a JavaFx AnchorPane in that case?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666908161,"post_id":74180389,"comment_id":131052782,"body_markdown":"You copy the [swing tree demo implementation](https://github.com/abego/treelayout/tree/master/org.abego.treelayout.demo/src/main/java/org/abego/treelayout/demo/swing), update the `SwingDemo` class to be a JavaFX application using JavaFX code instead of Swing code, and rewrite the `TextInBoxTreePane` to use either the JavaFX scene graph or a JavaFX canvas.","body":"You copy the <a href=\"https://github.com/abego/treelayout/tree/master/org.abego.treelayout.demo/src/main/java/org/abego/treelayout/demo/swing\" rel=\"nofollow noreferrer\">swing tree demo implementation</a>, update the <code>SwingDemo</code> class to be a JavaFX application using JavaFX code instead of Swing code, and rewrite the <code>TextInBoxTreePane</code> to use either the JavaFX scene graph or a JavaFX canvas."},{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1666908883,"post_id":74180389,"comment_id":131052943,"body_markdown":"what&#39;s the equivalent of Graphics of Jwt in JavaFx ? could you be more helpful here? thanks","body":"what&#39;s the equivalent of Graphics of Jwt in JavaFx ? could you be more helpful here? thanks"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666966224,"post_id":74180389,"comment_id":131065951,"body_markdown":"There is no equivalent of graphics, but canvas is closest.","body":"There is no equivalent of graphics, but canvas is closest."},{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1666980992,"post_id":74180389,"comment_id":131070999,"body_markdown":"but then i have to rewrite the whole `https://github.com/abego/treelayout/blob/master/org.abego.treelayout/src/main/java/org/abego/treelayout/TreeLayout.java` class? isn&#39;t there a simpler solution to paint a simple random tree in JavaFx ?","body":"but then i have to rewrite the whole <code>https:&#47;&#47;github.com&#47;abego&#47;treelayout&#47;blob&#47;master&#47;org.abego.tr&zwnj;&#8203;eelayout&#47;src&#47;main&#47;ja&zwnj;&#8203;va&#47;org&#47;abego&#47;treelay&zwnj;&#8203;out&#47;TreeLayout.java</code> class? isn&#39;t there a simpler solution to paint a simple random tree in JavaFx ?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666989496,"post_id":74180389,"comment_id":131073207,"body_markdown":"You do not need to rewrite that class, only the classes I indicated earlier.  You can of course apply a different solution, I have no advice on that.","body":"You do not need to rewrite that class, only the classes I indicated earlier.  You can of course apply a different solution, I have no advice on that."},{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1666989765,"post_id":74180389,"comment_id":131073263,"body_markdown":"but how can i improve/fix my solution?","body":"but how can i improve/fix my solution?"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667032349,"creation_date":1666999850,"answer_id":74241781,"question_id":74180389,"body_markdown":"I don&#39;t advise trying to write your own general-purpose tree layout library.  That is a difficult and error-prone thing, which has already been done before.  Instead, use an existing library that calculates the correct layout for you.  In this answer, this is what I do, I do not provide information on how to correct your current algorithm.\r\n\r\nThe tree layout library used is the abego library:\r\n\r\n * https://github.com/abego/treelayout\r\n\r\nSample code to use this in JavaFX follows.\r\n\r\nMuch of the code is from the existing abego demo applications (I did not write it).  I left out the license comment from some of the copied code for brevity, but the license (BSD) can be found at the abego github link.\r\n\r\nI didn&#39;t make a lot of effort to make it work nicely with JavaFX.  In particular, there are no dynamic properties or listeners to changes of the trees or CSS stylesheet styling of the trees, which is what would be provided in a more feature-rich implementation.   It also follows the abego sample, which uses node sizes that are configured in the tree setup rather than dynamically calculating the size of each node (which would be an alternative implementation).\r\n\r\nThe trees themselves are drawn using the JavaFX scene graph in a Group node, there are other technologies, such as the canvas which could be used to draw the trees, I just chose to use a Group.\r\n\r\nThe example follows the sample code from abego which is capable of drawing multiple trees.  If you just want to generate and draw a single tree, it is simpler.\r\n\r\nAll of the JavaFX code is in the `com.example.treelayout.javafx` package, the rest of the code doesn&#39;t have anything to do with JavaFX.\r\n\r\n[![tree view][1]][1]\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;treelayout&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;treelayout&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.abego.treelayout&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.abego.treelayout.core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;19&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;19&lt;/source&gt;\r\n                        &lt;target&gt;19&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*module-info.java*\r\n\r\n    module com.example.treelayout {\r\n        requires javafx.controls;\r\n        requires org.abego.treelayout.core;\r\n        requires java.desktop;\r\n    \r\n        exports com.example.treelayout.javafx;\r\n    }\r\n\r\n*com.example.treelayout.javafx.JavaFXDemo*\r\n\r\n    package com.example.treelayout.javafx;\r\n    \r\n    import com.example.treelayout.SampleTreeFactory;\r\n    import com.example.treelayout.TextInBox;\r\n    import com.example.treelayout.TextInBoxNodeExtentProvider;\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.FlowPane;\r\n    import javafx.stage.Stage;\r\n    import org.abego.treelayout.TreeForTreeLayout;\r\n    import org.abego.treelayout.TreeLayout;\r\n    import org.abego.treelayout.util.DefaultConfiguration;\r\n    \r\n    public class JavaFXDemo extends Application {\r\n    \r\n        private static final String[] TREE_NAMES = { &quot;semtab&quot;, &quot;semtab2&quot;, &quot;2&quot;,  &quot;&quot; };\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            boolean boxVisible = true;\r\n            for (String s: getParameters().getRaw()) {\r\n                if (s.equalsIgnoreCase(&quot;--nobox&quot;)) {\r\n                    boxVisible = false;\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            FlowPane layout = new FlowPane();\r\n            layout.setPadding(new Insets(20));\r\n            layout.setHgap(20);\r\n            layout.setVgap(20);\r\n    \r\n            for (String treeName: TREE_NAMES) {\r\n                layout.getChildren().add(\r\n                        buildTree(treeName, boxVisible)\r\n                );\r\n            }\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        /**\r\n         * Shows a tree in a layout created by {@link TreeLayout},\r\n         * using the JavaFX component {@link TreeLayoutView}.\r\n         */\r\n        public TreeLayoutView buildTree(String treeName, boolean boxVisible) {\r\n            TreeForTreeLayout&lt;TextInBox&gt; tree = getSampleTree(treeName);\r\n    \r\n            // setup the tree layout configuration\r\n            double gapBetweenLevels = treeName.startsWith(&quot;semtab&quot;) ? 15 : 50;\r\n            double gapBetweenNodes = 10;\r\n            DefaultConfiguration&lt;TextInBox&gt; configuration = new DefaultConfiguration&lt;&gt;(\r\n                    gapBetweenLevels,\r\n                    gapBetweenNodes\r\n            );\r\n    \r\n            // create the NodeExtentProvider for TextInBox nodes\r\n            TextInBoxNodeExtentProvider nodeExtentProvider = new TextInBoxNodeExtentProvider();\r\n    \r\n            // create the layout\r\n            TreeLayout&lt;TextInBox&gt; treeLayout = new TreeLayout&lt;&gt;(\r\n                    tree,\r\n                    nodeExtentProvider,\r\n                    configuration\r\n            );\r\n    \r\n            // Create a panel that draws the nodes and edges and show the panel\r\n            TreeLayoutView treePane = new TreeLayoutView(treeLayout);\r\n            treePane.setBoxVisible(boxVisible);\r\n    \r\n            return treePane;\r\n        }\r\n    \r\n        private TreeForTreeLayout&lt;TextInBox&gt; getSampleTree(String treeName) {\r\n            return switch (treeName) {\r\n                case &quot;semtab&quot; -&gt; SampleTreeFactory.createSemanticTableaux();\r\n                case &quot;semtab2&quot; -&gt; SampleTreeFactory.createSemanticTableaux2();\r\n                case &quot;2&quot; -&gt; SampleTreeFactory.createSampleTree2();\r\n                case &quot;&quot; -&gt; SampleTreeFactory.createSampleTree();\r\n                default -&gt; throw new RuntimeException(\r\n                        String.format(\r\n                                &quot;Invalid tree name: &#39;%s&#39;&quot;, treeName\r\n                        )\r\n                );\r\n            };\r\n        }\r\n    \r\n    }\r\n\r\n*com.example.treelayout.javafx.TreeLayoutView*\r\n\r\n    package com.example.treelayout.javafx;\r\n    \r\n    import com.example.treelayout.TextInBox;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Line;\r\n    import javafx.scene.shape.Rectangle;\r\n    import org.abego.treelayout.TreeForTreeLayout;\r\n    import org.abego.treelayout.TreeLayout;\r\n    \r\n    import java.awt.geom.Rectangle2D;\r\n    \r\n    /**\r\n     * A JavaFX group displaying a tree of TextInBoxes, given by a {@link TreeLayout}.\r\n     */\r\n    public class TreeLayoutView extends Group {\r\n    \tprivate final TreeLayout&lt;TextInBox&gt; treeLayout;\r\n    \tprivate boolean boxVisible = true;\r\n    \r\n    \tprivate TreeForTreeLayout&lt;TextInBox&gt; getTree() {\r\n    \t\treturn treeLayout.getTree();\r\n    \t}\r\n    \r\n    \tprivate Iterable&lt;TextInBox&gt; getChildren(TextInBox parent) {\r\n    \t\treturn getTree().getChildren(parent);\r\n    \t}\r\n    \r\n    \tprivate Rectangle2D.Double getBoundsOfNode(TextInBox node) {\r\n    \t\treturn treeLayout.getNodeBounds().get(node);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Specifies the tree to be displayed by passing in a {@link TreeLayout} for\r\n    \t * that tree.\r\n    \t * \r\n    \t * @param treeLayout the {@link TreeLayout} to be displayed\r\n    \t */\r\n    \tpublic TreeLayoutView(TreeLayout&lt;TextInBox&gt; treeLayout) {\r\n    \t\tthis.treeLayout = treeLayout;\r\n    \r\n    \t\taddEdges(getTree().getRoot());\r\n    \r\n    \t\t// paint the boxes\r\n    \t\tfor (TextInBox textInBox : treeLayout.getNodeBounds().keySet()) {\r\n    \t\t\taddBox(textInBox);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic boolean isBoxVisible() {\r\n    \t\treturn boxVisible;\r\n    \t}\r\n    \r\n    \tpublic void setBoxVisible(boolean boxVisible) {\r\n    \t\tthis.boxVisible = boxVisible;\r\n    \t}\r\n    \r\n    \tprivate final static int ARC_SIZE = 10;\r\n    \tprivate final static Color BOX_COLOR = Color.CORNSILK;\r\n    \tprivate final static Color BORDER_COLOR = Color.DARKGRAY;\r\n    \tprivate final static Color TEXT_COLOR = Color.BLACK;\r\n    \r\n    \tprivate void addEdges(TextInBox parent) {\r\n    \t\tif (!getTree().isLeaf(parent)) {\r\n    \t\t\tRectangle2D.Double b1 = getBoundsOfNode(parent);\r\n    \t\t\tdouble x1 = b1.getCenterX();\r\n    \t\t\tdouble y1 = b1.getCenterY();\r\n    \t\t\tfor (TextInBox child : getChildren(parent)) {\r\n    \t\t\t\tRectangle2D.Double b2 = getBoundsOfNode(child);\r\n    \t\t\t\tgetChildren().add(\r\n    \t\t\t\t\t\tnew Line(\r\n    \t\t\t\t\t\t\t\tx1, y1,\r\n    \t\t\t\t\t\t\t\tb2.getCenterX(), b2.getCenterY()\r\n    \t\t\t\t\t\t)\r\n    \t\t\t\t);\r\n    \r\n    \t\t\t\taddEdges(child);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void addBox(TextInBox textInBox) {\r\n    \t\tRectangle2D.Double box = getBoundsOfNode(textInBox);\r\n    \r\n    \t\tRectangle rectangle = new Rectangle(\r\n    \t\t\t\tbox.x, box.y, box.width - 1, box.height - 1\r\n    \t\t);\r\n    \t\trectangle.setArcWidth(ARC_SIZE);\r\n    \t\trectangle.setArcHeight(ARC_SIZE);\r\n    \t\trectangle.setFill(BOX_COLOR);\r\n    \t\trectangle.setStroke(BORDER_COLOR);\r\n    \r\n    \t\tif (isBoxVisible()) {\r\n    \t\t\tgetChildren().add(\r\n    \t\t\t\t\trectangle\r\n    \t\t\t);\r\n    \t\t}\r\n    \r\n    \t\t// draw the text on top of the box (possibly multiple lines)\r\n    \t\tLabel label = new Label(textInBox.text);\r\n    \t\tlabel.setStyle(&quot;-fx-alignment: center; -fx-text-alignment: center; -fx-text-fill: &quot; + colorStyleString(TEXT_COLOR) + &quot;;&quot;);\r\n    \t\tlabel.relocate(box.x, box.y);\r\n    \t\tlabel.setMinSize(Label.USE_PREF_SIZE, Label.USE_PREF_SIZE);\r\n    \t\tlabel.setPrefSize(box.width, box.height);\r\n    \t\tlabel.setMaxSize(Label.USE_PREF_SIZE, Label.USE_PREF_SIZE);\r\n    \t\tlabel.setWrapText(true);\r\n    \r\n    \t\tgetChildren().add(label);\r\n    \t}\r\n    \r\n    \tprivate String colorStyleString(Color color) {\r\n    \t\treturn &quot;rgba(&quot;\r\n    \t\t\t\t\t+ ((int) (color.getRed()   * 255)) + &quot;,&quot;\r\n    \t\t\t\t\t+ ((int) (color.getGreen() * 255)) + &quot;,&quot;\r\n    \t\t\t\t\t+ ((int) (color.getBlue()  * 255)) + &quot;,&quot;\r\n    \t\t\t\t\t+ color.getOpacity() +\r\n    \t\t\t\t&quot;)&quot;;\r\n    \t}\r\n    }\r\n\r\n*com.example.treelayout.TextInBox*\r\n\r\n    package com.example.treelayout;\r\n    \r\n    /**\r\n     * Represents a text to be displayed in a box of a given size.\r\n     * \r\n     * @author Udo Borkowski (ub@abego.org)\r\n     */\r\n    public class TextInBox {\r\n    \r\n    \tpublic final String text;\r\n    \tpublic final int height;\r\n    \tpublic final int width;\r\n    \r\n    \tpublic TextInBox(String text, int width, int height) {\r\n    \t\tthis.text = text;\r\n    \t\tthis.width = width;\r\n    \t\tthis.height = height;\r\n    \t}\r\n    }\r\n\r\n*com.example.TextInBoxNodeExtentProvider*\r\n\r\n    package com.example.treelayout;\r\n    \r\n    import org.abego.treelayout.NodeExtentProvider;\r\n    \r\n    /**\r\n     * A {@link NodeExtentProvider} for nodes of type {@link TextInBox}.\r\n     * &lt;p&gt;\r\n     * As one would expect this NodeExtentProvider returns the width and height as\r\n     * specified with each TextInBox.\r\n     * \r\n     * @author Udo Borkowski (ub@abego.org)\r\n     */\r\n    public class TextInBoxNodeExtentProvider implements\r\n    \t\tNodeExtentProvider&lt;TextInBox&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic double getWidth(TextInBox treeNode) {\r\n    \t\treturn treeNode.width;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic double getHeight(TextInBox treeNode) {\r\n    \t\treturn treeNode.height;\r\n    \t}\r\n    }\r\n\r\n*com.example.treelayout.SampleTreeFactory*\r\n\r\n    package com.example.treelayout;\r\n    \r\n    import org.abego.treelayout.TreeForTreeLayout;\r\n    import org.abego.treelayout.util.DefaultTreeForTreeLayout;\r\n    \r\n    /**\r\n     * Creates &quot;Sample&quot; trees, e.g. to be used in demonstrations.\r\n     * \r\n     * @author Udo Borkowski (ub@abego.org)\r\n     */\r\n    public class SampleTreeFactory {\r\n    \r\n    \t/**\r\n    \t * @return a &quot;Sample&quot; tree with {@link TextInBox} items as nodes.\r\n    \t */\r\n    \tpublic static TreeForTreeLayout&lt;TextInBox&gt; createSampleTree() {\r\n    \t\tTextInBox root = new TextInBox(&quot;root&quot;, 40, 20);\r\n    \t\tTextInBox n1 = new TextInBox(&quot;n1&quot;, 30, 20);\r\n    \t\tTextInBox n1_1 = new TextInBox(&quot;n1.1\\n(first node)&quot;, 80, 36);\r\n    \t\tTextInBox n1_2 = new TextInBox(&quot;n1.2&quot;, 40, 20);\r\n    \t\tTextInBox n1_3 = new TextInBox(&quot;n1.3\\n(last node)&quot;, 80, 36);\r\n    \t\tTextInBox n2 = new TextInBox(&quot;n2&quot;, 30, 20);\r\n    \t\tTextInBox n2_1 = new TextInBox(&quot;n2&quot;, 30, 20);\r\n    \r\n    \t\tDefaultTreeForTreeLayout&lt;TextInBox&gt; tree = new DefaultTreeForTreeLayout&lt;TextInBox&gt;(\r\n    \t\t\t\troot);\r\n    \t\ttree.addChild(root, n1);\r\n    \t\ttree.addChild(n1, n1_1);\r\n    \t\ttree.addChild(n1, n1_2);\r\n    \t\ttree.addChild(n1, n1_3);\r\n    \t\ttree.addChild(root, n2);\r\n    \t\ttree.addChild(n2, n2_1);\r\n    \t\treturn tree;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @return a &quot;Sample&quot; tree with {@link TextInBox} items as nodes.\r\n    \t */\r\n    \tpublic static TreeForTreeLayout&lt;TextInBox&gt; createSampleTree2() {\r\n    \t\tTextInBox root = new TextInBox(&quot;prog&quot;, 40, 20);\r\n    \t\tTextInBox n1 = new TextInBox(&quot;classDef&quot;, 65, 20);\r\n    \t\tTextInBox n1_1 = new TextInBox(&quot;class&quot;, 50, 20);\r\n    \t\tTextInBox n1_2 = new TextInBox(&quot;T&quot;, 20, 20);\r\n    \t\tTextInBox n1_3 = new TextInBox(&quot;{&quot;, 20, 20);\r\n    \t\tTextInBox n1_4 = new TextInBox(&quot;member&quot;, 60, 20);\r\n    \t\tTextInBox n1_5 = new TextInBox(&quot;member&quot;, 60, 20);\r\n    \t\tTextInBox n1_5_1 = new TextInBox(&quot;&lt;ERROR:int&gt;&quot;, 90, 20);\r\n    \t\tTextInBox n1_6 = new TextInBox(&quot;member&quot;, 60, 20);\r\n    \t\tTextInBox n1_6_1 = new TextInBox(&quot;int&quot;, 30, 20);\r\n    \t\tTextInBox n1_6_2 = new TextInBox(&quot;i&quot;, 20, 20);\r\n    \t\tTextInBox n1_6_3 = new TextInBox(&quot;;&quot;, 20, 20);\r\n    \t\tTextInBox n1_7 = new TextInBox(&quot;}&quot;, 20, 20);\r\n    \r\n    \r\n    \t\tDefaultTreeForTreeLayout&lt;TextInBox&gt; tree = new DefaultTreeForTreeLayout&lt;TextInBox&gt;(\r\n    \t\t\t\troot);\r\n    \t\ttree.addChild(root, n1);\r\n    \t\ttree.addChild(n1, n1_1);\r\n    \t\ttree.addChild(n1, n1_2);\r\n    \t\ttree.addChild(n1, n1_3);\r\n    \t\ttree.addChild(n1, n1_4);\r\n    \t\ttree.addChild(n1, n1_5);\r\n    \t\ttree.addChild(n1_5, n1_5_1);\r\n    \t\ttree.addChild(n1, n1_6);\r\n    \t\ttree.addChild(n1_6,n1_6_1);\r\n    \t\ttree.addChild(n1_6,n1_6_2);\r\n    \t\ttree.addChild(n1_6,n1_6_3);\r\n    \t\ttree.addChild(n1, n1_7);\r\n    \t\treturn tree;\r\n    \t}\r\n    \r\n    \tpublic static TreeForTreeLayout&lt;TextInBox&gt; createSemanticTableaux() {\r\n    \t\tTextInBox root = new TextInBox(&quot;&quot;+\r\n    \t\t\t\t&quot;((A -&gt; B) &amp; (B -&gt; A))\\n&quot;+\r\n    \t\t\t\t&quot;(A -&gt; B)\\n&quot;+\r\n    \t\t\t\t&quot;(B -&gt; A)&quot;,\r\n    \t\t\t\t140, 52);\r\n    \t\tTextInBox n1_1_1 = new TextInBox(&quot;~A&quot;, 30, 20);\r\n    \t\tTextInBox n1_1_2 = new TextInBox(&quot;B&quot;, 30, 20);\r\n    \t\tTextInBox n1_1_1_1 = new TextInBox(&quot;&quot;+\r\n    \t\t\t\t&quot;~B\\n&quot; +\r\n    \t\t\t\t&quot;OPEN&quot;, 44, 35);\r\n    \t\tTextInBox n1_1_1_2 = new TextInBox(&quot;&quot;+\r\n    \t\t\t\t&quot;A\\n&quot; +\r\n    \t\t\t\t&quot;X&quot;, 30, 35);\r\n    \t\tTextInBox n1_1_2_1 = new TextInBox(&quot;&quot;+\r\n    \t\t\t\t&quot;~B\\n&quot; +\r\n    \t\t\t\t&quot;X&quot;, 30, 35);\r\n    \t\tTextInBox n1_1_2_2 = new TextInBox(&quot;&quot;+\r\n    \t\t\t\t&quot;A\\n&quot; +\r\n    \t\t\t\t&quot;OPEN&quot;, 44, 35);\r\n    \r\n    \r\n    \t\tDefaultTreeForTreeLayout&lt;TextInBox&gt; tree = new DefaultTreeForTreeLayout&lt;TextInBox&gt;(\r\n    \t\t\t\troot);\r\n    \t\ttree.addChild(root, n1_1_1);\r\n    \t\ttree.addChild(root, n1_1_2);\r\n    \t\ttree.addChild(n1_1_1, n1_1_1_1);\r\n    \t\ttree.addChild(n1_1_1, n1_1_1_2);\r\n    \t\ttree.addChild(n1_1_2, n1_1_2_1);\r\n    \t\ttree.addChild(n1_1_2, n1_1_2_2);\r\n    \t\treturn tree;\r\n    \t}\r\n    \r\n    \tpublic static TreeForTreeLayout&lt;TextInBox&gt; createSemanticTableaux2() {\r\n    \t\tTextInBox root = new TextInBox(&quot;((A -&gt; B) &amp; (B -&gt; A))&quot;, 140, 20);\r\n    \t\tTextInBox n1 = new TextInBox(&quot;(A -&gt; B)&quot;, 65, 20);\r\n    \t\tTextInBox n1_1 = new TextInBox(&quot;(B -&gt; A)&quot;, 65, 20);\r\n    \t\tTextInBox n1_1_1 = new TextInBox(&quot;~A&quot;, 30, 20);\r\n    \t\tTextInBox n1_1_2 = new TextInBox(&quot;B&quot;, 30, 20);\r\n    \t\tTextInBox n1_1_1_1 = new TextInBox(&quot;~B&quot;, 30, 20);\r\n    \t\tTextInBox n1_1_1_2 = new TextInBox(&quot;A&quot;, 30, 20);\r\n    \t\tTextInBox n1_1_2_1 = new TextInBox(&quot;~B&quot;, 30, 20);\r\n    \t\tTextInBox n1_1_2_2 = new TextInBox(&quot;A&quot;, 30, 20);\r\n    \t\tTextInBox n1_1_1_1_1 = new TextInBox(&quot;OPEN&quot;, 44, 20);\r\n    \t\tTextInBox n1_1_1_2_1 = new TextInBox(&quot;X&quot;, 20, 20);\r\n    \t\tTextInBox n1_1_2_1_1 = new TextInBox(&quot;X&quot;, 20, 20);\r\n    \t\tTextInBox n1_1_2_2_1 = new TextInBox(&quot;OPEN&quot;, 44, 20);\r\n    \r\n    \r\n    \t\tDefaultTreeForTreeLayout&lt;TextInBox&gt; tree = new DefaultTreeForTreeLayout&lt;TextInBox&gt;(\r\n    \t\t\t\troot);\r\n    \t\ttree.addChild(root, n1);\r\n    \t\ttree.addChild(n1, n1_1);\r\n    \t\ttree.addChild(n1_1, n1_1_1);\r\n    \t\ttree.addChild(n1_1, n1_1_2);\r\n    \t\ttree.addChild(n1_1_1, n1_1_1_1);\r\n    \t\ttree.addChild(n1_1_1, n1_1_1_2);\r\n    \t\ttree.addChild(n1_1_2, n1_1_2_1);\r\n    \t\ttree.addChild(n1_1_2, n1_1_2_2);\r\n    \t\ttree.addChild(n1_1_1_1, n1_1_1_1_1);\r\n    \t\ttree.addChild(n1_1_1_2, n1_1_1_2_1);\r\n    \t\ttree.addChild(n1_1_2_1, n1_1_2_1_1);\r\n    \t\ttree.addChild(n1_1_2_2,n1_1_2_2_1);\r\n    \t\treturn tree;\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/9QzFJ.png","title":"Tree drawing displays overlapping nodes","body":"<p>I don't advise trying to write your own general-purpose tree layout library.  That is a difficult and error-prone thing, which has already been done before.  Instead, use an existing library that calculates the correct layout for you.  In this answer, this is what I do, I do not provide information on how to correct your current algorithm.</p>\n<p>The tree layout library used is the abego library:</p>\n<ul>\n<li><a href=\"https://github.com/abego/treelayout\" rel=\"nofollow noreferrer\">https://github.com/abego/treelayout</a></li>\n</ul>\n<p>Sample code to use this in JavaFX follows.</p>\n<p>Much of the code is from the existing abego demo applications (I did not write it).  I left out the license comment from some of the copied code for brevity, but the license (BSD) can be found at the abego github link.</p>\n<p>I didn't make a lot of effort to make it work nicely with JavaFX.  In particular, there are no dynamic properties or listeners to changes of the trees or CSS stylesheet styling of the trees, which is what would be provided in a more feature-rich implementation.   It also follows the abego sample, which uses node sizes that are configured in the tree setup rather than dynamically calculating the size of each node (which would be an alternative implementation).</p>\n<p>The trees themselves are drawn using the JavaFX scene graph in a Group node, there are other technologies, such as the canvas which could be used to draw the trees, I just chose to use a Group.</p>\n<p>The example follows the sample code from abego which is capable of drawing multiple trees.  If you just want to generate and draw a single tree, it is simpler.</p>\n<p>All of the JavaFX code is in the <code>com.example.treelayout.javafx</code> package, the rest of the code doesn't have anything to do with JavaFX.</p>\n<p><a href=\"https://i.stack.imgur.com/9QzFJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9QzFJ.png\" alt=\"tree view\" /></a></p>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;treelayout&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;treelayout&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.abego.treelayout&lt;/groupId&gt;\n            &lt;artifactId&gt;org.abego.treelayout.core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>module-info.java</em></p>\n<pre><code>module com.example.treelayout {\n    requires javafx.controls;\n    requires org.abego.treelayout.core;\n    requires java.desktop;\n\n    exports com.example.treelayout.javafx;\n}\n</code></pre>\n<p><em>com.example.treelayout.javafx.JavaFXDemo</em></p>\n<pre><code>package com.example.treelayout.javafx;\n\nimport com.example.treelayout.SampleTreeFactory;\nimport com.example.treelayout.TextInBox;\nimport com.example.treelayout.TextInBoxNodeExtentProvider;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.FlowPane;\nimport javafx.stage.Stage;\nimport org.abego.treelayout.TreeForTreeLayout;\nimport org.abego.treelayout.TreeLayout;\nimport org.abego.treelayout.util.DefaultConfiguration;\n\npublic class JavaFXDemo extends Application {\n\n    private static final String[] TREE_NAMES = { &quot;semtab&quot;, &quot;semtab2&quot;, &quot;2&quot;,  &quot;&quot; };\n\n    @Override\n    public void start(Stage stage) {\n        boolean boxVisible = true;\n        for (String s: getParameters().getRaw()) {\n            if (s.equalsIgnoreCase(&quot;--nobox&quot;)) {\n                boxVisible = false;\n                break;\n            }\n        }\n\n        FlowPane layout = new FlowPane();\n        layout.setPadding(new Insets(20));\n        layout.setHgap(20);\n        layout.setVgap(20);\n\n        for (String treeName: TREE_NAMES) {\n            layout.getChildren().add(\n                    buildTree(treeName, boxVisible)\n            );\n        }\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    /**\n     * Shows a tree in a layout created by {@link TreeLayout},\n     * using the JavaFX component {@link TreeLayoutView}.\n     */\n    public TreeLayoutView buildTree(String treeName, boolean boxVisible) {\n        TreeForTreeLayout&lt;TextInBox&gt; tree = getSampleTree(treeName);\n\n        // setup the tree layout configuration\n        double gapBetweenLevels = treeName.startsWith(&quot;semtab&quot;) ? 15 : 50;\n        double gapBetweenNodes = 10;\n        DefaultConfiguration&lt;TextInBox&gt; configuration = new DefaultConfiguration&lt;&gt;(\n                gapBetweenLevels,\n                gapBetweenNodes\n        );\n\n        // create the NodeExtentProvider for TextInBox nodes\n        TextInBoxNodeExtentProvider nodeExtentProvider = new TextInBoxNodeExtentProvider();\n\n        // create the layout\n        TreeLayout&lt;TextInBox&gt; treeLayout = new TreeLayout&lt;&gt;(\n                tree,\n                nodeExtentProvider,\n                configuration\n        );\n\n        // Create a panel that draws the nodes and edges and show the panel\n        TreeLayoutView treePane = new TreeLayoutView(treeLayout);\n        treePane.setBoxVisible(boxVisible);\n\n        return treePane;\n    }\n\n    private TreeForTreeLayout&lt;TextInBox&gt; getSampleTree(String treeName) {\n        return switch (treeName) {\n            case &quot;semtab&quot; -&gt; SampleTreeFactory.createSemanticTableaux();\n            case &quot;semtab2&quot; -&gt; SampleTreeFactory.createSemanticTableaux2();\n            case &quot;2&quot; -&gt; SampleTreeFactory.createSampleTree2();\n            case &quot;&quot; -&gt; SampleTreeFactory.createSampleTree();\n            default -&gt; throw new RuntimeException(\n                    String.format(\n                            &quot;Invalid tree name: '%s'&quot;, treeName\n                    )\n            );\n        };\n    }\n\n}\n</code></pre>\n<p><em>com.example.treelayout.javafx.TreeLayoutView</em></p>\n<pre><code>package com.example.treelayout.javafx;\n\nimport com.example.treelayout.TextInBox;\nimport javafx.scene.Group;\nimport javafx.scene.control.Label;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Line;\nimport javafx.scene.shape.Rectangle;\nimport org.abego.treelayout.TreeForTreeLayout;\nimport org.abego.treelayout.TreeLayout;\n\nimport java.awt.geom.Rectangle2D;\n\n/**\n * A JavaFX group displaying a tree of TextInBoxes, given by a {@link TreeLayout}.\n */\npublic class TreeLayoutView extends Group {\n    private final TreeLayout&lt;TextInBox&gt; treeLayout;\n    private boolean boxVisible = true;\n\n    private TreeForTreeLayout&lt;TextInBox&gt; getTree() {\n        return treeLayout.getTree();\n    }\n\n    private Iterable&lt;TextInBox&gt; getChildren(TextInBox parent) {\n        return getTree().getChildren(parent);\n    }\n\n    private Rectangle2D.Double getBoundsOfNode(TextInBox node) {\n        return treeLayout.getNodeBounds().get(node);\n    }\n\n    /**\n     * Specifies the tree to be displayed by passing in a {@link TreeLayout} for\n     * that tree.\n     * \n     * @param treeLayout the {@link TreeLayout} to be displayed\n     */\n    public TreeLayoutView(TreeLayout&lt;TextInBox&gt; treeLayout) {\n        this.treeLayout = treeLayout;\n\n        addEdges(getTree().getRoot());\n\n        // paint the boxes\n        for (TextInBox textInBox : treeLayout.getNodeBounds().keySet()) {\n            addBox(textInBox);\n        }\n    }\n\n    public boolean isBoxVisible() {\n        return boxVisible;\n    }\n\n    public void setBoxVisible(boolean boxVisible) {\n        this.boxVisible = boxVisible;\n    }\n\n    private final static int ARC_SIZE = 10;\n    private final static Color BOX_COLOR = Color.CORNSILK;\n    private final static Color BORDER_COLOR = Color.DARKGRAY;\n    private final static Color TEXT_COLOR = Color.BLACK;\n\n    private void addEdges(TextInBox parent) {\n        if (!getTree().isLeaf(parent)) {\n            Rectangle2D.Double b1 = getBoundsOfNode(parent);\n            double x1 = b1.getCenterX();\n            double y1 = b1.getCenterY();\n            for (TextInBox child : getChildren(parent)) {\n                Rectangle2D.Double b2 = getBoundsOfNode(child);\n                getChildren().add(\n                        new Line(\n                                x1, y1,\n                                b2.getCenterX(), b2.getCenterY()\n                        )\n                );\n\n                addEdges(child);\n            }\n        }\n    }\n\n    private void addBox(TextInBox textInBox) {\n        Rectangle2D.Double box = getBoundsOfNode(textInBox);\n\n        Rectangle rectangle = new Rectangle(\n                box.x, box.y, box.width - 1, box.height - 1\n        );\n        rectangle.setArcWidth(ARC_SIZE);\n        rectangle.setArcHeight(ARC_SIZE);\n        rectangle.setFill(BOX_COLOR);\n        rectangle.setStroke(BORDER_COLOR);\n\n        if (isBoxVisible()) {\n            getChildren().add(\n                    rectangle\n            );\n        }\n\n        // draw the text on top of the box (possibly multiple lines)\n        Label label = new Label(textInBox.text);\n        label.setStyle(&quot;-fx-alignment: center; -fx-text-alignment: center; -fx-text-fill: &quot; + colorStyleString(TEXT_COLOR) + &quot;;&quot;);\n        label.relocate(box.x, box.y);\n        label.setMinSize(Label.USE_PREF_SIZE, Label.USE_PREF_SIZE);\n        label.setPrefSize(box.width, box.height);\n        label.setMaxSize(Label.USE_PREF_SIZE, Label.USE_PREF_SIZE);\n        label.setWrapText(true);\n\n        getChildren().add(label);\n    }\n\n    private String colorStyleString(Color color) {\n        return &quot;rgba(&quot;\n                    + ((int) (color.getRed()   * 255)) + &quot;,&quot;\n                    + ((int) (color.getGreen() * 255)) + &quot;,&quot;\n                    + ((int) (color.getBlue()  * 255)) + &quot;,&quot;\n                    + color.getOpacity() +\n                &quot;)&quot;;\n    }\n}\n</code></pre>\n<p><em>com.example.treelayout.TextInBox</em></p>\n<pre><code>package com.example.treelayout;\n\n/**\n * Represents a text to be displayed in a box of a given size.\n * \n * @author Udo Borkowski (ub@abego.org)\n */\npublic class TextInBox {\n\n    public final String text;\n    public final int height;\n    public final int width;\n\n    public TextInBox(String text, int width, int height) {\n        this.text = text;\n        this.width = width;\n        this.height = height;\n    }\n}\n</code></pre>\n<p><em>com.example.TextInBoxNodeExtentProvider</em></p>\n<pre><code>package com.example.treelayout;\n\nimport org.abego.treelayout.NodeExtentProvider;\n\n/**\n * A {@link NodeExtentProvider} for nodes of type {@link TextInBox}.\n * &lt;p&gt;\n * As one would expect this NodeExtentProvider returns the width and height as\n * specified with each TextInBox.\n * \n * @author Udo Borkowski (ub@abego.org)\n */\npublic class TextInBoxNodeExtentProvider implements\n        NodeExtentProvider&lt;TextInBox&gt; {\n\n    @Override\n    public double getWidth(TextInBox treeNode) {\n        return treeNode.width;\n    }\n\n    @Override\n    public double getHeight(TextInBox treeNode) {\n        return treeNode.height;\n    }\n}\n</code></pre>\n<p><em>com.example.treelayout.SampleTreeFactory</em></p>\n<pre><code>package com.example.treelayout;\n\nimport org.abego.treelayout.TreeForTreeLayout;\nimport org.abego.treelayout.util.DefaultTreeForTreeLayout;\n\n/**\n * Creates &quot;Sample&quot; trees, e.g. to be used in demonstrations.\n * \n * @author Udo Borkowski (ub@abego.org)\n */\npublic class SampleTreeFactory {\n\n    /**\n     * @return a &quot;Sample&quot; tree with {@link TextInBox} items as nodes.\n     */\n    public static TreeForTreeLayout&lt;TextInBox&gt; createSampleTree() {\n        TextInBox root = new TextInBox(&quot;root&quot;, 40, 20);\n        TextInBox n1 = new TextInBox(&quot;n1&quot;, 30, 20);\n        TextInBox n1_1 = new TextInBox(&quot;n1.1\\n(first node)&quot;, 80, 36);\n        TextInBox n1_2 = new TextInBox(&quot;n1.2&quot;, 40, 20);\n        TextInBox n1_3 = new TextInBox(&quot;n1.3\\n(last node)&quot;, 80, 36);\n        TextInBox n2 = new TextInBox(&quot;n2&quot;, 30, 20);\n        TextInBox n2_1 = new TextInBox(&quot;n2&quot;, 30, 20);\n\n        DefaultTreeForTreeLayout&lt;TextInBox&gt; tree = new DefaultTreeForTreeLayout&lt;TextInBox&gt;(\n                root);\n        tree.addChild(root, n1);\n        tree.addChild(n1, n1_1);\n        tree.addChild(n1, n1_2);\n        tree.addChild(n1, n1_3);\n        tree.addChild(root, n2);\n        tree.addChild(n2, n2_1);\n        return tree;\n    }\n\n    /**\n     * @return a &quot;Sample&quot; tree with {@link TextInBox} items as nodes.\n     */\n    public static TreeForTreeLayout&lt;TextInBox&gt; createSampleTree2() {\n        TextInBox root = new TextInBox(&quot;prog&quot;, 40, 20);\n        TextInBox n1 = new TextInBox(&quot;classDef&quot;, 65, 20);\n        TextInBox n1_1 = new TextInBox(&quot;class&quot;, 50, 20);\n        TextInBox n1_2 = new TextInBox(&quot;T&quot;, 20, 20);\n        TextInBox n1_3 = new TextInBox(&quot;{&quot;, 20, 20);\n        TextInBox n1_4 = new TextInBox(&quot;member&quot;, 60, 20);\n        TextInBox n1_5 = new TextInBox(&quot;member&quot;, 60, 20);\n        TextInBox n1_5_1 = new TextInBox(&quot;&lt;ERROR:int&gt;&quot;, 90, 20);\n        TextInBox n1_6 = new TextInBox(&quot;member&quot;, 60, 20);\n        TextInBox n1_6_1 = new TextInBox(&quot;int&quot;, 30, 20);\n        TextInBox n1_6_2 = new TextInBox(&quot;i&quot;, 20, 20);\n        TextInBox n1_6_3 = new TextInBox(&quot;;&quot;, 20, 20);\n        TextInBox n1_7 = new TextInBox(&quot;}&quot;, 20, 20);\n\n\n        DefaultTreeForTreeLayout&lt;TextInBox&gt; tree = new DefaultTreeForTreeLayout&lt;TextInBox&gt;(\n                root);\n        tree.addChild(root, n1);\n        tree.addChild(n1, n1_1);\n        tree.addChild(n1, n1_2);\n        tree.addChild(n1, n1_3);\n        tree.addChild(n1, n1_4);\n        tree.addChild(n1, n1_5);\n        tree.addChild(n1_5, n1_5_1);\n        tree.addChild(n1, n1_6);\n        tree.addChild(n1_6,n1_6_1);\n        tree.addChild(n1_6,n1_6_2);\n        tree.addChild(n1_6,n1_6_3);\n        tree.addChild(n1, n1_7);\n        return tree;\n    }\n\n    public static TreeForTreeLayout&lt;TextInBox&gt; createSemanticTableaux() {\n        TextInBox root = new TextInBox(&quot;&quot;+\n                &quot;((A -&gt; B) &amp; (B -&gt; A))\\n&quot;+\n                &quot;(A -&gt; B)\\n&quot;+\n                &quot;(B -&gt; A)&quot;,\n                140, 52);\n        TextInBox n1_1_1 = new TextInBox(&quot;~A&quot;, 30, 20);\n        TextInBox n1_1_2 = new TextInBox(&quot;B&quot;, 30, 20);\n        TextInBox n1_1_1_1 = new TextInBox(&quot;&quot;+\n                &quot;~B\\n&quot; +\n                &quot;OPEN&quot;, 44, 35);\n        TextInBox n1_1_1_2 = new TextInBox(&quot;&quot;+\n                &quot;A\\n&quot; +\n                &quot;X&quot;, 30, 35);\n        TextInBox n1_1_2_1 = new TextInBox(&quot;&quot;+\n                &quot;~B\\n&quot; +\n                &quot;X&quot;, 30, 35);\n        TextInBox n1_1_2_2 = new TextInBox(&quot;&quot;+\n                &quot;A\\n&quot; +\n                &quot;OPEN&quot;, 44, 35);\n\n\n        DefaultTreeForTreeLayout&lt;TextInBox&gt; tree = new DefaultTreeForTreeLayout&lt;TextInBox&gt;(\n                root);\n        tree.addChild(root, n1_1_1);\n        tree.addChild(root, n1_1_2);\n        tree.addChild(n1_1_1, n1_1_1_1);\n        tree.addChild(n1_1_1, n1_1_1_2);\n        tree.addChild(n1_1_2, n1_1_2_1);\n        tree.addChild(n1_1_2, n1_1_2_2);\n        return tree;\n    }\n\n    public static TreeForTreeLayout&lt;TextInBox&gt; createSemanticTableaux2() {\n        TextInBox root = new TextInBox(&quot;((A -&gt; B) &amp; (B -&gt; A))&quot;, 140, 20);\n        TextInBox n1 = new TextInBox(&quot;(A -&gt; B)&quot;, 65, 20);\n        TextInBox n1_1 = new TextInBox(&quot;(B -&gt; A)&quot;, 65, 20);\n        TextInBox n1_1_1 = new TextInBox(&quot;~A&quot;, 30, 20);\n        TextInBox n1_1_2 = new TextInBox(&quot;B&quot;, 30, 20);\n        TextInBox n1_1_1_1 = new TextInBox(&quot;~B&quot;, 30, 20);\n        TextInBox n1_1_1_2 = new TextInBox(&quot;A&quot;, 30, 20);\n        TextInBox n1_1_2_1 = new TextInBox(&quot;~B&quot;, 30, 20);\n        TextInBox n1_1_2_2 = new TextInBox(&quot;A&quot;, 30, 20);\n        TextInBox n1_1_1_1_1 = new TextInBox(&quot;OPEN&quot;, 44, 20);\n        TextInBox n1_1_1_2_1 = new TextInBox(&quot;X&quot;, 20, 20);\n        TextInBox n1_1_2_1_1 = new TextInBox(&quot;X&quot;, 20, 20);\n        TextInBox n1_1_2_2_1 = new TextInBox(&quot;OPEN&quot;, 44, 20);\n\n\n        DefaultTreeForTreeLayout&lt;TextInBox&gt; tree = new DefaultTreeForTreeLayout&lt;TextInBox&gt;(\n                root);\n        tree.addChild(root, n1);\n        tree.addChild(n1, n1_1);\n        tree.addChild(n1_1, n1_1_1);\n        tree.addChild(n1_1, n1_1_2);\n        tree.addChild(n1_1_1, n1_1_1_1);\n        tree.addChild(n1_1_1, n1_1_1_2);\n        tree.addChild(n1_1_2, n1_1_2_1);\n        tree.addChild(n1_1_2, n1_1_2_2);\n        tree.addChild(n1_1_1_1, n1_1_1_1_1);\n        tree.addChild(n1_1_1_2, n1_1_1_2_1);\n        tree.addChild(n1_1_2_1, n1_1_2_1_1);\n        tree.addChild(n1_1_2_2,n1_1_2_2_1);\n        return tree;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74241781,"answer_count":1,"score":1,"last_activity_date":1667055462,"creation_date":1666610625,"question_id":74180389,"body_markdown":"I want to paint a tree (n-ary) in dialog box starting from a set of TreeItems that i define and structure in a tree.\r\n\r\nThe full JavaFx code for defining the TreeItems and drawing the tree in a dialog box is the following: \r\n\r\n \r\n\r\n    public class treeController{\r\n         @fxml\r\n         public void openDialogWindowTreePreview() {\r\n        \r\n                AnchorPane treeGraphPane = new AnchorPane();\r\n                treeGraphPane.setPrefWidth(600);\r\n                treeGraphPane.setPrefHeight(400);\r\n                List&lt;TreeItemNode&gt; children = new ArrayList&lt;&gt;();\r\n                List&lt;TreeItemNode&gt; children5 = new ArrayList&lt;&gt;();\r\n                List&lt;TreeItemNode&gt; children4 = new ArrayList&lt;&gt;();\r\n        \r\n                TreeItemNode treeItemFirstChild = new TreeItemNode(&quot;child1&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\r\n        \r\n                TreeItemNode treeItemSecondChild = new TreeItemNode(&quot;child2&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\r\n        \r\n                TreeItemNode treeItemThirdChild = new TreeItemNode(&quot;child3&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\r\n                children5.add(treeItemFirstChild);\r\n                children5.add(treeItemSecondChild);\r\n                children5.add(treeItemThirdChild);\r\n        \r\n                children4.add(treeItemFirstChild);\r\n                children4.add(treeItemSecondChild);\r\n                children4.add(treeItemThirdChild);\r\n                TreeItemNode treeItemForthChild = new TreeItemNode(&quot;child4&quot;, children4, true);\r\n                TreeItemNode treeItemFifthChild = new TreeItemNode(&quot;child5&quot;, children5, true);\r\n                TreeItemNode treeItemsixthChild = new TreeItemNode(&quot;child6&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\r\n                TreeItemNode treeItemsevthChild = new TreeItemNode(&quot;child7&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\r\n                children.add(treeItemFirstChild);\r\n                children.add(treeItemSecondChild);\r\n                children.add(treeItemThirdChild);\r\n                children.add(treeItemForthChild);\r\n                children.add(treeItemFifthChild);\r\n                children.add(treeItemsixthChild);\r\n                children.add(treeItemsevthChild);\r\n                TreeItemNode treeItemRoot = new TreeItemNode(300/*the 1/2 of 400 width of dialog*/, 50, &quot;root&quot;, children);\r\n                treeItemRoot.setChild(false);\r\n                Alert dialog = new Alert(Alert.AlertType.INFORMATION);\r\n                dialog.setWidth(1050);\r\n                dialog.setHeight(600);\r\n        \r\n                drawNodeRecursive(treeGraphPane,treeItemRoot.getX(),/*10*/treeItemRoot.getY(), treeItemRoot);\r\n                dialog.getDialogPane().setContent(treeGraphPane);\r\n                dialog.setResizable(true);\r\n        \r\n                Optional&lt;ButtonType&gt; result = dialog.showAndWait();\r\n        \r\n            }\r\n        \r\n            public int drawNodeRecursive(AnchorPane mainGraphTreeLayout, int x, int y, TreeItemNode parentNode) {\r\n                \r\n                Circle circle = new Circle(parentNode.getX(),parentNode.getY(), 15, Paint.valueOf(&quot;blue&quot;));\r\n                mainGraphTreeLayout.getChildren().add(circle);\r\n                \r\n                Text txt = new Text(x-3,y+3, String.valueOf(parentNode.getValue()));\r\n                mainGraphTreeLayout.getChildren().add(txt);\r\n               \r\n                List&lt;TreeItemNode&gt; nodeChildrenList = parentNode.getChildren();\r\n                int xPrime = parentNode.getX()+25;  \r\n                for (TreeItemNode child : nodeChildrenList) {\r\n                    child.setX(xPrime);\r\n                    child.setY(parentNode.getY()+50);  \r\n                    Line line = new Line(parentNode.getX(), parentNode.getY()+5, child.getX(), child.getY());\r\n               \r\n                    mainGraphTreeLayout.getChildren().add(line);\r\n                  \r\n                    xPrime = drawNodeRecursive(mainGraphTreeLayout,child.getX(), child.getY(), child) - 50;  \r\n                }\r\n                return x;\r\n            }\r\n\r\nthe fxml code in main.fxml consists of an anchorPane with  a button as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    \r\n    &lt;AnchorPane xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;treeController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Pane prefHeight=&quot;206.0&quot; prefWidth=&quot;281.0&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;Button fx:id=&quot;button1&quot; layoutX=&quot;59.0&quot; layoutY=&quot;63.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;164.0&quot; text=&quot;Button&quot; onAction=&quot;#onDialogWindowTreePreview&quot; /&gt;\r\n             &lt;/children&gt;\r\n          &lt;/Pane&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n     \r\n\r\nBut unfortunately the tree drawing contains **overlapping** nodes as shown in the attached image:[![overlapping nodes tree image][1]][1] \r\n\r\nWhat is wrong with my `drawNodeRecursive()` method?\r\n\r\n\r\nEDIT: as per @kleopatra request this is the remainder of the code:\r\n\r\n \r\n\r\n       public class TreeItemNode {\r\n            public int x;\r\n            public int y;\r\n            public String value;\r\n            public List&lt;TreeItemNode&gt; children;\r\n            public boolean isChild;\r\n        \r\n            public boolean isChild() {\r\n                return isChild;\r\n            }\r\n        \r\n            public void setChild(boolean child) {\r\n                isChild = child;\r\n            }\r\n            public TreeItemNode( String value, List&lt;TreeItemNode&gt; children,boolean isChild) {\r\n        \r\n                this.value = value;\r\n                this.isChild = isChild;\r\n                this.children = children;\r\n        \r\n            }\r\n     public int getX() {\r\n            return x;\r\n        }\r\n    \r\n        public int getY() {\r\n            return y;\r\n        }\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public List&lt;TreeItemNode&gt; getChildren() {\r\n            return children;\r\n        }\r\n    \r\n        public void setX(int x) {\r\n            this.x = x;\r\n        }\r\n    \r\n        public void setY(int y) {\r\n            this.y = y;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public void setChildren(List&lt;TreeItemNode&gt; children) {\r\n            this.children = children;\r\n        }\r\n    }\r\n\r\nAnd finally \r\n\r\n    public class UInterface extends Application  {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n        \r\n            String fxmlFile = &quot;main.fxml&quot;;\r\n            FXMLLoader loader = new FXMLLoader();\r\n            Parent rootNode = (Parent) loader.load(getClass().getResource(fxmlFile));\r\n    \r\n             \r\n            Scene scene = new Scene(rootNode, 1024, 843);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n                launch();\r\n            } \r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VS5H8.png\r\n ","title":"Tree drawing displays overlapping nodes","body":"<p>I want to paint a tree (n-ary) in dialog box starting from a set of TreeItems that i define and structure in a tree.</p>\n<p>The full JavaFx code for defining the TreeItems and drawing the tree in a dialog box is the following:</p>\n<pre><code>public class treeController{\n     @fxml\n     public void openDialogWindowTreePreview() {\n    \n            AnchorPane treeGraphPane = new AnchorPane();\n            treeGraphPane.setPrefWidth(600);\n            treeGraphPane.setPrefHeight(400);\n            List&lt;TreeItemNode&gt; children = new ArrayList&lt;&gt;();\n            List&lt;TreeItemNode&gt; children5 = new ArrayList&lt;&gt;();\n            List&lt;TreeItemNode&gt; children4 = new ArrayList&lt;&gt;();\n    \n            TreeItemNode treeItemFirstChild = new TreeItemNode(&quot;child1&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\n    \n            TreeItemNode treeItemSecondChild = new TreeItemNode(&quot;child2&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\n    \n            TreeItemNode treeItemThirdChild = new TreeItemNode(&quot;child3&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\n            children5.add(treeItemFirstChild);\n            children5.add(treeItemSecondChild);\n            children5.add(treeItemThirdChild);\n    \n            children4.add(treeItemFirstChild);\n            children4.add(treeItemSecondChild);\n            children4.add(treeItemThirdChild);\n            TreeItemNode treeItemForthChild = new TreeItemNode(&quot;child4&quot;, children4, true);\n            TreeItemNode treeItemFifthChild = new TreeItemNode(&quot;child5&quot;, children5, true);\n            TreeItemNode treeItemsixthChild = new TreeItemNode(&quot;child6&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\n            TreeItemNode treeItemsevthChild = new TreeItemNode(&quot;child7&quot;, new ArrayList&lt;TreeItemNode&gt;(), true);\n            children.add(treeItemFirstChild);\n            children.add(treeItemSecondChild);\n            children.add(treeItemThirdChild);\n            children.add(treeItemForthChild);\n            children.add(treeItemFifthChild);\n            children.add(treeItemsixthChild);\n            children.add(treeItemsevthChild);\n            TreeItemNode treeItemRoot = new TreeItemNode(300/*the 1/2 of 400 width of dialog*/, 50, &quot;root&quot;, children);\n            treeItemRoot.setChild(false);\n            Alert dialog = new Alert(Alert.AlertType.INFORMATION);\n            dialog.setWidth(1050);\n            dialog.setHeight(600);\n    \n            drawNodeRecursive(treeGraphPane,treeItemRoot.getX(),/*10*/treeItemRoot.getY(), treeItemRoot);\n            dialog.getDialogPane().setContent(treeGraphPane);\n            dialog.setResizable(true);\n    \n            Optional&lt;ButtonType&gt; result = dialog.showAndWait();\n    \n        }\n    \n        public int drawNodeRecursive(AnchorPane mainGraphTreeLayout, int x, int y, TreeItemNode parentNode) {\n            \n            Circle circle = new Circle(parentNode.getX(),parentNode.getY(), 15, Paint.valueOf(&quot;blue&quot;));\n            mainGraphTreeLayout.getChildren().add(circle);\n            \n            Text txt = new Text(x-3,y+3, String.valueOf(parentNode.getValue()));\n            mainGraphTreeLayout.getChildren().add(txt);\n           \n            List&lt;TreeItemNode&gt; nodeChildrenList = parentNode.getChildren();\n            int xPrime = parentNode.getX()+25;  \n            for (TreeItemNode child : nodeChildrenList) {\n                child.setX(xPrime);\n                child.setY(parentNode.getY()+50);  \n                Line line = new Line(parentNode.getX(), parentNode.getY()+5, child.getX(), child.getY());\n           \n                mainGraphTreeLayout.getChildren().add(line);\n              \n                xPrime = drawNodeRecursive(mainGraphTreeLayout,child.getX(), child.getY(), child) - 50;  \n            }\n            return x;\n        }\n</code></pre>\n<p>the fxml code in main.fxml consists of an anchorPane with  a button as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;treeController&quot;&gt;\n   &lt;children&gt;\n      &lt;Pane prefHeight=&quot;206.0&quot; prefWidth=&quot;281.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Button fx:id=&quot;button1&quot; layoutX=&quot;59.0&quot; layoutY=&quot;63.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;63.0&quot; prefWidth=&quot;164.0&quot; text=&quot;Button&quot; onAction=&quot;#onDialogWindowTreePreview&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/Pane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n \n</code></pre>\n<p>But unfortunately the tree drawing contains <strong>overlapping</strong> nodes as shown in the attached image:<a href=\"https://i.stack.imgur.com/VS5H8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VS5H8.png\" alt=\"overlapping nodes tree image\" /></a></p>\n<p>What is wrong with my <code>drawNodeRecursive()</code> method?</p>\n<p>EDIT: as per @kleopatra request this is the remainder of the code:</p>\n<pre><code>   public class TreeItemNode {\n        public int x;\n        public int y;\n        public String value;\n        public List&lt;TreeItemNode&gt; children;\n        public boolean isChild;\n    \n        public boolean isChild() {\n            return isChild;\n        }\n    \n        public void setChild(boolean child) {\n            isChild = child;\n        }\n        public TreeItemNode( String value, List&lt;TreeItemNode&gt; children,boolean isChild) {\n    \n            this.value = value;\n            this.isChild = isChild;\n            this.children = children;\n    \n        }\n public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public List&lt;TreeItemNode&gt; getChildren() {\n        return children;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    public void setChildren(List&lt;TreeItemNode&gt; children) {\n        this.children = children;\n    }\n}\n</code></pre>\n<p>And finally</p>\n<pre><code>public class UInterface extends Application  {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n    \n        String fxmlFile = &quot;main.fxml&quot;;\n        FXMLLoader loader = new FXMLLoader();\n        Parent rootNode = (Parent) loader.load(getClass().getResource(fxmlFile));\n\n         \n        Scene scene = new Scene(rootNode, 1024, 843);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n            launch();\n        } \n    }\n</code></pre>\n"},{"tags":["java","kotlin","interface","annotations"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1667005867,"post_id":74242122,"comment_id":131075691,"body_markdown":"Do you have a link to the doc that reads that annotations are a form of interface?","body":"Do you have a link to the doc that reads that annotations are a form of interface?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1667008033,"post_id":74242122,"comment_id":131075895,"body_markdown":"In terms of _technical implementation_, an annotation is a specific kind of interface, but annotation objects are _attached to_ (annotate) other program elements to provide metadata.","body":"In terms of <i>technical implementation</i>, an annotation is a specific kind of interface, but annotation objects are <i>attached to</i> (annotate) other program elements to provide metadata."},{"owner":{"account_id":24930919,"reputation":117,"user_id":18798042,"display_name":"user18798042"},"score":0,"creation_date":1667014335,"post_id":74242122,"comment_id":131076402,"body_markdown":"@Joffrey, I updated the question accordingly.","body":"@Joffrey, I updated the question accordingly."},{"owner":{"account_id":24930919,"reputation":117,"user_id":18798042,"display_name":"user18798042"},"score":0,"creation_date":1667014455,"post_id":74242122,"comment_id":131076409,"body_markdown":"@chrylis-cautiouslyoptimistic-, if I wanted to have a class implement a base interface that has no additional functions or attributes, would that be a good time to use an annotation instead?","body":"@chrylis-cautiouslyoptimistic-, if I wanted to have a class implement a base interface that has no additional functions or attributes, would that be a good time to use an annotation instead?"},{"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"score":1,"creation_date":1667015547,"post_id":74242122,"comment_id":131076495,"body_markdown":"@user18798042 , I would advice creating a playground program where you create hierarchies of classes or incorporating abstraction to it to have a grasp of the value of `Interfaces`, NEXT, look at some frameworks that uses annotations, I don&#39;t know which stack this question refers to, but if its Android, look at `Retrofit` but if this is backend stack maybe `Spring` or `Hibernate`?, regardless, pay attention how certain components (class or functions) are being &quot;generated&quot; automatically, be intrigued with how does Retrofit or Spring/Hibernate make those annotated components work like magic.","body":"@user18798042 , I would advice creating a playground program where you create hierarchies of classes or incorporating abstraction to it to have a grasp of the value of <code>Interfaces</code>, NEXT, look at some frameworks that uses annotations, I don&#39;t know which stack this question refers to, but if its Android, look at <code>Retrofit</code> but if this is backend stack maybe <code>Spring</code> or <code>Hibernate</code>?, regardless, pay attention how certain components (class or functions) are being &quot;generated&quot; automatically, be intrigued with how does Retrofit or Spring/Hibernate make those annotated components work like magic."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1667074822,"post_id":74242122,"comment_id":131086362,"body_markdown":"@user18798042, the kind of interface you mention is called a _marker interface_. Some of the uses for marker interfaces have been replaced by annotations since annotations were added in Java 5, but not all of them. It depends on specifics (and often on the convenience feature available by the tools you&#39;re using, such as Spring).","body":"@user18798042, the kind of interface you mention is called a <i>marker interface</i>. Some of the uses for marker interfaces have been replaced by annotations since annotations were added in Java 5, but not all of them. It depends on specifics (and often on the convenience feature available by the tools you&#39;re using, such as Spring)."},{"owner":{"account_id":24930919,"reputation":117,"user_id":18798042,"display_name":"user18798042"},"score":0,"creation_date":1667153024,"post_id":74242122,"comment_id":131098162,"body_markdown":"Okay, I think I understand better now. Thanks everyone!","body":"Okay, I think I understand better now. Thanks everyone!"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1667055387,"creation_date":1667016332,"answer_id":74242750,"question_id":74242122,"body_markdown":"No point about explaining what interfaces are here because there are thousands of articles about them because they are a basic feature in almost every OOP. \r\n\r\nAnnotations are technically a subtype of interfaces, but that’s not really helpful to understanding them because you don’t use them in typical code for purposes anything like interfaces. \r\n\r\nAnnotations are for attaching meta data to code, which can be used to enable features not directly supported by the language syntax. \r\n\r\nIn Kotlin, a number of them are provided for enabling JVM features that aren’t relevant to other platforms so they weren’t included in the language syntax. For example, `@Synchronized` and `@JvmField`. There’s also one for future-proofing inline classes on the JVM, `@JvmInline`, which is there to distinguish the compiled Kotlin-specific version of inline classes from the future default implementation that will be equivalent to Java `record`s. \r\n\r\nOn Android some are provided to enable compiler warnings and errors for issues specific to Android code, such as using the wrong type of resource ID as a function argument, e.g. `@ColorRes` or `@StringRes`. They also provide ones that can be used by the build tools after compilation, such as `@Keep`, which prevents a class from being minified and obfuscated in a release build. \r\n\r\nSome libraries that use reflection provide annotations that help the library know what to do with code. For example, Gson, which is used for automatically converting classes to and from JSON Strings, has ones for specifying what name a field should be converted to in the String, for example. \r\n\r\nMaking your own is a somewhat advanced skill. It would be more common to do something like the ones used by GSON, if you building your own tool that uses reflection. But you could also use it for compiler tools and linters like the above Android examples. ","title":"When would I use Kotlin annotations over interfaces?","body":"<p>No point about explaining what interfaces are here because there are thousands of articles about them because they are a basic feature in almost every OOP.</p>\n<p>Annotations are technically a subtype of interfaces, but that’s not really helpful to understanding them because you don’t use them in typical code for purposes anything like interfaces.</p>\n<p>Annotations are for attaching meta data to code, which can be used to enable features not directly supported by the language syntax.</p>\n<p>In Kotlin, a number of them are provided for enabling JVM features that aren’t relevant to other platforms so they weren’t included in the language syntax. For example, <code>@Synchronized</code> and <code>@JvmField</code>. There’s also one for future-proofing inline classes on the JVM, <code>@JvmInline</code>, which is there to distinguish the compiled Kotlin-specific version of inline classes from the future default implementation that will be equivalent to Java <code>record</code>s.</p>\n<p>On Android some are provided to enable compiler warnings and errors for issues specific to Android code, such as using the wrong type of resource ID as a function argument, e.g. <code>@ColorRes</code> or <code>@StringRes</code>. They also provide ones that can be used by the build tools after compilation, such as <code>@Keep</code>, which prevents a class from being minified and obfuscated in a release build.</p>\n<p>Some libraries that use reflection provide annotations that help the library know what to do with code. For example, Gson, which is used for automatically converting classes to and from JSON Strings, has ones for specifying what name a field should be converted to in the String, for example.</p>\n<p>Making your own is a somewhat advanced skill. It would be more common to do something like the ones used by GSON, if you building your own tool that uses reflection. But you could also use it for compiler tools and linters like the above Android examples.</p>\n"}],"owner":{"account_id":24930919,"reputation":117,"user_id":18798042,"display_name":"user18798042"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667055387,"creation_date":1667004694,"question_id":74242122,"body_markdown":"Put differently, what is the difference between Kotlin interfaces and annotations?\r\n\r\nI ask this because in the &quot;Docs&quot; I read that annotation classes are a form of interface, and to me, I cannot tell the main difference between the two. The link to the docs: https://kotlinlang.org/docs/annotations.html#instantiation\r\n\r\nI have avoided asking this question but surprisingly, I could not find   a clear answer to this question online.\r\n\r\nAny help would be appreciated.\r\n\r\n","title":"When would I use Kotlin annotations over interfaces?","body":"<p>Put differently, what is the difference between Kotlin interfaces and annotations?</p>\n<p>I ask this because in the &quot;Docs&quot; I read that annotation classes are a form of interface, and to me, I cannot tell the main difference between the two. The link to the docs: <a href=\"https://kotlinlang.org/docs/annotations.html#instantiation\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/annotations.html#instantiation</a></p>\n<p>I have avoided asking this question but surprisingly, I could not find   a clear answer to this question online.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","xml","android-studio","scrollview"],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667054705,"creation_date":1667054705,"answer_id":74246244,"question_id":74165446,"body_markdown":"Use a `&lt;RecyclerView&gt;` instead. `RecyclerView` is the best choice when you have multiple items of same type and you have to dynamically modify them. Follow these links to learn about recycler view and click listener in recycler view [RecyclerView example.][1] [Recycler View Click Listener][2]. I will briefly discuss how to do this.\r\n\r\n 1. Create a item layout file. This is basically how each item of your recycler view looks. In your case this will be `LinearLayout` of `protoitem` declared in separate xml file.\r\n 2. Create a data model file that defines that represents your single entity. eg. Create a class `Item` with fields name, quantity, price and appropriate methods.\r\n 3. Add only recyler view in your `activity_main.xml`\r\n 4. Create an adapter that loads your data into recycler view and link your adapter to recycler view.\r\n 5. Create a list of your custom Item class `List&lt;Item&gt; myList = new ArrayList&lt;&gt;();`\r\n 6. Now whenever you add new Item via dialog just add your item in myList and update your adapter by `adapter.notifyDataSetChanged();` Adapter will automatically add that item in your recycler view.\r\n7. For click listener you need to create an interface in your adapter and implement that click listener in you main activity.\r\n\r\n  [1]: https://www.javatpoint.com/android-recyclerview-list-example\r\n  [2]: https://antonioleiva.com/recyclerview-listener/","title":"how to programmatically add clickable item in a scrollview?","body":"<p>Use a <code>&lt;RecyclerView&gt;</code> instead. <code>RecyclerView</code> is the best choice when you have multiple items of same type and you have to dynamically modify them. Follow these links to learn about recycler view and click listener in recycler view <a href=\"https://www.javatpoint.com/android-recyclerview-list-example\" rel=\"nofollow noreferrer\">RecyclerView example.</a> <a href=\"https://antonioleiva.com/recyclerview-listener/\" rel=\"nofollow noreferrer\">Recycler View Click Listener</a>. I will briefly discuss how to do this.</p>\n<ol>\n<li>Create a item layout file. This is basically how each item of your recycler view looks. In your case this will be <code>LinearLayout</code> of <code>protoitem</code> declared in separate xml file.</li>\n<li>Create a data model file that defines that represents your single entity. eg. Create a class <code>Item</code> with fields name, quantity, price and appropriate methods.</li>\n<li>Add only recyler view in your <code>activity_main.xml</code></li>\n<li>Create an adapter that loads your data into recycler view and link your adapter to recycler view.</li>\n<li>Create a list of your custom Item class <code>List&lt;Item&gt; myList = new ArrayList&lt;&gt;();</code></li>\n<li>Now whenever you add new Item via dialog just add your item in myList and update your adapter by <code>adapter.notifyDataSetChanged();</code> Adapter will automatically add that item in your recycler view.</li>\n<li>For click listener you need to create an interface in your adapter and implement that click listener in you main activity.</li>\n</ol>\n"}],"owner":{"account_id":20027587,"reputation":3,"user_id":16805445,"display_name":"Nehril Is&#39;O&#39;ruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74246244,"answer_count":1,"score":0,"last_activity_date":1667054705,"creation_date":1666457857,"question_id":74165446,"body_markdown":"I&#39;ll try my best to make it clear. \r\n\r\nI&#39;m trying to create a scrollview of item (let&#39;s say it&#39;s a shop) which I (the user) add by my self VIA the interface of the app AND can then modify by clicking on it inside the scrollview. \r\nFor example, my main page contains a button and the list of items. When I click on it it opens a dialog which asks me informations of the item I want to add. When I finished configuring the item, I&#39;m back on the main page and I can see the item I just added and i can click on it to modify it if I need to. \r\n\r\nWhat I struggle with here is the fact, in a scrollview we have to add views. Even if I know how to do it via java, how can I add, for each new item, a clicklistener ? how do I set the id for each new view (items) considering the fact that I only can set int ids ? etc. \r\n\r\nDoes someone knows any way to do what I try to ? I&#39;ll make a very simple example of code and interfaces screenshot here in order to be very clear. \r\n\r\n**My XML MainPage : &quot;activity_main.xml&quot;**\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/popUpAddItem&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Add Your Item&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;&gt;\r\n        &lt;/Button&gt;\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/scrollViewItems&quot;&gt;\r\n            &lt;!-- this LinearLayout is an exemple of the shape/structure of an item --&gt;\r\n            &lt;LinearLayout\r\n                android:clickable=&quot;true&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:id=&quot;@+id/protoItem&quot;&gt;\r\n                &lt;TextView\r\n                    android:clickable=&quot;true&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot; Item1 &quot;\r\n                    android:id=&quot;@+id/protoName&quot;&gt;\r\n                &lt;/TextView&gt;\r\n                &lt;TextView\r\n                    android:clickable=&quot;true&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot; Qt1 &quot;\r\n                    android:id=&quot;@+id/protoQuantity&quot;&gt;\r\n                &lt;/TextView&gt;\r\n                &lt;TextView\r\n                    android:clickable=&quot;true&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot; Price1 &quot;\r\n                    android:id=&quot;@+id/protoPrice&quot;&gt;\r\n                &lt;/TextView&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    \r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**XML of the custom pop-up: &quot;dialog_popup.xml&quot;**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/window&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\r\n        &lt;EditText\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/itemName&quot;\r\n            android:hint=&quot;Enter the name of the item&quot;&gt;\r\n        &lt;/EditText&gt;\r\n        &lt;EditText\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/itemQuantity&quot;\r\n            android:hint=&quot;Enter the quantity of the item&quot;&gt;\r\n        &lt;/EditText&gt;\r\n        &lt;EditText\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/itemPrice&quot;\r\n            android:hint=&quot;Enter the price the item&quot;&gt;\r\n        &lt;/EditText&gt;\r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Valider&quot;\r\n            android:id=&quot;@+id/validationButton&quot;&gt;\r\n        &lt;/Button&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**Class to create a custom pop-up: &quot;CreateCustomPopUp.java**\r\n\r\n```lang-java\r\npackage com.example.myapplication;\r\n\r\nimport android.app.Activity;\r\nimport android.app.Dialog;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.LinearLayout;\r\n\r\npublic class CreateCustomPopUp extends Dialog {\r\n    private LinearLayout page;\r\n    private EditText name, quantity, price;\r\n    private Button validation;\r\n    private String varName=&quot;&quot;;\r\n    private int varQt= 0;\r\n    private float varPrice =0;\r\n    public CreateCustomPopUp(Activity activity)\r\n    {\r\n        super(activity, androidx.appcompat.R.style.Theme_AppCompat_Dialog);\r\n        setContentView(R.layout.dialog_popup);\r\n        this.page = findViewById(R.id.window);\r\n        this.name = findViewById(R.id.itemName);\r\n        this.price = findViewById(R.id.itemPrice);\r\n        this.quantity = findViewById(R.id.itemQuantity);\r\n        this.validation = findViewById(R.id.validationButton);\r\n        validation.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                varName=name.getText().toString();\r\n                varQt=Integer.valueOf(quantity.getText().toString());\r\n                varPrice=Float.valueOf(price.getText().toString());\r\n                dismiss();\r\n            }\r\n        });\r\n\r\n    }\r\n    public void build()\r\n    {\r\n        show();\r\n    }\r\n    public int getQt(){\r\n        return varQt;\r\n    }\r\n    public String getName(){\r\n        return varName;\r\n    }\r\n    public float getPrice(){\r\n        return varPrice;\r\n    }\r\n}\r\n``` \r\n\r\n*Main activity Java : &quot;MainActivity.java&quot;*\r\n\r\n```lang-java\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    public MainActivity activity;\r\n    public String name =&quot;&quot;;\r\n    public int qt =0;\r\n    public float price = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        this.activity=this;\r\n        Button addItem = (Button) findViewById(R.id.popUpAddItem);\r\n        addItem.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                CreateCustomPopUp popUp = new CreateCustomPopUp(activity);\r\n                popUp.build();\r\n                popUp.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n                    @Override\r\n                    public void onDismiss(DialogInterface dialogInterface) {\r\n                        name = popUp.getName();\r\n                        qt = popUp.getQt();\r\n                        price = popUp.getPrice();\r\n                        //Put/call here a function/class or whatever works that add this created item in the scrollview\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        LinearLayout prototypeItem = (LinearLayout) findViewById(R.id.protoItem);\r\n        prototypeItem.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Another popup that I&#39;m borred to create, but I think you see the idea...\r\n            }\r\n        });\r\n        // and here is my issue : I cant reproduce this &quot;set on click listener&quot; for each item... because they dont already exist and I dont know how many I&#39;ll have !\r\n    }\r\n}\r\n```\r\n\r\nHope it&#39;s clear and you can help me ^^\r\n\r\nbye","title":"how to programmatically add clickable item in a scrollview?","body":"<p>I'll try my best to make it clear.</p>\n<p>I'm trying to create a scrollview of item (let's say it's a shop) which I (the user) add by my self VIA the interface of the app AND can then modify by clicking on it inside the scrollview.\nFor example, my main page contains a button and the list of items. When I click on it it opens a dialog which asks me informations of the item I want to add. When I finished configuring the item, I'm back on the main page and I can see the item I just added and i can click on it to modify it if I need to.</p>\n<p>What I struggle with here is the fact, in a scrollview we have to add views. Even if I know how to do it via java, how can I add, for each new item, a clicklistener ? how do I set the id for each new view (items) considering the fact that I only can set int ids ? etc.</p>\n<p>Does someone knows any way to do what I try to ? I'll make a very simple example of code and interfaces screenshot here in order to be very clear.</p>\n<p><strong>My XML MainPage : &quot;activity_main.xml&quot;</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;Button\n            android:id=&quot;@+id/popUpAddItem&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Add Your Item&quot;\n            tools:ignore=&quot;MissingConstraints&quot;&gt;\n        &lt;/Button&gt;\n        &lt;ScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/scrollViewItems&quot;&gt;\n            &lt;!-- this LinearLayout is an exemple of the shape/structure of an item --&gt;\n            &lt;LinearLayout\n                android:clickable=&quot;true&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:id=&quot;@+id/protoItem&quot;&gt;\n                &lt;TextView\n                    android:clickable=&quot;true&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot; Item1 &quot;\n                    android:id=&quot;@+id/protoName&quot;&gt;\n                &lt;/TextView&gt;\n                &lt;TextView\n                    android:clickable=&quot;true&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot; Qt1 &quot;\n                    android:id=&quot;@+id/protoQuantity&quot;&gt;\n                &lt;/TextView&gt;\n                &lt;TextView\n                    android:clickable=&quot;true&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot; Price1 &quot;\n                    android:id=&quot;@+id/protoPrice&quot;&gt;\n                &lt;/TextView&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/ScrollView&gt;\n    &lt;/LinearLayout&gt;\n\n    \n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>XML of the custom pop-up: &quot;dialog_popup.xml&quot;</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:id=&quot;@+id/window&quot;\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\n        &lt;EditText\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/itemName&quot;\n            android:hint=&quot;Enter the name of the item&quot;&gt;\n        &lt;/EditText&gt;\n        &lt;EditText\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/itemQuantity&quot;\n            android:hint=&quot;Enter the quantity of the item&quot;&gt;\n        &lt;/EditText&gt;\n        &lt;EditText\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/itemPrice&quot;\n            android:hint=&quot;Enter the price the item&quot;&gt;\n        &lt;/EditText&gt;\n        &lt;Button\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Valider&quot;\n            android:id=&quot;@+id/validationButton&quot;&gt;\n        &lt;/Button&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Class to create a custom pop-up: &quot;CreateCustomPopUp.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport android.app.Activity;\nimport android.app.Dialog;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\n\npublic class CreateCustomPopUp extends Dialog {\n    private LinearLayout page;\n    private EditText name, quantity, price;\n    private Button validation;\n    private String varName=&quot;&quot;;\n    private int varQt= 0;\n    private float varPrice =0;\n    public CreateCustomPopUp(Activity activity)\n    {\n        super(activity, androidx.appcompat.R.style.Theme_AppCompat_Dialog);\n        setContentView(R.layout.dialog_popup);\n        this.page = findViewById(R.id.window);\n        this.name = findViewById(R.id.itemName);\n        this.price = findViewById(R.id.itemPrice);\n        this.quantity = findViewById(R.id.itemQuantity);\n        this.validation = findViewById(R.id.validationButton);\n        validation.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                varName=name.getText().toString();\n                varQt=Integer.valueOf(quantity.getText().toString());\n                varPrice=Float.valueOf(price.getText().toString());\n                dismiss();\n            }\n        });\n\n    }\n    public void build()\n    {\n        show();\n    }\n    public int getQt(){\n        return varQt;\n    }\n    public String getName(){\n        return varName;\n    }\n    public float getPrice(){\n        return varPrice;\n    }\n}\n</code></pre>\n<p><em>Main activity Java : &quot;MainActivity.java&quot;</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\n\n\npublic class MainActivity extends AppCompatActivity {\n    public MainActivity activity;\n    public String name =&quot;&quot;;\n    public int qt =0;\n    public float price = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        this.activity=this;\n        Button addItem = (Button) findViewById(R.id.popUpAddItem);\n        addItem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                CreateCustomPopUp popUp = new CreateCustomPopUp(activity);\n                popUp.build();\n                popUp.setOnDismissListener(new DialogInterface.OnDismissListener() {\n                    @Override\n                    public void onDismiss(DialogInterface dialogInterface) {\n                        name = popUp.getName();\n                        qt = popUp.getQt();\n                        price = popUp.getPrice();\n                        //Put/call here a function/class or whatever works that add this created item in the scrollview\n                    }\n                });\n            }\n        });\n        LinearLayout prototypeItem = (LinearLayout) findViewById(R.id.protoItem);\n        prototypeItem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Another popup that I'm borred to create, but I think you see the idea...\n            }\n        });\n        // and here is my issue : I cant reproduce this &quot;set on click listener&quot; for each item... because they dont already exist and I dont know how many I'll have !\n    }\n}\n</code></pre>\n<p>Hope it's clear and you can help me ^^</p>\n<p>bye</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1667052832,"post_id":74245952,"comment_id":131081922,"body_markdown":"You&#39;ll need to do a more complicated replace.  You can do a regex on `\\n` where the preceding char is not \\  (like `[^\\\\]?\\\\n`) and then a subsequent pass to replace `\\\\(escapeable char)` with `\\(escapeable char)`","body":"You&#39;ll need to do a more complicated replace.  You can do a regex on <code>\\n</code> where the preceding char is not \\  (like <code>[^\\\\]?\\\\n</code>) and then a subsequent pass to replace <code>\\\\(escapeable char)</code> with <code>\\(escapeable char)</code>"},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1667053818,"post_id":74245952,"comment_id":131082129,"body_markdown":"@possum Thank you for your reply ! I tried using your regex with `String.replaceAll()` method, but like the https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String) indicates that there is a problem when using &#39;\\&#39; in a regex, and I don&#39;t know how to handle this case.","body":"@possum Thank you for your reply ! I tried using your regex with <code>String.replaceAll()</code> method, but like the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> indicates that there is a problem when using &#39;\\&#39; in a regex, and I don&#39;t know how to handle this case."}],"answers":[{"tags":[],"owner":{"account_id":20140480,"reputation":64,"user_id":14836289,"display_name":"cwellm"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667054346,"creation_date":1667054346,"answer_id":74246202,"question_id":74245952,"body_markdown":"You can actually do:\r\n\r\n```\r\nline = line.replace(&quot;\\\\\\\\n&quot;, &quot;\\n&quot;);\r\nline = line.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);\r\n```\r\n\r\nin that order. ","title":"Handling Special Characters: &#39;\\n&#39;, &#39;\\\\n&#39;, &#39;\\t&#39; and &#39;\\\\t&#39; when reading a file in java","body":"<p>You can actually do:</p>\n<pre><code>line = line.replace(&quot;\\\\\\\\n&quot;, &quot;\\n&quot;);\nline = line.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);\n</code></pre>\n<p>in that order.</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667054437,"creation_date":1667054437,"answer_id":74246207,"question_id":74245952,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String in = &quot;thiss is\\\\n a st\\\\tring\\\\\\\\n bla bla&quot;;\r\n        String out = in\r\n            .replaceAll(&quot;(?&lt;!\\\\\\\\)\\\\\\\\n&quot;, &quot;\\n&quot;)\r\n            .replaceAll(&quot;(?&lt;!\\\\\\\\)\\\\\\\\t&quot;, &quot;\\t&quot;)\r\n            .replaceAll(&quot;\\\\\\\\\\\\\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n        System.out.println(&quot;in  : &quot; + in);\r\n        System.out.println(&quot;out : &quot; + out);\r\n    }\r\n\r\noutput:\r\n\r\n    in  : thiss is\\n a st\\tring\\\\n bla bla\r\n    out : thiss is\r\n     a st\tring\\n bla bla\r\n\r\n","title":"Handling Special Characters: &#39;\\n&#39;, &#39;\\\\n&#39;, &#39;\\t&#39; and &#39;\\\\t&#39; when reading a file in java","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String in = &quot;thiss is\\\\n a st\\\\tring\\\\\\\\n bla bla&quot;;\n    String out = in\n        .replaceAll(&quot;(?&lt;!\\\\\\\\)\\\\\\\\n&quot;, &quot;\\n&quot;)\n        .replaceAll(&quot;(?&lt;!\\\\\\\\)\\\\\\\\t&quot;, &quot;\\t&quot;)\n        .replaceAll(&quot;\\\\\\\\\\\\\\\\&quot;, &quot;\\\\\\\\&quot;);\n    System.out.println(&quot;in  : &quot; + in);\n    System.out.println(&quot;out : &quot; + out);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>in  : thiss is\\n a st\\tring\\\\n bla bla\nout : thiss is\n a st   ring\\n bla bla\n</code></pre>\n"}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74246207,"answer_count":2,"score":0,"last_activity_date":1667054437,"creation_date":1667052189,"question_id":74245952,"body_markdown":"I have a text file named `myfile` with one line text, containing some specials characters `\\n` (new line character) or some escaped of this characters `\\\\n`, \r\n\r\nmyfile content:\r\n\r\n    thiss is\\n a string\\\\n bla bla\r\n\r\n\r\nI want to read this file but keep the semantic meaning of these special characters.\r\n\r\nI tried to read the file without any special work, but all these special characters are interpreted as a raw string.\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            String path = Main.class.getResource(&quot;/myfile&quot;).getPath();\r\n            try (BufferedReader in = new BufferedReader( new FileReader(path))) {\r\n                String line = in.readLine();\r\n                System.out.println(line); // printed as a raw string, `\\n` not interpreted as a new line char\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nI also tried using the `String.replace()` method, but it only works for `\\n` but not for `\\\\n`.\r\n\r\n    line.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);\r\n\r\n","title":"Handling Special Characters: &#39;\\n&#39;, &#39;\\\\n&#39;, &#39;\\t&#39; and &#39;\\\\t&#39; when reading a file in java","body":"<p>I have a text file named <code>myfile</code> with one line text, containing some specials characters <code>\\n</code> (new line character) or some escaped of this characters <code>\\\\n</code>,</p>\n<p>myfile content:</p>\n<pre><code>thiss is\\n a string\\\\n bla bla\n</code></pre>\n<p>I want to read this file but keep the semantic meaning of these special characters.</p>\n<p>I tried to read the file without any special work, but all these special characters are interpreted as a raw string.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        String path = Main.class.getResource(&quot;/myfile&quot;).getPath();\n        try (BufferedReader in = new BufferedReader( new FileReader(path))) {\n            String line = in.readLine();\n            System.out.println(line); // printed as a raw string, `\\n` not interpreted as a new line char\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>I also tried using the <code>String.replace()</code> method, but it only works for <code>\\n</code> but not for <code>\\\\n</code>.</p>\n<pre><code>line.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);\n</code></pre>\n"},{"tags":["java","odfdom"],"answers":[{"tags":[],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667054114,"creation_date":1666556106,"answer_id":74174453,"question_id":74038399,"body_markdown":"I think you may need to add to module-info.java the module name for implementation &#39;org.odftoolkit:odfdom-java:0.10.0&#39;:\r\n\r\n    requires odfdom.java;\r\n\r\nI am not getting your error but getting lots of other module errors eg\r\n\r\n     .... module reads package org.apache.maven.settings from both maven.settings and maven.core\r\n\r\nSolution for me was to add some excludes in my build.gradle in order to get it to compile:\r\n     \r\n         configurations {\r\n\t         compileOnly.exclude group: &#39;xerces&#39;, module: &#39;xercesImpl&#39;       \r\n             // exclude from compile but allow at run time\t\r\n         }\r\n         \r\n\r\n         implementation (group: &#39;org.odftoolkit&#39;, name: &#39;odfdom-java&#39;, version: &#39;0.10.0&#39;) {\t\t    \r\n\t\t    exclude group: &#39;org.apache.maven&#39;, module: &#39;maven-core&#39;\r\n\t\t    exclude group: &#39;org.apache.maven&#39;, module: &#39;maven-plugin-api&#39;\r\n\t\t    exclude group: &#39;io.github.git-commit-id&#39;, module: &#39;git-commit-id-plugin-core&#39;\r\n\t     }\r\n\r\nMy build.gradle is more complex that yours and I seemed to get a lot of module clashes and so it&#39;s not the same issue, but I hope this points you in the right direction.\r\n\r\n","title":"Module resolution exeption with odfdom and Gradle","body":"<p>I think you may need to add to module-info.java the module name for implementation 'org.odftoolkit:odfdom-java:0.10.0':</p>\n<pre><code>requires odfdom.java;\n</code></pre>\n<p>I am not getting your error but getting lots of other module errors eg</p>\n<pre><code> .... module reads package org.apache.maven.settings from both maven.settings and maven.core\n</code></pre>\n<p>Solution for me was to add some excludes in my build.gradle in order to get it to compile:</p>\n<pre><code>     configurations {\n         compileOnly.exclude group: 'xerces', module: 'xercesImpl'       \n         // exclude from compile but allow at run time  \n     }\n     \n\n     implementation (group: 'org.odftoolkit', name: 'odfdom-java', version: '0.10.0') {         \n        exclude group: 'org.apache.maven', module: 'maven-core'\n        exclude group: 'org.apache.maven', module: 'maven-plugin-api'\n        exclude group: 'io.github.git-commit-id', module: 'git-commit-id-plugin-core'\n     }\n</code></pre>\n<p>My build.gradle is more complex that yours and I seemed to get a lot of module clashes and so it's not the same issue, but I hope this points you in the right direction.</p>\n"}],"owner":{"account_id":12256412,"reputation":107,"user_id":8945327,"display_name":"CT95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667054114,"creation_date":1665561655,"question_id":74038399,"body_markdown":"I am modulirizing and existing non modular application. To make my life easier with the Java modules system, I decided to pick up a working example https://github.com/beryx-gist/badass-jlink-example-log4j2-javafx which is similar to my app and add the depencies I will need to that and make it work. I started with `odfdom`, a I am processing lot of OpenDocument spreadsheets using `jOpenDocument`, but `odfdom` looks now more promising so I am moving to that. I get the following error when running the example:\r\n\r\n```\r\njava.lang.module.ResolutionException: Modules maven.core and maven.artifact export package org.apache.maven.artifact.repository to module org.json\r\n```\r\nThis occurs when I add the following line to the `buid.gradle`:\r\n```\r\nimplementation &#39;org.odftoolkit:odfdom-java:0.10.0&#39;\r\n``` \r\notherwise the project builds and runs as expected.\r\nHow I am supposed to solve this issue?\r\nHere is the `build.gradle`:\r\n```\r\nplugins {\r\n    id &#39;application&#39;\r\n    id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.9&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n    id &#39;org.beryx.jlink&#39; version &quot;2.24.1&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsourceCompatibility = &quot;11&quot;\r\ntargetCompatibility = &quot;11&quot;\r\n\r\ndependencies {\r\n    implementation &#39;org.apache.logging.log4j:log4j-core:2.11.1&#39; //automatic-module\r\n\timplementation &#39;com.google.code.gson:gson:2.9.1&#39; //module\r\n\timplementation &#39;org.odftoolkit:odfdom-java:0.10.0&#39; //none\r\n}\r\n\r\njavafx {\r\n    version = 16\r\n    modules = [&#39;javafx.controls&#39;]\r\n}\r\n\r\napplication {\r\n    mainClass = &quot;org.openjfx.HelloFX&quot;\r\n    mainModule = &quot;hellofx&quot;\r\n}\r\n```\r\nand the `module-info.java`:\r\n```\r\nmodule hellofx {\r\n    requires javafx.controls;\r\n    requires org.apache.logging.log4j;\r\n    \r\n    exports org.openjfx;\r\n}\r\n```","title":"Module resolution exeption with odfdom and Gradle","body":"<p>I am modulirizing and existing non modular application. To make my life easier with the Java modules system, I decided to pick up a working example <a href=\"https://github.com/beryx-gist/badass-jlink-example-log4j2-javafx\" rel=\"nofollow noreferrer\">https://github.com/beryx-gist/badass-jlink-example-log4j2-javafx</a> which is similar to my app and add the depencies I will need to that and make it work. I started with <code>odfdom</code>, a I am processing lot of OpenDocument spreadsheets using <code>jOpenDocument</code>, but <code>odfdom</code> looks now more promising so I am moving to that. I get the following error when running the example:</p>\n<pre><code>java.lang.module.ResolutionException: Modules maven.core and maven.artifact export package org.apache.maven.artifact.repository to module org.json\n</code></pre>\n<p>This occurs when I add the following line to the <code>buid.gradle</code>:</p>\n<pre><code>implementation 'org.odftoolkit:odfdom-java:0.10.0'\n</code></pre>\n<p>otherwise the project builds and runs as expected.\nHow I am supposed to solve this issue?\nHere is the <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.javamodularity.moduleplugin' version '1.8.9'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n    id 'org.beryx.jlink' version &quot;2.24.1&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\nsourceCompatibility = &quot;11&quot;\ntargetCompatibility = &quot;11&quot;\n\ndependencies {\n    implementation 'org.apache.logging.log4j:log4j-core:2.11.1' //automatic-module\n    implementation 'com.google.code.gson:gson:2.9.1' //module\n    implementation 'org.odftoolkit:odfdom-java:0.10.0' //none\n}\n\njavafx {\n    version = 16\n    modules = ['javafx.controls']\n}\n\napplication {\n    mainClass = &quot;org.openjfx.HelloFX&quot;\n    mainModule = &quot;hellofx&quot;\n}\n</code></pre>\n<p>and the <code>module-info.java</code>:</p>\n<pre><code>module hellofx {\n    requires javafx.controls;\n    requires org.apache.logging.log4j;\n    \n    exports org.openjfx;\n}\n</code></pre>\n"},{"tags":["java","spring","garbage-collection","hashset"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667300691,"post_id":74246160,"comment_id":131130915,"body_markdown":"You are asking the wrong question. It doesn’t matter when the garbage collector will run. Your problem is that `inMemoryHashSet` is still reachable while the loop is constructing a new set and still containing 2 million elements. This is an issue of your application logic. Can you a) call `inMemoryHashSet.clear();` or b) do `inMemoryHashSet = Collections.emptySet();` before the loop? Or will it cause problems to have an empty set during the update? In other word, do other threads access `inMemoryHashSet` while the update is running?","body":"You are asking the wrong question. It doesn’t matter when the garbage collector will run. Your problem is that <code>inMemoryHashSet</code> is still reachable while the loop is constructing a new set and still containing 2 million elements. This is an issue of your application logic. Can you a) call <code>inMemoryHashSet.clear();</code> or b) do <code>inMemoryHashSet = Collections.emptySet();</code> before the loop? Or will it cause problems to have an empty set during the update? In other word, do other threads access <code>inMemoryHashSet</code> while the update is running?"},{"owner":{"account_id":1102109,"reputation":702,"user_id":1094300,"accept_rate":33,"display_name":"tibortru"},"score":0,"creation_date":1667396946,"post_id":74246160,"comment_id":131157107,"body_markdown":"@Holger thx for comment, since refresh of inMemoryHashSet is being done during night, not during working hours we could maybe call clear() or emptySet()\nBut how exactly those methods work regarding objects that are in memory. Are they immediatly destroyed, or GC comes to clean them at some point after?","body":"@Holger thx for comment, since refresh of inMemoryHashSet is being done during night, not during working hours we could maybe call clear() or emptySet() But how exactly those methods work regarding objects that are in memory. Are they immediatly destroyed, or GC comes to clean them at some point after?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1667400413,"post_id":74246160,"comment_id":131158584,"body_markdown":"The garbage collector will come whenever it thinks it is the right time, usually depending on the allocated and available memory and the actual memory needs. So, clearing does not free memory, but ensures that *if* there is a need for garbage collection at this point or a later point, it *can* reclaim the memory. Of course, if there is not enough heap memory to hold two sets with 2 million elements each in memory, the garbage collector will run at some point during the loop. Which will succeed if you did the necessary step at the beginning of the loop.","body":"The garbage collector will come whenever it thinks it is the right time, usually depending on the allocated and available memory and the actual memory needs. So, clearing does not free memory, but ensures that <i>if</i> there is a need for garbage collection at this point or a later point, it <i>can</i> reclaim the memory. Of course, if there is not enough heap memory to hold two sets with 2 million elements each in memory, the garbage collector will run at some point during the loop. Which will succeed if you did the necessary step at the beginning of the loop."},{"owner":{"account_id":1102109,"reputation":702,"user_id":1094300,"accept_rate":33,"display_name":"tibortru"},"score":0,"creation_date":1667481398,"post_id":74246160,"comment_id":131180019,"body_markdown":"Thank you very much @Holger . I will implement and test how it works.","body":"Thank you very much @Holger . I will implement and test how it works."}],"owner":{"account_id":1102109,"reputation":702,"user_id":1094300,"accept_rate":33,"display_name":"tibortru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667053964,"creation_date":1667053964,"question_id":74246160,"body_markdown":"I have a spring application, java 8, on startup I connect to DB to retrieve about 2 million records and I put them inside a HashSet of a specific bean and hold them in memory for various purposes.\r\n\r\nOnce every day I need to refresh this set. So simply I again connect to DB, retrieve result set, I say:\r\n\r\n    Set results = new HashSet();\r\n    for (Object object : resultSet) {\r\n       results.add(object);\r\n    }\r\n    inMemoryHashSet = results;\r\n\r\nRight at the end of this refresh, I have old **inMemoryHashSet** with 2 million elements, and I have **results** set with 2 million elements, and then I switch reference by saying **inMemoryHashSet = results;**\r\nAfter that I guess garbage collector kicks in and removes old 2 million elements from memory.\r\nIs there a way to optimize this so that I don&#39;t have 2 complete hashsets in memory at the same time?\r\nMaybe calling garbage collector before I start again loading new 2 million elements from DB, but I know that GC cannot be forced, just suggested that it should be run?\r\n","title":"Replacing large hashset with new values from DB","body":"<p>I have a spring application, java 8, on startup I connect to DB to retrieve about 2 million records and I put them inside a HashSet of a specific bean and hold them in memory for various purposes.</p>\n<p>Once every day I need to refresh this set. So simply I again connect to DB, retrieve result set, I say:</p>\n<pre><code>Set results = new HashSet();\nfor (Object object : resultSet) {\n   results.add(object);\n}\ninMemoryHashSet = results;\n</code></pre>\n<p>Right at the end of this refresh, I have old <strong>inMemoryHashSet</strong> with 2 million elements, and I have <strong>results</strong> set with 2 million elements, and then I switch reference by saying <strong>inMemoryHashSet = results;</strong>\nAfter that I guess garbage collector kicks in and removes old 2 million elements from memory.\nIs there a way to optimize this so that I don't have 2 complete hashsets in memory at the same time?\nMaybe calling garbage collector before I start again loading new 2 million elements from DB, but I know that GC cannot be forced, just suggested that it should be run?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1164230,"reputation":3515,"user_id":1143172,"display_name":"icastell"},"score":0,"creation_date":1337199003,"post_id":10625775,"comment_id":13771812,"body_markdown":"Maybe in this thread: http://stackoverflow.com/questions/4310525/android-on-edittext-changed-listener you have what are you want.","body":"Maybe in this thread: <a href=\"http://stackoverflow.com/questions/4310525/android-on-edittext-changed-listener\" title=\"android on edittext changed listener\">stackoverflow.com/questions/4310525/&hellip;</a> you have what are you want."}],"answers":[{"tags":[],"owner":{"account_id":1023515,"reputation":4993,"user_id":1033305,"accept_rate":100,"display_name":"Raheel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337198749,"creation_date":1337198749,"answer_id":10625890,"question_id":10625775,"body_markdown":"     EditText ET =(EditText)findViewById(R.id.yourtextField);\r\n    ET.setOnFocusChangeListener(new OnFocusChangeListener() {\r\n\t\t\t\tpublic void onFocusChange(View arg0, boolean arg1) {\r\n\r\n    String myText = ET.getText();\r\n    //Do whatever\r\n\r\n    } ","title":"Android On Focus Change","body":"<pre><code> EditText ET =(EditText)findViewById(R.id.yourtextField);\nET.setOnFocusChangeListener(new OnFocusChangeListener() {\n            public void onFocusChange(View arg0, boolean arg1) {\n\nString myText = ET.getText();\n//Do whatever\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":406618,"reputation":40008,"user_id":776244,"accept_rate":89,"display_name":"Samir Mangroliya"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1337199574,"creation_date":1337198775,"answer_id":10625897,"question_id":10625775,"body_markdown":"set `setOnFocusChangeListener` to your edittext...\r\n\r\n    editText.setOnFocusChangeListener(new OnFocusChangeListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onFocusChange(View v, boolean hasFocus) {\r\n    \t\t\t \r\n    \t\t\t\tif(!hasFocus){\r\n                  //this if condition is true when edittext lost focus...\r\n                  //check here for number is larger than 10 or not\r\n    \t\t\t\t\teditText.setText(&quot;10&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});","title":"Android On Focus Change","body":"<p>set <code>setOnFocusChangeListener</code> to your edittext...</p>\n\n<pre><code>editText.setOnFocusChangeListener(new OnFocusChangeListener() {\n\n            @Override\n            public void onFocusChange(View v, boolean hasFocus) {\n\n                if(!hasFocus){\n              //this if condition is true when edittext lost focus...\n              //check here for number is larger than 10 or not\n                    editText.setText(\"10\");\n                }\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10597096,"reputation":384,"user_id":7805375,"display_name":"Rohan Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558209715,"creation_date":1558209715,"answer_id":56202429,"question_id":10625775,"body_markdown":"If someone wants to do this in kotlin and with databinding then please refer below code\r\n     \r\n     //first get reference to your edit text \r\n\r\n     var editText:EditText = viewDataBinding.editText \r\n\r\n     // add listner on edit text \r\n\r\n     editText.setOnFocusChangeListener { v, hasFocus -&gt;\r\n            if(!hasFocus)\r\n            {\r\n          if((editText.text.toString().toIntOrNull()&gt;10)\r\n           {// add any thing in this block\r\n             editText.text = &quot;10&quot;\r\n           }\r\n          }\r\n         }","title":"Android On Focus Change","body":"<p>If someone wants to do this in kotlin and with databinding then please refer below code</p>\n\n<pre><code> //first get reference to your edit text \n\n var editText:EditText = viewDataBinding.editText \n\n // add listner on edit text \n\n editText.setOnFocusChangeListener { v, hasFocus -&gt;\n        if(!hasFocus)\n        {\n      if((editText.text.toString().toIntOrNull()&gt;10)\n       {// add any thing in this block\n         editText.text = \"10\"\n       }\n      }\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18493218,"reputation":33,"user_id":13472253,"display_name":"Mertay Dayanc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588657957,"creation_date":1588657957,"answer_id":61606601,"question_id":10625775,"body_markdown":"I had it explained in this post if you are interested.Go check it out &lt;https://medium.com/@mdayanc/how-to-use-on-focus-change-to-format-edit-text-on-android-studio-bf59edf66161&gt;\r\n\r\nHere is the simple code to utilize OnFocusChangeListener\r\n\r\n        EditText myEditText = findViewById(R.id.myEditText);\r\n\r\n        myEditText.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n            @Override\r\n            public void onFocusChange(View v, boolean hasFocus) {\r\n                if(hasFocus)\r\n                {\r\n                  //Do something when EditText has focus\r\n                }\r\n                else{\r\n                  // Do something when Focus is not on the EditText\r\n                }\r\n            }\r\n        });\r\n","title":"Android On Focus Change","body":"<p>I had it explained in this post if you are interested.Go check it out <a href=\"https://medium.com/@mdayanc/how-to-use-on-focus-change-to-format-edit-text-on-android-studio-bf59edf66161\" rel=\"nofollow noreferrer\">https://medium.com/@mdayanc/how-to-use-on-focus-change-to-format-edit-text-on-android-studio-bf59edf66161</a></p>\n\n<p>Here is the simple code to utilize OnFocusChangeListener</p>\n\n<pre><code>    EditText myEditText = findViewById(R.id.myEditText);\n\n    myEditText.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n        @Override\n        public void onFocusChange(View v, boolean hasFocus) {\n            if(hasFocus)\n            {\n              //Do something when EditText has focus\n            }\n            else{\n              // Do something when Focus is not on the EditText\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":304762,"reputation":11899,"user_id":614460,"accept_rate":74,"display_name":"Somk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37668,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":4,"score":10,"last_activity_date":1667053678,"creation_date":1337198269,"question_id":10625775,"body_markdown":"I want to update an EditText when a user changes focus from the edittext to another item I want to check the contents of the edittext eg is the number larger than 10 if so change it to 10.\r\n\r\nHow should I do this.","title":"Android On Focus Change","body":"<p>I want to update an EditText when a user changes focus from the edittext to another item I want to check the contents of the edittext eg is the number larger than 10 if so change it to 10.</p>\n\n<p>How should I do this.</p>\n"},{"tags":["java","jackson","mockito","jackson-databind","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":26731343,"reputation":1,"user_id":20333634,"display_name":"Harshitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667052546,"creation_date":1667052457,"answer_id":74245987,"question_id":74244816,"body_markdown":"Converting the json string to Object type using readValue() before passing it to the method under test resolved the error. \r\n\r\n```\r\n@Test\r\npublic void test_handleRequest() {\r\n   String testInput = \r\n       &quot;{\\&quot;fieldA\\&quot;:\\&quot;fieldAValue\\&quot;,\\&quot;fieldB\\&quot;:\\&quot;fieldBValue\\&quot;,+    \r\n       &quot;\\&quot;fieldC\\&quot;:\\&quot;fieldCValue\\&quot;,&quot; +\r\n       &quot;\\&quot;fieldList\\&quot;:[&quot; +\r\n       &quot;{\\&quot;subFieldA\\&quot;:\\&quot;subFieldAValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldB\\&quot;:\\&quot;subFieldBValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldC\\&quot;:\\&quot;subFieldCValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldD\\&quot;:\\&quot;subFieldDValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldE\\&quot;:\\&quot;subFieldEValue\\&quot;}]}&quot;;\r\n\r\n   Object input = new ObjectMapper().readValue(testInput, Object.class);\r\n   handleRequest(input, null);\r\n\r\n   // code to assert that the actual and expected values are equal.\r\n   .\r\n   .\r\n   .\r\n}\r\n```","title":"Cannot construct instance of X (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value","body":"<p>Converting the json string to Object type using readValue() before passing it to the method under test resolved the error.</p>\n<pre><code>@Test\npublic void test_handleRequest() {\n   String testInput = \n       &quot;{\\&quot;fieldA\\&quot;:\\&quot;fieldAValue\\&quot;,\\&quot;fieldB\\&quot;:\\&quot;fieldBValue\\&quot;,+    \n       &quot;\\&quot;fieldC\\&quot;:\\&quot;fieldCValue\\&quot;,&quot; +\n       &quot;\\&quot;fieldList\\&quot;:[&quot; +\n       &quot;{\\&quot;subFieldA\\&quot;:\\&quot;subFieldAValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldB\\&quot;:\\&quot;subFieldBValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldC\\&quot;:\\&quot;subFieldCValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldD\\&quot;:\\&quot;subFieldDValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldE\\&quot;:\\&quot;subFieldEValue\\&quot;}]}&quot;;\n\n   Object input = new ObjectMapper().readValue(testInput, Object.class);\n   handleRequest(input, null);\n\n   // code to assert that the actual and expected values are equal.\n   .\n   .\n   .\n}\n</code></pre>\n"}],"owner":{"account_id":26731343,"reputation":1,"user_id":20333634,"display_name":"Harshitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245987,"answer_count":1,"score":0,"last_activity_date":1667052546,"creation_date":1667042440,"question_id":74244816,"body_markdown":"I&#39;m trying to test a method handleRequest() which is the handler code when an AWS lambda is triggered. The method is as follows:\r\n\r\n```\r\n@Override\r\npublic Response handleRequest(Object input, Context context) {\r\n   final Request request =     \r\n      OBJECT_MAPPER.readValue(OBJECT_MAPPER.writeValueAsBytes(input),Request.class);\r\n\r\n   // some code that uses request\r\n   .\r\n   .\r\n}\r\n```\r\n\r\n\r\nInput to AWS lambda function that is working fine when tested from AWS console - \r\n\r\n```\r\n{&quot;fieldA&quot;: &quot;fieldAValue&quot;,\r\n&quot;fieldB&quot;: &quot;fieldBValue&quot;,\r\n&quot;fieldC&quot;: &quot;fieldCValue&quot;,\r\n&quot;fieldList&quot;: [\r\n  {\r\n    &quot;subFieldA&quot;: &quot;subFieldAValue&quot;,\r\n    &quot;subFieldB&quot;: &quot;subFieldBValue&quot;,\r\n    &quot;subFieldC&quot;: &quot;subFieldCValue&quot;,\r\n    &quot;subFieldD&quot;: &quot;subFieldDValue&quot;,\r\n    &quot;subFieldE&quot;: &quot;subFieldEValue&quot;\r\n  }\r\n]\r\n}\r\n```\r\n\r\nMy test method - \r\n\r\n```\r\n@Test\r\npublic void test_handleRequest() {\r\n   String testInput = \r\n       &quot;{\\&quot;fieldA\\&quot;:\\&quot;fieldAValue\\&quot;,\\&quot;fieldB\\&quot;:\\&quot;fieldBValue\\&quot;,+    \r\n       &quot;\\&quot;fieldC\\&quot;:\\&quot;fieldCValue\\&quot;,&quot; +\r\n       &quot;\\&quot;fieldList\\&quot;:[&quot; +\r\n       &quot;{\\&quot;subFieldA\\&quot;:\\&quot;subFieldAValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldB\\&quot;:\\&quot;subFieldBValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldC\\&quot;:\\&quot;subFieldCValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldD\\&quot;:\\&quot;subFieldDValue\\&quot;, &quot; +\r\n       &quot;\\&quot;subFieldE\\&quot;:\\&quot;subFieldEValue\\&quot;}]}&quot;;\r\n\r\n   handleRequest(testInput, null);\r\n\r\n   // code to assert that the actual and expected values are equal.\r\n   .\r\n   .\r\n   .\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nError when the test method is executed - \r\n\r\n```\r\nCannot construct instance of &#39;model.Request&#39; \r\n(although at least one Creator exists): no String-argument constructor/factory method to \r\ndeserialize from String value (&#39;{&quot;fieldA&quot;:&quot;fieldAValue&quot;,&quot;fieldB&quot;:&quot;fieldBValue&quot;, \r\n&quot;fieldC&quot;:&quot;fieldCValue&quot;,&quot;fieldList&quot;:[{&quot;subFieldA&quot;:&quot;subFieldAValue&quot;, \r\n&quot;subFieldB&quot;:&quot;subFieldBValue&quot;, &quot;subFieldC&quot;:&quot;subFieldCValue&quot;, \r\n&quot;subFieldD&quot;:&quot;subFieldDValue&quot;, &quot;subFieldE&quot;:&quot;subFieldEValue&quot;}]}&#39;) at [Source: (byte[])&quot;&quot;\r\n```\r\n\r\n\r\nThe test method is failing with the error that the given input string cannot be mapped to ```Request``` class. I got expected result when the AWS lambda is triggered with the same input via AWS console, so I&#39;m pretty sure that the code is perfectly fine.\r\n\r\n\r\nIs this the right way to build the ```testInput```? Any other alternative way to build ```testInput``` so that it can be correctly mapped to ```Request``` class when testing?\r\n\r\n","title":"Cannot construct instance of X (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value","body":"<p>I'm trying to test a method handleRequest() which is the handler code when an AWS lambda is triggered. The method is as follows:</p>\n<pre><code>@Override\npublic Response handleRequest(Object input, Context context) {\n   final Request request =     \n      OBJECT_MAPPER.readValue(OBJECT_MAPPER.writeValueAsBytes(input),Request.class);\n\n   // some code that uses request\n   .\n   .\n}\n</code></pre>\n<p>Input to AWS lambda function that is working fine when tested from AWS console -</p>\n<pre><code>{&quot;fieldA&quot;: &quot;fieldAValue&quot;,\n&quot;fieldB&quot;: &quot;fieldBValue&quot;,\n&quot;fieldC&quot;: &quot;fieldCValue&quot;,\n&quot;fieldList&quot;: [\n  {\n    &quot;subFieldA&quot;: &quot;subFieldAValue&quot;,\n    &quot;subFieldB&quot;: &quot;subFieldBValue&quot;,\n    &quot;subFieldC&quot;: &quot;subFieldCValue&quot;,\n    &quot;subFieldD&quot;: &quot;subFieldDValue&quot;,\n    &quot;subFieldE&quot;: &quot;subFieldEValue&quot;\n  }\n]\n}\n</code></pre>\n<p>My test method -</p>\n<pre><code>@Test\npublic void test_handleRequest() {\n   String testInput = \n       &quot;{\\&quot;fieldA\\&quot;:\\&quot;fieldAValue\\&quot;,\\&quot;fieldB\\&quot;:\\&quot;fieldBValue\\&quot;,+    \n       &quot;\\&quot;fieldC\\&quot;:\\&quot;fieldCValue\\&quot;,&quot; +\n       &quot;\\&quot;fieldList\\&quot;:[&quot; +\n       &quot;{\\&quot;subFieldA\\&quot;:\\&quot;subFieldAValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldB\\&quot;:\\&quot;subFieldBValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldC\\&quot;:\\&quot;subFieldCValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldD\\&quot;:\\&quot;subFieldDValue\\&quot;, &quot; +\n       &quot;\\&quot;subFieldE\\&quot;:\\&quot;subFieldEValue\\&quot;}]}&quot;;\n\n   handleRequest(testInput, null);\n\n   // code to assert that the actual and expected values are equal.\n   .\n   .\n   .\n}\n</code></pre>\n<p>Error when the test method is executed -</p>\n<pre><code>Cannot construct instance of 'model.Request' \n(although at least one Creator exists): no String-argument constructor/factory method to \ndeserialize from String value ('{&quot;fieldA&quot;:&quot;fieldAValue&quot;,&quot;fieldB&quot;:&quot;fieldBValue&quot;, \n&quot;fieldC&quot;:&quot;fieldCValue&quot;,&quot;fieldList&quot;:[{&quot;subFieldA&quot;:&quot;subFieldAValue&quot;, \n&quot;subFieldB&quot;:&quot;subFieldBValue&quot;, &quot;subFieldC&quot;:&quot;subFieldCValue&quot;, \n&quot;subFieldD&quot;:&quot;subFieldDValue&quot;, &quot;subFieldE&quot;:&quot;subFieldEValue&quot;}]}') at [Source: (byte[])&quot;&quot;\n</code></pre>\n<p>The test method is failing with the error that the given input string cannot be mapped to <code>Request</code> class. I got expected result when the AWS lambda is triggered with the same input via AWS console, so I'm pretty sure that the code is perfectly fine.</p>\n<p>Is this the right way to build the <code>testInput</code>? Any other alternative way to build <code>testInput</code> so that it can be correctly mapped to <code>Request</code> class when testing?</p>\n"},{"tags":["java","android","zxing"],"comments":[{"owner":{"account_id":1195619,"reputation":3630,"user_id":1167428,"accept_rate":93,"display_name":"lupz"},"score":0,"creation_date":1536848858,"post_id":49309732,"comment_id":91579113,"body_markdown":"Same question on my end... have you found a solution? A member variable for the activity would be a workaround but I really don&#39;t like it.","body":"Same question on my end... have you found a solution? A member variable for the activity would be a workaround but I really don&#39;t like it."},{"owner":{"account_id":294552,"reputation":34861,"user_id":598511,"accept_rate":91,"display_name":"Johan"},"score":1,"creation_date":1536849802,"post_id":49309732,"comment_id":91579769,"body_markdown":"@lupz No other solution that the one you mention I&#39;m afraid. Please let me know if you figure it out :)","body":"@lupz No other solution that the one you mention I&#39;m afraid. Please let me know if you figure it out :)"},{"owner":{"account_id":1195619,"reputation":3630,"user_id":1167428,"accept_rate":93,"display_name":"lupz"},"score":1,"creation_date":1536851084,"post_id":49309732,"comment_id":91580592,"body_markdown":"Thanks for the quick response! I&#39;ll stick with the member variable :( ... hm ... it shouldn&#39;t be to hard to add/implement a pass-through extra-key to xzing...","body":"Thanks for the quick response! I&#39;ll stick with the member variable :( ... hm ... it shouldn&#39;t be to hard to add/implement a pass-through extra-key to xzing..."}],"answers":[{"tags":[],"owner":{"account_id":26769462,"reputation":1,"user_id":20366100,"display_name":"tuxic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667052380,"creation_date":1667052380,"answer_id":74245973,"question_id":49309732,"body_markdown":"Someone on [reddit](https://www.reddit.com/r/androiddev/comments/ygg7ta/who_called_activityresultlauncherlaunch/?sort=new) told me to create a custom contract. That did the trick (but is not thread safe!):\r\n\r\n\r\n```java\r\npublic class ScanContract extends com.journeyapps.barcodescanner.ScanContract {\r\n\r\n    private String scope;\r\n\r\n    public void setScope(String scope) {\r\n        this.scope = scope;\r\n    }\r\n\r\n    @Override\r\n    public ScanIntentResult parseResult(int resultCode, @Nullable Intent intent) {\r\n        ScanIntentResult scanIntentResult = super.parseResult(resultCode, intent);\r\n        scanIntentResult.getOriginalIntent().putExtra(&quot;foo&quot;, scope);\r\n        scope = null;\r\n        return scanIntentResult;\r\n    }\r\n}\r\n```\r\n\r\nthe launch call:\r\n```java\r\n((ScanContract)barcodeLauncher.getContract()).setScope(&quot;bar&quot;);\r\n```\r\n\r\nreceiving the scope:\r\n\r\n```java\r\nString foo = result.getOriginalIntent().getStringExtra(&quot;foo&quot;);\r\n```\r\n\r\nOf course, this only(!) works if you don&#39;t launch the activity multiple times at the same time, as the Contract object is only instanciated once!\r\n\r\nOh, and also I am using the new API for getting activity results :)","title":"Pass extra data with zxing scanning intent","body":"<p>Someone on <a href=\"https://www.reddit.com/r/androiddev/comments/ygg7ta/who_called_activityresultlauncherlaunch/?sort=new\" rel=\"nofollow noreferrer\">reddit</a> told me to create a custom contract. That did the trick (but is not thread safe!):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScanContract extends com.journeyapps.barcodescanner.ScanContract {\n\n    private String scope;\n\n    public void setScope(String scope) {\n        this.scope = scope;\n    }\n\n    @Override\n    public ScanIntentResult parseResult(int resultCode, @Nullable Intent intent) {\n        ScanIntentResult scanIntentResult = super.parseResult(resultCode, intent);\n        scanIntentResult.getOriginalIntent().putExtra(&quot;foo&quot;, scope);\n        scope = null;\n        return scanIntentResult;\n    }\n}\n</code></pre>\n<p>the launch call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>((ScanContract)barcodeLauncher.getContract()).setScope(&quot;bar&quot;);\n</code></pre>\n<p>receiving the scope:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String foo = result.getOriginalIntent().getStringExtra(&quot;foo&quot;);\n</code></pre>\n<p>Of course, this only(!) works if you don't launch the activity multiple times at the same time, as the Contract object is only instanciated once!</p>\n<p>Oh, and also I am using the new API for getting activity results :)</p>\n"}],"owner":{"account_id":294552,"reputation":34861,"user_id":598511,"accept_rate":91,"display_name":"Johan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1105,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667052380,"creation_date":1521150172,"question_id":49309732,"body_markdown":"I&#39;m integrating a barcode scanner using https://github.com/zxing. I would like to pass some additional data - `uuid` below - along with the barcode.\r\n\r\nBoth `uuid1` and `uuid2` below yields `null`. WHat am I missing?\r\n\r\n    public void startScanner(String uuid){\r\n        IntentIntegrator integrator = new IntentIntegrator(this);\r\n\r\n        integrator.setDesiredBarcodeFormats(IntentIntegrator.PRODUCT_CODE_TYPES);\r\n        integrator.setPrompt(&quot;&quot;);\r\n        integrator.setCameraId(0);\r\n        integrator.setBeepEnabled(false);\r\n\r\n        Intent intent = integrator.createScanIntent();\r\n        intent.putExtra(&quot;uuid&quot;, uuid);\r\n\r\n        startActivityForResult(intent, IntentIntegrator.REQUEST_CODE);\r\n    }\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, Intent intent) \r\n    {\r\n        IntentResult scanResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, intent);\r\n        if (scanResult != null) {\r\n            String code = scanResult.getContents();\r\n            JSONObject json = new JSONObject();\r\n            try {\r\n                String uuid1 = intent.getStringExtra(&quot;uuid&quot;);\r\n                String uuid2 = intent.getExtras().getString(&quot;uuid&quot;);\r\n\r\n                json.put(&quot;uuid&quot;, uuid1);\r\n                json.put(&quot;barCode&quot;, code);\r\n                this.webViewManager.runScript(&quot;startScannerCallback&quot;, json);\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Pass extra data with zxing scanning intent","body":"<p>I'm integrating a barcode scanner using <a href=\"https://github.com/zxing\" rel=\"nofollow noreferrer\">https://github.com/zxing</a>. I would like to pass some additional data - <code>uuid</code> below - along with the barcode.</p>\n\n<p>Both <code>uuid1</code> and <code>uuid2</code> below yields <code>null</code>. WHat am I missing?</p>\n\n<pre><code>public void startScanner(String uuid){\n    IntentIntegrator integrator = new IntentIntegrator(this);\n\n    integrator.setDesiredBarcodeFormats(IntentIntegrator.PRODUCT_CODE_TYPES);\n    integrator.setPrompt(\"\");\n    integrator.setCameraId(0);\n    integrator.setBeepEnabled(false);\n\n    Intent intent = integrator.createScanIntent();\n    intent.putExtra(\"uuid\", uuid);\n\n    startActivityForResult(intent, IntentIntegrator.REQUEST_CODE);\n}\n\npublic void onActivityResult(int requestCode, int resultCode, Intent intent) \n{\n    IntentResult scanResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, intent);\n    if (scanResult != null) {\n        String code = scanResult.getContents();\n        JSONObject json = new JSONObject();\n        try {\n            String uuid1 = intent.getStringExtra(\"uuid\");\n            String uuid2 = intent.getExtras().getString(\"uuid\");\n\n            json.put(\"uuid\", uuid1);\n            json.put(\"barCode\", code);\n            this.webViewManager.runScript(\"startScannerCallback\", json);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mockmvc"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667048700,"post_id":74245300,"comment_id":131081033,"body_markdown":"Probably you have another (non-delete) mapping on `/api/wallet/`!(?) (..&quot;empty path variable&quot; is really not cool/corner-case..i would live with the 500/try to convert to something customized (e.g. by introducing `@DeleteMapping(&quot;&quot;)` ... which returns 400-404;)","body":"Probably you have another (non-delete) mapping on <code>&#47;api&#47;wallet&#47;</code>!(?) (..&quot;empty path variable&quot; is really not cool/corner-case..i would live with the 500/try to convert to something customized (e.g. by introducing <code>@DeleteMapping(&quot;&quot;)</code> ... which returns 400-404;)"}],"answers":[{"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667052355,"creation_date":1667052355,"answer_id":74245969,"question_id":74245300,"body_markdown":"The request path you are using in your test looks incorrect:\r\n\r\nYou should keep the URL template: `delete(&quot;/api/wallet/{id}&quot;, id)`\r\n`{id}` represents the &quot;placeholder&quot; where `id` will be inserted in the URL.\r\n\r\nSo, if you want to test a URL like `/api/wallet/0` you would just set `id` to `0`.\r\n\r\nThat should work with your test.\r\n\r\nTesting the &quot;empty&quot; ID is a different story:\r\n\r\nIf you pass an empty String to `{id}`, you are obviously calling `/api/wallet/` in the end. That&#39;s a different endpoint. Assuming that it might exist in your application, for instance as `GET /api/wallet`, the 500 Internal Server Error would be the expected response. Otherwise, it could also be 404 Not Found.","title":"Spring MockMvc - How to test delete request with empty ID of REST controller?","body":"<p>The request path you are using in your test looks incorrect:</p>\n<p>You should keep the URL template: <code>delete(&quot;/api/wallet/{id}&quot;, id)</code>\n<code>{id}</code> represents the &quot;placeholder&quot; where <code>id</code> will be inserted in the URL.</p>\n<p>So, if you want to test a URL like <code>/api/wallet/0</code> you would just set <code>id</code> to <code>0</code>.</p>\n<p>That should work with your test.</p>\n<p>Testing the &quot;empty&quot; ID is a different story:</p>\n<p>If you pass an empty String to <code>{id}</code>, you are obviously calling <code>/api/wallet/</code> in the end. That's a different endpoint. Assuming that it might exist in your application, for instance as <code>GET /api/wallet</code>, the 500 Internal Server Error would be the expected response. Otherwise, it could also be 404 Not Found.</p>\n"}],"owner":{"account_id":20338310,"reputation":21,"user_id":14918396,"display_name":"RobertoJavaDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667052355,"creation_date":1667046825,"question_id":74245300,"body_markdown":"I test my controller methods and I have a problem with a delete method. Here is my controller code:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;api/wallet&quot;)\r\n@RequiredArgsConstructor\r\n@Validated\r\npublic class WalletController {\r\n\r\n    private final WalletService walletService;\r\n\r\n@DeleteMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;WalletDTO&gt; deleteWalletById(@Valid @Min(1) @PathVariable Long id) {\r\n    walletService.deleteWalletById(id);\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;message&quot;, &quot;You have successfully completed the delete of a Wallet!&quot;);\r\n\r\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\r\n}\r\n\r\n```\r\nAnd my test:\r\n\r\n```\r\n@MockBean\r\nprivate WalletService walletService;\r\n\r\n@Autowired\r\nprivate MockMvc mockMvc;\r\n\r\n@Autowired\r\nprivate ObjectMapper objectMapper;\r\n\r\n@Test\r\nvoid shouldThrowAnExceptionWhenWalletIdIsEmpty() throws Exception {\r\n    //given\r\n    WalletDTO walletDTO = new WalletDTO(1L, &quot;Default&quot;, Instant.now());\r\n    String id = &quot;&quot;;\r\n\r\n    //when\r\n    ResultActions result = mockMvc.perform(delete(&quot;/api/wallet/{}&quot;,id)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(Objects.requireNonNull(objectMapper.writeValueAsString(walletDTO))));\r\n\r\n    //then\r\n    result.andExpect(status().isBadRequest());\r\n}\r\n```\r\nAnd I get status code 500 - Request method &#39;DELETE&#39; not supported.\r\nIn console log I get:\r\n```\r\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;DELETE&#39; not supported\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:253)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:442)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:383)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:125)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:67)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:498)\r\n\tat org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1261)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.getHandler(TestDispatcherServlet.java:122)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n```\r\n\r\n\r\nCan you tell me how to fix it?\r\nI would like to test delete method with the passing of the ID parameter in cases where:\r\n- ID is empty\r\n- ID is equals zero","title":"Spring MockMvc - How to test delete request with empty ID of REST controller?","body":"<p>I test my controller methods and I have a problem with a delete method. Here is my controller code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/wallet&quot;)\n@RequiredArgsConstructor\n@Validated\npublic class WalletController {\n\n    private final WalletService walletService;\n\n@DeleteMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;WalletDTO&gt; deleteWalletById(@Valid @Min(1) @PathVariable Long id) {\n    walletService.deleteWalletById(id);\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;message&quot;, &quot;You have successfully completed the delete of a Wallet!&quot;);\n\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\n}\n\n</code></pre>\n<p>And my test:</p>\n<pre><code>@MockBean\nprivate WalletService walletService;\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@Autowired\nprivate ObjectMapper objectMapper;\n\n@Test\nvoid shouldThrowAnExceptionWhenWalletIdIsEmpty() throws Exception {\n    //given\n    WalletDTO walletDTO = new WalletDTO(1L, &quot;Default&quot;, Instant.now());\n    String id = &quot;&quot;;\n\n    //when\n    ResultActions result = mockMvc.perform(delete(&quot;/api/wallet/{}&quot;,id)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(Objects.requireNonNull(objectMapper.writeValueAsString(walletDTO))));\n\n    //then\n    result.andExpect(status().isBadRequest());\n}\n</code></pre>\n<p>And I get status code 500 - Request method 'DELETE' not supported.\nIn console log I get:</p>\n<pre><code>org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' not supported\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:253)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:442)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:383)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:125)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:67)\n    at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:498)\n    at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1261)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.getHandler(TestDispatcherServlet.java:122)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n</code></pre>\n<p>Can you tell me how to fix it?\nI would like to test delete method with the passing of the ID parameter in cases where:</p>\n<ul>\n<li>ID is empty</li>\n<li>ID is equals zero</li>\n</ul>\n"},{"tags":["java","android","android-studio","android-fragments","button"],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667052128,"creation_date":1667052128,"answer_id":74245949,"question_id":74245890,"body_markdown":"It&#39;s because you are setting the `onClickListener` on a View that you throw away.\r\n\r\nHere is the binding (pay attetion to the `root`):\r\n\r\n    binding = FragmentWeightBinding.inflate(inflater, container, false);\r\n    View root = binding.getRoot();\r\n\r\nbut you are setting the listener on a button that is in:\r\n\r\n    View view = inflater.inflate(R.layout.fragment_weight, container, false);\r\n    addBtn = view.findViewById(R.id.addBtn);\r\n    addBtn.setOnClickListener(...);\r\n\r\nand at the end you `return root;`\r\n\r\nThe view that has the onClick listener is there, you create it but in the end it&#39;s thrown away.\r\n\r\nJust replace `view` with `binding` and it will work.\r\n\r\n    public View onCreateView(\r\n        @NonNull LayoutInflater inflater,\r\n        ViewGroup container, \r\n        Bundle savedInstanceState\r\n    ) {\r\n        WeightViewModel weightViewModel = new ViewModelProvider(this).get(WeightViewModel.class);\r\n\r\n        binding = FragmentWeightBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n        addBtn = binding.addBtn;\r\n        edtNumber = binding.edtNumber;\r\n        String weight = String.valueOf(edtNumber.getText());\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;&#39;Date\\n&#39;dd-MM-yyyy HH:mm:ss&quot;);\r\n        String currentDateAndTime = sdf.format(new Date());\r\n\r\n        addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(getActivity(),weight + currentDateAndTime, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        final TextView textView = binding.txtDate;\r\n        weightViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        return root;\r\n    }","title":"Android Studio Button onClick listener in Fragment","body":"<p>It's because you are setting the <code>onClickListener</code> on a View that you throw away.</p>\n<p>Here is the binding (pay attetion to the <code>root</code>):</p>\n<pre><code>binding = FragmentWeightBinding.inflate(inflater, container, false);\nView root = binding.getRoot();\n</code></pre>\n<p>but you are setting the listener on a button that is in:</p>\n<pre><code>View view = inflater.inflate(R.layout.fragment_weight, container, false);\naddBtn = view.findViewById(R.id.addBtn);\naddBtn.setOnClickListener(...);\n</code></pre>\n<p>and at the end you <code>return root;</code></p>\n<p>The view that has the onClick listener is there, you create it but in the end it's thrown away.</p>\n<p>Just replace <code>view</code> with <code>binding</code> and it will work.</p>\n<pre><code>public View onCreateView(\n    @NonNull LayoutInflater inflater,\n    ViewGroup container, \n    Bundle savedInstanceState\n) {\n    WeightViewModel weightViewModel = new ViewModelProvider(this).get(WeightViewModel.class);\n\n    binding = FragmentWeightBinding.inflate(inflater, container, false);\n    View root = binding.getRoot();\n    addBtn = binding.addBtn;\n    edtNumber = binding.edtNumber;\n    String weight = String.valueOf(edtNumber.getText());\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;'Date\\n'dd-MM-yyyy HH:mm:ss&quot;);\n    String currentDateAndTime = sdf.format(new Date());\n\n    addBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(getActivity(),weight + currentDateAndTime, Toast.LENGTH_SHORT).show();\n        }\n    });\n\n    final TextView textView = binding.txtDate;\n    weightViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n    return root;\n}\n</code></pre>\n"}],"owner":{"account_id":23488890,"reputation":23,"user_id":17540139,"display_name":"netti169"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245949,"answer_count":1,"score":0,"last_activity_date":1667052128,"creation_date":1667051541,"question_id":74245890,"body_markdown":"I&#39;m a newbie and i tried to learn the navigation drawer.\r\nI want to set a onClick listener on a button in Fragment but when i run the App, the button do nothing.\r\n\r\nthis is WeightFragment.java:\r\n`\r\n```\r\npublic class WeightFragment extends Fragment {\r\n\r\n    private FragmentWeightBinding binding;\r\n    private EditText edtNumber;\r\n    private Button addBtn;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        WeightViewModel weightViewModel =\r\n                new ViewModelProvider(this).get(WeightViewModel.class);\r\n\r\n        binding = FragmentWeightBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        View view = inflater.inflate(R.layout.fragment_weight, container, false);\r\n        addBtn = view.findViewById(R.id.addBtn);\r\n        edtNumber = view.findViewById(R.id.edtNumber);\r\n        String weight = String.valueOf(edtNumber.getText());\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;&#39;Date\\n&#39;dd-MM-yyyy HH:mm:ss&quot;);\r\n        String currentDateAndTime = sdf.format(new Date());\r\n\r\n        addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(getActivity(),weight + currentDateAndTime, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        final TextView textView = binding.txtDate;\r\n        weightViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve tried with:\r\n\r\n```\r\npublic class WeightFragment extends Fragment implements View.OnClickListener\r\n```\r\n\r\nand implement the method but it doesn&#39;t work anyway.\r\n","title":"Android Studio Button onClick listener in Fragment","body":"<p>I'm a newbie and i tried to learn the navigation drawer.\nI want to set a onClick listener on a button in Fragment but when i run the App, the button do nothing.</p>\n<p>this is WeightFragment.java:\n`</p>\n<pre><code>public class WeightFragment extends Fragment {\n\n    private FragmentWeightBinding binding;\n    private EditText edtNumber;\n    private Button addBtn;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        WeightViewModel weightViewModel =\n                new ViewModelProvider(this).get(WeightViewModel.class);\n\n        binding = FragmentWeightBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        View view = inflater.inflate(R.layout.fragment_weight, container, false);\n        addBtn = view.findViewById(R.id.addBtn);\n        edtNumber = view.findViewById(R.id.edtNumber);\n        String weight = String.valueOf(edtNumber.getText());\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;'Date\\n'dd-MM-yyyy HH:mm:ss&quot;);\n        String currentDateAndTime = sdf.format(new Date());\n\n        addBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(getActivity(),weight + currentDateAndTime, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        final TextView textView = binding.txtDate;\n        weightViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n\n</code></pre>\n<p>I've tried with:</p>\n<pre><code>public class WeightFragment extends Fragment implements View.OnClickListener\n</code></pre>\n<p>and implement the method but it doesn't work anyway.</p>\n"},{"tags":["java","protocol-buffers","grpc","grpc-java"],"comments":[{"owner":{"account_id":13135685,"reputation":91,"user_id":9488752,"display_name":"mtSiniChi"},"score":0,"creation_date":1586594437,"post_id":61133529,"comment_id":108187074,"body_markdown":"https://stackoverflow.com/questions/18836727/protocol-buffer-objects-generated-at-runtime","body":"<a href=\"https://stackoverflow.com/questions/18836727/protocol-buffer-objects-generated-at-runtime\" title=\"protocol buffer objects generated at runtime\">stackoverflow.com/questions/18836727/&hellip;</a>"},{"owner":{"account_id":13135685,"reputation":91,"user_id":9488752,"display_name":"mtSiniChi"},"score":0,"creation_date":1586596033,"post_id":61133529,"comment_id":108187522,"body_markdown":"https://groups.google.com/d/msg/protobuf/bWlJaaMmx4Q/kIYJ1-5YRb0J","body":"<a href=\"https://groups.google.com/d/msg/protobuf/bWlJaaMmx4Q/kIYJ1-5YRb0J\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/protobuf/bWlJaaMmx4Q/kIYJ1-5YRb0J</a>"},{"owner":{"account_id":13135685,"reputation":91,"user_id":9488752,"display_name":"mtSiniChi"},"score":0,"creation_date":1586792597,"post_id":61133529,"comment_id":108251193,"body_markdown":"https://stackoverflow.com/q/52368593/9488752","body":"<a href=\"https://stackoverflow.com/q/52368593/9488752\">stackoverflow.com/q/52368593/9488752</a>"}],"answers":[{"tags":[],"owner":{"account_id":14706775,"reputation":748,"user_id":10621243,"display_name":"creamsoup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586498947,"creation_date":1586498947,"answer_id":61134896,"question_id":61133529,"body_markdown":"technically both are possible. \r\n\r\nThe codegen is simply generating a handful of classes; mainly protobuf messages, grpc method descriptors and stubs. You can implement it or check in the generated code to bypass the codegen. i am not sure what is the benefit of doing this tbh. Also, it will be very annoying if the proto is changed.\r\n\r\nIt is also possible to do it dynamically using byte codegen as long as you check-in some interfaces/abstract classes to represent those generated stub/method descriptors and protobuf messages. you have to make sure those non dynamic code is in sync with the proto definition though (most likely runtime check/exception).\r\n","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>technically both are possible. </p>\n\n<p>The codegen is simply generating a handful of classes; mainly protobuf messages, grpc method descriptors and stubs. You can implement it or check in the generated code to bypass the codegen. i am not sure what is the benefit of doing this tbh. Also, it will be very annoying if the proto is changed.</p>\n\n<p>It is also possible to do it dynamically using byte codegen as long as you check-in some interfaces/abstract classes to represent those generated stub/method descriptors and protobuf messages. you have to make sure those non dynamic code is in sync with the proto definition though (most likely runtime check/exception).</p>\n"},{"tags":[],"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586506241,"creation_date":1586506241,"answer_id":61136354,"question_id":61133529,"body_markdown":"There isn&#39;t much to prevent this *technically*. The two big hurdles are:\r\n\r\n1. having a runtime-callable parser for reading the .proto, and\r\n2. having a general purpose gRPC client available that takes things like the service method name as literals\r\n\r\nBoth are possible, but neither is trivial.\r\n\r\nFor 1, the crude way would be to shell/invoke `protoc` using the descriptor-set option to generate a schema binary, then deserialize that as a `FileDescriptorSet` (from descriptor.proto); this model gives you access to how `protoc` sees the file. Some platforms also have native parsers (essentially reimplementing `protoc` as a library in that platform), for example [protobuf-net.Reflection](https://www.nuget.org/packages/protobuf-net.Reflection/) does this in .NET-land\r\n\r\nFor 2, [here&#39;s an implementation of that in C#](https://github.com/protobuf-net/protobuf-net.Grpc/blob/master/src/protobuf-net.Grpc/Client/GrpcClient.cs). The approach should be fairly portable to Java, even if the details vary. You can look at a generated implementation to see how it works in any particular language.\r\n\r\n(Sorry that the specific examples are C#/.NET, but that&#39;s where I live; the *approaches* should be portable, even if the specific code: not directly)","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>There isn't much to prevent this <em>technically</em>. The two big hurdles are:</p>\n\n<ol>\n<li>having a runtime-callable parser for reading the .proto, and</li>\n<li>having a general purpose gRPC client available that takes things like the service method name as literals</li>\n</ol>\n\n<p>Both are possible, but neither is trivial.</p>\n\n<p>For 1, the crude way would be to shell/invoke <code>protoc</code> using the descriptor-set option to generate a schema binary, then deserialize that as a <code>FileDescriptorSet</code> (from descriptor.proto); this model gives you access to how <code>protoc</code> sees the file. Some platforms also have native parsers (essentially reimplementing <code>protoc</code> as a library in that platform), for example <a href=\"https://www.nuget.org/packages/protobuf-net.Reflection/\" rel=\"nofollow noreferrer\">protobuf-net.Reflection</a> does this in .NET-land</p>\n\n<p>For 2, <a href=\"https://github.com/protobuf-net/protobuf-net.Grpc/blob/master/src/protobuf-net.Grpc/Client/GrpcClient.cs\" rel=\"nofollow noreferrer\">here's an implementation of that in C#</a>. The approach should be fairly portable to Java, even if the details vary. You can look at a generated implementation to see how it works in any particular language.</p>\n\n<p>(Sorry that the specific examples are C#/.NET, but that's where I live; the <em>approaches</em> should be portable, even if the specific code: not directly)</p>\n"},{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1660940208,"creation_date":1586536164,"answer_id":61144510,"question_id":61133529,"body_markdown":"Protobuf systems really need protoc to be run. However, the generated code could be skipped. Instead of passing something like `--java_out` and `--grpc_java_out` to protoc you can pass `--descriptor_set_out=FILE` which will parse the `.proto` file into a _descriptor_ file. A descriptor file is a [proto-encoded `FileDescriptorSet`](https://github.com/protocolbuffers/protobuf/blob/3be9322e28dfcacdb669f646f76fe833fa274107/src/google/protobuf/descriptor.proto#L57). This is the same basic format as used with the reflection service.\r\n\r\nOnce you have a descriptor, you can [load it a FileDescriptor at a time](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Descriptors.FileDescriptor.html#buildFrom-com.google.protobuf.DescriptorProtos.FileDescriptorProto-com.google.protobuf.Descriptors.FileDescriptor:A-) and [create a DynamicMessage](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/DynamicMessage.html#getDefaultInstance-com.google.protobuf.Descriptors.Descriptor-).\r\n\r\nThen for the gRPC piece, you need to create a gRPC MethodDescriptor. \r\n\r\n```java\r\nstatic MethodDescriptor from(\r\n  Descriptors.MethodDescriptor methodDesc\r\n) {\r\n  return MethodDescriptor.&lt;DynamicMessage, DynamicMessage&gt;newBuilder()\r\n    // UNKNOWN is fine, but the &quot;correct&quot; value can be computed from\r\n    // methodDesc.toProto().getClientStreaming()/getServerStreaming()\r\n    .setType(getMethodTypeFromDesc(methodDesc))\r\n    .setFullMethodName(MethodDescriptor.generateFullMethodName(\r\n        serviceDesc.getFullName(), methodDesc.getName()))\r\n    .setRequestMarshaller(ProtoUtils.marshaller(\r\n        DynamicMessage.getDefaultInstance(methodDesc.getInputType())))\r\n    .setResponseMarshaller(ProtoUtils.marshaller(\r\n        DynamicMessage.getDefaultInstance(methodDesc.getOutputType())))\r\n    .build();\r\n\r\nstatic MethodDescriptor.MethodType getMethodTypeFromDesc(\r\n  Descriptors.MethodDescriptor methodDesc\r\n) {\r\n  if (!methodDesc.isServerStreaming()\r\n    &amp;&amp; !methodDesc.isClientStreaming()) {\r\n    return MethodDescriptor.MethodType.UNARY;\r\n  } else if (methodDesc.isServerStreaming()\r\n        &amp;&amp; !methodDesc.isClientStreaming()) {\r\n    return MethodDescriptor.MethodType.SERVER_STREAMING;\r\n  } else if (!methodDesc.isServerStreaming()) {\r\n    return MethodDescriptor.MethodType.CLIENT_STREAMING);\r\n  } else {\r\n    return MethodDescriptor.MethodType.BIDI_STREAMING);\r\n  }\r\n}\r\n```\r\n\r\nAt that point you have everything you need and can call [`Channel.newCall(method, CallOptions.DEFAULT)`](https://grpc.github.io/grpc-java/javadoc/io/grpc/Channel.html#newCall-io.grpc.MethodDescriptor-io.grpc.CallOptions-) in gRPC. You&#39;re also free to use [`ClientCalls`](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ClientCalls.html) to use something more similar to the stub APIs.\r\n\r\nSo dynamic calls are definitely possible, and is used for things like [grpcurl](https://github.com/fullstorydev/grpcurl). But it also is not easy and so is generally only done when necessary.","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>Protobuf systems really need protoc to be run. However, the generated code could be skipped. Instead of passing something like <code>--java_out</code> and <code>--grpc_java_out</code> to protoc you can pass <code>--descriptor_set_out=FILE</code> which will parse the <code>.proto</code> file into a <em>descriptor</em> file. A descriptor file is a <a href=\"https://github.com/protocolbuffers/protobuf/blob/3be9322e28dfcacdb669f646f76fe833fa274107/src/google/protobuf/descriptor.proto#L57\" rel=\"noreferrer\">proto-encoded <code>FileDescriptorSet</code></a>. This is the same basic format as used with the reflection service.</p>\n<p>Once you have a descriptor, you can <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Descriptors.FileDescriptor.html#buildFrom-com.google.protobuf.DescriptorProtos.FileDescriptorProto-com.google.protobuf.Descriptors.FileDescriptor:A-\" rel=\"noreferrer\">load it a FileDescriptor at a time</a> and <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/DynamicMessage.html#getDefaultInstance-com.google.protobuf.Descriptors.Descriptor-\" rel=\"noreferrer\">create a DynamicMessage</a>.</p>\n<p>Then for the gRPC piece, you need to create a gRPC MethodDescriptor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static MethodDescriptor from(\n  Descriptors.MethodDescriptor methodDesc\n) {\n  return MethodDescriptor.&lt;DynamicMessage, DynamicMessage&gt;newBuilder()\n    // UNKNOWN is fine, but the &quot;correct&quot; value can be computed from\n    // methodDesc.toProto().getClientStreaming()/getServerStreaming()\n    .setType(getMethodTypeFromDesc(methodDesc))\n    .setFullMethodName(MethodDescriptor.generateFullMethodName(\n        serviceDesc.getFullName(), methodDesc.getName()))\n    .setRequestMarshaller(ProtoUtils.marshaller(\n        DynamicMessage.getDefaultInstance(methodDesc.getInputType())))\n    .setResponseMarshaller(ProtoUtils.marshaller(\n        DynamicMessage.getDefaultInstance(methodDesc.getOutputType())))\n    .build();\n\nstatic MethodDescriptor.MethodType getMethodTypeFromDesc(\n  Descriptors.MethodDescriptor methodDesc\n) {\n  if (!methodDesc.isServerStreaming()\n    &amp;&amp; !methodDesc.isClientStreaming()) {\n    return MethodDescriptor.MethodType.UNARY;\n  } else if (methodDesc.isServerStreaming()\n        &amp;&amp; !methodDesc.isClientStreaming()) {\n    return MethodDescriptor.MethodType.SERVER_STREAMING;\n  } else if (!methodDesc.isServerStreaming()) {\n    return MethodDescriptor.MethodType.CLIENT_STREAMING);\n  } else {\n    return MethodDescriptor.MethodType.BIDI_STREAMING);\n  }\n}\n</code></pre>\n<p>At that point you have everything you need and can call <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/Channel.html#newCall-io.grpc.MethodDescriptor-io.grpc.CallOptions-\" rel=\"noreferrer\"><code>Channel.newCall(method, CallOptions.DEFAULT)</code></a> in gRPC. You're also free to use <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/ClientCalls.html\" rel=\"noreferrer\"><code>ClientCalls</code></a> to use something more similar to the stub APIs.</p>\n<p>So dynamic calls are definitely possible, and is used for things like <a href=\"https://github.com/fullstorydev/grpcurl\" rel=\"noreferrer\">grpcurl</a>. But it also is not easy and so is generally only done when necessary.</p>\n"},{"tags":[],"owner":{"account_id":8368684,"reputation":747,"user_id":8360923,"display_name":"HelloWood"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610185837,"creation_date":1610185837,"answer_id":65641262,"question_id":61133529,"body_markdown":"I did it in Java, and the step is: \r\n1. Call reflection service to get `FileDescriptorProto` list by method name\r\n2. Get `FileDescriptor` of method from `FileDescriptorProto` list by package name, service name\r\n3. Get `MethodDescriptor` from `ServiceDescriptor` which get from the `FileDescriptor`\r\n4. Generate a `MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt;` by `MethodDescriptor`\r\n5. Build request `DynamicMessage` from content like JSON or others\r\n6. Call method \r\n7. Parse response content to JSON from `DynamicMessage` response\r\n\r\nYou can reference the full sample in project [helloworlde/grpc-java-sample#reflection](https://github.com/helloworlde/grpc-java-sample/blob/main/reflection/src/main/java/io/github/helloworlde/grpc/ReflectionCall.java)\r\n\r\n--- \r\n\r\nAnd proto is:\r\n\r\n```protobuf\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage io.github.helloworlde.grpc;\r\n\r\noption go_package = &quot;api;grpc_gateway&quot;;\r\noption java_package = &quot;io.github.helloworlde.grpc&quot;;\r\noption java_multiple_files = true;\r\noption java_outer_classname = &quot;HelloWorldGrpc&quot;;\r\n\r\nservice HelloService{\r\n  rpc SayHello(HelloMessage) returns (HelloResponse){\r\n  }\r\n}\r\n\r\nmessage HelloMessage {\r\n  string message = 2;\r\n}\r\n\r\nmessage HelloResponse {\r\n  string message = 1;\r\n}\r\n```\r\n\r\nStart server for this proto by yourself, and the full code in Java just like:\r\n\r\n```java\r\nimport com.google.protobuf.ByteString;\r\nimport com.google.protobuf.DescriptorProtos;\r\nimport com.google.protobuf.Descriptors;\r\nimport com.google.protobuf.DynamicMessage;\r\nimport com.google.protobuf.InvalidProtocolBufferException;\r\nimport com.google.protobuf.TypeRegistry;\r\nimport com.google.protobuf.util.JsonFormat;\r\nimport io.grpc.CallOptions;\r\nimport io.grpc.ManagedChannel;\r\nimport io.grpc.ManagedChannelBuilder;\r\nimport io.grpc.MethodDescriptor;\r\nimport io.grpc.protobuf.ProtoUtils;\r\nimport io.grpc.reflection.v1alpha.ServerReflectionGrpc;\r\nimport io.grpc.reflection.v1alpha.ServerReflectionRequest;\r\nimport io.grpc.reflection.v1alpha.ServerReflectionResponse;\r\nimport io.grpc.stub.ClientCalls;\r\nimport io.grpc.stub.StreamObserver;\r\nimport lombok.SneakyThrows;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.Collectors;\r\n\r\n@Slf4j\r\npublic class ReflectionCall {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        // 反射方法的格式只支持 package.service.method 或者 package.service\r\n        String methodSymbol = &quot;io.github.helloworlde.grpc.HelloService.SayHello&quot;;\r\n        String requestContent = &quot;{\\&quot;message\\&quot;: \\&quot;Reflection\\&quot;}&quot;;\r\n\r\n        // 构建 Channel\r\n        ManagedChannel channel = ManagedChannelBuilder.forAddress(&quot;127.0.0.1&quot;, 9090)\r\n                                                      .usePlaintext()\r\n                                                      .build();\r\n        // 使用 Channel 构建 BlockingStub\r\n        ServerReflectionGrpc.ServerReflectionStub reflectionStub = ServerReflectionGrpc.newStub(channel);\r\n        // 响应观察器\r\n        StreamObserver&lt;ServerReflectionResponse&gt; streamObserver = new StreamObserver&lt;ServerReflectionResponse&gt;() {\r\n            @Override\r\n            public void onNext(ServerReflectionResponse response) {\r\n                try {\r\n                    // 只需要关注文件描述类型的响应\r\n                    if (response.getMessageResponseCase() == ServerReflectionResponse.MessageResponseCase.FILE_DESCRIPTOR_RESPONSE) {\r\n                        List&lt;ByteString&gt; fileDescriptorProtoList = response.getFileDescriptorResponse().getFileDescriptorProtoList();\r\n                        handleResponse(fileDescriptorProtoList, channel, methodSymbol, requestContent);\r\n                    } else {\r\n                        log.warn(&quot;未知响应类型: &quot; + response.getMessageResponseCase());\r\n                    }\r\n                } catch (Exception e) {\r\n                    log.error(&quot;处理响应失败: {}&quot;, e.getMessage(), e);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable t) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCompleted() {\r\n                log.info(&quot;Complete&quot;);\r\n            }\r\n        };\r\n        // 请求观察器\r\n        StreamObserver&lt;ServerReflectionRequest&gt; requestStreamObserver = reflectionStub.serverReflectionInfo(streamObserver);\r\n\r\n        // 构建并发送获取方法文件描述请求\r\n        ServerReflectionRequest getFileContainingSymbolRequest = ServerReflectionRequest.newBuilder()\r\n                                                                                        .setFileContainingSymbol(methodSymbol)\r\n                                                                                        .build();\r\n        requestStreamObserver.onNext(getFileContainingSymbolRequest);\r\n        channel.awaitTermination(10, TimeUnit.SECONDS);\r\n    }\r\n\r\n    /**\r\n     * 处理响应\r\n     */\r\n    private static void handleResponse(List&lt;ByteString&gt; fileDescriptorProtoList,\r\n                                       ManagedChannel channel,\r\n                                       String methodFullName,\r\n                                       String requestContent) {\r\n        try {\r\n            // 解析方法和服务名称\r\n            String fullServiceName = extraPrefix(methodFullName);\r\n            String methodName = extraSuffix(methodFullName);\r\n            String packageName = extraPrefix(fullServiceName);\r\n            String serviceName = extraSuffix(fullServiceName);\r\n\r\n            // 根据响应解析 FileDescriptor\r\n            Descriptors.FileDescriptor fileDescriptor = getFileDescriptor(fileDescriptorProtoList, packageName, serviceName);\r\n\r\n            // 查找服务描述\r\n            Descriptors.ServiceDescriptor serviceDescriptor = fileDescriptor.getFile().findServiceByName(serviceName);\r\n            // 查找方法描述\r\n            Descriptors.MethodDescriptor methodDescriptor = serviceDescriptor.findMethodByName(methodName);\r\n\r\n            // 发起请求\r\n            executeCall(channel, fileDescriptor, methodDescriptor, requestContent);\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 解析并查找方法对应的文件描述\r\n     */\r\n    private static Descriptors.FileDescriptor getFileDescriptor(List&lt;ByteString&gt; fileDescriptorProtoList,\r\n                                                                String packageName,\r\n                                                                String serviceName) throws Exception {\r\n\r\n        Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; fileDescriptorProtoMap =\r\n                fileDescriptorProtoList.stream()\r\n                                       .map(bs -&gt; {\r\n                                           try {\r\n                                               return DescriptorProtos.FileDescriptorProto.parseFrom(bs);\r\n                                           } catch (InvalidProtocolBufferException e) {\r\n                                               e.printStackTrace();\r\n                                           }\r\n                                           return null;\r\n                                       })\r\n                                       .filter(Objects::nonNull)\r\n                                       .collect(Collectors.toMap(DescriptorProtos.FileDescriptorProto::getName, f -&gt; f));\r\n\r\n\r\n        if (fileDescriptorProtoMap.isEmpty()) {\r\n            log.error(&quot;服务不存在&quot;);\r\n            throw new IllegalArgumentException(&quot;方法的文件描述不存在&quot;);\r\n        }\r\n\r\n        // 查找服务对应的 Proto 描述\r\n        DescriptorProtos.FileDescriptorProto fileDescriptorProto = findServiceFileDescriptorProto(packageName, serviceName, fileDescriptorProtoMap);\r\n\r\n        // 获取这个 Proto 的依赖\r\n        Descriptors.FileDescriptor[] dependencies = getDependencies(fileDescriptorProto, fileDescriptorProtoMap);\r\n\r\n        // 生成 Proto 的 FileDescriptor\r\n        return Descriptors.FileDescriptor.buildFrom(fileDescriptorProto, dependencies);\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据包名和服务名查找相应的文件描述\r\n     */\r\n    private static DescriptorProtos.FileDescriptorProto findServiceFileDescriptorProto(String packageName,\r\n                                                                                       String serviceName,\r\n                                                                                       Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; fileDescriptorProtoMap) {\r\n        for (DescriptorProtos.FileDescriptorProto proto : fileDescriptorProtoMap.values()) {\r\n            if (proto.getPackage().equals(packageName)) {\r\n                boolean exist = proto.getServiceList()\r\n                                     .stream()\r\n                                     .anyMatch(s -&gt; serviceName.equals(s.getName()));\r\n                if (exist) {\r\n                    return proto;\r\n                }\r\n            }\r\n        }\r\n\r\n        throw new IllegalArgumentException(&quot;服务不存在&quot;);\r\n    }\r\n\r\n    /**\r\n     * 获取前缀\r\n     */\r\n    private static String extraPrefix(String content) {\r\n        int index = content.lastIndexOf(&quot;.&quot;);\r\n        return content.substring(0, index);\r\n    }\r\n\r\n    /**\r\n     * 获取后缀\r\n     */\r\n    private static String extraSuffix(String content) {\r\n        int index = content.lastIndexOf(&quot;.&quot;);\r\n        return content.substring(index + 1);\r\n    }\r\n\r\n    /**\r\n     * 获取依赖类型\r\n     */\r\n    private static Descriptors.FileDescriptor[] getDependencies(DescriptorProtos.FileDescriptorProto proto,\r\n                                                                Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; finalDescriptorProtoMap) {\r\n        return proto.getDependencyList()\r\n                    .stream()\r\n                    .map(finalDescriptorProtoMap::get)\r\n                    .map(f -&gt; toFileDescriptor(f, getDependencies(f, finalDescriptorProtoMap)))\r\n                    .toArray(Descriptors.FileDescriptor[]::new);\r\n    }\r\n\r\n    /**\r\n     * 将 FileDescriptorProto 转为 FileDescriptor\r\n     */\r\n    @SneakyThrows\r\n    private static Descriptors.FileDescriptor toFileDescriptor(DescriptorProtos.FileDescriptorProto fileDescriptorProto,\r\n                                                               Descriptors.FileDescriptor[] dependencies) {\r\n        return Descriptors.FileDescriptor.buildFrom(fileDescriptorProto, dependencies);\r\n    }\r\n\r\n\r\n    /**\r\n     * 执行方法调用\r\n     */\r\n    private static void executeCall(ManagedChannel channel,\r\n                                    Descriptors.FileDescriptor fileDescriptor,\r\n                                    Descriptors.MethodDescriptor originMethodDescriptor,\r\n                                    String requestContent) throws Exception {\r\n\r\n        // 重新生成 MethodDescriptor\r\n        MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt; methodDescriptor = generateMethodDescriptor(originMethodDescriptor);\r\n\r\n        CallOptions callOptions = CallOptions.DEFAULT;\r\n\r\n        TypeRegistry registry = TypeRegistry.newBuilder()\r\n                                            .add(fileDescriptor.getMessageTypes())\r\n                                            .build();\r\n\r\n        // 将请求内容由 JSON 字符串转为相应的类型\r\n        JsonFormat.Parser parser = JsonFormat.parser().usingTypeRegistry(registry);\r\n        DynamicMessage.Builder messageBuilder = DynamicMessage.newBuilder(originMethodDescriptor.getInputType());\r\n        parser.merge(requestContent, messageBuilder);\r\n        DynamicMessage requestMessage = messageBuilder.build();\r\n\r\n        // 调用，调用方式可以通过 originMethodDescriptor.isClientStreaming() 和 originMethodDescriptor.isServerStreaming() 推断\r\n        DynamicMessage response = ClientCalls.blockingUnaryCall(channel, methodDescriptor, callOptions, requestMessage);\r\n\r\n        // 将响应解析为 JSON 字符串\r\n        JsonFormat.Printer printer = JsonFormat.printer()\r\n                                               .usingTypeRegistry(registry)\r\n                                               .includingDefaultValueFields();\r\n        String responseContent = printer.print(response);\r\n\r\n        log.info(&quot;响应: {}&quot;, responseContent);\r\n    }\r\n\r\n    /**\r\n     * 重新生成方法描述\r\n     */\r\n    private static MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt; generateMethodDescriptor(Descriptors.MethodDescriptor originMethodDescriptor) {\r\n        // 生成方法全名\r\n        String fullMethodName = MethodDescriptor.generateFullMethodName(originMethodDescriptor.getService().getFullName(), originMethodDescriptor.getName());\r\n        // 请求和响应类型\r\n        MethodDescriptor.Marshaller&lt;DynamicMessage&gt; inputTypeMarshaller = ProtoUtils.marshaller(DynamicMessage.newBuilder(originMethodDescriptor.getInputType())\r\n                                                                                                              .buildPartial());\r\n        MethodDescriptor.Marshaller&lt;DynamicMessage&gt; outputTypeMarshaller = ProtoUtils.marshaller(DynamicMessage.newBuilder(originMethodDescriptor.getOutputType())\r\n                                                                                                               .buildPartial());\r\n\r\n        // 生成方法描述, originMethodDescriptor 的 fullMethodName 不正确\r\n        return MethodDescriptor.&lt;DynamicMessage, DynamicMessage&gt;newBuilder()\r\n                .setFullMethodName(fullMethodName)\r\n                .setRequestMarshaller(inputTypeMarshaller)\r\n                .setResponseMarshaller(outputTypeMarshaller)\r\n                // 使用 UNKNOWN，自动修改\r\n                .setType(MethodDescriptor.MethodType.UNKNOWN)\r\n                .build();\r\n    }\r\n}\r\n```","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>I did it in Java, and the step is:</p>\n<ol>\n<li>Call reflection service to get <code>FileDescriptorProto</code> list by method name</li>\n<li>Get <code>FileDescriptor</code> of method from <code>FileDescriptorProto</code> list by package name, service name</li>\n<li>Get <code>MethodDescriptor</code> from <code>ServiceDescriptor</code> which get from the <code>FileDescriptor</code></li>\n<li>Generate a <code>MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt;</code> by <code>MethodDescriptor</code></li>\n<li>Build request <code>DynamicMessage</code> from content like JSON or others</li>\n<li>Call method</li>\n<li>Parse response content to JSON from <code>DynamicMessage</code> response</li>\n</ol>\n<p>You can reference the full sample in project <a href=\"https://github.com/helloworlde/grpc-java-sample/blob/main/reflection/src/main/java/io/github/helloworlde/grpc/ReflectionCall.java\" rel=\"nofollow noreferrer\">helloworlde/grpc-java-sample#reflection</a></p>\n<hr />\n<p>And proto is:</p>\n<pre class=\"lang-proto prettyprint-override\"><code>syntax = &quot;proto3&quot;;\n\npackage io.github.helloworlde.grpc;\n\noption go_package = &quot;api;grpc_gateway&quot;;\noption java_package = &quot;io.github.helloworlde.grpc&quot;;\noption java_multiple_files = true;\noption java_outer_classname = &quot;HelloWorldGrpc&quot;;\n\nservice HelloService{\n  rpc SayHello(HelloMessage) returns (HelloResponse){\n  }\n}\n\nmessage HelloMessage {\n  string message = 2;\n}\n\nmessage HelloResponse {\n  string message = 1;\n}\n</code></pre>\n<p>Start server for this proto by yourself, and the full code in Java just like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.protobuf.ByteString;\nimport com.google.protobuf.DescriptorProtos;\nimport com.google.protobuf.Descriptors;\nimport com.google.protobuf.DynamicMessage;\nimport com.google.protobuf.InvalidProtocolBufferException;\nimport com.google.protobuf.TypeRegistry;\nimport com.google.protobuf.util.JsonFormat;\nimport io.grpc.CallOptions;\nimport io.grpc.ManagedChannel;\nimport io.grpc.ManagedChannelBuilder;\nimport io.grpc.MethodDescriptor;\nimport io.grpc.protobuf.ProtoUtils;\nimport io.grpc.reflection.v1alpha.ServerReflectionGrpc;\nimport io.grpc.reflection.v1alpha.ServerReflectionRequest;\nimport io.grpc.reflection.v1alpha.ServerReflectionResponse;\nimport io.grpc.stub.ClientCalls;\nimport io.grpc.stub.StreamObserver;\nimport lombok.SneakyThrows;\nimport lombok.extern.slf4j.Slf4j;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.Collectors;\n\n@Slf4j\npublic class ReflectionCall {\n\n    public static void main(String[] args) throws InterruptedException {\n        // 反射方法的格式只支持 package.service.method 或者 package.service\n        String methodSymbol = &quot;io.github.helloworlde.grpc.HelloService.SayHello&quot;;\n        String requestContent = &quot;{\\&quot;message\\&quot;: \\&quot;Reflection\\&quot;}&quot;;\n\n        // 构建 Channel\n        ManagedChannel channel = ManagedChannelBuilder.forAddress(&quot;127.0.0.1&quot;, 9090)\n                                                      .usePlaintext()\n                                                      .build();\n        // 使用 Channel 构建 BlockingStub\n        ServerReflectionGrpc.ServerReflectionStub reflectionStub = ServerReflectionGrpc.newStub(channel);\n        // 响应观察器\n        StreamObserver&lt;ServerReflectionResponse&gt; streamObserver = new StreamObserver&lt;ServerReflectionResponse&gt;() {\n            @Override\n            public void onNext(ServerReflectionResponse response) {\n                try {\n                    // 只需要关注文件描述类型的响应\n                    if (response.getMessageResponseCase() == ServerReflectionResponse.MessageResponseCase.FILE_DESCRIPTOR_RESPONSE) {\n                        List&lt;ByteString&gt; fileDescriptorProtoList = response.getFileDescriptorResponse().getFileDescriptorProtoList();\n                        handleResponse(fileDescriptorProtoList, channel, methodSymbol, requestContent);\n                    } else {\n                        log.warn(&quot;未知响应类型: &quot; + response.getMessageResponseCase());\n                    }\n                } catch (Exception e) {\n                    log.error(&quot;处理响应失败: {}&quot;, e.getMessage(), e);\n                }\n            }\n\n            @Override\n            public void onError(Throwable t) {\n\n            }\n\n            @Override\n            public void onCompleted() {\n                log.info(&quot;Complete&quot;);\n            }\n        };\n        // 请求观察器\n        StreamObserver&lt;ServerReflectionRequest&gt; requestStreamObserver = reflectionStub.serverReflectionInfo(streamObserver);\n\n        // 构建并发送获取方法文件描述请求\n        ServerReflectionRequest getFileContainingSymbolRequest = ServerReflectionRequest.newBuilder()\n                                                                                        .setFileContainingSymbol(methodSymbol)\n                                                                                        .build();\n        requestStreamObserver.onNext(getFileContainingSymbolRequest);\n        channel.awaitTermination(10, TimeUnit.SECONDS);\n    }\n\n    /**\n     * 处理响应\n     */\n    private static void handleResponse(List&lt;ByteString&gt; fileDescriptorProtoList,\n                                       ManagedChannel channel,\n                                       String methodFullName,\n                                       String requestContent) {\n        try {\n            // 解析方法和服务名称\n            String fullServiceName = extraPrefix(methodFullName);\n            String methodName = extraSuffix(methodFullName);\n            String packageName = extraPrefix(fullServiceName);\n            String serviceName = extraSuffix(fullServiceName);\n\n            // 根据响应解析 FileDescriptor\n            Descriptors.FileDescriptor fileDescriptor = getFileDescriptor(fileDescriptorProtoList, packageName, serviceName);\n\n            // 查找服务描述\n            Descriptors.ServiceDescriptor serviceDescriptor = fileDescriptor.getFile().findServiceByName(serviceName);\n            // 查找方法描述\n            Descriptors.MethodDescriptor methodDescriptor = serviceDescriptor.findMethodByName(methodName);\n\n            // 发起请求\n            executeCall(channel, fileDescriptor, methodDescriptor, requestContent);\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n        }\n    }\n\n    /**\n     * 解析并查找方法对应的文件描述\n     */\n    private static Descriptors.FileDescriptor getFileDescriptor(List&lt;ByteString&gt; fileDescriptorProtoList,\n                                                                String packageName,\n                                                                String serviceName) throws Exception {\n\n        Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; fileDescriptorProtoMap =\n                fileDescriptorProtoList.stream()\n                                       .map(bs -&gt; {\n                                           try {\n                                               return DescriptorProtos.FileDescriptorProto.parseFrom(bs);\n                                           } catch (InvalidProtocolBufferException e) {\n                                               e.printStackTrace();\n                                           }\n                                           return null;\n                                       })\n                                       .filter(Objects::nonNull)\n                                       .collect(Collectors.toMap(DescriptorProtos.FileDescriptorProto::getName, f -&gt; f));\n\n\n        if (fileDescriptorProtoMap.isEmpty()) {\n            log.error(&quot;服务不存在&quot;);\n            throw new IllegalArgumentException(&quot;方法的文件描述不存在&quot;);\n        }\n\n        // 查找服务对应的 Proto 描述\n        DescriptorProtos.FileDescriptorProto fileDescriptorProto = findServiceFileDescriptorProto(packageName, serviceName, fileDescriptorProtoMap);\n\n        // 获取这个 Proto 的依赖\n        Descriptors.FileDescriptor[] dependencies = getDependencies(fileDescriptorProto, fileDescriptorProtoMap);\n\n        // 生成 Proto 的 FileDescriptor\n        return Descriptors.FileDescriptor.buildFrom(fileDescriptorProto, dependencies);\n    }\n\n\n    /**\n     * 根据包名和服务名查找相应的文件描述\n     */\n    private static DescriptorProtos.FileDescriptorProto findServiceFileDescriptorProto(String packageName,\n                                                                                       String serviceName,\n                                                                                       Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; fileDescriptorProtoMap) {\n        for (DescriptorProtos.FileDescriptorProto proto : fileDescriptorProtoMap.values()) {\n            if (proto.getPackage().equals(packageName)) {\n                boolean exist = proto.getServiceList()\n                                     .stream()\n                                     .anyMatch(s -&gt; serviceName.equals(s.getName()));\n                if (exist) {\n                    return proto;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(&quot;服务不存在&quot;);\n    }\n\n    /**\n     * 获取前缀\n     */\n    private static String extraPrefix(String content) {\n        int index = content.lastIndexOf(&quot;.&quot;);\n        return content.substring(0, index);\n    }\n\n    /**\n     * 获取后缀\n     */\n    private static String extraSuffix(String content) {\n        int index = content.lastIndexOf(&quot;.&quot;);\n        return content.substring(index + 1);\n    }\n\n    /**\n     * 获取依赖类型\n     */\n    private static Descriptors.FileDescriptor[] getDependencies(DescriptorProtos.FileDescriptorProto proto,\n                                                                Map&lt;String, DescriptorProtos.FileDescriptorProto&gt; finalDescriptorProtoMap) {\n        return proto.getDependencyList()\n                    .stream()\n                    .map(finalDescriptorProtoMap::get)\n                    .map(f -&gt; toFileDescriptor(f, getDependencies(f, finalDescriptorProtoMap)))\n                    .toArray(Descriptors.FileDescriptor[]::new);\n    }\n\n    /**\n     * 将 FileDescriptorProto 转为 FileDescriptor\n     */\n    @SneakyThrows\n    private static Descriptors.FileDescriptor toFileDescriptor(DescriptorProtos.FileDescriptorProto fileDescriptorProto,\n                                                               Descriptors.FileDescriptor[] dependencies) {\n        return Descriptors.FileDescriptor.buildFrom(fileDescriptorProto, dependencies);\n    }\n\n\n    /**\n     * 执行方法调用\n     */\n    private static void executeCall(ManagedChannel channel,\n                                    Descriptors.FileDescriptor fileDescriptor,\n                                    Descriptors.MethodDescriptor originMethodDescriptor,\n                                    String requestContent) throws Exception {\n\n        // 重新生成 MethodDescriptor\n        MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt; methodDescriptor = generateMethodDescriptor(originMethodDescriptor);\n\n        CallOptions callOptions = CallOptions.DEFAULT;\n\n        TypeRegistry registry = TypeRegistry.newBuilder()\n                                            .add(fileDescriptor.getMessageTypes())\n                                            .build();\n\n        // 将请求内容由 JSON 字符串转为相应的类型\n        JsonFormat.Parser parser = JsonFormat.parser().usingTypeRegistry(registry);\n        DynamicMessage.Builder messageBuilder = DynamicMessage.newBuilder(originMethodDescriptor.getInputType());\n        parser.merge(requestContent, messageBuilder);\n        DynamicMessage requestMessage = messageBuilder.build();\n\n        // 调用，调用方式可以通过 originMethodDescriptor.isClientStreaming() 和 originMethodDescriptor.isServerStreaming() 推断\n        DynamicMessage response = ClientCalls.blockingUnaryCall(channel, methodDescriptor, callOptions, requestMessage);\n\n        // 将响应解析为 JSON 字符串\n        JsonFormat.Printer printer = JsonFormat.printer()\n                                               .usingTypeRegistry(registry)\n                                               .includingDefaultValueFields();\n        String responseContent = printer.print(response);\n\n        log.info(&quot;响应: {}&quot;, responseContent);\n    }\n\n    /**\n     * 重新生成方法描述\n     */\n    private static MethodDescriptor&lt;DynamicMessage, DynamicMessage&gt; generateMethodDescriptor(Descriptors.MethodDescriptor originMethodDescriptor) {\n        // 生成方法全名\n        String fullMethodName = MethodDescriptor.generateFullMethodName(originMethodDescriptor.getService().getFullName(), originMethodDescriptor.getName());\n        // 请求和响应类型\n        MethodDescriptor.Marshaller&lt;DynamicMessage&gt; inputTypeMarshaller = ProtoUtils.marshaller(DynamicMessage.newBuilder(originMethodDescriptor.getInputType())\n                                                                                                              .buildPartial());\n        MethodDescriptor.Marshaller&lt;DynamicMessage&gt; outputTypeMarshaller = ProtoUtils.marshaller(DynamicMessage.newBuilder(originMethodDescriptor.getOutputType())\n                                                                                                               .buildPartial());\n\n        // 生成方法描述, originMethodDescriptor 的 fullMethodName 不正确\n        return MethodDescriptor.&lt;DynamicMessage, DynamicMessage&gt;newBuilder()\n                .setFullMethodName(fullMethodName)\n                .setRequestMarshaller(inputTypeMarshaller)\n                .setResponseMarshaller(outputTypeMarshaller)\n                // 使用 UNKNOWN，自动修改\n                .setType(MethodDescriptor.MethodType.UNKNOWN)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13135685,"reputation":91,"user_id":9488752,"display_name":"mtSiniChi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10511,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1667052105,"creation_date":1586488759,"question_id":61133529,"body_markdown":"When working with gRPC, we need to generate the gRPC client and server interfaces from our .proto service definition via protocol buffer compiler (protoc) or using Gradle or Maven protoc build plugin.\r\n\r\n    Flow now: protobuf file -&gt; java code -&gt; gRPC client.\r\n\r\nSo, is there any way to skip this step?\r\n\r\nHow to create a generic gRPC client that can call the server directly from the protobuf file without compile into java code?\r\nOr, is there a way to Generated Code at runtime?\r\n\r\n    Flow expect: protobuf file -&gt; gRPC client.\r\n\r\nI want to build a generic gRPC client system with the input are protobuf files along with description of method, package, message request ... without having to compile again for each protobuf.\r\n\r\nThank you very much.","title":"How to create GRPC client directly from protobuf without compiling it into java code","body":"<p>When working with gRPC, we need to generate the gRPC client and server interfaces from our .proto service definition via protocol buffer compiler (protoc) or using Gradle or Maven protoc build plugin.</p>\n<pre><code>Flow now: protobuf file -&gt; java code -&gt; gRPC client.\n</code></pre>\n<p>So, is there any way to skip this step?</p>\n<p>How to create a generic gRPC client that can call the server directly from the protobuf file without compile into java code?\nOr, is there a way to Generated Code at runtime?</p>\n<pre><code>Flow expect: protobuf file -&gt; gRPC client.\n</code></pre>\n<p>I want to build a generic gRPC client system with the input are protobuf files along with description of method, package, message request ... without having to compile again for each protobuf.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","android","gradle","admob"],"answers":[{"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667052086,"creation_date":1667052086,"answer_id":74245944,"question_id":74241996,"body_markdown":"Firstly you have added \r\n\r\n     apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nat the wrong place, it must be in the block of plugins at the top where your \r\n\r\n\r\n    id &#39;com.android.application&#39;\r\n\r\nis place. \r\n\r\nNext thing I&#39;ll suggest you have a detailed look over the documentation everything is well explained in the documentation \r\n\r\nhttps://developers.google.com/admob/android/quick-start\r\n","title":"How To Solve Admob Ads Dependency Problem In Android Studio","body":"<p>Firstly you have added</p>\n<pre><code> apply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>at the wrong place, it must be in the block of plugins at the top where your</p>\n<pre><code>id 'com.android.application'\n</code></pre>\n<p>is place.</p>\n<p>Next thing I'll suggest you have a detailed look over the documentation everything is well explained in the documentation</p>\n<p><a href=\"https://developers.google.com/admob/android/quick-start\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/android/quick-start</a></p>\n"}],"owner":{"account_id":17083164,"reputation":48,"user_id":12361104,"display_name":"Neldison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667052086,"creation_date":1667002461,"question_id":74241996,"body_markdown":"For days now I have been trying to integrate admob ads in my app but all my efforts were in vain. the project work fine without admob dependency. the build stops at `app:mergeExtDexDebug` and displays series of error messages in the logcat that i don&#39;t even understand. I have search online to know if I will see any similar problem but none of the solutions provided work for me. I will be very much happy if anybody can help me.\r\n\r\n**WHAT I HAVE DONE**\r\n\r\n**1:** I have upgraded my gradle plugin\r\n\r\n**2:** I have clean build my project\r\n\r\nI have done these two things but the error persist. I will be happy if someone can help me solve this problem.\r\n\r\n**Android Studio setup is as below**\r\n\r\n```\r\nclasspath &#39;com.android.tools.build:gradle:3.4.3&#39; //change from 3.4.0 to 3.4.3\r\nclasspath &#39;com.google.gms:google-services:4.0.1&#39; // firebase classPath\r\n```\r\n\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-all.zip // from gradle-wrapper\r\n```\r\n\r\n\r\n```\r\nandroid{\r\n\r\n    compileSdkVersion 28\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.example.project&quot;\r\n        minSdkVersion 22\r\n        targetSdkVersion 28\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n```\r\n\r\n**Dependencies**\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:11.8.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:11.8.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:11.8.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-database:3.2.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:11.8.0&#39;\r\n    //implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    //implementation &#39;com.firebaseui:firebase-ui-auth:7.2.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.github.rey5137:material:1.2.5&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.viewpager2:viewpager2:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n    implementation &#39;io.paperdb:paperdb:2.6&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n    implementation &#39;com.theartofdev.edmodo:android-image-cropper:2.8.0&#39;\r\n    implementation &#39;com.cepheuen.elegant-number-button:lib:1.0.2&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;com.pierfrancescosoffritti.androidyoutubeplayer:core:10.0.3&#39;\r\n    implementation files(&#39;libs/YouTubeAndroidPlayerApi.jar&#39;)\r\n    //implementation &#39;com.google.firebase:firebase-analytics:17.3.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39; // for admob ads\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.1.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.0&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\n**Logcat Error Messages**\r\n```\r\norg.gradle.execution.MultipleBuildFailures: Build completed with 1 failures.\r\n\tat org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:386)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:247)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:159)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:134)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:58)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:55)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:82)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:75)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)\r\n\tat org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:75)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:55)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:55)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:58)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:49)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:46)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeExtDexDebug&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:67)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\r\n\t... 6 more\r\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1175)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$2100(DefaultConfiguration.java:135)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1150)\r\n\tat org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:72)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext$FileTreeConverter.convertInto(DefaultFileCollectionResolveContext.java:209)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:114)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileTrees(DefaultFileCollectionResolveContext.java:85)\r\n\tat org.gradle.api.internal.file.AbstractFileCollection$2.visitContents(AbstractFileCollection.java:171)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection.getSourceCollections(CompositeFileCollection.java:191)\r\n\tat org.gradle.api.internal.file.CompositeFileTree.getSourceCollections(CompositeFileTree.java:39)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection$2.visitContents(CompositeFileCollection.java:150)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveNested(DefaultFileCollectionResolveContext.java:144)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:112)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileCollections(DefaultFileCollectionResolveContext.java:92)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext$FileCollectionConverter.convertInto(DefaultFileCollectionResolveContext.java:164)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:109)\r\n\tat org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileCollections(DefaultFileCollectionResolveContext.java:92)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection.getSourceCollections(CompositeFileCollection.java:192)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection.visitLeafCollections(CompositeFileCollection.java:204)\r\n\tat org.gradle.internal.snapshot.impl.DefaultFileSystemSnapshotter.snapshot(DefaultFileSystemSnapshotter.java:126)\r\n\tat org.gradle.internal.fingerprint.impl.AbstractFileCollectionFingerprinter.fingerprint(AbstractFileCollectionFingerprinter.java:47)\r\n\tat org.gradle.internal.fingerprint.impl.AbstractPathOnlyFileCollectionFingerprinter.fingerprint(AbstractPathOnlyFileCollectionFingerprinter.java:36)\r\n\tat org.gradle.api.internal.changedetection.changes.TaskFingerprintUtil.fingerprintTaskFiles(TaskFingerprintUtil.java:82)\r\n\tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.createExecution(CacheBackedTaskHistoryRepository.java:123)\r\n\tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.access$100(CacheBackedTaskHistoryRepository.java:46)\r\n\tat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1.getBeforeExecutionState(CacheBackedTaskHistoryRepository.java:86)\r\n\tat org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.getExecutionStateChanges(DefaultTaskArtifactStateRepository.java:189)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.getChangesSincePreviousExecution(ExecuteActionsTaskExecuter.java:182)\r\n\tat org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\r\n\tat org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\r\n\tat org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:91)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:119)\r\n\tat org.gradle.api.internal.tasks.execution.ResolvePreviousStateExecuter.execute(ResolvePreviousStateExecuter.java:43)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:94)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\t... 25 more\r\nCaused by: org.gradle.api.artifacts.transform.ArtifactTransformException: Failed to transform artifact &#39;core.aar (androidx.core:core:1.6.0)&#39; to match attributes {artifactType=android-dex, dexing-is-debuggable=true, dexing-min-sdk=22}\r\n\tat org.gradle.api.internal.artifacts.transform.TransformingArtifactVisitor.visitArtifact(TransformingArtifactVisitor.java:53)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$SingleArtifactSet.visit(ArtifactBackedResolvedVariant.java:112)\r\n\tat org.gradle.api.internal.artifacts.transform.TransformCompletion.visit(TransformCompletion.java:42)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.CompositeResolvedArtifactSet$CompositeResult.visit(CompositeResolvedArtifactSet.java:83)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet.visit(ParallelResolveArtifactSet.java:64)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifacts(DefaultLenientConfiguration.java:256)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$500(DefaultLenientConfiguration.java:69)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$2.run(DefaultLenientConfiguration.java:231)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifactsWithBuildOperation(DefaultLenientConfiguration.java:228)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$200(DefaultLenientConfiguration.java:69)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$1.visitArtifacts(DefaultLenientConfiguration.java:133)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1147)\r\n\t... 64 more\r\nCaused by: org.gradle.internal.execution.ExecutionException: Execution failed for DexingTransform: C:\\Users\\Name\\.gradle\\caches\\transforms-2\\files-2.1\\789a8d5fd3984ecc130fdf5c38d59598\\jetified-classes.jar.\r\n\tat org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:35)\r\n\tat org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\r\n\tat org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:43)\r\n\tat org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:29)\r\n\tat org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:134)\r\n\tat org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$3(CacheStep.java:83)\r\n\tat java.util.Optional.orElseGet(Optional.java:267)","title":"How To Solve Admob Ads Dependency Problem In Android Studio","body":"<p>For days now I have been trying to integrate admob ads in my app but all my efforts were in vain. the project work fine without admob dependency. the build stops at <code>app:mergeExtDexDebug</code> and displays series of error messages in the logcat that i don't even understand. I have search online to know if I will see any similar problem but none of the solutions provided work for me. I will be very much happy if anybody can help me.</p>\n<p><strong>WHAT I HAVE DONE</strong></p>\n<p><strong>1:</strong> I have upgraded my gradle plugin</p>\n<p><strong>2:</strong> I have clean build my project</p>\n<p>I have done these two things but the error persist. I will be happy if someone can help me solve this problem.</p>\n<p><strong>Android Studio setup is as below</strong></p>\n<pre><code>classpath 'com.android.tools.build:gradle:3.4.3' //change from 3.4.0 to 3.4.3\nclasspath 'com.google.gms:google-services:4.0.1' // firebase classPath\n</code></pre>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.1.1-all.zip // from gradle-wrapper\n</code></pre>\n<pre><code>android{\n\n    compileSdkVersion 28\n    buildToolsVersion &quot;30.0.2&quot;\n    defaultConfig {\n        applicationId &quot;com.example.project&quot;\n        minSdkVersion 22\n        targetSdkVersion 28\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    }\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>dependencies {\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-core:11.8.0'\n    implementation 'com.google.firebase:firebase-database:11.8.0'\n    implementation 'com.google.firebase:firebase-storage:11.8.0'\n    implementation 'com.firebaseui:firebase-ui-database:3.2.2'\n    implementation 'com.google.firebase:firebase-auth:11.8.0'\n    //implementation 'com.google.android.material:material:1.4.0'\n    //implementation 'com.firebaseui:firebase-ui-auth:7.2.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.github.rey5137:material:1.2.5'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.viewpager2:viewpager2:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'io.paperdb:paperdb:2.6'\n    implementation 'de.hdodenhof:circleimageview:2.2.0'\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.8.0'\n    implementation 'com.cepheuen.elegant-number-button:lib:1.0.2'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.pierfrancescosoffritti.androidyoutubeplayer:core:10.0.3'\n    implementation files('libs/YouTubeAndroidPlayerApi.jar')\n    //implementation 'com.google.firebase:firebase-analytics:17.3.0'\n    implementation 'com.google.android.gms:play-services-ads:20.5.0' // for admob ads\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\n    }\n    apply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p><strong>Logcat Error Messages</strong></p>\n<pre><code>org.gradle.execution.MultipleBuildFailures: Build completed with 1 failures.\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:386)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:247)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:159)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:134)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:58)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:55)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:82)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:75)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:55)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:55)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:58)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:46)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeExtDexDebug'.\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:67)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n    ... 6 more\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1175)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$2100(DefaultConfiguration.java:135)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1150)\n    at org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:72)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext$FileTreeConverter.convertInto(DefaultFileCollectionResolveContext.java:209)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:114)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileTrees(DefaultFileCollectionResolveContext.java:85)\n    at org.gradle.api.internal.file.AbstractFileCollection$2.visitContents(AbstractFileCollection.java:171)\n    at org.gradle.api.internal.file.CompositeFileCollection.getSourceCollections(CompositeFileCollection.java:191)\n    at org.gradle.api.internal.file.CompositeFileTree.getSourceCollections(CompositeFileTree.java:39)\n    at org.gradle.api.internal.file.CompositeFileCollection$2.visitContents(CompositeFileCollection.java:150)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveNested(DefaultFileCollectionResolveContext.java:144)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:112)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileCollections(DefaultFileCollectionResolveContext.java:92)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext$FileCollectionConverter.convertInto(DefaultFileCollectionResolveContext.java:164)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.doResolve(DefaultFileCollectionResolveContext.java:109)\n    at org.gradle.api.internal.file.collections.DefaultFileCollectionResolveContext.resolveAsFileCollections(DefaultFileCollectionResolveContext.java:92)\n    at org.gradle.api.internal.file.CompositeFileCollection.getSourceCollections(CompositeFileCollection.java:192)\n    at org.gradle.api.internal.file.CompositeFileCollection.visitLeafCollections(CompositeFileCollection.java:204)\n    at org.gradle.internal.snapshot.impl.DefaultFileSystemSnapshotter.snapshot(DefaultFileSystemSnapshotter.java:126)\n    at org.gradle.internal.fingerprint.impl.AbstractFileCollectionFingerprinter.fingerprint(AbstractFileCollectionFingerprinter.java:47)\n    at org.gradle.internal.fingerprint.impl.AbstractPathOnlyFileCollectionFingerprinter.fingerprint(AbstractPathOnlyFileCollectionFingerprinter.java:36)\n    at org.gradle.api.internal.changedetection.changes.TaskFingerprintUtil.fingerprintTaskFiles(TaskFingerprintUtil.java:82)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.createExecution(CacheBackedTaskHistoryRepository.java:123)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository.access$100(CacheBackedTaskHistoryRepository.java:46)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1.getBeforeExecutionState(CacheBackedTaskHistoryRepository.java:86)\n    at org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.getExecutionStateChanges(DefaultTaskArtifactStateRepository.java:189)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.getChangesSincePreviousExecution(ExecuteActionsTaskExecuter.java:182)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:119)\n    at org.gradle.api.internal.tasks.execution.ResolvePreviousStateExecuter.execute(ResolvePreviousStateExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:93)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:45)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:94)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    ... 25 more\nCaused by: org.gradle.api.artifacts.transform.ArtifactTransformException: Failed to transform artifact 'core.aar (androidx.core:core:1.6.0)' to match attributes {artifactType=android-dex, dexing-is-debuggable=true, dexing-min-sdk=22}\n    at org.gradle.api.internal.artifacts.transform.TransformingArtifactVisitor.visitArtifact(TransformingArtifactVisitor.java:53)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ArtifactBackedResolvedVariant$SingleArtifactSet.visit(ArtifactBackedResolvedVariant.java:112)\n    at org.gradle.api.internal.artifacts.transform.TransformCompletion.visit(TransformCompletion.java:42)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.CompositeResolvedArtifactSet$CompositeResult.visit(CompositeResolvedArtifactSet.java:83)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet.visit(ParallelResolveArtifactSet.java:64)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifacts(DefaultLenientConfiguration.java:256)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$500(DefaultLenientConfiguration.java:69)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$2.run(DefaultLenientConfiguration.java:231)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.visitArtifactsWithBuildOperation(DefaultLenientConfiguration.java:228)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.access$200(DefaultLenientConfiguration.java:69)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$1.visitArtifacts(DefaultLenientConfiguration.java:133)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1147)\n    ... 64 more\nCaused by: org.gradle.internal.execution.ExecutionException: Execution failed for DexingTransform: C:\\Users\\Name\\.gradle\\caches\\transforms-2\\files-2.1\\789a8d5fd3984ecc130fdf5c38d59598\\jetified-classes.jar.\n    at org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:35)\n    at org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:43)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:29)\n    at org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:134)\n    at org.gradle.internal.execution.impl.steps.CacheStep.lambda$execute$3(CacheStep.java:83)\n    at java.util.Optional.orElseGet(Optional.java:267)\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1667024545,"post_id":74242779,"comment_id":131077326,"body_markdown":"RecyclerView does supports [ConcateAdapter](https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a) . AFAIK `ListView` does not .","body":"RecyclerView does supports <a href=\"https://medium.com/androiddevelopers/merge-adapters-sequentially-with-mergeadapter-294d2942127a\" rel=\"nofollow noreferrer\">ConcateAdapter</a> . AFAIK <code>ListView</code> does not ."}],"answers":[{"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667051336,"creation_date":1667051268,"answer_id":74245855,"question_id":74242779,"body_markdown":"One thing you can do is, you can create two view Holders in one adapter.\r\nBy doing so you can Implement different logic for different view holders and it will be more easier and accurate.\r\n\r\n(Preferred to use RecyclerView)","title":"Add two different adapters to one listView in java","body":"<p>One thing you can do is, you can create two view Holders in one adapter.\nBy doing so you can Implement different logic for different view holders and it will be more easier and accurate.</p>\n<p>(Preferred to use RecyclerView)</p>\n"}],"owner":{"account_id":18139105,"reputation":85,"user_id":13193196,"display_name":"nim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667051336,"creation_date":1667016740,"question_id":74242779,"body_markdown":"I want to join two adapter into a one list view in a single page.\r\n\r\n```\r\nLoanApplicationAdapter adapter = new LoanApplicationAdapter(this, R.layout.item_loan, customerLoanApplicationList);\r\n```\r\n```\r\nLoanAdapter adapter = new LoanAdapter(this, R.layout.item_loan,customerLoanList);\r\n        binding.listLoan.setAdapter(adapter);\r\n\r\n```\r\nabove customerLoanApplicationList and customerLanList want to show in a one List view in my android application.Can you tell how can I do it.","title":"Add two different adapters to one listView in java","body":"<p>I want to join two adapter into a one list view in a single page.</p>\n<pre><code>LoanApplicationAdapter adapter = new LoanApplicationAdapter(this, R.layout.item_loan, customerLoanApplicationList);\n</code></pre>\n<pre><code>LoanAdapter adapter = new LoanAdapter(this, R.layout.item_loan,customerLoanList);\n        binding.listLoan.setAdapter(adapter);\n\n</code></pre>\n<p>above customerLoanApplicationList and customerLanList want to show in a one List view in my android application.Can you tell how can I do it.</p>\n"},{"tags":["java","spring-boot","api","rest"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667045774,"post_id":74245131,"comment_id":131080450,"body_markdown":"Can you please share your project folder structure?","body":"Can you please share your project folder structure?"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":1,"creation_date":1667047219,"post_id":74245131,"comment_id":131080707,"body_markdown":"I have added the folder structure","body":"I have added the folder structure"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667047612,"post_id":74245131,"comment_id":131080799,"body_markdown":"What are you trying with `@ComponentScan(&quot;com/ajavacode/HNGBackendStage1/api.profile&quot;)`?","body":"What are you trying with <code>@ComponentScan(&quot;com&#47;ajavacode&#47;HNGBackendStage1&#47;api.profile&quot;)</code>&zwnj;&#8203;?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667047759,"post_id":74245131,"comment_id":131080834,"body_markdown":"@PlusUltra - Thanks for sharing folder structure, ComponentScan annotation value is incorrect. please fix it as per my answer.","body":"@PlusUltra - Thanks for sharing folder structure, ComponentScan annotation value is incorrect. please fix it as per my answer."}],"answers":[{"tags":[],"owner":{"account_id":19205336,"reputation":63,"user_id":14032341,"display_name":"xynb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667046818,"creation_date":1667046818,"answer_id":74245298,"question_id":74245131,"body_markdown":"You have to check some items in your code;\r\n\r\n 1. Make sure the endpoint you are sending request , is correct .\r\n 2. Add @RequestMapping(&quot;Profile&quot;) to the controller to avoid repeated endpoint and reduce the ambiguity\r\n 3. Make sure your pom is correct","title":"Springboot Get Api Endpoint returns 404 not found","body":"<p>You have to check some items in your code;</p>\n<ol>\n<li>Make sure the endpoint you are sending request , is correct .</li>\n<li>Add @RequestMapping(&quot;Profile&quot;) to the controller to avoid repeated endpoint and reduce the ambiguity</li>\n<li>Make sure your pom is correct</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667049681,"creation_date":1667047623,"answer_id":74245397,"question_id":74245131,"body_markdown":"Please fix the value in ```@ComponentScan``` annotation like this and try again.\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = &quot;com.ajavacode.HNGBackendStage1&quot;)\r\npublic class HngBackendStage1Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(HngBackendStage1Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlso there is an issue in ```ProfileController``` class, you are auto wiring ```Profile``` class inside it. Profile class is not a bean so this is incorrect and userInfo() method is private, it should be public. Here is the fixed version.\r\n\r\n```\r\n@RestController\r\npublic class ProfileController {\r\n\r\n\r\n    @GetMapping(path = &quot;/profile&quot;)\r\n    public ResponseEntity&lt;String&gt; userInfo(){\r\n        Profile profile=new Profile();\r\n        profile.setSlackUsername(&quot;Ajava&quot;);\r\n        profile.setBackend(true);\r\n        profile.setAge(00);\r\n        profile.setBio(&quot;My name is Anakhe Ajayi, I&#39;m learning Java everyday and I love Jesus&quot;);\r\n        return ResponseEntity.ok(profile.toString());\r\n    }\r\n```","title":"Springboot Get Api Endpoint returns 404 not found","body":"<p>Please fix the value in <code>@ComponentScan</code> annotation like this and try again.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.ajavacode.HNGBackendStage1&quot;)\npublic class HngBackendStage1Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HngBackendStage1Application.class, args);\n    }\n\n}\n</code></pre>\n<p>Also there is an issue in <code>ProfileController</code> class, you are auto wiring <code>Profile</code> class inside it. Profile class is not a bean so this is incorrect and userInfo() method is private, it should be public. Here is the fixed version.</p>\n<pre><code>@RestController\npublic class ProfileController {\n\n\n    @GetMapping(path = &quot;/profile&quot;)\n    public ResponseEntity&lt;String&gt; userInfo(){\n        Profile profile=new Profile();\n        profile.setSlackUsername(&quot;Ajava&quot;);\n        profile.setBackend(true);\n        profile.setAge(00);\n        profile.setBio(&quot;My name is Anakhe Ajayi, I'm learning Java everyday and I love Jesus&quot;);\n        return ResponseEntity.ok(profile.toString());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667051289,"creation_date":1667051289,"answer_id":74245860,"question_id":74245131,"body_markdown":"Looking at your code, there are a few things to mention.\r\n\r\nFirst of all, your package structure looks good (besides the fact that I, personally, would keep everything lowercase).\r\n\r\nWith the package structure that you have in place, you actually don&#39;t need any `@ComponentScan` annotation at all. The annotation `@SpringBootApplication` at your main class by default scans for components with the package of that class as the base package. So you only need to set something if you want to explicitly scan for components in some other package, e.g., either at a higher level or if you want to skip packages in the hierarchy.\r\n\r\nNext thing is the controller. Question here is: What do you actually want to achieve?\r\n\r\nI assume that you want to build an application that provides a `GET /profile` endpoint that returns a response object like the example below:\r\n\r\n```json\r\n{\r\n\r\n  &quot;slackUsername&quot;: &quot;alice&quot;,\r\n  &quot;backend&quot;: false,\r\n  &quot;age&quot;: 42,\r\n  &quot;bio&quot;: &quot;I&#39;m just an example&quot;\r\n}\r\n```\r\n\r\nIf my understanding is correct, there is at least one thing that is a bit odd: Currently, you defined a controller that would return the String representation of the `Profile` object. That isn&#39;t necessarily something as shown in the example above. If you do not override the `toString()` method, the result would be something like `com.ajavacode.HNGBackendStage1.api.Profile@6d06d69c` (see [this Baeldung article][1] for instance). And even if you use Lombok&#39;s `@Data` or `@ToString` annotations, the result will not be a JSON or XML representation but something that is suitable for logging, for instance.\r\n\r\nSpring will already take care of the serialization into JSON (or XML) format. In your controller you can just return the `Profile` object or, alternatively, a `ResponseEntity&lt;Profile&gt;`:\r\n\r\n```java\r\n@GetMapping(path = &quot;/profile&quot;)\r\npublic Profile userInfo(){\r\n  Profile profile=new Profile();\r\n  profile.setSlackUsername(&quot;Ajava&quot;);\r\n  profile.setBackend(true);\r\n  profile.setAge(00);\r\n  profile.setBio(&quot;My name is Anakhe Ajayi, I&#39;m learning Java everyday and I love Jesus&quot;);\r\n  return profile;\r\n}\r\n```\r\n\r\nThe above example would create a response with the profile as the response body and HTTP status code 200 OK. In case you use `ResponseEntity`, you could also adjust the HTTP status code but in your case that probably is not necessary (yet).\r\n\r\nAutowiring the `Profile` class also is not correct, as already mentioned. You only need to autowire classes beans, i.e., classes that are annotated with `@Component`, `@Service`, or `@Repository`. The class you &quot;autowired&quot; is just a POJO class representing some &quot;data object&quot;, nothing that provides any kind of business logic.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-tostring","title":"Springboot Get Api Endpoint returns 404 not found","body":"<p>Looking at your code, there are a few things to mention.</p>\n<p>First of all, your package structure looks good (besides the fact that I, personally, would keep everything lowercase).</p>\n<p>With the package structure that you have in place, you actually don't need any <code>@ComponentScan</code> annotation at all. The annotation <code>@SpringBootApplication</code> at your main class by default scans for components with the package of that class as the base package. So you only need to set something if you want to explicitly scan for components in some other package, e.g., either at a higher level or if you want to skip packages in the hierarchy.</p>\n<p>Next thing is the controller. Question here is: What do you actually want to achieve?</p>\n<p>I assume that you want to build an application that provides a <code>GET /profile</code> endpoint that returns a response object like the example below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n\n  &quot;slackUsername&quot;: &quot;alice&quot;,\n  &quot;backend&quot;: false,\n  &quot;age&quot;: 42,\n  &quot;bio&quot;: &quot;I'm just an example&quot;\n}\n</code></pre>\n<p>If my understanding is correct, there is at least one thing that is a bit odd: Currently, you defined a controller that would return the String representation of the <code>Profile</code> object. That isn't necessarily something as shown in the example above. If you do not override the <code>toString()</code> method, the result would be something like <code>com.ajavacode.HNGBackendStage1.api.Profile@6d06d69c</code> (see <a href=\"https://www.baeldung.com/java-tostring\" rel=\"nofollow noreferrer\">this Baeldung article</a> for instance). And even if you use Lombok's <code>@Data</code> or <code>@ToString</code> annotations, the result will not be a JSON or XML representation but something that is suitable for logging, for instance.</p>\n<p>Spring will already take care of the serialization into JSON (or XML) format. In your controller you can just return the <code>Profile</code> object or, alternatively, a <code>ResponseEntity&lt;Profile&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/profile&quot;)\npublic Profile userInfo(){\n  Profile profile=new Profile();\n  profile.setSlackUsername(&quot;Ajava&quot;);\n  profile.setBackend(true);\n  profile.setAge(00);\n  profile.setBio(&quot;My name is Anakhe Ajayi, I'm learning Java everyday and I love Jesus&quot;);\n  return profile;\n}\n</code></pre>\n<p>The above example would create a response with the profile as the response body and HTTP status code 200 OK. In case you use <code>ResponseEntity</code>, you could also adjust the HTTP status code but in your case that probably is not necessary (yet).</p>\n<p>Autowiring the <code>Profile</code> class also is not correct, as already mentioned. You only need to autowire classes beans, i.e., classes that are annotated with <code>@Component</code>, <code>@Service</code>, or <code>@Repository</code>. The class you &quot;autowired&quot; is just a POJO class representing some &quot;data object&quot;, nothing that provides any kind of business logic.</p>\n"}],"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74245397,"answer_count":3,"score":-1,"last_activity_date":1667051289,"creation_date":1667045271,"question_id":74245131,"body_markdown":"I&#39;m trying to create a Springboot Get API endpoint but I get a 404 not found error&#39; here is my code\r\n\r\nprofile.java\r\n```\r\n@Getter\r\n@Setter\r\npublic class Profile {\r\n\r\n    private String slackUsername;\r\n    private Boolean backend;\r\n    private Integer age;\r\n    private  String bio;\r\n```\r\nProfileController\r\n```\r\n@RestController\r\npublic class ProfileController {\r\n\r\n    @Autowired\r\n    private Profile profile;\r\n\r\n    @GetMapping(path = &quot;/profile&quot;)\r\n    private ResponseEntity&lt;String&gt; userInfo(){\r\n\r\n        profile.setSlackUsername(&quot;Ajava&quot;);\r\n        profile.setBackend(true);\r\n        profile.setAge(00);\r\n        profile.setBio(&quot;My name is Anakhe Ajayi, I&#39;m learning Java everyday and I love Jesus&quot;);\r\n        return ResponseEntity.ok(profile.toString());\r\n    }\r\n```\r\nMain\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(&quot;com/ajavacode/HNGBackendStage1/api.profile&quot;)\r\npublic class HngBackendStage1Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HngBackendStage1Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n[![Project folder structur][1]][1]\r\n\r\n\r\nporm.xml\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Oc9t.png\r\n  [2]: https://i.stack.imgur.com/PQ7XC.png","title":"Springboot Get Api Endpoint returns 404 not found","body":"<p>I'm trying to create a Springboot Get API endpoint but I get a 404 not found error' here is my code</p>\n<p>profile.java</p>\n<pre><code>@Getter\n@Setter\npublic class Profile {\n\n    private String slackUsername;\n    private Boolean backend;\n    private Integer age;\n    private  String bio;\n</code></pre>\n<p>ProfileController</p>\n<pre><code>@RestController\npublic class ProfileController {\n\n    @Autowired\n    private Profile profile;\n\n    @GetMapping(path = &quot;/profile&quot;)\n    private ResponseEntity&lt;String&gt; userInfo(){\n\n        profile.setSlackUsername(&quot;Ajava&quot;);\n        profile.setBackend(true);\n        profile.setAge(00);\n        profile.setBio(&quot;My name is Anakhe Ajayi, I'm learning Java everyday and I love Jesus&quot;);\n        return ResponseEntity.ok(profile.toString());\n    }\n</code></pre>\n<p>Main</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;com/ajavacode/HNGBackendStage1/api.profile&quot;)\npublic class HngBackendStage1Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HngBackendStage1Application.class, args);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6Oc9t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Oc9t.png\" alt=\"Project folder structur\" /></a></p>\n<p>porm.xml\n<a href=\"https://i.stack.imgur.com/PQ7XC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PQ7XC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","image","bufferedimage","graphics2d","javax.imageio"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1667049234,"post_id":74245544,"comment_id":131081130,"body_markdown":"Maybe the image isn&#39;t ready? Maybe you should `cloneG.dispose()` before the call to write. It would help if you had example images, that you know cause the problem.","body":"Maybe the image isn&#39;t ready? Maybe you should <code>cloneG.dispose()</code> before the call to write. It would help if you had example images, that you know cause the problem."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1667049289,"post_id":74245544,"comment_id":131081138,"body_markdown":"So, no exception is thrown? Per the ImageIO API, the `.write(...)` will return false if no appropriate image writer is found for the format name, here &quot;jpg&quot;, which shouldn&#39;t happen.  So, what is returned if you do: `ImageIO.getWriterFormatNames();`? What String array do you see?","body":"So, no exception is thrown? Per the ImageIO API, the <code>.write(...)</code> will return false if no appropriate image writer is found for the format name, here &quot;jpg&quot;, which shouldn&#39;t happen.  So, what is returned if you do: <code>ImageIO.getWriterFormatNames();</code>? What String array do you see?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1667049392,"post_id":74245544,"comment_id":131081162,"body_markdown":"Also, you may be looking in the wrong location for the file, or the directory may not exist. I&#39;d create the file on a separate line and print out its full path to help check this. When code is not working, best to break out your chained code and test each part.","body":"Also, you may be looking in the wrong location for the file, or the directory may not exist. I&#39;d create the file on a separate line and print out its full path to help check this. When code is not working, best to break out your chained code and test each part."},{"owner":{"account_id":18537356,"reputation":40,"user_id":13506708,"display_name":"Dario Sansone"},"score":0,"creation_date":1667050272,"post_id":74245544,"comment_id":131081346,"body_markdown":"If I put jpg in the &quot;formatName&quot; field, false is returned, if I put png instead, true is returned. Can you tell me the reason?\n`ImageIO.getWriterFormatNames();` returns an array of strings, and jpg is present.","body":"If I put jpg in the &quot;formatName&quot; field, false is returned, if I put png instead, true is returned. Can you tell me the reason? <code>ImageIO.getWriterFormatNames();</code> returns an array of strings, and jpg is present."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667050878,"post_id":74245544,"comment_id":131081496,"body_markdown":"I can&#39;t explain the `false` being returned. In the array, is &quot;jpg&quot; capitalized the same as your own String? Or do you see uncapped and capped?","body":"I can&#39;t explain the <code>false</code> being returned. In the array, is &quot;jpg&quot; capitalized the same as your own String? Or do you see uncapped and capped?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667051007,"post_id":74245544,"comment_id":131081521,"body_markdown":"It should return both `jpg` and `JPG`","body":"It should return both <code>jpg</code> and <code>JPG</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667052942,"post_id":74245544,"comment_id":131081950,"body_markdown":"BTW (not THE problem) `drawImage(left, left.getWidth(), ... ` is probably wrong if the images are different sizes... probably meant to be `right.getWidth()`","body":"BTW (not THE problem) <code>drawImage(left, left.getWidth(), ... </code> is probably wrong if the images are different sizes... probably meant to be <code>right.getWidth()</code>"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667051203,"creation_date":1667051203,"answer_id":74245845,"question_id":74245544,"body_markdown":"I think it&#39;s because JPEG doesn&#39;t support transparency, and you used ARGB as the image buffer type.  Removing the &quot;A&quot; worked for me.\r\n\r\n     class Merge {\r\n        public static void main(String[] args) throws IOException {\r\n            BufferedImage imgClone = new BufferedImage( 50, 50, BufferedImage.TYPE_INT_RGB);\r\n            // returns &quot;true&quot;\r\n            System.out.println(ImageIO.write(imgClone, &quot;jpg&quot;, File.createTempFile( &quot;Test-&quot;, &quot;jpg&quot;))); \r\n        }\r\n    }","title":"Merge images in Java","body":"<p>I think it's because JPEG doesn't support transparency, and you used ARGB as the image buffer type.  Removing the &quot;A&quot; worked for me.</p>\n<pre><code> class Merge {\n    public static void main(String[] args) throws IOException {\n        BufferedImage imgClone = new BufferedImage( 50, 50, BufferedImage.TYPE_INT_RGB);\n        // returns &quot;true&quot;\n        System.out.println(ImageIO.write(imgClone, &quot;jpg&quot;, File.createTempFile( &quot;Test-&quot;, &quot;jpg&quot;))); \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18537356,"reputation":40,"user_id":13506708,"display_name":"Dario Sansone"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245845,"answer_count":1,"score":0,"last_activity_date":1667051203,"creation_date":1667048952,"question_id":74245544,"body_markdown":"I am trying to merge two images in Java. The two photos must be positioned horizontally (the first to the left of the second).\r\nI think I have problems in the write method of the ImageIO class.\r\n\r\n\r\n```\r\nimport java.awt.Graphics2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.*;\r\nimport javax.imageio.*;\r\n\r\npublic class Merge {\r\n    public static void main(String[] args) throws IOException {\r\n        String p = &quot;../../Desktop/temp/&quot;;\r\n        BufferedImage left = ImageIO.read(new File(p+&quot;006.jpg&quot;));\r\n        BufferedImage right = ImageIO.read(new File(p+&quot;007.jpg&quot;));\r\n        BufferedImage imgClone = new BufferedImage(left.getWidth()+right.getWidth(), left.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D cloneG = imgClone.createGraphics();\r\n        cloneG.drawImage(right, 0, 0, null);\r\n        cloneG.drawImage(left, left.getWidth(), 0, null);\r\n        System.out.println(ImageIO.write(imgClone, &quot;jpg&quot;, new File(p+&quot;001.jpg&quot;))); //always false\r\n        cloneG.dispose();\r\n    }\r\n}\r\n```\r\n\r\n\r\n`ImageIO.write(imgClone, &quot;jpg&quot;, new File(p+&quot;001.jpg&quot;))` always returns false, I think there is something wrong here but I can&#39;t figure out what.\r\nIf I go into debugging I can see the merged photo, but then it won&#39;t be saved in the folder.\r\n","title":"Merge images in Java","body":"<p>I am trying to merge two images in Java. The two photos must be positioned horizontally (the first to the left of the second).\nI think I have problems in the write method of the ImageIO class.</p>\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport javax.imageio.*;\n\npublic class Merge {\n    public static void main(String[] args) throws IOException {\n        String p = &quot;../../Desktop/temp/&quot;;\n        BufferedImage left = ImageIO.read(new File(p+&quot;006.jpg&quot;));\n        BufferedImage right = ImageIO.read(new File(p+&quot;007.jpg&quot;));\n        BufferedImage imgClone = new BufferedImage(left.getWidth()+right.getWidth(), left.getHeight(), BufferedImage.TYPE_INT_ARGB);\n        Graphics2D cloneG = imgClone.createGraphics();\n        cloneG.drawImage(right, 0, 0, null);\n        cloneG.drawImage(left, left.getWidth(), 0, null);\n        System.out.println(ImageIO.write(imgClone, &quot;jpg&quot;, new File(p+&quot;001.jpg&quot;))); //always false\n        cloneG.dispose();\n    }\n}\n</code></pre>\n<p><code>ImageIO.write(imgClone, &quot;jpg&quot;, new File(p+&quot;001.jpg&quot;))</code> always returns false, I think there is something wrong here but I can't figure out what.\nIf I go into debugging I can see the merged photo, but then it won't be saved in the folder.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667048319,"post_id":74245302,"comment_id":131080943,"body_markdown":"Hi &amp;welcome! The error message complains about &quot;update&quot; statement, you show only code relevant to &quot;insert&quot; so far..?","body":"Hi &amp;welcome! The error message complains about &quot;update&quot; statement, you show only code relevant to &quot;insert&quot; so far..?"},{"owner":{"account_id":26768172,"reputation":1,"user_id":20364988,"display_name":"Dani221029"},"score":0,"creation_date":1667049868,"post_id":74245302,"comment_id":131081255,"body_markdown":"Sorry! I mixed up. The error for &quot;create&quot; and &quot;update&quot; is the same. \nbad SQL grammar [INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = :position))]; nested exception is org.postgresql.util.PSQLException: Can&#39;t infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.] with root cause","body":"Sorry! I mixed up. The error for &quot;create&quot; and &quot;update&quot; is the same.  bad SQL grammar [INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = :position))]; nested exception is org.postgresql.util.PSQLException: Can&#39;t infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSour&zwnj;&#8203;ce. Use setObject() with an explicit Types value to specify the type to use.] with root cause"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667050125,"post_id":74245302,"comment_id":131081309,"body_markdown":"Ok, np, thank you! (You can [edit] post;)","body":"Ok, np, thank you! (You can <a href=\"https://stackoverflow.com/posts/74245302/edit\">edit</a> post;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667050274,"post_id":74245302,"comment_id":131081347,"body_markdown":"To the problem: [JdbcTemplate#update](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html) has (currently) 7 (6+1) overloads! ..please precise, which you want to use/is suited to your scenario...then use it accordingly!","body":"To the problem: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\">JdbcTemplate#update</a> has (currently) 7 (6+1) overloads! ..please precise, which you want to use/is suited to your scenario...then use it accordingly!"}],"owner":{"account_id":26768172,"reputation":1,"user_id":20364988,"display_name":"Dani221029"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667050854,"creation_date":1667046832,"question_id":74245302,"body_markdown":"I&#39;m trying to create a new user and receive the following error:\r\n\r\n    ERROR 16444 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = :position))]; nested exception is org.postgresql.util.PSQLException: Can&#39;t infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.] with root cause\r\n    \r\n    org.postgresql.util.PSQLException: Can&#39;t infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.\r\n\r\n\r\nHere is my Controller:\r\n\r\n```\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public String create(Model model, @RequestParam Map&lt;String, Object&gt; parameters) {\r\n        UserDto userDto = new UserDto();\r\n        setParametersForUser(userDto, parameters);\r\n        model.addAttribute(&quot;user&quot;, userService.createUser(userDto));\r\n        return &quot;user&quot;;\r\n    }\r\n\r\n    private void setParametersForUser(UserDto userDto, Map&lt;String, Object&gt; parameters) {\r\n        userDto.setName(parameters.get(&quot;name&quot;).toString());\r\n        userDto.setSurname(parameters.get(&quot;surname&quot;).toString());\r\n        userDto.setYearOfBirth(Integer.valueOf(parameters.get(&quot;year_of_birth&quot;).toString()));\r\n        userDto.setEmail(parameters.get(&quot;email&quot;).toString());\r\n        userDto.setPassword(parameters.get(&quot;password&quot;).toString());\r\n  userDto.setPositionDto(UserDto.PositionDto.valueOf(parameters.get(&quot;position&quot;).toString()));\r\n    }\r\n\r\n```\r\nHere is my Service:\r\n\r\n```\r\n\r\n@Override\r\npublic UserDto createUser(UserDto userDto) {\r\n    User newUser = userDao.createUser(toUser(userDto));\r\n    return toDto(newUser);\r\n}\r\n\r\nprivate User toUser(UserDto userDto) {\r\n    User user = new User();\r\n    user.setId(userDto.getId());\r\n    user.setName(userDto.getName());\r\n    user.setSurname(userDto.getSurname());\r\n    user.setYearOfBirth(userDto.getYearOfBirth());\r\n    user.setEmail(userDto.getEmail());\r\n    user.setPassword(userDto.getPassword());\r\n    user.setPosition(User.Position.valueOf(userDto.getPositionDto().toString()));\r\n    return user;\r\n}\r\nprivate UserDto toDto(User entity) {\r\n    UserDto dto = new UserDto();\r\n    dto.setId(entity.getId());\r\n    dto.setName(entity.getName());\r\n    dto.setSurname(entity.getSurname());\r\n    dto.setYearOfBirth(entity.getYearOfBirth());\r\n    dto.setEmail(entity.getEmail());\r\n    dto.setPassword(entity.getPassword());\r\n    dto.setPositionDto(UserDto.PositionDto.valueOf(entity.getPosition().toString()));\r\n    return dto;\r\n}\r\n\r\n```\r\nHere is Dao:\r\n\r\n\r\n```\r\nprivate static final String INSERT = &quot;INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = : position))&quot;;\r\n\r\n@Override\r\npublic User createUser(User user) {\r\n    KeyHolder keyHolder = new GeneratedKeyHolder();\r\n    Map&lt;String, Object&gt; parameters = getParameters(user);\r\n    SqlParameterSource source = new MapSqlParameterSource(parameters);\r\n    int rowsUpdated = template.update(INSERT, source, keyHolder, new String[]{&quot;id&quot;}); //mistake is here \r\n    if (rowsUpdated != 1) {\r\n        throw new RuntimeException(&quot;Can&#39;t create user&quot;);\r\n    }\r\n    Long id = Optional.ofNullable(keyHolder.getKey()).map(Number::longValue).orElseThrow(() -&gt; new RuntimeException(&quot;Can&#39;t create user&quot;));\r\n    return getUserById(id);\r\n}\r\n\r\nprivate Map&lt;String, Object&gt; getParameters(User user) {\r\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n    parameters.put(&quot;name&quot;, user.getName());\r\n    parameters.put(&quot;surname&quot;, user.getSurname());\r\n    parameters.put(&quot;year_of_birth&quot;, user.getYearOfBirth().toString());\r\n    parameters.put(&quot;email&quot;, user.getEmail());\r\n    parameters.put(&quot;password&quot;, user.getPassword());\r\n    parameters.put(&quot;position&quot;, user.getPosition().toString());\r\n    return parameters;\r\n}\r\n\r\n\r\n```\r\nUser must be as follows:\r\n\r\n```\r\npublic class User\r\nprivate Long id;\r\nprivate String name;\r\nprivate String surname;\r\nprivate Integer yearOfBirth;\r\nprivate String email;\r\nprivate String password;\r\nprivate Position position;\r\n\r\npublic enum Position {\r\n    CEO,\r\n    MANAGER,\r\n    WORKER\r\n}\r\n\r\n```\r\nAnd tables in PostgreSQL:\r\n\r\n```\r\nCREATE TABLE positions (\r\n   id BIGSERIAL PRIMARY KEY,\r\n   name VARCHAR(100)\r\n)\r\n\r\nCREATE TABLE users (\r\n   id BIGSERIAL PRIMARY KEY,\r\n   name VARCHAR(100) NOT NULL,\r\n   surname VARCHAR(100) NOT NULL,\r\n   year_of_birth INTEGER,\r\n   email VARCHAR(100) NOT NULL,\r\n   password VARCHAR(20) NOT NULL,\r\n   position_id BIGINT REFERENCES positions,\r\n   deleted BOOLEAN DEFAULT false NOT NULL\r\n)\r\n\r\nINSERT INTO positions (name)\r\nVALUES (&#39;CEO&#39;),\r\n     (&#39;MANAGER&#39;),\r\n     (&#39;WORKER&#39;);\r\n\r\nINSERT INTO users (name, surname, year_of_birth, email, password, position_id)\r\nVALUES (&#39;Tom&#39;,&#39;Ands&#39;,1999,&#39;Tom@ggg.com&#39;,&#39;R887h24hs&#39;,(SELECT id FROM positions WHERE name = &#39;WORKER&#39;));\r\n\r\n```\r\nWhere can be the problem? Pls help","title":"Java Spring JDBC. PSQLException: Use setObject() with an explicit Types value to specify the type to use","body":"<p>I'm trying to create a new user and receive the following error:</p>\n<pre><code>ERROR 16444 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = :position))]; nested exception is org.postgresql.util.PSQLException: Can't infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.] with root cause\n\norg.postgresql.util.PSQLException: Can't infer the SQL type to use for an instance of org.springframework.jdbc.core.namedparam.MapSqlParameterSource. Use setObject() with an explicit Types value to specify the type to use.\n</code></pre>\n<p>Here is my Controller:</p>\n<pre><code>    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public String create(Model model, @RequestParam Map&lt;String, Object&gt; parameters) {\n        UserDto userDto = new UserDto();\n        setParametersForUser(userDto, parameters);\n        model.addAttribute(&quot;user&quot;, userService.createUser(userDto));\n        return &quot;user&quot;;\n    }\n\n    private void setParametersForUser(UserDto userDto, Map&lt;String, Object&gt; parameters) {\n        userDto.setName(parameters.get(&quot;name&quot;).toString());\n        userDto.setSurname(parameters.get(&quot;surname&quot;).toString());\n        userDto.setYearOfBirth(Integer.valueOf(parameters.get(&quot;year_of_birth&quot;).toString()));\n        userDto.setEmail(parameters.get(&quot;email&quot;).toString());\n        userDto.setPassword(parameters.get(&quot;password&quot;).toString());\n  userDto.setPositionDto(UserDto.PositionDto.valueOf(parameters.get(&quot;position&quot;).toString()));\n    }\n\n</code></pre>\n<p>Here is my Service:</p>\n<pre><code>\n@Override\npublic UserDto createUser(UserDto userDto) {\n    User newUser = userDao.createUser(toUser(userDto));\n    return toDto(newUser);\n}\n\nprivate User toUser(UserDto userDto) {\n    User user = new User();\n    user.setId(userDto.getId());\n    user.setName(userDto.getName());\n    user.setSurname(userDto.getSurname());\n    user.setYearOfBirth(userDto.getYearOfBirth());\n    user.setEmail(userDto.getEmail());\n    user.setPassword(userDto.getPassword());\n    user.setPosition(User.Position.valueOf(userDto.getPositionDto().toString()));\n    return user;\n}\nprivate UserDto toDto(User entity) {\n    UserDto dto = new UserDto();\n    dto.setId(entity.getId());\n    dto.setName(entity.getName());\n    dto.setSurname(entity.getSurname());\n    dto.setYearOfBirth(entity.getYearOfBirth());\n    dto.setEmail(entity.getEmail());\n    dto.setPassword(entity.getPassword());\n    dto.setPositionDto(UserDto.PositionDto.valueOf(entity.getPosition().toString()));\n    return dto;\n}\n\n</code></pre>\n<p>Here is Dao:</p>\n<pre><code>private static final String INSERT = &quot;INSERT INTO users (name, surname, year_of_birth, email, password, position_id) VALUES (:name, :surname, :year_of_birth, :email, :password, (SELECT id FROM positions WHERE name = : position))&quot;;\n\n@Override\npublic User createUser(User user) {\n    KeyHolder keyHolder = new GeneratedKeyHolder();\n    Map&lt;String, Object&gt; parameters = getParameters(user);\n    SqlParameterSource source = new MapSqlParameterSource(parameters);\n    int rowsUpdated = template.update(INSERT, source, keyHolder, new String[]{&quot;id&quot;}); //mistake is here \n    if (rowsUpdated != 1) {\n        throw new RuntimeException(&quot;Can't create user&quot;);\n    }\n    Long id = Optional.ofNullable(keyHolder.getKey()).map(Number::longValue).orElseThrow(() -&gt; new RuntimeException(&quot;Can't create user&quot;));\n    return getUserById(id);\n}\n\nprivate Map&lt;String, Object&gt; getParameters(User user) {\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n    parameters.put(&quot;name&quot;, user.getName());\n    parameters.put(&quot;surname&quot;, user.getSurname());\n    parameters.put(&quot;year_of_birth&quot;, user.getYearOfBirth().toString());\n    parameters.put(&quot;email&quot;, user.getEmail());\n    parameters.put(&quot;password&quot;, user.getPassword());\n    parameters.put(&quot;position&quot;, user.getPosition().toString());\n    return parameters;\n}\n\n\n</code></pre>\n<p>User must be as follows:</p>\n<pre><code>public class User\nprivate Long id;\nprivate String name;\nprivate String surname;\nprivate Integer yearOfBirth;\nprivate String email;\nprivate String password;\nprivate Position position;\n\npublic enum Position {\n    CEO,\n    MANAGER,\n    WORKER\n}\n\n</code></pre>\n<p>And tables in PostgreSQL:</p>\n<pre><code>CREATE TABLE positions (\n   id BIGSERIAL PRIMARY KEY,\n   name VARCHAR(100)\n)\n\nCREATE TABLE users (\n   id BIGSERIAL PRIMARY KEY,\n   name VARCHAR(100) NOT NULL,\n   surname VARCHAR(100) NOT NULL,\n   year_of_birth INTEGER,\n   email VARCHAR(100) NOT NULL,\n   password VARCHAR(20) NOT NULL,\n   position_id BIGINT REFERENCES positions,\n   deleted BOOLEAN DEFAULT false NOT NULL\n)\n\nINSERT INTO positions (name)\nVALUES ('CEO'),\n     ('MANAGER'),\n     ('WORKER');\n\nINSERT INTO users (name, surname, year_of_birth, email, password, position_id)\nVALUES ('Tom','Ands',1999,'Tom@ggg.com','R887h24hs',(SELECT id FROM positions WHERE name = 'WORKER'));\n\n</code></pre>\n<p>Where can be the problem? Pls help</p>\n"},{"tags":["java","spring-boot","vaadin"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667050509,"creation_date":1667050509,"answer_id":74245758,"question_id":74245433,"body_markdown":"You are downloading the image in a source folder. This will not work in production as you will have a JAR or WAR.\r\n\r\nYou must download the image to a directory on the server and the create a img tag with a URL to the image on the server.","title":"Images downloaded during runtime show broken link icon, on second startup show correctly","body":"<p>You are downloading the image in a source folder. This will not work in production as you will have a JAR or WAR.</p>\n<p>You must download the image to a directory on the server and the create a img tag with a URL to the image on the server.</p>\n"}],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667050509,"creation_date":1667047903,"question_id":74245433,"body_markdown":"I have a script that downloads images from a target page when I click on a link in my application. When the images are downloaded I want to show them in the browser as Image components. The images download with no problem and are stored in path `src\\main\\resources\\META-INF\\resources\\images\\`. When I try to show the downloaded images I create an Image component: `add(new Image(&quot;images/img.png&quot;, &quot;&quot;))`. This, however, shows a &quot;image not loaded&quot; icon. When I restart the application server and go to the target URL with the images already downloaded from the previous attempt, they are shown with no problem. What can I do to fix this?","title":"Images downloaded during runtime show broken link icon, on second startup show correctly","body":"<p>I have a script that downloads images from a target page when I click on a link in my application. When the images are downloaded I want to show them in the browser as Image components. The images download with no problem and are stored in path <code>src\\main\\resources\\META-INF\\resources\\images\\</code>. When I try to show the downloaded images I create an Image component: <code>add(new Image(&quot;images/img.png&quot;, &quot;&quot;))</code>. This, however, shows a &quot;image not loaded&quot; icon. When I restart the application server and go to the target URL with the images already downloaded from the previous attempt, they are shown with no problem. What can I do to fix this?</p>\n"},{"tags":["java","android","view","constructor","duplicates"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667051168,"post_id":74245723,"comment_id":131081556,"body_markdown":"&quot;the constructor of the view is executed two times!&quot; -- that is because you are creating two instances of the `CustomView`.","body":"&quot;the constructor of the view is executed two times!&quot; -- that is because you are creating two instances of the <code>CustomView</code>."}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667050446,"creation_date":1667050446,"answer_id":74245746,"question_id":74245723,"body_markdown":"You can put a breakpoint in the constructor to examine the call stack and to learn where it is called exactly.\r\n\r\nThe first invocation comes from `setContentView` when the layout containing your custom view is inflated.\r\n\r\nThe second invocation is your explicit constructor call `new CustomView(...)` in your activity code.","title":"Android Custom View&#39;s constructor is executed twice","body":"<p>You can put a breakpoint in the constructor to examine the call stack and to learn where it is called exactly.</p>\n<p>The first invocation comes from <code>setContentView</code> when the layout containing your custom view is inflated.</p>\n<p>The second invocation is your explicit constructor call <code>new CustomView(...)</code> in your activity code.</p>\n"}],"owner":{"account_id":23674750,"reputation":1,"user_id":17701120,"display_name":"osama zaza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667050446,"creation_date":1667050256,"question_id":74245723,"body_markdown":"I have faced an issue after creating custom view class in android. The issue is simply, when I create an object of the custom view, its constructor is executed multiple times.\r\n\r\n\r\nCode of the main Activity Class\r\n\r\n```\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n\r\n        CustomView customView = new CustomView(this, null);\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nCode of the customView\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\nimport android.util.AttributeSet;\r\nimport android.view.View;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class CustomView extends View {\r\n\r\n\r\n    public CustomView(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        System.out.println(&quot;Custom View is executed&quot;);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nCode of main Activity&#39;s xml layout file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:weightSum=&quot;4&quot;\r\n    tools:context=&quot;.MainActivity2&quot;&gt;\r\n\r\n\r\n    &lt;com.example.myapplication.CustomView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;/com.example.myapplication.CustomView&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe expected result is: the constructor of the view is executed one time\r\nActual Result: the constructor of the view is executed two times!","title":"Android Custom View&#39;s constructor is executed twice","body":"<p>I have faced an issue after creating custom view class in android. The issue is simply, when I create an object of the custom view, its constructor is executed multiple times.</p>\n<p>Code of the main Activity Class</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n\n        CustomView customView = new CustomView(this, null);\n\n\n    }\n\n\n}\n\n</code></pre>\n<p>Code of the customView</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.Context;\nimport android.util.AttributeSet;\nimport android.view.View;\n\nimport androidx.annotation.Nullable;\n\npublic class CustomView extends View {\n\n\n    public CustomView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        System.out.println(&quot;Custom View is executed&quot;);\n    }\n\n\n\n}\n\n</code></pre>\n<p>Code of main Activity's xml layout file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:weightSum=&quot;4&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n\n    &lt;com.example.myapplication.CustomView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;/com.example.myapplication.CustomView&gt;\n\n\n\n\n\n\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n\n\n</code></pre>\n<p>The expected result is: the constructor of the view is executed one time\nActual Result: the constructor of the view is executed two times!</p>\n"},{"tags":["java","spring","postgresql","jpa","hibernate-criteria"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1667044901,"post_id":74245062,"comment_id":131080308,"body_markdown":"The JSON operators `#&gt;` and `@&gt;` are documented [in the manual](https://www.postgresql.org/docs/current/functions-json.html)","body":"The JSON operators <code>#&gt;</code> and <code>@&gt;</code> are documented <a href=\"https://www.postgresql.org/docs/current/functions-json.html\" rel=\"nofollow noreferrer\">in the manual</a>"},{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1667045237,"post_id":74245062,"comment_id":131080367,"body_markdown":"@a_horse_with_no_name Thank you! For some reason I could not manage to find the explanation for these operators.","body":"@a_horse_with_no_name Thank you! For some reason I could not manage to find the explanation for these operators."}],"answers":[{"tags":[],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667049390,"creation_date":1667049390,"answer_id":74245616,"question_id":74245062,"body_markdown":"1) jsonb ***@&gt;*** jsonb → boolean\r\n\r\n****&quot;Does the first JSON value contain the second?&quot;****\r\n\r\n    &#39;{&quot;a&quot;:1, &quot;b&quot;:2}&#39;::jsonb @&gt; &#39;{&quot;b&quot;:2}&#39;::jsonb → true\r\n\r\n2) jsonb **#&gt;** text[] → jsonb\r\n\r\n**Extracts JSON sub-object at the specified path, where path elements can be either field keys or array indexes.**\r\n\r\n    &#39;{&quot;a&quot;: {&quot;b&quot;: [&quot;foo&quot;,&quot;bar&quot;]}}&#39;::json #&gt; &#39;{a,b,1}&#39; → &quot;bar&quot;\r\n\r\n","title":"How does this PostgreSQL request work? (Java CriteriaBuilder)","body":"<ol>\n<li>jsonb <em><strong>@&gt;</strong></em> jsonb → boolean</li>\n</ol>\n<p><strong><strong>&quot;Does the first JSON value contain the second?&quot;</strong></strong></p>\n<pre><code>'{&quot;a&quot;:1, &quot;b&quot;:2}'::jsonb @&gt; '{&quot;b&quot;:2}'::jsonb → true\n</code></pre>\n<ol start=\"2\">\n<li>jsonb <strong>#&gt;</strong> text[] → jsonb</li>\n</ol>\n<p><strong>Extracts JSON sub-object at the specified path, where path elements can be either field keys or array indexes.</strong></p>\n<pre><code>'{&quot;a&quot;: {&quot;b&quot;: [&quot;foo&quot;,&quot;bar&quot;]}}'::json #&gt; '{a,b,1}' → &quot;bar&quot;\n</code></pre>\n"}],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667049390,"creation_date":1667044740,"question_id":74245062,"body_markdown":"I&#39;m trying to understand how this works. I have the following **CriteriaBuilder** which works with custom **jsonb_function**:\r\n\r\n```\r\n          builder.equal(\r\n                builder.function(&quot;jsonb_function&quot;,\r\n                        Boolean.class,\r\n                        builder.literal(pathArrayLiteral),\r\n                        root.get(ATTRIBUTE_COMPOSITION),\r\n                        builder.literal(simpleEntries)),\r\n                Boolean.TRUE);\r\n```\r\n\r\nThe **jsonb_function** is:\r\n\r\n    CREATE OR REPLACE FUNCTION jsonb_function(path TEXT, json JSONB, searchSeq TEXT)\r\n        RETURNS BOOLEAN AS\r\n    $BODY$\r\n        BEGIN\r\n        return (json #&gt; cast(path as text[])) @&gt; cast(searchSeq as jsonb);\r\n        END;\r\n    $BODY$\r\n    LANGUAGE plpgsql;\r\n\r\nAn example of the first function argument ***path TEXT*** - {&quot;transitCurrencyAccount&quot;}. The second one ***json JSONB*** is json from DB which root gets (?).\r\nThe third one ***searchSeq TEXT*** - {&quot;accountType&quot;:&quot;12&quot;,&quot;accountNumber&quot;:&quot;718294019284103&quot;}.\r\n\r\nSo I see there is a kind of comparison in this ****jsonb_function**** which returns if the json from DB contains the passed arguments values but I don&#39;t clearly understand how it works. What exactly these parameters **&#39;#&gt;&#39;** and **&#39;@&gt;&#39;** do in plpgsql?\r\n\r\nAfter I manage to understand it, I&#39;ll need to write a similar function with the only difference. It should return true for the *&quot;accountNumber&quot;* for example in all following cases: &quot;718294019284103&quot;, &quot;718&quot;, &quot;71829&quot;, &quot;7182940&quot; etc.","title":"How does this PostgreSQL request work? (Java CriteriaBuilder)","body":"<p>I'm trying to understand how this works. I have the following <strong>CriteriaBuilder</strong> which works with custom <strong>jsonb_function</strong>:</p>\n<pre><code>          builder.equal(\n                builder.function(&quot;jsonb_function&quot;,\n                        Boolean.class,\n                        builder.literal(pathArrayLiteral),\n                        root.get(ATTRIBUTE_COMPOSITION),\n                        builder.literal(simpleEntries)),\n                Boolean.TRUE);\n</code></pre>\n<p>The <strong>jsonb_function</strong> is:</p>\n<pre><code>CREATE OR REPLACE FUNCTION jsonb_function(path TEXT, json JSONB, searchSeq TEXT)\n    RETURNS BOOLEAN AS\n$BODY$\n    BEGIN\n    return (json #&gt; cast(path as text[])) @&gt; cast(searchSeq as jsonb);\n    END;\n$BODY$\nLANGUAGE plpgsql;\n</code></pre>\n<p>An example of the first function argument <em><strong>path TEXT</strong></em> - {&quot;transitCurrencyAccount&quot;}. The second one <em><strong>json JSONB</strong></em> is json from DB which root gets (?).\nThe third one <em><strong>searchSeq TEXT</strong></em> - {&quot;accountType&quot;:&quot;12&quot;,&quot;accountNumber&quot;:&quot;718294019284103&quot;}.</p>\n<p>So I see there is a kind of comparison in this <strong><strong>jsonb_function</strong></strong> which returns if the json from DB contains the passed arguments values but I don't clearly understand how it works. What exactly these parameters <strong>'#&gt;'</strong> and <strong>'@&gt;'</strong> do in plpgsql?</p>\n<p>After I manage to understand it, I'll need to write a similar function with the only difference. It should return true for the <em>&quot;accountNumber&quot;</em> for example in all following cases: &quot;718294019284103&quot;, &quot;718&quot;, &quot;71829&quot;, &quot;7182940&quot; etc.</p>\n"},{"tags":["java","android","if-statement"],"comments":[{"owner":{"account_id":6237073,"reputation":488,"user_id":4852017,"accept_rate":89,"display_name":"ZeldaZach"},"score":2,"creation_date":1498937305,"post_id":44864630,"comment_id":76708631,"body_markdown":"if (counter &gt;= 1) {} or maybe have 2 if&#39;s if (counter &gt; 1) {} else if (counter == 1) {}... trying to figure out what you mean","body":"if (counter &gt;= 1) {} or maybe have 2 if&#39;s if (counter &gt; 1) {} else if (counter == 1) {}... trying to figure out what you mean"},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1498937466,"post_id":44864630,"comment_id":76708687,"body_markdown":"does &gt;=1 mean more than = 1? i think that may work.","body":"does &gt;=1 mean more than = 1? i think that may work."},{"owner":{"account_id":6237073,"reputation":488,"user_id":4852017,"accept_rate":89,"display_name":"ZeldaZach"},"score":1,"creation_date":1498937545,"post_id":44864630,"comment_id":76708705,"body_markdown":"&gt;= means &quot;greater than or equal to&quot; ... @markharrop Maybe you should look over common syntax in the Java language to get a better idea of all the cool things you can do!","body":"&gt;= means &quot;greater than or equal to&quot; ... @markharrop Maybe you should look over common syntax in the Java language to get a better idea of all the cool things you can do!"},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1498939221,"post_id":44864630,"comment_id":76709176,"body_markdown":"thanks #Zelda im going to have a look now","body":"thanks #Zelda im going to have a look now"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1498940469,"post_id":44864630,"comment_id":76709542,"body_markdown":"@markharrop You should definitely [read this](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html).","body":"@markharrop You should definitely <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">read this</a>."},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1498949688,"post_id":44864630,"comment_id":76711532,"body_markdown":"brilliant just what i was after thank you","body":"brilliant just what i was after thank you"}],"answers":[{"tags":[],"owner":{"account_id":9772101,"reputation":11,"user_id":7243596,"display_name":"Antun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498937779,"creation_date":1498937779,"answer_id":44864723,"question_id":44864630,"body_markdown":"To do nothing you can just use return.\r\n\r\n    if(/*number&gt;your counting method*/)return;","title":"How do I stop a number from being lower in an if statement","body":"<p>To do nothing you can just use return.</p>\n\n<pre><code>if(/*number&gt;your counting method*/)return;\n</code></pre>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667049204,"creation_date":1498937215,"question_id":44864630,"body_markdown":"In my app I have a reward system. It uses Firebase database to release the rewards.\r\n\r\nFor example if a user downloads 2 items and watches a short advert it registers their userid and the number 1 to the database. My app then receives that number and adds the relevant reward. But let&#39;s say I add the number 2 manually to my database for a prize for a competition or something similar, it does add the reward. But then if they download another item it cancels the reward and goes back to the number set by the official counting method I have set up.\r\n\r\nIs there a way to say if the number is higher than the one in the official counting method do nothing?\r\n\r\nThis is my simple code:\r\n    \r\n     }else\r\n        if (counter == 1) {\r\n            mRewards.mstreaming.setBackground( mcontext.getResources().getDrawable(R.drawable.buttonbkground2) );\r\n\r\nIf it already = 2 I don&#39;t want it to go back to the above.\r\n     ","title":"How do I stop a number from being lower in an if statement","body":"<p>In my app I have a reward system. It uses Firebase database to release the rewards.</p>\n<p>For example if a user downloads 2 items and watches a short advert it registers their userid and the number 1 to the database. My app then receives that number and adds the relevant reward. But let's say I add the number 2 manually to my database for a prize for a competition or something similar, it does add the reward. But then if they download another item it cancels the reward and goes back to the number set by the official counting method I have set up.</p>\n<p>Is there a way to say if the number is higher than the one in the official counting method do nothing?</p>\n<p>This is my simple code:</p>\n<pre><code> }else\n    if (counter == 1) {\n        mRewards.mstreaming.setBackground( mcontext.getResources().getDrawable(R.drawable.buttonbkground2) );\n</code></pre>\n<p>If it already = 2 I don't want it to go back to the above.</p>\n"},{"tags":["java","android","android-viewpager"],"answers":[{"tags":[],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521562500,"creation_date":1521562500,"answer_id":49389203,"question_id":49384227,"body_markdown":"ok ive done this dont know if this the proper way to do it but it does work.\r\n\r\n    public CharSequence getPageTitle(int position){\r\n    if (position==0) {\r\n        return &quot;New Releases&quot;;\r\n    }\r\n    return &quot;A-Z&quot;;\r\n}","title":"Changing the tabs text in Android Tabview","body":"<p>ok ive done this dont know if this the proper way to do it but it does work.</p>\n\n<pre><code>public CharSequence getPageTitle(int position){\nif (position==0) {\n    return \"New Releases\";\n}\nreturn \"A-Z\";\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49389203,"answer_count":1,"score":2,"last_activity_date":1667048887,"creation_date":1521548834,"question_id":49384227,"body_markdown":"Today I&#39;m messing with Android&#39;s tabview in an app I&#39;m currently working on. I want to have 2 sections one called New Releases and the other Called A-Z. So I&#39;ve watched a tutorial video because I&#39;ve never tried to use this view before. In the tutorial they use CharSequence getPageTitle(int position) to get the title of the page. But how can I change this to instead say New Releases and A-Z?\r\n\r\nHere is how I&#39;ve set my tabs up at the moment:\r\n\r\nactivity_main.xml\r\n\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;studios.p9p.harrop99.tabproject.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;android.support.v4.view.ViewPager\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:id=&quot;@+id/view_pager&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/tabs_indicator&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;8dp&quot; /&gt;\r\n\r\n    &lt;com.hold1.pagertabsindicator.PagerTabsIndicator\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:id=&quot;@+id/tabs_indicator&quot;\r\n        android:background=&quot;@android:color/white&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n\r\n        app:tab_indicator=&quot;top_bar&quot;\r\n        app:tab_indicator_scale_type=&quot;centerInside&quot;\r\n        app:tab_lock_expanded=&quot;true&quot;\r\n        /&gt;\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\nActivityMain class\r\n\r\n    List&lt;Model&gt;  models = new ArrayList&lt;&gt;();\r\n    ViewPager viewpager;\r\n    PagerTabsIndicator tabs;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        initModel();\r\n\r\n        viewpager = (ViewPager)findViewById(R.id.view_pager);\r\n        tabs = (PagerTabsIndicator)findViewById(R.id.tabs_indicator);\r\n        viewpager.setAdapter(new HarropPageAdapter(models,this));\r\n        tabs.setViewPager(viewpager);\r\n    }\r\n\r\n    private void initModel() {\r\n        for(int i = 0;i&lt;2;i++)\r\n\r\n        models.add(new Model(&quot;Page&quot;+(i+i),0));\r\n    }\r\n    }\r\n\r\nModels class\r\n\r\n    public class Model {\r\n    private String title;\r\n    private int id;\r\n    public Model(){\r\n\r\n    }\r\n    public Model (String title, int id){\r\n        this.title = title;\r\n        this.id = id;\r\n    }\r\n    public String getTitle(){\r\n        return title;\r\n    }\r\n    public void setTitle(String title){\r\n        this.title = title;\r\n    }\r\n    public int getId(){\r\n        return id;\r\n    }\r\n    public void setId(int id){\r\n        this.id = id;\r\n    }\r\n    }\r\n\r\nAdapter class\r\n\r\n    public class HarropPageAdapter extends PagerAdapter {\r\n\r\n    List&lt;Model&gt; models;\r\n    Context context;\r\n\r\n     public HarropPageAdapter(List&lt;Model&gt; models,Context context){\r\n     this.models = models;\r\n     this.context = context;\r\n     }\r\n    public CharSequence getPageTitle(int position){\r\n    ;\r\n    return &quot;Page &quot;+ (position+1)  ;\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return models.size();\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(View view, Object object) {\r\n        return view == object;\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem(ViewGroup container, int position, Object object) {\r\n        ((ViewGroup)container).removeView((View)object);\r\n    }\r\n\r\n    @Override\r\n    public Object instantiateItem(ViewGroup container, int position) {\r\n        LayoutInflater inflater =  LayoutInflater.from(context);\r\n        View itemView =inflater.inflate(R.layout.layout_item,container, false);\r\n        TextView textView = itemView.findViewById(R.id.titleapp);\r\n        textView.setText(models.get(position).getTitle());\r\n        container.addView(itemView);\r\n        return itemView;\r\n    }\r\n    }\r\n","title":"Changing the tabs text in Android Tabview","body":"<p>Today I'm messing with Android's tabview in an app I'm currently working on. I want to have 2 sections one called New Releases and the other Called A-Z. So I've watched a tutorial video because I've never tried to use this view before. In the tutorial they use CharSequence getPageTitle(int position) to get the title of the page. But how can I change this to instead say New Releases and A-Z?</p>\n<p>Here is how I've set my tabs up at the moment:</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;studios.p9p.harrop99.tabproject.MainActivity&quot;&gt;\n\n\n&lt;android.support.v4.view.ViewPager\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:id=&quot;@+id/view_pager&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/tabs_indicator&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    tools:layout_editor_absoluteX=&quot;8dp&quot; /&gt;\n\n&lt;com.hold1.pagertabsindicator.PagerTabsIndicator\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;64dp&quot;\n    android:id=&quot;@+id/tabs_indicator&quot;\n    android:background=&quot;@android:color/white&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    tools:layout_editor_absoluteX=&quot;0dp&quot;\n\n    app:tab_indicator=&quot;top_bar&quot;\n    app:tab_indicator_scale_type=&quot;centerInside&quot;\n    app:tab_lock_expanded=&quot;true&quot;\n    /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n<p>ActivityMain class</p>\n<pre><code>List&lt;Model&gt;  models = new ArrayList&lt;&gt;();\nViewPager viewpager;\nPagerTabsIndicator tabs;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    initModel();\n\n    viewpager = (ViewPager)findViewById(R.id.view_pager);\n    tabs = (PagerTabsIndicator)findViewById(R.id.tabs_indicator);\n    viewpager.setAdapter(new HarropPageAdapter(models,this));\n    tabs.setViewPager(viewpager);\n}\n\nprivate void initModel() {\n    for(int i = 0;i&lt;2;i++)\n\n    models.add(new Model(&quot;Page&quot;+(i+i),0));\n}\n}\n</code></pre>\n<p>Models class</p>\n<pre><code>public class Model {\nprivate String title;\nprivate int id;\npublic Model(){\n\n}\npublic Model (String title, int id){\n    this.title = title;\n    this.id = id;\n}\npublic String getTitle(){\n    return title;\n}\npublic void setTitle(String title){\n    this.title = title;\n}\npublic int getId(){\n    return id;\n}\npublic void setId(int id){\n    this.id = id;\n}\n}\n</code></pre>\n<p>Adapter class</p>\n<pre><code>public class HarropPageAdapter extends PagerAdapter {\n\nList&lt;Model&gt; models;\nContext context;\n\n public HarropPageAdapter(List&lt;Model&gt; models,Context context){\n this.models = models;\n this.context = context;\n }\npublic CharSequence getPageTitle(int position){\n;\nreturn &quot;Page &quot;+ (position+1)  ;\n}\n\n\n@Override\npublic int getCount() {\n    return models.size();\n}\n\n@Override\npublic boolean isViewFromObject(View view, Object object) {\n    return view == object;\n}\n\n@Override\npublic void destroyItem(ViewGroup container, int position, Object object) {\n    ((ViewGroup)container).removeView((View)object);\n}\n\n@Override\npublic Object instantiateItem(ViewGroup container, int position) {\n    LayoutInflater inflater =  LayoutInflater.from(context);\n    View itemView =inflater.inflate(R.layout.layout_item,container, false);\n    TextView textView = itemView.findViewById(R.id.titleapp);\n    textView.setText(models.get(position).getTitle());\n    container.addView(itemView);\n    return itemView;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667048735,"creation_date":1667048735,"answer_id":74245521,"question_id":74244823,"body_markdown":"That pattern:\r\n```java\r\nTransactionStatus tx = transactionManager.getTransaction(...);\r\ntry {\r\n    ...\r\n} catch (Exception e) {\r\n    if (!(e instanceof RuntimeException)) {\r\n        transactionManager.rollback(tx);\r\n    }\r\n    throw e;\r\n}\r\ntry {\r\n    transactionManager.commit(tx);\r\n} catch (Exception e) {\r\n    ...\r\n    throw new TransactionException();\r\n}\r\nreturn savedEntity.getId();\r\n```\r\n\r\nis definitely incorrect, the rule of thumb is: you **must** finish (either commit or rollback) transaction in the same place where you have started it. However in your case that is not true, so you are encountering resource leaks and other related consequences.\r\n\r\nIf you need to cleanup some external resources upon transaction rollback you have following options:\r\n\r\n1. spring-tx way:\r\n\r\n```java\r\nTransactionSynchronizationManager.registerSynchronization(new TransactionSynchronization() {\r\n    @Override\r\n    public void afterCompletion(int status) {\r\n        if (STATUS_ROLLED_BACK== status) {\r\n            // do something\r\n        }\r\n    }\r\n});\r\n```\r\n\r\n2. hibernate way:\r\n\r\n\r\n```\r\nSessionImplementor session = entityManager.unwrap(SessionImplementor.class);\r\nsession.addEventListeners(new BaseSessionEventListener() {\r\n\r\n    @Override\r\n    public void transactionCompletion(boolean success) {\r\n        if (!success) {\r\n            // do something\r\n        }\r\n    }\r\n\r\n});\r\n```\r\n\r\n3. another hibernate way:\r\n\r\n```java\r\nSessionImplementor session = entityManager.unwrap(SessionImplementor.class);\r\nsession.getActionQueue().registerProcess((success, sess) -&gt; {\r\n    if (!success) {\r\n        // do something\r\n    }\r\n});\r\n```","title":"Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSourc","body":"<p>That pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransactionStatus tx = transactionManager.getTransaction(...);\ntry {\n    ...\n} catch (Exception e) {\n    if (!(e instanceof RuntimeException)) {\n        transactionManager.rollback(tx);\n    }\n    throw e;\n}\ntry {\n    transactionManager.commit(tx);\n} catch (Exception e) {\n    ...\n    throw new TransactionException();\n}\nreturn savedEntity.getId();\n</code></pre>\n<p>is definitely incorrect, the rule of thumb is: you <strong>must</strong> finish (either commit or rollback) transaction in the same place where you have started it. However in your case that is not true, so you are encountering resource leaks and other related consequences.</p>\n<p>If you need to cleanup some external resources upon transaction rollback you have following options:</p>\n<ol>\n<li>spring-tx way:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronization() {\n    @Override\n    public void afterCompletion(int status) {\n        if (STATUS_ROLLED_BACK== status) {\n            // do something\n        }\n    }\n});\n</code></pre>\n<ol start=\"2\">\n<li>hibernate way:</li>\n</ol>\n<pre><code>SessionImplementor session = entityManager.unwrap(SessionImplementor.class);\nsession.addEventListeners(new BaseSessionEventListener() {\n\n    @Override\n    public void transactionCompletion(boolean success) {\n        if (!success) {\n            // do something\n        }\n    }\n\n});\n</code></pre>\n<ol start=\"3\">\n<li>another hibernate way:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>SessionImplementor session = entityManager.unwrap(SessionImplementor.class);\nsession.getActionQueue().registerProcess((success, sess) -&gt; {\n    if (!success) {\n        // do something\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":25226419,"reputation":25,"user_id":19062211,"display_name":"Pavel Ryabykh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245521,"answer_count":1,"score":0,"last_activity_date":1667048735,"creation_date":1667042521,"question_id":74244823,"body_markdown":"I have Spring Boot application which works with PostgreSQL database.\r\n\r\nI have only one datasource which is using for Spring Data JPA operations and for Liquibase migrations (I guess).\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.postgresql.Driver\r\n    url: jdbc:postgresql://*************/*****\r\n    username: *******\r\n    password: *******\r\n    type: com.zaxxer.hikari.HikariDataSource\r\n    connection-test-query: SELECT 1;\r\n    idle-timeout: 30000\r\n    maximum-pool-size: 100\r\n    minimum-idle: 7\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: validate\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n    show-sql: false\r\n    properties:\r\n      hibernate:\r\n        default_schema: public\r\n        format_sql: true\r\n        enable_lazy_load_no_trans: true\r\n        generate_statistics: false\r\n        jdbc.batch_size: 100\r\n        order_inserts: true\r\n        order_updates: true\r\n        jdbc.batch_versioned_data: true\r\n        query.fail_on_pagination_over_collection_fetch: true\r\n  liquibase:\r\n    liquibase-schema: public\r\n    default-schema: public\r\n    change-log: classpath:db/changelog/db.changelog-master.xml\r\n```\r\n\r\nI also have Spring Boot configuration class that specifies which one transaction manager I wanna have in my application.\r\n\r\n```\r\n@Configuration\r\npublic class TransactionManagerConfig {\r\n\r\n    @Primary\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager transactionManager(SessionFactory sessionFactory) {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(sessionFactory);\r\n        return transactionManager;\r\n    }\r\n}\r\n```\r\nWhen it comes to using my database, I have to different ways to communicate with my data.\r\nFirst one is using service method annoteted with @Transactional annotation. For example for simple reading I use next approach:\r\n\r\n```\r\n@Transactional(readOnly = true, isolation = Isolation.READ_COMMITTED)\r\npublic List&lt;Dto&gt; fetchAll() {...\r\n```\r\n\r\nAnd another way is a little bit more complicated but still usual. For example for update I am interacting with transaction manually:\r\n\r\n```\r\n@Service\r\npublic class EntityService {\r\n    @Autowired\r\n    private DocumentRepository documentRepository;\r\n\r\n    @Autowired\r\n    private PlatformTransactionManager transactionManager;\r\n\r\n    public Long update(Long id, Entity entity) {\r\n        DefaultTransactionDefinition transForCursor = new DefaultTransactionDefinition();\r\n        transForCursor.setIsolationLevel(TransactionDefinition.ISOLATION_READ_COMMITTED);\r\n        transForCursor.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);\r\n        TransactionStatus cursorTransactionStatus = transactionManager.getTransaction(transForCursor);\r\n        try {\r\n            //...\r\n            //here I am interactiong with S3 File storage\r\n            //...\r\n            savedEntity = entityRepository.save(entity);\r\n        } catch (Exception e) {\r\n            //...\r\n            //if I catch any exception I should delete files from S3 File storage\r\n            //which I just uploaded and only then I should rollback database transaction\r\n            //...\r\n            if (!(e instanceof RuntimeException)) {\r\n                transactionManager.rollback(cursorTransactionStatus);\r\n            }\r\n            throw e;\r\n        }\r\n        try {\r\n            transactionManager.commit(cursorTransactionStatus);\r\n        } catch (Exception e) {\r\n            //...\r\n            //if any exception happens when I was trying to commit I still should delete files\r\n            //...\r\n            throw new TransactionException();\r\n        }\r\n        return savedEntity.getId();\r\n    }\r\n}\r\n```\r\nAnd the problem is that sometimes I get this exception when I am calling read or update method:\r\n\r\n```\r\norg.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.\r\n```\r\nBut sometimes it&#39;s just working fine without any errors.\r\nAnd the most incredibly interestion thing here that last time when I got this problem I had this exception **every tenth call** of my read method.\r\n\r\nDoes anyone have any idea why it can be happening and how to fix it?\r\nThank you very much for your time and your answers!\r\n\r\nI tried to fix it by adding @Transactional annotation to my read method. And I added @Primay annotation to my configuration class where I define transaction manager. But unfortunately it didn&#39;t help me. I was try to find the same problem here but I didn&#39;t meet the same conditions.","title":"Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSourc","body":"<p>I have Spring Boot application which works with PostgreSQL database.</p>\n<p>I have only one datasource which is using for Spring Data JPA operations and for Liquibase migrations (I guess).</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.postgresql.Driver\n    url: jdbc:postgresql://*************/*****\n    username: *******\n    password: *******\n    type: com.zaxxer.hikari.HikariDataSource\n    connection-test-query: SELECT 1;\n    idle-timeout: 30000\n    maximum-pool-size: 100\n    minimum-idle: 7\n  jpa:\n    hibernate:\n      ddl-auto: validate\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n    show-sql: false\n    properties:\n      hibernate:\n        default_schema: public\n        format_sql: true\n        enable_lazy_load_no_trans: true\n        generate_statistics: false\n        jdbc.batch_size: 100\n        order_inserts: true\n        order_updates: true\n        jdbc.batch_versioned_data: true\n        query.fail_on_pagination_over_collection_fetch: true\n  liquibase:\n    liquibase-schema: public\n    default-schema: public\n    change-log: classpath:db/changelog/db.changelog-master.xml\n</code></pre>\n<p>I also have Spring Boot configuration class that specifies which one transaction manager I wanna have in my application.</p>\n<pre><code>@Configuration\npublic class TransactionManagerConfig {\n\n    @Primary\n    @Bean(name = &quot;transactionManager&quot;)\n    public PlatformTransactionManager transactionManager(SessionFactory sessionFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(sessionFactory);\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>When it comes to using my database, I have to different ways to communicate with my data.\nFirst one is using service method annoteted with @Transactional annotation. For example for simple reading I use next approach:</p>\n<pre><code>@Transactional(readOnly = true, isolation = Isolation.READ_COMMITTED)\npublic List&lt;Dto&gt; fetchAll() {...\n</code></pre>\n<p>And another way is a little bit more complicated but still usual. For example for update I am interacting with transaction manually:</p>\n<pre><code>@Service\npublic class EntityService {\n    @Autowired\n    private DocumentRepository documentRepository;\n\n    @Autowired\n    private PlatformTransactionManager transactionManager;\n\n    public Long update(Long id, Entity entity) {\n        DefaultTransactionDefinition transForCursor = new DefaultTransactionDefinition();\n        transForCursor.setIsolationLevel(TransactionDefinition.ISOLATION_READ_COMMITTED);\n        transForCursor.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);\n        TransactionStatus cursorTransactionStatus = transactionManager.getTransaction(transForCursor);\n        try {\n            //...\n            //here I am interactiong with S3 File storage\n            //...\n            savedEntity = entityRepository.save(entity);\n        } catch (Exception e) {\n            //...\n            //if I catch any exception I should delete files from S3 File storage\n            //which I just uploaded and only then I should rollback database transaction\n            //...\n            if (!(e instanceof RuntimeException)) {\n                transactionManager.rollback(cursorTransactionStatus);\n            }\n            throw e;\n        }\n        try {\n            transactionManager.commit(cursorTransactionStatus);\n        } catch (Exception e) {\n            //...\n            //if any exception happens when I was trying to commit I still should delete files\n            //...\n            throw new TransactionException();\n        }\n        return savedEntity.getId();\n    }\n}\n</code></pre>\n<p>And the problem is that sometimes I get this exception when I am calling read or update method:</p>\n<pre><code>org.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.\n</code></pre>\n<p>But sometimes it's just working fine without any errors.\nAnd the most incredibly interestion thing here that last time when I got this problem I had this exception <strong>every tenth call</strong> of my read method.</p>\n<p>Does anyone have any idea why it can be happening and how to fix it?\nThank you very much for your time and your answers!</p>\n<p>I tried to fix it by adding @Transactional annotation to my read method. And I added @Primay annotation to my configuration class where I define transaction manager. But unfortunately it didn't help me. I was try to find the same problem here but I didn't meet the same conditions.</p>\n"},{"tags":["java","android","android-cardview","android-gridlayout"],"answers":[{"tags":[],"owner":{"account_id":12269473,"reputation":61,"user_id":8955048,"display_name":"Damsith Karunaratna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519433975,"creation_date":1519433564,"answer_id":48958231,"question_id":48958127,"body_markdown":"You could try using an `onTouchListener` instead of an `onClickListener` to capture the &quot;Motion event&quot; this is an Object used to report movement (mouse, pen, finger, trackball) events.\r\n\r\n    cardview.setOnTouchListener(new OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent event) {\r\n            if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n                // set color here\r\n            } else if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                // set other color here\r\n            }\r\n        }\r\n    };\r\n\r\nhere is a list of motion event constants from the android [documentation page](https://developer.android.com/reference/android/view/MotionEvent.html)","title":"How to change the colour of a cardview when selected?clicked","body":"<p>You could try using an <code>onTouchListener</code> instead of an <code>onClickListener</code> to capture the \"Motion event\" this is an Object used to report movement (mouse, pen, finger, trackball) events.</p>\n\n<pre><code>cardview.setOnTouchListener(new OnTouchListener() {\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            // set color here\n        } else if (event.getAction() == MotionEvent.ACTION_UP) {\n            // set other color here\n        }\n    }\n};\n</code></pre>\n\n<p>here is a list of motion event constants from the android <a href=\"https://developer.android.com/reference/android/view/MotionEvent.html\" rel=\"nofollow noreferrer\">documentation page</a></p>\n"},{"tags":[],"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1519433598,"creation_date":1519433598,"answer_id":48958234,"question_id":48958127,"body_markdown":"You can try using `OnTouchListener` with `ACTION_DOWN` and `ACTION_UP` to handle Press/Release events instead of `OnClickListener`.\r\n\r\n**Modified Code**:\r\n\r\n    public void setSingleEvent(GridLayout maingrid) {\r\n        for (int i = 0; i &lt; maingrid.getChildCount(); i++) {\r\n            final CardView cardView = (CardView) maingrid.getChildAt(i);\r\n            final int finalI = i;\r\n\r\n            cardView.setOnTouchListener(new OnTouchListener () {\r\n              public boolean onTouch(View view, MotionEvent event) {\r\n                if (event.getAction() == android.view.MotionEvent.ACTION_DOWN) {\r\n                  Toast.makeText(mcontext, &quot;Button: &quot; + finalI, Toast.LENGTH_SHORT).show();\r\n                  cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.buttonPressed));\r\n                  if (finalI == 0) {\r\n                      mcontext.startActivity(new Intent(mcontext, Genre_Streaming.class));\r\n                  }\r\n                } else if (event.getAction() == android.view.MotionEvent.ACTION_UP) {\r\n                  /* Reset Color */\r\n                  cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.red));\r\n                }\r\n                return true;\r\n              }\r\n            }\r\n    }\r\n\r\n**Link:** http://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP","title":"How to change the colour of a cardview when selected?clicked","body":"<p>You can try using <code>OnTouchListener</code> with <code>ACTION_DOWN</code> and <code>ACTION_UP</code> to handle Press/Release events instead of <code>OnClickListener</code>.</p>\n\n<p><strong>Modified Code</strong>:</p>\n\n<pre><code>public void setSingleEvent(GridLayout maingrid) {\n    for (int i = 0; i &lt; maingrid.getChildCount(); i++) {\n        final CardView cardView = (CardView) maingrid.getChildAt(i);\n        final int finalI = i;\n\n        cardView.setOnTouchListener(new OnTouchListener () {\n          public boolean onTouch(View view, MotionEvent event) {\n            if (event.getAction() == android.view.MotionEvent.ACTION_DOWN) {\n              Toast.makeText(mcontext, \"Button: \" + finalI, Toast.LENGTH_SHORT).show();\n              cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.buttonPressed));\n              if (finalI == 0) {\n                  mcontext.startActivity(new Intent(mcontext, Genre_Streaming.class));\n              }\n            } else if (event.getAction() == android.view.MotionEvent.ACTION_UP) {\n              /* Reset Color */\n              cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.red));\n            }\n            return true;\n          }\n        }\n}\n</code></pre>\n\n<p><strong>Link:</strong> <a href=\"http://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP</a></p>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1879,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48958234,"answer_count":2,"score":4,"last_activity_date":1667048726,"creation_date":1519432515,"question_id":48958127,"body_markdown":"I&#39;m trying out card view instead of a button, I love the amount of info you can add to them. But I&#39;m trying to make it so if they press the card it changes colour. I want it to change back once they release, so that it works in a similar way to my buttons. \r\n\r\nI can get it so that it changes on click but it stay like that until the activity is destroyed.\r\n\r\nThis is the code I use for changing the colour at the moment:\r\n\r\n    public void setSingleEvent(GridLayout maingrid) {\r\n        for (int i = 0; i &lt; maingrid.getChildCount(); i++) {\r\n            final CardView cardView = (CardView) maingrid.getChildAt(i);\r\n            final int finalI = i;\r\n            cardView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast.makeText(mcontext, &quot;Button: &quot; + finalI, Toast.LENGTH_SHORT).show();\r\n                    cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.buttonPressed));\r\n                    if (finalI == 0) {\r\n                        mcontext.startActivity(new Intent(mcontext, Genre_Streaming.class));\r\n                    }\r\n                }\r\n            });","title":"How to change the colour of a cardview when selected?clicked","body":"<p>I'm trying out card view instead of a button, I love the amount of info you can add to them. But I'm trying to make it so if they press the card it changes colour. I want it to change back once they release, so that it works in a similar way to my buttons.</p>\n<p>I can get it so that it changes on click but it stay like that until the activity is destroyed.</p>\n<p>This is the code I use for changing the colour at the moment:</p>\n<pre><code>public void setSingleEvent(GridLayout maingrid) {\n    for (int i = 0; i &lt; maingrid.getChildCount(); i++) {\n        final CardView cardView = (CardView) maingrid.getChildAt(i);\n        final int finalI = i;\n        cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(mcontext, &quot;Button: &quot; + finalI, Toast.LENGTH_SHORT).show();\n                cardView.setCardBackgroundColor(mcontext.getResources().getColor(R.color.buttonPressed));\n                if (finalI == 0) {\n                    mcontext.startActivity(new Intent(mcontext, Genre_Streaming.class));\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":280836,"reputation":8517,"user_id":576767,"accept_rate":100,"display_name":"F&#233;lix Adriyel Gagnon-Grenier"},"score":0,"creation_date":1510967767,"post_id":23557870,"comment_id":81675932,"body_markdown":"[discussed on meta](https://meta.stackoverflow.com/questions/254770/what-is-stack-overflow-s-goal)","body":"<a href=\"https://meta.stackoverflow.com/questions/254770/what-is-stack-overflow-s-goal\">discussed on meta</a>"},{"owner":{"account_id":4364678,"reputation":640,"user_id":3560827,"accept_rate":35,"display_name":"user3560827"},"score":0,"creation_date":1524250717,"post_id":23557870,"comment_id":86912726,"body_markdown":"This seems like a valid question, why the down votes?","body":"This seems like a valid question, why the down votes?"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1531261308,"post_id":23557870,"comment_id":89527548,"body_markdown":"@user3560827 https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist","body":"@user3560827 <a href=\"https://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\" title=\"stack overflow question checklist\">meta.stackoverflow.com/questions/260648/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3375523,"reputation":919,"user_id":2833718,"display_name":"Mehmet Sedat G&#252;ng&#246;r"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1465591899,"creation_date":1399616807,"answer_id":23557939,"question_id":23557870,"body_markdown":"You can split the string first with &quot;/&quot; so that you can have each folder and the file name got separated. For this example, you will have &quot;core&quot;, &quot;pages&quot; and &quot;viewemployee.jsff&quot;. I assume you need the file name without the extension, so just apply same split action with &quot;.&quot; seperator to the last token. You will have filename without extension.\r\n\r\n\r\n    String myStr = &quot;core/pages/viewemployee.bak.jsff&quot;;\r\n    \r\n    String[] tokens = myStr.split(&quot;/&quot;);\r\n    String[] fileNameTokens = tokens[tokens.length - 1].split(&quot;\\\\.&quot;);\r\n        \r\n    String fileNameStr = &quot;&quot;;\r\n    \r\n    for(int i = 0; i &lt; fileNameTokens.length - 1; i++) {\r\n        fileNameStr += fileNameTokens[i] + &quot;.&quot;;\r\n    }\r\n\r\n    fileNameStr = fileNameStr.substring(0, fileNameStr.length() - 1);\r\n\r\n    System.out.print(fileNameStr) //--&gt; &quot;viewemployee.bak&quot;","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>You can split the string first with \"/\" so that you can have each folder and the file name got separated. For this example, you will have \"core\", \"pages\" and \"viewemployee.jsff\". I assume you need the file name without the extension, so just apply same split action with \".\" seperator to the last token. You will have filename without extension.</p>\n\n<pre><code>String myStr = \"core/pages/viewemployee.bak.jsff\";\n\nString[] tokens = myStr.split(\"/\");\nString[] fileNameTokens = tokens[tokens.length - 1].split(\"\\\\.\");\n\nString fileNameStr = \"\";\n\nfor(int i = 0; i &lt; fileNameTokens.length - 1; i++) {\n    fileNameStr += fileNameTokens[i] + \".\";\n}\n\nfileNameStr = fileNameStr.substring(0, fileNameStr.length() - 1);\n\nSystem.out.print(fileNameStr) //--&gt; \"viewemployee.bak\"\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user508434"},"down_vote_count":4,"up_vote_count":25,"is_accepted":false,"score":21,"last_activity_date":1400874898,"creation_date":1399616910,"answer_id":23557958,"question_id":23557870,"body_markdown":"You can solve this with regex (given you only need a group of word characters between the last &quot;/&quot; and &quot;.&quot;):\r\n\r\n        String str=&quot;core/pages/viewemployee.jsff&quot;;\r\n        str=str.replaceFirst(&quot;.*/(\\\\w+).*&quot;,&quot;$1&quot;);\r\n        System.out.println(str); //prints viewemployee","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>You can solve this with regex (given you only need a group of word characters between the last \"/\" and \".\"):</p>\n\n<pre><code>    String str=\"core/pages/viewemployee.jsff\";\n    str=str.replaceFirst(\".*/(\\\\w+).*\",\"$1\");\n    System.out.println(str); //prints viewemployee\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4270142,"reputation":9864,"user_id":3492139,"display_name":"ngrashia"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1667048265,"creation_date":1399616926,"answer_id":23557965,"question_id":23557870,"body_markdown":"The below will get you **viewemployee.jsff**:\r\n\r\n    int idx = fileName.replaceAll(&quot;\\\\&quot;, &quot;/&quot;).lastIndexOf(&quot;/&quot;);\r\n    String fileNameWithExtn = idx &gt;= 0 ? fileName.substring(idx + 1) : fileName;\r\n\r\nTo remove the file Extension and get only **viewemployee**, similarly:\r\n\r\n    idx = fileNameWithExtn.lastIndexOf(&quot;.&quot;);\r\n    String filename = idx &gt;= 0 ? fileNameWithExtn.substring(0,idx) : fileNameWithExtn;\r\n\r\n","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>The below will get you <strong>viewemployee.jsff</strong>:</p>\n<pre><code>int idx = fileName.replaceAll(&quot;\\\\&quot;, &quot;/&quot;).lastIndexOf(&quot;/&quot;);\nString fileNameWithExtn = idx &gt;= 0 ? fileName.substring(idx + 1) : fileName;\n</code></pre>\n<p>To remove the file Extension and get only <strong>viewemployee</strong>, similarly:</p>\n<pre><code>idx = fileNameWithExtn.lastIndexOf(&quot;.&quot;);\nString filename = idx &gt;= 0 ? fileNameWithExtn.substring(0,idx) : fileNameWithExtn;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3399504,"reputation":1907,"user_id":3531912,"accept_rate":36,"display_name":"Alessandro Suglia"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1667048358,"creation_date":1399616950,"answer_id":23557975,"question_id":23557870,"body_markdown":"Suppose that you have that string saved in a variable named `myString`.\r\n\r\n\r\n    String myString = &quot;core/pages/viewemployee.jsff&quot;;\r\n    String newString = myString.substring(myString.lastIndexOf(&quot;/&quot;)+1, myString.indexOf(&quot;.&quot;));\t\t\r\n\r\nBut you need to make the same control before doing `substring` in this one, because if there aren&#39;t those characters you will get a &quot;-1&quot; from `lastIndexOf()`, or `indexOf()`, and it will break your `substring` invocation.\r\n\r\nI suggest looking for [the Javadoc documentation][1].\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html\r\n","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>Suppose that you have that string saved in a variable named <code>myString</code>.</p>\n<pre><code>String myString = &quot;core/pages/viewemployee.jsff&quot;;\nString newString = myString.substring(myString.lastIndexOf(&quot;/&quot;)+1, myString.indexOf(&quot;.&quot;));      \n</code></pre>\n<p>But you need to make the same control before doing <code>substring</code> in this one, because if there aren't those characters you will get a &quot;-1&quot; from <code>lastIndexOf()</code>, or <code>indexOf()</code>, and it will break your <code>substring</code> invocation.</p>\n<p>I suggest looking for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">the Javadoc documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":144408,"reputation":2117,"user_id":353434,"display_name":"johncip"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667048458,"creation_date":1400662243,"answer_id":23778349,"question_id":23557870,"body_markdown":"These are file paths. Consider using File.getName(), especially if you already have the File object:\r\n\r\n    File file = new File(&quot;core/pages/viewemployee.jsff&quot;);\r\n    String name = file.getName(); // --&gt; &quot;viewemployee.jsff&quot;\r\n\r\nAnd to remove the extension:\r\n\r\n    String res = name.split(&quot;\\\\.[^\\\\.]*$&quot;)[0]; // --&gt; &quot;viewemployee&quot;\r\n\r\nWith this we can handle strings like `&quot;../viewemployee.2.jsff&quot;`.\r\n\r\nThe regex matches the last dot, zero or more non-dots, and the end of the string. Then String.split() treats these as a delimiter, and ignores them. The array will always have one element, unless the original string is `.`.\r\n\r\n\r\n","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>These are file paths. Consider using File.getName(), especially if you already have the File object:</p>\n<pre><code>File file = new File(&quot;core/pages/viewemployee.jsff&quot;);\nString name = file.getName(); // --&gt; &quot;viewemployee.jsff&quot;\n</code></pre>\n<p>And to remove the extension:</p>\n<pre><code>String res = name.split(&quot;\\\\.[^\\\\.]*$&quot;)[0]; // --&gt; &quot;viewemployee&quot;\n</code></pre>\n<p>With this we can handle strings like <code>&quot;../viewemployee.2.jsff&quot;</code>.</p>\n<p>The regex matches the last dot, zero or more non-dots, and the end of the string. Then String.split() treats these as a delimiter, and ignores them. The array will always have one element, unless the original string is <code>.</code>.</p>\n"}],"owner":{"account_id":4445957,"reputation":379,"user_id":3619225,"display_name":"user3619225"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40294,"favorite_count":0,"down_vote_count":42,"up_vote_count":45,"answer_count":5,"score":3,"last_activity_date":1667048458,"creation_date":1399616483,"question_id":23557870,"body_markdown":"I have a string like this:\r\n\r\n    &quot;core/pages/viewemployee.jsff&quot;\r\n\r\nFrom this code, I need to get &quot;viewemployee&quot;. How do I get this using Java?\r\n","title":"How to get the string before .(dot) and after /(last) slash in Java","body":"<p>I have a string like this:</p>\n\n<pre><code>\"core/pages/viewemployee.jsff\"\n</code></pre>\n\n<p>From this code, I need to get \"viewemployee\". How do I get this using Java?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1667032829,"post_id":74243703,"comment_id":131078453,"body_markdown":"_in swing I could use a KeyListener and use event.consume()_ Better to use a [document filter](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter). In JavaFX, you should use a [text formatter](https://stackoverflow.com/questions/40472668/numeric-textfield-for-integers-in-javafx-8-with-textformatter-and-or-unaryoperat)","body":"<i>in swing I could use a KeyListener and use event.consume()</i> Better to use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">document filter</a>. In JavaFX, you should use a <a href=\"https://stackoverflow.com/questions/40472668/numeric-textfield-for-integers-in-javafx-8-with-textformatter-and-or-unaryoperat\">text formatter</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1667033798,"post_id":74243703,"comment_id":131078583,"body_markdown":"JavaFX is not the same as *Swing* and you can&#39;t write JavaFX applications the same way you write *Swing* applications and that includes [event handling](https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm#JFXED117) code.","body":"JavaFX is not the same as <i>Swing</i> and you can&#39;t write JavaFX applications the same way you write <i>Swing</i> applications and that includes <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm#JFXED117\" rel=\"nofollow noreferrer\">event handling</a> code."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667106932,"post_id":74243703,"comment_id":131090142,"body_markdown":"High level nodes (i.e. controls such as `TextField`) already implement fairly complex behavior internally, via event listeners for low-level events such as mouse and key events. Implementing your own listeners for these low-level events is not robust, because it relies on how the internal key handling is implemented. You don&#39;t know if the text field processes `KEY_TYPED`, `KEY_PRESSED`, or `KEY_RELEASED` events, or whether it processes them with event handlers or event filters. On the other hand, the text formatter approach is specified and supported by the API; thus it is the correct approach","body":"High level nodes (i.e. controls such as <code>TextField</code>) already implement fairly complex behavior internally, via event listeners for low-level events such as mouse and key events. Implementing your own listeners for these low-level events is not robust, because it relies on how the internal key handling is implemented. You don&#39;t know if the text field processes <code>KEY_TYPED</code>, <code>KEY_PRESSED</code>, or <code>KEY_RELEASED</code> events, or whether it processes them with event handlers or event filters. On the other hand, the text formatter approach is specified and supported by the API; thus it is the correct approach"}],"owner":{"account_id":4269116,"reputation":91,"user_id":3491432,"accept_rate":33,"display_name":"user3491432"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667048359,"creation_date":1667030217,"question_id":74243703,"body_markdown":"`KeyEvent.consume` does not work in JavaFX.\r\n\r\nI’m new to JavaFX (coming from using *Swing*) and I’m trying to make a program that blocks certain characters from being typed into a `TextField`. Now in *Swing* I could use a `KeyListener` and use `event.consume();` to prevent the event from being processed and typed into the `JTextField`. But in the JavaFX’s `EventHandler` while `KeyEvent` does have a `consume` method it does not work and the character is still typed into the `TextField`. Here is the code for the `TextField` `EventHandler`.\r\n\r\n\tinput1TextField.setOnKeyTyped(new EventHandler&lt;KeyEvent&gt;() {\r\n\r\n\t\t@Override\r\n\t\tpublic void handle(KeyEvent event) {\r\n\t\t\tSystem.out.println(event.getCharacter());\r\n\t\t\tevent.consume();//this does not work\r\n\t\t}\r\n\t});\r\n\r\n","title":"JavaFx how to consume a KeyEvent","body":"<p><code>KeyEvent.consume</code> does not work in JavaFX.</p>\n<p>I’m new to JavaFX (coming from using <em>Swing</em>) and I’m trying to make a program that blocks certain characters from being typed into a <code>TextField</code>. Now in <em>Swing</em> I could use a <code>KeyListener</code> and use <code>event.consume();</code> to prevent the event from being processed and typed into the <code>JTextField</code>. But in the JavaFX’s <code>EventHandler</code> while <code>KeyEvent</code> does have a <code>consume</code> method it does not work and the character is still typed into the <code>TextField</code>. Here is the code for the <code>TextField</code> <code>EventHandler</code>.</p>\n<pre><code>input1TextField.setOnKeyTyped(new EventHandler&lt;KeyEvent&gt;() {\n\n    @Override\n    public void handle(KeyEvent event) {\n        System.out.println(event.getCharacter());\n        event.consume();//this does not work\n    }\n});\n</code></pre>\n"},{"tags":["java","oop","design-patterns","null-object-pattern"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667047088,"post_id":74245308,"comment_id":131080685,"body_markdown":"Returning an immutable list shouldn&#39;t be a problem since we merge in a mutable `ArrayList`. [Ideone demo](https://ideone.com/SahbCe).","body":"Returning an immutable list shouldn&#39;t be a problem since we merge in a mutable <code>ArrayList</code>. <a href=\"https://ideone.com/SahbCe\" rel=\"nofollow noreferrer\">Ideone demo</a>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667047486,"post_id":74245308,"comment_id":131080771,"body_markdown":"There is, of course, the possibility to transform all those lists into streams, concatenate the streams and then collect to a list. But this seems over-engineered and gets messy fast. [Ideone demo](https://ideone.com/GhMKMO)","body":"There is, of course, the possibility to transform all those lists into streams, concatenate the streams and then collect to a list. But this seems over-engineered and gets messy fast. <a href=\"https://ideone.com/GhMKMO\" rel=\"nofollow noreferrer\">Ideone demo</a>"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1667047684,"post_id":74245308,"comment_id":131080815,"body_markdown":"@Turing85: Good point. I updated my post. I messed up the example","body":"@Turing85: Good point. I updated my post. I messed up the example"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1667047790,"post_id":74245308,"comment_id":131080841,"body_markdown":"Replace `List&lt;Foo&gt; result = getItems(bar, x);` with `ArrayList&lt;Foo&gt; result = new ArrayList&lt;&gt;(getitems(bar, x));` and you&#39;re good to go.","body":"Replace <code>List&lt;Foo&gt; result = getItems(bar, x);</code> with <code>ArrayList&lt;Foo&gt; result = new ArrayList&lt;&gt;(getitems(bar, x));</code> and you&#39;re good to go."},{"owner":{"account_id":14787039,"reputation":5673,"user_id":10678955,"display_name":"root"},"score":2,"creation_date":1667109987,"post_id":74245308,"comment_id":131090445,"body_markdown":"If the caller is going to modify the list, then it makes no sense to &quot;avoid instantiating a new list&quot;. The only question is whether you&#39;re instantiating it in the caller or within `getItems()`. The former is better practice.","body":"If the caller is going to modify the list, then it makes no sense to &quot;avoid instantiating a new list&quot;. The only question is whether you&#39;re instantiating it in the caller or within <code>getItems()</code>. The former is better practice."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1667158515,"post_id":74245308,"comment_id":131099359,"body_markdown":"@root: `instantiating it in the caller` what do you mean by this? What Turing85 mentions? Also why is it better practice so I understand it better?","body":"@root: <code>instantiating it in the caller</code> what do you mean by this? What Turing85 mentions? Also why is it better practice so I understand it better?"},{"owner":{"account_id":14787039,"reputation":5673,"user_id":10678955,"display_name":"root"},"score":0,"creation_date":1667176683,"post_id":74245308,"comment_id":131102406,"body_markdown":"Yes, I mean what @Turing85 mentions. And it&#39;s better practice precisely because the function can return immutable objects if it wants to, and new objects get instantiated only if the caller needs new instances.","body":"Yes, I mean what @Turing85 mentions. And it&#39;s better practice precisely because the function can return immutable objects if it wants to, and new objects get instantiated only if the caller needs new instances."}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667047666,"creation_date":1667046858,"question_id":74245308,"body_markdown":"I have a method that returns a `List`.  \r\nE.g.  \r\n`List&lt;Foo&gt; getItems(Bar bar, X x)`  \r\n\r\nI don&#39;t want the method to return `null` to avoid null pointer exception and do something like:  \r\n\r\n    List&lt;Foo&gt; getItems(Bar bar, X x) {\r\n       if(!bar.conditionA() || !x.conditionB()) {\r\n         return new ArrayList&lt;&gt;();  \r\n       }\r\n    }\r\n\r\nNote that the calling code uses the returning list to merge it with other lists.  \r\nE.g.  \r\n\r\n    List&lt;Foo&gt; result = getItems(bar, x);\r\n    result.addAll(getFoo());  \r\n    result.addAll(getAll());  \r\n    result.addAll(getItems(bar, x));  \r\n    etc\r\n     \r\nMy question is the following: from what I have seen some think that it is more optimal to return e.g. `Collections.emptyList()` to avoid instantiating a new list, but the issue is that if I change to follow that then the calling code becomes I think more complicated because the `Collections.emptyList()` is immutable so the calling code should be:  \r\n\r\n    List&lt;Foo&gt; result = getItems(bar, x);\r\n    if(!result.isEmpty()) {\r\n       result.addAll(getFoo());  \r\n       result.addAll(getAll());\r\n     }  \r\n    etc\r\n\r\nwhich to me seems a bit more tedius.   \r\n\r\nIs there another way to handle both approaches nice?","title":"Not returning a null list but also not returning an immutable empty one and alternative approaches","body":"<p>I have a method that returns a <code>List</code>.<br />\nE.g.<br />\n<code>List&lt;Foo&gt; getItems(Bar bar, X x)</code></p>\n<p>I don't want the method to return <code>null</code> to avoid null pointer exception and do something like:</p>\n<pre><code>List&lt;Foo&gt; getItems(Bar bar, X x) {\n   if(!bar.conditionA() || !x.conditionB()) {\n     return new ArrayList&lt;&gt;();  \n   }\n}\n</code></pre>\n<p>Note that the calling code uses the returning list to merge it with other lists.<br />\nE.g.</p>\n<pre><code>List&lt;Foo&gt; result = getItems(bar, x);\nresult.addAll(getFoo());  \nresult.addAll(getAll());  \nresult.addAll(getItems(bar, x));  \netc\n \n</code></pre>\n<p>My question is the following: from what I have seen some think that it is more optimal to return e.g. <code>Collections.emptyList()</code> to avoid instantiating a new list, but the issue is that if I change to follow that then the calling code becomes I think more complicated because the <code>Collections.emptyList()</code> is immutable so the calling code should be:</p>\n<pre><code>List&lt;Foo&gt; result = getItems(bar, x);\nif(!result.isEmpty()) {\n   result.addAll(getFoo());  \n   result.addAll(getAll());\n }  \netc\n</code></pre>\n<p>which to me seems a bit more tedius.</p>\n<p>Is there another way to handle both approaches nice?</p>\n"},{"tags":["java","arrays","apache-spark","tuples"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1667050690,"post_id":74245285,"comment_id":131081447,"body_markdown":"Please show us the code you are trying to use to store a double. From your error message, it sounds like you are trying to do something like `Double value = someCodeThatReturnsAList;` which won&#39;t work, instead you need to save the results to a list `List&lt;Double&gt; values = someCodeThatReturnsAList;`","body":"Please show us the code you are trying to use to store a double. From your error message, it sounds like you are trying to do something like <code>Double value = someCodeThatReturnsAList;</code> which won&#39;t work, instead you need to save the results to a list <code>List&lt;Double&gt; values = someCodeThatReturnsAList;</code>"},{"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"score":0,"creation_date":1667052927,"post_id":74245285,"comment_id":131081945,"body_markdown":"`List&lt;Double&gt; list = new ArrayList&lt;&gt;(Arrays.asList(r.get(0)._1._1));`\nTried things like these, they all give the same error,\neven `System.out.println(r.get(0)._1._1.getClass());`\ngives the same error","body":"<code>List&lt;Double&gt; list = new ArrayList&lt;&gt;(Arrays.asList(r.get(0)._1._1));</code> Tried things like these, they all give the same error, even <code>System.out.println(r.get(0)._1._1.getClass());</code> gives the same error"},{"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"score":0,"creation_date":1667064570,"post_id":74245285,"comment_id":131084439,"body_markdown":"I think it is because `Tuple2` are immutable, I should encapsule my data in an class, and run from there, I will update with a solution","body":"I think it is because <code>Tuple2</code> are immutable, I should encapsule my data in an class, and run from there, I will update with a solution"}],"owner":{"account_id":14515757,"reputation":132,"user_id":10484940,"display_name":"vtsimp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667046634,"creation_date":1667046634,"question_id":74245285,"body_markdown":"I have created a List with Nested tuples (for computational reasons), and I am unable to properly extract the contents of it. (java newbie as well)\r\n\r\n`List&lt;Tuple2&lt;Tuple2&lt;Double, Integer&gt;, Tuple2&lt;Double, Integer&gt;&gt;&gt; r = cartesian.collect();\r\nSystem.out.println(r.get(0)._1._1);`        \r\n \r\ngives [0.3516409608778351, 0.3516409608778351, 0.3516409608778351, -0.33691648632337207, -0.7180063963101246]\r\n\r\nMy question is how to store this to a Double[] array\r\nSo far I&#39;ve tried a few things, all give me the same error:\r\n`class com.google.common.primitives.Doubles$DoubleArrayAsList cannot be cast to class java.lang.Double`","title":"Extracting nested Double[] array from Tuple2","body":"<p>I have created a List with Nested tuples (for computational reasons), and I am unable to properly extract the contents of it. (java newbie as well)</p>\n<p><code>List&lt;Tuple2&lt;Tuple2&lt;Double, Integer&gt;, Tuple2&lt;Double, Integer&gt;&gt;&gt; r = cartesian.collect(); System.out.println(r.get(0)._1._1);</code></p>\n<p>gives [0.3516409608778351, 0.3516409608778351, 0.3516409608778351, -0.33691648632337207, -0.7180063963101246]</p>\n<p>My question is how to store this to a Double[] array\nSo far I've tried a few things, all give me the same error:\n<code>class com.google.common.primitives.Doubles$DoubleArrayAsList cannot be cast to class java.lang.Double</code></p>\n"},{"tags":["java","flutter","dart","flutter-packages"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667057520,"post_id":74244079,"comment_id":131082889,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667046119,"creation_date":1667046119,"answer_id":74245224,"question_id":74244079,"body_markdown":"If you look at the current [javadocs][1] for `FlutterLoader`, it doesn&#39;t declare a `getInstance()` method anymore.   The method was deprecated and then removed.\r\n\r\nAccording to https://stackoverflow.com/a/64456438/139985, since Flutter 1.22 you need to get hold of a `FlutterLoader` instance using `FlutterInjector`:\r\n\r\n    import io.flutter.FlutterInjector;\r\n    ...\r\n    FlutterLoader loader = FlutterInjector.instance().flutterLoader();\r\n\r\n\r\nSee also: https://stackoverflow.com/questions/25706216\r\n\r\n\r\n  [1]: https://api.flutter.dev/javadoc/io/flutter/embedding/engine/loader/FlutterLoader.html","title":"after adding wallpaper manager package it showing :(","body":"<p>If you look at the current <a href=\"https://api.flutter.dev/javadoc/io/flutter/embedding/engine/loader/FlutterLoader.html\" rel=\"nofollow noreferrer\">javadocs</a> for <code>FlutterLoader</code>, it doesn't declare a <code>getInstance()</code> method anymore.   The method was deprecated and then removed.</p>\n<p>According to <a href=\"https://stackoverflow.com/a/64456438/139985\">https://stackoverflow.com/a/64456438/139985</a>, since Flutter 1.22 you need to get hold of a <code>FlutterLoader</code> instance using <code>FlutterInjector</code>:</p>\n<pre><code>import io.flutter.FlutterInjector;\n...\nFlutterLoader loader = FlutterInjector.instance().flutterLoader();\n</code></pre>\n<p>See also: <a href=\"https://stackoverflow.com/questions/25706216\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a></p>\n"}],"owner":{"account_id":26081321,"reputation":1,"user_id":19779426,"display_name":"nbz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667046119,"creation_date":1667034581,"question_id":74244079,"body_markdown":"`\r\n```\r\nC:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\wallpaper_manager-1.0.10\\android\\src\\main\\java\\com\\mulgundkar\\wallpaper_manager\\WallpaperManagerPlugin.java:129: error: cannot find symbol\r\n                String assetLookupKey = FlutterLoader.getInstance().getLookupKeyForAsset(assetPath);\r\n                                                     ^\r\n  symbol:   method getInstance()\r\n  location: class FlutterLoader\r\nC:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\wallpaper_manager-1.0.10\\android\\src\\main\\java\\com\\mulgundkar\\wallpaper_manager\\WallpaperManagerPlugin.java:152: error: cannot find symbol\r\n                String assetLookupKey = FlutterLoader.getInstance().getLookupKeyForAsset(assetPath);\r\n                                                     ^\r\n\r\n  symbol:   method getInstance()\r\n  location: class FlutterLoader\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n2 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:wallpaper_manager:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n```\r\n`\r\n\r\nwallpaper_manager: any\r\nWhen I add the package, the project gives an error. \r\nThere was no problem in the old versions of flutter, but the application does not work anymore, how should I proceed?","title":"after adding wallpaper manager package it showing :(","body":"<p>`</p>\n<pre><code>C:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\wallpaper_manager-1.0.10\\android\\src\\main\\java\\com\\mulgundkar\\wallpaper_manager\\WallpaperManagerPlugin.java:129: error: cannot find symbol\n                String assetLookupKey = FlutterLoader.getInstance().getLookupKeyForAsset(assetPath);\n                                                     ^\n  symbol:   method getInstance()\n  location: class FlutterLoader\nC:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\wallpaper_manager-1.0.10\\android\\src\\main\\java\\com\\mulgundkar\\wallpaper_manager\\WallpaperManagerPlugin.java:152: error: cannot find symbol\n                String assetLookupKey = FlutterLoader.getInstance().getLookupKeyForAsset(assetPath);\n                                                     ^\n\n  symbol:   method getInstance()\n  location: class FlutterLoader\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':wallpaper_manager:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>`</p>\n<p>wallpaper_manager: any\nWhen I add the package, the project gives an error.\nThere was no problem in the old versions of flutter, but the application does not work anymore, how should I proceed?</p>\n"},{"tags":["java","annotations","code-generation","annotation-processing"],"comments":[{"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"score":1,"creation_date":1666766306,"post_id":74197471,"comment_id":131011016,"body_markdown":"You need to provide more context on this, share the error and a little of your code that you use to write the generated sources. using intellij you can also use the debug build process option to trace the errors in your processor code.","body":"You need to provide more context on this, share the error and a little of your code that you use to write the generated sources. using intellij you can also use the debug build process option to trace the errors in your processor code."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1666823254,"post_id":74197471,"comment_id":131029848,"body_markdown":"Maybe the thing is in old generated files (sources and classes). Do clean compilation. If you use Maven `mvn clean`, `mvn compile`.","body":"Maybe the thing is in old generated files (sources and classes). Do clean compilation. If you use Maven <code>mvn clean</code>, <code>mvn compile</code>."},{"owner":{"account_id":5909280,"reputation":11,"user_id":16940017,"display_name":"Apollo917"},"score":0,"creation_date":1666959035,"post_id":74197471,"comment_id":131063506,"body_markdown":"Yes, as Dmytro suggested, the problem in compiled source code. (I&#39;ve forgot to mention this in my questions) and yes - processors code 100% correct. The questions is: is it common problem for annotation processors? If yes - what the best practices to solve it?","body":"Yes, as Dmytro suggested, the problem in compiled source code. (I&#39;ve forgot to mention this in my questions) and yes - processors code 100% correct. The questions is: is it common problem for annotation processors? If yes - what the best practices to solve it?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1667278583,"post_id":74197471,"comment_id":131125776,"body_markdown":"@Apollo917 Not only with annotation processors. With auto-generated code it&#39;s a good practice to do clean compilation in order to avoid outdated cached code.","body":"@Apollo917 Not only with annotation processors. With auto-generated code it&#39;s a good practice to do clean compilation in order to avoid outdated cached code."}],"owner":{"account_id":5909280,"reputation":11,"user_id":16940017,"display_name":"Apollo917"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667045860,"creation_date":1666715890,"question_id":74197471,"body_markdown":"I am using annotation processors for compile time validation and code generation (with help of Javapoet), Apache Maven, Intellij Idea.\r\n\r\nWhen I am running my app for the &quot;first time&quot; (when **target** directory not generated yet after it&#39;s removal or mvn clean command execution) everything is works as it should. \r\n\r\nBut, if I&#39;ll change somemething in code, for example to trigger some validation case - it shows random validation errors. If I&#39;ll remove **target** directory - everything works fine.\r\n\r\nLittle bit of context. For example I have such code, with is annotated with my custom annotations:\r\n\r\n```\r\n@ActionSequenceConfiguration(\r\n        name = CAT_WASH_SEQUENCE,\r\n        actions = {\r\n                WATER_SUPPLIER_ACTION,\r\n                SOAP_SUPPLIER_ACTION,\r\n                TOY_SUPPLIER_ACTION,\r\n                WASH_CAT_ACTION\r\n        }\r\n)\r\nActionSequence getCatWashSequence(@InitialParam(CAT_PARAM) Cat cat);\r\n```\r\n\r\nOne of annotation processors checks, if all actions with names provided into **ActionSequenceConfiguration** are exist. So if I will change any code, which is not related to actions and their presence - I&#39;ll get false error (it will not happen if **target** dir doesn&#39;t exists or removed).\r\n\r\nUPD: as suggested in comments, it should be problem in compiled files and classes. Is this problem common for all annotation processors?","title":"Annotation processors works incorrectly when target directory already presents. Is there any solution except remove target dir?","body":"<p>I am using annotation processors for compile time validation and code generation (with help of Javapoet), Apache Maven, Intellij Idea.</p>\n<p>When I am running my app for the &quot;first time&quot; (when <strong>target</strong> directory not generated yet after it's removal or mvn clean command execution) everything is works as it should.</p>\n<p>But, if I'll change somemething in code, for example to trigger some validation case - it shows random validation errors. If I'll remove <strong>target</strong> directory - everything works fine.</p>\n<p>Little bit of context. For example I have such code, with is annotated with my custom annotations:</p>\n<pre><code>@ActionSequenceConfiguration(\n        name = CAT_WASH_SEQUENCE,\n        actions = {\n                WATER_SUPPLIER_ACTION,\n                SOAP_SUPPLIER_ACTION,\n                TOY_SUPPLIER_ACTION,\n                WASH_CAT_ACTION\n        }\n)\nActionSequence getCatWashSequence(@InitialParam(CAT_PARAM) Cat cat);\n</code></pre>\n<p>One of annotation processors checks, if all actions with names provided into <strong>ActionSequenceConfiguration</strong> are exist. So if I will change any code, which is not related to actions and their presence - I'll get false error (it will not happen if <strong>target</strong> dir doesn't exists or removed).</p>\n<p>UPD: as suggested in comments, it should be problem in compiled files and classes. Is this problem common for all annotation processors?</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":2,"creation_date":1667036781,"post_id":74244134,"comment_id":131079042,"body_markdown":"Finding the maximum value of an array does not lend itself to recursion, so I guess this is an exercise you have been set, so I won&#39;t give you the answer, just give you pointers as to how to approach the problem.  \n1/ You will need to pass the `maximumSoFar` as a parameter, as well as the `arrayToCheck`  \n2/ The recursive function really only needs to check the first element, then recursivly call itself with parameters, as the max of the first element, and the `maximumSoFar`, and the cdr(all but the first element) of the array). You may find the Arrays class usefull.","body":"Finding the maximum value of an array does not lend itself to recursion, so I guess this is an exercise you have been set, so I won&#39;t give you the answer, just give you pointers as to how to approach the problem.   1/ You will need to pass the <code>maximumSoFar</code> as a parameter, as well as the <code>arrayToCheck</code>   2/ The recursive function really only needs to check the first element, then recursivly call itself with parameters, as the max of the first element, and the <code>maximumSoFar</code>, and the cdr(all but the first element) of the array). You may find the Arrays class usefull."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667036489,"creation_date":1667036489,"answer_id":74244247,"question_id":74244134,"body_markdown":"I modified the accepted answer to [Finding Max value in an array using recursion][1].\r\n\r\nAs you suggested (i.e. decrease the array length with each recursive method invocation), I create a copy of the method parameter whose length is one less than the parameter and remove the first element. Then I recursively call the method with the array copy.\r\n```java\r\npublic class Main {\r\n\r\n    public static int valorMaxim(int arr[]){\r\n        if (arr.length == 1) {\r\n            return arr[0];\r\n        }\r\n        else {\r\n            int[] tmp = new int[arr.length - 1];\r\n            System.arraycopy(arr, 1, tmp, 0, tmp.length);\r\n            return Math.max(arr[0], valorMaxim(tmp));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(valorMaxim(new int[]{1, 5, 252, 24, 7, 82, 3}));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19590242/finding-max-value-in-an-array-using-recursion","title":"How I could find the maxim value of an array with recursive without having an index?","body":"<p>I modified the accepted answer to <a href=\"https://stackoverflow.com/questions/19590242/finding-max-value-in-an-array-using-recursion\">Finding Max value in an array using recursion</a>.</p>\n<p>As you suggested (i.e. decrease the array length with each recursive method invocation), I create a copy of the method parameter whose length is one less than the parameter and remove the first element. Then I recursively call the method with the array copy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static int valorMaxim(int arr[]){\n        if (arr.length == 1) {\n            return arr[0];\n        }\n        else {\n            int[] tmp = new int[arr.length - 1];\n            System.arraycopy(arr, 1, tmp, 0, tmp.length);\n            return Math.max(arr[0], valorMaxim(tmp));\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(valorMaxim(new int[]{1, 5, 252, 24, 7, 82, 3}));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667044405,"creation_date":1667039561,"answer_id":74244537,"question_id":74244134,"body_markdown":"Basically, the recursive idea is:\r\n\r\n 1.  If the array has length 1, return the only element;\r\n 2.  Otherwise, split the array into `x` the first element, and `xs` the rest;\r\n 3.  Find the maximum element within `xs`, compare it to `x` and yield the greater.\r\n\r\nThere are two ways to achieve such a &quot;split&quot;:\r\n\r\n1.  Create a new copy of part of the array for `xs`\r\n\r\n    You can either use `System.arraycopy` (see answer by @Abra) or `Arrays.copyOfRange`, which is simpler:\r\n\r\n    ```java\r\n    int x = arr[0];\r\n    int[] xs = Arrays.copyOfRange(arr, 1, arr.length);\r\n    ```\r\n\r\n    And now we lookup the maximum element within `xs` (which is `valorMaxim(xs)`), and compare it to `x` as the final result:\r\n\r\n    ```java\r\n    return Math.max(x, valorMaxim(xs));\r\n    ```\r\n\r\n    Put everything together, and don&#39;t forget to add a length checker:\r\n\r\n    ```java\r\n    public static int valorMaxim(int arr[])\r\n    {\r\n    \tif (arr.length == 1) return arr[0];\r\n\r\n    \tint x = arr[0];\r\n    \tint[] xs = Arrays.copyOfRange(arr, 1, arr.length);\r\n\r\n    \treturn Math.max(x, valorMaxim(xs));\r\n    }\r\n    ```\r\n\r\n    And that&#39;s it! Since we have the length checker in the first place,\r\n    we can safely make sure `xs` would never be empty, and hence `valorMaxim(xs)` would\r\n    never result in `ArrayIndexOutOfBoundsException`.\r\n\r\n2.  Set a boundary for the array\r\n\r\n    You may have found that copying a new array at each time could be time- and memory-consuming.\r\n    Instead of creating a physical copy for `xs`, we can conceptualise the idea\r\n    and use a bounded array instead. We would need to define a helper method to do so:\r\n\r\n    ```java\r\n    private static int findMaxBound(int arr[], int startFrom)\r\n    {\r\n    \t// does &quot;xs&quot; have length 1?\r\n    \tif (startFrom == arr.length - 1) return arr[startFrom];\r\n\r\n    \tint x = arr[startFrom];\r\n    \tint maxInXs = findMaxBound(arr, startFrom + 1);\r\n\r\n    \treturn Math.max(x, maxInXs);\r\n    }\r\n    ```\r\n\r\n    And then we can define `valorMaxim` as\r\n\r\n    ```java\r\n    public static int valorMaxim(int arr[])\r\n    {\r\n    \treturn findMaxBound(arr, 0);\r\n    }\r\n    ```\r\n\r\n    In the end, we did not create any new copies of `arr`\r\n    but uses different ranges of itself and treat them as `xs` throughout the process.","title":"How I could find the maxim value of an array with recursive without having an index?","body":"<p>Basically, the recursive idea is:</p>\n<ol>\n<li>If the array has length 1, return the only element;</li>\n<li>Otherwise, split the array into <code>x</code> the first element, and <code>xs</code> the rest;</li>\n<li>Find the maximum element within <code>xs</code>, compare it to <code>x</code> and yield the greater.</li>\n</ol>\n<p>There are two ways to achieve such a &quot;split&quot;:</p>\n<ol>\n<li><p>Create a new copy of part of the array for <code>xs</code></p>\n<p>You can either use <code>System.arraycopy</code> (see answer by @Abra) or <code>Arrays.copyOfRange</code>, which is simpler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = arr[0];\nint[] xs = Arrays.copyOfRange(arr, 1, arr.length);\n</code></pre>\n<p>And now we lookup the maximum element within <code>xs</code> (which is <code>valorMaxim(xs)</code>), and compare it to <code>x</code> as the final result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Math.max(x, valorMaxim(xs));\n</code></pre>\n<p>Put everything together, and don't forget to add a length checker:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int valorMaxim(int arr[])\n{\n    if (arr.length == 1) return arr[0];\n\n    int x = arr[0];\n    int[] xs = Arrays.copyOfRange(arr, 1, arr.length);\n\n    return Math.max(x, valorMaxim(xs));\n}\n</code></pre>\n<p>And that's it! Since we have the length checker in the first place,\nwe can safely make sure <code>xs</code> would never be empty, and hence <code>valorMaxim(xs)</code> would\nnever result in <code>ArrayIndexOutOfBoundsException</code>.</p>\n</li>\n<li><p>Set a boundary for the array</p>\n<p>You may have found that copying a new array at each time could be time- and memory-consuming.\nInstead of creating a physical copy for <code>xs</code>, we can conceptualise the idea\nand use a bounded array instead. We would need to define a helper method to do so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int findMaxBound(int arr[], int startFrom)\n{\n    // does &quot;xs&quot; have length 1?\n    if (startFrom == arr.length - 1) return arr[startFrom];\n\n    int x = arr[startFrom];\n    int maxInXs = findMaxBound(arr, startFrom + 1);\n\n    return Math.max(x, maxInXs);\n}\n</code></pre>\n<p>And then we can define <code>valorMaxim</code> as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int valorMaxim(int arr[])\n{\n    return findMaxBound(arr, 0);\n}\n</code></pre>\n<p>In the end, we did not create any new copies of <code>arr</code>\nbut uses different ranges of itself and treat them as <code>xs</code> throughout the process.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25284304,"reputation":35,"user_id":19111628,"display_name":"ERFAKLK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1667044405,"creation_date":1667035327,"question_id":74244134,"body_markdown":"I have that method `valorMaxim([1, 5, 252, 24, 7, 82, 3])` returns 252.\r\nI don&#39;t know how to do it. I have been thinking if I could decrease the array length.\r\n```java\r\npublic static int valorMaxim(int arr[]){\r\n    int max;\r\n\r\n    if(arr.length==1)\r\n        return arr[0];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (arr[i] &lt; arr[i+1]) {\r\n            max=arr[i+1];\r\n            return arr[i+1];\r\n        }\r\n    }\r\n    return valorMaxim(arr);\r\n\r\n    //Retorna el valor m&#224;xim en un array no buit d’enters.\r\n}\r\n```\r\n","title":"How I could find the maxim value of an array with recursive without having an index?","body":"<p>I have that method <code>valorMaxim([1, 5, 252, 24, 7, 82, 3])</code> returns 252.\nI don't know how to do it. I have been thinking if I could decrease the array length.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int valorMaxim(int arr[]){\n    int max;\n\n    if(arr.length==1)\n        return arr[0];\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] &lt; arr[i+1]) {\n            max=arr[i+1];\n            return arr[i+1];\n        }\n    }\n    return valorMaxim(arr);\n\n    //Retorna el valor màxim en un array no buit d’enters.\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1555350204,"post_id":55694629,"comment_id":98071879,"body_markdown":"What&#39;s your Java version?  [`List.of`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of(E,E)) was new in Java 9.","body":"What&#39;s your Java version?  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of(E,E)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> was new in Java 9."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1555350219,"post_id":55694629,"comment_id":98071892,"body_markdown":"The `List.of(..)` is available in JDK9+ as far as I know. So my assumption is you are using JDK8...","body":"The <code>List.of(..)</code> is available in JDK9+ as far as I know. So my assumption is you are using JDK8..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1555350905,"post_id":55694629,"comment_id":98072188,"body_markdown":"You can use `Arrays.asList` in earlier Java versions (`Collections.unmodifableList(Arrays.asList(...))`, if you&#39;re being picky).","body":"You can use <code>Arrays.asList</code> in earlier Java versions (<code>Collections.unmodifableList(Arrays.asList(...))</code>, if you&#39;re being picky)."}],"answers":[{"tags":[],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1555350375,"creation_date":1555350219,"answer_id":55694664,"question_id":55694629,"body_markdown":"The overloaded [`List.of` methods](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of--) were introduced in Java 9.\r\n\r\n&gt; **Since:**  \r\n&gt;  9\r\n\r\nYou must be compiling with an older version. Update to Java 9 or later. [Here&#39;s how.](https://stackoverflow.com/questions/18987228/how-do-i-change-the-intellij-idea-default-jdk)","title":"Cannot resolve method &#39;List.of(java.lang.String, java.lang.String)&#39;","body":"<p>The overloaded <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of--\" rel=\"noreferrer\"><code>List.of</code> methods</a> were introduced in Java 9.</p>\n\n<blockquote>\n  <p><strong>Since:</strong><br>\n   9</p>\n</blockquote>\n\n<p>You must be compiling with an older version. Update to Java 9 or later. <a href=\"https://stackoverflow.com/questions/18987228/how-do-i-change-the-intellij-idea-default-jdk\">Here's how.</a></p>\n"},{"tags":[],"owner":{"account_id":7032562,"reputation":3009,"user_id":5387729,"accept_rate":65,"display_name":"Rijo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667043902,"creation_date":1667043902,"answer_id":74244969,"question_id":55694629,"body_markdown":"You can use *Arrays.asList*.\r\n\r\nList.of will support java 9 and above","title":"Cannot resolve method &#39;List.of(java.lang.String, java.lang.String)&#39;","body":"<p>You can use <em>Arrays.asList</em>.</p>\n<p>List.of will support java 9 and above</p>\n"}],"owner":{"account_id":13685553,"reputation":137,"user_id":9874733,"display_name":"M.Gumede"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16799,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1667043902,"creation_date":1555350093,"question_id":55694629,"body_markdown":"I&#39;ve been trying to create a simple hello world application with Java and SpringBoot in IntelliJ IDEA, but I get this error and I don&#39;t know how to solve it.\r\n\r\nI get the error at the return. Java doesn&#39;t seem to know how to resolve the `of` method that&#39;s in the `public List&lt;String&gt; getHelloWorld` method.\r\n\r\n```\r\npackage com.myname.SpringApp;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport java.util.List;\r\n\r\n\r\n@RestController\r\npublic class HelloWorldController {\r\n    @RequestMapping(&quot;api/hello-world&quot;)\r\n    @GetMapping\r\n    public List&lt;String&gt; getHelloWorld(){\r\n        return List.of(&quot;Hello&quot;, &quot;World&quot;);\r\n    }\r\n}\r\n\r\n```","title":"Cannot resolve method &#39;List.of(java.lang.String, java.lang.String)&#39;","body":"<p>I've been trying to create a simple hello world application with Java and SpringBoot in IntelliJ IDEA, but I get this error and I don't know how to solve it.</p>\n\n<p>I get the error at the return. Java doesn't seem to know how to resolve the <code>of</code> method that's in the <code>public List&lt;String&gt; getHelloWorld</code> method.</p>\n\n<pre><code>package com.myname.SpringApp;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.util.List;\n\n\n@RestController\npublic class HelloWorldController {\n    @RequestMapping(\"api/hello-world\")\n    @GetMapping\n    public List&lt;String&gt; getHelloWorld(){\n        return List.of(\"Hello\", \"World\");\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":432714,"reputation":166472,"user_id":817643,"accept_rate":90,"display_name":"StoryTeller - Unslander Monica"},"score":0,"creation_date":1380031730,"post_id":18983883,"comment_id":28041497,"body_markdown":"You seem to have a function in-place, what exactly is the problem?","body":"You seem to have a function in-place, what exactly is the problem?"},{"owner":{"account_id":2278116,"reputation":6461,"user_id":2003898,"accept_rate":78,"display_name":"dhein"},"score":0,"creation_date":1380031870,"post_id":18983883,"comment_id":28041595,"body_markdown":"Even if you won&#39;t hit in this case the limit, I like to inform people when I see such big switch cases, that it produces undefined behavior if you have a switch with more then 1023 containing cases.","body":"Even if you won&#39;t hit in this case the limit, I like to inform people when I see such big switch cases, that it produces undefined behavior if you have a switch with more then 1023 containing cases."},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380032354,"post_id":18983883,"comment_id":28041956,"body_markdown":"It&#39;s giving me an error Too few arguments in function call","body":"It&#39;s giving me an error Too few arguments in function call"},{"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"score":0,"creation_date":1380032548,"post_id":18983883,"comment_id":28042089,"body_markdown":"Were we supposed to *guess* that? Are we now supposed to guess which line that error occurs on? Should we also guess how many arguments are *supposed* to be there? Today&#39;s your lucky day: You&#39;ll learn a bit about programming, *and* you&#39;ll pick up some basic question-asking skills. The later will help you in life more than the former.","body":"Were we supposed to <i>guess</i> that? Are we now supposed to guess which line that error occurs on? Should we also guess how many arguments are <i>supposed</i> to be there? Today&#39;s your lucky day: You&#39;ll learn a bit about programming, <i>and</i> you&#39;ll pick up some basic question-asking skills. The later will help you in life more than the former."},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380032785,"post_id":18983883,"comment_id":28042256,"body_markdown":"I managed to solve that was a stupid miss type, but its not calculating the score.","body":"I managed to solve that was a stupid miss type, but its not calculating the score."},{"owner":{"account_id":432714,"reputation":166472,"user_id":817643,"accept_rate":90,"display_name":"StoryTeller - Unslander Monica"},"score":3,"creation_date":1380032862,"post_id":18983883,"comment_id":28042307,"body_markdown":"You check for uppercase letters only.","body":"You check for uppercase letters only."},{"owner":{"account_id":15786,"reputation":161764,"user_id":33732,"accept_rate":67,"display_name":"Rob Kennedy"},"score":0,"creation_date":1380032878,"post_id":18983883,"comment_id":28042320,"body_markdown":"Without making any changes to the code, you&#39;ve changed the problem from one of compilation to one of run-time behavior. Those are entirely different classes of problems, and if you didn&#39;t change the code, then it&#39;s a major clue that the code shown here is not the (sole) source of the problem. Please show enough code to reproduce the problem. Furthermore, what word did you type in to test with, and what result did you expect from it?","body":"Without making any changes to the code, you&#39;ve changed the problem from one of compilation to one of run-time behavior. Those are entirely different classes of problems, and if you didn&#39;t change the code, then it&#39;s a major clue that the code shown here is not the (sole) source of the problem. Please show enough code to reproduce the problem. Furthermore, what word did you type in to test with, and what result did you expect from it?"}],"answers":[{"tags":[],"owner":{"account_id":1554778,"reputation":46862,"user_id":1870232,"accept_rate":81,"display_name":"P0W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380031830,"creation_date":1380031830,"answer_id":18983980,"question_id":18983883,"body_markdown":"    std::string word;\r\n    std::cin&gt;&gt;word;\r\n    std::cout&lt;&lt;&quot;Your Score :&quot; &lt;&lt; scrabbleScore(word) ;\r\n\r\nAlso,\r\n\r\n    int scrabbleScore(String Word)\r\n                      ^ this should be string from std namespace,\r\n                 \r\n  ","title":"How to calculate Scrabble Score of a word","body":"<pre><code>std::string word;\nstd::cin&gt;&gt;word;\nstd::cout&lt;&lt;\"Your Score :\" &lt;&lt; scrabbleScore(word) ;\n</code></pre>\n\n<p>Also,</p>\n\n<pre><code>int scrabbleScore(String Word)\n                  ^ this should be string from std namespace,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343612,"reputation":1202,"user_id":2054398,"display_name":"ColdCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380033395,"creation_date":1380033395,"answer_id":18984607,"question_id":18983883,"body_markdown":"You could make it a bit shorter and prepare for one day multi-language with few modifications.\r\n\r\n    int scrabbleScore(string Word)\r\n    {\r\n    \tint score = 0;\r\n    \tchar EnglishScoreTable[26] = { 1, 3, 3, 2, 1, 4, 2, 4, 1, 8, 5, 1, 3, 1, 1, 3, 10, 1, 1, 1, 1, 4, 4, 8, 4, 10 };\r\n    \tfor (auto Letter : Word)\r\n    \t{\r\n    \t\tif (Letter &gt;= &#39;A&#39; &amp;&amp; Letter &lt;= &#39;Z&#39;)\r\n    \t\t{\r\n    \t\t\tscore += EnglishScoreTable[Letter - &#39;A&#39;];\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\t// error in input \r\n    \t\t}\r\n    \t}\r\n    \treturn score;\r\n    }","title":"How to calculate Scrabble Score of a word","body":"<p>You could make it a bit shorter and prepare for one day multi-language with few modifications.</p>\n\n<pre><code>int scrabbleScore(string Word)\n{\n    int score = 0;\n    char EnglishScoreTable[26] = { 1, 3, 3, 2, 1, 4, 2, 4, 1, 8, 5, 1, 3, 1, 1, 3, 10, 1, 1, 1, 1, 4, 4, 8, 4, 10 };\n    for (auto Letter : Word)\n    {\n        if (Letter &gt;= 'A' &amp;&amp; Letter &lt;= 'Z')\n        {\n            score += EnglishScoreTable[Letter - 'A'];\n        }\n        else\n        {\n            // error in input \n        }\n    }\n    return score;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380033533,"creation_date":1380033533,"answer_id":18984655,"question_id":18983883,"body_markdown":"Change imp to this:\r\n\r\n    private static int scrabbleScore(String Word) {\r\n        int score = 0;\r\n    \tString upperWord = Word.toUpperCase();\r\n        for (int i = 0; i &lt; upperWord.length(); i++){\r\n            char calculatedLetter = upperWord.charAt(i);\r\n    \t    switch (calculatedLetter) {\r\n\t ","title":"How to calculate Scrabble Score of a word","body":"<p>Change imp to this:</p>\n\n<pre><code>private static int scrabbleScore(String Word) {\n    int score = 0;\n    String upperWord = Word.toUpperCase();\n    for (int i = 0; i &lt; upperWord.length(); i++){\n        char calculatedLetter = upperWord.charAt(i);\n        switch (calculatedLetter) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17695674,"reputation":11,"user_id":12846479,"display_name":"Samiullah Azizi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667043772,"creation_date":1667043772,"answer_id":74244949,"question_id":18983883,"body_markdown":"    export const score = (test) =&gt; {\r\n        test = test.toUpperCase()\r\n        var s = 0\r\n        for (var i = 0; i &lt; test.length; i++) {\r\n            if ([&#39;A&#39;, &#39;E&#39;, &#39;I&#39;, &#39;O&#39;, &#39;U&#39;, &#39;L&#39;, &#39;N&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 1\r\n            }\r\n            if ([&#39;D&#39;, &#39;G&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 2\r\n            }\r\n            if ([&#39;F&#39;, &#39;H&#39;, &#39;V&#39;, &#39;W&#39;, &#39;Y&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 4\r\n            }\r\n            if ([&#39;B&#39;, &#39;C&#39;, &#39;M&#39;, &#39;P&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 3\r\n            }\r\n            if ([&#39;K&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 5\r\n            }\r\n            if ([&#39;J&#39;, &#39;X&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 8\r\n            }\r\n            if ([&#39;Q&#39;, &#39;Z&#39;].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\r\n                s += 10\r\n            }\r\n        }\r\n        return s\r\n    };","title":"How to calculate Scrabble Score of a word","body":"<pre><code>export const score = (test) =&gt; {\n    test = test.toUpperCase()\n    var s = 0\n    for (var i = 0; i &lt; test.length; i++) {\n        if (['A', 'E', 'I', 'O', 'U', 'L', 'N', 'R', 'S', 'T'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 1\n        }\n        if (['D', 'G'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 2\n        }\n        if (['F', 'H', 'V', 'W', 'Y'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 4\n        }\n        if (['B', 'C', 'M', 'P'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 3\n        }\n        if (['K'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 5\n        }\n        if (['J', 'X'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 8\n        }\n        if (['Q', 'Z'].some(function (v) { return test[i].indexOf(v) &gt;= 0; })) {\n            s += 10\n        }\n    }\n    return s\n};\n</code></pre>\n"}],"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6987,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1667043772,"creation_date":1380031565,"question_id":18983883,"body_markdown":"I&#39;m trying to write a program to calculate the score of a word, based on the game Scrabble![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/uQGgn.png\r\n\r\nThe scores are based off the image above.\r\n\r\nI&#39;ve currently coded a function, my ideal goal is to use this and get the user to input a word to calculate the score.\r\n\r\n    int scrabbleScore(String Word) {\r\n            int score = 0;\r\n            for (int i = 0; i &lt; Word.length(); i++){\r\n                char calculatedLetter = Word.at(i);\r\n                switch (calculatedLetter) {\r\n                    case &#39;A&#39;:\r\n                    case &#39;E&#39;:\r\n                    case &#39;I&#39;:\r\n                    case &#39;L&#39;:\r\n                    case &#39;N&#39;:\r\n                    case &#39;O&#39;:\r\n                    case &#39;R&#39;:\r\n                    case &#39;S&#39;:\r\n                    case &#39;T&#39;:\r\n                    case &#39;U&#39;:\r\n                        score +=1; break;\r\n                    case &#39;D&#39;:\r\n                    case &#39;G&#39;:\r\n                        score +=2; break;\r\n                    case &#39;B&#39;:\r\n                    case &#39;C&#39;:\r\n                    case &#39;M&#39;:\r\n                    case &#39;P&#39;:\r\n                        score +=3; break;\r\n                    case &#39;F&#39;:\r\n                    case &#39;H&#39;:\r\n                    case &#39;V&#39;:\r\n                    case &#39;W&#39;:\r\n                    case &#39;Y&#39;:\r\n                        score +=4; break;\r\n                    case &#39;K&#39;:\r\n                        score +=5; break;\r\n                    case &#39;J&#39;:\r\n                    case &#39;X&#39;:\r\n                        score +=8; break;\r\n                    case &#39;Q&#39;:\r\n                    case &#39;Z&#39;:\r\n                        score +=10; break;\r\n                    default: break;\r\n                }\r\n            }\r\n            return score;\r\n\r\nWhy is this giving me a score of 0 for any word?","title":"How to calculate Scrabble Score of a word","body":"<p>I'm trying to write a program to calculate the score of a word, based on the game Scrabble<img src=\"https://i.stack.imgur.com/uQGgn.png\" alt=\"enter image description here\"></p>\n\n<p>The scores are based off the image above.</p>\n\n<p>I've currently coded a function, my ideal goal is to use this and get the user to input a word to calculate the score.</p>\n\n<pre><code>int scrabbleScore(String Word) {\n        int score = 0;\n        for (int i = 0; i &lt; Word.length(); i++){\n            char calculatedLetter = Word.at(i);\n            switch (calculatedLetter) {\n                case 'A':\n                case 'E':\n                case 'I':\n                case 'L':\n                case 'N':\n                case 'O':\n                case 'R':\n                case 'S':\n                case 'T':\n                case 'U':\n                    score +=1; break;\n                case 'D':\n                case 'G':\n                    score +=2; break;\n                case 'B':\n                case 'C':\n                case 'M':\n                case 'P':\n                    score +=3; break;\n                case 'F':\n                case 'H':\n                case 'V':\n                case 'W':\n                case 'Y':\n                    score +=4; break;\n                case 'K':\n                    score +=5; break;\n                case 'J':\n                case 'X':\n                    score +=8; break;\n                case 'Q':\n                case 'Z':\n                    score +=10; break;\n                default: break;\n            }\n        }\n        return score;\n</code></pre>\n\n<p>Why is this giving me a score of 0 for any word?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","unauthorized"],"answers":[{"tags":[],"owner":{"account_id":14327909,"reputation":379,"user_id":10349481,"display_name":"Andre Moraes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607804283,"creation_date":1607804283,"answer_id":65269402,"question_id":65268745,"body_markdown":"My shot it&#39;s related to &quot; .httpBasic();&quot;, looks like you&#39;re expecting a basic authentication when you set this in your properties.","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>My shot it's related to &quot; .httpBasic();&quot;, looks like you're expecting a basic authentication when you set this in your properties.</p>\n"},{"tags":[],"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1607805817,"creation_date":1607805303,"answer_id":65269545,"question_id":65268745,"body_markdown":"My shot is that your `WebConfig` is [not placed in the right package](https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-structuring-your-code).\r\nIf your `@SpringBootApplication` annotated class is in `com.example.demo`\r\nthen your `WebConfig` class should be placed under the `com.example.demo` package (or other sub-package, e.g: `com.example.demo.config`).\r\n```java\r\npackage com.example.demo.config; // &lt;-- move it to the (not-default) package\r\n\r\n// skipped imports\r\n// ...\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n      // config same as in the question&#39;s snippet\r\n      // ...\r\n    }\r\n}\r\n```","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>My shot is that your <code>WebConfig</code> is <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-structuring-your-code\" rel=\"nofollow noreferrer\">not placed in the right package</a>.\nIf your <code>@SpringBootApplication</code> annotated class is in <code>com.example.demo</code>\nthen your <code>WebConfig</code> class should be placed under the <code>com.example.demo</code> package (or other sub-package, e.g: <code>com.example.demo.config</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.config; // &lt;-- move it to the (not-default) package\n\n// skipped imports\n// ...\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n      // config same as in the question's snippet\n      // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16129101,"reputation":189,"user_id":11643193,"display_name":"Jesus Hernandez Barrios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607813536,"creation_date":1607813536,"answer_id":65270657,"question_id":65268745,"body_markdown":"If you are getting an Unauthorize (401) it means that the authentication failed, regardless of whether you have access to access the resource or not.\r\nYou are using basic auth, and the spring flow has two parts, authentication and authorization, first it authenticates, to know if a user is valid and then it is seen if they have authorization to access the resource. In this case the error is given because it does not have authentication, better known as 401, in case you had authentication and no authorization, you would receive a 403 forbiden","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>If you are getting an Unauthorize (401) it means that the authentication failed, regardless of whether you have access to access the resource or not.\nYou are using basic auth, and the spring flow has two parts, authentication and authorization, first it authenticates, to know if a user is valid and then it is seen if they have authorization to access the resource. In this case the error is given because it does not have authentication, better known as 401, in case you had authentication and no authorization, you would receive a 403 forbiden</p>\n"},{"tags":[],"owner":{"account_id":10706766,"reputation":108,"user_id":7880312,"display_name":"Yodi S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667043744,"creation_date":1667043744,"answer_id":74244943,"question_id":65268745,"body_markdown":"In my case, I need to remove the context path from the properties file. I removed this:\r\n\r\n    server.servlet.context-path=/api\r\n\r\nafter I removed that value, then everything went right. But, I still don&#39;t know why it won&#39;t work with the context-path.\r\n","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>In my case, I need to remove the context path from the properties file. I removed this:</p>\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n<p>after I removed that value, then everything went right. But, I still don't know why it won't work with the context-path.</p>\n"}],"owner":{"account_id":11719768,"reputation":61,"user_id":8579080,"display_name":"Ilya G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1365,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65269545,"answer_count":4,"score":2,"last_activity_date":1667043744,"creation_date":1607799775,"question_id":65268745,"body_markdown":"I have such a web config in Spring Boot App:\r\n        \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests().anyRequest().permitAll()\r\n            .and()\r\n                    .csrf().disable()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n                    .httpBasic();\r\n        }\r\n    }\r\n\r\nwhen trying to reach one of the urls (localhost:8080/test), I get Unauthorized. What am I doing wrong?","title":"Spring Security - Unauthorized though permitting all requests","body":"<p>I have such a web config in Spring Boot App:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests().anyRequest().permitAll()\n        .and()\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n                .httpBasic();\n    }\n}\n</code></pre>\n<p>when trying to reach one of the urls (localhost:8080/test), I get Unauthorized. What am I doing wrong?</p>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1510861498,"post_id":47337847,"comment_id":81627797,"body_markdown":"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html","body":"<a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html</a>"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1510863247,"post_id":47337847,"comment_id":81628676,"body_markdown":"It means the first one of your two bullet points.","body":"It means the first one of your two bullet points."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510862273,"creation_date":1510861900,"answer_id":47338008,"question_id":47337847,"body_markdown":"A running Java Virtual Machine (JVM) instance is materialized by a native process launched by an OS while a `Process` class instance is a native process launched by a running JVM.&lt;br&gt;\r\nAs each Java Virtual Machine is associated to a specific native process, instead of saying a process that runs a JVM, we could so shortcut it by a JVM process.&lt;br&gt; \r\n\r\n","title":"What does &quot;JVM processes&quot; mean?","body":"<p>A running Java Virtual Machine (JVM) instance is materialized by a native process launched by an OS while a <code>Process</code> class instance is a native process launched by a running JVM.<br>\nAs each Java Virtual Machine is associated to a specific native process, instead of saying a process that runs a JVM, we could so shortcut it by a JVM process.<br> </p>\n"},{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667043247,"creation_date":1667043247,"answer_id":74244900,"question_id":47337847,"body_markdown":"**JVM** stands for **J**ava **V**irtual **M**achine. \r\n\r\nIn plain English, a virtual machine (VM) is any piece of software that simulates a real machine. There are two kinds of VMs:\r\n\r\n - system VM\r\n - process VM\r\n\r\nA system virtual machine provides the functionality of a real computer. A process virtual machines allows to execute programs in one specific programming language. The advantage of a process VM (sometimes also called _managed runtime environment_) is that it provides the same environment across different platforms.\r\n\r\n**JVM is the process virtual machine for Java.** \r\n\r\nSince of the main design goals of Java is portability, the Java language code gets compiled to an intermediate representation called _Java bytecode_ that can be executed on a JVM. \r\n\r\nSo, basically **every time you run Java code you start an own JVM process**.\r\n\r\n[![Java bytecode on a Java Virtual Machine][1]][1]\r\n\r\nImage source: [Introduction to Computer Science using Java](https://chortle.ccsu.edu/java5/notes/chap05/ch05_4.html)\r\n\r\nThere are exceptions to that, namely special-purpose processors that can interpret Java bytecode: with such processors Java is executed directly on the hardware without using a virtual machine. An example are ARM processors endowed with the Jazelle DBX direct bytecode execution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/thIKT.gif","title":"What does &quot;JVM processes&quot; mean?","body":"<p><strong>JVM</strong> stands for <strong>J</strong>ava <strong>V</strong>irtual <strong>M</strong>achine.</p>\n<p>In plain English, a virtual machine (VM) is any piece of software that simulates a real machine. There are two kinds of VMs:</p>\n<ul>\n<li>system VM</li>\n<li>process VM</li>\n</ul>\n<p>A system virtual machine provides the functionality of a real computer. A process virtual machines allows to execute programs in one specific programming language. The advantage of a process VM (sometimes also called <em>managed runtime environment</em>) is that it provides the same environment across different platforms.</p>\n<p><strong>JVM is the process virtual machine for Java.</strong></p>\n<p>Since of the main design goals of Java is portability, the Java language code gets compiled to an intermediate representation called <em>Java bytecode</em> that can be executed on a JVM.</p>\n<p>So, basically <strong>every time you run Java code you start an own JVM process</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/thIKT.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thIKT.gif\" alt=\"Java bytecode on a Java Virtual Machine\" /></a></p>\n<p>Image source: <a href=\"https://chortle.ccsu.edu/java5/notes/chap05/ch05_4.html\" rel=\"nofollow noreferrer\">Introduction to Computer Science using Java</a></p>\n<p>There are exceptions to that, namely special-purpose processors that can interpret Java bytecode: with such processors Java is executed directly on the hardware without using a virtual machine. An example are ARM processors endowed with the Jazelle DBX direct bytecode execution.</p>\n"}],"owner":{"account_id":52354,"reputation":95730,"user_id":156458,"accept_rate":47,"display_name":"Tim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":2,"score":3,"last_activity_date":1667043247,"creation_date":1510861379,"question_id":47337847,"body_markdown":"From Java In a Nutshell\r\n\r\n&gt; `jps`  provides a list of all active **JVM processes** on the local machine (or a remote machine, if a suitable instance of  `jstatd`  is running on the remote side).\r\n\r\nWhat does &quot;JVM processes&quot; here mean,\r\n\r\n- processes of the underlying OS which run JVM exactly, or \r\n\r\n- processes that are supported by Java via `Process`, `ProcessBuilder` and `Runtime.exec()`...\r\n\r\nThanks.\r\n\r\n","title":"What does &quot;JVM processes&quot; mean?","body":"<p>From Java In a Nutshell</p>\n\n<blockquote>\n  <p><code>jps</code>  provides a list of all active <strong>JVM processes</strong> on the local machine (or a remote machine, if a suitable instance of  <code>jstatd</code>  is running on the remote side).</p>\n</blockquote>\n\n<p>What does \"JVM processes\" here mean,</p>\n\n<ul>\n<li><p>processes of the underlying OS which run JVM exactly, or </p></li>\n<li><p>processes that are supported by Java via <code>Process</code>, <code>ProcessBuilder</code> and <code>Runtime.exec()</code>...</p></li>\n</ul>\n\n<p>Thanks.</p>\n"},{"tags":["java","collections","treeset"],"comments":[{"owner":{"account_id":21175,"reputation":5408,"user_id":51280,"accept_rate":68,"display_name":"opyate"},"score":2,"creation_date":1390562628,"post_id":1090969,"comment_id":32156014,"body_markdown":"Flip the order of ```this``` and ```that``` in the overridden ```compareTo``` so items are inserted in the opposite order.","body":"Flip the order of <code>this</code> and <code>that</code> in the overridden <code>compareTo</code> so items are inserted in the opposite order."}],"answers":[{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1246954441,"creation_date":1246954441,"answer_id":1090981,"question_id":1090969,"body_markdown":"Why do you think this approach won&#39;t be optimized?  The reverse order `Comparator` is simply going to be flipping the sign of the output from the actual `Comparator` (or output from `compareTo` on the `Comparable` objects being inserted) and I would therefore imagine it is very fast.\r\n\r\nAn alternative suggestion: Rather than change the order you store the elements in you could iterate over them in descending order using the `descendingIterator()` method.","title":"Treeset to order elements in descending order","body":"<p>Why do you think this approach won't be optimized?  The reverse order <code>Comparator</code> is simply going to be flipping the sign of the output from the actual <code>Comparator</code> (or output from <code>compareTo</code> on the <code>Comparable</code> objects being inserted) and I would therefore imagine it is very fast.</p>\n\n<p>An alternative suggestion: Rather than change the order you store the elements in you could iterate over them in descending order using the <code>descendingIterator()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559234446,"creation_date":1246954618,"answer_id":1090989,"question_id":1090969,"body_markdown":"    TreeSet&lt;Integer&gt; treeSetObj = new TreeSet&lt;Integer&gt;(new Comparator&lt;Integer&gt;()\r\n      {\r\n      public int compare(Integer i1,Integer i2)\r\n            {\r\n            return i2.compareTo(i1);\r\n            }\r\n      });\r\n\r\nthere is need to flip the result. But I guess this is **just a [micro-optimization][1]**... Do you really need this ?\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/q/99445/34735","title":"Treeset to order elements in descending order","body":"<pre><code>TreeSet&lt;Integer&gt; treeSetObj = new TreeSet&lt;Integer&gt;(new Comparator&lt;Integer&gt;()\n  {\n  public int compare(Integer i1,Integer i2)\n        {\n        return i2.compareTo(i1);\n        }\n  });\n</code></pre>\n\n<p>there is need to flip the result. But I guess this is <strong>just a <a href=\"https://softwareengineering.stackexchange.com/q/99445/34735\">micro-optimization</a></strong>... Do you really need this ?</p>\n"},{"tags":[],"owner":{"account_id":540,"reputation":13430,"user_id":700,"accept_rate":79,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1559234940,"creation_date":1274219653,"answer_id":2861428,"question_id":1090969,"body_markdown":"# `TreeSet::descendingSet`\r\n\r\nIn Java 6 and later, there is a method on [`TreeSet`][1] called [`descendingSet()`][2] producing a [`NavigableSet`][3] interface object.\r\n\r\n    \r\n\r\n&gt; public NavigableSet&lt;E&gt; descendingSet()\r\n&gt;     \r\n&gt; The descending set is backed by this\r\n&gt; set, so changes to the set are\r\n&gt; reflected in the descending set, and\r\n&gt; vice-versa. If either set is modified\r\n&gt; while an iteration over either set is\r\n&gt; in progress (except through the\r\n&gt; iterator&#39;s own remove operation), the\r\n&gt; results of the iteration are\r\n&gt; undefined.\r\n&gt;     \r\n&gt;         The returned set has an ordering equivalent to\r\n&gt; Collections.reverseOrder(comparator()).\r\n&gt; The expression\r\n&gt; s.descendingSet().descendingSet()\r\n&gt; returns a view of s essentially\r\n&gt; equivalent to s.\r\n&gt;     \r\n&gt;         Specified by:\r\n&gt;             descendingSet in interface NavigableSet&lt;E&gt;\r\n&gt;     \r\n&gt;         Returns:\r\n&gt;             a reverse order view of this set\r\n&gt;         Since:\r\n&gt;             1.6\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html#descendingSet()\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html","title":"Treeset to order elements in descending order","body":"<h1><code>TreeSet::descendingSet</code></h1>\n\n<p>In Java 6 and later, there is a method on <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> called <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html#descendingSet()\" rel=\"nofollow noreferrer\"><code>descendingSet()</code></a> producing a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> interface object.</p>\n\n<blockquote>\n  <p>public NavigableSet descendingSet()</p>\n  \n  <p>The descending set is backed by this\n  set, so changes to the set are\n  reflected in the descending set, and\n  vice-versa. If either set is modified\n  while an iteration over either set is\n  in progress (except through the\n  iterator's own remove operation), the\n  results of the iteration are\n  undefined.</p>\n\n<pre><code>    The returned set has an ordering equivalent to\n</code></pre>\n  \n  <p>Collections.reverseOrder(comparator()).\n  The expression\n  s.descendingSet().descendingSet()\n  returns a view of s essentially\n  equivalent to s.</p>\n\n<pre><code>    Specified by:\n        descendingSet in interface NavigableSet&lt;E&gt;\n\n    Returns:\n        a reverse order view of this set\n    Since:\n        1.6\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14634841,"reputation":11,"user_id":10569363,"display_name":"Ashutosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559234679,"creation_date":1540702412,"answer_id":53028464,"question_id":1090969,"body_markdown":"# Reverse `compare`\r\n\r\nYou can reverse the order of the two arguments in the [`compare`][1] method of your [`Comparator`][2]. \r\n\r\n\r\n    TreeSet t = new TreeSet(new MyComparator());\r\n      {\r\n    class MyComparator implements Comparator\r\n    {\r\n      public int compare(Integer i1,Integer i2)\r\n            {\r\n             Integer I1=(Integer)i1;\r\n             Integer I2=(Integer)i2;\r\n             return I2.compareTo(I1);  // return -I1compareTo(I2);\r\n            }\r\n    }\r\n      }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html","title":"Treeset to order elements in descending order","body":"<h1>Reverse <code>compare</code></h1>\n\n<p>You can reverse the order of the two arguments in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\" rel=\"nofollow noreferrer\"><code>compare</code></a> method of your <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>. </p>\n\n<pre><code>TreeSet t = new TreeSet(new MyComparator());\n  {\nclass MyComparator implements Comparator\n{\n  public int compare(Integer i1,Integer i2)\n        {\n         Integer I1=(Integer)i1;\n         Integer I2=(Integer)i2;\n         return I2.compareTo(I1);  // return -I1compareTo(I2);\n        }\n}\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17043956,"reputation":995,"user_id":12331220,"display_name":"Anupam Haldkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593857236,"creation_date":1593857236,"answer_id":62727792,"question_id":1090969,"body_markdown":"Using descendingSet method you can reverse existing treeSet in the class \r\n```\r\nimport java.util.TreeSet; \r\n  \r\npublic class TreeSetDescending { \r\n  \r\n    public static void main(String[] args) \r\n    { \r\n        // Declare a treeset \r\n        TreeSet&lt;Object&gt; ints = new TreeSet&lt;Object&gt;(); \r\n        ints.add(2); \r\n        ints.add(20); \r\n        ints.add(10); \r\n        ints.add(5); \r\n        ints.add(7); \r\n        ints.add(3); \r\n  \r\n        // Initialize treeset with predefined set in reverse order \r\n        // using descendingSet() \r\n        TreeSet&lt;Object&gt; intsReverse = (TreeSet&lt;Object&gt;)ints.descendingSet(); \r\n  \r\n        // Print the set \r\n        System.out.println(&quot;Without descendingSet(): &quot; + ints); \r\n        System.out.println(&quot;With descendingSet(): &quot; + intsReverse); \r\n    } \r\n} ","title":"Treeset to order elements in descending order","body":"<p>Using descendingSet method you can reverse existing treeSet in the class</p>\n<pre><code>import java.util.TreeSet; \n  \npublic class TreeSetDescending { \n  \n    public static void main(String[] args) \n    { \n        // Declare a treeset \n        TreeSet&lt;Object&gt; ints = new TreeSet&lt;Object&gt;(); \n        ints.add(2); \n        ints.add(20); \n        ints.add(10); \n        ints.add(5); \n        ints.add(7); \n        ints.add(3); \n  \n        // Initialize treeset with predefined set in reverse order \n        // using descendingSet() \n        TreeSet&lt;Object&gt; intsReverse = (TreeSet&lt;Object&gt;)ints.descendingSet(); \n  \n        // Print the set \n        System.out.println(&quot;Without descendingSet(): &quot; + ints); \n        System.out.println(&quot;With descendingSet(): &quot; + intsReverse); \n    } \n} \n</code></pre>\n"}],"owner":{"account_id":42000,"reputation":744,"user_id":122221,"accept_rate":93,"display_name":"Gaurav Saini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66744,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":1090981,"answer_count":5,"score":32,"last_activity_date":1667043007,"creation_date":1246954259,"question_id":1090969,"body_markdown":"Here is the piece of code that I have used for Java 5.0\r\n\r\n    TreeSet&lt;Integer&gt; treeSetObj = new TreeSet&lt;Integer&gt;( Collections.reverseOrder() ) ;\r\n\r\n`Collections.reverseOrder()` is used to obtain a comparator in order to reverse the way the elements are stored and iterated. \r\n\r\nIs there a more optimized way of doing it?","title":"Treeset to order elements in descending order","body":"<p>Here is the piece of code that I have used for Java 5.0</p>\n<pre><code>TreeSet&lt;Integer&gt; treeSetObj = new TreeSet&lt;Integer&gt;( Collections.reverseOrder() ) ;\n</code></pre>\n<p><code>Collections.reverseOrder()</code> is used to obtain a comparator in order to reverse the way the elements are stored and iterated.</p>\n<p>Is there a more optimized way of doing it?</p>\n"},{"tags":["java","android","string","random","android-toast"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1667029410,"post_id":74243593,"comment_id":131077979,"body_markdown":"Well. Maybe you as a human know that the `random` variable must match one of the three comparisons. But the compiler does not know. So, the variable `str` might not be initialized (for the compiler). The solution is ... to simply initialize it: `String str = null;`.","body":"Well. Maybe you as a human know that the <code>random</code> variable must match one of the three comparisons. But the compiler does not know. So, the variable <code>str</code> might not be initialized (for the compiler). The solution is ... to simply initialize it: <code>String str = null;</code>."},{"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"score":0,"creation_date":1667030571,"post_id":74243593,"comment_id":131078141,"body_markdown":"@Seelenvirtuose or initialise it to a default value that you will see if none of the conditions are met instead of crashing the app?","body":"@Seelenvirtuose or initialise it to a default value that you will see if none of the conditions are met instead of crashing the app?"}],"answers":[{"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667041727,"creation_date":1667032982,"answer_id":74243922,"question_id":74243593,"body_markdown":"Look to your use-case and think &quot;if I cant show &quot;Correct! Try again!&quot; or &quot;Lower!&quot; or &quot;Higher!&quot;, what should I display then?.\r\n\r\n    if(random==intNum)\r\n        {\r\n            str=&quot;Correct! Try again!&quot;;\r\n        }\r\n        else if(random&gt;intNum)\r\n        {\r\n            str=&quot;Lower!&quot;;\r\n        }\r\n        else if(random&lt;intNum)\r\n        {\r\n            str=&quot;Higher!&quot;;\r\n        } else {\r\n             // maybe I can add a default display here?\r\n        }\r\n\r\nOtherwise, just initialize your `str` to an empty string `&quot;&quot;` or `null`\r\n\r\n    String str = &quot;&quot;;\r\n\r\nor\r\n\r\n    String str  = null;\r\n\r\nHowever, setting it to `null` is a guaranteed `NullPointerException` if none of those condition blocks is executed, and `NullPointerException` will crash your app.\r\n\r\nSpecifically, when `Toast` receives a `null` value in its `text` parameter, the system will give you this error log:\r\n\r\n    Caused by: java.lang.IllegalStateException: You must either set a text or a view\r\n\r\n ","title":"String isn&#39;t initialized in Toast (android)","body":"<p>Look to your use-case and think &quot;if I cant show &quot;Correct! Try again!&quot; or &quot;Lower!&quot; or &quot;Higher!&quot;, what should I display then?.</p>\n<pre><code>if(random==intNum)\n    {\n        str=&quot;Correct! Try again!&quot;;\n    }\n    else if(random&gt;intNum)\n    {\n        str=&quot;Lower!&quot;;\n    }\n    else if(random&lt;intNum)\n    {\n        str=&quot;Higher!&quot;;\n    } else {\n         // maybe I can add a default display here?\n    }\n</code></pre>\n<p>Otherwise, just initialize your <code>str</code> to an empty string <code>&quot;&quot;</code> or <code>null</code></p>\n<pre><code>String str = &quot;&quot;;\n</code></pre>\n<p>or</p>\n<pre><code>String str  = null;\n</code></pre>\n<p>However, setting it to <code>null</code> is a guaranteed <code>NullPointerException</code> if none of those condition blocks is executed, and <code>NullPointerException</code> will crash your app.</p>\n<p>Specifically, when <code>Toast</code> receives a <code>null</code> value in its <code>text</code> parameter, the system will give you this error log:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: You must either set a text or a view\n</code></pre>\n"}],"owner":{"account_id":20587099,"reputation":3,"user_id":15111714,"display_name":"Azraf Sami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74243922,"answer_count":1,"score":-2,"last_activity_date":1667041727,"creation_date":1667028821,"question_id":74243593,"body_markdown":"\r\n```\r\npackage com.example.higherorlower;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.*;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public void ClickFunc(View varView)\r\n    {\r\n        EditText num=(EditText) findViewById(R.id.numID);\r\n        int intNum=Integer.parseInt(num.getText().toString());\r\n        int max=20;\r\n        int min=1;\r\n        int random = new Random().nextInt((max - min) + 1) + min;\r\n\r\n        String str;\r\n        if(random==intNum)\r\n        {\r\n            str=&quot;Correct! Try again!&quot;;\r\n        }\r\n        else if(random&gt;intNum)\r\n        {\r\n            str=&quot;Lower!&quot;;\r\n        }\r\n        else if(random&lt;intNum)\r\n        {\r\n            str=&quot;Higher!&quot;;\r\n        }\r\n\r\n        Toast.makeText(MainActivity.this,str,Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\n\r\n**Problem: Variable &#39;str&#39; might not have been initialized**\r\n\r\nI want to try generate random number and play &#39;guess number&#39; game.But in Toast, it says, str is not initialized! How can I solve this problem? ","title":"String isn&#39;t initialized in Toast (android)","body":"<pre><code>package com.example.higherorlower;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport java.util.*;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public void ClickFunc(View varView)\n    {\n        EditText num=(EditText) findViewById(R.id.numID);\n        int intNum=Integer.parseInt(num.getText().toString());\n        int max=20;\n        int min=1;\n        int random = new Random().nextInt((max - min) + 1) + min;\n\n        String str;\n        if(random==intNum)\n        {\n            str=&quot;Correct! Try again!&quot;;\n        }\n        else if(random&gt;intNum)\n        {\n            str=&quot;Lower!&quot;;\n        }\n        else if(random&lt;intNum)\n        {\n            str=&quot;Higher!&quot;;\n        }\n\n        Toast.makeText(MainActivity.this,str,Toast.LENGTH_LONG).show();\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<p><strong>Problem: Variable 'str' might not have been initialized</strong></p>\n<p>I want to try generate random number and play 'guess number' game.But in Toast, it says, str is not initialized! How can I solve this problem?</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667040284,"post_id":74193262,"comment_id":131079571,"body_markdown":"Sorry, I was wrong. It&#39;s a documented issue of the Jackson&#39;s creator-discovery mechanism (I&#39;ve provided the links in the answer), and it might be fixed in the future.","body":"Sorry, I was wrong. It&#39;s a documented issue of the Jackson&#39;s creator-discovery mechanism (I&#39;ve provided the links in the answer), and it might be fixed in the future."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666704171,"creation_date":1666704171,"answer_id":74194780,"question_id":74193262,"body_markdown":"Until Java 8, the names of method and constructor parameters were not present in compiled byte code. In Java 8 and later, the `-parameters` needs to be explicitly set to get the parameter names in byte code. If the name is not available in byte code, it is not available through reflection; you&#39;d instead get `arg0`, `arg1`, etc.\r\n\r\nSome frameworks have already been updated to use the parameter names, but a lot have not. As far as I know, Jackson belongs to the second group (most likely also to still support older Java versions). You can try to use the `-parameters` flag, but you probably still have to tell Jackson to use the constructor - either using `@JsonProperty` on the constructor parameter, or using `@JsonCreator`.","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<p>Until Java 8, the names of method and constructor parameters were not present in compiled byte code. In Java 8 and later, the <code>-parameters</code> needs to be explicitly set to get the parameter names in byte code. If the name is not available in byte code, it is not available through reflection; you'd instead get <code>arg0</code>, <code>arg1</code>, etc.</p>\n<p>Some frameworks have already been updated to use the parameter names, but a lot have not. As far as I know, Jackson belongs to the second group (most likely also to still support older Java versions). You can try to use the <code>-parameters</code> flag, but you probably still have to tell Jackson to use the constructor - either using <code>@JsonProperty</code> on the constructor parameter, or using <code>@JsonCreator</code>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667041628,"creation_date":1667039922,"answer_id":74244580,"question_id":74193262,"body_markdown":"#  Parameter names module\r\n\r\nTo make Jackson capable of detecting the required constructor based on the number of properties **without** making use of data-binding annotations `@JsonCreator` and `@JsonProperty` you can add a dependency to **Jackson Modules: Java 8** ([a link to the Maven repository](https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3)).\r\n\r\nJackson Modules: Java 8 is an umbrella multi-module which includes [Parameter names module](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names).\r\n\r\nIf you are using Spring Boot, the only thing needed to register the module is to place `ParameterNamesModule` as a Bean into the Spring&#39;s Context, and it would be grabbed at the application start-up and registred automatically by the [`JacksonAutoConfiguration`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.html) while `ObjectMapper` would be configured.\r\n\r\nAs explained [here](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names#delegating-creator) you need to provide `JsonCreator.Mode.PROPERTIES` as argument while instantiating the module.\r\n\r\n    @Bean\r\n    public ParameterNamesModule parameterNamesModule() {\r\n        return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\r\n    }\r\n\r\nIf you&#39;re not using Spring in your project, then you would need to configure `ObjectMapper` manually:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\r\n```\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\nThere are **caveats**. Specifically there&#39;s an issue with detecting a *single-arg constructor*. Here&#39;s a quote from the [module-description](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names):\r\n\r\n&gt; **Preconditions:**\r\n&gt; \r\n&gt; * class Person must be compiled with Java 8 compliant compiler with option to store formal parameter names turned on (-parameters option).\r\n&gt; For more information about Java 8 API for accessing parameter names at\r\n&gt; runtime see this\r\n&gt; * if there are multiple visible constructors and there is no default constructor, @JsonCreator is required to select constructor for\r\n&gt; deserialization\r\n&gt; * if used with jackson-databind lower than 2.6.0, @JsonCreator is required. In practice, @JsonCreator is also often required with 2.6.0+\r\n&gt; due to issues with constructor discovery that will be resolved in 2.7.\r\n&gt; * if class `Person` has a **single argument constructor**, its argument **needs to be annotated** with `@JsonProperty(&quot;propertyName&quot;)`. This is to\r\n&gt; **preserve legacy behavior**, see FasterXML/jackson-databind/#1498\r\n\r\nSo, to make the Jackson recognize a *single-arg constructor*, we need to apply `@JsonProperty` on the argument.\r\n\r\nHere&#39;s also a mention of this issue [`JsonCreator.Mode.PROPERTIES`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES) documentation:\r\n\r\n&gt; Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.\r\n&gt; \r\n&gt; **Note** that this mode is currently (2.5) always used for\r\n&gt; multiple-argument creators; the **only ambiguous case is that of a\r\n&gt; single-argument creator**.\r\n______________________________________________________________\r\n\r\nThis behavior **might be fixed** with Jackson 3 as [mentioned here](https://github.com/FasterXML/jackson-databind/issues/1498#issuecomment-325795788).\r\n\r\n# Java 16 Records\r\n\r\nIf you&#39;re using JDK 16+ in your project, then you can make this final class to be a record.\r\n\r\nRecords **doesn&#39;t** declare a default no-args constructor, instead the compiler generates a so-called *canonical constructor*, declaring all the arguments from the record&#39;s header (*refer to the JLS [8.10.4. Record Constructor Declarations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10.4) for more information*).\r\n\r\nAnd Jackson uses *canonical constructor* as a default creator to instantiate records.\r\n\r\nThe following record would be desirialized without issues:\r\n\r\n```\r\npublic record MyRec(String id) {}\r\n```","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<h1>Parameter names module</h1>\n<p>To make Jackson capable of detecting the required constructor based on the number of properties <strong>without</strong> making use of data-binding annotations <code>@JsonCreator</code> and <code>@JsonProperty</code> you can add a dependency to <strong>Jackson Modules: Java 8</strong> (<a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3\" rel=\"nofollow noreferrer\">a link to the Maven repository</a>).</p>\n<p>Jackson Modules: Java 8 is an umbrella multi-module which includes <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">Parameter names module</a>.</p>\n<p>If you are using Spring Boot, the only thing needed to register the module is to place <code>ParameterNamesModule</code> as a Bean into the Spring's Context, and it would be grabbed at the application start-up and registred automatically by the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.html\" rel=\"nofollow noreferrer\"><code>JacksonAutoConfiguration</code></a> while <code>ObjectMapper</code> would be configured.</p>\n<p>As explained <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names#delegating-creator\" rel=\"nofollow noreferrer\">here</a> you need to provide <code>JsonCreator.Mode.PROPERTIES</code> as argument while instantiating the module.</p>\n<pre><code>@Bean\npublic ParameterNamesModule parameterNamesModule() {\n    return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\n}\n</code></pre>\n<p>If you're not using Spring in your project, then you would need to configure <code>ObjectMapper</code> manually:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\n</code></pre>\n<h3>Note</h3>\n<p>There are <strong>caveats</strong>. Specifically there's an issue with detecting a <em>single-arg constructor</em>. Here's a quote from the <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">module-description</a>:</p>\n<blockquote>\n<p><strong>Preconditions:</strong></p>\n<ul>\n<li>class Person must be compiled with Java 8 compliant compiler with option to store formal parameter names turned on (-parameters option).\nFor more information about Java 8 API for accessing parameter names at\nruntime see this</li>\n<li>if there are multiple visible constructors and there is no default constructor, @JsonCreator is required to select constructor for\ndeserialization</li>\n<li>if used with jackson-databind lower than 2.6.0, @JsonCreator is required. In practice, @JsonCreator is also often required with 2.6.0+\ndue to issues with constructor discovery that will be resolved in 2.7.</li>\n<li>if class <code>Person</code> has a <strong>single argument constructor</strong>, its argument <strong>needs to be annotated</strong> with <code>@JsonProperty(&quot;propertyName&quot;)</code>. This is to\n<strong>preserve legacy behavior</strong>, see FasterXML/jackson-databind/#1498</li>\n</ul>\n</blockquote>\n<p>So, to make the Jackson recognize a <em>single-arg constructor</em>, we need to apply <code>@JsonProperty</code> on the argument.</p>\n<p>Here's also a mention of this issue <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES\" rel=\"nofollow noreferrer\"><code>JsonCreator.Mode.PROPERTIES</code></a> documentation:</p>\n<blockquote>\n<p>Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.</p>\n<p><strong>Note</strong> that this mode is currently (2.5) always used for\nmultiple-argument creators; the <strong>only ambiguous case is that of a\nsingle-argument creator</strong>.</p>\n</blockquote>\n<hr />\n<p>This behavior <strong>might be fixed</strong> with Jackson 3 as <a href=\"https://github.com/FasterXML/jackson-databind/issues/1498#issuecomment-325795788\" rel=\"nofollow noreferrer\">mentioned here</a>.</p>\n<h1>Java 16 Records</h1>\n<p>If you're using JDK 16+ in your project, then you can make this final class to be a record.</p>\n<p>Records <strong>doesn't</strong> declare a default no-args constructor, instead the compiler generates a so-called <em>canonical constructor</em>, declaring all the arguments from the record's header (<em>refer to the JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10.4\" rel=\"nofollow noreferrer\">8.10.4. Record Constructor Declarations</a> for more information</em>).</p>\n<p>And Jackson uses <em>canonical constructor</em> as a default creator to instantiate records.</p>\n<p>The following record would be desirialized without issues:</p>\n<pre><code>public record MyRec(String id) {}\n</code></pre>\n"}],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1559,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74244580,"answer_count":2,"score":3,"last_activity_date":1667041628,"creation_date":1666696834,"question_id":74193262,"body_markdown":"There is a simple class with parameterized constructor. I&#39;m looking for a way to apply it for JSON deserialization with minimal annotations usage.\r\n\r\nHow to make Jackson recognize `id` field by its name without explicit `JsonProperty`?\r\n\r\n**Class:**\r\n\r\n    public final class MyRec {\r\n    \r\n        final String id;\r\n    \r\n        public MyRec1(String id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nDeserialization fails unless annotation `@JsonProperty(&quot;id&quot;)` is present on the field.\r\n    \r\n\r\n**Deserialization attempt:**\r\n\r\n    new ObjectMapper().readValue(&quot;&quot;&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;&quot;&quot;, MyRec.class);\r\n\r\n**Exception:**\r\n\r\n    Cannot construct instance of `sample.MyRec` (although at least one Creator exists): \r\n    cannot deserialize from Object value (no delegate- or property-based Creator)\r\n      at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException:\r\n    Cannot construct instance of `sample.MyRec` (although at least one Creator exists):\r\n      cannot deserialize from Object value (no delegate- or property-based Creator)\r\n      at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\r\n      at app//com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<p>There is a simple class with parameterized constructor. I'm looking for a way to apply it for JSON deserialization with minimal annotations usage.</p>\n<p>How to make Jackson recognize <code>id</code> field by its name without explicit <code>JsonProperty</code>?</p>\n<p><strong>Class:</strong></p>\n<pre><code>public final class MyRec {\n\n    final String id;\n\n    public MyRec1(String id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Deserialization fails unless annotation <code>@JsonProperty(&quot;id&quot;)</code> is present on the field.</p>\n<p><strong>Deserialization attempt:</strong></p>\n<pre><code>new ObjectMapper().readValue(&quot;&quot;&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;&quot;&quot;, MyRec.class);\n</code></pre>\n<p><strong>Exception:</strong></p>\n<pre><code>Cannot construct instance of `sample.MyRec` (although at least one Creator exists): \ncannot deserialize from Object value (no delegate- or property-based Creator)\n  at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\n\ncom.fasterxml.jackson.databind.exc.MismatchedInputException:\nCannot construct instance of `sample.MyRec` (although at least one Creator exists):\n  cannot deserialize from Object value (no delegate- or property-based Creator)\n  at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\n  at app//com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\n</code></pre>\n"},{"tags":["java","import","deprecated","suppress-warnings"],"comments":[{"owner":{"account_id":65278,"reputation":3062,"user_id":192236,"accept_rate":89,"display_name":"Ed Mazur"},"score":4,"creation_date":1260219640,"post_id":1858021,"comment_id":1758993,"body_markdown":"Yeah that would be ideal, but in this case I am using a library for Hadoop that uses a portion of its API that was recently deprecated, so I don&#39;t really have a choice if I want to use this library. Plus this is just for a school project, not anything that will need to be maintained.","body":"Yeah that would be ideal, but in this case I am using a library for Hadoop that uses a portion of its API that was recently deprecated, so I don&#39;t really have a choice if I want to use this library. Plus this is just for a school project, not anything that will need to be maintained."}],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1283678637,"creation_date":1260164531,"answer_id":1858028,"question_id":1858021,"body_markdown":"As a hack you can not do the import and use the fully qualified name inside the code.\r\n\r\nYou might also try javac -Xlint:-deprecation not sure if that would address it.","title":"Suppress deprecated import warning in Java","body":"<p>As a hack you can not do the import and use the fully qualified name inside the code.</p>\n\n<p>You might also try javac -Xlint:-deprecation not sure if that would address it.</p>\n"},{"tags":[],"owner":{"account_id":67322,"reputation":2609,"user_id":197039,"display_name":"craigforster"},"down_vote_count":22,"up_vote_count":177,"is_accepted":false,"score":155,"last_activity_date":1667041115,"creation_date":1260164745,"answer_id":1858037,"question_id":1858021,"body_markdown":"Use this annotation on your class or method:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\r\nSince Java 9, you might need to add: \r\n\r\n    @SuppressWarnings(&quot;removal&quot;)\r\n\r\nIf the class was annotated with something like:\r\n\r\n    @Deprecated(since = &quot;3.14&quot;, forRemoval = true)","title":"Suppress deprecated import warning in Java","body":"<p>Use this annotation on your class or method:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\n</code></pre>\n<p>Since Java 9, you might need to add:</p>\n<pre><code>@SuppressWarnings(&quot;removal&quot;)\n</code></pre>\n<p>If the class was annotated with something like:</p>\n<pre><code>@Deprecated(since = &quot;3.14&quot;, forRemoval = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":956701,"reputation":101,"user_id":981870,"display_name":"Per-&#197;ke Minborg"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1611278679,"creation_date":1319118235,"answer_id":7836855,"question_id":1858021,"body_markdown":"Suppose that you are overriding/implementing an interface with a deprecated method (such as the `getUnicodeStream(String columnLabel)` in `java.sql.ResultSet`) then you will not get rid of deprecation warnings just by using the annotation `@SuppressWarnings( &quot;deprecation&quot; )`, unless you also annotate the same new method with the `@Deprecated` annotation. This is logical, because otherwise you could _undeprecate_ a method by just overriding its interface description.","title":"Suppress deprecated import warning in Java","body":"<p>Suppose that you are overriding/implementing an interface with a deprecated method (such as the <code>getUnicodeStream(String columnLabel)</code> in <code>java.sql.ResultSet</code>) then you will not get rid of deprecation warnings just by using the annotation <code>@SuppressWarnings( &quot;deprecation&quot; )</code>, unless you also annotate the same new method with the <code>@Deprecated</code> annotation. This is logical, because otherwise you could <em>undeprecate</em> a method by just overriding its interface description.</p>\n"},{"tags":[],"owner":{"account_id":1363612,"reputation":479,"user_id":1300507,"display_name":"Tim"},"down_vote_count":8,"up_vote_count":19,"is_accepted":false,"score":11,"last_activity_date":1333017931,"creation_date":1333017931,"answer_id":9923815,"question_id":1858021,"body_markdown":"I solved this by changing the import to:\r\n\r\n    import package.*\r\n\r\nthen annotating the method that used the deprecated classes with`@SuppressWarnings(&quot;deprecation&quot;)`","title":"Suppress deprecated import warning in Java","body":"<p>I solved this by changing the import to:</p>\n\n<pre><code>import package.*\n</code></pre>\n\n<p>then annotating the method that used the deprecated classes with<code>@SuppressWarnings(\"deprecation\")</code></p>\n"},{"tags":[],"owner":{"account_id":430647,"reputation":9051,"user_id":814206,"accept_rate":96,"display_name":"Kasper van den Berg"},"down_vote_count":0,"up_vote_count":229,"is_accepted":true,"score":229,"last_activity_date":1388769602,"creation_date":1388769602,"answer_id":20909204,"question_id":1858021,"body_markdown":"To avoid the warning:\r\ndo *not* import the class\r\n\r\n**instead use the fully qualified class name**\r\n\r\nand use it in as few locations as possible.","title":"Suppress deprecated import warning in Java","body":"<p>To avoid the warning:\ndo <em>not</em> import the class</p>\n\n<p><strong>instead use the fully qualified class name</strong></p>\n\n<p>and use it in as few locations as possible.</p>\n"},{"tags":[],"owner":{"account_id":4140732,"reputation":21,"user_id":3396154,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394287143,"creation_date":1394285959,"answer_id":22270075,"question_id":1858021,"body_markdown":"you can use: \r\n\r\n&gt; javac FileName.java -Xlint:-deprecation\r\n\r\nBut then this will give you warnings and also tell you the part of the code that is causing deprecation or using deprecated API. Now either you can run your code with these warnings or make appropriate changes in the code. \r\n\r\nIn my case I was using `someListItem.addItem(&quot;red color&quot;)` whereas the compiler wanted me to use `someListItem.add(&quot;red color&quot;);`.","title":"Suppress deprecated import warning in Java","body":"<p>you can use: </p>\n\n<blockquote>\n  <p>javac FileName.java -Xlint:-deprecation</p>\n</blockquote>\n\n<p>But then this will give you warnings and also tell you the part of the code that is causing deprecation or using deprecated API. Now either you can run your code with these warnings or make appropriate changes in the code. </p>\n\n<p>In my case I was using <code>someListItem.addItem(\"red color\")</code> whereas the compiler wanted me to use <code>someListItem.add(\"red color\");</code>.</p>\n"},{"tags":[],"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618838221,"creation_date":1618838221,"answer_id":67162778,"question_id":1858021,"body_markdown":"If `@SuppressWarnings(&quot;deprecation&quot;)` is not working for you like for me. You can find exact squid number in sonar lint plugin. And then you can simply suppress warning: `@SuppressWarnings(&quot;squid:CallToDeprecatedMethod&quot;)`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i6e9M.png","title":"Suppress deprecated import warning in Java","body":"<p>If <code>@SuppressWarnings(&quot;deprecation&quot;)</code> is not working for you like for me. You can find exact squid number in sonar lint plugin. And then you can simply suppress warning: <code>@SuppressWarnings(&quot;squid:CallToDeprecatedMethod&quot;)</code></p>\n<p><a href=\"https://i.stack.imgur.com/i6e9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i6e9M.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":65278,"reputation":3062,"user_id":192236,"accept_rate":89,"display_name":"Ed Mazur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98075,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":20909204,"answer_count":7,"score":137,"last_activity_date":1667041115,"creation_date":1260164220,"question_id":1858021,"body_markdown":"In Java, if you import a deprecated class:\r\n\r\n    import SomeDeprecatedClass;\r\n\r\nYou get this warning: `The type SomeDeprecatedClass is deprecated`\r\n\r\nIs there a way to suppress this warning?","title":"Suppress deprecated import warning in Java","body":"<p>In Java, if you import a deprecated class:</p>\n\n<pre><code>import SomeDeprecatedClass;\n</code></pre>\n\n<p>You get this warning: <code>The type SomeDeprecatedClass is deprecated</code></p>\n\n<p>Is there a way to suppress this warning?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9069,"page":923,"page_size":100}
