{"items":[{"tags":["java","kotlin","overloading","optional-parameters"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687177041,"creation_date":1687175740,"answer_id":76506374,"question_id":76506263,"body_markdown":"&gt; Since the method is overloaded (@JvmOverloads), how do I use it in java with only sample(param1, param3), excluding param2?\r\n\r\nYou can&#39;t. `@JvmOverloads` only generates overloads with parameters from first to last. So you can call with `param1` and `param2`, but not with `param1` and `param3`.\r\n\r\nYou could swap the order of parameters around, but that only works if you don&#39;t also need the param 1 &amp; 2 version somewhere else. Or, you could manually add an overload that only takes 1 &amp; 3 and call that from java:\r\n\r\n`fun sample2(param1: ByteArray, param3: ByteArray) = sample(param1, param3 = param3)`\r\n\r\nThis one should have a different name (or you could confuse with with the param 1 &amp; 2 version), and it doesn&#39;t need the default for `param3` (because just use the original method).\r\n","title":"Using kotlin overloaded method parameters with same data type in Java","body":"<blockquote>\n<p>Since the method is overloaded (@JvmOverloads), how do I use it in java with only sample(param1, param3), excluding param2?</p>\n</blockquote>\n<p>You can't. <code>@JvmOverloads</code> only generates overloads with parameters from first to last. So you can call with <code>param1</code> and <code>param2</code>, but not with <code>param1</code> and <code>param3</code>.</p>\n<p>You could swap the order of parameters around, but that only works if you don't also need the param 1 &amp; 2 version somewhere else. Or, you could manually add an overload that only takes 1 &amp; 3 and call that from java:</p>\n<p><code>fun sample2(param1: ByteArray, param3: ByteArray) = sample(param1, param3 = param3)</code></p>\n<p>This one should have a different name (or you could confuse with with the param 1 &amp; 2 version), and it doesn't need the default for <code>param3</code> (because just use the original method).</p>\n"}],"owner":{"account_id":10847169,"reputation":105,"user_id":16171990,"display_name":"Joshua Hero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76506374,"answer_count":1,"score":0,"last_activity_date":1687177041,"creation_date":1687174806,"question_id":76506263,"body_markdown":"I have a kotlin code/library that will end up being used in Java, one of the methods there is:\r\n\r\n```kotlin\r\n@JvmOverloads\r\nfun sample(\r\n    param1: ByteArray,\r\n    param2: ByteArray = byteArrayOf(),\r\n    param3: ByteArray = customMethod()\r\n): ByteArray { ... }\r\n```\r\n\r\nSince the method is overloaded (`@JvmOverloads`), how do I use it in java with only `sample(param1, param3)`, excluding `param2`?\r\n\r\nJava detects the second parameter in `sample(param1, param3)` as `param2`, rather than `param3` considering that they are of the same data type.\r\n\r\n\r\nDo I really have to resort to `null`s or perhaps an empty `byte[]` just to skip over the part?\r\n\r\n**I have tried:**\r\n\r\n- Resorting to `null`s and do checks based on that, so now I have `sample(param1, null, param2);`.\r\n- Using empty `byte[]` to skip over the part, so now I have `sample(param1, byte[], param2);`.\r\n\r\nBut, I want/prefer to have `param2` undefined/skipped rather than being defined at all.\r\n\r\n**What I have researched (but haven&#39;t tried)**\r\n\r\n- Data classes as parameters(?)\r\n  ```kotlin\r\n  fun sample(param: DataClass): ByteArray { ... }\r\n  ```\r\n  - However [&quot;Don&#39;t use data classes in an API&quot;](https://kotlinlang.org/docs/jvm-api-guidelines-backward-compatibility.html#don-t-use-data-classes-in-an-api)\r\n\r\n- This code:\r\n  ```java\r\n  Foo foo = new Foo() {{\r\n      color = red;\r\n      name = &quot;Fred&quot;;\r\n      size = 42;\r\n  }};\r\n  ```\r\n  &gt; from: https://stackoverflow.com/a/1988268/16171990\r\n  \r\n   But I don&#39;t think they are desirable (last resort maybe?)","title":"Using kotlin overloaded method parameters with same data type in Java","body":"<p>I have a kotlin code/library that will end up being used in Java, one of the methods there is:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JvmOverloads\nfun sample(\n    param1: ByteArray,\n    param2: ByteArray = byteArrayOf(),\n    param3: ByteArray = customMethod()\n): ByteArray { ... }\n</code></pre>\n<p>Since the method is overloaded (<code>@JvmOverloads</code>), how do I use it in java with only <code>sample(param1, param3)</code>, excluding <code>param2</code>?</p>\n<p>Java detects the second parameter in <code>sample(param1, param3)</code> as <code>param2</code>, rather than <code>param3</code> considering that they are of the same data type.</p>\n<p>Do I really have to resort to <code>null</code>s or perhaps an empty <code>byte[]</code> just to skip over the part?</p>\n<p><strong>I have tried:</strong></p>\n<ul>\n<li>Resorting to <code>null</code>s and do checks based on that, so now I have <code>sample(param1, null, param2);</code>.</li>\n<li>Using empty <code>byte[]</code> to skip over the part, so now I have <code>sample(param1, byte[], param2);</code>.</li>\n</ul>\n<p>But, I want/prefer to have <code>param2</code> undefined/skipped rather than being defined at all.</p>\n<p><strong>What I have researched (but haven't tried)</strong></p>\n<ul>\n<li><p>Data classes as parameters(?)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun sample(param: DataClass): ByteArray { ... }\n</code></pre>\n<ul>\n<li>However <a href=\"https://kotlinlang.org/docs/jvm-api-guidelines-backward-compatibility.html#don-t-use-data-classes-in-an-api\" rel=\"nofollow noreferrer\">&quot;Don't use data classes in an API&quot;</a></li>\n</ul>\n</li>\n<li><p>This code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Foo foo = new Foo() {{\n    color = red;\n    name = &quot;Fred&quot;;\n    size = 42;\n}};\n</code></pre>\n<blockquote>\n<p>from: <a href=\"https://stackoverflow.com/a/1988268/16171990\">https://stackoverflow.com/a/1988268/16171990</a></p>\n</blockquote>\n<p>But I don't think they are desirable (last resort maybe?)</p>\n</li>\n</ul>\n"},{"tags":["java","mysql","hibernate","quarkus-panache"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1687211352,"post_id":76505793,"comment_id":134902274,"body_markdown":"that sounds like &quot;Entity&quot; issue then repository, it would be easier to solve if you shared a [reproducer](https://stackoverflow.com/help/minimal-reproducible-example).","body":"that sounds like &quot;Entity&quot; issue then repository, it would be easier to solve if you shared a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">reproducer</a>."}],"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687176857,"creation_date":1687170861,"question_id":76505793,"body_markdown":"We want to build an application (REST web services) which can support multiple databases e.g. mysql and mongo DB. This application is more like a product which can be deployed in different banks, companies, etc. Application do not need to have 2 different code bases having 2 different implementations. Application has multiple layer like Controller, Service, DAO, Repository, Mapper, DaoFactory, etc.. \r\n\r\nFor functionality to fetch all employees from database, application will have GET API for employees. The call will from from Controller to Service to DAO to Repo to DB and give all employees available. Depend on client&#39;s environment, client may have Mongo or MySQL, at the run time based on property (or command line parameter) the call should land on MySQL repo or Mongo Repo. We are using Quarkus JPA and hibernate for DB layer. To fetch the correct repo, we have created a factory which returns an implementation against interface (Interface pattern). \r\n\r\nHere is a factory code\r\n\r\n\r\n    public class CarRepoFactory {\r\n        public static CarInterface getInstance(String db_variant){\r\n            if(db_variant.equals(&quot;MYSQL&quot;)){\r\n                return new CarMysqlRepoImpl();\r\n            }else{\r\n                return new CarMongoRepoImpl();\r\n            }\r\n        }\r\n    }\r\n\r\nHere is interface against which dao layer will create an instance of repo\r\n\r\n    public interface CarInterface {\r\n        void saveCarDetails(CarVO carVO);\r\n        List&lt;CarVO&gt; getCarDetails();\r\n    }\r\n\r\nHere is mySqlRepo\r\n\r\n    public class CarMysqlRepo implements PanacheRepositoryBase&lt;CarMysqlEntity,Integer&gt; {}\r\n\r\nHere is mySqlRepoImpl\r\n\r\n    public class CarMysqlRepoImpl implements CarInterface {\r\n    \r\n        CarMysqlRepo carMysqlRepo = new CarMysqlRepo();\r\n    \r\n        @PersistenceContext\r\n        EntityManager entityManager;\r\n    \r\n        @Override\r\n        public void saveCarDetails(CarVO carVO) {\r\n            carMysqlRepo.persist(CarMysqlEntity.builder().carName(carVO.getCarName()).model(carVO.getModel()).build());\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;CarVO&gt; getCarDetails() {\r\n            return entityManager.createNativeQuery(&quot;select * from Cars where model=&#39;KIA&#39;&quot;).getResultList();\r\n        }\r\n    }\r\n\r\nHere are sample methods of the DAO where we want to use the Repo\r\n\r\n    public class CarDAO {\r\n        public CarDAO(){\r\n            carInterface = CarRepoFactory.getInstance(dbVariant);\r\n        }\r\n        \r\n        public void saveCarDetails(CarVO carVO){\r\n            carInterface.saveCarDetails(carVO);\r\n        }\r\n    }\r\n\r\nThe problem is, in DAO, it says carInterface object shows recursive (cyclic dependency) dependency. When we try to make it @Lazy, it still shows null.\r\n\r\n\r\n\r\n\r\n","title":"Database factory in Quarkus + Hibernate","body":"<p>We want to build an application (REST web services) which can support multiple databases e.g. mysql and mongo DB. This application is more like a product which can be deployed in different banks, companies, etc. Application do not need to have 2 different code bases having 2 different implementations. Application has multiple layer like Controller, Service, DAO, Repository, Mapper, DaoFactory, etc..</p>\n<p>For functionality to fetch all employees from database, application will have GET API for employees. The call will from from Controller to Service to DAO to Repo to DB and give all employees available. Depend on client's environment, client may have Mongo or MySQL, at the run time based on property (or command line parameter) the call should land on MySQL repo or Mongo Repo. We are using Quarkus JPA and hibernate for DB layer. To fetch the correct repo, we have created a factory which returns an implementation against interface (Interface pattern).</p>\n<p>Here is a factory code</p>\n<pre><code>public class CarRepoFactory {\n    public static CarInterface getInstance(String db_variant){\n        if(db_variant.equals(&quot;MYSQL&quot;)){\n            return new CarMysqlRepoImpl();\n        }else{\n            return new CarMongoRepoImpl();\n        }\n    }\n}\n</code></pre>\n<p>Here is interface against which dao layer will create an instance of repo</p>\n<pre><code>public interface CarInterface {\n    void saveCarDetails(CarVO carVO);\n    List&lt;CarVO&gt; getCarDetails();\n}\n</code></pre>\n<p>Here is mySqlRepo</p>\n<pre><code>public class CarMysqlRepo implements PanacheRepositoryBase&lt;CarMysqlEntity,Integer&gt; {}\n</code></pre>\n<p>Here is mySqlRepoImpl</p>\n<pre><code>public class CarMysqlRepoImpl implements CarInterface {\n\n    CarMysqlRepo carMysqlRepo = new CarMysqlRepo();\n\n    @PersistenceContext\n    EntityManager entityManager;\n\n    @Override\n    public void saveCarDetails(CarVO carVO) {\n        carMysqlRepo.persist(CarMysqlEntity.builder().carName(carVO.getCarName()).model(carVO.getModel()).build());\n    }\n\n    @Override\n    public List&lt;CarVO&gt; getCarDetails() {\n        return entityManager.createNativeQuery(&quot;select * from Cars where model='KIA'&quot;).getResultList();\n    }\n}\n</code></pre>\n<p>Here are sample methods of the DAO where we want to use the Repo</p>\n<pre><code>public class CarDAO {\n    public CarDAO(){\n        carInterface = CarRepoFactory.getInstance(dbVariant);\n    }\n    \n    public void saveCarDetails(CarVO carVO){\n        carInterface.saveCarDetails(carVO);\n    }\n}\n</code></pre>\n<p>The problem is, in DAO, it says carInterface object shows recursive (cyclic dependency) dependency. When we try to make it @Lazy, it still shows null.</p>\n"},{"tags":["java","maven","ubuntu","oozie","artifact"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687177812,"post_id":76506489,"comment_id":134896041,"body_markdown":"The actual error you have is &quot;Connect to www.datanucleus.org:80 [www.datanucleus.org/88.97.7.126] failed: Connection refused (Connection refused)&quot; -- that host now requires TLS (port 443 and https, not port 80 and http).","body":"The actual error you have is &quot;Connect to www.datanucleus.org:80 [www.datanucleus.org/88.97.7.126] failed: Connection refused (Connection refused)&quot; -- that host now requires TLS (port 443 and https, not port 80 and http)."}],"owner":{"account_id":4852379,"reputation":21,"user_id":8976363,"display_name":"Lamine Tour&#233;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687176623,"creation_date":1687176623,"question_id":76506489,"body_markdown":"I am trying to install Oozie version 5.2.0\r\nI have java version 1.8 as asked by requirements\r\nI have no networking issues (tested with curl =&gt; all is fine)\r\nWhatever, mkDistro.sh results in this issue:\r\n\r\n    ./bin/mkdistro.sh -DskipTests  \r\n    [INFO] Apache Oozie Main .................................. SUCCESS [  0.842 s]\r\n    \r\n    [INFO] Apache Oozie Fluent Job ............................ SUCCESS [  0.037 s]\r\n    \r\n    [INFO] Apache Oozie Fluent Job API ........................ SUCCESS [  5.051 s]\r\n    \r\n    [INFO] Apache Oozie Client ................................ SUCCESS [ 21.903 s]\r\n    \r\n    [INFO] Apache Oozie Share Lib Oozie ....................... SUCCESS [  1.371 s]\r\n    \r\n    [INFO] Apache Oozie Share Lib HCatalog .................... FAILURE [  4.205 s]\r\n    \r\n    [INFO] Apache Oozie Share Lib Distcp ...................... SKIPPED\r\n    \r\n    [INFO] Apache Oozie Core .................................. SKIPPED\r\n    \r\n    [INFO] Apache Oozie Share Lib Streaming ................... SKIPPED\r\n    \r\n    [INFO] Apache Oozie Share Lib Pig ......................... SKIPPED\r\n    \r\n    [INFO] Apache Oozie Share Lib Git ......................... SKIPPED\r\n    \r\n    [INFO] Apache Oozie Share Lib Hive ........................ SKIPPED\r\n    \r\n    [INFO] Apache Oozie Share Lib Hive 2 ...................... SKIPPED\r\n    \r\n    [INFO] Apache Oozie Share Lib Sqoop ....................... SKIPPED\r\n    \r\n    [INFO] Apache Oozie Examples .............................. SKIPPED\r\n    \r\n    [INFO] Apache Oozie Share Lib Spark ....................... SKIPPED\r\n    \r\n    [INFO] Apache Oozie Share Lib ............................. SKIPPED\r\n    \r\n    [INFO] Apache Oozie Docs .................................. SKIPPED\r\n    \r\n    [INFO] Apache Oozie WebApp ................................ SKIPPED\r\n    \r\n    [INFO] Apache Oozie Tools ................................. SKIPPED\r\n    \r\n    [INFO] Apache Oozie MiniOozie ............................. SKIPPED\r\n    \r\n    [INFO] Apache Oozie Fluent Job Client ..................... SKIPPED\r\n    \r\n    [INFO] Apache Oozie Server ................................ SKIPPED\r\n    \r\n    [INFO] Apache Oozie Distro ................................ SKIPPED\r\n    \r\n    [INFO] Apache Oozie ZooKeeper Security Tests .............. SKIPPED\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    [INFO] BUILD FAILURE\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    [INFO] Total time:  34.058 s\r\n    \r\n    [INFO] Finished at: 2023-06-19T14:07:55+02:00\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    [ERROR] Failed to execute goal on project oozie-sharelib-hcatalog: Could not resolve dependencies for project org.apache.oozie:oozie-sharelib-hcatalog:jar:5.2.0: Failed to collect dependencies at org.apache.hive.hcatalog:hive-hcatalog-server-extensions:jar:1.2.2 -&gt; org.apache.hive.hcatalog:hive-hcatalog-core:jar:1.2.2 -&gt; org.apache.hive:hive-cli:jar:1.2.2 -&gt; org.apache.hive:hive-service:jar:1.2.2 -&gt; org.apache.hive:hive-exec:jar:1.2.2 -&gt; org.apache.calcite:calcite-core:jar:1.2.0-incubating -&gt; org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Failed to read artifact descriptor for org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Could not transfer artifact org.pentaho:pentaho-aggdesigner-algorithm:pom:5.1.5-jhyde from/to datanucleus (http://www.datanucleus.org/downloads/maven2): Transfer failed for http://www.datanucleus.org/downloads/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom: Connect to www.datanucleus.org:80 [www.datanucleus.org/88.97.7.126] failed: Connection refused (Connection refused) -&gt; [Help 1]\r\n    \r\n    [ERROR] \r\n    \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    \r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    [ERROR] \r\n    \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    \r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n    \r\n    [ERROR] \r\n    \r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    \r\n    [ERROR]   mvn &lt;args&gt; -rf :oozie-sharelib-hcatalog\r\n    \r\n    \r\n    \r\n    ERROR, Oozie distro creation failed\r\n\r\n I tried to compile manually the package:\r\n\r\n    # mvn clean install  \r\n    \r\n    [INFO] Scanning for projects...\r\n    \r\n    [INFO] \r\n    \r\n    [INFO] --------------&lt; org.apache.oozie:oozie-sharelib-hcatalog &gt;--------------\r\n    \r\n    [INFO] Building Apache Oozie Share Lib HCatalog 5.2.0\r\n    \r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    \r\n    Downloading from central: https://repo.maven.apache.org/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom\r\n    \r\n    Downloading from datanucleus: http://www.datanucleus.org/downloads/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom\r\n    \r\n    Downloading from conjars: http://conjars.org/repo/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    [INFO] BUILD FAILURE\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    [INFO] Total time:  5.298 s\r\n    \r\n    [INFO] Finished at: 2023-06-19T13:52:43+02:00\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    [ERROR] Failed to execute goal on project oozie-sharelib-hcatalog: Could not resolve dependencies for project org.apache.oozie:oozie-sharelib-hcatalog:jar:5.2.0: Failed to collect dependencies at org.apache.hive.hcatalog:hive-hcatalog-server-extensions:jar:1.2.2 -&gt; org.apache.hive.hcatalog:hive-hcatalog-core:jar:1.2.2 -&gt; org.apache.hive:hive-cli:jar:1.2.2 -&gt; org.apache.hive:hive-service:jar:1.2.2 -&gt; org.apache.hive:hive-exec:jar:1.2.2 -&gt; org.apache.calcite:calcite-core:jar:1.2.0-incubating -&gt; org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Failed to read artifact descriptor for org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Could not transfer artifact org.pentaho:pentaho-aggdesigner-algorithm:pom:5.1.5-jhyde from/to datanucleus (http://www.datanucleus.org/downloads/maven2): Transfer failed for http://www.datanucleus.org/downloads/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom: Connect to www.datanucleus.org:80 [www.datanucleus.org/88.97.7.126] failed: Connection refused (Connection refused) -&gt; [Help 1]\r\n    \r\n    [ERROR] \r\n    \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    \r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    [ERROR] \r\n    \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    \r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\nPOM file seems ok:\r\n\r\n        # pwd\r\n    /home/dagon/DevOps/oozie-5.2.0/sharelib/hcatalog\r\n    \r\n    # more pom.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!--\r\n    \r\n      Licensed to the Apache Software Foundation (ASF) under one\r\n    \r\n      or more contributor license agreements.  See the NOTICE file\r\n    \r\n      distributed with this work for additional information\r\n    \r\n      regarding copyright ownership.  The ASF licenses this file\r\n    \r\n      to you under the Apache License, Version 2.0 (the\r\n    \r\n      &quot;License&quot;); you may not use this file except in compliance\r\n    \r\n      with the License.  You may obtain a copy of the License at\r\n    \r\n    \r\n    \r\n           http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n    \r\n    \r\n      Unless required by applicable law or agreed to in writing, software\r\n    \r\n      distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n    \r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    \r\n      See the License for the specific language governing permissions and\r\n    \r\n      limitations under the License.\r\n    \r\n    --&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n    \r\n            &lt;groupId&gt;org.apache.oozie&lt;/groupId&gt;\r\n    \r\n            &lt;artifactId&gt;oozie-main&lt;/artifactId&gt;\r\n    \r\n            &lt;version&gt;5.2.0&lt;/version&gt;\r\n    \r\n            &lt;relativePath&gt;../..&lt;/relativePath&gt;\r\n    \r\n        &lt;/parent&gt;\r\n    \r\n    \r\n    \r\n        \r\n    \r\n        &lt;artifactId&gt;oozie-sharelib-hcatalog&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;5.2.0&lt;/version&gt;\r\n    \r\n        &lt;description&gt;Apache Oozie Share Lib HCatalog&lt;/description&gt;\r\n    \r\n        &lt;name&gt;Apache Oozie Share Lib HCatalog&lt;/name&gt;\r\n    \r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \r\n    \r\n        &lt;repositories&gt;\r\n    \r\n          &lt;repository&gt;\r\n    \r\n    \t&lt;id&gt;central&lt;/id&gt;\r\n    \r\n    \t&lt;name&gt;Maven Central Repository&lt;/name&gt;\r\n    \r\n    \t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    \r\n          &lt;/repository&gt;\r\n    \r\n        &lt;/repositories&gt;\r\n    \r\n        \r\n    \r\n        &lt;properties&gt;\r\n    \r\n            &lt;sharelib.action.postfix&gt;hcatalog&lt;/sharelib.action.postfix&gt;\r\n    \r\n            &lt;sharelib.transitive.filtering&gt;true&lt;/sharelib.transitive.filtering&gt;\r\n    \r\n        &lt;/properties&gt;\r\n    \r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n    \r\n                &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n    \r\n                &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n    \r\n                &lt;version&gt;${joda.time.version}&lt;/version&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n            &lt;dependency&gt;\r\n    \r\n                &lt;groupId&gt;org.apache.hive.hcatalog&lt;/groupId&gt;\r\n    \r\n                &lt;artifactId&gt;hive-webhcat-java-client&lt;/artifactId&gt;\r\n    \r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n    \r\n                &lt;exclusions&gt;\r\n    \r\n                    &lt;exclusion&gt;\r\n    \r\n                        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;hive-builtins&lt;/artifactId&gt;\r\n    \r\n                    &lt;/exclusion&gt;\r\n    \t\t...\r\n    \r\n                &lt;/exclusions&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n            &lt;dependency&gt;\r\n    \r\n                &lt;groupId&gt;org.apache.hive.hcatalog&lt;/groupId&gt;\r\n    \r\n                &lt;artifactId&gt;hive-hcatalog-server-extensions&lt;/artifactId&gt;\r\n    \r\n                &lt;version&gt;${hive.version}&lt;/version&gt;\r\n    \r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n    \r\n                &lt;exclusions&gt;\r\n    \r\n                    &lt;exclusion&gt;\r\n    \r\n                        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\r\n    \r\n                    &lt;/exclusion&gt;\r\n    \t\t...\r\n    \r\n                &lt;/exclusions&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n            &lt;dependency&gt;\r\n    \r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n    \r\n                &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n    \r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n            &lt;dependency&gt;\r\n    \r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n    \r\n                &lt;artifactId&gt;hadoop-minicluster&lt;/artifactId&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n            &lt;dependency&gt;\r\n    \r\n                &lt;groupId&gt;org.apache.oozie&lt;/groupId&gt;\r\n    \r\n                &lt;artifactId&gt;oozie-sharelib-oozie&lt;/artifactId&gt;\r\n    \r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n    \r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n    \r\n        &lt;build&gt;\r\n    \r\n            &lt;resources&gt;\r\n    \r\n                &lt;resource&gt;\r\n    \r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \r\n                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n    \r\n                &lt;/resource&gt;\r\n    \r\n            &lt;/resources&gt;\r\n    \r\n            &lt;plugins&gt;\r\n    \r\n                &lt;plugin&gt;\r\n    \r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \r\n                    &lt;executions&gt;\r\n    \r\n                        &lt;execution&gt;\r\n    \r\n                            &lt;id&gt;gen-classpath&lt;/id&gt;\r\n    \r\n                            &lt;phase&gt;generate-test-resources&lt;/phase&gt;\r\n    \r\n                            &lt;goals&gt;\r\n    \r\n                                &lt;goal&gt;build-classpath&lt;/goal&gt;\r\n    \r\n                            &lt;/goals&gt;\r\n    \r\n                            &lt;configuration&gt;\r\n    \r\n                                &lt;includeScope&gt;compile&lt;/includeScope&gt;\r\n    \r\n                                &lt;outputFile&gt;${project.build.directory}/classpath&lt;/outputFile&gt;\r\n    \r\n                            &lt;/configuration&gt;\r\n    \r\n                        &lt;/execution&gt;\r\n    \r\n                    &lt;/executions&gt;\r\n    \r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n    \r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \r\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n    \r\n                    &lt;executions&gt;\r\n    \r\n                        &lt;execution&gt;\r\n    \r\n                            &lt;configuration&gt;\r\n    \r\n                                &lt;target&gt;\r\n    \r\n                                    &lt;!-- needed to include Main class in classpath for mini yarn cluster for unit tests --&gt;\r\n    \r\n                                    &lt;echo file=&quot;${project.build.directory}/test-classes/mrapp-generated-classpath&quot;\r\n    \r\n                                          append=&quot;true&quot;\r\n    \r\n                                          message=&quot;:${project.build.directory}/classes&quot;/&gt;\r\n    \r\n                                &lt;/target&gt;\r\n    \r\n                            &lt;/configuration&gt;\r\n    \r\n                            &lt;goals&gt;\r\n    \r\n                                &lt;goal&gt;run&lt;/goal&gt;\r\n    \r\n                            &lt;/goals&gt;\r\n    \r\n                            &lt;phase&gt;generate-test-resources&lt;/phase&gt;\r\n    \r\n                        &lt;/execution&gt;\r\n    \r\n                    &lt;/executions&gt;\r\n    \r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n    \r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \r\n                    &lt;configuration&gt;\r\n    \r\n                        &lt;finalName&gt;partial-sharelib&lt;/finalName&gt;\r\n    \r\n                        &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n    \r\n                        &lt;descriptors&gt;\r\n    \r\n                            &lt;descriptor&gt;../../src/main/assemblies/partial-sharelib.xml&lt;/descriptor&gt;\r\n    \r\n                        &lt;/descriptors&gt;\r\n    \r\n                    &lt;/configuration&gt;\r\n    \r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n    \r\n        &lt;/build&gt;\r\n    \r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nDoes anybody ever face this issue ?\r\nI have already checked preceding posts on this subjects, seems related but issue is different\r\n\r\n\r\n\r\n\r\n","title":"Oozie mkDistro.sh issues","body":"<p>I am trying to install Oozie version 5.2.0\nI have java version 1.8 as asked by requirements\nI have no networking issues (tested with curl =&gt; all is fine)\nWhatever, mkDistro.sh results in this issue:</p>\n<pre><code>./bin/mkdistro.sh -DskipTests  \n[INFO] Apache Oozie Main .................................. SUCCESS [  0.842 s]\n\n[INFO] Apache Oozie Fluent Job ............................ SUCCESS [  0.037 s]\n\n[INFO] Apache Oozie Fluent Job API ........................ SUCCESS [  5.051 s]\n\n[INFO] Apache Oozie Client ................................ SUCCESS [ 21.903 s]\n\n[INFO] Apache Oozie Share Lib Oozie ....................... SUCCESS [  1.371 s]\n\n[INFO] Apache Oozie Share Lib HCatalog .................... FAILURE [  4.205 s]\n\n[INFO] Apache Oozie Share Lib Distcp ...................... SKIPPED\n\n[INFO] Apache Oozie Core .................................. SKIPPED\n\n[INFO] Apache Oozie Share Lib Streaming ................... SKIPPED\n\n[INFO] Apache Oozie Share Lib Pig ......................... SKIPPED\n\n[INFO] Apache Oozie Share Lib Git ......................... SKIPPED\n\n[INFO] Apache Oozie Share Lib Hive ........................ SKIPPED\n\n[INFO] Apache Oozie Share Lib Hive 2 ...................... SKIPPED\n\n[INFO] Apache Oozie Share Lib Sqoop ....................... SKIPPED\n\n[INFO] Apache Oozie Examples .............................. SKIPPED\n\n[INFO] Apache Oozie Share Lib Spark ....................... SKIPPED\n\n[INFO] Apache Oozie Share Lib ............................. SKIPPED\n\n[INFO] Apache Oozie Docs .................................. SKIPPED\n\n[INFO] Apache Oozie WebApp ................................ SKIPPED\n\n[INFO] Apache Oozie Tools ................................. SKIPPED\n\n[INFO] Apache Oozie MiniOozie ............................. SKIPPED\n\n[INFO] Apache Oozie Fluent Job Client ..................... SKIPPED\n\n[INFO] Apache Oozie Server ................................ SKIPPED\n\n[INFO] Apache Oozie Distro ................................ SKIPPED\n\n[INFO] Apache Oozie ZooKeeper Security Tests .............. SKIPPED\n\n[INFO] ------------------------------------------------------------------------\n\n[INFO] BUILD FAILURE\n\n[INFO] ------------------------------------------------------------------------\n\n[INFO] Total time:  34.058 s\n\n[INFO] Finished at: 2023-06-19T14:07:55+02:00\n\n[INFO] ------------------------------------------------------------------------\n\n[ERROR] Failed to execute goal on project oozie-sharelib-hcatalog: Could not resolve dependencies for project org.apache.oozie:oozie-sharelib-hcatalog:jar:5.2.0: Failed to collect dependencies at org.apache.hive.hcatalog:hive-hcatalog-server-extensions:jar:1.2.2 -&gt; org.apache.hive.hcatalog:hive-hcatalog-core:jar:1.2.2 -&gt; org.apache.hive:hive-cli:jar:1.2.2 -&gt; org.apache.hive:hive-service:jar:1.2.2 -&gt; org.apache.hive:hive-exec:jar:1.2.2 -&gt; org.apache.calcite:calcite-core:jar:1.2.0-incubating -&gt; org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Failed to read artifact descriptor for org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Could not transfer artifact org.pentaho:pentaho-aggdesigner-algorithm:pom:5.1.5-jhyde from/to datanucleus (http://www.datanucleus.org/downloads/maven2): Transfer failed for http://www.datanucleus.org/downloads/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom: Connect to www.datanucleus.org:80 [www.datanucleus.org/88.97.7.126] failed: Connection refused (Connection refused) -&gt; [Help 1]\n\n[ERROR] \n\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n\n[ERROR] \n\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n\n[ERROR] \n\n[ERROR] After correcting the problems, you can resume the build with the command\n\n[ERROR]   mvn &lt;args&gt; -rf :oozie-sharelib-hcatalog\n\n\n\nERROR, Oozie distro creation failed\n</code></pre>\n<p>I tried to compile manually the package:</p>\n<pre><code># mvn clean install  \n\n[INFO] Scanning for projects...\n\n[INFO] \n\n[INFO] --------------&lt; org.apache.oozie:oozie-sharelib-hcatalog &gt;--------------\n\n[INFO] Building Apache Oozie Share Lib HCatalog 5.2.0\n\n[INFO] --------------------------------[ jar ]---------------------------------\n\nDownloading from central: https://repo.maven.apache.org/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom\n\nDownloading from datanucleus: http://www.datanucleus.org/downloads/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom\n\nDownloading from conjars: http://conjars.org/repo/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom\n\n[INFO] ------------------------------------------------------------------------\n\n[INFO] BUILD FAILURE\n\n[INFO] ------------------------------------------------------------------------\n\n[INFO] Total time:  5.298 s\n\n[INFO] Finished at: 2023-06-19T13:52:43+02:00\n\n[INFO] ------------------------------------------------------------------------\n\n[ERROR] Failed to execute goal on project oozie-sharelib-hcatalog: Could not resolve dependencies for project org.apache.oozie:oozie-sharelib-hcatalog:jar:5.2.0: Failed to collect dependencies at org.apache.hive.hcatalog:hive-hcatalog-server-extensions:jar:1.2.2 -&gt; org.apache.hive.hcatalog:hive-hcatalog-core:jar:1.2.2 -&gt; org.apache.hive:hive-cli:jar:1.2.2 -&gt; org.apache.hive:hive-service:jar:1.2.2 -&gt; org.apache.hive:hive-exec:jar:1.2.2 -&gt; org.apache.calcite:calcite-core:jar:1.2.0-incubating -&gt; org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Failed to read artifact descriptor for org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Could not transfer artifact org.pentaho:pentaho-aggdesigner-algorithm:pom:5.1.5-jhyde from/to datanucleus (http://www.datanucleus.org/downloads/maven2): Transfer failed for http://www.datanucleus.org/downloads/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom: Connect to www.datanucleus.org:80 [www.datanucleus.org/88.97.7.126] failed: Connection refused (Connection refused) -&gt; [Help 1]\n\n[ERROR] \n\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n\n[ERROR] \n\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n<p>POM file seems ok:</p>\n<pre><code>    # pwd\n/home/dagon/DevOps/oozie-5.2.0/sharelib/hcatalog\n\n# more pom.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!--\n\n  Licensed to the Apache Software Foundation (ASF) under one\n\n  or more contributor license agreements.  See the NOTICE file\n\n  distributed with this work for additional information\n\n  regarding copyright ownership.  The ASF licenses this file\n\n  to you under the Apache License, Version 2.0 (the\n\n  &quot;License&quot;); you may not use this file except in compliance\n\n  with the License.  You may obtain a copy of the License at\n\n\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n\n\n  Unless required by applicable law or agreed to in writing, software\n\n  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\n  See the License for the specific language governing permissions and\n\n  limitations under the License.\n\n--&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n\n        &lt;groupId&gt;org.apache.oozie&lt;/groupId&gt;\n\n        &lt;artifactId&gt;oozie-main&lt;/artifactId&gt;\n\n        &lt;version&gt;5.2.0&lt;/version&gt;\n\n        &lt;relativePath&gt;../..&lt;/relativePath&gt;\n\n    &lt;/parent&gt;\n\n\n\n    \n\n    &lt;artifactId&gt;oozie-sharelib-hcatalog&lt;/artifactId&gt;\n\n    &lt;version&gt;5.2.0&lt;/version&gt;\n\n    &lt;description&gt;Apache Oozie Share Lib HCatalog&lt;/description&gt;\n\n    &lt;name&gt;Apache Oozie Share Lib HCatalog&lt;/name&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n\n\n    &lt;repositories&gt;\n\n      &lt;repository&gt;\n\n    &lt;id&gt;central&lt;/id&gt;\n\n    &lt;name&gt;Maven Central Repository&lt;/name&gt;\n\n    &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n\n      &lt;/repository&gt;\n\n    &lt;/repositories&gt;\n\n    \n\n    &lt;properties&gt;\n\n        &lt;sharelib.action.postfix&gt;hcatalog&lt;/sharelib.action.postfix&gt;\n\n        &lt;sharelib.transitive.filtering&gt;true&lt;/sharelib.transitive.filtering&gt;\n\n    &lt;/properties&gt;\n\n\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n\n            &lt;version&gt;${joda.time.version}&lt;/version&gt;\n\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;org.apache.hive.hcatalog&lt;/groupId&gt;\n\n            &lt;artifactId&gt;hive-webhcat-java-client&lt;/artifactId&gt;\n\n            &lt;scope&gt;compile&lt;/scope&gt;\n\n            &lt;exclusions&gt;\n\n                &lt;exclusion&gt;\n\n                    &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;hive-builtins&lt;/artifactId&gt;\n\n                &lt;/exclusion&gt;\n        ...\n\n            &lt;/exclusions&gt;\n\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;org.apache.hive.hcatalog&lt;/groupId&gt;\n\n            &lt;artifactId&gt;hive-hcatalog-server-extensions&lt;/artifactId&gt;\n\n            &lt;version&gt;${hive.version}&lt;/version&gt;\n\n            &lt;scope&gt;compile&lt;/scope&gt;\n\n            &lt;exclusions&gt;\n\n                &lt;exclusion&gt;\n\n                    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\n\n                &lt;/exclusion&gt;\n        ...\n\n            &lt;/exclusions&gt;\n\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n\n            &lt;scope&gt;provided&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n\n            &lt;artifactId&gt;hadoop-minicluster&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;org.apache.oozie&lt;/groupId&gt;\n\n            &lt;artifactId&gt;oozie-sharelib-oozie&lt;/artifactId&gt;\n\n            &lt;scope&gt;provided&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n\n            &lt;scope&gt;test&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n\n    &lt;build&gt;\n\n        &lt;resources&gt;\n\n            &lt;resource&gt;\n\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n\n                &lt;filtering&gt;true&lt;/filtering&gt;\n\n            &lt;/resource&gt;\n\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n\n                &lt;executions&gt;\n\n                    &lt;execution&gt;\n\n                        &lt;id&gt;gen-classpath&lt;/id&gt;\n\n                        &lt;phase&gt;generate-test-resources&lt;/phase&gt;\n\n                        &lt;goals&gt;\n\n                            &lt;goal&gt;build-classpath&lt;/goal&gt;\n\n                        &lt;/goals&gt;\n\n                        &lt;configuration&gt;\n\n                            &lt;includeScope&gt;compile&lt;/includeScope&gt;\n\n                            &lt;outputFile&gt;${project.build.directory}/classpath&lt;/outputFile&gt;\n\n                        &lt;/configuration&gt;\n\n                    &lt;/execution&gt;\n\n                &lt;/executions&gt;\n\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n\n                &lt;executions&gt;\n\n                    &lt;execution&gt;\n\n                        &lt;configuration&gt;\n\n                            &lt;target&gt;\n\n                                &lt;!-- needed to include Main class in classpath for mini yarn cluster for unit tests --&gt;\n\n                                &lt;echo file=&quot;${project.build.directory}/test-classes/mrapp-generated-classpath&quot;\n\n                                      append=&quot;true&quot;\n\n                                      message=&quot;:${project.build.directory}/classes&quot;/&gt;\n\n                            &lt;/target&gt;\n\n                        &lt;/configuration&gt;\n\n                        &lt;goals&gt;\n\n                            &lt;goal&gt;run&lt;/goal&gt;\n\n                        &lt;/goals&gt;\n\n                        &lt;phase&gt;generate-test-resources&lt;/phase&gt;\n\n                    &lt;/execution&gt;\n\n                &lt;/executions&gt;\n\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n\n                &lt;configuration&gt;\n\n                    &lt;finalName&gt;partial-sharelib&lt;/finalName&gt;\n\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n\n                    &lt;descriptors&gt;\n\n                        &lt;descriptor&gt;../../src/main/assemblies/partial-sharelib.xml&lt;/descriptor&gt;\n\n                    &lt;/descriptors&gt;\n\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Does anybody ever face this issue ?\nI have already checked preceding posts on this subjects, seems related but issue is different</p>\n"},{"tags":["java","twilio","sip","twilio-programmable-voice"],"owner":{"account_id":28062793,"reputation":1,"user_id":21436639,"display_name":"Vatsal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687176618,"creation_date":1687176618,"question_id":76506487,"body_markdown":"I am writing to seek your guidance on an issue that we are currently facing in integrating 3rd party SIP agents with our Twilio SIP domains. We are trying to understand how we can facilitate any 3rd party agents to successfully transfer SIP headers to our SIP domains.\r\n\r\nIn our efforts to solve the issue, we have been experimenting with the Call Control Configuration feature under Twilio SIP domains. However, we have noticed that the configuration only appears to be triggered when calls are made from SIP endpoints registered within the same domain, and not from the 3rd party SIP endpoints.\r\n\r\nGiven the scope and the specificity of the problem, we&#39;re at a point where we could greatly benefit from your insight. Are there specific settings or techniques we need to adopt in order to trigger the Call Control Configuration for 3rd party SIP endpoints? If not, what alternatives would you suggest for enabling SIP header transfer from 3rd party SIP agents to our SIP domains?\r\n\r\nWe would highly appreciate any guidance or documentation you could share on this matter. This integration is an important part of our operation and we are eager to resolve this at the earliest to ensure a smooth workflow.","title":"3rd Party SIP Endpoint with SIP Headers and Call Control Configuration","body":"<p>I am writing to seek your guidance on an issue that we are currently facing in integrating 3rd party SIP agents with our Twilio SIP domains. We are trying to understand how we can facilitate any 3rd party agents to successfully transfer SIP headers to our SIP domains.</p>\n<p>In our efforts to solve the issue, we have been experimenting with the Call Control Configuration feature under Twilio SIP domains. However, we have noticed that the configuration only appears to be triggered when calls are made from SIP endpoints registered within the same domain, and not from the 3rd party SIP endpoints.</p>\n<p>Given the scope and the specificity of the problem, we're at a point where we could greatly benefit from your insight. Are there specific settings or techniques we need to adopt in order to trigger the Call Control Configuration for 3rd party SIP endpoints? If not, what alternatives would you suggest for enabling SIP header transfer from 3rd party SIP agents to our SIP domains?</p>\n<p>We would highly appreciate any guidance or documentation you could share on this matter. This integration is an important part of our operation and we are eager to resolve this at the earliest to ensure a smooth workflow.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1687032217,"post_id":76497915,"comment_id":134881513,"body_markdown":"Can you elaborate on &quot;not being able to load all entities in the database&quot;? Are you getting an error? wrongly loaded entities? Something else?","body":"Can you elaborate on &quot;not being able to load all entities in the database&quot;? Are you getting an error? wrongly loaded entities? Something else?"},{"owner":{"account_id":28620230,"reputation":1,"user_id":21913423,"display_name":"SVG"},"score":0,"creation_date":1687032264,"post_id":76497915,"comment_id":134881518,"body_markdown":"I just get the user entity the other entities are not present in the db","body":"I just get the user entity the other entities are not present in the db"},{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":0,"creation_date":1687096213,"post_id":76497915,"comment_id":134886323,"body_markdown":"Can you show some logs that could help us understand what JPA does on startup?","body":"Can you show some logs that could help us understand what JPA does on startup?"}],"owner":{"account_id":28620230,"reputation":1,"user_id":21913423,"display_name":"SVG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687176522,"creation_date":1687031381,"question_id":76497915,"body_markdown":"I am developing a web application and I am using docker to create an image for my entire back-end. Right now I can create an image for the database, phpmyadmin and the app itself but the problem comes from not being able to load all entities in the database. \r\n\r\nThis here are my entities: \r\n\r\n\r\n```\r\npackage org.example.persistence.entity;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Data\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ExerciseEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    private String imageUrl;\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\npackage org.example.persistence.entity;\r\n\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.example.domain.MessageStatus;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\n\r\n@Data\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;messages&quot;)\r\npublic class MessageEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @JoinColumn(name = &quot;sender_id&quot;)\r\n    private Long senderId;\r\n\r\n    @JoinColumn(name = &quot;receiver_id&quot;)\r\n    private Long receiverId;\r\n\r\n    @Column(name = &quot;message&quot;)\r\n    private String message;\r\n\r\n    @Column(name = &quot;date&quot;)\r\n    private LocalDateTime date;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;status&quot;)\r\n    private MessageStatus status;\r\n}\r\n\r\npackage org.example.persistence.entity;\r\n\r\nimport lombok.*;\r\nimport java.time.LocalDate;\r\nimport javax.persistence.*;\r\n\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class RequestEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;exercise_id&quot;)\r\n    private Long exerciseId;\r\n\r\n\r\n    @Column(name = &quot;reps&quot;)\r\n    private Integer reps;\r\n\r\n    @Column(name = &quot;weight&quot;)\r\n    private Double weight;\r\n\r\n    @Column(name = &quot;date&quot;)\r\n    private LocalDate date;\r\n\r\n}\r\n\r\npackage org.example.persistence.entity;\r\n\r\nimport lombok.*;\r\nimport org.example.domain.Role;\r\nimport org.hibernate.validator.constraints.Length;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotBlank;\r\n\r\n@Entity\r\n@Data\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Length(min = 2 ,max = 50)\r\n    private String email;\r\n\r\n    @NotBlank\r\n    private String password;\r\n\r\n    @NotBlank\r\n    private String firstName;\r\n\r\n    @NotBlank\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;role&quot;, columnDefinition = &quot;ENUM(&#39;CUSTOMER&#39;, &#39;TRAINER&#39;, &#39;ADMINISTRATION&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Role role;\r\n}\r\n\r\n\r\npackage org.example.persistence.entity;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Data\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserExerciseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;user_id&quot;, nullable=false)\r\n    private UserEntity user;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;exercise_id&quot;, nullable=false)\r\n    private ExerciseEntity exercise;\r\n\r\n    @Column(name = &quot;date&quot;)\r\n    private LocalDate date;\r\n}\r\n\r\n```\r\nWhen I run the docker-compose and log in with phpmyadmin I can see only the user entity being created. This is my application.properties : \r\n\r\n\r\n\r\n```\r\n##spring.datasource.url=jdbc:mysql://localhost:3331/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n#spring.datasource.url=jdbc:mysql://host.docker.internal:3331/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n#\r\n#\r\n#\r\n#spring.datasource.username=root\r\n#spring.datasource.password=pass123\r\n###\r\n#spring.jpa.show-sql=true\r\n#spring.jpa.hibernate.ddl-auto=update\r\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n#logging.level.org.hibernate.SQL=DEBUG\r\n#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n#spring.jpa.open-in-view=false\r\n#jwt.secret=E91E158E4C6656F68B1B5D1C316766DE98D2AD6EF3BFB44F78E9CFCDF5\r\n#\r\nspring.datasource.url=jdbc:mysql://localhost:3331/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n#spring.datasource.url=jdbc:mysql://db:3306/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true\r\nspring.datasource.username=Stoyan\r\n#spring.datasource.username=Stoyan\r\n\r\nspring.datasource.password=pass123\r\nspring.jpa.properties.hibernate.packagesToScan=org.example.persistence.entity\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\r\nspring.jpa.open-in-view=false\r\n\r\njwt.secret=E91E158E4C6656F68B1B5D1C316766DE98D2AD6EF3BFB44F78E9CFCDF5\r\n\r\n```\r\nand this is the docker-compose: \r\n\r\n\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  db:\r\n    image: mysql:latest\r\n    ports:\r\n      - 3306:3306\r\n    environment:\r\n      MYSQL_DATABASE: FitBuddy\r\n      MYSQL_USER: Stoyan\r\n      MYSQL_PASSWORD: pass123\r\n      MYSQL_ROOT_PASSWORD: pass123\r\n\r\n  phpmyadmin:\r\n    image: phpmyadmin/phpmyadmin:latest\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      PMA_HOST: db\r\n    ports:\r\n      - 7098:80\r\n\r\n  app:\r\n    build:\r\n      dockerfile: Dockerfile\r\n    environment:\r\n      DB_HOST: db\r\n      DB_PORT: 3306\r\n      DB_USER: Stoyan\r\n      DB_PASSWORD: pass123\r\n      DB_NAME: FitBuddy\r\n    depends_on:\r\n      - db\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n\r\n```\r\nwhat could the problem be? \r\n","title":"Unable to load entites to database","body":"<p>I am developing a web application and I am using docker to create an image for my entire back-end. Right now I can create an image for the database, phpmyadmin and the app itself but the problem comes from not being able to load all entities in the database.</p>\n<p>This here are my entities:</p>\n<pre><code>package org.example.persistence.entity;\n\nimport lombok.*;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ExerciseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    private String name;\n\n    private String description;\n\n    private String imageUrl;\n\n\n\n\n}\n\n\npackage org.example.persistence.entity;\n\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.example.domain.MessageStatus;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Data\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;messages&quot;)\npublic class MessageEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @JoinColumn(name = &quot;sender_id&quot;)\n    private Long senderId;\n\n    @JoinColumn(name = &quot;receiver_id&quot;)\n    private Long receiverId;\n\n    @Column(name = &quot;message&quot;)\n    private String message;\n\n    @Column(name = &quot;date&quot;)\n    private LocalDateTime date;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status&quot;)\n    private MessageStatus status;\n}\n\npackage org.example.persistence.entity;\n\nimport lombok.*;\nimport java.time.LocalDate;\nimport javax.persistence.*;\n\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class RequestEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;user_id&quot;)\n    private Long userId;\n\n    @Column(name = &quot;exercise_id&quot;)\n    private Long exerciseId;\n\n\n    @Column(name = &quot;reps&quot;)\n    private Integer reps;\n\n    @Column(name = &quot;weight&quot;)\n    private Double weight;\n\n    @Column(name = &quot;date&quot;)\n    private LocalDate date;\n\n}\n\npackage org.example.persistence.entity;\n\nimport lombok.*;\nimport org.example.domain.Role;\nimport org.hibernate.validator.constraints.Length;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\n\n@Entity\n@Data\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Length(min = 2 ,max = 50)\n    private String email;\n\n    @NotBlank\n    private String password;\n\n    @NotBlank\n    private String firstName;\n\n    @NotBlank\n    private String lastName;\n\n    @Column(name = &quot;role&quot;, columnDefinition = &quot;ENUM('CUSTOMER', 'TRAINER', 'ADMINISTRATION')&quot;)\n    @Enumerated(EnumType.STRING)\n    private Role role;\n}\n\n\npackage org.example.persistence.entity;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Entity\n@Data\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserExerciseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;, nullable=false)\n    private UserEntity user;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;exercise_id&quot;, nullable=false)\n    private ExerciseEntity exercise;\n\n    @Column(name = &quot;date&quot;)\n    private LocalDate date;\n}\n\n</code></pre>\n<p>When I run the docker-compose and log in with phpmyadmin I can see only the user entity being created. This is my application.properties :</p>\n<pre><code>##spring.datasource.url=jdbc:mysql://localhost:3331/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true\n#spring.datasource.url=jdbc:mysql://host.docker.internal:3331/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true\n#\n#\n#\n#spring.datasource.username=root\n#spring.datasource.password=pass123\n###\n#spring.jpa.show-sql=true\n#spring.jpa.hibernate.ddl-auto=update\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n#logging.level.org.hibernate.SQL=DEBUG\n#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n#spring.jpa.open-in-view=false\n#jwt.secret=E91E158E4C6656F68B1B5D1C316766DE98D2AD6EF3BFB44F78E9CFCDF5\n#\nspring.datasource.url=jdbc:mysql://localhost:3331/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true\n#spring.datasource.url=jdbc:mysql://db:3306/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true\nspring.datasource.username=Stoyan\n#spring.datasource.username=Stoyan\n\nspring.datasource.password=pass123\nspring.jpa.properties.hibernate.packagesToScan=org.example.persistence.entity\n\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n\nspring.jpa.open-in-view=false\n\njwt.secret=E91E158E4C6656F68B1B5D1C316766DE98D2AD6EF3BFB44F78E9CFCDF5\n\n</code></pre>\n<p>and this is the docker-compose:</p>\n<pre><code>version: '3.8'\n\nservices:\n  db:\n    image: mysql:latest\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_DATABASE: FitBuddy\n      MYSQL_USER: Stoyan\n      MYSQL_PASSWORD: pass123\n      MYSQL_ROOT_PASSWORD: pass123\n\n  phpmyadmin:\n    image: phpmyadmin/phpmyadmin:latest\n    depends_on:\n      - db\n    environment:\n      PMA_HOST: db\n    ports:\n      - 7098:80\n\n  app:\n    build:\n      dockerfile: Dockerfile\n    environment:\n      DB_HOST: db\n      DB_PORT: 3306\n      DB_USER: Stoyan\n      DB_PASSWORD: pass123\n      DB_NAME: FitBuddy\n    depends_on:\n      - db\n    ports:\n      - &quot;8080:8080&quot;\n\n</code></pre>\n<p>what could the problem be?</p>\n"},{"tags":["java","kubernetes","fabric.io"],"comments":[{"owner":{"account_id":1319306,"reputation":70327,"user_id":1318694,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1585993559,"post_id":61019387,"comment_id":107964403,"body_markdown":"Did you try the api call with the same 313 number? or N-1 of the actual resourceVersion","body":"Did you try the api call with the same 313 number? or N-1 of the actual resourceVersion"},{"owner":{"account_id":7485908,"reputation":622,"user_id":5689112,"display_name":"kitt"},"score":0,"creation_date":1586182358,"post_id":61019387,"comment_id":108026550,"body_markdown":"I think you could execute 2 things in a loop. First, check whether the pod has the desired label, then add the label to the pod if the check failed. The break condition will be either the pod already has the label or the pod is updated. Consider that no other programs update the Pod, at least one of your thread will succeed, then the others will break after label checking in the next loop.","body":"I think you could execute 2 things in a loop. First, check whether the pod has the desired label, then add the label to the pod if the check failed. The break condition will be either the pod already has the label or the pod is updated. Consider that no other programs update the Pod, at least one of your thread will succeed, then the others will break after label checking in the next loop."},{"owner":{"account_id":1603454,"reputation":3708,"user_id":1484047,"accept_rate":100,"display_name":"Frame91"},"score":0,"creation_date":1586220761,"post_id":61019387,"comment_id":108043392,"body_markdown":"Hi @Matt - I just verified again. Any number, N-1, N, N+1 will lead to successful update. While the kubectl equivalent will fail correctly for anything but N.","body":"Hi @Matt - I just verified again. Any number, N-1, N, N+1 will lead to successful update. While the kubectl equivalent will fail correctly for anything but N."},{"owner":{"account_id":1603454,"reputation":3708,"user_id":1484047,"accept_rate":100,"display_name":"Frame91"},"score":1,"creation_date":1586220881,"post_id":61019387,"comment_id":108043423,"body_markdown":"@Kitt I do need to guarantee that this will work with horizontal scaling in mind. There can be multiple threads/machines &quot;reserving&quot; the resource at the same time. This needs to be prevented. Kubernetes allows this using resourceVersion - it just seems like the kubernetes-client I&#39;m using does not support it sadly.","body":"@Kitt I do need to guarantee that this will work with horizontal scaling in mind. There can be multiple threads/machines &quot;reserving&quot; the resource at the same time. This needs to be prevented. Kubernetes allows this using resourceVersion - it just seems like the kubernetes-client I&#39;m using does not support it sadly."},{"owner":{"account_id":7485908,"reputation":622,"user_id":5689112,"display_name":"kitt"},"score":0,"creation_date":1586238543,"post_id":61019387,"comment_id":108047246,"body_markdown":"Seems I get something wrong. Sorry.","body":"Seems I get something wrong. Sorry."},{"owner":{"account_id":7485908,"reputation":622,"user_id":5689112,"display_name":"kitt"},"score":0,"creation_date":1586239051,"post_id":61019387,"comment_id":108047386,"body_markdown":"Would you mind to try the official client for Java?","body":"Would you mind to try the official client for Java?"}],"answers":[{"tags":[],"owner":{"account_id":14483544,"reputation":1,"user_id":10462139,"display_name":"Alexandr Denysenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687176298,"creation_date":1687176005,"answer_id":76506421,"question_id":61019387,"body_markdown":"You can use [JsonPatch][1] `test` operation to be concurrency-safe. \r\nSomething like\r\n\r\n    kubectl patch jobs/pi --type=json --patch=&#39;[{&quot;op&quot;: &quot;test&quot;, &quot;path&quot;: &quot;/metadata/labels/locked&quot;, &quot;value&quot;: &quot;false&quot;}, {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/metadata/labels/locked&quot;, &quot;value&quot;: &quot;true&quot;}]&#39;\r\n\r\nit will done atomically.\r\n\r\nio.fabric8 java sdk doesn`t support the patch operation, but the official [kubernetes-client/java][2]  does\r\n\r\n\r\n  [1]: https://jsonpatch.com/\r\n  [2]: https://github.com/kubernetes-client/java","title":"Concurrency-Safe updating of labels with kubernetes-client","body":"<p>You can use <a href=\"https://jsonpatch.com/\" rel=\"nofollow noreferrer\">JsonPatch</a> <code>test</code> operation to be concurrency-safe.\nSomething like</p>\n<pre><code>kubectl patch jobs/pi --type=json --patch='[{&quot;op&quot;: &quot;test&quot;, &quot;path&quot;: &quot;/metadata/labels/locked&quot;, &quot;value&quot;: &quot;false&quot;}, {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/metadata/labels/locked&quot;, &quot;value&quot;: &quot;true&quot;}]'\n</code></pre>\n<p>it will done atomically.</p>\n<p>io.fabric8 java sdk doesn`t support the patch operation, but the official <a href=\"https://github.com/kubernetes-client/java\" rel=\"nofollow noreferrer\">kubernetes-client/java</a>  does</p>\n"}],"owner":{"account_id":1603454,"reputation":3708,"user_id":1484047,"accept_rate":100,"display_name":"Frame91"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1096,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687176298,"creation_date":1585943198,"question_id":61019387,"body_markdown":"I have a set of pods in my kubernetes environment that are acting as &quot;buffered resources&quot; (identified by not having a certain label).\r\n\r\nIn my application (using kubernetes-client), I like to check if a buffered resource is available and if so, add a label so that it is no longer considered for other requests.\r\n\r\nHowever, given parallelism, a pod that is marked as a buffered resource, might be reserved by multiple threads at the same time, leading to all kinds of issues in the application.\r\n\r\nWithout locking the requests being made to kubernetes, is there a safe way to add a label only if its key does not exist already (and fail otherwise)?\r\n\r\nI&#39;m using `io.fabric8.kubernetes.client` and the code to update labels is more or less:\r\n\r\n```java\r\nkubernetesClient.services().inNamespace(namespace).withName(resourceName).edit() //\r\n        .editMetadata()\r\n        /**/.addToLabels(Collections.unmodifiableMap(labels)) //\r\n        .endMetadata() //\r\n        .done();\r\n```\r\n\r\nWhat is the best approach to handle concurrency when talking to the kubernetes api?\r\n\r\nEdit: I see that k8s has `ResourceVersion` but from my first tests this does not seem to work as expected:\r\n\r\nThe following query does NOT fail but succeeds and even assigns a new resource-version:\r\n\r\n```\r\nkubernetesClient.services().inNamespace(namespace).withName(resourceName).edit() //\r\n        .editMetadata()\r\n        .withResourceVersion(&quot;13213414141&quot;) // definitely does not match existing one\r\n        /**/.addToLabels(Collections.unmodifiableMap(labels)) //\r\n        .endMetadata() //\r\n        .done();\r\n```\r\n\r\nEdit2: The kubectl equivalent is something like: \r\n```\r\nkubectl label pods mypod foo=bar --namespace my-name --resource-version=&quot;313&quot;\r\n```\r\nwhich will correctly throw an error &quot;the object has been modified; please apply your changes to the latest version and try again&quot;","title":"Concurrency-Safe updating of labels with kubernetes-client","body":"<p>I have a set of pods in my kubernetes environment that are acting as \"buffered resources\" (identified by not having a certain label).</p>\n\n<p>In my application (using kubernetes-client), I like to check if a buffered resource is available and if so, add a label so that it is no longer considered for other requests.</p>\n\n<p>However, given parallelism, a pod that is marked as a buffered resource, might be reserved by multiple threads at the same time, leading to all kinds of issues in the application.</p>\n\n<p>Without locking the requests being made to kubernetes, is there a safe way to add a label only if its key does not exist already (and fail otherwise)?</p>\n\n<p>I'm using <code>io.fabric8.kubernetes.client</code> and the code to update labels is more or less:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>kubernetesClient.services().inNamespace(namespace).withName(resourceName).edit() //\n        .editMetadata()\n        /**/.addToLabels(Collections.unmodifiableMap(labels)) //\n        .endMetadata() //\n        .done();\n</code></pre>\n\n<p>What is the best approach to handle concurrency when talking to the kubernetes api?</p>\n\n<p>Edit: I see that k8s has <code>ResourceVersion</code> but from my first tests this does not seem to work as expected:</p>\n\n<p>The following query does NOT fail but succeeds and even assigns a new resource-version:</p>\n\n<pre><code>kubernetesClient.services().inNamespace(namespace).withName(resourceName).edit() //\n        .editMetadata()\n        .withResourceVersion(\"13213414141\") // definitely does not match existing one\n        /**/.addToLabels(Collections.unmodifiableMap(labels)) //\n        .endMetadata() //\n        .done();\n</code></pre>\n\n<p>Edit2: The kubectl equivalent is something like: </p>\n\n<pre><code>kubectl label pods mypod foo=bar --namespace my-name --resource-version=\"313\"\n</code></pre>\n\n<p>which will correctly throw an error \"the object has been modified; please apply your changes to the latest version and try again\"</p>\n"},{"tags":["java","guice","nosuchmethoderror"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687176351,"post_id":76506226,"comment_id":134895753,"body_markdown":"If I recall correctly, assisted inject is a separate dependency, right? Check that you are using a compatible version. It looks like assisted inject is calling API that was removed in Guice 5.","body":"If I recall correctly, assisted inject is a separate dependency, right? Check that you are using a compatible version. It looks like assisted inject is calling API that was removed in Guice 5."},{"owner":{"account_id":28756255,"reputation":21,"user_id":22023228,"display_name":"Hancy"},"score":0,"creation_date":1687178713,"post_id":76506226,"comment_id":134896249,"body_markdown":"Thanks @Jorn. It worked by updating its version","body":"Thanks @Jorn. It worked by updating its version"}],"owner":{"account_id":28756255,"reputation":21,"user_id":22023228,"display_name":"Hancy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687176106,"creation_date":1687174465,"question_id":76506226,"body_markdown":"I am using Guice version 5.1.0 for my project (jdk version 17)\r\n\r\nError Message:\r\n```\r\njava.lang.NoSuchMethodError: &#39;java.lang.ClassLoader com.google.inject.internal.BytecodeGen.getClassLoader(java.lang.Class)&#39;\r\n\tat com.google.inject.assistedinject.FactoryProvider2.&lt;init&gt;(FactoryProvider2.java:329)\r\n\tat com.google.inject.assistedinject.FactoryModuleBuilder$1.configure(FactoryModuleBuilder.java:334)\r\n\tat com.google.inject.AbstractModule.configure(AbstractModule.java:66)\r\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\r\n\tat com.cs.selfServe.guice.SelfServePagesModule.configure(SelfServePagesModule.java:32)\r\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\r\n\tat com.google.inject.util.Modules$CombinedModule.configure(Modules.java:157)\r\n\tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\r\n\tat com.google.inject.spi.Elements.getElements(Elements.java:108)\r\n\tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:160)\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:107)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:78)\r\n\tat com.netflix.governator.LifecycleInjectorCreator.createInjector(LifecycleInjectorCreator.java:100)\r\n\tat com.netflix.governator.LifecycleInjectorCreator.createInjector(LifecycleInjectorCreator.java:38)\r\n\tat com.netflix.governator.InjectorBuilder.createInjector(InjectorBuilder.java:209)\r\n\tat com.netflix.governator.InjectorBuilder.createInjector(InjectorBuilder.java:223)\r\n\tat com.cs.platform.PlatformApplication$1.create(PlatformApplication.java:131)\r\n\tat com.hubspot.dropwizard.guicier.GuiceBundle.run(GuiceBundle.java:102)\r\n\tat com.hubspot.dropwizard.guicier.GuiceBundle.run(GuiceBundle.java:33)\r\n\tat io.dropwizard.setup.Bootstrap.run(Bootstrap.java:200)\r\n\tat io.dropwizard.cli.EnvironmentCommand.run(EnvironmentCommand.java:42)\r\n\tat io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:87)\r\n\tat io.dropwizard.cli.Cli.run(Cli.java:78)\r\n\tat io.dropwizard.Application.run(Application.java:93)\r\n\tat com.cs.platform.PlatformApplication.main(PlatformApplication.java:113)\r\n```\r\n\r\nI cant decrease the Guice version below 5 as it is not compatible with jdk 17.\r\nHow can I resolve the error?","title":"Guice throwing NoSuchMethodError","body":"<p>I am using Guice version 5.1.0 for my project (jdk version 17)</p>\n<p>Error Message:</p>\n<pre><code>java.lang.NoSuchMethodError: 'java.lang.ClassLoader com.google.inject.internal.BytecodeGen.getClassLoader(java.lang.Class)'\n    at com.google.inject.assistedinject.FactoryProvider2.&lt;init&gt;(FactoryProvider2.java:329)\n    at com.google.inject.assistedinject.FactoryModuleBuilder$1.configure(FactoryModuleBuilder.java:334)\n    at com.google.inject.AbstractModule.configure(AbstractModule.java:66)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\n    at com.cs.selfServe.guice.SelfServePagesModule.configure(SelfServePagesModule.java:32)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\n    at com.google.inject.util.Modules$CombinedModule.configure(Modules.java:157)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\n    at com.google.inject.spi.Elements.getElements(Elements.java:108)\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:160)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:107)\n    at com.google.inject.Guice.createInjector(Guice.java:87)\n    at com.google.inject.Guice.createInjector(Guice.java:78)\n    at com.netflix.governator.LifecycleInjectorCreator.createInjector(LifecycleInjectorCreator.java:100)\n    at com.netflix.governator.LifecycleInjectorCreator.createInjector(LifecycleInjectorCreator.java:38)\n    at com.netflix.governator.InjectorBuilder.createInjector(InjectorBuilder.java:209)\n    at com.netflix.governator.InjectorBuilder.createInjector(InjectorBuilder.java:223)\n    at com.cs.platform.PlatformApplication$1.create(PlatformApplication.java:131)\n    at com.hubspot.dropwizard.guicier.GuiceBundle.run(GuiceBundle.java:102)\n    at com.hubspot.dropwizard.guicier.GuiceBundle.run(GuiceBundle.java:33)\n    at io.dropwizard.setup.Bootstrap.run(Bootstrap.java:200)\n    at io.dropwizard.cli.EnvironmentCommand.run(EnvironmentCommand.java:42)\n    at io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:87)\n    at io.dropwizard.cli.Cli.run(Cli.java:78)\n    at io.dropwizard.Application.run(Application.java:93)\n    at com.cs.platform.PlatformApplication.main(PlatformApplication.java:113)\n</code></pre>\n<p>I cant decrease the Guice version below 5 as it is not compatible with jdk 17.\nHow can I resolve the error?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":966378,"reputation":485,"user_id":989747,"display_name":"tartak"},"score":1,"creation_date":1328262618,"post_id":9126531,"comment_id":11469240,"body_markdown":"I guess there&#39;s more than that in your console right ? Maybe a detailed stack trace?","body":"I guess there&#39;s more than that in your console right ? Maybe a detailed stack trace?"},{"owner":{"account_id":1207003,"reputation":1936,"user_id":1176394,"display_name":"prajeesh kumar"},"score":1,"creation_date":1328263431,"post_id":9126531,"comment_id":11469497,"body_markdown":"There must be more logs below the given execption, please post them","body":"There must be more logs below the given execption, please post them"}],"answers":[{"tags":[],"owner":{"account_id":43412,"reputation":23624,"user_id":126916,"accept_rate":91,"display_name":"Abhinav Sarkar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1328262299,"creation_date":1328262299,"answer_id":9126593,"question_id":9126531,"body_markdown":"The `persistence.xml` file is supposed to go in the `META-INF` folder at the root of the jar. Check if it is there or not. I am guessing that this is purely a classpath related issue.","title":"[PersistenceUnit: &lt;name&gt;]: unable to build EntityManagerFactory","body":"<p>The <code>persistence.xml</code> file is supposed to go in the <code>META-INF</code> folder at the root of the jar. Check if it is there or not. I am guessing that this is purely a classpath related issue.</p>\n"},{"tags":[],"owner":{"account_id":76328,"reputation":33605,"user_id":218592,"accept_rate":77,"display_name":"ŁukaszBachman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328263177,"creation_date":1328263177,"answer_id":9126771,"question_id":9126531,"body_markdown":"Try to rename your persistence unit. This is important, since the name is used to identify persistence unit related to each EntityManager.\r\n\r\nSo:\r\n\r\n    &lt;persistence-unit name=&quot;&lt;name&gt;&quot;&gt;\r\n\r\nshould be replaced with (for instance):\r\n\r\n    &lt;persistence-unit name=&quot;myUnit&quot;&gt;","title":"[PersistenceUnit: &lt;name&gt;]: unable to build EntityManagerFactory","body":"<p>Try to rename your persistence unit. This is important, since the name is used to identify persistence unit related to each EntityManager.</p>\n\n<p>So:</p>\n\n<pre><code>&lt;persistence-unit name=\"&lt;name&gt;\"&gt;\n</code></pre>\n\n<p>should be replaced with (for instance):</p>\n\n<pre><code>&lt;persistence-unit name=\"myUnit\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":778995,"reputation":5315,"user_id":731183,"accept_rate":70,"display_name":"AlexS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328264013,"creation_date":1328264013,"answer_id":9126940,"question_id":9126531,"body_markdown":"&gt; `&lt;class&gt;classname&lt;/class&gt;`\r\n\r\nI suspect your entity is not named classname, so try specifying the full classpath-name (for example foo.bar.realclassname with realclassname being the name  of your entity-class). ","title":"[PersistenceUnit: &lt;name&gt;]: unable to build EntityManagerFactory","body":"<blockquote>\n  <p><code>&lt;class&gt;classname&lt;/class&gt;</code></p>\n</blockquote>\n\n<p>I suspect your entity is not named classname, so try specifying the full classpath-name (for example foo.bar.realclassname with realclassname being the name  of your entity-class). </p>\n"},{"tags":[],"owner":{"account_id":1454310,"reputation":49,"user_id":1370363,"display_name":"James"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1335970893,"creation_date":1335970893,"answer_id":10416382,"question_id":9126531,"body_markdown":"add this in your xml file\r\n\r\n    &lt;property name=&quot;javax.persistence.validation.mode&quot;&gt;none&lt;/property&gt;\r\n","title":"[PersistenceUnit: &lt;name&gt;]: unable to build EntityManagerFactory","body":"<p>add this in your xml file</p>\n\n<pre><code>&lt;property name=\"javax.persistence.validation.mode\"&gt;none&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465887,"reputation":3812,"user_id":870291,"accept_rate":81,"display_name":"techBeginner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687175933,"creation_date":1687175933,"answer_id":76506410,"question_id":9126531,"body_markdown":"Check if the dialect is supported with the version of hibernate, particularly if you are using oracle driver.","title":"[PersistenceUnit: &lt;name&gt;]: unable to build EntityManagerFactory","body":"<p>Check if the dialect is supported with the version of hibernate, particularly if you are using oracle driver.</p>\n"}],"owner":{"account_id":275790,"reputation":2763,"user_id":568865,"accept_rate":37,"display_name":"jaysonpryde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31059,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1687175933,"creation_date":1328262004,"question_id":9126531,"body_markdown":"As stated on the subject, my problem is the `EntityManagerFactory` cannot be built. I am using Maven + Hibernate. I am connecting to a MySQL DB (`&lt;jdbc://mysql://localhost:3306/&lt;dbname&gt;`).  \r\n\r\nThe weird thing here is during debugging in Eclipse, it is working fine. But when I build it using Maven build, the JAR file is throwing such error. I checked the Manifest file already and all the necessary JARs were included in the Class-Path. Below is the error of the JAR displayed in the console:\r\n\r\n===========================================================================\r\n\r\n    Feb 3, 2012 5:01:16 PM org.hibernate.annotations.common.Version &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}\r\n    Feb 3, 2012 5:01:16 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.0.1.Final}\r\n    Feb 3, 2012 5:01:16 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    Feb 3, 2012 5:01:16 PM org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    Feb 3, 2012 5:01:16 PM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    INFO: HHH000402: Using Hibernate built-in connection pool (not for production use!)\r\n    Feb 3, 2012 5:01:16 PM class &lt;name&gt;.&lt;name&gt;.&lt;name&gt; &lt;name&gt;\r\n    SEVERE: [ERROR]: [PersistenceUnit: &lt;name&gt;] Unable to build EntityManagerFactory\r\n    [ERROR]: [PersistenceUnit: &lt;name&gt;] Unable to build EntityManagerFactory\r\n\r\n===========================================================================\r\n\r\nbelow is my persistence.xml:\r\n===========================================================================\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n    http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot;\r\n    version=&quot;1.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;&lt;name&gt;&quot;&gt;\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n    &lt;class&gt;classname&lt;/class&gt;\r\n    &lt;properties&gt;\r\n    &lt;!-- &lt;property name=&quot;hibernate.ejb.cfgfile&quot; value=&quot;/classifyPE.cfg.xml&quot;/&gt; --&gt;\r\n    &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&lt;value&gt;&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/&lt;name&gt;&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\r\n    &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n===========================================================================\r\n\r\n\r\nWhat am I doing wrong here? Or what am I lacking?  \r\nAs mentioned, it&#39;s working on Debug. But when I package it into JAR,(with all the necessary JARs present in the libs folder), it&#39;s not.\r\n\r\n","title":"[PersistenceUnit: &lt;name&gt;]: unable to build EntityManagerFactory","body":"<p>As stated on the subject, my problem is the <code>EntityManagerFactory</code> cannot be built. I am using Maven + Hibernate. I am connecting to a MySQL DB (<code>&lt;jdbc://mysql://localhost:3306/&lt;dbname&gt;</code>).  </p>\n\n<p>The weird thing here is during debugging in Eclipse, it is working fine. But when I build it using Maven build, the JAR file is throwing such error. I checked the Manifest file already and all the necessary JARs were included in the Class-Path. Below is the error of the JAR displayed in the console:</p>\n\n<p>===========================================================================</p>\n\n<pre><code>Feb 3, 2012 5:01:16 PM org.hibernate.annotations.common.Version &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}\nFeb 3, 2012 5:01:16 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.0.1.Final}\nFeb 3, 2012 5:01:16 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nFeb 3, 2012 5:01:16 PM org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\nFeb 3, 2012 5:01:16 PM org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nINFO: HHH000402: Using Hibernate built-in connection pool (not for production use!)\nFeb 3, 2012 5:01:16 PM class &lt;name&gt;.&lt;name&gt;.&lt;name&gt; &lt;name&gt;\nSEVERE: [ERROR]: [PersistenceUnit: &lt;name&gt;] Unable to build EntityManagerFactory\n[ERROR]: [PersistenceUnit: &lt;name&gt;] Unable to build EntityManagerFactory\n</code></pre>\n\n<p>===========================================================================</p>\n\n<h1>below is my persistence.xml:</h1>\n\n<pre><code>&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence\nhttp://java.sun.com/xml/ns/persistence/persistence_1_0.xsd\"\nversion=\"1.0\"&gt;\n&lt;persistence-unit name=\"&lt;name&gt;\"&gt;\n&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n&lt;class&gt;classname&lt;/class&gt;\n&lt;properties&gt;\n&lt;!-- &lt;property name=\"hibernate.ejb.cfgfile\" value=\"/classifyPE.cfg.xml\"/&gt; --&gt;\n&lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.jdbc.Driver\" /&gt;\n&lt;property name=\"hibernate.connection.password\" value=\"&lt;value&gt;\" /&gt;\n&lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost:3306/&lt;name&gt;\" /&gt;\n&lt;property name=\"hibernate.connection.username\" value=\"root\" /&gt;\n&lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLDialect\" /&gt;\n&lt;/properties&gt;\n&lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>===========================================================================</p>\n\n<p>What am I doing wrong here? Or what am I lacking?<br>\nAs mentioned, it's working on Debug. But when I package it into JAR,(with all the necessary JARs present in the libs folder), it's not.</p>\n"},{"tags":["java","spring","spring-boot","liquibase"],"comments":[{"owner":{"account_id":3821993,"reputation":182,"user_id":3169867,"display_name":"Nik"},"score":0,"creation_date":1684238119,"post_id":76262695,"comment_id":134485556,"body_markdown":"Is it only important that same filenames aren&#39;t processed and only new rows are inserted or could it be that data in different files produce the same row data and produce a possible unique/primary key violation? Is it also possible that row data get&#39;s updated by the file processing or only new rows?","body":"Is it only important that same filenames aren&#39;t processed and only new rows are inserted or could it be that data in different files produce the same row data and produce a possible unique/primary key violation? Is it also possible that row data get&#39;s updated by the file processing or only new rows?"},{"owner":{"account_id":6458640,"reputation":1583,"user_id":5003199,"accept_rate":60,"display_name":"joshii_h"},"score":1,"creation_date":1684238367,"post_id":76262695,"comment_id":134485619,"body_markdown":"One way to track which files have been read and avoid duplication in the database is to maintain a separate table in the database that stores the names or paths of the files that have been processed. When your application starts, it can query this table to determine which files have already been processed and skip them.","body":"One way to track which files have been read and avoid duplication in the database is to maintain a separate table in the database that stores the names or paths of the files that have been processed. When your application starts, it can query this table to determine which files have already been processed and skip them."},{"owner":{"account_id":17127077,"reputation":292,"user_id":12394015,"display_name":"Robert Głowacki"},"score":0,"creation_date":1684240453,"post_id":76262695,"comment_id":134486200,"body_markdown":"@joshii_h - this is what I was thinking about, but is there anything available which could makes it automated?","body":"@joshii_h - this is what I was thinking about, but is there anything available which could makes it automated?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684250601,"post_id":76262695,"comment_id":134489134,"body_markdown":"Perhaps [*Flyway*](https://en.wikipedia.org/wiki/Flyway_(software)) or [*Liquibase*](https://en.m.wikipedia.org/wiki/Liquibase)","body":"Perhaps <a href=\"https://en.wikipedia.org/wiki/Flyway_(software)\" rel=\"nofollow noreferrer\"><i>Flyway</i></a> or <a href=\"https://en.m.wikipedia.org/wiki/Liquibase\" rel=\"nofollow noreferrer\"><i>Liquibase</i></a>"},{"owner":{"account_id":17127077,"reputation":292,"user_id":12394015,"display_name":"Robert Głowacki"},"score":0,"creation_date":1684306476,"post_id":76262695,"comment_id":134497144,"body_markdown":"@BasilBourque I was looking for some use cases of Liquibase but what I found was only usage of db schema versioning.","body":"@BasilBourque I was looking for some use cases of Liquibase but what I found was only usage of db schema versioning."}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684238405,"creation_date":1684238405,"answer_id":76262795,"question_id":76262695,"body_markdown":"There can be number of options to handle this. One of these could be:\r\n\r\nUse `pending`, `in-progress`, `error`, and `done` - 4 directories.\r\n\r\nWhen App starts, see if `in-progress` directory has any files. If there are any - that means, the last app-start resulted in an error while processing the files - do something to make it right and move to `done` OR move to `error` directory if error persists.\r\n\r\nCheck in the `input` directory for new files. Move those to `in-progress` one by one and import them. After import is a success, move it to the `done` directory. If import results in an error, and nothing can be done about that file, move to `error` directory.\r\n\r\nThe other system which creates the files has to create those in the `input` directory only.  The other 3 directories are for the internal purpose of your app.\r\n\r\nOther solution could be DB driven.  Have a table in the DB to track the status of each file. Status could be IN_PROGRESS, ERROR and DONE.\r\nFrom your input directory, process only those files that are not there in this DB table. Insert a record in this table with IN_PROGRESS and then import it, and change the status based on the import action&#39;s result.\r\nThough, in this case, a lot of files will be there in that directory. Over a period of time, the % of already processed files will be huge. So, it will gradually take more time to get the list of files and ignore them, as compared to finding a new file and process it.\r\n\r\nAnd there would be a lot of other ways to handle this, maybe even more efficiently.","title":"Track which files has been read and loaded into db","body":"<p>There can be number of options to handle this. One of these could be:</p>\n<p>Use <code>pending</code>, <code>in-progress</code>, <code>error</code>, and <code>done</code> - 4 directories.</p>\n<p>When App starts, see if <code>in-progress</code> directory has any files. If there are any - that means, the last app-start resulted in an error while processing the files - do something to make it right and move to <code>done</code> OR move to <code>error</code> directory if error persists.</p>\n<p>Check in the <code>input</code> directory for new files. Move those to <code>in-progress</code> one by one and import them. After import is a success, move it to the <code>done</code> directory. If import results in an error, and nothing can be done about that file, move to <code>error</code> directory.</p>\n<p>The other system which creates the files has to create those in the <code>input</code> directory only.  The other 3 directories are for the internal purpose of your app.</p>\n<p>Other solution could be DB driven.  Have a table in the DB to track the status of each file. Status could be IN_PROGRESS, ERROR and DONE.\nFrom your input directory, process only those files that are not there in this DB table. Insert a record in this table with IN_PROGRESS and then import it, and change the status based on the import action's result.\nThough, in this case, a lot of files will be there in that directory. Over a period of time, the % of already processed files will be huge. So, it will gradually take more time to get the list of files and ignore them, as compared to finding a new file and process it.</p>\n<p>And there would be a lot of other ways to handle this, maybe even more efficiently.</p>\n"},{"tags":[],"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684875530,"creation_date":1684875530,"answer_id":76318607,"question_id":76262695,"body_markdown":"Following up on @basil-bourque&#39;s suggestion of `Perhaps Flyway or Liquibase`\r\n\r\nLiquibase would work well for this problem. A lot of the examples tend to be around &quot;Tracking schema changes&quot; but it&#39;s really best thought of as an engine for ensuring that any database changes are applied consistently and correctly across all your databases. It does that by letting you define a set of change sets which are each uniquely identified, and then tracking each of those separately.\r\n\r\nWithin those changesets, you can do anything you&#39;d like including reading JSON from files and inserting it into the database. There may not be a built-in function for handling that specific format, like we have for CSV files with [insert](https://docs.liquibase.com/change-types/insert.html) but it is easy to create your own custom and unique change functions. [This page on contribute.liquibase.com](https://contribute.liquibase.com/extensions-integrations/extension-guides/add-a-change-type/) is a good starting point for how to do that.\r\n\r\nIf you write a class like `LoadJsonDataChange` which has your specific business logic, it will be able to plug into all the existing Liquibase plumbing you will likely need now or later, including:\r\n - Tracking which steps have ran and which have not to avoid duplication\r\n - Checksum management which detects changes in your config to either re-run or error based on what makes sense for you\r\n - Integrations with spring boot and many other systems\r\n - Labels, context, and preconditions to dynamically control what is deployed to different databases\r\n - And more\r\n\r\n","title":"Track which files has been read and loaded into db","body":"<p>Following up on @basil-bourque's suggestion of <code>Perhaps Flyway or Liquibase</code></p>\n<p>Liquibase would work well for this problem. A lot of the examples tend to be around &quot;Tracking schema changes&quot; but it's really best thought of as an engine for ensuring that any database changes are applied consistently and correctly across all your databases. It does that by letting you define a set of change sets which are each uniquely identified, and then tracking each of those separately.</p>\n<p>Within those changesets, you can do anything you'd like including reading JSON from files and inserting it into the database. There may not be a built-in function for handling that specific format, like we have for CSV files with <a href=\"https://docs.liquibase.com/change-types/insert.html\" rel=\"nofollow noreferrer\">insert</a> but it is easy to create your own custom and unique change functions. <a href=\"https://contribute.liquibase.com/extensions-integrations/extension-guides/add-a-change-type/\" rel=\"nofollow noreferrer\">This page on contribute.liquibase.com</a> is a good starting point for how to do that.</p>\n<p>If you write a class like <code>LoadJsonDataChange</code> which has your specific business logic, it will be able to plug into all the existing Liquibase plumbing you will likely need now or later, including:</p>\n<ul>\n<li>Tracking which steps have ran and which have not to avoid duplication</li>\n<li>Checksum management which detects changes in your config to either re-run or error based on what makes sense for you</li>\n<li>Integrations with spring boot and many other systems</li>\n<li>Labels, context, and preconditions to dynamically control what is deployed to different databases</li>\n<li>And more</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28850650,"reputation":1,"user_id":22096625,"display_name":"Hassan Javed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687175771,"creation_date":1687175771,"answer_id":76506384,"question_id":76262695,"body_markdown":"When we run the scripts it also create **DATABASECHANGELOG** table that allow us to track the changes. You can use this table information to do this.","title":"Track which files has been read and loaded into db","body":"<p>When we run the scripts it also create <strong>DATABASECHANGELOG</strong> table that allow us to track the changes. You can use this table information to do this.</p>\n"}],"owner":{"account_id":17127077,"reputation":292,"user_id":12394015,"display_name":"Robert Głowacki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76262795,"answer_count":3,"score":0,"last_activity_date":1687175771,"creation_date":1684237764,"question_id":76262695,"body_markdown":"**Use case:**\r\nAfter app starts it reads json files maps it and save it as rows in db. In one json files there are multiple data which has to be inserted into db. New file mean new rows have to be added into db - there would not be any data duplication between files.\r\n\r\n**Problem:**\r\nWhen app restarts I don&#39;t want to read the files which has been already read. Nevertheless if I add new files and restart app I want to those files to be read.\r\n\r\n**Question:**\r\nWhat can I use to track which files has or has not been read and avoid duplication in db?\r\n\r\n**Additional info:**\r\nThis is Spring-Boot app. So the question is if there is any maven dependency I can use?\r\n","title":"Track which files has been read and loaded into db","body":"<p><strong>Use case:</strong>\nAfter app starts it reads json files maps it and save it as rows in db. In one json files there are multiple data which has to be inserted into db. New file mean new rows have to be added into db - there would not be any data duplication between files.</p>\n<p><strong>Problem:</strong>\nWhen app restarts I don't want to read the files which has been already read. Nevertheless if I add new files and restart app I want to those files to be read.</p>\n<p><strong>Question:</strong>\nWhat can I use to track which files has or has not been read and avoid duplication in db?</p>\n<p><strong>Additional info:</strong>\nThis is Spring-Boot app. So the question is if there is any maven dependency I can use?</p>\n"},{"tags":["java","gradle","build.gradle","integration-testing","system-properties"],"answers":[{"tags":[],"owner":{"account_id":15144230,"reputation":1347,"user_id":10928439,"display_name":"Simon Jacobs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687175081,"creation_date":1687175081,"answer_id":76506296,"question_id":76504343,"body_markdown":"I think your problem is when you call\r\n```gy\r\nSystem.setProperty(&quot;zap.port&quot;, &quot;${project.ext.zapPort}&quot;)\r\nSystem.setProperty(&quot;jetty.port&quot;, &quot;${project.ext.jettyPort}&quot;)\r\n```\r\nyou are setting the properties in the process running the Gradle script, rather than in the test process.\r\n\r\nTry replacing those lines with this, using the `systemProperty` method from [`Test`][1]:\r\n```gy\r\nsystemProperty(&quot;zap.port&quot;, &quot;${project.ext.zapPort}&quot;)\r\nsystemProperty(&quot;jetty.port&quot;, &quot;${project.ext.jettyPort}&quot;)\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/testing/Test.html","title":"Gradle Integration Tests are failing because the value of a System.getProperty(&#39;zap.port&#39;) is null","body":"<p>I think your problem is when you call</p>\n<pre><code>System.setProperty(&quot;zap.port&quot;, &quot;${project.ext.zapPort}&quot;)\nSystem.setProperty(&quot;jetty.port&quot;, &quot;${project.ext.jettyPort}&quot;)\n</code></pre>\n<p>you are setting the properties in the process running the Gradle script, rather than in the test process.</p>\n<p>Try replacing those lines with this, using the <code>systemProperty</code> method from <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/testing/Test.html\" rel=\"nofollow noreferrer\"><code>Test</code></a>:</p>\n<pre><code>systemProperty(&quot;zap.port&quot;, &quot;${project.ext.zapPort}&quot;)\nsystemProperty(&quot;jetty.port&quot;, &quot;${project.ext.jettyPort}&quot;)\n</code></pre>\n"}],"owner":{"account_id":28555865,"reputation":21,"user_id":21860077,"display_name":"Deev Pal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687175081,"creation_date":1687158518,"question_id":76504343,"body_markdown":"These are my ext program variables:\r\n\r\n\r\n```\r\next {\r\n\tskipIntegrationTests = &#39;false&#39;\r\n\tskipUnitTests = &#39;false&#39;\r\n\tlocalEnv = &#39;false&#39;\r\n\txmakeEnv = &#39;false&#39;\r\n\tencoding = &#39;UTF-8&#39;\r\n\tintegrationEnvDir = &#39;integration-env&#39;\r\n\tzapVersion = &#39;2.12.0&#39;\r\n\titsVersion = &#39;0.0.17&#39;\r\n\tspotlessPhase = &#39;none&#39;\r\n\tdepxmlcontent = null\r\n\textfiles = null\r\n\tzapPort = null\r\n\tjettyPort = null\r\n}\r\n```\r\n\r\nI have a gradle task called reservePorts as follows:\r\n\r\n\r\n```\r\ntask reservePorts(dependsOn: generateFioriPythonApi) {\r\n\tdoLast {\r\n\t\tdef zapPort = reservePort(&#39;zapDynPort&#39;)\r\n\t\tdef jettyPort = reservePort(&#39;jettyDynPort&#39;)\r\n\t\tproject.ext.zapPort = zapPort.toString()\r\n\t\tproject.ext.jettyPort = jettyPort.toString()\r\n\t\tprintln &quot;Reserved ports for zapDynPort: ${project.ext.zapPort} and jettyDynPort: ${project.ext.jettyPort}&quot;\r\n\t}\r\n}\r\n```\r\n\r\nWhich gives the following output:\r\n\r\n&gt; Task :reservePorts\r\n&gt; Reserved ports for zapDynPort: 54772 and jettyDynPort: 54773\r\n\r\nI have a task in gradle for running the Integration Test as follows:\r\n\r\n```\r\ntask integrationTest(type: Test, dependsOn: downloadFioridastItsWar) {\r\n\tSystem.setProperty(&quot;zap.port&quot;, &quot;${project.ext.zapPort}&quot;)\r\n\tSystem.setProperty(&quot;jetty.port&quot;, &quot;${project.ext.jettyPort}&quot;)\r\n\tignoreFailures = true\r\n\ttestClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n\tclasspath = sourceSets.integrationTest.runtimeClasspath\r\n\ttestLogging {\r\n\t\tevents &#39;PASSED&#39;, &#39;FAILED&#39;, &#39;SKIPPED&#39;\r\n\t}\r\n}\r\n```\r\n\r\nWhen I print the value of System.getProperty(&quot;zap.port&quot;) in gradle I get value for zap.port as 54772 which is correct which means that the value for zap.port is getting set is System Property correctly.\r\n\r\nBut when i run the Integration Test it gives the foloowing error:\r\n\r\n&gt; Task :integrationTest\r\n \r\n&gt; org.zaproxy.zap.extension.fioriscanner.api.BasicAPIUsageIntegrationTest &gt; classMethod FAILED java.lang.NumberFormatException at BasicAPIUsageIntegrationTest.java:22\r\n\r\n&gt; org.zaproxy.zap.extension.fioriscanner.dynamic.DynamicAppsIntegrationTest &gt; classMethod FAILED java.lang.NumberFormatException at DynamicAppsIntegrationTest.java:53\r\n\r\n\r\nNow the BasicAPIUsageIntegrationTest.java class where this fails looks like this:\r\n\r\n\r\n```\r\npublic class BasicAPIUsageIntegrationTest {\r\n    private static final ZAPHelper ZAP_HELPER = new ZAPHelper();\r\n    private static ClientApi zapClientApi = null;\r\n\r\n    @BeforeClass\r\n    public static void setUp() throws Exception {\r\n        System.out.println(&quot;Before BasicAPIUsageIntegrationTest&quot;);\r\n        zapClientApi = ZAP_HELPER.startZAP(true);   //this is the line which gives error\r\n    }\r\n```\r\n\r\nAnd the ZAPHelper.java class which is called above is the source of the error which actually calls the system.getProperty(&quot;zap.port&quot;) as follows:\r\n\r\n```\r\npublic class ZAPHelper {\r\n    public ClientApi startZAP(boolean asDaemon) throws Exception {\r\n        if (zapProcess != null) {\r\n            stopZAPProcess();\r\n        }\r\n\r\n        zapProcess =\r\n                BOOTSTRAP_HELPER.startZAP(\r\n                        new String[] {\r\n                            // &quot;-Xdebug&quot;,\r\n                            // &quot;-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005&quot;\r\n                        },\r\n                        new ZAPStartOptions(\r\n                                asDaemon,\r\n                                null,\r\n                                Integer.valueOf(System.getProperty(&quot;zap.port&quot;)), //THIS IS THE LINE WHICH FAILS\r\n                                homePath,\r\n                                true));\r\n```\r\n\r\nHow do i resolve this issue??\r\n\r\n\r\nI have tried all the solutions mentioned in this post:\r\n\r\n[How to set system property using gradle?](https://stackoverflow.com/questions/20650655/how-to-set-system-property-using-gradle)\r\n\r\nand,\r\n\r\n[How to give System property to my test via Gradle](https://stackoverflow.com/questions/21406265/how-to-give-system-property-to-my-test-via-gradle-and-d)\r\n","title":"Gradle Integration Tests are failing because the value of a System.getProperty(&#39;zap.port&#39;) is null","body":"<p>These are my ext program variables:</p>\n<pre><code>ext {\n    skipIntegrationTests = 'false'\n    skipUnitTests = 'false'\n    localEnv = 'false'\n    xmakeEnv = 'false'\n    encoding = 'UTF-8'\n    integrationEnvDir = 'integration-env'\n    zapVersion = '2.12.0'\n    itsVersion = '0.0.17'\n    spotlessPhase = 'none'\n    depxmlcontent = null\n    extfiles = null\n    zapPort = null\n    jettyPort = null\n}\n</code></pre>\n<p>I have a gradle task called reservePorts as follows:</p>\n<pre><code>task reservePorts(dependsOn: generateFioriPythonApi) {\n    doLast {\n        def zapPort = reservePort('zapDynPort')\n        def jettyPort = reservePort('jettyDynPort')\n        project.ext.zapPort = zapPort.toString()\n        project.ext.jettyPort = jettyPort.toString()\n        println &quot;Reserved ports for zapDynPort: ${project.ext.zapPort} and jettyDynPort: ${project.ext.jettyPort}&quot;\n    }\n}\n</code></pre>\n<p>Which gives the following output:</p>\n<blockquote>\n<p>Task :reservePorts\nReserved ports for zapDynPort: 54772 and jettyDynPort: 54773</p>\n</blockquote>\n<p>I have a task in gradle for running the Integration Test as follows:</p>\n<pre><code>task integrationTest(type: Test, dependsOn: downloadFioridastItsWar) {\n    System.setProperty(&quot;zap.port&quot;, &quot;${project.ext.zapPort}&quot;)\n    System.setProperty(&quot;jetty.port&quot;, &quot;${project.ext.jettyPort}&quot;)\n    ignoreFailures = true\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\n    classpath = sourceSets.integrationTest.runtimeClasspath\n    testLogging {\n        events 'PASSED', 'FAILED', 'SKIPPED'\n    }\n}\n</code></pre>\n<p>When I print the value of System.getProperty(&quot;zap.port&quot;) in gradle I get value for zap.port as 54772 which is correct which means that the value for zap.port is getting set is System Property correctly.</p>\n<p>But when i run the Integration Test it gives the foloowing error:</p>\n<blockquote>\n<p>Task :integrationTest</p>\n</blockquote>\n<blockquote>\n<p>org.zaproxy.zap.extension.fioriscanner.api.BasicAPIUsageIntegrationTest &gt; classMethod FAILED java.lang.NumberFormatException at BasicAPIUsageIntegrationTest.java:22</p>\n</blockquote>\n<blockquote>\n<p>org.zaproxy.zap.extension.fioriscanner.dynamic.DynamicAppsIntegrationTest &gt; classMethod FAILED java.lang.NumberFormatException at DynamicAppsIntegrationTest.java:53</p>\n</blockquote>\n<p>Now the BasicAPIUsageIntegrationTest.java class where this fails looks like this:</p>\n<pre><code>public class BasicAPIUsageIntegrationTest {\n    private static final ZAPHelper ZAP_HELPER = new ZAPHelper();\n    private static ClientApi zapClientApi = null;\n\n    @BeforeClass\n    public static void setUp() throws Exception {\n        System.out.println(&quot;Before BasicAPIUsageIntegrationTest&quot;);\n        zapClientApi = ZAP_HELPER.startZAP(true);   //this is the line which gives error\n    }\n</code></pre>\n<p>And the ZAPHelper.java class which is called above is the source of the error which actually calls the system.getProperty(&quot;zap.port&quot;) as follows:</p>\n<pre><code>public class ZAPHelper {\n    public ClientApi startZAP(boolean asDaemon) throws Exception {\n        if (zapProcess != null) {\n            stopZAPProcess();\n        }\n\n        zapProcess =\n                BOOTSTRAP_HELPER.startZAP(\n                        new String[] {\n                            // &quot;-Xdebug&quot;,\n                            // &quot;-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005&quot;\n                        },\n                        new ZAPStartOptions(\n                                asDaemon,\n                                null,\n                                Integer.valueOf(System.getProperty(&quot;zap.port&quot;)), //THIS IS THE LINE WHICH FAILS\n                                homePath,\n                                true));\n</code></pre>\n<p>How do i resolve this issue??</p>\n<p>I have tried all the solutions mentioned in this post:</p>\n<p><a href=\"https://stackoverflow.com/questions/20650655/how-to-set-system-property-using-gradle\">How to set system property using gradle?</a></p>\n<p>and,</p>\n<p><a href=\"https://stackoverflow.com/questions/21406265/how-to-give-system-property-to-my-test-via-gradle-and-d\">How to give System property to my test via Gradle</a></p>\n"},{"tags":["java","android","unity-game-engine","plugins","speech-recognition"],"owner":{"account_id":20796893,"reputation":21,"user_id":15273734,"display_name":"CheeseHead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687174969,"creation_date":1686219516,"question_id":76430852,"body_markdown":"I built my Android game which includes a Java plugin made by myself in order to implement speech recognition (in Spanish). This recognition can start by touching a button on the screen and can end by stopping touching the button. The result of the speech recognition is shown in a text above the button.\r\n\r\nThe problem is that, when I touch the button, talk, and release the button, nothing seems to happen. It had already happened to me using similar plugins like this one: https://github.com/j1mmyto9/speech-and-text-unity-ios-android\r\n\r\n\r\nHere is all the code I use for the speech recognition feature:\r\n\r\n**Java plugin:**\r\n```\r\npackage com.example.unityandroidplswork;\r\n\r\nimport android.content.Intent;\r\nimport android.app.Activity;\r\nimport android.speech.RecognizerIntent;\r\nimport android.speech.SpeechRecognizer;\r\nimport android.util.Log;\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class STTPlugin {\r\n    private static final int REQUEST_CODE = 1234;\r\n    private static final String TAG = &quot;SpeechRecognitionPlugin&quot;;\r\n    private Activity activity;\r\n    private SpeechRecognizer speechRecognizer;\r\n    private SpeechRecognitionResultListener resultListener;\r\n\r\n    public STTPlugin(Activity activity) {\r\n\r\n        this.activity = activity;\r\n    }\r\n\r\n    public void startSpeechRecognition(SpeechRecognitionResultListener listener) {\r\n        if (SpeechRecognizer.isRecognitionAvailable(activity.getApplicationContext())) {\r\n            resultListener = listener;\r\n            if (speechRecognizer == null) {\r\n                speechRecognizer = SpeechRecognizer.createSpeechRecognizer(activity.getApplicationContext());\r\n            }\r\n            Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n            intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n            intent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 10);\r\n            speechRecognizer.startListening(intent);\r\n            Log.d(TAG, &quot;Escuchando...&quot;);\r\n        } else {\r\n            Log.d(TAG, &quot;Reconocimiento no disponible.&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void stopSpeechRecognition() {\r\n        if (speechRecognizer != null) {\r\n            speechRecognizer.stopListening();\r\n        }\r\n    }\r\n\r\n    private String[] processRecognitionResults(ArrayList&lt;String&gt; results) {\r\n        return results.toArray(new String[results.size()]);\r\n    }\r\n\r\n    public void handleActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            ArrayList&lt;String&gt; results = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n            if (resultListener != null) {\r\n                String[] resultsArray = processRecognitionResults(results);\r\n                resultListener.onResults(resultsArray);\r\n            }\r\n        }\r\n    }\r\n\r\n    public interface SpeechRecognitionResultListener {\r\n        void onResults(String[] results);\r\n    }\r\n\r\n\r\n}\r\n```\r\n**C# script which calls the plugin:**\r\n\r\n\r\n```\r\nusing System.Collections;\r\nusing System.Collections.Generic;\r\nusing UnityEngine;\r\nusing System;\r\nusing UnityEngine.UI;\r\nusing TMPro;\r\n\r\npublic class SpeechRecog : MonoBehaviour\r\n{\r\n\r\n    private AndroidJavaObject speechRecPlugin;\r\n    public TextMeshProUGUI textofresult;\r\n\r\n    // Start is called before the first frame update\r\n    void Start()\r\n    {\r\n        AndroidJavaObject activity = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;).GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\n        speechRecPlugin = new AndroidJavaObject(&quot;com.example.unityandroidplswork.STTPlugin&quot;, activity);\r\n    }\r\n\r\n    public void StartSpeechRecognition() {\r\n        AndroidJavaObject speechResultListener = new AndroidJavaObject(&quot;com.example.unityandroidplswork.STTPlugin$SpeechRecognitionResultListener&quot;, this);\r\n     \r\n        speechRecPlugin.Call(&quot;startSpeechRecognition&quot;, speechResultListener);\r\n    }\r\n\r\n    public void StopSpeechRecognition() {\r\n        speechRecPlugin.Call(&quot;stopSpeechRecognition&quot;);\r\n    }\r\n\r\n    private void ProcessRecognitionResults(string[] results) {\r\n        string recognizedtext = &quot;&quot;;\r\n        foreach(string result in results) {\r\n            Debug.Log(&quot;Result: &quot; + result);\r\n            recognizedtext += result + &quot; &quot;;\r\n        }\r\n        textofresult.text = recognizedtext;\r\n        //process here for sure\r\n        //ProcessCommands(results)\r\n    } \r\n\r\n\r\n    private class SpeechRecognitionResultListener : AndroidJavaProxy {\r\n\r\n        private SpeechRecog plugin;\r\n\r\n        public SpeechRecognitionResultListener(SpeechRecog plugin) : base(&quot;com.example.unityandroidplswork.STTPlugin$SpeechRecognitionResultListener&quot;) {\r\n            this.plugin = plugin;\r\n        }\r\n\r\n        public void onResults(string[] results) {\r\n            plugin.ProcessRecognitionResults(results);\r\n        }\r\n    }\r\n\r\n    // Update is called once per frame\r\n    void Update()\r\n    {\r\n        \r\n    }\r\n}\r\n```\r\n**AndroidManifest:**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n  &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n  &lt;application&gt;\r\n    &lt;activity \r\n      android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\r\n      android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;   \r\n  &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n**C# script for button handling:**\r\n\r\n\r\n```\r\nusing System.Collections;\r\nusing System.Collections.Generic;\r\nusing UnityEngine;\r\nusing UnityEngine.Events;\r\n\r\npublic class VoiceClickHandler : MonoBehaviour\r\n{\r\n\r\n    public UnityEvent upEvent;\r\n    public UnityEvent downEvent;\r\n\r\n    void OnMouseDown() {\r\n        Debug.Log(&quot;Down&quot;);\r\n        downEvent?.Invoke();\r\n    }\r\n\r\n    void OnMouseUp() {\r\n        Debug.Log(&quot;Up&quot;);\r\n        upEvent?.Invoke();\r\n    }\r\n\r\n    // Start is called before the first frame update\r\n    void Start()\r\n    {\r\n        \r\n    }\r\n\r\n    // Update is called once per frame\r\n    void Update()\r\n    {\r\n        \r\n    }\r\n}\r\n```\r\nI&#39;m not sure if the issue is related to the code since, as I said before, it has happended to me before with other solutions, but just in case I&#39;m missing something.\r\n\r\n\r\nI checked my code again after seeing the problem and solved some errors that I hadn&#39;t realize before, but even so it&#39;s still the same. I also made sure the application has microphone permission enabled and checked the project configuration, but it seems to be alright.\r\n\r\nI also tried using open-source speech recognition modules such as CMUSphinx, but it didn&#39;t work either.\r\n\r\n**UPDATE**\r\n\r\nChecking the logs, I found that each time I touch the button I get the error: \r\n\r\nAndroidJavaException: java.lang.ClassNotFoundException: com.example.unityandroidplswork.STTPlugin\r\n\r\n\r\nEach time I release the button I get a similar error too, so I suppose that somehow the plugin is not being detected.\r\nMy plugin is a JAR file made from the provided Java code, and this JAR file is inside Assets/Plugins/Android in my Unity project. Why is it not being found?","title":"Unity Android speech recognition plugin seems not to be working","body":"<p>I built my Android game which includes a Java plugin made by myself in order to implement speech recognition (in Spanish). This recognition can start by touching a button on the screen and can end by stopping touching the button. The result of the speech recognition is shown in a text above the button.</p>\n<p>The problem is that, when I touch the button, talk, and release the button, nothing seems to happen. It had already happened to me using similar plugins like this one: <a href=\"https://github.com/j1mmyto9/speech-and-text-unity-ios-android\" rel=\"nofollow noreferrer\">https://github.com/j1mmyto9/speech-and-text-unity-ios-android</a></p>\n<p>Here is all the code I use for the speech recognition feature:</p>\n<p><strong>Java plugin:</strong></p>\n<pre><code>package com.example.unityandroidplswork;\n\nimport android.content.Intent;\nimport android.app.Activity;\nimport android.speech.RecognizerIntent;\nimport android.speech.SpeechRecognizer;\nimport android.util.Log;\n\nimport java.util.ArrayList;\n\n\npublic class STTPlugin {\n    private static final int REQUEST_CODE = 1234;\n    private static final String TAG = &quot;SpeechRecognitionPlugin&quot;;\n    private Activity activity;\n    private SpeechRecognizer speechRecognizer;\n    private SpeechRecognitionResultListener resultListener;\n\n    public STTPlugin(Activity activity) {\n\n        this.activity = activity;\n    }\n\n    public void startSpeechRecognition(SpeechRecognitionResultListener listener) {\n        if (SpeechRecognizer.isRecognitionAvailable(activity.getApplicationContext())) {\n            resultListener = listener;\n            if (speechRecognizer == null) {\n                speechRecognizer = SpeechRecognizer.createSpeechRecognizer(activity.getApplicationContext());\n            }\n            Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n            intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n            intent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 10);\n            speechRecognizer.startListening(intent);\n            Log.d(TAG, &quot;Escuchando...&quot;);\n        } else {\n            Log.d(TAG, &quot;Reconocimiento no disponible.&quot;);\n        }\n\n    }\n\n    public void stopSpeechRecognition() {\n        if (speechRecognizer != null) {\n            speechRecognizer.stopListening();\n        }\n    }\n\n    private String[] processRecognitionResults(ArrayList&lt;String&gt; results) {\n        return results.toArray(new String[results.size()]);\n    }\n\n    public void handleActivityResult(int requestCode, int resultCode, Intent data) {\n        if (requestCode == REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\n            ArrayList&lt;String&gt; results = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n            if (resultListener != null) {\n                String[] resultsArray = processRecognitionResults(results);\n                resultListener.onResults(resultsArray);\n            }\n        }\n    }\n\n    public interface SpeechRecognitionResultListener {\n        void onResults(String[] results);\n    }\n\n\n}\n</code></pre>\n<p><strong>C# script which calls the plugin:</strong></p>\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing System;\nusing UnityEngine.UI;\nusing TMPro;\n\npublic class SpeechRecog : MonoBehaviour\n{\n\n    private AndroidJavaObject speechRecPlugin;\n    public TextMeshProUGUI textofresult;\n\n    // Start is called before the first frame update\n    void Start()\n    {\n        AndroidJavaObject activity = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;).GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\n        speechRecPlugin = new AndroidJavaObject(&quot;com.example.unityandroidplswork.STTPlugin&quot;, activity);\n    }\n\n    public void StartSpeechRecognition() {\n        AndroidJavaObject speechResultListener = new AndroidJavaObject(&quot;com.example.unityandroidplswork.STTPlugin$SpeechRecognitionResultListener&quot;, this);\n     \n        speechRecPlugin.Call(&quot;startSpeechRecognition&quot;, speechResultListener);\n    }\n\n    public void StopSpeechRecognition() {\n        speechRecPlugin.Call(&quot;stopSpeechRecognition&quot;);\n    }\n\n    private void ProcessRecognitionResults(string[] results) {\n        string recognizedtext = &quot;&quot;;\n        foreach(string result in results) {\n            Debug.Log(&quot;Result: &quot; + result);\n            recognizedtext += result + &quot; &quot;;\n        }\n        textofresult.text = recognizedtext;\n        //process here for sure\n        //ProcessCommands(results)\n    } \n\n\n    private class SpeechRecognitionResultListener : AndroidJavaProxy {\n\n        private SpeechRecog plugin;\n\n        public SpeechRecognitionResultListener(SpeechRecog plugin) : base(&quot;com.example.unityandroidplswork.STTPlugin$SpeechRecognitionResultListener&quot;) {\n            this.plugin = plugin;\n        }\n\n        public void onResults(string[] results) {\n            plugin.ProcessRecognitionResults(results);\n        }\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        \n    }\n}\n</code></pre>\n<p><strong>AndroidManifest:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n  &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n  &lt;application&gt;\n    &lt;activity \n      android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n      android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;   \n  &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>C# script for button handling:</strong></p>\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.Events;\n\npublic class VoiceClickHandler : MonoBehaviour\n{\n\n    public UnityEvent upEvent;\n    public UnityEvent downEvent;\n\n    void OnMouseDown() {\n        Debug.Log(&quot;Down&quot;);\n        downEvent?.Invoke();\n    }\n\n    void OnMouseUp() {\n        Debug.Log(&quot;Up&quot;);\n        upEvent?.Invoke();\n    }\n\n    // Start is called before the first frame update\n    void Start()\n    {\n        \n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        \n    }\n}\n</code></pre>\n<p>I'm not sure if the issue is related to the code since, as I said before, it has happended to me before with other solutions, but just in case I'm missing something.</p>\n<p>I checked my code again after seeing the problem and solved some errors that I hadn't realize before, but even so it's still the same. I also made sure the application has microphone permission enabled and checked the project configuration, but it seems to be alright.</p>\n<p>I also tried using open-source speech recognition modules such as CMUSphinx, but it didn't work either.</p>\n<p><strong>UPDATE</strong></p>\n<p>Checking the logs, I found that each time I touch the button I get the error:</p>\n<p>AndroidJavaException: java.lang.ClassNotFoundException: com.example.unityandroidplswork.STTPlugin</p>\n<p>Each time I release the button I get a similar error too, so I suppose that somehow the plugin is not being detected.\nMy plugin is a JAR file made from the provided Java code, and this JAR file is inside Assets/Plugins/Android in my Unity project. Why is it not being found?</p>\n"},{"tags":["java","spring-boot","spring-boot-maven-plugin","spring-boot-starter"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1687179991,"post_id":76506143,"comment_id":134896542,"body_markdown":"I&#39;m reporting another user&#39;s comment here, since they can&#39;t post comments: &quot;Did you tried mvn clean install? Please provide the steps that you tried, when did the exception occure, when running the application?&quot;","body":"I&#39;m reporting another user&#39;s comment here, since they can&#39;t post comments: &quot;Did you tried mvn clean install? Please provide the steps that you tried, when did the exception occure, when running the application?&quot;"}],"owner":{"account_id":22551857,"reputation":1,"user_id":16740850,"display_name":"ADITYA CHAKRABORTY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687174808,"creation_date":1687173773,"question_id":76506143,"body_markdown":"I keep facing the following errors for springboot in VS code:\r\n\r\n    error: cannot find symbol\r\n    @SpringBootApplication\r\n     ^\r\n      symbol: class SpringBootApplication\r\n                    SpringApplication.run(AdityaApplication.class, args);\r\n    \r\n    error: package org.springframework.boot does not exist\r\n    import org.springframework.boot.SpringApplication;\r\n    \r\n    error: cannot find symbol\r\n    @SpringBootApplication\r\n     ^\r\n      symbol: class SpringBootApplication\r\n                    SpringApplication.run(AdityaApplication.class, args);\r\n    \r\n    error: package org.springframework.boot.autoconfigure does not exist\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\nI have followed the same steps for springboot on every tutorial but my code doesn&#39;t run\r\n\r\nThe following is the main code:\r\n\r\n```java\r\npackage com.aditya.aditya;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class AdityaApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AdityaApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd the pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.aditya&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aditya&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;aditya&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nWhat do I do?\r\n\r\nI tried all different types of ways to setup and visited forums. But nobody seems to have a similar problem","title":"error: package org.springframework.boot does not exist","body":"<p>I keep facing the following errors for springboot in VS code:</p>\n<pre><code>error: cannot find symbol\n@SpringBootApplication\n ^\n  symbol: class SpringBootApplication\n                SpringApplication.run(AdityaApplication.class, args);\n\nerror: package org.springframework.boot does not exist\nimport org.springframework.boot.SpringApplication;\n\nerror: cannot find symbol\n@SpringBootApplication\n ^\n  symbol: class SpringBootApplication\n                SpringApplication.run(AdityaApplication.class, args);\n\nerror: package org.springframework.boot.autoconfigure does not exist\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n</code></pre>\n<p>I have followed the same steps for springboot on every tutorial but my code doesn't run</p>\n<p>The following is the main code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.aditya.aditya;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AdityaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AdityaApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>And the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.aditya&lt;/groupId&gt;\n    &lt;artifactId&gt;aditya&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;aditya&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>What do I do?</p>\n<p>I tried all different types of ways to setup and visited forums. But nobody seems to have a similar problem</p>\n"},{"tags":["java","spring","maven","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1512847835,"creation_date":1438100320,"answer_id":31681912,"question_id":31681855,"body_markdown":"The code in the class you named `TestController` isn&#39;t a controller, it&#39;s a test, but the convention says that it&#39;s a controller (perhaps used in testing). By default, Surefire will be looking for tests matching `*Test`; rename the class to `ControllerTest`.","title":"Maven not running Spring Boot tests","body":"<p>The code in the class you named <code>TestController</code> isn't a controller, it's a test, but the convention says that it's a controller (perhaps used in testing). By default, Surefire will be looking for tests matching <code>*Test</code>; rename the class to <code>ControllerTest</code>.</p>\n"},{"tags":[],"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1524151241,"creation_date":1449131789,"answer_id":34061205,"question_id":31681855,"body_markdown":"Even if this is not recommended (as not standard), you can configure the **maven surefire plugin** too, as follows:\r\n\r\n    &lt;plugins&gt;\r\n\t    &lt;plugin&gt;\r\n\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;configuration&gt;\r\n\t\t     \t&lt;includes&gt;\r\n\t\t       \t\t&lt;include&gt;**/*Test*.java&lt;/include&gt;\r\n\t\t       \t&lt;/includes&gt;\r\n\t\t    &lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nEdit: Wildcard added before /Test*.java","title":"Maven not running Spring Boot tests","body":"<p>Even if this is not recommended (as not standard), you can configure the <strong>maven surefire plugin</strong> too, as follows:</p>\n\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*Test*.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>Edit: Wildcard added before /Test*.java</p>\n"},{"tags":[],"owner":{"account_id":1359910,"reputation":377,"user_id":1297473,"display_name":"Guillermo Gefaell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1532532321,"creation_date":1532532321,"answer_id":51522623,"question_id":31681855,"body_markdown":"Another reason this may be happening is to have declared another surefire plugin in your pom. In my case I migrated an app to spring boot and left this in the pom.\r\n\r\n    \t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Test*.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;clean&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;test&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nSpring boot test were executed after remove this part from the pom.","title":"Maven not running Spring Boot tests","body":"<p>Another reason this may be happening is to have declared another surefire plugin in your pom. In my case I migrated an app to spring boot and left this in the pom.</p>\n\n<pre><code>    &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test*.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;clean&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Spring boot test were executed after remove this part from the pom.</p>\n"},{"tags":[],"owner":{"account_id":17929691,"reputation":1,"user_id":13027417,"display_name":"Yani Ferhaoui"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1605953768,"creation_date":1605953768,"answer_id":64941953,"question_id":31681855,"body_markdown":"For other people who still have the issue. Personally I resolved that by removing :\r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nfrom the **pom.xml** file. ","title":"Maven not running Spring Boot tests","body":"<p>For other people who still have the issue. Personally I resolved that by removing :</p>\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n<p>from the <strong>pom.xml</strong> file.</p>\n"},{"tags":[],"owner":{"account_id":6819102,"reputation":653,"user_id":5246792,"display_name":"theSecretCoder"},"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1617277121,"creation_date":1617277121,"answer_id":66903823,"question_id":31681855,"body_markdown":"Use the below maven jar. It fixed my issue.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Maven not running Spring Boot tests","body":"<p>Use the below maven jar. It fixed my issue.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12867824,"reputation":538,"user_id":9310852,"display_name":"63RMAN"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1617921815,"creation_date":1617921815,"answer_id":67012824,"question_id":31681855,"body_markdown":"try checking if you are using the correct package for @Test annotation. In Spring Boot 2.3.6 is `org.junit.jupiter.api.Test`","title":"Maven not running Spring Boot tests","body":"<p>try checking if you are using the correct package for @Test annotation. In Spring Boot 2.3.6 is <code>org.junit.jupiter.api.Test</code></p>\n"},{"tags":[],"owner":{"account_id":13357429,"reputation":61,"user_id":9640533,"display_name":"Varun Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622227477,"creation_date":1622227477,"answer_id":67744090,"question_id":31681855,"body_markdown":"With Spring boot 2.5.0 \r\njunit-vintage-engine jar isn&#39;t added, hence any  org.junit.Test won&#39;t be run.\r\n\r\nOnly org.junit.jupiter.api.Test seems to run.\r\n\r\nAfter Adding this jar (junit-vintage-engine) all my old tests(org.junit.Test) run absolutely fine.  ","title":"Maven not running Spring Boot tests","body":"<p>With Spring boot 2.5.0\njunit-vintage-engine jar isn't added, hence any  org.junit.Test won't be run.</p>\n<p>Only org.junit.jupiter.api.Test seems to run.</p>\n<p>After Adding this jar (junit-vintage-engine) all my old tests(org.junit.Test) run absolutely fine.</p>\n"},{"tags":[],"owner":{"account_id":10339493,"reputation":308,"user_id":7626384,"accept_rate":100,"display_name":"Supun Kavinda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631002888,"creation_date":1631002888,"answer_id":69084703,"question_id":31681855,"body_markdown":"This issue can happen because your test class is not public.","title":"Maven not running Spring Boot tests","body":"<p>This issue can happen because your test class is not public.</p>\n"},{"tags":[],"owner":{"account_id":18365288,"reputation":9,"user_id":13376477,"display_name":"Jerson Viveros"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649789001,"creation_date":1649789001,"answer_id":71847663,"question_id":31681855,"body_markdown":"Adding org.junit.jupiter.api.Test  worked for me","title":"Maven not running Spring Boot tests","body":"<p>Adding org.junit.jupiter.api.Test  worked for me</p>\n"},{"tags":[],"owner":{"account_id":4680959,"reputation":4579,"user_id":3789686,"accept_rate":80,"display_name":"Gopal Singh Sirvi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1652702758,"creation_date":1652702758,"answer_id":72258942,"question_id":31681855,"body_markdown":"As this question populates first on search engines I thought it would be helpful for the people looking for the solution for the wired behavior of `SpringBoot` from version `2.4` onwards.\r\n\r\n**Problem** - When you migrate your SpringBoot project from older version to newer like `2.5.x` then the existing `junit` test cases are ignored by `maven`.\r\n\r\n**Reason** - SpringBoot has been migrated to `junit5` and thats why maven is ignoring `junit4` test cases. To see detailed test dependencies explore the pom for `spring-boot-starter-test`.\r\n\r\n**Solution 1** - Either you write your test cases in `junit5` with class level annotation `@SpringBootTest` and follow `Junit5` rules.\r\n\r\n**Solution 2** - Or you can use `junit-vintage` dependency in your project to run both `junit4` and `junit5` test cases together.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Maven not running Spring Boot tests","body":"<p>As this question populates first on search engines I thought it would be helpful for the people looking for the solution for the wired behavior of <code>SpringBoot</code> from version <code>2.4</code> onwards.</p>\n<p><strong>Problem</strong> - When you migrate your SpringBoot project from older version to newer like <code>2.5.x</code> then the existing <code>junit</code> test cases are ignored by <code>maven</code>.</p>\n<p><strong>Reason</strong> - SpringBoot has been migrated to <code>junit5</code> and thats why maven is ignoring <code>junit4</code> test cases. To see detailed test dependencies explore the pom for <code>spring-boot-starter-test</code>.</p>\n<p><strong>Solution 1</strong> - Either you write your test cases in <code>junit5</code> with class level annotation <code>@SpringBootTest</code> and follow <code>Junit5</code> rules.</p>\n<p><strong>Solution 2</strong> - Or you can use <code>junit-vintage</code> dependency in your project to run both <code>junit4</code> and <code>junit5</code> test cases together.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.6.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13734626,"reputation":1,"user_id":9911295,"display_name":"Fabi&#225;n Felipe Urz&#250;a Bozzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660687722,"creation_date":1660687722,"answer_id":73380878,"question_id":31681855,"body_markdown":"this works for my problem to update springboot 2.3.9 to 2.4.3\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Maven not running Spring Boot tests","body":"<p>this works for my problem to update springboot 2.3.9 to 2.4.3</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.6.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666878182,"creation_date":1666878182,"answer_id":74223102,"question_id":31681855,"body_markdown":"If none of the above works for you and you are using junit 5 with appropriate annotations, issue might be with Maven Surefire and Failsafe plugins.\r\nThis is because of some conflict between the JUnit Surefire provider and the JUnit support in the Surefire 2.22.0 plugin release.&lt;br&gt;\r\nUpdate your POM to require the 2.22.0 releases of the Maven Surefire and Failsafe plugins.\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\nRefer [here][1] for an example\r\n\r\n\r\n  [1]: https://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/","title":"Maven not running Spring Boot tests","body":"<p>If none of the above works for you and you are using junit 5 with appropriate annotations, issue might be with Maven Surefire and Failsafe plugins.\nThis is because of some conflict between the JUnit Surefire provider and the JUnit support in the Surefire 2.22.0 plugin release.<br>\nUpdate your POM to require the 2.22.0 releases of the Maven Surefire and Failsafe plugins.</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Refer <a href=\"https://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/\" rel=\"nofollow noreferrer\">here</a> for an example</p>\n"},{"tags":[],"owner":{"account_id":281771,"reputation":1349,"user_id":578267,"display_name":"Sujith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675008979,"creation_date":1675008979,"answer_id":75276402,"question_id":31681855,"body_markdown":"If you are facing this issue with spring boot 3, I had to upgrade my surefire plugin version to 3.0.0-M8\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Maven not running Spring Boot tests","body":"<p>If you are facing this issue with spring boot 3, I had to upgrade my surefire plugin version to 3.0.0-M8</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M8&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15528526,"reputation":1,"user_id":11202681,"display_name":"KisKanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687174748,"creation_date":1687174748,"answer_id":76506256,"question_id":31681855,"body_markdown":"TestController - file name should end with Test.java","title":"Maven not running Spring Boot tests","body":"<p>TestController - file name should end with Test.java</p>\n"}],"owner":{"account_id":6602409,"reputation":9636,"user_id":5100278,"accept_rate":78,"display_name":"Kingamere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99747,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":31681912,"answer_count":14,"score":54,"last_activity_date":1687174748,"creation_date":1438100130,"question_id":31681855,"body_markdown":"I have a rest Spring Boot REST API that I want to test. I can run the tests manually in Eclipse (without maven and by running the application as JUnit test) and it runs fine and displays the results, but `mvn test` does not &quot;work&quot; as you will find out below.\r\n\r\n Here is my POM file:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;org.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rest&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;UserRegistrationServices&lt;/name&gt;\r\n\t&lt;description&gt;RESTful API&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;!-- Junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- To deploy to external servlet container --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- For Spring Boot testing --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- For returning objects as JSON --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.4&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-xml-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- To decode Base64 data --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;url&gt;http://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nThis is the result of `mvn test`:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building UserRegistrationServices 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ rest ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ rest ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 9 source files to C:\\Users\\pmandayam\\git\\UserRegistrationServices\\target\\classes\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ rest ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\pmandayam\\git\\UserRegistrationServices\\src\\test\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ rest ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to C:\\Users\\pmandayam\\git\\UserRegistrationServices\\target\\test-classes\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.17:test (default-test) @ rest ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 4.768 s\r\n    [INFO] Finished at: 2015-07-28T12:07:41-05:00\r\n    [INFO] Final Memory: 24M/212M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nHere is a segment of my TestController.java class in src/test/java:\r\n\r\n    @Test\r\n    \tpublic void f_findByUsername() {\r\n    \t\t// Finding user with username &#39;user1username&#39;\r\n    \r\n    \t\tgiven().auth().basic(&quot;User1username&quot;, &quot;Testpassword&quot;).when().get(\r\n    \t\t\t\t&quot;http://localhost:8080/users/get/ByUsername?username=User1username&quot;)\r\n    \t\t\t\t.then().assertThat().body(&quot;username&quot;, is(&quot;User1username&quot;));\r\n    \t}\r\n\r\nAt the top of the TestController class I have these annotations:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = Application.class)\r\n    @WebAppConfiguration\r\n    /* Tells the embedded Tomcat server to start on a random, open port */\r\n    @IntegrationTest(&quot;server.port:0&quot;)\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class TestController {....}\r\n\r\nI&#39;m not sure whats wrong. I don&#39;t have the surefire plugin but its looking for that it seems. ","title":"Maven not running Spring Boot tests","body":"<p>I have a rest Spring Boot REST API that I want to test. I can run the tests manually in Eclipse (without maven and by running the application as JUnit test) and it runs fine and displays the results, but <code>mvn test</code> does not \"work\" as you will find out below.</p>\n\n<p>Here is my POM file:</p>\n\n<p>\nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    4.0.0</p>\n\n<pre><code>&lt;groupId&gt;org.demo&lt;/groupId&gt;\n&lt;artifactId&gt;rest&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;UserRegistrationServices&lt;/name&gt;\n&lt;description&gt;RESTful API&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!-- Junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- To deploy to external servlet container --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- For Spring Boot testing --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n        &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- For returning objects as JSON --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-xml-databind&lt;/artifactId&gt;\n        &lt;version&gt;0.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- To decode Base64 data --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;url&gt;http://repo.spring.io/snapshot&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is the result of <code>mvn test</code>:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building UserRegistrationServices 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ rest ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ rest ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 9 source files to C:\\Users\\pmandayam\\git\\UserRegistrationServices\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ rest ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\pmandayam\\git\\UserRegistrationServices\\src\\test\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ rest ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to C:\\Users\\pmandayam\\git\\UserRegistrationServices\\target\\test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ rest ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 4.768 s\n[INFO] Finished at: 2015-07-28T12:07:41-05:00\n[INFO] Final Memory: 24M/212M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>Here is a segment of my TestController.java class in src/test/java:</p>\n\n<pre><code>@Test\n    public void f_findByUsername() {\n        // Finding user with username 'user1username'\n\n        given().auth().basic(\"User1username\", \"Testpassword\").when().get(\n                \"http://localhost:8080/users/get/ByUsername?username=User1username\")\n                .then().assertThat().body(\"username\", is(\"User1username\"));\n    }\n</code></pre>\n\n<p>At the top of the TestController class I have these annotations:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = Application.class)\n@WebAppConfiguration\n/* Tells the embedded Tomcat server to start on a random, open port */\n@IntegrationTest(\"server.port:0\")\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class TestController {....}\n</code></pre>\n\n<p>I'm not sure whats wrong. I don't have the surefire plugin but its looking for that it seems. </p>\n"},{"tags":["java","spring","spring-boot","unit-testing","automated-tests"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1569879717,"post_id":58175467,"comment_id":102731946,"body_markdown":"Ideally, your library components should be unit-testable.","body":"Ideally, your library components should be unit-testable."},{"owner":{"account_id":953039,"reputation":3615,"user_id":978826,"accept_rate":90,"display_name":"Dennis Ich"},"score":0,"creation_date":1569890194,"post_id":58175467,"comment_id":102734038,"body_markdown":"Thats the plan but they will still be services and components with specific testconfigs. The alternative would be to initialize the Services all my self but that doesn&#39;t sound right to me.","body":"Thats the plan but they will still be services and components with specific testconfigs. The alternative would be to initialize the Services all my self but that doesn&#39;t sound right to me."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1569890436,"post_id":58175467,"comment_id":102734079,"body_markdown":"Are you familiar with test mocks? Usually you test your services *one at a time*, mocking out each of their dependencies as you go.","body":"Are you familiar with test mocks? Usually you test your services <i>one at a time</i>, mocking out each of their dependencies as you go."},{"owner":{"account_id":953039,"reputation":3615,"user_id":978826,"accept_rate":90,"display_name":"Dennis Ich"},"score":0,"creation_date":1569920889,"post_id":58175467,"comment_id":102742968,"body_markdown":"Yes but what is for example if the dependency is a database and I have a complex query to test? I wanna test the spring data repositories too. And they are created by spring boot at runtime normally. I got  an elasticsearch index in there too. And those queries tend to get complicated very fast and also tend to break here and there. I understand the isolation part and for most services you are right I can just inject the dependencies myself (which is mostly string configs) at test runtime. But for those implemenentations provided by spring I don&#39;t see how to (still prefer an external testconf)","body":"Yes but what is for example if the dependency is a database and I have a complex query to test? I wanna test the spring data repositories too. And they are created by spring boot at runtime normally. I got  an elasticsearch index in there too. And those queries tend to get complicated very fast and also tend to break here and there. I understand the isolation part and for most services you are right I can just inject the dependencies myself (which is mostly string configs) at test runtime. But for those implemenentations provided by spring I don&#39;t see how to (still prefer an external testconf)"}],"answers":[{"tags":[],"owner":{"account_id":953039,"reputation":3615,"user_id":978826,"accept_rate":90,"display_name":"Dennis Ich"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1571054804,"creation_date":1571054804,"answer_id":58376446,"question_id":58175467,"body_markdown":"I switched to JUnit 5 and made it kinda work... So if you want to test Database stuff:\r\n\r\n    @DataMongoTest\r\n    @ExtendWith(SpringExtension.class)\r\n    @ActiveProfiles({&quot;default&quot;, &quot;test&quot;})\r\n    class BasicMongoTest { ... }\r\n\r\n* Lets you autowire all repositories and mongo template\r\n* Initializes with apllicaton.yml config\r\n* Does NOT initialize or configure interceptors\r\n\r\n---\r\nFull application context test if you have a class with `@SpringBootApplication` in your classpath (Can be an empty test main in your test context)\r\n\r\n    @SpringBootTest\r\n    @ExtendWith(SpringExtension.class)\r\n    @ActiveProfiles({&quot;default&quot;, &quot;test&quot;})\r\n    public class FullContextTest { ... }\r\n\r\n* Initializes the full context with all configs and beans\r\n* Should not be done if not necessary as it loads all the application context and kinda defeats the purpose of unit tests to only activate whats needed.\r\n\r\n---\r\nTest only specific components and configs:\r\n\r\n    @SpringBootTest(classes = {Config1.class, Component1.class})\r\n    @EnableConfigurationProperties\r\n    @ExtendWith(SpringExtension.class)\r\n    @ActiveProfiles({&quot;default&quot;, &quot;test&quot;})\r\n    public class SpecificComponentsTest { ... }\r\n\r\n* Initializes the context with only the Config1 and Component1 classes. Component1 and all beans in Config1 can be autowired.","title":"Testing Spring Boot Library Modules","body":"<p>I switched to JUnit 5 and made it kinda work... So if you want to test Database stuff:</p>\n\n<pre><code>@DataMongoTest\n@ExtendWith(SpringExtension.class)\n@ActiveProfiles({\"default\", \"test\"})\nclass BasicMongoTest { ... }\n</code></pre>\n\n<ul>\n<li>Lets you autowire all repositories and mongo template</li>\n<li>Initializes with apllicaton.yml config</li>\n<li>Does NOT initialize or configure interceptors</li>\n</ul>\n\n<hr>\n\n<p>Full application context test if you have a class with <code>@SpringBootApplication</code> in your classpath (Can be an empty test main in your test context)</p>\n\n<pre><code>@SpringBootTest\n@ExtendWith(SpringExtension.class)\n@ActiveProfiles({\"default\", \"test\"})\npublic class FullContextTest { ... }\n</code></pre>\n\n<ul>\n<li>Initializes the full context with all configs and beans</li>\n<li>Should not be done if not necessary as it loads all the application context and kinda defeats the purpose of unit tests to only activate whats needed.</li>\n</ul>\n\n<hr>\n\n<p>Test only specific components and configs:</p>\n\n<pre><code>@SpringBootTest(classes = {Config1.class, Component1.class})\n@EnableConfigurationProperties\n@ExtendWith(SpringExtension.class)\n@ActiveProfiles({\"default\", \"test\"})\npublic class SpecificComponentsTest { ... }\n</code></pre>\n\n<ul>\n<li>Initializes the context with only the Config1 and Component1 classes. Component1 and all beans in Config1 can be autowired.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1709850,"reputation":2020,"user_id":1568120,"accept_rate":57,"display_name":"Ging3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687173929,"creation_date":1687173929,"answer_id":76506156,"question_id":58175467,"body_markdown":"I&#39;ve resolved adding in root test package path a `SpringAppConfiguration` class\r\n\r\n    @SpringBootConfiguration\r\n    @ComponentScan\r\n    @EnableAutoConfiguration\r\n    public class SpringAppConfiguration {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringAppConfiguration.class, args);\r\n        }\r\n    }","title":"Testing Spring Boot Library Modules","body":"<p>I've resolved adding in root test package path a <code>SpringAppConfiguration</code> class</p>\n<pre><code>@SpringBootConfiguration\n@ComponentScan\n@EnableAutoConfiguration\npublic class SpringAppConfiguration {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringAppConfiguration.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":953039,"reputation":3615,"user_id":978826,"accept_rate":90,"display_name":"Dennis Ich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7422,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":58376446,"answer_count":2,"score":8,"last_activity_date":1687173929,"creation_date":1569878633,"question_id":58175467,"body_markdown":"I got a multi module project where not every module is actually an application but a lot of them are libs. Those libs are doing the major work and I want to test them where they are implemented. The current dependencies of the libs:\r\n \r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\nIn the main source is a class with `@Configuration` and a single bean:\r\n \r\n    @Bean public String testString() { return &quot;A Test String&quot;; }\r\n\r\nI got 2 test classes:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles({&quot;default&quot;, &quot;test&quot;}) \r\n    public class Test1 {  \r\n  \r\n        @Test\r\n        public void conextLoaded() {\r\n        }\r\n    }\r\n\r\n-\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ActiveProfiles({&quot;default&quot;, &quot;test&quot;}) \r\n    public class Test2 {  \r\n        @Autowired\r\n        private String testString; \r\n       \r\n        @Test\r\n        public void conextLoaded() {\r\n        }\r\n    }\r\n\r\nThe first test works. The second does not. There is not `@SpringBootApplication` anywhere in that project so in the same package as the Tests I added a test configuration:\r\n\r\n\r\n    @SpringBootConfiguration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.to.config&quot;) \r\n    public class LibTestConfiguration {\r\n    }\r\n\r\nAnd it does not work. Same for classes that are `@Service`. They are not in the context. How can I make it behave like a normal Spring boot application without it actually beeing one and load the configs and contexts from the configurations files I need? The default and test profile share most of their properties (for now) and I want them to be loaded like I would start a tomcat.\r\n","title":"Testing Spring Boot Library Modules","body":"<p>I got a multi module project where not every module is actually an application but a lot of them are libs. Those libs are doing the major work and I want to test them where they are implemented. The current dependencies of the libs:</p>\n\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\n</code></pre>\n\n<p>In the main source is a class with <code>@Configuration</code> and a single bean:</p>\n\n<pre><code>@Bean public String testString() { return \"A Test String\"; }\n</code></pre>\n\n<p>I got 2 test classes:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles({\"default\", \"test\"}) \npublic class Test1 {  \n\n    @Test\n    public void conextLoaded() {\n    }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles({\"default\", \"test\"}) \npublic class Test2 {  \n    @Autowired\n    private String testString; \n\n    @Test\n    public void conextLoaded() {\n    }\n}\n</code></pre>\n\n<p>The first test works. The second does not. There is not <code>@SpringBootApplication</code> anywhere in that project so in the same package as the Tests I added a test configuration:</p>\n\n<pre><code>@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(\"com.to.config\") \npublic class LibTestConfiguration {\n}\n</code></pre>\n\n<p>And it does not work. Same for classes that are <code>@Service</code>. They are not in the context. How can I make it behave like a normal Spring boot application without it actually beeing one and load the configs and contexts from the configurations files I need? The default and test profile share most of their properties (for now) and I want them to be loaded like I would start a tomcat.</p>\n"},{"tags":["java","android","samsung"],"owner":{"account_id":17099609,"reputation":131,"user_id":12373842,"display_name":"Cptain_Whitebeard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687173818,"creation_date":1687173603,"question_id":76506120,"body_markdown":"I&#39;m currently trying to get access of the Heartrate-Sensor of my Samsung Galaxy Watch 4 Classic inside Android Studio to display it inside a TextView.\r\n\r\nTherefore I&#39;ve been reading myself into the Samsung Health SDK for quite awhile now, but it seems like it&#39;s still not working.\r\n\r\nAt my latest try I had this Code:\r\n\r\n**manifest:**\r\n\r\n    &lt;uses-permission android:name=&quot;com.samsung.android.health.permission.read&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BODY_SENSORS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\n**Activity:**\r\n\r\n    package com.example.test;\r\n\r\n    import android.app.Activity;\r\n    import android.database.Cursor;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.FrameLayout;\r\n    \r\n    import com.example.test.databinding.ActivityVitalsBinding;\r\n    import com.samsung.android.sdk.healthdata.HealthDataStore;\r\n    import com.samsung.android.sdk.healthdata.HealthConstants;\r\n    import com.samsung.android.sdk.healthdata.HealthDataResolver;\r\n    import com.samsung.android.sdk.healthdata.HealthDataResolver.Filter;\r\n    import com.samsung.android.sdk.healthdata.HealthPermissionManager;\r\n    import com.samsung.android.sdk.healthdata.HealthResultHolder;\r\n    import com.samsung.android.sdk.healthdata.HealthResultHolder.ResultListener;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    \r\n    \r\n    public class VitalsActivity extends Activity {\r\n    \r\n        private HealthDataStore healthDataStore;\r\n        private ActivityVitalsBinding binding;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityVitalsBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n           healthDataStore = new HealthDataStore(this, new HealthDataStore.ConnectionListener() {\r\n            @Override\r\n            public void onConnected() {\r\n                System.out.println(&quot;Connected successfully&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onConnectionFailed(HealthConnectionErrorResult healthConnectionErrorResult) {\r\n                System.out.println(&quot;couldn&#39;t connect&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDisconnected() {\r\n\r\n            }\r\n        });\r\n        healthDataStore.connectService();\r\n        }\r\n    \r\n    private void requestHeartRatePermission() {\r\n        HealthPermissionManager.PermissionKey key =\r\n                new HealthPermissionManager.PermissionKey(HealthConstants.HeartRate.HEALTH_DATA_TYPE, HealthPermissionManager.PermissionType.READ);\r\n\r\n        HealthPermissionManager permissionManager = new HealthPermissionManager(healthDataStore);\r\n\r\n        permissionManager.requestPermissions(new HashSet&lt;HealthPermissionManager.PermissionKey&gt;(Arrays.asList(key)))\r\n                .setResultListener(new ResultListener&lt;HealthPermissionManager.PermissionResult&gt;() {\r\n                    @Override\r\n                    public void onResult(HealthPermissionManager.PermissionResult result) {\r\n                        if (result.equals(true)) {\r\n                            readHeartRateData();\r\n                        } else {\r\n                            System.out.println(&quot;access denied&quot;);\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n    \r\n    private void readHeartRateData() {\r\n        HealthDataResolver resolver = new HealthDataResolver(healthDataStore, null);\r\n\r\n        HealthDataResolver.ReadRequest request = new HealthDataResolver.ReadRequest.Builder()\r\n                .setDataType(HealthConstants.HeartRate.HEALTH_DATA_TYPE)\r\n                .build();\r\n\r\n        resolver.read(request)\r\n                .setResultListener(result -&gt; {\r\n                    try (Cursor cursor = result.getResultCursor()) {\r\n                        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                            int heartRateIndex = cursor.getColumnIndex(HealthConstants.HeartRate.HEART_RATE);\r\n                            if (heartRateIndex != -1) {\r\n                                int heartRate = cursor.getInt(heartRateIndex);\r\n                                System.out.println(&quot;current heartrate: &quot; + heartRate);\r\n                            } else {\r\n                                System.out.println(&quot;couldn&#39;t find heartrate-column&quot;);\r\n                            }\r\n                        }\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;error while reading heartrate-data&quot;);\r\n                    }\r\n                });\r\n    }\r\n\r\nBut with this I get the Error:\r\n\r\n    E/HealthDataStore: disconnectService: Context instance is invalid\r\n    D/HealthDataStore: Trying to connect with Health Service fails (error code: 2)\r\n    D/HealthDataStore: Check SupportedDevice\r\n    D/HealthSDK-DeviceUtil: Server URL : https://hub.samsungapps.com/product/appCheck.as?appInfo=com.sec.android.app.shealth@0&amp;deviceId=sdk_gwear_x86&amp;mnc=260&amp;csc=FAIL&amp;openApi=30&amp;mcc=310\r\n    D/HealthSDK-DeviceUtil: Downloading Samsung Health is unavailable (0)\r\n\r\ncan you help me out here?","title":"Getting Heartrate from Samsung Health SDK for Wearable","body":"<p>I'm currently trying to get access of the Heartrate-Sensor of my Samsung Galaxy Watch 4 Classic inside Android Studio to display it inside a TextView.</p>\n<p>Therefore I've been reading myself into the Samsung Health SDK for quite awhile now, but it seems like it's still not working.</p>\n<p>At my latest try I had this Code:</p>\n<p><strong>manifest:</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;com.samsung.android.health.permission.read&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BODY_SENSORS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n</code></pre>\n<p><strong>Activity:</strong></p>\n<pre><code>package com.example.test;\n\nimport android.app.Activity;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.FrameLayout;\n\nimport com.example.test.databinding.ActivityVitalsBinding;\nimport com.samsung.android.sdk.healthdata.HealthDataStore;\nimport com.samsung.android.sdk.healthdata.HealthConstants;\nimport com.samsung.android.sdk.healthdata.HealthDataResolver;\nimport com.samsung.android.sdk.healthdata.HealthDataResolver.Filter;\nimport com.samsung.android.sdk.healthdata.HealthPermissionManager;\nimport com.samsung.android.sdk.healthdata.HealthResultHolder;\nimport com.samsung.android.sdk.healthdata.HealthResultHolder.ResultListener;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\n\n\npublic class VitalsActivity extends Activity {\n\n    private HealthDataStore healthDataStore;\n    private ActivityVitalsBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityVitalsBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n       healthDataStore = new HealthDataStore(this, new HealthDataStore.ConnectionListener() {\n        @Override\n        public void onConnected() {\n            System.out.println(&quot;Connected successfully&quot;);\n        }\n\n        @Override\n        public void onConnectionFailed(HealthConnectionErrorResult healthConnectionErrorResult) {\n            System.out.println(&quot;couldn't connect&quot;);\n        }\n\n        @Override\n        public void onDisconnected() {\n\n        }\n    });\n    healthDataStore.connectService();\n    }\n\nprivate void requestHeartRatePermission() {\n    HealthPermissionManager.PermissionKey key =\n            new HealthPermissionManager.PermissionKey(HealthConstants.HeartRate.HEALTH_DATA_TYPE, HealthPermissionManager.PermissionType.READ);\n\n    HealthPermissionManager permissionManager = new HealthPermissionManager(healthDataStore);\n\n    permissionManager.requestPermissions(new HashSet&lt;HealthPermissionManager.PermissionKey&gt;(Arrays.asList(key)))\n            .setResultListener(new ResultListener&lt;HealthPermissionManager.PermissionResult&gt;() {\n                @Override\n                public void onResult(HealthPermissionManager.PermissionResult result) {\n                    if (result.equals(true)) {\n                        readHeartRateData();\n                    } else {\n                        System.out.println(&quot;access denied&quot;);\n                    }\n                }\n            });\n}\n\nprivate void readHeartRateData() {\n    HealthDataResolver resolver = new HealthDataResolver(healthDataStore, null);\n\n    HealthDataResolver.ReadRequest request = new HealthDataResolver.ReadRequest.Builder()\n            .setDataType(HealthConstants.HeartRate.HEALTH_DATA_TYPE)\n            .build();\n\n    resolver.read(request)\n            .setResultListener(result -&gt; {\n                try (Cursor cursor = result.getResultCursor()) {\n                    if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                        int heartRateIndex = cursor.getColumnIndex(HealthConstants.HeartRate.HEART_RATE);\n                        if (heartRateIndex != -1) {\n                            int heartRate = cursor.getInt(heartRateIndex);\n                            System.out.println(&quot;current heartrate: &quot; + heartRate);\n                        } else {\n                            System.out.println(&quot;couldn't find heartrate-column&quot;);\n                        }\n                    }\n                } catch (Exception e) {\n                    System.out.println(&quot;error while reading heartrate-data&quot;);\n                }\n            });\n}\n</code></pre>\n<p>But with this I get the Error:</p>\n<pre><code>E/HealthDataStore: disconnectService: Context instance is invalid\nD/HealthDataStore: Trying to connect with Health Service fails (error code: 2)\nD/HealthDataStore: Check SupportedDevice\nD/HealthSDK-DeviceUtil: Server URL : https://hub.samsungapps.com/product/appCheck.as?appInfo=com.sec.android.app.shealth@0&amp;deviceId=sdk_gwear_x86&amp;mnc=260&amp;csc=FAIL&amp;openApi=30&amp;mcc=310\nD/HealthSDK-DeviceUtil: Downloading Samsung Health is unavailable (0)\n</code></pre>\n<p>can you help me out here?</p>\n"},{"tags":["java","binary-search","square-root"],"answers":[{"tags":[],"owner":{"account_id":8756851,"reputation":136,"user_id":6548175,"display_name":"MIKEC"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1590069789,"creation_date":1590069465,"answer_id":61936207,"question_id":61936060,"body_markdown":"Because mid * mid will overflow. You should use long to avoid the overflow. Then cast it back to int when you return the result.\r\n\r\nTry this code\r\n\r\n    public static int mySqrt(int x) {\r\n        long left = 0;\r\n        long right = x;\r\n\r\n        if(x &lt; 2){\r\n            return x;\r\n        }\r\n        while(left &lt; right){\r\n            long mid = left + ((right - left) / 2);\r\n\r\n            if(mid * mid == x){\r\n                return (int)mid;\r\n\r\n            }\r\n            else if(mid * mid &lt; x){\r\n                left = mid + 1;\r\n            }\r\n            else{\r\n                right = mid;\r\n            }\r\n        }\r\n        return (int)(left - 1);\r\n    }","title":"Finding the square root of a number by using binary search","body":"<p>Because mid * mid will overflow. You should use long to avoid the overflow. Then cast it back to int when you return the result.</p>\n\n<p>Try this code</p>\n\n<pre><code>public static int mySqrt(int x) {\n    long left = 0;\n    long right = x;\n\n    if(x &lt; 2){\n        return x;\n    }\n    while(left &lt; right){\n        long mid = left + ((right - left) / 2);\n\n        if(mid * mid == x){\n            return (int)mid;\n\n        }\n        else if(mid * mid &lt; x){\n            left = mid + 1;\n        }\n        else{\n            right = mid;\n        }\n    }\n    return (int)(left - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1590070349,"creation_date":1590070349,"answer_id":61936492,"question_id":61936060,"body_markdown":"This is like a binary search \r\n\r\nThe following code computes the [integer] square root of a number. If the number is not a\r\nperfect square (there is no integer square root) , then it returns -1. It does this by successive\r\nguessing. If n is 100, it first guesses SO. Too high? Try something lower - halfway between 1\r\nand SO. What is its runtime?\r\n\r\n    int sqrt(int n) {\r\n            return sqrt_helper(n, 1, n);\r\n        }\r\n         int sqrt_helper(int n, int min, int max) {\r\n         if (max &lt; min) return -1; // no square root\r\n         int guess = (min + max) / 2&#183;,\r\n      if (guess *guess == n) { // found it!\r\n          return guess;\r\n      }else if (guess * guess &lt; n) { II too low\r\n          return sqrt_helper(n, guess + 1, max); // try higher\r\n      } else { // too high\r\n         return sqrt_helper(n, min, guess - l); //try lower\r\n      }\r\n    }\r\n\r\ncredits: cracking the coding interview","title":"Finding the square root of a number by using binary search","body":"<p>This is like a binary search </p>\n\n<p>The following code computes the [integer] square root of a number. If the number is not a\nperfect square (there is no integer square root) , then it returns -1. It does this by successive\nguessing. If n is 100, it first guesses SO. Too high? Try something lower - halfway between 1\nand SO. What is its runtime?</p>\n\n<pre><code>int sqrt(int n) {\n        return sqrt_helper(n, 1, n);\n    }\n     int sqrt_helper(int n, int min, int max) {\n     if (max &lt; min) return -1; // no square root\n     int guess = (min + max) / 2·,\n  if (guess *guess == n) { // found it!\n      return guess;\n  }else if (guess * guess &lt; n) { II too low\n      return sqrt_helper(n, guess + 1, max); // try higher\n  } else { // too high\n     return sqrt_helper(n, min, guess - l); //try lower\n  }\n}\n</code></pre>\n\n<p>credits: cracking the coding interview</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590078001,"creation_date":1590077499,"answer_id":61938880,"question_id":61936060,"body_markdown":"Here is a version which handles doubles.\r\n\r\n- It is recursive.\r\n- It computes until a given precision is reached.\r\n```\r\nfor (int i = 2; i &lt; 10; i++) {\r\n\tSystem.out.println(&quot;sqrt(&quot;+i+&quot;) = &quot; + sqrt(i));\r\n}\r\n```\r\nPrints\r\n```\r\nsqrt(2) = 1.414213562373095\r\nsqrt(3) = 1.7320508075688772\r\nsqrt(4) = 2.0\r\nsqrt(5) = 2.23606797749979\r\nsqrt(6) = 2.449489742783178\r\nsqrt(7) = 2.6457513110645907\r\nsqrt(8) = 2.82842712474619\r\nsqrt(9) = 3.0\r\n\r\n```\r\n```\r\npublic static double sqrt(double i) {\r\n\treturn bsqrt(i, 0, i, 0);\r\n}\r\n\t\r\nstatic double prec = 10E-200;\t\r\n\r\nprivate static double abs(double d)  {\r\n\treturn d &lt; 0 ? -d : d;\r\n}\r\n\r\nprivate static double bsqrt(double i, double low, double high,\r\n\t\tdouble last) {\r\n\tdouble mid = (high + low) / 2;\r\n\tdouble d = last - mid;\r\n\tif (d &lt; 0) {\r\n\t\td = -d;\r\n\t}\r\n\tif (d &lt; prec) {\r\n\t\treturn mid;\r\n\t}\r\n\tdouble sqr = mid * mid;\r\n\tif (sqr &lt; i) {\r\n\t\treturn bsqrt(i, mid, high, mid);\r\n\t} else {\r\n\t\treturn bsqrt(i, low, mid, mid);\r\n\t}\r\n}\r\n```\r\nBut a better way is to use [Newton&#39;s method](https://en.wikipedia.org/wiki/Newton%27s_method).\r\n\r\n```\r\nstatic double prec = 10E-15;\r\npublic static double newtons(double i) {\r\n\t// initial guess\r\n\tdouble x = i / 2;\r\n\t\t\r\n\tdouble d = i;\r\n\tdouble nx = 0;\r\n\twhile (abs(d) &gt; prec) {\r\n\t\tnx = x - (x*x - i)/(2*x);\r\n\t\td = nx - x;\r\n\t\tx = nx;\r\n\t}\r\n\treturn nx;\r\n}\r\n","title":"Finding the square root of a number by using binary search","body":"<p>Here is a version which handles doubles.</p>\n\n<ul>\n<li>It is recursive.</li>\n<li>It computes until a given precision is reached.</li>\n</ul>\n\n<pre><code>for (int i = 2; i &lt; 10; i++) {\n    System.out.println(\"sqrt(\"+i+\") = \" + sqrt(i));\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>sqrt(2) = 1.414213562373095\nsqrt(3) = 1.7320508075688772\nsqrt(4) = 2.0\nsqrt(5) = 2.23606797749979\nsqrt(6) = 2.449489742783178\nsqrt(7) = 2.6457513110645907\nsqrt(8) = 2.82842712474619\nsqrt(9) = 3.0\n\n</code></pre>\n\n<pre><code>public static double sqrt(double i) {\n    return bsqrt(i, 0, i, 0);\n}\n\nstatic double prec = 10E-200;   \n\nprivate static double abs(double d)  {\n    return d &lt; 0 ? -d : d;\n}\n\nprivate static double bsqrt(double i, double low, double high,\n        double last) {\n    double mid = (high + low) / 2;\n    double d = last - mid;\n    if (d &lt; 0) {\n        d = -d;\n    }\n    if (d &lt; prec) {\n        return mid;\n    }\n    double sqr = mid * mid;\n    if (sqr &lt; i) {\n        return bsqrt(i, mid, high, mid);\n    } else {\n        return bsqrt(i, low, mid, mid);\n    }\n}\n</code></pre>\n\n<p>But a better way is to use <a href=\"https://en.wikipedia.org/wiki/Newton%27s_method\" rel=\"nofollow noreferrer\">Newton's method</a>.</p>\n\n<pre><code>static double prec = 10E-15;\npublic static double newtons(double i) {\n    // initial guess\n    double x = i / 2;\n\n    double d = i;\n    double nx = 0;\n    while (abs(d) &gt; prec) {\n        nx = x - (x*x - i)/(2*x);\n        d = nx - x;\n        x = nx;\n    }\n    return nx;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23154670,"reputation":159,"user_id":17256101,"display_name":"Amir Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687173660,"creation_date":1687172919,"answer_id":76506050,"question_id":61936060,"body_markdown":"Square Root Calculation Using Binary Search Algorithm in Java\r\n-------------------------------------------------------------\r\n\r\n\r\n----------\r\n\r\n&gt; **pseudo-code flow for Square Root Calculation Using Binary Search :**\r\n\r\n1. Initialize variables ans, start, and end to track the search range.\r\n2. Calculate the middle index mid as the average of start and end.\r\n3. Enter a while loop as long as start is less than or equal to end.\r\n4. Check if the square of the mid index is equal to the target number:\r\n     - If true, assign mid to ans and return ans as the square root.\r\n     - If the square of mid is greater than the target number:\r\n5. Update end to mid - 1 to search in the lower half of the range.\r\n     - If the square of mid is less than or equal to the target number:\r\n6. Update ans to mid as a potential square root candidate.\r\n7. Update start to mid + 1 to search in the upper half of the range.\r\n8. Recalculate mid as the average of the updated start and end.\r\n9. Repeat steps 4-7 until the search range is exhausted (start becomes greater than end).\r\n10. Return ans as the closest square root found during the search.\r\n\r\n&gt; **The Iterative Approach**\r\n\r\n    public static int findSquareRoot(int num){\r\n        int ans = -1;\r\n        int startIndex = 0;\r\n        int endIndex = num;\r\n        long midIndex = startIndex + (endIndex - startIndex ) / 2;\r\n\r\n        while (startIndex &lt;= endIndex){\r\n\r\n            if((midIndex*midIndex) == num){\r\n                ans = (int )midIndex;\r\n                return ans;\r\n            } else if ((midIndex*midIndex) &gt; num) {\r\n                endIndex = (int) midIndex - 1;\r\n            }else {\r\n                ans = (int) midIndex;\r\n                startIndex = (int) midIndex + 1;\r\n            }\r\n            midIndex = startIndex + (endIndex - startIndex ) / 2;\r\n        }\r\n        return ans;\r\n    }\r\nDiscover Comprehensive Solution [https://github.com/Amir36036/ds/blob/array/src/main/java/org/ds/array/FindSquareRootByBinarySearch.java][1]\r\n\r\n\r\n  [1]: https://github.com/Amir36036/ds/blob/array/src/main/java/org/ds/array/FindSquareRootByBinarySearch.java","title":"Finding the square root of a number by using binary search","body":"<h2>Square Root Calculation Using Binary Search Algorithm in Java</h2>\n<hr />\n<blockquote>\n<p><strong>pseudo-code flow for Square Root Calculation Using Binary Search :</strong></p>\n</blockquote>\n<ol>\n<li>Initialize variables ans, start, and end to track the search range.</li>\n<li>Calculate the middle index mid as the average of start and end.</li>\n<li>Enter a while loop as long as start is less than or equal to end.</li>\n<li>Check if the square of the mid index is equal to the target number:\n<ul>\n<li>If true, assign mid to ans and return ans as the square root.</li>\n<li>If the square of mid is greater than the target number:</li>\n</ul>\n</li>\n<li>Update end to mid - 1 to search in the lower half of the range.\n<ul>\n<li>If the square of mid is less than or equal to the target number:</li>\n</ul>\n</li>\n<li>Update ans to mid as a potential square root candidate.</li>\n<li>Update start to mid + 1 to search in the upper half of the range.</li>\n<li>Recalculate mid as the average of the updated start and end.</li>\n<li>Repeat steps 4-7 until the search range is exhausted (start becomes greater than end).</li>\n<li>Return ans as the closest square root found during the search.</li>\n</ol>\n<blockquote>\n<p><strong>The Iterative Approach</strong></p>\n</blockquote>\n<pre><code>public static int findSquareRoot(int num){\n    int ans = -1;\n    int startIndex = 0;\n    int endIndex = num;\n    long midIndex = startIndex + (endIndex - startIndex ) / 2;\n\n    while (startIndex &lt;= endIndex){\n\n        if((midIndex*midIndex) == num){\n            ans = (int )midIndex;\n            return ans;\n        } else if ((midIndex*midIndex) &gt; num) {\n            endIndex = (int) midIndex - 1;\n        }else {\n            ans = (int) midIndex;\n            startIndex = (int) midIndex + 1;\n        }\n        midIndex = startIndex + (endIndex - startIndex ) / 2;\n    }\n    return ans;\n}\n</code></pre>\n<p>Discover Comprehensive Solution <a href=\"https://github.com/Amir36036/ds/blob/array/src/main/java/org/ds/array/FindSquareRootByBinarySearch.java\" rel=\"nofollow noreferrer\">https://github.com/Amir36036/ds/blob/array/src/main/java/org/ds/array/FindSquareRootByBinarySearch.java</a></p>\n"}],"owner":{"account_id":18342650,"reputation":103,"user_id":13358531,"display_name":"CSnewbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3819,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61936207,"answer_count":4,"score":1,"last_activity_date":1687173660,"creation_date":1590069070,"question_id":61936060,"body_markdown":"I tried using binary search to find the square root of an integer, but some how I couldn&#39;t pass a few test cases.\r\n \r\nI was able to pass mySqrt(4) = 2, but I wasn&#39;t able to pass mySqrt(2147395599) \r\n\r\nAny ideas on where I messed up?\r\n\r\n```\r\npublic static int mySqrt(int x) {\r\n\t\tint left = 0;\r\n\t\tint right = x;\r\n\r\n\t\tif(x &lt; 2){\r\n\t\t\treturn x;\r\n\t\t}\r\n\t\twhile(left &lt; right){\r\n\t\t\tint mid = left + ((right - left) / 2);\r\n\r\n\t\t\tif(mid * mid == x){\r\n\t\t\t\treturn mid;\r\n\r\n\t\t\t}\r\n\t\t\telse if(mid * mid &lt; x){\r\n\t\t\t\tleft = mid + 1;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tright = mid; \r\n\t\t\t}\r\n\t\t}\r\n\t\treturn left - 1;\r\n\t}\r\n```","title":"Finding the square root of a number by using binary search","body":"<p>I tried using binary search to find the square root of an integer, but some how I couldn't pass a few test cases.</p>\n\n<p>I was able to pass mySqrt(4) = 2, but I wasn't able to pass mySqrt(2147395599) </p>\n\n<p>Any ideas on where I messed up?</p>\n\n<pre><code>public static int mySqrt(int x) {\n        int left = 0;\n        int right = x;\n\n        if(x &lt; 2){\n            return x;\n        }\n        while(left &lt; right){\n            int mid = left + ((right - left) / 2);\n\n            if(mid * mid == x){\n                return mid;\n\n            }\n            else if(mid * mid &lt; x){\n                left = mid + 1;\n            }\n            else{\n                right = mid; \n            }\n        }\n        return left - 1;\n    }\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1687148523,"post_id":76502604,"comment_id":134891010,"body_markdown":"Can you [edit] your question and post details of these _location errors_ that you mention in your question?","body":"Can you <a href=\"https://stackoverflow.com/posts/76502604/edit\">edit</a> your question and post details of these <i>location errors</i> that you mention in your question?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1687167185,"post_id":76502604,"comment_id":134893973,"body_markdown":"Use an `IDE` like `Netbeans` and let it do the work for you. Are your `FXML` files pointing to their `Controllers` in the correct location?","body":"Use an <code>IDE</code> like <code>Netbeans</code> and let it do the work for you. Are your <code>FXML</code> files pointing to their <code>Controllers</code> in the correct location?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687178648,"post_id":76502604,"comment_id":134896229,"body_markdown":"Verify that your `.fxml` files are accessible, for [example](https://stackoverflow.com/a/19603055/230513).","body":"Verify that your <code>.fxml</code> files are accessible, for <a href=\"https://stackoverflow.com/a/19603055/230513\">example</a>."}],"owner":{"account_id":28846812,"reputation":21,"user_id":22093632,"display_name":"wizard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687173385,"creation_date":1687123972,"question_id":76502604,"body_markdown":"I&#39;m struggling with the code within my module-info.java file to when reorganizing my classes into relevant packages, my code was running fine before I moved them but i wanted to tidy up a little for future maintenance and now I&#39;m running into trouble with location errors when running the project.\r\n\r\nmodule-info.java:\r\n```\r\nmodule com.example.trademarket {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n\r\n    requires org.controlsfx.controls;\r\n    requires org.kordamp.bootstrapfx.core;\r\n    requires java.sql;\r\n    requires org.apache.commons.codec;\r\n\r\n\r\n    //requires com.google.gson;\r\n    //requires org.apache.httpcomponents.httpclient;\r\n    //requires org.apache.httpcomponents.httpcore;\r\n\r\n    opens com.example.trademarket to javafx.fxml;\r\n    //exports com.example.trademarket;\r\n    //exports com.example.trademarket.classes;\r\n    //opens com.example.trademarket.classes to javafx.fxml;\r\n    //exports com.example.trademarket.controller;\r\n    //opens com.example.trademarket.controller to javafx.fxml;\r\n    //exports com.example.trademarket.application;\r\n    opens com.example.trademarket.application to javafx.fxml;\r\n}\r\n```\r\nThe file structure i am trying to achieve:\r\n\r\n(https://i.stack.imgur.com/6bQWX.png)\r\n\r\nThe error message I&#39;m getting:\r\n\r\n    Caused by: java.lang.module.InvalidModuleDescriptorException: Package com.example.trademarket not found in module\r\n\r\n\r\nI&#39;ve tried changing the &#39;opens&#39; and &#39;exports&#39; statements in the file but this hasn&#39;t worked yet.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fgVlk.png","title":"java fx project file structure","body":"<p>I'm struggling with the code within my module-info.java file to when reorganizing my classes into relevant packages, my code was running fine before I moved them but i wanted to tidy up a little for future maintenance and now I'm running into trouble with location errors when running the project.</p>\n<p>module-info.java:</p>\n<pre><code>module com.example.trademarket {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    requires org.controlsfx.controls;\n    requires org.kordamp.bootstrapfx.core;\n    requires java.sql;\n    requires org.apache.commons.codec;\n\n\n    //requires com.google.gson;\n    //requires org.apache.httpcomponents.httpclient;\n    //requires org.apache.httpcomponents.httpcore;\n\n    opens com.example.trademarket to javafx.fxml;\n    //exports com.example.trademarket;\n    //exports com.example.trademarket.classes;\n    //opens com.example.trademarket.classes to javafx.fxml;\n    //exports com.example.trademarket.controller;\n    //opens com.example.trademarket.controller to javafx.fxml;\n    //exports com.example.trademarket.application;\n    opens com.example.trademarket.application to javafx.fxml;\n}\n</code></pre>\n<p>The file structure i am trying to achieve:</p>\n<p>(<a href=\"https://i.stack.imgur.com/6bQWX.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/6bQWX.png</a>)</p>\n<p>The error message I'm getting:</p>\n<pre><code>Caused by: java.lang.module.InvalidModuleDescriptorException: Package com.example.trademarket not found in module\n</code></pre>\n<p>I've tried changing the 'opens' and 'exports' statements in the file but this hasn't worked yet.</p>\n"},{"tags":["java","docker","docker-compose"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687175758,"post_id":76506091,"comment_id":134895648,"body_markdown":"Is your applicatipn Spring-boot based?","body":"Is your applicatipn Spring-boot based?"},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1687179953,"post_id":76506091,"comment_id":134896535,"body_markdown":"@gdomo No It is an not spring-boot project","body":"@gdomo No It is an not spring-boot project"}],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687173293,"creation_date":1687173293,"question_id":76506091,"body_markdown":"I have a Java application that read properties from the `application.yml` file. The Java application reads data from multiple sources, does some processing, and dumps output to the Postgres table. The input sources are a list of variable number of sources. My application.yml is below:\r\n\r\n    inputSources:\r\n      - type: POSTGRES\r\n        # postgres configs\r\n      - type: MYSQL\r\n        # mysql configs\r\n       ....\r\n\r\nI want to deploy my application as a `docker` container. I am using the `docker-compose.yml` file to define all the properties. Is there a way in which I can define a variable number of sources in the docker-compose.yml file and read it directly into the `application.yml` file instead of reading the property one by one?","title":"How to read list of config from docker-compose.yml to application.yml?","body":"<p>I have a Java application that read properties from the <code>application.yml</code> file. The Java application reads data from multiple sources, does some processing, and dumps output to the Postgres table. The input sources are a list of variable number of sources. My application.yml is below:</p>\n<pre><code>inputSources:\n  - type: POSTGRES\n    # postgres configs\n  - type: MYSQL\n    # mysql configs\n   ....\n</code></pre>\n<p>I want to deploy my application as a <code>docker</code> container. I am using the <code>docker-compose.yml</code> file to define all the properties. Is there a way in which I can define a variable number of sources in the docker-compose.yml file and read it directly into the <code>application.yml</code> file instead of reading the property one by one?</p>\n"},{"tags":["java","oracle-sqldeveloper","prepared-statement","resultset"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1687176087,"post_id":76505961,"comment_id":134895706,"body_markdown":"I got it right: when you use a WHERE with only one of the conditions, you get the expected results (expected for that selection criterion). Only when you use both criteria, the result set is empty. Correct?","body":"I got it right: when you use a WHERE with only one of the conditions, you get the expected results (expected for that selection criterion). Only when you use both criteria, the result set is empty. Correct?"},{"owner":{"account_id":17133947,"reputation":1,"user_id":12399433,"display_name":"vignesh waran"},"score":0,"creation_date":1687345047,"post_id":76505961,"comment_id":134922862,"body_markdown":"Yes your are right. And specifically this is happening only when using current year number or week number as inputs. I mean there are columns in table that stores this year and week in number format. Strangely when using both in where clause the result set in empty when called from java program.","body":"Yes your are right. And specifically this is happening only when using current year number or week number as inputs. I mean there are columns in table that stores this year and week in number format. Strangely when using both in where clause the result set in empty when called from java program."}],"owner":{"account_id":17133947,"reputation":1,"user_id":12399433,"display_name":"vignesh waran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687172920,"creation_date":1687172199,"question_id":76505961,"body_markdown":"My Query is like this below.\r\n```\r\nselect a.actl_empl_cd ,a.actl_yr_nb,a.actl_wk_nb \r\nfrom eng_eplt.empl_actl_tm_sht a \r\nwhere a.actl_yr_nb = (select to_number(to_char(sysdate, &#39;iyyy&#39;)) from dual) \r\nAND a.actl_wk_nb = (select to_number(to_char(sysdate, &#39;iw&#39;)) from dual);\r\n```\r\n\r\nThis query fetches results in SQL developer as shown below.\r\n\r\n| actl_empl_cd  | actl_yr_nb | actl_wk_nb |\r\n|---------------|------------|------------|\r\n|  7790         | 2023       |    25      |\r\n|  1002105      | 2023       |    25      |\r\n|  52786        | 2023       |    25      |\r\n\r\nBut when the same query is run in a standalone java program the resultset is getting emptied. Im unable to retrieve the value from Resultset.\r\nMy Code is as below.\r\n\r\n```\r\npublic static void sendReminderToApprovers() throws Exception {\r\n    try{\r\n        SendReminder3.connect();\r\n        String sql =&quot;select a.actl_empl_cd ,a.actl_yr_nb,a.actl_wk_nb from eng_eplt.empl_actl_tm_sht a where a.actl_yr_nb = (select to_number(to_char(sysdate, &#39;iyyy&#39;)) from dual) AND a.actl_wk_nb = (select to_number(to_char(sysdate, &#39;iw&#39;)) from dual)&quot;;\r\n        PreparedStatement pstmt3 = con.prepareStatement(sql);\r\n        ResultSet rs3 = pstmt3.executeQuery();`\r\n        while(rs3.next()) {\r\n            System.out.println(&quot;yes   &quot; + rs3.getObject(0));\r\n        }\r\n    } catch (Exception e) {\r\n        logger.error(&quot;Error&quot;, e);\r\n    } finally {\r\n        if(con!=null &amp;&amp; !con.isClosed()) con.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI ran this in a debugger, and `rs.next()` never enters the while loop.\r\n\r\nThe PROBLEM that is notice is with `actl_yr_nb` and `actl_wk_nb`. These are defined as &#39;NUMBER&#39; columns in DB. This query runs in java code if I use either `actl_yr_nb` or `actl_wk_nb`. If I use both in the query only then it is not working and giving empty resultset wile execution.\r\n\r\n\r\nHow to resolve this issue. What am I missing in the query that it runs in SQL developer but not in java code. Im fetching the employee codes to send out an email notification. Its just a simple standalone java program.\r\n","title":"Oracle sql query returning empty resultset in java code, but working fine in SQL developer","body":"<p>My Query is like this below.</p>\n<pre><code>select a.actl_empl_cd ,a.actl_yr_nb,a.actl_wk_nb \nfrom eng_eplt.empl_actl_tm_sht a \nwhere a.actl_yr_nb = (select to_number(to_char(sysdate, 'iyyy')) from dual) \nAND a.actl_wk_nb = (select to_number(to_char(sysdate, 'iw')) from dual);\n</code></pre>\n<p>This query fetches results in SQL developer as shown below.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>actl_empl_cd</th>\n<th>actl_yr_nb</th>\n<th>actl_wk_nb</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>7790</td>\n<td>2023</td>\n<td>25</td>\n</tr>\n<tr>\n<td>1002105</td>\n<td>2023</td>\n<td>25</td>\n</tr>\n<tr>\n<td>52786</td>\n<td>2023</td>\n<td>25</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>But when the same query is run in a standalone java program the resultset is getting emptied. Im unable to retrieve the value from Resultset.\nMy Code is as below.</p>\n<pre><code>public static void sendReminderToApprovers() throws Exception {\n    try{\n        SendReminder3.connect();\n        String sql =&quot;select a.actl_empl_cd ,a.actl_yr_nb,a.actl_wk_nb from eng_eplt.empl_actl_tm_sht a where a.actl_yr_nb = (select to_number(to_char(sysdate, 'iyyy')) from dual) AND a.actl_wk_nb = (select to_number(to_char(sysdate, 'iw')) from dual)&quot;;\n        PreparedStatement pstmt3 = con.prepareStatement(sql);\n        ResultSet rs3 = pstmt3.executeQuery();`\n        while(rs3.next()) {\n            System.out.println(&quot;yes   &quot; + rs3.getObject(0));\n        }\n    } catch (Exception e) {\n        logger.error(&quot;Error&quot;, e);\n    } finally {\n        if(con!=null &amp;&amp; !con.isClosed()) con.close();\n    }\n}\n</code></pre>\n<p>I ran this in a debugger, and <code>rs.next()</code> never enters the while loop.</p>\n<p>The PROBLEM that is notice is with <code>actl_yr_nb</code> and <code>actl_wk_nb</code>. These are defined as 'NUMBER' columns in DB. This query runs in java code if I use either <code>actl_yr_nb</code> or <code>actl_wk_nb</code>. If I use both in the query only then it is not working and giving empty resultset wile execution.</p>\n<p>How to resolve this issue. What am I missing in the query that it runs in SQL developer but not in java code. Im fetching the employee codes to send out an email notification. Its just a simple standalone java program.</p>\n"},{"tags":["java","android","xml","database","sqlite"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686813869,"post_id":76480062,"comment_id":134851595,"body_markdown":"You could try running some insert statements on startup...","body":"You could try running some insert statements on startup..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686813877,"post_id":76480062,"comment_id":134851596,"body_markdown":"have you tried using that insertData method?","body":"have you tried using that insertData method?"}],"answers":[{"tags":[],"owner":{"account_id":11470295,"reputation":818,"user_id":8407336,"display_name":"LethalMaus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686814287,"creation_date":1686814287,"answer_id":76480115,"question_id":76480062,"body_markdown":"Its not possible to insert data before the app is installed because the DB is based off the app context and its data is stored in its own local folder named after the app package. \r\n\r\nIdeally you would want to insert the data on startup and have some way or noting that the data is installed such as checking if the DB is empty or saving it to shared preferences.\r\n\r\nI would also recommend doing the insert operation during a splash screen if it is a lot of data and once its done you can load to UI to visualize the data.","title":"How do I enter data into this database?","body":"<p>Its not possible to insert data before the app is installed because the DB is based off the app context and its data is stored in its own local folder named after the app package.</p>\n<p>Ideally you would want to insert the data on startup and have some way or noting that the data is installed such as checking if the DB is empty or saving it to shared preferences.</p>\n<p>I would also recommend doing the insert operation during a splash screen if it is a lot of data and once its done you can load to UI to visualize the data.</p>\n"},{"tags":[],"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687172054,"creation_date":1686818141,"answer_id":76480623,"question_id":76480062,"body_markdown":"It is possible to embed a pre-populated database and install it at first launch.\r\n\r\nYou just need to create your db file, containing the data you want to embed, and store it in the asset folder.\r\n\r\nFor example, using Room, you have to override the `RoomDatabase` object to create the DB from your file\r\n\r\n```\r\n@Database(entities = {Object.class, Thing.class}, version = 1)\r\npublic abstract class AppDatabase extends RoomDatabase {\r\n\r\n    private static final String DB_NAME = &quot;database.db&quot;;\r\n    private static volatile AppDatabase INSTANCE;\r\n\r\n    public static AppDatabase getDatabase(final Context context) {\r\n        if (INSTANCE == null) {\r\n            synchronized (AppDatabase.class) {\r\n                if (INSTANCE == null) {\r\n                    INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\r\n                                    AppDatabase.class, DB_NAME)\r\n                            .createFromAsset(&quot;prepopulated.db&quot;)\r\n                            .allowMainThreadQueries()\r\n                            .fallbackToDestructiveMigrationOnDowngrade()\r\n                            .build();\r\n                }\r\n            }\r\n        }\r\n        return INSTANCE;\r\n    }\r\n}\r\n```","title":"How do I enter data into this database?","body":"<p>It is possible to embed a pre-populated database and install it at first launch.</p>\n<p>You just need to create your db file, containing the data you want to embed, and store it in the asset folder.</p>\n<p>For example, using Room, you have to override the <code>RoomDatabase</code> object to create the DB from your file</p>\n<pre><code>@Database(entities = {Object.class, Thing.class}, version = 1)\npublic abstract class AppDatabase extends RoomDatabase {\n\n    private static final String DB_NAME = &quot;database.db&quot;;\n    private static volatile AppDatabase INSTANCE;\n\n    public static AppDatabase getDatabase(final Context context) {\n        if (INSTANCE == null) {\n            synchronized (AppDatabase.class) {\n                if (INSTANCE == null) {\n                    INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\n                                    AppDatabase.class, DB_NAME)\n                            .createFromAsset(&quot;prepopulated.db&quot;)\n                            .allowMainThreadQueries()\n                            .fallbackToDestructiveMigrationOnDowngrade()\n                            .build();\n                }\n            }\n        }\n        return INSTANCE;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28817693,"reputation":1,"user_id":22070936,"display_name":"koskaki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1687172054,"creation_date":1686813832,"question_id":76480062,"body_markdown":"This is an empty database for CRUD Android apps with Java, I want to enter the initial data in this SQLite without having to install the app first, so if they install the app then there will be initial data visible. How do I enter the initial data in this database?\r\n\r\n\r\n```\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\n\r\npublic class DataHelper extends SQLiteOpenHelper {\r\n\r\n    public static final String DB_NAME = &quot;contacts.db&quot;;\r\n    public static final String TABLE_NAME = &quot;CONTACTS&quot;;\r\n    public static final int DB_VERSION = 3;\r\n    public static final String COLUMN_1 = &quot;ID&quot;;\r\n    public static final String COLUMN_2 = &quot;NMPENYAKIT&quot;;\r\n    public static final String COLUMN_3 = &quot;DESKRIPSI&quot;;\r\n    public static final String COLUMN_4 = &quot;GEJALA&quot;;\r\n    public static final String COLUMN_5 = &quot;SOLUSI&quot;;\r\n    public static final String COLUMN_6 = &quot;IMAGE&quot;;\r\n    public static final String QUERY_CREATE = &quot;CREATE TABLE &quot;+TABLE_NAME+&quot; (&quot;\r\n            +COLUMN_1+&quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\r\n            +COLUMN_2+&quot; TEXT, &quot;\r\n            +COLUMN_3+&quot; TEXT, &quot;\r\n            +COLUMN_4+&quot; TEXT, &quot;\r\n            +COLUMN_5+&quot; TEXT, &quot;\r\n            +COLUMN_6+&quot; TEXT)&quot;;\r\n    public DataHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {\r\n        super(context, DB_NAME, null, DB_VERSION);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(QUERY_CREATE);\r\n        }\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot;+TABLE_NAME);\r\n        onCreate(db);\r\n    }\r\n    public void insertData(ContentValues values){\r\n        getWritableDatabase().insert(TABLE_NAME, null, values);\r\n    }\r\n}\r\n```","title":"How do I enter data into this database?","body":"<p>This is an empty database for CRUD Android apps with Java, I want to enter the initial data in this SQLite without having to install the app first, so if they install the app then there will be initial data visible. How do I enter the initial data in this database?</p>\n<pre><code>import android.content.ContentValues;\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DataHelper extends SQLiteOpenHelper {\n\n    public static final String DB_NAME = &quot;contacts.db&quot;;\n    public static final String TABLE_NAME = &quot;CONTACTS&quot;;\n    public static final int DB_VERSION = 3;\n    public static final String COLUMN_1 = &quot;ID&quot;;\n    public static final String COLUMN_2 = &quot;NMPENYAKIT&quot;;\n    public static final String COLUMN_3 = &quot;DESKRIPSI&quot;;\n    public static final String COLUMN_4 = &quot;GEJALA&quot;;\n    public static final String COLUMN_5 = &quot;SOLUSI&quot;;\n    public static final String COLUMN_6 = &quot;IMAGE&quot;;\n    public static final String QUERY_CREATE = &quot;CREATE TABLE &quot;+TABLE_NAME+&quot; (&quot;\n            +COLUMN_1+&quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\n            +COLUMN_2+&quot; TEXT, &quot;\n            +COLUMN_3+&quot; TEXT, &quot;\n            +COLUMN_4+&quot; TEXT, &quot;\n            +COLUMN_5+&quot; TEXT, &quot;\n            +COLUMN_6+&quot; TEXT)&quot;;\n    public DataHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {\n        super(context, DB_NAME, null, DB_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(QUERY_CREATE);\n        }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot;+TABLE_NAME);\n        onCreate(db);\n    }\n    public void insertData(ContentValues values){\n        getWritableDatabase().insert(TABLE_NAME, null, values);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webclient","spring-reactive"],"answers":[{"tags":[],"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595485226,"creation_date":1595404267,"answer_id":63029356,"question_id":63029123,"body_markdown":"**Update:**\r\n\r\nLooks like the &quot;user-info-authentication-method&quot; (`userInfoAuthenticationMethod`)  is **part of the `Provider` and not the `Registration`**. And please remove the double quotes too.\r\n\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          providerid:\r\n            authorization-grant-type: client_credentials\r\n            client-id: myClientId\r\n            client-secret: mySecret\r\n        provider:\r\n          providerid:\r\n            token-uri: &lt;working token-uri&gt;\r\n            user-info-authentication-method: header\r\n```\r\n\r\nAlso a suggestion -  to avoid possible conflicting/ incompatible dependencies, please use `dependency management` like this and try to have all spring boot starters. eg the spring security library comes as part of both `spring-boot-starter-oauth2-client` and `spring-boot-starter-oauth2-resource-server`:\r\n\r\n```\r\n\t&lt;dependencyManagement&gt;\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\n----\r\nJust these 2 dependencies should do the work: (these are picked from Gradle file, please change them to POM equivalent)\r\n\r\n```\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n```\r\n\r\nFor tests, probably you may need this:\r\n```\r\ntestImplementation &#39;org.springframework.security:spring-security-test:5.3.3.RELEASE&#39;\r\n```\r\n\r\nYou **should not mix** the two together:\r\n```\r\n@EnableWebSecurity\r\n@EnableWebFluxSecurity\r\n```\r\nIf your application is reactive, then just use `@EnableWebFluxSecurity`.\r\n\r\nAnd coming to `@EnableGlobalMethodSecurity(securedEnabled = true)` , this is described [here][1], and **is recommended to remove that and use this instead**:\r\n\r\n```\r\n@EnableReactiveMethodSecurity\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/5103","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p><strong>Update:</strong></p>\n<p>Looks like the &quot;user-info-authentication-method&quot; (<code>userInfoAuthenticationMethod</code>)  is <strong>part of the <code>Provider</code> and not the <code>Registration</code></strong>. And please remove the double quotes too.</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          providerid:\n            authorization-grant-type: client_credentials\n            client-id: myClientId\n            client-secret: mySecret\n        provider:\n          providerid:\n            token-uri: &lt;working token-uri&gt;\n            user-info-authentication-method: header\n</code></pre>\n<p>Also a suggestion -  to avoid possible conflicting/ incompatible dependencies, please use <code>dependency management</code> like this and try to have all spring boot starters. eg the spring security library comes as part of both <code>spring-boot-starter-oauth2-client</code> and <code>spring-boot-starter-oauth2-resource-server</code>:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n     &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<hr />\n<p>Just these 2 dependencies should do the work: (these are picked from Gradle file, please change them to POM equivalent)</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-webflux'\nimplementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n</code></pre>\n<p>For tests, probably you may need this:</p>\n<pre><code>testImplementation 'org.springframework.security:spring-security-test:5.3.3.RELEASE'\n</code></pre>\n<p>You <strong>should not mix</strong> the two together:</p>\n<pre><code>@EnableWebSecurity\n@EnableWebFluxSecurity\n</code></pre>\n<p>If your application is reactive, then just use <code>@EnableWebFluxSecurity</code>.</p>\n<p>And coming to <code>@EnableGlobalMethodSecurity(securedEnabled = true)</code> , this is described <a href=\"https://github.com/spring-projects/spring-security/issues/5103\" rel=\"nofollow noreferrer\">here</a>, and <strong>is recommended to remove that and use this instead</strong>:</p>\n<pre><code>@EnableReactiveMethodSecurity\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19132793,"reputation":193,"user_id":13974329,"display_name":"marco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597733237,"creation_date":1597733237,"answer_id":63463209,"question_id":63029123,"body_markdown":"I&#39;m still not happy about my solution, but I ended up doing the following:\r\n```\r\n    @Bean\r\n    public ReactiveClientRegistrationRepository reactiveClientRegistrationRepository(OAuth2ClientProperties oAuth2ClientProperties) {\r\n        List&lt;ClientRegistration&gt; clientRegistrations = new ArrayList&lt;&gt;();\r\n\r\n        // because autoconfigure does not work for an unknown reason, here the ClientRegistrations are manually configured based on the application.yml\r\n        oAuth2ClientProperties.getRegistration()\r\n                .forEach((k, v) -&gt; {\r\n                    String tokenUri = oAuth2ClientProperties.getProvider().get(k).getTokenUri();\r\n                    ClientRegistration clientRegistration = ClientRegistration\r\n                            .withRegistrationId(k)\r\n                            .tokenUri(tokenUri)\r\n                            .clientId(v.getClientId())\r\n                            .clientSecret(v.getClientSecret())\r\n                            .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                            .build();\r\n                    clientRegistrations.add(clientRegistration);\r\n                });\r\n\r\n        return new InMemoryReactiveClientRegistrationRepository(clientRegistrations);\r\n    }\r\n```\r\n\r\nI use the spring-properties for OAuth and then create the `ReactiveClientRegistrationRepository` based on those properties.","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p>I'm still not happy about my solution, but I ended up doing the following:</p>\n<pre><code>    @Bean\n    public ReactiveClientRegistrationRepository reactiveClientRegistrationRepository(OAuth2ClientProperties oAuth2ClientProperties) {\n        List&lt;ClientRegistration&gt; clientRegistrations = new ArrayList&lt;&gt;();\n\n        // because autoconfigure does not work for an unknown reason, here the ClientRegistrations are manually configured based on the application.yml\n        oAuth2ClientProperties.getRegistration()\n                .forEach((k, v) -&gt; {\n                    String tokenUri = oAuth2ClientProperties.getProvider().get(k).getTokenUri();\n                    ClientRegistration clientRegistration = ClientRegistration\n                            .withRegistrationId(k)\n                            .tokenUri(tokenUri)\n                            .clientId(v.getClientId())\n                            .clientSecret(v.getClientSecret())\n                            .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                            .build();\n                    clientRegistrations.add(clientRegistration);\n                });\n\n        return new InMemoryReactiveClientRegistrationRepository(clientRegistrations);\n    }\n</code></pre>\n<p>I use the spring-properties for OAuth and then create the <code>ReactiveClientRegistrationRepository</code> based on those properties.</p>\n"},{"tags":[],"owner":{"account_id":19816326,"reputation":1,"user_id":14513935,"display_name":"edwil13x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603663385,"creation_date":1603663385,"answer_id":64529306,"question_id":63029123,"body_markdown":"it&#39;s difficult to provide relevant answer without a **stacktrace**.\r\n\r\nSeem that Spring boot cant create `ReactiveClientRegistrationRepository` from your properties file.\r\n\r\nTry to add a provider property on your client.\r\n \r\n    oauth2:\r\n      client:\r\n        registration:\r\n          registrationId:\r\n            provider: providerId\r\n            client-id: clientId\r\n            client-secret: secret\r\n            authorization-grant-type: client_credentials\r\n\r\n\r\n","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p>it's difficult to provide relevant answer without a <strong>stacktrace</strong>.</p>\n<p>Seem that Spring boot cant create <code>ReactiveClientRegistrationRepository</code> from your properties file.</p>\n<p>Try to add a provider property on your client.</p>\n<pre><code>oauth2:\n  client:\n    registration:\n      registrationId:\n        provider: providerId\n        client-id: clientId\n        client-secret: secret\n        authorization-grant-type: client_credentials\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5072323,"reputation":643,"user_id":4070769,"accept_rate":88,"display_name":"Jelle van Es"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1609858028,"creation_date":1609858028,"answer_id":65581128,"question_id":63029123,"body_markdown":"I ran into the same problem and noticed that the application created a `ClientRegistrationRepository` instead of a `ReactiveClientRegistrationRepository`. Somewhere in Spring boot the `@EnableWebSecurity` was added (we need the `@EnableWebFluxSecurity` in this case). \r\n\r\nTo fix the problem I&#39;ve added the following property:\r\n\r\n`spring.main.web-application-type: reactive`\r\n\r\nIf you&#39;re also using `@SpringBootTest` to test your application you also need to add the property there.\r\n\r\n```\r\n@SpringBootTest(properties = [&quot;spring.main.web-application-type=reactive]&quot;)\r\n```\r\n\r\nor by setting the web environment to `NONE`\r\n\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n```\r\n\r\nThe reason why this happens is also explained in this answer: https://stackoverflow.com/questions/62558552/error-when-using-enablewebfluxsecurity-in-springboot","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p>I ran into the same problem and noticed that the application created a <code>ClientRegistrationRepository</code> instead of a <code>ReactiveClientRegistrationRepository</code>. Somewhere in Spring boot the <code>@EnableWebSecurity</code> was added (we need the <code>@EnableWebFluxSecurity</code> in this case).</p>\n<p>To fix the problem I've added the following property:</p>\n<p><code>spring.main.web-application-type: reactive</code></p>\n<p>If you're also using <code>@SpringBootTest</code> to test your application you also need to add the property there.</p>\n<pre><code>@SpringBootTest(properties = [&quot;spring.main.web-application-type=reactive]&quot;)\n</code></pre>\n<p>or by setting the web environment to <code>NONE</code></p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\n</code></pre>\n<p>The reason why this happens is also explained in this answer: <a href=\"https://stackoverflow.com/questions/62558552/error-when-using-enablewebfluxsecurity-in-springboot\">Error when using @EnableWebFluxSecurity in springboot</a></p>\n"},{"tags":[],"owner":{"account_id":1968038,"reputation":317,"user_id":1767739,"display_name":"Oleg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631252461,"creation_date":1631100481,"answer_id":69102180,"question_id":63029123,"body_markdown":"Works this way:\r\n\r\n    @Bean\r\n    public WebClient webClient(ClientRegistrationRepository clientRegistrationRepository) {\r\n        InMemoryReactiveClientRegistrationRepository registrationRepository = new InMemoryReactiveClientRegistrationRepository(clientRegistrationRepository.findByRegistrationId(&quot;REG_ID&quot;));\r\n        InMemoryReactiveOAuth2AuthorizedClientService clientService = new InMemoryReactiveOAuth2AuthorizedClientService(registrationRepository);\r\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager clientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(registrationRepository, clientService);\r\n\r\n        return WebClient.builder()\r\n                .baseUrl(BASEURL)\r\n                .filter(new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientManager))\r\n                .build();\r\n    }\r\n\r\n\r\nProperties:\r\n\r\n    spring.security.oauth2.client.registration.REG_ID.client-id=CLIENT_ID\r\n    spring.security.oauth2.client.registration.REG_ID.client-name=CLIENT_NAME\r\n    spring.security.oauth2.client.registration.REG_ID.client-secret=SECRET\r\n    spring.security.oauth2.client.registration.REG_ID.authorization-grant-type=client_credentials\r\n    spring.security.oauth2.client.registration.REG_ID.scope=SCOPE\r\n    spring.security.oauth2.client.provider.REG_ID.issuer-uri=PATH_TO_.well-known/openid-configuration_SITE\r\n\r\n\r\n**EDIT:**\r\n\r\nAdd the following before the *return* statement:\r\n\r\n    ServerOAuth2AuthorizedClientExchangeFilterFunction clientExchangeFilterFunction = new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientManager);\r\n        clientExchangeFilterFunction.setDefaultClientRegistrationId(&quot;REG_ID&quot;);\r\n\r\nAnd replace *filter* in the *return* statement with:\r\n\r\n    .filter(clientExchangeFilterFunction)","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p>Works this way:</p>\n<pre><code>@Bean\npublic WebClient webClient(ClientRegistrationRepository clientRegistrationRepository) {\n    InMemoryReactiveClientRegistrationRepository registrationRepository = new InMemoryReactiveClientRegistrationRepository(clientRegistrationRepository.findByRegistrationId(&quot;REG_ID&quot;));\n    InMemoryReactiveOAuth2AuthorizedClientService clientService = new InMemoryReactiveOAuth2AuthorizedClientService(registrationRepository);\n    AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager clientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(registrationRepository, clientService);\n\n    return WebClient.builder()\n            .baseUrl(BASEURL)\n            .filter(new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientManager))\n            .build();\n}\n</code></pre>\n<p>Properties:</p>\n<pre><code>spring.security.oauth2.client.registration.REG_ID.client-id=CLIENT_ID\nspring.security.oauth2.client.registration.REG_ID.client-name=CLIENT_NAME\nspring.security.oauth2.client.registration.REG_ID.client-secret=SECRET\nspring.security.oauth2.client.registration.REG_ID.authorization-grant-type=client_credentials\nspring.security.oauth2.client.registration.REG_ID.scope=SCOPE\nspring.security.oauth2.client.provider.REG_ID.issuer-uri=PATH_TO_.well-known/openid-configuration_SITE\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>Add the following before the <em>return</em> statement:</p>\n<pre><code>ServerOAuth2AuthorizedClientExchangeFilterFunction clientExchangeFilterFunction = new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientManager);\n    clientExchangeFilterFunction.setDefaultClientRegistrationId(&quot;REG_ID&quot;);\n</code></pre>\n<p>And replace <em>filter</em> in the <em>return</em> statement with:</p>\n<pre><code>.filter(clientExchangeFilterFunction)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14898237,"reputation":1,"user_id":10757824,"display_name":"Mukesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650434785,"creation_date":1650434785,"answer_id":71934851,"question_id":63029123,"body_markdown":"ReactiveClientRepositoryRegistration Bean needs to be defined explicitly. You can refer to the spring documentation \r\nhttps://docs.spring.io/spring-security/reference/reactive/oauth2/login/core.html#webflux-oauth2-login-register-reactiveclientregistrationrepository-bean\r\n","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p>ReactiveClientRepositoryRegistration Bean needs to be defined explicitly. You can refer to the spring documentation\n<a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/login/core.html#webflux-oauth2-login-register-reactiveclientregistrationrepository-bean\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/reactive/oauth2/login/core.html#webflux-oauth2-login-register-reactiveclientregistrationrepository-bean</a></p>\n"},{"tags":[],"owner":{"account_id":10558558,"reputation":1079,"user_id":7778972,"display_name":"Rahul Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652383141,"creation_date":1652359252,"answer_id":72215764,"question_id":63029123,"body_markdown":"I solved this by writing this code\r\n\r\n    @Bean(&quot;oauthWebClient&quot;)\r\n      WebClient webClient(ClientRegistrationRepository clientRegistrations) {\r\n        InMemoryReactiveClientRegistrationRepository registrationRepository = new InMemoryReactiveClientRegistrationRepository(\r\n            clientRegistrations.findByRegistrationId(&quot;reg-id&quot;));\r\n    \r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n            new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n                registrationRepository,\r\n                new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\r\n        oauth.setDefaultClientRegistrationId(&quot;reg-id&quot;);\r\n        return WebClient.builder()\r\n            .filter(oauth)\r\n            .build();\r\n      }","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p>I solved this by writing this code</p>\n<pre><code>@Bean(&quot;oauthWebClient&quot;)\n  WebClient webClient(ClientRegistrationRepository clientRegistrations) {\n    InMemoryReactiveClientRegistrationRepository registrationRepository = new InMemoryReactiveClientRegistrationRepository(\n        clientRegistrations.findByRegistrationId(&quot;reg-id&quot;));\n\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n        new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n            registrationRepository,\n            new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\n    oauth.setDefaultClientRegistrationId(&quot;reg-id&quot;);\n    return WebClient.builder()\n        .filter(oauth)\n        .build();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13964222,"reputation":627,"user_id":10084505,"display_name":"Walnussb&#228;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687171708,"creation_date":1687171708,"answer_id":76505897,"question_id":63029123,"body_markdown":"In my case, I wanted to use the WebClient in a Spring Boot Servlet Stack, whereas the WebClient shall use Client Credentials to be able to access protected resources at external services. https://docs.spring.io/spring-security/site/docs/5.1.1.RELEASE/reference/html/servlet-webclient.html helped me to configure the web client to work in a servlet stack correctly :) ","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p>In my case, I wanted to use the WebClient in a Spring Boot Servlet Stack, whereas the WebClient shall use Client Credentials to be able to access protected resources at external services. <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.1.RELEASE/reference/html/servlet-webclient.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.1.1.RELEASE/reference/html/servlet-webclient.html</a> helped me to configure the web client to work in a servlet stack correctly :)</p>\n"}],"owner":{"account_id":19132793,"reputation":193,"user_id":13974329,"display_name":"marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18490,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":65581128,"answer_count":8,"score":10,"last_activity_date":1687171708,"creation_date":1595403410,"question_id":63029123,"body_markdown":"Environment: **Spring Boot 2.3.1, Java 11**\r\n\r\nI have tried out a few things already (also comparing with the sample-app by spring), but so far I have been unsuccessful in creating a `WebClient` that requires a `ReactiveClientRegistrationRepository`.\r\n\r\nI get the following exception when starting up my spring-boot application:\r\n\r\n```\r\nrequired a bean of type &#39;org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository&#39;\r\n```\r\n\r\nThe way I understand spring-boot-autoconfigure it should use the `ReactiveOAuth2ClientAutoConfiguration`, as in the yml-file the required properties are given.\r\n\r\nFollowing some code-snippets, I can provide more if something is missing to get the whole context\r\n\r\nMain-Class\r\n```\r\n@Slf4j\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(MyAppConfigurationProperties.class)\r\npublic class MyApp{\r\n\r\n    public static void main(final String[] args) {\r\n        SpringApplication.run(MyApp.class, args);\r\n    }\r\n}\r\n```\r\n\r\nConfiguration:\r\n```\r\n@Configuration\r\n//@Import(ReactiveOAuth2ClientAutoConfiguration.class) // in the test it works with this, but should not be required: spring-boot-autoconfigure\r\npublic class MyRestClientConfig {\r\n\r\n  @Bean\r\n    WebClient myWebClient(WebClient.Builder builder, ReactiveClientRegistrationRepository clientRegistrations) {\r\n//content not relevant to this problem\r\n}\r\n}\r\n```\r\nConfiguration for security\r\n```\r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\n@EnableWebSecurity\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfig {\r\n}\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          providerid:\r\n            authorization-grant-type: &quot;client_credentials&quot;\r\n            client-id: &quot;myClientId&quot;\r\n            client-secret: &quot;mySecret&quot;\r\n            user-info-authentication-method: header\r\n        provider:\r\n          providerid:\r\n            token-uri: &quot;working token-uri&quot;\r\n```\r\n\r\nI tried with different dependencies, so some may not be required. Which dependencies are actually required?\r\n\r\npom.xml\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;!--        &lt;dependency&gt;--&gt;\r\n        &lt;!--            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;--&gt;\r\n        &lt;!--            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;--&gt;\r\n        &lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-security-oauth2-core&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n```\r\n\r\nIn an integration-test the Spring-Boot-Application starts up\r\n```@RestClientTest\r\n@EnableConfigurationProperties\r\n@Import(ReactiveOAuth2ClientAutoConfiguration.class)  // in the test it works with this, but should not be required: spring-boot-autoconfigure, can be omitted if added in MyRestClientConfig\r\n@ComponentScan(basePackages = &quot;com.mycompany&quot;)\r\npublic class ManualClientTester {\r\n}\r\n```\r\n\r\n**EDIT 1:**\r\nDebug of Positive Matches for Autoconfiguration\r\n\r\nIn test where it works:\r\n```\r\n============================\r\nCONDITIONS EVALUATION REPORT\r\n============================\r\n\r\n\r\nPositive matches:\r\n-----------------\r\n   ReactiveOAuth2ClientAutoConfiguration matched:\r\n      - @ConditionalOnClass found required classes &#39;reactor.core.publisher.Flux&#39;, &#39;org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity&#39;, &#39;org.springframework.security.oauth2.client.registration.ClientRegistration&#39; (OnClassCondition)\r\n      - NoneNestedConditions 0 matched 1 did not; NestedCondition on ReactiveOAuth2ClientAutoConfiguration.NonServletApplicationCondition.ServletApplicationCondition not a servlet web application (ReactiveOAuth2ClientAutoConfiguration.NonServletApplicationCondition)\r\n\r\n   ReactiveOAuth2ClientConfigurations.ReactiveClientRegistrationRepositoryConfiguration matched:\r\n      - OAuth2 Clients Configured Condition found registered clients myClientId (ClientsConfiguredCondition)\r\n      - @ConditionalOnMissingBean (types: org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n\r\n   ReactiveOAuth2ClientConfigurations.ReactiveOAuth2ClientConfiguration matched:\r\n      - @ConditionalOnBean (types: org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository; SearchStrategy: all) found bean &#39;clientRegistrationRepository&#39; (OnBeanCondition)\r\n\r\n   ReactiveOAuth2ClientConfigurations.ReactiveOAuth2ClientConfiguration#authorizedClientRepository matched:\r\n      - @ConditionalOnMissingBean (types: org.springframework.security.oauth2.client.web.server.ServerOAuth2AuthorizedClientRepository; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n\r\n   ReactiveOAuth2ClientConfigurations.ReactiveOAuth2ClientConfiguration#authorizedClientService matched:\r\n      - @ConditionalOnMissingBean (types: org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientService; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n```\r\nWhen starting my spring boot application:\r\n```\r\n============================\r\nCONDITIONS EVALUATION REPORT\r\n============================\r\n\r\nNegative matches:\r\n-----------------\r\n\r\n   ReactiveOAuth2ClientAutoConfiguration:\r\n      Did not match:\r\n         - NoneNestedConditions 1 matched 0 did not; NestedCondition on ReactiveOAuth2ClientAutoConfiguration.NonServletApplicationCondition.ServletApplicationCondition found &#39;session&#39; scope (ReactiveOAuth2ClientAutoConfiguration.NonServletApplicationCondition)\r\n      Matched:\r\n         - @ConditionalOnClass found required classes &#39;reactor.core.publisher.Flux&#39;, &#39;org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity&#39;, &#39;org.springframework.security.oauth2.client.registration.ClientRegistration&#39; (OnClassCondition)\r\n\r\n```\r\n\r\n**EDIT 2:**\r\nAfter changing as suggested, I have now the following:\r\n```\r\n@EnableReactiveMethodSecurity\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfig {\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nFurthermore all used versions of spring-projects:\r\n```\r\n    &lt;spring-amqp.version&gt;2.2.7.RELEASE&lt;/spring-amqp.version&gt;\r\n    &lt;spring-batch.version&gt;4.2.4.RELEASE&lt;/spring-batch.version&gt;\r\n    &lt;spring-boot.version&gt;2.3.1.RELEASE&lt;/spring-boot.version&gt;\r\n    &lt;spring-data-releasetrain.version&gt;Neumann-SR1&lt;/spring-data-releasetrain.version&gt;\r\n    &lt;spring-framework.version&gt;5.2.7.RELEASE&lt;/spring-framework.version&gt;\r\n    &lt;spring-hateoas.version&gt;1.1.0.RELEASE&lt;/spring-hateoas.version&gt;\r\n    &lt;spring-integration.version&gt;5.3.1.RELEASE&lt;/spring-integration.version&gt;\r\n    &lt;spring-kafka.version&gt;2.5.2.RELEASE&lt;/spring-kafka.version&gt;\r\n    &lt;spring-ldap.version&gt;2.3.3.RELEASE&lt;/spring-ldap.version&gt;\r\n    &lt;spring-restdocs.version&gt;2.0.4.RELEASE&lt;/spring-restdocs.version&gt;\r\n    &lt;spring-retry.version&gt;1.2.5.RELEASE&lt;/spring-retry.version&gt;\r\n    &lt;spring-security.version&gt;5.3.3.RELEASE&lt;/spring-security.version&gt;\r\n    &lt;spring-session-bom.version&gt;Dragonfruit-RELEASE&lt;/spring-session-bom.version&gt;\r\n    &lt;spring-ws.version&gt;3.0.9.RELEASE&lt;/spring-ws.version&gt;\r\n    &lt;spring.boot.version&gt;2.3.1.RELEASE&lt;/spring.boot.version&gt;\r\n    &lt;spring.cloud.version&gt;Hoxton.SR5&lt;/spring.cloud.version&gt;\r\n```\r\n\r\nThe problem still exists.","title":"spring-boot ReactiveClientRegistrationRepository not found","body":"<p>Environment: <strong>Spring Boot 2.3.1, Java 11</strong></p>\n<p>I have tried out a few things already (also comparing with the sample-app by spring), but so far I have been unsuccessful in creating a <code>WebClient</code> that requires a <code>ReactiveClientRegistrationRepository</code>.</p>\n<p>I get the following exception when starting up my spring-boot application:</p>\n<pre><code>required a bean of type 'org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository'\n</code></pre>\n<p>The way I understand spring-boot-autoconfigure it should use the <code>ReactiveOAuth2ClientAutoConfiguration</code>, as in the yml-file the required properties are given.</p>\n<p>Following some code-snippets, I can provide more if something is missing to get the whole context</p>\n<p>Main-Class</p>\n<pre><code>@Slf4j\n@SpringBootApplication\n@EnableConfigurationProperties(MyAppConfigurationProperties.class)\npublic class MyApp{\n\n    public static void main(final String[] args) {\n        SpringApplication.run(MyApp.class, args);\n    }\n}\n</code></pre>\n<p>Configuration:</p>\n<pre><code>@Configuration\n//@Import(ReactiveOAuth2ClientAutoConfiguration.class) // in the test it works with this, but should not be required: spring-boot-autoconfigure\npublic class MyRestClientConfig {\n\n  @Bean\n    WebClient myWebClient(WebClient.Builder builder, ReactiveClientRegistrationRepository clientRegistrations) {\n//content not relevant to this problem\n}\n}\n</code></pre>\n<p>Configuration for security</p>\n<pre><code>@EnableGlobalMethodSecurity(securedEnabled = true)\n@EnableWebSecurity\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          providerid:\n            authorization-grant-type: &quot;client_credentials&quot;\n            client-id: &quot;myClientId&quot;\n            client-secret: &quot;mySecret&quot;\n            user-info-authentication-method: header\n        provider:\n          providerid:\n            token-uri: &quot;working token-uri&quot;\n</code></pre>\n<p>I tried with different dependencies, so some may not be required. Which dependencies are actually required?</p>\n<p>pom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;!--        &lt;dependency&gt;--&gt;\n        &lt;!--            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;--&gt;\n        &lt;!--            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;--&gt;\n        &lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-security-oauth2-core&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n</code></pre>\n<p>In an integration-test the Spring-Boot-Application starts up</p>\n<pre><code>@EnableConfigurationProperties\n@Import(ReactiveOAuth2ClientAutoConfiguration.class)  // in the test it works with this, but should not be required: spring-boot-autoconfigure, can be omitted if added in MyRestClientConfig\n@ComponentScan(basePackages = &quot;com.mycompany&quot;)\npublic class ManualClientTester {\n}\n</code></pre>\n<p><strong>EDIT 1:</strong>\nDebug of Positive Matches for Autoconfiguration</p>\n<p>In test where it works:</p>\n<pre><code>============================\nCONDITIONS EVALUATION REPORT\n============================\n\n\nPositive matches:\n-----------------\n   ReactiveOAuth2ClientAutoConfiguration matched:\n      - @ConditionalOnClass found required classes 'reactor.core.publisher.Flux', 'org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity', 'org.springframework.security.oauth2.client.registration.ClientRegistration' (OnClassCondition)\n      - NoneNestedConditions 0 matched 1 did not; NestedCondition on ReactiveOAuth2ClientAutoConfiguration.NonServletApplicationCondition.ServletApplicationCondition not a servlet web application (ReactiveOAuth2ClientAutoConfiguration.NonServletApplicationCondition)\n\n   ReactiveOAuth2ClientConfigurations.ReactiveClientRegistrationRepositoryConfiguration matched:\n      - OAuth2 Clients Configured Condition found registered clients myClientId (ClientsConfiguredCondition)\n      - @ConditionalOnMissingBean (types: org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   ReactiveOAuth2ClientConfigurations.ReactiveOAuth2ClientConfiguration matched:\n      - @ConditionalOnBean (types: org.springframework.security.oauth2.client.registration.ReactiveClientRegistrationRepository; SearchStrategy: all) found bean 'clientRegistrationRepository' (OnBeanCondition)\n\n   ReactiveOAuth2ClientConfigurations.ReactiveOAuth2ClientConfiguration#authorizedClientRepository matched:\n      - @ConditionalOnMissingBean (types: org.springframework.security.oauth2.client.web.server.ServerOAuth2AuthorizedClientRepository; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   ReactiveOAuth2ClientConfigurations.ReactiveOAuth2ClientConfiguration#authorizedClientService matched:\n      - @ConditionalOnMissingBean (types: org.springframework.security.oauth2.client.ReactiveOAuth2AuthorizedClientService; SearchStrategy: all) did not find any beans (OnBeanCondition)\n</code></pre>\n<p>When starting my spring boot application:</p>\n<pre><code>============================\nCONDITIONS EVALUATION REPORT\n============================\n\nNegative matches:\n-----------------\n\n   ReactiveOAuth2ClientAutoConfiguration:\n      Did not match:\n         - NoneNestedConditions 1 matched 0 did not; NestedCondition on ReactiveOAuth2ClientAutoConfiguration.NonServletApplicationCondition.ServletApplicationCondition found 'session' scope (ReactiveOAuth2ClientAutoConfiguration.NonServletApplicationCondition)\n      Matched:\n         - @ConditionalOnClass found required classes 'reactor.core.publisher.Flux', 'org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity', 'org.springframework.security.oauth2.client.registration.ClientRegistration' (OnClassCondition)\n\n</code></pre>\n<p><strong>EDIT 2:</strong>\nAfter changing as suggested, I have now the following:</p>\n<pre><code>@EnableReactiveMethodSecurity\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Furthermore all used versions of spring-projects:</p>\n<pre><code>    &lt;spring-amqp.version&gt;2.2.7.RELEASE&lt;/spring-amqp.version&gt;\n    &lt;spring-batch.version&gt;4.2.4.RELEASE&lt;/spring-batch.version&gt;\n    &lt;spring-boot.version&gt;2.3.1.RELEASE&lt;/spring-boot.version&gt;\n    &lt;spring-data-releasetrain.version&gt;Neumann-SR1&lt;/spring-data-releasetrain.version&gt;\n    &lt;spring-framework.version&gt;5.2.7.RELEASE&lt;/spring-framework.version&gt;\n    &lt;spring-hateoas.version&gt;1.1.0.RELEASE&lt;/spring-hateoas.version&gt;\n    &lt;spring-integration.version&gt;5.3.1.RELEASE&lt;/spring-integration.version&gt;\n    &lt;spring-kafka.version&gt;2.5.2.RELEASE&lt;/spring-kafka.version&gt;\n    &lt;spring-ldap.version&gt;2.3.3.RELEASE&lt;/spring-ldap.version&gt;\n    &lt;spring-restdocs.version&gt;2.0.4.RELEASE&lt;/spring-restdocs.version&gt;\n    &lt;spring-retry.version&gt;1.2.5.RELEASE&lt;/spring-retry.version&gt;\n    &lt;spring-security.version&gt;5.3.3.RELEASE&lt;/spring-security.version&gt;\n    &lt;spring-session-bom.version&gt;Dragonfruit-RELEASE&lt;/spring-session-bom.version&gt;\n    &lt;spring-ws.version&gt;3.0.9.RELEASE&lt;/spring-ws.version&gt;\n    &lt;spring.boot.version&gt;2.3.1.RELEASE&lt;/spring.boot.version&gt;\n    &lt;spring.cloud.version&gt;Hoxton.SR5&lt;/spring.cloud.version&gt;\n</code></pre>\n<p>The problem still exists.</p>\n"},{"tags":["java","android","android-permissions","android-13"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1687171550,"post_id":76503982,"comment_id":134894889,"body_markdown":"`These permissions are not working for Andoird 13.` ?? Which permissions?","body":"<code>These permissions are not working for Andoird 13.</code> ?? Which permissions?"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687171403,"creation_date":1687171403,"answer_id":76505866,"question_id":76503982,"body_markdown":"Wrong question.\r\n\r\nPermissions to read non media files do not depend on file type or file extension.\r\n\r\nYour question does not make sense.","title":"If I want to read document files like .doc, .docx, .pdf files. Which permission will work for Android 13?","body":"<p>Wrong question.</p>\n<p>Permissions to read non media files do not depend on file type or file extension.</p>\n<p>Your question does not make sense.</p>\n"}],"owner":{"account_id":28848444,"reputation":41,"user_id":22094868,"display_name":"Faisal Asif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687171403,"creation_date":1687154664,"question_id":76503982,"body_markdown":"Permissions \r\n   &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\nThese permissions are not working for Andoird 13. I want to read document files like .doc, .docx, .pdf, .ppt etc all type of document files.\r\n\r\n    if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.MANAGE_EXTERNAL_STORAGE}, REQUEST_PERMISSION);\r\n        }\r\n    } else {\r\n        loadFiles();\r\n    }\r\n\r\nI have provided the problem and I expecting to fix the issue. Which permissions will work for Android 13?","title":"If I want to read document files like .doc, .docx, .pdf files. Which permission will work for Android 13?","body":"<p>Permissions\n\n</p>\n<p>These permissions are not working for Andoird 13. I want to read document files like .doc, .docx, .pdf, .ppt etc all type of document files.</p>\n<pre><code>if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.MANAGE_EXTERNAL_STORAGE}, REQUEST_PERMISSION);\n    }\n} else {\n    loadFiles();\n}\n</code></pre>\n<p>I have provided the problem and I expecting to fix the issue. Which permissions will work for Android 13?</p>\n"},{"tags":["java","android","timezone"],"comments":[{"owner":{"account_id":945181,"reputation":2059,"user_id":972551,"accept_rate":83,"display_name":"asha v"},"score":12,"creation_date":1317980721,"post_id":7672597,"comment_id":9342700,"body_markdown":"TimeZone tz = TimeZone.getDefault();\n\t\t\t\tString gmt1=TimeZone.getTimeZone(tz.getID()).getDisplayName(false,TimeZone.SHORT);\n\t\t\t\tString gmt2=TimeZone.getTimeZone(tz.getID()).getDisplayName(false,TimeZone.LONG);\n\t\t\t\tLog.d(&quot;Tag&quot;,&quot;TimeZone : &quot;+gmt1+&quot;\\t&quot;+gmt2);\n\t\t\t\tAnd this is the code","body":"TimeZone tz = TimeZone.getDefault(); \t\t\t\tString gmt1=TimeZone.getTimeZone(tz.getID()).getDisplayName(false,T&zwnj;&#8203;imeZone.SHORT); \t\t\t\tString gmt2=TimeZone.getTimeZone(tz.getID()).getDisplayName(false,T&zwnj;&#8203;imeZone.LONG); \t\t\t\tLog.d(&quot;Tag&quot;,&quot;TimeZone : &quot;+gmt1+&quot;\\t&quot;+gmt2); \t\t\t\tAnd this is the code"},{"owner":{"account_id":249342,"reputation":4555,"user_id":525319,"accept_rate":71,"display_name":"Yar"},"score":10,"creation_date":1338301667,"post_id":7672597,"comment_id":14052627,"body_markdown":"I wouldn&#39;t be so rough on asha v. I was just looking for the same thing and the answers I found were different than these ones. Actually searching by the exact &quot;TimeZone.getDefault&quot; led me here.","body":"I wouldn&#39;t be so rough on asha v. I was just looking for the same thing and the answers I found were different than these ones. Actually searching by the exact &quot;TimeZone.getDefault&quot; led me here."}],"answers":[{"tags":[],"owner":{"account_id":940849,"reputation":9220,"user_id":968951,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":238,"is_accepted":true,"score":238,"last_activity_date":1390936780,"creation_date":1317894390,"answer_id":7672633,"question_id":7672597,"body_markdown":"Have you tried to use `TimeZone.getDefault()`:\r\n\r\n&gt; Most applications will use **TimeZone.getDefault()** which returns a TimeZone based\r\n&gt; on the time zone where the program is running.\r\n\r\nRef:  http://developer.android.com/reference/java/util/TimeZone.html","title":"How to get TimeZone from android mobile?","body":"<p>Have you tried to use <code>TimeZone.getDefault()</code>:</p>\n\n<blockquote>\n  <p>Most applications will use <strong>TimeZone.getDefault()</strong> which returns a TimeZone based\n  on the time zone where the program is running.</p>\n</blockquote>\n\n<p>Ref:  <a href=\"http://developer.android.com/reference/java/util/TimeZone.html\" rel=\"noreferrer\">http://developer.android.com/reference/java/util/TimeZone.html</a></p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1660275079,"creation_date":1317894432,"answer_id":7672639,"question_id":7672597,"body_markdown":"Edit: corrected the case\r\n\r\n[`TimeZone.getDefault()`][1]\r\n\r\n\r\n  [1]:\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getDefault()","title":"How to get TimeZone from android mobile?","body":"<p>Edit: corrected the case</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getDefault()\" rel=\"nofollow noreferrer\"><code>TimeZone.getDefault()</code></a></p>\n"},{"tags":[],"owner":{"account_id":231589,"reputation":6295,"user_id":495906,"accept_rate":73,"display_name":"anujprashar"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1317894589,"creation_date":1317894589,"answer_id":7672676,"question_id":7672597,"body_markdown":"Try this code-\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    TimeZone tz = cal.getTimeZone();\r\n\r\nIt will return user selected timezone.","title":"How to get TimeZone from android mobile?","body":"<p>Try this code-</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\nTimeZone tz = cal.getTimeZone();\n</code></pre>\n\n<p>It will return user selected timezone.</p>\n"},{"tags":[],"owner":{"account_id":1556719,"reputation":5573,"user_id":1447595,"display_name":"Sher Ali"},"down_vote_count":1,"up_vote_count":159,"is_accepted":false,"score":158,"last_activity_date":1605291449,"creation_date":1339827952,"answer_id":11061352,"question_id":7672597,"body_markdown":"    TimeZone tz = TimeZone.getDefault();\r\n    System.out.println(&quot;TimeZone   &quot;+tz.getDisplayName(false, TimeZone.SHORT)+&quot; Timezone id :: &quot; +tz.getID());\r\n\r\nOutput:\r\n\r\n&gt; TimeZone   GMT+09:30   Timezone id :: Australia/Darwin\r\n\r\n","title":"How to get TimeZone from android mobile?","body":"<pre><code>TimeZone tz = TimeZone.getDefault();\nSystem.out.println(&quot;TimeZone   &quot;+tz.getDisplayName(false, TimeZone.SHORT)+&quot; Timezone id :: &quot; +tz.getID());\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>TimeZone   GMT+09:30   Timezone id :: Australia/Darwin</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408462626,"creation_date":1408462626,"answer_id":25387508,"question_id":7672597,"body_markdown":"According to http://developer.android.com/reference/android/text/format/Time.html you should be using Time.getCurrentTimezone() to retrieve the current timezone of the device.","title":"How to get TimeZone from android mobile?","body":"<p>According to <a href=\"http://developer.android.com/reference/android/text/format/Time.html\" rel=\"nofollow\">http://developer.android.com/reference/android/text/format/Time.html</a> you should be using Time.getCurrentTimezone() to retrieve the current timezone of the device.</p>\n"},{"tags":[],"owner":{"account_id":1450165,"reputation":4348,"user_id":1367344,"accept_rate":83,"display_name":"Adnan Abdollah Zaki"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1488876026,"creation_date":1488876026,"answer_id":42643680,"question_id":7672597,"body_markdown":"I needed the **offset** that not only included day light savings time but as a **numerial**. Here is the code that I used in case someone is looking for an example.\r\n\r\nI get a response of **&quot;3.5&quot; (3:30&#39;)** which is what I would expect in Tehran , Iran in winter and **&quot;4.5&quot; (4:30&#39;)** for summer .\r\n\r\nI also needed it as a string so I could post it to a server so you may not need the last line.\r\n\r\nfor getting currect time zone :\r\n\r\n    TimeZone tz = TimeZone.getDefault();\r\n    Date now = new Date();\r\n    //Import part : x.0 for double number\r\n    double offsetFromUtc = tz.getOffset(now.getTime()) / 3600000.0;\r\n    String m2tTimeZoneIs = Double.parseDouble(offsetFromUtc);","title":"How to get TimeZone from android mobile?","body":"<p>I needed the <strong>offset</strong> that not only included day light savings time but as a <strong>numerial</strong>. Here is the code that I used in case someone is looking for an example.</p>\n\n<p>I get a response of <strong>\"3.5\" (3:30')</strong> which is what I would expect in Tehran , Iran in winter and <strong>\"4.5\" (4:30')</strong> for summer .</p>\n\n<p>I also needed it as a string so I could post it to a server so you may not need the last line.</p>\n\n<p>for getting currect time zone :</p>\n\n<pre><code>TimeZone tz = TimeZone.getDefault();\nDate now = new Date();\n//Import part : x.0 for double number\ndouble offsetFromUtc = tz.getOffset(now.getTime()) / 3600000.0;\nString m2tTimeZoneIs = Double.parseDouble(offsetFromUtc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1367294,"reputation":1556,"user_id":1303477,"display_name":"Jaydeep purohit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505471862,"creation_date":1505471862,"answer_id":46237594,"question_id":7672597,"body_markdown":"Simplest Solution With Simple Date Format: \r\n**SimpleDateFormat(&quot;ZZZZZ&quot;):**\r\n\r\n \r\n\r\n     Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;),\r\n                    Locale.getDefault());\r\n            Date currentLocalTime = calendar.getTime();\r\n    \r\n            DateFormat date = new SimpleDateFormat(&quot;ZZZZZ&quot;,Locale.getDefault());\r\n            String localTime = date.format(currentLocalTime);\r\n            System.out.println(localTime+ &quot;  TimeZone   &quot; );\r\n\r\n\r\n==&gt; Output is : +05:30 ","title":"How to get TimeZone from android mobile?","body":"<p>Simplest Solution With Simple Date Format: \n<strong>SimpleDateFormat(\"ZZZZZ\"):</strong></p>\n\n<pre><code> Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"),\n                Locale.getDefault());\n        Date currentLocalTime = calendar.getTime();\n\n        DateFormat date = new SimpleDateFormat(\"ZZZZZ\",Locale.getDefault());\n        String localTime = date.format(currentLocalTime);\n        System.out.println(localTime+ \"  TimeZone   \" );\n</code></pre>\n\n<p>==> Output is : +05:30 </p>\n"},{"tags":[],"owner":{"account_id":5330428,"reputation":6832,"user_id":4251124,"accept_rate":100,"display_name":"Raja Jawahar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1564759259,"creation_date":1521204644,"answer_id":49321210,"question_id":7672597,"body_markdown":"    TimeZone timeZone = TimeZone.getDefault(); \r\n    timeZone.getID();\r\n\r\nIt will print like\r\n\r\n    Asia/Kolkata","title":"How to get TimeZone from android mobile?","body":"<pre><code>TimeZone timeZone = TimeZone.getDefault(); \ntimeZone.getID();\n</code></pre>\n\n<p>It will print like</p>\n\n<pre><code>Asia/Kolkata\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4813796,"reputation":3248,"user_id":3886459,"display_name":"Maciej Beimcik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539171042,"creation_date":1539000132,"answer_id":52701841,"question_id":7672597,"body_markdown":"For devices with API  26 and higher, you can get it like this:\r\n\r\n    ZonedDateTime.now().getZone().toString();","title":"How to get TimeZone from android mobile?","body":"<p>For devices with API  26 and higher, you can get it like this:</p>\n\n<pre><code>ZonedDateTime.now().getZone().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1550145,"reputation":3459,"user_id":1442734,"display_name":"Bipi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655496308,"creation_date":1571042328,"answer_id":58372963,"question_id":7672597,"body_markdown":"On my device, `TimeZone.getDefault()` is always returning the UTC time zone.\r\n\r\nI need to do this to get the user-configured time zone:\r\n\r\n```kotlin\r\nTimeZone.setDefault(null)\r\nval tz = TimeZone.getDefault()\r\n```\r\n\r\nIt will return the user-selected time zone.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get TimeZone from android mobile?","body":"<p>On my device, <code>TimeZone.getDefault()</code> is always returning the UTC time zone.</p>\n<p>I need to do this to get the user-configured time zone:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>TimeZone.setDefault(null)\nval tz = TimeZone.getDefault()\n</code></pre>\n<p>It will return the user-selected time zone.</p>\n"},{"tags":[],"owner":{"account_id":3823828,"reputation":665,"user_id":3171162,"display_name":"DummyData"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655496868,"creation_date":1575930188,"answer_id":59257532,"question_id":7672597,"body_markdown":"All the answers here seem to suggest setting the daylight parameter to **false**. This is incorrect for many time zones which change abbreviated names depending on the time of the year (e.g., [EST][1] vs. [EDT][1]).\r\n\r\nThe solution below will give you the correct abbreviation according to the current date for the time zone.\r\n\r\n    val tz = TimeZone.getDefault()\r\n    val isDaylight = tz.inDaylightTime(Date())\r\n    val timezone = tz.getDisplayName(isDaylight, TimeZone.SHORT)\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eastern_Time_Zone\r\n\r\n\r\n\r\n\r\n","title":"How to get TimeZone from android mobile?","body":"<p>All the answers here seem to suggest setting the daylight parameter to <strong>false</strong>. This is incorrect for many time zones which change abbreviated names depending on the time of the year (e.g., <a href=\"https://en.wikipedia.org/wiki/Eastern_Time_Zone\" rel=\"nofollow noreferrer\">EST</a> vs. <a href=\"https://en.wikipedia.org/wiki/Eastern_Time_Zone\" rel=\"nofollow noreferrer\">EDT</a>).</p>\n<p>The solution below will give you the correct abbreviation according to the current date for the time zone.</p>\n<pre><code>val tz = TimeZone.getDefault()\nval isDaylight = tz.inDaylightTime(Date())\nval timezone = tz.getDisplayName(isDaylight, TimeZone.SHORT)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1616351908,"creation_date":1576031237,"answer_id":59278060,"question_id":7672597,"body_markdown":"## ZoneId from java.time and ThreeTenABP\r\n\r\nModern answer:\r\n\r\n\t\tZoneId zone = ZoneId.systemDefault();\r\n\t\tSystem.out.println(zone);\r\n\r\nWhen I ran this snippet in Australia/Sydney time zone, the output was exactly that:\r\n\r\n&gt;     Australia/Sydney\r\n\r\nIf you want the summer time (DST) aware time zone name or abbreviation:\r\n\r\n\t\tDateTimeFormatter longTimeZoneFormatter = DateTimeFormatter.ofPattern(&quot;zzzz&quot;, Locale.getDefault());\r\n\t\tString longTz = ZonedDateTime.now(zone).format(longTimeZoneFormatter);\r\n\t\tSystem.out.println(longTz);\r\n\t\t\r\n\t\tDateTimeFormatter shortTimeZoneFormatter = DateTimeFormatter.ofPattern(&quot;zzz&quot;, Locale.getDefault());\r\n\t\tString shortTz = ZonedDateTime.now(zone).format(shortTimeZoneFormatter);\r\n\t\tSystem.out.println(shortTz);\r\n\r\n&gt;     Eastern Summer Time (New South Wales)\r\n&gt;     EST\r\n\r\nThe `TimeZone` class used in most of the other answers was what we had when the question was asked in 2011, even though it was poorly designed. Today it’s long outdated, and I recommend that instead we use java.time, the modern Java date and time API that came out in 2014.\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - Edit: On (older) Android usually, as long as you&#39;re on Android Gradle plugin 4.0 or newer, with `coreLibraryDesugaring` you can use java.time directly. ThreeTenABP is no longer needed. (Previous bullet: use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.)\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.","title":"How to get TimeZone from android mobile?","body":"<h2>ZoneId from java.time and ThreeTenABP</h2>\n<p>Modern answer:</p>\n<pre><code>    ZoneId zone = ZoneId.systemDefault();\n    System.out.println(zone);\n</code></pre>\n<p>When I ran this snippet in Australia/Sydney time zone, the output was exactly that:</p>\n<blockquote>\n<pre><code>Australia/Sydney\n</code></pre>\n</blockquote>\n<p>If you want the summer time (DST) aware time zone name or abbreviation:</p>\n<pre><code>    DateTimeFormatter longTimeZoneFormatter = DateTimeFormatter.ofPattern(&quot;zzzz&quot;, Locale.getDefault());\n    String longTz = ZonedDateTime.now(zone).format(longTimeZoneFormatter);\n    System.out.println(longTz);\n    \n    DateTimeFormatter shortTimeZoneFormatter = DateTimeFormatter.ofPattern(&quot;zzz&quot;, Locale.getDefault());\n    String shortTz = ZonedDateTime.now(zone).format(shortTimeZoneFormatter);\n    System.out.println(shortTz);\n</code></pre>\n<blockquote>\n<pre><code>Eastern Summer Time (New South Wales)\nEST\n</code></pre>\n</blockquote>\n<p>The <code>TimeZone</code> class used in most of the other answers was what we had when the question was asked in 2011, even though it was poorly designed. Today it’s long outdated, and I recommend that instead we use java.time, the modern Java date and time API that came out in 2014.</p>\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>Edit: On (older) Android usually, as long as you're on Android Gradle plugin 4.0 or newer, with <code>coreLibraryDesugaring</code> you can use java.time directly. ThreeTenABP is no longer needed. (Previous bullet: use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.)</li>\n</ul>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11491104,"reputation":107,"user_id":8422052,"display_name":"Albert Aleksieiev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687171132,"creation_date":1687171132,"answer_id":76505820,"question_id":7672597,"body_markdown":"I have spent some time to find the right answer. [But it seems it works strangely on Android SDK][1]. My device always returns &#39;UTC&#39; as a timezoneId, and 0 as a timezone offset. But you can try to use headless WebView and fetch the timezone from there by JS. After this, you can save it into SharedPreference(`TimeZone.setDefault()` also works strangely)\r\n\r\n\r\n    class HeadlessWebViewUtil constructor(context: Context) {\r\n\t    val webView = WebView(context)\r\n\t    val jsInterface = MyJavaScriptInterface()\r\n\r\n\t    fun fetch() {\r\n\t        webView.settings.javaScriptEnabled = true\r\n\t        webView.addJavascriptInterface(jsInterface, &quot;android&quot;)\r\n\t        webView.loadUrl(&quot;javascript:android.onTimezoneFetched(Intl.DateTimeFormat().resolvedOptions().timeZone)&quot;)\r\n\t    }\r\n\r\n\t    inner class MyJavaScriptInterface {\r\n\t        @JavascriptInterface\r\n\t        public fun onTimezoneFetched(timezoneId: String) {\r\n\t            Timber.d(&quot;Timezone fetched: $timezoneId&quot;)\r\n\t        }\r\n\t    }\r\n\t}\r\n   \r\n    // And fetch\r\n    val wv = HeadlessWebViewUtil(this, timeZoneManager)\r\n    wv.fetch()\r\n  [1]: https://stackoverflow.com/questions/22930726/where-does-android-take-default-timezone-from","title":"How to get TimeZone from android mobile?","body":"<p>I have spent some time to find the right answer. <a href=\"https://stackoverflow.com/questions/22930726/where-does-android-take-default-timezone-from\">But it seems it works strangely on Android SDK</a>. My device always returns 'UTC' as a timezoneId, and 0 as a timezone offset. But you can try to use headless WebView and fetch the timezone from there by JS. After this, you can save it into SharedPreference(<code>TimeZone.setDefault()</code> also works strangely)</p>\n<pre><code>class HeadlessWebViewUtil constructor(context: Context) {\n    val webView = WebView(context)\n    val jsInterface = MyJavaScriptInterface()\n\n    fun fetch() {\n        webView.settings.javaScriptEnabled = true\n        webView.addJavascriptInterface(jsInterface, &quot;android&quot;)\n        webView.loadUrl(&quot;javascript:android.onTimezoneFetched(Intl.DateTimeFormat().resolvedOptions().timeZone)&quot;)\n    }\n\n    inner class MyJavaScriptInterface {\n        @JavascriptInterface\n        public fun onTimezoneFetched(timezoneId: String) {\n            Timber.d(&quot;Timezone fetched: $timezoneId&quot;)\n        }\n    }\n}\n\n// And fetch\nval wv = HeadlessWebViewUtil(this, timeZoneManager)\nwv.fetch()\n</code></pre>\n"}],"owner":{"account_id":945181,"reputation":2059,"user_id":972551,"accept_rate":83,"display_name":"asha v"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191283,"favorite_count":0,"down_vote_count":9,"up_vote_count":193,"accepted_answer_id":7672633,"answer_count":13,"score":184,"last_activity_date":1687171132,"creation_date":1317894269,"question_id":7672597,"body_markdown":"I want to get the time zone from the Android mobile when clicking a button.","title":"How to get TimeZone from android mobile?","body":"<p>I want to get the time zone from the Android mobile when clicking a button.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687166632,"post_id":76505258,"comment_id":134893841,"body_markdown":"If you want to break the loop when winner is defined, then update `while(true)` to `while(winner == null)`","body":"If you want to break the loop when winner is defined, then update <code>while(true)</code> to <code>while(winner == null)</code>"},{"owner":{"account_id":20502796,"reputation":33,"user_id":15046341,"display_name":"oomertaa"},"score":0,"creation_date":1687166821,"post_id":76505258,"comment_id":134893890,"body_markdown":"i want to break the loop when the input ends: say i input &quot;abc xyz abcd&quot;. I want it to stop taking input when I press enter (after abcd)\n\nBesides, winner is defined from the first passing through the while loop (as i is initializes as 1 and the probability of the winner being defined on the first passing is 100%)","body":"i want to break the loop when the input ends: say i input &quot;abc xyz abcd&quot;. I want it to stop taking input when I press enter (after abcd)  Besides, winner is defined from the first passing through the while loop (as i is initializes as 1 and the probability of the winner being defined on the first passing is 100%)"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687167741,"post_id":76505258,"comment_id":134894116,"body_markdown":"Stop talking after pressing enter means you want to read exactly a single line? Read it with nextLine and then split by whitespace","body":"Stop talking after pressing enter means you want to read exactly a single line? Read it with nextLine and then split by whitespace"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1687168257,"post_id":76505258,"comment_id":134894241,"body_markdown":"I suspect that you mean `1.0/i`, rather than `1/i`, as the latter will be zero for everything after the first iteration.","body":"I suspect that you mean <code>1.0&#47;i</code>, rather than <code>1&#47;i</code>, as the latter will be zero for everything after the first iteration."},{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1687169416,"post_id":76505258,"comment_id":134894494,"body_markdown":"how about get whole line with nextLine and split it into words after that? you don&#39;t need to run while-loop there, sinceyou have already known the input is end with single line.","body":"how about get whole line with nextLine and split it into words after that? you don&#39;t need to run while-loop there, sinceyou have already known the input is end with single line."}],"answers":[{"tags":[],"owner":{"account_id":28831137,"reputation":1,"user_id":22081522,"display_name":"Jac Delisy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687167280,"creation_date":1687167280,"answer_id":76505362,"question_id":76505258,"body_markdown":"     Scanner scanner = new Scanner(System.in);\r\n        while (true) {\r\n            System.out.println(&quot;Press Enter to continue...&quot;);\r\n            String input = scanner.nextLine();\r\n            if (input.equals(&quot;&quot;)) {\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;Loop exited.&quot;);","title":"What condition to break out of loop when enter is hit in standard input in Java?","body":"<pre><code> Scanner scanner = new Scanner(System.in);\n    while (true) {\n        System.out.println(&quot;Press Enter to continue...&quot;);\n        String input = scanner.nextLine();\n        if (input.equals(&quot;&quot;)) {\n            break;\n        }\n    }\n    System.out.println(&quot;Loop exited.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14001487,"reputation":150,"user_id":10112957,"display_name":"C0D3 M4513R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687167701,"creation_date":1687167701,"answer_id":76505411,"question_id":76505258,"body_markdown":"Having a `.next()` call before a `.hasNext()` completely defeats the purpose of the `.hasNext()` call.\r\n\r\nI would suggest using `sc.hasNext()` as the while condition.\r\n\r\nTo only read one line of input can be very easily achieved with two scanners. \r\nOne to read one line of console input, and another one to process that input.\r\nThis has the side-effect, of the input not being processed until the whole line is inputted.\r\n\r\n\r\n```java\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport java.util.Scanner;\r\n\r\npublic class RandomWord {\r\n\r\n    public static void main(String[] args) {\r\n        String x = null, winner = null;\r\n        final Scanner scl = new Scanner(System.in);\r\n        int i = 1;\r\n        final Scanner sc = new Scanner(scl.nextLine());\r\n        while(sc.hasNext())\r\n        {\r\n            x = sc.next();\r\n\r\n            System.out.println(x);\r\n            if(StdRandom.bernoulli(1/i))\r\n            {\r\n                winner = x;\r\n            }\r\n            i++;\r\n        }\r\n        sc.close();\r\n        scl.close();\r\n        System.out.println(winner);\r\n    }\r\n}\r\n```","title":"What condition to break out of loop when enter is hit in standard input in Java?","body":"<p>Having a <code>.next()</code> call before a <code>.hasNext()</code> completely defeats the purpose of the <code>.hasNext()</code> call.</p>\n<p>I would suggest using <code>sc.hasNext()</code> as the while condition.</p>\n<p>To only read one line of input can be very easily achieved with two scanners.\nOne to read one line of console input, and another one to process that input.\nThis has the side-effect, of the input not being processed until the whole line is inputted.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import edu.princeton.cs.algs4.StdRandom;\nimport java.util.Scanner;\n\npublic class RandomWord {\n\n    public static void main(String[] args) {\n        String x = null, winner = null;\n        final Scanner scl = new Scanner(System.in);\n        int i = 1;\n        final Scanner sc = new Scanner(scl.nextLine());\n        while(sc.hasNext())\n        {\n            x = sc.next();\n\n            System.out.println(x);\n            if(StdRandom.bernoulli(1/i))\n            {\n                winner = x;\n            }\n            i++;\n        }\n        sc.close();\n        scl.close();\n        System.out.println(winner);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687168442,"creation_date":1687168442,"answer_id":76505500,"question_id":76505258,"body_markdown":"You can read the whole line and use StringTokenizer to get the tokens and assign them to x while iterating:\r\n\r\n    public static void main(String[] args) {\r\n        String x = null, winner = null;\r\n        Scanner sc = new Scanner(System.in);\r\n        StringTokenizer tokenizer = new StringTokenizer(sc.nextLine());\r\n        int i = 1;\r\n        while(tokenizer.hasMoreTokens())\r\n        {\r\n            x = tokenizer.nextToken();\r\n            System.out.println(x);\r\n            if(StdRandom.bernoulli(1/i))\r\n            {\r\n                winner = x;\r\n            }\r\n            i++;\r\n        }\r\n        sc.close();\r\n        System.out.println(winner);\r\n    }","title":"What condition to break out of loop when enter is hit in standard input in Java?","body":"<p>You can read the whole line and use StringTokenizer to get the tokens and assign them to x while iterating:</p>\n<pre><code>public static void main(String[] args) {\n    String x = null, winner = null;\n    Scanner sc = new Scanner(System.in);\n    StringTokenizer tokenizer = new StringTokenizer(sc.nextLine());\n    int i = 1;\n    while(tokenizer.hasMoreTokens())\n    {\n        x = tokenizer.nextToken();\n        System.out.println(x);\n        if(StdRandom.bernoulli(1/i))\n        {\n            winner = x;\n        }\n        i++;\n    }\n    sc.close();\n    System.out.println(winner);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687170426,"creation_date":1687170426,"answer_id":76505746,"question_id":76505258,"body_markdown":"If you want to be able to read more than one line of input, you can do \r\n\r\n    while (sc.hasNext()) {\r\n        x = sc.next()\r\n        ...\r\n    }\r\n\r\nAnd end your input by pressing ctrl-D (on Linux) or ctrl-Z (on Windows) at the start of a new line to signal end of input.\r\n\r\nOtherwise, if you want to read only one line, use [C0D3 M4513R&#39;s answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76505411/13963086","title":"What condition to break out of loop when enter is hit in standard input in Java?","body":"<p>If you want to be able to read more than one line of input, you can do</p>\n<pre><code>while (sc.hasNext()) {\n    x = sc.next()\n    ...\n}\n</code></pre>\n<p>And end your input by pressing ctrl-D (on Linux) or ctrl-Z (on Windows) at the start of a new line to signal end of input.</p>\n<p>Otherwise, if you want to read only one line, use <a href=\"https://stackoverflow.com/a/76505411/13963086\">C0D3 M4513R's answer</a>.</p>\n"}],"owner":{"account_id":20502796,"reputation":33,"user_id":15046341,"display_name":"oomertaa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1687170426,"creation_date":1687166395,"question_id":76505258,"body_markdown":"I want to read from a line of string input word for word (that&#39;s why im using a while and scanner.next() instead of scanner.nextLine()). Reading works just fine, but I can&#39;t break from the loop cause i can&#39;t seem to find a good condition for that. It keeps taking input from the command line. Thanks in advance. Here is the code:\r\n\r\n```\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport java.util.Scanner;\r\n\r\npublic class RandomWord {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = null, winner = null;\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint i = 1;\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t\tx = sc.next();\r\n\t\t\tif (!sc.hasNext())\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(x);\r\n\t\t\tif(StdRandom.bernoulli(1/i))\r\n\t\t\t{\r\n\t\t\t\twinner = x;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tsc.close();\r\n\t\tSystem.out.println(winner);\r\n\t}\r\n}\r\n```\r\n\r\nI tried various functions but none worked.","title":"What condition to break out of loop when enter is hit in standard input in Java?","body":"<p>I want to read from a line of string input word for word (that's why im using a while and scanner.next() instead of scanner.nextLine()). Reading works just fine, but I can't break from the loop cause i can't seem to find a good condition for that. It keeps taking input from the command line. Thanks in advance. Here is the code:</p>\n<pre><code>import edu.princeton.cs.algs4.StdRandom;\nimport java.util.Scanner;\n\npublic class RandomWord {\n\n    public static void main(String[] args) {\n        String x = null, winner = null;\n        Scanner sc = new Scanner(System.in);\n        int i = 1;\n        while(true)\n        {\n            x = sc.next();\n            if (!sc.hasNext())\n            {\n                break;\n            }\n            System.out.println(x);\n            if(StdRandom.bernoulli(1/i))\n            {\n                winner = x;\n            }\n            i++;\n        }\n        sc.close();\n        System.out.println(winner);\n    }\n}\n</code></pre>\n<p>I tried various functions but none worked.</p>\n"},{"tags":["java","jvm","java-bytecode-asm"],"answers":[{"tags":[],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1501779240,"creation_date":1424721366,"answer_id":28682260,"question_id":28682113,"body_markdown":"I figured out my mistake. The error lies here:\r\n\r\n    invokevirtual #40 // InterfaceMethod\r\n          ^^^^^^^        ^^^^^^^^^\r\n\r\nI am using invoke**virtual** on an **interface** method, which is generally not a good idea. However I think that the error thrown by the verifier should be a bit more clear about what is actually wrong.\r\n\r\n","title":"JVM Verify Error &#39;Illegal type at constant pool&#39;","body":"<p>I figured out my mistake. The error lies here:</p>\n\n<pre><code>invokevirtual #40 // InterfaceMethod\n      ^^^^^^^        ^^^^^^^^^\n</code></pre>\n\n<p>I am using invoke<strong>virtual</strong> on an <strong>interface</strong> method, which is generally not a good idea. However I think that the error thrown by the verifier should be a bit more clear about what is actually wrong.</p>\n"},{"tags":[],"owner":{"account_id":1651641,"reputation":8505,"user_id":1522117,"display_name":"nickl-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527210953,"creation_date":1527210953,"answer_id":50520162,"question_id":28682113,"body_markdown":"With ASM you will see this error because of an incorrect `isInterface` flag. The argument `isInterface` of `visitMethodInsn` refers to the target/owner/destination and not the current context. \r\n\r\ni.o.w when using `INVOKEVIRTUAL`, `isInterface` is false.\r\n\r\nsee [issue here][1] for more details.\r\n\r\n\r\n\r\n  [1]: https://gitlab.ow2.org/asm/asm/issues/317832","title":"JVM Verify Error &#39;Illegal type at constant pool&#39;","body":"<p>With ASM you will see this error because of an incorrect <code>isInterface</code> flag. The argument <code>isInterface</code> of <code>visitMethodInsn</code> refers to the target/owner/destination and not the current context. </p>\n\n<p>i.o.w when using <code>INVOKEVIRTUAL</code>, <code>isInterface</code> is false.</p>\n\n<p>see <a href=\"https://gitlab.ow2.org/asm/asm/issues/317832\" rel=\"nofollow noreferrer\">issue here</a> for more details.</p>\n"}],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10721,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28682260,"answer_count":2,"score":4,"last_activity_date":1687170360,"creation_date":1424720891,"question_id":28682113,"body_markdown":"I am currently writing my own compiler and I am trying to compile the following code:\r\n\r\n    List[String] list = List(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)\r\n    list stream map((String s) =&gt; s.toUpperCase())\r\n    System out println list\r\n\r\nThe compiler has no problem parsing, linking or compiling the code, but when it comes to executing it, the JVM throws the following error:\r\n\r\n    java.lang.VerifyError: Illegal type at constant pool entry 40 in class dyvil.test.Main\r\n    Exception Details:\r\n      Location:\r\n        dyvil/test/Main.main([Ljava/lang/String;)V @29: invokevirtual\r\n      Reason:\r\n        Constant pool index 40 is invalid\r\n      Bytecode:\r\n        ...\r\n\r\nI tried to use `javap` to find the problem, and this is the instruction `@29`:\r\n\r\n    29: invokevirtual #40 // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;\r\n\r\nAnd the entry in the Constant Pool (also using `javap`):\r\n\r\n    #37 = Utf8               stream\r\n    #38 = Utf8               ()Ljava/util/stream/Stream;\r\n    #39 = NameAndType        #37:#38 // stream:()Ljava/util/stream/Stream;\r\n    #40 = InterfaceMethodref #36.#39 // java/util/Collection.stream:()Ljava/util/stream/Stream;\r\n\r\nWhen opening the class with the Eclipse Class File Viewer, the line where `@29` should be reads:\r\n\r\n    Class Format Exception\r\n\r\nand all following instructions are not shown anymore (except for Locals, ...). However, the ASM Bytecode Plugin writes\r\n\r\n    INVOKEVIRTUAL java/util/Collection.stream ()Ljava/util/stream/Stream;\r\n\r\nat that line, which appears to be valid. What am I doing wrong / missing here?","title":"JVM Verify Error &#39;Illegal type at constant pool&#39;","body":"<p>I am currently writing my own compiler and I am trying to compile the following code:</p>\n\n<pre><code>List[String] list = List(\"a\", \"b\", \"c\", \"d\")\nlist stream map((String s) =&gt; s.toUpperCase())\nSystem out println list\n</code></pre>\n\n<p>The compiler has no problem parsing, linking or compiling the code, but when it comes to executing it, the JVM throws the following error:</p>\n\n<pre><code>java.lang.VerifyError: Illegal type at constant pool entry 40 in class dyvil.test.Main\nException Details:\n  Location:\n    dyvil/test/Main.main([Ljava/lang/String;)V @29: invokevirtual\n  Reason:\n    Constant pool index 40 is invalid\n  Bytecode:\n    ...\n</code></pre>\n\n<p>I tried to use <code>javap</code> to find the problem, and this is the instruction <code>@29</code>:</p>\n\n<pre><code>29: invokevirtual #40 // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;\n</code></pre>\n\n<p>And the entry in the Constant Pool (also using <code>javap</code>):</p>\n\n<pre><code>#37 = Utf8               stream\n#38 = Utf8               ()Ljava/util/stream/Stream;\n#39 = NameAndType        #37:#38 // stream:()Ljava/util/stream/Stream;\n#40 = InterfaceMethodref #36.#39 // java/util/Collection.stream:()Ljava/util/stream/Stream;\n</code></pre>\n\n<p>When opening the class with the Eclipse Class File Viewer, the line where <code>@29</code> should be reads:</p>\n\n<pre><code>Class Format Exception\n</code></pre>\n\n<p>and all following instructions are not shown anymore (except for Locals, ...). However, the ASM Bytecode Plugin writes</p>\n\n<pre><code>INVOKEVIRTUAL java/util/Collection.stream ()Ljava/util/stream/Stream;\n</code></pre>\n\n<p>at that line, which appears to be valid. What am I doing wrong / missing here?</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":19443025,"reputation":196,"user_id":16606928,"display_name":"Ernesto David Oliva Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687169995,"creation_date":1687169995,"question_id":76505683,"body_markdown":"I am using JDK 17 in Android Studio and when I write the code: `collect(Collectors.toList()` Android Studio shows me a warning suggesting that `collect(toList()) can be replaced by toList()`. But when I use the `Stream.toList` method the compiler does not find it. I look for the method in the Stream interface and I can&#39;t find it either.\r\n\r\nI have tested it in IntelliJ IDEA with the same JDK and it works correctly.\r\n\r\nJDK provider: Eclipse Temurin\r\nJDK full version: 17.0.7","title":"Stream.toList() does not exist in JDK 17 with Android Studio","body":"<p>I am using JDK 17 in Android Studio and when I write the code: <code>collect(Collectors.toList()</code> Android Studio shows me a warning suggesting that <code>collect(toList()) can be replaced by toList()</code>. But when I use the <code>Stream.toList</code> method the compiler does not find it. I look for the method in the Stream interface and I can't find it either.</p>\n<p>I have tested it in IntelliJ IDEA with the same JDK and it works correctly.</p>\n<p>JDK provider: Eclipse Temurin\nJDK full version: 17.0.7</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"score":0,"creation_date":1687167559,"post_id":76504341,"comment_id":134894061,"body_markdown":"Why are you using session.beginTransaction() in 2nd line and at the time of commit?","body":"Why are you using session.beginTransaction() in 2nd line and at the time of commit?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687275527,"post_id":76504341,"comment_id":134912429,"body_markdown":"You are using Hibernate api, not JPA, which has very different contracts. JPA&#39;s method would not allow this, and make it more clear - offering only getTransaction and an exception if you try to call begin on an active transaction. And JPA would cause your session (entityManager) to join to the active transaction, so commit will pick up all changes within the EntityManager when it is called. JPA delays flushing changes until commit by default, so persist doesn&#39;t really do anything until a flush/commit call anyway (provider and option specific)","body":"You are using Hibernate api, not JPA, which has very different contracts. JPA&#39;s method would not allow this, and make it more clear - offering only getTransaction and an exception if you try to call begin on an active transaction. And JPA would cause your session (entityManager) to join to the active transaction, so commit will pick up all changes within the EntityManager when it is called. JPA delays flushing changes until commit by default, so persist doesn&#39;t really do anything until a flush/commit call anyway (provider and option specific)"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687169722,"creation_date":1687169722,"answer_id":76505650,"question_id":76504341,"body_markdown":"&gt; I have expected it not to be saved or throw exception as I saved the entry before starting the transaction.\r\n\r\nYou started a new transaction with the first call of `beginTransaction`. Then you saved the entity. Then you called `beginTransaction` again. This will just return the current transaction without starting a new one. Then you committed the transaction and the entity has been persisted.\r\n\r\nIt works as expected and as described in Javadoc: [https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/SharedSessionContract.html#beginTransaction()][1]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/SharedSessionContract.html#beginTransaction()","title":"starting the transaction after persist in hibernate","body":"<blockquote>\n<p>I have expected it not to be saved or throw exception as I saved the entry before starting the transaction.</p>\n</blockquote>\n<p>You started a new transaction with the first call of <code>beginTransaction</code>. Then you saved the entity. Then you called <code>beginTransaction</code> again. This will just return the current transaction without starting a new one. Then you committed the transaction and the entity has been persisted.</p>\n<p>It works as expected and as described in Javadoc: <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/SharedSessionContract.html#beginTransaction()\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/SharedSessionContract.html#beginTransaction()</a></p>\n"}],"owner":{"account_id":28848615,"reputation":9,"user_id":22095007,"display_name":"Sakib Shahriar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687169722,"creation_date":1687158500,"question_id":76504341,"body_markdown":"I am new to JPA and Hibernate. I was testing its transaction management last evening and noticed something. I was able to persist the entity even though I started the transaction after calling save method and also if I don&#39;t commit the transaction, its doesn&#39;t persist. I am so confused about the workflow of the hibernate transaction. Here is the code snippet: \r\n\r\n \r\n```\r\n Session session = sessionFactory.openSession();\r\n transaction = session.beginTransaction();\r\n firstUser  = createUser(&quot;aaa@aa.com&quot;, &quot;a&quot;, &quot;yyy&quot;, true);\r\n session.save(firstUser);\r\n session.beginTransaction().commit();\r\n```\r\n\r\nI have expected it not to be saved or throw exception as I saved the entry before starting the transaction.","title":"starting the transaction after persist in hibernate","body":"<p>I am new to JPA and Hibernate. I was testing its transaction management last evening and noticed something. I was able to persist the entity even though I started the transaction after calling save method and also if I don't commit the transaction, its doesn't persist. I am so confused about the workflow of the hibernate transaction. Here is the code snippet:</p>\n<pre><code> Session session = sessionFactory.openSession();\n transaction = session.beginTransaction();\n firstUser  = createUser(&quot;aaa@aa.com&quot;, &quot;a&quot;, &quot;yyy&quot;, true);\n session.save(firstUser);\n session.beginTransaction().commit();\n</code></pre>\n<p>I have expected it not to be saved or throw exception as I saved the entry before starting the transaction.</p>\n"},{"tags":["python","java"],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687168563,"creation_date":1687168563,"answer_id":76505520,"question_id":76433925,"body_markdown":"According to the documentation [accounts.locations.review][1], in JAVA, supposing that the variable mybusiness is taking care of authentication and API initialization:\r\n\r\n\r\n    MyBusiness.Accounts.Locations.Reviews.List reviewsList =\r\n\t\t\t\t\t\t\t\tmybusiness.accounts().locations().reviews().list(&quot;your location name&quot;);\r\n\t\t\t\t\t\tListReviewsResponse response = reviewsList.execute();\r\n\r\n\tList&lt;Review&gt; reviews = response.getReviews();\r\n    while(response.getNextPageToken()!=null) {\r\n\t\t\t\t\t\t\treviewsList.setPageToken(response.getNextPageToken());\r\n\t\t\t\t\t\t\tresponse = reviewsList.execute();\r\n\t\t\t\t\t\t\treviews.addAll(response.getReviews());\r\n\t\t\t\t\t\t}\r\n    for (Review review : reviews) {\r\n      System.out.println(review.toString());\r\n    }\r\n\r\n\r\nfor python you can have a look at this link \r\n\r\n&gt; https://github.com/dresenhista/google_my_business\r\n\r\n  [1]: https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/list\r\n","title":"GMB API accounts.locations.reviews.list","body":"<p>According to the documentation <a href=\"https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/list\" rel=\"nofollow noreferrer\">accounts.locations.review</a>, in JAVA, supposing that the variable mybusiness is taking care of authentication and API initialization:</p>\n<pre><code>MyBusiness.Accounts.Locations.Reviews.List reviewsList =\n                            mybusiness.accounts().locations().reviews().list(&quot;your location name&quot;);\n                    ListReviewsResponse response = reviewsList.execute();\n\nList&lt;Review&gt; reviews = response.getReviews();\nwhile(response.getNextPageToken()!=null) {\n                        reviewsList.setPageToken(response.getNextPageToken());\n                        response = reviewsList.execute();\n                        reviews.addAll(response.getReviews());\n                    }\nfor (Review review : reviews) {\n  System.out.println(review.toString());\n}\n</code></pre>\n<p>for python you can have a look at this link</p>\n<blockquote>\n<p><a href=\"https://github.com/dresenhista/google_my_business\" rel=\"nofollow noreferrer\">https://github.com/dresenhista/google_my_business</a></p>\n</blockquote>\n"}],"owner":{"account_id":28755510,"reputation":7,"user_id":22022623,"display_name":"Abhay S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687168563,"creation_date":1686241414,"question_id":76433925,"body_markdown":"Can  i get source code to get reviews using gmb python code also heard mybusiness is discontinued.\r\nI tried using my business api is discontinued can i get the implementation process to look for extracting gmb reviews using python code.\r\n\r\n","title":"GMB API accounts.locations.reviews.list","body":"<p>Can  i get source code to get reviews using gmb python code also heard mybusiness is discontinued.\nI tried using my business api is discontinued can i get the implementation process to look for extracting gmb reviews using python code.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","postman"],"comments":[{"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"score":0,"creation_date":1687168228,"post_id":76505255,"comment_id":134894235,"body_markdown":"When you use @JsonIgnore, as name suggested it removed from the field from request/response.","body":"When you use @JsonIgnore, as name suggested it removed from the field from request/response."},{"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"score":0,"creation_date":1687168308,"post_id":76505255,"comment_id":134894255,"body_markdown":"My suggestion is to take another DTO (POJO) and use that as request body, In java code, prepare User class with required structure and use that for persist.\nYou should not directly use Entities in Controller.","body":"My suggestion is to take another DTO (POJO) and use that as request body, In java code, prepare User class with required structure and use that for persist. You should not directly use Entities in Controller."}],"answers":[{"tags":[],"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687168530,"creation_date":1687168530,"answer_id":76505512,"question_id":76505255,"body_markdown":"Create another Java class and use that in your controller as Request Body object. \r\n\r\ne.g. ```UserRequest```\r\n\r\nWith same fields as User, and In service class prepare desired ```User``` Entity from ```UserRequest``` and use that to persist.\r\n\r\nIt&#39;s not recommend to use Entities in Controller.","title":"java.lang.IllegalStateException Cannot call sendError()","body":"<p>Create another Java class and use that in your controller as Request Body object.</p>\n<p>e.g. <code>UserRequest</code></p>\n<p>With same fields as User, and In service class prepare desired <code>User</code> Entity from <code>UserRequest</code> and use that to persist.</p>\n<p>It's not recommend to use Entities in Controller.</p>\n"}],"owner":{"account_id":28849567,"reputation":3,"user_id":22095760,"display_name":"Shlok Sanghvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76505512,"answer_count":1,"score":0,"last_activity_date":1687168530,"creation_date":1687166370,"question_id":76505255,"body_markdown":"while i was using postman to test GET on a ManyToMany relationship I got this error: \r\n`java.lang.IllegalStateException Cannot call sendError()`\r\nNow i read another post that says to use JsonIgnore which while it does solve the error the problem is that i also want the the part which JsonIgnore....well ignores.\r\n\r\nI tried putting JsonIgnore above @ManyToMany in my user model class like below\r\n```\r\npackage com.user.model;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.JoinTable;\r\nimport jakarta.persistence.ManyToMany;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate int id;\r\n\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;dob&quot;)\r\n\tprivate Date dob;\r\n\r\n\t@Column(name = &quot;create_date&quot;)\r\n\tprivate LocalDate createDate;\r\n\r\n\t@Column(name = &quot;update_date&quot;)\r\n\tprivate LocalDate updateDate;\r\n\t\r\n\t@JsonIgnore\r\n\t@ManyToMany(fetch = FetchType.LAZY)\r\n\t@JoinTable(name = &quot;user_hobby&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;hobby_id&quot;))\r\n\tprivate List&lt;Hobby&gt; hobbies;\r\n\r\n\tpublic Date getDob() {\r\n\t\treturn dob;\r\n\t}\r\n\r\n\tpublic void setDob(Date dob) {\r\n\t\tthis.dob = dob;\r\n\t}\r\n\r\n\tpublic LocalDate getCreateDate() {\r\n\t\treturn createDate;\r\n\t}\r\n\r\n\tpublic void setCreateDate(LocalDate createDate) {\r\n\t\tthis.createDate = createDate;\r\n\t}\r\n\r\n\tpublic LocalDate getUpdateDate() {\r\n\t\treturn updateDate;\r\n\t}\r\n\r\n\tpublic void setUpdateDate(LocalDate updateDate) {\r\n\t\tthis.updateDate = updateDate;\r\n\t}\r\n\r\n\tpublic User() {\r\n\t\tthis.hobbies = new ArrayList&lt;&gt;();\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\t\r\n\tpublic List&lt;Hobby&gt; getHobbies() {\r\n\t\treturn hobbies;\r\n\t}\r\n\r\n\tpublic void setHobbies(List&lt;Hobby&gt; hobbies) {\r\n\t\tthis.hobbies = hobbies;\r\n\t}\r\n}\r\n```\r\nnow the problem comes when i want to save, update, view(GET) a user with hobbies, it ignores the hobbies part of the user model, so the relationship table between user and hobbies remains empty cause when i add or update a user like this in postman:\r\n \r\n```\r\n{\r\n        &quot;name&quot;: &quot;John Doe&quot;,\r\n        &quot;dob&quot;: &quot;1990-01-01&quot;,\r\n        &quot;hobbies&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;1&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;: &quot;3&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n```\r\nalthough the user is added or updated, nothing happens to hobby or user_hobby relationship table, however if I don&#39;t use JsonIgnore i get the `java.lang.IllegalStateException Cannot call sendError()` error\r\n ","title":"java.lang.IllegalStateException Cannot call sendError()","body":"<p>while i was using postman to test GET on a ManyToMany relationship I got this error:\n<code>java.lang.IllegalStateException Cannot call sendError()</code>\nNow i read another post that says to use JsonIgnore which while it does solve the error the problem is that i also want the the part which JsonIgnore....well ignores.</p>\n<p>I tried putting JsonIgnore above @ManyToMany in my user model class like below</p>\n<pre><code>package com.user.model;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;dob&quot;)\n    private Date dob;\n\n    @Column(name = &quot;create_date&quot;)\n    private LocalDate createDate;\n\n    @Column(name = &quot;update_date&quot;)\n    private LocalDate updateDate;\n    \n    @JsonIgnore\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;user_hobby&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;hobby_id&quot;))\n    private List&lt;Hobby&gt; hobbies;\n\n    public Date getDob() {\n        return dob;\n    }\n\n    public void setDob(Date dob) {\n        this.dob = dob;\n    }\n\n    public LocalDate getCreateDate() {\n        return createDate;\n    }\n\n    public void setCreateDate(LocalDate createDate) {\n        this.createDate = createDate;\n    }\n\n    public LocalDate getUpdateDate() {\n        return updateDate;\n    }\n\n    public void setUpdateDate(LocalDate updateDate) {\n        this.updateDate = updateDate;\n    }\n\n    public User() {\n        this.hobbies = new ArrayList&lt;&gt;();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    \n    public List&lt;Hobby&gt; getHobbies() {\n        return hobbies;\n    }\n\n    public void setHobbies(List&lt;Hobby&gt; hobbies) {\n        this.hobbies = hobbies;\n    }\n}\n</code></pre>\n<p>now the problem comes when i want to save, update, view(GET) a user with hobbies, it ignores the hobbies part of the user model, so the relationship table between user and hobbies remains empty cause when i add or update a user like this in postman:</p>\n<pre><code>{\n        &quot;name&quot;: &quot;John Doe&quot;,\n        &quot;dob&quot;: &quot;1990-01-01&quot;,\n        &quot;hobbies&quot;: [\n            {\n                &quot;id&quot;: &quot;1&quot;\n            },\n            {\n                &quot;id&quot;: &quot;3&quot;\n            }\n        ]\n    }\n\n</code></pre>\n<p>although the user is added or updated, nothing happens to hobby or user_hobby relationship table, however if I don't use JsonIgnore i get the <code>java.lang.IllegalStateException Cannot call sendError()</code> error</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"score":0,"creation_date":1395374446,"post_id":22549517,"comment_id":34320129,"body_markdown":"I will suggest read mojo.codehaus.org/license-maven-plugin/examples/example-add-license.html","body":"I will suggest read mojo.codehaus.org/license-maven-plugin/examples/example-add-&zwnj;&#8203;license.html"},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":3,"creation_date":1395394875,"post_id":22549517,"comment_id":34328202,"body_markdown":"Yeah, of course, I could end up doing that, but... It should be obvious from the documentation and it&#39;s not.","body":"Yeah, of course, I could end up doing that, but... It should be obvious from the documentation and it&#39;s not."},{"owner":{"account_id":181832,"reputation":1454,"user_id":416104,"accept_rate":61,"display_name":"Cristiano"},"score":0,"creation_date":1399649298,"post_id":22549517,"comment_id":36166658,"body_markdown":"@carlspring, could you write your answer telling what you did to solve the problem and then set it as the best one? it may help others. thanks ;)","body":"@carlspring, could you write your answer telling what you did to solve the problem and then set it as the best one? it may help others. thanks ;)"},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1399649636,"post_id":22549517,"comment_id":36166857,"body_markdown":"@Cristiano: I&#39;m afraid I wasn&#39;t able to get this to work, so if you do happen to figure it out, please post an answer, as I&#39;m sure other people beside myself will also find it quite useful as well. Thanks!","body":"@Cristiano: I&#39;m afraid I wasn&#39;t able to get this to work, so if you do happen to figure it out, please post an answer, as I&#39;m sure other people beside myself will also find it quite useful as well. Thanks!"},{"owner":{"account_id":1789513,"reputation":3771,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":0,"creation_date":1553694211,"post_id":22549517,"comment_id":97479514,"body_markdown":"This is old but.. the L-M-P people want their plugin to be part of the build, it updates new files as they appear and adds new year values as time passes.  You (like me) are trying to use it as a one-and-done tool which CAN be done but it&#39;s just not their original intent, HTH.","body":"This is old but.. the L-M-P people want their plugin to be part of the build, it updates new files as they appear and adds new year values as time passes.  You (like me) are trying to use it as a one-and-done tool which CAN be done but it&#39;s just not their original intent, HTH."}],"answers":[{"tags":[],"owner":{"account_id":2613556,"reputation":93,"user_id":2263178,"display_name":"msbarnar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472552403,"creation_date":1403287103,"answer_id":24333099,"question_id":22549517,"body_markdown":"[The documentation for version 1.9 (latest at time of writing)][1] says these are mandatory delimiters for it to find the header.\r\n\r\n&gt;     (1) # % L\r\n&gt;     (2) Project description\r\n&gt;     (3) %%\r\n&gt;     (4) Copyright (C) 2010 your organization\r\n&gt;     (5) %%\r\n&gt;     (6) License content\r\n&gt;     (7) # L %\r\n&gt; \r\n&gt; 1. The start process tag used to detect begin of header (NEVER suppress it).\r\n&gt; 1. Project description section\r\n&gt; 1. Header section delimiter\r\n&gt; 1. Copyright section of the file (see next section for detail)\r\n&gt; 1. Header section delimiter\r\n&gt; 1. License section\r\n&gt; 1. The end process tag used to detect end of header (NEVER suppress it).\r\n\r\n  [1]: http://www.mojohaus.org/license-maven-plugin/header.html","title":"How to use the license-maven-plugin","body":"<p><a href=\"http://www.mojohaus.org/license-maven-plugin/header.html\" rel=\"noreferrer\">The documentation for version 1.9 (latest at time of writing)</a> says these are mandatory delimiters for it to find the header.</p>\n\n<blockquote>\n<pre><code>(1) # % L\n(2) Project description\n(3) %%\n(4) Copyright (C) 2010 your organization\n(5) %%\n(6) License content\n(7) # L %\n</code></pre>\n  \n  <ol>\n  <li>The start process tag used to detect begin of header (NEVER suppress it).</li>\n  <li>Project description section</li>\n  <li>Header section delimiter</li>\n  <li>Copyright section of the file (see next section for detail)</li>\n  <li>Header section delimiter</li>\n  <li>License section</li>\n  <li>The end process tag used to detect end of header (NEVER suppress it).</li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1272460,"reputation":53083,"user_id":1228454,"accept_rate":76,"display_name":"nwinkler"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1473410906,"creation_date":1473410906,"answer_id":39407482,"question_id":22549517,"body_markdown":"As shown in the other answer, these tags are required for finding and updating the license information. One thing you can do is make them less annoying...\r\n\r\nIn my project, I have changed them to something a bit more pretty:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;addJavaLicenseAfterPackage&gt;false&lt;/addJavaLicenseAfterPackage&gt;\r\n            &lt;processStartTag&gt;========================LICENSE_START=================================&lt;/processStartTag&gt;\r\n            &lt;processEndTag&gt;=========================LICENSE_END==================================&lt;/processEndTag&gt;\r\n        &lt;/configuration&gt;\r\n        ...\r\n    &lt;/plugin&gt;\r\n\r\nThe lines with `===` look better to me than the default `#%L` lines, which look like accidentally left garbage to me :-)\r\n\r\nThe only requirement for these tags is to be unique, hence the `_START` and `_END` part. I&#39;ve also found that any space characters in the tags are deleted before inserting into the file.","title":"How to use the license-maven-plugin","body":"<p>As shown in the other answer, these tags are required for finding and updating the license information. One thing you can do is make them less annoying...</p>\n\n<p>In my project, I have changed them to something a bit more pretty:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.9&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;addJavaLicenseAfterPackage&gt;false&lt;/addJavaLicenseAfterPackage&gt;\n        &lt;processStartTag&gt;========================LICENSE_START=================================&lt;/processStartTag&gt;\n        &lt;processEndTag&gt;=========================LICENSE_END==================================&lt;/processEndTag&gt;\n    &lt;/configuration&gt;\n    ...\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The lines with <code>===</code> look better to me than the default <code>#%L</code> lines, which look like accidentally left garbage to me :-)</p>\n\n<p>The only requirement for these tags is to be unique, hence the <code>_START</code> and <code>_END</code> part. I've also found that any space characters in the tags are deleted before inserting into the file.</p>\n"},{"tags":[],"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597841350,"creation_date":1597840516,"answer_id":63487062,"question_id":22549517,"body_markdown":"Use the [Mycila license plugin][1] instead, it [will do what you want][2] (no segment markers), is simpler in someways and is under [much more active development][3]. I was banging my head with this plugin as well, until I came across [this comment][3]\r\n\r\n\r\n  [1]: https://github.com/mycila/license-maven-plugin\r\n  [2]: https://github.com/mycila/license-maven-plugin#changing-header-style-definitions\r\n  [3]: https://github.com/mojohaus/license-maven-plugin/issues/112#issuecomment-451452909","title":"How to use the license-maven-plugin","body":"<p>Use the <a href=\"https://github.com/mycila/license-maven-plugin\" rel=\"nofollow noreferrer\">Mycila license plugin</a> instead, it <a href=\"https://github.com/mycila/license-maven-plugin#changing-header-style-definitions\" rel=\"nofollow noreferrer\">will do what you want</a> (no segment markers), is simpler in someways and is under <a href=\"https://github.com/mojohaus/license-maven-plugin/issues/112#issuecomment-451452909\" rel=\"nofollow noreferrer\">much more active development</a>. I was banging my head with this plugin as well, until I came across <a href=\"https://github.com/mojohaus/license-maven-plugin/issues/112#issuecomment-451452909\" rel=\"nofollow noreferrer\">this comment</a></p>\n"},{"tags":[],"owner":{"account_id":3182409,"reputation":761,"user_id":2688838,"display_name":"user2688838"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687168519,"creation_date":1687168519,"answer_id":76505510,"question_id":22549517,"body_markdown":"I am struggling too because the header format is so rigid anyway another workaround to &quot;remove&quot; both those markers is to define\r\n\r\n    &lt;processStartTag&gt;&amp;#160;&lt;/processStartTag&gt;\r\n    &lt;sectionDelimiter&gt;&amp;#160;&lt;/sectionDelimiter&gt;\r\n    &lt;processEndTag&gt;&amp;#160;&lt;/processEndTag&gt;\r\n\r\nwhich is a NonBreakingSpace (NBSP). With this configuration the file in the IDE may shows something like\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhowever in any other text editor will look better, that is invisible.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KSHUN.png","title":"How to use the license-maven-plugin","body":"<p>I am struggling too because the header format is so rigid anyway another workaround to &quot;remove&quot; both those markers is to define</p>\n<pre><code>&lt;processStartTag&gt;&amp;#160;&lt;/processStartTag&gt;\n&lt;sectionDelimiter&gt;&amp;#160;&lt;/sectionDelimiter&gt;\n&lt;processEndTag&gt;&amp;#160;&lt;/processEndTag&gt;\n</code></pre>\n<p>which is a NonBreakingSpace (NBSP). With this configuration the file in the IDE may shows something like</p>\n<p><a href=\"https://i.stack.imgur.com/KSHUN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KSHUN.png\" alt=\"enter image description here\" /></a></p>\n<p>however in any other text editor will look better, that is invisible.</p>\n"}],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13588,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1687168519,"creation_date":1395372044,"question_id":22549517,"body_markdown":"I would like to use the `license-maven-plugin` in order to be able to generate license headers for my project.\r\n\r\nSo I have the following pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.foo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bar-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;Bar: Parent&lt;/name&gt;\r\n    \r\n        &lt;licenses&gt;\r\n            &lt;license&gt;\r\n                &lt;name&gt;Apache 2.0&lt;/name&gt;\r\n                &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;\r\n                &lt;distribution&gt;repo&lt;/distribution&gt;\r\n                &lt;comments&gt;A business-friendly OSS license&lt;/comments&gt;\r\n            &lt;/license&gt;\r\n        &lt;/licenses&gt;\r\n    \r\n        &lt;organization&gt;\r\n            &lt;name&gt;My Corp.&lt;/name&gt;\r\n            &lt;url&gt;http://www.mycorp.org/&lt;/url&gt;\r\n        &lt;/organization&gt;\r\n    \r\n        &lt;inceptionYear&gt;2014&lt;/inceptionYear&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \r\n            &lt;license.licenseName&gt;apache_v2&lt;/license.licenseName&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.6&lt;/version&gt;\r\n    \r\n                        &lt;configuration&gt;\r\n                            &lt;verbose&gt;false&lt;/verbose&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;includes&gt;**/*.java&lt;/includes&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n    \r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;generate-license-headers&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;update-file-header&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;licenseName&gt;Apache 2.0&lt;/licenseName&gt;\r\n                                    &lt;roots&gt;\r\n                                        &lt;root&gt;src/main/java&lt;/root&gt;\r\n                                        &lt;root&gt;src/test/java&lt;/root&gt;\r\n                                    &lt;/roots&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n        ...\r\n    &lt;/project&gt;\r\n\r\nI&#39;m invoking the following from the command-line:\r\n\r\n    mvn license:update-file-header\r\n\r\nThis all passes, but my license header ends up looking like this:\r\n\r\n    /*\r\n     * #%L\r\n     * Bar: Foo\r\n     * %%\r\n     * Copyright (C) 2014 My Corp.\r\n     * %%\r\n     * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     * \r\n     *      http://www.apache.org/licenses/LICENSE-2.0\r\n     * \r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     * #L%\r\n     */\r\n\r\nObviously, I don&#39;t want to the `#%L`, `%%` and `#L%` in my license header. What do I need to set in order to get rid of those?","title":"How to use the license-maven-plugin","body":"<p>I would like to use the <code>license-maven-plugin</code> in order to be able to generate license headers for my project.</p>\n\n<p>So I have the following pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.foo&lt;/groupId&gt;\n    &lt;artifactId&gt;bar-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;Bar: Parent&lt;/name&gt;\n\n    &lt;licenses&gt;\n        &lt;license&gt;\n            &lt;name&gt;Apache 2.0&lt;/name&gt;\n            &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;\n            &lt;distribution&gt;repo&lt;/distribution&gt;\n            &lt;comments&gt;A business-friendly OSS license&lt;/comments&gt;\n        &lt;/license&gt;\n    &lt;/licenses&gt;\n\n    &lt;organization&gt;\n        &lt;name&gt;My Corp.&lt;/name&gt;\n        &lt;url&gt;http://www.mycorp.org/&lt;/url&gt;\n    &lt;/organization&gt;\n\n    &lt;inceptionYear&gt;2014&lt;/inceptionYear&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;license.licenseName&gt;apache_v2&lt;/license.licenseName&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.6&lt;/version&gt;\n\n                    &lt;configuration&gt;\n                        &lt;verbose&gt;false&lt;/verbose&gt;\n                        &lt;includes&gt;\n                            &lt;includes&gt;**/*.java&lt;/includes&gt;\n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;generate-license-headers&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;update-file-header&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;phase&gt;process-sources&lt;/phase&gt;\n                            &lt;configuration&gt;\n                                &lt;licenseName&gt;Apache 2.0&lt;/licenseName&gt;\n                                &lt;roots&gt;\n                                    &lt;root&gt;src/main/java&lt;/root&gt;\n                                    &lt;root&gt;src/test/java&lt;/root&gt;\n                                &lt;/roots&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n\n<p>I'm invoking the following from the command-line:</p>\n\n<pre><code>mvn license:update-file-header\n</code></pre>\n\n<p>This all passes, but my license header ends up looking like this:</p>\n\n<pre><code>/*\n * #%L\n * Bar: Foo\n * %%\n * Copyright (C) 2014 My Corp.\n * %%\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * \n *      http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * #L%\n */\n</code></pre>\n\n<p>Obviously, I don't want to the <code>#%L</code>, <code>%%</code> and <code>#L%</code> in my license header. What do I need to set in order to get rid of those?</p>\n"},{"tags":["java","jdbc","h2"],"comments":[{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1574960413,"post_id":59093453,"comment_id":104421121,"body_markdown":"Using a version control system like git? get it from there, perhaps you can recover deleted disk content, there may be [approaches](https://www.google.com/search?q=recover+file+linux+windows). Actually the question is considered off topic for SO.","body":"Using a version control system like git? get it from there, perhaps you can recover deleted disk content, there may be <a href=\"https://www.google.com/search?q=recover+file+linux+windows\" rel=\"nofollow noreferrer\">approaches</a>. Actually the question is considered off topic for SO."}],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1575002826,"creation_date":1575002826,"answer_id":59098913,"question_id":59093453,"body_markdown":"If you need to restore the default settings, search for the file `.h2.server.properties` in the home directory of your user and either delete this file or replace its content with the following default (from the current version) and edit it as necessary:\r\n```\r\n0=Generic JNDI Data Source|javax.naming.InitialContext|java\\:comp/env/jdbc/Test|sa\r\n1=Generic Teradata|com.teradata.jdbc.TeraDriver|jdbc\\:teradata\\://whomooz/|\r\n10=Generic DB2|com.ibm.db2.jcc.DB2Driver|jdbc\\:db2\\://localhost/test|\r\n11=Generic Oracle|oracle.jdbc.driver.OracleDriver|jdbc\\:oracle\\:thin\\:@localhost\\:1521\\:XE|sa\r\n12=Generic MS SQL Server 2000|com.microsoft.jdbc.sqlserver.SQLServerDriver|jdbc\\:microsoft\\:sqlserver\\://localhost\\:1433;DatabaseName\\=sqlexpress|sa\r\n13=Generic MS SQL Server 2005|com.microsoft.sqlserver.jdbc.SQLServerDriver|jdbc\\:sqlserver\\://localhost;DatabaseName\\=test|sa\r\n14=Generic PostgreSQL|org.postgresql.Driver|jdbc\\:postgresql\\:test|\r\n15=Generic MySQL|com.mysql.cj.jdbc.Driver|jdbc\\:mysql\\://localhost\\:3306/test|\r\n16=Generic MariaDB|org.mariadb.jdbc.Driver|jdbc\\:mariadb\\://localhost\\:3306/test|\r\n17=Generic HSQLDB|org.hsqldb.jdbcDriver|jdbc\\:hsqldb\\:test;hsqldb.default_table_type\\=cached|sa\r\n18=Generic Derby (Server)|org.apache.derby.client.ClientAutoloadedDriver|jdbc\\:derby\\://localhost\\:1527/test;create\\=true|sa\r\n19=Generic Derby (Embedded)|org.apache.derby.iapi.jdbc.AutoloadedDriver|jdbc\\:derby\\:test;create\\=true|sa\r\n2=Generic Snowflake|com.snowflake.client.jdbc.SnowflakeDriver|jdbc\\:snowflake\\://accountName.snowflakecomputing.com|\r\n20=Generic H2 (Server)|org.h2.Driver|jdbc\\:h2\\:tcp\\://localhost/~/test|sa\r\n21=Generic H2 (Embedded)|org.h2.Driver|jdbc\\:h2\\:~/test|sa\r\n3=Generic Redshift|com.amazon.redshift.jdbc42.Driver|jdbc\\:redshift\\://endpoint\\:5439/database|\r\n4=Generic Impala|org.cloudera.impala.jdbc41.Driver|jdbc\\:impala\\://clustername\\:21050/default|\r\n5=Generic Hive 2|org.apache.hive.jdbc.HiveDriver|jdbc\\:hive2\\://clustername\\:10000/default|\r\n6=Generic Hive|org.apache.hadoop.hive.jdbc.HiveDriver|jdbc\\:hive\\://clustername\\:10000/default|\r\n7=Generic Azure SQL|com.microsoft.sqlserver.jdbc.SQLServerDriver|jdbc\\:sqlserver\\://name.database.windows.net\\:1433|\r\n8=Generic Firebird Server|org.firebirdsql.jdbc.FBDriver|jdbc\\:firebirdsql\\:localhost\\:c\\:/temp/firebird/test|sysdba\r\n9=Generic SQLite|org.sqlite.JDBC|jdbc\\:sqlite\\:test|sa\r\nwebAllowOthers=false\r\nwebPort=8082\r\nwebSSL=false\r\n```\r\nYou need to restart the H2 Console after it.\r\n\r\nIf you already have some own settings in this file, don&#39;t forget to copy them.\r\n\r\nYou can also add new settings from the Login form, it has a Save button for that purpose, just fill the form and use this button.","title":"accidentally deleted h2 settings. How to retrieve them?","body":"<p>If you need to restore the default settings, search for the file <code>.h2.server.properties</code> in the home directory of your user and either delete this file or replace its content with the following default (from the current version) and edit it as necessary:</p>\n\n<pre><code>0=Generic JNDI Data Source|javax.naming.InitialContext|java\\:comp/env/jdbc/Test|sa\n1=Generic Teradata|com.teradata.jdbc.TeraDriver|jdbc\\:teradata\\://whomooz/|\n10=Generic DB2|com.ibm.db2.jcc.DB2Driver|jdbc\\:db2\\://localhost/test|\n11=Generic Oracle|oracle.jdbc.driver.OracleDriver|jdbc\\:oracle\\:thin\\:@localhost\\:1521\\:XE|sa\n12=Generic MS SQL Server 2000|com.microsoft.jdbc.sqlserver.SQLServerDriver|jdbc\\:microsoft\\:sqlserver\\://localhost\\:1433;DatabaseName\\=sqlexpress|sa\n13=Generic MS SQL Server 2005|com.microsoft.sqlserver.jdbc.SQLServerDriver|jdbc\\:sqlserver\\://localhost;DatabaseName\\=test|sa\n14=Generic PostgreSQL|org.postgresql.Driver|jdbc\\:postgresql\\:test|\n15=Generic MySQL|com.mysql.cj.jdbc.Driver|jdbc\\:mysql\\://localhost\\:3306/test|\n16=Generic MariaDB|org.mariadb.jdbc.Driver|jdbc\\:mariadb\\://localhost\\:3306/test|\n17=Generic HSQLDB|org.hsqldb.jdbcDriver|jdbc\\:hsqldb\\:test;hsqldb.default_table_type\\=cached|sa\n18=Generic Derby (Server)|org.apache.derby.client.ClientAutoloadedDriver|jdbc\\:derby\\://localhost\\:1527/test;create\\=true|sa\n19=Generic Derby (Embedded)|org.apache.derby.iapi.jdbc.AutoloadedDriver|jdbc\\:derby\\:test;create\\=true|sa\n2=Generic Snowflake|com.snowflake.client.jdbc.SnowflakeDriver|jdbc\\:snowflake\\://accountName.snowflakecomputing.com|\n20=Generic H2 (Server)|org.h2.Driver|jdbc\\:h2\\:tcp\\://localhost/~/test|sa\n21=Generic H2 (Embedded)|org.h2.Driver|jdbc\\:h2\\:~/test|sa\n3=Generic Redshift|com.amazon.redshift.jdbc42.Driver|jdbc\\:redshift\\://endpoint\\:5439/database|\n4=Generic Impala|org.cloudera.impala.jdbc41.Driver|jdbc\\:impala\\://clustername\\:21050/default|\n5=Generic Hive 2|org.apache.hive.jdbc.HiveDriver|jdbc\\:hive2\\://clustername\\:10000/default|\n6=Generic Hive|org.apache.hadoop.hive.jdbc.HiveDriver|jdbc\\:hive\\://clustername\\:10000/default|\n7=Generic Azure SQL|com.microsoft.sqlserver.jdbc.SQLServerDriver|jdbc\\:sqlserver\\://name.database.windows.net\\:1433|\n8=Generic Firebird Server|org.firebirdsql.jdbc.FBDriver|jdbc\\:firebirdsql\\:localhost\\:c\\:/temp/firebird/test|sysdba\n9=Generic SQLite|org.sqlite.JDBC|jdbc\\:sqlite\\:test|sa\nwebAllowOthers=false\nwebPort=8082\nwebSSL=false\n</code></pre>\n\n<p>You need to restart the H2 Console after it.</p>\n\n<p>If you already have some own settings in this file, don't forget to copy them.</p>\n\n<p>You can also add new settings from the Login form, it has a Save button for that purpose, just fill the form and use this button.</p>\n"},{"tags":[],"owner":{"account_id":28849874,"reputation":1,"user_id":22096005,"display_name":"Gheorghita Conduraru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687168156,"creation_date":1687168156,"answer_id":76505469,"question_id":59093453,"body_markdown":"path for .h2.server.properties is \r\n\r\nWindows:\r\n\r\nC:\\Users&lt;user-name&gt;.h2.server.properties\r\n\r\nLinux și macOS:\r\n\r\n/home/&lt;user-name&gt;/.h2.server.properties","title":"accidentally deleted h2 settings. How to retrieve them?","body":"<p>path for .h2.server.properties is</p>\n<p>Windows:</p>\n<p>C:\\Users.h2.server.properties</p>\n<p>Linux și macOS:</p>\n<p>/home//.h2.server.properties</p>\n"}],"owner":{"account_id":16735711,"reputation":33,"user_id":12096903,"display_name":"Alpha King"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1632,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59098913,"answer_count":2,"score":3,"last_activity_date":1687168156,"creation_date":1574960135,"question_id":59093453,"body_markdown":"![h2 console][1]\r\n\r\nI am not able to find Sqlite and some other settings on the console. I accidentally removed it.\r\nHow can I restore or add new settings?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j28j7.png","title":"accidentally deleted h2 settings. How to retrieve them?","body":"<p><img src=\"https://i.stack.imgur.com/j28j7.png\" alt=\"h2 console\"></p>\n\n<p>I am not able to find Sqlite and some other settings on the console. I accidentally removed it.\nHow can I restore or add new settings?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687167476,"creation_date":1687167476,"answer_id":76505385,"question_id":76505185,"body_markdown":"You have `/old` and `/switch` endpoints.\r\n\r\n After calling `/switch`, `/old` stops working (because of `unregisterMapping`) and `/new` works instead (because of `registerMapping`).\r\n\r\nThe logic of new method handler is passed as `Method` from java reflection.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.servlet.mvc.method.RequestMappingInfo;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\r\n\r\n    import java.lang.reflect.Method;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/testing&quot;)\r\n    public class TestingController {\r\n        @Autowired\r\n        RequestMappingHandlerMapping mappingHandler;\r\n\r\n        @GetMapping(&quot;/switch&quot;)\r\n        public void switchHandler() throws Exception {\r\n            RequestMappingInfo oldInfo = RequestMappingInfo.paths(&quot;/api/testing/old&quot;)\r\n                    .methods(RequestMethod.GET)\r\n                    .build();\r\n            mappingHandler.unregisterMapping(oldInfo);\r\n\r\n            RequestMappingInfo newInfo = RequestMappingInfo.paths(&quot;/api/testing/new&quot;)\r\n                    .methods(RequestMethod.GET)\r\n                    .build();\r\n            Method method = this.getClass().getDeclaredMethod(&quot;oldHandler&quot;);\r\n            mappingHandler.registerMapping(newInfo, this, method);\r\n        }\r\n\r\n        @GetMapping(&quot;/old&quot;)\r\n        public void oldHandler() {\r\n            System.out.println(&quot;old endpoint&quot;);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to change endpoint at runtime","body":"<p>You have <code>/old</code> and <code>/switch</code> endpoints.</p>\n<p>After calling <code>/switch</code>, <code>/old</code> stops working (because of <code>unregisterMapping</code>) and <code>/new</code> works instead (because of <code>registerMapping</code>).</p>\n<p>The logic of new method handler is passed as <code>Method</code> from java reflection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.mvc.method.RequestMappingInfo;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\n\nimport java.lang.reflect.Method;\n\n@RestController\n@RequestMapping(&quot;/api/testing&quot;)\npublic class TestingController {\n    @Autowired\n    RequestMappingHandlerMapping mappingHandler;\n\n    @GetMapping(&quot;/switch&quot;)\n    public void switchHandler() throws Exception {\n        RequestMappingInfo oldInfo = RequestMappingInfo.paths(&quot;/api/testing/old&quot;)\n                .methods(RequestMethod.GET)\n                .build();\n        mappingHandler.unregisterMapping(oldInfo);\n\n        RequestMappingInfo newInfo = RequestMappingInfo.paths(&quot;/api/testing/new&quot;)\n                .methods(RequestMethod.GET)\n                .build();\n        Method method = this.getClass().getDeclaredMethod(&quot;oldHandler&quot;);\n        mappingHandler.registerMapping(newInfo, this, method);\n    }\n\n    @GetMapping(&quot;/old&quot;)\n    public void oldHandler() {\n        System.out.println(&quot;old endpoint&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27388655,"reputation":3,"user_id":20892030,"display_name":"feyfhe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76505385,"answer_count":1,"score":0,"last_activity_date":1687167476,"creation_date":1687165806,"question_id":76505185,"body_markdown":"How to change endpoint at runtime\r\n\r\nexample: GET localhost:8080/old-endpoint\r\n\r\nhow to set same endpoint url to GET localhost:8080/new-point\r\n\r\ni found that &quot;${dynamic.endpoint}&quot; and read from application.properties but i don&#39;t want it. I&#39;m trying to edit endpoint according to if else blocks.\r\n\r\nI know that path variable or request param or control from application.properties but it doesn&#39;t work for me","title":"How to change endpoint at runtime","body":"<p>How to change endpoint at runtime</p>\n<p>example: GET localhost:8080/old-endpoint</p>\n<p>how to set same endpoint url to GET localhost:8080/new-point</p>\n<p>i found that &quot;${dynamic.endpoint}&quot; and read from application.properties but i don't want it. I'm trying to edit endpoint according to if else blocks.</p>\n<p>I know that path variable or request param or control from application.properties but it doesn't work for me</p>\n"},{"tags":["java","android","xiaomi"],"owner":{"account_id":28849662,"reputation":1,"user_id":22095829,"display_name":"Ruslan Chepkasov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687167199,"creation_date":1687167199,"question_id":76505355,"body_markdown":"I have Java Android App that associated with my certificated web site by deep link in my AndroidManifest.xml. When this web site is opening in browser (Chrome, Firefox, etc.) it shows &quot;Open In&quot; dialog and navigates to Android App. I tested it in many browsers and it works fine but not in Xiaomi default browser, this browser just opens web site and don&#39;t do anything more. It works only if I manualy select url from address bar and choose &quot;Open&quot;.\r\n\r\nAnyone knows why it could be, does Mi Browser not supporting navigation to apps by deep linking?\r\n\r\nI tried to find anything about Mi browser problems with this, but found nothing.","title":"Why deep linking not working in Mi Browser?","body":"<p>I have Java Android App that associated with my certificated web site by deep link in my AndroidManifest.xml. When this web site is opening in browser (Chrome, Firefox, etc.) it shows &quot;Open In&quot; dialog and navigates to Android App. I tested it in many browsers and it works fine but not in Xiaomi default browser, this browser just opens web site and don't do anything more. It works only if I manualy select url from address bar and choose &quot;Open&quot;.</p>\n<p>Anyone knows why it could be, does Mi Browser not supporting navigation to apps by deep linking?</p>\n<p>I tried to find anything about Mi browser problems with this, but found nothing.</p>\n"},{"tags":["java","reactjs","spring-boot","production"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687091348,"post_id":76500518,"comment_id":134885818,"body_markdown":"Please show a [mcve] of all relevant code, errors, and configs","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of all relevant code, errors, and configs"}],"owner":{"account_id":28844563,"reputation":1,"user_id":22091939,"display_name":"Prince Charming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687166798,"creation_date":1687091088,"question_id":76500518,"body_markdown":"I have a production server having tomcat server in sentora zpanel.\r\nI have created two war files for ReactJS production build files and SpringBoot war files.\r\nI have assigned https domain name to ReactJS war file and connecting SpringBoot war file with http api.\r\nIn localhost it is working fine but in production it is not working. I have resolved cors issue in localhost.\r\n\r\nHow to connect ReactJS to Springboot api, and need to resolve production issues while connecting each other","title":"Facing issue in connecting ReactJS to SpringBoot in production server hosting in same tomcat server","body":"<p>I have a production server having tomcat server in sentora zpanel.\nI have created two war files for ReactJS production build files and SpringBoot war files.\nI have assigned https domain name to ReactJS war file and connecting SpringBoot war file with http api.\nIn localhost it is working fine but in production it is not working. I have resolved cors issue in localhost.</p>\n<p>How to connect ReactJS to Springboot api, and need to resolve production issues while connecting each other</p>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1686931652,"post_id":76491801,"comment_id":134871169,"body_markdown":"easy way (not necessarily the best): use (pseudo-)html [How to Use HTML in Swing Components](https://docs.oracle.com/javase/tutorial/uiswing/components/html.html) (e.g. `&quot;&lt;html&gt;Show longest&lt;br&gt;task&quot;`) | also [How to add a multi line text to a JButton with the line unknown? (dynamically)](https://stackoverflow.com/questions/15746970/how-to-add-a-multi-line-text-to-a-jbutton-with-the-line-unknown-dynamically)","body":"easy way (not necessarily the best): use (pseudo-)html <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/html.html\" rel=\"nofollow noreferrer\">How to Use HTML in Swing Components</a> (e.g. <code>&quot;&lt;html&gt;Show longest&lt;br&gt;task&quot;</code>) | also <a href=\"https://stackoverflow.com/questions/15746970/how-to-add-a-multi-line-text-to-a-jbutton-with-the-line-unknown-dynamically\">How to add a multi line text to a JButton with the line unknown? (dynamically)</a>"},{"owner":{"account_id":28835330,"reputation":1,"user_id":22084867,"display_name":"Dharvish"},"score":0,"creation_date":1687166147,"post_id":76491801,"comment_id":134893732,"body_markdown":"@user16320675 Just checked with my lecturer and he says that using html in java will be fine as long as I use JOption. Many thanks!","body":"@user16320675 Just checked with my lecturer and he says that using html in java will be fine as long as I use JOption. Many thanks!"}],"owner":{"account_id":28835330,"reputation":1,"user_id":22084867,"display_name":"Dharvish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689927024,"answer_count":0,"score":0,"last_activity_date":1687166506,"creation_date":1686930703,"question_id":76491801,"body_markdown":"\r\nFor some reason, JOptionPane.showOptionDialog does not accept \\n on runtime. It aknowledges it by not displaying &quot;\\n&quot; or giving any errors but it also does not create a new line for the text. I cannot use a text block as it is stored to an array. I don&#39;t understand how it happened but this is a very strange bug. To my knowledge, &quot;\\n&quot; creates a new line that any text afterwards will be outputted there.\r\n```\r\nint intReportOption = 0;\r\nString[] strReportOptions =\r\n   {\r\n      &quot;Show tasks\\nthat are done&quot;,\r\n      &quot;Show longest\\ntask&quot;,\r\n      &quot;Search for task\\nby task name&quot;,\r\n      &quot;Search for task by\\nassigned person&quot;,\r\n      &quot;Delete\\ntask&quot;,\r\n      &quot;Show\\nreport&quot;,\r\n      &quot;Exit&quot;\r\n   };\r\n      while (intReportOption != 6)\r\n   {\r\n      intReportOption = JOptionPane.showOptionDialog(null,\r\n      &quot;Pick an option&quot;,\r\n      &quot;EasyKanban&quot;,\r\n      JOptionPane.DEFAULT_OPTION,\r\n      JOptionPane.QUESTION_MESSAGE,\r\n      null,\r\n      strReportOptions,\r\n      strReportOptions[0]);\r\n}\r\n```\r\nMost searches on google say to use &quot;\\n&quot; with some giving html syntax(for java?) which means my problem is special or stupid.\r\nAny help/suggestions would be greatly appreciated.","title":"JOptionPane.showOptionDialog not able to use \\n for text in button","body":"<p>For some reason, JOptionPane.showOptionDialog does not accept \\n on runtime. It aknowledges it by not displaying &quot;\\n&quot; or giving any errors but it also does not create a new line for the text. I cannot use a text block as it is stored to an array. I don't understand how it happened but this is a very strange bug. To my knowledge, &quot;\\n&quot; creates a new line that any text afterwards will be outputted there.</p>\n<pre><code>int intReportOption = 0;\nString[] strReportOptions =\n   {\n      &quot;Show tasks\\nthat are done&quot;,\n      &quot;Show longest\\ntask&quot;,\n      &quot;Search for task\\nby task name&quot;,\n      &quot;Search for task by\\nassigned person&quot;,\n      &quot;Delete\\ntask&quot;,\n      &quot;Show\\nreport&quot;,\n      &quot;Exit&quot;\n   };\n      while (intReportOption != 6)\n   {\n      intReportOption = JOptionPane.showOptionDialog(null,\n      &quot;Pick an option&quot;,\n      &quot;EasyKanban&quot;,\n      JOptionPane.DEFAULT_OPTION,\n      JOptionPane.QUESTION_MESSAGE,\n      null,\n      strReportOptions,\n      strReportOptions[0]);\n}\n</code></pre>\n<p>Most searches on google say to use &quot;\\n&quot; with some giving html syntax(for java?) which means my problem is special or stupid.\nAny help/suggestions would be greatly appreciated.</p>\n"},{"tags":["java","random"],"answers":[{"tags":[],"owner":{"account_id":121115,"reputation":184,"user_id":313963,"accept_rate":56,"display_name":"manuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271131210,"creation_date":1271131210,"answer_id":2626897,"question_id":2626835,"body_markdown":"Take a look at Java [Randomizer][1] class.\r\nI think you can randomize a character using the randomize(char[] array) method.\r\n\r\n\r\n  [1]: http://docs.huihoo.com/javadoc/liferay/4.2/util-java/com/liferay/util/Randomizer.html","title":"Is there functionality to generate a random character in Java?","body":"<p>Take a look at Java <a href=\"http://docs.huihoo.com/javadoc/liferay/4.2/util-java/com/liferay/util/Randomizer.html\" rel=\"nofollow noreferrer\">Randomizer</a> class.\nI think you can randomize a character using the randomize(char[] array) method.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":102,"is_accepted":true,"score":101,"last_activity_date":1271133836,"creation_date":1271133122,"answer_id":2626989,"question_id":2626835,"body_markdown":"There are many ways to do this, but yes, it involves generating a random `int` (using e.g. [`java.util.Random.nextInt`](http://java.sun.com/javase/6/docs/api/java/util/Random.html)) and then using that to map to a `char`. If you have a specific alphabet, then something like this is nifty:\r\n\r\n\t\timport java.util.Random;\r\n\r\n\t\t//...\r\n\r\n\t\tRandom r = new Random();\r\n\t\t\r\n\t\tString alphabet = &quot;123xyz&quot;;\r\n\t\tfor (int i = 0; i &lt; 50; i++) {\r\n\t\t\tSystem.out.println(alphabet.charAt(r.nextInt(alphabet.length())));\r\n\t\t} // prints 50 random characters from alphabet\r\n\r\n---\r\n\r\nDo note that `java.util.Random` is actually a [_pseudo_-random number generator](http://en.wikipedia.org/wiki/Pseudorandom_number_generator) based on the rather weak [linear congruence formula](http://en.wikipedia.org/wiki/Linear_congruential_generator). You mentioned the need for cryptography; you may want to investigate the use of a much stronger [cryptographically secure pseudorandom number generator](http://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator) in that case (e.g. [`java.security.SecureRandom`](http://java.sun.com/javase/6/docs/api/java/security/SecureRandom.html)).","title":"Is there functionality to generate a random character in Java?","body":"<p>There are many ways to do this, but yes, it involves generating a random <code>int</code> (using e.g. <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Random.html\" rel=\"noreferrer\"><code>java.util.Random.nextInt</code></a>) and then using that to map to a <code>char</code>. If you have a specific alphabet, then something like this is nifty:</p>\n\n<pre><code>    import java.util.Random;\n\n    //...\n\n    Random r = new Random();\n\n    String alphabet = \"123xyz\";\n    for (int i = 0; i &lt; 50; i++) {\n        System.out.println(alphabet.charAt(r.nextInt(alphabet.length())));\n    } // prints 50 random characters from alphabet\n</code></pre>\n\n<hr>\n\n<p>Do note that <code>java.util.Random</code> is actually a <a href=\"http://en.wikipedia.org/wiki/Pseudorandom_number_generator\" rel=\"noreferrer\"><em>pseudo</em>-random number generator</a> based on the rather weak <a href=\"http://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"noreferrer\">linear congruence formula</a>. You mentioned the need for cryptography; you may want to investigate the use of a much stronger <a href=\"http://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator\" rel=\"noreferrer\">cryptographically secure pseudorandom number generator</a> in that case (e.g. <a href=\"http://java.sun.com/javase/6/docs/api/java/security/SecureRandom.html\" rel=\"noreferrer\"><code>java.security.SecureRandom</code></a>).</p>\n"},{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1271134330,"creation_date":1271134330,"answer_id":2627050,"question_id":2626835,"body_markdown":"       Random randomGenerator = new Random();\r\n\r\n       int i = randomGenerator.nextInt(256);\r\n       System.out.println((char)i);\r\n\r\n\r\nShould take care of what you want, assuming you consider &#39;0,&#39;1&#39;,&#39;2&#39;.. as characters.","title":"Is there functionality to generate a random character in Java?","body":"<pre><code>   Random randomGenerator = new Random();\n\n   int i = randomGenerator.nextInt(256);\n   System.out.println((char)i);\n</code></pre>\n\n<p>Should take care of what you want, assuming you consider '0,'1','2'.. as characters.</p>\n"},{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1271143151,"creation_date":1271142848,"answer_id":2627657,"question_id":2626835,"body_markdown":"You could use generators from the [Quickcheck specification-based test framework][1].\r\n\r\nTo create a random string use [anyString][2] method.\r\n\r\n    String x = anyString();\r\n\r\nYou could create strings from a more restricted set of characters or with min/max size restrictions.\r\n\r\nNormally you would run tests with multiple values:\r\n\r\n    @Test\r\n    public void myTest() {\r\n      for (List&lt;Integer&gt; any : someLists(integers())) {\r\n        //A test executed with integer lists\r\n      }\r\n    }\r\n\r\n  [1]: https://quickcheck.dev.java.net/\r\n  [2]: https://quickcheck.dev.java.net/javadoc/net/java/quickcheck/generator/PrimitiveGeneratorSamples.html#anyString%28%29","title":"Is there functionality to generate a random character in Java?","body":"<p>You could use generators from the <a href=\"https://quickcheck.dev.java.net/\" rel=\"nofollow noreferrer\">Quickcheck specification-based test framework</a>.</p>\n\n<p>To create a random string use <a href=\"https://quickcheck.dev.java.net/javadoc/net/java/quickcheck/generator/PrimitiveGeneratorSamples.html#anyString%28%29\" rel=\"nofollow noreferrer\">anyString</a> method.</p>\n\n<pre><code>String x = anyString();\n</code></pre>\n\n<p>You could create strings from a more restricted set of characters or with min/max size restrictions.</p>\n\n<p>Normally you would run tests with multiple values:</p>\n\n<pre><code>@Test\npublic void myTest() {\n  for (List&lt;Integer&gt; any : someLists(integers())) {\n    //A test executed with integer lists\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":150,"is_accepted":false,"score":150,"last_activity_date":1271144730,"creation_date":1271144730,"answer_id":2627801,"question_id":2626835,"body_markdown":"To generate a random char in a-z:\r\n\r\n    Random r = new Random();\r\n    char c = (char)(r.nextInt(26) + &#39;a&#39;);\r\n\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p>To generate a random char in a-z:</p>\n\n<pre><code>Random r = new Random();\nchar c = (char)(r.nextInt(26) + 'a');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1686502978,"creation_date":1271145517,"answer_id":2627866,"question_id":2626835,"body_markdown":"Using [dollar][1]:\r\n\r\n    Iterable&lt;Character&gt; chars = $(&#39;a&#39;, &#39;z&#39;); // &#39;a&#39;, &#39;b&#39;, c, d .. z\r\n\r\nGiven `chars`, you can build a &quot;shuffled&quot; range of characters:\r\n\r\n    Iterable&lt;Character&gt; shuffledChars = $(&#39;a&#39;, &#39;z&#39;).shuffle();\r\n\r\nThen taking the first `n` characters, you get a random string of length `n`. The final code is simply:\r\n\r\n    public String randomString(int n) {\r\n        return $(&#39;a&#39;, &#39;z&#39;).shuffle().slice(n).toString();\r\n    }\r\n\r\n**NB**: the condition `n &gt; 0` is checked by `slice`.\r\n\r\nAs Steve correctly pointed out, `randomString` uses at most once each letter. As workaround, you can repeat the alphabet `m` times before call `shuffle`:\r\n\r\n    public String randomStringWithRepetitions(int n) {\r\n        return $(&#39;a&#39;, &#39;z&#39;).repeat(10).shuffle().slice(n).toString();\r\n    }\r\n\r\nOr just provide your alphabet as `String`:\r\n\r\n    public String randomStringFromAlphabet(String alphabet, int n) {\r\n        return $(alphabet).shuffle().slice(n).toString();\r\n    }\r\n\r\n    String s = randomStringFromAlphabet(&quot;00001111&quot;, 4);\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar\r\n\r\n\r\n\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p>Using <a href=\"http://bitbucket.org/dfa/dollar\" rel=\"nofollow noreferrer\">dollar</a>:</p>\n<pre><code>Iterable&lt;Character&gt; chars = $('a', 'z'); // 'a', 'b', c, d .. z\n</code></pre>\n<p>Given <code>chars</code>, you can build a &quot;shuffled&quot; range of characters:</p>\n<pre><code>Iterable&lt;Character&gt; shuffledChars = $('a', 'z').shuffle();\n</code></pre>\n<p>Then taking the first <code>n</code> characters, you get a random string of length <code>n</code>. The final code is simply:</p>\n<pre><code>public String randomString(int n) {\n    return $('a', 'z').shuffle().slice(n).toString();\n}\n</code></pre>\n<p><strong>NB</strong>: the condition <code>n &gt; 0</code> is checked by <code>slice</code>.</p>\n<p>As Steve correctly pointed out, <code>randomString</code> uses at most once each letter. As workaround, you can repeat the alphabet <code>m</code> times before call <code>shuffle</code>:</p>\n<pre><code>public String randomStringWithRepetitions(int n) {\n    return $('a', 'z').repeat(10).shuffle().slice(n).toString();\n}\n</code></pre>\n<p>Or just provide your alphabet as <code>String</code>:</p>\n<pre><code>public String randomStringFromAlphabet(String alphabet, int n) {\n    return $(alphabet).shuffle().slice(n).toString();\n}\n\nString s = randomStringFromAlphabet(&quot;00001111&quot;, 4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1271145893,"creation_date":1271145893,"answer_id":2627897,"question_id":2626835,"body_markdown":"\tprivate static char rndChar () {\r\n\t\tint rnd = (int) (Math.random() * 52); // or use Random or whatever\r\n\t\tchar base = (rnd &lt; 26) ? &#39;A&#39; : &#39;a&#39;;\r\n\t\treturn (char) (base + rnd % 26);\r\n\r\n\t}\r\n\r\nGenerates values in the ranges a-z, A-Z.","title":"Is there functionality to generate a random character in Java?","body":"<pre><code>private static char rndChar () {\n    int rnd = (int) (Math.random() * 52); // or use Random or whatever\n    char base = (rnd &lt; 26) ? 'A' : 'a';\n    return (char) (base + rnd % 26);\n\n}\n</code></pre>\n\n<p>Generates values in the ranges a-z, A-Z.</p>\n"},{"tags":[],"owner":{"account_id":971402,"reputation":1807,"user_id":993920,"display_name":"Josema"},"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1686503568,"creation_date":1327513756,"answer_id":9007522,"question_id":2626835,"body_markdown":"You could also use the RandomStringUtils from the [Apache Commons][1] project:\r\n\r\nDependency:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n  &lt;version&gt;3.8.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nUsages:\r\n\r\n```lang-java\r\nRandomStringUtils.randomAlphabetic(stringLength);\r\nRandomStringUtils.randomAlphanumeric(stringLength);\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons\r\n\r\n\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p>You could also use the RandomStringUtils from the <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"nofollow noreferrer\">Apache Commons</a> project:</p>\n<p>Dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Usages:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RandomStringUtils.randomAlphabetic(stringLength);\nRandomStringUtils.randomAlphanumeric(stringLength);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908412,"reputation":38019,"user_id":1722818,"accept_rate":58,"display_name":"duggu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1686503735,"creation_date":1356351932,"answer_id":14021385,"question_id":2626835,"body_markdown":"In the following 97 is the ASCII value of small &quot;a&quot;.\r\n\r\n    public static char randomSeriesForThreeCharacter() {\r\n        Random r = new Random();\r\n        char random_3_Char = (char) (97 + r.nextInt(3));\r\n        return random_3_Char;\r\n    }\r\n\r\nIn the above, 3 is the number for a, b, c or d and if you want all characters, like a to z, then you replace 3 number to 25.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p>In the following 97 is the ASCII value of small &quot;a&quot;.</p>\n<pre><code>public static char randomSeriesForThreeCharacter() {\n    Random r = new Random();\n    char random_3_Char = (char) (97 + r.nextInt(3));\n    return random_3_Char;\n}\n</code></pre>\n<p>In the above, 3 is the number for a, b, c or d and if you want all characters, like a to z, then you replace 3 number to 25.</p>\n"},{"tags":[],"owner":{"account_id":2071615,"reputation":7603,"user_id":1845976,"accept_rate":56,"display_name":"schnatterer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686503919,"creation_date":1386057442,"answer_id":20345686,"question_id":2626835,"body_markdown":"[polygenelubricants&#39; answer][1] is also a good solution if you only want to generate hexadecimal values:\r\n\r\n    /** A list of all valid hexadecimal characters. */\r\n    private static char[] HEX_VALUES = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39; };\r\n\r\n    /** Random number generator to be used to create random chars. */\r\n    private static Random RANDOM = new SecureRandom();\r\n\r\n    /**\r\n     * Creates a number of random hexadecimal characters.\r\n     *\r\n     * @param nValues the amount of characters to generate\r\n     *\r\n     * @return an array containing &lt;code&gt;nValues&lt;/code&gt; hex chars\r\n     */\r\n    public static char[] createRandomHexValues(int nValues) {\r\n        char[] ret = new char[nValues];\r\n        for (int i = 0; i &lt; nValues; i++) {\r\n            ret[i] = HEX_VALUES[RANDOM.nextInt(HEX_VALUES.length)];\r\n        }\r\n        return ret;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/2626989/1845976\r\n\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p><a href=\"https://stackoverflow.com/a/2626989/1845976\">polygenelubricants' answer</a> is also a good solution if you only want to generate hexadecimal values:</p>\n<pre><code>/** A list of all valid hexadecimal characters. */\nprivate static char[] HEX_VALUES = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', 'A', 'B', 'C', 'D', 'E', 'F' };\n\n/** Random number generator to be used to create random chars. */\nprivate static Random RANDOM = new SecureRandom();\n\n/**\n * Creates a number of random hexadecimal characters.\n *\n * @param nValues the amount of characters to generate\n *\n * @return an array containing &lt;code&gt;nValues&lt;/code&gt; hex chars\n */\npublic static char[] createRandomHexValues(int nValues) {\n    char[] ret = new char[nValues];\n    for (int i = 0; i &lt; nValues; i++) {\n        ret[i] = HEX_VALUES[RANDOM.nextInt(HEX_VALUES.length)];\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3786284,"reputation":161,"user_id":3144146,"display_name":"Ricardo Vallejo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1525463265,"creation_date":1388331146,"answer_id":20826779,"question_id":2626835,"body_markdown":"    String abc = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\r\n    char letter = abc.charAt(rd.nextInt(abc.length()));\r\n\r\nThis one works as well.","title":"Is there functionality to generate a random character in Java?","body":"<pre><code>String abc = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\nchar letter = abc.charAt(rd.nextInt(abc.length()));\n</code></pre>\n\n<p>This one works as well.</p>\n"},{"tags":[],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1488742692,"creation_date":1488742474,"answer_id":42612994,"question_id":2626835,"body_markdown":"If you don&#39;t mind adding a new library in your code you can generate characters with [MockNeat][1] (disclaimer: I am one of the authors).\r\n\r\n    MockNeat mock = MockNeat.threadLocal();\r\n\r\n    Character chr = mock.chars().val();\r\n    Character lowerLetter = mock.chars().lowerLetters().val();\r\n    Character upperLetter = mock.chars().upperLetters().val();\r\n    Character digit = mock.chars().digits().val();\r\n    Character hex = mock.chars().hex().val(); \r\n\r\n  [1]: https://github.com/nomemory/mockneat","title":"Is there functionality to generate a random character in Java?","body":"<p>If you don't mind adding a new library in your code you can generate characters with <a href=\"https://github.com/nomemory/mockneat\" rel=\"nofollow noreferrer\">MockNeat</a> (disclaimer: I am one of the authors).</p>\n\n<pre><code>MockNeat mock = MockNeat.threadLocal();\n\nCharacter chr = mock.chars().val();\nCharacter lowerLetter = mock.chars().lowerLetters().val();\nCharacter upperLetter = mock.chars().upperLetters().val();\nCharacter digit = mock.chars().digits().val();\nCharacter hex = mock.chars().hex().val(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12576377,"reputation":51,"user_id":9148656,"display_name":"Marcin Programista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520247810,"creation_date":1514455356,"answer_id":48005393,"question_id":2626835,"body_markdown":"My propose for generating random string with mixed case like: **&quot;DthJwMvsTyu&quot;**.&lt;br&gt;\r\nThis algorithm based on ASCII codes of letters when its codes `a-z` (97 to 122) and `A-Z` (65 to 90) differs in 5th bit (2^5 or 1 &lt;&lt; 5 or 32).\r\n\r\n`random.nextInt(2)`: result is 0 or 1.&lt;br&gt;\r\n\r\n`random.nextInt(2) &lt;&lt; 5`: result is 0 or 32.\r\n\r\nUpper `A` is 65 and lower `a` is 97. Difference is only on 5th bit (32) so for generating random char we do binary OR &#39;|&#39; random `charCaseBit` (0 or 32) and random code from `A` to `Z` (65 to 90).\r\n\r\n    public String fastestRandomStringWithMixedCase(int length) {\r\n        Random random = new Random();\r\n        final int alphabetLength = &#39;Z&#39; - &#39;A&#39; + 1;\r\n        StringBuilder result = new StringBuilder(length);\r\n        while (result.length() &lt; length) {\r\n            final char charCaseBit = (char) (random.nextInt(2) &lt;&lt; 5);\r\n            result.append((char) (charCaseBit | (&#39;A&#39; + random.nextInt(alphabetLength))));\r\n        }\r\n        return result.toString();\r\n    }\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p>My propose for generating random string with mixed case like: <strong>\"DthJwMvsTyu\"</strong>.<br>\nThis algorithm based on ASCII codes of letters when its codes <code>a-z</code> (97 to 122) and <code>A-Z</code> (65 to 90) differs in 5th bit (2^5 or 1 &lt;&lt; 5 or 32).</p>\n\n<p><code>random.nextInt(2)</code>: result is 0 or 1.<br></p>\n\n<p><code>random.nextInt(2) &lt;&lt; 5</code>: result is 0 or 32.</p>\n\n<p>Upper <code>A</code> is 65 and lower <code>a</code> is 97. Difference is only on 5th bit (32) so for generating random char we do binary OR '|' random <code>charCaseBit</code> (0 or 32) and random code from <code>A</code> to <code>Z</code> (65 to 90).</p>\n\n<pre><code>public String fastestRandomStringWithMixedCase(int length) {\n    Random random = new Random();\n    final int alphabetLength = 'Z' - 'A' + 1;\n    StringBuilder result = new StringBuilder(length);\n    while (result.length() &lt; length) {\n        final char charCaseBit = (char) (random.nextInt(2) &lt;&lt; 5);\n        result.append((char) (charCaseBit | ('A' + random.nextInt(alphabetLength))));\n    }\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14884258,"reputation":111,"user_id":10747889,"display_name":"Abhishek Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544187223,"creation_date":1544169342,"answer_id":53665380,"question_id":2626835,"body_markdown":"Here is the code to generate random alphanumeric code. First you have to declare a string of allowed characters what you want to include in random number.and also define max length of string\r\n        \r\n \r\n    \r\n     SecureRandom secureRandom = new SecureRandom();\r\n     String CHARACTERS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789&quot;;\r\n        StringBuilder generatedString= new StringBuilder();\r\n        for (int i = 0; i &lt; MAXIMUM_LENGTH; i++) {\r\n            int randonSequence = secureRandom .nextInt(CHARACTERS.length());\r\n            generatedString.append(CHARACTERS.charAt(randonSequence));\r\n        }\r\n\r\nUse toString() method to get String from StringBuilder","title":"Is there functionality to generate a random character in Java?","body":"<p>Here is the code to generate random alphanumeric code. First you have to declare a string of allowed characters what you want to include in random number.and also define max length of string</p>\n\n<pre><code> SecureRandom secureRandom = new SecureRandom();\n String CHARACTERS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789\";\n    StringBuilder generatedString= new StringBuilder();\n    for (int i = 0; i &lt; MAXIMUM_LENGTH; i++) {\n        int randonSequence = secureRandom .nextInt(CHARACTERS.length());\n        generatedString.append(CHARACTERS.charAt(randonSequence));\n    }\n</code></pre>\n\n<p>Use toString() method to get String from StringBuilder</p>\n"},{"tags":[],"owner":{"account_id":6283998,"reputation":198,"user_id":4883950,"display_name":"Gulbala Salamov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555225332,"creation_date":1555225332,"answer_id":55672764,"question_id":2626835,"body_markdown":"This is a simple but useful discovery. It defines a class named **RandomCharacter** with 5 overloaded methods to get a certain type of character randomly. You can use these methods in your future projects.\r\n\r\n        public class RandomCharacter {\r\n    \t/** Generate a random character between ch1 and ch2 */\r\n    \tpublic static char getRandomCharacter(char ch1, char ch2) {\r\n    \t\treturn (char) (ch1 + Math.random() * (ch2 - ch1 + 1));\r\n    \t}\r\n    \r\n    \t/** Generate a random lowercase letter */\r\n    \tpublic static char getRandomLowerCaseLetter() {\r\n    \t\treturn getRandomCharacter(&#39;a&#39;, &#39;z&#39;);\r\n    \t}\r\n    \r\n    \t/** Generate a random uppercase letter */\r\n    \tpublic static char getRandomUpperCaseLetter() {\r\n    \t\treturn getRandomCharacter(&#39;A&#39;, &#39;Z&#39;);\r\n    \t}\r\n    \r\n    \t/** Generate a random digit character */\r\n    \tpublic static char getRandomDigitCharacter() {\r\n    \t\treturn getRandomCharacter(&#39;0&#39;, &#39;9&#39;);\r\n    \t}\r\n    \r\n    \t/** Generate a random character */\r\n    \tpublic static char getRandomCharacter() {\r\n    \t\treturn getRandomCharacter(&#39;\\u0000&#39;, &#39;\\uFFFF&#39;);\r\n    \t}\r\n    }\r\n\r\nTo demonstrate how it works let&#39;s have a look at the following test program displaying 175 random lowercase letters.\r\n\r\n    public class TestRandomCharacter {\r\n    \t/** Main method */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal int NUMBER_OF_CHARS = 175;\r\n    \t\tfinal int CHARS_PER_LINE = 25;\r\n    \t\t// Print random characters between &#39;a&#39; and &#39;z&#39;, 25 chars per line\r\n    \t\tfor (int i = 0; i &lt; NUMBER_OF_CHARS; i++) {\r\n    \t\t\tchar ch = RandomCharacter.getRandomLowerCaseLetter();\r\n    \t\t\tif ((i + 1) % CHARS_PER_LINE == 0)\r\n    \t\t\t\tSystem.out.println(ch);\r\n    \t\t\telse\r\n    \t\t\t\tSystem.out.print(ch);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nand the output is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nif you run one more time again:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI am giving credit to **Y.Daniel Liang** for his book [Introduction to Java Programming, Comprehensive Version, 10th Edition,][3] where I cited this knowledge from and use in my projects. \r\n\r\n**Note**: If you are unfamiliar with overloaded methhods, in a nutshell Method Overloading is a feature that allows a class to have more than one method having the same name, if their argument lists are different. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fXsYB.png\r\n  [2]: https://i.stack.imgur.com/RhIrV.png\r\n  [3]: https://www.amazon.com/Intro-Java-Programming-Comprehensive-Version/dp/0133761312","title":"Is there functionality to generate a random character in Java?","body":"<p>This is a simple but useful discovery. It defines a class named <strong>RandomCharacter</strong> with 5 overloaded methods to get a certain type of character randomly. You can use these methods in your future projects.</p>\n\n<pre><code>    public class RandomCharacter {\n    /** Generate a random character between ch1 and ch2 */\n    public static char getRandomCharacter(char ch1, char ch2) {\n        return (char) (ch1 + Math.random() * (ch2 - ch1 + 1));\n    }\n\n    /** Generate a random lowercase letter */\n    public static char getRandomLowerCaseLetter() {\n        return getRandomCharacter('a', 'z');\n    }\n\n    /** Generate a random uppercase letter */\n    public static char getRandomUpperCaseLetter() {\n        return getRandomCharacter('A', 'Z');\n    }\n\n    /** Generate a random digit character */\n    public static char getRandomDigitCharacter() {\n        return getRandomCharacter('0', '9');\n    }\n\n    /** Generate a random character */\n    public static char getRandomCharacter() {\n        return getRandomCharacter('\\u0000', '\\uFFFF');\n    }\n}\n</code></pre>\n\n<p>To demonstrate how it works let's have a look at the following test program displaying 175 random lowercase letters.</p>\n\n<pre><code>public class TestRandomCharacter {\n    /** Main method */\n    public static void main(String[] args) {\n        final int NUMBER_OF_CHARS = 175;\n        final int CHARS_PER_LINE = 25;\n        // Print random characters between 'a' and 'z', 25 chars per line\n        for (int i = 0; i &lt; NUMBER_OF_CHARS; i++) {\n            char ch = RandomCharacter.getRandomLowerCaseLetter();\n            if ((i + 1) % CHARS_PER_LINE == 0)\n                System.out.println(ch);\n            else\n                System.out.print(ch);\n        }\n    }\n}\n</code></pre>\n\n<p>and the output is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fXsYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fXsYB.png\" alt=\"enter image description here\"></a></p>\n\n<p>if you run one more time again:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RhIrV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RhIrV.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am giving credit to <strong>Y.Daniel Liang</strong> for his book <a href=\"https://rads.stackoverflow.com/amzn/click/com/0133761312\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Introduction to Java Programming, Comprehensive Version, 10th Edition,</a> where I cited this knowledge from and use in my projects. </p>\n\n<p><strong>Note</strong>: If you are unfamiliar with overloaded methhods, in a nutshell Method Overloading is a feature that allows a class to have more than one method having the same name, if their argument lists are different. </p>\n"},{"tags":[],"owner":{"account_id":13782661,"reputation":455,"user_id":9947435,"display_name":"Farshid Ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580062732,"creation_date":1580062732,"answer_id":59921348,"question_id":2626835,"body_markdown":"In fact mentioned methods don&#39;t generate real random char. To generate real random char you should give it a random seed! in example time in millisecond. this code generate 10 random char and then Convert it to String:\r\n\r\n    import java.util.Random;\r\n    public class MyClass {\r\n        public static void main() {\r\n\r\n         String randomKey;\r\n    \r\n        char[] tempArray={0,0,0,0,0,0,0,0,0,0};  //ten characters\r\n    \r\n        long seed=System.currentTimeMillis();\r\n        Random random=new Random(seed);\r\n        for (int aux=0; aux&lt;10;aux++){\r\n            \r\n            tempArray[aux]=(char) random.nextInt(255);\r\n            System.out.println(tempArray[aux]);\r\n        }\r\n    \r\n        randomKey=String.copyValueOf(tempArray);  \r\n    \r\n    \r\n          System.out.println(randomKey);\r\n        }\r\n    }","title":"Is there functionality to generate a random character in Java?","body":"<p>In fact mentioned methods don't generate real random char. To generate real random char you should give it a random seed! in example time in millisecond. this code generate 10 random char and then Convert it to String:</p>\n\n<pre><code>import java.util.Random;\npublic class MyClass {\n    public static void main() {\n\n     String randomKey;\n\n    char[] tempArray={0,0,0,0,0,0,0,0,0,0};  //ten characters\n\n    long seed=System.currentTimeMillis();\n    Random random=new Random(seed);\n    for (int aux=0; aux&lt;10;aux++){\n\n        tempArray[aux]=(char) random.nextInt(255);\n        System.out.println(tempArray[aux]);\n    }\n\n    randomKey=String.copyValueOf(tempArray);  \n\n\n      System.out.println(randomKey);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18060580,"reputation":1,"user_id":13127801,"display_name":"ArsamP"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1585217349,"creation_date":1585215964,"answer_id":60864503,"question_id":2626835,"body_markdown":"```\r\npublic static void  main(String[] args) {\r\n    \r\n  //  System.out.println(&quot;Enter a number to changeit at char  &quot;);\r\n    Random random = new Random();\r\n\r\n    int x = random.nextInt(26)+65;    //0  to 25\r\n    System.out.println((char)x);\r\n}\r\n```","title":"Is there functionality to generate a random character in Java?","body":"<pre><code>public static void  main(String[] args) {\n\n  //  System.out.println(\"Enter a number to changeit at char  \");\n    Random random = new Random();\n\n    int x = random.nextInt(26)+65;    //0  to 25\n    System.out.println((char)x);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18317029,"reputation":1,"user_id":13338604,"display_name":"Andrewsz82"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587825047,"creation_date":1587825047,"answer_id":61427242,"question_id":2626835,"body_markdown":"I use this:\r\n\r\n    char uppercaseChar = (char) ((int)(Math.random()*100)%26+65);\r\n\r\n    char lowercaseChar = (char) ((int)(Math.random()*1000)%26+97);\r\n\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p>I use this:</p>\n\n<pre><code>char uppercaseChar = (char) ((int)(Math.random()*100)%26+65);\n\nchar lowercaseChar = (char) ((int)(Math.random()*1000)%26+97);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610021149,"creation_date":1610021149,"answer_id":65612094,"question_id":2626835,"body_markdown":"`java.util.Random` is the more effective one I have tried out so far, having a precision of **98.65%** uniqueness.\r\nI have provided bellow some tests which generate 10000 batches of a hundred 2 alphanumeric chars strings and calculates the average. \r\n\r\nOther random tools were `RandomStringUtils` from commons.lang3 and `java.util.Math`.\r\n\r\n    public static void main(String[] args) {\r\n        int unitPrintMarksTotal = 0;\r\n        for (int i = 0; i &lt; 10000; i++) {\r\n            unitPrintMarksTotal += generateBatchOfUniquePrintMarks(i);\r\n        }\r\n\r\n        System.out.println(&quot;The precision across 10000 runs with 100 item batches is: &quot; + (float) unitPrintMarksTotal / 10000);\r\n    }\r\n\r\n    private static int generateBatchOfUniquePrintMarks(int batch) {\r\n        Set&lt;String&gt; printMarks = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            printMarks.add(generatePrintMarkWithJavaUtil());\r\n        }\r\n\r\n        System.out.println(&quot;Batch &quot; + batch + &quot; Unique number of elements is &quot; + printMarks.size());\r\n\r\n        return printMarks.size();\r\n    }\r\n\r\n    // the best so far =&gt; 98.65\r\n    // with 3 chars =&gt; 99.98\r\n    // with 4 chars =&gt; 99.9997\r\n    private static String generatePrintMarkWithJavaUtil() {\r\n        int leftLimit = 48; // numeral &#39;0&#39;\r\n        int rightLimit = 122; // letter &#39;z&#39;\r\n        int targetStringLength = 2;\r\n        String printMark;\r\n        do {\r\n            printMark = new Random().ints(leftLimit, rightLimit + 1)\r\n                    .filter(i -&gt; (i &lt;= 57 || i &gt;= 65) &amp;&amp; (i &lt;= 90 || i &gt;= 97))\r\n                    .limit(targetStringLength)\r\n                    .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\r\n                    .toString();\r\n        } while (!isValid(printMark));\r\n\r\n        return printMark;\r\n    }\r\n\r\n    // 95.46\r\n    private static String generatePrintMarkWithCommonsLang3() {\r\n        String printMark;\r\n        do {\r\n            printMark = RandomStringUtils.randomAlphanumeric(2).toUpperCase();\r\n        } while (!isValid(printMark));\r\n\r\n        return printMark;\r\n    }\r\n\r\n    // 95.92\r\n    private static String generatePrintMarkWithMathRandom() {\r\n        final String ALPHA_NUMERIC_STRING = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\r\n        StringBuilder printMark;\r\n        do {\r\n            printMark = new StringBuilder();\r\n            int i = (int) (Math.random() * ALPHA_NUMERIC_STRING.length());\r\n            printMark.append(ALPHA_NUMERIC_STRING.charAt(i));\r\n            int j = (int) (Math.random() * ALPHA_NUMERIC_STRING.length());\r\n            printMark.append(ALPHA_NUMERIC_STRING.charAt(j));\r\n        } while (!isValid(printMark.toString()));\r\n\r\n        return printMark.toString();\r\n    }\r\n\r\n    private static boolean isValid(final String printMark) {\r\n        return true;\r\n    }\r\n\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p><code>java.util.Random</code> is the more effective one I have tried out so far, having a precision of <strong>98.65%</strong> uniqueness.\nI have provided bellow some tests which generate 10000 batches of a hundred 2 alphanumeric chars strings and calculates the average.</p>\n<p>Other random tools were <code>RandomStringUtils</code> from commons.lang3 and <code>java.util.Math</code>.</p>\n<pre><code>public static void main(String[] args) {\n    int unitPrintMarksTotal = 0;\n    for (int i = 0; i &lt; 10000; i++) {\n        unitPrintMarksTotal += generateBatchOfUniquePrintMarks(i);\n    }\n\n    System.out.println(&quot;The precision across 10000 runs with 100 item batches is: &quot; + (float) unitPrintMarksTotal / 10000);\n}\n\nprivate static int generateBatchOfUniquePrintMarks(int batch) {\n    Set&lt;String&gt; printMarks = new HashSet&lt;&gt;();\n    for (int i = 0; i &lt; 100; i++) {\n        printMarks.add(generatePrintMarkWithJavaUtil());\n    }\n\n    System.out.println(&quot;Batch &quot; + batch + &quot; Unique number of elements is &quot; + printMarks.size());\n\n    return printMarks.size();\n}\n\n// the best so far =&gt; 98.65\n// with 3 chars =&gt; 99.98\n// with 4 chars =&gt; 99.9997\nprivate static String generatePrintMarkWithJavaUtil() {\n    int leftLimit = 48; // numeral '0'\n    int rightLimit = 122; // letter 'z'\n    int targetStringLength = 2;\n    String printMark;\n    do {\n        printMark = new Random().ints(leftLimit, rightLimit + 1)\n                .filter(i -&gt; (i &lt;= 57 || i &gt;= 65) &amp;&amp; (i &lt;= 90 || i &gt;= 97))\n                .limit(targetStringLength)\n                .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\n                .toString();\n    } while (!isValid(printMark));\n\n    return printMark;\n}\n\n// 95.46\nprivate static String generatePrintMarkWithCommonsLang3() {\n    String printMark;\n    do {\n        printMark = RandomStringUtils.randomAlphanumeric(2).toUpperCase();\n    } while (!isValid(printMark));\n\n    return printMark;\n}\n\n// 95.92\nprivate static String generatePrintMarkWithMathRandom() {\n    final String ALPHA_NUMERIC_STRING = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\n    StringBuilder printMark;\n    do {\n        printMark = new StringBuilder();\n        int i = (int) (Math.random() * ALPHA_NUMERIC_STRING.length());\n        printMark.append(ALPHA_NUMERIC_STRING.charAt(i));\n        int j = (int) (Math.random() * ALPHA_NUMERIC_STRING.length());\n        printMark.append(ALPHA_NUMERIC_STRING.charAt(j));\n    } while (!isValid(printMark.toString()));\n\n    return printMark.toString();\n}\n\nprivate static boolean isValid(final String printMark) {\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19763336,"reputation":63,"user_id":14471944,"display_name":"NSV."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664427609,"creation_date":1664427609,"answer_id":73890457,"question_id":2626835,"body_markdown":"I simply want to tell you to use UUID.randomUUID() and toString() as its simplest way i also used","title":"Is there functionality to generate a random character in Java?","body":"<p>I simply want to tell you to use UUID.randomUUID() and toString() as its simplest way i also used</p>\n"},{"tags":[],"owner":{"account_id":1649979,"reputation":1,"user_id":1520766,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687166425,"creation_date":1687166425,"answer_id":76505260,"question_id":2626835,"body_markdown":"\tpublic static String getRandomNumberOfString(int number) {\r\n\t\t\tRandom r = new Random();\r\n\t\t    String randomString = &quot;&quot;;\r\n\t\t    String randomValue = &quot;123456789 $#^&amp;*()!~ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\t\t    for (int i = 0; i &lt; number; i++) {\r\n\t\t    \trandomString = randomString + randomValue.charAt(r.nextInt(randomValue.length()));\r\n\t\t    }\r\n\t\t    System.out.println(&quot;Length&quot;+  randomString.length());\r\n\t\t    System.out.println(&quot;String &quot;+  randomString);\r\n\t\t\treturn randomString;\r\n\t}\r\n\r\n\r\n\tgetRandomNumberOfString(2000);\r\n","title":"Is there functionality to generate a random character in Java?","body":"<pre><code>public static String getRandomNumberOfString(int number) {\n        Random r = new Random();\n        String randomString = &quot;&quot;;\n        String randomValue = &quot;123456789 $#^&amp;*()!~ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        for (int i = 0; i &lt; number; i++) {\n            randomString = randomString + randomValue.charAt(r.nextInt(randomValue.length()));\n        }\n        System.out.println(&quot;Length&quot;+  randomString.length());\n        System.out.println(&quot;String &quot;+  randomString);\n        return randomString;\n}\n\n\ngetRandomNumberOfString(2000);\n</code></pre>\n"}],"owner":{"account_id":36475,"reputation":21659,"user_id":104060,"accept_rate":82,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347153,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":2626989,"answer_count":21,"score":85,"last_activity_date":1687166425,"creation_date":1271130328,"question_id":2626835,"body_markdown":"Does Java have any functionality to generate random characters or strings?  Or must one simply pick a random integer and convert that integer&#39;s [ASCII][1] code to a character?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ASCII#Printable_characters\r\n\r\n","title":"Is there functionality to generate a random character in Java?","body":"<p>Does Java have any functionality to generate random characters or strings?  Or must one simply pick a random integer and convert that integer's <a href=\"https://en.wikipedia.org/wiki/ASCII#Printable_characters\" rel=\"nofollow noreferrer\">ASCII</a> code to a character?</p>\n"},{"tags":["java","random","arraylist","hashset","compare-and-swap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687036843,"post_id":76498000,"comment_id":134881906,"body_markdown":"You need to use debugging statements in your code","body":"You need to use debugging statements in your code"},{"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"score":0,"creation_date":1687037259,"post_id":76498000,"comment_id":134881938,"body_markdown":"(numS[index] == null) is always false, not sure how you are getting this error, [maybe Random isnt intanced correctly](https://stackoverflow.com/questions/15364237/random-generator-returns-null)","body":"(numS[index] == null) is always false, not sure how you are getting this error, <a href=\"https://stackoverflow.com/questions/15364237/random-generator-returns-null\">maybe Random isnt intanced correctly</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687037897,"post_id":76498000,"comment_id":134882010,"body_markdown":"It would also help to describe your [goal](https://technojeeves.com/index.php/aliasjava1/15-smart-questions) since you seem to be writing quite a lot of tortuous code for very little result. Realize too that you&#39;re using the *same array* all the time, constantly overwriting it, which is quite likely to be incorrect.","body":"It would also help to describe your <a href=\"https://technojeeves.com/index.php/aliasjava1/15-smart-questions\" rel=\"nofollow noreferrer\">goal</a> since you seem to be writing quite a lot of tortuous code for very little result. Realize too that you&#39;re using the <i>same array</i> all the time, constantly overwriting it, which is quite likely to be incorrect."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687038751,"post_id":76498000,"comment_id":134882066,"body_markdown":"There is no way that `Integer.toString(n)` returns `null`, so there&#39;s to chance that `s == null` will ever be true. I suggest changing your array type from `String[]` to `int[]` to remove any possibility of nulls in arrays. Then render the arrays to strings at the latest point you can.","body":"There is no way that <code>Integer.toString(n)</code> returns <code>null</code>, so there&#39;s to chance that <code>s == null</code> will ever be true. I suggest changing your array type from <code>String[]</code> to <code>int[]</code> to remove any possibility of nulls in arrays. Then render the arrays to strings at the latest point you can."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1687048369,"post_id":76498000,"comment_id":134882680,"body_markdown":"your nulls are basically the first 2 passes you do on the for since `numS` is instatiated with 3 empty spaces so at the start `numS = {null,null,null}` after your first passing of the for loop ( the index 0) you get your first number so it goes `numS = {1,null,null}`  and this gets hadded to the `randomNum` set and then the 2nd pass ( the index 1) \nnumS will be `numS = {1,2,null}`  and  randomNum will now have `randomNum = { [1,null,null],[1,2,null]}` this is why you only get 2 entries with nulls on the `randomNum` set","body":"your nulls are basically the first 2 passes you do on the for since <code>numS</code> is instatiated with 3 empty spaces so at the start <code>numS = {null,null,null}</code> after your first passing of the for loop ( the index 0) you get your first number so it goes <code>numS = {1,null,null}</code>  and this gets hadded to the <code>randomNum</code> set and then the 2nd pass ( the index 1)  numS will be <code>numS = {1,2,null}</code>  and  randomNum will now have <code>randomNum = { [1,null,null],[1,2,null]}</code> this is why you only get 2 entries with nulls on the <code>randomNum</code> set"},{"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"score":0,"creation_date":1687050420,"post_id":76498000,"comment_id":134882789,"body_markdown":"@DanielHern&#225;ndez, yes my `rng`  is initialized outside of the `main` method.","body":"@DanielHern&#225;ndez, yes my <code>rng</code>  is initialized outside of the <code>main</code> method."},{"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"score":0,"creation_date":1687050847,"post_id":76498000,"comment_id":134882824,"body_markdown":"@Anon, I believe that you&#39;re correct. Wow, I can&#39;t believe that I didn&#39;t see this. I should move the `randomNum.add(Arrays.toString(numS));` outside of the `for` loop so that it doesn&#39;t add `numS[]` to `randumNum` until it has been iterated over three times and it doesn&#39;t contain any `null` spaces. I am embarrassed &#128513;, thank you.","body":"@Anon, I believe that you&#39;re correct. Wow, I can&#39;t believe that I didn&#39;t see this. I should move the <code>randomNum.add(Arrays.toString(numS));</code> outside of the <code>for</code> loop so that it doesn&#39;t add <code>numS[]</code> to <code>randumNum</code> until it has been iterated over three times and it doesn&#39;t contain any <code>null</code> spaces. I am embarrassed 😁, thank you."},{"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"score":0,"creation_date":1687058979,"post_id":76498000,"comment_id":134883184,"body_markdown":"@g00se I have a few months of coding, and I am not familiar with the debugging tools in an IDE yet. My goals are stated at the beginning of my post, &quot;I am trying to print an array of randomly generated sets of three numbers. &quot;.","body":"@g00se I have a few months of coding, and I am not familiar with the debugging tools in an IDE yet. My goals are stated at the beginning of my post, &quot;I am trying to print an array of randomly generated sets of three numbers. &quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687105062,"post_id":76498000,"comment_id":134887273,"body_markdown":"I&#39;ve been programming Java more or less since it was invented and I can&#39;t remember having used a debugger more than twice and probably even then to debug into someone else&#39;s code. For quick and dirty, you can just put in a sysout but a better solution is to put in proper logging that can be turned off/up and down as you need it","body":"I&#39;ve been programming Java more or less since it was invented and I can&#39;t remember having used a debugger more than twice and probably even then to debug into someone else&#39;s code. For quick and dirty, you can just put in a sysout but a better solution is to put in proper logging that can be turned off/up and down as you need it"}],"answers":[{"tags":[],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687038850,"creation_date":1687038850,"answer_id":76498292,"question_id":76498000,"body_markdown":"    void uniqueString() {\r\n        while (randomNum.size() &lt; 64) {\r\n            String[] numS = new String[3];\r\n            for (int index = 0; index &lt; numS.length; index++) {\r\n                int n = obj.rng.nextInt(4) + 1;\r\n                numS[index] = Integer.toString(n);\r\n            }\r\n            randomNum.add(Arrays.toString(numS));\r\n        }\r\n        ArrayList&lt;String&gt; randomList = new ArrayList&lt;&gt;(randomNum);\r\n        System.out.println(&quot;This is the size of randomList: &quot; + randomList.size());\r\n        Collections.sort(randomList);\r\n        System.out.println(&quot;This is a randomList: &quot; + randomList);\r\n    }\r\n\r\n\r\nChange it to a max of 64 (V3′​(4)=4^3), in your code it could return 66 because of the null values.","title":"How can I check for null at a specific index of a String Array to change its value?","body":"<pre><code>void uniqueString() {\n    while (randomNum.size() &lt; 64) {\n        String[] numS = new String[3];\n        for (int index = 0; index &lt; numS.length; index++) {\n            int n = obj.rng.nextInt(4) + 1;\n            numS[index] = Integer.toString(n);\n        }\n        randomNum.add(Arrays.toString(numS));\n    }\n    ArrayList&lt;String&gt; randomList = new ArrayList&lt;&gt;(randomNum);\n    System.out.println(&quot;This is the size of randomList: &quot; + randomList.size());\n    Collections.sort(randomList);\n    System.out.println(&quot;This is a randomList: &quot; + randomList);\n}\n</code></pre>\n<p>Change it to a max of 64 (V3′​(4)=4^3), in your code it could return 66 because of the null values.</p>\n"},{"tags":[],"owner":{"account_id":24863217,"reputation":1,"user_id":18738670,"display_name":"Vaikan Peddi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687165470,"creation_date":1687039272,"answer_id":76498314,"question_id":76498000,"body_markdown":"As you know, ```null``` is a keyword specific to reference types and not for primitive types. So a small Java function to check if a string array is null at a particular index, could go something like this:\r\n\r\n```java\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    String[] arr = {&quot;Stack&quot;, null, &quot;Overflow&quot;};\r\n    System.out.println(isNull(arr, 1));\r\n  }\r\n  \r\n  public static boolean isNull(String[] arr, int index) {\r\n    arr[index] == null ? return true : return false;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAnd as you can see in this simplified (maybe super-simplified!) example, the output will be\r\n\r\n```true```\r\n\r\nSo hope this answer helps! Thanks! Please correct me if I didn&#39;t exactly get you.","title":"How can I check for null at a specific index of a String Array to change its value?","body":"<p>As you know, <code>null</code> is a keyword specific to reference types and not for primitive types. So a small Java function to check if a string array is null at a particular index, could go something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n  public static void main(String[] args) {\n    String[] arr = {&quot;Stack&quot;, null, &quot;Overflow&quot;};\n    System.out.println(isNull(arr, 1));\n  }\n  \n  public static boolean isNull(String[] arr, int index) {\n    arr[index] == null ? return true : return false;\n    }\n  }\n}\n</code></pre>\n<p>And as you can see in this simplified (maybe super-simplified!) example, the output will be</p>\n<p><code>true</code></p>\n<p>So hope this answer helps! Thanks! Please correct me if I didn't exactly get you.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687047952,"creation_date":1687041571,"answer_id":76498412,"question_id":76498000,"body_markdown":"&gt; _&quot;I am trying to print an Array of randomly generated sets of three numbers, and sometimes the sets include a `null` value ...&quot;_\r\n\r\nThere are a few inconsistencies with your code.\r\n\r\nConsider the following.\r\n\r\n```none\r\niteration 1, index= 0, n= 2, numS= [2, null, null], randomNum= [[2, null, null]]\r\niteration 1, index= 1, n= 4, numS= [2, 4, null], randomNum= [[2, 4, null], [2, null, null]]\r\niteration 1, index= 2, n= 1, numS= [2, 4, 1], randomNum= [[2, 4, null], [2, 4, 1], [2, null, null]]\r\niteration 2, index= 0, n= 3, numS= [3, 4, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [2, null, null]]\r\niteration 2, index= 1, n= 3, numS= [3, 3, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [2, null, null]]\r\niteration 2, index= 2, n= 1, numS= [3, 3, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [2, null, null]]\r\niteration 3, index= 0, n= 3, numS= [3, 3, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [2, null, null]]\r\niteration 3, index= 1, n= 4, numS= [3, 4, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [2, null, null]]\r\niteration 3, index= 2, n= 2, numS= [3, 4, 2], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [3, 4, 2], [2, null, null]]\r\n...\r\n```\r\n\r\n&gt; _&quot;I am trying to print an array of randomly generated sets of three numbers. ...&quot;_\r\n\r\nYou can use the following example.\r\n\r\n```java\r\nList&lt;Set&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\nSet&lt;Integer&gt; set;\r\nRandom random = new Random();\r\nfor (int count = 1; count &lt;= 66; count++) {\r\n    set = new HashSet&lt;&gt;();\r\n    do {\r\n        set.add(random.nextInt(1, 5));\r\n    } while (set.size() != 3);\r\n    list.add(set);\r\n}\r\nSystem.out.println(list);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[[1, 2, 4], [1, 3, 4], [2, 3, 4], [1, 3, 4], [1, 3, 4], [1, 2, 3], [1, 3, 4], [1, 3, 4], [1, 3, 4], [1, 2, 4], [1, 2, 4], [2, 3, 4], [2, 3, 4], [2, 3, 4], [1, 2, 4], [2, 3, 4], [1, 2, 3], [2, 3, 4], [1, 2, 3], [1, 2, 4], [1, 2, 3], [2, 3, 4], [1, 2, 4], [1, 2, 4], [1, 2, 4], [1, 2, 3], [1, 3, 4], [1, 2, 4], [2, 3, 4], [1, 3, 4], [1, 3, 4], [1, 3, 4], [2, 3, 4], [1, 2, 3], [1, 2, 3], [2, 3, 4], [1, 2, 4], [1, 2, 3], [2, 3, 4], [1, 3, 4], [2, 3, 4], [2, 3, 4], [1, 2, 4], [2, 3, 4], [2, 3, 4], [1, 2, 4], [1, 2, 4], [1, 2, 4], [2, 3, 4], [1, 2, 4], [1, 2, 4], [2, 3, 4], [1, 2, 4], [1, 2, 4], [1, 3, 4], [1, 2, 3], [2, 3, 4], [2, 3, 4], [2, 3, 4], [1, 2, 3], [1, 3, 4], [1, 2, 4], [2, 3, 4], [2, 3, 4], [2, 3, 4], [2, 3, 4]]\r\n```","title":"How can I check for null at a specific index of a String Array to change its value?","body":"<blockquote>\n<p><em>&quot;I am trying to print an Array of randomly generated sets of three numbers, and sometimes the sets include a <code>null</code> value ...&quot;</em></p>\n</blockquote>\n<p>There are a few inconsistencies with your code.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>iteration 1, index= 0, n= 2, numS= [2, null, null], randomNum= [[2, null, null]]\niteration 1, index= 1, n= 4, numS= [2, 4, null], randomNum= [[2, 4, null], [2, null, null]]\niteration 1, index= 2, n= 1, numS= [2, 4, 1], randomNum= [[2, 4, null], [2, 4, 1], [2, null, null]]\niteration 2, index= 0, n= 3, numS= [3, 4, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [2, null, null]]\niteration 2, index= 1, n= 3, numS= [3, 3, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [2, null, null]]\niteration 2, index= 2, n= 1, numS= [3, 3, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [2, null, null]]\niteration 3, index= 0, n= 3, numS= [3, 3, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [2, null, null]]\niteration 3, index= 1, n= 4, numS= [3, 4, 1], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [2, null, null]]\niteration 3, index= 2, n= 2, numS= [3, 4, 2], randomNum= [[2, 4, null], [2, 4, 1], [3, 4, 1], [3, 3, 1], [3, 4, 2], [2, null, null]]\n...\n</code></pre>\n<blockquote>\n<p><em>&quot;I am trying to print an array of randomly generated sets of three numbers. ...&quot;</em></p>\n</blockquote>\n<p>You can use the following example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Set&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\nSet&lt;Integer&gt; set;\nRandom random = new Random();\nfor (int count = 1; count &lt;= 66; count++) {\n    set = new HashSet&lt;&gt;();\n    do {\n        set.add(random.nextInt(1, 5));\n    } while (set.size() != 3);\n    list.add(set);\n}\nSystem.out.println(list);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[1, 2, 4], [1, 3, 4], [2, 3, 4], [1, 3, 4], [1, 3, 4], [1, 2, 3], [1, 3, 4], [1, 3, 4], [1, 3, 4], [1, 2, 4], [1, 2, 4], [2, 3, 4], [2, 3, 4], [2, 3, 4], [1, 2, 4], [2, 3, 4], [1, 2, 3], [2, 3, 4], [1, 2, 3], [1, 2, 4], [1, 2, 3], [2, 3, 4], [1, 2, 4], [1, 2, 4], [1, 2, 4], [1, 2, 3], [1, 3, 4], [1, 2, 4], [2, 3, 4], [1, 3, 4], [1, 3, 4], [1, 3, 4], [2, 3, 4], [1, 2, 3], [1, 2, 3], [2, 3, 4], [1, 2, 4], [1, 2, 3], [2, 3, 4], [1, 3, 4], [2, 3, 4], [2, 3, 4], [1, 2, 4], [2, 3, 4], [2, 3, 4], [1, 2, 4], [1, 2, 4], [1, 2, 4], [2, 3, 4], [1, 2, 4], [1, 2, 4], [2, 3, 4], [1, 2, 4], [1, 2, 4], [1, 3, 4], [1, 2, 3], [2, 3, 4], [2, 3, 4], [2, 3, 4], [1, 2, 3], [1, 3, 4], [1, 2, 4], [2, 3, 4], [2, 3, 4], [2, 3, 4], [2, 3, 4]]\n</code></pre>\n"}],"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1687165470,"creation_date":1687033181,"question_id":76498000,"body_markdown":"I am trying to print an array of randomly generated sets of three numbers. Sometimes the sets include a `null` value when they are printed to the console.\r\nCuriously,\r\nit is only and always,\r\ntwo of the sixty-six randomly produce sets of three digits that contain a `null` value.\r\n\r\n1. If I check for `null` with an `if` statement using the `==` operator, then Java interprets it to mean &quot;ignore the value&quot; or &quot;ignore the operation&quot; since the code inside the wiggly brackets is not executed and the `null` values print to my console.\r\n\r\n2. If I check for `null` with an `if` statement using the `.contains()` method,\r\nI get a `NullPointerException`\r\n\r\n3. If I check for `null` with an `if` statement using the `.equals()` method,\r\nthen the program may stop upon reaching this check.\r\nIf I rebuild the program and re-run it,\r\nthen Java interprets it to mean &quot;ignore the value&quot; or &quot;ignore the operation&quot; since the code inside the wiggly brackets is not executed and the `null` values print to my console.\r\n\r\n4. I cannot use `Array[i].charAt(null)` because the `charAt()` method takes an `int`.\r\n\r\n5. I cannot use `numS[index].compareTo(null)` because the `.compareTo()` method takes a `String` for an argument.\r\n\r\nIn an attempt to figure out the reason behind this,\r\nI used the `Math.Random` method or a `Random rng = new Random();` Object.\r\nThis did not change the outcome.\r\n\r\nAny assistance will be greatly appreciated.\r\n\r\nI checked the post \\[[Check if array is NULL at a Specific Index returns NullPointerException](https://stackoverflow.com/questions/19881866/check-if-array-is-null-at-a-specific-index-returns-nullpointerexception)\\], but it did resolve my issue.\r\n\r\nI also ***modified my original** **code*** as below per the aforementioned post, to:\r\n\r\n```java\r\n while (randomNum.size() &lt; 66) {\r\n        for (int index = 0; index &lt;= 2; index++) {\r\n            int n = obj.rng.nextInt(4)+1;\r\n            String s = Integer.toString(n);\r\n\r\n            if (s == null)\r\n                {n = obj.rng.nextInt(4)+1;\r\n                s = Integer.toString(n);\r\n                numS[index] = s;}\r\n```\r\n\r\nand ***also to:***\r\n\r\n```java\r\nint n = obj.rng.nextInt(4)+1;\r\n            String s = Integer.toString(n);\r\n\r\n            if (s.equals(null))\r\n                {n = obj.rng.nextInt(4)+1;\r\n                s = Integer.toString(n);\r\n                numS[index] = s;}\r\n```\r\n\r\n*But that **did not resolve my issue** either.*\r\n\r\n**Here is my code:**\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.lang.*;\r\npublic class TestingTests{ \r\npublic static void main(String[] args) { //main() method.\r\n    obj.uniqueString();\r\n} //end of main() method\r\n\r\nvoid uniqueString() {\r\n    while (randomNum.size() &lt; 66) {\r\n        for (int index = 0; index &lt;= 2; index++) {\r\n            int n = obj.rng.nextInt(4)+1;\r\n            numS[index] = Integer.toString(n);\r\n\r\n            if (numS[index] == null)\r\n                {n = obj.rng.nextInt(4)+1;\r\n                numS[index] = Integer.toString(n);}\r\n            else if (randomNum.size() == 66)\r\n                {ArrayList randomList = new ArrayList(randomNum);\r\n                System.out.println(&quot;This is the size of randomList: &quot; + randomList.size());\r\n                Collections.sort(randomList);\r\n                System.out.println(&quot;This is a randomList: &quot; + randomList);\r\n                break;\r\n            }\r\n            else randomNum.add(Arrays.toString(numS));\r\n        }\r\n    }\r\n}\r\n\r\nint temp = 0, count = 0;\r\nstatic TestingTests obj = new TestingTests();\r\nString[] numS = new String[3];\r\nRandom rng = new Random();\r\nSet&lt;String&gt; randomNum = new HashSet&lt;&gt;();\r\nArrayList randomList = new ArrayList(randomNum);\r\n\r\n}// end of MyClass\r\n```\r\n\r\nHere is an example of the output with the `null` values that I am trying to rid:\r\n\r\n```java\r\nThis is the size of randomList: 66\r\nThis is a randomList: [[1, 1, 1], [1, 1, 2], [1, 1, 3], [1, 1, 4], [1, 2, 1], [1, 2, 2], [1, 2, 3], [1, 2, 4], [1, 3, 1], [1, 3, 2], [1, 3, 3], [1, 3, 4], [1, 4, 1], [1, 4, 2], [1, 4, 3], [1, 4, 4], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 2, 1], [2, 2, 2], [2, 2, 3], [2, 2, 4], [2, 3, 1], [2, 3, 2], [2, 3, 3], [2, 3, 4], [2, 4, 1], [2, 4, 2], [2, 4, 3], [2, 4, 4], [3, 1, 1], [3, 1, 2], [3, 1, 3], [3, 1, 4], [3, 1, null], [3, 2, 1], [3, 2, 2], [3, 2, 3], [3, 2, 4], [3, 3, 1], [3, 3, 2], [3, 3, 3], [3, 3, 4], [3, 4, 1], [3, 4, 2], [3, 4, 3], [3, 4, 4], [3, null, null], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 2, 1], [4, 2, 2], [4, 2, 3], [4, 2, 4], [4, 3, 1], [4, 3, 2], [4, 3, 3], [4, 3, 4], [4, 4, 1], [4, 4, 2], [4, 4, 3], [4, 4, 4]]\r\n\r\nProcess finished with exit code 0\r\n```","title":"How can I check for null at a specific index of a String Array to change its value?","body":"<p>I am trying to print an array of randomly generated sets of three numbers. Sometimes the sets include a <code>null</code> value when they are printed to the console.\nCuriously,\nit is only and always,\ntwo of the sixty-six randomly produce sets of three digits that contain a <code>null</code> value.</p>\n<ol>\n<li><p>If I check for <code>null</code> with an <code>if</code> statement using the <code>==</code> operator, then Java interprets it to mean &quot;ignore the value&quot; or &quot;ignore the operation&quot; since the code inside the wiggly brackets is not executed and the <code>null</code> values print to my console.</p>\n</li>\n<li><p>If I check for <code>null</code> with an <code>if</code> statement using the <code>.contains()</code> method,\nI get a <code>NullPointerException</code></p>\n</li>\n<li><p>If I check for <code>null</code> with an <code>if</code> statement using the <code>.equals()</code> method,\nthen the program may stop upon reaching this check.\nIf I rebuild the program and re-run it,\nthen Java interprets it to mean &quot;ignore the value&quot; or &quot;ignore the operation&quot; since the code inside the wiggly brackets is not executed and the <code>null</code> values print to my console.</p>\n</li>\n<li><p>I cannot use <code>Array[i].charAt(null)</code> because the <code>charAt()</code> method takes an <code>int</code>.</p>\n</li>\n<li><p>I cannot use <code>numS[index].compareTo(null)</code> because the <code>.compareTo()</code> method takes a <code>String</code> for an argument.</p>\n</li>\n</ol>\n<p>In an attempt to figure out the reason behind this,\nI used the <code>Math.Random</code> method or a <code>Random rng = new Random();</code> Object.\nThis did not change the outcome.</p>\n<p>Any assistance will be greatly appreciated.</p>\n<p>I checked the post [<a href=\"https://stackoverflow.com/questions/19881866/check-if-array-is-null-at-a-specific-index-returns-nullpointerexception\">Check if array is NULL at a Specific Index returns NullPointerException</a>], but it did resolve my issue.</p>\n<p>I also <em><strong>modified my original</strong> <strong>code</strong></em> as below per the aforementioned post, to:</p>\n<pre class=\"lang-java prettyprint-override\"><code> while (randomNum.size() &lt; 66) {\n        for (int index = 0; index &lt;= 2; index++) {\n            int n = obj.rng.nextInt(4)+1;\n            String s = Integer.toString(n);\n\n            if (s == null)\n                {n = obj.rng.nextInt(4)+1;\n                s = Integer.toString(n);\n                numS[index] = s;}\n</code></pre>\n<p>and <em><strong>also to:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = obj.rng.nextInt(4)+1;\n            String s = Integer.toString(n);\n\n            if (s.equals(null))\n                {n = obj.rng.nextInt(4)+1;\n                s = Integer.toString(n);\n                numS[index] = s;}\n</code></pre>\n<p><em>But that <strong>did not resolve my issue</strong> either.</em></p>\n<p><strong>Here is my code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.lang.*;\npublic class TestingTests{ \npublic static void main(String[] args) { //main() method.\n    obj.uniqueString();\n} //end of main() method\n\nvoid uniqueString() {\n    while (randomNum.size() &lt; 66) {\n        for (int index = 0; index &lt;= 2; index++) {\n            int n = obj.rng.nextInt(4)+1;\n            numS[index] = Integer.toString(n);\n\n            if (numS[index] == null)\n                {n = obj.rng.nextInt(4)+1;\n                numS[index] = Integer.toString(n);}\n            else if (randomNum.size() == 66)\n                {ArrayList randomList = new ArrayList(randomNum);\n                System.out.println(&quot;This is the size of randomList: &quot; + randomList.size());\n                Collections.sort(randomList);\n                System.out.println(&quot;This is a randomList: &quot; + randomList);\n                break;\n            }\n            else randomNum.add(Arrays.toString(numS));\n        }\n    }\n}\n\nint temp = 0, count = 0;\nstatic TestingTests obj = new TestingTests();\nString[] numS = new String[3];\nRandom rng = new Random();\nSet&lt;String&gt; randomNum = new HashSet&lt;&gt;();\nArrayList randomList = new ArrayList(randomNum);\n\n}// end of MyClass\n</code></pre>\n<p>Here is an example of the output with the <code>null</code> values that I am trying to rid:</p>\n<pre class=\"lang-java prettyprint-override\"><code>This is the size of randomList: 66\nThis is a randomList: [[1, 1, 1], [1, 1, 2], [1, 1, 3], [1, 1, 4], [1, 2, 1], [1, 2, 2], [1, 2, 3], [1, 2, 4], [1, 3, 1], [1, 3, 2], [1, 3, 3], [1, 3, 4], [1, 4, 1], [1, 4, 2], [1, 4, 3], [1, 4, 4], [2, 1, 1], [2, 1, 2], [2, 1, 3], [2, 1, 4], [2, 2, 1], [2, 2, 2], [2, 2, 3], [2, 2, 4], [2, 3, 1], [2, 3, 2], [2, 3, 3], [2, 3, 4], [2, 4, 1], [2, 4, 2], [2, 4, 3], [2, 4, 4], [3, 1, 1], [3, 1, 2], [3, 1, 3], [3, 1, 4], [3, 1, null], [3, 2, 1], [3, 2, 2], [3, 2, 3], [3, 2, 4], [3, 3, 1], [3, 3, 2], [3, 3, 3], [3, 3, 4], [3, 4, 1], [3, 4, 2], [3, 4, 3], [3, 4, 4], [3, null, null], [4, 1, 1], [4, 1, 2], [4, 1, 3], [4, 1, 4], [4, 2, 1], [4, 2, 2], [4, 2, 3], [4, 2, 4], [4, 3, 1], [4, 3, 2], [4, 3, 3], [4, 3, 4], [4, 4, 1], [4, 4, 2], [4, 4, 3], [4, 4, 4]]\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","spring","firebase","notifications","token"],"owner":{"account_id":28849342,"reputation":1,"user_id":22095577,"display_name":"DANG DO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687165295,"creation_date":1687165295,"question_id":76505132,"body_markdown":"I need help registering a list of tokens with Firebase to receive notifications in Spring Boot. Here&#39;s my current logic flow:\r\n\r\nController.class\r\n\r\n```\r\npublic class Controller {\r\n  @PostMapping(value = &quot;/pushNotification&quot;)\r\n  public ServiceResponse pushNotification(@RequestBody SignalDto signalDto) throws FirebaseMessagingException {\r\n    log.info(&quot;Send Email: {}&quot;, signalDto);\r\n    BatchResponse response = appPushService.sendAppPushMessageTest(signalDto);\r\n    return ServiceResponse.success(response, Constants.SUCCESSFUL_MSG, Constants.SUCCESSFUL_CODE);\r\n  }\r\n}  \r\n```\r\n\r\nAppPushService.interface\r\n\r\n```\r\npublic interface AppPushService{\r\n  BatchResponse sendAppPushMessageTest(SignalDto signalDto) throws FirebaseMessagingException;\r\n}  \r\n```\r\n\r\nAppPushServiceImpl.class\r\n\r\n```\r\npublic class AppPushServiceImpl implements AppPushService {\r\n  private final FirebaseCloudMessageService firebaseCloudMessageService;\r\n  private final RegistrationTokenRepository registrationTokenRepository;\r\n\r\n public BatchResponse sendAppPushMessageTest(SignalDto signalDto) throws FirebaseMessagingException {\r\n      BatchResponse batchResponse = null;\r\n\r\n        try {\r\n\r\n            List&lt;String&gt; userNames = new ArrayList&lt;&gt;();\r\n            userNames.add(&quot;username.test&quot;);\r\n            final List&lt;String&gt; registrationTokens = registrationTokenRepository.findByUsername(userNames);\r\n            if(registrationTokens.size() &gt; 0) {\r\n                BatchResponse messageResponse = firebaseCloudMessageService.sendSignalNotificationTest(signalDto, registrationTokens);\r\n               batchResponse = messageResponse;\r\n                log.info(&quot;sendFirebaseNotification successfully {}&quot;, messageResponse);\r\n            }\r\n\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            log.error(&quot;sendFirebaseNotification {}&quot;, e.getMessage());\r\n        }\r\n       return batchResponse;\r\n    }\r\n}\r\n```\r\n\r\nFirebaseCloudMessageService.class\r\n\r\n```\r\npublic class FirebaseCloudMessageService {\r\n\r\n  public BatchResponse sendSignalNotificationTest(SignalDto signalDto, List&lt;String&gt; registeredTokens)\r\n          throws IllegalArgumentException, ExecutionException, InterruptedException, FirebaseMessagingException {\r\n\r\n\r\n    Notification notification = Notification\r\n            .builder()\r\n            .setTitle(signalDto.getTitle())\r\n            .setBody(signalDto.getBody())\r\n            .setImage(&quot;https://www.test.com/uploads/demo/logo-header.png&quot;)\r\n            .build();\r\n\r\n    //Set date\r\n    signalDto.getData().put(&quot;date&quot;, String.valueOf(System.currentTimeMillis()));\r\n    return sendToFireBaseTest(notification, signalDto.getData(), registeredTokens);\r\n  }\r\n  \r\n   private BatchResponse sendToFireBaseTest(Notification notification, Map&lt;String,String&gt; data, List&lt;String&gt; registeredTokens)\r\n          throws ExecutionException, InterruptedException, FirebaseMessagingException {\r\n\r\n    FirebaseMessaging messaging = FirebaseMessaging.getInstance();\r\n  \r\n    MulticastMessage message = MulticastMessage.builder()\r\n            .putAllData(data)\r\n            .addAllTokens(registeredTokens)\r\n            .setNotification(notification)\r\n            .setWebpushConfig(WebpushConfig.builder().setFcmOptions(WebpushFcmOptions.withLink(&quot;https://test.com/&quot;)).build())\r\n            .setAndroidConfig(AndroidConfig.builder().setTtl(3000).build())\r\n            .build();\r\n\r\n    final BatchResponse response = firebaseMessaging.sendMulticastAsync(message).get();\r\n    if (response.getFailureCount() &gt; 0) {\r\n      List&lt;SendResponse&gt; responses = response.getResponses();\r\n      List&lt;String&gt; failedTokens = new ArrayList&lt;&gt;();\r\n      for (int i = 0; i &lt; responses.size(); i++) {\r\n        if (!responses.get(i).isSuccessful()) {\r\n          failedTokens.add(registeredTokens.get(i));\r\n        }\r\n      }\r\n\r\n      log.error(&quot;List of tokens that caused failures: &quot; + failedTokens);\r\n    }\r\n    return response;\r\n  }\r\n}\r\n```\r\n\r\nSignalDto.class\r\n\r\n```\r\npublic class SignalDto implements Serializable {\r\n  @Serial\r\n  private static final long serialVersionUID = -743000069269581435L;\r\n\r\n  private String type;\r\n  private String title;\r\n  private String body;\r\n  private Map&lt;String,String&gt; data;\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n  &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n  &lt;version&gt;9.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\t\t\r\n\t\t\r\n\r\nResource\r\n\r\n```\r\nnotificationapp.json\r\n```\t\t\r\n\t\t\r\nApplication-local.properties\r\n\r\n```\r\nfirebase.admin-sdk=notificationapp.json\t\r\n```\r\n\r\nWhat step am I missing? Please provide a solution.\r\n\r\nWhat step am I missing? Please provide a solution.","title":"How to register a device token with Firebase for push notifications in Spring Boot?","body":"<p>I need help registering a list of tokens with Firebase to receive notifications in Spring Boot. Here's my current logic flow:</p>\n<p>Controller.class</p>\n<pre><code>public class Controller {\n  @PostMapping(value = &quot;/pushNotification&quot;)\n  public ServiceResponse pushNotification(@RequestBody SignalDto signalDto) throws FirebaseMessagingException {\n    log.info(&quot;Send Email: {}&quot;, signalDto);\n    BatchResponse response = appPushService.sendAppPushMessageTest(signalDto);\n    return ServiceResponse.success(response, Constants.SUCCESSFUL_MSG, Constants.SUCCESSFUL_CODE);\n  }\n}  \n</code></pre>\n<p>AppPushService.interface</p>\n<pre><code>public interface AppPushService{\n  BatchResponse sendAppPushMessageTest(SignalDto signalDto) throws FirebaseMessagingException;\n}  \n</code></pre>\n<p>AppPushServiceImpl.class</p>\n<pre><code>public class AppPushServiceImpl implements AppPushService {\n  private final FirebaseCloudMessageService firebaseCloudMessageService;\n  private final RegistrationTokenRepository registrationTokenRepository;\n\n public BatchResponse sendAppPushMessageTest(SignalDto signalDto) throws FirebaseMessagingException {\n      BatchResponse batchResponse = null;\n\n        try {\n\n            List&lt;String&gt; userNames = new ArrayList&lt;&gt;();\n            userNames.add(&quot;username.test&quot;);\n            final List&lt;String&gt; registrationTokens = registrationTokenRepository.findByUsername(userNames);\n            if(registrationTokens.size() &gt; 0) {\n                BatchResponse messageResponse = firebaseCloudMessageService.sendSignalNotificationTest(signalDto, registrationTokens);\n               batchResponse = messageResponse;\n                log.info(&quot;sendFirebaseNotification successfully {}&quot;, messageResponse);\n            }\n\n        } catch (ExecutionException | InterruptedException e) {\n            log.error(&quot;sendFirebaseNotification {}&quot;, e.getMessage());\n        }\n       return batchResponse;\n    }\n}\n</code></pre>\n<p>FirebaseCloudMessageService.class</p>\n<pre><code>public class FirebaseCloudMessageService {\n\n  public BatchResponse sendSignalNotificationTest(SignalDto signalDto, List&lt;String&gt; registeredTokens)\n          throws IllegalArgumentException, ExecutionException, InterruptedException, FirebaseMessagingException {\n\n\n    Notification notification = Notification\n            .builder()\n            .setTitle(signalDto.getTitle())\n            .setBody(signalDto.getBody())\n            .setImage(&quot;https://www.test.com/uploads/demo/logo-header.png&quot;)\n            .build();\n\n    //Set date\n    signalDto.getData().put(&quot;date&quot;, String.valueOf(System.currentTimeMillis()));\n    return sendToFireBaseTest(notification, signalDto.getData(), registeredTokens);\n  }\n  \n   private BatchResponse sendToFireBaseTest(Notification notification, Map&lt;String,String&gt; data, List&lt;String&gt; registeredTokens)\n          throws ExecutionException, InterruptedException, FirebaseMessagingException {\n\n    FirebaseMessaging messaging = FirebaseMessaging.getInstance();\n  \n    MulticastMessage message = MulticastMessage.builder()\n            .putAllData(data)\n            .addAllTokens(registeredTokens)\n            .setNotification(notification)\n            .setWebpushConfig(WebpushConfig.builder().setFcmOptions(WebpushFcmOptions.withLink(&quot;https://test.com/&quot;)).build())\n            .setAndroidConfig(AndroidConfig.builder().setTtl(3000).build())\n            .build();\n\n    final BatchResponse response = firebaseMessaging.sendMulticastAsync(message).get();\n    if (response.getFailureCount() &gt; 0) {\n      List&lt;SendResponse&gt; responses = response.getResponses();\n      List&lt;String&gt; failedTokens = new ArrayList&lt;&gt;();\n      for (int i = 0; i &lt; responses.size(); i++) {\n        if (!responses.get(i).isSuccessful()) {\n          failedTokens.add(registeredTokens.get(i));\n        }\n      }\n\n      log.error(&quot;List of tokens that caused failures: &quot; + failedTokens);\n    }\n    return response;\n  }\n}\n</code></pre>\n<p>SignalDto.class</p>\n<pre><code>public class SignalDto implements Serializable {\n  @Serial\n  private static final long serialVersionUID = -743000069269581435L;\n\n  private String type;\n  private String title;\n  private String body;\n  private Map&lt;String,String&gt; data;\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n  &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n  &lt;version&gt;9.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Resource</p>\n<pre><code>notificationapp.json\n</code></pre>\n<p>Application-local.properties</p>\n<pre><code>firebase.admin-sdk=notificationapp.json \n</code></pre>\n<p>What step am I missing? Please provide a solution.</p>\n<p>What step am I missing? Please provide a solution.</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687159820,"post_id":76503832,"comment_id":134892442,"body_markdown":"And why shouldn&#39;t it work properly? You opened that endpoint for everyone, next to that you defined a bean for the entrypoint but haven &#39;t wired that entry point up, so it will use the default one from Spring Security.","body":"And why shouldn&#39;t it work properly? You opened that endpoint for everyone, next to that you defined a bean for the entrypoint but haven &#39;t wired that entry point up, so it will use the default one from Spring Security."},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1687165213,"post_id":76503832,"comment_id":134893519,"body_markdown":"@M.Deinum I have made correction in code , can you please check again","body":"@M.Deinum I have made correction in code , can you please check again"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687165808,"post_id":76503832,"comment_id":134893642,"body_markdown":"You still haven&#39;t registered the entrypoint with the `HttpSecurity` configuration helper.","body":"You still haven&#39;t registered the entrypoint with the <code>HttpSecurity</code> configuration helper."},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1687169433,"post_id":76503832,"comment_id":134894499,"body_markdown":"@M.Deinum How can i do that ,can you please clarify with code ?","body":"@M.Deinum How can i do that ,can you please clarify with code ?"}],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687165154,"creation_date":1687152727,"question_id":76503832,"body_markdown":"I am trying to authenticate request manually in spring boot ,for which i have created custom filter \r\n\r\n    public class CustomeFilter extends OncePerRequestFilter {\r\n\r\n\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    public CustomeFilter(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager= authenticationManager;\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        User tempUser = new User(&quot;ADFXFGDXGDS@Gmail.com&quot;,\r\n                &quot;ABC@123&quot;,\r\n                true, true, true, true, // logging them in...\r\n                getAuthorities(1) // type is List&lt;GrantedAuthority&gt;\r\n        );\r\n        UsernamePasswordAuthenticationToken authReq\r\n                = new UsernamePasswordAuthenticationToken(tempUser, getAuthorities(1));\r\n        authReq.setDetails(new WebAuthenticationDetails(request));\r\n        SecurityContext sc= SecurityContextHolder.getContext();\r\n        //Authentication authentication= authenticationManager.authenticate(authReq);\r\n        sc.setAuthentication(authReq);\r\n        HttpSession session = request.getSession(true);\r\n        session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, sc);\r\n        System.out.println(&quot;Request Authenticated ...&quot;);\r\n\r\n    }\r\n\r\n\r\n\r\n    public Collection&lt;GrantedAuthority&gt; getAuthorities(Integer access) {\r\n        List&lt;GrantedAuthority&gt; authList = new ArrayList&lt;GrantedAuthority&gt;(2);\r\n\r\n        if (access.compareTo(1) == 0) {\r\n            authList.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n        }\r\n        else{\r\n            authList.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n        }\r\n        return authList;\r\n    }\r\n    \r\n    }\r\n\r\nthis is simple security configuration \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\r\n    public class BasicSecurityConfig {\r\n    \r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n    \r\n        @Bean\r\n        public CustomeFilter customFilter(HttpSecurity httpSecurity) throws Exception {\r\n                return new CustomeFilter(authManager(httpSecurity));\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public AuthenticationEntryPoint restAuthenticationEntryPoint() {\r\n            return (httpServletRequest, httpServletResponse, e) -&gt; {\r\n                Map&lt;String, Object&gt; errorObject = new HashMap&lt;&gt;();\r\n                int errorCode = 401;\r\n                errorObject.put(&quot;message&quot;, &quot;Unauthorized access of protected resource, invalid credentials&quot;);\r\n                errorObject.put(&quot;error&quot;, HttpStatus.UNAUTHORIZED);\r\n                errorObject.put(&quot;code&quot;, errorCode);\r\n                errorObject.put(&quot;timestamp&quot;, new Timestamp(new Date().getTime()));\r\n                httpServletResponse.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n                httpServletResponse.setStatus(errorCode);\r\n                httpServletResponse.getWriter().write(objectMapper.writeValueAsString(errorObject));\r\n            };\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n            AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                    http.getSharedObject(AuthenticationManagerBuilder.class);;\r\n            return authenticationManagerBuilder.build();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @Order(Ordered.HIGHEST_PRECEDENCE)\r\n        public DefaultSecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n            httpSecurity\r\n                    .authorizeHttpRequests(authz-&gt; authz\r\n                            .requestMatchers(&quot;api/v1/servercheck&quot;).permitAll()\r\n                            .anyRequest().authenticated())\r\n                    .csrf().disable()\r\n                    .addFilterBefore(new CorsFilter(), ChannelProcessingFilter.class)\r\n                    .addFilterBefore(customFilter(httpSecurity), UsernamePasswordAuthenticationFilter.class);\r\n            return httpSecurity.build();\r\n    \r\n        }\r\n        }\r\n\r\ni have created api endpoints to test it \r\n\r\n \r\n\r\n    @GetMapping(&quot;/api/v1/accessPrivateRes&quot;)\r\n        private String accessPrivateRes() {\r\n            return &quot;This is your Private Res: LFOGANGJASFNASFSGPS#$NSDK#$MFGAASJGOREANSNGSKO343nsdfE@#nd@##n-eRSdfs&quot;;\r\n        }\r\n    @GetMapping(&quot;/api/v1/servercheck&quot;)\r\n    private String onServerCheckReceived() {\r\n        return &quot;Server Check Successful&quot;;\r\n    }\r\n\r\n    \r\nbut while i make request (/api/v1/accessPrivateRes) i get empty body response\r\n\r\n[![postman screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2LTLk.png\r\n\r\nhowever api /api/v1/servercheck is working properly.\r\nCan anyone please help me resolve the issue ","title":"Request Authenticated but response not received to postman","body":"<p>I am trying to authenticate request manually in spring boot ,for which i have created custom filter</p>\n<pre><code>public class CustomeFilter extends OncePerRequestFilter {\n\n\nprivate AuthenticationManager authenticationManager;\n\n@Autowired\npublic CustomeFilter(AuthenticationManager authenticationManager) {\n    this.authenticationManager= authenticationManager;\n\n}\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    User tempUser = new User(&quot;ADFXFGDXGDS@Gmail.com&quot;,\n            &quot;ABC@123&quot;,\n            true, true, true, true, // logging them in...\n            getAuthorities(1) // type is List&lt;GrantedAuthority&gt;\n    );\n    UsernamePasswordAuthenticationToken authReq\n            = new UsernamePasswordAuthenticationToken(tempUser, getAuthorities(1));\n    authReq.setDetails(new WebAuthenticationDetails(request));\n    SecurityContext sc= SecurityContextHolder.getContext();\n    //Authentication authentication= authenticationManager.authenticate(authReq);\n    sc.setAuthentication(authReq);\n    HttpSession session = request.getSession(true);\n    session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, sc);\n    System.out.println(&quot;Request Authenticated ...&quot;);\n\n}\n\n\n\npublic Collection&lt;GrantedAuthority&gt; getAuthorities(Integer access) {\n    List&lt;GrantedAuthority&gt; authList = new ArrayList&lt;GrantedAuthority&gt;(2);\n\n    if (access.compareTo(1) == 0) {\n        authList.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\n    }\n    else{\n        authList.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n    }\n    return authList;\n}\n\n}\n</code></pre>\n<p>this is simple security configuration</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\npublic class BasicSecurityConfig {\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Bean\n    public CustomeFilter customFilter(HttpSecurity httpSecurity) throws Exception {\n            return new CustomeFilter(authManager(httpSecurity));\n    }\n\n\n    @Bean\n    public AuthenticationEntryPoint restAuthenticationEntryPoint() {\n        return (httpServletRequest, httpServletResponse, e) -&gt; {\n            Map&lt;String, Object&gt; errorObject = new HashMap&lt;&gt;();\n            int errorCode = 401;\n            errorObject.put(&quot;message&quot;, &quot;Unauthorized access of protected resource, invalid credentials&quot;);\n            errorObject.put(&quot;error&quot;, HttpStatus.UNAUTHORIZED);\n            errorObject.put(&quot;code&quot;, errorCode);\n            errorObject.put(&quot;timestamp&quot;, new Timestamp(new Date().getTime()));\n            httpServletResponse.setContentType(&quot;application/json;charset=UTF-8&quot;);\n            httpServletResponse.setStatus(errorCode);\n            httpServletResponse.getWriter().write(objectMapper.writeValueAsString(errorObject));\n        };\n    }\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);;\n        return authenticationManagerBuilder.build();\n    }\n\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public DefaultSecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity\n                .authorizeHttpRequests(authz-&gt; authz\n                        .requestMatchers(&quot;api/v1/servercheck&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .csrf().disable()\n                .addFilterBefore(new CorsFilter(), ChannelProcessingFilter.class)\n                .addFilterBefore(customFilter(httpSecurity), UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n\n    }\n    }\n</code></pre>\n<p>i have created api endpoints to test it</p>\n<pre><code>@GetMapping(&quot;/api/v1/accessPrivateRes&quot;)\n    private String accessPrivateRes() {\n        return &quot;This is your Private Res: LFOGANGJASFNASFSGPS#$NSDK#$MFGAASJGOREANSNGSKO343nsdfE@#nd@##n-eRSdfs&quot;;\n    }\n@GetMapping(&quot;/api/v1/servercheck&quot;)\nprivate String onServerCheckReceived() {\n    return &quot;Server Check Successful&quot;;\n}\n</code></pre>\n<p>but while i make request (/api/v1/accessPrivateRes) i get empty body response</p>\n<p><a href=\"https://i.stack.imgur.com/2LTLk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2LTLk.png\" alt=\"postman screenshot\" /></a></p>\n<p>however api /api/v1/servercheck is working properly.\nCan anyone please help me resolve the issue</p>\n"},{"tags":["java","tomcat","jboss","war","war-filedeployment"],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1286805625,"creation_date":1286805625,"answer_id":3906900,"question_id":3906881,"body_markdown":"AFAIK, hot deployment is possible only with exploded wars. And also during development it is easier to browse the project tree on the server. Of course there can be other advantages and disadvantages, which I will be glad to hear.","title":"Advantages/Disadvantages to exploded WAR files","body":"<p>AFAIK, hot deployment is possible only with exploded wars. And also during development it is easier to browse the project tree on the server. Of course there can be other advantages and disadvantages, which I will be glad to hear.</p>\n"},{"tags":[],"owner":{"account_id":74042,"reputation":13420,"user_id":212952,"display_name":"Tomas Narros"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1687164594,"creation_date":1286805714,"answer_id":3906914,"question_id":3906881,"body_markdown":"At the development stage, it&#39;s more comfortable to deploy it exploded. This way, you can hot update some deployed resources (as can be the JSP pages).\r\n\r\nFor Testing and Production environments, I prefer instead the packaged deployment: lighter, and easier to handle for the deployers.","title":"Advantages/Disadvantages to exploded WAR files","body":"<p>At the development stage, it's more comfortable to deploy it exploded. This way, you can hot update some deployed resources (as can be the JSP pages).</p>\n<p>For Testing and Production environments, I prefer instead the packaged deployment: lighter, and easier to handle for the deployers.</p>\n"},{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1286805732,"creation_date":1286805732,"answer_id":3906920,"question_id":3906881,"body_markdown":"The only real benefit you receive from deploying an exploded ear/war is the ability to hot-swap files on the server, as well as the time saved on the packaging (which IMHO is negligible).\r\n\r\nBasically - this is a useful feature for development phases. I wouldn&#39;t choose this deployment method for a production environment.\r\n\r\nThere are also some web application servers which require exploded wars for some esoteric features, but this is nothing I&#39;ve encountered in regular usage.","title":"Advantages/Disadvantages to exploded WAR files","body":"<p>The only real benefit you receive from deploying an exploded ear/war is the ability to hot-swap files on the server, as well as the time saved on the packaging (which IMHO is negligible).</p>\n\n<p>Basically - this is a useful feature for development phases. I wouldn't choose this deployment method for a production environment.</p>\n\n<p>There are also some web application servers which require exploded wars for some esoteric features, but this is nothing I've encountered in regular usage.</p>\n"},{"tags":[],"owner":{"account_id":166592,"reputation":3287,"user_id":390812,"accept_rate":78,"display_name":"Martijn Verburg"},"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1581593528,"creation_date":1286805890,"answer_id":3906941,"question_id":3906881,"body_markdown":"I think that was my answer mentioning the exploded WAR in the other question.  Exploded WARs are easier to navigate and you can deploy &#39;parts&#39; of your application that much quicker (depending on how our Web/App server deals with this), e.g. Replace a single resource like a JSP page. However it can have some drawbacks:\r\n\r\n1. **Versioning** - What version are you really running?  &quot;Hmmm, I&#39;m not really sure now&quot;\r\n\r\n2. **Security** - Do you have the right permissioning in place for the exploded format?\r\n\r\n3. **Messiness** - Files galore spread out all over your nice app/web server (some people really hate this).\r\n\r\n**Bottom line:** I tend to go exploded for prototype Dev work and then move to proper packaging the closer to PRD I get.","title":"Advantages/Disadvantages to exploded WAR files","body":"<p>I think that was my answer mentioning the exploded WAR in the other question.  Exploded WARs are easier to navigate and you can deploy 'parts' of your application that much quicker (depending on how our Web/App server deals with this), e.g. Replace a single resource like a JSP page. However it can have some drawbacks:</p>\n\n<ol>\n<li><p><strong>Versioning</strong> - What version are you really running?  \"Hmmm, I'm not really sure now\"</p></li>\n<li><p><strong>Security</strong> - Do you have the right permissioning in place for the exploded format?</p></li>\n<li><p><strong>Messiness</strong> - Files galore spread out all over your nice app/web server (some people really hate this).</p></li>\n</ol>\n\n<p><strong>Bottom line:</strong> I tend to go exploded for prototype Dev work and then move to proper packaging the closer to PRD I get.</p>\n"},{"tags":[],"owner":{"account_id":208424,"reputation":1276,"user_id":458901,"display_name":"mezzie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1286805927,"creation_date":1286805927,"answer_id":3906945,"question_id":3906881,"body_markdown":"Not exploding a WAR/EAR when deploying does not make any difference to the Application Server. This is because underneath, they are all exploded.\r\n\r\nFor example, if you put a WAR file under webapp of tomcat, you will see that under your work directory, your WAR file will be exploded there.\r\n\r\nBasically, WAR/EAR are just archiving your files so that it will be easier to move around and deploy","title":"Advantages/Disadvantages to exploded WAR files","body":"<p>Not exploding a WAR/EAR when deploying does not make any difference to the Application Server. This is because underneath, they are all exploded.</p>\n\n<p>For example, if you put a WAR file under webapp of tomcat, you will see that under your work directory, your WAR file will be exploded there.</p>\n\n<p>Basically, WAR/EAR are just archiving your files so that it will be easier to move around and deploy</p>\n"},{"tags":[],"owner":{"account_id":2963,"reputation":5270,"user_id":4206,"accept_rate":75,"display_name":"Luca Molteni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1286810171,"creation_date":1286810171,"answer_id":3907530,"question_id":3906881,"body_markdown":"Con: if you are on windows, you will often find that the OS randomly locks some file in the exploded .war, and it will be hard for you to delete the entire war and redeploy.\r\n","title":"Advantages/Disadvantages to exploded WAR files","body":"<p>Con: if you are on windows, you will often find that the OS randomly locks some file in the exploded .war, and it will be hard for you to delete the entire war and redeploy.</p>\n"}],"owner":{"account_id":212638,"reputation":3564,"user_id":465582,"accept_rate":86,"display_name":"Kevin D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30818,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":3906941,"answer_count":6,"score":69,"last_activity_date":1687164594,"creation_date":1286805453,"question_id":3906881,"body_markdown":"An answer to a question I read today suggested deploying an application as an exploded (unzipped) [WAR][1]. It got me thinking.\r\n\r\nEvery deployment I&#39;ve ever done to a JBoss/Tomcat has been with a a WAR/[EAR][2] file. At least as far as I can remember.\r\n\r\nHave I been making a mistake all these years?\r\n\r\nAre there advantages to deploying an app in its expanded form rather than packaged up?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/WAR_(file_format)\r\n  [2]: https://en.wikipedia.org/wiki/EAR_(file_format)","title":"Advantages/Disadvantages to exploded WAR files","body":"<p>An answer to a question I read today suggested deploying an application as an exploded (unzipped) <a href=\"https://en.wikipedia.org/wiki/WAR_(file_format)\" rel=\"noreferrer\">WAR</a>. It got me thinking.</p>\n\n<p>Every deployment I've ever done to a JBoss/Tomcat has been with a a WAR/<a href=\"https://en.wikipedia.org/wiki/EAR_(file_format)\" rel=\"noreferrer\">EAR</a> file. At least as far as I can remember.</p>\n\n<p>Have I been making a mistake all these years?</p>\n\n<p>Are there advantages to deploying an app in its expanded form rather than packaged up?</p>\n"},{"tags":["java","r","model","maxent"],"comments":[{"owner":{"account_id":11412376,"reputation":1344,"user_id":8400969,"display_name":"Michael Roswell"},"score":0,"creation_date":1683115669,"post_id":76162743,"comment_id":134316386,"body_markdown":"This looks promising: https://github.com/johnbaums/rmaxent","body":"This looks promising: <a href=\"https://github.com/johnbaums/rmaxent\" rel=\"nofollow noreferrer\">github.com/johnbaums/rmaxent</a>"},{"owner":{"account_id":11412376,"reputation":1344,"user_id":8400969,"display_name":"Michael Roswell"},"score":0,"creation_date":1683115721,"post_id":76162743,"comment_id":134316403,"body_markdown":"Welcome to SO! To get better feedback, you may want to share some example data so others can dig in and play: https://stackoverflow.com/help/minimal-reproducible-example","body":"Welcome to SO! To get better feedback, you may want to share some example data so others can dig in and play: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":28365800,"reputation":13,"user_id":21695120,"display_name":"Deana Hutcheson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687164239,"creation_date":1683109211,"question_id":76162743,"body_markdown":"I ran a few models in the Java MaxEnt program showing the species distribution model of an invasive species, and I want to import the outputs that it gave me (I have a folder of them, some asc files, some html, some plot pngs…) into R in order to compare the fit of each model via AIC. How do I go about doing this? \r\n\r\nI want to use this code: \r\n\r\naic.maxent(p.occs, ncoefs, p = NULL)","title":"How do I import the MaxEnt (Java) outputs from my models into R for AIC calculation?","body":"<p>I ran a few models in the Java MaxEnt program showing the species distribution model of an invasive species, and I want to import the outputs that it gave me (I have a folder of them, some asc files, some html, some plot pngs…) into R in order to compare the fit of each model via AIC. How do I go about doing this?</p>\n<p>I want to use this code:</p>\n<p>aic.maxent(p.occs, ncoefs, p = NULL)</p>\n"},{"tags":["java","java-native-interface","jniwrapper"],"comments":[{"owner":{"account_id":150246,"reputation":1242,"user_id":363297,"accept_rate":87,"display_name":"PoltoS"},"score":0,"creation_date":1686838015,"post_id":76483156,"comment_id":134856830,"body_markdown":"Why is it a bad idea? I&#39;m allocating memory in C and subscribing to events from my library, so I need to make sure I can call back in Java with `this`.\n\nMaking a separate `.init()` call is not a nice idea since it makes the code heavier. Is it the only way to go?","body":"Why is it a bad idea? I&#39;m allocating memory in C and subscribing to events from my library, so I need to make sure I can call back in Java with <code>this</code>.  Making a separate <code>.init()</code> call is not a nice idea since it makes the code heavier. Is it the only way to go?"},{"owner":{"account_id":150246,"reputation":1242,"user_id":363297,"accept_rate":87,"display_name":"PoltoS"},"score":0,"creation_date":1687102077,"post_id":76483156,"comment_id":134886943,"body_markdown":"@Jorn your explanation sounds the only reasonable. Still, with no confirmation by the doc and no explanation why is it a bad idea. But at least it points to the right way. If you turn it into an answer, I&#39;ll mark it as an accepted answer.","body":"@Jorn your explanation sounds the only reasonable. Still, with no confirmation by the doc and no explanation why is it a bad idea. But at least it points to the right way. If you turn it into an answer, I&#39;ll mark it as an accepted answer."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687103493,"post_id":76483156,"comment_id":134887113,"body_markdown":"The answer by @JornVernee sounds correct to me. I was assuming you were right when you said &quot;thisObj refers to the Test class when called from the constructor. And it refers to the instance of the Test when called from a method.&quot;, which is apparently not true. So that invalidates my theory.","body":"The answer by @JornVernee sounds correct to me. I was assuming you were right when you said &quot;thisObj refers to the Test class when called from the constructor. And it refers to the instance of the Test when called from a method.&quot;, which is apparently not true. So that invalidates my theory."},{"owner":{"account_id":150246,"reputation":1242,"user_id":363297,"accept_rate":87,"display_name":"PoltoS"},"score":0,"creation_date":1687124323,"post_id":76483156,"comment_id":134889285,"body_markdown":"@Jorn Indeed, I got the issue. I was checking the handle returned back from Java and it was referring to the class - but that was a pure chance I got it - I was saving a local reference instead of the global one. After switching to global everything went ok. It was a pure chance that the local handler pointed to something reasonable in the callback and matched the class object. So the clue was to globalize the reference before saving it! Thanks to Jorn and Jorn!","body":"@Jorn Indeed, I got the issue. I was checking the handle returned back from Java and it was referring to the class - but that was a pure chance I got it - I was saving a local reference instead of the global one. After switching to global everything went ok. It was a pure chance that the local handler pointed to something reasonable in the callback and matched the class object. So the clue was to globalize the reference before saving it! Thanks to Jorn and Jorn!"}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1686960650,"creation_date":1686845827,"answer_id":76483640,"question_id":76483156,"body_markdown":"&gt; As you see, thisObj is not the same. To be more precise, thisObj refers to the Test class when called from the constructor. And it refers to the instance of the Test when called from a method.\r\n&gt;\r\n&gt; Why is this?\r\n\r\nYou are incorrect in your theory. What you&#39;re printing out in the C code is an object handle, not the `this` pointer. Pointers to java objects are not exposed directly to native code. This wouldn&#39;t work as the garbage collector can move the objects around, even at the same time that the native code is executed.\r\n\r\nInstead the VM will allocate an object handle, which can be thought of as a token that indirectly refers to the Java object, and only the GC knows how to access correctly (which is encapsulated by the JNI api). Across multiple calls, this means that the value of the handle can change, because a new handle is created for every call.\r\n\r\nBut in both cases, the handle will refer to the `this` object. This has nothing to do with the place from where the method is called. Because `jni_test` is an instance method, it requires a receiver argument. Both of the calls to `jni_test(...)` in your Java code, are just short for `this.jni_test(...)`. And that `this` is what the `thisObj` handle refers to in the native code.\r\n\r\nThis is also explained in the [JNI specification](https://docs.oracle.com/en/java/javase/20/docs/specs/jni/design.html#native-method-arguments):\r\n\r\n&gt; The JNI interface pointer is the first argument to native methods. The\r\n&gt; JNI interface pointer is of type JNIEnv. The second argument differs\r\n&gt; depending on whether the native method is static or nonstatic. The\r\n&gt; second argument to a nonstatic native method is a reference to the\r\n&gt; object. The second argument to a static native method is a reference\r\n&gt; to its Java class.\r\n\r\nThe `jni_test` method is not `static`, so the second argument refers to the object.\r\n\r\n&gt; How to workaround it (except from explicitly passing this as one more parameter to the jni function)?\r\n\r\nI&#39;m not sure what you&#39;re trying to achieve, or what kind of workaround you&#39;re looking for. Rest assured though, that there&#39;s no way to expose a stable native address pointing at an arbitrary Java object.\r\n\r\n\r\n\r\n","title":"thisObj in JNI function called from constructor refers to the class and not to the instance","body":"<blockquote>\n<p>As you see, thisObj is not the same. To be more precise, thisObj refers to the Test class when called from the constructor. And it refers to the instance of the Test when called from a method.</p>\n<p>Why is this?</p>\n</blockquote>\n<p>You are incorrect in your theory. What you're printing out in the C code is an object handle, not the <code>this</code> pointer. Pointers to java objects are not exposed directly to native code. This wouldn't work as the garbage collector can move the objects around, even at the same time that the native code is executed.</p>\n<p>Instead the VM will allocate an object handle, which can be thought of as a token that indirectly refers to the Java object, and only the GC knows how to access correctly (which is encapsulated by the JNI api). Across multiple calls, this means that the value of the handle can change, because a new handle is created for every call.</p>\n<p>But in both cases, the handle will refer to the <code>this</code> object. This has nothing to do with the place from where the method is called. Because <code>jni_test</code> is an instance method, it requires a receiver argument. Both of the calls to <code>jni_test(...)</code> in your Java code, are just short for <code>this.jni_test(...)</code>. And that <code>this</code> is what the <code>thisObj</code> handle refers to in the native code.</p>\n<p>This is also explained in the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/jni/design.html#native-method-arguments\" rel=\"nofollow noreferrer\">JNI specification</a>:</p>\n<blockquote>\n<p>The JNI interface pointer is the first argument to native methods. The\nJNI interface pointer is of type JNIEnv. The second argument differs\ndepending on whether the native method is static or nonstatic. The\nsecond argument to a nonstatic native method is a reference to the\nobject. The second argument to a static native method is a reference\nto its Java class.</p>\n</blockquote>\n<p>The <code>jni_test</code> method is not <code>static</code>, so the second argument refers to the object.</p>\n<blockquote>\n<p>How to workaround it (except from explicitly passing this as one more parameter to the jni function)?</p>\n</blockquote>\n<p>I'm not sure what you're trying to achieve, or what kind of workaround you're looking for. Rest assured though, that there's no way to expose a stable native address pointing at an arbitrary Java object.</p>\n"},{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687164214,"creation_date":1686904258,"answer_id":76488347,"question_id":76483156,"body_markdown":"You declared your method as `private native void jni_test(int i);`, which means the corresponding C signature is:\r\n```\r\nvoid Java_&lt;package&gt;_jni_1test(JNIEnv *env, jobject obj, jint i);\r\n```\r\nregardless of where it is called from, with `obj` being *an instance of class Test*.\r\nYou can safely pass `obj` to other methods or call methods on `obj`, but the same caveats on doing stuff inside constructors apply.\r\n\r\nThe other answer already explained why your test is testing the wrong thing so I will not repeat it.\r\n\r\nEDIT: I wrote the following code to disprove your statement:\r\nAdded the following main method to Test:\r\n```\r\npublic static void main(String[] args) {\r\n  Test t = new Test();\r\n  t.m();\r\n}\r\n```\r\n\r\nand the following inside the jni_test method:\r\n```\r\nJNIEXPORT void JNICALL Java_Test_jni_1test(JNIEnv * env, jobject obj, jint i) {\r\n\tjclass cls_Test = env-&gt;FindClass(&quot;Test&quot;);\r\n\tprintf(&quot;Inside call with i=%d\\n&quot;, i);\r\n\tprintf(&quot;\\tobj instanceOf Test: %d\\n&quot;, env-&gt;IsInstanceOf(obj, cls_Test));\r\n\tprintf(&quot;\\tobj.getClass() == Test: %d\\n&quot;, env-&gt;IsSameObject(cls_Test, env-&gt;GetObjectClass(obj)));\r\n\r\n\tjmethodID mid_Test_toString = env-&gt;GetMethodID(cls_Test, &quot;toString&quot;, &quot;()Ljava/lang/String;&quot;);\r\n\tjstring str = (jstring)env-&gt;CallObjectMethod(obj, mid_Test_toString);\r\n\tconst char * str_output = env-&gt;GetStringUTFChars(str, nullptr);\r\n\tprintf(&quot;\\tobj.toString(): %s\\n&quot;, str_output);\r\n\tenv-&gt;ReleaseStringUTFChars(str, str_output);\r\n}\r\n```\r\n\r\nwhich produces the following output:\r\n```\r\nInside call with i=0\r\n\tobj instanceOf Test: 1\r\n\tobj.getClass() == Test: 1\r\n\tobj.toString(): Test@1eb44e46\r\nInside call with i=1\r\n\tobj instanceOf Test: 1\r\n\tobj.getClass() == Test: 1\r\n\tobj.toString(): Test@1eb44e46\r\n```\r\n\r\nThis conclusively proves that yes, even within a constructor, `this` refers to the object being constructed. I do not know how you arrived at a different conclusion, but I can only assume your test code is faulty somehow.","title":"thisObj in JNI function called from constructor refers to the class and not to the instance","body":"<p>You declared your method as <code>private native void jni_test(int i);</code>, which means the corresponding C signature is:</p>\n<pre><code>void Java_&lt;package&gt;_jni_1test(JNIEnv *env, jobject obj, jint i);\n</code></pre>\n<p>regardless of where it is called from, with <code>obj</code> being <em>an instance of class Test</em>.\nYou can safely pass <code>obj</code> to other methods or call methods on <code>obj</code>, but the same caveats on doing stuff inside constructors apply.</p>\n<p>The other answer already explained why your test is testing the wrong thing so I will not repeat it.</p>\n<p>EDIT: I wrote the following code to disprove your statement:\nAdded the following main method to Test:</p>\n<pre><code>public static void main(String[] args) {\n  Test t = new Test();\n  t.m();\n}\n</code></pre>\n<p>and the following inside the jni_test method:</p>\n<pre><code>JNIEXPORT void JNICALL Java_Test_jni_1test(JNIEnv * env, jobject obj, jint i) {\n    jclass cls_Test = env-&gt;FindClass(&quot;Test&quot;);\n    printf(&quot;Inside call with i=%d\\n&quot;, i);\n    printf(&quot;\\tobj instanceOf Test: %d\\n&quot;, env-&gt;IsInstanceOf(obj, cls_Test));\n    printf(&quot;\\tobj.getClass() == Test: %d\\n&quot;, env-&gt;IsSameObject(cls_Test, env-&gt;GetObjectClass(obj)));\n\n    jmethodID mid_Test_toString = env-&gt;GetMethodID(cls_Test, &quot;toString&quot;, &quot;()Ljava/lang/String;&quot;);\n    jstring str = (jstring)env-&gt;CallObjectMethod(obj, mid_Test_toString);\n    const char * str_output = env-&gt;GetStringUTFChars(str, nullptr);\n    printf(&quot;\\tobj.toString(): %s\\n&quot;, str_output);\n    env-&gt;ReleaseStringUTFChars(str, str_output);\n}\n</code></pre>\n<p>which produces the following output:</p>\n<pre><code>Inside call with i=0\n    obj instanceOf Test: 1\n    obj.getClass() == Test: 1\n    obj.toString(): Test@1eb44e46\nInside call with i=1\n    obj instanceOf Test: 1\n    obj.getClass() == Test: 1\n    obj.toString(): Test@1eb44e46\n</code></pre>\n<p>This conclusively proves that yes, even within a constructor, <code>this</code> refers to the object being constructed. I do not know how you arrived at a different conclusion, but I can only assume your test code is faulty somehow.</p>\n"}],"owner":{"account_id":150246,"reputation":1242,"user_id":363297,"accept_rate":87,"display_name":"PoltoS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76483640,"answer_count":2,"score":0,"last_activity_date":1687164214,"creation_date":1686836815,"question_id":76483156,"body_markdown":"I&#39;m trying to implement a JNI library. I&#39;ve noticed that thisObj passed to JNI function when called from a constructor differs from the same function called from a method.\r\n\r\nHere is my minimal code:\r\n```\r\npublic final class Test {\r\n    static {\r\n        System.loadLibrary(&quot;jnitest&quot;);\r\n    }\r\n\r\n    private native void jni_test(int i);\r\n\r\n    public Test() {\r\n        jni_test(0);\r\n    }\r\n\r\n    public void m() {\r\n        jni_test(1);\r\n    }\r\n}\r\n```\r\n\r\nI call it like this:\r\n```\r\nTest t = new Test();\r\nt.m();\r\n```\r\n\r\nJNI side looks like this:\r\n```\r\nstatic void jni_test(JNIEnv *env, jobject thisObj, int i) {\r\n    printf(&quot;jni_test %i %p\\n&quot;, i, thisObj);\r\n}\r\n```\r\n\r\nThe output is:\r\n```\r\njni_test 0 0x7f3bb0288898\r\njni_test 1 0x7f3bb02888e0\r\n```\r\n\r\nAs you see, thisObj is not the same. To be more precise, *thisObj* refers to the **Test class** when called from the constructor. And it refers to the **instance of the Test** when called from a method.\r\n\r\nWhy is this?\r\n\r\nHow to workaround it (except from explicitly passing *this* as one more parameter to the jni function)?","title":"thisObj in JNI function called from constructor refers to the class and not to the instance","body":"<p>I'm trying to implement a JNI library. I've noticed that thisObj passed to JNI function when called from a constructor differs from the same function called from a method.</p>\n<p>Here is my minimal code:</p>\n<pre><code>public final class Test {\n    static {\n        System.loadLibrary(&quot;jnitest&quot;);\n    }\n\n    private native void jni_test(int i);\n\n    public Test() {\n        jni_test(0);\n    }\n\n    public void m() {\n        jni_test(1);\n    }\n}\n</code></pre>\n<p>I call it like this:</p>\n<pre><code>Test t = new Test();\nt.m();\n</code></pre>\n<p>JNI side looks like this:</p>\n<pre><code>static void jni_test(JNIEnv *env, jobject thisObj, int i) {\n    printf(&quot;jni_test %i %p\\n&quot;, i, thisObj);\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>jni_test 0 0x7f3bb0288898\njni_test 1 0x7f3bb02888e0\n</code></pre>\n<p>As you see, thisObj is not the same. To be more precise, <em>thisObj</em> refers to the <strong>Test class</strong> when called from the constructor. And it refers to the <strong>instance of the Test</strong> when called from a method.</p>\n<p>Why is this?</p>\n<p>How to workaround it (except from explicitly passing <em>this</em> as one more parameter to the jni function)?</p>\n"},{"tags":["java","selenium","testng"],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1578920623,"creation_date":1578920623,"answer_id":59717214,"question_id":59717033,"body_markdown":"`@BeforeMethod` will run for every test in the suite. Use `@BeforeClass` to run the method once before all tests.\r\n\r\n    @BeforeClass\r\n    public void setUp() { }\r\n","title":"How should I run the same test case without running the @before method from TestNG?","body":"<p><code>@BeforeMethod</code> will run for every test in the suite. Use <code>@BeforeClass</code> to run the method once before all tests.</p>\n\n<pre><code>@BeforeClass\npublic void setUp() { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578920624,"creation_date":1578920624,"answer_id":59717215,"question_id":59717033,"body_markdown":"You can use invocationCount feature in Testng, so here it&#39;s running 5 times in a single thread . As guy suggested replace @beforeMethod with @BeforeClass\r\n, if you are running as a Suite , better to change it to @BeforeSuite accordingly .\r\n\r\n     @Test(invocationCount = 5, threadPoolSize = 1)\r\n        public void GrandTotal_CommissionComparision(){\r\n       \r\n        }","title":"How should I run the same test case without running the @before method from TestNG?","body":"<p>You can use invocationCount feature in Testng, so here it's running 5 times in a single thread . As guy suggested replace @beforeMethod with @BeforeClass\n, if you are running as a Suite , better to change it to @BeforeSuite accordingly .</p>\n\n<pre><code> @Test(invocationCount = 5, threadPoolSize = 1)\n    public void GrandTotal_CommissionComparision(){\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687163973,"creation_date":1687163973,"answer_id":76504977,"question_id":59717033,"body_markdown":"create a global boolean : \r\n\r\n        private boolean executeSetUp = true;\r\n\r\nin **@BeforeTest** method wich is probably called **setUp() or init()** :\r\n\r\n\r\n     // your setup code then\r\n     executeSetUp = true;\r\n\r\nand in you test method:\r\n\r\n            if(executeSetUp == false) {\r\n                setUp();\r\n            }\r\n            //your test code here, then\r\n            executeSetUp = false;\r\n             \r\nExample:\r\n\r\n        private boolean executeSetUp = true;\r\n    @BeforeTest\r\n    public void setUp() throws IOException {\r\n        WebDriverManager.chromedriver().setup();\r\n        option = new ChromeOptions();\r\n        option.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        option.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n        option.setPageLoadStrategy(PageLoadStrategy.EAGER);\r\n\r\n        driver = new ChromeDriver(option);\r\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n        nespressoHomePage = new NespressoHomePage(driver);\r\n        nesspressoCapsulesPage = new NesspressoCapsulesPage(driver);\r\n        driver.manage().window().maximize();\r\n        String domain = &quot;https://www.nespresso.com/fr/en&quot;;\r\n        executeSetUp = true;\r\n        driver.get(domain);\r\n    }\r\n        @Test(dataProvider = &quot;getCapsulesAndValidQuantity&quot;, dataProviderClass = ReadCapsuleData.class)\r\n    public void addProductToCartWithValidQuantityOneByOne(String productName, String quantity) throws IOException {\r\n        if(!executeSetUp) {\r\n            setUp();\r\n        }\r\n            //remove beforeTest\r\n            nespressoHomePage.acceptCookie();\r\n            // reinistialiser la session(new solution to reduce ressources)\r\n            nespressoHomePage.goToCapsulesPage();\r\n            nesspressoCapsulesPage.addProductToCartWithValidQuantity(productName,quantity);\r\n            nesspressoCapsulesPage.clickOnCart();\r\n            String quantityInSpan = nesspressoCapsulesPage.getQuantityOfSelectedProductInCartSpan(productName);\r\n            Assert.assertEquals(quantity, quantityInSpan,&quot;Quantity in cart does not match expected value.&quot;);\r\n            nesspressoCapsulesPage.closeCart();\r\n            executeSetUp = false;\r\n            shutDown();\r\n\r\n    }\r\n\r\n ","title":"How should I run the same test case without running the @before method from TestNG?","body":"<p>create a global boolean :</p>\n<pre><code>    private boolean executeSetUp = true;\n</code></pre>\n<p>in <strong>@BeforeTest</strong> method wich is probably called <strong>setUp() or init()</strong> :</p>\n<pre><code> // your setup code then\n executeSetUp = true;\n</code></pre>\n<p>and in you test method:</p>\n<pre><code>        if(executeSetUp == false) {\n            setUp();\n        }\n        //your test code here, then\n        executeSetUp = false;\n         \n</code></pre>\n<p>Example:</p>\n<pre><code>    private boolean executeSetUp = true;\n@BeforeTest\npublic void setUp() throws IOException {\n    WebDriverManager.chromedriver().setup();\n    option = new ChromeOptions();\n    option.addArguments(&quot;--remote-allow-origins=*&quot;);\n    option.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n    option.setPageLoadStrategy(PageLoadStrategy.EAGER);\n\n    driver = new ChromeDriver(option);\n    driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n    nespressoHomePage = new NespressoHomePage(driver);\n    nesspressoCapsulesPage = new NesspressoCapsulesPage(driver);\n    driver.manage().window().maximize();\n    String domain = &quot;https://www.nespresso.com/fr/en&quot;;\n    executeSetUp = true;\n    driver.get(domain);\n}\n    @Test(dataProvider = &quot;getCapsulesAndValidQuantity&quot;, dataProviderClass = ReadCapsuleData.class)\npublic void addProductToCartWithValidQuantityOneByOne(String productName, String quantity) throws IOException {\n    if(!executeSetUp) {\n        setUp();\n    }\n        //remove beforeTest\n        nespressoHomePage.acceptCookie();\n        // reinistialiser la session(new solution to reduce ressources)\n        nespressoHomePage.goToCapsulesPage();\n        nesspressoCapsulesPage.addProductToCartWithValidQuantity(productName,quantity);\n        nesspressoCapsulesPage.clickOnCart();\n        String quantityInSpan = nesspressoCapsulesPage.getQuantityOfSelectedProductInCartSpan(productName);\n        Assert.assertEquals(quantity, quantityInSpan,&quot;Quantity in cart does not match expected value.&quot;);\n        nesspressoCapsulesPage.closeCart();\n        executeSetUp = false;\n        shutDown();\n\n}\n</code></pre>\n"}],"owner":{"account_id":5541287,"reputation":83,"user_id":4397709,"display_name":"Aakash paliwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59717214,"answer_count":3,"score":2,"last_activity_date":1687163973,"creation_date":1578919944,"question_id":59717033,"body_markdown":"How should I run the same test case without running the @before method?   \r\n        \r\n    public class CommissionHistorySingledownloadTest extends TestBase\r\n    {\r\n    \t@FindBy(id = &quot;UserId&quot;)\r\n    \tWebElement UserID;\r\n    \tLoginPage loginPage;\r\n    \tHomePage homepage;\r\n    \tCommissionHistorySingledownload CommissionHistory;\r\n    \t\r\n    \tpublic CommissionHistorySingledownloadTest()\r\n    \t{\r\n    \t\tsuper();   \r\n    \t}\r\n    \t\r\n    \t@BeforeMethod\r\n    \tpublic void setUp()\r\n    \t{\r\n    \t\tinitialization();\r\n    \t\tloginPage = new LoginPage();\r\n    \t\thomepage = loginPage.login(prop.getProperty(&quot;email&quot;), prop.getProperty(&quot;password&quot;));\r\n    \t\tCommissionHistory = homepage.navigate();\r\n    \t\tTestUtil.setusername();\r\n    \t}\r\n    \t\r\n    \r\n    \t\r\n    \t@DataProvider(name=&quot;getusername&quot;)\r\n    \tpublic Iterator&lt;Object[]&gt; getusername() {\r\n    \t\tArrayList&lt;Object[]&gt; testdata = \tTestUtil.getusername();\r\n    \t\treturn testdata.iterator();\r\n    \t}\r\n    \t\r\n    \t@Test(dataProvider=&quot;getusername&quot;)\r\n    \tpublic void GrandTotal_CommissionComparision(String UserName) throws InterruptedException\r\n    \t{\r\n    \r\n    \t\t{\r\n    \t\tDouble\tvalue1= null;\r\n    \t\tDouble  value2= null;\r\n    \t\tDouble  value3 =0.00;\r\n    \t\tDouble  sum=null;\r\n    \t\tSelect user = new Select (driver.findElement(By.id(&quot;UserId&quot;)));\r\n    \t\tString u =UserName;\r\n    \t\tSystem.out.println(u);\r\n    \t\tuser.selectByValue(u);\r\n    \t\tCommissionHistory.Common();\r\n    \t\t\t/*\r\n    \t\t\t * Select user = new Select (UserID); String u =&quot;&quot;; user.selectByValue(u);\r\n    \t\t\t */\r\n    \t\tBoolean c = CommissionHistory.verifytablepresent();\r\n    \t\tif (c==true)\r\n    \t\t{\r\n    \t\t\tvalue1 = CommissionHistory.totalCommission1();\r\n    \t\t\tString g= CommissionHistory.verifycommissiontables();\r\n    \t\t\tif (g==&quot;0&quot;)\r\n    \t\t\t{\r\n    \t\t\t\tvalue2 = CommissionHistory.rowcount0();\r\n    \t\t\t}\t\r\n    \t\t\tif (g==&quot;1&quot;)\r\n    \t\t\t{\r\n    \t\t\t\tvalue2 = CommissionHistory.rowcount0();\r\n    \t\t\t\tvalue3 = CommissionHistory.rowcount1();\r\n    \t\t\t}\r\n    \t\t\telse \r\n    \t\t\t\tSystem.out.println(&quot;g value not found&quot;);\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Value 2: &quot;+value2 );\r\n    \t\t\tSystem.out.println(&quot;Value 3 &quot;+value3 );\r\n    \t\t\tsum =value2+value3;\r\n    \t\t\tSystem.out.println(&quot;Value 1: &quot;+ value1);\r\n    \t\t\tSystem.out.println(&quot;Sum of Value 2 and 3 is:  &quot;+sum );\r\n    \t\t\tAssert.assertEquals(value1, sum,&quot;GrandTotal_CommissionComparision Match Failed&quot;);\r\n    \t\t}\r\n    \t\telse \r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;No data found&quot;);\r\n    \t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@AfterMethod\r\n    \tpublic void tearDown()\r\n    \t{\r\n    \t\tdriver.quit();\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n    \r\n**initialization()** method is opening the browser.\r\n\r\n**@DataProvider(name=&quot;getusername&quot;)** will give data from excel one by one in Iteration\r\n   \r\nSo I want to run it for multiple users and it is opening the browser multiple times because of @before class.\r\n\r\nIs there any way in which I can test the multiple data without opening the browser again and again //?","title":"How should I run the same test case without running the @before method from TestNG?","body":"<p>How should I run the same test case without running the @before method?   </p>\n\n<pre><code>public class CommissionHistorySingledownloadTest extends TestBase\n{\n    @FindBy(id = \"UserId\")\n    WebElement UserID;\n    LoginPage loginPage;\n    HomePage homepage;\n    CommissionHistorySingledownload CommissionHistory;\n\n    public CommissionHistorySingledownloadTest()\n    {\n        super();   \n    }\n\n    @BeforeMethod\n    public void setUp()\n    {\n        initialization();\n        loginPage = new LoginPage();\n        homepage = loginPage.login(prop.getProperty(\"email\"), prop.getProperty(\"password\"));\n        CommissionHistory = homepage.navigate();\n        TestUtil.setusername();\n    }\n\n\n\n    @DataProvider(name=\"getusername\")\n    public Iterator&lt;Object[]&gt; getusername() {\n        ArrayList&lt;Object[]&gt; testdata =  TestUtil.getusername();\n        return testdata.iterator();\n    }\n\n    @Test(dataProvider=\"getusername\")\n    public void GrandTotal_CommissionComparision(String UserName) throws InterruptedException\n    {\n\n        {\n        Double  value1= null;\n        Double  value2= null;\n        Double  value3 =0.00;\n        Double  sum=null;\n        Select user = new Select (driver.findElement(By.id(\"UserId\")));\n        String u =UserName;\n        System.out.println(u);\n        user.selectByValue(u);\n        CommissionHistory.Common();\n            /*\n             * Select user = new Select (UserID); String u =\"\"; user.selectByValue(u);\n             */\n        Boolean c = CommissionHistory.verifytablepresent();\n        if (c==true)\n        {\n            value1 = CommissionHistory.totalCommission1();\n            String g= CommissionHistory.verifycommissiontables();\n            if (g==\"0\")\n            {\n                value2 = CommissionHistory.rowcount0();\n            }   \n            if (g==\"1\")\n            {\n                value2 = CommissionHistory.rowcount0();\n                value3 = CommissionHistory.rowcount1();\n            }\n            else \n                System.out.println(\"g value not found\");\n\n            System.out.println(\"Value 2: \"+value2 );\n            System.out.println(\"Value 3 \"+value3 );\n            sum =value2+value3;\n            System.out.println(\"Value 1: \"+ value1);\n            System.out.println(\"Sum of Value 2 and 3 is:  \"+sum );\n            Assert.assertEquals(value1, sum,\"GrandTotal_CommissionComparision Match Failed\");\n        }\n        else \n        {\n            System.out.println(\"No data found\");\n        }\n        }\n    }\n\n    @AfterMethod\n    public void tearDown()\n    {\n        driver.quit();\n\n    }\n\n}\n</code></pre>\n\n<p><strong>initialization()</strong> method is opening the browser.</p>\n\n<p><strong>@DataProvider(name=\"getusername\")</strong> will give data from excel one by one in Iteration</p>\n\n<p>So I want to run it for multiple users and it is opening the browser multiple times because of @before class.</p>\n\n<p>Is there any way in which I can test the multiple data without opening the browser again and again //?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686830936,"post_id":76476101,"comment_id":134855118,"body_markdown":"I&#39;m not sure I understand. You&#39;re looking for a long click or for a continuously click?","body":"I&#39;m not sure I understand. You&#39;re looking for a long click or for a continuously click?"},{"owner":{"account_id":25392895,"reputation":1,"user_id":19203562,"display_name":"Zero"},"score":0,"creation_date":1686850233,"post_id":76476101,"comment_id":134858313,"body_markdown":"@AlexMamo Sorry if it&#39;s confusing. What I mean is that pressing the button increments the value in my Firebase Realtime Database continuously until I release the button. After that it goes back to zero once I release the button.","body":"@AlexMamo Sorry if it&#39;s confusing. What I mean is that pressing the button increments the value in my Firebase Realtime Database continuously until I release the button. After that it goes back to zero once I release the button."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686892770,"post_id":76476101,"comment_id":134863387,"body_markdown":"What is the rate of incrementation during the pressing the button?","body":"What is the rate of incrementation during the pressing the button?"},{"owner":{"account_id":25392895,"reputation":1,"user_id":19203562,"display_name":"Zero"},"score":0,"creation_date":1686921381,"post_id":76476101,"comment_id":134868831,"body_markdown":"@AlexMamo For now I want the value to keep increasing by 1 as long as I hold down the button. But maybe I&#39;ll change it later. So it&#39;s better if the number can be changed as i like","body":"@AlexMamo For now I want the value to keep increasing by 1 as long as I hold down the button. But maybe I&#39;ll change it later. So it&#39;s better if the number can be changed as i like"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686979413,"post_id":76476101,"comment_id":134876114,"body_markdown":"Let&#39;s say you keep the button pressed for 1 minute, how many times would you like to increment the value?","body":"Let&#39;s say you keep the button pressed for 1 minute, how many times would you like to increment the value?"},{"owner":{"account_id":25392895,"reputation":1,"user_id":19203562,"display_name":"Zero"},"score":0,"creation_date":1686987957,"post_id":76476101,"comment_id":134876717,"body_markdown":"@AlexMamo Hmm, I think the value keeps increasing every 500 milliseconds as long as I hold down the button.","body":"@AlexMamo Hmm, I think the value keeps increasing every 500 milliseconds as long as I hold down the button."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1687077281,"post_id":76476101,"comment_id":134884364,"body_markdown":"Did you try anything?","body":"Did you try anything?"},{"owner":{"account_id":25392895,"reputation":1,"user_id":19203562,"display_name":"Zero"},"score":0,"creation_date":1687087930,"post_id":76476101,"comment_id":134885454,"body_markdown":"@AlexMamo I&#39;ve tried the code answered by @Vibrant below and it can keep increasing by 1 as long as I hold down the button. But the value doesn&#39;t go back to zero when I release the button and it continues until I stop the app. You can check my modified code [here](https://drive.google.com/drive/folders/16NtQcB162YmVuI7IQvJL8qs2gyJvjoEk?usp=sharing) at `Try6\\app\\src\\main\\java\\com\\example\\try6`. Any idea?","body":"@AlexMamo I&#39;ve tried the code answered by @Vibrant below and it can keep increasing by 1 as long as I hold down the button. But the value doesn&#39;t go back to zero when I release the button and it continues until I stop the app. You can check my modified code <a href=\"https://drive.google.com/drive/folders/16NtQcB162YmVuI7IQvJL8qs2gyJvjoEk?usp=sharing\" rel=\"nofollow noreferrer\">here</a> at <code>Try6\\app\\src\\main\\java\\com\\example\\try6</code>. Any idea?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1687093197,"post_id":76476101,"comment_id":134885994,"body_markdown":"Does an answer in Kotlin help? Or do you need Java?","body":"Does an answer in Kotlin help? Or do you need Java?"},{"owner":{"account_id":25392895,"reputation":1,"user_id":19203562,"display_name":"Zero"},"score":0,"creation_date":1687098224,"post_id":76476101,"comment_id":134886525,"body_markdown":"@AlexMamo Due to my little understanding of kotlin so I prefer java but if you can give me an idea through kotlin you can continue","body":"@AlexMamo Due to my little understanding of kotlin so I prefer java but if you can give me an idea through kotlin you can continue"}],"answers":[{"tags":[],"owner":{"account_id":28760009,"reputation":74,"user_id":22026133,"display_name":"Vibrant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686766476,"creation_date":1686766476,"answer_id":76476462,"question_id":76476101,"body_markdown":"Design your layout:\r\n\r\nOpen your layout XML file (e.g., activity_main.xml) and add a button element. You can customize its appearance as desired.\r\nExample XML for the button:\r\n\r\n```    \r\n&lt;Button\r\n    android:id=&quot;@+id/increaseButton&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;Increase&quot;\r\n    /&gt;\r\n```\r\nRetrieve a reference to your Firebase Realtime Database:\r\n\r\nIn your activity or fragment, declare a variable for the Firebase Realtime Database reference.\r\nExample code:\r\n```\r\nprivate DatabaseReference mDatabase;\r\n```\r\nInitialize the Firebase Realtime Database reference:\r\n\r\nInside your activity&#39;s onCreate() method or fragment&#39;s onViewCreated() method, initialize the database reference.\r\nExample code:\r\n```\r\nmDatabase = FirebaseDatabase.getInstance().getReference();\r\n```\r\n\r\nSet click and long-click listeners for the button:\r\n\r\nIn your activity or fragment, find the button by its ID and set both a click listener and a long-click listener on it.\r\nExample code:\r\n```\r\nButton increaseButton = findViewById(R.id.increaseButton);\r\n\r\nincreaseButton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        increaseValue();\r\n    }\r\n});\r\n\r\nincreaseButton.setOnLongClickListener(new View.OnLongClickListener() {\r\n    @Override\r\n    public boolean onLongClick(View v) {\r\n        startIncreasingValue();\r\n        return true;\r\n    }\r\n});\r\n```\r\nImplement the methods for increasing the value:\r\n\r\nCreate two methods, increaseValue() and startIncreasingValue(), in your activity or fragment to handle the logic of increasing the value and updating it in Firebase.\r\nExample code:\r\n```\r\nprivate int value = 0;\r\nprivate Handler handler = new Handler();\r\nprivate Runnable increaseRunnable;\r\n\r\nprivate void increaseValue() {\r\n    value++;\r\n    mDatabase.child(&quot;your_node_path&quot;).setValue(value);\r\n}\r\n\r\nprivate void startIncreasingValue() {\r\n    increaseRunnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            increaseValue();\r\n            handler.postDelayed(this, 100); // Increase every 100 milliseconds\r\n        }\r\n    };\r\n    handler.post(increaseRunnable);\r\n}\r\n\r\n```\r\nStop increasing the value when the button is released:\r\n\r\nOverride the onTouchEvent() method in your activity or fragment and stop the increasing mechanism when the button is released.\r\nExample code:\r\n```\r\n@Override\r\npublic boolean onTouchEvent(MotionEvent event) {\r\n    if (event.getAction() == MotionEvent.ACTION_UP) {\r\n        stopIncreasingValue();\r\n    }\r\n    return super.onTouchEvent(event);\r\n}\r\n\r\nprivate void stopIncreasingValue() {\r\n    if (increaseRunnable != null) {\r\n        handler.removeCallbacks(increaseRunnable);\r\n        increaseRunnable = null;\r\n    }\r\n    value = 0;\r\n    mDatabase.child(&quot;your_node_path&quot;).setValue(value);\r\n}\r\n```\r\nRemember to replace &quot;your_node_path&quot; with the actual path to your desired node in the Firebase Realtime Database.\r\n\r\nThese steps will allow you to create a button in your Android app that increases the value in your Firebase Realtime Database when clicked and keeps increasing when long-pressed. The value will reset to zero when the button is released.\r\n\r\nPlease let me know if you have any questions :)","title":"How to Increase Value in Firebase by Pressing Button Continuously in Android Studio","body":"<p>Design your layout:</p>\n<p>Open your layout XML file (e.g., activity_main.xml) and add a button element. You can customize its appearance as desired.\nExample XML for the button:</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/increaseButton&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Increase&quot;\n    /&gt;\n</code></pre>\n<p>Retrieve a reference to your Firebase Realtime Database:</p>\n<p>In your activity or fragment, declare a variable for the Firebase Realtime Database reference.\nExample code:</p>\n<pre><code>private DatabaseReference mDatabase;\n</code></pre>\n<p>Initialize the Firebase Realtime Database reference:</p>\n<p>Inside your activity's onCreate() method or fragment's onViewCreated() method, initialize the database reference.\nExample code:</p>\n<pre><code>mDatabase = FirebaseDatabase.getInstance().getReference();\n</code></pre>\n<p>Set click and long-click listeners for the button:</p>\n<p>In your activity or fragment, find the button by its ID and set both a click listener and a long-click listener on it.\nExample code:</p>\n<pre><code>Button increaseButton = findViewById(R.id.increaseButton);\n\nincreaseButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        increaseValue();\n    }\n});\n\nincreaseButton.setOnLongClickListener(new View.OnLongClickListener() {\n    @Override\n    public boolean onLongClick(View v) {\n        startIncreasingValue();\n        return true;\n    }\n});\n</code></pre>\n<p>Implement the methods for increasing the value:</p>\n<p>Create two methods, increaseValue() and startIncreasingValue(), in your activity or fragment to handle the logic of increasing the value and updating it in Firebase.\nExample code:</p>\n<pre><code>private int value = 0;\nprivate Handler handler = new Handler();\nprivate Runnable increaseRunnable;\n\nprivate void increaseValue() {\n    value++;\n    mDatabase.child(&quot;your_node_path&quot;).setValue(value);\n}\n\nprivate void startIncreasingValue() {\n    increaseRunnable = new Runnable() {\n        @Override\n        public void run() {\n            increaseValue();\n            handler.postDelayed(this, 100); // Increase every 100 milliseconds\n        }\n    };\n    handler.post(increaseRunnable);\n}\n\n</code></pre>\n<p>Stop increasing the value when the button is released:</p>\n<p>Override the onTouchEvent() method in your activity or fragment and stop the increasing mechanism when the button is released.\nExample code:</p>\n<pre><code>@Override\npublic boolean onTouchEvent(MotionEvent event) {\n    if (event.getAction() == MotionEvent.ACTION_UP) {\n        stopIncreasingValue();\n    }\n    return super.onTouchEvent(event);\n}\n\nprivate void stopIncreasingValue() {\n    if (increaseRunnable != null) {\n        handler.removeCallbacks(increaseRunnable);\n        increaseRunnable = null;\n    }\n    value = 0;\n    mDatabase.child(&quot;your_node_path&quot;).setValue(value);\n}\n</code></pre>\n<p>Remember to replace &quot;your_node_path&quot; with the actual path to your desired node in the Firebase Realtime Database.</p>\n<p>These steps will allow you to create a button in your Android app that increases the value in your Firebase Realtime Database when clicked and keeps increasing when long-pressed. The value will reset to zero when the button is released.</p>\n<p>Please let me know if you have any questions :)</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687163949,"creation_date":1687159124,"answer_id":76504408,"question_id":76476101,"body_markdown":"Assuming that you have layout that contains a button and looks similar to this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/longPressButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Long Press Button&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nTo achieve a functionality in which you increment a value every 500 milliseconds while the button is pressed and when the button is released, to set the value to zero, then please define inside your activity five global variables:\r\n\r\n    private Button longPressButton;\r\n    private Handler toastHandler;\r\n    private Runnable toastRunnable;\r\n    private boolean isButtonPressed;\r\n    private DatabaseReference valueRef;\r\n\r\nAnd inside `onCreate()`, add the following lines of code:\r\n\r\n    longPressButton = findViewById(R.id.longPressButton);\r\n    toastHandler = new Handler();\r\n    isButtonPressed = false;\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    valueRef = db.child(&quot;value&quot;);\r\n\r\n    longPressButton.setOnTouchListener(new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    isButtonPressed = true;\r\n                    incrementRepeatedly();\r\n                    return true;\r\n                case MotionEvent.ACTION_UP:\r\n                case MotionEvent.ACTION_CANCEL:\r\n                    isButtonPressed = false;\r\n                    setValueToZero();\r\n                    return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n\r\nAnd here are the corresponding methods:\r\n\r\n    private void incrementRepeatedly() {\r\n        toastRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if (isButtonPressed) {\r\n                    valueRef.setValue(ServerValue.increment(1));\r\n                    toastHandler.postDelayed(this, 500);\r\n                }\r\n            }\r\n        };\r\n        toastHandler.postDelayed(toastRunnable, 500);\r\n    }\r\n\r\n    private void setValueToZero() {\r\n        valueRef.setValue(0);\r\n\r\n    }\r\n\r\nTo make it work in your project, you have to set your own references in the database.","title":"How to Increase Value in Firebase by Pressing Button Continuously in Android Studio","body":"<p>Assuming that you have layout that contains a button and looks similar to this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/longPressButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Long Press Button&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>To achieve a functionality in which you increment a value every 500 milliseconds while the button is pressed and when the button is released, to set the value to zero, then please define inside your activity five global variables:</p>\n<pre><code>private Button longPressButton;\nprivate Handler toastHandler;\nprivate Runnable toastRunnable;\nprivate boolean isButtonPressed;\nprivate DatabaseReference valueRef;\n</code></pre>\n<p>And inside <code>onCreate()</code>, add the following lines of code:</p>\n<pre><code>longPressButton = findViewById(R.id.longPressButton);\ntoastHandler = new Handler();\nisButtonPressed = false;\nDatabaseReference db = FirebaseDatabase.getInstance().getReference();\nvalueRef = db.child(&quot;value&quot;);\n\nlongPressButton.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                isButtonPressed = true;\n                incrementRepeatedly();\n                return true;\n            case MotionEvent.ACTION_UP:\n            case MotionEvent.ACTION_CANCEL:\n                isButtonPressed = false;\n                setValueToZero();\n                return true;\n        }\n        return false;\n    }\n});\n</code></pre>\n<p>And here are the corresponding methods:</p>\n<pre><code>private void incrementRepeatedly() {\n    toastRunnable = new Runnable() {\n        @Override\n        public void run() {\n            if (isButtonPressed) {\n                valueRef.setValue(ServerValue.increment(1));\n                toastHandler.postDelayed(this, 500);\n            }\n        }\n    };\n    toastHandler.postDelayed(toastRunnable, 500);\n}\n\nprivate void setValueToZero() {\n    valueRef.setValue(0);\n\n}\n</code></pre>\n<p>To make it work in your project, you have to set your own references in the database.</p>\n"}],"owner":{"account_id":25392895,"reputation":1,"user_id":19203562,"display_name":"Zero"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687163949,"creation_date":1686763307,"question_id":76476101,"body_markdown":"I am new to using Android Studio, and now I want to create some buttons which can increase the value of my Firebase Realtime Database whenever I click the button. However, I want to make the value keep increasing whenever I long click the button, and the value returns to zero when I release the button. I have tried to code and here&#39;s my `MainActivity` code :\r\n\r\n```\r\npackage com.example.try6;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.pm.ActivityInfo;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.try6.databinding.ActivityMainBinding;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ServerValue;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private ActivityMainBinding binding;\r\n    private DatabaseReference database;\r\n    private int number = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE);\r\n        initializeComponents();\r\n\r\n    }\r\n\r\n    private void initializeComponents() {\r\n        Button[] buttons = {\r\n                binding.btnGasUp, binding.btnGasDown,\r\n                binding.btnYawRight, binding.btnYawLeft,\r\n                binding.btnRollRight, binding.btnRollLeft,\r\n                binding.btnPitchFront, binding.btnPitchBack,\r\n        };\r\n        for (Button button : buttons) {\r\n            button.setOnClickListener(view -&gt; {\r\n                if (button == binding.btnGasUp) {\r\n                    setOnClick(1, &quot;Gas&quot;);\r\n                } else if (button == binding.btnGasDown) {\r\n                    setOnClick(-1, &quot;Gas&quot;);\r\n                } else if (button == binding.btnYawRight) {\r\n                    setOnClick(1, &quot;Yaw&quot;);\r\n                } else if (button == binding.btnYawLeft) {\r\n                    setOnClick(-1, &quot;Yaw&quot;);\r\n                } else if (button == binding.btnRollRight) {\r\n                    setOnClick(1, &quot;Roll&quot;);\r\n                } else if (button == binding.btnRollLeft) {\r\n                    setOnClick(-1, &quot;Roll&quot;);\r\n                } else if (button == binding.btnPitchFront) {\r\n                    setOnClick(1, &quot;Pitch&quot;);\r\n                } else if (button == binding.btnPitchBack) {\r\n                    setOnClick(-1, &quot;Pitch&quot;);\r\n                }\r\n            });\r\n            button.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View view) {\r\n                    if (button == binding.btnGasUp) {\r\n                        setOnLongClick(number++, &quot;Gas&quot;);\r\n                    } else if (button == binding.btnGasDown) {\r\n                        setOnLongClick(number--,&quot;Gas&quot;);\r\n                    } else if (button == binding.btnYawRight) {\r\n                        setOnLongClick(number++,&quot;Yaw&quot;);\r\n                    } else if (button == binding.btnYawLeft) {\r\n                        setOnLongClick(number--,&quot;Yaw&quot;);\r\n                    } else if (button == binding.btnRollRight) {\r\n                        setOnLongClick(number++,&quot;Roll&quot;);\r\n                    } else if (button == binding.btnRollLeft) {\r\n                        setOnLongClick(number--,&quot;Roll&quot;);\r\n                    } else if (button == binding.btnPitchFront) {\r\n                        setOnLongClick(number++, &quot;Pitch&quot;);\r\n                    } else if (button == binding.btnPitchBack) {\r\n                        setOnLongClick(number--,&quot;Pitch&quot;);\r\n                    }\r\n                    number = 0;\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void setOnClick(int increment, String path) {\r\n        database = FirebaseDatabase.getInstance().getReference(&quot;Control&quot;);\r\n        database.child(path).setValue(ServerValue.increment(increment)).addOnFailureListener(e -&gt; {\r\n            CharSequence text = &quot;The value was failed to add&quot;;\r\n            int toast = Toast.LENGTH_SHORT;\r\n            Toast.makeText(getApplicationContext(), text, toast).show();\r\n        });\r\n    }\r\n    private void setOnLongClick(int increment, String path){\r\n        database = FirebaseDatabase.getInstance().getReference(&quot;Control&quot;);\r\n        database.child(path).setValue(ServerValue.increment(increment)).addOnFailureListener(e -&gt; {\r\n            CharSequence text = &quot;The value was failed to add&quot;;\r\n            int toast = Toast.LENGTH_SHORT;\r\n            Toast.makeText(getApplicationContext(), text, toast).show();\r\n        });\r\n    }\r\n\r\n}\r\n```\r\nAnd this is the result :\r\n[The Result on Firebase Realtime Database](https://i.stack.imgur.com/qPCr1.png)\r\n\r\n\r\nIt works for `setOnClickListener()` event even though the value did not return to zero (The value increase whenever i click the button only) but the `setOnLongClickListener()` event did not work at all.\r\nAny suggestions what should i do? Or am i do some mistakes?\r\nSorry for my poor English.","title":"How to Increase Value in Firebase by Pressing Button Continuously in Android Studio","body":"<p>I am new to using Android Studio, and now I want to create some buttons which can increase the value of my Firebase Realtime Database whenever I click the button. However, I want to make the value keep increasing whenever I long click the button, and the value returns to zero when I release the button. I have tried to code and here's my <code>MainActivity</code> code :</p>\n<pre><code>package com.example.try6;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.pm.ActivityInfo;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport com.example.try6.databinding.ActivityMainBinding;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ServerValue;\n\npublic class MainActivity extends AppCompatActivity {\n    private ActivityMainBinding binding;\n    private DatabaseReference database;\n    private int number = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE);\n        initializeComponents();\n\n    }\n\n    private void initializeComponents() {\n        Button[] buttons = {\n                binding.btnGasUp, binding.btnGasDown,\n                binding.btnYawRight, binding.btnYawLeft,\n                binding.btnRollRight, binding.btnRollLeft,\n                binding.btnPitchFront, binding.btnPitchBack,\n        };\n        for (Button button : buttons) {\n            button.setOnClickListener(view -&gt; {\n                if (button == binding.btnGasUp) {\n                    setOnClick(1, &quot;Gas&quot;);\n                } else if (button == binding.btnGasDown) {\n                    setOnClick(-1, &quot;Gas&quot;);\n                } else if (button == binding.btnYawRight) {\n                    setOnClick(1, &quot;Yaw&quot;);\n                } else if (button == binding.btnYawLeft) {\n                    setOnClick(-1, &quot;Yaw&quot;);\n                } else if (button == binding.btnRollRight) {\n                    setOnClick(1, &quot;Roll&quot;);\n                } else if (button == binding.btnRollLeft) {\n                    setOnClick(-1, &quot;Roll&quot;);\n                } else if (button == binding.btnPitchFront) {\n                    setOnClick(1, &quot;Pitch&quot;);\n                } else if (button == binding.btnPitchBack) {\n                    setOnClick(-1, &quot;Pitch&quot;);\n                }\n            });\n            button.setOnLongClickListener(new View.OnLongClickListener() {\n                @Override\n                public boolean onLongClick(View view) {\n                    if (button == binding.btnGasUp) {\n                        setOnLongClick(number++, &quot;Gas&quot;);\n                    } else if (button == binding.btnGasDown) {\n                        setOnLongClick(number--,&quot;Gas&quot;);\n                    } else if (button == binding.btnYawRight) {\n                        setOnLongClick(number++,&quot;Yaw&quot;);\n                    } else if (button == binding.btnYawLeft) {\n                        setOnLongClick(number--,&quot;Yaw&quot;);\n                    } else if (button == binding.btnRollRight) {\n                        setOnLongClick(number++,&quot;Roll&quot;);\n                    } else if (button == binding.btnRollLeft) {\n                        setOnLongClick(number--,&quot;Roll&quot;);\n                    } else if (button == binding.btnPitchFront) {\n                        setOnLongClick(number++, &quot;Pitch&quot;);\n                    } else if (button == binding.btnPitchBack) {\n                        setOnLongClick(number--,&quot;Pitch&quot;);\n                    }\n                    number = 0;\n                    return true;\n                }\n            });\n        }\n    }\n\n    private void setOnClick(int increment, String path) {\n        database = FirebaseDatabase.getInstance().getReference(&quot;Control&quot;);\n        database.child(path).setValue(ServerValue.increment(increment)).addOnFailureListener(e -&gt; {\n            CharSequence text = &quot;The value was failed to add&quot;;\n            int toast = Toast.LENGTH_SHORT;\n            Toast.makeText(getApplicationContext(), text, toast).show();\n        });\n    }\n    private void setOnLongClick(int increment, String path){\n        database = FirebaseDatabase.getInstance().getReference(&quot;Control&quot;);\n        database.child(path).setValue(ServerValue.increment(increment)).addOnFailureListener(e -&gt; {\n            CharSequence text = &quot;The value was failed to add&quot;;\n            int toast = Toast.LENGTH_SHORT;\n            Toast.makeText(getApplicationContext(), text, toast).show();\n        });\n    }\n\n}\n</code></pre>\n<p>And this is the result :\n<a href=\"https://i.stack.imgur.com/qPCr1.png\" rel=\"nofollow noreferrer\">The Result on Firebase Realtime Database</a></p>\n<p>It works for <code>setOnClickListener()</code> event even though the value did not return to zero (The value increase whenever i click the button only) but the <code>setOnLongClickListener()</code> event did not work at all.\nAny suggestions what should i do? Or am i do some mistakes?\nSorry for my poor English.</p>\n"},{"tags":["java","database","postgresql"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1687163119,"post_id":76504870,"comment_id":134893077,"body_markdown":"Where in the code are you getting that error?","body":"Where in the code are you getting that error?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687163238,"post_id":76504870,"comment_id":134893114,"body_markdown":"The code you posted compiles fine","body":"The code you posted compiles fine"},{"owner":{"account_id":28304862,"reputation":57,"user_id":21643028,"display_name":"MsLaus"},"score":0,"creation_date":1687163278,"post_id":76504870,"comment_id":134893129,"body_markdown":"@FedericoklezCulloca  I just edited the code block, sorry i did not said it the first time where the problem is and thank you.","body":"@FedericoklezCulloca  I just edited the code block, sorry i did not said it the first time where the problem is and thank you."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1687163453,"post_id":76504870,"comment_id":134893169,"body_markdown":"@MsLaus ok, so this is a runtime error you&#39;re getting in your query. I see no call to the `createTable` method in your code, so please post a [example]. By the way, chances are you&#39;re passing an empty `table_name`.","body":"@MsLaus ok, so this is a runtime error you&#39;re getting in your query. I see no call to the <code>createTable</code> method in your code, so please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. By the way, chances are you&#39;re passing an empty <code>table_name</code>."},{"owner":{"account_id":28304862,"reputation":57,"user_id":21643028,"display_name":"MsLaus"},"score":0,"creation_date":1687163836,"post_id":76504870,"comment_id":134893252,"body_markdown":"@FedericoklezCulloca i did call it , but i didnt post it because i did not wanted the code to be too long","body":"@FedericoklezCulloca i did call it , but i didnt post it because i did not wanted the code to be too long"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1687164026,"post_id":76504870,"comment_id":134893288,"body_markdown":"To verify the generated SQL statement you could add `System.out.println(query);` to your `createTable()` method.","body":"To verify the generated SQL statement you could add <code>System.out.println(query);</code> to your <code>createTable()</code> method."},{"owner":{"account_id":28304862,"reputation":57,"user_id":21643028,"display_name":"MsLaus"},"score":0,"creation_date":1687164393,"post_id":76504870,"comment_id":134893358,"body_markdown":"@ThomasKl&#228;ger thank you !","body":"@ThomasKl&#228;ger thank you !"}],"answers":[{"tags":[],"owner":{"account_id":28849346,"reputation":11,"user_id":22095580,"display_name":"francescodrnz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687163874,"creation_date":1687163874,"answer_id":76504961,"question_id":76504870,"body_markdown":"I think the error is in your query, even though I don&#39;t see a call to the `createTable` method in the code you posted.\r\n\r\nRemove the length parameters from `int` as they are not accepted in PostgreSQL. Simply use `int` instead of `int(n)`.","title":"why do i get a syntax error in this java project?","body":"<p>I think the error is in your query, even though I don't see a call to the <code>createTable</code> method in the code you posted.</p>\n<p>Remove the length parameters from <code>int</code> as they are not accepted in PostgreSQL. Simply use <code>int</code> instead of <code>int(n)</code>.</p>\n"}],"owner":{"account_id":28304862,"reputation":57,"user_id":21643028,"display_name":"MsLaus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1687169029,"answer_count":1,"score":-4,"last_activity_date":1687163874,"creation_date":1687162982,"question_id":76504870,"body_markdown":"```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.Statement;\r\n\r\npublic class ConnectingSQL {\r\n\r\n    public Connection connection(String dbname, String user, String pass){\r\n        Connection conn = null;\r\n        try{\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/&quot;+dbname,user,pass);\r\n            if(conn!=null){\r\n                System.out.println(&quot;Connection Established&quot;);\r\n            }else{\r\n                System.out.println(&quot;Connection failed.&quot;);\r\n            }\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n        return conn;\r\n    }\r\n\r\n    public void createTable(Connection conn, String table_name){\r\n        Statement statement;\r\n        try{\r\n        //the problem is here\r\n            String query =&quot;CREATE TABLE &quot;+ table_name+&quot; (id SERIAL PRIMARY KEY, first_name VARCHAR(100), last_name VARCHAR(100), phone_number int(50), departament_code int(20), email_address VARCHAR(200), password VARCHAR(50))&quot;;\r\n            statement = conn.createStatement();\r\n            statement.executeUpdate(query);\r\n            System.out.println(&quot;Table created&quot;);\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is my first time trying to connect a database to my java project so i tried to follow a youtube video and even though i followed it exactly i get this error: syntax error at or near &quot;(&quot;, i tried to change everything around it but i still get the same error.","title":"why do i get a syntax error in this java project?","body":"<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.Statement;\n\npublic class ConnectingSQL {\n\n    public Connection connection(String dbname, String user, String pass){\n        Connection conn = null;\n        try{\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            conn = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/&quot;+dbname,user,pass);\n            if(conn!=null){\n                System.out.println(&quot;Connection Established&quot;);\n            }else{\n                System.out.println(&quot;Connection failed.&quot;);\n            }\n        }\n        catch (Exception e){\n            System.out.println(e);\n        }\n        return conn;\n    }\n\n    public void createTable(Connection conn, String table_name){\n        Statement statement;\n        try{\n        //the problem is here\n            String query =&quot;CREATE TABLE &quot;+ table_name+&quot; (id SERIAL PRIMARY KEY, first_name VARCHAR(100), last_name VARCHAR(100), phone_number int(50), departament_code int(20), email_address VARCHAR(200), password VARCHAR(50))&quot;;\n            statement = conn.createStatement();\n            statement.executeUpdate(query);\n            System.out.println(&quot;Table created&quot;);\n        }\n        catch (Exception e){\n            System.out.println(e);\n        }\n    }\n}\n\n</code></pre>\n<p>This is my first time trying to connect a database to my java project so i tried to follow a youtube video and even though i followed it exactly i get this error: syntax error at or near &quot;(&quot;, i tried to change everything around it but i still get the same error.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1687153564,"post_id":76503889,"comment_id":134891486,"body_markdown":"try configuring your project&#39;s sources folder?","body":"try configuring your project&#39;s sources folder?"},{"owner":{"account_id":2174203,"reputation":1767,"user_id":1925327,"display_name":"moritz.vieli"},"score":0,"creation_date":1687155272,"post_id":76503889,"comment_id":134891700,"body_markdown":"Can you add a screenshot of your project settings -&gt; modules?","body":"Can you add a screenshot of your project settings -&gt; modules?"}],"answers":[{"tags":[],"owner":{"account_id":20993600,"reputation":232,"user_id":15425970,"display_name":"Prachi Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687154804,"creation_date":1687154804,"answer_id":76503992,"question_id":76503889,"body_markdown":"Go to File&gt; Project Structure&gt; Modules(under Project Settings). There click &quot;+ Add Content Root&quot; and select your project directory. It will detect **src** folder which resides in your project.\r\n\r\nI have solved mine using this method, hope it helps!","title":"IntelliJ IDEA is only showing External Libraries in the project window","body":"<p>Go to File&gt; Project Structure&gt; Modules(under Project Settings). There click &quot;+ Add Content Root&quot; and select your project directory. It will detect <strong>src</strong> folder which resides in your project.</p>\n<p>I have solved mine using this method, hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":28803214,"reputation":201,"user_id":22059627,"display_name":"Miguel Monteiro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687162938,"creation_date":1687162938,"answer_id":76504862,"question_id":76503889,"body_markdown":"Probably there was an issue with the project import. Try the following troubleshooting steps one by one to address it.\r\n\r\n- Try to clear `File | Invalidate Caches... | Invalidate and Restart`\r\n- Close the project window at `File | Close Project` and IntelliJ and try to reopen it.\r\n- Open your project in OS file explorer and remove all `*.iml` files and the `.idea` folder from your project.\r\n- Re-import the project into IntelliJ from Existing sources by selecting pom.xml - https://www.jetbrains.com/help/idea/import-project-or-module-wizard.html","title":"IntelliJ IDEA is only showing External Libraries in the project window","body":"<p>Probably there was an issue with the project import. Try the following troubleshooting steps one by one to address it.</p>\n<ul>\n<li>Try to clear <code>File | Invalidate Caches... | Invalidate and Restart</code></li>\n<li>Close the project window at <code>File | Close Project</code> and IntelliJ and try to reopen it.</li>\n<li>Open your project in OS file explorer and remove all <code>*.iml</code> files and the <code>.idea</code> folder from your project.</li>\n<li>Re-import the project into IntelliJ from Existing sources by selecting pom.xml - <a href=\"https://www.jetbrains.com/help/idea/import-project-or-module-wizard.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/import-project-or-module-wizard.html</a></li>\n</ul>\n"}],"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687162938,"creation_date":1687153360,"question_id":76503889,"body_markdown":"I am using IntelliJ IDEA 2023.1.2 (Community Edition) and as you can see in the attached image, the project explorer only lists `External Libraries`[![enter image description here][1]][1].\r\n\r\nI tried `Rebuilding the project`, `Invalidate Caches` and reimporting the `root pom.xml` from `maven` menu at right side panel, tried running `mvn idea:idea`, but still the projects files are not listed. How can I fix this?. \r\n\r\nNote: I have quite a lot run configurations hence deleting the entire project and using a new clone is not an option unless there is a straight forward way to move all the run configurations to the new project (cloned to a different directory)\r\n\r\n  [1]: https://i.stack.imgur.com/TmuJa.png","title":"IntelliJ IDEA is only showing External Libraries in the project window","body":"<p>I am using IntelliJ IDEA 2023.1.2 (Community Edition) and as you can see in the attached image, the project explorer only lists <code>External Libraries</code><a href=\"https://i.stack.imgur.com/TmuJa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TmuJa.png\" alt=\"enter image description here\" /></a>.</p>\n<p>I tried <code>Rebuilding the project</code>, <code>Invalidate Caches</code> and reimporting the <code>root pom.xml</code> from <code>maven</code> menu at right side panel, tried running <code>mvn idea:idea</code>, but still the projects files are not listed. How can I fix this?.</p>\n<p>Note: I have quite a lot run configurations hence deleting the entire project and using a new clone is not an option unless there is a straight forward way to move all the run configurations to the new project (cloned to a different directory)</p>\n"},{"tags":["python","java","android"],"answers":[{"tags":[],"owner":{"account_id":77317,"reputation":7311,"user_id":220765,"display_name":"mhsmith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687162871,"creation_date":1687162871,"answer_id":76504846,"question_id":76455434,"body_markdown":"The two projects are not related:\r\n\r\n* Chaquopy is for running Python on Android.\r\n* Flask is for writing web servers in Python.\r\n\r\nIf you want, you can use them together to get a web server on Android. ","title":"Flask and chaquopy","body":"<p>The two projects are not related:</p>\n<ul>\n<li>Chaquopy is for running Python on Android.</li>\n<li>Flask is for writing web servers in Python.</li>\n</ul>\n<p>If you want, you can use them together to get a web server on Android.</p>\n"}],"owner":{"account_id":1336934,"reputation":5378,"user_id":1279459,"accept_rate":36,"display_name":"cerebrou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687162871,"creation_date":1686563269,"question_id":76455434,"body_markdown":"I am looking at possibilities to run Python scripts in Android apps. I found two related terms but I&#39;m not sure what is the difference between them and whether they even are the most appropriate for using Python in Android apps. Would you mind clarifying the difference between technologies and advice what is the most useful way to write Python code and use it in Android apps?\n\nChaquopy seems to be used for running Python script within Android apps and Flask sort of does the same?","title":"Flask and chaquopy","body":"<p>I am looking at possibilities to run Python scripts in Android apps. I found two related terms but I'm not sure what is the difference between them and whether they even are the most appropriate for using Python in Android apps. Would you mind clarifying the difference between technologies and advice what is the most useful way to write Python code and use it in Android apps?</p>\n<p>Chaquopy seems to be used for running Python script within Android apps and Flask sort of does the same?</p>\n"},{"tags":["java","systemd","systemctl","catalina"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687164894,"post_id":76504835,"comment_id":134893461,"body_markdown":"Did you install Tomcat via apt?","body":"Did you install Tomcat via apt?"},{"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"score":0,"creation_date":1687177396,"post_id":76504835,"comment_id":134895962,"body_markdown":"No I download it with curl from https://archive.apache.org and just move the unpacked stuff into place","body":"No I download it with curl from <a href=\"https://archive.apache.org\" rel=\"nofollow noreferrer\">archive.apache.org</a> and just move the unpacked stuff into place"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687177860,"post_id":76504835,"comment_id":134896058,"body_markdown":"I would strongly recommend using your package manager. Then you just need `sudo systemctl start tomcat9.service`","body":"I would strongly recommend using your package manager. Then you just need <code>sudo systemctl start tomcat9.service</code>"}],"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687162802,"creation_date":1687162802,"question_id":76504835,"body_markdown":"*Environment: CentOS 7 | \r\nJava: 1.8 | \r\nTomcat: 9*\r\n\r\nI am starting (it fails) a webapp through *systemd (systemctl)* but I am not seeing any **Logs** outside of what I see in *journalctl -fu*, which basically just tells me &quot;it failed&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nCatalina Tomcat also does not write into catalina.out (it remains 0bytes).\r\n\r\n**Question:** How do I get more info on why this process fails? (Java logs?)\r\n\r\n\r\n---\r\n--This is the code in *catalina.sh* that starts the app\r\n\r\n    eval $_NOHUP &quot;\\&quot;$_RUNJAVA\\&quot;&quot; &quot;\\&quot;$CATALINA_LOGGING_CONFIG\\&quot;&quot; $LOGGING_MANAGER &quot;$JAVA_OPTS&quot; &quot;$CATALINA_OPTS&quot; \\\r\n          -D$ENDORSED_PROP=&quot;\\&quot;$JAVA_ENDORSED_DIRS\\&quot;&quot; \\\r\n          -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; \\\r\n          -Dcatalina.base=&quot;\\&quot;$CATALINA_BASE\\&quot;&quot; \\\r\n          -Dcatalina.home=&quot;\\&quot;$CATALINA_HOME\\&quot;&quot; \\\r\n          -Djava.io.tmpdir=&quot;\\&quot;$CATALINA_TMPDIR\\&quot;&quot; \\\r\n          org.apache.catalina.startup.Bootstrap &quot;$@&quot; start \\\r\n          &gt;&gt; &quot;$CATALINA_OUT&quot; 2&gt;&amp;1 &quot;&amp;&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NYmpU.png","title":"Shell &#39;eval&#39; Java process, where is the Log (if any)?","body":"<p><em>Environment: CentOS 7 |\nJava: 1.8 |\nTomcat: 9</em></p>\n<p>I am starting (it fails) a webapp through <em>systemd (systemctl)</em> but I am not seeing any <strong>Logs</strong> outside of what I see in <em>journalctl -fu</em>, which basically just tells me &quot;it failed&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/NYmpU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NYmpU.png\" alt=\"enter image description here\" /></a></p>\n<p>Catalina Tomcat also does not write into catalina.out (it remains 0bytes).</p>\n<p><strong>Question:</strong> How do I get more info on why this process fails? (Java logs?)</p>\n<hr />\n<p>--This is the code in <em>catalina.sh</em> that starts the app</p>\n<pre><code>eval $_NOHUP &quot;\\&quot;$_RUNJAVA\\&quot;&quot; &quot;\\&quot;$CATALINA_LOGGING_CONFIG\\&quot;&quot; $LOGGING_MANAGER &quot;$JAVA_OPTS&quot; &quot;$CATALINA_OPTS&quot; \\\n      -D$ENDORSED_PROP=&quot;\\&quot;$JAVA_ENDORSED_DIRS\\&quot;&quot; \\\n      -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; \\\n      -Dcatalina.base=&quot;\\&quot;$CATALINA_BASE\\&quot;&quot; \\\n      -Dcatalina.home=&quot;\\&quot;$CATALINA_HOME\\&quot;&quot; \\\n      -Djava.io.tmpdir=&quot;\\&quot;$CATALINA_TMPDIR\\&quot;&quot; \\\n      org.apache.catalina.startup.Bootstrap &quot;$@&quot; start \\\n      &gt;&gt; &quot;$CATALINA_OUT&quot; 2&gt;&amp;1 &quot;&amp;&quot;\n</code></pre>\n"},{"tags":["java","android","facebook"],"comments":[{"owner":{"account_id":1750723,"reputation":4235,"user_id":1599860,"accept_rate":35,"display_name":"Mehul Ranpara"},"score":2,"creation_date":1353679150,"post_id":7506392,"comment_id":18525617,"body_markdown":"if you are using latest facebook sdk and if you putted your facebook api perfectly then when login you click on login in facebook then in your logcat the hash key is printed..","body":"if you are using latest facebook sdk and if you putted your facebook api perfectly then when login you click on login in facebook then in your logcat the hash key is printed.."},{"owner":{"account_id":1263253,"reputation":2732,"user_id":1221089,"accept_rate":0,"display_name":"Rakesh"},"score":0,"creation_date":1392710879,"post_id":7506392,"comment_id":33070907,"body_markdown":"to generate your key hash on your local computer, run Java&#39;s keytool utility (which should be on your console&#39;s path) against the Android debug keystore. This is, by default, in your home .android directory). On OS X, run:\n\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\n\nOn Windows, use:-\n\n    keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl base64","body":"to generate your key hash on your local computer, run Java&#39;s keytool utility (which should be on your console&#39;s path) against the Android debug keystore. This is, by default, in your home .android directory). On OS X, run:      keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64  On Windows, use:-      keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl base64"},{"owner":{"account_id":1530445,"reputation":6969,"user_id":1427758,"accept_rate":66,"display_name":"Anders Lind&#233;n"},"score":0,"creation_date":1407164240,"post_id":7506392,"comment_id":39098619,"body_markdown":"Why would anyone want to create a debug key?","body":"Why would anyone want to create a debug key?"},{"owner":{"account_id":4832206,"reputation":7871,"user_id":3900120,"accept_rate":65,"display_name":"Apurva"},"score":0,"creation_date":1444329204,"post_id":7506392,"comment_id":53869280,"body_markdown":"I have generated the key hash but don&#39;t know where to put that key, would you guide me? I&#39;m running android studio on Ubuntu.","body":"I have generated the key hash but don&#39;t know where to put that key, would you guide me? I&#39;m running android studio on Ubuntu."}],"answers":[{"tags":[],"owner":{"account_id":464408,"reputation":26765,"user_id":867895,"accept_rate":75,"display_name":"coder_For_Life22"},"down_vote_count":1,"up_vote_count":303,"is_accepted":true,"score":302,"last_activity_date":1316638227,"creation_date":1316638112,"answer_id":7506445,"question_id":7506392,"body_markdown":"Here is what you need to do -\r\n\r\n \r\n\r\nDownload openSSl from [Code][1]\r\nExtract it. create a folder- OpenSSL in C:/ and copy the extracted code here.\r\n\r\ndetect debug.keystore file path. If u didn&#39;t find, then do a search in C:/ and use the Path in the command in next step.\r\n\r\ndetect your keytool.exe path and go to that dir/ in command prompt and run this command in 1 line-\r\n\r\n    $ keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Documents and Settings\\Administrator.android\\debug.keystore&quot; | &quot;C:\\OpenSSL\\bin\\openssl&quot; sha1 -binary |&quot;C:\\OpenSSL\\bin\\openssl&quot; base64\r\n\r\nit will ask for password, put android\r\nthat&#39;s all. u will get a key-hash\r\n\r\n\r\n  [1]: http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip","title":"How to create Android Facebook Key Hash?","body":"<p>Here is what you need to do -</p>\n\n<p>Download openSSl from <a href=\"http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip\" rel=\"noreferrer\">Code</a>\nExtract it. create a folder- OpenSSL in C:/ and copy the extracted code here.</p>\n\n<p>detect debug.keystore file path. If u didn't find, then do a search in C:/ and use the Path in the command in next step.</p>\n\n<p>detect your keytool.exe path and go to that dir/ in command prompt and run this command in 1 line-</p>\n\n<pre><code>$ keytool -exportcert -alias androiddebugkey -keystore \"C:\\Documents and Settings\\Administrator.android\\debug.keystore\" | \"C:\\OpenSSL\\bin\\openssl\" sha1 -binary |\"C:\\OpenSSL\\bin\\openssl\" base64\n</code></pre>\n\n<p>it will ask for password, put android\nthat's all. u will get a key-hash</p>\n"},{"tags":[],"owner":{"display_name":"user658042"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1316638793,"creation_date":1316638793,"answer_id":7506557,"question_id":7506392,"body_markdown":"OpenSSL: You have to install that if it doesn&#39;t come preinstalled with your operating system *(e.g. Windows does not have it preinstalled)*. How to install that depends on your OS (for Windows check the [link][1] provided by coder_For_Life22). \r\n\r\nThe easiest way without fiddling around is copying that openssl.exe binary to your keytool path if you are on Windows. If you don&#39;t want to do that, you have to add it to your `PATH` environment variable. Then execute the command provided in the docs.\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nNote that the argument after `-keystore` points to your debug keystore. This location also depends on your operating system. Should be in one of the following locations:\r\n\r\n- *Windows Vista or 7* -  C:\\Users\\&lt;user&gt;\\.android\\debug.keystore\r\n- *Windows XP* -  C:\\Documents and Settings\\&lt;user&gt;\\.android\\debug.keystore\r\n- *OS X and Linux* - ~/.android/debug.keystore\r\n\r\nIf you did everything right, you should be prompted for a password. That is `android` for the debug certificate. If the password is correct the console prints a hash (somewhat random chars and numbers). \r\n\r\nTake that and copy it into the `android key hash` field inside the preferences of your app on facebook. To get there, go to [developers.facebook.com/apps][2], select your app, go to `Edit settings` and scroll down. After that, wait a few minutes until the changes take effect.\r\n\r\n\r\n  [1]: http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip\r\n  [2]: https://developers.facebook.com/apps","title":"How to create Android Facebook Key Hash?","body":"<p>OpenSSL: You have to install that if it doesn't come preinstalled with your operating system <em>(e.g. Windows does not have it preinstalled)</em>. How to install that depends on your OS (for Windows check the <a href=\"http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip\" rel=\"noreferrer\">link</a> provided by coder_For_Life22). </p>\n\n<p>The easiest way without fiddling around is copying that openssl.exe binary to your keytool path if you are on Windows. If you don't want to do that, you have to add it to your <code>PATH</code> environment variable. Then execute the command provided in the docs.</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>Note that the argument after <code>-keystore</code> points to your debug keystore. This location also depends on your operating system. Should be in one of the following locations:</p>\n\n<ul>\n<li><em>Windows Vista or 7</em> -  C:\\Users\\.android\\debug.keystore</li>\n<li><em>Windows XP</em> -  C:\\Documents and Settings\\.android\\debug.keystore</li>\n<li><em>OS X and Linux</em> - ~/.android/debug.keystore</li>\n</ul>\n\n<p>If you did everything right, you should be prompted for a password. That is <code>android</code> for the debug certificate. If the password is correct the console prints a hash (somewhat random chars and numbers). </p>\n\n<p>Take that and copy it into the <code>android key hash</code> field inside the preferences of your app on facebook. To get there, go to <a href=\"https://developers.facebook.com/apps\" rel=\"noreferrer\">developers.facebook.com/apps</a>, select your app, go to <code>Edit settings</code> and scroll down. After that, wait a few minutes until the changes take effect.</p>\n"},{"tags":[],"owner":{"account_id":163496,"reputation":2339,"user_id":385692,"accept_rate":86,"display_name":"Nick Tsitlakidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353678950,"creation_date":1353678950,"answer_id":13530528,"question_id":7506392,"body_markdown":"I was having the same exact problem, I wasnt being asked for a password, and it seems that I had the wrong path for the keystore file.\r\n\r\nIn fact, if the keytool doesn&#39;t find the keystore you have set, it will create one and give you the wrong key since it isn&#39;t using the correct one.\r\n\r\nThe general rule is that if you aren&#39;t being asked for a password then you have the wrong key being generated.","title":"How to create Android Facebook Key Hash?","body":"<p>I was having the same exact problem, I wasnt being asked for a password, and it seems that I had the wrong path for the keystore file.</p>\n\n<p>In fact, if the keytool doesn't find the keystore you have set, it will create one and give you the wrong key since it isn't using the correct one.</p>\n\n<p>The general rule is that if you aren't being asked for a password then you have the wrong key being generated.</p>\n"},{"tags":[],"owner":{"account_id":2205350,"reputation":71,"user_id":1948728,"display_name":"Valikpon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1357306515,"creation_date":1357306515,"answer_id":14158208,"question_id":7506392,"body_markdown":"That&#39;s how I obtained my: \r\n\r\n    private class SessionStatusCallback implements Session.StatusCallback {\r\n\t        @Override\r\n\t        public void call(Session session, SessionState state, Exception exception) {\r\n\t        \t \r\n\t        \tif (exception != null) {\r\n                    new AlertDialog.Builder(FriendActivity.this)\r\n                            .setTitle(R.string.login_failed_dialog_title)\r\n                            .setMessage(exception.getMessage())\r\n                            .setPositiveButton(R.string.ok_button, null)\r\n                            .show();\r\n\t        \t}\r\n\r\nSo when you re trying to enter without the key, an exception will occur. Facebook put the RIGHT key into this exception. All you need to do is to copy it. ","title":"How to create Android Facebook Key Hash?","body":"<p>That's how I obtained my: </p>\n\n<pre><code>private class SessionStatusCallback implements Session.StatusCallback {\n        @Override\n        public void call(Session session, SessionState state, Exception exception) {\n\n            if (exception != null) {\n                new AlertDialog.Builder(FriendActivity.this)\n                        .setTitle(R.string.login_failed_dialog_title)\n                        .setMessage(exception.getMessage())\n                        .setPositiveButton(R.string.ok_button, null)\n                        .show();\n            }\n</code></pre>\n\n<p>So when you re trying to enter without the key, an exception will occur. Facebook put the RIGHT key into this exception. All you need to do is to copy it. </p>\n"},{"tags":[],"owner":{"account_id":3145879,"reputation":28398,"user_id":2660367,"accept_rate":50,"display_name":"Biraj Zalavadia"},"down_vote_count":0,"up_vote_count":231,"is_accepted":false,"score":231,"last_activity_date":1537287836,"creation_date":1375872550,"answer_id":18101444,"question_id":7506392,"body_markdown":"**For Linux and Mac**\r\n\r\nOpen Terminal : \r\n\r\n**For Debug Build**\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nYou will find **debug.keystore** in the &quot;.android&quot; folder. Copy it and paste onto the desktop and run the above command.\r\n\r\n**For release Build**\r\n\r\n    keytool -exportcert -alias &lt;aliasName&gt; -keystore &lt;keystoreFilePath&gt; | openssl sha1 -binary | openssl base64\r\n\r\n**NOTE :** Make sure that in both cases it asks for a password. If it does not ask for a password, it means that something is wrong in the command. Password for **debug.keystore** is *&quot;**android**&quot;* and for release you have to enter password that you **set during create keystore**.","title":"How to create Android Facebook Key Hash?","body":"<p><strong>For Linux and Mac</strong></p>\n\n<p>Open Terminal : </p>\n\n<p><strong>For Debug Build</strong></p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>You will find <strong>debug.keystore</strong> in the \".android\" folder. Copy it and paste onto the desktop and run the above command.</p>\n\n<p><strong>For release Build</strong></p>\n\n<pre><code>keytool -exportcert -alias &lt;aliasName&gt; -keystore &lt;keystoreFilePath&gt; | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p><strong>NOTE :</strong> Make sure that in both cases it asks for a password. If it does not ask for a password, it means that something is wrong in the command. Password for <strong>debug.keystore</strong> is <em>\"<strong>android</strong>\"</em> and for release you have to enter password that you <strong>set during create keystore</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1263253,"reputation":2732,"user_id":1221089,"accept_rate":0,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1392710797,"creation_date":1392710797,"answer_id":21847586,"question_id":7506392,"body_markdown":"to generate your key hash on your local computer, run Java&#39;s keytool utility (which should be on your console&#39;s path) against the Android debug keystore. This is, by default, in your home .android directory). On OS X, run:\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nOn Windows, use:-\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nhope this will help you\r\n\r\nRef - developer facebook site","title":"How to create Android Facebook Key Hash?","body":"<p>to generate your key hash on your local computer, run Java's keytool utility (which should be on your console's path) against the Android debug keystore. This is, by default, in your home .android directory). On OS X, run:</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>On Windows, use:-</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>hope this will help you</p>\n\n<p>Ref - developer facebook site</p>\n"},{"tags":[],"owner":{"account_id":1286597,"reputation":35655,"user_id":1371853,"accept_rate":100,"display_name":"swiftBoy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1493183722,"creation_date":1398077854,"answer_id":23195993,"question_id":7506392,"body_markdown":"**For Windows:**\r\n\r\n1. open command prompt and paste below command\r\n\r\n    \r\n\r\n&gt; keytool -exportcert -alias androiddebugkey -keystore\r\n&gt; %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl\r\n&gt; base64\r\n\r\n2. Enter password : android --&gt; Hit Enter\r\n\r\n3. Copy Generated Hash Key --&gt; Login Facebook with your developer account\r\n\r\n4. Go to your Facebook App --&gt; Settings--&gt; Paste Hash key in &quot;key hashes&quot; option --&gt;save changes.\r\n\r\n5. Now Test your android app with Facebook Log-in/Share etc.","title":"How to create Android Facebook Key Hash?","body":"<p><strong>For Windows:</strong></p>\n\n<ol>\n<li>open command prompt and paste below command</li>\n</ol>\n\n<blockquote>\n  <p>keytool -exportcert -alias androiddebugkey -keystore\n  %HOMEPATH%.android\\debug.keystore | openssl sha1 -binary | openssl\n  base64</p>\n</blockquote>\n\n<ol start=\"2\">\n<li><p>Enter password : android --> Hit Enter</p></li>\n<li><p>Copy Generated Hash Key --> Login Facebook with your developer account</p></li>\n<li><p>Go to your Facebook App --> Settings--> Paste Hash key in \"key hashes\" option -->save changes.</p></li>\n<li><p>Now Test your android app with Facebook Log-in/Share etc.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1652212,"reputation":4898,"user_id":1522554,"accept_rate":24,"display_name":"Maddy Sharma"},"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1633339674,"creation_date":1409135011,"answer_id":25524657,"question_id":7506392,"body_markdown":"**Please try this:**\r\n\r\n    public static void printHashKey(Context pContext) {\r\n    \t\ttry {\r\n    \t\t\tPackageInfo info = pContext.getPackageManager().getPackageInfo(pContext.getPackageName(), PackageManager.GET_SIGNATURES);\r\n    \t\t\tfor (Signature signature : info.signatures) {\r\n    \t\t\t\tMessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\r\n    \t\t\t\tmd.update(signature.toByteArray());\r\n    \t\t\t\tString hashKey = new String(Base64.encode(md.digest(), 0));\r\n    \t\t\t\tLog.i(TAG, &quot;printHashKey() Hash Key: &quot; + hashKey);\r\n    \t\t\t}\r\n    \t\t} catch (NoSuchAlgorithmException e) {\r\n    \t\t\tLog.e(TAG, &quot;printHashKey()&quot;, e);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLog.e(TAG, &quot;printHashKey()&quot;, e);\r\n    \t\t}\r\n    \t}","title":"How to create Android Facebook Key Hash?","body":"<p><strong>Please try this:</strong></p>\n<pre><code>public static void printHashKey(Context pContext) {\n        try {\n            PackageInfo info = pContext.getPackageManager().getPackageInfo(pContext.getPackageName(), PackageManager.GET_SIGNATURES);\n            for (Signature signature : info.signatures) {\n                MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\n                md.update(signature.toByteArray());\n                String hashKey = new String(Base64.encode(md.digest(), 0));\n                Log.i(TAG, &quot;printHashKey() Hash Key: &quot; + hashKey);\n            }\n        } catch (NoSuchAlgorithmException e) {\n            Log.e(TAG, &quot;printHashKey()&quot;, e);\n        } catch (Exception e) {\n            Log.e(TAG, &quot;printHashKey()&quot;, e);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1896502,"reputation":5964,"user_id":1713345,"accept_rate":17,"display_name":"Renato Probst"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435127370,"creation_date":1435127370,"answer_id":31019171,"question_id":7506392,"body_markdown":"[Download open ssl][1]:\r\n\r\n\r\n**Then add openssl\\bin to the path system variables:**\r\n\r\nMy computer -&gt; properties -&gt; Advanced configurations -&gt; Advanced -&gt; System variables -&gt; under system variables find path, and  add this to its endings:\r\n;yourFullOpenSSLDir\\bin\r\n\r\nNow open a command line on your jdk\\bin folder C:\\Program Files\\Java\\jdk1.8.0_40\\bin (on windows hold shift and right click -&gt; open command line here) and use:\r\n\r\n    keytool -exportcert -alias keystorealias -keystore C:\\yourkeystore\\folder\\keystore.jks | openssl sha1 -binary | openssl base64\r\n\r\nAnd copy the 28 lenght number it generates after giving the password.\r\n\r\n\r\n  [1]: https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip&amp;can=2&amp;q=","title":"How to create Android Facebook Key Hash?","body":"<p><a href=\"https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip&amp;can=2&amp;q=\" rel=\"nofollow\">Download open ssl</a>:</p>\n\n<p><strong>Then add openssl\\bin to the path system variables:</strong></p>\n\n<p>My computer -> properties -> Advanced configurations -> Advanced -> System variables -> under system variables find path, and  add this to its endings:\n;yourFullOpenSSLDir\\bin</p>\n\n<p>Now open a command line on your jdk\\bin folder C:\\Program Files\\Java\\jdk1.8.0_40\\bin (on windows hold shift and right click -> open command line here) and use:</p>\n\n<pre><code>keytool -exportcert -alias keystorealias -keystore C:\\yourkeystore\\folder\\keystore.jks | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>And copy the 28 lenght number it generates after giving the password.</p>\n"},{"tags":[],"owner":{"account_id":3344114,"reputation":1188,"user_id":2809617,"accept_rate":67,"display_name":"Alexmelyon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503580100,"creation_date":1503580100,"answer_id":45862498,"question_id":7506392,"body_markdown":"You can get all your fingerprints from https://console.developers.google.com/projectselector/apis/credentials  \r\nAnd use this Kotlin code to convert it to keyhash:\r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n        listOf(&quot;&lt;your_production_sha1_fingerprint&gt;&quot;,\r\n                &quot;&lt;your_debug1_sha1_fingerprint&gt;&quot;,\r\n                &quot;&lt;your_debug2_sha1_fingerprint&gt;&quot;)\r\n                .map { it.split(&quot;:&quot;) }\r\n                .map { it.map { it.toInt(16).toByte() }.toByteArray() }\r\n                .map { String(Base64.getEncoder().encode(it)) }\r\n                .forEach { println(it) }\r\n    }","title":"How to create Android Facebook Key Hash?","body":"<p>You can get all your fingerprints from <a href=\"https://console.developers.google.com/projectselector/apis/credentials\" rel=\"nofollow noreferrer\">https://console.developers.google.com/projectselector/apis/credentials</a><br>\nAnd use this Kotlin code to convert it to keyhash:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    listOf(\"&lt;your_production_sha1_fingerprint&gt;\",\n            \"&lt;your_debug1_sha1_fingerprint&gt;\",\n            \"&lt;your_debug2_sha1_fingerprint&gt;\")\n            .map { it.split(\":\") }\n            .map { it.map { it.toInt(16).toByte() }.toByteArray() }\n            .map { String(Base64.getEncoder().encode(it)) }\n            .forEach { println(it) }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8652943,"reputation":22446,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1576582792,"creation_date":1505483928,"answer_id":46241386,"question_id":7506392,"body_markdown":"Here is complete details **(For Windows)**\r\n\r\n**1.** Download [**OpenSSl**][1] either 3rd or 4th (with e will work better) based on your system 32bit  or 64bit .\r\n\r\n**2.** Extract the downloaded zip inside C directory \r\n\r\n**3.** Open the extracted folder up to bin and copy the path ,it should be some thing like `C:\\openssl-0.9.8k_X64\\bin\\openssl`   (add \\openssl at end)\r\n\r\n**4.** (Get the path to the bin folder of Jdk ,if you know how,ignore this  ) . \r\n      \r\n  Open android studio ~file~Project Structure(ctrl+alt+shift+s) , select SDK location in left side panel ,copy the JDK location and add /bin to it \r\n\r\nSo final JDK Location will be like `C:\\Program Files\\Android\\Android Studio\\jre\\bin`\r\n\r\nwe are following this method to get Jdk location because you might use embedded jdk like me\r\n\r\n[![enter image description here][2]][2]\r\n\r\nnow you have OpenSSl location &amp; JDK location \r\n\r\n**5.** now we need debug keystore location , for that open C~&gt;Users~&gt;YourUserName~&gt;.android  there should be a file name debug.keystore ,now copy the path location ,it should be some thing like \r\n\r\n`C:\\Users\\Redman\\.android\\debug.keystore`\r\n\r\n**6.** now open command prompt and type command\r\n\r\n    cd YourJDKLocationFromStep4  \r\n  \r\n   in my case \r\n\r\n     cd &quot;C:\\Program Files\\Android\\Android Studio\\jre\\bin&quot;\r\n\r\n**7.** now construct the following command\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore YOURKEYSTORELOCATION | YOUROPENSSLLOCATION sha1 -binary | YOUROPENSSLLOCATION base64\r\n\r\n  in my case the command will look like \r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\Redman\\.android\\debug.keystore&quot; | &quot;C:\\openssl-0.9.8k_X64\\bin\\openssl&quot; sha1 -binary | &quot;C:\\openssl-0.9.8k_X64\\bin\\openssl&quot; base64\r\n\r\nnow enter this command in command prompt , if you did ever thing right you will be asked for password (password is android)\r\n\r\n    Enter keystore password:  android\r\n\r\nthats it ,you will be given the Key Hash , just copy it and use it\r\n\r\nFor Signed KeyHash construct the following Command\r\n\r\n    keytool -exportcert -alias YOUR_ALIAS_FOR_JKS -keystore YOUR_JKS_LOCATION | YOUROPENSSLLOCATION sha1 -binary | YOUROPENSSLLOCATION base64\r\n\r\nenter your keystore password , If you enter wrong password it will give wrong KeyHash \r\n\r\n**NOTE** \r\n\r\n   If for some reason if it gives error at some path then wrap that path in double quotes .Also Windows power shell was not working well for me, I used git bash (or use command prompt) .\r\n\r\n   example\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\Redman\\.android\\debug.keystore&quot; | &quot;C:\\openssl-0.9.8k_X64\\bin\\openssl&quot; sha1 -binary | &quot;C:\\openssl-0.9.8k_X64\\bin\\openssl&quot; base64\r\n\r\n  [1]: https://code.google.com/archive/p/openssl-for-windows/downloads\r\n  [2]: https://i.stack.imgur.com/Mwawp.jpg","title":"How to create Android Facebook Key Hash?","body":"<p>Here is complete details <strong>(For Windows)</strong></p>\n\n<p><strong>1.</strong> Download <a href=\"https://code.google.com/archive/p/openssl-for-windows/downloads\" rel=\"noreferrer\"><strong>OpenSSl</strong></a> either 3rd or 4th (with e will work better) based on your system 32bit  or 64bit .</p>\n\n<p><strong>2.</strong> Extract the downloaded zip inside C directory </p>\n\n<p><strong>3.</strong> Open the extracted folder up to bin and copy the path ,it should be some thing like <code>C:\\openssl-0.9.8k_X64\\bin\\openssl</code>   (add \\openssl at end)</p>\n\n<p><strong>4.</strong> (Get the path to the bin folder of Jdk ,if you know how,ignore this  ) . </p>\n\n<p>Open android studio ~file~Project Structure(ctrl+alt+shift+s) , select SDK location in left side panel ,copy the JDK location and add /bin to it </p>\n\n<p>So final JDK Location will be like <code>C:\\Program Files\\Android\\Android Studio\\jre\\bin</code></p>\n\n<p>we are following this method to get Jdk location because you might use embedded jdk like me</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mwawp.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Mwawp.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>now you have OpenSSl location &amp; JDK location </p>\n\n<p><strong>5.</strong> now we need debug keystore location , for that open C~>Users~>YourUserName~>.android  there should be a file name debug.keystore ,now copy the path location ,it should be some thing like </p>\n\n<p><code>C:\\Users\\Redman\\.android\\debug.keystore</code></p>\n\n<p><strong>6.</strong> now open command prompt and type command</p>\n\n<pre><code>cd YourJDKLocationFromStep4  \n</code></pre>\n\n<p>in my case </p>\n\n<pre><code> cd \"C:\\Program Files\\Android\\Android Studio\\jre\\bin\"\n</code></pre>\n\n<p><strong>7.</strong> now construct the following command</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore YOURKEYSTORELOCATION | YOUROPENSSLLOCATION sha1 -binary | YOUROPENSSLLOCATION base64\n</code></pre>\n\n<p>in my case the command will look like </p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\Redman\\.android\\debug.keystore\" | \"C:\\openssl-0.9.8k_X64\\bin\\openssl\" sha1 -binary | \"C:\\openssl-0.9.8k_X64\\bin\\openssl\" base64\n</code></pre>\n\n<p>now enter this command in command prompt , if you did ever thing right you will be asked for password (password is android)</p>\n\n<pre><code>Enter keystore password:  android\n</code></pre>\n\n<p>thats it ,you will be given the Key Hash , just copy it and use it</p>\n\n<p>For Signed KeyHash construct the following Command</p>\n\n<pre><code>keytool -exportcert -alias YOUR_ALIAS_FOR_JKS -keystore YOUR_JKS_LOCATION | YOUROPENSSLLOCATION sha1 -binary | YOUROPENSSLLOCATION base64\n</code></pre>\n\n<p>enter your keystore password , If you enter wrong password it will give wrong KeyHash </p>\n\n<p><strong>NOTE</strong> </p>\n\n<p>If for some reason if it gives error at some path then wrap that path in double quotes .Also Windows power shell was not working well for me, I used git bash (or use command prompt) .</p>\n\n<p>example</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\Redman\\.android\\debug.keystore\" | \"C:\\openssl-0.9.8k_X64\\bin\\openssl\" sha1 -binary | \"C:\\openssl-0.9.8k_X64\\bin\\openssl\" base64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2646339,"reputation":8685,"user_id":2288944,"accept_rate":56,"display_name":"armnotstrong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517547846,"creation_date":1517547846,"answer_id":48575993,"question_id":7506392,"body_markdown":"You can use this [apk](https://www.dropbox.com/s/95gd8ee854owsch/yanzi1225627_9319119.apk?dl=0) \r\n\r\n \r\n\r\n    1.first install the app from the Google play store\r\n    2.install the above apk\r\n    3.launch the apk and input the package name of your app\r\n    4.then you will get the hash code you want","title":"How to create Android Facebook Key Hash?","body":"<p>You can use this <a href=\"https://www.dropbox.com/s/95gd8ee854owsch/yanzi1225627_9319119.apk?dl=0\" rel=\"nofollow noreferrer\">apk</a> </p>\n\n<pre><code>1.first install the app from the Google play store\n2.install the above apk\n3.launch the apk and input the package name of your app\n4.then you will get the hash code you want\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518098985,"creation_date":1518098664,"answer_id":48687371,"question_id":7506392,"body_markdown":"Run either this in your app :\r\n\r\n    FacebookSdk.sdkInitialize(getApplicationContext());\r\n    Log.d(&quot;AppLog&quot;, &quot;key:&quot; + FacebookSdk.getApplicationSignature(this)+&quot;=&quot;);\r\n\r\nOr this:\r\n\r\n    public static void printHashKey(Context context) {\r\n        try {\r\n            final PackageInfo info = context.getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_SIGNATURES);\r\n            for (android.content.pm.Signature signature : info.signatures) {\r\n                final MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\r\n                md.update(signature.toByteArray());\r\n                final String hashKey = new String(Base64.encode(md.digest(), 0));\r\n                Log.i(&quot;AppLog&quot;, &quot;key:&quot; + hashKey + &quot;=&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;AppLog&quot;, &quot;error:&quot;, e);\r\n        }\r\n    }\r\n\r\nAnd then look at the logs.\r\n\r\nThe result should end with &quot;=&quot; .\r\n\r\nSolution is based on [**here**][1] and [**here**][2] .\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30590325/878126\r\n  [2]: https://stackoverflow.com/a/25524657/878126","title":"How to create Android Facebook Key Hash?","body":"<p>Run either this in your app :</p>\n\n<pre><code>FacebookSdk.sdkInitialize(getApplicationContext());\nLog.d(\"AppLog\", \"key:\" + FacebookSdk.getApplicationSignature(this)+\"=\");\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>public static void printHashKey(Context context) {\n    try {\n        final PackageInfo info = context.getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_SIGNATURES);\n        for (android.content.pm.Signature signature : info.signatures) {\n            final MessageDigest md = MessageDigest.getInstance(\"SHA\");\n            md.update(signature.toByteArray());\n            final String hashKey = new String(Base64.encode(md.digest(), 0));\n            Log.i(\"AppLog\", \"key:\" + hashKey + \"=\");\n        }\n    } catch (Exception e) {\n        Log.e(\"AppLog\", \"error:\", e);\n    }\n}\n</code></pre>\n\n<p>And then look at the logs.</p>\n\n<p>The result should end with \"=\" .</p>\n\n<p>Solution is based on <a href=\"https://stackoverflow.com/a/30590325/878126\"><strong>here</strong></a> and <a href=\"https://stackoverflow.com/a/25524657/878126\"><strong>here</strong></a> .</p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1518099035,"creation_date":1518099035,"answer_id":48687500,"question_id":7506392,"body_markdown":"There is a short solution too. Just run this in your app: \r\n\r\n    FacebookSdk.sdkInitialize(getApplicationContext());\r\n    Log.d(&quot;AppLog&quot;, &quot;key:&quot; + FacebookSdk.getApplicationSignature(this));\r\n\r\nA longer one that doesn&#39;t need FB SDK (based on a solution [**here**][1]) :\r\n\r\n    public static void printHashKey(Context context) {\r\n        try {\r\n            final PackageInfo info = context.getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_SIGNATURES);\r\n            for (android.content.pm.Signature signature : info.signatures) {\r\n                final MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\r\n                md.update(signature.toByteArray());\r\n                final String hashKey = new String(Base64.encode(md.digest(), 0));\r\n                Log.i(&quot;AppLog&quot;, &quot;key:&quot; + hashKey + &quot;=&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;AppLog&quot;, &quot;error:&quot;, e);\r\n        }\r\n    }\r\n\r\nThe result should end with &quot;=&quot; .\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25524657/878126","title":"How to create Android Facebook Key Hash?","body":"<p>There is a short solution too. Just run this in your app: </p>\n\n<pre><code>FacebookSdk.sdkInitialize(getApplicationContext());\nLog.d(\"AppLog\", \"key:\" + FacebookSdk.getApplicationSignature(this));\n</code></pre>\n\n<p>A longer one that doesn't need FB SDK (based on a solution <a href=\"https://stackoverflow.com/a/25524657/878126\"><strong>here</strong></a>) :</p>\n\n<pre><code>public static void printHashKey(Context context) {\n    try {\n        final PackageInfo info = context.getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_SIGNATURES);\n        for (android.content.pm.Signature signature : info.signatures) {\n            final MessageDigest md = MessageDigest.getInstance(\"SHA\");\n            md.update(signature.toByteArray());\n            final String hashKey = new String(Base64.encode(md.digest(), 0));\n            Log.i(\"AppLog\", \"key:\" + hashKey + \"=\");\n        }\n    } catch (Exception e) {\n        Log.e(\"AppLog\", \"error:\", e);\n    }\n}\n</code></pre>\n\n<p>The result should end with \"=\" .</p>\n"},{"tags":[],"owner":{"account_id":326206,"reputation":1332,"user_id":647864,"accept_rate":25,"display_name":"Hanny"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1530352233,"creation_date":1530351133,"answer_id":51113630,"question_id":7506392,"body_markdown":"Since API 26, you can generate your *HASH KEYS* using the following code in **KOTLIN** without any need of Facebook SDK.\r\n\r\n    fun generateSSHKey(context: Context){\r\n        try {\r\n            val info = context.packageManager.getPackageInfo(context.packageName, PackageManager.GET_SIGNATURES)\r\n            for (signature in info.signatures) {\r\n                val md = MessageDigest.getInstance(&quot;SHA&quot;)\r\n                md.update(signature.toByteArray())\r\n                val hashKey = String(Base64.getEncoder().encode(md.digest()))\r\n                Log.i(&quot;AppLog&quot;, &quot;key:$hashKey=&quot;)\r\n            }\r\n        } catch (e: Exception) {\r\n            Log.e(&quot;AppLog&quot;, &quot;error:&quot;, e)\r\n        }\r\n\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6OnmC.png","title":"How to create Android Facebook Key Hash?","body":"<p>Since API 26, you can generate your <em>HASH KEYS</em> using the following code in <strong>KOTLIN</strong> without any need of Facebook SDK.</p>\n\n<pre><code>fun generateSSHKey(context: Context){\n    try {\n        val info = context.packageManager.getPackageInfo(context.packageName, PackageManager.GET_SIGNATURES)\n        for (signature in info.signatures) {\n            val md = MessageDigest.getInstance(\"SHA\")\n            md.update(signature.toByteArray())\n            val hashKey = String(Base64.getEncoder().encode(md.digest()))\n            Log.i(\"AppLog\", \"key:$hashKey=\")\n        }\n    } catch (e: Exception) {\n        Log.e(\"AppLog\", \"error:\", e)\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6OnmC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6OnmC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8936907,"reputation":5144,"user_id":6667442,"display_name":"Ketan Ramani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537185360,"creation_date":1537185360,"answer_id":52367204,"question_id":7506392,"body_markdown":"https://developers.facebook.com/docs/android/getting-started/\r\n\r\n4.19.0 - January 25, 2017\r\n\r\nFacebook SDK\r\n\r\nModified\r\n\r\nFacebook SDK is now auto initialized when the application starts. In most cases a manual call to FacebookSDK.sdkInitialize() is no longer needed. See [upgrade guide][1] for more details.\r\n\r\n\r\n  [1]: https://developers.facebook.com/docs/android/upgrading-4x\r\n\r\nFor Debug\r\n\r\n    try {\r\n    \tPackageInfo info = getPackageManager().getPackageInfo(getPackageName(), PackageManager.GET_SIGNATURES);\r\n        for (Signature signature : info.signatures) {\r\n        \tMessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\r\n            md.update(signature.toByteArray());\r\n            Log.d(&quot;KeyHash:&quot;, Base64.encodeToString(md.digest(), Base64.DEFAULT));\r\n    \t}\r\n    } catch (NoSuchAlgorithmException e) {\r\n    \te.printStackTrace();\r\n    } catch (Exception e) {\r\n    \te.printStackTrace();\r\n    }","title":"How to create Android Facebook Key Hash?","body":"<p><a href=\"https://developers.facebook.com/docs/android/getting-started/\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/android/getting-started/</a></p>\n\n<p>4.19.0 - January 25, 2017</p>\n\n<p>Facebook SDK</p>\n\n<p>Modified</p>\n\n<p>Facebook SDK is now auto initialized when the application starts. In most cases a manual call to FacebookSDK.sdkInitialize() is no longer needed. See <a href=\"https://developers.facebook.com/docs/android/upgrading-4x\" rel=\"nofollow noreferrer\">upgrade guide</a> for more details.</p>\n\n<p>For Debug</p>\n\n<pre><code>try {\n    PackageInfo info = getPackageManager().getPackageInfo(getPackageName(), PackageManager.GET_SIGNATURES);\n    for (Signature signature : info.signatures) {\n        MessageDigest md = MessageDigest.getInstance(\"SHA\");\n        md.update(signature.toByteArray());\n        Log.d(\"KeyHash:\", Base64.encodeToString(md.digest(), Base64.DEFAULT));\n    }\n} catch (NoSuchAlgorithmException e) {\n    e.printStackTrace();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962237,"reputation":2572,"user_id":4687048,"display_name":"Dmitri R117"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1561494756,"creation_date":1561494756,"answer_id":56761622,"question_id":7506392,"body_markdown":"EASY WAY -&gt; Don&#39;t install openssl -&gt; USE GIT BASH!\r\n \r\n`keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64`\r\n\r\nThe default password is &quot;android&quot; \r\n\r\nMost of us have Git Bash installed so this is my favorite way.","title":"How to create Android Facebook Key Hash?","body":"<p>EASY WAY -> Don't install openssl -> USE GIT BASH!</p>\n\n<p><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64</code></p>\n\n<p>The default password is \"android\" </p>\n\n<p>Most of us have Git Bash installed so this is my favorite way.</p>\n"},{"tags":[],"owner":{"account_id":1830195,"reputation":2109,"user_id":1661811,"accept_rate":57,"display_name":"MouzmiSadiq"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1609193251,"creation_date":1562675836,"answer_id":56952764,"question_id":7506392,"body_markdown":"If you have already uploaded the app to Play store you can generate Hash Key as follows:\r\n\r\n1) Go to Release Management [here][1]\r\n\r\n2) Select Release Management -&gt; App Signing\r\n\r\n3) You can see SHA1 key in hex format App signing certificate.\r\n\r\n4) Copy the SHA1 in hex format and convert it in to base64 format, you can use [this][2] link do that without the SHA1: part of the hex.\r\n\r\n5) Go to Facebook developer console and add the key(after convert to base 64) in the settings —&gt; basic –&gt; key hashes.\r\n\r\n\r\n  [1]: https://play.google.com/apps/publish/\r\n  [2]: http://tomeko.net/online_tools/hex_to_base64.php","title":"How to create Android Facebook Key Hash?","body":"<p>If you have already uploaded the app to Play store you can generate Hash Key as follows:</p>\n<ol>\n<li><p>Go to Release Management <a href=\"https://play.google.com/apps/publish/\" rel=\"noreferrer\">here</a></p>\n</li>\n<li><p>Select Release Management -&gt; App Signing</p>\n</li>\n<li><p>You can see SHA1 key in hex format App signing certificate.</p>\n</li>\n<li><p>Copy the SHA1 in hex format and convert it in to base64 format, you can use <a href=\"http://tomeko.net/online_tools/hex_to_base64.php\" rel=\"noreferrer\">this</a> link do that without the SHA1: part of the hex.</p>\n</li>\n<li><p>Go to Facebook developer console and add the key(after convert to base 64) in the settings —&gt; basic –&gt; key hashes.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1563024815,"creation_date":1563024815,"answer_id":57019645,"question_id":7506392,"body_markdown":"***this will help newbees also.***&lt;br&gt;&lt;br&gt;\r\njust adding more details to @coder_For_Life22&#39;s answer.&lt;br&gt;&lt;br&gt;\r\nif this answer helps you don&#39;t forget to upvote. it motivates us.&lt;br&gt;&lt;br&gt;\r\n***for this you must already know the path of the app&#39;s keystore file and password***&lt;br&gt;&lt;br&gt;\r\n\tfor this example consider the key is stored at &quot;c:\\keystorekey\\new.jks&quot;&lt;br&gt;&lt;br&gt;\r\n1. open this page https://code.google.com/archive/p/openssl-for-windows/downloads&lt;br&gt;&lt;br&gt;\r\n2. download 32 or 64 bit zip file as per your windows OS.&lt;br&gt;&lt;br&gt;\r\n3. extract the downloaded file where ever you want and remember the path.&lt;br&gt;&lt;br&gt;\r\n4. for this example we consider that you have extracted the folder in download folder.&lt;br&gt;&lt;br&gt;\r\n\tso the file address will be &quot;C:\\Users\\0\\Downloads\\openssl-0.9.8e_X64\\bin\\openssl.exe&quot;;&lt;br&gt;&lt;br&gt;\r\n5. now on keyboard press windows+r button.&lt;br&gt;&lt;br&gt;\r\n6. this will open run box.&lt;br&gt;&lt;br&gt;\r\n7. type cmd and press &lt;b&gt;Ctrl+Shift+Enter&lt;/b&gt;.&lt;br&gt;&lt;br&gt;\r\n8. this will open command prompt as administrator.&lt;br&gt;&lt;br&gt;\r\n9. here navigate to java&#39;s bin folder:&lt;br&gt;&lt;br&gt;\r\n      if you use jre provided by Android Studio you will find the path as follows:&lt;br&gt;\r\n      a. open android studio.&lt;br&gt;\r\n      b. file-&gt;project structure&lt;br&gt;\r\n      c. in the left pane, click &#39;SDK location&#39;&lt;br&gt;\r\n      d. in the right pane, below &#39;JDK location&#39; is your jre path.&lt;br&gt;\r\n      e. add &quot;\\bin&quot; at the end of this path as the file &quot;keytool.exe&quot;, we need, is inside this folder.&lt;br&gt;\r\n      for this example i consider, you have installed java separately and following is the path&lt;br&gt;\r\n      &quot;C:\\Program Files\\Java\\jre-10.0.2\\bin&quot;&lt;br&gt;\r\n      if you have installed 32bit java it will be in&lt;br&gt;\r\n      &quot;C:\\Program Files (x86)\\Java\\jre-10.0.2\\bin&quot;&lt;br&gt;\r\n10. now with above paths execute command as following:&lt;br&gt;&lt;br&gt;\r\n````\r\nkeytool -exportcert -alias androiddebugkey -keystore &quot;c:\\keystorekey\\new.jks&quot; | &quot;C:\\Users\\0\\Downloads\\openssl-0.9.8e_X64\\bin\\openssl.exe&quot; sha1 -binary |&quot;C:\\Users\\0\\Downloads\\openssl-0.9.8e_X64\\bin\\openssl.exe&quot; base64\r\n````\r\n11. You will be asked for password, give the password you have given when creating keystore key.&lt;br&gt;&lt;br&gt;\r\n!!!!!!\r\n&lt;b&gt;this will give you the key&lt;/b&gt;\r\n\r\n\r\nerrors:\r\nif you get:&lt;br&gt;\r\n---&lt;br&gt;\r\n &#39;keytool&#39; is not recognized as an internal or external command&lt;br&gt;\r\n---&lt;br&gt;\r\nthis means that java is installed somewhere else.","title":"How to create Android Facebook Key Hash?","body":"<p><strong><em>this will help newbees also.</em></strong><br><br>\njust adding more details to @coder_For_Life22's answer.<br><br>\nif this answer helps you don't forget to upvote. it motivates us.<br><br>\n<strong><em>for this you must already know the path of the app's keystore file and password</em></strong><br><br>\n    for this example consider the key is stored at \"c:\\keystorekey\\new.jks\"<br><br>\n1. open this page <a href=\"https://code.google.com/archive/p/openssl-for-windows/downloads\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/openssl-for-windows/downloads</a><br><br>\n2. download 32 or 64 bit zip file as per your windows OS.<br><br>\n3. extract the downloaded file where ever you want and remember the path.<br><br>\n4. for this example we consider that you have extracted the folder in download folder.<br><br>\n    so the file address will be \"C:\\Users\\0\\Downloads\\openssl-0.9.8e_X64\\bin\\openssl.exe\";<br><br>\n5. now on keyboard press windows+r button.<br><br>\n6. this will open run box.<br><br>\n7. type cmd and press <b>Ctrl+Shift+Enter</b>.<br><br>\n8. this will open command prompt as administrator.<br><br>\n9. here navigate to java's bin folder:<br><br>\n      if you use jre provided by Android Studio you will find the path as follows:<br>\n      a. open android studio.<br>\n      b. file->project structure<br>\n      c. in the left pane, click 'SDK location'<br>\n      d. in the right pane, below 'JDK location' is your jre path.<br>\n      e. add \"\\bin\" at the end of this path as the file \"keytool.exe\", we need, is inside this folder.<br>\n      for this example i consider, you have installed java separately and following is the path<br>\n      \"C:\\Program Files\\Java\\jre-10.0.2\\bin\"<br>\n      if you have installed 32bit java it will be in<br>\n      \"C:\\Program Files (x86)\\Java\\jre-10.0.2\\bin\"<br>\n10. now with above paths execute command as following:<br><br></p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore \"c:\\keystorekey\\new.jks\" | \"C:\\Users\\0\\Downloads\\openssl-0.9.8e_X64\\bin\\openssl.exe\" sha1 -binary |\"C:\\Users\\0\\Downloads\\openssl-0.9.8e_X64\\bin\\openssl.exe\" base64\n</code></pre>\n\n<ol start=\"11\">\n<li>You will be asked for password, give the password you have given when creating keystore key.<br><br>\n!!!!!!\n<b>this will give you the key</b></li>\n</ol>\n\n<p>errors:\nif you get:<br>\n---<br>\n 'keytool' is not recognized as an internal or external command<br>\n---<br>\nthis means that java is installed somewhere else.</p>\n"},{"tags":[],"owner":{"account_id":2128124,"reputation":36630,"user_id":1889685,"accept_rate":100,"display_name":"Christos Lytras"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1610383828,"creation_date":1564065297,"answer_id":57204504,"question_id":7506392,"body_markdown":"You can simply use one line javascript in browser console to convert a hex map key to base64. Open console in latest browser (&lt;kbd&gt;F12&lt;/kbd&gt; on *Windows*, &lt;kbd&gt;⌥ Option&lt;/kbd&gt;+&lt;kbd&gt;⌘ Command&lt;/kbd&gt;+&lt;kbd&gt;I&lt;/kbd&gt; on *macOS*, &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;⇧ Shift&lt;/kbd&gt;+&lt;kbd&gt;I&lt;/kbd&gt; on *Linux*) and paste the code and replace the **`SHA-1`**, **`SHA-256`** hex map that *Google Play* provides under **Release** &#129130; **Setup** &#129130; **App signing**:\r\n\r\n### Hex map key to Base64 key hash\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &gt; btoa(&#39;a7:77:d9:20:c8:01:dd:fa:2c:3b:db:b2:ef:c5:5a:1d:ae:f7:28:6f&#39;.split(&#39;:&#39;).map(hc =&gt; String.fromCharCode(parseInt(hc, 16))).join(&#39;&#39;))\r\n    &lt; &quot;p3fZIMgB3fosO9uy78VaHa73KG8=&quot;\r\n\r\nYou can also convert it here; run the below code snippet and paste hex map key and hit convert button:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    document.getElementById(&#39;convert&#39;).addEventListener(&#39;click&#39;, function() {\r\n      document.getElementById(&#39;result&#39;).textContent = btoa(\r\n        document.getElementById(&#39;hex-map&#39;).value\r\n          .split(&#39;:&#39;)\r\n          .map(hc =&gt; String.fromCharCode(parseInt(hc, 16)))\r\n          .join(&#39;&#39;)\r\n      );\r\n    });\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;textarea id=&quot;hex-map&quot; placeholder=&quot;paste hex key map here&quot; style=&quot;width: 100%&quot;&gt;&lt;/textarea&gt;\r\n    &lt;button id=&quot;convert&quot;&gt;Convert&lt;/button&gt;\r\n    &lt;p&gt;&lt;code id=&quot;result&quot;&gt;&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd if you want to reverse a key hash to check and validate it:\r\n\r\n### Reverse Base64 key hash to hex map key\r\n\r\n    &gt; atob(&#39;p3fZIMgB3fosO9uy78VaHa73KG8=&#39;).split(&#39;&#39;).map(c =&gt; c.charCodeAt(0).toString(16)).join(&#39;:&#39;)\r\n    &lt; &quot;a7:77:d9:20:c8:1:dd:fa:2c:3b:db:b2:ef:c5:5a:1d:ae:f7:28:6f&quot;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    document.getElementById(&#39;convert&#39;).addEventListener(&#39;click&#39;, function() {\r\n      document.getElementById(&#39;result&#39;).textContent = atob(document.getElementById(&#39;base64-hash&#39;).value)\r\n        .split(&#39;&#39;)\r\n        .map(c =&gt; c.charCodeAt(0).toString(16))\r\n        .join(&#39;:&#39;)\r\n    });\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;textarea id=&quot;base64-hash&quot; placeholder=&quot;paste base64 key hash here&quot; style=&quot;width: 100%&quot;&gt;&lt;/textarea&gt;\r\n    &lt;button id=&quot;convert&quot;&gt;Convert&lt;/button&gt;\r\n    &lt;p&gt;&lt;code id=&quot;result&quot;&gt;&lt;/code&gt;&lt;/p&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to create Android Facebook Key Hash?","body":"<p>You can simply use one line javascript in browser console to convert a hex map key to base64. Open console in latest browser (<kbd>F12</kbd> on <em>Windows</em>, <kbd>⌥ Option</kbd>+<kbd>⌘ Command</kbd>+<kbd>I</kbd> on <em>macOS</em>, <kbd>Ctrl</kbd>+<kbd>⇧ Shift</kbd>+<kbd>I</kbd> on <em>Linux</em>) and paste the code and replace the <strong><code>SHA-1</code></strong>, <strong><code>SHA-256</code></strong> hex map that <em>Google Play</em> provides under <strong>Release</strong> 🡪 <strong>Setup</strong> 🡪 <strong>App signing</strong>:</p>\n<h3>Hex map key to Base64 key hash</h3>\n<pre class=\"lang-js prettyprint-override\"><code>&gt; btoa('a7:77:d9:20:c8:01:dd:fa:2c:3b:db:b2:ef:c5:5a:1d:ae:f7:28:6f'.split(':').map(hc =&gt; String.fromCharCode(parseInt(hc, 16))).join(''))\n&lt; &quot;p3fZIMgB3fosO9uy78VaHa73KG8=&quot;\n</code></pre>\n<p>You can also convert it here; run the below code snippet and paste hex map key and hit convert button:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById('convert').addEventListener('click', function() {\n  document.getElementById('result').textContent = btoa(\n    document.getElementById('hex-map').value\n      .split(':')\n      .map(hc =&gt; String.fromCharCode(parseInt(hc, 16)))\n      .join('')\n  );\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;textarea id=\"hex-map\" placeholder=\"paste hex key map here\" style=\"width: 100%\"&gt;&lt;/textarea&gt;\n&lt;button id=\"convert\"&gt;Convert&lt;/button&gt;\n&lt;p&gt;&lt;code id=\"result\"&gt;&lt;/code&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And if you want to reverse a key hash to check and validate it:</p>\n<h3>Reverse Base64 key hash to hex map key</h3>\n<pre><code>&gt; atob('p3fZIMgB3fosO9uy78VaHa73KG8=').split('').map(c =&gt; c.charCodeAt(0).toString(16)).join(':')\n&lt; &quot;a7:77:d9:20:c8:1:dd:fa:2c:3b:db:b2:ef:c5:5a:1d:ae:f7:28:6f&quot;\n</code></pre>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById('convert').addEventListener('click', function() {\n  document.getElementById('result').textContent = atob(document.getElementById('base64-hash').value)\n    .split('')\n    .map(c =&gt; c.charCodeAt(0).toString(16))\n    .join(':')\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;textarea id=\"base64-hash\" placeholder=\"paste base64 key hash here\" style=\"width: 100%\"&gt;&lt;/textarea&gt;\n&lt;button id=\"convert\"&gt;Convert&lt;/button&gt;\n&lt;p&gt;&lt;code id=\"result\"&gt;&lt;/code&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":15600744,"reputation":605,"user_id":11254956,"display_name":"naveen pandi"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1604992334,"creation_date":1566561505,"answer_id":57625908,"question_id":7506392,"body_markdown":"\r\nstep 1-&gt;open cmd in your system\r\n\r\nstep 2-&gt;C:\\Program Files\\Java\\jdk1.6.0_43\\bin&gt;\r\n\r\nStep 3-&gt;keytool -list -v -keystore C:\\Users\\leon\\\\.android\\debug.keystore -alias androiddebugkey -storepass android -keypass android\r\n\r\n\r\nu got **SHA1** value [click this link][1] u convert ur SHA1 value to HASH KEY\r\n\r\n\r\n  [1]: http://tomeko.net/online_tools/hex_to_base64.php\r\n\r\n\r\n\r\nim 100% sure this link will help u","title":"How to create Android Facebook Key Hash?","body":"<p>step 1-&gt;open cmd in your system</p>\n<p>step 2-&gt;C:\\Program Files\\Java\\jdk1.6.0_43\\bin&gt;</p>\n<p>Step 3-&gt;keytool -list -v -keystore C:\\Users\\leon\\.android\\debug.keystore -alias androiddebugkey -storepass android -keypass android</p>\n<p>u got <strong>SHA1</strong> value <a href=\"http://tomeko.net/online_tools/hex_to_base64.php\" rel=\"noreferrer\">click this link</a> u convert ur SHA1 value to HASH KEY</p>\n<p>im 100% sure this link will help u</p>\n"},{"tags":[],"owner":{"account_id":13606517,"reputation":7473,"user_id":9815519,"display_name":"Sheikh Hasib"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580034711,"creation_date":1580034711,"answer_id":59917480,"question_id":7506392,"body_markdown":"Just *run this code* in your **OnCreateView** Or **OnStart** Actvity and This Function Return you **Development Key Hash**.\r\n\r\n    private String generateKeyHash() {\r\n        try {\r\n            PackageInfo info = getPackageManager().getPackageInfo(getPackageName(), PackageManager.GET_SIGNATURES);\r\n            for (Signature signature : info.signatures) {\r\n                MessageDigest md = (MessageDigest.getInstance(&quot;SHA&quot;));\r\n                md.update(signature.toByteArray());\r\n                return new String(Base64.encode(md.digest(), 0));\r\n            }\r\n        }catch (Exception e) {\r\n            Log.e(&quot;exception&quot;, e.toString());\r\n        }\r\n        return &quot;key hash not found&quot;;\r\n    }","title":"How to create Android Facebook Key Hash?","body":"<p>Just <em>run this code</em> in your <strong>OnCreateView</strong> Or <strong>OnStart</strong> Actvity and This Function Return you <strong>Development Key Hash</strong>.</p>\n\n<pre><code>private String generateKeyHash() {\n    try {\n        PackageInfo info = getPackageManager().getPackageInfo(getPackageName(), PackageManager.GET_SIGNATURES);\n        for (Signature signature : info.signatures) {\n            MessageDigest md = (MessageDigest.getInstance(\"SHA\"));\n            md.update(signature.toByteArray());\n            return new String(Base64.encode(md.digest(), 0));\n        }\n    }catch (Exception e) {\n        Log.e(\"exception\", e.toString());\n    }\n    return \"key hash not found\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6762145,"reputation":14229,"user_id":5208491,"display_name":"saigopi.me"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1587604552,"creation_date":1587604552,"answer_id":61377723,"question_id":7506392,"body_markdown":"Easy way\r\n\r\nBy using [this website][1] you can get Hash Key by Converting SHA1 key to Hash Key for Facebook.\r\n\r\n\r\n  [1]: http://tomeko.net/online_tools/hex_to_base64.php","title":"How to create Android Facebook Key Hash?","body":"<p>Easy way</p>\n\n<p>By using <a href=\"http://tomeko.net/online_tools/hex_to_base64.php\" rel=\"noreferrer\">this website</a> you can get Hash Key by Converting SHA1 key to Hash Key for Facebook.</p>\n"},{"tags":[],"owner":{"display_name":"user6628772"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591104568,"creation_date":1591104568,"answer_id":62153158,"question_id":7506392,"body_markdown":"keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\**Deepak**\\.android\\debug.keystore&quot; | &quot;**C:\\Users\\Deepak\\ssl**\\bin\\openssl&quot; sha1 -binary | &quot;**C:\\Users\\Deepak\\ssl**\\bin\\openssl&quot; base64\r\n\r\n2 Changes in this above command\r\n1.Deepak===Replace by your System USERNAME\r\n2.C:\\Users\\Deepak\\ssl=== replce your Open SSL path \r\n\r\nrun this command and get output like this\r\n\r\nC:\\Users\\Deepak&gt;keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\D\r\neepak\\.android\\debug.keystore&quot; | &quot;C:\\Users\\Deepak\\ssl\\bin\\openssl&quot; sha1 -binary\r\n| &quot;C:\\Users\\Deepak\\ssl\\bin\\openssl&quot; base64\r\nEnter keystore password:  ******\r\nga0RGNY******************=\r\n","title":"How to create Android Facebook Key Hash?","body":"<p>keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users**Deepak**.android\\debug.keystore\" | \"<strong>C:\\Users\\Deepak\\ssl</strong>\\bin\\openssl\" sha1 -binary | \"<strong>C:\\Users\\Deepak\\ssl</strong>\\bin\\openssl\" base64</p>\n\n<p>2 Changes in this above command\n1.Deepak===Replace by your System USERNAME\n2.C:\\Users\\Deepak\\ssl=== replce your Open SSL path </p>\n\n<p>run this command and get output like this</p>\n\n<p>C:\\Users\\Deepak>keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\D\neepak.android\\debug.keystore\" | \"C:\\Users\\Deepak\\ssl\\bin\\openssl\" sha1 -binary\n| \"C:\\Users\\Deepak\\ssl\\bin\\openssl\" base64\nEnter keystore password:  ******\nga0RGNY******************=</p>\n"},{"tags":[],"owner":{"account_id":11134745,"reputation":94,"user_id":8173610,"display_name":"Domtry"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1602861554,"creation_date":1602861554,"answer_id":64391975,"question_id":7506392,"body_markdown":"I ran into the same problem and here&#39;s how I was able to fix it\r\n\r\n    keytool -list -alias androiddebugkey -keystore &lt;project_file\\android\\app\\debug.keystore&gt;","title":"How to create Android Facebook Key Hash?","body":"<p>I ran into the same problem and here's how I was able to fix it</p>\n<pre><code>keytool -list -alias androiddebugkey -keystore &lt;project_file\\android\\app\\debug.keystore&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12828957,"reputation":2019,"user_id":9280848,"display_name":"Rahman Rezaee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634579700,"creation_date":1607933400,"answer_id":65285555,"question_id":7506392,"body_markdown":"so easy find sha1 of your android project \r\n\r\nand paste on this website [tomeko][1]\r\n\r\n\r\n  [1]: http://tomeko.net/online_tools/hex_to_base64.php\r\n\r\n\r\nfor get sha1 just \r\n\r\n    // vscode and my cmd\r\n    project-name/cd android &amp;&amp; ./gradlew signingReport\r\n\r\n    // other \r\n    project-name/cd android &amp;&amp; ./gradlew signingReport","title":"How to create Android Facebook Key Hash?","body":"<p>so easy find sha1 of your android project</p>\n<p>and paste on this website <a href=\"http://tomeko.net/online_tools/hex_to_base64.php\" rel=\"nofollow noreferrer\">tomeko</a></p>\n<p>for get sha1 just</p>\n<pre><code>// vscode and my cmd\nproject-name/cd android &amp;&amp; ./gradlew signingReport\n\n// other \nproject-name/cd android &amp;&amp; ./gradlew signingReport\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7164757,"reputation":597,"user_id":5474261,"accept_rate":0,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612314744,"creation_date":1612314744,"answer_id":66019883,"question_id":7506392,"body_markdown":"        private fun generateKeyHash(): String? {try {\r\n        val info =packageManager.getPackageInfo(packageName, PackageManager.GET_SIGNATURES)\r\n        for (signature in info.signatures) {\r\n            val md: MessageDigest = MessageDigest.getInstance(&quot;SHA&quot;)\r\n            md.update(signature.toByteArray())\r\n            return String(Base64.encode(md.digest(), 0))\r\n        }\r\n    } catch (e: Exception) {\r\n        Log.e(&quot;exception&quot;, e.toString())\r\n    }\r\n        return &quot;key hash not found&quot;\r\n    }","title":"How to create Android Facebook Key Hash?","body":"<pre><code>    private fun generateKeyHash(): String? {try {\n    val info =packageManager.getPackageInfo(packageName, PackageManager.GET_SIGNATURES)\n    for (signature in info.signatures) {\n        val md: MessageDigest = MessageDigest.getInstance(&quot;SHA&quot;)\n        md.update(signature.toByteArray())\n        return String(Base64.encode(md.digest(), 0))\n    }\n} catch (e: Exception) {\n    Log.e(&quot;exception&quot;, e.toString())\n}\n    return &quot;key hash not found&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11010140,"reputation":1058,"user_id":8087820,"display_name":"Bholendra Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622579460,"creation_date":1622579460,"answer_id":67795644,"question_id":7506392,"body_markdown":"        @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        \r\n        // Add code to print out the key hash\r\n        try {\r\n            PackageInfo info = getPackageManager().getPackageInfo(\r\n                    &quot;com.facebook.samples.hellofacebook&quot;, \r\n                    PackageManager.GET_SIGNATURES);\r\n            for (Signature signature : info.signatures) {\r\n                MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\r\n                md.update(signature.toByteArray());\r\n                Log.d(&quot;KeyHash:&quot;, Base64.encodeToString(md.digest(), Base64.DEFAULT));\r\n                }\r\n        } catch (NameNotFoundException e) {\r\n            \r\n        } catch (NoSuchAlgorithmException e) {\r\n            \r\n        }\r\n        \r\n        ...\r\n\r\n\r\nSave your changes and re-run the sample. Check your logcat output for a message similar to this:\r\n\r\n\r\n&gt; **12-20 10:47:37.747: D/KeyHash:(936): 478uEnKQV+fMQT8Dy4AKvHkYibo=**\r\n\r\nSave the key hash in your developer profile. Re-run the samples and verify that you can log in successfully.\r\n\r\n\r\n","title":"How to create Android Facebook Key Hash?","body":"<pre><code>    @Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    // Add code to print out the key hash\n    try {\n        PackageInfo info = getPackageManager().getPackageInfo(\n                &quot;com.facebook.samples.hellofacebook&quot;, \n                PackageManager.GET_SIGNATURES);\n        for (Signature signature : info.signatures) {\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\n            md.update(signature.toByteArray());\n            Log.d(&quot;KeyHash:&quot;, Base64.encodeToString(md.digest(), Base64.DEFAULT));\n            }\n    } catch (NameNotFoundException e) {\n        \n    } catch (NoSuchAlgorithmException e) {\n        \n    }\n    \n    ...\n</code></pre>\n<p>Save your changes and re-run the sample. Check your logcat output for a message similar to this:</p>\n<blockquote>\n<p><strong>12-20 10:47:37.747: D/KeyHash:(936): 478uEnKQV+fMQT8Dy4AKvHkYibo=</strong></p>\n</blockquote>\n<p>Save the key hash in your developer profile. Re-run the samples and verify that you can log in successfully.</p>\n"},{"tags":[],"owner":{"account_id":11999800,"reputation":79,"user_id":8780115,"display_name":"farshad rezaei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631623952,"creation_date":1631623952,"answer_id":69178152,"question_id":7506392,"body_markdown":"please try this , it works for me :\r\n\r\n       \r\n    fun Context.generateSignKeyHash(): String {\r\n    \r\n        try {\r\n    \r\n            val info = packageManager.getPackageInfo(\r\n                packageName,\r\n                PackageManager.GET_SIGNATURES\r\n            )\r\n    \r\n            for (signature in info.signatures) {\r\n                val md = MessageDigest.getInstance(&quot;SHA&quot;)\r\n                md.update(signature.toByteArray())\r\n                return Base64.encodeToString(md.digest(), Base64.DEFAULT)\r\n            }\r\n    \r\n        } catch (e: Exception) {\r\n            Log.e(&quot;keyHash&quot;, e.message.toString())\r\n        }\r\n    \r\n        return &quot;&quot;\r\n    \r\n    }\r\n\r\n","title":"How to create Android Facebook Key Hash?","body":"<p>please try this , it works for me :</p>\n<pre><code>fun Context.generateSignKeyHash(): String {\n\n    try {\n\n        val info = packageManager.getPackageInfo(\n            packageName,\n            PackageManager.GET_SIGNATURES\n        )\n\n        for (signature in info.signatures) {\n            val md = MessageDigest.getInstance(&quot;SHA&quot;)\n            md.update(signature.toByteArray())\n            return Base64.encodeToString(md.digest(), Base64.DEFAULT)\n        }\n\n    } catch (e: Exception) {\n        Log.e(&quot;keyHash&quot;, e.message.toString())\n    }\n\n    return &quot;&quot;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687162551,"creation_date":1687162551,"answer_id":76504805,"question_id":7506392,"body_markdown":"I think that `documentation` will helps to you finding `SHA-1, SHA-256 and also Hash-key` \r\n\r\n[Debug and Release]\r\n\r\n&gt; [View full Documentation][1]\r\n\r\n\r\n  [1]: https://urvish-shiroya-organization.gitbook.io/sha-1-or-sha-256-and-key-hash/","title":"How to create Android Facebook Key Hash?","body":"<p>I think that <code>documentation</code> will helps to you finding <code>SHA-1, SHA-256 and also Hash-key</code></p>\n<p>[Debug and Release]</p>\n<blockquote>\n<p><a href=\"https://urvish-shiroya-organization.gitbook.io/sha-1-or-sha-256-and-key-hash/\" rel=\"nofollow noreferrer\">View full Documentation</a></p>\n</blockquote>\n"}],"owner":{"account_id":304762,"reputation":11899,"user_id":614460,"accept_rate":74,"display_name":"Somk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406729,"favorite_count":0,"down_vote_count":0,"up_vote_count":247,"accepted_answer_id":7506445,"answer_count":30,"score":247,"last_activity_date":1687162551,"creation_date":1316637856,"question_id":7506392,"body_markdown":"I do not understand this process at all. I have been able to navigate to the folder containing the keytool in the Java SDK. Although I keep getting the error openssl not recognised as an internal or external command. The problem is even if I can get this to work, what would I do and with what afterwards?","title":"How to create Android Facebook Key Hash?","body":"<p>I do not understand this process at all. I have been able to navigate to the folder containing the keytool in the Java SDK. Although I keep getting the error openssl not recognised as an internal or external command. The problem is even if I can get this to work, what would I do and with what afterwards?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":1,"creation_date":1687159231,"post_id":76503338,"comment_id":134892348,"body_markdown":"What do you mean by it doesn&#39;t work? Can you provide the error message? At first, I can say that second `LEFT JOIN FETCH` is wrong, should be `m.tasks` instead of `m.tyreChange`.","body":"What do you mean by it doesn&#39;t work? Can you provide the error message? At first, I can say that second <code>LEFT JOIN FETCH</code> is wrong, should be <code>m.tasks</code> instead of <code>m.tyreChange</code>."},{"owner":{"account_id":21116996,"reputation":70,"user_id":15523899,"display_name":"p0var"},"score":0,"creation_date":1687159622,"post_id":76503338,"comment_id":134892411,"body_markdown":"@birca123 is correct) Though i think, the question will be solved with usage of `@EntityGraph` annotation constructed manually or through plugins.","body":"@birca123 is correct) Though i think, the question will be solved with usage of <code>@EntityGraph</code> annotation constructed manually or through plugins."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687161117,"post_id":76503338,"comment_id":134892665,"body_markdown":"@birca123 so you still reference task even though its a abstract class?","body":"@birca123 so you still reference task even though its a abstract class?"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1687162093,"post_id":76503338,"comment_id":134892873,"body_markdown":"@AlGrant the point is to reference a field, and you don&#39;t have a field named `tyreChange` in `MechanicVisit` class.","body":"@AlGrant the point is to reference a field, and you don&#39;t have a field named <code>tyreChange</code> in <code>MechanicVisit</code> class."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687162693,"post_id":76503338,"comment_id":134892981,"body_markdown":"@birca123 right, so even though task is a abstract, and doesn&#39;t create a table in the database it still is used in JPQL queries?","body":"@birca123 right, so even though task is a abstract, and doesn&#39;t create a table in the database it still is used in JPQL queries?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1687163215,"post_id":76503338,"comment_id":134893100,"body_markdown":"`SELECT c FROM Car c\nJOIN FETCH c.listMechanicVisits m\nJOIN FETCH m.task\nWHERE c.id = :id` should work. No need for a left join IMO. Also include the full stacktrace to exceptions","body":"<code>SELECT c FROM Car c JOIN FETCH c.listMechanicVisits m JOIN FETCH m.task WHERE c.id = :id</code> should work. No need for a left join IMO. Also include the full stacktrace to exceptions"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1687163460,"post_id":76503338,"comment_id":134893171,"body_markdown":"@AlGrant That&#39;s right.","body":"@AlGrant That&#39;s right."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687164902,"post_id":76503338,"comment_id":134893466,"body_markdown":"@XtremeBaumer it doesn&#39;t like the FETCH JOIN m.tasks - error : cannot simultaneously fetch multiple bags","body":"@XtremeBaumer it doesn&#39;t like the FETCH JOIN m.tasks - error : cannot simultaneously fetch multiple bags"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1687169201,"post_id":76503338,"comment_id":134894439,"body_markdown":"and that is correct, since you want to eagerly load them","body":"and that is correct, since you want to eagerly load them"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687185370,"post_id":76503338,"comment_id":134897756,"body_markdown":"What exactly is the purpose of your query? I&#39;m guessing by the method name you are looking just for the TyreChange tasks associated to a car - the query you are issuing will return the car with all MechanicVisit and all tasks performed populated. JPA fetch joins don&#39;t allow you to filter the data returned so that the entity returned reflects exactly what is in the DB. If you are looking for only TyreChange tasks associated to a car, you will need to query on them directly","body":"What exactly is the purpose of your query? I&#39;m guessing by the method name you are looking just for the TyreChange tasks associated to a car - the query you are issuing will return the car with all MechanicVisit and all tasks performed populated. JPA fetch joins don&#39;t allow you to filter the data returned so that the entity returned reflects exactly what is in the DB. If you are looking for only TyreChange tasks associated to a car, you will need to query on them directly"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687185612,"post_id":76503338,"comment_id":134897827,"body_markdown":"As for the &quot;cannot simultaneously fetch multiple bags&quot;, Hibernate doesn&#39;t like fetching over multiple *ToMany relationships in one query. Other providers don&#39;t have this problem, but it is better to not return N*M rows for a single car, which is what happens with the fetch joins. You might try letting JPA build the tasks in a batch query instead, using @BatchSize or https://thorben-janssen.com/hibernate-tips-how-to-fetch-associations-in-batches/ , but I don&#39;t know how well they work with table per class inheritance. Joined or single table inheritance is usually a better option if possible.","body":"As for the &quot;cannot simultaneously fetch multiple bags&quot;, Hibernate doesn&#39;t like fetching over multiple <i>ToMany relationships in one query. Other providers don&#39;t have this problem, but it is better to not return N</i>M rows for a single car, which is what happens with the fetch joins. You might try letting JPA build the tasks in a batch query instead, using @BatchSize or <a href=\"https://thorben-janssen.com/hibernate-tips-how-to-fetch-associations-in-batches/\" rel=\"nofollow noreferrer\">thorben-janssen.com/&hellip;</a> , but I don&#39;t know how well they work with table per class inheritance. Joined or single table inheritance is usually a better option if possible."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687206192,"post_id":76503338,"comment_id":134901571,"body_markdown":"@Chris I am new to JPA, so a lot of reading and learning going on. Another good query to see would be all the TyeChange tasks associated to a car. I understand that you can use projection to setup the result object (but not with native queries?)","body":"@Chris I am new to JPA, so a lot of reading and learning going on. Another good query to see would be all the TyeChange tasks associated to a car. I understand that you can use projection to setup the result object (but not with native queries?)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687274493,"post_id":76503338,"comment_id":134912180,"body_markdown":"Do you just want TyreChange associated to a car? &quot;select tc from TyreChange tc where tc.mechanicVisit.car.id = :carId&quot; This will return a list without needing to fetch visits or the car. I don&#39;t know that you have the task-&gt;mechanicVisit relationship mapped correctly though, as it should probably be a ManyToOne.","body":"Do you just want TyreChange associated to a car? &quot;select tc from TyreChange tc where tc.mechanicVisit.car.id = :carId&quot; This will return a list without needing to fetch visits or the car. I don&#39;t know that you have the task-&gt;mechanicVisit relationship mapped correctly though, as it should probably be a ManyToOne."}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687162449,"creation_date":1687142915,"question_id":76503338,"body_markdown":"I would like query a nested object, `TyreChange` of a abstract class in JPA. The model looks like this:\r\n\r\n**Car**\r\n\r\n    @Entity\r\n    @Data\r\n    public class Car {\r\n        @Id\r\n        @GeneratedValue(strategy =  IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @JsonBackReference\r\n        @OneToMany(cascade = CascadeType.All, mappedBy = &quot;car&quot;)\r\n        private List&lt;MechanicVisit&gt; listMechanicVisit = new ArrayList();\r\n        //others\r\n    }\r\n\r\n**MechanicVisit**\r\n\r\n    @Entity\r\n    @Data\r\n    public class mechanicVisit {\r\n        @Id\r\n        @GeneratedValue(strategy =  IDENTITY)\r\n        private Long id;\r\n        private LocalDateTime visitDate;\r\n        @JsonManagedReference\r\n        @ManyToOne(fetch = fetchType.LAZY)\r\n        private Car car;\r\n        @JsonManagedReference\r\n        @OneToMany(cascade = CascadeType.All, mappedBy = &quot;mechanicVisit&quot;)\r\n        Private List&lt;Task&gt; tasks;\r\n        //others\r\n    }\r\n\r\n**Task**\r\n\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    @MappedSuperClass\r\n    public class abstract Task (\r\n        @Id \r\n        private Long taskId;\r\n    \r\n        @JsonBackReference\r\n        @OneToMany(fetch = FethType.LAZY, optional = false)\r\n        private MechanicVisit mechanicVisit;\r\n    }\r\n\r\n**TyreChange**\r\n\r\n    @Entity\r\n    @Data\r\n    public class TyreChage extends Task {\r\n        private String name;\r\n        private Double size;\r\n        private Double value;\r\n    }\r\n\r\nI have tried this query on the Car repository:\r\n\r\n    @Query(SELECT c FROM Car c\r\n    LEFT JOIN FETCH c.mechanicVisit m\r\n    LEFT JOIN FETCH m.tyreChange\r\n    WHERE c.id = :id&quot;\r\n    Optional&lt;Car&gt; getCarwithTyreChange(@Param(&quot;id&quot;) Long id);\r\n\r\nHowever this query does not work.\r\n\r\n**Q:** How would I construct this query?\r\n\r\nI do not understand if the query objects in JPA follow the db structure or the entity structure (should tasks be referenced in the query).    \r\n   \r\n**UPDATE**\r\n\r\nThere are many mechanic visits for each car, so the query should be more like:\r\n\r\n    @Query(SELECT c FROM Car c\r\n    LEFT JOIN FETCH c.listMechanicVisits m\r\n    LEFT JOIN FETCH m.task\r\n    WHERE c.id = :id&quot;\r\n    Optional&lt;Car&gt; getCarwithTyreChange(@Param(&quot;id&quot;) Long id);\r\n\r\nThe error I get when I try this is:\r\n\r\nValidation failed for query for method public abstract java.util.Optional com.nz.car.repository.CardRepository.getCarwithTyres(java.lang.Long)!\r\n\r\n","title":"JPA query to retrieve nested entities","body":"<p>I would like query a nested object, <code>TyreChange</code> of a abstract class in JPA. The model looks like this:</p>\n<p><strong>Car</strong></p>\n<pre><code>@Entity\n@Data\npublic class Car {\n    @Id\n    @GeneratedValue(strategy =  IDENTITY)\n    private Long id;\n    private String name;\n    @JsonBackReference\n    @OneToMany(cascade = CascadeType.All, mappedBy = &quot;car&quot;)\n    private List&lt;MechanicVisit&gt; listMechanicVisit = new ArrayList();\n    //others\n}\n</code></pre>\n<p><strong>MechanicVisit</strong></p>\n<pre><code>@Entity\n@Data\npublic class mechanicVisit {\n    @Id\n    @GeneratedValue(strategy =  IDENTITY)\n    private Long id;\n    private LocalDateTime visitDate;\n    @JsonManagedReference\n    @ManyToOne(fetch = fetchType.LAZY)\n    private Car car;\n    @JsonManagedReference\n    @OneToMany(cascade = CascadeType.All, mappedBy = &quot;mechanicVisit&quot;)\n    Private List&lt;Task&gt; tasks;\n    //others\n}\n</code></pre>\n<p><strong>Task</strong></p>\n<pre><code>@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@MappedSuperClass\npublic class abstract Task (\n    @Id \n    private Long taskId;\n\n    @JsonBackReference\n    @OneToMany(fetch = FethType.LAZY, optional = false)\n    private MechanicVisit mechanicVisit;\n}\n</code></pre>\n<p><strong>TyreChange</strong></p>\n<pre><code>@Entity\n@Data\npublic class TyreChage extends Task {\n    private String name;\n    private Double size;\n    private Double value;\n}\n</code></pre>\n<p>I have tried this query on the Car repository:</p>\n<pre><code>@Query(SELECT c FROM Car c\nLEFT JOIN FETCH c.mechanicVisit m\nLEFT JOIN FETCH m.tyreChange\nWHERE c.id = :id&quot;\nOptional&lt;Car&gt; getCarwithTyreChange(@Param(&quot;id&quot;) Long id);\n</code></pre>\n<p>However this query does not work.</p>\n<p><strong>Q:</strong> How would I construct this query?</p>\n<p>I do not understand if the query objects in JPA follow the db structure or the entity structure (should tasks be referenced in the query).</p>\n<p><strong>UPDATE</strong></p>\n<p>There are many mechanic visits for each car, so the query should be more like:</p>\n<pre><code>@Query(SELECT c FROM Car c\nLEFT JOIN FETCH c.listMechanicVisits m\nLEFT JOIN FETCH m.task\nWHERE c.id = :id&quot;\nOptional&lt;Car&gt; getCarwithTyreChange(@Param(&quot;id&quot;) Long id);\n</code></pre>\n<p>The error I get when I try this is:</p>\n<p>Validation failed for query for method public abstract java.util.Optional com.nz.car.repository.CardRepository.getCarwithTyres(java.lang.Long)!</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","jvm"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687162200,"post_id":76504749,"comment_id":134892891,"body_markdown":"If you aren&#39;t storing mutable state at the instance level there is nothing that isn&#39;t thread safe.","body":"If you aren&#39;t storing mutable state at the instance level there is nothing that isn&#39;t thread safe."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687162357,"creation_date":1687162357,"answer_id":76504783,"question_id":76504749,"body_markdown":"Your DI framework will handle the construction of those dependencies. No need to worry about that. As for the implementation of those services, if you are sharing them across threads, you will need to make sure they are thread safe. One easy way to accomplish that, is to simply not have any mutable state.","title":"Thread Safety for Dependency Injections","body":"<p>Your DI framework will handle the construction of those dependencies. No need to worry about that. As for the implementation of those services, if you are sharing them across threads, you will need to make sure they are thread safe. One easy way to accomplish that, is to simply not have any mutable state.</p>\n"}],"owner":{"account_id":18026970,"reputation":19,"user_id":13102653,"display_name":"Martin Miano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687162357,"creation_date":1687162119,"question_id":76504749,"body_markdown":"I would like to make use of dependency injections at different threads whilst imploring safety.\r\n\r\nLemme start with the basics and I reference all the way unto Java basics: Stack and the Heap. The stack is a LIFO data structure that stores primitive data types and references whereas the Heap stores the Objects that will be referenced. These are the basics that Java programs run on irrespective of the means that they were made be it Spring or other frameworks. Spring support dependency injections for example:\r\n\r\n`    @Autowired\r\n    MyClass myClass;\r\n`\r\nThese injections live in the application context and irrespective of which class you call them from, they will refer to the same object. At the end of the day, there&#39;s a reference and an object. One lives on the stack the other on the heap. My question is: in the event of multi-threading, will be there safety for these dependency injections? Please expound in the context of reference and object irrespective of whether the answer is yes or no.\r\n","title":"Thread Safety for Dependency Injections","body":"<p>I would like to make use of dependency injections at different threads whilst imploring safety.</p>\n<p>Lemme start with the basics and I reference all the way unto Java basics: Stack and the Heap. The stack is a LIFO data structure that stores primitive data types and references whereas the Heap stores the Objects that will be referenced. These are the basics that Java programs run on irrespective of the means that they were made be it Spring or other frameworks. Spring support dependency injections for example:</p>\n<p><code>   @Autowired MyClass myClass;</code>\nThese injections live in the application context and irrespective of which class you call them from, they will refer to the same object. At the end of the day, there's a reference and an object. One lives on the stack the other on the heap. My question is: in the event of multi-threading, will be there safety for these dependency injections? Please expound in the context of reference and object irrespective of whether the answer is yes or no.</p>\n"},{"tags":["java","noclassdeffounderror","netbeans-7"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":1,"creation_date":1307083462,"post_id":6223828,"comment_id":7249776,"body_markdown":"Can you see the class `UpdateNameForm` if you search for it in NetBeans?","body":"Can you see the class <code>UpdateNameForm</code> if you search for it in NetBeans?"},{"owner":{"account_id":219411,"reputation":1992,"user_id":476298,"accept_rate":94,"display_name":"Darkhydro"},"score":0,"creation_date":1307084066,"post_id":6223828,"comment_id":7249884,"body_markdown":"@The Elite yes I can. It is in the project, and in the classes folder of the netbeans project itself. Check the update above please","body":"@The Elite yes I can. It is in the project, and in the classes folder of the netbeans project itself. Check the update above please"},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1307084827,"post_id":6223828,"comment_id":7250016,"body_markdown":"do you have a build script that cleans your build?","body":"do you have a build script that cleans your build?"},{"owner":{"account_id":219411,"reputation":1992,"user_id":476298,"accept_rate":94,"display_name":"Darkhydro"},"score":0,"creation_date":1307084954,"post_id":6223828,"comment_id":7250038,"body_markdown":"@The Elite like i said, it is a netbeans project. The clean and build button in netbeans does this automatically. It also rebuilds the programs final JAR file into the &quot;dist&quot; folder, and this JAR works.","body":"@The Elite like i said, it is a netbeans project. The clean and build button in netbeans does this automatically. It also rebuilds the programs final JAR file into the &quot;dist&quot; folder, and this JAR works."},{"owner":{"account_id":293001,"reputation":1749,"user_id":596098,"display_name":"pilotcam"},"score":0,"creation_date":1318360267,"post_id":6223828,"comment_id":9406867,"body_markdown":"I&#39;m experiencing the same thing with one of my projects in NB7... worked fine a few days ago.  In my case it&#39;s a web app and it fails when loading beans from the spring application context.","body":"I&#39;m experiencing the same thing with one of my projects in NB7... worked fine a few days ago.  In my case it&#39;s a web app and it fails when loading beans from the spring application context."},{"owner":{"account_id":201427,"reputation":1878,"user_id":447860,"accept_rate":68,"display_name":"Lucas"},"score":0,"creation_date":1352415138,"post_id":6223828,"comment_id":18135798,"body_markdown":"Yes! This is second time this has happened.","body":"Yes! This is second time this has happened."}],"answers":[{"tags":[],"owner":{"account_id":287569,"reputation":695,"user_id":587465,"accept_rate":65,"display_name":"Nik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1307083639,"creation_date":1307083639,"answer_id":6223885,"question_id":6223828,"body_markdown":"i had a similar problem, i resolved it by first removing the jar from the build path and then adding it again. Build the project after re-adding the jar. Sometimes the build path is not refreshed... i hope this works for u too.","title":"NoClassDefFoundError but class exists","body":"<p>i had a similar problem, i resolved it by first removing the jar from the build path and then adding it again. Build the project after re-adding the jar. Sometimes the build path is not refreshed... i hope this works for u too.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1624902909,"creation_date":1307083665,"answer_id":6223887,"question_id":6223828,"body_markdown":"These kinds of problems are almost always due to classpath issues.\r\n\r\n - Check your classpath setting\r\n - Check that the jar containing your class can be found in the execution environment\r\n - Check that the class isn&#39;t in another jar found earlier in your classpath - especially an earlier/later version of the jar (ie if you&#39;ve upgraded but not cleared out your old jars)","title":"NoClassDefFoundError but class exists","body":"<p>These kinds of problems are almost always due to classpath issues.</p>\n<ul>\n<li>Check your classpath setting</li>\n<li>Check that the jar containing your class can be found in the execution environment</li>\n<li>Check that the class isn't in another jar found earlier in your classpath - especially an earlier/later version of the jar (ie if you've upgraded but not cleared out your old jars)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":219411,"reputation":1992,"user_id":476298,"accept_rate":94,"display_name":"Darkhydro"},"down_vote_count":3,"up_vote_count":3,"is_accepted":true,"score":0,"last_activity_date":1307146333,"creation_date":1307146333,"answer_id":6233803,"question_id":6223828,"body_markdown":"I have solved my problem by creating a new netbeans project from the existing sources. In my opinion, this is not a good way to do things (especially on large projects) but none of the existing answers provided a solution. ","title":"NoClassDefFoundError but class exists","body":"<p>I have solved my problem by creating a new netbeans project from the existing sources. In my opinion, this is not a good way to do things (especially on large projects) but none of the existing answers provided a solution. </p>\n"},{"tags":[],"owner":{"account_id":14561538,"reputation":11,"user_id":10517473,"display_name":"Odd Steen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539765907,"creation_date":1539765907,"answer_id":52850718,"question_id":6223828,"body_markdown":"I suddenly had the same problem. I checked the output of the build process in /build/classes and couldn&#39;t find the missing class. No wonder about the error message... My way to fix this in NetBeans 8.2 was to right-click on the project to open the Properties page. Then go to Compiling under Build and uncheck the Compile on Save box. After that I did some dummy editing of the problematic class - entering a System.out... and deleting it again - and save. After that I could right-click on the class and chose Compile File. Again checking in /build/classes I could see that the classes were now built. Running the program worked and I could re-check the Compile on Save box in the project Properties.","title":"NoClassDefFoundError but class exists","body":"<p>I suddenly had the same problem. I checked the output of the build process in /build/classes and couldn't find the missing class. No wonder about the error message... My way to fix this in NetBeans 8.2 was to right-click on the project to open the Properties page. Then go to Compiling under Build and uncheck the Compile on Save box. After that I did some dummy editing of the problematic class - entering a System.out... and deleting it again - and save. After that I could right-click on the class and chose Compile File. Again checking in /build/classes I could see that the classes were now built. Running the program worked and I could re-check the Compile on Save box in the project Properties.</p>\n"},{"tags":[],"owner":{"account_id":3611807,"reputation":21,"user_id":3012627,"display_name":"chieuvh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687162307,"creation_date":1687162307,"answer_id":76504777,"question_id":6223828,"body_markdown":"Try remove the .cache folder, it worked for me. For example in my machine, cache folder of netbeans is located at /home/chieuvh/.cache/netbeans/15","title":"NoClassDefFoundError but class exists","body":"<p>Try remove the .cache folder, it worked for me. For example in my machine, cache folder of netbeans is located at /home/chieuvh/.cache/netbeans/15</p>\n"}],"owner":{"account_id":219411,"reputation":1992,"user_id":476298,"accept_rate":94,"display_name":"Darkhydro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26938,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":6233803,"answer_count":5,"score":8,"last_activity_date":1687162307,"creation_date":1307083283,"question_id":6223828,"body_markdown":"Here is the error: \r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: sfclocator/UpdateNameForm\r\n\tat sfclocator.SFCViewer.&lt;init&gt;(SFCViewer.java:68)\r\n\tat sfclocator.SFCViewer$10.run(SFCViewer.java:1823)\r\n\tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\r\nCaused by: java.lang.ClassNotFoundException: sfclocator.UpdateNameForm\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:307)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nI created this program as a Netbeans 7.0 project. I&#39;ve been working on it for about 2-3 days, and finished it yesterday. It worked perfectly yesterday. I went to sleep, woke up, ran it this morning, and all of a sudden I got errors. I fixed the errors that popped up, except for this one. \r\n\r\nThe project builds perfectly, and the JAR even runs just fine, but when I try to run the project using Netbeans it gives me this error. Any help would be appreciated. \r\n\r\n------------------------------------------------------------------------------------------\r\n\r\nFurther information i just found out: \r\n\r\nWhen built, the UpdateNameForm class exists in the classes folder of netbeans project, but when i click run, it *deletes* the UpdateNameForm classes. \r\n","title":"NoClassDefFoundError but class exists","body":"<p>Here is the error: </p>\n\n<pre><code>\nException in thread \"AWT-EventQueue-0\" java.lang.NoClassDefFoundError: sfclocator/UpdateNameForm\n    at sfclocator.SFCViewer.(SFCViewer.java:68)\n    at sfclocator.SFCViewer$10.run(SFCViewer.java:1823)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\nCaused by: java.lang.ClassNotFoundException: sfclocator.UpdateNameForm\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:307)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n</code></pre>\n\n<p>I created this program as a Netbeans 7.0 project. I've been working on it for about 2-3 days, and finished it yesterday. It worked perfectly yesterday. I went to sleep, woke up, ran it this morning, and all of a sudden I got errors. I fixed the errors that popped up, except for this one. </p>\n\n<p>The project builds perfectly, and the JAR even runs just fine, but when I try to run the project using Netbeans it gives me this error. Any help would be appreciated. </p>\n\n<hr>\n\n<p>Further information i just found out: </p>\n\n<p>When built, the UpdateNameForm class exists in the classes folder of netbeans project, but when i click run, it <em>deletes</em> the UpdateNameForm classes. </p>\n"},{"tags":["java","ssh","jsch"],"comments":[{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":2,"creation_date":1686951992,"post_id":76493575,"comment_id":134874416,"body_markdown":"It can&#39;t be analyzed without the logs given by jsch which you should post here in order to help. Or you just try jsch fork from https://github.com/mwiede/jsch with a java version of 15 and higher... It solves most of the auth problems people have with old jsch version.","body":"It can&#39;t be analyzed without the logs given by jsch which you should post here in order to help. Or you just try jsch fork from <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">github.com/mwiede/jsch</a> with a java version of 15 and higher... It solves most of the auth problems people have with old jsch version."},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1686952822,"post_id":76493575,"comment_id":134874520,"body_markdown":"Hi @MatthiasWiedemann, I&#39;ve tried updating the dependency and now the message is: com.jcraft.jsch.JSchException: Auth fail for methods &#39;publickey,gssapi-keyex,gssapi-with-mic,password,keyboard-interactive&#39;. How can i add more logging?","body":"Hi @MatthiasWiedemann, I&#39;ve tried updating the dependency and now the message is: com.jcraft.jsch.JSchException: Auth fail for methods &#39;publickey,gssapi-keyex,gssapi-with-mic,password,keyboard-in&zwnj;&#8203;teractive&#39;. How can i add more logging?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686954982,"post_id":76493575,"comment_id":134874759,"body_markdown":"Does your key have a passphrase? If so, you should pass it with `addIdentity`","body":"Does your key have a passphrase? If so, you should pass it with <code>addIdentity</code>"},{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":0,"creation_date":1686992160,"post_id":76493575,"comment_id":134877049,"body_markdown":"Use Jsch.setLogger(), either your own implementation of com.jcraft.jsch.Logger, or by using one of the provided loggers (JplLogger, JulLogger, Log4j2Logger or Slf4jLogger).","body":"Use Jsch.setLogger(), either your own implementation of com.jcraft.jsch.Logger, or by using one of the provided loggers (JplLogger, JulLogger, Log4j2Logger or Slf4jLogger)."},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1686992336,"post_id":76493575,"comment_id":134877072,"body_markdown":"Hi @g00se, the private key hasn&#39;t got a passphrase","body":"Hi @g00se, the private key hasn&#39;t got a passphrase"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1686994372,"post_id":76493575,"comment_id":134877235,"body_markdown":"@MatthiasWiedemann here are logs: `DEBUG: PubkeyAcceptedAlgorithms = ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256\nDEBUG: Signature algorithms unavailable for non-agent identities = [ssh-ed25519, ssh-ed448]\nDEBUG: PubkeyAcceptedAlgorithms in server-sig-algs = [rsa-sha2-512, rsa-sha2-256]\nDEBUG: PubkeyAcceptedAlgorithms not in server-sig-algs = [ssh-ed25519, ecdsa-sha2-nistp256, ecdsa-sha2-nistp384, ecdsa-sha2-nistp521]`","body":"@MatthiasWiedemann here are logs: <code>DEBUG: PubkeyAcceptedAlgorithms = ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sh&zwnj;&#8203;a2-nistp521,rsa-sha2&zwnj;&#8203;-512,rsa-sha2-256 DEBUG: Signature algorithms unavailable for non-agent identities = [ssh-ed25519, ssh-ed448] DEBUG: PubkeyAcceptedAlgorithms in server-sig-algs = [rsa-sha2-512, rsa-sha2-256] DEBUG: PubkeyAcceptedAlgorithms not in server-sig-algs = [ssh-ed25519, ecdsa-sha2-nistp256, ecdsa-sha2-nistp384, ecdsa-sha2-nistp521]</code>"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1686994404,"post_id":76493575,"comment_id":134877238,"body_markdown":"`DEBUG: rsa-sha2-512 preauth failure\nDEBUG: rsa-sha2-256 preauth failure\nDEBUG: ssh-rsa cannot be used as public key type for identity /home/XXXXXXX/.ssh/id_rsa\nINFO: Disconnecting from XXXXXXX port 22\ncom.jcraft.jsch.JSchException: Auth fail for methods &#39;publickey,gssapi-keyex,gssapi-with-mic,password,keyboard-interactive&#39;\n        at com.jcraft.jsch.Session.connect(Session.java:499)\n        at FlashcopyOrchestrator.RunRemoteScript.main(RunRemoteScript.java:40)`","body":"<code>DEBUG: rsa-sha2-512 preauth failure DEBUG: rsa-sha2-256 preauth failure DEBUG: ssh-rsa cannot be used as public key type for identity &#47;home&#47;XXXXXXX&#47;.ssh&#47;id_rsa INFO: Disconnecting from XXXXXXX port 22 com.jcraft.jsch.JSchException: Auth fail for methods &#39;publickey,gssapi-keyex,gssapi-with-mic,password,keyboard-in&zwnj;&#8203;teractive&#39;         at com.jcraft.jsch.Session.connect(Session.java:499)         at FlashcopyOrchestrator.RunRemoteScript.main(RunRemoteScript.j&zwnj;&#8203;ava:40)</code>"},{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":1,"creation_date":1687000301,"post_id":76493575,"comment_id":134877839,"body_markdown":"As per readme jsch fork has disabled ssh-rsa by default. To reactivate JSch.setConfig(&quot;server_host_key&quot;, JSch.getConfig(&quot;server_host_key&quot;) + &quot;,ssh-rsa&quot;) + JSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, JSch.getConfig(&quot;PubkeyAcceptedAlgorithms&quot;) + &quot;,ssh-rsa&quot;)","body":"As per readme jsch fork has disabled ssh-rsa by default. To reactivate JSch.setConfig(&quot;server_host_key&quot;, JSch.getConfig(&quot;server_host_key&quot;) + &quot;,ssh-rsa&quot;) + JSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, JSch.getConfig(&quot;PubkeyAcceptedAlgorithms&quot;) + &quot;,ssh-rsa&quot;)"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1687079687,"post_id":76493575,"comment_id":134884601,"body_markdown":"Hi @MatthiasWiedemann, now with adding your line I&#39;ve got this error: DEBUG: rsa-sha2-512 preauth failure\nDEBUG: rsa-sha2-256 preauth failure\nDEBUG: ssh-rsa preauth failure\nINFO: Disconnecting from XXXXXXX port 22","body":"Hi @MatthiasWiedemann, now with adding your line I&#39;ve got this error: DEBUG: rsa-sha2-512 preauth failure DEBUG: rsa-sha2-256 preauth failure DEBUG: ssh-rsa preauth failure INFO: Disconnecting from XXXXXXX port 22"},{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":0,"creation_date":1687107901,"post_id":76493575,"comment_id":134887555,"body_markdown":"Which java version are u using? Bouncy castle on classpath?","body":"Which java version are u using? Bouncy castle on classpath?"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1687119098,"post_id":76493575,"comment_id":134888807,"body_markdown":"@MatthiasWiedemann the java version is, &quot;java version &quot;11.0.17&quot; 2022-10-18 for IBM i&quot;. I&#39;ve set the classpath as ENVVVAR, the dependdency are all into the jar file","body":"@MatthiasWiedemann the java version is, &quot;java version &quot;11.0.17&quot; 2022-10-18 for IBM i&quot;. I&#39;ve set the classpath as ENVVVAR, the dependdency are all into the jar file"},{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":1,"creation_date":1687160842,"post_id":76493575,"comment_id":134892617,"body_markdown":"as per readme, certain algorithms require at least java 15 or bouncycastle on classpath.  Can you please update the question with your full log?","body":"as per readme, certain algorithms require at least java 15 or bouncycastle on classpath.  Can you please update the question with your full log?"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1687162124,"post_id":76493575,"comment_id":134892879,"body_markdown":"Hi @MatthiasWiedemann I&#39;&#236;ve uploaded the full log","body":"Hi @MatthiasWiedemann I&#39;&#236;ve uploaded the full log"}],"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687162074,"creation_date":1686949479,"question_id":76493575,"body_markdown":"I&#39;m trying to create a ssh client in java in order to run remote command on an appliance.\r\nWith Username/Password authentication I havent&#39; problem, it works fine, but with Public Key Auth it don&#39;t works. It returns me: &quot;com.jcraft.jsch.JSchException: Auth fail at com.jcraft.jsch.Session.connect(Session.java:519)&quot;. Autentication whith command ssh in shell works fine so it isn&#39;t a key problem.\r\nThe dependency that I&#39;ve installed is: com.jcraft jsch 0.1.55\r\n\r\n     String remoteShellScript = &quot;vtmenu&quot;;\r\n    \r\n     Session jschSession = null;\r\n    \r\n     try {\r\n    \r\n                JSch jsch = new JSch();\r\n                jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\r\n                jsch.addIdentity(&quot;/home/ZZZZZZ/.ssh/id_rsa&quot;);\r\n                jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\r\n                jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    \r\n                jschSession.connect(SESSION_TIMEOUT);\r\n\r\n\r\nEDIT: (full log)\r\n\r\n    INFO: Connecting to XXXXXX port 22\r\n    INFO: Connection established\r\n    INFO: Remote version string: SSH-2.0-OpenSSH_7.4\r\n    INFO: Local version string: SSH-2.0-JSCH_0.2.9\r\n    INFO: CheckCiphers: chacha20-poly1305@openssh.com\r\n    INFO: CheckKexes: curve25519-sha256,curve25519-sha256@libssh.org,curve448-sha512\r\n    INFO: curve25519-sha256 is not available.\r\n    INFO: curve25519-sha256@libssh.org is not available.\r\n    INFO: curve448-sha512 is not available.\r\n    DEBUG: kex proposal before removing unavailable algos is: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\n    DEBUG: kex proposal after removing unavailable algos is: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\n    INFO: CheckSignatures: ssh-ed25519,ssh-ed448\r\n    INFO: ssh-ed25519 is not available.\r\n    INFO: ssh-ed448 is not available.\r\n    DEBUG: server_host_key proposal before removing unavailable algos is: ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\r\n    DEBUG: server_host_key proposal after removing unavailable algos is: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\r\n    DEBUG: server_host_key proposal before known_host reordering is: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\r\n    DEBUG: server_host_key proposal after known_host reordering is: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\r\n    INFO: SSH_MSG_KEXINIT sent\r\n    INFO: SSH_MSG_KEXINIT received\r\n    INFO: server proposal: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\n    INFO: server proposal: host key algorithms: ssh-rsa,rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\n    INFO: server proposal: ciphers c2s: 3des-cbc,aes128-cbc,aes128-ctr,aes128-gcm@openssh.com,aes192-cbc,aes192-ctr,aes256-cbc,aes256-ctr,aes256-gcm@openssh.com,arcfour,arcfour128,arcfour256\r\n    INFO: server proposal: ciphers s2c: 3des-cbc,aes128-cbc,aes128-ctr,aes128-gcm@openssh.com,aes192-cbc,aes192-ctr,aes256-cbc,aes256-ctr,aes256-gcm@openssh.com,arcfour,arcfour128,arcfour256\r\n    INFO: server proposal: MACs c2s: hmac-ripemd160,hmac-ripemd160-etm@openssh.com,hmac-sha1,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-512-etm@openssh.com,umac-128-etm@openssh.com,umac-128@openssh.com,umac-64-etm@openssh.com,umac-64@openssh.com\r\n    INFO: server proposal: MACs s2c: hmac-ripemd160,hmac-ripemd160-etm@openssh.com,hmac-sha1,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-512-etm@openssh.com,umac-128-etm@openssh.com,umac-128@openssh.com,umac-64-etm@openssh.com,umac-64@openssh.com\r\n    INFO: server proposal: compression c2s: none,zlib@openssh.com\r\n    INFO: server proposal: compression s2c: none,zlib@openssh.com\r\n    INFO: server proposal: languages c2s:\r\n    INFO: server proposal: languages s2c:\r\n    INFO: client proposal: KEX algorithms: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\r\n    INFO: client proposal: host key algorithms: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\r\n    INFO: client proposal: ciphers c2s: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc\r\n    INFO: client proposal: ciphers s2c: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc\r\n    INFO: client proposal: MACs c2s: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n    INFO: client proposal: MACs s2c: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n    INFO: client proposal: compression c2s: none\r\n    INFO: client proposal: compression s2c: none\r\n    INFO: client proposal: languages c2s:\r\n    INFO: client proposal: languages s2c:\r\n    INFO: kex: algorithm: ecdh-sha2-nistp256\r\n    INFO: kex: host key algorithm: ecdsa-sha2-nistp256\r\n    INFO: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256-etm@openssh.com compression: none\r\n    INFO: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256-etm@openssh.com compression: none\r\n    INFO: SSH_MSG_KEX_ECDH_INIT sent\r\n    INFO: expecting SSH_MSG_KEX_ECDH_REPLY\r\n    INFO: ssh_ecdsa_verify: ecdsa-sha2-nistp256 signature true\r\n    WARN: Permanently added &#39;XXXXXXX&#39; (ECDSA) to the list of known hosts.\r\n    INFO: SSH_MSG_NEWKEYS sent\r\n    INFO: SSH_MSG_NEWKEYS received\r\n    INFO: SSH_MSG_SERVICE_REQUEST sent\r\n    INFO: SSH_MSG_EXT_INFO received\r\n    INFO: server-sig-algs=&lt;rsa-sha2-256,rsa-sha2-512&gt;\r\n    INFO: OpenSSH 7.4 detected: adding rsa-sha2-256 &amp; rsa-sha2-512 to server-sig-algs\r\n    INFO: SSH_MSG_SERVICE_ACCEPT received\r\n    INFO: Authentications that can continue: publickey\r\n    INFO: Next authentication method: publickey\r\n    DEBUG: PubkeyAcceptedAlgorithms = ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\n    DEBUG: Signature algorithms unavailable for non-agent identities = [ssh-ed25519, ssh-ed448]\r\n    DEBUG: PubkeyAcceptedAlgorithms in server-sig-algs = [rsa-sha2-512, rsa-sha2-256]\r\n    DEBUG: PubkeyAcceptedAlgorithms not in server-sig-algs = [ssh-ed25519, ecdsa-sha2-nistp256, ecdsa-sha2-nistp384, ecdsa-sha2-nistp521, ssh-rsa]\r\n    DEBUG: rsa-sha2-512 preauth failure\r\n    DEBUG: rsa-sha2-256 preauth failure\r\n    DEBUG: ssh-rsa preauth failure\r\n    INFO: Disconnecting from XXXXXX port 22\r\n    com.jcraft.jsch.JSchException: Auth fail for methods &#39;publickey,gssapi-keyex,gssapi-with-mic,password,keyboard-interactive&#39;\r\n            at com.jcraft.jsch.Session.connect(Session.java:499)\r\n            at FlashcopyOrchestrator.RunRemoteScript.main(RunRemoteScript.java:44)","title":"com.jcraft.jsch.JSchException: Auth fail whith public key authentication","body":"<p>I'm trying to create a ssh client in java in order to run remote command on an appliance.\nWith Username/Password authentication I havent' problem, it works fine, but with Public Key Auth it don't works. It returns me: &quot;com.jcraft.jsch.JSchException: Auth fail at com.jcraft.jsch.Session.connect(Session.java:519)&quot;. Autentication whith command ssh in shell works fine so it isn't a key problem.\nThe dependency that I've installed is: com.jcraft jsch 0.1.55</p>\n<pre><code> String remoteShellScript = &quot;vtmenu&quot;;\n\n Session jschSession = null;\n\n try {\n\n            JSch jsch = new JSch();\n            jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\n            jsch.addIdentity(&quot;/home/ZZZZZZ/.ssh/id_rsa&quot;);\n            jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\n            jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n\n            jschSession.connect(SESSION_TIMEOUT);\n</code></pre>\n<p>EDIT: (full log)</p>\n<pre><code>INFO: Connecting to XXXXXX port 22\nINFO: Connection established\nINFO: Remote version string: SSH-2.0-OpenSSH_7.4\nINFO: Local version string: SSH-2.0-JSCH_0.2.9\nINFO: CheckCiphers: chacha20-poly1305@openssh.com\nINFO: CheckKexes: curve25519-sha256,curve25519-sha256@libssh.org,curve448-sha512\nINFO: curve25519-sha256 is not available.\nINFO: curve25519-sha256@libssh.org is not available.\nINFO: curve448-sha512 is not available.\nDEBUG: kex proposal before removing unavailable algos is: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\nDEBUG: kex proposal after removing unavailable algos is: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\nINFO: CheckSignatures: ssh-ed25519,ssh-ed448\nINFO: ssh-ed25519 is not available.\nINFO: ssh-ed448 is not available.\nDEBUG: server_host_key proposal before removing unavailable algos is: ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\nDEBUG: server_host_key proposal after removing unavailable algos is: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\nDEBUG: server_host_key proposal before known_host reordering is: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\nDEBUG: server_host_key proposal after known_host reordering is: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: server proposal: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\nINFO: server proposal: host key algorithms: ssh-rsa,rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\nINFO: server proposal: ciphers c2s: 3des-cbc,aes128-cbc,aes128-ctr,aes128-gcm@openssh.com,aes192-cbc,aes192-ctr,aes256-cbc,aes256-ctr,aes256-gcm@openssh.com,arcfour,arcfour128,arcfour256\nINFO: server proposal: ciphers s2c: 3des-cbc,aes128-cbc,aes128-ctr,aes128-gcm@openssh.com,aes192-cbc,aes192-ctr,aes256-cbc,aes256-ctr,aes256-gcm@openssh.com,arcfour,arcfour128,arcfour256\nINFO: server proposal: MACs c2s: hmac-ripemd160,hmac-ripemd160-etm@openssh.com,hmac-sha1,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-512-etm@openssh.com,umac-128-etm@openssh.com,umac-128@openssh.com,umac-64-etm@openssh.com,umac-64@openssh.com\nINFO: server proposal: MACs s2c: hmac-ripemd160,hmac-ripemd160-etm@openssh.com,hmac-sha1,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-512-etm@openssh.com,umac-128-etm@openssh.com,umac-128@openssh.com,umac-64-etm@openssh.com,umac-64@openssh.com\nINFO: server proposal: compression c2s: none,zlib@openssh.com\nINFO: server proposal: compression s2c: none,zlib@openssh.com\nINFO: server proposal: languages c2s:\nINFO: server proposal: languages s2c:\nINFO: client proposal: KEX algorithms: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\nINFO: client proposal: host key algorithms: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa, ssh-dss\nINFO: client proposal: ciphers c2s: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc\nINFO: client proposal: ciphers s2c: aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,aes128-cbc\nINFO: client proposal: MACs c2s: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: client proposal: MACs s2c: hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: client proposal: compression c2s: none\nINFO: client proposal: compression s2c: none\nINFO: client proposal: languages c2s:\nINFO: client proposal: languages s2c:\nINFO: kex: algorithm: ecdh-sha2-nistp256\nINFO: kex: host key algorithm: ecdsa-sha2-nistp256\nINFO: kex: server-&gt;client cipher: aes128-ctr MAC: hmac-sha2-256-etm@openssh.com compression: none\nINFO: kex: client-&gt;server cipher: aes128-ctr MAC: hmac-sha2-256-etm@openssh.com compression: none\nINFO: SSH_MSG_KEX_ECDH_INIT sent\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\nINFO: ssh_ecdsa_verify: ecdsa-sha2-nistp256 signature true\nWARN: Permanently added 'XXXXXXX' (ECDSA) to the list of known hosts.\nINFO: SSH_MSG_NEWKEYS sent\nINFO: SSH_MSG_NEWKEYS received\nINFO: SSH_MSG_SERVICE_REQUEST sent\nINFO: SSH_MSG_EXT_INFO received\nINFO: server-sig-algs=&lt;rsa-sha2-256,rsa-sha2-512&gt;\nINFO: OpenSSH 7.4 detected: adding rsa-sha2-256 &amp; rsa-sha2-512 to server-sig-algs\nINFO: SSH_MSG_SERVICE_ACCEPT received\nINFO: Authentications that can continue: publickey\nINFO: Next authentication method: publickey\nDEBUG: PubkeyAcceptedAlgorithms = ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-512,rsa-sha2-256,ssh-rsa\nDEBUG: Signature algorithms unavailable for non-agent identities = [ssh-ed25519, ssh-ed448]\nDEBUG: PubkeyAcceptedAlgorithms in server-sig-algs = [rsa-sha2-512, rsa-sha2-256]\nDEBUG: PubkeyAcceptedAlgorithms not in server-sig-algs = [ssh-ed25519, ecdsa-sha2-nistp256, ecdsa-sha2-nistp384, ecdsa-sha2-nistp521, ssh-rsa]\nDEBUG: rsa-sha2-512 preauth failure\nDEBUG: rsa-sha2-256 preauth failure\nDEBUG: ssh-rsa preauth failure\nINFO: Disconnecting from XXXXXX port 22\ncom.jcraft.jsch.JSchException: Auth fail for methods 'publickey,gssapi-keyex,gssapi-with-mic,password,keyboard-interactive'\n        at com.jcraft.jsch.Session.connect(Session.java:499)\n        at FlashcopyOrchestrator.RunRemoteScript.main(RunRemoteScript.java:44)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","templates","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19357,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1560782453,"creation_date":1560782453,"answer_id":56633607,"question_id":56632680,"body_markdown":"See the documentation for the [textual template mode][1].  An example if might look like:\r\n\r\n    [# th:if=&quot;${condition}&quot; th:text=&quot;${item}&quot; /]\r\n\r\nOr\r\n\r\n    [# th:if=&quot;${condition}&quot;][(${imageNameLabel})][/]\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#textual-template-modes","title":"Spring Boot - Thymeleaf and Json Templates","body":"<p>See the documentation for the <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#textual-template-modes\" rel=\"noreferrer\">textual template mode</a>.  An example if might look like:</p>\n\n<pre><code>[# th:if=\"${condition}\" th:text=\"${item}\" /]\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>[# th:if=\"${condition}\"][(${imageNameLabel})][/]\n</code></pre>\n"}],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6234,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":56633607,"answer_count":1,"score":2,"last_activity_date":1687162068,"creation_date":1560779272,"question_id":56632680,"body_markdown":"I am using Spring Boot 2.1.5.RELEASE and want to use Thymeleaf to generate JSON template files.\r\n\r\nHere is an example of one of the files I currently have:\r\n\r\n     {\r\n      &quot;apiVersion&quot;: &quot;apps/v1&quot;,\r\n      &quot;kind&quot;: &quot;Deployment&quot;,\r\n      &quot;metadata&quot;: {\r\n        &quot;labels&quot;: {\r\n          &quot;run&quot;: &quot;[( ${imageNameLabel} )]&quot;\r\n        },\r\n        &quot;name&quot;: &quot;[( ${imageNameLabel} )]&quot;\r\n      },\r\n      &quot;spec&quot;: {\r\n        &quot;replicas&quot;: [( ${replicas} )],\r\n        &quot;selector&quot;: {\r\n          &quot;matchLabels&quot;: {\r\n            &quot;run&quot;: &quot;[( ${imageNameLabel} )]&quot;\r\n          }\r\n        },\r\n        &quot;template&quot;: {\r\n          &quot;metadata&quot;: {\r\n            &quot;labels&quot;: {\r\n              &quot;run&quot;: &quot;[( ${imageNameLabel} )]&quot;\r\n            }\r\n          },\r\n          &quot;spec&quot;: {\r\n            &quot;containers&quot;: [\r\n              {\r\n                &quot;image&quot;: &quot;[( ${imageName} )]:[( ${imageVersion} )]&quot;,\r\n                &quot;name&quot;: &quot;[( ${imageNameLabel} )]&quot;,\r\n                &quot;env&quot;: [( ${credentials} )],\r\n                &quot;volumeMounts&quot;: [\r\n                                {\r\n                                    &quot;mountPath&quot;: &quot;/etc/foo&quot;,\r\n                                    &quot;name&quot;: &quot;[( ${imageNameLabel} )]&quot;,\r\n                                    &quot;readOnly&quot;: true\r\n                                }\r\n                            ]\r\n              }\r\n            ],\r\n            &quot;volumes&quot;: [\r\n                        {\r\n                            &quot;name&quot;: &quot;[( ${imageNameLabel} )]&quot;,\r\n                            &quot;secret&quot;: {\r\n                                &quot;secretName&quot;: &quot;[( ${imageNameLabel} )]&quot;\r\n                            }\r\n                        }\r\n                    ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nI want to put conditional logic into this file.\r\nIs this possible with Thymeleaf or is there another templating technology I should be looking at?","title":"Spring Boot - Thymeleaf and Json Templates","body":"<p>I am using Spring Boot 2.1.5.RELEASE and want to use Thymeleaf to generate JSON template files.</p>\n<p>Here is an example of one of the files I currently have:</p>\n<pre><code> {\n  &quot;apiVersion&quot;: &quot;apps/v1&quot;,\n  &quot;kind&quot;: &quot;Deployment&quot;,\n  &quot;metadata&quot;: {\n    &quot;labels&quot;: {\n      &quot;run&quot;: &quot;[( ${imageNameLabel} )]&quot;\n    },\n    &quot;name&quot;: &quot;[( ${imageNameLabel} )]&quot;\n  },\n  &quot;spec&quot;: {\n    &quot;replicas&quot;: [( ${replicas} )],\n    &quot;selector&quot;: {\n      &quot;matchLabels&quot;: {\n        &quot;run&quot;: &quot;[( ${imageNameLabel} )]&quot;\n      }\n    },\n    &quot;template&quot;: {\n      &quot;metadata&quot;: {\n        &quot;labels&quot;: {\n          &quot;run&quot;: &quot;[( ${imageNameLabel} )]&quot;\n        }\n      },\n      &quot;spec&quot;: {\n        &quot;containers&quot;: [\n          {\n            &quot;image&quot;: &quot;[( ${imageName} )]:[( ${imageVersion} )]&quot;,\n            &quot;name&quot;: &quot;[( ${imageNameLabel} )]&quot;,\n            &quot;env&quot;: [( ${credentials} )],\n            &quot;volumeMounts&quot;: [\n                            {\n                                &quot;mountPath&quot;: &quot;/etc/foo&quot;,\n                                &quot;name&quot;: &quot;[( ${imageNameLabel} )]&quot;,\n                                &quot;readOnly&quot;: true\n                            }\n                        ]\n          }\n        ],\n        &quot;volumes&quot;: [\n                    {\n                        &quot;name&quot;: &quot;[( ${imageNameLabel} )]&quot;,\n                        &quot;secret&quot;: {\n                            &quot;secretName&quot;: &quot;[( ${imageNameLabel} )]&quot;\n                        }\n                    }\n                ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>I want to put conditional logic into this file.\nIs this possible with Thymeleaf or is there another templating technology I should be looking at?</p>\n"},{"tags":["java","soap"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687072075,"post_id":76497265,"comment_id":134883856,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":11650380,"reputation":1,"user_id":8531878,"display_name":"kalyani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687161524,"creation_date":1687021363,"question_id":76497265,"body_markdown":"I want to call a HTTPS SOAP web service with sslFactory. I have used below code.\r\n~~~\r\nHttpsURLConnection.setDefaultSslFactory (sslFactory);\r\nHttpURLConnection.setDefaultHostVerifiers(hostVerifier).\r\n~~~\r\nIt&#39;s working but other HTTPS APIs are not calling so my application is not running because of this as it is static method. So I alternatively tried to use `HttpsURLConnection con = url.openConnection();`  \r\nCan anyone give a proper solution to call a SOAP service with HTTPS.\r\n","title":"Call HTTPS SOAP service","body":"<p>I want to call a HTTPS SOAP web service with sslFactory. I have used below code.</p>\n<pre><code>HttpsURLConnection.setDefaultSslFactory (sslFactory);\nHttpURLConnection.setDefaultHostVerifiers(hostVerifier).\n</code></pre>\n<p>It's working but other HTTPS APIs are not calling so my application is not running because of this as it is static method. So I alternatively tried to use <code>HttpsURLConnection con = url.openConnection();</code><br />\nCan anyone give a proper solution to call a SOAP service with HTTPS.</p>\n"},{"tags":["java","command-line","cross-platform","case-sensitive","conventions"],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1434357757,"creation_date":1434357757,"answer_id":30840807,"question_id":30840745,"body_markdown":"[Apache Commons CLI][1] has a description of the commonly used convention.  it is also a good parser for such use cases \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-cli/","title":"Are there any naming conventions for command line arguments?","body":"<p><a href=\"https://commons.apache.org/proper/commons-cli/\" rel=\"noreferrer\">Apache Commons CLI</a> has a description of the commonly used convention.  it is also a good parser for such use cases </p>\n"},{"tags":[],"owner":{"account_id":4066807,"reputation":178,"user_id":3447831,"accept_rate":54,"display_name":"Nagarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434357834,"creation_date":1434357834,"answer_id":30840828,"question_id":30840745,"body_markdown":"I work mostly on linux, but the usual is\r\n\r\n    app -&lt;option1&gt; &lt;option1 value&gt; -&lt;option2&gt; &lt;option2 value&gt; -&lt;option2&gt; &lt;option3 value&gt; \r\n\r\nIf every option has a value or parameter to pass\r\n\r\n    myapp -o1 aSwitch -o2 anotherSwitch -o3 aThirdSwitch","title":"Are there any naming conventions for command line arguments?","body":"<p>I work mostly on linux, but the usual is</p>\n\n<pre><code>app -&lt;option1&gt; &lt;option1 value&gt; -&lt;option2&gt; &lt;option2 value&gt; -&lt;option2&gt; &lt;option3 value&gt; \n</code></pre>\n\n<p>If every option has a value or parameter to pass</p>\n\n<pre><code>myapp -o1 aSwitch -o2 anotherSwitch -o3 aThirdSwitch\n</code></pre>\n"}],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11471,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":30840807,"answer_count":2,"score":19,"last_activity_date":1687161235,"creation_date":1434357547,"question_id":30840745,"body_markdown":"I&#39;m reviewing a command line driven Java application with command line switches in lower camel case like this:\r\n\r\n    myapp aSwitch anotherSwitch aThirdSwitch\r\n\r\nAm thinking all lower case and leading hyphens may be preferable:\r\n\r\n    myapp -aswitch -anotherswitch -athirdswitch\r\n\r\n...or perhaps:\r\n    \r\n    myapp -a-switch -another-switch -a-third-switch\r\n\r\n... or maybe:\r\n\r\n    myapp --a-switch --another-switch --a-third-switch\r\n\r\n...but struggling to come up with a compelling justification. Would like to follow current conventions and be cross-platform compatible, at least for Windows/Linux.\r\n\r\nSeeking some advice on what is the most commonly used convention out of these - and any reasoning behind it.\r\n","title":"Are there any naming conventions for command line arguments?","body":"<p>I'm reviewing a command line driven Java application with command line switches in lower camel case like this:</p>\n<pre><code>myapp aSwitch anotherSwitch aThirdSwitch\n</code></pre>\n<p>Am thinking all lower case and leading hyphens may be preferable:</p>\n<pre><code>myapp -aswitch -anotherswitch -athirdswitch\n</code></pre>\n<p>...or perhaps:</p>\n<pre><code>myapp -a-switch -another-switch -a-third-switch\n</code></pre>\n<p>... or maybe:</p>\n<pre><code>myapp --a-switch --another-switch --a-third-switch\n</code></pre>\n<p>...but struggling to come up with a compelling justification. Would like to follow current conventions and be cross-platform compatible, at least for Windows/Linux.</p>\n<p>Seeking some advice on what is the most commonly used convention out of these - and any reasoning behind it.</p>\n"},{"tags":["java","audio","clip"],"answers":[{"tags":[],"owner":{"account_id":19928682,"reputation":410,"user_id":14602745,"display_name":"JPlusPlus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687120835,"creation_date":1687120835,"answer_id":76502457,"question_id":76502297,"body_markdown":"The `clip.open` method takes in an argument of `AudioInputStream`, however in your `playSound` method you supply it a `BufferedInputStream`, instead use the `AudioSystem.getAudioInputStream` method (which can take in File, InputStream, URL, and other useful types), in place of your `BufferedInputStream`.\r\n\r\n[Clip.open Documentation](https://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/Clip.html#open-javax.sound.sampled.AudioInputStream-)\r\n\r\n[AudioSystem.getAudioInputStream Documentation](https://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream-java.io.File-)\r\n\r\nHere&#39;s an example of some working code:\r\n```java\r\npublic static void playSound(String path) {\r\n        logger.info(&quot;Playing &quot; + path);\r\n        try {\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(AudioSystem.getAudioInputStream(new File(path)));\r\n            clip.start();\r\n        } catch(LineUnavailableException | UnsupportedAudioFileException | IOException e) {\r\n            System.err.println(&quot;error while playing &quot; + path);\r\n            e.printStackTrace();\r\n        }\r\n}\r\n```\r\n\r\nAlso, I know you considered caching the files by using a `ByteArrayInputStream`, however that still introduces the overhead of creating a new `Clip` each time you play the sound. Instead I&#39;d recommend initializing a `Clip` object for every sound you have and passing that into the `playSound` method, you can then call `clip.setFramePosition(0)` and `clip.start()` to reset and play the sound again.","title":"javax.sound.sampled.Clip in Java stops working after a while","body":"<p>The <code>clip.open</code> method takes in an argument of <code>AudioInputStream</code>, however in your <code>playSound</code> method you supply it a <code>BufferedInputStream</code>, instead use the <code>AudioSystem.getAudioInputStream</code> method (which can take in File, InputStream, URL, and other useful types), in place of your <code>BufferedInputStream</code>.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/Clip.html#open-javax.sound.sampled.AudioInputStream-\" rel=\"nofollow noreferrer\">Clip.open Documentation</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream-java.io.File-\" rel=\"nofollow noreferrer\">AudioSystem.getAudioInputStream Documentation</a></p>\n<p>Here's an example of some working code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void playSound(String path) {\n        logger.info(&quot;Playing &quot; + path);\n        try {\n            Clip clip = AudioSystem.getClip();\n            clip.open(AudioSystem.getAudioInputStream(new File(path)));\n            clip.start();\n        } catch(LineUnavailableException | UnsupportedAudioFileException | IOException e) {\n            System.err.println(&quot;error while playing &quot; + path);\n            e.printStackTrace();\n        }\n}\n</code></pre>\n<p>Also, I know you considered caching the files by using a <code>ByteArrayInputStream</code>, however that still introduces the overhead of creating a new <code>Clip</code> each time you play the sound. Instead I'd recommend initializing a <code>Clip</code> object for every sound you have and passing that into the <code>playSound</code> method, you can then call <code>clip.setFramePosition(0)</code> and <code>clip.start()</code> to reset and play the sound again.</p>\n"}],"owner":{"account_id":21079326,"reputation":161,"user_id":15494000,"display_name":"dVNE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687161209,"creation_date":1687117826,"question_id":76502297,"body_markdown":"I&#39;ve been using Java Clip for a project, but I&#39;ve stumbled into a strange error. The incriminated piece of code is this, which should just play a sound reading it from the file named path\r\n```java\r\n    public static void playSound(String path)\r\n    {\r\n        logger.info(&quot;Playing &quot; + path);\r\n        Clip clip = null;\r\n        try {\r\n            clip = AudioSystem.getClip();\r\n            clip.open(AudioSystem.getAudioInputStream(new BufferedInputStream(path)));\r\n            clip.start();\r\n        } catch (LineUnavailableException e) {\r\n            System.err.println(&quot;error while playing &quot; + path);\r\n            e.printStackTrace();\r\n        } catch (UnsupportedAudioFileException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nIt should play a bunch of files, but clearly something weird happens. As you can see here, it plays successfully some sounds (I can also here them), but, all in a sudden, I get a LineUnavailableException while playing a file (in different runs, the file causing the error changes too), that I&#39;ve already played:\r\n\r\n```\r\n21:35:42.478 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/01 Title Screen.wav\r\n21:35:44.289 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/02 Stage Start.wav\r\n21:35:47.114 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/03 Main BGM.wav\r\n21:35:47.555 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:47.921 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:48.138 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\r\n21:35:48.297 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:48.663 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:49.026 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:49.392 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:50.126 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\r\n21:35:50.448 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\r\n21:35:50.510 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:50.876 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:51.242 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:51.609 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:52.429 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\r\n21:35:53.095 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:53.494 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:53.860 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:54.226 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:54.559 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/03 Main BGM.wav\r\n21:35:54.592 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:54.959 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:55.326 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:55.693 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:56.059 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:56.228 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\r\n21:35:56.426 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:56.792 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:57.159 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:57.675 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:58.125 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:58.225 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\r\n21:35:58.492 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:58.858 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:59.226 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:59.594 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:35:59.960 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\r\n21:35:59.965 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:00.332 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:00.699 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:01.065 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:01.442 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:01.809 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:01.960 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\r\n21:36:02.009 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/03 Main BGM.wav\r\n21:36:02.176 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:02.543 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:02.910 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:03.275 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:03.643 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:04.009 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:04.087 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\r\n21:36:04.376 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:04.776 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:05.142 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:06.009 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:06.075 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\r\n21:36:06.375 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:06.742 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\n21:36:07.131 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\r\nerror while playing sounds/Bomberman SFX horizontal.wav\r\njavax.sound.sampled.LineUnavailableException: line with format PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, little-endian not supported.\r\n        at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectDL.implOpen(DirectAudioDevice.java:484)\r\n        at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectClip.implOpen(DirectAudioDevice.java:1241)\r\n        at java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:115)\r\n        at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectClip.open(DirectAudioDevice.java:1038)\r\n        at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectClip.open(DirectAudioDevice.java:1134)\r\n        at app.jbomberman@1.0-SNAPSHOT/app.jbomberman.audio.AudioPlayer.playSound(AudioPlayer.java:95)\r\n        ... the stack trace ...\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n```\r\n\r\nI&#39;ve of course googled the error, and found out that errors like this can be caused by playing a sound file whose type is not supported by Clip (that&#39;s also what the error is telling me). However, in this case, clip fails when it&#39;s trying to play a sound that has already been played (so I know its type is supported). Might this be due to the fact that I&#39;m playing too many sounds (some of which last only 0.5s) in too short time intervals (two sounds per seconds)? What could be the cause?\r\n\r\nI&#39;m running my app with OpenJDK 20 on a linux (Ubuntu) Workstation, if that might help.\r\n\r\nThanks in advance for your help!\r\n\r\nBTW I&#39;ve tried also to cache the files that I play (to avoid opening too many files), loading them only once, and providing clip.open() with a ByteArrayInputStream, without much success.","title":"javax.sound.sampled.Clip in Java stops working after a while","body":"<p>I've been using Java Clip for a project, but I've stumbled into a strange error. The incriminated piece of code is this, which should just play a sound reading it from the file named path</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void playSound(String path)\n    {\n        logger.info(&quot;Playing &quot; + path);\n        Clip clip = null;\n        try {\n            clip = AudioSystem.getClip();\n            clip.open(AudioSystem.getAudioInputStream(new BufferedInputStream(path)));\n            clip.start();\n        } catch (LineUnavailableException e) {\n            System.err.println(&quot;error while playing &quot; + path);\n            e.printStackTrace();\n        } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>It should play a bunch of files, but clearly something weird happens. As you can see here, it plays successfully some sounds (I can also here them), but, all in a sudden, I get a LineUnavailableException while playing a file (in different runs, the file causing the error changes too), that I've already played:</p>\n<pre><code>21:35:42.478 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/01 Title Screen.wav\n21:35:44.289 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/02 Stage Start.wav\n21:35:47.114 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/03 Main BGM.wav\n21:35:47.555 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:47.921 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:48.138 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\n21:35:48.297 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:48.663 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:49.026 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:49.392 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:50.126 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\n21:35:50.448 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\n21:35:50.510 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:50.876 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:51.242 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:51.609 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:52.429 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\n21:35:53.095 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:53.494 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:53.860 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:54.226 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:54.559 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/03 Main BGM.wav\n21:35:54.592 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:54.959 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:55.326 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:55.693 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:56.059 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:56.228 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\n21:35:56.426 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:56.792 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:57.159 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:57.675 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:58.125 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:58.225 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\n21:35:58.492 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:58.858 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:59.226 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:59.594 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:35:59.960 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\n21:35:59.965 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:00.332 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:00.699 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:01.065 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:01.442 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:01.809 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:01.960 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\n21:36:02.009 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/03 Main BGM.wav\n21:36:02.176 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:02.543 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:02.910 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:03.275 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:03.643 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:04.009 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:04.087 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX bomb in place.wav\n21:36:04.376 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:04.776 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:05.142 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:06.009 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:06.075 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/explosion.wav\n21:36:06.375 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:06.742 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\n21:36:07.131 [JavaFX Application Thread] INFO  app.jbomberman.audio.AudioPlayer - Playing sounds/Bomberman SFX horizontal.wav\nerror while playing sounds/Bomberman SFX horizontal.wav\njavax.sound.sampled.LineUnavailableException: line with format PCM_SIGNED 44100.0 Hz, 16 bit, stereo, 4 bytes/frame, little-endian not supported.\n        at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectDL.implOpen(DirectAudioDevice.java:484)\n        at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectClip.implOpen(DirectAudioDevice.java:1241)\n        at java.desktop/com.sun.media.sound.AbstractDataLine.open(AbstractDataLine.java:115)\n        at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectClip.open(DirectAudioDevice.java:1038)\n        at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectClip.open(DirectAudioDevice.java:1134)\n        at app.jbomberman@1.0-SNAPSHOT/app.jbomberman.audio.AudioPlayer.playSound(AudioPlayer.java:95)\n        ... the stack trace ...\n        at java.base/java.lang.Thread.run(Thread.java:833)\n\n\n</code></pre>\n<p>I've of course googled the error, and found out that errors like this can be caused by playing a sound file whose type is not supported by Clip (that's also what the error is telling me). However, in this case, clip fails when it's trying to play a sound that has already been played (so I know its type is supported). Might this be due to the fact that I'm playing too many sounds (some of which last only 0.5s) in too short time intervals (two sounds per seconds)? What could be the cause?</p>\n<p>I'm running my app with OpenJDK 20 on a linux (Ubuntu) Workstation, if that might help.</p>\n<p>Thanks in advance for your help!</p>\n<p>BTW I've tried also to cache the files that I play (to avoid opening too many files), loading them only once, and providing clip.open() with a ByteArrayInputStream, without much success.</p>\n"},{"tags":["java","scala","apache-spark","google-cloud-platform","google-cloud-bigtable"],"comments":[{"owner":{"account_id":28332155,"reputation":359,"user_id":21666264,"display_name":"DominicT"},"score":0,"creation_date":1686946868,"post_id":76467988,"comment_id":134873720,"body_markdown":"Can you check this [link](https://github.com/grpc/grpc-java/issues/9152)?","body":"Can you check this <a href=\"https://github.com/grpc/grpc-java/issues/9152\" rel=\"nofollow noreferrer\">link</a>?"},{"owner":{"account_id":8496770,"reputation":152,"user_id":6371154,"display_name":"shril"},"score":0,"creation_date":1687160766,"post_id":76467988,"comment_id":134892598,"body_markdown":"@DominicT this won&#39;t work because I don&#39;t have direct access to make changes in the GRPCChannelBuilder.","body":"@DominicT this won&#39;t work because I don&#39;t have direct access to make changes in the GRPCChannelBuilder."}],"answers":[{"tags":[],"owner":{"account_id":8496770,"reputation":152,"user_id":6371154,"display_name":"shril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687161200,"creation_date":1687161200,"answer_id":76504631,"question_id":76467988,"body_markdown":"Finally, I solved the issue myself. I followed the following steps.\r\n\r\n 1. In the path `src/main/resources`, add `META-INF` directory and inside that folder, add `services` directory.\r\n 2. Inside `src/main/resources/META-INF/services` directory add 2 files, namely, `io.grpc.LoadBalancerProvider` and `io.grpc.NameResolverProvider`.\r\n3. Add the following content to `io.grpc.LoadBalancerProvider` file `io.grpc.internal.PickFirstLoadBalancerProvider`.\r\n4. Add the following content to `io.grpc.internal.NameResolverProvider` file `io.grpc.internal.DnsNameResolverProvider`.\r\n5. Finally make changes to your `build.sbt` as follows.\r\n\r\n```\r\nlibraryDependencies += &quot;io.grpc&quot; % &quot;grpc-netty-shaded&quot; % &quot;1.55.1&quot;\r\n\r\nassemblyShadeRules in assembly := Seq(\r\n  ShadeRule.rename(&quot;com.google.protobuf.**&quot; -&gt; &quot;shade_proto.@1&quot;).inAll,\r\n  ShadeRule.rename(&quot;com.google.common.**&quot; -&gt; &quot;shade_googlecommon.@1&quot;).inAll\r\n)\r\n\r\nassembly / assemblyMergeStrategy := {\r\n  case path if path.contains(&quot;META-INF/services&quot;) =&gt; MergeStrategy.concat\r\n  case PathList(&quot;META-INF&quot;, _*) =&gt; MergeStrategy.discard\r\n  case _ =&gt; MergeStrategy.first\r\n}\r\n```\r\n","title":"Bigtable from Dataproc: Dependency conflict even after shading the jars","body":"<p>Finally, I solved the issue myself. I followed the following steps.</p>\n<ol>\n<li>In the path <code>src/main/resources</code>, add <code>META-INF</code> directory and inside that folder, add <code>services</code> directory.</li>\n<li>Inside <code>src/main/resources/META-INF/services</code> directory add 2 files, namely, <code>io.grpc.LoadBalancerProvider</code> and <code>io.grpc.NameResolverProvider</code>.</li>\n<li>Add the following content to <code>io.grpc.LoadBalancerProvider</code> file <code>io.grpc.internal.PickFirstLoadBalancerProvider</code>.</li>\n<li>Add the following content to <code>io.grpc.internal.NameResolverProvider</code> file <code>io.grpc.internal.DnsNameResolverProvider</code>.</li>\n<li>Finally make changes to your <code>build.sbt</code> as follows.</li>\n</ol>\n<pre><code>libraryDependencies += &quot;io.grpc&quot; % &quot;grpc-netty-shaded&quot; % &quot;1.55.1&quot;\n\nassemblyShadeRules in assembly := Seq(\n  ShadeRule.rename(&quot;com.google.protobuf.**&quot; -&gt; &quot;shade_proto.@1&quot;).inAll,\n  ShadeRule.rename(&quot;com.google.common.**&quot; -&gt; &quot;shade_googlecommon.@1&quot;).inAll\n)\n\nassembly / assemblyMergeStrategy := {\n  case path if path.contains(&quot;META-INF/services&quot;) =&gt; MergeStrategy.concat\n  case PathList(&quot;META-INF&quot;, _*) =&gt; MergeStrategy.discard\n  case _ =&gt; MergeStrategy.first\n}\n</code></pre>\n"}],"owner":{"account_id":8496770,"reputation":152,"user_id":6371154,"display_name":"shril"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76504631,"answer_count":1,"score":0,"last_activity_date":1687161200,"creation_date":1686682966,"question_id":76467988,"body_markdown":"I am trying to run a Spark Application to write and read data to Cloud Bigtable from Dataproc.\r\n\r\nInitially, I got this exception `java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument`. Then came to know that there are some dependency issues from this Google Documentation - [Manage Java and Scala dependencies for Apache Spark][1].\r\n\r\nFollowing the instructions, I changed my `build.sbt` file to shade the jars -\r\n\r\n```\r\nassembly / assemblyShadeRules := Seq(\r\n  ShadeRule.rename(&quot;com.google.common.**&quot; -&gt; &quot;repackaged.com.google.common.@1&quot;).inAll,\r\n  ShadeRule.rename(&quot;com.google.protobuf.**&quot; -&gt; &quot;repackaged.com.google.protobuf.@1&quot;).inAll,\r\n  ShadeRule.rename(&quot;io.grpc.**&quot; -&gt; &quot;repackaged.io.grpc.@1&quot;).inAll\r\n)\r\n```\r\nThen got this error\r\n\r\n```\r\nrepackaged.io.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found. Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded artifact\r\n  at repackaged.io.grpc.ManagedChannelProvider.provider(ManagedChannelProvider.java:45)\r\n  at repackaged.io.grpc.ManagedChannelBuilder.forAddress(ManagedChannelBuilder.java:39)\r\n  at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:353)\r\n  at com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:107)\r\n  at com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:85)\r\n  at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:237)\r\n  at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:231)\r\n  at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\r\n  at com.google.cloud.bigtable.data.v2.stub.EnhancedBigtableStub.create(EnhancedBigtableStub.java:175)\r\n  at com.google.cloud.bigtable.data.v2.BigtableDataClient.create(BigtableDataClient.java:165)\r\n  at com.groupon.crm.BigtableClient$.getDataClient(BigtableClient.scala:59)\r\n  ... 44 elided\r\n```\r\n\r\nFollowing that, I added the dependency of in my `build.sbt` file.\r\n\r\n```\r\nlibraryDependencies += &quot;io.grpc&quot; % &quot;grpc-netty&quot; % &quot;1.49.2&quot;\r\n```\r\nStill, I am getting the same error.\r\n\r\nEnvironment details\r\nDataproc details -\r\n\r\n```\r\n&quot;software_config&quot;: {\r\n      &quot;image_version&quot;: &quot;1.5-debian10&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;dataproc:dataproc.logging.stackdriver.job.driver.enable&quot;: &quot;true&quot;,\r\n        &quot;dataproc:dataproc.logging.stackdriver.enable&quot;: &quot;true&quot;,\r\n        &quot;dataproc:jobs.file-backed-output.enable&quot;: &quot;true&quot;,\r\n        &quot;dataproc:dataproc.logging.stackdriver.job.yarn.container.enable&quot;: &quot;true&quot;,\r\n        &quot;capacity-scheduler:yarn.scheduler.capacity.resource-calculator&quot; : &quot;org.apache.hadoop.yarn.util.resource.DominantResourceCalculator&quot;,\r\n        &quot;hive:hive.server2.materializedviews.cache.at.startup&quot;: &quot;false&quot;,\r\n        &quot;spark:spark.jars&quot;:&quot;XXXX&quot;\r\n      },\r\n      &quot;optional_components&quot;: [&quot;ZEPPELIN&quot;,&quot;ANACONDA&quot;,&quot;JUPYTER&quot;]\r\n    }\r\n```\r\nSpark Job details -\r\n\r\n```\r\nval sparkVersion = &quot;2.4.0&quot;\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % sparkVersion % &quot;provided&quot;\r\nlibraryDependencies +=  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % sparkVersion % &quot;provided&quot;\r\nlibraryDependencies +=  &quot;org.apache.spark&quot; %% &quot;spark-hive&quot; % sparkVersion % &quot;provided&quot;\r\nlibraryDependencies += &quot;com.google.cloud&quot; % &quot;google-cloud-bigtable&quot; % &quot;2.23.1&quot;\r\nlibraryDependencies += &quot;com.google.auth&quot; % &quot;google-auth-library-oauth2-http&quot; % &quot;1.17.0&quot;\r\nlibraryDependencies += &quot;io.grpc&quot; % &quot;grpc-netty&quot; % &quot;1.49.2&quot;\r\n```","title":"Bigtable from Dataproc: Dependency conflict even after shading the jars","body":"<p>I am trying to run a Spark Application to write and read data to Cloud Bigtable from Dataproc.</p>\n<p>Initially, I got this exception <code>java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument</code>. Then came to know that there are some dependency issues from this Google Documentation - [Manage Java and Scala dependencies for Apache Spark][1].</p>\n<p>Following the instructions, I changed my <code>build.sbt</code> file to shade the jars -</p>\n<pre><code>assembly / assemblyShadeRules := Seq(\n  ShadeRule.rename(&quot;com.google.common.**&quot; -&gt; &quot;repackaged.com.google.common.@1&quot;).inAll,\n  ShadeRule.rename(&quot;com.google.protobuf.**&quot; -&gt; &quot;repackaged.com.google.protobuf.@1&quot;).inAll,\n  ShadeRule.rename(&quot;io.grpc.**&quot; -&gt; &quot;repackaged.io.grpc.@1&quot;).inAll\n)\n</code></pre>\n<p>Then got this error</p>\n<pre><code>repackaged.io.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found. Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded artifact\n  at repackaged.io.grpc.ManagedChannelProvider.provider(ManagedChannelProvider.java:45)\n  at repackaged.io.grpc.ManagedChannelBuilder.forAddress(ManagedChannelBuilder.java:39)\n  at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:353)\n  at com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:107)\n  at com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:85)\n  at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:237)\n  at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:231)\n  at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\n  at com.google.cloud.bigtable.data.v2.stub.EnhancedBigtableStub.create(EnhancedBigtableStub.java:175)\n  at com.google.cloud.bigtable.data.v2.BigtableDataClient.create(BigtableDataClient.java:165)\n  at com.groupon.crm.BigtableClient$.getDataClient(BigtableClient.scala:59)\n  ... 44 elided\n</code></pre>\n<p>Following that, I added the dependency of in my <code>build.sbt</code> file.</p>\n<pre><code>libraryDependencies += &quot;io.grpc&quot; % &quot;grpc-netty&quot; % &quot;1.49.2&quot;\n</code></pre>\n<p>Still, I am getting the same error.</p>\n<p>Environment details\nDataproc details -</p>\n<pre><code>&quot;software_config&quot;: {\n      &quot;image_version&quot;: &quot;1.5-debian10&quot;,\n      &quot;properties&quot;: {\n        &quot;dataproc:dataproc.logging.stackdriver.job.driver.enable&quot;: &quot;true&quot;,\n        &quot;dataproc:dataproc.logging.stackdriver.enable&quot;: &quot;true&quot;,\n        &quot;dataproc:jobs.file-backed-output.enable&quot;: &quot;true&quot;,\n        &quot;dataproc:dataproc.logging.stackdriver.job.yarn.container.enable&quot;: &quot;true&quot;,\n        &quot;capacity-scheduler:yarn.scheduler.capacity.resource-calculator&quot; : &quot;org.apache.hadoop.yarn.util.resource.DominantResourceCalculator&quot;,\n        &quot;hive:hive.server2.materializedviews.cache.at.startup&quot;: &quot;false&quot;,\n        &quot;spark:spark.jars&quot;:&quot;XXXX&quot;\n      },\n      &quot;optional_components&quot;: [&quot;ZEPPELIN&quot;,&quot;ANACONDA&quot;,&quot;JUPYTER&quot;]\n    }\n</code></pre>\n<p>Spark Job details -</p>\n<pre><code>val sparkVersion = &quot;2.4.0&quot;\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % sparkVersion % &quot;provided&quot;\nlibraryDependencies +=  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % sparkVersion % &quot;provided&quot;\nlibraryDependencies +=  &quot;org.apache.spark&quot; %% &quot;spark-hive&quot; % sparkVersion % &quot;provided&quot;\nlibraryDependencies += &quot;com.google.cloud&quot; % &quot;google-cloud-bigtable&quot; % &quot;2.23.1&quot;\nlibraryDependencies += &quot;com.google.auth&quot; % &quot;google-auth-library-oauth2-http&quot; % &quot;1.17.0&quot;\nlibraryDependencies += &quot;io.grpc&quot; % &quot;grpc-netty&quot; % &quot;1.49.2&quot;\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1522404858,"post_id":49572505,"comment_id":86152422,"body_markdown":"&quot;fromJson() does seem to detect invalid  ...&quot; -- does or doesn&#39;t? What would you want to happen if the enum is invalid?","body":"&quot;fromJson() does seem to detect invalid  ...&quot; -- does or doesn&#39;t? What would you want to happen if the enum is invalid?"},{"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"score":0,"creation_date":1522406042,"post_id":49572505,"comment_id":86153036,"body_markdown":"Ideally it would throw an exception saying that the provided enum value is not valid.","body":"Ideally it would throw an exception saying that the provided enum value is not valid."}],"answers":[{"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1522411103,"creation_date":1522411103,"answer_id":49574019,"question_id":49572505,"body_markdown":"As of version 2.8.2, Gson does not support such a use case.\r\nI believe it&#39;s worthy to be submitted as a suggestion to the Gson development team as a special `GsonBuilder` configuration method.\r\nThe most you can do now is writing a custom enum type adapter that almost duplicates `com.google.gson.internal.bind.EnumTypeAdapter` functionality but adds the name check.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tfinal class StrictEnumTypeAdapterFactory\r\n\t\t\timplements TypeAdapterFactory {\r\n\r\n\t\tprivate static final TypeAdapterFactory allStrictEnumTypeAdapterFactory = new StrictEnumTypeAdapterFactory(enumClass -&gt; true);\r\n\r\n\t\tprivate final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass;\r\n\r\n\t\tprivate StrictEnumTypeAdapterFactory(final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass) {\r\n\t\t\tthis.isStrictEnumClass = isStrictEnumClass;\r\n\t\t}\r\n\r\n\t\tstatic TypeAdapterFactory get(final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass) {\r\n\t\t\treturn new StrictEnumTypeAdapterFactory(isStrictEnumClass);\r\n\t\t}\r\n\r\n\t\tstatic TypeAdapterFactory get() {\r\n\t\t\treturn allStrictEnumTypeAdapterFactory;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n\t\t\tfinal Class&lt;? super T&gt; rawType = typeToken.getRawType();\r\n\t\t\t// Skip non-enums\r\n\t\t\tif ( !Enum.class.isAssignableFrom(rawType) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t// Check if the enum is supported by the &quot;strict&quot; policy\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tfinal Class&lt;? extends Enum&lt;?&gt;&gt; enumRawType = (Class&lt;? extends Enum&lt;?&gt;&gt;) rawType;\r\n\t\t\tif ( !isStrictEnumClass.test(enumRawType) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t// Trivial rawtypes/unchecked casts\r\n\t\t\t@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n\t\t\tfinal TypeAdapter&lt;? extends Enum&lt;?&gt;&gt; strictEnumTypeAdapter = StrictEnumTypeAdapter.get((Class) enumRawType);\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tfinal TypeAdapter&lt;T&gt; castTypeAdapter = (TypeAdapter&lt;T&gt;) strictEnumTypeAdapter;\r\n\t\t\treturn castTypeAdapter;\r\n\t\t}\r\n\r\n\t\tprivate static final class StrictEnumTypeAdapter&lt;E extends Enum&lt;E&gt;&gt;\r\n\t\t\t\textends TypeAdapter&lt;E&gt; {\r\n\r\n\t\t\tprivate final Class&lt;E&gt; enumClass;\r\n\t\t\tprivate final Map&lt;String, E&gt; nameToEnumConstant;\r\n\t\t\tprivate final Map&lt;E, String&gt; enumConstantToName;\r\n\r\n\t\t\tprivate StrictEnumTypeAdapter(final Class&lt;E&gt; enumClass, final Map&lt;String, E&gt; nameToEnumConstant, final Map&lt;E, String&gt; enumConstantToName) {\r\n\t\t\t\tthis.enumClass = enumClass;\r\n\t\t\t\tthis.nameToEnumConstant = nameToEnumConstant;\r\n\t\t\t\tthis.enumConstantToName = enumConstantToName;\r\n\t\t\t}\r\n\r\n\t\t\tprivate static &lt;E extends Enum&lt;E&gt;&gt; TypeAdapter&lt;E&gt; get(final Class&lt;E&gt; enumClass) {\r\n\t\t\t\tfinal Map&lt;String, E&gt; nameToEnumConstant = new HashMap&lt;&gt;();\r\n\t\t\t\tfinal Map&lt;E, String&gt; enumConstantToName = new HashMap&lt;&gt;();\r\n\t\t\t\tfinal Map&lt;String, E&gt; enumNameToEnumConstant = Stream.of(enumClass.getEnumConstants())\r\n\t\t\t\t\t\t.collect(Collectors.toMap(Enum::name, Function.identity()));\r\n\t\t\t\tStream.of(enumClass.getFields())\r\n\t\t\t\t\t\t// It can be either a simple enum constant, or an enum constant that overrides\r\n\t\t\t\t\t\t.filter(field -&gt; enumClass.isAssignableFrom(field.getType()))\r\n\t\t\t\t\t\t.forEach(field -&gt; {\r\n\t\t\t\t\t\t\tfinal E enumConstant = enumNameToEnumConstant.get(field.getName());\r\n\t\t\t\t\t\t\t// For compatibility with the original type adapter, we have to respect the @SeriaizedName annotation\r\n\t\t\t\t\t\t\tfinal SerializedName serializedName = field.getAnnotation(SerializedName.class);\r\n\t\t\t\t\t\t\tif ( serializedName == null ) {\r\n\t\t\t\t\t\t\t\tnameToEnumConstant.put(field.getName(), enumConstant);\r\n\t\t\t\t\t\t\t\tenumConstantToName.put(enumConstant, field.getName());\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnameToEnumConstant.put(serializedName.value(), enumConstant);\r\n\t\t\t\t\t\t\t\tenumConstantToName.put(enumConstant, serializedName.value());\r\n\t\t\t\t\t\t\t\tfor ( final String alternate : serializedName.alternate() ) {\r\n\t\t\t\t\t\t\t\t\tnameToEnumConstant.put(alternate, enumConstant);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\treturn new StrictEnumTypeAdapter&lt;&gt;(enumClass, nameToEnumConstant, enumConstantToName)\r\n\t\t\t\t\t\t.nullSafe(); // A convenient method to handle nulls\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void write(final JsonWriter out, final E value)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tout.value(enumConstantToName.get(value));\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic E read(final JsonReader in)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tfinal String key = in.nextString();\r\n\t\t\t\t// This is what the original type adapter probably misses\r\n\t\t\t\tif ( !nameToEnumConstant.containsKey(key) ) {\r\n\t\t\t\t\tthrow new JsonParseException(enumClass + &quot; does not have an enum named &quot; + key + &quot; at &quot; + in);\r\n\t\t\t\t}\r\n\t\t\t\treturn nameToEnumConstant.get(key);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t\r\nSimple test:\r\n\r\n\tprivate static final Gson gson = new GsonBuilder()\r\n\t\t\t.registerTypeAdapterFactory(StrictEnumTypeAdapterFactory.get())\r\n\t\t\t.create();\r\n\r\n\tpublic static void main(final String... args)\r\n\t\t\tthrows IOException {\r\n\t\ttry ( final JsonReader jsonReader = Resources.getPackageResourceJsonReader(Q49572505.class, &quot;good.json&quot;) ) {\r\n\t\t\tSystem.out.println(gson.&lt;Status&gt;fromJson(jsonReader, Status.class).access);\r\n\t\t}\r\n\t\ttry ( final JsonReader jsonReader = Resources.getPackageResourceJsonReader(Q49572505.class, &quot;bad.json&quot;) ) {\r\n\t\t\ttry {\r\n\t\t\t\tgson.&lt;Status&gt;fromJson(jsonReader, Status.class);\r\n\t\t\t\tthrow new AssertionError();\r\n\t\t\t} catch ( final JsonParseException ex ) {\r\n\t\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nOutput:\r\n\r\n&gt;READ_WRITE  \r\n&gt;class q49572505.AccessMode does not have an enum named READ_XXX at JsonReader at line 2 column 22 path $.access  \r\n","title":"Gson check enum value during deserialization","body":"<p>As of version 2.8.2, Gson does not support such a use case.\nI believe it's worthy to be submitted as a suggestion to the Gson development team as a special <code>GsonBuilder</code> configuration method.\nThe most you can do now is writing a custom enum type adapter that almost duplicates <code>com.google.gson.internal.bind.EnumTypeAdapter</code> functionality but adds the name check.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final class StrictEnumTypeAdapterFactory\n        implements TypeAdapterFactory {\n\n    private static final TypeAdapterFactory allStrictEnumTypeAdapterFactory = new StrictEnumTypeAdapterFactory(enumClass -&gt; true);\n\n    private final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass;\n\n    private StrictEnumTypeAdapterFactory(final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass) {\n        this.isStrictEnumClass = isStrictEnumClass;\n    }\n\n    static TypeAdapterFactory get(final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass) {\n        return new StrictEnumTypeAdapterFactory(isStrictEnumClass);\n    }\n\n    static TypeAdapterFactory get() {\n        return allStrictEnumTypeAdapterFactory;\n    }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n        final Class&lt;? super T&gt; rawType = typeToken.getRawType();\n        // Skip non-enums\n        if ( !Enum.class.isAssignableFrom(rawType) ) {\n            return null;\n        }\n        // Check if the enum is supported by the \"strict\" policy\n        @SuppressWarnings(\"unchecked\")\n        final Class&lt;? extends Enum&lt;?&gt;&gt; enumRawType = (Class&lt;? extends Enum&lt;?&gt;&gt;) rawType;\n        if ( !isStrictEnumClass.test(enumRawType) ) {\n            return null;\n        }\n        // Trivial rawtypes/unchecked casts\n        @SuppressWarnings({ \"rawtypes\", \"unchecked\" })\n        final TypeAdapter&lt;? extends Enum&lt;?&gt;&gt; strictEnumTypeAdapter = StrictEnumTypeAdapter.get((Class) enumRawType);\n        @SuppressWarnings(\"unchecked\")\n        final TypeAdapter&lt;T&gt; castTypeAdapter = (TypeAdapter&lt;T&gt;) strictEnumTypeAdapter;\n        return castTypeAdapter;\n    }\n\n    private static final class StrictEnumTypeAdapter&lt;E extends Enum&lt;E&gt;&gt;\n            extends TypeAdapter&lt;E&gt; {\n\n        private final Class&lt;E&gt; enumClass;\n        private final Map&lt;String, E&gt; nameToEnumConstant;\n        private final Map&lt;E, String&gt; enumConstantToName;\n\n        private StrictEnumTypeAdapter(final Class&lt;E&gt; enumClass, final Map&lt;String, E&gt; nameToEnumConstant, final Map&lt;E, String&gt; enumConstantToName) {\n            this.enumClass = enumClass;\n            this.nameToEnumConstant = nameToEnumConstant;\n            this.enumConstantToName = enumConstantToName;\n        }\n\n        private static &lt;E extends Enum&lt;E&gt;&gt; TypeAdapter&lt;E&gt; get(final Class&lt;E&gt; enumClass) {\n            final Map&lt;String, E&gt; nameToEnumConstant = new HashMap&lt;&gt;();\n            final Map&lt;E, String&gt; enumConstantToName = new HashMap&lt;&gt;();\n            final Map&lt;String, E&gt; enumNameToEnumConstant = Stream.of(enumClass.getEnumConstants())\n                    .collect(Collectors.toMap(Enum::name, Function.identity()));\n            Stream.of(enumClass.getFields())\n                    // It can be either a simple enum constant, or an enum constant that overrides\n                    .filter(field -&gt; enumClass.isAssignableFrom(field.getType()))\n                    .forEach(field -&gt; {\n                        final E enumConstant = enumNameToEnumConstant.get(field.getName());\n                        // For compatibility with the original type adapter, we have to respect the @SeriaizedName annotation\n                        final SerializedName serializedName = field.getAnnotation(SerializedName.class);\n                        if ( serializedName == null ) {\n                            nameToEnumConstant.put(field.getName(), enumConstant);\n                            enumConstantToName.put(enumConstant, field.getName());\n                        } else {\n                            nameToEnumConstant.put(serializedName.value(), enumConstant);\n                            enumConstantToName.put(enumConstant, serializedName.value());\n                            for ( final String alternate : serializedName.alternate() ) {\n                                nameToEnumConstant.put(alternate, enumConstant);\n                            }\n                        }\n                    });\n            return new StrictEnumTypeAdapter&lt;&gt;(enumClass, nameToEnumConstant, enumConstantToName)\n                    .nullSafe(); // A convenient method to handle nulls\n        }\n\n        @Override\n        public void write(final JsonWriter out, final E value)\n                throws IOException {\n            out.value(enumConstantToName.get(value));\n        }\n\n        @Override\n        public E read(final JsonReader in)\n                throws IOException {\n            final String key = in.nextString();\n            // This is what the original type adapter probably misses\n            if ( !nameToEnumConstant.containsKey(key) ) {\n                throw new JsonParseException(enumClass + \" does not have an enum named \" + key + \" at \" + in);\n            }\n            return nameToEnumConstant.get(key);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Simple test:</p>\n\n<pre><code>private static final Gson gson = new GsonBuilder()\n        .registerTypeAdapterFactory(StrictEnumTypeAdapterFactory.get())\n        .create();\n\npublic static void main(final String... args)\n        throws IOException {\n    try ( final JsonReader jsonReader = Resources.getPackageResourceJsonReader(Q49572505.class, \"good.json\") ) {\n        System.out.println(gson.&lt;Status&gt;fromJson(jsonReader, Status.class).access);\n    }\n    try ( final JsonReader jsonReader = Resources.getPackageResourceJsonReader(Q49572505.class, \"bad.json\") ) {\n        try {\n            gson.&lt;Status&gt;fromJson(jsonReader, Status.class);\n            throw new AssertionError();\n        } catch ( final JsonParseException ex ) {\n            System.out.println(ex.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>READ_WRITE<br>\n  class q49572505.AccessMode does not have an enum named READ_XXX at JsonReader at line 2 column 22 path $.access  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2147129,"reputation":31578,"user_id":1904517,"display_name":"iagreen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522430237,"creation_date":1522430237,"answer_id":49578581,"question_id":49572505,"body_markdown":"You could look @ [Moshi][1].  I have found it a suitable and straightforward replacement for GSON and it already supports this behavior.  \r\n\r\n@Lyubomyr_Shaydarlv&#39;s solution works, but if you don&#39;t want to duplicate GSON&#39;s internal code, you can use it as a delegate in a custom `TypeAdapterFactory`.  Run the adapter, and if it returns `null`, you know the value was invalid. This has the advantage that it inherits and changes to default `enum` converter. \r\n\r\n    class StrictEnumTypeAdapterFactory implements TypeAdapterFactory {\r\n        public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n            Class&lt;T&gt; rawType = (Class&lt;T&gt;) type.getRawType();\r\n            if (!rawType.isEnum()) {\r\n                return null;\r\n            }\r\n            return newStrictEnumAdapter(gson.getDelegateAdapter(this, type));\r\n        }\r\n    \r\n        private &lt;T&gt; TypeAdapter&lt;T&gt; newStrictEnumAdapter(\r\n                final TypeAdapter&lt;T&gt; delegateAdapter) {\r\n            return new TypeAdapter&lt;T&gt;() {\r\n    \r\n                @Override\r\n                public void write(JsonWriter out, T value) throws IOException {\r\n                    delegateAdapter.write(out, value);\r\n                }\r\n    \r\n                @Override\r\n                public T read(JsonReader in) throws IOException {\r\n                    // Peek at the next value and save it for the error message\r\n                    // if you don&#39;t need the offending value&#39;s actual name\r\n                    String enumValue = in.nextString();\r\n                    JsonReader delegateReader = new JsonReader(new StringReader(&#39;&quot;&#39; + enumValue + &#39;&quot;&#39;));\r\n                    T value = delegateAdapter.read(delegateReader);\r\n                    delegateReader.close();\r\n                    if (value == null) throw new IllegalStateException(&quot;Invalid enum value - &quot; + enumValue);\r\n                    return value;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/square/moshi","title":"Gson check enum value during deserialization","body":"<p>You could look @ <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">Moshi</a>.  I have found it a suitable and straightforward replacement for GSON and it already supports this behavior.  </p>\n\n<p>@Lyubomyr_Shaydarlv's solution works, but if you don't want to duplicate GSON's internal code, you can use it as a delegate in a custom <code>TypeAdapterFactory</code>.  Run the adapter, and if it returns <code>null</code>, you know the value was invalid. This has the advantage that it inherits and changes to default <code>enum</code> converter. </p>\n\n<pre><code>class StrictEnumTypeAdapterFactory implements TypeAdapterFactory {\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        Class&lt;T&gt; rawType = (Class&lt;T&gt;) type.getRawType();\n        if (!rawType.isEnum()) {\n            return null;\n        }\n        return newStrictEnumAdapter(gson.getDelegateAdapter(this, type));\n    }\n\n    private &lt;T&gt; TypeAdapter&lt;T&gt; newStrictEnumAdapter(\n            final TypeAdapter&lt;T&gt; delegateAdapter) {\n        return new TypeAdapter&lt;T&gt;() {\n\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                delegateAdapter.write(out, value);\n            }\n\n            @Override\n            public T read(JsonReader in) throws IOException {\n                // Peek at the next value and save it for the error message\n                // if you don't need the offending value's actual name\n                String enumValue = in.nextString();\n                JsonReader delegateReader = new JsonReader(new StringReader('\"' + enumValue + '\"'));\n                T value = delegateAdapter.read(delegateReader);\n                delegateReader.close();\n                if (value == null) throw new IllegalStateException(\"Invalid enum value - \" + enumValue);\n                return value;\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687161185,"creation_date":1686831605,"answer_id":76482408,"question_id":49572505,"body_markdown":"For cross reference, I wanted to remap unknown values to a _fallback value_ in the `enum` type. This is useful if on the other end the field has new values but not yet the code de-serializing it.\r\n\r\nhttps://github.com/google/gson/issues/608#issuecomment-1592929122\r\n\r\nI&#39;ve written this generic `TypeAdapterFactory` for gson.\r\n\r\nRegister it in Gson :\r\n\r\n```kotlin\r\nGsonBuilder().registerTypeAdapterFactory(EnumWithFallbackValueTypeAdapterFactory()).create()\r\n```\r\n\r\nAnnotate the enum value you want to remap to\r\n\r\n```kotlin\r\nenum class Kind {\r\n    @FallbackValue\r\n    UNKNOWN,\r\n    K1,\r\n    K2\r\n}\r\n```\r\n\r\nNow payload like this will have the kind value remapped to `UNKNOWN`.\r\n\r\n```json\r\n{ &quot;kind&quot; : &quot;K3&quot; }\r\n```\r\n\r\n----\r\n\r\n```\r\nimport com.google.gson.Gson\r\nimport com.google.gson.JsonPrimitive\r\nimport com.google.gson.TypeAdapter\r\nimport com.google.gson.TypeAdapterFactory\r\nimport com.google.gson.reflect.TypeToken\r\nimport com.google.gson.stream.JsonReader\r\nimport com.google.gson.stream.JsonToken\r\nimport com.google.gson.stream.JsonWriter\r\nimport java.io.IOException\r\n\r\n@Retention(AnnotationRetention.RUNTIME)\r\n@Target(AnnotationTarget.FIELD)\r\nannotation class UnknownValue\r\n\r\nobject EnumWithFallbackValueTypeAdapterFactory : TypeAdapterFactory {\r\n    private val logger = thisLogger()\r\n\r\n    override fun &lt;T&gt; create(gson: Gson, type: TypeToken&lt;T&gt;): TypeAdapter&lt;T&gt;? {\r\n        if (!type.rawType.isEnum) {\r\n            return null\r\n        }\r\n\r\n        val candidates = type.rawType.fields\r\n            .asSequence()\r\n            .filter { it.type == type.rawType &amp;&amp; it.isAnnotationPresent(FallbackValue::class.java) }\r\n            .map { field -&gt;\r\n                @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n                type.rawType.enumConstants.single { enumValue -&gt;\r\n                    field.get(null) == enumValue\r\n                } as T\r\n            }\r\n            .toList()\r\n\r\n        val delegate = gson.getDelegateAdapter(this, type)\r\n\r\n        return when {\r\n            candidates.isEmpty() -&gt; delegate\r\n            candidates.size &gt; 1 -&gt; throw IllegalArgumentException(&quot;Only one enum value can be annotated with @${FallbackValue::class.java.simpleName}&quot;)\r\n            else -&gt; {\r\n                val fallbackValue = candidates.single()\r\n                object : TypeAdapter&lt;T&gt;() {\r\n                    @Throws(IOException::class)\r\n                    override fun write(writer: JsonWriter, value: T) {\r\n                        delegate.write(writer, value)\r\n                    }\r\n\r\n                    @Throws(IOException::class)\r\n                    override fun read(reader: JsonReader): T {\r\n                        // Keep null as undefined\r\n                        if (reader.peek() == JsonToken.NULL) {\r\n                            reader.nextNull() // consume\r\n                            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n                            return null as T\r\n                        }\r\n                        val rawString = reader.nextString()\r\n                        val fromDelegate = delegate.fromJsonTree(JsonPrimitive(rawString))\r\n                        return if (fromDelegate != null) {\r\n                            fromDelegate\r\n                        } else {\r\n                            logger.debug { &quot;Unknown enum value: $rawString for ${type.rawType.name}&quot; }\r\n                            fallbackValue\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Gson check enum value during deserialization","body":"<p>For cross reference, I wanted to remap unknown values to a <em>fallback value</em> in the <code>enum</code> type. This is useful if on the other end the field has new values but not yet the code de-serializing it.</p>\n<p><a href=\"https://github.com/google/gson/issues/608#issuecomment-1592929122\" rel=\"nofollow noreferrer\">https://github.com/google/gson/issues/608#issuecomment-1592929122</a></p>\n<p>I've written this generic <code>TypeAdapterFactory</code> for gson.</p>\n<p>Register it in Gson :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>GsonBuilder().registerTypeAdapterFactory(EnumWithFallbackValueTypeAdapterFactory()).create()\n</code></pre>\n<p>Annotate the enum value you want to remap to</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>enum class Kind {\n    @FallbackValue\n    UNKNOWN,\n    K1,\n    K2\n}\n</code></pre>\n<p>Now payload like this will have the kind value remapped to <code>UNKNOWN</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;kind&quot; : &quot;K3&quot; }\n</code></pre>\n<hr />\n<pre><code>import com.google.gson.Gson\nimport com.google.gson.JsonPrimitive\nimport com.google.gson.TypeAdapter\nimport com.google.gson.TypeAdapterFactory\nimport com.google.gson.reflect.TypeToken\nimport com.google.gson.stream.JsonReader\nimport com.google.gson.stream.JsonToken\nimport com.google.gson.stream.JsonWriter\nimport java.io.IOException\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FIELD)\nannotation class UnknownValue\n\nobject EnumWithFallbackValueTypeAdapterFactory : TypeAdapterFactory {\n    private val logger = thisLogger()\n\n    override fun &lt;T&gt; create(gson: Gson, type: TypeToken&lt;T&gt;): TypeAdapter&lt;T&gt;? {\n        if (!type.rawType.isEnum) {\n            return null\n        }\n\n        val candidates = type.rawType.fields\n            .asSequence()\n            .filter { it.type == type.rawType &amp;&amp; it.isAnnotationPresent(FallbackValue::class.java) }\n            .map { field -&gt;\n                @Suppress(&quot;UNCHECKED_CAST&quot;)\n                type.rawType.enumConstants.single { enumValue -&gt;\n                    field.get(null) == enumValue\n                } as T\n            }\n            .toList()\n\n        val delegate = gson.getDelegateAdapter(this, type)\n\n        return when {\n            candidates.isEmpty() -&gt; delegate\n            candidates.size &gt; 1 -&gt; throw IllegalArgumentException(&quot;Only one enum value can be annotated with @${FallbackValue::class.java.simpleName}&quot;)\n            else -&gt; {\n                val fallbackValue = candidates.single()\n                object : TypeAdapter&lt;T&gt;() {\n                    @Throws(IOException::class)\n                    override fun write(writer: JsonWriter, value: T) {\n                        delegate.write(writer, value)\n                    }\n\n                    @Throws(IOException::class)\n                    override fun read(reader: JsonReader): T {\n                        // Keep null as undefined\n                        if (reader.peek() == JsonToken.NULL) {\n                            reader.nextNull() // consume\n                            @Suppress(&quot;UNCHECKED_CAST&quot;)\n                            return null as T\n                        }\n                        val rawString = reader.nextString()\n                        val fromDelegate = delegate.fromJsonTree(JsonPrimitive(rawString))\n                        return if (fromDelegate != null) {\n                            fromDelegate\n                        } else {\n                            logger.debug { &quot;Unknown enum value: $rawString for ${type.rawType.name}&quot; }\n                            fallbackValue\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2123,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49574019,"answer_count":3,"score":4,"last_activity_date":1687161185,"creation_date":1522404715,"question_id":49572505,"body_markdown":"Assuming the following enum in a Java class:\r\n\r\n    enum AccessMode {\r\n        READ_WRITE,\r\n        READ_ONLY,\r\n        WRITE_ONLY\r\n    };\r\n\r\nJSON deserialization works fine with Gson as long as the JSON contains a valid value for the enum field, e.g.:\r\n\r\n    &quot;access&quot;: &quot;READ_WRITE&quot;\r\n\r\nUnfortunately, fromJson() does seem to detect invalid enum values in the JSON, such as:\r\n\r\n    &quot;access&quot;: &quot;READ_XXX&quot;\r\n\r\nHow can I add enum value checking when deserializing a JSON file using Gson?\r\n\r\n\r\n\r\n","title":"Gson check enum value during deserialization","body":"<p>Assuming the following enum in a Java class:</p>\n\n<pre><code>enum AccessMode {\n    READ_WRITE,\n    READ_ONLY,\n    WRITE_ONLY\n};\n</code></pre>\n\n<p>JSON deserialization works fine with Gson as long as the JSON contains a valid value for the enum field, e.g.:</p>\n\n<pre><code>\"access\": \"READ_WRITE\"\n</code></pre>\n\n<p>Unfortunately, fromJson() does seem to detect invalid enum values in the JSON, such as:</p>\n\n<pre><code>\"access\": \"READ_XXX\"\n</code></pre>\n\n<p>How can I add enum value checking when deserializing a JSON file using Gson?</p>\n"},{"tags":["java","macos","intellij-idea","crash"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686991452,"creation_date":1686991452,"answer_id":76495418,"question_id":76495065,"body_markdown":"Not sure why you want to change the Java runtime for IntelliJ in the first place because [Change the boot Java runtime of the IDE](https://www.jetbrains.com/help/idea/switching-boot-jdk.html) explicitly says\r\n\r\n&gt; **Changing the boot Java runtime may cause unexpected problems. Do not change it unless you were specifically asked to do so by JetBrains support**.\r\n\r\nand\r\n\r\n&gt; The runtime for IntelliJ IDEA is not the same runtime used for your applications. Define an SDK for each of your projects, which includes the necessary development and runtime environment.\r\n\r\nand I think what you wanted to do is just this: use a specific Java version for your projects.\r\n\r\nAnyway, that page later has the information that you probably need:\r\n\r\n&gt; The path to the selected runtime is stored in the idea.jdk or idea64.jdk file in the IntelliJ IDEA configuration directory. If there are problems with the selected runtime, you can delete this file to revert to the default runtime.\r\n\r\nAnd that links to [Configuration directory](https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#cc446e5e) which says that on Mac the settings are stored in\r\n\r\n&gt; ~/Library/Application Support/JetBrains/&lt;product&gt;&lt;version&gt;\r\n\r\nwhich is probably (if you&#39;re using the current version)\r\n\r\n&gt; ~/Library/Application Support/JetBrains/IntelliJIdea2023.1\r\n\r\nand remove the &quot;idea.jdk&quot; and &quot;idea64.jdk&quot; files.","title":"INTELLIJ is crashing after I &quot;changed boot runtime&quot;","body":"<p>Not sure why you want to change the Java runtime for IntelliJ in the first place because <a href=\"https://www.jetbrains.com/help/idea/switching-boot-jdk.html\" rel=\"nofollow noreferrer\">Change the boot Java runtime of the IDE</a> explicitly says</p>\n<blockquote>\n<p><strong>Changing the boot Java runtime may cause unexpected problems. Do not change it unless you were specifically asked to do so by JetBrains support</strong>.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>The runtime for IntelliJ IDEA is not the same runtime used for your applications. Define an SDK for each of your projects, which includes the necessary development and runtime environment.</p>\n</blockquote>\n<p>and I think what you wanted to do is just this: use a specific Java version for your projects.</p>\n<p>Anyway, that page later has the information that you probably need:</p>\n<blockquote>\n<p>The path to the selected runtime is stored in the idea.jdk or idea64.jdk file in the IntelliJ IDEA configuration directory. If there are problems with the selected runtime, you can delete this file to revert to the default runtime.</p>\n</blockquote>\n<p>And that links to <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#cc446e5e\" rel=\"nofollow noreferrer\">Configuration directory</a> which says that on Mac the settings are stored in</p>\n<blockquote>\n<p>~/Library/Application Support/JetBrains/</p>\n</blockquote>\n<p>which is probably (if you're using the current version)</p>\n<blockquote>\n<p>~/Library/Application Support/JetBrains/IntelliJIdea2023.1</p>\n</blockquote>\n<p>and remove the &quot;idea.jdk&quot; and &quot;idea64.jdk&quot; files.</p>\n"},{"tags":[],"owner":{"account_id":28803214,"reputation":201,"user_id":22059627,"display_name":"Miguel Monteiro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687161076,"creation_date":1687161076,"answer_id":76504620,"question_id":76495065,"body_markdown":"In macOS, there are two Library folders. In the SSD/HDD root and in the user&#39;s home dir. Most probably you&#39;re checking the SSD one. Please try to:\r\n \r\n \r\n\r\n 1. Open the OS Bash\r\n 2. Execute open `~/Library/Application\\ Support/JetBrains` It will open the needed folder in Finder.\r\n 3. Navigate to the needed IDE version and delete `&lt;product&gt;.jdk` file. It will reverse back to the default runtime.\r\n\r\nAlso, instead of changing the runtime for the IDE, try [changing the project SDK][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk","title":"INTELLIJ is crashing after I &quot;changed boot runtime&quot;","body":"<p>In macOS, there are two Library folders. In the SSD/HDD root and in the user's home dir. Most probably you're checking the SSD one. Please try to:</p>\n<ol>\n<li>Open the OS Bash</li>\n<li>Execute open <code>~/Library/Application\\ Support/JetBrains</code> It will open the needed folder in Finder.</li>\n<li>Navigate to the needed IDE version and delete <code>&lt;product&gt;.jdk</code> file. It will reverse back to the default runtime.</li>\n</ol>\n<p>Also, instead of changing the runtime for the IDE, try <a href=\"https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk\" rel=\"nofollow noreferrer\">changing the project SDK</a></p>\n"}],"owner":{"account_id":6698947,"reputation":409,"user_id":5166129,"display_name":"Neer Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1687161076,"creation_date":1686984588,"question_id":76495065,"body_markdown":"I wanted to use JDK-11 on my intellij. So I changed java boot runtime following these [instructions][1]. Now my Intellij is crashing without opening. I am using MAC.\r\n\r\n[Crash Report.][2] \r\n\r\nClosest I have found on internet with my issue is this [problem][3], but this is for ubuntu. ( PS. There is MAC OS solution as well mentioned, but it is not working for me, since there is no `Jetbrains` directory in my `~/Library/Logs/` directory. I don&#39;t know how to proceed on the steps without JetBrains in Logs. )[![You can see there is no JetBrains inside the `Library/Logs` directory][4]][4]\r\n\r\nI can not even change back the JRE since IDEA is not even opening. \r\n\r\nThis might be completely unrelating to the question, but I have installed openjdk 11.0.19 installed via homeBrew on my MAC.\r\n\r\n**UPDATE** \r\n\r\nThere is no `~/Library/Application Support/JetBrains` in the path. \r\n\r\n[![no jetbrains found in application support][5]][5]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/switching-boot-jdk.html\r\n  [2]: https://ideone.com/k3CaFB\r\n  [3]: https://stackoverflow.com/questions/72067909/intellij-idea-doesnt-start-on-ubuntu-after-change-the-boot-java-runtime\r\n  [4]: https://i.stack.imgur.com/wauqe.png\r\n  [5]: https://i.stack.imgur.com/g22A9.png","title":"INTELLIJ is crashing after I &quot;changed boot runtime&quot;","body":"<p>I wanted to use JDK-11 on my intellij. So I changed java boot runtime following these <a href=\"https://www.jetbrains.com/help/idea/switching-boot-jdk.html\" rel=\"nofollow noreferrer\">instructions</a>. Now my Intellij is crashing without opening. I am using MAC.</p>\n<p><a href=\"https://ideone.com/k3CaFB\" rel=\"nofollow noreferrer\">Crash Report.</a></p>\n<p>Closest I have found on internet with my issue is this <a href=\"https://stackoverflow.com/questions/72067909/intellij-idea-doesnt-start-on-ubuntu-after-change-the-boot-java-runtime\">problem</a>, but this is for ubuntu. ( PS. There is MAC OS solution as well mentioned, but it is not working for me, since there is no <code>Jetbrains</code> directory in my <code>~/Library/Logs/</code> directory. I don't know how to proceed on the steps without JetBrains in Logs. )<a href=\"https://i.stack.imgur.com/wauqe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wauqe.png\" alt=\"You can see there is no JetBrains inside the Library/Logs directory\" /></a></p>\n<p>I can not even change back the JRE since IDEA is not even opening.</p>\n<p>This might be completely unrelating to the question, but I have installed openjdk 11.0.19 installed via homeBrew on my MAC.</p>\n<p><strong>UPDATE</strong></p>\n<p>There is no <code>~/Library/Application Support/JetBrains</code> in the path.</p>\n<p><a href=\"https://i.stack.imgur.com/g22A9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g22A9.png\" alt=\"no jetbrains found in application support\" /></a></p>\n"},{"tags":["java","kotlin","date","datetime","timestamp"],"comments":[{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1687102439,"post_id":76501217,"comment_id":134886982,"body_markdown":"The date  `292278994-08-17` seems to be affected by some integer overflow. It doesn&#39;t look like before Christ.","body":"The date  <code>292278994-08-17</code> seems to be affected by some integer overflow. It doesn&#39;t look like before Christ."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1687103855,"post_id":76501217,"comment_id":134887143,"body_markdown":"This doesn&#39;t look like it has anything to do with Kotlin...","body":"This doesn&#39;t look like it has anything to do with Kotlin..."},{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":1,"creation_date":1687108070,"post_id":76501217,"comment_id":134887578,"body_markdown":"The results are the same from _Long.MIN_VALUE + 808_ on.","body":"The results are the same from <i>Long.MIN_VALUE + 808</i> on."},{"owner":{"account_id":20880527,"reputation":148,"user_id":15345048,"display_name":"H.B."},"score":0,"creation_date":1687122846,"post_id":76501217,"comment_id":134889152,"body_markdown":"@lukas.j It does indeed seem to start printing the right value from 808 on (for some weird reason), thanks for pointing that out.","body":"@lukas.j It does indeed seem to start printing the right value from 808 on (for some weird reason), thanks for pointing that out."}],"answers":[{"tags":[],"owner":{"account_id":24058119,"reputation":70,"user_id":18035688,"display_name":"Xeyal"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1687161066,"creation_date":1687161066,"answer_id":76504618,"question_id":76501217,"body_markdown":"The reason Kotlin&#39;s println method doesn&#39;t print java.sql.Timestamp correctly is because the println method internally calls the toString() method of the object being printed. In the case of java.sql.Timestamp, the default implementation of toString() returns a string representation in the format &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;.\r\n\r\nIn your code, when you call println(java.sql.Timestamp(Long.MIN_VALUE)), the toString() method of Timestamp is invoked, which returns the default format. However, when you call println(df.format(java.sql.Timestamp(Long.MIN_VALUE))), you are explicitly formatting the Timestamp using a SimpleDateFormat object (df), which gives you a custom format.\r\n\r\nThe discrepancy in the output is because the SimpleDateFormat format (d MMM yyyy G, HH:mm:ss.S Z) you specified in your code is not compatible with the default format of java.sql.Timestamp. The default format of Timestamp does not take into account the era (G) and timezone (Z) format elements.\r\n\r\nTo print java.sql.Timestamp correctly with your desired format, you can explicitly format it using the SimpleDateFormat object like this:\r\n\r\n    val df = java.text.SimpleDateFormat(&quot;d MMM yyyy G, HH:mm:ss.S Z&quot;)\r\n    val timestamp = java.sql.Timestamp(Long.MIN_VALUE)\r\n    println(df.format(timestamp))\r\n\r\n\r\n\r\nThis will give you the desired output:\r\n\r\n2 Dec 292269055 BC, 17:47:04.192 +0100","title":"Why Kotlin&#39;s println method doesn&#39;t print java.sql.Timestamp correctly?","body":"<p>The reason Kotlin's println method doesn't print java.sql.Timestamp correctly is because the println method internally calls the toString() method of the object being printed. In the case of java.sql.Timestamp, the default implementation of toString() returns a string representation in the format &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;.</p>\n<p>In your code, when you call println(java.sql.Timestamp(Long.MIN_VALUE)), the toString() method of Timestamp is invoked, which returns the default format. However, when you call println(df.format(java.sql.Timestamp(Long.MIN_VALUE))), you are explicitly formatting the Timestamp using a SimpleDateFormat object (df), which gives you a custom format.</p>\n<p>The discrepancy in the output is because the SimpleDateFormat format (d MMM yyyy G, HH:mm:ss.S Z) you specified in your code is not compatible with the default format of java.sql.Timestamp. The default format of Timestamp does not take into account the era (G) and timezone (Z) format elements.</p>\n<p>To print java.sql.Timestamp correctly with your desired format, you can explicitly format it using the SimpleDateFormat object like this:</p>\n<pre><code>val df = java.text.SimpleDateFormat(&quot;d MMM yyyy G, HH:mm:ss.S Z&quot;)\nval timestamp = java.sql.Timestamp(Long.MIN_VALUE)\nprintln(df.format(timestamp))\n</code></pre>\n<p>This will give you the desired output:</p>\n<p>2 Dec 292269055 BC, 17:47:04.192 +0100</p>\n"}],"owner":{"account_id":20880527,"reputation":148,"user_id":15345048,"display_name":"H.B."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687161066,"creation_date":1687101427,"question_id":76501217,"body_markdown":"Here is the code in **Kotlin**:\r\n``` kotlin\r\nval df = java.text.SimpleDateFormat(&quot;d MMM yyyy G, HH:mm:ss.S Z&quot;)\r\n\r\nprintln(df.format(java.sql.Timestamp(Long.MIN_VALUE)))\r\nprintln(java.sql.Timestamp(Long.MIN_VALUE))\r\n```\r\nthe output is:\r\n``` text\r\n2 Dec 292269055 BC, 17:47:04.192 +0100\r\n292278994-08-17 08:12:55.192\r\n```\r\nThe correct output is the one where `SimpleDateFormat` is used. Notice how almost all date parts are different (year, month, ...) except for the milliseconds.\r\nWhy do I have to use SimpleDateFormat to get the correct result?\r\n\r\nAny ideas what is going on here?","title":"Why Kotlin&#39;s println method doesn&#39;t print java.sql.Timestamp correctly?","body":"<p>Here is the code in <strong>Kotlin</strong>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val df = java.text.SimpleDateFormat(&quot;d MMM yyyy G, HH:mm:ss.S Z&quot;)\n\nprintln(df.format(java.sql.Timestamp(Long.MIN_VALUE)))\nprintln(java.sql.Timestamp(Long.MIN_VALUE))\n</code></pre>\n<p>the output is:</p>\n<pre><code>2 Dec 292269055 BC, 17:47:04.192 +0100\n292278994-08-17 08:12:55.192\n</code></pre>\n<p>The correct output is the one where <code>SimpleDateFormat</code> is used. Notice how almost all date parts are different (year, month, ...) except for the milliseconds.\nWhy do I have to use SimpleDateFormat to get the correct result?</p>\n<p>Any ideas what is going on here?</p>\n"},{"tags":["java","spring-boot","constraints","vehicle-routing","jsprit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687211565,"post_id":76504547,"comment_id":134902302,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28201907,"reputation":1,"user_id":21555555,"display_name":"Bhaskara Teja Boddu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687160354,"creation_date":1687160354,"question_id":76504547,"body_markdown":"I have been trying to get exact sequence of jobs by giving list of jobIds, but it&#39;s not working.\r\n\r\nI tried with a HardRouteConstraint as well as a HardActivityConstraint but in vain. I&#39;m getting the sequence in the same route but not in the exact sequence as given in the jobIds list.\r\n\r\n\r\nCan you please suggest some solutions for getting same order of given JobIds in a route ?\r\nThanks in advance!!","title":"Exact Sequence of given jobIds list for VRP using Jsprit","body":"<p>I have been trying to get exact sequence of jobs by giving list of jobIds, but it's not working.</p>\n<p>I tried with a HardRouteConstraint as well as a HardActivityConstraint but in vain. I'm getting the sequence in the same route but not in the exact sequence as given in the jobIds list.</p>\n<p>Can you please suggest some solutions for getting same order of given JobIds in a route ?\nThanks in advance!!</p>\n"},{"tags":["java","xml","spring-boot","security","veracode"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687159677,"post_id":76504095,"comment_id":134892420,"body_markdown":"You really like to keep us in suspense aren&#39;t you? What is the error you get?","body":"You really like to keep us in suspense aren&#39;t you? What is the error you get?"},{"owner":{"account_id":27209686,"reputation":1,"user_id":20740686,"display_name":"kajal Surve"},"score":0,"creation_date":1687160268,"post_id":76504095,"comment_id":134892517,"body_markdown":"i am geting nullpoint exceptions so my test cases getting failed, as its not getting expected output..","body":"i am geting nullpoint exceptions so my test cases getting failed, as its not getting expected output.."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687160562,"post_id":76504095,"comment_id":134892558,"body_markdown":"My question wasn&#39;t so much about a description as it was to your actual test case and exception stacktrace.","body":"My question wasn&#39;t so much about a description as it was to your actual test case and exception stacktrace."}],"owner":{"account_id":27209686,"reputation":1,"user_id":20740686,"display_name":"kajal Surve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687160298,"creation_date":1687155976,"question_id":76504095,"body_markdown":"Veracode static scan showing two flows as CWE 611 XXE vulnerability in the app. We are doing Java xml parsing using DocumentBuilderFactory as below. \r\n\r\n```\r\n`final DocumentBuilder builder = factory.newDocumentBuilder();\r\n\t\t\tfinal StringReader sr = new StringReader(this.responseXml);\r\n\t\t\tfinal InputSource is = new InputSource(sr);\r\n\t\t\t// SAST Vulnerability fix 611 - Improper Restriction of XML External Entity Reference\r\n\t\t\t//factory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);  //JRS - Causing an error at runtime\r\n\t\t\t//factory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);  //JRS - Causing an error at runtime\r\n\t\t\t//factory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);  //JRS - Causing an error at runtime\r\n\t\t\t\r\n\t\t\tfinal Document document = builder.parse(is);// new File(argv[0]) );\r\n\r\n`\r\n```\r\nBut when i include above commented code my test cases are failing.i am geting nullpoint exceptions so my test cases getting failed, as its not getting expected output.. Kindly suggest.\r\n\r\nI have referred  https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html . but no effect still. if anyone has any suggestion.","title":"Veracode showing CWE-611 Improper Restriction of XML External Entity Reference java fix for documentbuilder","body":"<p>Veracode static scan showing two flows as CWE 611 XXE vulnerability in the app. We are doing Java xml parsing using DocumentBuilderFactory as below.</p>\n<pre><code>`final DocumentBuilder builder = factory.newDocumentBuilder();\n            final StringReader sr = new StringReader(this.responseXml);\n            final InputSource is = new InputSource(sr);\n            // SAST Vulnerability fix 611 - Improper Restriction of XML External Entity Reference\n            //factory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);  //JRS - Causing an error at runtime\n            //factory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);  //JRS - Causing an error at runtime\n            //factory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);  //JRS - Causing an error at runtime\n            \n            final Document document = builder.parse(is);// new File(argv[0]) );\n\n`\n</code></pre>\n<p>But when i include above commented code my test cases are failing.i am geting nullpoint exceptions so my test cases getting failed, as its not getting expected output.. Kindly suggest.</p>\n<p>I have referred  <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html</a> . but no effect still. if anyone has any suggestion.</p>\n"},{"tags":["java","spring-boot","jackson","spring-webflux","jackson-databind"],"owner":{"account_id":307765,"reputation":712,"user_id":619260,"accept_rate":78,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687159198,"creation_date":1686729865,"question_id":76471361,"body_markdown":"I want to filter-out Json objects from a REST end-point into a new - reduced stream of objects. I have a REST handler component that uses a WebClient to retrieve a Flux of JsonNode objects by providing a URI. For testing purposes I use [dummy REST end-point][1]. \r\n\r\nThe dummy JSON for mobiles product look like this:\r\n\r\n    {\r\n       &quot;products&quot;: [\r\n           {\r\n               &quot;id&quot;: 1,\r\n               &quot;title&quot;: &quot;iPhone 9&quot;,\r\n               &quot;description&quot;: &quot;An apple mobile which is nothing like apple&quot;,\r\n               &quot;price&quot;: 549,\r\n               &quot;discountPercentage&quot;: 12.96,\r\n               &quot;rating&quot;: 4.69,\r\n               &quot;stock&quot;: 94,\r\n               &quot;brand&quot;: &quot;Apple&quot;,\r\n               &quot;category&quot;: &quot;smartphones&quot;,\r\n               &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;,\r\n               &quot;images&quot;: [\r\n                   &quot;https://i.dummyjson.com/data/products/1/1.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/1/2.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/1/3.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/1/4.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;\r\n               ]\r\n           },\r\n           {\r\n               &quot;id&quot;: 2,\r\n               &quot;title&quot;: &quot;iPhone X&quot;,\r\n               &quot;description&quot;: &quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...&quot;,\r\n               &quot;price&quot;: 899,\r\n               &quot;discountPercentage&quot;: 17.94,\r\n               &quot;rating&quot;: 4.0,\r\n               &quot;stock&quot;: 34,\r\n               &quot;brand&quot;: &quot;Apple&quot;,\r\n               &quot;category&quot;: &quot;smartphones&quot;,\r\n               &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;,\r\n               &quot;images&quot;: [\r\n                   &quot;https://i.dummyjson.com/data/products/2/1.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/2/2.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/2/3.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;\r\n               ]\r\n           },\r\n           …\r\n\r\nIn the test use-case I provide a criteria to filter out all JsonNode objects (smartphones) that received a rating score higher than 4.1. I want to be able to dynamically filter the response by providing a JSON path and criteria, but for testing purpose I hard code the path and criteria as following;\r\n\r\n    @Test\r\n    public void invokeGetJsonFluxResponseTest() {\r\n        \tUriComponents uriComp = UriComponentsBuilder\r\n                \t.newInstance().\r\n                \tscheme(URI_SCHEME)\r\n                \t.host(URI_HOST)\r\n                \t.path(URI_PATH_PRODUCT_CATEGORY).build().encode();\r\n        \tassertThat(uriComp.toUriString()).isNotEmpty();\r\n        \tlog.debug(&quot;URI: {}&quot;, uriComp.toUriString());\r\n        \tFlux&lt;JsonNode&gt; result = restInokationHandler.invokeGetJsonFluxRespose(uriComp.toUri());\r\n    \r\n        \tresult.doOnNext(node -&gt; {\r\n            \tif(node.path(&quot;/products/rating&quot;).asDouble() &gt;= 4.1)\r\n                \tlog.debug(node.toPrettyString());\r\n           \t \r\n        \t}\r\n        \t).blockLast();\r\n    \t}\r\n\r\nI presume that my test function is consuming the stream since nothing is logged in the debug output. Who do I filter-out JSON objects from a Flux of JsonNode and collect them into a new stream?\r\n\r\n\r\nI am using Spring Boot 3.\r\n\r\nP.S. A [similar question provides an answer][2] by using `Jackson2JsonDecoder` and `ObjectMapper` to create a new stream.\r\n\r\n\r\n  [1]: https://dummyjson.com/\r\n  [2]: https://stackoverflow.com/questions/61257963/spring-reactive-webclient-get-json-response-with-content-type-text-plaincharse","title":"Filter-out JSON objects into a new stream from REST end-point with webflux","body":"<p>I want to filter-out Json objects from a REST end-point into a new - reduced stream of objects. I have a REST handler component that uses a WebClient to retrieve a Flux of JsonNode objects by providing a URI. For testing purposes I use <a href=\"https://dummyjson.com/\" rel=\"nofollow noreferrer\">dummy REST end-point</a>.</p>\n<p>The dummy JSON for mobiles product look like this:</p>\n<pre><code>{\n   &quot;products&quot;: [\n       {\n           &quot;id&quot;: 1,\n           &quot;title&quot;: &quot;iPhone 9&quot;,\n           &quot;description&quot;: &quot;An apple mobile which is nothing like apple&quot;,\n           &quot;price&quot;: 549,\n           &quot;discountPercentage&quot;: 12.96,\n           &quot;rating&quot;: 4.69,\n           &quot;stock&quot;: 94,\n           &quot;brand&quot;: &quot;Apple&quot;,\n           &quot;category&quot;: &quot;smartphones&quot;,\n           &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;,\n           &quot;images&quot;: [\n               &quot;https://i.dummyjson.com/data/products/1/1.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/1/2.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/1/3.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/1/4.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;\n           ]\n       },\n       {\n           &quot;id&quot;: 2,\n           &quot;title&quot;: &quot;iPhone X&quot;,\n           &quot;description&quot;: &quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...&quot;,\n           &quot;price&quot;: 899,\n           &quot;discountPercentage&quot;: 17.94,\n           &quot;rating&quot;: 4.0,\n           &quot;stock&quot;: 34,\n           &quot;brand&quot;: &quot;Apple&quot;,\n           &quot;category&quot;: &quot;smartphones&quot;,\n           &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;,\n           &quot;images&quot;: [\n               &quot;https://i.dummyjson.com/data/products/2/1.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/2/2.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/2/3.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;\n           ]\n       },\n       …\n</code></pre>\n<p>In the test use-case I provide a criteria to filter out all JsonNode objects (smartphones) that received a rating score higher than 4.1. I want to be able to dynamically filter the response by providing a JSON path and criteria, but for testing purpose I hard code the path and criteria as following;</p>\n<pre><code>@Test\npublic void invokeGetJsonFluxResponseTest() {\n        UriComponents uriComp = UriComponentsBuilder\n                .newInstance().\n                scheme(URI_SCHEME)\n                .host(URI_HOST)\n                .path(URI_PATH_PRODUCT_CATEGORY).build().encode();\n        assertThat(uriComp.toUriString()).isNotEmpty();\n        log.debug(&quot;URI: {}&quot;, uriComp.toUriString());\n        Flux&lt;JsonNode&gt; result = restInokationHandler.invokeGetJsonFluxRespose(uriComp.toUri());\n\n        result.doOnNext(node -&gt; {\n            if(node.path(&quot;/products/rating&quot;).asDouble() &gt;= 4.1)\n                log.debug(node.toPrettyString());\n         \n        }\n        ).blockLast();\n    }\n</code></pre>\n<p>I presume that my test function is consuming the stream since nothing is logged in the debug output. Who do I filter-out JSON objects from a Flux of JsonNode and collect them into a new stream?</p>\n<p>I am using Spring Boot 3.</p>\n<p>P.S. A <a href=\"https://stackoverflow.com/questions/61257963/spring-reactive-webclient-get-json-response-with-content-type-text-plaincharse\">similar question provides an answer</a> by using <code>Jackson2JsonDecoder</code> and <code>ObjectMapper</code> to create a new stream.</p>\n"},{"tags":["java","dictionary","character"],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687152869,"creation_date":1687152163,"answer_id":76503802,"question_id":76503512,"body_markdown":"This interested me, so I created a loop to check if there are any character that needs this extra step. And I&#39;m surprised to see that there are quite a few letters which doesn&#39;t reach the same letter with using only toUpper, comparred to toLower then toUpper. The following snippet produces letters which reaches different letters:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        val atomicInteger = new AtomicInteger(0);\r\n        IntStream.generate(atomicInteger::getAndIncrement)\r\n                .limit(Character.MAX_VALUE)\r\n                .forEach(i -&gt; {\r\n                    char c = (char) i;\r\n                    if (Character.toLowerCase(Character.toUpperCase(c)) != Character.toLowerCase(c)) {\r\n                        System.out.printf(\r\n                                &quot;%s is not equal to %s%n&quot;,\r\n                                Character.toLowerCase(Character.toUpperCase(c)),\r\n                                Character.toLowerCase(c)\r\n                        );\r\n                    }\r\n                });\r\n    }\r\n}\r\n\r\n```\r\n\r\nFor example:\r\n\r\n```\r\nμ is not equal to &#181;\r\ni is not equal to ı\r\ns is not equal to ſ\r\nι is not equal to ͅ\r\n...\r\n```","title":"CaseInsensitiveMap.convertKey","body":"<p>This interested me, so I created a loop to check if there are any character that needs this extra step. And I'm surprised to see that there are quite a few letters which doesn't reach the same letter with using only toUpper, comparred to toLower then toUpper. The following snippet produces letters which reaches different letters:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        val atomicInteger = new AtomicInteger(0);\n        IntStream.generate(atomicInteger::getAndIncrement)\n                .limit(Character.MAX_VALUE)\n                .forEach(i -&gt; {\n                    char c = (char) i;\n                    if (Character.toLowerCase(Character.toUpperCase(c)) != Character.toLowerCase(c)) {\n                        System.out.printf(\n                                &quot;%s is not equal to %s%n&quot;,\n                                Character.toLowerCase(Character.toUpperCase(c)),\n                                Character.toLowerCase(c)\n                        );\n                    }\n                });\n    }\n}\n\n</code></pre>\n<p>For example:</p>\n<pre><code>μ is not equal to µ\ni is not equal to ı\ns is not equal to ſ\nι is not equal to ͅ\n...\n</code></pre>\n"}],"owner":{"account_id":26969322,"reputation":1,"user_id":20535586,"display_name":"hhhChan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687157686,"creation_date":1687146577,"question_id":76503512,"body_markdown":"Why `org.apache.commons.collections.map.CaseInsensitiveMap.convertKey()` method uses `Character.toLowerCase(Character.toUpperCase(chars[i]))`?\r\n\r\n\r\n`Character.toLowerCase(Character.toUpperCase(chars[i]))` and `Character.toLowerCase(chars[i])` are the same logic?\r\n\r\n    protected Object convertKey(Object key) {\r\n        if (key != null) {\r\n            char[] chars = key.toString().toCharArray();\r\n            for (int i = chars.length - 1; i &gt;= 0; i--) {\r\n                chars[i] = Character.toLowerCase(Character.toUpperCase(chars[i]));\r\n            }\r\n            return new String(chars);\r\n        } else {\r\n            return AbstractHashedMap.NULL;\r\n        }\r\n    }   ","title":"CaseInsensitiveMap.convertKey","body":"<p>Why <code>org.apache.commons.collections.map.CaseInsensitiveMap.convertKey()</code> method uses <code>Character.toLowerCase(Character.toUpperCase(chars[i]))</code>?</p>\n<p><code>Character.toLowerCase(Character.toUpperCase(chars[i]))</code> and <code>Character.toLowerCase(chars[i])</code> are the same logic?</p>\n<pre><code>protected Object convertKey(Object key) {\n    if (key != null) {\n        char[] chars = key.toString().toCharArray();\n        for (int i = chars.length - 1; i &gt;= 0; i--) {\n            chars[i] = Character.toLowerCase(Character.toUpperCase(chars[i]));\n        }\n        return new String(chars);\n    } else {\n        return AbstractHashedMap.NULL;\n    }\n}   \n</code></pre>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"answers":[{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687157176,"creation_date":1687156416,"answer_id":76504140,"question_id":76503998,"body_markdown":"Because `sageMakerRuntimeClient.invokeEndpoint()` is not a suspend function, there is no suspension point in your `invokeEndpoint()` function, so it behaves just like normal blocking function. You can use [suspendCoroutine](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/suspend-coroutine.html) to convert traditional blocking function or callback style async function to kotlin stlye suspend function.\r\n\r\n```kotlin\r\n\r\nsuspend fun invokeEndpoint(input:String) = suspendCoroutine { continuation -&gt;\r\n    // Build Request\r\n    // ...  \r\n    val result: InvokeEndpointResponse = sageMakerRuntimeClient.invokeEndpoint(request)\r\n    continuation.resume(result)\r\n}\r\n```","title":"Coroutine to support AWS calls seemingly not working as expected","body":"<p>Because <code>sageMakerRuntimeClient.invokeEndpoint()</code> is not a suspend function, there is no suspension point in your <code>invokeEndpoint()</code> function, so it behaves just like normal blocking function. You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/suspend-coroutine.html\" rel=\"nofollow noreferrer\">suspendCoroutine</a> to convert traditional blocking function or callback style async function to kotlin stlye suspend function.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nsuspend fun invokeEndpoint(input:String) = suspendCoroutine { continuation -&gt;\n    // Build Request\n    // ...  \n    val result: InvokeEndpointResponse = sageMakerRuntimeClient.invokeEndpoint(request)\n    continuation.resume(result)\n}\n</code></pre>\n"}],"owner":{"account_id":4519121,"reputation":23,"user_id":3672968,"display_name":"user3672968"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687157176,"creation_date":1687154909,"question_id":76503998,"body_markdown":"I am building a service that needs to call AWS SageMaker endpoint to get forecast result. As there are lots of requests, I am exploring Coroutine to parallelize the calls as I am using Kotlin. However, I am new to Coroutines and the result seems to be a little inconsistent with [Coroutines official guide](https://kotlinlang.org/docs/coroutines-and-channels.html).\r\n\r\nThe code below shows the logic. I have a list of features/inputs and I partition them into several partitions, with each partition sent to SageMaker supported by a Coroutine using `async`. From my understanding, Coroutines are light weight and the thread might change for the same coroutine after a suspend function call. However, the log for the implementation below show the thread for the Coroutine is always the same unless I uncomment `delay(100)` in the suspend function.\r\n\r\nAny idea why? My concern is that the call to AWS SageMaker is always blocking the thread and Coroutine.\r\n\r\n\r\n```\r\n   fun forecastBatch(\r\n        features: Set&lt;String&gt;\r\n    ): Map&lt;String, float&gt; {\r\n        val partitions: List&lt;List&lt;String&gt;&gt; = features.chunked(MAX_BATCH_SIZE)\r\n        val result: MutableMap&lt;String, float&gt; = mutableMapOf()\r\n        runBlocking {\r\n            val deferreds = partitions.mapIndexed { idx, partition -&gt;\r\n                CoroutineName(&quot;Coroutine-${idx}&quot;)\r\n                    log.info(&quot;${Thread.currentThread().name} Coroutines:  ${currentCoroutineContext()[CoroutineName]} for Sending Request ${idx}X&quot;)\r\n                    val batchRequest = partition.joinToString(&quot;\\n&quot;)\r\n\r\n                    val forecastResult = invokeEndpoint(batchRequest)\r\n                    \r\n                    log.info(&quot;${Thread.currentThread().name} Coroutines:  ${currentCoroutineContext()[CoroutineName]}  Receiving Request ${idx}X&quot;)\r\n\r\n                    // ...\r\n                    // Build Response\r\n                }\r\n            }\r\n            deferreds.awaitAll().forEach{\r\n                result += it\r\n            }\r\n        }\r\n        return result\r\n    }\r\n\r\n    suspend fun invokeEndpoint(input: String): String {\r\n        // Build Request\r\n        // ...        \r\n\r\n        val result: InvokeEndpointResponse = sageMakerRuntimeClient.invokeEndpoint(request)\r\n        \r\n        // If the next line is uncommented, the thread will change for the same coroutine\r\n        // delay(100)\r\n        return result\r\n    }\r\n\r\n\r\n```","title":"Coroutine to support AWS calls seemingly not working as expected","body":"<p>I am building a service that needs to call AWS SageMaker endpoint to get forecast result. As there are lots of requests, I am exploring Coroutine to parallelize the calls as I am using Kotlin. However, I am new to Coroutines and the result seems to be a little inconsistent with <a href=\"https://kotlinlang.org/docs/coroutines-and-channels.html\" rel=\"nofollow noreferrer\">Coroutines official guide</a>.</p>\n<p>The code below shows the logic. I have a list of features/inputs and I partition them into several partitions, with each partition sent to SageMaker supported by a Coroutine using <code>async</code>. From my understanding, Coroutines are light weight and the thread might change for the same coroutine after a suspend function call. However, the log for the implementation below show the thread for the Coroutine is always the same unless I uncomment <code>delay(100)</code> in the suspend function.</p>\n<p>Any idea why? My concern is that the call to AWS SageMaker is always blocking the thread and Coroutine.</p>\n<pre><code>   fun forecastBatch(\n        features: Set&lt;String&gt;\n    ): Map&lt;String, float&gt; {\n        val partitions: List&lt;List&lt;String&gt;&gt; = features.chunked(MAX_BATCH_SIZE)\n        val result: MutableMap&lt;String, float&gt; = mutableMapOf()\n        runBlocking {\n            val deferreds = partitions.mapIndexed { idx, partition -&gt;\n                CoroutineName(&quot;Coroutine-${idx}&quot;)\n                    log.info(&quot;${Thread.currentThread().name} Coroutines:  ${currentCoroutineContext()[CoroutineName]} for Sending Request ${idx}X&quot;)\n                    val batchRequest = partition.joinToString(&quot;\\n&quot;)\n\n                    val forecastResult = invokeEndpoint(batchRequest)\n                    \n                    log.info(&quot;${Thread.currentThread().name} Coroutines:  ${currentCoroutineContext()[CoroutineName]}  Receiving Request ${idx}X&quot;)\n\n                    // ...\n                    // Build Response\n                }\n            }\n            deferreds.awaitAll().forEach{\n                result += it\n            }\n        }\n        return result\n    }\n\n    suspend fun invokeEndpoint(input: String): String {\n        // Build Request\n        // ...        \n\n        val result: InvokeEndpointResponse = sageMakerRuntimeClient.invokeEndpoint(request)\n        \n        // If the next line is uncommented, the thread will change for the same coroutine\n        // delay(100)\n        return result\n    }\n\n\n</code></pre>\n"},{"tags":["java","android","android-coordinatorlayout"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687156750,"creation_date":1687156750,"answer_id":76504170,"question_id":76503918,"body_markdown":"It is missing the addRule and removeRule functions because these function are not a part of class CoordinatorLayout.LayoutParams but of RelativeLayout.LayoutParams.\r\n```\r\n\r\nCoordinatorLayout tabCL = findViewById(R.id.tab_coordinator_layout);\r\n\r\nRelativeLayout.LayoutParams params = (RelativeLayout.LayoutParams) tabCL.getLayoutParams();\r\n\r\nparams.removeRule(RelativeLayout.ABOVE);\r\n\r\n\r\ntabCL.setLayoutParams(params);\r\n\r\n```","title":"Change Coordinator Layout&#39;s layout above property","body":"<p>It is missing the addRule and removeRule functions because these function are not a part of class CoordinatorLayout.LayoutParams but of RelativeLayout.LayoutParams.</p>\n<pre><code>\nCoordinatorLayout tabCL = findViewById(R.id.tab_coordinator_layout);\n\nRelativeLayout.LayoutParams params = (RelativeLayout.LayoutParams) tabCL.getLayoutParams();\n\nparams.removeRule(RelativeLayout.ABOVE);\n\n\ntabCL.setLayoutParams(params);\n\n</code></pre>\n"}],"owner":{"account_id":24838332,"reputation":13,"user_id":20146997,"display_name":"Raziel Kavosky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76504170,"answer_count":1,"score":0,"last_activity_date":1687156750,"creation_date":1687153873,"question_id":76503918,"body_markdown":"how can i add or remove property of coordinator layout?\r\nSuch as this?\r\n\r\n```\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/tab_coordinator_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@+id/navigation&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/content_frame&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/white&quot;/&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n```\r\nI want add or remove the layout_above property in base of value.\r\nHow can i do it?\r\nThanks\r\n\r\nI&#39;ve tried to put this code:\r\n\r\n\r\n```\r\nCoordinatorLayout layoutCoordinator = findViewById(R.id.tab_coordinator_layout);\r\n\r\n        CoordinatorLayout.LayoutParams layoutParams;\r\n\r\n        layoutParams = (CoordinatorLayout.LayoutParams) layoutCoordinatot.getLayoutParams();\r\n        layoutParams.removeRule(/* code for layout ?? */);\r\n```\r\nBut it is missing the remove and add rule function why?\r\n","title":"Change Coordinator Layout&#39;s layout above property","body":"<p>how can i add or remove property of coordinator layout?\nSuch as this?</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:id=&quot;@+id/tab_coordinator_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_above=&quot;@+id/navigation&quot;\n        android:fitsSystemWindows=&quot;true&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/content_frame&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/white&quot;/&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n</code></pre>\n<p>I want add or remove the layout_above property in base of value.\nHow can i do it?\nThanks</p>\n<p>I've tried to put this code:</p>\n<pre><code>CoordinatorLayout layoutCoordinator = findViewById(R.id.tab_coordinator_layout);\n\n        CoordinatorLayout.LayoutParams layoutParams;\n\n        layoutParams = (CoordinatorLayout.LayoutParams) layoutCoordinatot.getLayoutParams();\n        layoutParams.removeRule(/* code for layout ?? */);\n</code></pre>\n<p>But it is missing the remove and add rule function why?</p>\n"},{"tags":["java","jdialog"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1687156829,"post_id":76504046,"comment_id":134891945,"body_markdown":"Can you include the code for your dialog?","body":"Can you include the code for your dialog?"},{"owner":{"account_id":20712052,"reputation":43,"user_id":15208462,"display_name":"snx"},"score":0,"creation_date":1687159406,"post_id":76504046,"comment_id":134892380,"body_markdown":"Which part you want to see?","body":"Which part you want to see?"},{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1687160211,"post_id":76504046,"comment_id":134892507,"body_markdown":"This could be complicated and other part of your code can affect on the issue. It is recommended for you to build &quot;minimum&quot; reproducing example, and present the whole project here, if you want to resolve quick.","body":"This could be complicated and other part of your code can affect on the issue. It is recommended for you to build &quot;minimum&quot; reproducing example, and present the whole project here, if you want to resolve quick."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687162608,"post_id":76504046,"comment_id":134892966,"body_markdown":"Use a SeingWorker to execute the long running/blocking operation","body":"Use a SeingWorker to execute the long running/blocking operation"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1687163229,"post_id":76504046,"comment_id":134893111,"body_markdown":"Do not sleep in the Swing event dispatch thread. If you do not want users to be able to interact with your UI, either disable your components (yes, that is a lot of work) or &quot;block&quot; your UI in a different way (e.g. showing a indeterminate progress bar in a modal dialog)  while your background task is running.","body":"Do not sleep in the Swing event dispatch thread. If you do not want users to be able to interact with your UI, either disable your components (yes, that is a lot of work) or &quot;block&quot; your UI in a different way (e.g. showing a indeterminate progress bar in a modal dialog)  while your background task is running."},{"owner":{"account_id":20712052,"reputation":43,"user_id":15208462,"display_name":"snx"},"score":0,"creation_date":1687163334,"post_id":76504046,"comment_id":134893142,"body_markdown":"Sleep is implemented to simulate the blocking task for simplification of the process","body":"Sleep is implemented to simulate the blocking task for simplification of the process"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1687163591,"post_id":76504046,"comment_id":134893203,"body_markdown":"@snx The point is that you may not block the Swing event dispatch thread (EDT) at all. This is why your dialog does not paint itself completely. A SwingWorker moves the long running task in a background thread and prevents blocking the EDT. As a result, users are still able to interact with the UI (which is usually what you want). If you want to prevent interaction, see my previous comment. In any case, do not sleep - not even to simulate blocking, because this problem is about preventing user interaction *without* blocking.","body":"@snx The point is that you may not block the Swing event dispatch thread (EDT) at all. This is why your dialog does not paint itself completely. A SwingWorker moves the long running task in a background thread and prevents blocking the EDT. As a result, users are still able to interact with the UI (which is usually what you want). If you want to prevent interaction, see my previous comment. In any case, do not sleep - not even to simulate blocking, because this problem is about preventing user interaction <i>without</i> blocking."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1687163889,"post_id":76504046,"comment_id":134893259,"body_markdown":"@snx Or rather, if you want to use sleeping to simulate the long running task, you need to sleep in the SwingWorker&#39;s background thread.","body":"@snx Or rather, if you want to use sleeping to simulate the long running task, you need to sleep in the SwingWorker&#39;s background thread."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687180919,"post_id":76504046,"comment_id":134896777,"body_markdown":"Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information on the Event Dispatch Thread (EDT) and the SwingWorker.","body":"Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information on the Event Dispatch Thread (EDT) and the SwingWorker."}],"owner":{"account_id":20712052,"reputation":43,"user_id":15208462,"display_name":"snx"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687155522,"creation_date":1687155522,"question_id":76504046,"body_markdown":"An application should display a modal information dialog (JDialog class) after the user has entered their login credentials. This is needed because, in the case of first login or reset profile, the application needs to set up a few things, while this is done, the user should not be able to click anything and see the dialog. \r\n\r\nMy first approach was the following:\r\n\r\n     if(hasLoggedIn){\r\n            myInfoDialog.displayLogin();\r\n            try {\r\n                TimeUnit.SECONDS.sleep(5);\r\n            } catch (Exception e){}\r\n        }\r\nThe class &quot;myInfoDialog&quot; will call an info dialog:\r\n\r\n      public void displayLogin(){\r\n            myJDialog.setLogin()\r\n      }\r\n\r\nAnd the setLogin Metod of the JDialog will do:\r\n\r\n      public void setLogin(){\r\n        okButton.setVisible(false);\r\n        okButton.setEnabled(false);\r\n        cancelButton.setVisible(false);\r\n        cancelButton.setEnabled(false);\r\n        iconLabel.setIcon(infoIcon);\r\n        dialogTextField.setText(initMsg);\r\n        this.setVisible(true);\r\n     }\r\n\r\nThe issue is, that ` myInfoDialog.displayLogin();` will only show the dialog frame and title, and an empty white body looks like the rendering was incomplete. After the 5s of sleep, which I used to simulate the background operation after login, the dialog will finish rendering. But in the final case, this would be the moment where the dialog would be set to invisible. \r\n\r\nAs a first try to solve the problem, I&#39;ve implemented a swing worker:\r\n\r\n    SwingWorker&lt;Void, Void&gt; mySwingWorker = new SwingWorker&lt;Void, Void&gt;() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected Void doInBackground() throws Exception {\r\n\r\n\t\t\t\t\t\t//Here you put your long-running process...\r\n\r\n\t\t\t\t\t\tmyInfoDialog.displayLogin();\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\nAnd used like this:\r\n\r\n     if(hasLoggedIn){\r\n        mySwingWorker.execute();\r\n        try {\r\n            TimeUnit.SECONDS.sleep(5);\r\n        } catch (Exception e){}\r\n    }\r\n\r\nBut the issue still persists.\r\nWhat method could be used to display and render the dialog, regardless of other code execution?\r\n\r\n","title":"JDialog renderng issue with blocked operation","body":"<p>An application should display a modal information dialog (JDialog class) after the user has entered their login credentials. This is needed because, in the case of first login or reset profile, the application needs to set up a few things, while this is done, the user should not be able to click anything and see the dialog.</p>\n<p>My first approach was the following:</p>\n<pre><code> if(hasLoggedIn){\n        myInfoDialog.displayLogin();\n        try {\n            TimeUnit.SECONDS.sleep(5);\n        } catch (Exception e){}\n    }\n</code></pre>\n<p>The class &quot;myInfoDialog&quot; will call an info dialog:</p>\n<pre><code>  public void displayLogin(){\n        myJDialog.setLogin()\n  }\n</code></pre>\n<p>And the setLogin Metod of the JDialog will do:</p>\n<pre><code>  public void setLogin(){\n    okButton.setVisible(false);\n    okButton.setEnabled(false);\n    cancelButton.setVisible(false);\n    cancelButton.setEnabled(false);\n    iconLabel.setIcon(infoIcon);\n    dialogTextField.setText(initMsg);\n    this.setVisible(true);\n }\n</code></pre>\n<p>The issue is, that <code> myInfoDialog.displayLogin();</code> will only show the dialog frame and title, and an empty white body looks like the rendering was incomplete. After the 5s of sleep, which I used to simulate the background operation after login, the dialog will finish rendering. But in the final case, this would be the moment where the dialog would be set to invisible.</p>\n<p>As a first try to solve the problem, I've implemented a swing worker:</p>\n<pre><code>SwingWorker&lt;Void, Void&gt; mySwingWorker = new SwingWorker&lt;Void, Void&gt;() {\n\n                @Override\n                protected Void doInBackground() throws Exception {\n\n                    //Here you put your long-running process...\n\n                    myInfoDialog.displayLogin();\n                    return null;\n                }\n            };\n</code></pre>\n<p>And used like this:</p>\n<pre><code> if(hasLoggedIn){\n    mySwingWorker.execute();\n    try {\n        TimeUnit.SECONDS.sleep(5);\n    } catch (Exception e){}\n}\n</code></pre>\n<p>But the issue still persists.\nWhat method could be used to display and render the dialog, regardless of other code execution?</p>\n"},{"tags":["java","jvm","bytecode","synchronized","specifications"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1560322555,"post_id":56555542,"comment_id":99692939,"body_markdown":"Did you actually read the linked text? The code example is explained right beneath it; “*To enforce proper pairing of monitorenter and monitorexit instructions on abrupt method invocation completion, the compiler generates exception handlers (&#167;2.10) that will match any exception and whose associated code executes the necessary monitorexit instructions.*” In contrast, a statement like “JVM call monitorexit instruction twice” does not appear anywhere in that document.","body":"Did you actually read the linked text? The code example is explained right beneath it; “<i>To enforce proper pairing of monitorenter and monitorexit instructions on abrupt method invocation completion, the compiler generates exception handlers (&#167;2.10) that will match any exception and whose associated code executes the necessary monitorexit instructions.</i>” In contrast, a statement like “JVM call monitorexit instruction twice” does not appear anywhere in that document."}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560319833,"creation_date":1560319833,"answer_id":56555661,"question_id":56555542,"body_markdown":"If you look at the code, it should ends after line 10 where it goto return statement \r\n\r\n&gt;     9   monitorexit         // Exit the monitor associated with f\r\n    10  goto 18             // Complete the method normally\r\n    13  astore_3            // In case of any throw, end up here\r\n    14  aload_2             // Push local variable 2 (f)\r\n    15  monitorexit         // Be sure to exit the monitor!\r\n    16  aload_3             // Push thrown value...\r\n    17  athrow              // ...and rethrow value to the invoker\r\n    18  return              // Return in the normal case\r\n\r\nBut it adds a extra caution check if failed to return call again `monitorexit`         ","title":"Why do we need to call &#39;monitorexit&#39; instruction twice when we use &#39;synchronized&#39; keyword?","body":"<p>If you look at the code, it should ends after line 10 where it goto return statement </p>\n\n<blockquote>\n<pre><code>9   monitorexit         // Exit the monitor associated with f\n10  goto 18             // Complete the method normally\n13  astore_3            // In case of any throw, end up here\n14  aload_2             // Push local variable 2 (f)\n15  monitorexit         // Be sure to exit the monitor!\n16  aload_3             // Push thrown value...\n17  athrow              // ...and rethrow value to the invoker\n18  return              // Return in the normal case\n</code></pre>\n</blockquote>\n\n<p>But it adds a extra caution check if failed to return call again <code>monitorexit</code>         </p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687155475,"creation_date":1560322830,"answer_id":56556340,"question_id":56555542,"body_markdown":"The code is not &quot;calling&quot; the `monitorexit` instruction twice.  It is executing it once on two different code paths.  \r\n\r\n  - The first codepath is for when the code in the `synchronized` block exits normally.  \r\n  - The second codepath is in an *implicit*  exception handling path for the case where the block terminates abnormally.  \r\n\r\nYou could write the bytecodes in the example as *pseudo-code* that looks like this:\r\n\r\n    void onlyMe(Foo f) {\r\n        monitorEntry(f);\r\n\r\n        try {\r\n            doSomething();\r\n            monitorExit();\r\n        } catch (Throwable any) {\r\n            monitorExit();\r\n            throw any;\r\n        }\r\n    }\r\n\r\n--------------\r\n\r\nIf you want more information on this, take a look at this older question:\r\n\r\n  - https://stackoverflow.com/questions/18249906/how-do-i-exit-a-monitor-in-bytecode-properly\r\n","title":"Why do we need to call &#39;monitorexit&#39; instruction twice when we use &#39;synchronized&#39; keyword?","body":"<p>The code is not &quot;calling&quot; the <code>monitorexit</code> instruction twice.  It is executing it once on two different code paths.</p>\n<ul>\n<li>The first codepath is for when the code in the <code>synchronized</code> block exits normally.</li>\n<li>The second codepath is in an <em>implicit</em>  exception handling path for the case where the block terminates abnormally.</li>\n</ul>\n<p>You could write the bytecodes in the example as <em>pseudo-code</em> that looks like this:</p>\n<pre><code>void onlyMe(Foo f) {\n    monitorEntry(f);\n\n    try {\n        doSomething();\n        monitorExit();\n    } catch (Throwable any) {\n        monitorExit();\n        throw any;\n    }\n}\n</code></pre>\n<hr />\n<p>If you want more information on this, take a look at this older question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18249906/how-do-i-exit-a-monitor-in-bytecode-properly\">How do I exit a monitor in bytecode properly?</a></li>\n</ul>\n"}],"owner":{"account_id":10738765,"reputation":286,"user_id":7902611,"display_name":"Artiom Saidanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":56556340,"answer_count":2,"score":1,"last_activity_date":1687155475,"creation_date":1560319230,"question_id":56555542,"body_markdown":"According to [JVM Specification, paragraph 3.14 Synchronization](https://docs.oracle.com/javase/specs/jvms/se12/html/jvms-3.html#jvms-3.14), JVM call **monitorexit** instruction twice.\r\n\r\nI wonder why JVM need such behavior? \r\nWhy do we call this instruction 2 times, but not 3 or 4 or N times?\r\n\r\nMay be it&#39;s somehow connected with types of synchronization locks?","title":"Why do we need to call &#39;monitorexit&#39; instruction twice when we use &#39;synchronized&#39; keyword?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/specs/jvms/se12/html/jvms-3.html#jvms-3.14\" rel=\"nofollow noreferrer\">JVM Specification, paragraph 3.14 Synchronization</a>, JVM call <strong>monitorexit</strong> instruction twice.</p>\n\n<p>I wonder why JVM need such behavior? \nWhy do we call this instruction 2 times, but not 3 or 4 or N times?</p>\n\n<p>May be it's somehow connected with types of synchronization locks?</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1687155195,"post_id":76503096,"comment_id":134891686,"body_markdown":"Does this answer your question? [Repeating Task In Java](https://stackoverflow.com/questions/59806313/repeating-task-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59806313/repeating-task-in-java\">Repeating Task In Java</a>"}],"owner":{"account_id":28847389,"reputation":1,"user_id":22094058,"display_name":"Caleb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687155123,"creation_date":1687136757,"question_id":76503096,"body_markdown":"I&#39;m trying to run a certain &quot;scanning&quot; system. It has to scan millions of blocks and do many different things with each block so when I try and run it normally I get:\r\nhttps://sourceb.in/nFuUfzJ1oj\r\nthis crash. So I tried putting it in a runnable and running it asynchronously however it started fast, then kept slowing down and slowing more until it pretty much made it so it would be weeks before it finishes.\r\nLike that. What&#39;s happening here and how do I fix it?\r\n\r\nI then tried doing it in a separate thread,\r\n```\r\nnew Thread(new Runnable() {\r\n   @Override\r\n   public void run() {\r\n      // code goes here.\r\n   }\r\n}).start();\r\n```\r\nbut still the same issue","title":"SpigotAPI Method on different thread/async runnable slowing","body":"<p>I'm trying to run a certain &quot;scanning&quot; system. It has to scan millions of blocks and do many different things with each block so when I try and run it normally I get:\n<a href=\"https://sourceb.in/nFuUfzJ1oj\" rel=\"nofollow noreferrer\">https://sourceb.in/nFuUfzJ1oj</a>\nthis crash. So I tried putting it in a runnable and running it asynchronously however it started fast, then kept slowing down and slowing more until it pretty much made it so it would be weeks before it finishes.\nLike that. What's happening here and how do I fix it?</p>\n<p>I then tried doing it in a separate thread,</p>\n<pre><code>new Thread(new Runnable() {\n   @Override\n   public void run() {\n      // code goes here.\n   }\n}).start();\n</code></pre>\n<p>but still the same issue</p>\n"},{"tags":["java","android","react-native","gradle","android-gradle-plugin"],"owner":{"account_id":13254053,"reputation":4146,"user_id":9570734,"display_name":"Engr.Aftab Ufaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687154387,"creation_date":1687154387,"question_id":76503960,"body_markdown":"yarn run v1.22.19\r\n$ react-native run-android\r\n\r\n\r\n    info JS server already running.\r\n    info Installing the app...\r\n    \r\n    Task :react-native:ReactAndroid:hermes-engine:downloadHermes UP-TO-DATE\r\n    Download https://github.com/facebook/hermes/tarball/hermes-2023-03-07-RNv0.71.4-31fdcf738940875c9bacf251e149006cf515d763\r\n    \r\n    Task :react-native:ReactAndroid:hermes-engine:configureBuildForHermes FAILED\r\n    22 actionable tasks: 2 executed, 20 up-to-date\r\n    &#39;cmake&#39; n�o � reconhecido como um comando interno\r\n    ou externo, um programa oper�vel ou um arquivo em lotes.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:react-native:ReactAndroid:hermes-engine:configureBuildForHermes&#39;.\r\n    Process &#39;command &#39;cmd&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    Try:\r\n    Run with --stacktrace option to get the stack trace.\r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Get more help at https://help.gradle.org\r\n    BUILD FAILED in 6s\r\n    \r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\n    Error: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n    &#39;cmake&#39; It is not recognized as an internal command\r\n    or external, an operable program or a batch file.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:react-native:ReactAndroid:hermes-engine:configureBuildForHermes&#39;.\r\n    Try:\r\n    Run with --stacktrace option to get the stack trace.\r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Get more help at https://help.gradle.org\r\n    BUILD FAILED in 6s\r\n    \r\n    at makeError (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\execa\\index.js:278:16\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runOnAllDevices (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\r\n    at async Command.handleAction (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\r\n    info Run CLI with --verbose flag for more details.\r\n    error Command failed with exit code 1.\r\n    info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n    PS C:\\Users\\Principal\\Desktop\\AwesomeProject&gt; cd android\r\n    PS C:\\Users\\Principal\\Desktop\\AwesomeProject\\android&gt; ./gradlew assembleDebug --stacktrace\r\n    \r\n    Task :react-native:ReactAndroid:hermes-engine:downloadHermes UP-TO-DATE\r\n    Download https://github.com/facebook/hermes/tarball/hermes-2023-03-07-RNv0.71.4-31fdcf738940875c9bacf251e149006cf515d763\r\n    \r\n    Task :react-native:ReactAndroid:hermes-engine:configureBuildForHermes FAILED\r\n    &#39;cmake&#39; n&#227;o &#233; reconhecido como um comando interno\r\n    ou externo, um programa oper&#225;vel ou um arquivo em lotes.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:react-native:ReactAndroid:hermes-engine:configureBuildForHermes&#39;.\r\n    Process &#39;command &#39;cmd&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    Try:\r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:react-native:ReactAndroid:hermes-engine:configureBuildForHermes&#39;.\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;cmd&#39;&#39; finished with non-zero exit value 1\r\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\r\n    at org.gradle.process.internal.DefaultExecAction.execute(DefaultExecAction.java:38)\r\n    at org.gradle.api.tasks.AbstractExecTask.exec(AbstractExecTask.java:73)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\r\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \r\n    Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 5s","title":"Building react native from source is unsuccessful","body":"<p>yarn run v1.22.19\n$ react-native run-android</p>\n<pre><code>info JS server already running.\ninfo Installing the app...\n\nTask :react-native:ReactAndroid:hermes-engine:downloadHermes UP-TO-DATE\nDownload https://github.com/facebook/hermes/tarball/hermes-2023-03-07-RNv0.71.4-31fdcf738940875c9bacf251e149006cf515d763\n\nTask :react-native:ReactAndroid:hermes-engine:configureBuildForHermes FAILED\n22 actionable tasks: 2 executed, 20 up-to-date\n'cmake' n�o � reconhecido como um comando interno\nou externo, um programa oper�vel ou um arquivo em lotes.\n\nFAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':react-native:ReactAndroid:hermes-engine:configureBuildForHermes'.\nProcess 'command 'cmd'' finished with non-zero exit value 1\n\nTry:\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nGet more help at https://help.gradle.org\nBUILD FAILED in 6s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n'cmake' It is not recognized as an internal command\nor external, an operable program or a batch file.\n\nFAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':react-native:ReactAndroid:hermes-engine:configureBuildForHermes'.\nTry:\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nGet more help at https://help.gradle.org\nBUILD FAILED in 6s\n\nat makeError (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\execa\\index.js:174:9)\nat C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\execa\\index.js:278:16\nat processTicksAndRejections (node:internal/process/task_queues:96:5)\nat async runOnAllDevices (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\nat async Command.handleAction (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\ninfo Run CLI with --verbose flag for more details.\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nPS C:\\Users\\Principal\\Desktop\\AwesomeProject&gt; cd android\nPS C:\\Users\\Principal\\Desktop\\AwesomeProject\\android&gt; ./gradlew assembleDebug --stacktrace\n\nTask :react-native:ReactAndroid:hermes-engine:downloadHermes UP-TO-DATE\nDownload https://github.com/facebook/hermes/tarball/hermes-2023-03-07-RNv0.71.4-31fdcf738940875c9bacf251e149006cf515d763\n\nTask :react-native:ReactAndroid:hermes-engine:configureBuildForHermes FAILED\n'cmake' não é reconhecido como um comando interno\nou externo, um programa operável ou um arquivo em lotes.\n\nFAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':react-native:ReactAndroid:hermes-engine:configureBuildForHermes'.\nProcess 'command 'cmd'' finished with non-zero exit value 1\n\nTry:\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nException is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':react-native:ReactAndroid:hermes-engine:configureBuildForHermes'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\nat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'cmd'' finished with non-zero exit value 1\nat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\nat org.gradle.process.internal.DefaultExecAction.execute(DefaultExecAction.java:38)\nat org.gradle.api.tasks.AbstractExecTask.exec(AbstractExecTask.java:73)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\nat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\nat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\nat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\nat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\nat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\nat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\nat org.gradle.internal.Either$Right.fold(Either.java:175)\nat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\nat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\nat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\nGet more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624762111,"creation_date":1624762111,"answer_id":68147583,"question_id":68147318,"body_markdown":"No, there is no such method available. You can simply construct the string yourself (which is much easier than making an API call):\r\n\r\n    https://bucket-name.s3.amazonaws.com/key","title":"How to construct an Amazon S3 URI given bucket name and key?","body":"<p>No, there is no such method available. You can simply construct the string yourself (which is much easier than making an API call):</p>\n<pre><code>https://bucket-name.s3.amazonaws.com/key\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2498106,"reputation":111,"user_id":2174014,"display_name":"isp_developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687153757,"creation_date":1687153757,"answer_id":76503910,"question_id":68147318,"body_markdown":"## To simply construct valid s3:// URL ##\r\nYou can use java.net.URL class:\r\n```\r\nURL urlObject = new URL(&quot;s3&quot;,&quot;bucket-name,&quot;key&quot;);\r\nSystem.out.println(urlObject);\r\n```\r\n[javaDoc][1]\r\n\r\n\r\n## To Create http url of s3 object accessible via http request ##\r\n\r\n```\r\n S3Client s3client = S3Client.create();\r\n S3Utilities utilities = s3client.utilities();\r\n GetUrlRequest request = GetUrlRequest.builder().bucket(&quot;bucket-name&quot;).key(&quot;key&quot;).build();\r\n URL url = utilities.getUrl(request);\r\n```\r\n[javaDoc][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Utilities.html","title":"How to construct an Amazon S3 URI given bucket name and key?","body":"<h2>To simply construct valid s3:// URL</h2>\n<p>You can use java.net.URL class:</p>\n<pre><code>URL urlObject = new URL(&quot;s3&quot;,&quot;bucket-name,&quot;key&quot;);\nSystem.out.println(urlObject);\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">javaDoc</a></p>\n<h2>To Create http url of s3 object accessible via http request</h2>\n<pre><code> S3Client s3client = S3Client.create();\n S3Utilities utilities = s3client.utilities();\n GetUrlRequest request = GetUrlRequest.builder().bucket(&quot;bucket-name&quot;).key(&quot;key&quot;).build();\n URL url = utilities.getUrl(request);\n</code></pre>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Utilities.html\" rel=\"nofollow noreferrer\">javaDoc</a></p>\n"}],"owner":{"account_id":20130220,"reputation":83,"user_id":14762717,"display_name":"Kaushik Karalgikar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1687153757,"creation_date":1624757285,"question_id":68147318,"body_markdown":"Given bucket name and key, how do I get ```s3://bucket-name/key``` without using simple String operations? Is there a method in AmazonS3URI?\r\n\r\n","title":"How to construct an Amazon S3 URI given bucket name and key?","body":"<p>Given bucket name and key, how do I get <code>s3://bucket-name/key</code> without using simple String operations? Is there a method in AmazonS3URI?</p>\n"},{"tags":["java","spring-boot","junit-jupiter"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675346683,"post_id":75323377,"comment_id":132912485,"body_markdown":"You can&#39;t, unless you want to hack. Eg by putting a condition around the log.error to test if you are in a \\@SpringBootTest","body":"You can&#39;t, unless you want to hack. Eg by putting a condition around the log.error to test if you are in a \\@SpringBootTest"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1675348261,"post_id":75323377,"comment_id":132913075,"body_markdown":"Can you swap out the logger for this test and replace it with a dummy/no-op logger?","body":"Can you swap out the logger for this test and replace it with a dummy/no-op logger?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1675350913,"post_id":75323377,"comment_id":132914133,"body_markdown":"Maybe have a different logger configuration file in your resources subdirectory under the `src/test` directory tree?","body":"Maybe have a different logger configuration file in your resources subdirectory under the <code>src&#47;test</code> directory tree?"},{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1675404541,"post_id":75323377,"comment_id":132925812,"body_markdown":"@knittl Yes I could do that, but I was hoping a solution in which I would not need to add custom code for tests into the class/method tested.","body":"@knittl Yes I could do that, but I was hoping a solution in which I would not need to add custom code for tests into the class/method tested."},{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1675404662,"post_id":75323377,"comment_id":132925829,"body_markdown":"@k314159 That would affect to the whole class tested. I would need it to be just for this specific test. Otherwise it would work.","body":"@k314159 That would affect to the whole class tested. I would need it to be just for this specific test. Otherwise it would work."},{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1675410317,"post_id":75323377,"comment_id":132926915,"body_markdown":"@JohnWilliams I am afraid you may be correct. The hack-condition is not an option, though I&#39;m not giving up just yet finding a solution.","body":"@JohnWilliams I am afraid you may be correct. The hack-condition is not an option, though I&#39;m not giving up just yet finding a solution."}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675455924,"creation_date":1675351327,"answer_id":75325298,"question_id":75323377,"body_markdown":"If logging should be suppressed for a single test-class you can use\r\n\r\n```java\r\n@SpringBootTest(properties = &quot;logging.level.path.to.service.MyService=OFF&quot;)\r\n```\r\n\r\nIf logging should be suppressed in all your tests then add this to your application.properties \r\n\r\n_test/resources/application.properties_\r\n```properties\r\nlogging.level.path.to.service.MyService=OFF\r\n```\r\n----\r\nUPDATE\r\n\r\nSuppress logging for a single test could be done by nesting your test in a separate class\r\n\r\n```java\r\n@SpringBootTest\r\nclass DemoServiceTest {\r\n\r\n    @Autowired DemoService service;\r\n\r\n    @Test\r\n    void testWithErrorLogging() {\r\n        // ...\r\n    }\r\n\r\n    @Nested\r\n    @SpringBootTest(properties = {&quot;logging.level.com.example.demo.DemoService=OFF&quot;})\r\n    class IgnoreExceptionTests{\r\n        @Test\r\n        void isThisParameterGoodToUseWithOutError() {\r\n            Assertions.assertThrows(\r\n                    ServiceException.class,\r\n                    () -&gt; {\r\n                        service.isThisParameterGoodToUse(&quot;blabala&quot;);\r\n                    }\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Prevent exception from being logged in test","body":"<p>If logging should be suppressed for a single test-class you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(properties = &quot;logging.level.path.to.service.MyService=OFF&quot;)\n</code></pre>\n<p>If logging should be suppressed in all your tests then add this to your application.properties</p>\n<p><em>test/resources/application.properties</em></p>\n<pre><code>logging.level.path.to.service.MyService=OFF\n</code></pre>\n<hr />\n<p>UPDATE</p>\n<p>Suppress logging for a single test could be done by nesting your test in a separate class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass DemoServiceTest {\n\n    @Autowired DemoService service;\n\n    @Test\n    void testWithErrorLogging() {\n        // ...\n    }\n\n    @Nested\n    @SpringBootTest(properties = {&quot;logging.level.com.example.demo.DemoService=OFF&quot;})\n    class IgnoreExceptionTests{\n        @Test\n        void isThisParameterGoodToUseWithOutError() {\n            Assertions.assertThrows(\n                    ServiceException.class,\n                    () -&gt; {\n                        service.isThisParameterGoodToUse(&quot;blabala&quot;);\n                    }\n            );\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675456446,"creation_date":1675456446,"answer_id":75340782,"question_id":75323377,"body_markdown":"**Don&#39;t suppress the exception in logs, even in test.**\r\n\r\nSeeing exceptions thrown in tests is a good thing, since it means that your test covers a case in which they *would* be thrown.\r\n\r\nThe most desirable thing would be to validate that the exception along with the right message was thrown properly too (since you wouldn&#39;t want to mock the logger or spy on it or anything).\r\n\r\n```\r\n@Test\r\nvoid isThisParameterGoodToUse() {\r\n    assertThrows(ServiceException.class,\r\n         () -&gt; this.injectedService.isThisParameterGoodToUse(&quot;This is not a good parameter at all!&quot;), \r\n   &quot;There was a problem you can do nothing about, except maybe &#39;try again later&#39;.&quot;);\r\n}\r\n```","title":"Prevent exception from being logged in test","body":"<p><strong>Don't suppress the exception in logs, even in test.</strong></p>\n<p>Seeing exceptions thrown in tests is a good thing, since it means that your test covers a case in which they <em>would</em> be thrown.</p>\n<p>The most desirable thing would be to validate that the exception along with the right message was thrown properly too (since you wouldn't want to mock the logger or spy on it or anything).</p>\n<pre><code>@Test\nvoid isThisParameterGoodToUse() {\n    assertThrows(ServiceException.class,\n         () -&gt; this.injectedService.isThisParameterGoodToUse(&quot;This is not a good parameter at all!&quot;), \n   &quot;There was a problem you can do nothing about, except maybe 'try again later'.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687153546,"creation_date":1686313729,"answer_id":76440263,"question_id":75323377,"body_markdown":"The solution is to look at this issue from another perspective. Instead of trying to suppress a log (error) message when you are excepting it, instead verify it is actually logged. This is somewhat the thing @knittl suggested in comments.\r\n\r\nIn short. Provide a mock instance of the logger for the method you want to suppress the log messages at. (Depending on how you setup / use the class tested, you may need to ensure you have the mock logger set only for the certain tests)\r\n\r\nThe example class below logs an error message or warning message depending on the situation. Normally we would be interested only about the outcome of the method (asserts True/False) as it is generally enough to verify things work. But if you test also the messages, you get the solution automatically.\r\n\r\nExample class (tested with SpringBoot, but the same logic works with other frameworks also)\r\n\r\n    @Service\r\n    public class MyService {\r\n      private Logger log = LogManager.getLogger(MyService.class);\r\n\r\n     /**\r\n      * Protected so that this is available to test but no more than necessary.\r\n      */\r\n      protected void setLogger(Logger logger) {\r\n        this.log = logger;\r\n      }\r\n\r\n      public boolean processData(String data) throws ServiceException {\r\n        try {\r\n          if (!this.validateDataContains(data, &quot;MagicString&quot;)) {\r\n            log.warn(&quot;The given data does not contain the MagicString!&quot;);\r\n            return false;\r\n          }\r\n        } catch (Exception e) {\r\n          log.error(&quot;The given data is bad!&quot;, e);\r\n          throw new ServiceException(&quot;There was a problem you can do nothing about, except maybe &#39;try again later&#39;.&quot;);\r\n        }\r\n        return true;\r\n      }\r\n\r\n      protected boolean validateDataContains(String data, String magicString) {\r\n        if (data == null) {\r\n          throw new NullPointerException(&quot;Data given was null&quot;);\r\n        } else if (!data.contains(magicString)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n    }\r\n\r\nAnd the test class\r\n\r\n    @SpringBootTest\r\n    public class MyServiceTest extends Assertions {\r\n      @Autowired\r\n      private MyService service;\r\n      @Captor\r\n      private ArgumentCaptor&lt;String&gt; stringCaptor;\r\n    \r\n      @Test\r\n      public void logsErrorTest() {\r\n        var mockLogger = Mockito.mock(Logger.class);\r\n        service.setLogger(mockLogger);\r\n\r\n        assertThrows(ServiceException.class,\r\n          () -&gt; this.injectedService.processData(null));\r\n        \r\n        Mockito.verify(mockLogger, Mockito.times(1)).error(stringCaptor.capture(), ArgumentMatchers.any(Throwable.class));\r\n        assertEquals(&quot;The given data is bad!&quot;, stringCaptor.getValue());\r\n      }\r\n    \r\n      @Test\r\n      public void logsWarningTest() {\r\n        var mockLogger = Mockito.mock(Logger.class);\r\n        service.setLogger(mockLogger);\r\n\r\n        assertFalse(service.processData(&quot;This is plain text&quot;));\r\n        \r\n        Mockito.verify(mockLogger, Mockito.times(1)).warn(stringCaptor.capture());\r\n        assertEquals(&quot;The given data does not contain the MagicString!&quot;, stringCaptor.getValue());\r\n      }\r\n    }\r\n\r\nIf you are lazy, you don&#39;t have to verify the message logged, just provide a mock and forget the rest.","title":"Prevent exception from being logged in test","body":"<p>The solution is to look at this issue from another perspective. Instead of trying to suppress a log (error) message when you are excepting it, instead verify it is actually logged. This is somewhat the thing @knittl suggested in comments.</p>\n<p>In short. Provide a mock instance of the logger for the method you want to suppress the log messages at. (Depending on how you setup / use the class tested, you may need to ensure you have the mock logger set only for the certain tests)</p>\n<p>The example class below logs an error message or warning message depending on the situation. Normally we would be interested only about the outcome of the method (asserts True/False) as it is generally enough to verify things work. But if you test also the messages, you get the solution automatically.</p>\n<p>Example class (tested with SpringBoot, but the same logic works with other frameworks also)</p>\n<pre><code>@Service\npublic class MyService {\n  private Logger log = LogManager.getLogger(MyService.class);\n\n /**\n  * Protected so that this is available to test but no more than necessary.\n  */\n  protected void setLogger(Logger logger) {\n    this.log = logger;\n  }\n\n  public boolean processData(String data) throws ServiceException {\n    try {\n      if (!this.validateDataContains(data, &quot;MagicString&quot;)) {\n        log.warn(&quot;The given data does not contain the MagicString!&quot;);\n        return false;\n      }\n    } catch (Exception e) {\n      log.error(&quot;The given data is bad!&quot;, e);\n      throw new ServiceException(&quot;There was a problem you can do nothing about, except maybe 'try again later'.&quot;);\n    }\n    return true;\n  }\n\n  protected boolean validateDataContains(String data, String magicString) {\n    if (data == null) {\n      throw new NullPointerException(&quot;Data given was null&quot;);\n    } else if (!data.contains(magicString)) {\n      return false;\n    }\n    return true;\n  }\n}\n</code></pre>\n<p>And the test class</p>\n<pre><code>@SpringBootTest\npublic class MyServiceTest extends Assertions {\n  @Autowired\n  private MyService service;\n  @Captor\n  private ArgumentCaptor&lt;String&gt; stringCaptor;\n\n  @Test\n  public void logsErrorTest() {\n    var mockLogger = Mockito.mock(Logger.class);\n    service.setLogger(mockLogger);\n\n    assertThrows(ServiceException.class,\n      () -&gt; this.injectedService.processData(null));\n    \n    Mockito.verify(mockLogger, Mockito.times(1)).error(stringCaptor.capture(), ArgumentMatchers.any(Throwable.class));\n    assertEquals(&quot;The given data is bad!&quot;, stringCaptor.getValue());\n  }\n\n  @Test\n  public void logsWarningTest() {\n    var mockLogger = Mockito.mock(Logger.class);\n    service.setLogger(mockLogger);\n\n    assertFalse(service.processData(&quot;This is plain text&quot;));\n    \n    Mockito.verify(mockLogger, Mockito.times(1)).warn(stringCaptor.capture());\n    assertEquals(&quot;The given data does not contain the MagicString!&quot;, stringCaptor.getValue());\n  }\n}\n</code></pre>\n<p>If you are lazy, you don't have to verify the message logged, just provide a mock and forget the rest.</p>\n"}],"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76440263,"answer_count":3,"score":2,"last_activity_date":1687153546,"creation_date":1675341778,"question_id":75323377,"body_markdown":"I have a SpringBoot test which asserts an exception is thrown for certain situations from the method tested. However the method tested catches and groups multiple errors, logs the details and (re) throws just one &#39;ServiceException&#39; instead.&lt;br/&gt;\r\n(*log and rethrow the exact same exception would be an antipattern, this is not such case*)&lt;br/&gt;\r\nIt is a service method which does much stuff and the user/client should not be bothered with all the details. Most of the issues would be irrelevant and there&#39;s nothing to do except maybe &quot;try again later&quot;.\r\n\r\nThe test works correctly (passes when the exception is thrown) but I also see the original stacktrace logged (as it is supposed to when in production). However when doing tests, it is undesired to see this error show in logs as if it would be a real error. (Though could be a case for a test which is done poorly)\r\n\r\nSo the question is, how can I suppress the error from being logged just for this one test case?\r\n(Preventing the logging to happen for all tests is not a solution. Exception would be needed just for a specific test case)\r\n\r\nExample of the method to test:\r\n\r\n    public boolean isThisParameterGoodToUse(Object parameter) throws ServiceException {\r\n        try {\r\n            boolean allWasOk = true;\r\n            // Do stuff that may throw exceptions regardless of the parameter\r\n            return allWasOk;\r\n        } catch (IOException | HttpException | SomeException | YetAnotherException e) {\r\n            String msg = &quot;There was a problem you can do nothing about, except maybe &#39;try again later&#39;.&quot;;\r\n            this.log.error(msg, e); // Relevent for system monitors, nothing for the client\r\n            throw new ServiceException(msg);\r\n        }\r\n    }\r\n\r\nAnd then the test would look something like this (Class is annotated with &#39;@SpringBootTest&#39; and it uses &#39;Jupiter-api&#39;):\r\n\r\n    @Test\r\n    public void isThisParameterGoodToUse() {\r\n        assertThrows(ServiceException.class,\r\n            () -&gt; this.injectedService.isThisParameterGoodToUse(&quot;This is not a good parameter at all!&quot;));\r\n    }\r\n\r\nAnd when I run the test, I get error message to log, e.g.:\r\n\r\n    com.myProd.services.SomeException: There was a problem you can do nothing about, except maybe &#39;try again later&#39;.\r\n        at ... &lt;lots of stackTrace&gt; ...","title":"Prevent exception from being logged in test","body":"<p>I have a SpringBoot test which asserts an exception is thrown for certain situations from the method tested. However the method tested catches and groups multiple errors, logs the details and (re) throws just one 'ServiceException' instead.<br/>\n(<em>log and rethrow the exact same exception would be an antipattern, this is not such case</em>)<br/>\nIt is a service method which does much stuff and the user/client should not be bothered with all the details. Most of the issues would be irrelevant and there's nothing to do except maybe &quot;try again later&quot;.</p>\n<p>The test works correctly (passes when the exception is thrown) but I also see the original stacktrace logged (as it is supposed to when in production). However when doing tests, it is undesired to see this error show in logs as if it would be a real error. (Though could be a case for a test which is done poorly)</p>\n<p>So the question is, how can I suppress the error from being logged just for this one test case?\n(Preventing the logging to happen for all tests is not a solution. Exception would be needed just for a specific test case)</p>\n<p>Example of the method to test:</p>\n<pre><code>public boolean isThisParameterGoodToUse(Object parameter) throws ServiceException {\n    try {\n        boolean allWasOk = true;\n        // Do stuff that may throw exceptions regardless of the parameter\n        return allWasOk;\n    } catch (IOException | HttpException | SomeException | YetAnotherException e) {\n        String msg = &quot;There was a problem you can do nothing about, except maybe 'try again later'.&quot;;\n        this.log.error(msg, e); // Relevent for system monitors, nothing for the client\n        throw new ServiceException(msg);\n    }\n}\n</code></pre>\n<p>And then the test would look something like this (Class is annotated with '@SpringBootTest' and it uses 'Jupiter-api'):</p>\n<pre><code>@Test\npublic void isThisParameterGoodToUse() {\n    assertThrows(ServiceException.class,\n        () -&gt; this.injectedService.isThisParameterGoodToUse(&quot;This is not a good parameter at all!&quot;));\n}\n</code></pre>\n<p>And when I run the test, I get error message to log, e.g.:</p>\n<pre><code>com.myProd.services.SomeException: There was a problem you can do nothing about, except maybe 'try again later'.\n    at ... &lt;lots of stackTrace&gt; ...\n</code></pre>\n"},{"tags":["java","slack","slack-api","slack-commands","slack-block-kit"],"owner":{"account_id":13763805,"reputation":35,"user_id":9932867,"display_name":"Mallikarjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687153537,"creation_date":1687153096,"question_id":76503859,"body_markdown":"Hi am trying to build a Slack bot that asks questions and takes answers, how do I achieve the below use case \r\n```\r\nMy use case:\r\nUser: @MyBot start\r\nBot: question 1 (respond in threads or respond to channel)\r\nUser: Answer 1 (take this answer)\r\nBot: ask question 2\r\nUser: Answer 2 (take this answer)\r\nBot: you scored 100 %\r\n\r\n```\r\n\r\nbelow code responds in the thread using ts, am okay to start a conversation in the channel or thread (preferred but not required)\r\n\r\nso far I achieved following\r\n```\r\napp.event(AppMentionEvent.class, (payload, ctx) -&gt; {\r\n\tAppMentionEvent event = payload.getEvent();\r\n\tString type = event.getText().substring(event.getText().indexOf(&#39;&gt;&#39;) + 1);\r\n\tif (type.equals(&quot;start&quot;)) {\r\n\t\tChatPostMessageResponse message = ctx.client()\r\n\t\t\t\t.chatPostMessage(r -&gt; r.channel(event.getChannel()).threadTs(event.getTs())// event.getThreadTs() is null here\r\n\t\t\t\t\t\t.text(&quot;question 1&quot;));\r\n\t} else {\r\n\t\tctx.logger.info(&quot;add it latter&quot;);\r\n\t}\r\n\treturn ctx.ack();\r\n});\r\n```\r\nam stuck on how to take users&#39; response and unable to find relavent event, kindly share your knowledge \r\n","title":"slack bot that asks question and takes answer","body":"<p>Hi am trying to build a Slack bot that asks questions and takes answers, how do I achieve the below use case</p>\n<pre><code>My use case:\nUser: @MyBot start\nBot: question 1 (respond in threads or respond to channel)\nUser: Answer 1 (take this answer)\nBot: ask question 2\nUser: Answer 2 (take this answer)\nBot: you scored 100 %\n\n</code></pre>\n<p>below code responds in the thread using ts, am okay to start a conversation in the channel or thread (preferred but not required)</p>\n<p>so far I achieved following</p>\n<pre><code>app.event(AppMentionEvent.class, (payload, ctx) -&gt; {\n    AppMentionEvent event = payload.getEvent();\n    String type = event.getText().substring(event.getText().indexOf('&gt;') + 1);\n    if (type.equals(&quot;start&quot;)) {\n        ChatPostMessageResponse message = ctx.client()\n                .chatPostMessage(r -&gt; r.channel(event.getChannel()).threadTs(event.getTs())// event.getThreadTs() is null here\n                        .text(&quot;question 1&quot;));\n    } else {\n        ctx.logger.info(&quot;add it latter&quot;);\n    }\n    return ctx.ack();\n});\n</code></pre>\n<p>am stuck on how to take users' response and unable to find relavent event, kindly share your knowledge</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687152088,"creation_date":1687152088,"answer_id":76503797,"question_id":76503537,"body_markdown":"You need to change what controller produces\r\n\r\n    @GetMapping(value = &quot;/check&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;Result&gt; getWapiResult(@RequestParam String sn){\r\n                return new ResponseEntity(\r\n                        wapiService.getWapiData(sn).getBody(),\r\n                        new HttpHeaders(),\r\n                        HttpStatus.OK);\r\n            }\r\n\r\nAnd remove unnecessary annotations from Entity\r\n\r\n        public class Result {\r\n            private boolean complete;\r\n            private int srcsize;\r\n            private String urlpath;\r\n        }","title":"Returning JSON and XML using the same entity class","body":"<p>You need to change what controller produces</p>\n<pre><code>@GetMapping(value = &quot;/check&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic ResponseEntity&lt;Result&gt; getWapiResult(@RequestParam String sn){\n            return new ResponseEntity(\n                    wapiService.getWapiData(sn).getBody(),\n                    new HttpHeaders(),\n                    HttpStatus.OK);\n        }\n</code></pre>\n<p>And remove unnecessary annotations from Entity</p>\n<pre><code>    public class Result {\n        private boolean complete;\n        private int srcsize;\n        private String urlpath;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687153321,"creation_date":1687153321,"answer_id":76503882,"question_id":76503537,"body_markdown":"I guess your application is in Spring.\r\nOn Controller:  The @ResponseBody annotation tells the controller that the object returned is automatically serialized into JSON and passed back into the HttpResponse object.\r\nSo, keep annotation only @ResponseBody. In @Get Mapping, keep only value.\r\n@GetMapping(value = &quot;/check&quot;).\r\nOn Entity class: Remove all annotation of @XML. Keep a no-arg constructor in Result class.\r\nThis will return JSON as ResponseBody.","title":"Returning JSON and XML using the same entity class","body":"<p>I guess your application is in Spring.\nOn Controller:  The @ResponseBody annotation tells the controller that the object returned is automatically serialized into JSON and passed back into the HttpResponse object.\nSo, keep annotation only @ResponseBody. In @Get Mapping, keep only value.\n@GetMapping(value = &quot;/check&quot;).\nOn Entity class: Remove all annotation of @XML. Keep a no-arg constructor in Result class.\nThis will return JSON as ResponseBody.</p>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687153321,"creation_date":1687147137,"question_id":76503537,"body_markdown":"I have this controller code that is returning XML , how can i make it return JSON with minimum line of code or just with few annotation on the entity class or the controller .\r\n\r\n\r\n\t\t\t@GetMapping(value = &quot;/check&quot;, produces = MediaType.APPLICATION_XML_VALUE)\r\n\t\t\t    @ResponseBody\r\n\t\t\t    public ResponseEntity&lt;Result&gt; getWapiResult(@RequestParam String sn){\r\n\t\t\t        return new ResponseEntity(\r\n\t\t\t                wapiService.getWapiData(sn).getBody(),\r\n\t\t\t                new HttpHeaders(),\r\n\t\t\t                HttpStatus.OK);\r\n\t\t\t    }\r\n\r\n\r\n\r\nThis is the entity class \r\n\r\n\r\n\t\t\t@XmlRootElement\r\n\t\t\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\t\tpublic class Result {\r\n\t\t\t\r\n\t\t\t    private boolean complete;\r\n\t\t\t    private int srcsize;\r\n\t\t\t\r\n\t\t\t    private String urlpath;\r\n\t\t\t}","title":"Returning JSON and XML using the same entity class","body":"<p>I have this controller code that is returning XML , how can i make it return JSON with minimum line of code or just with few annotation on the entity class or the controller .</p>\n<pre><code>        @GetMapping(value = &quot;/check&quot;, produces = MediaType.APPLICATION_XML_VALUE)\n            @ResponseBody\n            public ResponseEntity&lt;Result&gt; getWapiResult(@RequestParam String sn){\n                return new ResponseEntity(\n                        wapiService.getWapiData(sn).getBody(),\n                        new HttpHeaders(),\n                        HttpStatus.OK);\n            }\n</code></pre>\n<p>This is the entity class</p>\n<pre><code>        @XmlRootElement\n        @XmlAccessorType(XmlAccessType.FIELD)\n        public class Result {\n        \n            private boolean complete;\n            private int srcsize;\n        \n            private String urlpath;\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","model-view-controller"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1687077177,"post_id":76499640,"comment_id":134884356,"body_markdown":"You forgot to ask an actual question. Please [edit] the post and add a focused question.","body":"You forgot to ask an actual question. Please <a href=\"https://stackoverflow.com/posts/76499640/edit\">edit</a> the post and add a focused question."},{"owner":{"account_id":22567212,"reputation":61,"user_id":16754032,"display_name":"Alex K"},"score":0,"creation_date":1687077581,"post_id":76499640,"comment_id":134884393,"body_markdown":"@Turing85  thanks, I edited the question to make it clearer","body":"@Turing85  thanks, I edited the question to make it clearer"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1687077981,"post_id":76499640,"comment_id":134884440,"body_markdown":"Does [this](https://stackoverflow.com/questions/64080983/when-does-jackson-require-no-arg-constructor-for-deserialization) answer your question?","body":"Does <a href=\"https://stackoverflow.com/questions/64080983/when-does-jackson-require-no-arg-constructor-for-deserialization\">this</a> answer your question?"},{"owner":{"account_id":22567212,"reputation":61,"user_id":16754032,"display_name":"Alex K"},"score":0,"creation_date":1687078443,"post_id":76499640,"comment_id":134884488,"body_markdown":"@Turing85 if it does, then I don&#39;t understand how so..","body":"@Turing85 if it does, then I don&#39;t understand how so.."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687081606,"post_id":76499640,"comment_id":134884779,"body_markdown":"Short answer: there are no setters. Solution: add setters for all fields of the class User.","body":"Short answer: there are no setters. Solution: add setters for all fields of the class User."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687081796,"post_id":76499640,"comment_id":134884799,"body_markdown":"Longer answer: if you provide a no-args you must provide the setters too. But if you provide only an all-args constructor and no no-args constructor then setters are not mandatory.","body":"Longer answer: if you provide a no-args you must provide the setters too. But if you provide only an all-args constructor and no no-args constructor then setters are not mandatory."},{"owner":{"account_id":22567212,"reputation":61,"user_id":16754032,"display_name":"Alex K"},"score":0,"creation_date":1687084460,"post_id":76499640,"comment_id":134885067,"body_markdown":"thanks @Mar-Z ! adding setters solved the issue, but I&#39;m still a bit confused about the reason to this behavior, could you please elaborate or refer me to an explanation about this subject? (its not a java feature right? its something in spring that I&#39;m missing?)","body":"thanks @Mar-Z ! adding setters solved the issue, but I&#39;m still a bit confused about the reason to this behavior, could you please elaborate or refer me to an explanation about this subject? (its not a java feature right? its something in spring that I&#39;m missing?)"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687086629,"post_id":76499640,"comment_id":134885300,"body_markdown":"It&#39;s the Jackson library. Standard for dealing with JSON objects in Spring Boot. It translates JSON objects to Java objects and back. It&#39;s called serialization/deserialization. There are 4 different ways it can do it depending on constructors provided in Java object. All four well explained in the answer to this: https://stackoverflow.com/questions/64080983/when-does-jackson-require-no-arg-constructor-for-deserialization","body":"It&#39;s the Jackson library. Standard for dealing with JSON objects in Spring Boot. It translates JSON objects to Java objects and back. It&#39;s called serialization/deserialization. There are 4 different ways it can do it depending on constructors provided in Java object. All four well explained in the answer to this: <a href=\"https://stackoverflow.com/questions/64080983/when-does-jackson-require-no-arg-constructor-for-deserialization\" title=\"when does jackson require no arg constructor for deserialization\">stackoverflow.com/questions/64080983/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687153184,"creation_date":1687153184,"answer_id":76503868,"question_id":76499640,"body_markdown":"Alex K real reason for this weird behavior is how Jackson uses your getter/setter to serialize the object, its expected member variable to start with lowercase in your case your variables start with uppercase, leading to this weird behavior, if your member variables are not following java convention then it can lead to weird behavior as Jackson expect your variables to follow it\r\n```\r\npublic class User {\r\n\r\n    private int Id;  // change them to lowercase id\r\n    private String Name;\r\n    private String Email;\r\n    private String Password;\r\n\r\n    /*private int id;\r\n    private String name;\r\n    private String email;\r\n    private String password;*/\r\n\r\n```\r\nRefer this for more info -- https://stackoverflow.com/a/75884462/16769477","title":"Spring Boot having empty constructor prevents reading body in Postman POST request","body":"<p>Alex K real reason for this weird behavior is how Jackson uses your getter/setter to serialize the object, its expected member variable to start with lowercase in your case your variables start with uppercase, leading to this weird behavior, if your member variables are not following java convention then it can lead to weird behavior as Jackson expect your variables to follow it</p>\n<pre><code>public class User {\n\n    private int Id;  // change them to lowercase id\n    private String Name;\n    private String Email;\n    private String Password;\n\n    /*private int id;\n    private String name;\n    private String email;\n    private String password;*/\n\n</code></pre>\n<p>Refer this for more info -- <a href=\"https://stackoverflow.com/a/75884462/16769477\">https://stackoverflow.com/a/75884462/16769477</a></p>\n"}],"owner":{"account_id":22567212,"reputation":61,"user_id":16754032,"display_name":"Alex K"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503868,"answer_count":1,"score":0,"last_activity_date":1687153184,"creation_date":1687076700,"question_id":76499640,"body_markdown":"I am following a spring-boot tutorial, and I, trying to create a method to add new user to a user list (for now), I noticed that having an empty constructor in the &quot;User&quot; class prevents spring-boot from taking the values from the body of the request, \r\n\r\nI do a postman requset to http://localhost:8080/users\r\nwith a raw json body\r\n\r\ndeleting the line with the empty constructor seem to solve this problem. I don&#39;t understand why..\r\n\r\nwhy deleting the empty constructor solves the issue? what am I missing?\r\n\r\n\r\nI am kinda new to spring\r\nany help will be appreciated, thanks!\r\n\r\nthe User class:\r\n\r\n    public class User {\r\n    \r\n        private int Id;\r\n        private String Name;\r\n        private String Email;\r\n        private String Password;\r\n    \r\n    \r\n        public User() {} //deleting this seems so solve issue\r\n    \r\n        public User(int id, String name, String email, String password) {\r\n            Id = id;\r\n            Name = name;\r\n            Email = email;\r\n            Password = password;\r\n        }\r\n    \r\n        public int getId() {\r\n            return Id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return Name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return Email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return Password;\r\n        }\r\n    }\r\n\r\nthe UserService Class:\r\n\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class UserService {\r\n    \r\n        List&lt;User&gt; users =new ArrayList&lt;&gt;( Arrays.asList(\r\n                new User(1, &quot;ff&quot;, &quot;1&quot;, &quot;1&quot;),\r\n                new User(2, &quot;qqq&quot;, &quot;qq&quot;, &quot;qqq&quot;)\r\n        ));\r\n    \r\n    \r\n        public List&lt;User&gt; GetAllUsers() {\r\n            return users;\r\n        }\r\n    \r\n        public User getUser(int id) {\r\n            return users.stream()\r\n                    .filter(x -&gt; x.getId() == id)\r\n                    .findFirst()\r\n                    .orElse(null);\r\n        }\r\n    \r\n        public void addUser(User user) {\r\n            users.add(user);\r\n        }\r\n    }\r\n\r\n the user conroller class:\r\n\r\n      @Autowired\r\n        private UserService userService;\r\n    \r\n        @RequestMapping(&quot;/users&quot;)\r\n        public List&lt;User&gt; getAllUsers(){\r\n            return userService.GetAllUsers();\r\n        }\r\n    \r\n        @RequestMapping(&quot;users/{id}&quot;)\r\n        public User getUser(@PathVariable int id){\r\n            return userService.getUser(id);\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.POST,value = &quot;/users&quot;)\r\n        public void addUser(@RequestBody User user){\r\n            userService.addUser(user);\r\n        }\r\n        \r\n\r\n}\r\n\r\nand the class with the main method:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class TodoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TodoApplication.class, args);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot having empty constructor prevents reading body in Postman POST request","body":"<p>I am following a spring-boot tutorial, and I, trying to create a method to add new user to a user list (for now), I noticed that having an empty constructor in the &quot;User&quot; class prevents spring-boot from taking the values from the body of the request,</p>\n<p>I do a postman requset to http://localhost:8080/users\nwith a raw json body</p>\n<p>deleting the line with the empty constructor seem to solve this problem. I don't understand why..</p>\n<p>why deleting the empty constructor solves the issue? what am I missing?</p>\n<p>I am kinda new to spring\nany help will be appreciated, thanks!</p>\n<p>the User class:</p>\n<pre><code>public class User {\n\n    private int Id;\n    private String Name;\n    private String Email;\n    private String Password;\n\n\n    public User() {} //deleting this seems so solve issue\n\n    public User(int id, String name, String email, String password) {\n        Id = id;\n        Name = name;\n        Email = email;\n        Password = password;\n    }\n\n    public int getId() {\n        return Id;\n    }\n\n    public String getName() {\n        return Name;\n    }\n\n    public String getEmail() {\n        return Email;\n    }\n\n    public String getPassword() {\n        return Password;\n    }\n}\n</code></pre>\n<p>the UserService Class:</p>\n<pre><code>import org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n@Service\npublic class UserService {\n\n    List&lt;User&gt; users =new ArrayList&lt;&gt;( Arrays.asList(\n            new User(1, &quot;ff&quot;, &quot;1&quot;, &quot;1&quot;),\n            new User(2, &quot;qqq&quot;, &quot;qq&quot;, &quot;qqq&quot;)\n    ));\n\n\n    public List&lt;User&gt; GetAllUsers() {\n        return users;\n    }\n\n    public User getUser(int id) {\n        return users.stream()\n                .filter(x -&gt; x.getId() == id)\n                .findFirst()\n                .orElse(null);\n    }\n\n    public void addUser(User user) {\n        users.add(user);\n    }\n}\n</code></pre>\n<p>the user conroller class:</p>\n<pre><code>  @Autowired\n    private UserService userService;\n\n    @RequestMapping(&quot;/users&quot;)\n    public List&lt;User&gt; getAllUsers(){\n        return userService.GetAllUsers();\n    }\n\n    @RequestMapping(&quot;users/{id}&quot;)\n    public User getUser(@PathVariable int id){\n        return userService.getUser(id);\n    }\n\n    @RequestMapping(method = RequestMethod.POST,value = &quot;/users&quot;)\n    public void addUser(@RequestBody User user){\n        userService.addUser(user);\n    }\n    \n</code></pre>\n<p>}</p>\n<p>and the class with the main method:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TodoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TodoApplication.class, args);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring-security","configuration","microservices"],"owner":{"account_id":28848308,"reputation":1,"user_id":22094779,"display_name":"Jyotsna V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687152959,"creation_date":1687152959,"question_id":76503846,"body_markdown":"What are the API which can be used to hide important Service API details from configuration file ? I don&#39;t want to expose client id , secrets from the confguration file for calling the APIS ,Can anyone guide here ?\r\n\r\nI am trying to hide cliend id and secrets from the configuration file as it is against of security policy. Where can i put all these details ? is there any way to achieve it ?","title":"Security for configuration files","body":"<p>What are the API which can be used to hide important Service API details from configuration file ? I don't want to expose client id , secrets from the confguration file for calling the APIS ,Can anyone guide here ?</p>\n<p>I am trying to hide cliend id and secrets from the configuration file as it is against of security policy. Where can i put all these details ? is there any way to achieve it ?</p>\n"},{"tags":["java","android","httprequest","okhttp"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1687100779,"post_id":76501040,"comment_id":134886780,"body_markdown":"First, you should at least log the stack trace in the catch block and edit and post the outcome into your question.","body":"First, you should at least log the stack trace in the catch block and edit and post the outcome into your question."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1687101163,"post_id":76501040,"comment_id":134886819,"body_markdown":"Seems that https://wit.ai/docs is down right now. Probably, you are not using the right HTTP method for this endpoint.","body":"Seems that <a href=\"https://wit.ai/docs\" rel=\"nofollow noreferrer\">wit.ai/docs</a> is down right now. Probably, you are not using the right HTTP method for this endpoint."},{"owner":{"account_id":22534564,"reputation":1,"user_id":16726070,"display_name":"Kira"},"score":0,"creation_date":1687145452,"post_id":76501040,"comment_id":134890783,"body_markdown":"The catch block is not executed though","body":"The catch block is not executed though"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1687163419,"post_id":76501040,"comment_id":134893165,"body_markdown":"At `https://wit.ai/docs/http/20230215/` is no POST /message endpoint documented.","body":"At <code>https:&#47;&#47;wit.ai&#47;docs&#47;http&#47;20230215&#47;</code> is no POST /message endpoint documented."}],"owner":{"account_id":22534564,"reputation":1,"user_id":16726070,"display_name":"Kira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687151237,"creation_date":1687098624,"question_id":76501040,"body_markdown":"I&#39;m currently working with wit.ai api to try and make a chat ai,but it is my first time using an api and I don&#39;t know how to sent or receive data to the api. Can anyone pls help me with this.\r\n\r\n\r\n\r\nHere is my current code:\r\n\r\n\r\n```\r\nMediaType medType = MediaType.parse(&quot;text/plain; charset=utf-8&quot;);\r\n            \r\n            httpClient = new OkHttpClient();\r\n    httpBuilder = HttpUrl.parse(&quot;https://api.wit.ai/message&quot;).newBuilder();\r\n\r\n    httpBuilder.addQueryParameter(&quot;v&quot;, &quot;20230618&quot;);\r\n    httpRequest = new Request.Builder()\r\n        .url(httpBuilder.build())\r\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CLIENT_ACCESS_TOKEN)\r\n            .post(RequestBody.create(medType,&quot;I&#39;m Pat&quot;))\r\n        .header(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;)\r\n        .build();\r\n      \r\n      try{\r\n          Response response = httpClient.newCall(httpRequest).execute();\r\n                ResponseBody responseBody = response.body();\r\n                \r\n                MainActivity.this.runOnUiThread(new Runnable(){\r\n                    \r\n                \r\n                                                                  @Override\r\n                                                                  public void run() {\r\n                            try{\r\n                                mytxtView.setText(responseBody.string());\r\n                            }catch(IOException e){\r\n                                mytxtView.setText(&quot;IOException&quot;);\r\n                            }\r\n                                                                  }\r\n                                                                  \r\n});\r\n      }catch(IOException e){\r\n          \r\n      }\r\n```\r\n\r\nThe code above returns unsupported post request.\r\n\r\nUpdate:\r\n\r\nI have change my Request.Builder to this:\r\n\r\n    httpRequest =\r\n          new Request.Builder()\r\n              .url(httpBuilder.build())\r\n              .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CLIENT_ACCESS_TOKEN)\r\n              .header(&quot;Content-Type&quot;,&quot;text/plain&quot;)\r\n              .get()\r\n              .build();\r\n\r\nIt works! I don&#39;t get the unsupported request error anymore.The problem is I don&#39;t know where to put the string data that I want to send. \r\n\r\n","title":"How to send String data to wit.ai using OkHttp","body":"<p>I'm currently working with wit.ai api to try and make a chat ai,but it is my first time using an api and I don't know how to sent or receive data to the api. Can anyone pls help me with this.</p>\n<p>Here is my current code:</p>\n<pre><code>MediaType medType = MediaType.parse(&quot;text/plain; charset=utf-8&quot;);\n            \n            httpClient = new OkHttpClient();\n    httpBuilder = HttpUrl.parse(&quot;https://api.wit.ai/message&quot;).newBuilder();\n\n    httpBuilder.addQueryParameter(&quot;v&quot;, &quot;20230618&quot;);\n    httpRequest = new Request.Builder()\n        .url(httpBuilder.build())\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CLIENT_ACCESS_TOKEN)\n            .post(RequestBody.create(medType,&quot;I'm Pat&quot;))\n        .header(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;)\n        .build();\n      \n      try{\n          Response response = httpClient.newCall(httpRequest).execute();\n                ResponseBody responseBody = response.body();\n                \n                MainActivity.this.runOnUiThread(new Runnable(){\n                    \n                \n                                                                  @Override\n                                                                  public void run() {\n                            try{\n                                mytxtView.setText(responseBody.string());\n                            }catch(IOException e){\n                                mytxtView.setText(&quot;IOException&quot;);\n                            }\n                                                                  }\n                                                                  \n});\n      }catch(IOException e){\n          \n      }\n</code></pre>\n<p>The code above returns unsupported post request.</p>\n<p>Update:</p>\n<p>I have change my Request.Builder to this:</p>\n<pre><code>httpRequest =\n      new Request.Builder()\n          .url(httpBuilder.build())\n          .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CLIENT_ACCESS_TOKEN)\n          .header(&quot;Content-Type&quot;,&quot;text/plain&quot;)\n          .get()\n          .build();\n</code></pre>\n<p>It works! I don't get the unsupported request error anymore.The problem is I don't know where to put the string data that I want to send.</p>\n"},{"tags":["java","android","c++","java-native-interface","swig"],"owner":{"account_id":7657835,"reputation":407,"user_id":5804038,"display_name":"Murali Krishna Bellamkonda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687165004,"answer_count":0,"score":0,"last_activity_date":1687151016,"creation_date":1687151016,"question_id":76503731,"body_markdown":"We have a multimedia player SDK where all the source files are in CPP. We have a requirement that we need to register a listener with the android audioTrack by calling the following method\r\n`addOnCodecFormatChangedListener`. \r\n\r\nUsing the JNI interface I can easily call the above method from CPP.\r\n\r\nThis method takes two objects as arguments:\r\n1. Executor object\r\n2. Listener object\r\n\r\nPlease refer the following for more information.\r\nhttps://developer.android.com/reference/android/media/AudioTrack#addOnCodecFormatChangedListener(java.util.concurrent.Executor,%20android.media.AudioTrack.OnCodecFormatChangedListener)\r\n\r\nTo create an object of the listener class, I need to implement the AudioTrack&#39;s `onCodecFormatChangedListener`.\r\n\r\nFollowing is an example of how we implement the `onCodecFormatChangedListener` in Java:\r\n\r\nhttps://developer.android.com/reference/android/media/AudioTrack.OnCodecFormatChangedListener\r\n\r\n```\r\npublic class AudioTrackListener implements AudioTrack.OnCodecFormatChangedListener{\r\n\r\n    @Override\r\n    public void onCodecFormatChanged (AudioTrack audioTrack, \r\n                AudioMetadataReadMap info) {\r\n        // Handle onCodecFormatChanged event\r\n    }\r\n}\r\n```\r\n\r\nAs our player doesn&#39;t have the `.java` files, I should do everything in cpp. Is it possible to somehow implement the Java interface in C++, create an object, and pass it to the AudioTrack? When audioTrack invokes, even the implemented method from the C++ should get called.\r\n\r\n**In summary:**\r\nHow can I implement the Java interface from the CPP","title":"Is it possible to implement java interface AudioTrack.OnCodecFormatChangedListener from cpp","body":"<p>We have a multimedia player SDK where all the source files are in CPP. We have a requirement that we need to register a listener with the android audioTrack by calling the following method\n<code>addOnCodecFormatChangedListener</code>.</p>\n<p>Using the JNI interface I can easily call the above method from CPP.</p>\n<p>This method takes two objects as arguments:</p>\n<ol>\n<li>Executor object</li>\n<li>Listener object</li>\n</ol>\n<p>Please refer the following for more information.\n<a href=\"https://developer.android.com/reference/android/media/AudioTrack#addOnCodecFormatChangedListener(java.util.concurrent.Executor,%20android.media.AudioTrack.OnCodecFormatChangedListener)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/AudioTrack#addOnCodecFormatChangedListener(java.util.concurrent.Executor,%20android.media.AudioTrack.OnCodecFormatChangedListener)</a></p>\n<p>To create an object of the listener class, I need to implement the AudioTrack's <code>onCodecFormatChangedListener</code>.</p>\n<p>Following is an example of how we implement the <code>onCodecFormatChangedListener</code> in Java:</p>\n<p><a href=\"https://developer.android.com/reference/android/media/AudioTrack.OnCodecFormatChangedListener\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/AudioTrack.OnCodecFormatChangedListener</a></p>\n<pre><code>public class AudioTrackListener implements AudioTrack.OnCodecFormatChangedListener{\n\n    @Override\n    public void onCodecFormatChanged (AudioTrack audioTrack, \n                AudioMetadataReadMap info) {\n        // Handle onCodecFormatChanged event\n    }\n}\n</code></pre>\n<p>As our player doesn't have the <code>.java</code> files, I should do everything in cpp. Is it possible to somehow implement the Java interface in C++, create an object, and pass it to the AudioTrack? When audioTrack invokes, even the implemented method from the C++ should get called.</p>\n<p><strong>In summary:</strong>\nHow can I implement the Java interface from the CPP</p>\n"},{"tags":["java","selenium-webdriver","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687150630,"creation_date":1687150630,"answer_id":76503699,"question_id":76503518,"body_markdown":"QAF supports `FindBy`(org.openqa.selenium.support.FindBy), `FindBys`(org.openqa.selenium.support.FindBys) from selenium support library in addition to it&#39;s own `FindBy`(com.qmetry.qaf.automation.ui.annotations.FindBy) but not `FindAll`\r\n\r\nIt doesn&#39;t mean you can not use it with QAF. To use `FindAll` you will required to add additional one line code as below in your page class constructor.\r\n\r\n```\r\nimport org.openqa.selenium.support.PageFactory\r\n\t...\r\n\r\nclass MyPage extends WebDriverBaseTestPage&lt;WebDriverTestPage&gt;\r\n\r\n\t...\r\n\r\n\tpublic MyPage() {\r\n\t\tPageFactory.initElements(driver, this);\r\n\t}\r\n\t...\r\n}\r\n```","title":"How to identify multiple WebElements with multiple criteria in QAF?","body":"<p>QAF supports <code>FindBy</code>(org.openqa.selenium.support.FindBy), <code>FindBys</code>(org.openqa.selenium.support.FindBys) from selenium support library in addition to it's own <code>FindBy</code>(com.qmetry.qaf.automation.ui.annotations.FindBy) but not <code>FindAll</code></p>\n<p>It doesn't mean you can not use it with QAF. To use <code>FindAll</code> you will required to add additional one line code as below in your page class constructor.</p>\n<pre><code>import org.openqa.selenium.support.PageFactory\n    ...\n\nclass MyPage extends WebDriverBaseTestPage&lt;WebDriverTestPage&gt;\n\n    ...\n\n    public MyPage() {\n        PageFactory.initElements(driver, this);\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":28064486,"reputation":45,"user_id":21438080,"display_name":"Ostan Dsouza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503699,"answer_count":1,"score":0,"last_activity_date":1687150630,"creation_date":1687146641,"question_id":76503518,"body_markdown":"I&#39;m working on a use case where I need to identify one or more WebElement objects in QAF (Qmetry Automation Framework). In Selenium, I can achieve this by using the @FindAll annotation with multiple @FindBy annotations, like this:\r\n\r\n```\r\n@FindAll({\r\n   @FindBy(className = &quot;class1&quot;),\r\n   @FindBy(className = &quot;class2&quot;)\r\n})\r\nprivate List&lt;WebElement&gt; elementsWithEitherClass1OrClass2;\r\n```\r\n\r\nHowever, I couldn&#39;t find a similar implementation in QAF. Is there a way to achieve the same result in QAF? I would appreciate any guidance or suggestions on how to approach this in QAF. Thank you!","title":"How to identify multiple WebElements with multiple criteria in QAF?","body":"<p>I'm working on a use case where I need to identify one or more WebElement objects in QAF (Qmetry Automation Framework). In Selenium, I can achieve this by using the @FindAll annotation with multiple @FindBy annotations, like this:</p>\n<pre><code>@FindAll({\n   @FindBy(className = &quot;class1&quot;),\n   @FindBy(className = &quot;class2&quot;)\n})\nprivate List&lt;WebElement&gt; elementsWithEitherClass1OrClass2;\n</code></pre>\n<p>However, I couldn't find a similar implementation in QAF. Is there a way to achieve the same result in QAF? I would appreciate any guidance or suggestions on how to approach this in QAF. Thank you!</p>\n"},{"tags":["java","spring-boot","redis"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1680874052,"post_id":75958697,"comment_id":133973588,"body_markdown":"Have you cleared the cache after the upgrade?","body":"Have you cleared the cache after the upgrade?"},{"owner":{"account_id":11593348,"reputation":401,"user_id":8492856,"display_name":"ktcl"},"score":0,"creation_date":1680876795,"post_id":75958697,"comment_id":133974170,"body_markdown":"yes, I have even deployed a new redis instance","body":"yes, I have even deployed a new redis instance"},{"owner":{"account_id":1021467,"reputation":173,"user_id":1031698,"accept_rate":83,"display_name":"Marcelo Fernandes"},"score":0,"creation_date":1684234910,"post_id":75958697,"comment_id":134484876,"body_markdown":"I have the same error too. This error disabled me from doing hot deploy with spring-data, redis, and hibernate.","body":"I have the same error too. This error disabled me from doing hot deploy with spring-data, redis, and hibernate."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687150389,"creation_date":1686907294,"answer_id":76488757,"question_id":75958697,"body_markdown":"The issue is that in Hibernate 6, the hibernate object caching is not working. So you need to load the full object if it&#39;s `FetchType.Lazy` and you need Lazy object properties and `unproxy` the object before caching.\r\n\r\nTo unproxy an object use the `Hibernate.unproxy` method.\r\n**Updated code:**\r\n```Jave\r\n@Cacheable(value = &quot;configCache&quot;, key = &quot;{#root.methodName, #key}&quot;)\r\n@Override\r\npublic Optional&lt;Config&gt; getByKey(String key) {\r\n    var config = confRepository.findByKey(key);\r\n    var entity = config.isPresent() ? Hibernate.unproxy(config.get(), Config.class) : null;\r\n    return Optional.ofNullable(entity);\r\n}\r\n```\r\n\r\nI had a similar issue after upgrading to Hibernate 6 in Spring MVC. By `unproxy` the hibernate object before saving it into the cache solved the issue. Also, with spring security session I need to use record/POJO class for authentication object.\r\n\r\nIf issue still persist then use record/POJO class to be stored in cache. Because mapping of different entity also adds hibernate classes to serialization.\r\n\r\n&gt; Hibernate 6: Never store hibernate objects to cache when multiple servers uses same cache.\r\n\r\nYou can use [RedisInsight](https://redis.com/redis-enterprise/redis-insight/) to browse data stored in redis and inspect to get more details.","title":"Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer","body":"<p>The issue is that in Hibernate 6, the hibernate object caching is not working. So you need to load the full object if it's <code>FetchType.Lazy</code> and you need Lazy object properties and <code>unproxy</code> the object before caching.</p>\n<p>To unproxy an object use the <code>Hibernate.unproxy</code> method.\n<strong>Updated code:</strong></p>\n<pre><code>@Cacheable(value = &quot;configCache&quot;, key = &quot;{#root.methodName, #key}&quot;)\n@Override\npublic Optional&lt;Config&gt; getByKey(String key) {\n    var config = confRepository.findByKey(key);\n    var entity = config.isPresent() ? Hibernate.unproxy(config.get(), Config.class) : null;\n    return Optional.ofNullable(entity);\n}\n</code></pre>\n<p>I had a similar issue after upgrading to Hibernate 6 in Spring MVC. By <code>unproxy</code> the hibernate object before saving it into the cache solved the issue. Also, with spring security session I need to use record/POJO class for authentication object.</p>\n<p>If issue still persist then use record/POJO class to be stored in cache. Because mapping of different entity also adds hibernate classes to serialization.</p>\n<blockquote>\n<p>Hibernate 6: Never store hibernate objects to cache when multiple servers uses same cache.</p>\n</blockquote>\n<p>You can use <a href=\"https://redis.com/redis-enterprise/redis-insight/\" rel=\"nofollow noreferrer\">RedisInsight</a> to browse data stored in redis and inspect to get more details.</p>\n"}],"owner":{"account_id":11593348,"reputation":401,"user_id":8492856,"display_name":"ktcl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2155,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687150389,"creation_date":1680872715,"question_id":75958697,"body_markdown":"My spring boot project uses `spring-boot-starter-data-redis` for caching on redis, Oracle database for persistent. It runs perfectly with current version 2.7.6. I&#39;ve just upgraded to 3.0.5. The source code does change pretty much but this configuration for redis stays the same:\r\n\r\n````java\r\n    @Bean\r\n    public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\r\n        return RedisCacheManager.builder(redisConnectionFactory)\r\n                .transactionAware()\r\n                .build();\r\n    }\r\n````\r\n\r\nHere is how I use `@Cacheable`\r\n\r\n````java\r\n    @Autowired\r\n    private ConfRepository confRepository;\r\n\r\n\t@Cacheable(value = &quot;configCache&quot;, key = &quot;{#root.methodName, #key}&quot;)\r\n\t@Override\r\n\tpublic Optional&lt;Config&gt; getByKey(String key) {\r\n\t\treturn confRepository.findByKey(key);\r\n\t}\r\n````\r\n\r\nI deploy my service with 2 instances. The problem is when a `key` is put to `Cacheable` in instance 1 cannot be deserialized by instance 2, i.e in above method, my first request to instance 1 to `getByKey` with the key `key1`, my second request to instance 2 also with the `key1` should hit the cache (get value from redis and return), but I got the stack trace:\r\n\r\n````java\r\norg.springframework.data.redis.serializer.SerializationException: Cannot deserialize\r\n\tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:84)\r\n\tat org.springframework.data.redis.serializer.DefaultRedisElementReader.read(DefaultRedisElementReader.java:46)\r\n\tat org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.read(RedisSerializationContext.java:272)\r\n\tat org.springframework.data.redis.cache.RedisCache.deserializeCacheValue(RedisCache.java:277)\r\n\tat org.springframework.data.redis.cache.RedisCache.lookup(RedisCache.java:92)\r\n\tat org.springframework.cache.support.AbstractValueAdaptingCache.get(AbstractValueAdaptingCache.java:58)\r\n\tat org.springframework.cache.transaction.TransactionAwareCacheDecorator.get(TransactionAwareCacheDecorator.java:80)\r\n\tat org.springframework.cache.interceptor.AbstractCacheInvoker.doGet(AbstractCacheInvoker.java:73)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.findInCaches(CacheAspectSupport.java:571)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:536)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n\tat vn.com.tcbs.h2h.biz.service.impl.ConfigManagerServiceImpl$$SpringCGLIB$$0.getGroupRole(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy201.getGroupRole(Unknown Source)\r\n\r\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?\r\n\tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78)\r\n\tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36)\r\n\tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:82)\r\n\t... 219 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Could not identify any active SessionFactory having UUID 0105e7c4-c59a-46a6-a86e-23a65dde6ed6\r\n\tat org.hibernate.proxy.pojo.bytebuddy.SerializableProxy.retrieveMatchingSessionFactory(SerializableProxy.java:127)\r\n\tat org.hibernate.proxy.pojo.bytebuddy.SerializableProxy.readResolve(SerializableProxy.java:113)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/java.io.ObjectStreamClass.invokeReadResolve(ObjectStreamClass.java:1190)\r\n\tat java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2266)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1733)\r\n\tat java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2606)\r\n\tat java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2457)\r\n\tat java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2257)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1733)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:509)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:467)\r\n\tat org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:71)\r\n\tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73)\r\n\t... 221 common frames omitted\r\n````\r\n\r\nCan anybody help me in this situation ?\r\n","title":"Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer","body":"<p>My spring boot project uses <code>spring-boot-starter-data-redis</code> for caching on redis, Oracle database for persistent. It runs perfectly with current version 2.7.6. I've just upgraded to 3.0.5. The source code does change pretty much but this configuration for redis stays the same:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\n        return RedisCacheManager.builder(redisConnectionFactory)\n                .transactionAware()\n                .build();\n    }\n</code></pre>\n<p>Here is how I use <code>@Cacheable</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private ConfRepository confRepository;\n\n    @Cacheable(value = &quot;configCache&quot;, key = &quot;{#root.methodName, #key}&quot;)\n    @Override\n    public Optional&lt;Config&gt; getByKey(String key) {\n        return confRepository.findByKey(key);\n    }\n</code></pre>\n<p>I deploy my service with 2 instances. The problem is when a <code>key</code> is put to <code>Cacheable</code> in instance 1 cannot be deserialized by instance 2, i.e in above method, my first request to instance 1 to <code>getByKey</code> with the key <code>key1</code>, my second request to instance 2 also with the <code>key1</code> should hit the cache (get value from redis and return), but I got the stack trace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.data.redis.serializer.SerializationException: Cannot deserialize\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:84)\n    at org.springframework.data.redis.serializer.DefaultRedisElementReader.read(DefaultRedisElementReader.java:46)\n    at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.read(RedisSerializationContext.java:272)\n    at org.springframework.data.redis.cache.RedisCache.deserializeCacheValue(RedisCache.java:277)\n    at org.springframework.data.redis.cache.RedisCache.lookup(RedisCache.java:92)\n    at org.springframework.cache.support.AbstractValueAdaptingCache.get(AbstractValueAdaptingCache.java:58)\n    at org.springframework.cache.transaction.TransactionAwareCacheDecorator.get(TransactionAwareCacheDecorator.java:80)\n    at org.springframework.cache.interceptor.AbstractCacheInvoker.doGet(AbstractCacheInvoker.java:73)\n    at org.springframework.cache.interceptor.CacheAspectSupport.findInCaches(CacheAspectSupport.java:571)\n    at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:536)\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\n    at vn.com.tcbs.h2h.biz.service.impl.ConfigManagerServiceImpl$$SpringCGLIB$$0.getGroupRole(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211)\n    at jdk.proxy2/jdk.proxy2.$Proxy201.getGroupRole(Unknown Source)\n\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78)\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36)\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:82)\n    ... 219 common frames omitted\nCaused by: java.lang.IllegalStateException: Could not identify any active SessionFactory having UUID 0105e7c4-c59a-46a6-a86e-23a65dde6ed6\n    at org.hibernate.proxy.pojo.bytebuddy.SerializableProxy.retrieveMatchingSessionFactory(SerializableProxy.java:127)\n    at org.hibernate.proxy.pojo.bytebuddy.SerializableProxy.readResolve(SerializableProxy.java:113)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/java.io.ObjectStreamClass.invokeReadResolve(ObjectStreamClass.java:1190)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2266)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1733)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2606)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2457)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2257)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1733)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:509)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:467)\n    at org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:71)\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73)\n    ... 221 common frames omitted\n</code></pre>\n<p>Can anybody help me in this situation ?</p>\n"},{"tags":["java","hashmap","subclass","extends"],"comments":[{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1687146861,"post_id":76503503,"comment_id":134890884,"body_markdown":"in line Item basicHpPotion = new BasicHPPotion(); no data because you dont set data of properities","body":"in line Item basicHpPotion = new BasicHPPotion(); no data because you dont set data of properities"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687146893,"post_id":76503503,"comment_id":134890888,"body_markdown":"*&quot;I would like fit it into hashmap but i wouldn&#39;t let me do that.&quot;* - What do you mean by that?  Show us the code and the error messages.","body":"<i>&quot;I would like fit it into hashmap but i wouldn&#39;t let me do that.&quot;</i> - What do you mean by that?  Show us the code and the error messages."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1687147131,"post_id":76503503,"comment_id":134890906,"body_markdown":"Yea ... I spotted a number of errors and mistakes.  Another mistake is that since you don&#39;t override the `equals` and `hashCode` methods, hashmap keys will have identity semantics; e.g. all `Item` instances will be different as keys.","body":"Yea ... I spotted a number of errors and mistakes.  Another mistake is that since you don&#39;t override the <code>equals</code> and <code>hashCode</code> methods, hashmap keys will have identity semantics; e.g. all <code>Item</code> instances will be different as keys."},{"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"score":0,"creation_date":1687147538,"post_id":76503503,"comment_id":134890931,"body_markdown":"how to set properities..? I am not know how actual way to do. Any example can show me? Many Thanks:)","body":"how to set properities..? I am not know how actual way to do. Any example can show me? Many Thanks:)"},{"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"score":0,"creation_date":1687147648,"post_id":76503503,"comment_id":134890939,"body_markdown":"those error messages said syntax error&quot;Identifier&quot; to complete MethodHeaderName and &quot;SimpleName&quot; to complete QualifiedName","body":"those error messages said syntax error&quot;Identifier&quot; to complete MethodHeaderName and &quot;SimpleName&quot; to complete QualifiedName"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687148958,"post_id":76503503,"comment_id":134891044,"body_markdown":"Complete error message please ... and the precise code that triggered them.  They sound like simple Java compilation errors, not something to do with putting things into hashmaps.   But we need more information.","body":"Complete error message please ... and the precise code that triggered them.  They sound like simple Java compilation errors, not something to do with putting things into hashmaps.   But we need more information."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1687150661,"post_id":76503503,"comment_id":134891189,"body_markdown":"You cannot simple write statements into classes - statements like `slot.put(basicHpPotion,5);` are only allowed within code blocks (methods, constructors and (static) initializer blocks).","body":"You cannot simple write statements into classes - statements like <code>slot.put(basicHpPotion,5);</code> are only allowed within code blocks (methods, constructors and (static) initializer blocks)."},{"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"score":0,"creation_date":1687154157,"post_id":76503503,"comment_id":134891552,"body_markdown":"Syntax error on token &quot;.&quot;, @ expected after this token\nSyntax error on token &quot;,&quot;, / expected\nSyntax error, insert &quot;Identifier (&quot; to complete MethodHeaderName\nSyntax error, insert &quot;)&quot; to complete MethodDeclaration","body":"Syntax error on token &quot;.&quot;, @ expected after this token Syntax error on token &quot;,&quot;, / expected Syntax error, insert &quot;Identifier (&quot; to complete MethodHeaderName Syntax error, insert &quot;)&quot; to complete MethodDeclaration"}],"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687150741,"answer_count":0,"score":0,"last_activity_date":1687147444,"creation_date":1687146303,"question_id":76503503,"body_markdown":"As mentioned in title, I have created few subclasses for basicHpPotion class under item and potion classes. I would like put it into hashmap but the system(red line underneath) do not let me do that. What&#39;s the problem? Shop.java is the main script to have a hashmap.\r\n\r\nItem.java\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\npublic class Item {\r\n    String name;\r\n    String type;\r\n\r\n    public Item() {};\r\n\r\n    public Item(String name, String type) {\r\n        this.name = name;\r\n        this.type = type;\r\n    }\r\n}\r\n```\r\n\r\nPotion.java\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\npublic class Potion extends Item {\r\n    int hpRecoverValue;\r\n\r\n    public Potion() {\r\n    };\r\n    public Potion(String name, String type, int hpRecoverValue) {\r\n        this.name = name;\r\n        this.type = type;\r\n        this.hpRecoverValue = hpRecoverValue;\r\n    }\r\n}\r\n```\r\n\r\nBasicHpPotion.java\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\npublic class BasicHPPotion extends Potion {\r\n    String name = &quot;Basic HP Potion&quot;;\r\n    String type = &quot;Potion&quot;;\r\n    int hpRecoverValue = 100;\r\n\r\n    BasicHPPotion() {\r\n    };\r\n}\r\n```\r\n\r\nShop.java\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class Shop {\r\n    HashMap&lt;Item, Integer&gt; slot = new HashMap&lt;&gt;();\r\n    Item basicHpPotion = new BasicHPPotion();\r\n    slot.put(basicHpPotion,5);\r\n}\r\n```\r\n\r\nI did try a different class to fit in but it still did not work.  I expect the item basicHpPotion can be fitted into the hashmap. :(","title":"Why I cannot put the subclass into hashmap","body":"<p>As mentioned in title, I have created few subclasses for basicHpPotion class under item and potion classes. I would like put it into hashmap but the system(red line underneath) do not let me do that. What's the problem? Shop.java is the main script to have a hashmap.</p>\n<p>Item.java</p>\n<pre><code>package com.mainsystem;\n\npublic class Item {\n    String name;\n    String type;\n\n    public Item() {};\n\n    public Item(String name, String type) {\n        this.name = name;\n        this.type = type;\n    }\n}\n</code></pre>\n<p>Potion.java</p>\n<pre><code>package com.mainsystem;\n\npublic class Potion extends Item {\n    int hpRecoverValue;\n\n    public Potion() {\n    };\n    public Potion(String name, String type, int hpRecoverValue) {\n        this.name = name;\n        this.type = type;\n        this.hpRecoverValue = hpRecoverValue;\n    }\n}\n</code></pre>\n<p>BasicHpPotion.java</p>\n<pre><code>package com.mainsystem;\n\npublic class BasicHPPotion extends Potion {\n    String name = &quot;Basic HP Potion&quot;;\n    String type = &quot;Potion&quot;;\n    int hpRecoverValue = 100;\n\n    BasicHPPotion() {\n    };\n}\n</code></pre>\n<p>Shop.java</p>\n<pre><code>package com.mainsystem;\n\nimport java.util.HashMap;\n\npublic class Shop {\n    HashMap&lt;Item, Integer&gt; slot = new HashMap&lt;&gt;();\n    Item basicHpPotion = new BasicHPPotion();\n    slot.put(basicHpPotion,5);\n}\n</code></pre>\n<p>I did try a different class to fit in but it still did not work.  I expect the item basicHpPotion can be fitted into the hashmap. :(</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1633238188,"post_id":69422202,"comment_id":122703541,"body_markdown":"Java 8.  *&quot;Starting from Minecraft 1.12, Java 8 will be required to run Minecraft. If you don&#39;t know whether you have Java 8, don&#39;t worry - our installers supply Minecraft with its own version of Java by default.&quot;* - Source: https://www.minecraft.net/en-us/get-minecraft","body":"Java 8.  <i>&quot;Starting from Minecraft 1.12, Java 8 will be required to run Minecraft. If you don&#39;t know whether you have Java 8, don&#39;t worry - our installers supply Minecraft with its own version of Java by default.&quot;</i> - Source: <a href=\"https://www.minecraft.net/en-us/get-minecraft\" rel=\"nofollow noreferrer\">minecraft.net/en-us/get-minecraft</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1687145739,"creation_date":1633239395,"answer_id":69422337,"question_id":69422202,"body_markdown":"&gt; Which version of JDK do I need to write Minecraft mods for the current version of Minecraft and Forge?\r\n\r\nIt depends on your Minecraft version.\r\n\r\n&gt; *&quot;Starting from Minecraft 1.12, Java 8 will be required to run Minecraft. If you don&#39;t know whether you have Java 8, don&#39;t worry - our installers supply Minecraft with its own version of Java by default.&quot;*\r\n\r\nSource: https://minecraft.net/en-us/get-minecraft\r\n\r\n&gt; *&quot;Starting from Java Edition 1.17, Java 16 is required to run Java Edition. If the player does not know whether they have Java 16, the Minecraft launcher supplies Java Edition with its own version of Java by default.&quot;*\r\n&gt; \r\n&gt; *&quot;Starting from Java Edition 1.18, Java 17 is required to run Java Edition. If the player does not know whether they have Java 17, the Minecraft Launcher supplies Java Edition with its own version of Java by default.&quot;*\r\n\r\n\r\n\r\nSource: https://minecraft.fandom.com/wiki/Java_Edition#Software\r\n\r\nNotes:\r\n\r\n1. The above information is a direct quote from sources that *should be* reliable.  However, the quotes (and the sources) are liable to become out of date, so check the links for updates!\r\n\r\n2. While you can (technically) develop on a later version of Java than the Minecraft platform uses, you will need to *build* with that version or older as the **target** Java version.  A JVM will not run bytecodes with a more recent classfile version number.  You will get a classloader error.\r\n\r\n3. Beware of using preview features in your mods.  If you use them, then the platform has to be run with preview features enabled, or you will get classloader errors.\r\n\r\n------------------------------\r\n\r\n&gt; Oracle says that the latest JDK is 17.\r\n\r\nThe OpenJDK team have moved to a *release cadence* of a new release every 6 months.  Certain releases are designated LTS releases (8, 11, 17).  Other releases go *end of life* immediately on the release of following one.  Thus Java 16 is end of life ... and Java 21 (LTS) is due out later this year (2023).  \r\n\r\n&gt; ... how the hell are they chewing through version numbers like this, ugh.\r\n\r\nThey can&#39;t please everyone :-)\r\n","title":"Which version of JDK do I need to write Minecraft mods for the current version of Minecraft and Forge?","body":"<blockquote>\n<p>Which version of JDK do I need to write Minecraft mods for the current version of Minecraft and Forge?</p>\n</blockquote>\n<p>It depends on your Minecraft version.</p>\n<blockquote>\n<p><em>&quot;Starting from Minecraft 1.12, Java 8 will be required to run Minecraft. If you don't know whether you have Java 8, don't worry - our installers supply Minecraft with its own version of Java by default.&quot;</em></p>\n</blockquote>\n<p>Source: <a href=\"https://minecraft.net/en-us/get-minecraft\" rel=\"nofollow noreferrer\">https://minecraft.net/en-us/get-minecraft</a></p>\n<blockquote>\n<p><em>&quot;Starting from Java Edition 1.17, Java 16 is required to run Java Edition. If the player does not know whether they have Java 16, the Minecraft launcher supplies Java Edition with its own version of Java by default.&quot;</em></p>\n<p><em>&quot;Starting from Java Edition 1.18, Java 17 is required to run Java Edition. If the player does not know whether they have Java 17, the Minecraft Launcher supplies Java Edition with its own version of Java by default.&quot;</em></p>\n</blockquote>\n<p>Source: <a href=\"https://minecraft.fandom.com/wiki/Java_Edition#Software\" rel=\"nofollow noreferrer\">https://minecraft.fandom.com/wiki/Java_Edition#Software</a></p>\n<p>Notes:</p>\n<ol>\n<li><p>The above information is a direct quote from sources that <em>should be</em> reliable.  However, the quotes (and the sources) are liable to become out of date, so check the links for updates!</p>\n</li>\n<li><p>While you can (technically) develop on a later version of Java than the Minecraft platform uses, you will need to <em>build</em> with that version or older as the <strong>target</strong> Java version.  A JVM will not run bytecodes with a more recent classfile version number.  You will get a classloader error.</p>\n</li>\n<li><p>Beware of using preview features in your mods.  If you use them, then the platform has to be run with preview features enabled, or you will get classloader errors.</p>\n</li>\n</ol>\n<hr />\n<blockquote>\n<p>Oracle says that the latest JDK is 17.</p>\n</blockquote>\n<p>The OpenJDK team have moved to a <em>release cadence</em> of a new release every 6 months.  Certain releases are designated LTS releases (8, 11, 17).  Other releases go <em>end of life</em> immediately on the release of following one.  Thus Java 16 is end of life ... and Java 21 (LTS) is due out later this year (2023).</p>\n<blockquote>\n<p>... how the hell are they chewing through version numbers like this, ugh.</p>\n</blockquote>\n<p>They can't please everyone :-)</p>\n"}],"owner":{"account_id":187668,"reputation":5043,"user_id":425893,"accept_rate":64,"display_name":"John O"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11810,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687145739,"creation_date":1633237279,"question_id":69422202,"body_markdown":"The current Minecraft version (and the one any of my mods would target) is 1.17.1. Forge recently released a version that matches this (you need Forge 1.17.1 for MC 1.17.1, etc).\r\n\r\nOracle says that the latest JDK is 17 (like, I&#39;ve only been away from Java for like 3 years... how the hell are they chewing through version numbers like this, ugh).\r\n\r\nI&#39;ve managed to dig through some forum posts that suggest that JDK 16 didn&#39;t work with earlier Forge versions, and I think that it holds true for later Forge versions (reflection was unavailable) and almost certainly for later JDK versions. But whether I could do work with JDK 15 or would need a still lower version, I&#39;m having trouble figuring out. I was hoping someone could spare me the next 2 weeks of forum posts and half-assed experiments. \r\n\r\nSo in summary, what is the maximum JDK version that will give me minimum trouble? (I&#39;ve got a minimum version from the IDE/extensions itself, and they don&#39;t seem especially generous).","title":"Which version of JDK do I need to write Minecraft mods for the current version of Minecraft and Forge?","body":"<p>The current Minecraft version (and the one any of my mods would target) is 1.17.1. Forge recently released a version that matches this (you need Forge 1.17.1 for MC 1.17.1, etc).</p>\n<p>Oracle says that the latest JDK is 17 (like, I've only been away from Java for like 3 years... how the hell are they chewing through version numbers like this, ugh).</p>\n<p>I've managed to dig through some forum posts that suggest that JDK 16 didn't work with earlier Forge versions, and I think that it holds true for later Forge versions (reflection was unavailable) and almost certainly for later JDK versions. But whether I could do work with JDK 15 or would need a still lower version, I'm having trouble figuring out. I was hoping someone could spare me the next 2 weeks of forum posts and half-assed experiments.</p>\n<p>So in summary, what is the maximum JDK version that will give me minimum trouble? (I've got a minimum version from the IDE/extensions itself, and they don't seem especially generous).</p>\n"},{"tags":["java","android","sms","android-handler","mms"],"owner":{"account_id":25640788,"reputation":1,"user_id":19513283,"display_name":"Davidawesome02"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687145705,"creation_date":1687145705,"question_id":76503475,"body_markdown":"As the default sms application, I can easily read all messages that come in, then I found on the forms how to write the sms log, but my sent sms, from my app or I assume another app I still cant read, and therefore cannot write to the outbox uri.\r\n\r\nAny Ideas how I can do this and properly implement this with a normal sms app?\r\n\r\nI don&#39;t need mms support to to really deal with those, but if anyone knows anything on top of this also, help would be appreciated!\r\n\r\nIf you want any of my code let me know! (java btw)\r\n\r\nandroid studio config:\r\ncompileSdk 31\r\nminSdk 28\r\ntargetSdk 31\r\nsourceCompatibility JavaVersion.VERSION_1_8\r\n\r\nI have tried using the listener on \r\n\r\n```\r\n&lt;service\r\n            android:name=&quot;.test.sms_test_owner&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.SEND_RESPOND_VIA_MESSAGE&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.RESPOND_VIA_MESSAGE&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n```\r\n\r\n\r\n\r\nand\r\n```\r\n&lt;activity android:name=&quot;.test.sms_test_owner$test&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SENDTO&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\nbut dont get any callbacks when my app sends a message; is this intended and works for other apps, or how do I deal with both cases?\r\n\r\nmessages sent with:\r\n```\r\nSmsManager smsManager = SmsManager.getDefault();\r\nsmsManager.sendTextMessage(smsNumberToSend, null, smsTextToSend, null, null);\r\n```\r\n\r\nfor example from another app","title":"Android sms application read sent sms","body":"<p>As the default sms application, I can easily read all messages that come in, then I found on the forms how to write the sms log, but my sent sms, from my app or I assume another app I still cant read, and therefore cannot write to the outbox uri.</p>\n<p>Any Ideas how I can do this and properly implement this with a normal sms app?</p>\n<p>I don't need mms support to to really deal with those, but if anyone knows anything on top of this also, help would be appreciated!</p>\n<p>If you want any of my code let me know! (java btw)</p>\n<p>android studio config:\ncompileSdk 31\nminSdk 28\ntargetSdk 31\nsourceCompatibility JavaVersion.VERSION_1_8</p>\n<p>I have tried using the listener on</p>\n<pre><code>&lt;service\n            android:name=&quot;.test.sms_test_owner&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.SEND_RESPOND_VIA_MESSAGE&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.RESPOND_VIA_MESSAGE&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;activity android:name=&quot;.test.sms_test_owner$test&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.SENDTO&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>but dont get any callbacks when my app sends a message; is this intended and works for other apps, or how do I deal with both cases?</p>\n<p>messages sent with:</p>\n<pre><code>SmsManager smsManager = SmsManager.getDefault();\nsmsManager.sendTextMessage(smsNumberToSend, null, smsTextToSend, null, null);\n</code></pre>\n<p>for example from another app</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687144142,"post_id":76503204,"comment_id":134890703,"body_markdown":"Step through your `add` method with the debugger. Think about what the name `head` actually refers to.","body":"Step through your <code>add</code> method with the debugger. Think about what the name <code>head</code> actually refers to."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687144209,"post_id":76503204,"comment_id":134890709,"body_markdown":"And of course https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"And of course <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":10900695,"reputation":53,"user_id":8013026,"display_name":"demsee"},"score":0,"creation_date":1687148820,"post_id":76503204,"comment_id":134891031,"body_markdown":"@tgdavies thanks","body":"@tgdavies thanks"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1687145350,"creation_date":1687141363,"answer_id":76503272,"question_id":76503204,"body_markdown":"Your _add_ method, or more correctly, _addNode_ method, is not doing anything to the instance.\r\n\r\nIt is effectively assigning the parameter _head_ to, the _next_ value of parameter, _node_.\r\n\r\n```java\r\nvoid addNode(Node node, Node head) {\r\n    node.next = head;\r\n}\r\n```\r\n\r\nThe _push_ method is correct, it will stack the object before the instance&#39;s _head_ node.\r\n\r\n\r\nYou can remove the the _addNode_ method, and for the _add_ method, it only requires 1 parameter.\r\n\r\nYou&#39;ll want to locate the last node in the structure, and then append the parameter to it.\r\n\r\n```java\r\nvoid add(Node node) {\r\n    Node lastNode = this.head;\r\n    while (lastNode.next != null) lastNode = lastNode.next;\r\n    lastNode.next = node;\r\n}\r\n```\r\n","title":"What is the difference between two methods of creation linked list in java?","body":"<p>Your <em>add</em> method, or more correctly, <em>addNode</em> method, is not doing anything to the instance.</p>\n<p>It is effectively assigning the parameter <em>head</em> to, the <em>next</em> value of parameter, <em>node</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void addNode(Node node, Node head) {\n    node.next = head;\n}\n</code></pre>\n<p>The <em>push</em> method is correct, it will stack the object before the instance's <em>head</em> node.</p>\n<p>You can remove the the <em>addNode</em> method, and for the <em>add</em> method, it only requires 1 parameter.</p>\n<p>You'll want to locate the last node in the structure, and then append the parameter to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void add(Node node) {\n    Node lastNode = this.head;\n    while (lastNode.next != null) lastNode = lastNode.next;\n    lastNode.next = node;\n}\n</code></pre>\n"}],"owner":{"account_id":10900695,"reputation":53,"user_id":8013026,"display_name":"demsee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76503272,"answer_count":1,"score":-1,"last_activity_date":1687145350,"creation_date":1687139833,"question_id":76503204,"body_markdown":"what the difference between methods *push()* and *add()* since this ones do the same stuff - push the value into linked list via constructor, but *add()* doesn&#39;t add the value\r\n \r\n\r\n```\r\npublic class LinkedList {\r\n \r\n    static class Node {\r\n        int value;\r\n        Node next;\r\n        Node(int value){\r\n            this.value = value;\r\n            next = null;      }\r\n    }; \r\n    Node head;\r\n    Node next;     \r\n    void push(Node node){\r\n\t\tNode newnode = node;\r\n\t\tnewnode.next = head;\r\n\t\thead = newnode;\t\t}     \r\n    void add(Node node, Node head){addNode(node,head);} \r\n    void addNode(Node node, Node head){\t\t\r\n\t\tNode newnode = node;\r\n\t\tnewnode.next = head;\r\n\t\thead = newnode;\t\t}     \r\n    /* Function to print linked list */\r\n    void printlist(Node head){                 \r\n          while(head != null){\r\n\t\t\t  System.out.println(head.value + &quot; &quot;);\r\n\t\t\t  head = head.next; }    \r\n\t\t\t  }\r\n \r\n    // Driver program to test above functions\r\n    public static void main(String args[])\r\n    {\r\n        LinkedList list = new LinkedList();\r\n        list.head = null;\r\n        list.head = new Node(5);\r\n        list.push(new Node(6));\r\n        list.add(new Node(3), list.head); \r\n        list.push(new Node(7));        \r\n        list.printlist(list.head);            \r\n    }\r\n}\r\n\r\n\r\n```","title":"What is the difference between two methods of creation linked list in java?","body":"<p>what the difference between methods <em>push()</em> and <em>add()</em> since this ones do the same stuff - push the value into linked list via constructor, but <em>add()</em> doesn't add the value</p>\n<pre><code>public class LinkedList {\n \n    static class Node {\n        int value;\n        Node next;\n        Node(int value){\n            this.value = value;\n            next = null;      }\n    }; \n    Node head;\n    Node next;     \n    void push(Node node){\n        Node newnode = node;\n        newnode.next = head;\n        head = newnode;     }     \n    void add(Node node, Node head){addNode(node,head);} \n    void addNode(Node node, Node head){     \n        Node newnode = node;\n        newnode.next = head;\n        head = newnode;     }     \n    /* Function to print linked list */\n    void printlist(Node head){                 \n          while(head != null){\n              System.out.println(head.value + &quot; &quot;);\n              head = head.next; }    \n              }\n \n    // Driver program to test above functions\n    public static void main(String args[])\n    {\n        LinkedList list = new LinkedList();\n        list.head = null;\n        list.head = new Node(5);\n        list.push(new Node(6));\n        list.add(new Node(3), list.head); \n        list.push(new Node(7));        \n        list.printlist(list.head);            \n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","pdf","grails","groovy","pdf-generation"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1371537772,"post_id":17160969,"comment_id":24845839,"body_markdown":"As your question is tagged `java,` would a pure Java solution help? Furthermore, what do you want to watermark with? An image? Some text? Some page of another PDF? In the latter case, a Java solution making use of the [iText](http://itextpdf.com) library is shown in the example [StampStationery](http://itextpdf.com/examples/iia.php?id=119).","body":"As your question is tagged <code>java,</code> would a pure Java solution help? Furthermore, what do you want to watermark with? An image? Some text? Some page of another PDF? In the latter case, a Java solution making use of the <a href=\"http://itextpdf.com\" rel=\"nofollow noreferrer\">iText</a> library is shown in the example <a href=\"http://itextpdf.com/examples/iia.php?id=119\" rel=\"nofollow noreferrer\">StampStationery</a>."},{"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"score":0,"creation_date":1371549291,"post_id":17160969,"comment_id":24851735,"body_markdown":"Grails support Java and hence pure Java is also acceptable but please keep in mind that I am using rendering plug-in to generate PDF.","body":"Grails support Java and hence pure Java is also acceptable but please keep in mind that I am using rendering plug-in to generate PDF."}],"answers":[{"tags":[],"owner":{"account_id":1274907,"reputation":4657,"user_id":1230366,"accept_rate":86,"display_name":"aiolos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1371652715,"creation_date":1371537432,"answer_id":17162063,"question_id":17160969,"body_markdown":"Using the rendering plugin you have access to [flying saucer][1] and its support f&#252;r `@page` rules.\r\n\r\nWith this you could define [running elements][2] as defined in the CSS 3 specification.\r\n\r\nSo you could define a footer element within your gsp:\r\n\r\n    &lt;body&gt;\r\n        ...\r\n        &lt;div id=&quot;footer&quot;&gt;Your Watermark&lt;/div&gt;\r\n        ...\r\n    &lt;/body&gt;\r\n\r\nAnd style it like this:\r\n\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n        @page {\r\n            size: 210mm 297mm;\r\n            @bottom-right {content: element(footer)};\r\n            ...\r\n        }\r\n        \r\n        #footer{\r\n            position: running(footer);\r\n        }\r\n\r\n        ...\r\n    &lt;/style&gt;\r\n\r\n\r\n  [1]: http://code.google.com/p/flying-saucer/\r\n  [2]: http://www.w3.org/TR/2007/WD-css3-gcpm-20070504/#running1","title":"Attach watermark image in each page of PDF","body":"<p>Using the rendering plugin you have access to <a href=\"http://code.google.com/p/flying-saucer/\" rel=\"noreferrer\">flying saucer</a> and its support für <code>@page</code> rules.</p>\n\n<p>With this you could define <a href=\"http://www.w3.org/TR/2007/WD-css3-gcpm-20070504/#running1\" rel=\"noreferrer\">running elements</a> as defined in the CSS 3 specification.</p>\n\n<p>So you could define a footer element within your gsp:</p>\n\n<pre><code>&lt;body&gt;\n    ...\n    &lt;div id=\"footer\"&gt;Your Watermark&lt;/div&gt;\n    ...\n&lt;/body&gt;\n</code></pre>\n\n<p>And style it like this:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n    @page {\n        size: 210mm 297mm;\n        @bottom-right {content: element(footer)};\n        ...\n    }\n\n    #footer{\n        position: running(footer);\n    }\n\n    ...\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17162063,"answer_count":1,"score":3,"last_activity_date":1687145034,"creation_date":1371532345,"question_id":17160969,"body_markdown":"In my grails project I am using grails rendering plug-in to convert a GSP into PDF. PDF have 3 to 5 pages.\r\n\r\nNow I need to attach a watermark as bottom right of each page of the PDF. \r\n\r\nI have no idea how can I achieve this. Any help highly appreciated.\r\n\r\n**EDIT..............**\r\n\r\nMy gsp which is used to generate pdf is a template.\r\n\r\nI am using grails 2.2.0 and plugins.rendering=0.4.3.\r\n\r\nBelow is my code..,.\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n        @page {\r\n            size: 210mm 297mm;\r\n            @bottom-right {content: element(footer)}\r\n        }\r\n    &lt;/style&gt;\r\n    &lt;table border=&quot;0&quot; align=&quot;center&quot; cellpadding=&quot;2&quot; cellspacing=&quot;2&quot;&gt;\r\n    ...\r\n    &lt;/table&gt;","title":"Attach watermark image in each page of PDF","body":"<p>In my grails project I am using grails rendering plug-in to convert a GSP into PDF. PDF have 3 to 5 pages.</p>\n\n<p>Now I need to attach a watermark as bottom right of each page of the PDF. </p>\n\n<p>I have no idea how can I achieve this. Any help highly appreciated.</p>\n\n<p><strong>EDIT..............</strong></p>\n\n<p>My gsp which is used to generate pdf is a template.</p>\n\n<p>I am using grails 2.2.0 and plugins.rendering=0.4.3.</p>\n\n<p>Below is my code..,.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;style type=\"text/css\"&gt;\n    @page {\n        size: 210mm 297mm;\n        @bottom-right {content: element(footer)}\n    }\n&lt;/style&gt;\n&lt;table border=\"0\" align=\"center\" cellpadding=\"2\" cellspacing=\"2\"&gt;\n...\n&lt;/table&gt;\n</code></pre>\n"},{"tags":["java","jar","java-io","serviceloader"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687144941,"creation_date":1687144941,"answer_id":76503426,"question_id":76503288,"body_markdown":"&gt; `classLoader.getResources(&quot;META-INF/services&quot;);`\r\n\r\nThis does not work. classloaders don&#39;t &quot;do&quot; directories, nor do they &quot;do&quot; a &quot;list&quot; command. This is __why__ `META-INF/services` exists in the first place! Instead of &#39;give me a list of e.g. all class files on the classpath&#39; which is simply not an abstraction offered by classloaders, you __do__ have the operation &quot;give me all variants of resource X, i.e. if that resource exists more than once I want them all&quot;, and that is used by SPI (`META-INF/services`): Compiled code contains a well-known file name that lists class names. This solves the &#39;cannot run list commands&#39; dilemma: There is no need to list anything, just get the services file for the interface you are interested in, and then load each class listed in that file.\r\n\r\nThis situation is ordinarily fixed by using SPI. You want some sort of bizarro meta-SPI where you want a list of all SPI services for which some file exists. This simply isn&#39;t a thing. You can&#39;t do what you want.\r\n\r\nYou COULD hack it - determine which jars and dirs-on-disk are part of the classpath and scan those. This requires a ton of code, you need to ask for a well known resource (not a dir, an actual file), `toString()` the URL you get, and then tear that to pieces to know what to do. This doesn&#39;t fully fit the rules - a classloader doesn&#39;t _have_ to be jar/disk based at all, it could generate resources on the fly, query them from a network, or load them from a database. Given that it&#39;s a pluggable architecture and plugins don&#39;t (and cannot) implement a &quot;list&quot; command, such hacks are incomplete.\r\n\r\nAnd thus, not a good idea.\r\n\r\nWhatever made you think: &quot;I know! I&#39;ll just list all files in the `META-INF/services` directory!&quot; - that was the wrong answer to whatever question you had that led you to try that answer.\r\n\r\nNote that `.getResource(&quot;META-INF/services&quot;)` does sometimes work. But the specs do not guarantee it, and, indeed, as you found, on most platform/classpath-source combinations it doesn&#39;t. The &#39;bug&#39; is that it sometimes works at all, it&#39;s not really supposed to (the spec doesn&#39;t define that it should work. It doesn&#39;t exactly demand that it never does either).\r\n","title":"Opening service declaration file inside a Jar","body":"<blockquote>\n<p><code>classLoader.getResources(&quot;META-INF/services&quot;);</code></p>\n</blockquote>\n<p>This does not work. classloaders don't &quot;do&quot; directories, nor do they &quot;do&quot; a &quot;list&quot; command. This is <strong>why</strong> <code>META-INF/services</code> exists in the first place! Instead of 'give me a list of e.g. all class files on the classpath' which is simply not an abstraction offered by classloaders, you <strong>do</strong> have the operation &quot;give me all variants of resource X, i.e. if that resource exists more than once I want them all&quot;, and that is used by SPI (<code>META-INF/services</code>): Compiled code contains a well-known file name that lists class names. This solves the 'cannot run list commands' dilemma: There is no need to list anything, just get the services file for the interface you are interested in, and then load each class listed in that file.</p>\n<p>This situation is ordinarily fixed by using SPI. You want some sort of bizarro meta-SPI where you want a list of all SPI services for which some file exists. This simply isn't a thing. You can't do what you want.</p>\n<p>You COULD hack it - determine which jars and dirs-on-disk are part of the classpath and scan those. This requires a ton of code, you need to ask for a well known resource (not a dir, an actual file), <code>toString()</code> the URL you get, and then tear that to pieces to know what to do. This doesn't fully fit the rules - a classloader doesn't <em>have</em> to be jar/disk based at all, it could generate resources on the fly, query them from a network, or load them from a database. Given that it's a pluggable architecture and plugins don't (and cannot) implement a &quot;list&quot; command, such hacks are incomplete.</p>\n<p>And thus, not a good idea.</p>\n<p>Whatever made you think: &quot;I know! I'll just list all files in the <code>META-INF/services</code> directory!&quot; - that was the wrong answer to whatever question you had that led you to try that answer.</p>\n<p>Note that <code>.getResource(&quot;META-INF/services&quot;)</code> does sometimes work. But the specs do not guarantee it, and, indeed, as you found, on most platform/classpath-source combinations it doesn't. The 'bug' is that it sometimes works at all, it's not really supposed to (the spec doesn't define that it should work. It doesn't exactly demand that it never does either).</p>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503426,"answer_count":1,"score":0,"last_activity_date":1687144941,"creation_date":1687141779,"question_id":76503288,"body_markdown":"```\r\nList&lt;URL&gt; resources = new ArrayList&lt;&gt;();\r\ntry {\r\nClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n\r\nEnumeration&lt;URL&gt; importedResources = classLoader.getResources(&quot;META-INF/services&quot;);\r\nwhile (importedResources.hasMoreElements()) {\r\n    resources.add(importedResources.nextElement());\r\n}\r\n\r\nMap&lt;String, String&gt; fileContents = Maps.newHashMap();\r\n\r\nfor (URL resource : resources) {\r\n    InputStream stream = classLoader.getResourceAsStream(resource.getFile());\r\n    Properties props = new Properties(); // for debug\r\n    props.load(stream); // for debug\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(resource.openStream()));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) { // Line is always null except for the declarations in my own project\r\n        String fileName = line;\r\n        if (!fileName.endsWith(&quot;/&quot;)) {\r\n            URL fileUrl = new URL(resource + &quot;\\\\&quot; + fileName);\r\n            BufferedReader fileReader = new BufferedReader(new InputStreamReader(fileUrl.openStream()));\r\n            StringBuilder content = new StringBuilder();\r\n            String fileLine;\r\n            while ((fileLine = fileReader.readLine()) != null) {\r\n                content.append(fileLine);\r\n            }\r\n            fileReader.close();\r\n            fileContents.put(fileName, content.toString());\r\n        }\r\n    }\r\n}\r\nSystem.out.println(fileContents);\r\n\r\n} catch (IOException e) {\r\nthrow new RuntimeException(e);\r\n}\r\n```\r\n\r\nI have been trying to read the service declaration files in my project (then saving them as a Map with Interface name as key and provider names as value), including the ones from imported Jars, but got stuck at reading files from inside JARS.\r\nRhe URL resources will load correctly and importedResources does contain the URI to the files but when trying to readLine it will return null.\r\n\r\nProject is Maven,\r\nURLs look something like this:\r\n```\r\njar:file:/C:/Users/xxx/.m2/repository/org/glassfish/hk2/hk2-locator/2.5.0-b42/hk2-locator-2.5.0-b42.jar!/META-INF/services\r\n```\r\n\r\nAny suggestions? or is there a different approach instead?\r\n","title":"Opening service declaration file inside a Jar","body":"<pre><code>List&lt;URL&gt; resources = new ArrayList&lt;&gt;();\ntry {\nClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n\nEnumeration&lt;URL&gt; importedResources = classLoader.getResources(&quot;META-INF/services&quot;);\nwhile (importedResources.hasMoreElements()) {\n    resources.add(importedResources.nextElement());\n}\n\nMap&lt;String, String&gt; fileContents = Maps.newHashMap();\n\nfor (URL resource : resources) {\n    InputStream stream = classLoader.getResourceAsStream(resource.getFile());\n    Properties props = new Properties(); // for debug\n    props.load(stream); // for debug\n    BufferedReader reader = new BufferedReader(new InputStreamReader(resource.openStream()));\n    String line;\n    while ((line = reader.readLine()) != null) { // Line is always null except for the declarations in my own project\n        String fileName = line;\n        if (!fileName.endsWith(&quot;/&quot;)) {\n            URL fileUrl = new URL(resource + &quot;\\\\&quot; + fileName);\n            BufferedReader fileReader = new BufferedReader(new InputStreamReader(fileUrl.openStream()));\n            StringBuilder content = new StringBuilder();\n            String fileLine;\n            while ((fileLine = fileReader.readLine()) != null) {\n                content.append(fileLine);\n            }\n            fileReader.close();\n            fileContents.put(fileName, content.toString());\n        }\n    }\n}\nSystem.out.println(fileContents);\n\n} catch (IOException e) {\nthrow new RuntimeException(e);\n}\n</code></pre>\n<p>I have been trying to read the service declaration files in my project (then saving them as a Map with Interface name as key and provider names as value), including the ones from imported Jars, but got stuck at reading files from inside JARS.\nRhe URL resources will load correctly and importedResources does contain the URI to the files but when trying to readLine it will return null.</p>\n<p>Project is Maven,\nURLs look something like this:</p>\n<pre><code>jar:file:/C:/Users/xxx/.m2/repository/org/glassfish/hk2/hk2-locator/2.5.0-b42/hk2-locator-2.5.0-b42.jar!/META-INF/services\n</code></pre>\n<p>Any suggestions? or is there a different approach instead?</p>\n"},{"tags":["java","encoding","utf-8","file-writing","cp1252"],"comments":[{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687138761,"post_id":76503137,"comment_id":134890310,"body_markdown":"It behaves exactly the same way whether I use the java.io name or the java.nio name (for both encodings).","body":"It behaves exactly the same way whether I use the java.io name or the java.nio name (for both encodings)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1687138906,"post_id":76503137,"comment_id":134890320,"body_markdown":"What are you using the read the data, can you add that code?","body":"What are you using the read the data, can you add that code?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1687139109,"post_id":76503137,"comment_id":134890332,"body_markdown":"What is `this` and please show that class&#39;s `toString()` method.","body":"What is <code>this</code> and please show that class&#39;s <code>toString()</code> method."},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687139148,"post_id":76503137,"comment_id":134890337,"body_markdown":"@Reilas I&#39;ve updated the question with that info","body":"@Reilas I&#39;ve updated the question with that info"},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687139266,"post_id":76503137,"comment_id":134890343,"body_markdown":"@PresidentJamesK.Polk The `this` is a class representing a custom data structure. Its toString() method serializes it and returns it as a String.","body":"@PresidentJamesK.Polk The <code>this</code> is a class representing a custom data structure. Its toString() method serializes it and returns it as a String."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687139365,"post_id":76503137,"comment_id":134890350,"body_markdown":"@theolaa, have a look at this [question and answer](https://stackoverflow.com/questions/36910513/js-java-writing-file-using-outputstreamwriter-and-utf-8-parameter-result-in-an).  It looks like _Notepad++_ might be relaying the incorrect encoding.","body":"@theolaa, have a look at this <a href=\"https://stackoverflow.com/questions/36910513/js-java-writing-file-using-outputstreamwriter-and-utf-8-parameter-result-in-an\">question and answer</a>.  It looks like <i>Notepad++</i> might be relaying the incorrect encoding."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1687139414,"post_id":76503137,"comment_id":134890355,"body_markdown":"Yes, I understand that, but perhaps the bug is in your `toString()` method.","body":"Yes, I understand that, but perhaps the bug is in your <code>toString()</code> method."},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687139603,"post_id":76503137,"comment_id":134890368,"body_markdown":"@Reilas Intriguing. The original file is reported by Notepad++ as ANSI, but the file being output is reported as UTF-8. I wonder what could cause the discrepancy if it is simply a matter of Notepad++ guessing incorrectly.","body":"@Reilas Intriguing. The original file is reported by Notepad++ as ANSI, but the file being output is reported as UTF-8. I wonder what could cause the discrepancy if it is simply a matter of Notepad++ guessing incorrectly."},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687139953,"post_id":76503137,"comment_id":134890397,"body_markdown":"@PresidentJamesK.Polk\ntoString() simply calls the following method on the root node of the data structure.\nHere is a formatted screenshot: https://imgur.com/a/NZH2GTH\nHere is a pastebin of the text: https://pastebin.com/kHMXM827","body":"@PresidentJamesK.Polk toString() simply calls the following method on the root node of the data structure. Here is a formatted screenshot: <a href=\"https://imgur.com/a/NZH2GTH\" rel=\"nofollow noreferrer\">imgur.com/a/NZH2GTH</a> Here is a pastebin of the text: <a href=\"https://pastebin.com/kHMXM827\" rel=\"nofollow noreferrer\">pastebin.com/kHMXM827</a>"},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687140602,"post_id":76503137,"comment_id":134890452,"body_markdown":"@Reilas Unfortunately it seems that the output is indeed UTF-8, because if I change Notepad++&#39;s encode setting to ANSI (not converting the file, just viewing it while assuming a different encoding), it turns the special characters gibberish. Same for viewing it as Cp1252 directly rather than ANSI.","body":"@Reilas Unfortunately it seems that the output is indeed UTF-8, because if I change Notepad++&#39;s encode setting to ANSI (not converting the file, just viewing it while assuming a different encoding), it turns the special characters gibberish. Same for viewing it as Cp1252 directly rather than ANSI."}],"answers":[{"tags":[],"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687143057,"creation_date":1687143057,"answer_id":76503343,"question_id":76503137,"body_markdown":"Well, I&#39;m not 100% sure how this works but I changed my write statement to the following\r\n```lang-java\r\nwriter.write(new String(this.toString().getBytes(Charset.forName(CHARACTER_SET))));\r\n```\r\nand now it works.\r\n\r\nI *think* what&#39;s happening is that file contents were being loaded correctly, but then re-encoded by Java&#39;s internal String format. In order to have it write the file in the format I wanted, I had to convert the text from Java&#39;s format into Cp1252 before printing it, even though I initially loaded it as Cp1252.\r\n\r\nIn conclusion, it seems that the issue was not with loading the text, or setting up the BufferedWriter, but rather it was with the text I was telling the BufferedWriter to write.","title":"Why might my BufferedWriter output a UTF-8 text file when I&#39;m specifying that the encoding is Cp1252?","body":"<p>Well, I'm not 100% sure how this works but I changed my write statement to the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>writer.write(new String(this.toString().getBytes(Charset.forName(CHARACTER_SET))));\n</code></pre>\n<p>and now it works.</p>\n<p>I <em>think</em> what's happening is that file contents were being loaded correctly, but then re-encoded by Java's internal String format. In order to have it write the file in the format I wanted, I had to convert the text from Java's format into Cp1252 before printing it, even though I initially loaded it as Cp1252.</p>\n<p>In conclusion, it seems that the issue was not with loading the text, or setting up the BufferedWriter, but rather it was with the text I was telling the BufferedWriter to write.</p>\n"}],"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687143057,"creation_date":1687137986,"question_id":76503137,"body_markdown":"I&#39;m working with some files that might be either UTF-8 or ANSI (Cp1252 specifically), and I need to load them, make some edits, and then output the file again with the original encoding. However, I haven&#39;t had any luck getting my program to output ANSI at all.\r\n\r\nMy code for loading the text is a simple `Scanner` with a `charsetName` specified\r\n``` lang-java\r\nfileScanner = new Scanner(f, CHARACTER_SET);\r\n```\r\n\r\nMy current code for writing the file is the following:\r\n```lang-java\r\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), CHARACTER_SET));\r\nwriter.write(this.toString());\r\nSystem.out.println(&quot;Writing &quot; + name + &quot; (&quot; + method + &quot;) using &quot; + CHARACTER_SET + &quot; encoding&quot;);\r\nwriter.close();\r\n```\r\n\r\n`CHARACTER_SET` is a String that is either &quot;UTF8&quot; or &quot;windows-1252&quot; depending on which encoding I detected the file to be when loading it.\r\n\r\nThe file actually outputs just fine in either mode, with all the special accent characters I&#39;ve encountered being uncorrupted. The problem is that if I work on an Cp1252 file, it will output it as UTF-8 even though I initialized the BufferedWriter with a Cp1252 OutputStreamWriter. I can verify this since the encoding was set via `CHARACTER_SET`, and I print out `CHARACTER_SET` right afterwards showing that for ANSI files it used Cp1252. I&#39;m checking the encoding of the output by loading it in Notepad++ and seeing what it says in the bottom right.\r\n\r\nIt know seems like I&#39;m splitting hairs a little, but I really do want to leave the file with its original encoding.","title":"Why might my BufferedWriter output a UTF-8 text file when I&#39;m specifying that the encoding is Cp1252?","body":"<p>I'm working with some files that might be either UTF-8 or ANSI (Cp1252 specifically), and I need to load them, make some edits, and then output the file again with the original encoding. However, I haven't had any luck getting my program to output ANSI at all.</p>\n<p>My code for loading the text is a simple <code>Scanner</code> with a <code>charsetName</code> specified</p>\n<pre class=\"lang-java prettyprint-override\"><code>fileScanner = new Scanner(f, CHARACTER_SET);\n</code></pre>\n<p>My current code for writing the file is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), CHARACTER_SET));\nwriter.write(this.toString());\nSystem.out.println(&quot;Writing &quot; + name + &quot; (&quot; + method + &quot;) using &quot; + CHARACTER_SET + &quot; encoding&quot;);\nwriter.close();\n</code></pre>\n<p><code>CHARACTER_SET</code> is a String that is either &quot;UTF8&quot; or &quot;windows-1252&quot; depending on which encoding I detected the file to be when loading it.</p>\n<p>The file actually outputs just fine in either mode, with all the special accent characters I've encountered being uncorrupted. The problem is that if I work on an Cp1252 file, it will output it as UTF-8 even though I initialized the BufferedWriter with a Cp1252 OutputStreamWriter. I can verify this since the encoding was set via <code>CHARACTER_SET</code>, and I print out <code>CHARACTER_SET</code> right afterwards showing that for ANSI files it used Cp1252. I'm checking the encoding of the output by loading it in Notepad++ and seeing what it says in the bottom right.</p>\n<p>It know seems like I'm splitting hairs a little, but I really do want to leave the file with its original encoding.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1669616736,"post_id":74555957,"comment_id":131673828,"body_markdown":"Context extension works downstream, not upstream, like variable scopes in programming. Where exit from scope context will be removed. So, that leaves you with what you don&#39;t want. Or search for another solution design.","body":"Context extension works downstream, not upstream, like variable scopes in programming. Where exit from scope context will be removed. So, that leaves you with what you don&#39;t want. Or search for another solution design."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1669638526,"post_id":74555957,"comment_id":131680378,"body_markdown":"It is not removed, it still there but somehow my values are lost","body":"It is not removed, it still there but somehow my values are lost"},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1669639165,"post_id":74555957,"comment_id":131680590,"body_markdown":"Not removed and values are lost. Am I the only one feeling conflicted? :)","body":"Not removed and values are lost. Am I the only one feeling conflicted? :)"},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1669639241,"post_id":74555957,"comment_id":131680618,"body_markdown":"Upload a PoC code into GitHub and I will check it.","body":"Upload a PoC code into GitHub and I will check it."}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687143006,"creation_date":1669267438,"question_id":74555957,"body_markdown":"In controller I need to share some data to WebFilter (I don&#39;t want to use `ServerWebExchange.getAttributes().put(&quot;KEY&quot;, &quot;VALUE&quot;)`, and my boss either), this is my current implemetation:\r\n\r\n    @Component\r\n    public class RequestFilter implements WebFilter {\r\n    \r\n      @Override\r\n      public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n        exchange.getResponse().beforeCommit(() -&gt; Mono.deferWithContext(c -&gt; {\r\n          //I CHECK WHETHER DATA SHARED FROM CONTROLLER EXIST OR NOT\r\n          System.out.println(c.hasKey(&quot;abc&quot;));\r\n          Context innerContext = c.get(&quot;CONTEXT&quot;);\r\n          System.out.println(innerContext.hasKey(&quot;abc&quot;));\r\n          return Mono.empty();\r\n        }));\r\n\r\n        ServerHttpRequest request = exchange.getRequest();\r\n        BodyCaptureExchange bodyCaptureExchange = new BodyCaptureExchange(exchange);\r\n    \r\n        return chain.filter(bodyCaptureExchange).subscriberContext(context -&gt; {\r\n          //HERE I PUT CONTEXT TO ITSELF\r\n          context = context.put(&quot;CONTEXT&quot;, context);\r\n          return context;\r\n        });\r\n      }\r\n    }\r\n\r\nHere is my controller method:\r\n\r\n    public Mono&lt;ResponseEntity&lt;Response&gt;&gt; post(@RequestBody Mono&lt;Request&gt; request) {\r\n        Mono&lt;ResponseEntity&lt;Response&gt;&gt; responseEntityMono = request.flatMap(\r\n                rq -&gt; service.requestProcess(rq).map(res -&gt; ResponseEntity.ok().body(res))\r\n    \t\t).subscriberContext(c -&gt; {\r\n    \t\t\t//HERE I GET THE INNER CONTEXT FROM ABOVE FILTER\r\n    \t\t\tContext innerContext = c.get(&quot;CONTEXT&quot;);\r\n    \t\t\t//PUT DATA TO IT\r\n    \t\t\tc = c.put(&quot;CONTEXT&quot;, innerContext.put(&quot;abc&quot;, &quot;abc&quot;));\r\n    \t\t\t//ALSO PUT DATA TO PARENT\r\n    \t\t    c = c.put(&quot;abc&quot;, &quot;abc&quot;);\r\n    \t\t\treturn c;\r\n    \t\t});\r\n    \t\t\r\n        return responseEntityMono;\r\n    }\r\n\r\nThe System.out.println in RequestFilter print:\r\n\r\n    false\r\n    false\r\n\r\nMeans that data I put from controller are lost when it come to Filter. I stuck here almost 2 days. Please correct me if I&#39;m wrong somewhere. I really need your help\r\n\r\nReactor version: 3.3.14\r\n\r\nSpring boot stater webflux: 2.3.9.RELEASE","title":"Spring webflux how to share data from Controller to Filter using Context","body":"<p>In controller I need to share some data to WebFilter (I don't want to use <code>ServerWebExchange.getAttributes().put(&quot;KEY&quot;, &quot;VALUE&quot;)</code>, and my boss either), this is my current implemetation:</p>\n<pre><code>@Component\npublic class RequestFilter implements WebFilter {\n\n  @Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    exchange.getResponse().beforeCommit(() -&gt; Mono.deferWithContext(c -&gt; {\n      //I CHECK WHETHER DATA SHARED FROM CONTROLLER EXIST OR NOT\n      System.out.println(c.hasKey(&quot;abc&quot;));\n      Context innerContext = c.get(&quot;CONTEXT&quot;);\n      System.out.println(innerContext.hasKey(&quot;abc&quot;));\n      return Mono.empty();\n    }));\n\n    ServerHttpRequest request = exchange.getRequest();\n    BodyCaptureExchange bodyCaptureExchange = new BodyCaptureExchange(exchange);\n\n    return chain.filter(bodyCaptureExchange).subscriberContext(context -&gt; {\n      //HERE I PUT CONTEXT TO ITSELF\n      context = context.put(&quot;CONTEXT&quot;, context);\n      return context;\n    });\n  }\n}\n</code></pre>\n<p>Here is my controller method:</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;Response&gt;&gt; post(@RequestBody Mono&lt;Request&gt; request) {\n    Mono&lt;ResponseEntity&lt;Response&gt;&gt; responseEntityMono = request.flatMap(\n            rq -&gt; service.requestProcess(rq).map(res -&gt; ResponseEntity.ok().body(res))\n        ).subscriberContext(c -&gt; {\n            //HERE I GET THE INNER CONTEXT FROM ABOVE FILTER\n            Context innerContext = c.get(&quot;CONTEXT&quot;);\n            //PUT DATA TO IT\n            c = c.put(&quot;CONTEXT&quot;, innerContext.put(&quot;abc&quot;, &quot;abc&quot;));\n            //ALSO PUT DATA TO PARENT\n            c = c.put(&quot;abc&quot;, &quot;abc&quot;);\n            return c;\n        });\n        \n    return responseEntityMono;\n}\n</code></pre>\n<p>The System.out.println in RequestFilter print:</p>\n<pre><code>false\nfalse\n</code></pre>\n<p>Means that data I put from controller are lost when it come to Filter. I stuck here almost 2 days. Please correct me if I'm wrong somewhere. I really need your help</p>\n<p>Reactor version: 3.3.14</p>\n<p>Spring boot stater webflux: 2.3.9.RELEASE</p>\n"},{"tags":["java","swing","user-interface","drag-and-drop"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686928867,"post_id":76487451,"comment_id":134870576,"body_markdown":"*but when I drop it, it just pastes the card on the card that was previously there instead of stacking it on it* - you are using a standard handler which just move the Icon from one component to another. You need to actually move the JLabel component itself, which is more involved. You can check out: 1) https://stackoverflow.com/a/19569639/131872 which creates custom handler to move a component or even a panel containing multiple components. 2) https://stackoverflow.com/a/6811800/131872 which creates a custom MouseListener to do all the dragging.","body":"<i>but when I drop it, it just pastes the card on the card that was previously there instead of stacking it on it</i> - you are using a standard handler which just move the Icon from one component to another. You need to actually move the JLabel component itself, which is more involved. You can check out: 1) <a href=\"https://stackoverflow.com/a/19569639/131872\">stackoverflow.com/a/19569639/131872</a> which creates custom handler to move a component or even a panel containing multiple components. 2) <a href=\"https://stackoverflow.com/a/6811800/131872\">stackoverflow.com/a/6811800/131872</a> which creates a custom MouseListener to do all the dragging."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686928871,"post_id":76487451,"comment_id":134870579,"body_markdown":"This would need more modifications to find the proper stack to drop the component on. In both cases you would want to try using the [Overlap Layout](https://tips4java.wordpress.com/2009/07/26/overlap-layout/). This layout manager will allow you to stack components with (or without) an offset.","body":"This would need more modifications to find the proper stack to drop the component on. In both cases you would want to try using the <a href=\"https://tips4java.wordpress.com/2009/07/26/overlap-layout/\" rel=\"nofollow noreferrer\">Overlap Layout</a>. This layout manager will allow you to stack components with (or without) an offset."},{"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"score":0,"creation_date":1686973384,"post_id":76487451,"comment_id":134875869,"body_markdown":"@camickr i will refer to these. Thanks for your help.","body":"@camickr i will refer to these. Thanks for your help."},{"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"score":0,"creation_date":1686973922,"post_id":76487451,"comment_id":134875883,"body_markdown":"@camickr so I was trying out your code and understanding how it works, but when I went to run it in my IDE, it showed an error when creating the new OverlapLayout. It said &quot;cannot find symbol: class OverlapLayout&quot; Is there something wrong on my end?","body":"@camickr so I was trying out your code and understanding how it works, but when I went to run it in my IDE, it showed an error when creating the new OverlapLayout. It said &quot;cannot find symbol: class OverlapLayout&quot; Is there something wrong on my end?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687013901,"post_id":76487451,"comment_id":134879322,"body_markdown":"@PSYCHOPATH17 I provided a link to the `OverlapLayout` in the comments above.","body":"@PSYCHOPATH17 I provided a link to the <code>OverlapLayout</code> in the comments above."},{"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"score":0,"creation_date":1687051154,"post_id":76487451,"comment_id":134882844,"body_markdown":"@camickr is the overlap layout something that you coded or is it part of a library or something? Because if I use it in my code, I need to know how to cite it.","body":"@camickr is the overlap layout something that you coded or is it part of a library or something? Because if I use it in my code, I need to know how to cite it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687053594,"post_id":76487451,"comment_id":134882957,"body_markdown":"Yes, I coded it and the website says you can use it however you wish.","body":"Yes, I coded it and the website says you can use it however you wish."},{"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"score":0,"creation_date":1687115222,"post_id":76487451,"comment_id":134888365,"body_markdown":"@camickr hey Rob Camick, I ran into another issue while coding the game, but SO isn&#39;t allowing me to put another question up for two days because of my past question quality. I think I can format this new one into a good MRE, but I am not sure how I can reach out to you or others without creating the question. Any way I can reach you besides SO?","body":"@camickr hey Rob Camick, I ran into another issue while coding the game, but SO isn&#39;t allowing me to put another question up for two days because of my past question quality. I think I can format this new one into a good MRE, but I am not sure how I can reach out to you or others without creating the question. Any way I can reach you besides SO?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687141609,"creation_date":1686933229,"answer_id":76492098,"question_id":76487451,"body_markdown":"Using concepts from my comments above I came up with a simple example:\r\n\r\n    import java.awt.*;\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.event.*;\r\n    import java.beans.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    import javax.swing.plaf.*;\r\n    import javax.swing.text.*;\r\n    import javax.swing.border.*;\r\n    import java.io.*;\r\n    \r\n    public class DragCards extends JPanel\r\n    {\r\n    \tprivate static DataFlavor COMPONENT_FLAVOR;\r\n    \r\n    \tprivate PanelHandler panelHandler = new PanelHandler();\r\n    \tprivate ComponentHandler componentHandler = new ComponentHandler();\r\n    \tprivate MouseListener dragListener;\r\n    \r\n    \tprivate Dimension cardSize = new Dimension(100, 175);\r\n    \r\n    \tpublic DragCards()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tCOMPONENT_FLAVOR = new DataFlavor(DataFlavor.javaJVMLocalObjectMimeType + &quot;;class=\\&quot;&quot; + Component[].class.getName() + &quot;\\&quot;&quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception e) { System.out.println(e); }\r\n    \r\n    \t\tdragListener = new MouseAdapter()\r\n    \t\t{\r\n    \t\t    @Override\r\n    \t\t    public void mousePressed(MouseEvent e)\r\n    \t\t    {\r\n    \t\t\t\tJComponent c = (JComponent) e.getSource();\r\n    \t\t\t\tTransferHandler handler = c.getTransferHandler();\r\n    \t\t\t\thandler.exportAsDrag(c, e, TransferHandler.MOVE);\r\n    \t\t    }\r\n    \t\t};\r\n    \r\n    \t\tsetLayout( new BorderLayout() );\r\n    \r\n    \t\tadd(createDeckPanel(), BorderLayout.PAGE_START);\r\n    \t\tadd(createStacksPanel(), BorderLayout.CENTER);\r\n    \t}\r\n    \r\n    \tprivate JPanel createDeckPanel()\r\n    \t{\r\n    \t\tJPanel deckPanel = new JPanel( new OverlapLayout( new Point(0, 0) ) );\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t{\r\n    \t\t\tJLabel label = new JLabel( &quot;Card: &quot; + i );\r\n    \t\t\tlabel.setVerticalAlignment(JLabel.TOP);\r\n    \t\t\tlabel.setBorder( new LineBorder(Color.BLACK) );\r\n    \t\t\tlabel.setOpaque( true );\r\n    \t\t\tlabel.setBackground( Color.WHITE );\r\n    \t\t\tlabel.setPreferredSize( cardSize );\r\n    \t\t\tlabel.addMouseListener( dragListener );\r\n    \t\t\tlabel.setTransferHandler( componentHandler );\r\n    \t\t\tdeckPanel.add( label );\r\n    \t\t}\r\n    \r\n    \t\tJPanel wrapper = new JPanel();\r\n    \t\twrapper.add( deckPanel );\r\n    \r\n    \t\treturn wrapper;\r\n    \t}\r\n    \r\n    \tprivate JPanel createStacksPanel()\r\n    \t{\r\n    \r\n    \t\tJPanel stackPanels = new JPanel( new GridLayout(0, 4, 10, 10) );\r\n    \t\tDimension stackDimension = new Dimension(cardSize.width, cardSize.height + 200);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 4; i++)\r\n    \t\t{\r\n    \t\t\tJPanel stackPanel = new JPanel( new OverlapLayout( new Point(0, 20) ) );\r\n    \t\t\tstackPanel.setBackground( Color.YELLOW );\r\n    \t\t\tstackPanel.setBorder( new EmptyBorder(10, 0, 0, 0) );\r\n    \t\t\tstackPanel.setPreferredSize( stackDimension );\r\n    \t\t\tstackPanel.setTransferHandler( panelHandler );\r\n    \t\t\tstackPanels.add( stackPanel );\r\n    \t\t}\r\n    \r\n    \t\tJPanel wrapper = new JPanel();\r\n    \t\twrapper.add( stackPanels );\r\n    \r\n    \t\treturn (wrapper );\r\n    \t}\r\n    \r\n        class ComponentHandler extends TransferHandler\r\n        {\r\n        \t@Override\r\n        \tpublic int getSourceActions(JComponent c)\r\n        \t{\r\n    //    \t\tsetDragImage( ScreenImage.createImage(c) );\r\n    \r\n            \treturn MOVE;\r\n        \t}\r\n    \r\n        \t@Override\r\n        \tpublic Transferable createTransferable(final JComponent c)\r\n        \t{\r\n            \treturn new Transferable()\r\n            \t{\r\n        \t\t\t@Override\r\n        \t\t\tpublic Object getTransferData(DataFlavor flavor)\r\n        \t\t\t{\r\n        \t\t\t\tComponent[] components = new Component[1];\r\n        \t\t\t\tcomponents[0] = c;\r\n        \t\t\t\treturn components;\r\n        \t\t\t}\r\n    \r\n        \t\t\t@Override\r\n        \t\t\tpublic DataFlavor[] getTransferDataFlavors()\r\n        \t\t\t{\r\n        \t\t\t\tDataFlavor[] flavors = new DataFlavor[1];\r\n        \t\t\t\tflavors[0] = DragCards.COMPONENT_FLAVOR;\r\n        \t\t\t\treturn flavors;\r\n        \t\t\t}\r\n    \r\n        \t\t\t@Override\r\n        \t\t\tpublic boolean isDataFlavorSupported(DataFlavor flavor)\r\n        \t\t\t{\r\n        \t\t\t\treturn flavor.equals(DragCards.COMPONENT_FLAVOR);\r\n        \t\t\t}\r\n            \t};\r\n        \t}\r\n    \r\n        \t@Override\r\n        \tpublic void exportDone(JComponent c, Transferable t, int action)\r\n        \t{\r\n        \t}\r\n        }\r\n    \r\n        class PanelHandler extends TransferHandler\r\n        {\r\n            @Override\r\n            public boolean canImport(TransferSupport support)\r\n            {\r\n                if (!support.isDrop())\r\n                {\r\n                    return false;\r\n                }\r\n    \r\n        \t\tboolean canImport = support.isDataFlavorSupported(DragCards.COMPONENT_FLAVOR);\r\n        \t\treturn canImport;\r\n            }\r\n    \r\n            @Override\r\n            public boolean importData(TransferSupport support)\r\n            {\r\n                if (!canImport(support))\r\n                {\r\n                    return false;\r\n                }\r\n    \r\n                Component[] components;\r\n    \r\n                try\r\n                {\r\n                    components = (Component[])support.getTransferable().getTransferData(DragCards.COMPONENT_FLAVOR);\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    e.printStackTrace();\r\n                    return false;\r\n                }\r\n    \r\n        \t\tComponent component = components[0];\r\n        \t\tContainer parent = component.getParent();\r\n        \t\tContainer container = (Container)support.getComponent();\r\n        \t\tcontainer.add(component);\r\n    \r\n        \t\tcontainer.getParent().revalidate();\r\n        \t\tcontainer.getParent().repaint();\r\n        \t\tparent.revalidate();\r\n        \t\tparent.repaint();\r\n    \r\n                return true;\r\n            }\r\n        }\r\n    \r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;DragCards&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add( new DragCards());\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nNotes:\r\n\r\n1. If you want to set the `setDragImage(...)` method you will need to get the [Screen Image](https://tips4java.wordpress.com/2008/10/13/screen-image/) code.\r\n\r\n2. When dragging to on of the 4 stack panels, the mouse must be on the panel, not the label. If you want the logic to work when the mouse is over a label, then (I think - but have not tried) you would need to add the import logic into the ComponentHandler class. This logic should be similar to the import logic in the panel class. \r\n\r\nOr the second approach using custom dragging code might look something like:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class DragCards2 extends JPanel implements MouseListener, MouseMotionListener\r\n    {\r\n    \tprivate Dimension cardSize = new Dimension(100, 175);\r\n    \tprivate JPanel deckPanel;\r\n    \tprivate JPanel stacksPanel;\r\n    \r\n    \tprivate Component card;\r\n    \tint xAdjustment;\r\n    \tint yAdjustment;\r\n    \r\n    \tprivate MouseListener dragListener;\r\n    \r\n    \r\n    \tpublic DragCards2()\r\n    \t{\r\n    \t\tsetLayout( new BorderLayout() );\r\n    \t\tadd(createDeckPanel(), BorderLayout.PAGE_START);\r\n    \t\tadd(createStacksPanel(), BorderLayout.CENTER);\r\n    \t}\r\n    \r\n    \tprivate JPanel createDeckPanel()\r\n    \t{\r\n    \t\tdeckPanel = new JPanel( new OverlapLayout( new Point(0, 0) ) );\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t{\r\n    \t\t\tJLabel label = new JLabel( &quot;Card: &quot; + i );\r\n    \t\t\tlabel.setVerticalAlignment(JLabel.TOP);\r\n    \t\t\tlabel.setBorder( new LineBorder(Color.BLACK) );\r\n    \t\t\tlabel.setOpaque( true );\r\n    \t\t\tlabel.setBackground( Color.WHITE );\r\n    \t\t\tlabel.setPreferredSize( cardSize );\r\n    \t\t\tdeckPanel.add( label );\r\n    \t\t}\r\n    \r\n    \t\tdeckPanel.addMouseListener( this );\r\n    \t\tdeckPanel.addMouseMotionListener( this );\r\n    \r\n    \t\tJPanel wrapper = new JPanel();\r\n    \t\twrapper.add( deckPanel );\r\n    \r\n    \t\treturn wrapper;\r\n    \t}\r\n    \r\n    \tprivate JPanel createStacksPanel()\r\n    \t{\r\n    \r\n    \t\tstacksPanel = new JPanel( new GridLayout(0, 4, 10, 10) );\r\n    \t\tDimension stackDimension = new Dimension(cardSize.width, cardSize.height + 200);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 4; i++)\r\n    \t\t{\r\n    \t\t\tJPanel stackPanel = new JPanel( new OverlapLayout( new Point(0, 20) ) );\r\n    \t\t\tstackPanel.setBackground( Color.YELLOW );\r\n    \t\t\tstackPanel.setBorder( new EmptyBorder(10, 0, 0, 0) );\r\n    \t\t\tstackPanel.setPreferredSize( stackDimension );\r\n    \t\t\tstacksPanel.add( stackPanel );\r\n    \t\t}\r\n    \r\n    \t\tJPanel wrapper = new JPanel();\r\n    \t\twrapper.add( stacksPanel );\r\n    \r\n    \t\treturn (wrapper );\r\n    \t}\r\n    \r\n    \t/*\r\n    \t**  Add the card to the dragging layer so it can be moved\r\n    \t*/\r\n    \tpublic void mousePressed(MouseEvent e)\r\n    \t{\r\n    \t\tJPanel deckPanel = (JPanel)e.getComponent();\r\n    \t\tcard =  deckPanel.getComponent( 0 );\r\n    \r\n    \t\tif (card instanceof JPanel) return;\r\n    \r\n    \t\tPoint parentLocation = card.getParent().getLocation();\r\n    \t\txAdjustment = parentLocation.x - e.getX();\r\n    \t\tyAdjustment = parentLocation.y - e.getY();\r\n    \t\tcard.setLocation(e.getX() + xAdjustment, e.getY() + yAdjustment);\r\n    \r\n    \t\tJLayeredPane lp = getRootPane().getLayeredPane();\r\n    \t\tlp.add(card, JLayeredPane.DRAG_LAYER);\r\n    \t\tsetCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\r\n    \t}\r\n    \r\n    \t/*\r\n    \t**  Move the chess piece around\r\n    \t*/\r\n    \tpublic void mouseDragged(MouseEvent me)\r\n    \t{\r\n    \t\tif (card == null) return;\r\n    \r\n    \t\tint x = me.getX() + xAdjustment;\r\n    \t\tint y = me.getY() + yAdjustment;\r\n    \t\tcard.setLocation(x, y);\r\n    \t }\r\n    \r\n    \t/*\r\n    \t**  Drop the card back onto the game board\r\n    \t*/\r\n    \tpublic void mouseReleased(MouseEvent e)\r\n    \t{\r\n    \t\tsetCursor(null);\r\n    \r\n    \t\tif (card == null) return;\r\n    \r\n    \t\t//  Make sure the card is no longer painted on the layered pane\r\n    \r\n    \t\tcard.setVisible(false);\r\n    \r\n    \t\t//  check to see if card was dragged to a stack\r\n    \r\n    \t\tJPanel stackPanel = null;\r\n            Point localPoint = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), stacksPanel);\r\n    \r\n    \t\tfor (int i = 0; i &lt; stacksPanel.getComponentCount(); i++)\r\n    \t\t{\r\n    \t\t\tJPanel panel = (JPanel)stacksPanel.getComponent(i);\r\n    \r\n    \t\t\tif (panel.getBounds().contains(localPoint))\r\n    \t\t\t{\r\n    \t\t\t\tstackPanel = panel;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (stackPanel == null)\r\n    \t\t\tdeckPanel.add( card );\r\n    \t\telse\r\n    \t\t\tstackPanel.add( card );\r\n    \r\n    \t\tcard.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic void mouseClicked(MouseEvent e) {}\r\n    \tpublic void mouseMoved(MouseEvent e) {}\r\n    \tpublic void mouseEntered(MouseEvent e) {}\r\n    \tpublic void mouseExited(MouseEvent e) {}\r\n    \r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;DragCards2&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add( new DragCards2());\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\nBoth examples use the [Overlap Layout](https://tips4java.wordpress.com/2009/07/26/overlap-layout/) to allow for easy stacking of the cards. \r\n","title":"Using Drag and Drop in Solitaire Game for Java","body":"<p>Using concepts from my comments above I came up with a simple example:</p>\n<pre><code>import java.awt.*;\nimport java.awt.datatransfer.*;\nimport java.awt.event.*;\nimport java.beans.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\nimport javax.swing.plaf.*;\nimport javax.swing.text.*;\nimport javax.swing.border.*;\nimport java.io.*;\n\npublic class DragCards extends JPanel\n{\n    private static DataFlavor COMPONENT_FLAVOR;\n\n    private PanelHandler panelHandler = new PanelHandler();\n    private ComponentHandler componentHandler = new ComponentHandler();\n    private MouseListener dragListener;\n\n    private Dimension cardSize = new Dimension(100, 175);\n\n    public DragCards()\n    {\n        try\n        {\n            COMPONENT_FLAVOR = new DataFlavor(DataFlavor.javaJVMLocalObjectMimeType + &quot;;class=\\&quot;&quot; + Component[].class.getName() + &quot;\\&quot;&quot;);\n        }\n        catch(Exception e) { System.out.println(e); }\n\n        dragListener = new MouseAdapter()\n        {\n            @Override\n            public void mousePressed(MouseEvent e)\n            {\n                JComponent c = (JComponent) e.getSource();\n                TransferHandler handler = c.getTransferHandler();\n                handler.exportAsDrag(c, e, TransferHandler.MOVE);\n            }\n        };\n\n        setLayout( new BorderLayout() );\n\n        add(createDeckPanel(), BorderLayout.PAGE_START);\n        add(createStacksPanel(), BorderLayout.CENTER);\n    }\n\n    private JPanel createDeckPanel()\n    {\n        JPanel deckPanel = new JPanel( new OverlapLayout( new Point(0, 0) ) );\n\n        for (int i = 0; i &lt; 10; i++)\n        {\n            JLabel label = new JLabel( &quot;Card: &quot; + i );\n            label.setVerticalAlignment(JLabel.TOP);\n            label.setBorder( new LineBorder(Color.BLACK) );\n            label.setOpaque( true );\n            label.setBackground( Color.WHITE );\n            label.setPreferredSize( cardSize );\n            label.addMouseListener( dragListener );\n            label.setTransferHandler( componentHandler );\n            deckPanel.add( label );\n        }\n\n        JPanel wrapper = new JPanel();\n        wrapper.add( deckPanel );\n\n        return wrapper;\n    }\n\n    private JPanel createStacksPanel()\n    {\n\n        JPanel stackPanels = new JPanel( new GridLayout(0, 4, 10, 10) );\n        Dimension stackDimension = new Dimension(cardSize.width, cardSize.height + 200);\n\n        for (int i = 0; i &lt; 4; i++)\n        {\n            JPanel stackPanel = new JPanel( new OverlapLayout( new Point(0, 20) ) );\n            stackPanel.setBackground( Color.YELLOW );\n            stackPanel.setBorder( new EmptyBorder(10, 0, 0, 0) );\n            stackPanel.setPreferredSize( stackDimension );\n            stackPanel.setTransferHandler( panelHandler );\n            stackPanels.add( stackPanel );\n        }\n\n        JPanel wrapper = new JPanel();\n        wrapper.add( stackPanels );\n\n        return (wrapper );\n    }\n\n    class ComponentHandler extends TransferHandler\n    {\n        @Override\n        public int getSourceActions(JComponent c)\n        {\n//          setDragImage( ScreenImage.createImage(c) );\n\n            return MOVE;\n        }\n\n        @Override\n        public Transferable createTransferable(final JComponent c)\n        {\n            return new Transferable()\n            {\n                @Override\n                public Object getTransferData(DataFlavor flavor)\n                {\n                    Component[] components = new Component[1];\n                    components[0] = c;\n                    return components;\n                }\n\n                @Override\n                public DataFlavor[] getTransferDataFlavors()\n                {\n                    DataFlavor[] flavors = new DataFlavor[1];\n                    flavors[0] = DragCards.COMPONENT_FLAVOR;\n                    return flavors;\n                }\n\n                @Override\n                public boolean isDataFlavorSupported(DataFlavor flavor)\n                {\n                    return flavor.equals(DragCards.COMPONENT_FLAVOR);\n                }\n            };\n        }\n\n        @Override\n        public void exportDone(JComponent c, Transferable t, int action)\n        {\n        }\n    }\n\n    class PanelHandler extends TransferHandler\n    {\n        @Override\n        public boolean canImport(TransferSupport support)\n        {\n            if (!support.isDrop())\n            {\n                return false;\n            }\n\n            boolean canImport = support.isDataFlavorSupported(DragCards.COMPONENT_FLAVOR);\n            return canImport;\n        }\n\n        @Override\n        public boolean importData(TransferSupport support)\n        {\n            if (!canImport(support))\n            {\n                return false;\n            }\n\n            Component[] components;\n\n            try\n            {\n                components = (Component[])support.getTransferable().getTransferData(DragCards.COMPONENT_FLAVOR);\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n                return false;\n            }\n\n            Component component = components[0];\n            Container parent = component.getParent();\n            Container container = (Container)support.getComponent();\n            container.add(component);\n\n            container.getParent().revalidate();\n            container.getParent().repaint();\n            parent.revalidate();\n            parent.repaint();\n\n            return true;\n        }\n    }\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;DragCards&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new DragCards());\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n<p>Notes:</p>\n<ol>\n<li><p>If you want to set the <code>setDragImage(...)</code> method you will need to get the <a href=\"https://tips4java.wordpress.com/2008/10/13/screen-image/\" rel=\"nofollow noreferrer\">Screen Image</a> code.</p>\n</li>\n<li><p>When dragging to on of the 4 stack panels, the mouse must be on the panel, not the label. If you want the logic to work when the mouse is over a label, then (I think - but have not tried) you would need to add the import logic into the ComponentHandler class. This logic should be similar to the import logic in the panel class.</p>\n</li>\n</ol>\n<p>Or the second approach using custom dragging code might look something like:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class DragCards2 extends JPanel implements MouseListener, MouseMotionListener\n{\n    private Dimension cardSize = new Dimension(100, 175);\n    private JPanel deckPanel;\n    private JPanel stacksPanel;\n\n    private Component card;\n    int xAdjustment;\n    int yAdjustment;\n\n    private MouseListener dragListener;\n\n\n    public DragCards2()\n    {\n        setLayout( new BorderLayout() );\n        add(createDeckPanel(), BorderLayout.PAGE_START);\n        add(createStacksPanel(), BorderLayout.CENTER);\n    }\n\n    private JPanel createDeckPanel()\n    {\n        deckPanel = new JPanel( new OverlapLayout( new Point(0, 0) ) );\n\n        for (int i = 0; i &lt; 10; i++)\n        {\n            JLabel label = new JLabel( &quot;Card: &quot; + i );\n            label.setVerticalAlignment(JLabel.TOP);\n            label.setBorder( new LineBorder(Color.BLACK) );\n            label.setOpaque( true );\n            label.setBackground( Color.WHITE );\n            label.setPreferredSize( cardSize );\n            deckPanel.add( label );\n        }\n\n        deckPanel.addMouseListener( this );\n        deckPanel.addMouseMotionListener( this );\n\n        JPanel wrapper = new JPanel();\n        wrapper.add( deckPanel );\n\n        return wrapper;\n    }\n\n    private JPanel createStacksPanel()\n    {\n\n        stacksPanel = new JPanel( new GridLayout(0, 4, 10, 10) );\n        Dimension stackDimension = new Dimension(cardSize.width, cardSize.height + 200);\n\n        for (int i = 0; i &lt; 4; i++)\n        {\n            JPanel stackPanel = new JPanel( new OverlapLayout( new Point(0, 20) ) );\n            stackPanel.setBackground( Color.YELLOW );\n            stackPanel.setBorder( new EmptyBorder(10, 0, 0, 0) );\n            stackPanel.setPreferredSize( stackDimension );\n            stacksPanel.add( stackPanel );\n        }\n\n        JPanel wrapper = new JPanel();\n        wrapper.add( stacksPanel );\n\n        return (wrapper );\n    }\n\n    /*\n    **  Add the card to the dragging layer so it can be moved\n    */\n    public void mousePressed(MouseEvent e)\n    {\n        JPanel deckPanel = (JPanel)e.getComponent();\n        card =  deckPanel.getComponent( 0 );\n\n        if (card instanceof JPanel) return;\n\n        Point parentLocation = card.getParent().getLocation();\n        xAdjustment = parentLocation.x - e.getX();\n        yAdjustment = parentLocation.y - e.getY();\n        card.setLocation(e.getX() + xAdjustment, e.getY() + yAdjustment);\n\n        JLayeredPane lp = getRootPane().getLayeredPane();\n        lp.add(card, JLayeredPane.DRAG_LAYER);\n        setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\n    }\n\n    /*\n    **  Move the chess piece around\n    */\n    public void mouseDragged(MouseEvent me)\n    {\n        if (card == null) return;\n\n        int x = me.getX() + xAdjustment;\n        int y = me.getY() + yAdjustment;\n        card.setLocation(x, y);\n     }\n\n    /*\n    **  Drop the card back onto the game board\n    */\n    public void mouseReleased(MouseEvent e)\n    {\n        setCursor(null);\n\n        if (card == null) return;\n\n        //  Make sure the card is no longer painted on the layered pane\n\n        card.setVisible(false);\n\n        //  check to see if card was dragged to a stack\n\n        JPanel stackPanel = null;\n        Point localPoint = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), stacksPanel);\n\n        for (int i = 0; i &lt; stacksPanel.getComponentCount(); i++)\n        {\n            JPanel panel = (JPanel)stacksPanel.getComponent(i);\n\n            if (panel.getBounds().contains(localPoint))\n            {\n                stackPanel = panel;\n                break;\n            }\n        }\n\n        if (stackPanel == null)\n            deckPanel.add( card );\n        else\n            stackPanel.add( card );\n\n        card.setVisible(true);\n    }\n\n    public void mouseClicked(MouseEvent e) {}\n    public void mouseMoved(MouseEvent e) {}\n    public void mouseEntered(MouseEvent e) {}\n    public void mouseExited(MouseEvent e) {}\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;DragCards2&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new DragCards2());\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n<p>Both examples use the <a href=\"https://tips4java.wordpress.com/2009/07/26/overlap-layout/\" rel=\"nofollow noreferrer\">Overlap Layout</a> to allow for easy stacking of the cards.</p>\n"}],"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76492098,"answer_count":1,"score":-1,"last_activity_date":1687141609,"creation_date":1686896734,"question_id":76487451,"body_markdown":"so I&#39;m creating a Solitaire game in Java. I have the card, deck, and most of the GUI coded out. However, when I go to implement drag and drop into the GUI, I am able to drag the cards to a different tableau stack, but when I drop it, it just pastes the card on the card that was previously there instead of stacking it on it. Plus, the card is not removed from its old location. How would you resolve this?\r\n\r\nI have tried using exportAsDrag(jc,e,TransferHandler.MOVE); and added code to make it run, but that didn&#39;t seem to work either.\r\n\r\nhere are the three classes (Solitaire class is the GUI one):\r\n\r\n\r\n\r\n```\r\n//imports\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Solitaire extends JFrame {\r\n    \r\n    //instance variables\r\n    private static final int CARD_WIDTH = 73;\r\n    private static final int CARD_HEIGHT = (int)(CARD_WIDTH*1.49137931+.5);\r\n    private static final int TOP_STACKS_X_DIFF = 435;\r\n    private static final int TOP_STACKS_Y_DIFF = 30;\r\n    private static final int WASTE_STACK_X_DIFF = 139;\r\n    private static final int WASTE_STACK_Y_DIFF = 30;\r\n    private static final int MAIN_STACKS_X_DIFF = 30;\r\n    private static final int MAIN_STACKS_Y_DIFF = 40;\r\n        \r\n    private final JLabel newStack;\r\n    private final JLabel wasteStack;\r\n    private final JLabel[] topStacks;\r\n    private final JLayeredPane[] mainStacks;\r\n    \r\n    private Card wasteCard;\r\n    \r\n    private Deck deckOfCards;\r\n    \r\n    //methods\r\n    /**\r\n     * Creates new form gameScreenGUI\r\n     */\r\n    public Solitaire() {\r\n        //setting up JFrame\r\n        setTitle(&quot;Solitaire&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setResizable(false);\r\n        getContentPane().setBackground(new Color(0,153,0));\r\n        \r\n        //Create the topStacks\r\n        topStacks = new JLabel[4]; //initializing topStacks\r\n        for (int index = 0; index &lt; topStacks.length; index++) { //loop through to create stack for each suit\r\n            topStacks[index] = new JLabel(); //creating new stack\r\n            topStacks[index].setBounds((index*CARD_WIDTH) + (index*10) + TOP_STACKS_X_DIFF, TOP_STACKS_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for each top stack\r\n            topStacks[index].setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for each top stack\r\n            add(topStacks[index]); //adding to GUI\r\n        } //end of for loop\r\n        \r\n        //Create the wasteStack\r\n        wasteStack = new JLabel(); //initializing wasteStack\r\n        wasteStack.setBounds(WASTE_STACK_X_DIFF, WASTE_STACK_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for the waste stack\r\n        wasteStack.setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for the boundary of the waste stack\r\n        add(wasteStack); //adding to GUI\r\n        \r\n        //Create the newStack\r\n        newStack = new JLabel(); //initializing newStack\r\n        newStack.setBounds(WASTE_STACK_X_DIFF - CARD_WIDTH - 36, WASTE_STACK_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for the new stack\r\n        newStack.setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for the boundary of the new stack\r\n        newStack.addMouseListener(new newStackOnClick()); //adding event\r\n        add(newStack); //adding to GUI\r\n        \r\n        //Create the mainStacks\r\n        mainStacks = new JLayeredPane[7]; //initializing mainStacks\r\n        for (int index = 0; index &lt; mainStacks.length; index++) { //loop through to create 7 stacks\r\n            mainStacks[index] = new JLayeredPane(); //creating new stack\r\n            mainStacks[index].setBounds((index*CARD_WIDTH) + (index*36) + MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF + (CARD_HEIGHT + 10), CARD_WIDTH, CARD_HEIGHT); //creating the boundary for each main stack\r\n            mainStacks[index].setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for each main stack\r\n            add(mainStacks[index]); //add to GUI\r\n        } //end of for loop\r\n\r\n        \r\n        setLayout(null); //changing to null layout\r\n        setSize(800, 600); //defining size of window\r\n        setVisible(true); //displaying window\r\n        startGame(); //starts the game\r\n    } //end of constructor method\r\n    \r\n    /**\r\n     * This method creates the game.\r\n     */\r\n    private void startGame() {\r\n        //creates and shuffles a new deck\r\n        deckOfCards = new Deck();\r\n        deckOfCards.shuffleDeck();\r\n        \r\n        MouseListener ml = new MouseListener() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {}\r\n\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                JComponent jc = (JComponent)e.getSource();\r\n                TransferHandler th = jc.getTransferHandler();\r\n                th.exportAsDrag(jc, e, TransferHandler.COPY);\r\n            }\r\n\r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {}\r\n\r\n            @Override\r\n            public void mouseEntered(MouseEvent e) {}\r\n\r\n            @Override\r\n            public void mouseExited(MouseEvent e) {}\r\n            \r\n        };\r\n\r\n        \r\n        for (int stack = 0; stack &lt; mainStacks.length; stack++) { //loop through the stacks in the mainStacks\r\n            int stackHeight = 0; //stores the height of the stack\r\n            \r\n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) { //loop through to add the cards in each Stack\r\n                Card placementCard = deckOfCards.drawCard(); //draws card\r\n                placementCard.setIsFaceUp(false);\r\n                //checking if the card is the last card in the stack\r\n                if (stack == cardInStack) {\r\n                    placementCard.setIsFaceUp(true); //card is facing up\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\r\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    cardLabel.setBounds(0,cardInStack*22, CARD_WIDTH, CARD_HEIGHT);\r\n                    cardLabel.addMouseListener(ml);\r\n                    cardLabel.setTransferHandler(new TransferHandler(&quot;icon&quot;));\r\n                    mainStacks[stack].add(cardLabel, Integer.valueOf(cardInStack));\r\n                } //end of if statement\r\n                \r\n                //if statement to check whether the card should be revealed or not\r\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\r\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    cardLabel.setBounds(0,cardInStack*22, CARD_WIDTH, CARD_HEIGHT);\r\n                    mainStacks[stack].add(cardLabel, Integer.valueOf(cardInStack));\r\n                } //end of if statement\r\n                \r\n                stackHeight = CARD_HEIGHT + (22*stack); //increments the stack height with each new card\r\n                \r\n            } //end of for loop\r\n            \r\n            mainStacks[stack].setSize(CARD_WIDTH, stackHeight); //sets the size of the stack so that all cards show\r\n            \r\n        } //end of for loop\r\n        \r\n        //sizes the image and sets it to newCard\r\n        ImageIcon cardBack = new ImageIcon(Card.getBackImagePath());\r\n        Image cardBackScaled = cardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n        newStack.setIcon(new ImageIcon(cardBackScaled));\r\n        \r\n        wasteCard = deckOfCards.drawCard(); //new card from pile to possibly add to mainStacks\r\n        wasteCard.setIsFaceUp(true); //sets card facing up        \r\n        \r\n        //sizes the image and sets it to wasteCard\r\n        ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\r\n        Image wasteCardFaceScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n        wasteStack.addMouseListener(ml);\r\n        wasteStack.setTransferHandler(new TransferHandler(&quot;icon&quot;));\r\n        wasteStack.setIcon(new ImageIcon(wasteCardFaceScaled));\r\n                \r\n    } //end of startGame method\r\n    \r\n    private void newStackClick() {\r\n        if(!deckOfCards.isEmpty()) {\r\n            wasteCard = deckOfCards.drawCard();\r\n            System.out.println(wasteCard);\r\n            wasteCard.setIsFaceUp(true);\r\n            \r\n            ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\r\n            Image wasteCardScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n            wasteStack.setIcon(new ImageIcon(wasteCardScaled));\r\n        } else {\r\n            resetNewStack();\r\n        } //end of if statement\r\n    } //end of newStackClick method\r\n    \r\n    private void resetNewStack() {\r\n        deckOfCards.resetDrawCardIndex();\r\n        deckOfCards.shuffleDeck();\r\n        wasteCard = deckOfCards.drawCard();\r\n        wasteCard.setIsFaceUp(true);\r\n        \r\n        ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\r\n        Image wasteCardScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n        wasteStack.setIcon(new ImageIcon(wasteCardScaled));\r\n        \r\n        ImageIcon cardBack = new ImageIcon(Card.getBackImagePath());\r\n        Image cardBackScaled = cardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n        newStack.setIcon(new ImageIcon(cardBackScaled));\r\n    } //end of resetNewStack method\r\n    \r\n    private class newStackOnClick extends MouseAdapter {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            newStackClick();\r\n        } //end of mouseClicked method\r\n    } //end of newStackOnClick class\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        new Solitaire();\r\n    } //end of main method\r\n\r\n} //end of SolitaireJLP class\r\n```\r\n\r\n```\r\npublic class Card {\r\n    //instance variables\r\n    private final Suit SUIT;\r\n    private final Rank RANK;\r\n    private boolean isFaceUp;\r\n    \r\n    //methods\r\n    /**\r\n     * This is the constructor method for the Card class.\r\n     * @param suit - the suit to be assigned to the card.\r\n     * @param rank - the rank to be assigned to the card.\r\n     */\r\n    public Card(Suit suit, Rank rank) {\r\n        this.SUIT = suit;\r\n        this.RANK = rank;\r\n        this.isFaceUp = false;\r\n    } //end of constructor\r\n    \r\n    /**\r\n     * This method gives the user the suit of the Card.\r\n     * @return Suit - the suit of the Card.\r\n     */\r\n    public Suit getSuit() {\r\n        return this.SUIT;\r\n    } //end of getSuit method\r\n    /**\r\n     * This method gives the user the rank of the Card.\r\n     * @return Rank - the rank of the Card.\r\n     */\r\n    public Rank getRank() {\r\n        return this.RANK;\r\n    } //end of getRank method\r\n    \r\n    /**\r\n     * This method gives whether the Card is faced up or not.\r\n     * @return Boolean - true or false based on if the Card is facing up.\r\n     */\r\n    public boolean getIsFaceUp() {\r\n        return this.isFaceUp;\r\n    } //end of getIsFaceUp method\r\n    /**\r\n     * This method sets the isFaceUp variable to true if the card is facing up in the game.\r\n     */\r\n    public void setIsFaceUp(boolean b) {\r\n        this.isFaceUp = b;\r\n    } //end of setIsFaceUp method\r\n    \r\n    /**\r\n     * This method determines if the Card is from a red suit.\r\n     * @return Boolean - true or false if card is red\r\n     */\r\n    public boolean isRed() {\r\n        return this.SUIT == Suit.HEARTS || this.SUIT == Suit.DIAMONDS;\r\n    } //end of isRed method\r\n    /**\r\n     * This method determines if the Card is from a black suit.\r\n     * @return a Boolean true or false if card is black\r\n     */\r\n    public boolean isBlack() {\r\n        return this.SUIT == Suit.CLUBS || this.SUIT == Suit.SPADES;\r\n    } //end of isBlack method\r\n    \r\n    /**\r\n     * This method determines if the card can be stacked on the card behind it.\r\n     * @return a Boolean true or false if it can be stacked\r\n     */\r\n    public boolean stackable(Card card) {\r\n        return this.isRed() != card.isRed();\r\n    } //end of stackable method\r\n    \r\n    /**\r\n     * This method gives the name of each card.\r\n     * @return a string that has two letters- the first letter of the rank and the first letter of the suit.\r\n     */\r\n    public String getName() {\r\n        String number = &quot;&quot;; //variable declaration\r\n        switch(RANK) { //switch to assign rank name\r\n            case ACE -&gt; number = &quot;A&quot;; //case\r\n            case TWO -&gt; number = &quot;2&quot;; //case\r\n            case THREE -&gt; number = &quot;3&quot;; //case\r\n            case FOUR -&gt; number = &quot;4&quot;; //case\r\n            case FIVE -&gt; number = &quot;5&quot;; //case\r\n            case SIX -&gt; number = &quot;6&quot;; //case\r\n            case SEVEN -&gt; number = &quot;7&quot;; //case\r\n            case EIGHT -&gt; number = &quot;8&quot;; //case\r\n            case NINE -&gt; number = &quot;9&quot;; //case\r\n            case TEN -&gt; number = &quot;10&quot;; //case\r\n            case JACK -&gt; number = &quot;J&quot;; //case\r\n            case QUEEN -&gt; number = &quot;Q&quot;; //case\r\n            case KING -&gt; number = &quot;K&quot;; //case\r\n        } //end of switch\r\n        String suitName = &quot;&quot;; //variable declaration\r\n        switch(SUIT) { //switch to assign suit name\r\n            case HEARTS -&gt; suitName = &quot;H&quot;; //case\r\n            case DIAMONDS -&gt; suitName = &quot;D&quot;; //case\r\n            case SPADES -&gt; suitName = &quot;S&quot;; //case\r\n            case CLUBS -&gt; suitName = &quot;C&quot;; //case\r\n        } //end of switch\r\n        return number + suitName; //return statement\r\n    } //end of getName method\r\n    \r\n    /**\r\n     * This method gives the path to a corresponding image.\r\n     * @return String - returns the path of the image corresponding with the card.\r\n     */\r\n    public String getImagePath() {\r\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\cards\\\\&quot; + getName().substring(1,getName().length()) + &quot;\\\\&quot; + getName() + &quot;.jpg&quot;; //return statement\r\n    } //end of getImage method\r\n    /**\r\n     * This method gives the file path to the back of the card image.\r\n     * @return String the file path to the card back image\r\n     */\r\n    public static String getBackImagePath() {\r\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\CardBack.jpg&quot;;\r\n    } //end of getImageBackPath method\r\n    \r\n    @Override\r\n    /**\r\n     * This method returns the description about the instance variables.\r\n     * @return String - rank and suit of card along with image path.\r\n     */\r\n    public String toString() {\r\n        return this.RANK + &quot; of &quot; + this.SUIT + &quot; ---- &quot; + getImagePath();\r\n    }\r\n} //end of Card class\r\n```\r\n\r\n```\r\n//imports\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class Deck {\r\n    \r\n    //instance variables\r\n    private final ArrayList&lt;Card&gt; cards;\r\n    private int drawCardIndex;\r\n    \r\n    //methods\r\n    /**\r\n     * This constructor for the Deck class creates all 52 cards and adds them to cards List.\r\n     */\r\n    public Deck() {\r\n        cards = new ArrayList&lt;&gt;(); //creating new deck\r\n        \r\n        for (Suit suit: Suit.values()) { //loops through suits\r\n            for (Rank rank: Rank.values()) { //loops through ranks\r\n                cards.add(new Card(suit, rank)); //adds a unique Card to cards\r\n            }\r\n        }\r\n        drawCardIndex = 0; //initializes index\r\n    } //end of constructor\r\n    \r\n    /**\r\n     * This method returns the size of the deck.\r\n     * @return int - size of deck\r\n     */\r\n    public int getSize() {\r\n        return cards.size();\r\n    } //end of getSize method\r\n    \r\n    /**\r\n     * This method returns a drawn card in the deck of cards.\r\n     * @return Card - a new drawn card in the deck of cards.\r\n     */\r\n    public Card drawCard() {\r\n        if (drawCardIndex&lt;cards.size()) { //checks if all of the cards have been drawn\r\n            Card card = cards.get(drawCardIndex); //draws a card\r\n            drawCardIndex++; //increments\r\n            return card; //return statement\r\n        }\r\n        return null; //returns null if all of the cards have already been drawn\r\n    } //end of drawCard method\r\n    \r\n    /**\r\n     * This method shuffles the deck of cards.\r\n     */\r\n    public void shuffleDeck() {\r\n        Collections.shuffle(cards); //mixes ArrayList\r\n        resetDrawCardIndex(); //resets the drawCardIndex variable\r\n    } //end of shuffleDeck method\r\n    \r\n    /**\r\n     * This method resets the drawCardIndex.\r\n     */\r\n    public void resetDrawCardIndex() {\r\n        drawCardIndex = 0;\r\n    } //end of resetDrawCardIndex method\r\n    \r\n    /**\r\n     * This method checks if all of the cards have been drawn.\r\n     * @return Boolean true or false based on if all the cards have been drawn or not.\r\n     */\r\n    public boolean isEmpty() {\r\n        return cards.size() &lt;= drawCardIndex;\r\n    } //end of isEmpty method\r\n    \r\n} //end of Deck class\r\n```","title":"Using Drag and Drop in Solitaire Game for Java","body":"<p>so I'm creating a Solitaire game in Java. I have the card, deck, and most of the GUI coded out. However, when I go to implement drag and drop into the GUI, I am able to drag the cards to a different tableau stack, but when I drop it, it just pastes the card on the card that was previously there instead of stacking it on it. Plus, the card is not removed from its old location. How would you resolve this?</p>\n<p>I have tried using exportAsDrag(jc,e,TransferHandler.MOVE); and added code to make it run, but that didn't seem to work either.</p>\n<p>here are the three classes (Solitaire class is the GUI one):</p>\n<pre><code>//imports\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Solitaire extends JFrame {\n    \n    //instance variables\n    private static final int CARD_WIDTH = 73;\n    private static final int CARD_HEIGHT = (int)(CARD_WIDTH*1.49137931+.5);\n    private static final int TOP_STACKS_X_DIFF = 435;\n    private static final int TOP_STACKS_Y_DIFF = 30;\n    private static final int WASTE_STACK_X_DIFF = 139;\n    private static final int WASTE_STACK_Y_DIFF = 30;\n    private static final int MAIN_STACKS_X_DIFF = 30;\n    private static final int MAIN_STACKS_Y_DIFF = 40;\n        \n    private final JLabel newStack;\n    private final JLabel wasteStack;\n    private final JLabel[] topStacks;\n    private final JLayeredPane[] mainStacks;\n    \n    private Card wasteCard;\n    \n    private Deck deckOfCards;\n    \n    //methods\n    /**\n     * Creates new form gameScreenGUI\n     */\n    public Solitaire() {\n        //setting up JFrame\n        setTitle(&quot;Solitaire&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setResizable(false);\n        getContentPane().setBackground(new Color(0,153,0));\n        \n        //Create the topStacks\n        topStacks = new JLabel[4]; //initializing topStacks\n        for (int index = 0; index &lt; topStacks.length; index++) { //loop through to create stack for each suit\n            topStacks[index] = new JLabel(); //creating new stack\n            topStacks[index].setBounds((index*CARD_WIDTH) + (index*10) + TOP_STACKS_X_DIFF, TOP_STACKS_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for each top stack\n            topStacks[index].setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for each top stack\n            add(topStacks[index]); //adding to GUI\n        } //end of for loop\n        \n        //Create the wasteStack\n        wasteStack = new JLabel(); //initializing wasteStack\n        wasteStack.setBounds(WASTE_STACK_X_DIFF, WASTE_STACK_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for the waste stack\n        wasteStack.setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for the boundary of the waste stack\n        add(wasteStack); //adding to GUI\n        \n        //Create the newStack\n        newStack = new JLabel(); //initializing newStack\n        newStack.setBounds(WASTE_STACK_X_DIFF - CARD_WIDTH - 36, WASTE_STACK_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for the new stack\n        newStack.setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for the boundary of the new stack\n        newStack.addMouseListener(new newStackOnClick()); //adding event\n        add(newStack); //adding to GUI\n        \n        //Create the mainStacks\n        mainStacks = new JLayeredPane[7]; //initializing mainStacks\n        for (int index = 0; index &lt; mainStacks.length; index++) { //loop through to create 7 stacks\n            mainStacks[index] = new JLayeredPane(); //creating new stack\n            mainStacks[index].setBounds((index*CARD_WIDTH) + (index*36) + MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF + (CARD_HEIGHT + 10), CARD_WIDTH, CARD_HEIGHT); //creating the boundary for each main stack\n            mainStacks[index].setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for each main stack\n            add(mainStacks[index]); //add to GUI\n        } //end of for loop\n\n        \n        setLayout(null); //changing to null layout\n        setSize(800, 600); //defining size of window\n        setVisible(true); //displaying window\n        startGame(); //starts the game\n    } //end of constructor method\n    \n    /**\n     * This method creates the game.\n     */\n    private void startGame() {\n        //creates and shuffles a new deck\n        deckOfCards = new Deck();\n        deckOfCards.shuffleDeck();\n        \n        MouseListener ml = new MouseListener() {\n            @Override\n            public void mouseClicked(MouseEvent e) {}\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n                JComponent jc = (JComponent)e.getSource();\n                TransferHandler th = jc.getTransferHandler();\n                th.exportAsDrag(jc, e, TransferHandler.COPY);\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent e) {}\n\n            @Override\n            public void mouseEntered(MouseEvent e) {}\n\n            @Override\n            public void mouseExited(MouseEvent e) {}\n            \n        };\n\n        \n        for (int stack = 0; stack &lt; mainStacks.length; stack++) { //loop through the stacks in the mainStacks\n            int stackHeight = 0; //stores the height of the stack\n            \n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) { //loop through to add the cards in each Stack\n                Card placementCard = deckOfCards.drawCard(); //draws card\n                placementCard.setIsFaceUp(false);\n                //checking if the card is the last card in the stack\n                if (stack == cardInStack) {\n                    placementCard.setIsFaceUp(true); //card is facing up\n                    //sizes the image and sets it to placementCard\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                    cardLabel.setBounds(0,cardInStack*22, CARD_WIDTH, CARD_HEIGHT);\n                    cardLabel.addMouseListener(ml);\n                    cardLabel.setTransferHandler(new TransferHandler(&quot;icon&quot;));\n                    mainStacks[stack].add(cardLabel, Integer.valueOf(cardInStack));\n                } //end of if statement\n                \n                //if statement to check whether the card should be revealed or not\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\n                    //sizes the image and sets it to placementCard\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                    cardLabel.setBounds(0,cardInStack*22, CARD_WIDTH, CARD_HEIGHT);\n                    mainStacks[stack].add(cardLabel, Integer.valueOf(cardInStack));\n                } //end of if statement\n                \n                stackHeight = CARD_HEIGHT + (22*stack); //increments the stack height with each new card\n                \n            } //end of for loop\n            \n            mainStacks[stack].setSize(CARD_WIDTH, stackHeight); //sets the size of the stack so that all cards show\n            \n        } //end of for loop\n        \n        //sizes the image and sets it to newCard\n        ImageIcon cardBack = new ImageIcon(Card.getBackImagePath());\n        Image cardBackScaled = cardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n        newStack.setIcon(new ImageIcon(cardBackScaled));\n        \n        wasteCard = deckOfCards.drawCard(); //new card from pile to possibly add to mainStacks\n        wasteCard.setIsFaceUp(true); //sets card facing up        \n        \n        //sizes the image and sets it to wasteCard\n        ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\n        Image wasteCardFaceScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n        wasteStack.addMouseListener(ml);\n        wasteStack.setTransferHandler(new TransferHandler(&quot;icon&quot;));\n        wasteStack.setIcon(new ImageIcon(wasteCardFaceScaled));\n                \n    } //end of startGame method\n    \n    private void newStackClick() {\n        if(!deckOfCards.isEmpty()) {\n            wasteCard = deckOfCards.drawCard();\n            System.out.println(wasteCard);\n            wasteCard.setIsFaceUp(true);\n            \n            ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\n            Image wasteCardScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n            wasteStack.setIcon(new ImageIcon(wasteCardScaled));\n        } else {\n            resetNewStack();\n        } //end of if statement\n    } //end of newStackClick method\n    \n    private void resetNewStack() {\n        deckOfCards.resetDrawCardIndex();\n        deckOfCards.shuffleDeck();\n        wasteCard = deckOfCards.drawCard();\n        wasteCard.setIsFaceUp(true);\n        \n        ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\n        Image wasteCardScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n        wasteStack.setIcon(new ImageIcon(wasteCardScaled));\n        \n        ImageIcon cardBack = new ImageIcon(Card.getBackImagePath());\n        Image cardBackScaled = cardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n        newStack.setIcon(new ImageIcon(cardBackScaled));\n    } //end of resetNewStack method\n    \n    private class newStackOnClick extends MouseAdapter {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            newStackClick();\n        } //end of mouseClicked method\n    } //end of newStackOnClick class\n\n    \n    public static void main(String[] args) {\n        new Solitaire();\n    } //end of main method\n\n} //end of SolitaireJLP class\n</code></pre>\n<pre><code>public class Card {\n    //instance variables\n    private final Suit SUIT;\n    private final Rank RANK;\n    private boolean isFaceUp;\n    \n    //methods\n    /**\n     * This is the constructor method for the Card class.\n     * @param suit - the suit to be assigned to the card.\n     * @param rank - the rank to be assigned to the card.\n     */\n    public Card(Suit suit, Rank rank) {\n        this.SUIT = suit;\n        this.RANK = rank;\n        this.isFaceUp = false;\n    } //end of constructor\n    \n    /**\n     * This method gives the user the suit of the Card.\n     * @return Suit - the suit of the Card.\n     */\n    public Suit getSuit() {\n        return this.SUIT;\n    } //end of getSuit method\n    /**\n     * This method gives the user the rank of the Card.\n     * @return Rank - the rank of the Card.\n     */\n    public Rank getRank() {\n        return this.RANK;\n    } //end of getRank method\n    \n    /**\n     * This method gives whether the Card is faced up or not.\n     * @return Boolean - true or false based on if the Card is facing up.\n     */\n    public boolean getIsFaceUp() {\n        return this.isFaceUp;\n    } //end of getIsFaceUp method\n    /**\n     * This method sets the isFaceUp variable to true if the card is facing up in the game.\n     */\n    public void setIsFaceUp(boolean b) {\n        this.isFaceUp = b;\n    } //end of setIsFaceUp method\n    \n    /**\n     * This method determines if the Card is from a red suit.\n     * @return Boolean - true or false if card is red\n     */\n    public boolean isRed() {\n        return this.SUIT == Suit.HEARTS || this.SUIT == Suit.DIAMONDS;\n    } //end of isRed method\n    /**\n     * This method determines if the Card is from a black suit.\n     * @return a Boolean true or false if card is black\n     */\n    public boolean isBlack() {\n        return this.SUIT == Suit.CLUBS || this.SUIT == Suit.SPADES;\n    } //end of isBlack method\n    \n    /**\n     * This method determines if the card can be stacked on the card behind it.\n     * @return a Boolean true or false if it can be stacked\n     */\n    public boolean stackable(Card card) {\n        return this.isRed() != card.isRed();\n    } //end of stackable method\n    \n    /**\n     * This method gives the name of each card.\n     * @return a string that has two letters- the first letter of the rank and the first letter of the suit.\n     */\n    public String getName() {\n        String number = &quot;&quot;; //variable declaration\n        switch(RANK) { //switch to assign rank name\n            case ACE -&gt; number = &quot;A&quot;; //case\n            case TWO -&gt; number = &quot;2&quot;; //case\n            case THREE -&gt; number = &quot;3&quot;; //case\n            case FOUR -&gt; number = &quot;4&quot;; //case\n            case FIVE -&gt; number = &quot;5&quot;; //case\n            case SIX -&gt; number = &quot;6&quot;; //case\n            case SEVEN -&gt; number = &quot;7&quot;; //case\n            case EIGHT -&gt; number = &quot;8&quot;; //case\n            case NINE -&gt; number = &quot;9&quot;; //case\n            case TEN -&gt; number = &quot;10&quot;; //case\n            case JACK -&gt; number = &quot;J&quot;; //case\n            case QUEEN -&gt; number = &quot;Q&quot;; //case\n            case KING -&gt; number = &quot;K&quot;; //case\n        } //end of switch\n        String suitName = &quot;&quot;; //variable declaration\n        switch(SUIT) { //switch to assign suit name\n            case HEARTS -&gt; suitName = &quot;H&quot;; //case\n            case DIAMONDS -&gt; suitName = &quot;D&quot;; //case\n            case SPADES -&gt; suitName = &quot;S&quot;; //case\n            case CLUBS -&gt; suitName = &quot;C&quot;; //case\n        } //end of switch\n        return number + suitName; //return statement\n    } //end of getName method\n    \n    /**\n     * This method gives the path to a corresponding image.\n     * @return String - returns the path of the image corresponding with the card.\n     */\n    public String getImagePath() {\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\cards\\\\&quot; + getName().substring(1,getName().length()) + &quot;\\\\&quot; + getName() + &quot;.jpg&quot;; //return statement\n    } //end of getImage method\n    /**\n     * This method gives the file path to the back of the card image.\n     * @return String the file path to the card back image\n     */\n    public static String getBackImagePath() {\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\CardBack.jpg&quot;;\n    } //end of getImageBackPath method\n    \n    @Override\n    /**\n     * This method returns the description about the instance variables.\n     * @return String - rank and suit of card along with image path.\n     */\n    public String toString() {\n        return this.RANK + &quot; of &quot; + this.SUIT + &quot; ---- &quot; + getImagePath();\n    }\n} //end of Card class\n</code></pre>\n<pre><code>//imports\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Deck {\n    \n    //instance variables\n    private final ArrayList&lt;Card&gt; cards;\n    private int drawCardIndex;\n    \n    //methods\n    /**\n     * This constructor for the Deck class creates all 52 cards and adds them to cards List.\n     */\n    public Deck() {\n        cards = new ArrayList&lt;&gt;(); //creating new deck\n        \n        for (Suit suit: Suit.values()) { //loops through suits\n            for (Rank rank: Rank.values()) { //loops through ranks\n                cards.add(new Card(suit, rank)); //adds a unique Card to cards\n            }\n        }\n        drawCardIndex = 0; //initializes index\n    } //end of constructor\n    \n    /**\n     * This method returns the size of the deck.\n     * @return int - size of deck\n     */\n    public int getSize() {\n        return cards.size();\n    } //end of getSize method\n    \n    /**\n     * This method returns a drawn card in the deck of cards.\n     * @return Card - a new drawn card in the deck of cards.\n     */\n    public Card drawCard() {\n        if (drawCardIndex&lt;cards.size()) { //checks if all of the cards have been drawn\n            Card card = cards.get(drawCardIndex); //draws a card\n            drawCardIndex++; //increments\n            return card; //return statement\n        }\n        return null; //returns null if all of the cards have already been drawn\n    } //end of drawCard method\n    \n    /**\n     * This method shuffles the deck of cards.\n     */\n    public void shuffleDeck() {\n        Collections.shuffle(cards); //mixes ArrayList\n        resetDrawCardIndex(); //resets the drawCardIndex variable\n    } //end of shuffleDeck method\n    \n    /**\n     * This method resets the drawCardIndex.\n     */\n    public void resetDrawCardIndex() {\n        drawCardIndex = 0;\n    } //end of resetDrawCardIndex method\n    \n    /**\n     * This method checks if all of the cards have been drawn.\n     * @return Boolean true or false based on if all the cards have been drawn or not.\n     */\n    public boolean isEmpty() {\n        return cards.size() &lt;= drawCardIndex;\n    } //end of isEmpty method\n    \n} //end of Deck class\n</code></pre>\n"},{"tags":["java","javafx","raspberry-pi"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1598445508,"post_id":63596171,"comment_id":112460774,"body_markdown":"Have a look here: https://www.webtechie.be/post/2020-04-08-installing-java-and-javafx-on-raspberry-pi/","body":"Have a look here: <a href=\"https://www.webtechie.be/post/2020-04-08-installing-java-and-javafx-on-raspberry-pi/\" rel=\"nofollow noreferrer\">webtechie.be/post/&hellip;</a>"},{"owner":{"account_id":19362653,"reputation":33,"user_id":14157622,"display_name":"TRI"},"score":0,"creation_date":1598448537,"post_id":63596171,"comment_id":112462360,"body_markdown":"Thanks. But I also tried the method. Both Java 11 and LibericaJDK requires Raspberry pi with ARMv7 CPU. So, this method can&#39;t be inapplicable to Raspberry PI 1 Model B.","body":"Thanks. But I also tried the method. Both Java 11 and LibericaJDK requires Raspberry pi with ARMv7 CPU. So, this method can&#39;t be inapplicable to Raspberry PI 1 Model B."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1598449214,"post_id":63596171,"comment_id":112462749,"body_markdown":"As I recall JavaFX was included in Oracle&#39;s Java 8 but not in OpenJDK? You need to be careful not to break the license agreement or you can find yourself in trouble...","body":"As I recall JavaFX was included in Oracle&#39;s Java 8 but not in OpenJDK? You need to be careful not to break the license agreement or you can find yourself in trouble..."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1598480651,"post_id":63596171,"comment_id":112476617,"body_markdown":"Does this run armv6? JavaFX11 from Gluon claims to have a version that runs on that. It requires JDK11 or later, so I think you’d have to build a version of JDK11; that’s probably a bit of a rabbit hole to go down but it may be a way forward...","body":"Does this run armv6? JavaFX11 from Gluon claims to have a version that runs on that. It requires JDK11 or later, so I think you’d have to build a version of JDK11; that’s probably a bit of a rabbit hole to go down but it may be a way forward..."},{"owner":{"account_id":19362653,"reputation":33,"user_id":14157622,"display_name":"TRI"},"score":0,"creation_date":1598530699,"post_id":63596171,"comment_id":112492700,"body_markdown":"To James_D : Unfortunately, The following error was output with JDK11.\n&quot;$ java -version\nError occurred during initialization of VM\nServer VM is only supported on ARMv7+ VFP&quot;\nPerhaps using Raspberry Pi 2 solve this, but I have lots of Raspberry Pi 1, and somehow I want to utilize them.","body":"To James_D : Unfortunately, The following error was output with JDK11. &quot;$ java -version Error occurred during initialization of VM Server VM is only supported on ARMv7+ VFP&quot; Perhaps using Raspberry Pi 2 solve this, but I have lots of Raspberry Pi 1, and somehow I want to utilize them."}],"answers":[{"tags":[],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598558683,"creation_date":1598510777,"answer_id":63610544,"question_id":63596171,"body_markdown":"Indeed almost all Linux JDKs for ARM now are for 64bit. \r\n\r\nBut Azul has a Zulu JDK you can start from: https://www.azul.com/downloads/zulu-community/?version=java-11-lts&amp;os=linux&amp;architecture=arm-32-bit-hf&amp;package=jdk\r\n\r\n```\r\n$ cd /usr/lib/jvm\r\n$ sudo wget https://cdn.azul.com/zulu-embedded/bin/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n$ sudo tar -xzvf zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n$ sudo rm zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n$ ls -l\r\ntotal 12\r\nlrwxrwxrwx  1 root root   21 Jul 23 15:58 java-1.11.0-openjdk-armhf -&gt; java-11-openjdk-armhf\r\ndrwxr-xr-x  9 root root 4096 Aug 20 11:41 java-11-openjdk-armhf\r\ndrwxr-xr-x  2 root root 4096 Aug 20 11:41 openjdk-11\r\ndrwxrwxr-x 10  111  122 4096 Jul 10 16:50 zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf\r\n\r\n$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java 1\r\n$ sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac 1\r\n\r\n$ sudo update-alternatives --config java\r\nThere are 2 choices for the alternative java (providing /usr/bin/java).\r\n\r\n  Selection    Path                                                             Priority   Status\r\n------------------------------------------------------------\r\n* 0            /usr/lib/jvm/java-11-openjdk-armhf/bin/java                       1111      auto mode\r\n  1            /usr/lib/jvm/java-11-openjdk-armhf/bin/java                       1111      manual mode\r\n  2            /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java   1         manual mode\r\n\r\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\r\nupdate-alternatives: using /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java to provide /usr/bin/java (java) in manual mode\r\n\r\n$ sudo update-alternatives --config javac\r\nThere are 2 choices for the alternative javac (providing /usr/bin/javac).\r\n\r\n  Selection    Path                                                              Priority   Status\r\n------------------------------------------------------------\r\n* 0            /usr/lib/jvm/java-11-openjdk-armhf/bin/javac                       1111      auto mode\r\n  1            /usr/lib/jvm/java-11-openjdk-armhf/bin/javac                       1111      manual mode\r\n  2            /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac   1         manual mode\r\n\r\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\r\nupdate-alternatives: using /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac to provide /usr/bin/javac (javac) in manual mode\r\n\r\n$ java -version\r\nopenjdk version &quot;11.0.8&quot; 2020-07-14 LTS\r\nOpenJDK Runtime Environment Zulu11.41+75-CA (build 11.0.8+10-LTS)\r\nOpenJDK Client VM Zulu11.41+75-CA (build 11.0.8+10-LTS, mixed mode)\r\n```\r\n\r\nNext step is installing JavaFX from https://gluonhq.com/products/javafx/ &gt; &quot;JavaFX armv6hf SDK&quot;\r\n\r\n```\r\n$ cd /home/pi\r\n$ wget -O javafx.zip https://gluonhq.com/download/javafx-11-0-2-sdk-armv6hf/\r\n$ unzip javafx.zip\r\n$ rm javafx.zip\r\n```\r\n\r\nWhen this is done, you can run your application with the following command:\r\n\r\n```\r\n$ sudo java --module-path /home/pi/armv6hf-sdk/lib --add-modules=javafx.controls -jar YOUR-APP.jar\r\n```\r\n\r\nFor the full step-by-step, check this article on my blog: https://webtechie.be/post/2020-08-27-azul-zulu-java-11-and-gluon-javafx-11-on-armv6-raspberry-pi/","title":"How to install JavaFX on Raspberry Pi OS","body":"<p>Indeed almost all Linux JDKs for ARM now are for 64bit.</p>\n<p>But Azul has a Zulu JDK you can start from: <a href=\"https://www.azul.com/downloads/zulu-community/?version=java-11-lts&amp;os=linux&amp;architecture=arm-32-bit-hf&amp;package=jdk\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/zulu-community/?version=java-11-lts&amp;os=linux&amp;architecture=arm-32-bit-hf&amp;package=jdk</a></p>\n<pre><code>$ cd /usr/lib/jvm\n$ sudo wget https://cdn.azul.com/zulu-embedded/bin/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n$ sudo tar -xzvf zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n$ sudo rm zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n$ ls -l\ntotal 12\nlrwxrwxrwx  1 root root   21 Jul 23 15:58 java-1.11.0-openjdk-armhf -&gt; java-11-openjdk-armhf\ndrwxr-xr-x  9 root root 4096 Aug 20 11:41 java-11-openjdk-armhf\ndrwxr-xr-x  2 root root 4096 Aug 20 11:41 openjdk-11\ndrwxrwxr-x 10  111  122 4096 Jul 10 16:50 zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf\n\n$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java 1\n$ sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac 1\n\n$ sudo update-alternatives --config java\nThere are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                                             Priority   Status\n------------------------------------------------------------\n* 0            /usr/lib/jvm/java-11-openjdk-armhf/bin/java                       1111      auto mode\n  1            /usr/lib/jvm/java-11-openjdk-armhf/bin/java                       1111      manual mode\n  2            /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java   1         manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\nupdate-alternatives: using /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java to provide /usr/bin/java (java) in manual mode\n\n$ sudo update-alternatives --config javac\nThere are 2 choices for the alternative javac (providing /usr/bin/javac).\n\n  Selection    Path                                                              Priority   Status\n------------------------------------------------------------\n* 0            /usr/lib/jvm/java-11-openjdk-armhf/bin/javac                       1111      auto mode\n  1            /usr/lib/jvm/java-11-openjdk-armhf/bin/javac                       1111      manual mode\n  2            /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac   1         manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\nupdate-alternatives: using /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac to provide /usr/bin/javac (javac) in manual mode\n\n$ java -version\nopenjdk version &quot;11.0.8&quot; 2020-07-14 LTS\nOpenJDK Runtime Environment Zulu11.41+75-CA (build 11.0.8+10-LTS)\nOpenJDK Client VM Zulu11.41+75-CA (build 11.0.8+10-LTS, mixed mode)\n</code></pre>\n<p>Next step is installing JavaFX from <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a> &gt; &quot;JavaFX armv6hf SDK&quot;</p>\n<pre><code>$ cd /home/pi\n$ wget -O javafx.zip https://gluonhq.com/download/javafx-11-0-2-sdk-armv6hf/\n$ unzip javafx.zip\n$ rm javafx.zip\n</code></pre>\n<p>When this is done, you can run your application with the following command:</p>\n<pre><code>$ sudo java --module-path /home/pi/armv6hf-sdk/lib --add-modules=javafx.controls -jar YOUR-APP.jar\n</code></pre>\n<p>For the full step-by-step, check this article on my blog: <a href=\"https://webtechie.be/post/2020-08-27-azul-zulu-java-11-and-gluon-javafx-11-on-armv6-raspberry-pi/\" rel=\"nofollow noreferrer\">https://webtechie.be/post/2020-08-27-azul-zulu-java-11-and-gluon-javafx-11-on-armv6-raspberry-pi/</a></p>\n"}],"owner":{"account_id":19362653,"reputation":33,"user_id":14157622,"display_name":"TRI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63610544,"answer_count":1,"score":1,"last_activity_date":1687138643,"creation_date":1598439578,"question_id":63596171,"body_markdown":"I want to run .jar file with JavaFX packeages on Raspberry PI 1 Model B.\r\nJavaFX is not  included in JDK 8 version for ARM. Hence I tried to install JavaFX by reference to the following web site. \r\nhttps://stackoverrun.com/ja/q/11146620\r\n\r\nI succeeded to install JDK and move extracted files form a zip archive to JDK required folders.\r\nI tried to run two .jar files after that. The GUI of one .jar file is consisted of Swing package, the other is consisted of JavaFX package.\r\nThe .jar file consisted of Swing package worked well, as shown in the following figure.\r\n[Swing on Raspbian][1]\r\n\r\nOn the other hand, the .jar file consisted of JavaFX package outputs errors or warnings as shown in the following figure.\r\n[JavaFX on Raspbian][2]\r\n\r\nAfter these outputs, abnomal GUI without titlebar was desplayed. Consequently, minimizing, maxmizing/resizing closing and moving window are unable.\r\nAdditionally, surroundings of window is filled with black.\r\n[Displayed window of JavaFX on Raspbian][3]\r\n\r\nOf cource it is confirmed that these two .jar files worked well on Java 8 on windows 10 environment without errors.\r\n[Swing on Windows 10][4]\r\n[JavaFX on Windows 10][5]\r\n\r\nNote:As you know, Java 8 version for windows includes JavaFX libraries originally.\r\n\r\nI want to solve this problem.\r\nMy current OS and Java information is shown below.\r\n[Running Environment][6]\r\n\r\nThanks so much for your time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MllfN.jpg\r\n  [2]: https://i.stack.imgur.com/Aq401.jpg\r\n  [3]: https://i.stack.imgur.com/2D17v.jpg\r\n  [4]: https://i.stack.imgur.com/BzfWn.png\r\n  [5]: https://i.stack.imgur.com/98h1L.png\r\n  [6]: https://i.stack.imgur.com/PepdU.jpg","title":"How to install JavaFX on Raspberry Pi OS","body":"<p>I want to run .jar file with JavaFX packeages on Raspberry PI 1 Model B.\nJavaFX is not  included in JDK 8 version for ARM. Hence I tried to install JavaFX by reference to the following web site.\n<a href=\"https://stackoverrun.com/ja/q/11146620\" rel=\"nofollow noreferrer\">https://stackoverrun.com/ja/q/11146620</a></p>\n<p>I succeeded to install JDK and move extracted files form a zip archive to JDK required folders.\nI tried to run two .jar files after that. The GUI of one .jar file is consisted of Swing package, the other is consisted of JavaFX package.\nThe .jar file consisted of Swing package worked well, as shown in the following figure.\n<a href=\"https://i.stack.imgur.com/MllfN.jpg\" rel=\"nofollow noreferrer\">Swing on Raspbian</a></p>\n<p>On the other hand, the .jar file consisted of JavaFX package outputs errors or warnings as shown in the following figure.\n<a href=\"https://i.stack.imgur.com/Aq401.jpg\" rel=\"nofollow noreferrer\">JavaFX on Raspbian</a></p>\n<p>After these outputs, abnomal GUI without titlebar was desplayed. Consequently, minimizing, maxmizing/resizing closing and moving window are unable.\nAdditionally, surroundings of window is filled with black.\n<a href=\"https://i.stack.imgur.com/2D17v.jpg\" rel=\"nofollow noreferrer\">Displayed window of JavaFX on Raspbian</a></p>\n<p>Of cource it is confirmed that these two .jar files worked well on Java 8 on windows 10 environment without errors.\n<a href=\"https://i.stack.imgur.com/BzfWn.png\" rel=\"nofollow noreferrer\">Swing on Windows 10</a>\n<a href=\"https://i.stack.imgur.com/98h1L.png\" rel=\"nofollow noreferrer\">JavaFX on Windows 10</a></p>\n<p>Note:As you know, Java 8 version for windows includes JavaFX libraries originally.</p>\n<p>I want to solve this problem.\nMy current OS and Java information is shown below.\n<a href=\"https://i.stack.imgur.com/PepdU.jpg\" rel=\"nofollow noreferrer\">Running Environment</a></p>\n<p>Thanks so much for your time.</p>\n"},{"tags":["java","regex","escaping","quotes"],"comments":[{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1389443818,"post_id":6525556,"comment_id":31672134,"body_markdown":"possible duplicate of [How can I match double-quoted strings with escaped double-quote characters?](http://stackoverflow.com/questions/481282/how-can-i-match-double-quoted-strings-with-escaped-double-quote-characters)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/481282/how-can-i-match-double-quoted-strings-with-escaped-double-quote-characters\">How can I match double-quoted strings with escaped double-quote characters?</a>"}],"answers":[{"tags":[],"owner":{"account_id":413955,"reputation":27535,"user_id":787893,"accept_rate":100,"display_name":"agent-j"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309373121,"creation_date":1309372769,"answer_id":6525579,"question_id":6525556,"body_markdown":"Try this one...  It prefers the `\\&quot;`, if that matches, it will pick it, otherwise it will pick `&quot;`.\r\n\r\n    &quot;((?:\\\\&quot;|[^&quot;])*)&quot;\r\n\r\nOnce you have matched the string, you&#39;ll need to take the first captured group&#39;s value and replace `\\&quot;` with `&quot;`.\r\n\r\nEdit: Fixed grouping logic.","title":"Regular expression to match escaped characters (quotes)","body":"<p>Try this one...  It prefers the <code>\\\"</code>, if that matches, it will pick it, otherwise it will pick <code>\"</code>.</p>\n\n<pre><code>\"((?:\\\\\"|[^\"])*)\"\n</code></pre>\n\n<p>Once you have matched the string, you'll need to take the first captured group's value and replace <code>\\\"</code> with <code>\"</code>.</p>\n\n<p>Edit: Fixed grouping logic.</p>\n"},{"tags":[],"owner":{"account_id":73130,"reputation":15000,"user_id":210774,"accept_rate":100,"display_name":"arcain"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1309379159,"creation_date":1309374937,"answer_id":6525975,"question_id":6525556,"body_markdown":"Here is one that I&#39;ve used in the past:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    (&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;)\r\n\r\nThis will capture quoted strings, along with any escaped quote characters, and exclude anything that doesn&#39;t appear in enclosing quotes.\r\n\r\nFor example, the pattern will capture `&quot;This is valid&quot;` and `&quot;This is \\&quot; also \\&quot; valid&quot;` from this string:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;This is valid&quot; this won&#39;t be captured &quot;This is \\&quot; also \\&quot; valid&quot;\r\n\r\nThis pattern will *not* match the string `&quot;I don&#39;t \\&quot;have\\&quot; a closing quote`, and will allow for additional escape codes in the string (e.g., it will match `&quot;hello world!\\n&quot;`).\r\n\r\nOf course, you&#39;ll have to escape the pattern to use it in your code, like so:\r\n\r\n    &quot;(\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;)&quot;\r\n\r\n\r\n","title":"Regular expression to match escaped characters (quotes)","body":"<p>Here is one that I've used in the past:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>(\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\")\n</code></pre>\n\n<p>This will capture quoted strings, along with any escaped quote characters, and exclude anything that doesn't appear in enclosing quotes.</p>\n\n<p>For example, the pattern will capture <code>\"This is valid\"</code> and <code>\"This is \\\" also \\\" valid\"</code> from this string:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>\"This is valid\" this won't be captured \"This is \\\" also \\\" valid\"\n</code></pre>\n\n<p>This pattern will <em>not</em> match the string <code>\"I don't \\\"have\\\" a closing quote</code>, and will allow for additional escape codes in the string (e.g., it will match <code>\"hello world!\\n\"</code>).</p>\n\n<p>Of course, you'll have to escape the pattern to use it in your code, like so:</p>\n\n<pre><code>\"(\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*\\\")\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6423020,"reputation":7870,"user_id":4979159,"accept_rate":83,"display_name":"maraaaaaaaa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1687138078,"creation_date":1483554465,"answer_id":41470813,"question_id":6525556,"body_markdown":"The problem with all the other answers is they only match for the initial obvious testing, but fall short to further scrutiny. For example, all of the answers expect that the very first quote will not be escaped. But most importantly, escaping is a more complex process than just a single backslash, because that backslash itself can be escaped. Imagine trying to actually match a string which ends with a backslash. How would that be possible?\r\n\r\nThis would be the pattern you are looking for. It doesn&#39;t assume that the first quote is the working one, and it will allow for backslashes to be escaped.\r\n\r\n    (?&lt;!\\\\)(?:\\\\{2})*&quot;(?:(?&lt;!\\\\)(?:\\\\{2})*\\\\&quot;|[^&quot;])+(?&lt;!\\\\)(?:\\\\{2})*&quot;\r\n\r\nExplanation:\r\n\r\n&gt; `(?&lt;!\\\\)` No backslashes behind (to make sure we start matching from first one)\r\n&gt;\r\n&gt; `(?:\\\\{2})*` Any number of doubled backslashes (they nullify each other)\r\n&gt;\r\n&gt; `&quot;` Quote char\r\n&gt;\r\n&gt; `(?:` Open group\r\n&gt;&gt;\r\n&gt;&gt; `(?&lt;!\\\\)` No backslashes behind (to make sure we start matching from first one)\r\n&gt;&gt;\r\n&gt;&gt; `(?:\\\\{2})*` Any number of doubled backslashes (they nullify each other)\r\n&gt;&gt;\r\n&gt;&gt; `\\\\&quot;` Escaped quote char (because these are allowed inside the quotes)\r\n&gt;&gt;\r\n&gt;&gt; `|` Or\r\n&gt;&gt;\r\n&gt;&gt; `[^&quot;]` Anything other than a quote char\r\n&gt;&gt;\r\n&gt; `)` Close group\r\n&gt;\r\n&gt; `+` 1 or more of what the group matched\r\n&gt;\r\n&gt; `(?&lt;!\\\\)` No backslashes behind (to make sure we start matching from first one)\r\n&gt;\r\n&gt; `(?:\\\\{2})*` Any number of doubled backslashes (they nullify each other)\r\n&gt;\r\n&gt; `&quot;` Quote char\r\n","title":"Regular expression to match escaped characters (quotes)","body":"<p>The problem with all the other answers is they only match for the initial obvious testing, but fall short to further scrutiny. For example, all of the answers expect that the very first quote will not be escaped. But most importantly, escaping is a more complex process than just a single backslash, because that backslash itself can be escaped. Imagine trying to actually match a string which ends with a backslash. How would that be possible?</p>\n<p>This would be the pattern you are looking for. It doesn't assume that the first quote is the working one, and it will allow for backslashes to be escaped.</p>\n<pre><code>(?&lt;!\\\\)(?:\\\\{2})*&quot;(?:(?&lt;!\\\\)(?:\\\\{2})*\\\\&quot;|[^&quot;])+(?&lt;!\\\\)(?:\\\\{2})*&quot;\n</code></pre>\n<p>Explanation:</p>\n<blockquote>\n<p><code>(?&lt;!\\\\)</code> No backslashes behind (to make sure we start matching from first one)</p>\n<p><code>(?:\\\\{2})*</code> Any number of doubled backslashes (they nullify each other)</p>\n<p><code>&quot;</code> Quote char</p>\n<p><code>(?:</code> Open group</p>\n<blockquote>\n<p><code>(?&lt;!\\\\)</code> No backslashes behind (to make sure we start matching from first one)</p>\n<p><code>(?:\\\\{2})*</code> Any number of doubled backslashes (they nullify each other)</p>\n<p><code>\\\\&quot;</code> Escaped quote char (because these are allowed inside the quotes)</p>\n<p><code>|</code> Or</p>\n<p><code>[^&quot;]</code> Anything other than a quote char</p>\n</blockquote>\n<p><code>)</code> Close group</p>\n<p><code>+</code> 1 or more of what the group matched</p>\n<p><code>(?&lt;!\\\\)</code> No backslashes behind (to make sure we start matching from first one)</p>\n<p><code>(?:\\\\{2})*</code> Any number of doubled backslashes (they nullify each other)</p>\n<p><code>&quot;</code> Quote char</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2835639,"reputation":589,"user_id":2436314,"display_name":"Dinesh Lomte"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490629070,"creation_date":1490629070,"answer_id":43050700,"question_id":6525556,"body_markdown":"Please find in the below code comprising expression evaluation for &lt;b&gt;String&lt;/b&gt;, &lt;b&gt;Number&lt;/b&gt; and &lt;b&gt;Decimal&lt;/b&gt;.\r\n\r\n\r\n    public static void commaSeparatedStrings() {\t\t\r\n\t\tString value = &quot;&#39;It\\\\&#39;s my world&#39;, &#39;Hello World&#39;, &#39;What\\\\&#39;s up&#39;, &#39;It\\\\&#39;s just what I expected.&#39;&quot;;\r\n\t\t\r\n\t\tif (value.matches(&quot;&#39;([^\\&#39;\\\\\\\\]*(?:\\\\\\\\.[^\\&#39;\\\\\\\\])*)[\\\\w\\\\s,\\\\.]+&#39;(((,)|(,\\\\s))&#39;([^\\&#39;\\\\\\\\]*(?:\\\\\\\\.[^\\&#39;\\\\\\\\])*)[\\\\w\\\\s,\\\\.]+&#39;)*&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Valid...&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Invalid...&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tpublic static void commaSeparatedDecimals() {\r\n\t\tString value = &quot;-111.00, 22111.00, -1.00&quot;;\r\n\t\t// &quot;\\\\d+([,]|[,\\\\s]\\\\d+)*&quot;\r\n\t\tif (value.matches(\r\n\t\t\t\t&quot;^([-]?)\\\\d+\\\\.\\\\d{1,10}?(((,)|(,\\\\s))([-]?)\\\\d+\\\\.\\\\d{1,10}?)*&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Valid...&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Invalid...&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tpublic static void commaSeparatedNumbers() {\r\n\t\tString value = &quot;-11, 22, -31&quot;;\t\t\r\n\t\tif (value.matches(&quot;^([-]?)\\\\d+(((,)|(,\\\\s))([-]?)\\\\d+)*&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Valid...&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Invalid...&quot;);\r\n\t\t}\r\n\t}","title":"Regular expression to match escaped characters (quotes)","body":"<p>Please find in the below code comprising expression evaluation for <b>String</b>, <b>Number</b> and <b>Decimal</b>.</p>\n\n<pre><code>public static void commaSeparatedStrings() {        \n    String value = \"'It\\\\'s my world', 'Hello World', 'What\\\\'s up', 'It\\\\'s just what I expected.'\";\n\n    if (value.matches(\"'([^\\'\\\\\\\\]*(?:\\\\\\\\.[^\\'\\\\\\\\])*)[\\\\w\\\\s,\\\\.]+'(((,)|(,\\\\s))'([^\\'\\\\\\\\]*(?:\\\\\\\\.[^\\'\\\\\\\\])*)[\\\\w\\\\s,\\\\.]+')*\")) {\n        System.out.println(\"Valid...\");\n    } else {\n        System.out.println(\"Invalid...\");\n    }\n}\n\n/**\n * \n */\npublic static void commaSeparatedDecimals() {\n    String value = \"-111.00, 22111.00, -1.00\";\n    // \"\\\\d+([,]|[,\\\\s]\\\\d+)*\"\n    if (value.matches(\n            \"^([-]?)\\\\d+\\\\.\\\\d{1,10}?(((,)|(,\\\\s))([-]?)\\\\d+\\\\.\\\\d{1,10}?)*\")) {\n        System.out.println(\"Valid...\");\n    } else {\n        System.out.println(\"Invalid...\");\n    }\n}\n\n/**\n * \n */\npublic static void commaSeparatedNumbers() {\n    String value = \"-11, 22, -31\";      \n    if (value.matches(\"^([-]?)\\\\d+(((,)|(,\\\\s))([-]?)\\\\d+)*\")) {\n        System.out.println(\"Valid...\");\n    } else {\n        System.out.println(\"Invalid...\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3497823,"reputation":1349,"user_id":2925434,"accept_rate":83,"display_name":"awwsmm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519640670,"creation_date":1519390021,"answer_id":48948269,"question_id":6525556,"body_markdown":"This\r\n\r\n    (&quot;((?:[^&quot;\\\\])*(?:\\\\\\&quot;)*(?:\\\\\\\\)*)*&quot;)\r\n\r\nwill capture all strings (within double quotes), including \\\\&quot; and \\\\\\\\ escape sequences. (Note that this answer assumes that the _only_ escape sequences in your string are \\\\&quot; or \\\\\\\\ sequences -- no other backslash characters or escape sequences will be captured.)\r\n\r\n    (&quot;(?:         # begin with a quote and capture...\r\n      (?:[^&quot;\\\\])* # any non-\\, non-&quot; characters\r\n      (?:\\\\\\&quot;)*   # any combined \\&quot; sequences\r\n      (?:\\\\\\\\)*   # and any combined \\\\ sequences\r\n      )*          # any number of times\r\n    &quot;)            # then, close the string with a quote\r\n\r\n**[Try it out here!][1]**\r\n\r\nAlso, note that [maksymiuk&#39;s accepted answer][2] contains an &quot;edge case&quot; (&quot;Imagine trying to actually match a string which ends with a backslash&quot;) which is actually just a malformed string. Something like\r\n\r\n    &quot;this\\&quot;\r\n\r\n...is not a &quot;string ending on a backslash&quot;, but an unclosed string ending on an escaped quotation mark. A string which truly ends on a backslash would look like\r\n\r\n    &quot;this\\\\&quot;\r\n\r\n...and the above solution handles this case.\r\n\r\n_____\r\n\r\nIf you want to expand a bit, this...\r\n\r\n    (\\\\(?:b|t|n|f|r|\\&quot;|\\\\)|\\\\(?:(?:[0-2][0-9]{1,2}|3[0-6][0-9]|37[0-7]|[0-9]{1,2}))|\\\\(?:u(?:[0-9a-fA-F]{4})))\r\n\r\n...captures all common escape sequences (including escaped quotes):\r\n\r\n    (\\\\                       # get the preceding slash (for each section)\r\n      (?:b|t|n|f|r|\\&quot;|\\\\)     # capture common sequences like \\n and \\t\r\n\r\n      |\\\\                     # OR (get the preceding slash and)...\r\n      # capture variable-width octal escape sequences like \\02, \\13, or \\377\r\n      (?:(?:[0-2][0-9]{1,2}|3[0-6][0-9]|37[0-7]|[0-9]{1,2}))\r\n\r\n      |\\\\                     # OR (get the preceding slash and)...\r\n      (?:u(?:[0-9a-fA-F]{4})) # capture fixed-width Unicode sequences like \\u0242 or \\uFFAD\r\n    )\r\n\r\nSee [this Gist][3] for more information on the second point.\r\n\r\n\r\n  [1]: https://regex101.com/r/QmWgW6/1\r\n  [2]: https://stackoverflow.com/a/41470813/2925434\r\n  [3]: https://gist.github.com/awwsmm/b1707beead1adba391214b50fbd4a794","title":"Regular expression to match escaped characters (quotes)","body":"<p>This</p>\n\n<pre><code>(\"((?:[^\"\\\\])*(?:\\\\\\\")*(?:\\\\\\\\)*)*\")\n</code></pre>\n\n<p>will capture all strings (within double quotes), including \\\" and \\\\ escape sequences. (Note that this answer assumes that the <em>only</em> escape sequences in your string are \\\" or \\\\ sequences -- no other backslash characters or escape sequences will be captured.)</p>\n\n<pre><code>(\"(?:         # begin with a quote and capture...\n  (?:[^\"\\\\])* # any non-\\, non-\" characters\n  (?:\\\\\\\")*   # any combined \\\" sequences\n  (?:\\\\\\\\)*   # and any combined \\\\ sequences\n  )*          # any number of times\n\")            # then, close the string with a quote\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/QmWgW6/1\" rel=\"nofollow noreferrer\">Try it out here!</a></strong></p>\n\n<p>Also, note that <a href=\"https://stackoverflow.com/a/41470813/2925434\">maksymiuk's accepted answer</a> contains an \"edge case\" (\"Imagine trying to actually match a string which ends with a backslash\") which is actually just a malformed string. Something like</p>\n\n<pre><code>\"this\\\"\n</code></pre>\n\n<p>...is not a \"string ending on a backslash\", but an unclosed string ending on an escaped quotation mark. A string which truly ends on a backslash would look like</p>\n\n<pre><code>\"this\\\\\"\n</code></pre>\n\n<p>...and the above solution handles this case.</p>\n\n<hr>\n\n<p>If you want to expand a bit, this...</p>\n\n<pre><code>(\\\\(?:b|t|n|f|r|\\\"|\\\\)|\\\\(?:(?:[0-2][0-9]{1,2}|3[0-6][0-9]|37[0-7]|[0-9]{1,2}))|\\\\(?:u(?:[0-9a-fA-F]{4})))\n</code></pre>\n\n<p>...captures all common escape sequences (including escaped quotes):</p>\n\n<pre><code>(\\\\                       # get the preceding slash (for each section)\n  (?:b|t|n|f|r|\\\"|\\\\)     # capture common sequences like \\n and \\t\n\n  |\\\\                     # OR (get the preceding slash and)...\n  # capture variable-width octal escape sequences like \\02, \\13, or \\377\n  (?:(?:[0-2][0-9]{1,2}|3[0-6][0-9]|37[0-7]|[0-9]{1,2}))\n\n  |\\\\                     # OR (get the preceding slash and)...\n  (?:u(?:[0-9a-fA-F]{4})) # capture fixed-width Unicode sequences like \\u0242 or \\uFFAD\n)\n</code></pre>\n\n<p>See <a href=\"https://gist.github.com/awwsmm/b1707beead1adba391214b50fbd4a794\" rel=\"nofollow noreferrer\">this Gist</a> for more information on the second point.</p>\n"},{"tags":[],"owner":{"account_id":10579175,"reputation":464,"user_id":10561224,"display_name":"Igor Zvyagin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610096739,"creation_date":1590141584,"answer_id":61952433,"question_id":6525556,"body_markdown":"It works for me and it is simpler than current answer\r\n\r\n    (?&lt;!\\\\+)&quot;(\\\\&quot;|[^&quot;])*(?&lt;!\\\\+)&quot;\r\n\r\n`(?&lt;!\\\\+)` - before `&quot;` not must be `\\`, and this expression is left and right.\r\n\r\n`(\\\\&quot;|[^&quot;])*` - that inside quotes: might be escaped quotes `\\\\&quot;` or anything for except quotes `[^&quot;]`\r\n\r\nCurrent regexp work correctly for follow strings:\r\n\r\n`234` - `false` or `null`\r\n\r\n`&quot;234&quot;` - `true` or `[&quot;234&quot;]`\r\n\r\n`&quot;&quot;` - `true` or `[&quot;&quot;]`\r\n\r\n`&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;` - `true` or `[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;]`\r\n\r\n`&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot; + 123 + &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;&quot;` - `true`\r\n\r\n or `[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;, &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;&quot;]`\r\n\r\n`&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot; + 123 + &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;\\\\&quot;`  - `true`\r\n\r\n or `[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;]`\r\n\r\n","title":"Regular expression to match escaped characters (quotes)","body":"<p>It works for me and it is simpler than current answer</p>\n<pre><code>(?&lt;!\\\\+)&quot;(\\\\&quot;|[^&quot;])*(?&lt;!\\\\+)&quot;\n</code></pre>\n<p><code>(?&lt;!\\\\+)</code> - before <code>&quot;</code> not must be <code>\\</code>, and this expression is left and right.</p>\n<p><code>(\\\\&quot;|[^&quot;])*</code> - that inside quotes: might be escaped quotes <code>\\\\&quot;</code> or anything for except quotes <code>[^&quot;]</code></p>\n<p>Current regexp work correctly for follow strings:</p>\n<p><code>234</code> - <code>false</code> or <code>null</code></p>\n<p><code>&quot;234&quot;</code> - <code>true</code> or <code>[&quot;234&quot;]</code></p>\n<p><code>&quot;&quot;</code> - <code>true</code> or <code>[&quot;&quot;]</code></p>\n<p><code>&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;</code> - <code>true</code> or <code>[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;]</code></p>\n<p><code>&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot; + 123 + &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;&quot;</code> - <code>true</code></p>\n<p>or <code>[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;, &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;&quot;]</code></p>\n<p><code>&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot; + 123 + &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;\\\\&quot;</code>  - <code>true</code></p>\n<p>or <code>[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;]</code></p>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29763,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":41470813,"answer_count":6,"score":17,"last_activity_date":1687138078,"creation_date":1309372613,"question_id":6525556,"body_markdown":"I want to build a simple regex that covers quoted strings, including any escaped quotes within them. For instance,\r\n\r\n    &quot;This is valid&quot;\r\n    &quot;This is \\&quot; also \\&quot; valid&quot;\r\n\r\nObviously, something like\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;([^&quot;]*)&quot;\r\n\r\ndoes not work, because it matches up to the first escaped quote.\r\n\r\nWhat is the correct version?\r\n\r\nI suppose the answer would be the same for other escaped characters (by just replacing the respective character).\r\n\r\nBy the way, I am aware of the &quot;catch-all&quot; regex\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;(.*?)&quot;\r\n\r\nbut I try to avoid it whenever possible, because, not surprisingly, it runs somewhat slower than a more specific one.","title":"Regular expression to match escaped characters (quotes)","body":"<p>I want to build a simple regex that covers quoted strings, including any escaped quotes within them. For instance,</p>\n\n<pre><code>\"This is valid\"\n\"This is \\\" also \\\" valid\"\n</code></pre>\n\n<p>Obviously, something like</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>\"([^\"]*)\"\n</code></pre>\n\n<p>does not work, because it matches up to the first escaped quote.</p>\n\n<p>What is the correct version?</p>\n\n<p>I suppose the answer would be the same for other escaped characters (by just replacing the respective character).</p>\n\n<p>By the way, I am aware of the \"catch-all\" regex</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>\"(.*?)\"\n</code></pre>\n\n<p>but I try to avoid it whenever possible, because, not surprisingly, it runs somewhat slower than a more specific one.</p>\n"},{"tags":["java","if-statement","conditional-statements"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687072545,"creation_date":1687072545,"answer_id":76499425,"question_id":76499393,"body_markdown":"The order of checks matter here.\r\n\r\n```\r\nif (x &gt; 250) {\r\n    //Do something as number to big\r\n} else if (x &gt;= 201) {\r\n    // handle x between 201 an 250\r\n} else if(x &gt;= 101) {\r\n    // handle x between 101 an 200\r\n} else { \r\n    // handle x between 1 an 100\r\n}\r\n\r\n```","title":"Nested if loops with conditional statements","body":"<p>The order of checks matter here.</p>\n<pre><code>if (x &gt; 250) {\n    //Do something as number to big\n} else if (x &gt;= 201) {\n    // handle x between 201 an 250\n} else if(x &gt;= 101) {\n    // handle x between 101 an 200\n} else { \n    // handle x between 1 an 100\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687137638,"creation_date":1687137638,"answer_id":76503122,"question_id":76499393,"body_markdown":"If you are looking to match from _201_ to _101_, you&#39;ll need a compounded conditional statement.\r\n\r\n```java\r\nif (x &lt;= 201 &amp;&amp; x &gt;= 101)\r\n```\r\n\r\nThe _&amp;&amp;_ here is going to fail if either of those conditions are _false_.\r\n\r\n_[Equality, Relational, and Conditional Operators  (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)_.\r\n\r\nSo, your complete code would be the following.\r\n\r\n```java\r\nif (x &lt;= 250) {\r\n    if (x &lt;= 201 &amp;&amp; x &gt;= 101) { //do something\r\n        \r\n    } else if (x &gt;= 1) {//do something\r\n\r\n    }\r\n} else {//Do something as number to big\r\n\r\n}\r\n```","title":"Nested if loops with conditional statements","body":"<p>If you are looking to match from <em>201</em> to <em>101</em>, you'll need a compounded conditional statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x &lt;= 201 &amp;&amp; x &gt;= 101)\n</code></pre>\n<p>The <em>&amp;&amp;</em> here is going to fail if either of those conditions are <em>false</em>.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">Equality, Relational, and Conditional Operators  (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<p>So, your complete code would be the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x &lt;= 250) {\n    if (x &lt;= 201 &amp;&amp; x &gt;= 101) { //do something\n        \n    } else if (x &gt;= 1) {//do something\n\n    }\n} else {//Do something as number to big\n\n}\n</code></pre>\n"}],"owner":{"account_id":8324002,"reputation":13,"user_id":14602986,"display_name":"ChinaTonka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503122,"answer_count":2,"score":0,"last_activity_date":1687137638,"creation_date":1687071698,"question_id":76499393,"body_markdown":"I am using a random number that is between 1 and 350. depending on what the number will depends on what happen next. I am using if statements to determine the action.\r\nSay random number id 15 it goes through the following.\r\n\r\n       int x = Integer.parseInt(data.get(0));\r\n        if(x &lt;= 250){\r\n            if(x &lt;=201){ //do something\r\n            }else if(x &gt;= 101){// do something \r\n                }else if(x &gt;= 1){//do something\r\n\r\n                    }\r\n        } else{//Do something as number to big\r\n\r\n        }\r\n\r\n\r\nso hopefully if x is greater that 250 an action will be carried out as it is to big. But if between 1 and 250 it will go via the if statements. \r\n\r\nHow do I correct this as not working.\r\n\r\n","title":"Nested if loops with conditional statements","body":"<p>I am using a random number that is between 1 and 350. depending on what the number will depends on what happen next. I am using if statements to determine the action.\nSay random number id 15 it goes through the following.</p>\n<pre><code>   int x = Integer.parseInt(data.get(0));\n    if(x &lt;= 250){\n        if(x &lt;=201){ //do something\n        }else if(x &gt;= 101){// do something \n            }else if(x &gt;= 1){//do something\n\n                }\n    } else{//Do something as number to big\n\n    }\n</code></pre>\n<p>so hopefully if x is greater that 250 an action will be carried out as it is to big. But if between 1 and 250 it will go via the if statements.</p>\n<p>How do I correct this as not working.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-2.0","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588943064,"creation_date":1553906456,"answer_id":55427087,"question_id":55425645,"body_markdown":"The problem here is you are trying to serialize a `Java 8` `LocalDate` using `@JsonFormat` without using right jackson module/dependency. If you have a look the annotation doc, it says;\r\n\r\n&gt; Common uses include choosing between alternate representations -- for\r\n&gt; example, whether Date is to be serialized as number (Java timestamp)\r\n&gt; or String (such as ISO-8601 compatible time value) -- as well as\r\n&gt; configuring exact details with pattern() property.\r\n\r\nhttps://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonFormat.html\r\n\r\nThere&#39;s no proper documentation in the `swagger codegen` project about how to specify language specific configuration options, I have only seen those config options in the following ticket;\r\n\r\nhttps://github.com/swagger-api/swagger-codegen/issues/7795\r\n\r\nAs per the that issue, you could force Swagger codegen to use `java8` `dateLibrary`.\r\n","title":"Can we generate @JsonFormat on model variable using swagger-generater?","body":"<p>The problem here is you are trying to serialize a <code>Java 8</code> <code>LocalDate</code> using <code>@JsonFormat</code> without using right jackson module/dependency. If you have a look the annotation doc, it says;</p>\n\n<blockquote>\n  <p>Common uses include choosing between alternate representations -- for\n  example, whether Date is to be serialized as number (Java timestamp)\n  or String (such as ISO-8601 compatible time value) -- as well as\n  configuring exact details with pattern() property.</p>\n</blockquote>\n\n<p><a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonFormat.html</a></p>\n\n<p>There's no proper documentation in the <code>swagger codegen</code> project about how to specify language specific configuration options, I have only seen those config options in the following ticket;</p>\n\n<p><a href=\"https://github.com/swagger-api/swagger-codegen/issues/7795\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/issues/7795</a></p>\n\n<p>As per the that issue, you could force Swagger codegen to use <code>java8</code> <code>dateLibrary</code>.</p>\n"},{"tags":[],"owner":{"account_id":2993606,"reputation":1,"user_id":2540605,"display_name":"Jhon Larru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652240883,"creation_date":1652240883,"answer_id":72195185,"question_id":55425645,"body_markdown":"you can try desarialize with this way:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    objectMapper.setDateFormat(df);\r\n    JSONObject jsonObject=new JSONObject(new Oferta().fechaInicio(new Date()));\r\n    String json=&quot;&quot;;\r\n    try{\r\n        json=objectMapper.writeValueAsString(new Oferta().fechaInicio(new Date()).fechaAceptacion(&quot;15/554/20&quot;));\r\n        jsonObject=new JSONObject(json);\r\n    }catch (Exception e){\r\n    \r\n    }\r\n\r\n\r\n\r\n    public class Oferta {\r\n        @JsonProperty(&quot;fechaInicio&quot;)\r\n        private Date fechaInicio = null;\r\n        @JsonProperty(&quot;fechaAceptacion&quot;)\r\n        private String fechaAceptacion = null;\r\n    \r\n    }\r\n\r\n","title":"Can we generate @JsonFormat on model variable using swagger-generater?","body":"<p>you can try desarialize with this way:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nDateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\nobjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\nobjectMapper.setDateFormat(df);\nJSONObject jsonObject=new JSONObject(new Oferta().fechaInicio(new Date()));\nString json=&quot;&quot;;\ntry{\n    json=objectMapper.writeValueAsString(new Oferta().fechaInicio(new Date()).fechaAceptacion(&quot;15/554/20&quot;));\n    jsonObject=new JSONObject(json);\n}catch (Exception e){\n\n}\n\n\n\npublic class Oferta {\n    @JsonProperty(&quot;fechaInicio&quot;)\n    private Date fechaInicio = null;\n    @JsonProperty(&quot;fechaAceptacion&quot;)\n    private String fechaAceptacion = null;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687136903,"creation_date":1687136903,"answer_id":76503100,"question_id":55425645,"body_markdown":"You can add `x-field-extra-annotation` to add anything annotation you need.\r\nDocument is here: https://openapi-generator.tech/docs/generators/java\r\n\r\n```\r\nstartDate:\r\n type:string\r\n format:date\r\n x-field-extra-annotation: &#39;@com.fasterxml.jackson.annotation.JsonFormat(shape = com.fasterxml.jackson.annotation.JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)&#39;\r\n```\r\n\r\nThen generated model class will have annotation `JsonFormat`","title":"Can we generate @JsonFormat on model variable using swagger-generater?","body":"<p>You can add <code>x-field-extra-annotation</code> to add anything annotation you need.\nDocument is here: <a href=\"https://openapi-generator.tech/docs/generators/java\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/generators/java</a></p>\n<pre><code>startDate:\n type:string\n format:date\n x-field-extra-annotation: '@com.fasterxml.jackson.annotation.JsonFormat(shape = com.fasterxml.jackson.annotation.JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)'\n</code></pre>\n<p>Then generated model class will have annotation <code>JsonFormat</code></p>\n"}],"owner":{"account_id":9668572,"reputation":1687,"user_id":7227233,"display_name":"0190198"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5175,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1687136903,"creation_date":1553894644,"question_id":55425645,"body_markdown":"I have a variable in yml file\r\n\r\n    startDate:\r\n     type:string\r\n     format:date\r\nI&#39;m using swagger-generater to generate java code from yml.\r\n\r\nIt&#39;s generating a startDate variable as below\r\n\r\n    @JsonProperty(&quot;startDate&quot;)\r\n    private LocalDate startDate = null; \r\n\r\nBut I need as below\r\n\r\n    @JsonProperty(&quot;startDate&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate startDate = null; \r\n\r\nCan someone help me on this?","title":"Can we generate @JsonFormat on model variable using swagger-generater?","body":"<p>I have a variable in yml file</p>\n\n<pre><code>startDate:\n type:string\n format:date\n</code></pre>\n\n<p>I'm using swagger-generater to generate java code from yml.</p>\n\n<p>It's generating a startDate variable as below</p>\n\n<pre><code>@JsonProperty(\"startDate\")\nprivate LocalDate startDate = null; \n</code></pre>\n\n<p>But I need as below</p>\n\n<pre><code>@JsonProperty(\"startDate\")\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd\")\nprivate LocalDate startDate = null; \n</code></pre>\n\n<p>Can someone help me on this?</p>\n"},{"tags":["java","swing","user-interface","drag-and-drop","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687125133,"post_id":76502633,"comment_id":134889369,"body_markdown":"Consider providing a [mcve] which demonstrates your issue","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687125344,"post_id":76502633,"comment_id":134889392,"body_markdown":"Hey @MadProgrammer, I did view the MRE link when I created the acc, and I did try to phrase the code in such a way, but as an experienced user, do you have suggestions on how I could make this more concise?","body":"Hey @MadProgrammer, I did view the MRE link when I created the acc, and I did try to phrase the code in such a way, but as an experienced user, do you have suggestions on how I could make this more concise?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687125619,"post_id":76502633,"comment_id":134889412,"body_markdown":"Ask your self this question - is it &quot;compilable&quot;? (no it&#39;s not). &quot;Is it self contained&quot;? (no it&#39;s not - you have a reliance on a custom layout manager and your missing the `Desk` class).  As for the layout manager, you&#39;d need to provide a link and hope people can be bothered to download it - just saying (or Camrick comes online &#128540;). So, the first thing you need to do is fix all the compiler errors","body":"Ask your self this question - is it &quot;compilable&quot;? (no it&#39;s not). &quot;Is it self contained&quot;? (no it&#39;s not - you have a reliance on a custom layout manager and your missing the <code>Desk</code> class).  As for the layout manager, you&#39;d need to provide a link and hope people can be bothered to download it - just saying (or Camrick comes online 😜). So, the first thing you need to do is fix all the compiler errors"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687126433,"post_id":76502633,"comment_id":134889479,"body_markdown":"Okay, so I added just the basic code needed for it to compile.","body":"Okay, so I added just the basic code needed for it to compile."},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687129487,"post_id":76502633,"comment_id":134889730,"body_markdown":"Also, do you think it would be possible for me to finish the remaining code by tomorrow morning if I stay up?","body":"Also, do you think it would be possible for me to finish the remaining code by tomorrow morning if I stay up?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687132788,"post_id":76502633,"comment_id":134889922,"body_markdown":"So, I&#39;m still digging through it, but my first observation is the fact that you&#39;re not converting your mouse events between container contexts.  That is, a mouse event is reported relative to the component that created it, so that the top/left position is `0x0`.  You need to convert the points (mouse and components) to your global context - in this case the root pane&#39;s layered pane","body":"So, I&#39;m still digging through it, but my first observation is the fact that you&#39;re not converting your mouse events between container contexts.  That is, a mouse event is reported relative to the component that created it, so that the top/left position is <code>0x0</code>.  You need to convert the points (mouse and components) to your global context - in this case the root pane&#39;s layered pane"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687133835,"post_id":76502633,"comment_id":134890000,"body_markdown":"Next, when `mouseReleased` is called, you&#39;re inspecting `mainStacks`, but `mainStacks` is a wrapper for the container containing all the other stacks - you would be better off maintaining the &quot;stacks&quot; in a `List`","body":"Next, when <code>mouseReleased</code> is called, you&#39;re inspecting <code>mainStacks</code>, but <code>mainStacks</code> is a wrapper for the container containing all the other stacks - you would be better off maintaining the &quot;stacks&quot; in a <code>List</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687140936,"post_id":76502633,"comment_id":134890483,"body_markdown":"@MowG *did I do a decent job at the MRE* - no, you are still confusing your &quot;application&quot; with your &quot;problem&quot;. The MRE should simply demonstrate your problem. In your case the problem is dragging a component from one container to another. General guidelines: 1) the code should compile, 2) it should be in a single source file that we can copy/paste/compile/test, 3) There should be no outside dependencies. We don&#39;t have access to your image files so we can&#39;t create the Icons. 4) The application logic is not needed.","body":"@MowG <i>did I do a decent job at the MRE</i> - no, you are still confusing your &quot;application&quot; with your &quot;problem&quot;. The MRE should simply demonstrate your problem. In your case the problem is dragging a component from one container to another. General guidelines: 1) the code should compile, 2) it should be in a single source file that we can copy/paste/compile/test, 3) There should be no outside dependencies. We don&#39;t have access to your image files so we can&#39;t create the Icons. 4) The application logic is not needed."},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687141194,"post_id":76502633,"comment_id":134890504,"body_markdown":"Oh alright. and I had one more question in the below comment chain. That&#39;s probably the last bit if help I would need that I can see as of now. Please could you look at it?","body":"Oh alright. and I had one more question in the below comment chain. That&#39;s probably the last bit if help I would need that I can see as of now. Please could you look at it?"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687146617,"post_id":76502633,"comment_id":134890866,"body_markdown":"@MadProgrammer are you still available? I was adding error checks to make sure that the cards could only move if they followed the rules of solitaire, but ran into an error.","body":"@MadProgrammer are you still available? I was adding error checks to make sure that the cards could only move if they followed the rules of solitaire, but ran into an error."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687135033,"creation_date":1687135033,"answer_id":76503027,"question_id":76502633,"body_markdown":"# First...\r\n\r\nA `mouseEvent` reports it&#39;s location relative to the component which generated the event, that is, the top/left position (0x0) is relative to the component.\r\n\r\nSince you are moving components between coordinate contexts, you need to convert the event point accordingly, luckily, there is a simple way to do this - [`SwingUtilities.convertMouseEvent(Component, Point, Component)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPoint(java.awt.Component,java.awt.Point,java.awt.Component))\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            try {\r\n                JPanel stack = (JPanel) e.getComponent();\r\n                card = stack.getComponent(0);\r\n\r\n                if (card instanceof JPanel) {\r\n                }\r\n                \r\n                Point cardInWorld = SwingUtilities.convertPoint(card.getParent(), card.getLocation(), getRootPane().getLayeredPane());\r\n                Point pointInWorld = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), getRootPane().getLayeredPane());\r\n                \r\n                Point stackPos = card.getParent().getLocation();\r\n                xAdj = pointInWorld.x - cardInWorld.getLocation().x;\r\n                yAdj = pointInWorld.y - cardInWorld.getLocation().y;\r\n\r\n                JLayeredPane lp = getRootPane().getLayeredPane();\r\n                lp.add(card, JLayeredPane.DRAG_LAYER);\r\n                card.setLocation(cardInWorld);\r\n                setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\r\n            } catch (ArrayIndexOutOfBoundsException err) {\r\n                System.err.println(&quot;No card in stack. Cannot execute move.&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            if (card == null) {\r\n            }\r\n            \r\n            Point pointInWorld = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), getRootPane().getLayeredPane());\r\n\r\n            int x = pointInWorld.x - xAdj;\r\n            int y = pointInWorld.y - yAdj;\r\n            card.setLocation(x, y);\r\n        }\r\n\r\nThis will cause the card to maintained relative to the mouse cursor - so it&#39;s position (relative to the mouse cursor) won&#39;t change.  This makes it so that the mouse cursor&#39;s point is the source of the drop, not the card&#39;s position.\r\n\r\n# Second...\r\n\r\nWalking a container&#39;s contents like this...\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        setCursor(null);\r\n\r\n        if (card == null) return;\r\n\r\n        //  Make sure the card is no longer painted on the layered pane\r\n\r\n        card.setVisible(false);\r\n\r\n        //  check to see if card was dragged to a stack\r\n\r\n        JPanel stackPanel = null;\r\n        Point cardLocation = card.getLocation();\r\n        cardLocation.y -= mainStacks.getParent().getLocation().y;\r\n\r\n        for (int i = 0; i &lt; mainStacks.getComponentCount(); i++)\r\n        {\r\n            JPanel panel = (JPanel)mainStacks.getComponent(i);\r\n\r\n            if (panel.getBounds().contains(cardLocation))\r\n            {\r\n                stackPanel = panel;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (stackPanel == null)\r\n            mainStacks.add( card );\r\n        else\r\n            stackPanel.add( card );\r\n\r\n        card.setVisible(true);\r\n    }\r\n\r\nis always a bad idea and took me some significant time to suss out.\r\n\r\nThe source of the problem starts right here...\r\n\r\n    private JPanel makeMainStacks() throws IOException {\r\n        mainStacks = new JPanel(new GridLayout(0, 7, MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\r\n        //...\r\n        JPanel mainStacksWrapper = new JPanel();\r\n        mainStacksWrapper.add(mainStacks);\r\n        mainStacksWrapper.setBackground(new Color(0, 153, 0));\r\n        mainStacks.setBackground(new Color(0, 153, 0));\r\n        return mainStacksWrapper;\r\n    }\r\n\r\nYou add `mainStacks` into a &quot;wrapper&quot; container, and then assign it to `mainStacks` (I&#39;m so confused).\r\n\r\nThe problem with this is, when you walk the container&#39;s contents, it only contains a single child.  The original `mainStacks`, which actually contains all the child stacks you actually want.\r\n\r\nA better solution would be to add each stack component to a `List` and simply iterate over it instead, that way, you&#39;re not going to get caught out when the UI structure changes.\r\n\r\nStart by creating a new instance field...\r\n\r\n    private List&lt;JPanel&gt; stacks = new ArrayList&lt;&gt;(7);\r\n\r\nThen in your `makeMainStacks` add each `stack` to it...\r\n\r\n    private JPanel makeMainStacks() throws IOException {\r\n        JPanel mainStacks = new JPanel(new GridLayout(0, 7, MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\r\n        mainStacks.setBackground(Color.MAGENTA);\r\n        for (int stack = 0; stack &lt; 7; stack++) {\r\n\r\n            JPanel mainStack = new JPanel(new OverlapLayout(new Point(0, 22)));\r\n            mainStack.setBounds(10, 0, CARD_WIDTH, CARD_HEIGHT);\r\n            mainStack.setBorder(\r\n                    new CompoundBorder(new LineBorder(Color.RED), new EmptyBorder(10, 0, CARD_WIDTH, CARD_HEIGHT))\r\n            );\r\n            mainStack.setPreferredSize(new Dimension(CARD_WIDTH, CARD_HEIGHT + 250));\r\n            mainStacks.add(mainStack);\r\n\r\n            stacks.add(mainStack);\r\n\r\n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) {\r\n\r\n                Card placementCard = deckOfCards.drawCard(); //draws card\r\n                placementCard.setIsFaceUp(false);\r\n                //checking if the card is the last card in the stack\r\n                if (stack == cardInStack) {\r\n                    System.out.println(stack + cardInStack);\r\n                    placementCard.setIsFaceUp(true); //card is facing up\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\r\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    mainStack.add(cardLabel);\r\n                } //end of if statement\r\n\r\n                //if statement to check whether the card should be revealed or not\r\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\r\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    cardLabel.setPreferredSize(cardSize);\r\n                    mainStack.add(cardLabel);\r\n                } //end of if statement\r\n            }\r\n            mainStack.addMouseListener(this);\r\n            mainStack.addMouseMotionListener(this);\r\n        }\r\n\r\n        JPanel mainStacksWrapper = new JPanel();\r\n        mainStacksWrapper.add(mainStacks);\r\n        mainStacksWrapper.setBackground(new Color(0, 153, 0));\r\n        mainStacks.setBackground(new Color(0, 153, 0));\r\n        return mainStacksWrapper;\r\n    }\r\n\r\n\r\nAnd then finally, in `mouseReleased`, convert the `MouseEvent`&#39;s point to each stack&#39;s parents coordinate context and see if you have a hit or not ...\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        setCursor(null);\r\n\r\n        if (card == null) {\r\n            return;\r\n        }\r\n\r\n        //  Make sure the card is no longer painted on the layered pane\r\n        card.setVisible(false);\r\n\r\n        JPanel stackPanel = null;\r\n        for (JPanel stack : stacks) {\r\n            // Check the bounds of each stack against it&#39;s parents\r\n            // coordinates context\r\n            Point localPoint = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), stack.getParent());\r\n            if (stack.getBounds().contains(localPoint)) {\r\n                System.out.println(&quot;--&gt;&quot;);\r\n                stackPanel = stack;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (stackPanel == null) {\r\n            mainStacks.add(card);\r\n        } else {\r\n            stackPanel.add(card);\r\n            stackPanel.revalidate();\r\n            stackPanel.repaint();\r\n        }\r\n\r\n        card.setVisible(true);\r\n    }\r\n\r\n# Parting thoughts...\r\n\r\nFor what it&#39;s worth, I wouldn&#39;t have done it this way, for all the reasons you&#39;re discovering.  I would have followed a custom painting route, but I doubt you have time for that now.","title":"JLabel not clicking into the right place when mouseReleased() is implemented","body":"<h1>First...</h1>\n<p>A <code>mouseEvent</code> reports it's location relative to the component which generated the event, that is, the top/left position (0x0) is relative to the component.</p>\n<p>Since you are moving components between coordinate contexts, you need to convert the event point accordingly, luckily, there is a simple way to do this - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPoint(java.awt.Component,java.awt.Point,java.awt.Component)\" rel=\"nofollow noreferrer\"><code>SwingUtilities.convertMouseEvent(Component, Point, Component)</code></a></p>\n<pre><code>    @Override\n    public void mousePressed(MouseEvent e) {\n        try {\n            JPanel stack = (JPanel) e.getComponent();\n            card = stack.getComponent(0);\n\n            if (card instanceof JPanel) {\n            }\n            \n            Point cardInWorld = SwingUtilities.convertPoint(card.getParent(), card.getLocation(), getRootPane().getLayeredPane());\n            Point pointInWorld = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), getRootPane().getLayeredPane());\n            \n            Point stackPos = card.getParent().getLocation();\n            xAdj = pointInWorld.x - cardInWorld.getLocation().x;\n            yAdj = pointInWorld.y - cardInWorld.getLocation().y;\n\n            JLayeredPane lp = getRootPane().getLayeredPane();\n            lp.add(card, JLayeredPane.DRAG_LAYER);\n            card.setLocation(cardInWorld);\n            setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\n        } catch (ArrayIndexOutOfBoundsException err) {\n            System.err.println(&quot;No card in stack. Cannot execute move.&quot;);\n        }\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        if (card == null) {\n        }\n        \n        Point pointInWorld = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), getRootPane().getLayeredPane());\n\n        int x = pointInWorld.x - xAdj;\n        int y = pointInWorld.y - yAdj;\n        card.setLocation(x, y);\n    }\n</code></pre>\n<p>This will cause the card to maintained relative to the mouse cursor - so it's position (relative to the mouse cursor) won't change.  This makes it so that the mouse cursor's point is the source of the drop, not the card's position.</p>\n<h1>Second...</h1>\n<p>Walking a container's contents like this...</p>\n<pre><code>@Override\npublic void mouseReleased(MouseEvent e) {\n    setCursor(null);\n\n    if (card == null) return;\n\n    //  Make sure the card is no longer painted on the layered pane\n\n    card.setVisible(false);\n\n    //  check to see if card was dragged to a stack\n\n    JPanel stackPanel = null;\n    Point cardLocation = card.getLocation();\n    cardLocation.y -= mainStacks.getParent().getLocation().y;\n\n    for (int i = 0; i &lt; mainStacks.getComponentCount(); i++)\n    {\n        JPanel panel = (JPanel)mainStacks.getComponent(i);\n\n        if (panel.getBounds().contains(cardLocation))\n        {\n            stackPanel = panel;\n            break;\n        }\n    }\n\n    if (stackPanel == null)\n        mainStacks.add( card );\n    else\n        stackPanel.add( card );\n\n    card.setVisible(true);\n}\n</code></pre>\n<p>is always a bad idea and took me some significant time to suss out.</p>\n<p>The source of the problem starts right here...</p>\n<pre><code>private JPanel makeMainStacks() throws IOException {\n    mainStacks = new JPanel(new GridLayout(0, 7, MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\n    //...\n    JPanel mainStacksWrapper = new JPanel();\n    mainStacksWrapper.add(mainStacks);\n    mainStacksWrapper.setBackground(new Color(0, 153, 0));\n    mainStacks.setBackground(new Color(0, 153, 0));\n    return mainStacksWrapper;\n}\n</code></pre>\n<p>You add <code>mainStacks</code> into a &quot;wrapper&quot; container, and then assign it to <code>mainStacks</code> (I'm so confused).</p>\n<p>The problem with this is, when you walk the container's contents, it only contains a single child.  The original <code>mainStacks</code>, which actually contains all the child stacks you actually want.</p>\n<p>A better solution would be to add each stack component to a <code>List</code> and simply iterate over it instead, that way, you're not going to get caught out when the UI structure changes.</p>\n<p>Start by creating a new instance field...</p>\n<pre><code>private List&lt;JPanel&gt; stacks = new ArrayList&lt;&gt;(7);\n</code></pre>\n<p>Then in your <code>makeMainStacks</code> add each <code>stack</code> to it...</p>\n<pre><code>private JPanel makeMainStacks() throws IOException {\n    JPanel mainStacks = new JPanel(new GridLayout(0, 7, MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\n    mainStacks.setBackground(Color.MAGENTA);\n    for (int stack = 0; stack &lt; 7; stack++) {\n\n        JPanel mainStack = new JPanel(new OverlapLayout(new Point(0, 22)));\n        mainStack.setBounds(10, 0, CARD_WIDTH, CARD_HEIGHT);\n        mainStack.setBorder(\n                new CompoundBorder(new LineBorder(Color.RED), new EmptyBorder(10, 0, CARD_WIDTH, CARD_HEIGHT))\n        );\n        mainStack.setPreferredSize(new Dimension(CARD_WIDTH, CARD_HEIGHT + 250));\n        mainStacks.add(mainStack);\n\n        stacks.add(mainStack);\n\n        for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) {\n\n            Card placementCard = deckOfCards.drawCard(); //draws card\n            placementCard.setIsFaceUp(false);\n            //checking if the card is the last card in the stack\n            if (stack == cardInStack) {\n                System.out.println(stack + cardInStack);\n                placementCard.setIsFaceUp(true); //card is facing up\n                //sizes the image and sets it to placementCard\n                ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\n                Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                mainStack.add(cardLabel);\n            } //end of if statement\n\n            //if statement to check whether the card should be revealed or not\n            if (!placementCard.getIsFaceUp()) { //hide cardFront\n                //sizes the image and sets it to placementCard\n                ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\n                Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                cardLabel.setPreferredSize(cardSize);\n                mainStack.add(cardLabel);\n            } //end of if statement\n        }\n        mainStack.addMouseListener(this);\n        mainStack.addMouseMotionListener(this);\n    }\n\n    JPanel mainStacksWrapper = new JPanel();\n    mainStacksWrapper.add(mainStacks);\n    mainStacksWrapper.setBackground(new Color(0, 153, 0));\n    mainStacks.setBackground(new Color(0, 153, 0));\n    return mainStacksWrapper;\n}\n</code></pre>\n<p>And then finally, in <code>mouseReleased</code>, convert the <code>MouseEvent</code>'s point to each stack's parents coordinate context and see if you have a hit or not ...</p>\n<pre><code>@Override\npublic void mouseReleased(MouseEvent e) {\n    setCursor(null);\n\n    if (card == null) {\n        return;\n    }\n\n    //  Make sure the card is no longer painted on the layered pane\n    card.setVisible(false);\n\n    JPanel stackPanel = null;\n    for (JPanel stack : stacks) {\n        // Check the bounds of each stack against it's parents\n        // coordinates context\n        Point localPoint = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), stack.getParent());\n        if (stack.getBounds().contains(localPoint)) {\n            System.out.println(&quot;--&gt;&quot;);\n            stackPanel = stack;\n            break;\n        }\n    }\n\n    if (stackPanel == null) {\n        mainStacks.add(card);\n    } else {\n        stackPanel.add(card);\n        stackPanel.revalidate();\n        stackPanel.repaint();\n    }\n\n    card.setVisible(true);\n}\n</code></pre>\n<h1>Parting thoughts...</h1>\n<p>For what it's worth, I wouldn't have done it this way, for all the reasons you're discovering.  I would have followed a custom painting route, but I doubt you have time for that now.</p>\n"}],"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76503027,"answer_count":1,"score":-1,"last_activity_date":1687135033,"creation_date":1687124512,"question_id":76502633,"body_markdown":"so I am working on a Solitaire project and am currently severely stuck on the GUI part. I am trying to do drag and drop using Rob Camick&#39;s OverlapLayout [(source code here)](https://tips4java.wordpress.com/2009/07/26/overlap-layout/) but it doesn&#39;t work out how I want it to.\r\n\r\nI can pick up the card and move it just fine, but when I release it, it doesn&#39;t drop down where I want it to and the card disappears. How to fix this?\r\n\r\nAttached is a simplified version of my code. When that code is run, as seen in the [attached image], the card is dragged from one stack to another, but then it automatically moves to the bottom of the screen instead of on top of the card it was dropped on.\r\n\r\n\r\nThis is the class with the problem (I believe that it has to do with the way I created the mainStacks using the for loop, because when I was dragging, the drag layer went behind some of the stacks themselves):\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.*;\r\n\r\npublic class Test extends JPanel implements MouseListener, MouseMotionListener {\r\n    \r\n    //instance variables\r\n    private static final int CARD_WIDTH = 73;\r\n    private static final int CARD_HEIGHT = (int)(CARD_WIDTH*1.49137931+.5);\r\n    private static final int MAIN_STACKS_X_DIFF = 35;\r\n    private static final int MAIN_STACKS_Y_DIFF = 30;\r\n    \r\n    private final Dimension cardSize = new Dimension(CARD_WIDTH, CARD_HEIGHT);\r\n    \r\n    private JPanel mainStacks, mainWrapper;\r\n        \r\n    private Component card;\r\n    private int xAdj, yAdj;\r\n    \r\n    private Deck deckOfCards;\r\n        \r\n    //methods\r\n    \r\n    public Test() {\r\n        JFrame gameScreen = new JFrame();\r\n        gameScreen.setTitle(&quot;Solitaire&quot;);\r\n        gameScreen.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        gameScreen.add(this);\r\n        \r\n        deckOfCards = new Deck();\r\n        deckOfCards.shuffleDeck();\r\n        \r\n        mainStacks = makeMainStacks();\r\n        mainWrapper = new JPanel();\r\n        mainWrapper.setBackground(new Color(0,153,0));\r\n        mainWrapper.add(mainStacks);\r\n        \r\n        gameScreen.setLayout(new BorderLayout());\r\n        gameScreen.add(mainWrapper, BorderLayout.CENTER);\r\n        \r\n        setLayout(null);\r\n        gameScreen.setSize(800,600);\r\n        gameScreen.setResizable(false);\r\n        gameScreen.getContentPane().setBackground(new Color(0,153,0));\r\n        gameScreen.setVisible( true );\r\n    }\r\n        \r\n    private JPanel makeMainStacks() {\r\n        mainStacks = new JPanel(new GridLayout(0,7,MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\r\n        for (int stack = 0; stack &lt; 7; stack++) {\r\n            \r\n            JPanel mainStack = new JPanel( new OverlapLayout( new Point(0, 22)));\r\n            mainStack.setBackground( new Color(0,153,0));\r\n            mainStack.setBounds(10,0,CARD_WIDTH, CARD_HEIGHT);\r\n            mainStack.setBorder( new EmptyBorder(10, 0, CARD_WIDTH, CARD_HEIGHT));\r\n            mainStack.setPreferredSize(new Dimension(CARD_WIDTH, CARD_HEIGHT + 250));\r\n            mainStacks.add(mainStack);\r\n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) {   \r\n                \r\n                Card placementCard = deckOfCards.drawCard(); //draws card\r\n                placementCard.setIsFaceUp(false);\r\n                //checking if the card is the last card in the stack\r\n                if (stack == cardInStack) {\r\n                    System.out.println(stack + cardInStack);\r\n                    placementCard.setIsFaceUp(true); //card is facing up\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\r\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    mainStack.add(cardLabel);\r\n                } //end of if statement\r\n                \r\n                //if statement to check whether the card should be revealed or not\r\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\r\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    cardLabel.setPreferredSize(cardSize);\r\n                    mainStack.add(cardLabel);\r\n                } //end of if statement\r\n            }\r\n            mainStack.addMouseListener(this);\r\n            mainStack.addMouseMotionListener(this);\r\n        }\r\n        \r\n        JPanel mainStacksWrapper = new JPanel();\r\n        mainStacksWrapper.add(mainStacks);\r\n        mainStacksWrapper.setBackground(new Color(0,153,0));\r\n        mainStacks.setBackground(new Color(0,153,0));\r\n        return mainStacksWrapper;\r\n    }\r\n    \r\n    \r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        try {\r\n        JPanel stack = (JPanel)e.getComponent();\r\n        card = stack.getComponent(0);\r\n        \r\n        if (card instanceof JPanel){}\r\n        \r\n        Point stackPos = card.getParent().getLocation();\r\n        xAdj = stackPos.x-e.getX();\r\n        yAdj = stackPos.y-e.getY();\r\n        card.setLocation(e.getX() + xAdj + 35, e.getY() + yAdj);\r\n        System.out.println(xAdj + yAdj);\r\n        \r\n        JLayeredPane lp = getRootPane().getLayeredPane();\r\n        lp.add(card,JLayeredPane.DRAG_LAYER);\r\n        setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\r\n        } catch (ArrayIndexOutOfBoundsException err) {\r\n            System.err.println(&quot;No card in stack. Cannot execute move.&quot;);\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void mouseDragged(MouseEvent e) {\r\n        if (card==null){}\r\n        \r\n        int x = e.getX() + xAdj + 35;\r\n        int y = e.getY() + yAdj;\r\n        card.setLocation(x,y);\r\n    }\r\n    \r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        setCursor(null);\r\n\r\n        if (card == null) return;\r\n\r\n        //  Make sure the card is no longer painted on the layered pane\r\n\r\n        card.setVisible(false);\r\n\r\n        //  check to see if card was dragged to a stack\r\n\r\n        JPanel stackPanel = null;\r\n        Point cardLocation = card.getLocation();\r\n        cardLocation.y -= mainStacks.getParent().getLocation().y;\r\n\r\n        for (int i = 0; i &lt; mainStacks.getComponentCount(); i++)\r\n        {\r\n            JPanel panel = (JPanel)mainStacks.getComponent(i);\r\n\r\n            if (panel.getBounds().contains(cardLocation))\r\n            {\r\n                stackPanel = panel;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (stackPanel == null)\r\n            mainStacks.add( card );\r\n        else\r\n            stackPanel.add( card );\r\n\r\n        card.setVisible(true);\r\n    }\r\n    \r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {}\r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {}\r\n    @Override\r\n    public void mouseEntered(MouseEvent e) {}\r\n    @Override\r\n    public void mouseExited(MouseEvent e) {}\r\n    \r\n    public static void main(String[] args) {\r\n        new Test();\r\n    }\r\n}\r\n```\r\nThese next few classes are just additional classes to help the code compile:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class Deck {\r\n    \r\n    //instance variables\r\n    private final ArrayList&lt;Card&gt; cards;\r\n    private int drawCardIndex;\r\n    \r\n    //methods\r\n    /**\r\n     * This constructor for the Deck class creates all 52 cards and adds them to cards List.\r\n     */\r\n    public Deck() {\r\n        cards = new ArrayList&lt;&gt;(); //creating new deck\r\n        \r\n        for (Suit suit: Suit.values()) { //loops through suits\r\n            for (Rank rank: Rank.values()) { //loops through ranks\r\n                cards.add(new Card(suit, rank)); //adds a unique Card to cards\r\n            }\r\n        }\r\n        drawCardIndex = 0; //initializes index\r\n    } //end of constructor\r\n    \r\n    /**\r\n     * This method returns the size of the deck.\r\n     * @return int - size of deck\r\n     */\r\n    public int getSize() {\r\n        return cards.size();\r\n    } //end of getSize method\r\n    \r\n    /**\r\n     * This method returns a drawn card in the deck of cards.\r\n     * @return Card - a new drawn card in the deck of cards.\r\n     */\r\n    public Card drawCard() {\r\n        if (drawCardIndex&lt;cards.size()) { //checks if all of the cards have been drawn\r\n            Card card = cards.get(drawCardIndex); //draws a card\r\n            drawCardIndex++; //increments\r\n            return card; //return statement\r\n        }\r\n        return null; //returns null if all of the cards have already been drawn\r\n    } //end of drawCard method\r\n    \r\n    /**\r\n     * This method shuffles the deck of cards.\r\n     */\r\n    public void shuffleDeck() {\r\n        Collections.shuffle(cards); //mixes ArrayList\r\n        resetDrawCardIndex(); //resets the drawCardIndex variable\r\n    } //end of shuffleDeck method\r\n    \r\n    /**\r\n     * This method resets the drawCardIndex.\r\n     */\r\n    public void resetDrawCardIndex() {\r\n        drawCardIndex = 0;\r\n    } //end of resetDrawCardIndex method\r\n    \r\n    /**\r\n     * This method removes a card from the deck.\r\n     * @param card the card to be removed from the deck\r\n     */\r\n    public void removeCardFromDeck(Card card) {\r\n        //checks if the stack is empty\r\n        cards.remove(card); //removes the card from the deck\r\n    } //end of removeCardFromStack method\r\n    \r\n    /**\r\n     * This method checks if all of the cards have been drawn.\r\n     * @return Boolean true or false based on if all the cards have been drawn or not.\r\n     */\r\n    public boolean isEmpty() {\r\n        return cards.size() &lt;= drawCardIndex;\r\n    } //end of isEmpty method\r\n    \r\n} //end of Deck class\r\n```\r\n\r\n```java\r\npublic class Card {\r\n    //instance variables\r\n    private final Suit SUIT;\r\n    private final Rank RANK;\r\n    private boolean isFaceUp;\r\n    \r\n    //methods\r\n    /**\r\n     * This is the constructor method for the Card class.\r\n     * @param suit - the suit to be assigned to the card.\r\n     * @param rank - the rank to be assigned to the card.\r\n     */\r\n    public Card(Suit suit, Rank rank) {\r\n        this.SUIT = suit;\r\n        this.RANK = rank;\r\n        this.isFaceUp = false;\r\n    } //end of constructor\r\n    \r\n    /**\r\n     * This method gives the user the suit of the Card.\r\n     * @return Suit - the suit of the Card.\r\n     */\r\n    public Suit getSuit() {\r\n        return this.SUIT;\r\n    } //end of getSuit method\r\n    /**\r\n     * This method gives the user the rank of the Card.\r\n     * @return Rank - the rank of the Card.\r\n     */\r\n    public Rank getRank() {\r\n        return this.RANK;\r\n    } //end of getRank method\r\n    \r\n    /**\r\n     * This method gives whether the Card is faced up or not.\r\n     * @return Boolean - true or false based on if the Card is facing up.\r\n     */\r\n    public boolean getIsFaceUp() {\r\n        return this.isFaceUp;\r\n    } //end of getIsFaceUp method\r\n    /**\r\n     * This method sets the isFaceUp variable to true if the card is facing up in the game.\r\n     */\r\n    public void setIsFaceUp(boolean b) {\r\n        this.isFaceUp = b;\r\n    } //end of setIsFaceUp method\r\n    \r\n    /**\r\n     * This method determines if the Card is from a red suit.\r\n     * @return Boolean - true or false if card is red\r\n     */\r\n    public boolean isRed() {\r\n        return this.SUIT == Suit.HEARTS || this.SUIT == Suit.DIAMONDS;\r\n    } //end of isRed method\r\n    /**\r\n     * This method determines if the Card is from a black suit.\r\n     * @return a Boolean true or false if card is black\r\n     */\r\n    public boolean isBlack() {\r\n        return this.SUIT == Suit.CLUBS || this.SUIT == Suit.SPADES;\r\n    } //end of isBlack method\r\n    \r\n    /**\r\n     * This method determines if the card can be stacked on the card behind it.\r\n     * @return a Boolean true or false if it can be stacked\r\n     */\r\n    public boolean stackable(Card card) {\r\n        return this.isRed() != card.isRed();\r\n    } //end of stackable method\r\n    \r\n    /**\r\n     * This method gives the name of each card.\r\n     * @return a string that has two letters- the first letter of the rank and the first letter of the suit.\r\n     */\r\n    public String getName() {\r\n        String number = &quot;&quot;; //variable declaration\r\n        switch(RANK) { //switch to assign rank name\r\n            case ACE -&gt; number = &quot;A&quot;; //case\r\n            case TWO -&gt; number = &quot;2&quot;; //case\r\n            case THREE -&gt; number = &quot;3&quot;; //case\r\n            case FOUR -&gt; number = &quot;4&quot;; //case\r\n            case FIVE -&gt; number = &quot;5&quot;; //case\r\n            case SIX -&gt; number = &quot;6&quot;; //case\r\n            case SEVEN -&gt; number = &quot;7&quot;; //case\r\n            case EIGHT -&gt; number = &quot;8&quot;; //case\r\n            case NINE -&gt; number = &quot;9&quot;; //case\r\n            case TEN -&gt; number = &quot;10&quot;; //case\r\n            case JACK -&gt; number = &quot;J&quot;; //case\r\n            case QUEEN -&gt; number = &quot;Q&quot;; //case\r\n            case KING -&gt; number = &quot;K&quot;; //case\r\n        } //end of switch\r\n        String suitName = &quot;&quot;; //variable declaration\r\n        switch(SUIT) { //switch to assign suit name\r\n            case HEARTS -&gt; suitName = &quot;H&quot;; //case\r\n            case DIAMONDS -&gt; suitName = &quot;D&quot;; //case\r\n            case SPADES -&gt; suitName = &quot;S&quot;; //case\r\n            case CLUBS -&gt; suitName = &quot;C&quot;; //case\r\n        } //end of switch\r\n        return number + suitName; //return statement\r\n    } //end of getName method\r\n    \r\n    /**\r\n     * This method gives the path to a corresponding image.\r\n     * @return String - returns the path of the image corresponding with the card.\r\n     */\r\n    public String getImagePath() {\r\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\cards\\\\&quot; + getName().substring(1,getName().length()) + &quot;\\\\&quot; + getName() + &quot;.jpg&quot;; //return statement\r\n    } //end of getImage method\r\n    /**\r\n     * This method gives the file path to the back of the card image.\r\n     * @return String the file path to the card back image\r\n     */\r\n    public static String getBackImagePath() {\r\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\CardBack.jpg&quot;;\r\n    } //end of getImageBackPath method\r\n    \r\n    @Override\r\n    /**\r\n     * This method returns the description about the instance variables.\r\n     * @return String - rank and suit of card along with image path.\r\n     */\r\n    public String toString() {\r\n        return this.RANK + &quot; of &quot; + this.SUIT + &quot; ---- &quot; + getImagePath();\r\n    }\r\n} //end of Card class\r\n```\r\n\r\n```java\r\npublic enum Suit {\r\n   //enum fields\r\n   /**\r\n    * Hearts, Diamonds,\r\n    */\r\n   HEARTS,DIAMONDS,\r\n   /**\r\n    * Spades, Clubs\r\n    */\r\n   SPADES,CLUBS;\r\n}\r\n```\r\n\r\n```java\r\npublic enum Rank {\r\n   //enum fields\r\n   /**\r\n    * 2,3,4,5,6,7,8,9,10\r\n    */\r\n   TWO,THREE,FOUR,FIVE,SIX,SEVEN,EIGHT,NINE,TEN,\r\n   /**\r\n    * A,J,Q,K\r\n    */\r\n   ACE,JACK,QUEEN,KING;\r\n}\r\n```\r\n\r\n\r\nI have reviewed past suggestions from SO, but those do not seem to help my problem. Also have tried altering the y values to see if that helps, but it didn&#39;t.\r\n\r\n\r\n  [attached image]: https://i.stack.imgur.com/NnkGq.png","title":"JLabel not clicking into the right place when mouseReleased() is implemented","body":"<p>so I am working on a Solitaire project and am currently severely stuck on the GUI part. I am trying to do drag and drop using Rob Camick's OverlapLayout <a href=\"https://tips4java.wordpress.com/2009/07/26/overlap-layout/\" rel=\"nofollow noreferrer\">(source code here)</a> but it doesn't work out how I want it to.</p>\n<p>I can pick up the card and move it just fine, but when I release it, it doesn't drop down where I want it to and the card disappears. How to fix this?</p>\n<p>Attached is a simplified version of my code. When that code is run, as seen in the <a href=\"https://i.stack.imgur.com/NnkGq.png\" rel=\"nofollow noreferrer\">attached image</a>, the card is dragged from one stack to another, but then it automatically moves to the bottom of the screen instead of on top of the card it was dropped on.</p>\n<p>This is the class with the problem (I believe that it has to do with the way I created the mainStacks using the for loop, because when I was dragging, the drag layer went behind some of the stacks themselves):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class Test extends JPanel implements MouseListener, MouseMotionListener {\n    \n    //instance variables\n    private static final int CARD_WIDTH = 73;\n    private static final int CARD_HEIGHT = (int)(CARD_WIDTH*1.49137931+.5);\n    private static final int MAIN_STACKS_X_DIFF = 35;\n    private static final int MAIN_STACKS_Y_DIFF = 30;\n    \n    private final Dimension cardSize = new Dimension(CARD_WIDTH, CARD_HEIGHT);\n    \n    private JPanel mainStacks, mainWrapper;\n        \n    private Component card;\n    private int xAdj, yAdj;\n    \n    private Deck deckOfCards;\n        \n    //methods\n    \n    public Test() {\n        JFrame gameScreen = new JFrame();\n        gameScreen.setTitle(&quot;Solitaire&quot;);\n        gameScreen.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        gameScreen.add(this);\n        \n        deckOfCards = new Deck();\n        deckOfCards.shuffleDeck();\n        \n        mainStacks = makeMainStacks();\n        mainWrapper = new JPanel();\n        mainWrapper.setBackground(new Color(0,153,0));\n        mainWrapper.add(mainStacks);\n        \n        gameScreen.setLayout(new BorderLayout());\n        gameScreen.add(mainWrapper, BorderLayout.CENTER);\n        \n        setLayout(null);\n        gameScreen.setSize(800,600);\n        gameScreen.setResizable(false);\n        gameScreen.getContentPane().setBackground(new Color(0,153,0));\n        gameScreen.setVisible( true );\n    }\n        \n    private JPanel makeMainStacks() {\n        mainStacks = new JPanel(new GridLayout(0,7,MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\n        for (int stack = 0; stack &lt; 7; stack++) {\n            \n            JPanel mainStack = new JPanel( new OverlapLayout( new Point(0, 22)));\n            mainStack.setBackground( new Color(0,153,0));\n            mainStack.setBounds(10,0,CARD_WIDTH, CARD_HEIGHT);\n            mainStack.setBorder( new EmptyBorder(10, 0, CARD_WIDTH, CARD_HEIGHT));\n            mainStack.setPreferredSize(new Dimension(CARD_WIDTH, CARD_HEIGHT + 250));\n            mainStacks.add(mainStack);\n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) {   \n                \n                Card placementCard = deckOfCards.drawCard(); //draws card\n                placementCard.setIsFaceUp(false);\n                //checking if the card is the last card in the stack\n                if (stack == cardInStack) {\n                    System.out.println(stack + cardInStack);\n                    placementCard.setIsFaceUp(true); //card is facing up\n                    //sizes the image and sets it to placementCard\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                    mainStack.add(cardLabel);\n                } //end of if statement\n                \n                //if statement to check whether the card should be revealed or not\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\n                    //sizes the image and sets it to placementCard\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                    cardLabel.setPreferredSize(cardSize);\n                    mainStack.add(cardLabel);\n                } //end of if statement\n            }\n            mainStack.addMouseListener(this);\n            mainStack.addMouseMotionListener(this);\n        }\n        \n        JPanel mainStacksWrapper = new JPanel();\n        mainStacksWrapper.add(mainStacks);\n        mainStacksWrapper.setBackground(new Color(0,153,0));\n        mainStacks.setBackground(new Color(0,153,0));\n        return mainStacksWrapper;\n    }\n    \n    \n    @Override\n    public void mousePressed(MouseEvent e) {\n        try {\n        JPanel stack = (JPanel)e.getComponent();\n        card = stack.getComponent(0);\n        \n        if (card instanceof JPanel){}\n        \n        Point stackPos = card.getParent().getLocation();\n        xAdj = stackPos.x-e.getX();\n        yAdj = stackPos.y-e.getY();\n        card.setLocation(e.getX() + xAdj + 35, e.getY() + yAdj);\n        System.out.println(xAdj + yAdj);\n        \n        JLayeredPane lp = getRootPane().getLayeredPane();\n        lp.add(card,JLayeredPane.DRAG_LAYER);\n        setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\n        } catch (ArrayIndexOutOfBoundsException err) {\n            System.err.println(&quot;No card in stack. Cannot execute move.&quot;);\n        }\n    }\n    \n    @Override\n    public void mouseDragged(MouseEvent e) {\n        if (card==null){}\n        \n        int x = e.getX() + xAdj + 35;\n        int y = e.getY() + yAdj;\n        card.setLocation(x,y);\n    }\n    \n    @Override\n    public void mouseReleased(MouseEvent e) {\n        setCursor(null);\n\n        if (card == null) return;\n\n        //  Make sure the card is no longer painted on the layered pane\n\n        card.setVisible(false);\n\n        //  check to see if card was dragged to a stack\n\n        JPanel stackPanel = null;\n        Point cardLocation = card.getLocation();\n        cardLocation.y -= mainStacks.getParent().getLocation().y;\n\n        for (int i = 0; i &lt; mainStacks.getComponentCount(); i++)\n        {\n            JPanel panel = (JPanel)mainStacks.getComponent(i);\n\n            if (panel.getBounds().contains(cardLocation))\n            {\n                stackPanel = panel;\n                break;\n            }\n        }\n\n        if (stackPanel == null)\n            mainStacks.add( card );\n        else\n            stackPanel.add( card );\n\n        card.setVisible(true);\n    }\n    \n    @Override\n    public void mouseClicked(MouseEvent e) {}\n    @Override\n    public void mouseMoved(MouseEvent e) {}\n    @Override\n    public void mouseEntered(MouseEvent e) {}\n    @Override\n    public void mouseExited(MouseEvent e) {}\n    \n    public static void main(String[] args) {\n        new Test();\n    }\n}\n</code></pre>\n<p>These next few classes are just additional classes to help the code compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Deck {\n    \n    //instance variables\n    private final ArrayList&lt;Card&gt; cards;\n    private int drawCardIndex;\n    \n    //methods\n    /**\n     * This constructor for the Deck class creates all 52 cards and adds them to cards List.\n     */\n    public Deck() {\n        cards = new ArrayList&lt;&gt;(); //creating new deck\n        \n        for (Suit suit: Suit.values()) { //loops through suits\n            for (Rank rank: Rank.values()) { //loops through ranks\n                cards.add(new Card(suit, rank)); //adds a unique Card to cards\n            }\n        }\n        drawCardIndex = 0; //initializes index\n    } //end of constructor\n    \n    /**\n     * This method returns the size of the deck.\n     * @return int - size of deck\n     */\n    public int getSize() {\n        return cards.size();\n    } //end of getSize method\n    \n    /**\n     * This method returns a drawn card in the deck of cards.\n     * @return Card - a new drawn card in the deck of cards.\n     */\n    public Card drawCard() {\n        if (drawCardIndex&lt;cards.size()) { //checks if all of the cards have been drawn\n            Card card = cards.get(drawCardIndex); //draws a card\n            drawCardIndex++; //increments\n            return card; //return statement\n        }\n        return null; //returns null if all of the cards have already been drawn\n    } //end of drawCard method\n    \n    /**\n     * This method shuffles the deck of cards.\n     */\n    public void shuffleDeck() {\n        Collections.shuffle(cards); //mixes ArrayList\n        resetDrawCardIndex(); //resets the drawCardIndex variable\n    } //end of shuffleDeck method\n    \n    /**\n     * This method resets the drawCardIndex.\n     */\n    public void resetDrawCardIndex() {\n        drawCardIndex = 0;\n    } //end of resetDrawCardIndex method\n    \n    /**\n     * This method removes a card from the deck.\n     * @param card the card to be removed from the deck\n     */\n    public void removeCardFromDeck(Card card) {\n        //checks if the stack is empty\n        cards.remove(card); //removes the card from the deck\n    } //end of removeCardFromStack method\n    \n    /**\n     * This method checks if all of the cards have been drawn.\n     * @return Boolean true or false based on if all the cards have been drawn or not.\n     */\n    public boolean isEmpty() {\n        return cards.size() &lt;= drawCardIndex;\n    } //end of isEmpty method\n    \n} //end of Deck class\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Card {\n    //instance variables\n    private final Suit SUIT;\n    private final Rank RANK;\n    private boolean isFaceUp;\n    \n    //methods\n    /**\n     * This is the constructor method for the Card class.\n     * @param suit - the suit to be assigned to the card.\n     * @param rank - the rank to be assigned to the card.\n     */\n    public Card(Suit suit, Rank rank) {\n        this.SUIT = suit;\n        this.RANK = rank;\n        this.isFaceUp = false;\n    } //end of constructor\n    \n    /**\n     * This method gives the user the suit of the Card.\n     * @return Suit - the suit of the Card.\n     */\n    public Suit getSuit() {\n        return this.SUIT;\n    } //end of getSuit method\n    /**\n     * This method gives the user the rank of the Card.\n     * @return Rank - the rank of the Card.\n     */\n    public Rank getRank() {\n        return this.RANK;\n    } //end of getRank method\n    \n    /**\n     * This method gives whether the Card is faced up or not.\n     * @return Boolean - true or false based on if the Card is facing up.\n     */\n    public boolean getIsFaceUp() {\n        return this.isFaceUp;\n    } //end of getIsFaceUp method\n    /**\n     * This method sets the isFaceUp variable to true if the card is facing up in the game.\n     */\n    public void setIsFaceUp(boolean b) {\n        this.isFaceUp = b;\n    } //end of setIsFaceUp method\n    \n    /**\n     * This method determines if the Card is from a red suit.\n     * @return Boolean - true or false if card is red\n     */\n    public boolean isRed() {\n        return this.SUIT == Suit.HEARTS || this.SUIT == Suit.DIAMONDS;\n    } //end of isRed method\n    /**\n     * This method determines if the Card is from a black suit.\n     * @return a Boolean true or false if card is black\n     */\n    public boolean isBlack() {\n        return this.SUIT == Suit.CLUBS || this.SUIT == Suit.SPADES;\n    } //end of isBlack method\n    \n    /**\n     * This method determines if the card can be stacked on the card behind it.\n     * @return a Boolean true or false if it can be stacked\n     */\n    public boolean stackable(Card card) {\n        return this.isRed() != card.isRed();\n    } //end of stackable method\n    \n    /**\n     * This method gives the name of each card.\n     * @return a string that has two letters- the first letter of the rank and the first letter of the suit.\n     */\n    public String getName() {\n        String number = &quot;&quot;; //variable declaration\n        switch(RANK) { //switch to assign rank name\n            case ACE -&gt; number = &quot;A&quot;; //case\n            case TWO -&gt; number = &quot;2&quot;; //case\n            case THREE -&gt; number = &quot;3&quot;; //case\n            case FOUR -&gt; number = &quot;4&quot;; //case\n            case FIVE -&gt; number = &quot;5&quot;; //case\n            case SIX -&gt; number = &quot;6&quot;; //case\n            case SEVEN -&gt; number = &quot;7&quot;; //case\n            case EIGHT -&gt; number = &quot;8&quot;; //case\n            case NINE -&gt; number = &quot;9&quot;; //case\n            case TEN -&gt; number = &quot;10&quot;; //case\n            case JACK -&gt; number = &quot;J&quot;; //case\n            case QUEEN -&gt; number = &quot;Q&quot;; //case\n            case KING -&gt; number = &quot;K&quot;; //case\n        } //end of switch\n        String suitName = &quot;&quot;; //variable declaration\n        switch(SUIT) { //switch to assign suit name\n            case HEARTS -&gt; suitName = &quot;H&quot;; //case\n            case DIAMONDS -&gt; suitName = &quot;D&quot;; //case\n            case SPADES -&gt; suitName = &quot;S&quot;; //case\n            case CLUBS -&gt; suitName = &quot;C&quot;; //case\n        } //end of switch\n        return number + suitName; //return statement\n    } //end of getName method\n    \n    /**\n     * This method gives the path to a corresponding image.\n     * @return String - returns the path of the image corresponding with the card.\n     */\n    public String getImagePath() {\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\cards\\\\&quot; + getName().substring(1,getName().length()) + &quot;\\\\&quot; + getName() + &quot;.jpg&quot;; //return statement\n    } //end of getImage method\n    /**\n     * This method gives the file path to the back of the card image.\n     * @return String the file path to the card back image\n     */\n    public static String getBackImagePath() {\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\CardBack.jpg&quot;;\n    } //end of getImageBackPath method\n    \n    @Override\n    /**\n     * This method returns the description about the instance variables.\n     * @return String - rank and suit of card along with image path.\n     */\n    public String toString() {\n        return this.RANK + &quot; of &quot; + this.SUIT + &quot; ---- &quot; + getImagePath();\n    }\n} //end of Card class\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Suit {\n   //enum fields\n   /**\n    * Hearts, Diamonds,\n    */\n   HEARTS,DIAMONDS,\n   /**\n    * Spades, Clubs\n    */\n   SPADES,CLUBS;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Rank {\n   //enum fields\n   /**\n    * 2,3,4,5,6,7,8,9,10\n    */\n   TWO,THREE,FOUR,FIVE,SIX,SEVEN,EIGHT,NINE,TEN,\n   /**\n    * A,J,Q,K\n    */\n   ACE,JACK,QUEEN,KING;\n}\n</code></pre>\n<p>I have reviewed past suggestions from SO, but those do not seem to help my problem. Also have tried altering the y values to see if that helps, but it didn't.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1687132247,"post_id":76501626,"comment_id":134889877,"body_markdown":"I don&#39;t see where you define a `JFrame` for your `JPanel` display.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"I don&#39;t see where you define a <code>JFrame</code> for your <code>JPanel</code> display.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687138026,"post_id":76501626,"comment_id":134890260,"body_markdown":"1) a JTable should be added to a JScrollPane so you can see the table headers. 2) After adding components to a visible frame you need to invoke revalidate() and repaint() on the panel to invoke the layout manager.","body":"1) a JTable should be added to a JScrollPane so you can see the table headers. 2) After adding components to a visible frame you need to invoke revalidate() and repaint() on the panel to invoke the layout manager."}],"owner":{"account_id":20870330,"reputation":11,"user_id":15330440,"display_name":"ngzs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687132134,"creation_date":1687107031,"question_id":76501626,"body_markdown":"I&#39;m trying to get my GUI to display a table on button click, but it doesn&#39;t show up as I expected it to.\r\n\r\nI thought adding adding the table into the panel retrospectively would work, but it doesn&#39;t. Any guidance will be much appreciated, thanks.\r\n\r\n```\r\npublic class gui {\r\n    JPanel panel = new JPanel();\r\n\r\n    private JTable transition_table;\r\n\r\n    gui() {\r\n        this.panel = new JPanel(new GridLayout(2, 1));\r\n        \r\n        Integer[] variables_options = new Integer[10];\r\n        Integer[] alphabets_options = new Integer[3];\r\n\r\n        for (int i = 0; i &lt; variables_options.length; i++) {\r\n            variables_options[i] = i + 1;\r\n        }\r\n\r\n        for (int i = 0; i &lt; alphabets_options.length; i++) {\r\n            alphabets_options[i] = i + 1;\r\n        }\r\n\r\n        JComboBox&lt;Integer&gt; variables_combo_box = new JComboBox&lt;&gt;(variables_options);\r\n        JComboBox&lt;Integer&gt; alphabets_combo_box = new JComboBox&lt;&gt;(alphabets_options);\r\n        JButton generate_button = new JButton(&quot;Generate Table&quot;);\r\n\r\n        JPanel controls = new JPanel();\r\n        controls.setLayout(new GridLayout(2, 3));\r\n        controls.add(new Label(&quot;Variables: &quot;));\r\n        controls.add(new Label(&quot;Alphabets: &quot;));\r\n        controls.add(new Label(&quot; &quot;));\r\n        controls.add(variables_combo_box);\r\n        controls.add(alphabets_combo_box);\r\n        controls.add(generate_button);\r\n\r\n        JTextArea transition_table_panel = new JTextArea();\r\n\r\n        this.panel.add(controls);\r\n        this.panel.add(transition_table_panel);\r\n\r\n        generate_button.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                String[] target_alphabet_count = new String[(Integer)alphabets_combo_box.getSelectedItem()];\r\n                String[][] target_variable_count = new String[(Integer)variables_combo_box.getSelectedItem()][(Integer)alphabets_combo_box.getSelectedItem()];\r\n\r\n                for (int i = 0; i &lt; (Integer)alphabets_combo_box.getSelectedItem(); i++) {\r\n                    target_alphabet_count[i] = String.valueOf(i);\r\n                }\r\n\r\n                for (int i = 0; i &lt; (Integer)variables_combo_box.getSelectedItem(); i++) {\r\n                    target_variable_count[i][i] = String.valueOf(i);\r\n                    \r\n                    for (int j = 1; j &lt; (Integer)alphabets_combo_box.getSelectedItem(); j++) {\r\n                        target_variable_count[i][j] = &quot;&quot;;\r\n                    }\r\n                }\r\n\r\n                transition_table = new JTable(target_variable_count, target_alphabet_count);\r\n                transition_table_panel.add(transition_table);\r\n            }\r\n        });\r\n    }\r\n}```","title":"JTable doesn&#39;t show up on button click","body":"<p>I'm trying to get my GUI to display a table on button click, but it doesn't show up as I expected it to.</p>\n<p>I thought adding adding the table into the panel retrospectively would work, but it doesn't. Any guidance will be much appreciated, thanks.</p>\n<pre><code>public class gui {\n    JPanel panel = new JPanel();\n\n    private JTable transition_table;\n\n    gui() {\n        this.panel = new JPanel(new GridLayout(2, 1));\n        \n        Integer[] variables_options = new Integer[10];\n        Integer[] alphabets_options = new Integer[3];\n\n        for (int i = 0; i &lt; variables_options.length; i++) {\n            variables_options[i] = i + 1;\n        }\n\n        for (int i = 0; i &lt; alphabets_options.length; i++) {\n            alphabets_options[i] = i + 1;\n        }\n\n        JComboBox&lt;Integer&gt; variables_combo_box = new JComboBox&lt;&gt;(variables_options);\n        JComboBox&lt;Integer&gt; alphabets_combo_box = new JComboBox&lt;&gt;(alphabets_options);\n        JButton generate_button = new JButton(&quot;Generate Table&quot;);\n\n        JPanel controls = new JPanel();\n        controls.setLayout(new GridLayout(2, 3));\n        controls.add(new Label(&quot;Variables: &quot;));\n        controls.add(new Label(&quot;Alphabets: &quot;));\n        controls.add(new Label(&quot; &quot;));\n        controls.add(variables_combo_box);\n        controls.add(alphabets_combo_box);\n        controls.add(generate_button);\n\n        JTextArea transition_table_panel = new JTextArea();\n\n        this.panel.add(controls);\n        this.panel.add(transition_table_panel);\n\n        generate_button.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                String[] target_alphabet_count = new String[(Integer)alphabets_combo_box.getSelectedItem()];\n                String[][] target_variable_count = new String[(Integer)variables_combo_box.getSelectedItem()][(Integer)alphabets_combo_box.getSelectedItem()];\n\n                for (int i = 0; i &lt; (Integer)alphabets_combo_box.getSelectedItem(); i++) {\n                    target_alphabet_count[i] = String.valueOf(i);\n                }\n\n                for (int i = 0; i &lt; (Integer)variables_combo_box.getSelectedItem(); i++) {\n                    target_variable_count[i][i] = String.valueOf(i);\n                    \n                    for (int j = 1; j &lt; (Integer)alphabets_combo_box.getSelectedItem(); j++) {\n                        target_variable_count[i][j] = &quot;&quot;;\n                    }\n                }\n\n                transition_table = new JTable(target_variable_count, target_alphabet_count);\n                transition_table_panel.add(transition_table);\n            }\n        });\n    }\n}```\n</code></pre>\n"},{"tags":["java","javafx","proguard","obfuscation","executable-jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1577478502,"post_id":59504597,"comment_id":105183951,"body_markdown":"Consider very carefully if obfuscating is really worth the trouble and pain it is causing you, and, if not, do not obfuscate.","body":"Consider very carefully if obfuscating is really worth the trouble and pain it is causing you, and, if not, do not obfuscate."},{"owner":{"account_id":4600233,"reputation":878,"user_id":4043486,"accept_rate":93,"display_name":"younes zeboudj"},"score":0,"creation_date":1577481453,"post_id":59504597,"comment_id":105184791,"body_markdown":"I am distributing a program which code should be protected at least by obfuscation","body":"I am distributing a program which code should be protected at least by obfuscation"}],"answers":[{"tags":[],"owner":{"account_id":4600233,"reputation":878,"user_id":4043486,"accept_rate":93,"display_name":"younes zeboudj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687132036,"creation_date":1687132036,"answer_id":76502920,"question_id":59504597,"body_markdown":"For some reason the file wasn&#39;t present in the OUT file, I worked it around by manually injecting it in the jar zip. Some flags of Proguard may help to keep the file.","title":"error obfuscating JavaFX Application with proguard","body":"<p>For some reason the file wasn't present in the OUT file, I worked it around by manually injecting it in the jar zip. Some flags of Proguard may help to keep the file.</p>\n"}],"owner":{"account_id":4600233,"reputation":878,"user_id":4043486,"accept_rate":93,"display_name":"younes zeboudj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76502920,"answer_count":1,"score":0,"last_activity_date":1687132036,"creation_date":1577470724,"question_id":59504597,"body_markdown":"I am not very familiar with proguard, I want to obfuscate a JavaFX application, I already did it right but now after adding some changes to the project things screwed up.\r\n\r\nHere is my .pro configuration file : \r\n\r\n```\r\n-injars       ../INJAR.jar \r\n-outjars      ../OUTJAR.jar \r\n\r\n-libraryjars  &#39;rt.jar&#39;\r\n-libraryjars  &#39;jce.jar&#39;\r\n-libraryjars  &#39;jfxrt.jar&#39;\r\n\r\n\r\n-dontshrink\r\n-dontoptimize\r\n-flattenpackagehierarchy &#39;&#39;\r\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,*Annotation*,Synthetic,EnclosingMethod\r\n-adaptresourcefilecontents **.fxml,**.properties,META-INF/MANIFEST.MF\r\n\r\n\r\n-dontskipnonpubliclibraryclasses\r\n-dontskipnonpubliclibraryclassmembers\r\n\r\n\r\n-keep class javax.** { *; }\r\n-keep class impl.** { *; }\r\n-dontwarn impl.**\r\n\r\n-keep class org.** { *; }\r\n-dontwarn org.**\r\n\r\n\r\n-keepclasseswithmembers public class main.Main {\r\n    public static void main(java.lang.String[]);\r\n}\r\n\r\n-keepclassmembernames class * {\r\n    @javafx.fxml.FXML *;\r\n}\r\n\r\n-keepclassmembernames class main.*Controller {\r\n    public &lt;methods&gt;;\r\n    public &lt;fields&gt;;\t\r\n}\r\n\r\n-keepclassmembernames class main.NewApplicationController$Applicant {\r\n    public &lt;methods&gt;;\r\n    public &lt;fields&gt;;\r\n}\r\n\r\n-keepclassmembernames class main.RDVTaker {\r\n    public &lt;methods&gt;;\r\n}\r\n\r\n\r\n-obfuscationdictionary members.txt\r\n-classobfuscationdictionary classes.txt\r\n-printmapping mapping.txt\r\n\r\n```\r\n\r\nby executing the command :\r\n```java -jar obf_data/proguard.jar @obf_data/myconfig.pro &gt; obf_data/info.txt```\r\n\r\nI get this erro :\r\n\r\n```Error: Unexpected error while writing class [oshi/hardware/platform/mac/MacDisks] (Overflow of unsigned short value [70168])```\r\n\r\nI bypassed the above error by removing `-dontshrink` option, but in this case the resulting jar is raising the following  error : ```Error: Invalid or corrupt jarfile OUTJAR.jar```\r\n\r\nAnd by removing both `-dontshrink` and `-dontoptimize` another error get raised, a stacktarce is printed, but I found out that the error was described at this level of stack :\r\n ```\r\nCaused by: javafx.fxml.LoadException:\r\nfile:/C:/Users/younes/IdeaProjects/vpro/out/artifacts/vpro/OUTJAR.jar.\r\njar!/main/main.fxml:12\r\n```\r\n\r\n\r\nI am wondering if someone got a supposition, idea or even another obfuscating tool,\r\n\r\nThanks in advance","title":"error obfuscating JavaFX Application with proguard","body":"<p>I am not very familiar with proguard, I want to obfuscate a JavaFX application, I already did it right but now after adding some changes to the project things screwed up.</p>\n\n<p>Here is my .pro configuration file : </p>\n\n<pre><code>-injars       ../INJAR.jar \n-outjars      ../OUTJAR.jar \n\n-libraryjars  'rt.jar'\n-libraryjars  'jce.jar'\n-libraryjars  'jfxrt.jar'\n\n\n-dontshrink\n-dontoptimize\n-flattenpackagehierarchy ''\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,*Annotation*,Synthetic,EnclosingMethod\n-adaptresourcefilecontents **.fxml,**.properties,META-INF/MANIFEST.MF\n\n\n-dontskipnonpubliclibraryclasses\n-dontskipnonpubliclibraryclassmembers\n\n\n-keep class javax.** { *; }\n-keep class impl.** { *; }\n-dontwarn impl.**\n\n-keep class org.** { *; }\n-dontwarn org.**\n\n\n-keepclasseswithmembers public class main.Main {\n    public static void main(java.lang.String[]);\n}\n\n-keepclassmembernames class * {\n    @javafx.fxml.FXML *;\n}\n\n-keepclassmembernames class main.*Controller {\n    public &lt;methods&gt;;\n    public &lt;fields&gt;;    \n}\n\n-keepclassmembernames class main.NewApplicationController$Applicant {\n    public &lt;methods&gt;;\n    public &lt;fields&gt;;\n}\n\n-keepclassmembernames class main.RDVTaker {\n    public &lt;methods&gt;;\n}\n\n\n-obfuscationdictionary members.txt\n-classobfuscationdictionary classes.txt\n-printmapping mapping.txt\n\n</code></pre>\n\n<p>by executing the command :\n<code>java -jar obf_data/proguard.jar @obf_data/myconfig.pro &gt; obf_data/info.txt</code></p>\n\n<p>I get this erro :</p>\n\n<p><code>Error: Unexpected error while writing class [oshi/hardware/platform/mac/MacDisks] (Overflow of unsigned short value [70168])</code></p>\n\n<p>I bypassed the above error by removing <code>-dontshrink</code> option, but in this case the resulting jar is raising the following  error : <code>Error: Invalid or corrupt jarfile OUTJAR.jar</code></p>\n\n<p>And by removing both <code>-dontshrink</code> and <code>-dontoptimize</code> another error get raised, a stacktarce is printed, but I found out that the error was described at this level of stack :</p>\n\n<pre><code>Caused by: javafx.fxml.LoadException:\nfile:/C:/Users/younes/IdeaProjects/vpro/out/artifacts/vpro/OUTJAR.jar.\njar!/main/main.fxml:12\n</code></pre>\n\n<p>I am wondering if someone got a supposition, idea or even another obfuscating tool,</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","unit-testing","testing","mapstruct"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1687078474,"post_id":76496685,"comment_id":134884489,"body_markdown":"Does this answer your question? [MapStruct : mocking nested mapper](https://stackoverflow.com/questions/54774679/mapstruct-mocking-nested-mapper)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54774679/mapstruct-mocking-nested-mapper\">MapStruct : mocking nested mapper</a>"},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1687086371,"post_id":76496685,"comment_id":134885272,"body_markdown":"None of it works, this [@Spy @InjectMocks solution](https://stackoverflow.com/a/55009482/17269768) output: `org.mockito.exceptions.misusing.NotAMockException: Argument should be a mock, but is: class .mappers.StudentDetailMapperImpl`.\n\nOr Reflection way output: `org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be &#39;a method call on a mock&#39;`.","body":"None of it works, this <a href=\"https://stackoverflow.com/a/55009482/17269768\">@Spy @InjectMocks solution</a> output: <code>org.mockito.exceptions.misusing.NotAMockException: Argument should be a mock, but is: class .mappers.StudentDetailMapperImpl</code>.  Or Reflection way output: <code>org.mockito.exceptions.misusing.MissingMethodInvocationExcep&zwnj;&#8203;tion:  when() requires an argument which has to be &#39;a method call on a mock&#39;</code>."},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1687119162,"post_id":76496685,"comment_id":134888815,"body_markdown":"Can you show both ways  your tried and not just your Exception? For me both solutions work when i recreate those.","body":"Can you show both ways  your tried and not just your Exception? For me both solutions work when i recreate those."},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1687129025,"post_id":76496685,"comment_id":134889698,"body_markdown":"So I just edit my question? I mean I just add those lines into test code above, nothing really special.","body":"So I just edit my question? I mean I just add those lines into test code above, nothing really special."},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1687130314,"post_id":76496685,"comment_id":134889764,"body_markdown":"Actually reverse the direction of [@Spy @Inject](https://stackoverflow.com/a/74940805/17269768) works for some reason.","body":"Actually reverse the direction of <a href=\"https://stackoverflow.com/a/74940805/17269768\">@Spy @Inject</a> works for some reason."}],"answers":[{"tags":[],"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687131888,"creation_date":1687130719,"answer_id":76502869,"question_id":76496685,"body_markdown":"Take a look at this [post](https://stackoverflow.com/q/54774679/17269768) of the same question, there are quite a few answers, but what works for me is reversing [this](https://stackoverflow.com/a/74940805/17269768) and add [`ReflectionTestUtils`](https://stackoverflow.com/a/66327399/17269768) solution:\r\n\r\nMy `StudentMapper` uses `SpouseDetailMapper`\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = SpouseDetailMapper.class)\r\npublic interface StudentDetailMapper {\r\n    StudentDetailMapper INSTANCE = Mappers.getMapper(StudentDetailMapper.class);-\r\n    StudentDetailDTO toDTO(StudentDetail studentDetail);\r\n    @InheritInverseConfiguration\r\n    StudentDetail fromDTO(StudentDetailDTO studentDetailDTO);\r\n}\r\n```\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR)\r\npublic interface SpouseDetailMapper {\r\n    SpouseDetailMapper INSTANCE = Mappers.getMapper(SpouseDetailMapper.class);\r\n    @Mapping(target = &quot;studentDetail&quot;, ignore = true)\r\n    SpouseDetailDTO toDTO(SpouseDetail spouseDetail);\r\n    @InheritInverseConfiguration\r\n    SpouseDetail fromDTO(SpouseDetailDTO spouseDetailDTO);\r\n}\r\n```\r\n\r\nThen in `Test`:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass StudentDetailServiceTest {\r\n    @Spy\r\n    StudentDetailMapper studentDetailMapper = Mappers.getMapper(StudentDetailMapper.class);\r\n    @Spy\r\n    @InjectMocks\r\n    SpouseDetailMapper spouseDetailMapper = Mappers.getMapper(SpouseDetailMapper.class);\r\n    @Mock\r\n    private StudentDetailRepository studentDetailRepository;\r\n    @InjectMocks\r\n    private StudentDetailService studentDetailService;\r\n    @BeforeEach\r\n    void setUp() {\r\n        ReflectionTestUtils.setField(\r\n            studentDetailMapper,\r\n            &quot;spouseDetailMapper&quot;,\r\n            spouseDetailMapper);\r\n}\r\n```\r\n\r\nSo what you want to do is add `@Spy @InjectMocks` into the used class, in this case it&#39;s `SpouseDetail`.","title":"How to use MapStruct that has SubMapper in unit testing","body":"<p>Take a look at this <a href=\"https://stackoverflow.com/q/54774679/17269768\">post</a> of the same question, there are quite a few answers, but what works for me is reversing <a href=\"https://stackoverflow.com/a/74940805/17269768\">this</a> and add <a href=\"https://stackoverflow.com/a/66327399/17269768\"><code>ReflectionTestUtils</code></a> solution:</p>\n<p>My <code>StudentMapper</code> uses <code>SpouseDetailMapper</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = SpouseDetailMapper.class)\npublic interface StudentDetailMapper {\n    StudentDetailMapper INSTANCE = Mappers.getMapper(StudentDetailMapper.class);-\n    StudentDetailDTO toDTO(StudentDetail studentDetail);\n    @InheritInverseConfiguration\n    StudentDetail fromDTO(StudentDetailDTO studentDetailDTO);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR)\npublic interface SpouseDetailMapper {\n    SpouseDetailMapper INSTANCE = Mappers.getMapper(SpouseDetailMapper.class);\n    @Mapping(target = &quot;studentDetail&quot;, ignore = true)\n    SpouseDetailDTO toDTO(SpouseDetail spouseDetail);\n    @InheritInverseConfiguration\n    SpouseDetail fromDTO(SpouseDetailDTO spouseDetailDTO);\n}\n</code></pre>\n<p>Then in <code>Test</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass StudentDetailServiceTest {\n    @Spy\n    StudentDetailMapper studentDetailMapper = Mappers.getMapper(StudentDetailMapper.class);\n    @Spy\n    @InjectMocks\n    SpouseDetailMapper spouseDetailMapper = Mappers.getMapper(SpouseDetailMapper.class);\n    @Mock\n    private StudentDetailRepository studentDetailRepository;\n    @InjectMocks\n    private StudentDetailService studentDetailService;\n    @BeforeEach\n    void setUp() {\n        ReflectionTestUtils.setField(\n            studentDetailMapper,\n            &quot;spouseDetailMapper&quot;,\n            spouseDetailMapper);\n}\n</code></pre>\n<p>So what you want to do is add <code>@Spy @InjectMocks</code> into the used class, in this case it's <code>SpouseDetail</code>.</p>\n"}],"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687131888,"creation_date":1687012820,"question_id":76496685,"body_markdown":"I have a `StudentDetailMapper`:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = SpouseDetailMapper.class)\r\npublic interface StudentDetailMapper {\r\n    StudentDetailMapper INSTANCE = Mappers.getMapper(StudentDetailMapper.class);-\r\n    StudentDetailDTO toDTO(StudentDetail studentDetail);\r\n    @InheritInverseConfiguration\r\n    StudentDetail fromDTO(StudentDetailDTO studentDetailDTO);}\r\n```\r\nI want to write a test for `StudentDetailService`:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass StudentDetailServiceTest {\r\n    @Mock\r\n    private StudentDetailRepository studentDetailRepository;\r\n\r\n// ???\r\n//    @InjectMocks\r\n//    private SpouseDetailMapper spouseDetailMapper = Mappers.getMapper(SpouseDetailMapper.class);\r\n\r\n    @Spy\r\n    private StudentDetailMapper studentDetailMapper = Mappers.getMapper(StudentDetailMapper.class);\r\n    @InjectMocks\r\n    private StudentDetailService studentDetailService;\r\n\r\n    @Test\r\n    void getStudentDetail() {\r\n        when(studentDetailRepository.findByStudentStudentID(anyString())).thenReturn(Optional.of(studentDetail));\r\n//      when(spouseDetailMapper.toDTO(spouseDetail)).thenReturn(spouseDetailDTO);\r\n        when(studentDetailMapper.toDTO(studentDetail)).thenReturn(studentDetailDTO);\r\n\r\n        StudentDetailDTO result = studentDetailService.getStudentDetail(studentWithDetailID);\r\n\r\n        assertThat(studentDetailDTO).isEqualTo(result);\r\n    }\r\n\r\n```\r\nI know that you can write test that has MapStruct with `@Spy` but if there&#39;s a submapper it will throw this error:\r\n\r\n`java.lang.NullPointerException: Cannot invoke &quot;com.ex.project.mappers.SpouseDetailMapper.toDTO(com.ex.project.model.SpouseDetail)&quot; because &quot;this.spouseDetailMapper&quot; is null`\r\n","title":"How to use MapStruct that has SubMapper in unit testing","body":"<p>I have a <code>StudentDetailMapper</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = SpouseDetailMapper.class)\npublic interface StudentDetailMapper {\n    StudentDetailMapper INSTANCE = Mappers.getMapper(StudentDetailMapper.class);-\n    StudentDetailDTO toDTO(StudentDetail studentDetail);\n    @InheritInverseConfiguration\n    StudentDetail fromDTO(StudentDetailDTO studentDetailDTO);}\n</code></pre>\n<p>I want to write a test for <code>StudentDetailService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass StudentDetailServiceTest {\n    @Mock\n    private StudentDetailRepository studentDetailRepository;\n\n// ???\n//    @InjectMocks\n//    private SpouseDetailMapper spouseDetailMapper = Mappers.getMapper(SpouseDetailMapper.class);\n\n    @Spy\n    private StudentDetailMapper studentDetailMapper = Mappers.getMapper(StudentDetailMapper.class);\n    @InjectMocks\n    private StudentDetailService studentDetailService;\n\n    @Test\n    void getStudentDetail() {\n        when(studentDetailRepository.findByStudentStudentID(anyString())).thenReturn(Optional.of(studentDetail));\n//      when(spouseDetailMapper.toDTO(spouseDetail)).thenReturn(spouseDetailDTO);\n        when(studentDetailMapper.toDTO(studentDetail)).thenReturn(studentDetailDTO);\n\n        StudentDetailDTO result = studentDetailService.getStudentDetail(studentWithDetailID);\n\n        assertThat(studentDetailDTO).isEqualTo(result);\n    }\n\n</code></pre>\n<p>I know that you can write test that has MapStruct with <code>@Spy</code> but if there's a submapper it will throw this error:</p>\n<p><code>java.lang.NullPointerException: Cannot invoke &quot;com.ex.project.mappers.SpouseDetailMapper.toDTO(com.ex.project.model.SpouseDetail)&quot; because &quot;this.spouseDetailMapper&quot; is null</code></p>\n"},{"tags":["java","spring","spring-boot","authentication"],"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1687088620,"post_id":76498839,"comment_id":134885516,"body_markdown":"Your approach is correct. You should be able to retrieve current username with SecurityContextHolder.getContext().getAuthentication().getName(). For You it is null, because your authentication does not work correctly. How do You handle login inside Your app?","body":"Your approach is correct. You should be able to retrieve current username with SecurityContextHolder.getContext().getAuthentication().getNa&zwnj;&#8203;me(). For You it is null, because your authentication does not work correctly. How do You handle login inside Your app?"},{"owner":{"account_id":23189519,"reputation":21,"user_id":17286087,"display_name":"user17286087"},"score":0,"creation_date":1687131024,"post_id":76498839,"comment_id":134889801,"body_markdown":"Hey! thanks for responding. I&#39;ve added the login logic in the last part of the code. Could it be that there is in fact data for the account, but Im not actually logged but rather just showing the information that I entered as username? Im not sure how I should change this ;/","body":"Hey! thanks for responding. I&#39;ve added the login logic in the last part of the code. Could it be that there is in fact data for the account, but Im not actually logged but rather just showing the information that I entered as username? Im not sure how I should change this ;/"}],"owner":{"account_id":23189519,"reputation":21,"user_id":17286087,"display_name":"user17286087"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687130927,"creation_date":1687055723,"question_id":76498839,"body_markdown":"I&#39;m relatively new to Spring Boot and seem to be having problems with connecting another API to current authenticated user.\r\n\r\nMy main problem is that I want to be able to create a new project using POST method only when user is logged in. \r\n\r\nIn addition, the project created will have a id attribute that is the current user&#39;s pk.\r\n\r\nNow I know that there are lots of post relating to this issue but none seem to have been a fix so far thus is why I am requesting for assitance to get a better understanding of the issue.\r\n\r\nThis is my UserService\r\n```\r\npackage portfolio.backend.api.auth.service;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport portfolio.backend.api.auth.Exception.DataNotFoundException;\r\nimport portfolio.backend.api.auth.constant.UserType;\r\nimport portfolio.backend.api.auth.entity.SiteUser;\r\nimport portfolio.backend.api.auth.repository.UserRepository;\r\n\r\nimport java.util.Optional;\r\n\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class UserService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public SiteUser create(String username, String userId,\r\n                           String password, String artistType) {\r\n        SiteUser user = new SiteUser();\r\n        user.setUsername(username);\r\n        user.setUserId(userId);\r\n\r\n\r\n\r\n        user.setPassword(passwordEncoder.encode(password));\r\n        user.setArtistType(artistType);\r\n        user.setUserType(UserType.USER);\r\n        this.userRepository.save(user);\r\n        return user;\r\n    }\r\n\r\n    public SiteUser getUser(String username) {\r\n        Optional&lt;SiteUser&gt; siteUser = this.userRepository.findByUsername(username);\r\n        if (siteUser.isPresent()) {\r\n            return siteUser.get();\r\n        } else {\r\n            throw new DataNotFoundException(&quot;siteuser not found&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nWith these entities given\r\n```\r\npackage portfolio.backend.api.auth.entity;\r\n\r\nimport lombok.Data;\r\nimport portfolio.backend.api.auth.constant.UserType;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.Email;\r\n\r\n@Data\r\n@Entity\r\npublic class SiteUser {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    @Email\r\n    private String username;\r\n\r\n    @Column(unique = true)\r\n    private String userId;\r\n\r\n    private String password;\r\n\r\n    private String artistType; \r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private UserType userType; \r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nFinally this is the Project POST method I want to connect with the Id entity in User.\r\n\r\n```\r\n@PostMapping\r\n    public Project createProject(Principal principal,\r\n                                 Authentication authentication,\r\n                                 @RequestParam String projectName,\r\n                                \r\n                                 ...\r\n    ) {\r\n\r\n        SiteUser siteUser = userService.getUser(authentication.getName());\r\n        Long userId = siteUser.getId();\r\n\r\n        Project project = new Project();\r\n        project.setUserId(userId);\r\n        project.setProjectName(projectName);\r\n        ...\r\n\r\n        return projectRepository.save(project);\r\n    }\r\n ```\r\n\r\n\r\nThese are some of the methods I&#39;ve tried to retrive the Id\r\n\r\n```\r\n// 1\r\nAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\nSiteUser siteUser = (SiteUser) authentication.getPrincipal();\r\n\r\n// 2\r\nSiteUser siteUser = this.userService.getUser(principal.getName());\r\nLong userId = siteUser.getId();\r\n\r\n//3\r\nString username = principal.getName();\r\nSiteUser siteUser = this.userService.getUser(username);\r\nLong userId = siteUser.getId();\r\n\r\n```\r\n\r\nNow when I log in I get this log\r\n\r\n```\r\n2023-06-18 11:05:46.141 DEBUG 43426 --- [nio-7072-exec-5] org.hibernate.SQL                        : \r\n    select\r\n        siteuser0_.id as id1_1_,\r\n        siteuser0_.artistType as artistty2_1_,\r\n        siteuser0_.password as password3_1_,\r\n        siteuser0_.userId as userid4_1_,\r\n        siteuser0_.userType as usertype5_1_,\r\n        siteuser0_.username as username6_1_ \r\n    from\r\n        SiteUser siteuser0_ \r\n    where\r\n        siteuser0_.username=?\r\nHibernate: \r\n    select\r\n        siteuser0_.id as id1_1_,\r\n        siteuser0_.artistType as artistty2_1_,\r\n        siteuser0_.password as password3_1_,\r\n        siteuser0_.userId as userid4_1_,\r\n        siteuser0_.userType as usertype5_1_,\r\n        siteuser0_.username as username6_1_ \r\n    from\r\n        SiteUser siteuser0_ \r\n    where\r\n        siteuser0_.username=?\r\n\r\n```\r\nWhich to me, seems to mean that there is currently an authenticated user.\r\n\r\nHowever, when I send a POST request on Postman\r\nI get the log\r\n```\r\njava.lang.NullPointerException: null\r\n\tat portfolio.backend.api.project.controller.ProjectController.createProject(ProjectController.java:82) ~[main/:na]\r\n```\r\nWhich seems to mean that the getName()&#39;s value is Null.\r\nThank you reading the long post\r\n\r\n\r\nIn addition, below is the logic to my login.\r\n```\r\npackage portfolio.backend.api.auth.config;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\nimport portfolio.backend.api.auth.repository.UserRepository;\r\n\r\nimport portfolio.backend.api.auth.constant.UserType;\r\n\r\nimport portfolio.backend.api.auth.entity.SiteUser;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class UserSecurityService implements UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n   \r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;SiteUser&gt; _siteUser = this.userRepository.findByUsername(username);\r\n        if (_siteUser.isEmpty()) {\r\n            throw new UsernameNotFoundException(&quot;NOT FOUND.&quot;);\r\n        }\r\n\r\n        SiteUser siteUser = _siteUser.get();\r\n\r\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        if (&quot;admin&quot;.equals(username)) {\r\n\r\n            authorities.add(new SimpleGrantedAuthority(UserType.ADMIN.getValue()));\r\n        } else {\r\n            authorities.add(new SimpleGrantedAuthority(UserType.USER.getValue()));\r\n            }\r\n\r\n            return new User(siteUser.getUsername(), siteUser.getPassword(), authorities);\r\n\r\n        }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n","title":"Spring Boot Retrieving current User","body":"<p>I'm relatively new to Spring Boot and seem to be having problems with connecting another API to current authenticated user.</p>\n<p>My main problem is that I want to be able to create a new project using POST method only when user is logged in.</p>\n<p>In addition, the project created will have a id attribute that is the current user's pk.</p>\n<p>Now I know that there are lots of post relating to this issue but none seem to have been a fix so far thus is why I am requesting for assitance to get a better understanding of the issue.</p>\n<p>This is my UserService</p>\n<pre><code>package portfolio.backend.api.auth.service;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport portfolio.backend.api.auth.Exception.DataNotFoundException;\nimport portfolio.backend.api.auth.constant.UserType;\nimport portfolio.backend.api.auth.entity.SiteUser;\nimport portfolio.backend.api.auth.repository.UserRepository;\n\nimport java.util.Optional;\n\n@RequiredArgsConstructor\n@Service\npublic class UserService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    public SiteUser create(String username, String userId,\n                           String password, String artistType) {\n        SiteUser user = new SiteUser();\n        user.setUsername(username);\n        user.setUserId(userId);\n\n\n\n        user.setPassword(passwordEncoder.encode(password));\n        user.setArtistType(artistType);\n        user.setUserType(UserType.USER);\n        this.userRepository.save(user);\n        return user;\n    }\n\n    public SiteUser getUser(String username) {\n        Optional&lt;SiteUser&gt; siteUser = this.userRepository.findByUsername(username);\n        if (siteUser.isPresent()) {\n            return siteUser.get();\n        } else {\n            throw new DataNotFoundException(&quot;siteuser not found&quot;);\n        }\n    }\n\n}\n\n\n</code></pre>\n<p>With these entities given</p>\n<pre><code>package portfolio.backend.api.auth.entity;\n\nimport lombok.Data;\nimport portfolio.backend.api.auth.constant.UserType;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Email;\n\n@Data\n@Entity\npublic class SiteUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true)\n    @Email\n    private String username;\n\n    @Column(unique = true)\n    private String userId;\n\n    private String password;\n\n    private String artistType; \n\n    @Enumerated(EnumType.STRING)\n    private UserType userType; \n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n\n\n</code></pre>\n<p>Finally this is the Project POST method I want to connect with the Id entity in User.</p>\n<pre><code>@PostMapping\n    public Project createProject(Principal principal,\n                                 Authentication authentication,\n                                 @RequestParam String projectName,\n                                \n                                 ...\n    ) {\n\n        SiteUser siteUser = userService.getUser(authentication.getName());\n        Long userId = siteUser.getId();\n\n        Project project = new Project();\n        project.setUserId(userId);\n        project.setProjectName(projectName);\n        ...\n\n        return projectRepository.save(project);\n    }\n</code></pre>\n<p>These are some of the methods I've tried to retrive the Id</p>\n<pre><code>// 1\nAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\nSiteUser siteUser = (SiteUser) authentication.getPrincipal();\n\n// 2\nSiteUser siteUser = this.userService.getUser(principal.getName());\nLong userId = siteUser.getId();\n\n//3\nString username = principal.getName();\nSiteUser siteUser = this.userService.getUser(username);\nLong userId = siteUser.getId();\n\n</code></pre>\n<p>Now when I log in I get this log</p>\n<pre><code>2023-06-18 11:05:46.141 DEBUG 43426 --- [nio-7072-exec-5] org.hibernate.SQL                        : \n    select\n        siteuser0_.id as id1_1_,\n        siteuser0_.artistType as artistty2_1_,\n        siteuser0_.password as password3_1_,\n        siteuser0_.userId as userid4_1_,\n        siteuser0_.userType as usertype5_1_,\n        siteuser0_.username as username6_1_ \n    from\n        SiteUser siteuser0_ \n    where\n        siteuser0_.username=?\nHibernate: \n    select\n        siteuser0_.id as id1_1_,\n        siteuser0_.artistType as artistty2_1_,\n        siteuser0_.password as password3_1_,\n        siteuser0_.userId as userid4_1_,\n        siteuser0_.userType as usertype5_1_,\n        siteuser0_.username as username6_1_ \n    from\n        SiteUser siteuser0_ \n    where\n        siteuser0_.username=?\n\n</code></pre>\n<p>Which to me, seems to mean that there is currently an authenticated user.</p>\n<p>However, when I send a POST request on Postman\nI get the log</p>\n<pre><code>java.lang.NullPointerException: null\n    at portfolio.backend.api.project.controller.ProjectController.createProject(ProjectController.java:82) ~[main/:na]\n</code></pre>\n<p>Which seems to mean that the getName()'s value is Null.\nThank you reading the long post</p>\n<p>In addition, below is the logic to my login.</p>\n<pre><code>package portfolio.backend.api.auth.config;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport portfolio.backend.api.auth.repository.UserRepository;\n\nimport portfolio.backend.api.auth.constant.UserType;\n\nimport portfolio.backend.api.auth.entity.SiteUser;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@RequiredArgsConstructor\n@Service\npublic class UserSecurityService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n   \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;SiteUser&gt; _siteUser = this.userRepository.findByUsername(username);\n        if (_siteUser.isEmpty()) {\n            throw new UsernameNotFoundException(&quot;NOT FOUND.&quot;);\n        }\n\n        SiteUser siteUser = _siteUser.get();\n\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        if (&quot;admin&quot;.equals(username)) {\n\n            authorities.add(new SimpleGrantedAuthority(UserType.ADMIN.getValue()));\n        } else {\n            authorities.add(new SimpleGrantedAuthority(UserType.USER.getValue()));\n            }\n\n            return new User(siteUser.getUsername(), siteUser.getPassword(), authorities);\n\n        }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","android","android-animation","game-engine"],"comments":[{"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"score":0,"creation_date":1686873209,"post_id":76367247,"comment_id":134861854,"body_markdown":"What if instead of using a view and animating it through `View.animate()` you use a custom view that draws a rectangle and updates the position using a `ValueAnimator`?\n\n\nSidenote: you can use a ForEach loop instead of the for loop inside the `updateScreen` method. \n\nUse `for (View_Game_Event_Rectangle currentElement : arrayList_GameEventRectangles)`  instead of `for (int currentElement =0; currentElement&lt;arrayList_GameEventRectangles.size(); currentElement++)` and `currentElement` instead of `arrayList_GameEventRectangles.get(currentElement)`","body":"What if instead of using a view and animating it through <code>View.animate()</code> you use a custom view that draws a rectangle and updates the position using a <code>ValueAnimator</code>?   Sidenote: you can use a ForEach loop instead of the for loop inside the <code>updateScreen</code> method.   Use <code>for (View_Game_Event_Rectangle currentElement : arrayList_GameEventRectangles)</code>  instead of <code>for (int currentElement =0; currentElement&lt;arrayList_GameEventRectangles.size(); currentElement++)</code> and <code>currentElement</code> instead of <code>arrayList_GameEventRectangles.get(currentElement)</code>"}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687130891,"creation_date":1686880991,"answer_id":76486533,"question_id":76367247,"body_markdown":"The animation will not display the orange rectangle at every pixel in the path due to Android&#39;s finite frame rate. You may see the rectangle displayed at each pixel for some very specific circumstances, but that will generally not be the case.\r\n\r\nHere is what I suggest:\r\n\r\n1. Divide the animation into three segments: the first from the start position to the right edge of the green rectangle; the second from the right edge of the green rectangle to the left edge of the green rectangle, and the third from the left edge of the green rectangle to the left end of the animation. You can chain these animations together.\r\n\r\n2. If the user clicks the button during the animation that is running in the middle, then it is a &quot;hit&quot;, otherwise, it is a &quot;miss.&quot;\r\n\r\nBy doing it this way, it won&#39;t matter how the orange rectangle gets to the center - skipping pixels or even skipping frames.\r\n\r\nYou can modify the start and stop position of the middle animation to fine tune it if you want such as making the middle animation much smaller if you want the user to try for the center of the green rectangle.\r\n\r\n---\r\n---\r\n\r\nI put together a small app that demonstrates splitting the animation into three segments and three separate animations that look like one animation. (See below.) To do this, I had to use a [LinearInterpolator](https://developer.android.com/reference/android/view/animation/LinearInterpolator) to make the transition seamless. \r\n\r\nYou can try this code out to see if it helps you - it may or may not. You will still be limited by the frame rate of the device (60fps, 90fps, 120fps). This means, that for any length of movement beyond the shortest length, the app will skip pixels. For instance, moving a view 1,000 pixels in 2 seconds for a 60 fps device will show the view 120 times at 8.3 pixel increments (8.3 = 1,000/(2x60)). This assumes a fast device and an excution environment that is not too busy. If the device/emulator is slow or the environment is busy, you will see a varying number of varying gap sizes in the movement.\r\n\r\nYou may want to look at [SurfaceView](https://developer.android.com/reference/android/view/SurfaceView) for drawing the game. I don&#39;t have any real experience with it, but it seems to be used in games and may give you better results. It will get the app off of the main thread and will avoid much the the Android view system that can be slow.\r\n\r\nHere is the code:\r\n\r\n\tpublic class Test2 extends Fragment implements View.OnTouchListener {\r\n\t    private FragmentTestBinding binding;\r\n\r\n\t    // Assume moving rectangle moves from initial position to x = 0.\r\n\t    private float moving_rectangle_full_shift = 0f;\r\n\r\n\t    // The full shift is composed of three shifts\r\n\t    private float moving_rectangle_shift_1 = 0f;\r\n\t    private float moving_rectangle_shift_2 = 0f;\r\n\t    private float moving_rectangle_shift_3 = 0f;\r\n\r\n\t    private final long moving_rectangle_full_shift_duration = 2000L;\r\n\r\n\t    // Each shift will last for a duration proportional to is size relative to the full shift.\r\n\t    // This assumes a linear interpolator for the animation.\r\n\t    private long moving_rectangle_shift_1_duration = 0L;\r\n\t    private long moving_rectangle_shift_2_duration = 0L;\r\n\t    private long moving_rectangle_shift_3_duration = 0L;\r\n\r\n\t    // Set to chain the three animations together.\r\n\t    private final AnimatorSet animatorSet = new AnimatorSet();\r\n\r\n\t    private float lastTransX = 0f;\r\n\t    private int frameCount = 0;\r\n\r\n\t    public Test2() {\r\n\t    }\r\n\r\n\t    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n\t    @Override\r\n\t    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n\t                             Bundle savedInstanceState) {\r\n\t        binding = DataBindingUtil.setContentView(requireActivity(), R.layout.fragment_test);\r\n\t        binding.buttonAction.setOnTouchListener(this);\r\n\t        binding.getRoot().addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\r\n\t            @Override\r\n\t            public void onLayoutChange(View v, int left, int top, int right, int bottom,\r\n\t                                       int oldLeft, int oldTop, int oldRight, int oldBottom) {\r\n\t                binding.getRoot().removeOnLayoutChangeListener(this);\r\n\t                Log.d(&quot;Applog&quot;, String.format(&quot;Target between %d and %d&quot;,\r\n\t                        binding.imageViewTargetRectangle.getLeft()\r\n\t                                - binding.movingRectangle.getLeft(),\r\n\t                        binding.imageViewTargetRectangle.getLeft() -\r\n\t                                binding.imageViewTargetRectangle.getRight()));\r\n\r\n\t                moving_rectangle_full_shift = -binding.movingRectangle.getX();\r\n\t                moving_rectangle_shift_1 = -(-moving_rectangle_full_shift\r\n\t                        - binding.imageViewTargetRectangle.getX()\r\n\t                        - binding.imageViewTargetRectangle.getWidth());\r\n\t                moving_rectangle_shift_1_duration =\r\n\t                        (long) (abs(moving_rectangle_shift_1 / moving_rectangle_full_shift)\r\n\t                                * moving_rectangle_full_shift_duration);\r\n\r\n\t                moving_rectangle_shift_2 = -binding.imageViewTargetRectangle.getWidth();\r\n\t                moving_rectangle_shift_2_duration = (long) (abs(moving_rectangle_shift_2\r\n\t                        / moving_rectangle_full_shift) * moving_rectangle_full_shift_duration);\r\n\r\n\t                moving_rectangle_shift_3 = -binding.imageViewTargetRectangle.getX();\r\n\t                moving_rectangle_shift_3_duration = (long) (abs(moving_rectangle_shift_3\r\n\t                        / moving_rectangle_full_shift) * moving_rectangle_full_shift_duration);\r\n\r\n\t                ObjectAnimator translationAnimatorRight =\r\n\t                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\r\n\t                                moving_rectangle_shift_1);\r\n\t                translationAnimatorRight.setDuration(moving_rectangle_shift_1_duration);\r\n\r\n\t                ObjectAnimator translationAnimatorMiddle =\r\n\t                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\r\n\t                                moving_rectangle_shift_1 + moving_rectangle_shift_2);\r\n\t                translationAnimatorMiddle.setDuration(moving_rectangle_shift_2_duration);\r\n\r\n\t                ObjectAnimator translationAnimatorLeft =\r\n\t                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\r\n\t                                moving_rectangle_full_shift);\r\n\t                translationAnimatorLeft.setDuration(moving_rectangle_shift_3_duration);\r\n\t                animatorSet.playSequentially(\r\n\t                        translationAnimatorRight,\r\n\t                        translationAnimatorMiddle,\r\n\t                        translationAnimatorLeft\r\n\t                );\r\n\r\n\t                // Must use a LinearInterpolator or there will be uneven movement.\r\n\t                animatorSet.setInterpolator(new LinearInterpolator());\r\n\t                animatorSet.addListener(new AnimatorListenerAdapter() {\r\n\t                    @Override\r\n\t                    public void onAnimationEnd(Animator animation) {\r\n\t                        super.onAnimationEnd(animation);\r\n\t                        showStatus(&quot;Total miss!&quot;);\r\n\t                    }\r\n\t                });\r\n\t                translationAnimatorMiddle.addUpdateListener(animation -&gt; {\r\n\t                    float animatedValue = (float) animation.getAnimatedValue();\r\n\t                    Log.d(&quot;Applog&quot;, String.format(&quot;transX = %f delta = %f frame #%d&quot;,\r\n\t                            animatedValue, animatedValue - lastTransX, ++frameCount));\r\n\t                    lastTransX = animatedValue;\r\n\t                });\r\n\t            }\r\n\t        });\r\n\r\n\t        return binding.getRoot();\r\n\t    }\r\n\r\n\t    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n\t    @Override\r\n\t    public boolean onTouch(View v, MotionEvent event) {\r\n\t        if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n\t            if (isAnimation2Running()) {\r\n\t                animatorSet.cancel();\r\n\t                showStatus(&quot;Hit!&quot;);\r\n\t            } else if (isAnimatorSetStarted()) {\r\n\t                animatorSet.cancel();\r\n\t                showStatus(&quot;Miss!&quot;);\r\n\t            } else {\r\n\t                showStatus(&quot;&quot;);\r\n\t                frameCount = 0;\r\n\t                lastTransX = 0;\r\n\t                animatorSet.start();\r\n\t            }\r\n\t        }\r\n\t        return false;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void onDestroyView() {\r\n\t        super.onDestroyView();\r\n\t        binding = null;\r\n\t    }\r\n\r\n\t    private void showStatus(String text) {\r\n\t        binding.status.setText(text);\r\n\t    }\r\n\r\n\t    private boolean isAnimation2Running() {\r\n\t        return animatorSet.getChildAnimations().get(1).isRunning();\r\n\t    }\r\n\r\n\t    private boolean isAnimatorSetStarted() {\r\n\t        return animatorSet.isStarted();\r\n\t    }\r\n\t}\r\n\r\n\t**The layout used:**\r\n\r\n\t&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n\tandroid:id=&quot;@+id/constraintLayout&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\ttools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\t&lt;TextView\r\n\t    android:id=&quot;@+id/status&quot;\r\n\t    android:layout_width=&quot;wrap_content&quot;\r\n\t    android:layout_height=&quot;wrap_content&quot;\r\n\t    android:layout_marginBottom=&quot;16dp&quot;\r\n\t    android:textSize=&quot;18sp&quot;\r\n\t    android:textStyle=&quot;bold&quot;\r\n\t    app:layout_constraintBottom_toTopOf=&quot;@id/imageView_TargetRectangle&quot;\r\n\t    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t    tools:text=&quot;Status goes here&quot; /&gt;\r\n\r\n\t&lt;View\r\n\t    android:id=&quot;@+id/imageView_TargetRectangle&quot;\r\n\t    android:layout_width=&quot;50dp&quot;\r\n\t    android:layout_height=&quot;50dp&quot;\r\n\t    android:background=&quot;@drawable/rectangle&quot;\r\n\t    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\t&lt;View\r\n\t    android:id=&quot;@+id/moving_rectangle&quot;\r\n\t    android:layout_width=&quot;50dp&quot;\r\n\t    android:layout_height=&quot;25dp&quot;\r\n\t    android:background=&quot;@drawable/moving_rectangle&quot;\r\n\t    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\t&lt;Button\r\n\t    android:id=&quot;@+id/button_action&quot;\r\n\t    android:layout_width=&quot;wrap_content&quot;\r\n\t    android:layout_height=&quot;wrap_content&quot;\r\n\t    android:layout_marginTop=&quot;16dp&quot;\r\n\t    android:text=&quot;Action&quot;\r\n\t    app:layout_constraintEnd_toEndOf=&quot;@id/imageView_TargetRectangle&quot;\r\n\t    app:layout_constraintStart_toStartOf=&quot;@id/imageView_TargetRectangle&quot;\r\n\t    app:layout_constraintTop_toBottomOf=&quot;@id/imageView_TargetRectangle&quot; /&gt;\r\n\r\n\t&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YVocs.gif","title":"How to precisely check the position of an animated element in Android with a RepeatListener","body":"<p>The animation will not display the orange rectangle at every pixel in the path due to Android's finite frame rate. You may see the rectangle displayed at each pixel for some very specific circumstances, but that will generally not be the case.</p>\n<p>Here is what I suggest:</p>\n<ol>\n<li><p>Divide the animation into three segments: the first from the start position to the right edge of the green rectangle; the second from the right edge of the green rectangle to the left edge of the green rectangle, and the third from the left edge of the green rectangle to the left end of the animation. You can chain these animations together.</p>\n</li>\n<li><p>If the user clicks the button during the animation that is running in the middle, then it is a &quot;hit&quot;, otherwise, it is a &quot;miss.&quot;</p>\n</li>\n</ol>\n<p>By doing it this way, it won't matter how the orange rectangle gets to the center - skipping pixels or even skipping frames.</p>\n<p>You can modify the start and stop position of the middle animation to fine tune it if you want such as making the middle animation much smaller if you want the user to try for the center of the green rectangle.</p>\n<hr />\n<hr />\n<p>I put together a small app that demonstrates splitting the animation into three segments and three separate animations that look like one animation. (See below.) To do this, I had to use a <a href=\"https://developer.android.com/reference/android/view/animation/LinearInterpolator\" rel=\"nofollow noreferrer\">LinearInterpolator</a> to make the transition seamless.</p>\n<p>You can try this code out to see if it helps you - it may or may not. You will still be limited by the frame rate of the device (60fps, 90fps, 120fps). This means, that for any length of movement beyond the shortest length, the app will skip pixels. For instance, moving a view 1,000 pixels in 2 seconds for a 60 fps device will show the view 120 times at 8.3 pixel increments (8.3 = 1,000/(2x60)). This assumes a fast device and an excution environment that is not too busy. If the device/emulator is slow or the environment is busy, you will see a varying number of varying gap sizes in the movement.</p>\n<p>You may want to look at <a href=\"https://developer.android.com/reference/android/view/SurfaceView\" rel=\"nofollow noreferrer\">SurfaceView</a> for drawing the game. I don't have any real experience with it, but it seems to be used in games and may give you better results. It will get the app off of the main thread and will avoid much the the Android view system that can be slow.</p>\n<p>Here is the code:</p>\n<pre><code>public class Test2 extends Fragment implements View.OnTouchListener {\n    private FragmentTestBinding binding;\n\n    // Assume moving rectangle moves from initial position to x = 0.\n    private float moving_rectangle_full_shift = 0f;\n\n    // The full shift is composed of three shifts\n    private float moving_rectangle_shift_1 = 0f;\n    private float moving_rectangle_shift_2 = 0f;\n    private float moving_rectangle_shift_3 = 0f;\n\n    private final long moving_rectangle_full_shift_duration = 2000L;\n\n    // Each shift will last for a duration proportional to is size relative to the full shift.\n    // This assumes a linear interpolator for the animation.\n    private long moving_rectangle_shift_1_duration = 0L;\n    private long moving_rectangle_shift_2_duration = 0L;\n    private long moving_rectangle_shift_3_duration = 0L;\n\n    // Set to chain the three animations together.\n    private final AnimatorSet animatorSet = new AnimatorSet();\n\n    private float lastTransX = 0f;\n    private int frameCount = 0;\n\n    public Test2() {\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = DataBindingUtil.setContentView(requireActivity(), R.layout.fragment_test);\n        binding.buttonAction.setOnTouchListener(this);\n        binding.getRoot().addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\n            @Override\n            public void onLayoutChange(View v, int left, int top, int right, int bottom,\n                                       int oldLeft, int oldTop, int oldRight, int oldBottom) {\n                binding.getRoot().removeOnLayoutChangeListener(this);\n                Log.d(&quot;Applog&quot;, String.format(&quot;Target between %d and %d&quot;,\n                        binding.imageViewTargetRectangle.getLeft()\n                                - binding.movingRectangle.getLeft(),\n                        binding.imageViewTargetRectangle.getLeft() -\n                                binding.imageViewTargetRectangle.getRight()));\n\n                moving_rectangle_full_shift = -binding.movingRectangle.getX();\n                moving_rectangle_shift_1 = -(-moving_rectangle_full_shift\n                        - binding.imageViewTargetRectangle.getX()\n                        - binding.imageViewTargetRectangle.getWidth());\n                moving_rectangle_shift_1_duration =\n                        (long) (abs(moving_rectangle_shift_1 / moving_rectangle_full_shift)\n                                * moving_rectangle_full_shift_duration);\n\n                moving_rectangle_shift_2 = -binding.imageViewTargetRectangle.getWidth();\n                moving_rectangle_shift_2_duration = (long) (abs(moving_rectangle_shift_2\n                        / moving_rectangle_full_shift) * moving_rectangle_full_shift_duration);\n\n                moving_rectangle_shift_3 = -binding.imageViewTargetRectangle.getX();\n                moving_rectangle_shift_3_duration = (long) (abs(moving_rectangle_shift_3\n                        / moving_rectangle_full_shift) * moving_rectangle_full_shift_duration);\n\n                ObjectAnimator translationAnimatorRight =\n                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\n                                moving_rectangle_shift_1);\n                translationAnimatorRight.setDuration(moving_rectangle_shift_1_duration);\n\n                ObjectAnimator translationAnimatorMiddle =\n                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\n                                moving_rectangle_shift_1 + moving_rectangle_shift_2);\n                translationAnimatorMiddle.setDuration(moving_rectangle_shift_2_duration);\n\n                ObjectAnimator translationAnimatorLeft =\n                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\n                                moving_rectangle_full_shift);\n                translationAnimatorLeft.setDuration(moving_rectangle_shift_3_duration);\n                animatorSet.playSequentially(\n                        translationAnimatorRight,\n                        translationAnimatorMiddle,\n                        translationAnimatorLeft\n                );\n\n                // Must use a LinearInterpolator or there will be uneven movement.\n                animatorSet.setInterpolator(new LinearInterpolator());\n                animatorSet.addListener(new AnimatorListenerAdapter() {\n                    @Override\n                    public void onAnimationEnd(Animator animation) {\n                        super.onAnimationEnd(animation);\n                        showStatus(&quot;Total miss!&quot;);\n                    }\n                });\n                translationAnimatorMiddle.addUpdateListener(animation -&gt; {\n                    float animatedValue = (float) animation.getAnimatedValue();\n                    Log.d(&quot;Applog&quot;, String.format(&quot;transX = %f delta = %f frame #%d&quot;,\n                            animatedValue, animatedValue - lastTransX, ++frameCount));\n                    lastTransX = animatedValue;\n                });\n            }\n        });\n\n        return binding.getRoot();\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            if (isAnimation2Running()) {\n                animatorSet.cancel();\n                showStatus(&quot;Hit!&quot;);\n            } else if (isAnimatorSetStarted()) {\n                animatorSet.cancel();\n                showStatus(&quot;Miss!&quot;);\n            } else {\n                showStatus(&quot;&quot;);\n                frameCount = 0;\n                lastTransX = 0;\n                animatorSet.start();\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    private void showStatus(String text) {\n        binding.status.setText(text);\n    }\n\n    private boolean isAnimation2Running() {\n        return animatorSet.getChildAnimations().get(1).isRunning();\n    }\n\n    private boolean isAnimatorSetStarted() {\n        return animatorSet.isStarted();\n    }\n}\n\n**The layout used:**\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nandroid:id=&quot;@+id/constraintLayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/status&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:textSize=&quot;18sp&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/imageView_TargetRectangle&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    tools:text=&quot;Status goes here&quot; /&gt;\n\n&lt;View\n    android:id=&quot;@+id/imageView_TargetRectangle&quot;\n    android:layout_width=&quot;50dp&quot;\n    android:layout_height=&quot;50dp&quot;\n    android:background=&quot;@drawable/rectangle&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;View\n    android:id=&quot;@+id/moving_rectangle&quot;\n    android:layout_width=&quot;50dp&quot;\n    android:layout_height=&quot;25dp&quot;\n    android:background=&quot;@drawable/moving_rectangle&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button_action&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:text=&quot;Action&quot;\n    app:layout_constraintEnd_toEndOf=&quot;@id/imageView_TargetRectangle&quot;\n    app:layout_constraintStart_toStartOf=&quot;@id/imageView_TargetRectangle&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/imageView_TargetRectangle&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YVocs.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVocs.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687130891,"creation_date":1685467647,"question_id":76367247,"body_markdown":"I want to develop a small game where an orange rectangle is animated from the right to the left on the display and when it is in the middle (green rectangle) the user should press a button and gets points if he/she succeeds (see Screenshot):\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code of the game class\r\n\r\n    public class Test extends Fragment implements View.OnClickListener {\r\n    \r\n    \r\n        /*\r\n        Game variables\r\n         */\r\n    \r\n        public static final int DELAY_IN_MILLIS = 100;\r\n        ArrayList&lt;View_Game_Event_Rectangle&gt; arrayList_GameEventRectangles;\r\n        private int currentTimeSlot;\r\n        private boolean gameIsRunning;\r\n        private Handler handler = new Handler();\r\n        private int timeslotsEventElementUntilTheMiddleOfTheScreen_Level1 = (int)(5.0 * (1000.0/DELAY_IN_MILLIS));\r\n        private int numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 = 5000;\r\n    \r\n        //Fix parameters of the UI elements\r\n        private float horizontalPercentageOfScoreRectangle_End = 0.491f;\r\n        private float horizontalPercentageOfScoreRectangle_Start = 0.567f;\r\n        private float verticalBiasOfEventElementToBeInTheLine = 0.049f;\r\n        private float percentageHeightOfEventElement = 0.071f;\r\n    \r\n    \r\n        int widthDisplay;\r\n        int heightDisplay;\r\n        int helpCounterRun =0;\r\n        int helpCounterUpdateScreen =0;\r\n        int helpCounterCountDownTime =0;\r\n    \r\n        private FragmentTestBinding binding;\r\n        private ConstraintLayout constraintLayout;\r\n        ConstraintSet constraintSet ;\r\n    \r\n        //Variables for the single view event\r\n        View_Game_Event_Rectangle[] viewEvent;\r\n    \r\n        private boolean fragmentViewHasBeenCreated = false;\r\n        private CountDownTimer cdt;\r\n        private  final long DURATION = 900000L;\r\n        private  final long DELAY_COUNT_DOWN_TIMER = 100;\r\n    \r\n        private int numberOfTimeSlotsUntilTheEndOfScreen = (int)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 2/(DELAY_COUNT_DOWN_TIMER));\r\n        private int currentLevel;\r\n        public Test() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            arrayList_GameEventRectangles = new ArrayList&lt;View_Game_Event_Rectangle&gt;();\r\n            currentLevel = 1;\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTestBinding.inflate(inflater, container, false);\r\n    \r\n            WindowManager wm = (WindowManager) getActivity().getWindowManager();\r\n            Display display = wm.getDefaultDisplay();\r\n            Point size = new Point();\r\n            display.getSize(size);\r\n            widthDisplay = size.x;\r\n            heightDisplay = size.y;\r\n            container.getContext();\r\n            constraintLayout= binding.constraintLayout;\r\n    \r\n            // Define and registrate RepeatListener on the heat button\r\n    \r\n            binding.buttonAction.setOnTouchListener((View.OnTouchListener) new RepeatListener(1, 1, new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    // the code to execute repeatedly\r\n                    checkPositionsOfActiveElements();\r\n                    }\r\n                }\r\n            ));\r\n    \r\n    \r\n            fragmentViewHasBeenCreated = true;\r\n            getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n            constraintLayout = binding.constraintLayout;\r\n            constraintSet = new ConstraintSet();\r\n            startGame();\r\n            return binding.getRoot();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n    \r\n        }\r\n    \r\n    \r\n        public void startGame () {\r\n            gameIsRunning = true;\r\n            Log.e(&quot;LogTag_El&quot;, &quot;-------Start Game------&quot; );\r\n    \r\n            //Create rectangle-element that should be animated from the right to the left on the screen\r\n            arrayList_GameEventRectangles.add(new View_Game_Event_Rectangle(getActivity(), &quot;Bulb Rectangle&quot;, 100, 20));\r\n            countDownTime();\r\n        }\r\n    \r\n    \r\n        private void updateScreen() {\r\n    \r\n            for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\r\n    \r\n                //Create view and set\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 50) {\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setActive(true);\r\n    \r\n    \r\n                    //Set the parameters and the backgrund of the view element\r\n                    arrayList_GameEventRectangles.get(currentElement).setLayoutParams(new ViewGroup.LayoutParams(0, 0));\r\n    \r\n                    if(arrayList_GameEventRectangles.get(currentElement).getEventType().equals(&quot;Bulb Rectangle&quot;)) {\r\n                        arrayList_GameEventRectangles.get(currentElement).setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_bulb_1).mutate());\r\n                    }\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setId(View.generateViewId());\r\n    \r\n                    //Make the view invisible (before it&#39;s appearence time)\r\n                    arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(0);\r\n    \r\n                    // Set the ConstraintLayout programatically for the view\r\n                    constraintLayout.addView(arrayList_GameEventRectangles.get(currentElement));\r\n                    constraintSet.clone(constraintLayout);\r\n                    constraintSet.constrainPercentHeight(arrayList_GameEventRectangles.get(currentElement).getId(), percentageHeightOfEventElement);\r\n    \r\n                    float widthConstrainPercentage_element1 = (float)(arrayList_GameEventRectangles.get(currentElement).getDuration() / 100.0);\r\n                    float duration = arrayList_GameEventRectangles.get(currentElement).getDuration();\r\n    \r\n                    constraintSet.constrainPercentWidth(arrayList_GameEventRectangles.get(currentElement).getId(), widthConstrainPercentage_element1);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID,ConstraintSet.BOTTOM,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.TOP,ConstraintSet.PARENT_ID ,ConstraintSet.TOP,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.LEFT,ConstraintSet.PARENT_ID ,ConstraintSet.LEFT,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.RIGHT,ConstraintSet.PARENT_ID ,ConstraintSet.RIGHT,0);\r\n    \r\n                    float horizontalBias = 1.0f ;\r\n                    constraintSet.setHorizontalBias(arrayList_GameEventRectangles.get(currentElement).getId(), horizontalBias);\r\n                    constraintSet.setVerticalBias(arrayList_GameEventRectangles.get(currentElement).getId(), verticalBiasOfEventElementToBeInTheLine);\r\n                    constraintSet.applyTo(constraintLayout);\r\n    \r\n                }\r\n    \r\n    \r\n                //Shift the view to the right border of the display\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 40) {\r\n                    arrayList_GameEventRectangles.get(currentElement).setTranslationX(arrayList_GameEventRectangles.get(currentElement).getWidth());\r\n                }\r\n    \r\n    \r\n                //Animate view element\r\n                if (currentTimeSlot ==arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot()) {\r\n                    arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(255);\r\n                    long durationForTheAnimation = (long)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 1);\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).animate().setDuration(durationForTheAnimation).translationX(widthDisplay*(-1)).start();\r\n    \r\n                }\r\n                helpCounterUpdateScreen++;\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private void countDownTime(){\r\n    \r\n            cdt = new CountDownTimer(DURATION, DELAY_COUNT_DOWN_TIMER) {\r\n                boolean delay = true;\r\n                public void onTick(long millisUntilFinished) {\r\n                    if(delay) {\r\n                        delay = false;\r\n                    } else {\r\n    \r\n                        helpCounterCountDownTime++;\r\n                        currentTimeSlot++;\r\n    \r\n                        updateScreen();\r\n                        delay = true;\r\n                    }\r\n                }\r\n                public void onFinish() {\r\n                    updateScreen();\r\n                }\r\n            }.start();\r\n    \r\n        }\r\n    \r\n        public void checkPositionsOfActiveElements () {\r\n            for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\r\n                //Check if the view is still running\r\n                if (arrayList_GameEventRectangles.get(currentElement).isActive() == true &amp;&amp; currentElement==0) {\r\n                    Log.e(&quot;LogTag_FGa_CP&quot;, &quot;currentTimeSlot: &quot; + currentTimeSlot);\r\n                    Log.e(&quot;LogTag_FGa_CP&quot;, &quot;currentElement.getX(): &quot; + arrayList_GameEventRectangles.get(currentElement).getX());\r\n    \r\n                    //int[] location = arrayList_GameEventRectangles.get(currentElement).getLocationOnScreen(location);\r\n                    \r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n    \r\n            // Reset your variable to false\r\n            fragmentViewHasBeenCreated = false;\r\n    \r\n            // And clean up any postDelayed callbacks that are waiting to fire\r\n            cdt.cancel();\r\n            handler.removeCallbacksAndMessages(null);\r\n        }\r\n    }\r\n\r\nAnd here is the XML-layout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/constraintLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n    \r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;View\r\n            android:id=&quot;@+id/imageView_TargetRectangle&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n    \r\n    \r\n            android:background=&quot;@drawable/rectangle&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    \r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.16&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.535&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.01&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.10&quot; /&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_action&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:text=&quot;Action&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.102&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.373&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.745&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.13&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nHere is the output when I hold the action button pressed while the orange rectanlge is visible:\r\n\r\n    2023-05-30 19:09:23.292 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1634.5706\r\n    2023-05-30 19:09:23.312 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.313 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1625.5212\r\n    2023-05-30 19:09:23.344 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.344 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1615.8167\r\n    2023-05-30 19:09:23.359 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.359 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1596.7167\r\n    2023-05-30 19:09:23.376 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.376 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1586.7451\r\n    2023-05-30 19:09:23.393 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.393 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1576.6847\r\n    2023-05-30 19:09:23.410 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.410 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1567.1366\r\n    2023-05-30 19:09:23.427 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.427 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1556.908\r\n    2023-05-30 19:09:23.442 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.442 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1547.2031\r\n    2023-05-30 19:09:23.459 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.459 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1536.8103\r\n    2023-05-30 19:09:23.475 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.475 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1526.3347\r\n    2023-05-30 19:09:23.493 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.493 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1515.7773\r\n    2023-05-30 19:09:23.510 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.510 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1505.7678\r\n\r\nAs you can see the output does not precisely give me the exact location of the orange rectangle because even with 1 millisecond (the lowest) in the RepeatListener, I get the location values: 1634, 1625, 1615, 1596 etc. What I actually want is to also return values from the `checkPositionsOfActiveElements` method when the orange rectangle is at 1634, 1633, 1632, 1631, 1630. With my current approach, I just get imprecise discrete values. But I don&#39;t get the values of the location between the outputed discrete positions. My question is what I can do in order to get the precise location of the orange rectanlge while it is visible such that I can archieve my aim of determining if the orange rectangle was within the green one when the action button was pressed. With the current approach I can&#39;t because of the imprecise nature of the location reporting. \r\n\r\n\r\n**Reminder**: My bounty is about to expire within one day. So please, if you have any idea, I&#39;ll be very very thankful if you could share it with me.\r\n\r\n\r\n\r\n[1]: https://i.stack.imgur.com/lnhDX.png","title":"How to precisely check the position of an animated element in Android with a RepeatListener","body":"<p>I want to develop a small game where an orange rectangle is animated from the right to the left on the display and when it is in the middle (green rectangle) the user should press a button and gets points if he/she succeeds (see Screenshot):\n<a href=\"https://i.stack.imgur.com/lnhDX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lnhDX.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code of the game class</p>\n<pre><code>public class Test extends Fragment implements View.OnClickListener {\n\n\n    /*\n    Game variables\n     */\n\n    public static final int DELAY_IN_MILLIS = 100;\n    ArrayList&lt;View_Game_Event_Rectangle&gt; arrayList_GameEventRectangles;\n    private int currentTimeSlot;\n    private boolean gameIsRunning;\n    private Handler handler = new Handler();\n    private int timeslotsEventElementUntilTheMiddleOfTheScreen_Level1 = (int)(5.0 * (1000.0/DELAY_IN_MILLIS));\n    private int numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 = 5000;\n\n    //Fix parameters of the UI elements\n    private float horizontalPercentageOfScoreRectangle_End = 0.491f;\n    private float horizontalPercentageOfScoreRectangle_Start = 0.567f;\n    private float verticalBiasOfEventElementToBeInTheLine = 0.049f;\n    private float percentageHeightOfEventElement = 0.071f;\n\n\n    int widthDisplay;\n    int heightDisplay;\n    int helpCounterRun =0;\n    int helpCounterUpdateScreen =0;\n    int helpCounterCountDownTime =0;\n\n    private FragmentTestBinding binding;\n    private ConstraintLayout constraintLayout;\n    ConstraintSet constraintSet ;\n\n    //Variables for the single view event\n    View_Game_Event_Rectangle[] viewEvent;\n\n    private boolean fragmentViewHasBeenCreated = false;\n    private CountDownTimer cdt;\n    private  final long DURATION = 900000L;\n    private  final long DELAY_COUNT_DOWN_TIMER = 100;\n\n    private int numberOfTimeSlotsUntilTheEndOfScreen = (int)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 2/(DELAY_COUNT_DOWN_TIMER));\n    private int currentLevel;\n    public Test() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        arrayList_GameEventRectangles = new ArrayList&lt;View_Game_Event_Rectangle&gt;();\n        currentLevel = 1;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTestBinding.inflate(inflater, container, false);\n\n        WindowManager wm = (WindowManager) getActivity().getWindowManager();\n        Display display = wm.getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        widthDisplay = size.x;\n        heightDisplay = size.y;\n        container.getContext();\n        constraintLayout= binding.constraintLayout;\n\n        // Define and registrate RepeatListener on the heat button\n\n        binding.buttonAction.setOnTouchListener((View.OnTouchListener) new RepeatListener(1, 1, new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // the code to execute repeatedly\n                checkPositionsOfActiveElements();\n                }\n            }\n        ));\n\n\n        fragmentViewHasBeenCreated = true;\n        getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n        constraintLayout = binding.constraintLayout;\n        constraintSet = new ConstraintSet();\n        startGame();\n        return binding.getRoot();\n    }\n\n\n    @Override\n    public void onClick(View view) {\n\n    }\n\n\n    public void startGame () {\n        gameIsRunning = true;\n        Log.e(&quot;LogTag_El&quot;, &quot;-------Start Game------&quot; );\n\n        //Create rectangle-element that should be animated from the right to the left on the screen\n        arrayList_GameEventRectangles.add(new View_Game_Event_Rectangle(getActivity(), &quot;Bulb Rectangle&quot;, 100, 20));\n        countDownTime();\n    }\n\n\n    private void updateScreen() {\n\n        for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\n\n            //Create view and set\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 50) {\n\n                arrayList_GameEventRectangles.get(currentElement).setActive(true);\n\n\n                //Set the parameters and the backgrund of the view element\n                arrayList_GameEventRectangles.get(currentElement).setLayoutParams(new ViewGroup.LayoutParams(0, 0));\n\n                if(arrayList_GameEventRectangles.get(currentElement).getEventType().equals(&quot;Bulb Rectangle&quot;)) {\n                    arrayList_GameEventRectangles.get(currentElement).setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_bulb_1).mutate());\n                }\n\n                arrayList_GameEventRectangles.get(currentElement).setId(View.generateViewId());\n\n                //Make the view invisible (before it's appearence time)\n                arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(0);\n\n                // Set the ConstraintLayout programatically for the view\n                constraintLayout.addView(arrayList_GameEventRectangles.get(currentElement));\n                constraintSet.clone(constraintLayout);\n                constraintSet.constrainPercentHeight(arrayList_GameEventRectangles.get(currentElement).getId(), percentageHeightOfEventElement);\n\n                float widthConstrainPercentage_element1 = (float)(arrayList_GameEventRectangles.get(currentElement).getDuration() / 100.0);\n                float duration = arrayList_GameEventRectangles.get(currentElement).getDuration();\n\n                constraintSet.constrainPercentWidth(arrayList_GameEventRectangles.get(currentElement).getId(), widthConstrainPercentage_element1);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID,ConstraintSet.BOTTOM,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.TOP,ConstraintSet.PARENT_ID ,ConstraintSet.TOP,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.LEFT,ConstraintSet.PARENT_ID ,ConstraintSet.LEFT,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.RIGHT,ConstraintSet.PARENT_ID ,ConstraintSet.RIGHT,0);\n\n                float horizontalBias = 1.0f ;\n                constraintSet.setHorizontalBias(arrayList_GameEventRectangles.get(currentElement).getId(), horizontalBias);\n                constraintSet.setVerticalBias(arrayList_GameEventRectangles.get(currentElement).getId(), verticalBiasOfEventElementToBeInTheLine);\n                constraintSet.applyTo(constraintLayout);\n\n            }\n\n\n            //Shift the view to the right border of the display\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 40) {\n                arrayList_GameEventRectangles.get(currentElement).setTranslationX(arrayList_GameEventRectangles.get(currentElement).getWidth());\n            }\n\n\n            //Animate view element\n            if (currentTimeSlot ==arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot()) {\n                arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(255);\n                long durationForTheAnimation = (long)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 1);\n\n                arrayList_GameEventRectangles.get(currentElement).animate().setDuration(durationForTheAnimation).translationX(widthDisplay*(-1)).start();\n\n            }\n            helpCounterUpdateScreen++;\n\n        }\n\n    }\n\n    private void countDownTime(){\n\n        cdt = new CountDownTimer(DURATION, DELAY_COUNT_DOWN_TIMER) {\n            boolean delay = true;\n            public void onTick(long millisUntilFinished) {\n                if(delay) {\n                    delay = false;\n                } else {\n\n                    helpCounterCountDownTime++;\n                    currentTimeSlot++;\n\n                    updateScreen();\n                    delay = true;\n                }\n            }\n            public void onFinish() {\n                updateScreen();\n            }\n        }.start();\n\n    }\n\n    public void checkPositionsOfActiveElements () {\n        for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\n            //Check if the view is still running\n            if (arrayList_GameEventRectangles.get(currentElement).isActive() == true &amp;&amp; currentElement==0) {\n                Log.e(&quot;LogTag_FGa_CP&quot;, &quot;currentTimeSlot: &quot; + currentTimeSlot);\n                Log.e(&quot;LogTag_FGa_CP&quot;, &quot;currentElement.getX(): &quot; + arrayList_GameEventRectangles.get(currentElement).getX());\n\n                //int[] location = arrayList_GameEventRectangles.get(currentElement).getLocationOnScreen(location);\n                \n            }\n        }\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        // Reset your variable to false\n        fragmentViewHasBeenCreated = false;\n\n        // And clean up any postDelayed callbacks that are waiting to fire\n        cdt.cancel();\n        handler.removeCallbacksAndMessages(null);\n    }\n}\n</code></pre>\n<p>And here is the XML-layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/constraintLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/imageView_TargetRectangle&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n\n\n        android:background=&quot;@drawable/rectangle&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHeight_percent=&quot;0.16&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.535&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.01&quot;\n        app:layout_constraintWidth_percent=&quot;0.10&quot; /&gt;\n\n\n\n\n    &lt;Button\n        android:id=&quot;@+id/button_action&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:text=&quot;Action&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHeight_percent=&quot;0.102&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.373&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.745&quot;\n        app:layout_constraintWidth_percent=&quot;0.13&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Here is the output when I hold the action button pressed while the orange rectanlge is visible:</p>\n<pre><code>2023-05-30 19:09:23.292 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1634.5706\n2023-05-30 19:09:23.312 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.313 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1625.5212\n2023-05-30 19:09:23.344 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.344 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1615.8167\n2023-05-30 19:09:23.359 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.359 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1596.7167\n2023-05-30 19:09:23.376 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.376 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1586.7451\n2023-05-30 19:09:23.393 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.393 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1576.6847\n2023-05-30 19:09:23.410 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.410 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1567.1366\n2023-05-30 19:09:23.427 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.427 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1556.908\n2023-05-30 19:09:23.442 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.442 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1547.2031\n2023-05-30 19:09:23.459 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.459 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1536.8103\n2023-05-30 19:09:23.475 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.475 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1526.3347\n2023-05-30 19:09:23.493 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.493 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1515.7773\n2023-05-30 19:09:23.510 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.510 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1505.7678\n</code></pre>\n<p>As you can see the output does not precisely give me the exact location of the orange rectangle because even with 1 millisecond (the lowest) in the RepeatListener, I get the location values: 1634, 1625, 1615, 1596 etc. What I actually want is to also return values from the <code>checkPositionsOfActiveElements</code> method when the orange rectangle is at 1634, 1633, 1632, 1631, 1630. With my current approach, I just get imprecise discrete values. But I don't get the values of the location between the outputed discrete positions. My question is what I can do in order to get the precise location of the orange rectanlge while it is visible such that I can archieve my aim of determining if the orange rectangle was within the green one when the action button was pressed. With the current approach I can't because of the imprecise nature of the location reporting.</p>\n<p><strong>Reminder</strong>: My bounty is about to expire within one day. So please, if you have any idea, I'll be very very thankful if you could share it with me.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9631,"page":361,"page_size":100}
