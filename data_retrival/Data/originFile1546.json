{"items":[{"tags":["java","android","kotlin","mvvm","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":17371572,"reputation":187,"user_id":16892850,"display_name":"GigaCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646326495,"creation_date":1646326495,"answer_id":71340847,"question_id":71328718,"body_markdown":"I found the solution myself. This was missing.\r\n```\r\n    implementation &#39;androidx.room:room-runtime:2.5.0-alpha01&#39;\r\n```","title":"cannot find implementation for RoomDatabase while injecting ViewModel into Fragment with Factory","body":"<p>I found the solution myself. This was missing.</p>\n<pre><code>    implementation 'androidx.room:room-runtime:2.5.0-alpha01'\n</code></pre>\n"}],"owner":{"account_id":17371572,"reputation":187,"user_id":16892850,"display_name":"GigaCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71340847,"answer_count":1,"score":0,"last_activity_date":1646326495,"creation_date":1646252655,"question_id":71328718,"body_markdown":"I am struggling with viewmodel injection. I have been following tutorials and changed the code a little bit in order to adjust it to my needs, but the app crashes.&lt;br&gt; \r\nI have `App` class holding my DaggerComponent with it&#39;s modules. Inside it&#39;s onCreate I have: &lt;br&gt; &lt;br&gt;\r\n`component = DaggerAppComponent.builder().daoModule(DaoModule(this)).build()\r\n`\r\n\r\nMy AppModule:\r\n\r\n```\r\n@Singleton\r\n@Component(modules = [DaoModule::class, ViewModelModule::class])\r\n\r\ninterface AppComponent {\r\n\r\n    val factory: ViewModelFactory\r\n}\r\n```\r\nViewModelModule :\r\n```\r\n@Module\r\nabstract class ViewModelModule {\r\n\r\n    @Binds\r\n    @Singleton\r\n    abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\r\n\r\n    @Binds\r\n    @Singleton\r\n    @IntoMap\r\n    @ViewModelKey(TaskViewModel::class)\r\n    abstract fun splashViewModel(viewModel: TaskViewModel): ViewModel\r\n\r\n}\r\n```\r\n\r\nMyFactory:\r\n\r\n```\r\n@Singleton\r\nclass ViewModelFactory @Inject constructor(\r\n    private val viewModels: MutableMap&lt;Class&lt;out ViewModel&gt;,\r\n            @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\r\n) : ViewModelProvider.Factory {\r\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T =\r\n        viewModels[modelClass]?.get() as T\r\n}\r\n\r\n```\r\n\r\nI used here ViewModelKey, ViewModelModule and Factory, and Fragment extension function to perform Fragment viewmodel injection. I found it  online and used it succesfuly on previous projects. This is my util function:\r\n\r\n```\r\n@MainThread\r\ninline fun &lt;reified VM : ViewModel&gt; Fragment.daggerViewModels(\r\n    noinline ownerProducer: () -&gt; ViewModelStoreOwner = { this }\r\n) = createViewModelLazy(\r\n    VM::class,\r\n    { ownerProducer().viewModelStore },\r\n    { App.component.factory }\r\n    )\r\n```\r\n\r\nAnd my DaoModule. \r\n\r\n```\r\n@Module\r\nclass DaoModule(private val app: Application) {\r\n\r\n    @Provides\r\n    @Singleton\r\n    fun getDB(): TaskDatabase = TaskDatabase.getAppDatabase(context())\r\n\r\n    @Provides\r\n    @Singleton\r\n    fun context(): Context = app.applicationContext\r\n\r\n    @Provides\r\n    fun  gettaskDao(taskDatabase: TaskDatabase) : TaskDao = taskDatabase.TaskDao()\r\n\r\n}\r\n```\r\nMy entity:\r\n\r\n```\r\n@Entity(tableName = &quot;userinfo&quot;)\r\ndata class Task(\r\n    @PrimaryKey(autoGenerate = true) @ColumnInfo(name = &quot;id&quot;) val id: Int = 0,\r\n    @ColumnInfo(name = &quot;name&quot;) val name: String,\r\n    @ColumnInfo(name = &quot;email&quot;) val email: String,\r\n    @ColumnInfo(name = &quot;phone&quot;) val phone: String?\r\n)\r\n```\r\n\r\nMy TaskDatabase as follows:\r\n\r\n```\r\n@Database(entities = [Task::class], version = 1)\r\nabstract class TaskDatabase : RoomDatabase() {\r\n\r\n    abstract fun TaskDao(): TaskDao\r\n\r\n    companion object {\r\n        private var INSTANCE: TaskDatabase? = null\r\n\r\n        fun getAppDatabase(context: Context): TaskDatabase {\r\n\r\n            if (INSTANCE == null) {\r\n                INSTANCE = Room.databaseBuilder(\r\n                    context.applicationContext, TaskDatabase::class.java, &quot;AppDBB&quot;\r\n                )\r\n                    .allowMainThreadQueries()\r\n                    .build()\r\n            }\r\n            return INSTANCE!!\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nMy Dao interface.\r\n\r\n```\r\n@Dao\r\ninterface TaskDao {\r\n\r\n\r\n    @Query(&quot;SELECT * FROM userinfo&quot;)\r\n    fun getAllTaskInfo(): List&lt;Task&gt;?\r\n\r\n    @Insert\r\n    fun insertTask(user: Task?)\r\n\r\n    @Delete\r\n    fun deleteTask(user: Task?)\r\n\r\n    @Update\r\n    fun updateTask(user: Task?)\r\n\r\n}\r\n```\r\n\r\nAnd now I have a logic to init my TaskViewModel inside my Fragment and attach observer to my Task List. However the app crashes.\r\n\r\nInside my fragment I have:\r\n\r\n`    val viewModel: TaskViewModel by daggerViewModels { requireActivity() } ` \r\nand also:\r\n```\r\n        DaggerFragmentComponent\r\n            .builder()\r\n            .appComponent((requireActivity().application as App).getAppComponent())\r\n            .build()\r\n            .inject(this)\r\n\r\n        viewModel.allTaskList.observe(viewLifecycleOwner) {\r\n         //   textView.text = it.toString()\r\n        }\r\n\r\n\r\n```\r\n\r\nand my TaskViewModel class is as follows:\r\n\r\n```\r\nclass TaskViewModel @Inject constructor(var taskDao: TaskDao) : ViewModel() {\r\n\r\n    private var _allTaskList = MutableLiveData&lt;List&lt;Task&gt;&gt;()\r\n    val allTaskList = _allTaskList as LiveData&lt;List&lt;Task&gt;&gt;\r\n\r\n    init {\r\n      \r\n        getAllRecords()\r\n    }\r\n    \r\n    private fun getAllRecords() = _allTaskList.postValue(taskDao.getAllTaskInfo())\r\n\r\n    fun insertTask(task: Task) {\r\n        taskDao.insertTask(task)\r\n        getAllRecords()\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow I understand that this is A LOT of code, but can somebody help me figure this out? The dagger sees it&#39;s graph as I can build the project, so all the dependencies are provided. What I did wrong here? My logcat:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WmttF.png","title":"cannot find implementation for RoomDatabase while injecting ViewModel into Fragment with Factory","body":"<p>I am struggling with viewmodel injection. I have been following tutorials and changed the code a little bit in order to adjust it to my needs, but the app crashes.<br>\nI have <code>App</code> class holding my DaggerComponent with it's modules. Inside it's onCreate I have: <br> <br>\n<code>component = DaggerAppComponent.builder().daoModule(DaoModule(this)).build() </code></p>\n<p>My AppModule:</p>\n<pre><code>@Singleton\n@Component(modules = [DaoModule::class, ViewModelModule::class])\n\ninterface AppComponent {\n\n    val factory: ViewModelFactory\n}\n</code></pre>\n<p>ViewModelModule :</p>\n<pre><code>@Module\nabstract class ViewModelModule {\n\n    @Binds\n    @Singleton\n    abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n\n    @Binds\n    @Singleton\n    @IntoMap\n    @ViewModelKey(TaskViewModel::class)\n    abstract fun splashViewModel(viewModel: TaskViewModel): ViewModel\n\n}\n</code></pre>\n<p>MyFactory:</p>\n<pre><code>@Singleton\nclass ViewModelFactory @Inject constructor(\n    private val viewModels: MutableMap&lt;Class&lt;out ViewModel&gt;,\n            @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\n) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T =\n        viewModels[modelClass]?.get() as T\n}\n\n</code></pre>\n<p>I used here ViewModelKey, ViewModelModule and Factory, and Fragment extension function to perform Fragment viewmodel injection. I found it  online and used it succesfuly on previous projects. This is my util function:</p>\n<pre><code>@MainThread\ninline fun &lt;reified VM : ViewModel&gt; Fragment.daggerViewModels(\n    noinline ownerProducer: () -&gt; ViewModelStoreOwner = { this }\n) = createViewModelLazy(\n    VM::class,\n    { ownerProducer().viewModelStore },\n    { App.component.factory }\n    )\n</code></pre>\n<p>And my DaoModule.</p>\n<pre><code>@Module\nclass DaoModule(private val app: Application) {\n\n    @Provides\n    @Singleton\n    fun getDB(): TaskDatabase = TaskDatabase.getAppDatabase(context())\n\n    @Provides\n    @Singleton\n    fun context(): Context = app.applicationContext\n\n    @Provides\n    fun  gettaskDao(taskDatabase: TaskDatabase) : TaskDao = taskDatabase.TaskDao()\n\n}\n</code></pre>\n<p>My entity:</p>\n<pre><code>@Entity(tableName = &quot;userinfo&quot;)\ndata class Task(\n    @PrimaryKey(autoGenerate = true) @ColumnInfo(name = &quot;id&quot;) val id: Int = 0,\n    @ColumnInfo(name = &quot;name&quot;) val name: String,\n    @ColumnInfo(name = &quot;email&quot;) val email: String,\n    @ColumnInfo(name = &quot;phone&quot;) val phone: String?\n)\n</code></pre>\n<p>My TaskDatabase as follows:</p>\n<pre><code>@Database(entities = [Task::class], version = 1)\nabstract class TaskDatabase : RoomDatabase() {\n\n    abstract fun TaskDao(): TaskDao\n\n    companion object {\n        private var INSTANCE: TaskDatabase? = null\n\n        fun getAppDatabase(context: Context): TaskDatabase {\n\n            if (INSTANCE == null) {\n                INSTANCE = Room.databaseBuilder(\n                    context.applicationContext, TaskDatabase::class.java, &quot;AppDBB&quot;\n                )\n                    .allowMainThreadQueries()\n                    .build()\n            }\n            return INSTANCE!!\n        }\n    }\n}\n\n</code></pre>\n<p>My Dao interface.</p>\n<pre><code>@Dao\ninterface TaskDao {\n\n\n    @Query(&quot;SELECT * FROM userinfo&quot;)\n    fun getAllTaskInfo(): List&lt;Task&gt;?\n\n    @Insert\n    fun insertTask(user: Task?)\n\n    @Delete\n    fun deleteTask(user: Task?)\n\n    @Update\n    fun updateTask(user: Task?)\n\n}\n</code></pre>\n<p>And now I have a logic to init my TaskViewModel inside my Fragment and attach observer to my Task List. However the app crashes.</p>\n<p>Inside my fragment I have:</p>\n<p><code>   val viewModel: TaskViewModel by daggerViewModels { requireActivity() }</code>\nand also:</p>\n<pre><code>        DaggerFragmentComponent\n            .builder()\n            .appComponent((requireActivity().application as App).getAppComponent())\n            .build()\n            .inject(this)\n\n        viewModel.allTaskList.observe(viewLifecycleOwner) {\n         //   textView.text = it.toString()\n        }\n\n\n</code></pre>\n<p>and my TaskViewModel class is as follows:</p>\n<pre><code>class TaskViewModel @Inject constructor(var taskDao: TaskDao) : ViewModel() {\n\n    private var _allTaskList = MutableLiveData&lt;List&lt;Task&gt;&gt;()\n    val allTaskList = _allTaskList as LiveData&lt;List&lt;Task&gt;&gt;\n\n    init {\n      \n        getAllRecords()\n    }\n    \n    private fun getAllRecords() = _allTaskList.postValue(taskDao.getAllTaskInfo())\n\n    fun insertTask(task: Task) {\n        taskDao.insertTask(task)\n        getAllRecords()\n    }\n}\n\n</code></pre>\n<p>Now I understand that this is A LOT of code, but can somebody help me figure this out? The dagger sees it's graph as I can build the project, so all the dependencies are provided. What I did wrong here? My logcat:</p>\n<p><a href=\"https://i.stack.imgur.com/WmttF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WmttF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","cookies","httpclient","java-11"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1636036716,"creation_date":1636027107,"answer_id":69838878,"question_id":69837157,"body_markdown":"The solution is below using a proper CookieManager instead of hardcoding a header:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n            CookieHandler.setDefault(new CookieManager());\r\n    \r\n            HttpCookie sessionCookie = new HttpCookie(&quot;session&quot;, &quot;53616c7465645f5f9d467d3ae831ec1b1e7289ef45d256224786e1ed13&quot;);\r\n            sessionCookie.setPath(&quot;/&quot;);\r\n            sessionCookie.setVersion(0);\r\n    \r\n            ((CookieManager) CookieHandler.getDefault()).getCookieStore().add(new URI(&quot;https://adventofcode.com&quot;),\r\n                    sessionCookie);\r\n    \r\n            HttpClient client = HttpClient.newBuilder()\r\n                    .cookieHandler(CookieHandler.getDefault())\r\n                    .connectTimeout(Duration.ofSeconds(10))\r\n                    .build();\r\n    \r\n            HttpRequest req = HttpRequest.newBuilder()\r\n                    .uri(URI.create(&quot;https://adventofcode.com/2020/day/1/input&quot;))\r\n                    .GET().build();\r\n    \r\n    \r\n            System.out.println(client.send(req, HttpResponse.BodyHandlers.ofString()).body());\r\n    \r\n        }\r\n\r\n\r\n\r\n`sessionCookie.setPath(&quot;/&quot;);`  **Important**:  Java has CookieFilter which actually matches request URI Path, vs Cookie Path. \r\n\r\n`sessionCookie.setVersion(0);` **Important**:  This site does not like Version 1 (Default in HttpCookie, which complies with RFC 2965/2109)\r\n\r\nVersion 0 complies with the original Netscape cookie and AdventOfCode likes it.\r\n\r\nThe difference between the Version 0 and Version 1 is how the Cookie will look like:\r\n\r\nVersion 0:\r\n\r\n    INFO: HEADERS: HEADERS FRAME (stream=1)\r\n        :authority: adventofcode.com\r\n        :method: GET\r\n        :path: /2020/day/1/input\r\n        :scheme: https\r\n        Cookie: session=53616c7465645f5f9d467....\r\n        User-Agent: Java-http-client/11.0.7\r\n\r\n\r\n\r\nVersion 1: \r\n\r\n    INFO: HEADERS: HEADERS FRAME (stream=1)\r\n        :authority: adventofcode.com\r\n        :method: GET\r\n        :path: /2020/day/1/input\r\n        :scheme: https\r\n        Cookie: $Version=&quot;1&quot;\r\n        Cookie: session=&quot;53616c7465645f5f9d467.....13&quot;;$Path=&quot;/&quot;\r\n        User-Agent: Java-http-client/11.0.7\r\n\r\nVersion 1 will throw 500 Server error from the website.\r\n\r\n\r\n\r\nTo help you in debugging HttpClient Logs, add the following to your program arguments:\r\n\r\n    -Djdk.httpclient.HttpClient.log=errors,requests,headers,frames[:control:data:window:all],content,ssl,trace,channel,all\r\n\r\nLogs:\r\n\r\n    jdk.internal.net.http.HttpClientImpl$SelectorManager run\r\n    INFO: CHANNEL: HttpClient-1-SelectorManager: starting\r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\r\n    INFO: MISC: Applying request filters\r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\r\n    INFO: MISC: Applying jdk.internal.net.http.AuthenticationFilter@49ec71f8\r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\r\n    INFO: MISC: Applying jdk.internal.net.http.RedirectFilter@8f4ea7c\r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\r\n    INFO: MISC: Applying jdk.internal.net.http.CookieFilter@436813f3\r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.CookieFilter request\r\n    INFO: MISC: Request: adding cookies for https://adventofcode.com/2020/day/1/input\r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\r\n    INFO: MISC: All filters applied\r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.AbstractAsyncSSLConnection createSSLParameters\r\n    INFO: SSL: AbstractAsyncSSLConnection: Setting application protocols: [h2, http/1.1]\r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.AbstractAsyncSSLConnection &lt;init&gt;\r\n    INFO: SSL: SSLParameters:\r\n        cipher: TLS_AES_128_GCM_SHA256\r\n        cipher: TLS_AES_256_GCM_SHA384\r\n        cipher: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n        cipher: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n        cipher: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n        cipher: TLS_RSA_WITH_AES_256_GCM_SHA384\r\n        cipher: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\r\n        cipher: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\r\n        cipher: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n        cipher: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n        cipher: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n        cipher: TLS_RSA_WITH_AES_128_GCM_SHA256\r\n        cipher: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\r\n        cipher: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\r\n        cipher: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n        cipher: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n        cipher: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n        cipher: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n        cipher: TLS_RSA_WITH_AES_256_CBC_SHA256\r\n        cipher: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\n        cipher: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\n        cipher: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n        cipher: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n        cipher: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\n        cipher: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n        cipher: TLS_RSA_WITH_AES_256_CBC_SHA\r\n        cipher: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\r\n        cipher: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\r\n        cipher: TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n        cipher: TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n        cipher: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n        cipher: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n        cipher: TLS_RSA_WITH_AES_128_CBC_SHA256\r\n        cipher: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n        cipher: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n        cipher: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n        cipher: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n        cipher: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\r\n        cipher: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n        cipher: TLS_RSA_WITH_AES_128_CBC_SHA\r\n        cipher: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\r\n        cipher: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\r\n        cipher: TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n        cipher: TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n        cipher: TLS_EMPTY_RENEGOTIATION_INFO_SCSV\r\n        application protocol: h2\r\n        application protocol: http/1.1\r\n        protocol: TLSv1.3\r\n        protocol: TLSv1.2\r\n        endpointIdAlg: HTTPS\r\n        server name: type=host_name (0), value=adventofcode.com\r\n    \r\n    nov. 04, 2021 3:35:39 EM jdk.internal.net.http.HttpClientImpl registerTimer\r\n    INFO: MISC: Registering timer ConnectTimerEvent, TimeoutEvent[id=1, duration=PT10S, deadline=2021-11-04T14:35:49.817109800Z]\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription handleSubscribeEvent\r\n    INFO: CHANNEL: Start reading from java.nio.channels.SocketChannel[connected local=/100.120.31.175:57725 remote=adventofcode.com/54.166.48.177:443]\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.SocketTube$InternalWriteSubscriber startSubscription\r\n    INFO: CHANNEL: Start requesting bytes for writing to channel: java.nio.channels.SocketChannel[connected local=/100.120.31.175:57725 remote=adventofcode.com/54.166.48.177:443]\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.HttpClientImpl cancelTimer\r\n    INFO: MISC: Canceling timer ConnectTimerEvent, TimeoutEvent[id=1, duration=PT10S, deadline=2021-11-04T14:35:49.817109800Z]\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection &lt;init&gt;\r\n    INFO: MISC: Connection send window size 65&#160;535 \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\r\n    INFO: MISC: /100.120.31.175:57725: start sending connection preface to adventofcode.com/54.166.48.177:443\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\r\n    INFO: FRAME: OUT: SETTINGS: length=30, streamid=0, flags=0  Settings: HEADER_TABLE_SIZE=16384 ENABLE_PUSH=1 MAX_CONCURRENT_STREAMS=100 INITIAL_WINDOW_SIZE=16777216 MAX_FRAME_SIZE=16384 \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\r\n    INFO: MISC: PREFACE_BYTES sent\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\r\n    INFO: MISC: Settings Frame sent\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\r\n    INFO: CHANNEL: Sending initial connection window update frame: 33&#160;488&#160;897 (33&#160;554&#160;432 - 65&#160;535)\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection encodeFrame\r\n    INFO: FRAME: OUT: WINDOW_UPDATE: length=4, streamid=0, flags=0  WindowUpdate: 33488897\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\r\n    INFO: MISC: finished sending connection preface\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream sendHeadersAsync\r\n    INFO: REQUEST: https://adventofcode.com/2020/day/1/input GET\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection encodeHeaders\r\n    INFO: HEADERS: HEADERS FRAME (stream=1)\r\n        :authority: adventofcode.com\r\n        :method: GET\r\n        :path: /2020/day/1/input\r\n        :scheme: https\r\n        Cookie: session=53616c7465645f5f9d467d3ae831\r\n        User-Agent: Java-http-client/11.0.7\r\n    \r\n    \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection lambda$encodeFrames$9\r\n    INFO: FRAME: OUT: HEADERS: length=126, streamid=1, flags=END_STREAM END_HEADERS \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream getResponseAsync\r\n    INFO: MISC: Response future (stream=1) is: jdk.internal.net.http.common.MinimalFuture@374f597e[Not completed] (id=43)\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\r\n    INFO: FRAME: IN: SETTINGS: length=18, streamid=0, flags=0  Settings: MAX_CONCURRENT_STREAMS=128 INITIAL_WINDOW_SIZE=65536 MAX_FRAME_SIZE=16777215 \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection encodeFrame\r\n    INFO: FRAME: OUT: SETTINGS: length=0, streamid=0, flags=ACK  Settings: \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\r\n    INFO: FRAME: IN: WINDOW_UPDATE: length=4, streamid=0, flags=0  WindowUpdate: 2147418112\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\r\n    INFO: FRAME: IN: SETTINGS: length=0, streamid=0, flags=ACK  Settings: \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\r\n    INFO: FRAME: IN: HEADERS: length=118, streamid=1, flags=END_HEADERS \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\r\n    INFO: MISC: RECEIVED HEADER (streamid=1): :status: 200\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\r\n    INFO: MISC: RECEIVED HEADER (streamid=1): date: Thu, 04 Nov 2021 14:35:40 GMT\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\r\n    INFO: MISC: RECEIVED HEADER (streamid=1): content-type: text/plain\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\r\n    INFO: MISC: RECEIVED HEADER (streamid=1): content-length: 990\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\r\n    INFO: MISC: RECEIVED HEADER (streamid=1): server: Apache\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\r\n    INFO: MISC: RECEIVED HEADER (streamid=1): server-ip: 172.31.16.87\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\r\n    INFO: MISC: RECEIVED HEADER (streamid=1): vary: Accept-Encoding\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\r\n    INFO: MISC: RECEIVED HEADER (streamid=1): strict-transport-security: max-age=300\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream incoming\r\n    INFO: MISC: handling response (streamid=1)\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream handleResponse\r\n    INFO: HEADERS: RESPONSE HEADERS:\r\n        :status: 200\r\n        content-length: 990\r\n        content-type: text/plain\r\n        date: Thu, 04 Nov 2021 14:35:40 GMT\r\n        server: Apache\r\n        server-ip: 172.31.16.87\r\n        strict-transport-security: max-age=300\r\n        vary: Accept-Encoding\r\n    \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream completeResponse\r\n    INFO: MISC: Completing response (streamid=1): jdk.internal.net.http.common.MinimalFuture@113d2103[Not completed, 1 dependents] (id=42)\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Exchange lambda$wrapForLog$11\r\n    INFO: RESPONSE: (GET https://adventofcode.com/2020/day/1/input) 200 HTTP_2 Local port:  57725\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\r\n    INFO: MISC: Applying response filters\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\r\n    INFO: MISC: Applying jdk.internal.net.http.CookieFilter@436813f3\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.CookieFilter response\r\n    INFO: MISC: Response: processing cookies for https://adventofcode.com/2020/day/1/input\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.CookieFilter response\r\n    INFO: MISC: Response: parsing cookies from {:status=[200], content-length=[990], content-type=[text/plain], date=[Thu, 04 Nov 2021 14:35:40 GMT], server=[Apache], server-ip=[172.31.16.87], strict-transport-security=[max-age=300], vary=[Accept-Encoding]}\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\r\n    INFO: MISC: Applying jdk.internal.net.http.RedirectFilter@8f4ea7c\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\r\n    INFO: MISC: Applying jdk.internal.net.http.AuthenticationFilter@49ec71f8\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\r\n    INFO: MISC: All filters applied\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream readBodyAsync\r\n    INFO: MISC: Reading body on stream 1\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\r\n    INFO: FRAME: IN: DATA: length=990, streamid=1, flags=0 \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream schedule\r\n    INFO: MISC: responseSubscriber.onNext 990\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\r\n    INFO: FRAME: IN: DATA: length=0, streamid=1, flags=END_STREAM \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream schedule\r\n    INFO: MISC: responseSubscriber.onComplete\r\n    1337\r\n    1906\r\n    2007\r\n    1939\r\n    818\r\n    1556\r\n    2005\r\n    1722\r\n    1484\r\n    1381\r\n    1682\r\n    1253\r\n    1967\r\n    1718\r\n    2002\r\n    1398\r\n    1439\r\n    1689\r\n    1746\r\n    1979\r\n    1985\r\n    1387\r\n    1509\r\n    1566\r\n    1276\r\n    1625\r\n    1853\r\n    882\r\n    1750\r\n    1390\r\n    1731\r\n    1555\r\n    1860\r\n    1675\r\n    1457\r\n    1554\r\n    1506\r\n    1639\r\n    1543\r\n    1849\r\n    1062\r\n    1869\r\n    1769\r\n    1858\r\n    1916\r\n    1504\r\n    1747\r\n    1925\r\n    1275\r\n    1273\r\n    1383\r\n    1816\r\n    1814\r\n    1481\r\n    1649\r\n    1993\r\n    1759\r\n    1949\r\n    1499\r\n    1374\r\n    1613\r\n    1424\r\n    783\r\n    1765\r\n    1576\r\n    1933\r\n    1270\r\n    1844\r\n    1856\r\n    1634\r\n    1261\r\n    1293\r\n    1741\r\n    668\r\n    1573\r\n    1599\r\n    1877\r\n    1474\r\n    1918\r\n    476\r\n    1515\r\n    1029\r\n    202\r\n    1589\r\n    1867\r\n    1503\r\n    1582\r\n    1605\r\n    1557\r\n    587\r\n    1462\r\n    1955\r\n    1806\r\n    1834\r\n    1739\r\n    1343\r\n    1594\r\n    1622\r\n    1972\r\n    1527\r\n    1798\r\n    1719\r\n    1866\r\n    134\r\n    2000\r\n    1992\r\n    1966\r\n    1909\r\n    1340\r\n    1621\r\n    1921\r\n    1256\r\n    1365\r\n    1314\r\n    1748\r\n    1963\r\n    1379\r\n    1627\r\n    1848\r\n    1977\r\n    1917\r\n    1826\r\n    1716\r\n    1631\r\n    1404\r\n    1936\r\n    1677\r\n    1661\r\n    1986\r\n    1997\r\n    1603\r\n    1932\r\n    1780\r\n    1902\r\n    2009\r\n    1257\r\n    1871\r\n    1362\r\n    1662\r\n    1507\r\n    1255\r\n    1539\r\n    1962\r\n    1886\r\n    1513\r\n    1264\r\n    1873\r\n    1700\r\n    807\r\n    1426\r\n    1697\r\n    1698\r\n    1519\r\n    1791\r\n    1240\r\n    1542\r\n    1497\r\n    1761\r\n    1640\r\n    1502\r\n    1770\r\n    1437\r\n    1333\r\n    1805\r\n    1591\r\n    1644\r\n    1420\r\n    1809\r\n    1587\r\n    1421\r\n    1540\r\n    1942\r\n    470\r\n    1940\r\n    1831\r\n    1247\r\n    1632\r\n    1975\r\n    1774\r\n    1919\r\n    1829\r\n    1944\r\n    1553\r\n    1361\r\n    1483\r\n    1995\r\n    1868\r\n    1601\r\n    1552\r\n    1854\r\n    1490\r\n    1855\r\n    1987\r\n    1538\r\n    1389\r\n    1454\r\n    1427\r\n    1686\r\n    1456\r\n    1974\r\n    \r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream close\r\n    INFO: MISC: Closing stream 1\r\n    nov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream close\r\n    INFO: MISC: Stream 1 closed\r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nps: This was so much fun to figure out :D\r\n","title":"Setting a session cookie with the Java 11 HttpClient","body":"<p>The solution is below using a proper CookieManager instead of hardcoding a header:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n        CookieHandler.setDefault(new CookieManager());\n\n        HttpCookie sessionCookie = new HttpCookie(&quot;session&quot;, &quot;53616c7465645f5f9d467d3ae831ec1b1e7289ef45d256224786e1ed13&quot;);\n        sessionCookie.setPath(&quot;/&quot;);\n        sessionCookie.setVersion(0);\n\n        ((CookieManager) CookieHandler.getDefault()).getCookieStore().add(new URI(&quot;https://adventofcode.com&quot;),\n                sessionCookie);\n\n        HttpClient client = HttpClient.newBuilder()\n                .cookieHandler(CookieHandler.getDefault())\n                .connectTimeout(Duration.ofSeconds(10))\n                .build();\n\n        HttpRequest req = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://adventofcode.com/2020/day/1/input&quot;))\n                .GET().build();\n\n\n        System.out.println(client.send(req, HttpResponse.BodyHandlers.ofString()).body());\n\n    }\n</code></pre>\n<p><code>sessionCookie.setPath(&quot;/&quot;);</code>  <strong>Important</strong>:  Java has CookieFilter which actually matches request URI Path, vs Cookie Path.</p>\n<p><code>sessionCookie.setVersion(0);</code> <strong>Important</strong>:  This site does not like Version 1 (Default in HttpCookie, which complies with RFC 2965/2109)</p>\n<p>Version 0 complies with the original Netscape cookie and AdventOfCode likes it.</p>\n<p>The difference between the Version 0 and Version 1 is how the Cookie will look like:</p>\n<p>Version 0:</p>\n<pre><code>INFO: HEADERS: HEADERS FRAME (stream=1)\n    :authority: adventofcode.com\n    :method: GET\n    :path: /2020/day/1/input\n    :scheme: https\n    Cookie: session=53616c7465645f5f9d467....\n    User-Agent: Java-http-client/11.0.7\n</code></pre>\n<p>Version 1:</p>\n<pre><code>INFO: HEADERS: HEADERS FRAME (stream=1)\n    :authority: adventofcode.com\n    :method: GET\n    :path: /2020/day/1/input\n    :scheme: https\n    Cookie: $Version=&quot;1&quot;\n    Cookie: session=&quot;53616c7465645f5f9d467.....13&quot;;$Path=&quot;/&quot;\n    User-Agent: Java-http-client/11.0.7\n</code></pre>\n<p>Version 1 will throw 500 Server error from the website.</p>\n<p>To help you in debugging HttpClient Logs, add the following to your program arguments:</p>\n<pre><code>-Djdk.httpclient.HttpClient.log=errors,requests,headers,frames[:control:data:window:all],content,ssl,trace,channel,all\n</code></pre>\n<p>Logs:</p>\n<pre><code>jdk.internal.net.http.HttpClientImpl$SelectorManager run\nINFO: CHANNEL: HttpClient-1-SelectorManager: starting\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\nINFO: MISC: Applying request filters\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\nINFO: MISC: Applying jdk.internal.net.http.AuthenticationFilter@49ec71f8\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\nINFO: MISC: Applying jdk.internal.net.http.RedirectFilter@8f4ea7c\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\nINFO: MISC: Applying jdk.internal.net.http.CookieFilter@436813f3\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.CookieFilter request\nINFO: MISC: Request: adding cookies for https://adventofcode.com/2020/day/1/input\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.MultiExchange requestFilters\nINFO: MISC: All filters applied\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.AbstractAsyncSSLConnection createSSLParameters\nINFO: SSL: AbstractAsyncSSLConnection: Setting application protocols: [h2, http/1.1]\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.AbstractAsyncSSLConnection &lt;init&gt;\nINFO: SSL: SSLParameters:\n    cipher: TLS_AES_128_GCM_SHA256\n    cipher: TLS_AES_256_GCM_SHA384\n    cipher: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\n    cipher: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n    cipher: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n    cipher: TLS_RSA_WITH_AES_256_GCM_SHA384\n    cipher: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\n    cipher: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\n    cipher: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\n    cipher: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\n    cipher: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n    cipher: TLS_RSA_WITH_AES_128_GCM_SHA256\n    cipher: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\n    cipher: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\n    cipher: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n    cipher: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\n    cipher: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n    cipher: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n    cipher: TLS_RSA_WITH_AES_256_CBC_SHA256\n    cipher: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\n    cipher: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\n    cipher: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\n    cipher: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\n    cipher: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\n    cipher: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\n    cipher: TLS_RSA_WITH_AES_256_CBC_SHA\n    cipher: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\n    cipher: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\n    cipher: TLS_DHE_RSA_WITH_AES_256_CBC_SHA\n    cipher: TLS_DHE_DSS_WITH_AES_256_CBC_SHA\n    cipher: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n    cipher: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n    cipher: TLS_RSA_WITH_AES_128_CBC_SHA256\n    cipher: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\n    cipher: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\n    cipher: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\n    cipher: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\n    cipher: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\n    cipher: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\n    cipher: TLS_RSA_WITH_AES_128_CBC_SHA\n    cipher: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\n    cipher: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\n    cipher: TLS_DHE_RSA_WITH_AES_128_CBC_SHA\n    cipher: TLS_DHE_DSS_WITH_AES_128_CBC_SHA\n    cipher: TLS_EMPTY_RENEGOTIATION_INFO_SCSV\n    application protocol: h2\n    application protocol: http/1.1\n    protocol: TLSv1.3\n    protocol: TLSv1.2\n    endpointIdAlg: HTTPS\n    server name: type=host_name (0), value=adventofcode.com\n\nnov. 04, 2021 3:35:39 EM jdk.internal.net.http.HttpClientImpl registerTimer\nINFO: MISC: Registering timer ConnectTimerEvent, TimeoutEvent[id=1, duration=PT10S, deadline=2021-11-04T14:35:49.817109800Z]\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription handleSubscribeEvent\nINFO: CHANNEL: Start reading from java.nio.channels.SocketChannel[connected local=/100.120.31.175:57725 remote=adventofcode.com/54.166.48.177:443]\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.SocketTube$InternalWriteSubscriber startSubscription\nINFO: CHANNEL: Start requesting bytes for writing to channel: java.nio.channels.SocketChannel[connected local=/100.120.31.175:57725 remote=adventofcode.com/54.166.48.177:443]\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.HttpClientImpl cancelTimer\nINFO: MISC: Canceling timer ConnectTimerEvent, TimeoutEvent[id=1, duration=PT10S, deadline=2021-11-04T14:35:49.817109800Z]\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection &lt;init&gt;\nINFO: MISC: Connection send window size 65 535 \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\nINFO: MISC: /100.120.31.175:57725: start sending connection preface to adventofcode.com/54.166.48.177:443\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\nINFO: FRAME: OUT: SETTINGS: length=30, streamid=0, flags=0  Settings: HEADER_TABLE_SIZE=16384 ENABLE_PUSH=1 MAX_CONCURRENT_STREAMS=100 INITIAL_WINDOW_SIZE=16777216 MAX_FRAME_SIZE=16384 \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\nINFO: MISC: PREFACE_BYTES sent\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\nINFO: MISC: Settings Frame sent\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\nINFO: CHANNEL: Sending initial connection window update frame: 33 488 897 (33 554 432 - 65 535)\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection encodeFrame\nINFO: FRAME: OUT: WINDOW_UPDATE: length=4, streamid=0, flags=0  WindowUpdate: 33488897\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection sendConnectionPreface\nINFO: MISC: finished sending connection preface\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream sendHeadersAsync\nINFO: REQUEST: https://adventofcode.com/2020/day/1/input GET\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection encodeHeaders\nINFO: HEADERS: HEADERS FRAME (stream=1)\n    :authority: adventofcode.com\n    :method: GET\n    :path: /2020/day/1/input\n    :scheme: https\n    Cookie: session=53616c7465645f5f9d467d3ae831\n    User-Agent: Java-http-client/11.0.7\n\n\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection lambda$encodeFrames$9\nINFO: FRAME: OUT: HEADERS: length=126, streamid=1, flags=END_STREAM END_HEADERS \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream getResponseAsync\nINFO: MISC: Response future (stream=1) is: jdk.internal.net.http.common.MinimalFuture@374f597e[Not completed] (id=43)\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\nINFO: FRAME: IN: SETTINGS: length=18, streamid=0, flags=0  Settings: MAX_CONCURRENT_STREAMS=128 INITIAL_WINDOW_SIZE=65536 MAX_FRAME_SIZE=16777215 \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection encodeFrame\nINFO: FRAME: OUT: SETTINGS: length=0, streamid=0, flags=ACK  Settings: \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\nINFO: FRAME: IN: WINDOW_UPDATE: length=4, streamid=0, flags=0  WindowUpdate: 2147418112\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\nINFO: FRAME: IN: SETTINGS: length=0, streamid=0, flags=ACK  Settings: \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\nINFO: FRAME: IN: HEADERS: length=118, streamid=1, flags=END_HEADERS \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\nINFO: MISC: RECEIVED HEADER (streamid=1): :status: 200\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\nINFO: MISC: RECEIVED HEADER (streamid=1): date: Thu, 04 Nov 2021 14:35:40 GMT\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\nINFO: MISC: RECEIVED HEADER (streamid=1): content-type: text/plain\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\nINFO: MISC: RECEIVED HEADER (streamid=1): content-length: 990\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\nINFO: MISC: RECEIVED HEADER (streamid=1): server: Apache\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\nINFO: MISC: RECEIVED HEADER (streamid=1): server-ip: 172.31.16.87\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\nINFO: MISC: RECEIVED HEADER (streamid=1): vary: Accept-Encoding\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream$HeadersConsumer onDecoded\nINFO: MISC: RECEIVED HEADER (streamid=1): strict-transport-security: max-age=300\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream incoming\nINFO: MISC: handling response (streamid=1)\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream handleResponse\nINFO: HEADERS: RESPONSE HEADERS:\n    :status: 200\n    content-length: 990\n    content-type: text/plain\n    date: Thu, 04 Nov 2021 14:35:40 GMT\n    server: Apache\n    server-ip: 172.31.16.87\n    strict-transport-security: max-age=300\n    vary: Accept-Encoding\n\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream completeResponse\nINFO: MISC: Completing response (streamid=1): jdk.internal.net.http.common.MinimalFuture@113d2103[Not completed, 1 dependents] (id=42)\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Exchange lambda$wrapForLog$11\nINFO: RESPONSE: (GET https://adventofcode.com/2020/day/1/input) 200 HTTP_2 Local port:  57725\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\nINFO: MISC: Applying response filters\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\nINFO: MISC: Applying jdk.internal.net.http.CookieFilter@436813f3\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.CookieFilter response\nINFO: MISC: Response: processing cookies for https://adventofcode.com/2020/day/1/input\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.CookieFilter response\nINFO: MISC: Response: parsing cookies from {:status=[200], content-length=[990], content-type=[text/plain], date=[Thu, 04 Nov 2021 14:35:40 GMT], server=[Apache], server-ip=[172.31.16.87], strict-transport-security=[max-age=300], vary=[Accept-Encoding]}\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\nINFO: MISC: Applying jdk.internal.net.http.RedirectFilter@8f4ea7c\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\nINFO: MISC: Applying jdk.internal.net.http.AuthenticationFilter@49ec71f8\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.MultiExchange responseFilters\nINFO: MISC: All filters applied\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream readBodyAsync\nINFO: MISC: Reading body on stream 1\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\nINFO: FRAME: IN: DATA: length=990, streamid=1, flags=0 \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream schedule\nINFO: MISC: responseSubscriber.onNext 990\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Http2Connection processFrame\nINFO: FRAME: IN: DATA: length=0, streamid=1, flags=END_STREAM \nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream schedule\nINFO: MISC: responseSubscriber.onComplete\n1337\n1906\n2007\n1939\n818\n1556\n2005\n1722\n1484\n1381\n1682\n1253\n1967\n1718\n2002\n1398\n1439\n1689\n1746\n1979\n1985\n1387\n1509\n1566\n1276\n1625\n1853\n882\n1750\n1390\n1731\n1555\n1860\n1675\n1457\n1554\n1506\n1639\n1543\n1849\n1062\n1869\n1769\n1858\n1916\n1504\n1747\n1925\n1275\n1273\n1383\n1816\n1814\n1481\n1649\n1993\n1759\n1949\n1499\n1374\n1613\n1424\n783\n1765\n1576\n1933\n1270\n1844\n1856\n1634\n1261\n1293\n1741\n668\n1573\n1599\n1877\n1474\n1918\n476\n1515\n1029\n202\n1589\n1867\n1503\n1582\n1605\n1557\n587\n1462\n1955\n1806\n1834\n1739\n1343\n1594\n1622\n1972\n1527\n1798\n1719\n1866\n134\n2000\n1992\n1966\n1909\n1340\n1621\n1921\n1256\n1365\n1314\n1748\n1963\n1379\n1627\n1848\n1977\n1917\n1826\n1716\n1631\n1404\n1936\n1677\n1661\n1986\n1997\n1603\n1932\n1780\n1902\n2009\n1257\n1871\n1362\n1662\n1507\n1255\n1539\n1962\n1886\n1513\n1264\n1873\n1700\n807\n1426\n1697\n1698\n1519\n1791\n1240\n1542\n1497\n1761\n1640\n1502\n1770\n1437\n1333\n1805\n1591\n1644\n1420\n1809\n1587\n1421\n1540\n1942\n470\n1940\n1831\n1247\n1632\n1975\n1774\n1919\n1829\n1944\n1553\n1361\n1483\n1995\n1868\n1601\n1552\n1854\n1490\n1855\n1987\n1538\n1389\n1454\n1427\n1686\n1456\n1974\n\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream close\nINFO: MISC: Closing stream 1\nnov. 04, 2021 3:35:40 EM jdk.internal.net.http.Stream close\nINFO: MISC: Stream 1 closed\n\nProcess finished with exit code 0\n</code></pre>\n<p>ps: This was so much fun to figure out :D</p>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646326097,"creation_date":1643757527,"answer_id":70948846,"question_id":69837157,"body_markdown":"Java 11 HttpClient has in-built support for Session-Cookie. If you create a client like so:\r\n\r\n```java\r\nvar client = HttpClient.newBuilder()\r\n                .cookieHandler(new CookieManager())\r\n                .version(HttpClient.Version.HTTP_2)\r\n                .build();\r\n```\r\n\r\nThen the client will automatically save all the cookies in the first authorisation request. Any subsequent request made by this client will have the cookies already set.\r\n\r\nOR\r\n\r\nIf you wan to set some values to a cookie before sending the initial request, try:\r\n\r\n```java\r\nvar cookieManager = new cookieManager();\r\ncookieManager.getCookieStore().add(someHostURI, someSessionCookie);\r\n\r\n//Now this cookie can be used to create the client:\r\nvar client = HttpClient.newBuilder()\r\n                .cookieHandler(cookieManager)\r\n                .version(HttpClient.Version.HTTP_2)\r\n                .build();\r\n``` \r\n\r\nFor more detailed explanation, check out [this article][1].\r\n\r\n\r\n  [1]: https://golb.hplar.ch/2019/01/java-11-http-client.html","title":"Setting a session cookie with the Java 11 HttpClient","body":"<p>Java 11 HttpClient has in-built support for Session-Cookie. If you create a client like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var client = HttpClient.newBuilder()\n                .cookieHandler(new CookieManager())\n                .version(HttpClient.Version.HTTP_2)\n                .build();\n</code></pre>\n<p>Then the client will automatically save all the cookies in the first authorisation request. Any subsequent request made by this client will have the cookies already set.</p>\n<p>OR</p>\n<p>If you wan to set some values to a cookie before sending the initial request, try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var cookieManager = new cookieManager();\ncookieManager.getCookieStore().add(someHostURI, someSessionCookie);\n\n//Now this cookie can be used to create the client:\nvar client = HttpClient.newBuilder()\n                .cookieHandler(cookieManager)\n                .version(HttpClient.Version.HTTP_2)\n                .build();\n</code></pre>\n<p>For more detailed explanation, check out <a href=\"https://golb.hplar.ch/2019/01/java-11-http-client.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"}],"owner":{"account_id":5981952,"reputation":1949,"user_id":5320300,"accept_rate":76,"display_name":"Simon Baars"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7257,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":69838878,"answer_count":2,"score":8,"last_activity_date":1646326097,"creation_date":1636018994,"question_id":69837157,"body_markdown":"I&#39;m trying to GET the content of a page using the Java 11 HttpClient. Since the page uses OAuth, I want to authenticate using my session cookie. I currently use the following code, inspired by [this question][1]:\r\n```\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\n  String year = args[0];\r\n  String day = args[1];\r\n  String session = System.getenv(&quot;AOCSESSION&quot;);\r\n  System.out.println(session);\r\n  \r\n  HttpRequest req = HttpRequest.newBuilder()\r\n      .uri(URI.create(&quot;https://adventofcode.com/&quot;+year+&quot;/day/&quot;+day+&quot;/input&quot;)).GET().build();\r\n  CookieManager cookieManager = new CookieManager();\r\n  HttpCookie cookie = new HttpCookie(&quot;session&quot;, session);\r\n  cookieManager.getCookieStore().add(URI.create(&quot;https://adventofcode.com&quot;), cookie);\r\n  HttpClient client = HttpClient.newBuilder().cookieHandler(cookieManager).build();\r\n\r\n  String body = client.send(req, BodyHandlers.ofString()).body();\r\n  System.out.println(body);\r\n}\r\n```\r\nHowever, the requests turn out unauthenticated (Response: `Puzzle inputs differ by user. Please log in to get your puzzle input.`). I already tried adding other fields to the cookie:\r\n```\r\ncookie.setDomain(&quot;.adventofcode.com&quot;);\r\ncookie.setMaxAge(Instant.parse(&quot;2031-11-01T18:26:23.293Z&quot;).getEpochSecond());\r\ncookie.setPath(&quot;/&quot;);\r\ncookie.setHttpOnly(true);\r\ncookie.setSecure(true);\r\n```\r\nbut it doesn&#39;t solve the problem.\r\n\r\nHow can I add a session cookie to the request?\r\n\r\n  [1]: https://stackoverflow.com/questions/15019642/trying-setting-session-cookie-using-httpclient","title":"Setting a session cookie with the Java 11 HttpClient","body":"<p>I'm trying to GET the content of a page using the Java 11 HttpClient. Since the page uses OAuth, I want to authenticate using my session cookie. I currently use the following code, inspired by <a href=\"https://stackoverflow.com/questions/15019642/trying-setting-session-cookie-using-httpclient\">this question</a>:</p>\n<pre><code>public static void main(String[] args) throws IOException, InterruptedException {\n  String year = args[0];\n  String day = args[1];\n  String session = System.getenv(&quot;AOCSESSION&quot;);\n  System.out.println(session);\n  \n  HttpRequest req = HttpRequest.newBuilder()\n      .uri(URI.create(&quot;https://adventofcode.com/&quot;+year+&quot;/day/&quot;+day+&quot;/input&quot;)).GET().build();\n  CookieManager cookieManager = new CookieManager();\n  HttpCookie cookie = new HttpCookie(&quot;session&quot;, session);\n  cookieManager.getCookieStore().add(URI.create(&quot;https://adventofcode.com&quot;), cookie);\n  HttpClient client = HttpClient.newBuilder().cookieHandler(cookieManager).build();\n\n  String body = client.send(req, BodyHandlers.ofString()).body();\n  System.out.println(body);\n}\n</code></pre>\n<p>However, the requests turn out unauthenticated (Response: <code>Puzzle inputs differ by user. Please log in to get your puzzle input.</code>). I already tried adding other fields to the cookie:</p>\n<pre><code>cookie.setDomain(&quot;.adventofcode.com&quot;);\ncookie.setMaxAge(Instant.parse(&quot;2031-11-01T18:26:23.293Z&quot;).getEpochSecond());\ncookie.setPath(&quot;/&quot;);\ncookie.setHttpOnly(true);\ncookie.setSecure(true);\n</code></pre>\n<p>but it doesn't solve the problem.</p>\n<p>How can I add a session cookie to the request?</p>\n"},{"tags":["java","split","backtracking","trie"],"comments":[{"owner":{"account_id":12542663,"reputation":334,"user_id":9127110,"display_name":"Harry Jones"},"score":0,"creation_date":1646316130,"post_id":71338421,"comment_id":126096557,"body_markdown":"What do you mean by &quot;best matching&quot;? Do you want the solution with the fewest words?","body":"What do you mean by &quot;best matching&quot;? Do you want the solution with the fewest words?"},{"owner":{"account_id":19605735,"reputation":23,"user_id":14349472,"display_name":"abc"},"score":0,"creation_date":1646316340,"post_id":71338421,"comment_id":126096651,"body_markdown":"@HarryJones yes","body":"@HarryJones yes"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1646316569,"post_id":71338421,"comment_id":126096750,"body_markdown":"I am not sure if this is _THE_ answer, but one potential solution is to collect each permutation in a list and then return the list with the smallest size.","body":"I am not sure if this is <i>THE</i> answer, but one potential solution is to collect each permutation in a list and then return the list with the smallest size."},{"owner":{"account_id":19605735,"reputation":23,"user_id":14349472,"display_name":"abc"},"score":0,"creation_date":1646316747,"post_id":71338421,"comment_id":126096829,"body_markdown":"@hfontanez it can be but I can&#39;t write the code that keep finding all possible words, when it finds a, it keeps and looking for new words, how I can fix that?","body":"@hfontanez it can be but I can&#39;t write the code that keep finding all possible words, when it finds a, it keeps and looking for new words, how I can fix that?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646316865,"post_id":71338421,"comment_id":126096876,"body_markdown":"I don&#39;t think you can&#39;t because &quot;a&quot; is a valid word. I am more concerned with &quot;area&quot; and &quot;ways&quot;, leaving the &#39;l&#39; unmatched. Your solution, I assume _must_ consume all letters. Which begs the question, what happens when you can&#39;t match all letters? Like in something like &quot;arellkjldsjlfjsd&quot;.","body":"I don&#39;t think you can&#39;t because &quot;a&quot; is a valid word. I am more concerned with &quot;area&quot; and &quot;ways&quot;, leaving the &#39;l&#39; unmatched. Your solution, I assume <i>must</i> consume all letters. Which begs the question, what happens when you can&#39;t match all letters? Like in something like &quot;arellkjldsjlfjsd&quot;."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646317501,"post_id":71338421,"comment_id":126097126,"body_markdown":"I think this question was already asked here. Does this answer your question? [How to split text without spaces into list of words](https://stackoverflow.com/questions/8870261/how-to-split-text-without-spaces-into-list-of-words)","body":"I think this question was already asked here. Does this answer your question? <a href=\"https://stackoverflow.com/questions/8870261/how-to-split-text-without-spaces-into-list-of-words\">How to split text without spaces into list of words</a>"},{"owner":{"account_id":19605735,"reputation":23,"user_id":14349472,"display_name":"abc"},"score":0,"creation_date":1646317541,"post_id":71338421,"comment_id":126097145,"body_markdown":"@hfontanez if dictionary doesn&#39;t contain any of words of the string, it will return &quot;no splitting found&quot; but can&#39;t we write a code that keep looking for new words till can&#39;t split? I mean &#39;are, always&#39; what I want to see, but how will I manage to do that? do you have any idea?","body":"@hfontanez if dictionary doesn&#39;t contain any of words of the string, it will return &quot;no splitting found&quot; but can&#39;t we write a code that keep looking for new words till can&#39;t split? I mean &#39;are, always&#39; what I want to see, but how will I manage to do that? do you have any idea?"},{"owner":{"account_id":19605735,"reputation":23,"user_id":14349472,"display_name":"abc"},"score":0,"creation_date":1646317636,"post_id":71338421,"comment_id":126097184,"body_markdown":"@hfontanez I saw this link but its algorithm is too complicated for me, I can&#39;t manage to convert that to Java code so I tried new one.","body":"@hfontanez I saw this link but its algorithm is too complicated for me, I can&#39;t manage to convert that to Java code so I tried new one."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646317786,"post_id":71338421,"comment_id":126097250,"body_markdown":"You need to try that algorithm and study it. Maybe you can tweak that to fit your needs. Also, I  think you need to let your algorithm continue matching words and collect them in lists. Then, you return the smallest list. But I don&#39;t think you end there. You need to return the smallest list that consume the most letters. To figure that out, you must add the lengths of all strings in the list and compare it to the inputted string. I am a bit busy, but let me see if I can code it quickly.","body":"You need to try that algorithm and study it. Maybe you can tweak that to fit your needs. Also, I  think you need to let your algorithm continue matching words and collect them in lists. Then, you return the smallest list. But I don&#39;t think you end there. You need to return the smallest list that consume the most letters. To figure that out, you must add the lengths of all strings in the list and compare it to the inputted string. I am a bit busy, but let me see if I can code it quickly."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646317892,"post_id":71338421,"comment_id":126097285,"body_markdown":"What is `Trie`? And please define `map`. Make sure your code is reproducible.","body":"What is <code>Trie</code>? And please define <code>map</code>. Make sure your code is reproducible."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646319777,"post_id":71338421,"comment_id":126098084,"body_markdown":"You haven&#39;t provided what `t` contains when you pass it to the constructor. Or the main method for that matter.","body":"You haven&#39;t provided what <code>t</code> contains when you pass it to the constructor. Or the main method for that matter."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646320278,"post_id":71338421,"comment_id":126098321,"body_markdown":"Still missing the contents of `dictionary.txt` LOL","body":"Still missing the contents of <code>dictionary.txt</code> LOL"},{"owner":{"account_id":19605735,"reputation":23,"user_id":14349472,"display_name":"abc"},"score":0,"creation_date":1646320406,"post_id":71338421,"comment_id":126098382,"body_markdown":"@hfontanez dictionary.txt contains words line by line what do you mean by that?","body":"@hfontanez dictionary.txt contains words line by line what do you mean by that?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646320453,"post_id":71338421,"comment_id":126098401,"body_markdown":"We can&#39;t reproduce your problem unless we know what words are being inserted into the  Trie object.","body":"We can&#39;t reproduce your problem unless we know what words are being inserted into the  Trie object."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646320695,"post_id":71338421,"comment_id":126098504,"body_markdown":"I used another implementation of `Trie` and I got the following results: `realways=real ways` and `arealways=a real ways`. I wasn&#39;t able to get the expected results either. I used https://www.baeldung.com/trie-java","body":"I used another implementation of <code>Trie</code> and I got the following results: <code>realways=real ways</code> and <code>arealways=a real ways</code>. I wasn&#39;t able to get the expected results either. I used <a href=\"https://www.baeldung.com/trie-java\" rel=\"nofollow noreferrer\">baeldung.com/trie-java</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646320794,"post_id":71338421,"comment_id":126098546,"body_markdown":"If I remove the word &quot;real&quot; from the `Trie`, I get `realways=null` and\n`arealways=are always`. This is interesting. I bet that might be your problem.","body":"If I remove the word &quot;real&quot; from the <code>Trie</code>, I get <code>realways=null</code> and <code>arealways=are always</code>. This is interesting. I bet that might be your problem."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646322087,"post_id":71338421,"comment_id":126099139,"body_markdown":"You may also want to read this https://www.toptal.com/java/the-trie-a-neglected-data-structure","body":"You may also want to read this <a href=\"https://www.toptal.com/java/the-trie-a-neglected-data-structure\" rel=\"nofollow noreferrer\">toptal.com/java/the-trie-a-neglected-data-structure</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646324477,"post_id":71338421,"comment_id":126100203,"body_markdown":"I improved my answer by adding `toString` methods to `Trie` and `TrieNode`. This helps visualize how the tree is built given the words in the dictionary.","body":"I improved my answer by adding <code>toString</code> methods to <code>Trie</code> and <code>TrieNode</code>. This helps visualize how the tree is built given the words in the dictionary."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646330174,"post_id":71338421,"comment_id":126102349,"body_markdown":"@abc have you look into my answer? I think your expectation of what the result should be is incorrect. But I also think your Trie implementation is slightly incorrect.","body":"@abc have you look into my answer? I think your expectation of what the result should be is incorrect. But I also think your Trie implementation is slightly incorrect."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646325958,"creation_date":1646321702,"answer_id":71339760,"question_id":71338421,"body_markdown":"Using the OP&#39;s `split` method and the implementation of `Trie` found in [The Trie Data Structure in Java][1] Baeldung&#39;s article, I was able to get the following results:\r\n```\r\nrealways=real ways\r\narealways=a real ways\r\n```\r\n\r\nHowever, if I remove the word &quot;real&quot; or &quot;a&quot; from the dictionary, I get the following results:\r\n```\r\nrealways=null\r\narealways=are always\r\n```\r\n\r\nHere&#39;s the entire code I used to get these results:\r\n```\r\npublic class Splitter {\r\n\r\n\tprivate static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\tprivate Trie dict;\r\n\t\r\n\tpublic Splitter(Trie t) {\r\n\t\tdict = t;\r\n\t}\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; words = List.of(&quot;a&quot;, &quot;always&quot;, &quot;are&quot;, &quot;area&quot;, &quot;r&quot;, &quot;way&quot;, &quot;ways&quot;); // The order of these words does not seem to impact the final result\r\n\t\tString test = &quot;arealways&quot;;\r\n\r\n\t\tTrie t = new Trie();\r\n\t\tfor (String word : words) {\r\n\t\t\tt.insert(word);\r\n\t\t}\r\n\t\tSystem.out.println(t);\r\n\t\tSplitter splitter = new Splitter(t);\r\n\t\tsplitter.split(test);\r\n\t\tmap.entrySet().forEach(System.out::println);\r\n\t}\r\n\r\n\tpublic String split(String test) {\r\n\t\tif (dict.find(test)) {\r\n\t\t\treturn (test);\r\n\t\t} else if (map.containsKey(test)) {\r\n\t\t\treturn (map.get(test));\r\n\t\t} else {\r\n\t\t\tfor (int i = 0; i &lt; test.length(); i++) {\r\n\t\t\t\tString pre = test.substring(0, i);\r\n\t\t\t\tif (dict.find(pre)) {\r\n\t\t\t\t\tString end = test.substring(i);\r\n\t\t\t\t\tString fixedEnd = split(end);\r\n\t\t\t\t\tif (fixedEnd != null) {\r\n\t\t\t\t\t\tmap.put(test, pre + &quot; &quot; + fixedEnd);\r\n\t\t\t\t\t\treturn pre + &quot; &quot; + fixedEnd;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tmap.put(test, null);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic static class Trie {\r\n\t\tprivate TrieNode root = new TrieNode();\r\n\r\n\t\tpublic boolean find(String word) {\r\n\t\t\tTrieNode current = root;\r\n\t\t\tfor (int i = 0; i &lt; word.length(); i++) {\r\n\t\t\t\tchar ch = word.charAt(i);\r\n\t\t\t\tTrieNode node = current.getChildren().get(ch);\r\n\t\t\t\tif (node == null) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tcurrent = node;\r\n\t\t\t}\r\n\t\t\treturn current.isEndOfWord();\r\n\t\t}\r\n\r\n\t\tpublic void insert(String word) {\r\n\t\t\tTrieNode current = root;\r\n\t\t\tfor (char l : word.toCharArray()) {\r\n\t\t\t\tcurrent = current.getChildren().computeIfAbsent(l, c -&gt; new TrieNode());\r\n\t\t\t}\r\n\t\t\tcurrent.setEndOfWord(true);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn toString(root);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param root2\r\n\t\t * @return\r\n\t\t */\r\n\t\tprivate String toString(TrieNode node) {\r\n\t\t\treturn node.toString();\r\n\t\t}\r\n\r\n\t\tpublic static class TrieNode {\r\n\t\t\tprivate Map&lt;Character, TrieNode&gt; children = new HashMap&lt;&gt;() ;\r\n\t\t\tprivate String contents;\r\n\t\t\tprivate boolean endOfWord;\r\n\r\n\t\t\tpublic Map&lt;Character, TrieNode&gt; getChildren() {\r\n\t\t\t\treturn children;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setEndOfWord(boolean endOfWord) {\r\n\t\t\t\tthis.endOfWord = endOfWord;\r\n\t\t\t}\r\n\r\n\t\t\tpublic boolean isEndOfWord() {\r\n\t\t\t\treturn endOfWord;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic String toString() {\r\n\t\t\t\tStringBuilder sbuff = new StringBuilder();\r\n\t\t\t\tif (isLeaf()) {\r\n\t\t\t\t\treturn sbuff.toString();\r\n\t\t\t\t}\r\n\t\t\t\tchildren.entrySet().forEach(entry -&gt; {\r\n\t\t\t\t\tsbuff.append(entry.getKey() + &quot;\\n&quot;);\r\n\t\t\t\t});\r\n\t\t\t\tsbuff.append(&quot; &quot;);\r\n\t\t\t\treturn children.toString();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate boolean isLeaf() {\r\n\t\t\t\treturn children.isEmpty();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic void delete(String word) {\r\n\t\t\tdelete(root, word, 0);\r\n\t\t}\r\n\r\n\t\tprivate boolean delete(TrieNode current, String word, int index) {\r\n\t\t\tif (index == word.length()) {\r\n\t\t\t\tif (!current.isEndOfWord()) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tcurrent.setEndOfWord(false);\r\n\t\t\t\treturn current.getChildren().isEmpty();\r\n\t\t\t}\r\n\t\t\tchar ch = word.charAt(index);\r\n\t\t\tTrieNode node = current.getChildren().get(ch);\r\n\t\t\tif (node == null) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tboolean shouldDeleteCurrentNode = delete(node, word, index + 1) &amp;&amp; !node.isEndOfWord();\r\n\r\n\t\t\tif (shouldDeleteCurrentNode) {\r\n\t\t\t\tcurrent.getChildren().remove(ch);\r\n\t\t\t\treturn current.getChildren().isEmpty();\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI improved the original code by adding a `toString()` method to the `Trie` and `TrieNode`. Now, when I print out the `Trie` object &quot;t&quot;, I get the following result:\r\n\r\n```\r\n{a={r={e={a=}}, l={w={a={y={s=}}}}}, w={a={y={s=}}}}\r\n```\r\nMy conclusion is that the OP&#39;s `TrieNode` implementation is incorrect. The way the `Trie` is built, given the inputted string value, the behavior described by the OP seems to be correct.\r\n\r\n  [1]: https://www.baeldung.com/trie-java","title":"split strings with backtracking","body":"<p>Using the OP's <code>split</code> method and the implementation of <code>Trie</code> found in <a href=\"https://www.baeldung.com/trie-java\" rel=\"nofollow noreferrer\">The Trie Data Structure in Java</a> Baeldung's article, I was able to get the following results:</p>\n<pre><code>realways=real ways\narealways=a real ways\n</code></pre>\n<p>However, if I remove the word &quot;real&quot; or &quot;a&quot; from the dictionary, I get the following results:</p>\n<pre><code>realways=null\narealways=are always\n</code></pre>\n<p>Here's the entire code I used to get these results:</p>\n<pre><code>public class Splitter {\n\n    private static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    private Trie dict;\n    \n    public Splitter(Trie t) {\n        dict = t;\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        List&lt;String&gt; words = List.of(&quot;a&quot;, &quot;always&quot;, &quot;are&quot;, &quot;area&quot;, &quot;r&quot;, &quot;way&quot;, &quot;ways&quot;); // The order of these words does not seem to impact the final result\n        String test = &quot;arealways&quot;;\n\n        Trie t = new Trie();\n        for (String word : words) {\n            t.insert(word);\n        }\n        System.out.println(t);\n        Splitter splitter = new Splitter(t);\n        splitter.split(test);\n        map.entrySet().forEach(System.out::println);\n    }\n\n    public String split(String test) {\n        if (dict.find(test)) {\n            return (test);\n        } else if (map.containsKey(test)) {\n            return (map.get(test));\n        } else {\n            for (int i = 0; i &lt; test.length(); i++) {\n                String pre = test.substring(0, i);\n                if (dict.find(pre)) {\n                    String end = test.substring(i);\n                    String fixedEnd = split(end);\n                    if (fixedEnd != null) {\n                        map.put(test, pre + &quot; &quot; + fixedEnd);\n                        return pre + &quot; &quot; + fixedEnd;\n                    } else {\n                    }\n\n                }\n            }\n\n        }\n        map.put(test, null);\n        return null;\n    }\n\n    public static class Trie {\n        private TrieNode root = new TrieNode();\n\n        public boolean find(String word) {\n            TrieNode current = root;\n            for (int i = 0; i &lt; word.length(); i++) {\n                char ch = word.charAt(i);\n                TrieNode node = current.getChildren().get(ch);\n                if (node == null) {\n                    return false;\n                }\n                current = node;\n            }\n            return current.isEndOfWord();\n        }\n\n        public void insert(String word) {\n            TrieNode current = root;\n            for (char l : word.toCharArray()) {\n                current = current.getChildren().computeIfAbsent(l, c -&gt; new TrieNode());\n            }\n            current.setEndOfWord(true);\n        }\n        \n        @Override\n        public String toString() {\n            return toString(root);\n        }\n\n        /**\n         * @param root2\n         * @return\n         */\n        private String toString(TrieNode node) {\n            return node.toString();\n        }\n\n        public static class TrieNode {\n            private Map&lt;Character, TrieNode&gt; children = new HashMap&lt;&gt;() ;\n            private String contents;\n            private boolean endOfWord;\n\n            public Map&lt;Character, TrieNode&gt; getChildren() {\n                return children;\n            }\n\n            public void setEndOfWord(boolean endOfWord) {\n                this.endOfWord = endOfWord;\n            }\n\n            public boolean isEndOfWord() {\n                return endOfWord;\n            }\n            \n            @Override\n            public String toString() {\n                StringBuilder sbuff = new StringBuilder();\n                if (isLeaf()) {\n                    return sbuff.toString();\n                }\n                children.entrySet().forEach(entry -&gt; {\n                    sbuff.append(entry.getKey() + &quot;\\n&quot;);\n                });\n                sbuff.append(&quot; &quot;);\n                return children.toString();\n            }\n            \n            private boolean isLeaf() {\n                return children.isEmpty();\n            }\n        }\n        \n        public void delete(String word) {\n            delete(root, word, 0);\n        }\n\n        private boolean delete(TrieNode current, String word, int index) {\n            if (index == word.length()) {\n                if (!current.isEndOfWord()) {\n                    return false;\n                }\n                current.setEndOfWord(false);\n                return current.getChildren().isEmpty();\n            }\n            char ch = word.charAt(index);\n            TrieNode node = current.getChildren().get(ch);\n            if (node == null) {\n                return false;\n            }\n            \n            boolean shouldDeleteCurrentNode = delete(node, word, index + 1) &amp;&amp; !node.isEndOfWord();\n\n            if (shouldDeleteCurrentNode) {\n                current.getChildren().remove(ch);\n                return current.getChildren().isEmpty();\n            }\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>I improved the original code by adding a <code>toString()</code> method to the <code>Trie</code> and <code>TrieNode</code>. Now, when I print out the <code>Trie</code> object &quot;t&quot;, I get the following result:</p>\n<pre><code>{a={r={e={a=}}, l={w={a={y={s=}}}}}, w={a={y={s=}}}}\n</code></pre>\n<p>My conclusion is that the OP's <code>TrieNode</code> implementation is incorrect. The way the <code>Trie</code> is built, given the inputted string value, the behavior described by the OP seems to be correct.</p>\n"}],"owner":{"account_id":19605735,"reputation":23,"user_id":14349472,"display_name":"abc"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71339760,"answer_count":1,"score":2,"last_activity_date":1646325958,"creation_date":1646315944,"question_id":71338421,"body_markdown":"I&#39;m trying to write a code that split a spaceless string into meaningful words but when I give sentence like &quot;arealways&quot; it returns [&#39;a&#39;, &#39;real&#39;, &#39;ways&#39;] and what I want is [&#39;are&#39;, &#39;always&#39;] and my dictionary contains all this words. How can I can write a code that keep backtracking till find the best matching?\r\n\r\nthe code that returns &#39;a&#39;, &#39;real&#39;, &#39;ways&#39;:\r\n\r\nsplitter.java:\r\n\r\n```\r\npublic class splitter {\r\n\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    Trie dict;\r\n\r\n    public splitter(Trie t) {\r\n        dict = t;\r\n    }\r\n\r\n    public String split(String test) {\r\n        if (dict.contains(test)) {\r\n            return (test);\r\n        } else if (map.containsKey(test)) {\r\n            return (map.get(test));\r\n        } else {\r\n            for (int i = 0; i &lt; test.length(); i++) {\r\n                String pre = test.substring(0, i);\r\n                if (dict.contains(pre)) {\r\n                    String end = test.substring(i);\r\n                    String fixedEnd = split(end);\r\n                        if(fixedEnd != null){\r\n                            map.put(test, pre + &quot; &quot; + fixedEnd);\r\n                            return pre + &quot; &quot; + fixedEnd;\r\n                        }else {\r\n                        }\r\n                    \r\n                }\r\n            }\r\n\r\n        }\r\n        map.put(test,null);\r\n        return null;\r\n    }\r\n} \r\n```\r\n\r\n\r\nTrie.java:\r\n\r\n```\r\npublic class Trie {\r\n    public static class TrieNode {\r\n        private HashMap&lt;Character, TrieNode&gt; charMap = new HashMap&lt;&gt;();\r\n        public char c;\r\n        public boolean endOWord;\r\n        public void insert(String s){\r\n        }\r\n        public boolean contains(String s){\r\n            return true;\r\n        }\r\n    }\r\n    public TrieNode root;\r\n    \r\n    public Trie() {\r\n        root = new TrieNode();\r\n    }\r\n    \r\n    public void insert(String s){\r\n        TrieNode p = root;\r\n        for(char c : s.toCharArray()) {\r\n            if(! p.charMap.containsKey(c)) {\r\n                TrieNode node = new TrieNode();\r\n                node.c = c;\r\n                p.charMap.put(c, node);\r\n            }\r\n            p = p.charMap.get(c);\r\n        }\r\n        p.endOWord = true;\r\n    }\r\n    public boolean contains(String s){\r\n        TrieNode p = root;\r\n        for(char c : s.toCharArray()) {\r\n            if(!p.charMap.containsKey(c)) {\r\n                return false;\r\n            }\r\n            p = p.charMap.get(c);\r\n        }\r\n        return p.endOWord;\r\n    }\r\n    public void insertDictionary(String filename) throws FileNotFoundException{\r\n        File file = new File(filename);\r\n        Scanner sc = new Scanner(file);\r\n        while(sc.hasNextLine())\r\n            insert(sc.nextLine());\r\n    }\r\n    \r\n\r\n    public void insertDictionary(File file) throws FileNotFoundException{\r\n        Scanner sc = new Scanner(file);\r\n        while(sc.hasNextLine())\r\n            insert(sc.nextLine());\r\n    }\r\n} \r\n```\r\n\r\nWordSplitter class:\r\n\r\n```\r\npublic class WordSplitter {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n            \r\n           String test = &quot;arealways&quot;;\r\n           String myFile = &quot;/Users/abc/Desktop/dictionary.txt&quot;;\r\n           Trie dict = new Trie();\r\n           dict.insertDictionary(myFile);\r\n          splitter sp = new splitter(dict);\r\n          test = sp.split(test);\r\n          \r\n          if(test != null)\r\n          System.out.println(test);\r\n          else\r\n          System.out.println(&quot;No Splitting Found.&quot;);            \r\n           \r\n    }\r\n\r\n        } \r\n```","title":"split strings with backtracking","body":"<p>I'm trying to write a code that split a spaceless string into meaningful words but when I give sentence like &quot;arealways&quot; it returns ['a', 'real', 'ways'] and what I want is ['are', 'always'] and my dictionary contains all this words. How can I can write a code that keep backtracking till find the best matching?</p>\n<p>the code that returns 'a', 'real', 'ways':</p>\n<p>splitter.java:</p>\n<pre><code>public class splitter {\n\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    Trie dict;\n\n    public splitter(Trie t) {\n        dict = t;\n    }\n\n    public String split(String test) {\n        if (dict.contains(test)) {\n            return (test);\n        } else if (map.containsKey(test)) {\n            return (map.get(test));\n        } else {\n            for (int i = 0; i &lt; test.length(); i++) {\n                String pre = test.substring(0, i);\n                if (dict.contains(pre)) {\n                    String end = test.substring(i);\n                    String fixedEnd = split(end);\n                        if(fixedEnd != null){\n                            map.put(test, pre + &quot; &quot; + fixedEnd);\n                            return pre + &quot; &quot; + fixedEnd;\n                        }else {\n                        }\n                    \n                }\n            }\n\n        }\n        map.put(test,null);\n        return null;\n    }\n} \n</code></pre>\n<p>Trie.java:</p>\n<pre><code>public class Trie {\n    public static class TrieNode {\n        private HashMap&lt;Character, TrieNode&gt; charMap = new HashMap&lt;&gt;();\n        public char c;\n        public boolean endOWord;\n        public void insert(String s){\n        }\n        public boolean contains(String s){\n            return true;\n        }\n    }\n    public TrieNode root;\n    \n    public Trie() {\n        root = new TrieNode();\n    }\n    \n    public void insert(String s){\n        TrieNode p = root;\n        for(char c : s.toCharArray()) {\n            if(! p.charMap.containsKey(c)) {\n                TrieNode node = new TrieNode();\n                node.c = c;\n                p.charMap.put(c, node);\n            }\n            p = p.charMap.get(c);\n        }\n        p.endOWord = true;\n    }\n    public boolean contains(String s){\n        TrieNode p = root;\n        for(char c : s.toCharArray()) {\n            if(!p.charMap.containsKey(c)) {\n                return false;\n            }\n            p = p.charMap.get(c);\n        }\n        return p.endOWord;\n    }\n    public void insertDictionary(String filename) throws FileNotFoundException{\n        File file = new File(filename);\n        Scanner sc = new Scanner(file);\n        while(sc.hasNextLine())\n            insert(sc.nextLine());\n    }\n    \n\n    public void insertDictionary(File file) throws FileNotFoundException{\n        Scanner sc = new Scanner(file);\n        while(sc.hasNextLine())\n            insert(sc.nextLine());\n    }\n} \n</code></pre>\n<p>WordSplitter class:</p>\n<pre><code>public class WordSplitter {\n\n    public static void main(String[] args) throws FileNotFoundException {\n            \n           String test = &quot;arealways&quot;;\n           String myFile = &quot;/Users/abc/Desktop/dictionary.txt&quot;;\n           Trie dict = new Trie();\n           dict.insertDictionary(myFile);\n          splitter sp = new splitter(dict);\n          test = sp.split(test);\n          \n          if(test != null)\n          System.out.println(test);\n          else\n          System.out.println(&quot;No Splitting Found.&quot;);            \n           \n    }\n\n        } \n</code></pre>\n"},{"tags":["java","simulation","anylogic"],"answers":[{"tags":[],"owner":{"account_id":4999683,"reputation":3818,"user_id":4019094,"display_name":"Jaco-Ben Vosloo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646305706,"creation_date":1646305706,"answer_id":71336120,"question_id":71335997,"body_markdown":"You can control the execution of the .bat file but adding `pause` in the very last line. \r\n\r\nIt will then run and keep the Window open, so you can see what the error message is. \r\n\r\nIt is probably that you don&#39;t have the correct version of Java installed\r\n\r\nCheck this ticket for more if that is the case https://stackoverflow.com/questions/38393930/how-to-call-an-embedded-jre-from-command-line-in-order-to-run-java-applications","title":"Anylogic 7 export standalone model problem","body":"<p>You can control the execution of the .bat file but adding <code>pause</code> in the very last line.</p>\n<p>It will then run and keep the Window open, so you can see what the error message is.</p>\n<p>It is probably that you don't have the correct version of Java installed</p>\n<p>Check this ticket for more if that is the case <a href=\"https://stackoverflow.com/questions/38393930/how-to-call-an-embedded-jre-from-command-line-in-order-to-run-java-applications\">How to call an embedded jre from command line in order to run java applications</a></p>\n"}],"owner":{"account_id":23137986,"reputation":5,"user_id":17241950,"display_name":"Luigi Guadalupi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71336120,"answer_count":1,"score":0,"last_activity_date":1646325958,"creation_date":1646305154,"question_id":71335997,"body_markdown":"I want to export my Anylogic 7 model as a standalone java application. \r\n\r\nThe model export process ends with a positive result.\r\n\r\nBut when I run .bat file (my OS is windows 7), nothing happens! The black screen activated by the batch file appears and disappears quickly.\r\n\r\nWhere am I wrong? What could I control in the script of batch file?\r\n\r\nI think the problem not concerns my model, because the same result is obtained with an example model from Anylogic 7.\r\n\r\nThanks a lot!\r\n","title":"Anylogic 7 export standalone model problem","body":"<p>I want to export my Anylogic 7 model as a standalone java application.</p>\n<p>The model export process ends with a positive result.</p>\n<p>But when I run .bat file (my OS is windows 7), nothing happens! The black screen activated by the batch file appears and disappears quickly.</p>\n<p>Where am I wrong? What could I control in the script of batch file?</p>\n<p>I think the problem not concerns my model, because the same result is obtained with an example model from Anylogic 7.</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646325696,"creation_date":1646325696,"answer_id":71340690,"question_id":71340664,"body_markdown":"Java does not support [operator overloading][1].\r\n\r\nYou must use the [`compareTo()`][2] method of [`Comparable`][3]:\r\n\r\n    if (array[i].compareTo(array[i+1]) &gt; 0)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Operator_overloading\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html","title":"Why is there an error in generics when sorting an array?","body":"<p>Java does not support <a href=\"https://en.wikipedia.org/wiki/Operator_overloading\" rel=\"nofollow noreferrer\">operator overloading</a>.</p>\n<p>You must use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\"><code>compareTo()</code></a> method of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>:</p>\n<pre><code>if (array[i].compareTo(array[i+1]) &gt; 0)\n</code></pre>\n"}],"owner":{"account_id":17787953,"reputation":39,"user_id":13606052,"display_name":"Ярослав Захаров"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646325696,"creation_date":1646325578,"question_id":71340664,"body_markdown":"You need to write an array sort. But there is an error &quot;Operator &#39;&gt;&#39; cannot be applied to &#39;T&#39;, &#39;T&#39;&quot; and &quot;Incompatible types. Found: &#39;T[]&#39;, required: &#39;T&#39;&quot;. What is the problem, why is it?\r\n\r\n    public class MySortArray &lt;T extends Comparable &lt;T&gt;&gt;{\r\n    \r\n        public T SortArray(T[] array) {\r\n            int temp;\r\n            for(int i = 0; i &lt; array.length - 1; i++) {\r\n                if(array[i] &gt; array[i+1]) {\r\n    \r\n                }\r\n            }\r\n            return array;\r\n        }\r\n    }\r\n\r\n","title":"Why is there an error in generics when sorting an array?","body":"<p>You need to write an array sort. But there is an error &quot;Operator '&gt;' cannot be applied to 'T', 'T'&quot; and &quot;Incompatible types. Found: 'T[]', required: 'T'&quot;. What is the problem, why is it?</p>\n<pre><code>public class MySortArray &lt;T extends Comparable &lt;T&gt;&gt;{\n\n    public T SortArray(T[] array) {\n        int temp;\n        for(int i = 0; i &lt; array.length - 1; i++) {\n            if(array[i] &gt; array[i+1]) {\n\n            }\n        }\n        return array;\n    }\n}\n</code></pre>\n"},{"tags":["java","shell","ansible","jetty"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":2,"creation_date":1646232401,"post_id":71324543,"comment_id":126072452,"body_markdown":"What does not work? The playbook execution states that it has run (changed ...).","body":"What does not work? The playbook execution states that it has run (changed ...)."},{"owner":{"account_id":5284837,"reputation":40467,"user_id":9401096,"display_name":"Zeitounator"},"score":1,"creation_date":1646240484,"post_id":71324543,"comment_id":126075990,"body_markdown":"Using `nohup` in ansible `shell` looks like a very bad idea. Are you simply trying to run that command async ? Or is it supposed to run forever ? For first case see https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html, for second make it a real service.","body":"Using <code>nohup</code> in ansible <code>shell</code> looks like a very bad idea. Are you simply trying to run that command async ? Or is it supposed to run forever ? For first case see <a href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html\" rel=\"nofollow noreferrer\">docs.ansible.com/ansible/latest/user_guide/playbooks_async.h&zwnj;&#8203;tml</a>, for second make it a real service."},{"owner":{"account_id":18067804,"reputation":13,"user_id":13133175,"display_name":"Rahim T.S"},"score":0,"creation_date":1646282313,"post_id":71324543,"comment_id":126086261,"body_markdown":"Yeah I just want the jetty-base to be initialized, it doesn&#39;t have to run forever.","body":"Yeah I just want the jetty-base to be initialized, it doesn&#39;t have to run forever."}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646325443,"creation_date":1646325443,"answer_id":71340628,"question_id":71324543,"body_markdown":"You most definately should be using 2 separate directories.\r\n\r\n(repeated here for others that see this question in the future)\r\n\r\n1. The `jetty.home` directory.  \r\n   This is for the jetty distribution (or the more modern `jetty-home` tarball/zip).  \r\n   The `jetty.home` directory is sacred, don&#39;t edit/change/remove/add/modify ANYTHING in this directory.  You don&#39;t need to, for any possible configuration you can come up with (trust me).\r\n\r\n2. The `jetty.base` directory.  \r\n   This is the directory for your configuration, or instance of Jetty.  \r\n   Make sure this directory does not nest inside/outside of the `jetty.home` directory, you&#39;ll just make your life needless complicated when it&#39;s time to upgrade (or even downgrade) your Jetty version.\r\n\r\nNext, when it comes to initialization, turn off `nuhup`, that just hides any errors you might have during initialization.   The `--add-module` command is terminal anyway and will do what it needs and then exit, it&#39;s not a daemon and keeps running.  If you don&#39;t want to see the output, at least redirect it to an output file you can interrogate if there&#39;s issues.\r\n\r\nDon&#39;t put it in the background either (the `&amp;` at the end), the exit code will be useful to you if an error occurs.\r\n\r\naka\r\n``` shell\r\njava -jar /path/to/jetty-home/start.jar \\\r\n  jetty.home=/path/to/jetty-home \\\r\n  jetty.base=/path/to/my-jetty-base \\\r\n  --add-module=http,deploy,annotations,logging-jetty,jsp \\\r\n  2&gt;&amp;1 &gt; /path/to/my-jetty-base/jetty-init.log\r\n```\r\n\r\nKeep in mind that some modules, when added, require user interaction (to accept licenses).  This can be handled in scripts by using the [`--approve-all-licenses` option on `start.jar`][1].\r\n\r\nLastly, are you sure ansible supports the &quot;Jakarta Big Bang&quot; namespace changes that Jetty 11 implements?\r\n\r\nSee past answer on this: https://stackoverflow.com/a/66368511/775715\r\n\r\nIf ansible has updated to Jakarta EE 9, then go ahead and use Jetty 11, if they haven&#39;t, then stick with Jetty 10 (which is on Jakarta EE 8) until such time that ansible catches up with the rest of the world.\r\n\r\n\r\n  [1]: https://github.com/eclipse/jetty.project/blob/jetty-11.0.8/jetty-start/src/main/resources/org/eclipse/jetty/start/usage.txt#L194-L198","title":"Ansible issue when trying to execute java command from playbook","body":"<p>You most definately should be using 2 separate directories.</p>\n<p>(repeated here for others that see this question in the future)</p>\n<ol>\n<li><p>The <code>jetty.home</code> directory.<br />\nThis is for the jetty distribution (or the more modern <code>jetty-home</code> tarball/zip).<br />\nThe <code>jetty.home</code> directory is sacred, don't edit/change/remove/add/modify ANYTHING in this directory.  You don't need to, for any possible configuration you can come up with (trust me).</p>\n</li>\n<li><p>The <code>jetty.base</code> directory.<br />\nThis is the directory for your configuration, or instance of Jetty.<br />\nMake sure this directory does not nest inside/outside of the <code>jetty.home</code> directory, you'll just make your life needless complicated when it's time to upgrade (or even downgrade) your Jetty version.</p>\n</li>\n</ol>\n<p>Next, when it comes to initialization, turn off <code>nuhup</code>, that just hides any errors you might have during initialization.   The <code>--add-module</code> command is terminal anyway and will do what it needs and then exit, it's not a daemon and keeps running.  If you don't want to see the output, at least redirect it to an output file you can interrogate if there's issues.</p>\n<p>Don't put it in the background either (the <code>&amp;</code> at the end), the exit code will be useful to you if an error occurs.</p>\n<p>aka</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar /path/to/jetty-home/start.jar \\\n  jetty.home=/path/to/jetty-home \\\n  jetty.base=/path/to/my-jetty-base \\\n  --add-module=http,deploy,annotations,logging-jetty,jsp \\\n  2&gt;&amp;1 &gt; /path/to/my-jetty-base/jetty-init.log\n</code></pre>\n<p>Keep in mind that some modules, when added, require user interaction (to accept licenses).  This can be handled in scripts by using the <a href=\"https://github.com/eclipse/jetty.project/blob/jetty-11.0.8/jetty-start/src/main/resources/org/eclipse/jetty/start/usage.txt#L194-L198\" rel=\"nofollow noreferrer\"><code>--approve-all-licenses</code> option on <code>start.jar</code></a>.</p>\n<p>Lastly, are you sure ansible supports the &quot;Jakarta Big Bang&quot; namespace changes that Jetty 11 implements?</p>\n<p>See past answer on this: <a href=\"https://stackoverflow.com/a/66368511/775715\">https://stackoverflow.com/a/66368511/775715</a></p>\n<p>If ansible has updated to Jakarta EE 9, then go ahead and use Jetty 11, if they haven't, then stick with Jetty 10 (which is on Jakarta EE 8) until such time that ansible catches up with the rest of the world.</p>\n"}],"owner":{"account_id":18067804,"reputation":13,"user_id":13133175,"display_name":"Rahim T.S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646325443,"creation_date":1646232056,"question_id":71324543,"body_markdown":"I&#39;m in the middle of automating some processes in a VM, we are currently using java 17 and have updated out jettys to jetty-11. Since in jetty-11 both home and base are separate it&#39;s important to initialize the jetty-base folder. I need to do it from ansible\r\nI worked out a solution in local shell but trying that in ansible it&#39;s not working\r\n\r\n    - name: &quot;Run initialization command&quot; \r\n      shell: &quot;nohup java -jar &#39;{{ jetty_home }}&#39;/start.jar jetty.base=&#39;{{ jetty_install_dir }}&#39; --add-module=server,http,deploy,annotations,logging-jetty,jsp &amp;&quot;\r\n\r\nThere are no obvious errors when I run the playbook, just\r\n\r\n    TASK [jetty-distribution : initialize jetty-base] **************************************************************************************************************************\r\n    changed: [****************************] (cutting the vm name off)\r\n\r\n\r\nIs there any solutions to this issue ? Thanks in advance","title":"Ansible issue when trying to execute java command from playbook","body":"<p>I'm in the middle of automating some processes in a VM, we are currently using java 17 and have updated out jettys to jetty-11. Since in jetty-11 both home and base are separate it's important to initialize the jetty-base folder. I need to do it from ansible\nI worked out a solution in local shell but trying that in ansible it's not working</p>\n<pre><code>- name: &quot;Run initialization command&quot; \n  shell: &quot;nohup java -jar '{{ jetty_home }}'/start.jar jetty.base='{{ jetty_install_dir }}' --add-module=server,http,deploy,annotations,logging-jetty,jsp &amp;&quot;\n</code></pre>\n<p>There are no obvious errors when I run the playbook, just</p>\n<pre><code>TASK [jetty-distribution : initialize jetty-base] **************************************************************************************************************************\nchanged: [****************************] (cutting the vm name off)\n</code></pre>\n<p>Is there any solutions to this issue ? Thanks in advance</p>\n"},{"tags":["java","spring-boot","cassandra","codec","localdate"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":1,"creation_date":1646293442,"post_id":71330653,"comment_id":126088454,"body_markdown":"check types between database &amp; your code. It looks like you have field as `text` in the database","body":"check types between database &amp; your code. It looks like you have field as <code>text</code> in the database"},{"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1646316350,"post_id":71330653,"comment_id":126096656,"body_markdown":"Exactly what @AlexOtt said.  Can you post your table definition?","body":"Exactly what @AlexOtt said.  Can you post your table definition?"}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646325146,"creation_date":1646325146,"answer_id":71340556,"question_id":71330653,"body_markdown":"I can reproduce that error with your code above.  To remedy it, I have `ALTER`ed the `book_by_id` table with two new columns:\r\n\r\n    ALTER TABLE book_by_id ADD pubdate2 TEXT;\r\n    ALTER TABLE book_by_id ADD pubdate3 DATE;\r\n\r\nMy `BookEntity` class for those columns looks like this:\r\n\r\n    @Column(&quot;pubdate2&quot;)\r\n    @CassandraType(type = CassandraType.Name.TEXT)\r\n    private String publishedDate2;\r\n\r\n    @Column(&quot;pubdate3&quot;)\r\n    @CassandraType(type = CassandraType.Name.DATE)\r\n    private LocalDate publishedDate3;\r\n\r\nThe code to parse and set the date looks like this:\r\n\r\n\tDateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;);\r\n    String dateStr = &quot;2022-03-03T09:52:33.235555&quot;;\r\n    musicBook.setPublishedDate2(LocalDate.parse(dateStr,dateFormat).toString()); \r\n    musicBook.setPublishedDate3(LocalDate.parse(dateStr,dateFormat));\r\n\t\t\t\r\n    template.insert(musicBook);\r\n\r\n**tl;dr;**\r\n\r\nRedefine `published_date` as a `DATE` type, and it will work. Besides, dates/times should be stored in date/time types in databases.\r\n\r\nNote that Cassandra won&#39;t allow you to modify a column&#39;s data type.  Also, the process of dropping and adding a column with the same name in quick succession has proven to be problematic with Cassandra in the past.  I&#39;d advise adding a newly named column of a `DATE` type, and reloading its data.  Or recreate the table (with the correct data  types) and reload the data.","title":"Codec not found for requested operation: [TEXT &lt;-&gt; java.time.LocalDate]","body":"<p>I can reproduce that error with your code above.  To remedy it, I have <code>ALTER</code>ed the <code>book_by_id</code> table with two new columns:</p>\n<pre><code>ALTER TABLE book_by_id ADD pubdate2 TEXT;\nALTER TABLE book_by_id ADD pubdate3 DATE;\n</code></pre>\n<p>My <code>BookEntity</code> class for those columns looks like this:</p>\n<pre><code>@Column(&quot;pubdate2&quot;)\n@CassandraType(type = CassandraType.Name.TEXT)\nprivate String publishedDate2;\n\n@Column(&quot;pubdate3&quot;)\n@CassandraType(type = CassandraType.Name.DATE)\nprivate LocalDate publishedDate3;\n</code></pre>\n<p>The code to parse and set the date looks like this:</p>\n<pre><code>DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;);\nString dateStr = &quot;2022-03-03T09:52:33.235555&quot;;\nmusicBook.setPublishedDate2(LocalDate.parse(dateStr,dateFormat).toString()); \nmusicBook.setPublishedDate3(LocalDate.parse(dateStr,dateFormat));\n        \ntemplate.insert(musicBook);\n</code></pre>\n<p><strong>tl;dr;</strong></p>\n<p>Redefine <code>published_date</code> as a <code>DATE</code> type, and it will work. Besides, dates/times should be stored in date/time types in databases.</p>\n<p>Note that Cassandra won't allow you to modify a column's data type.  Also, the process of dropping and adding a column with the same name in quick succession has proven to be problematic with Cassandra in the past.  I'd advise adding a newly named column of a <code>DATE</code> type, and reloading its data.  Or recreate the table (with the correct data  types) and reload the data.</p>\n"}],"owner":{"account_id":19624954,"reputation":11,"user_id":14364532,"display_name":"Ninad Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646325146,"creation_date":1646265986,"question_id":71330653,"body_markdown":"This is the code which I am using to fill the column in the db.\r\n\r\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;);\r\n    JSONObject publishedObj = jsonObject.optJSONObject(&quot;created&quot;);\r\n    \t\t\t\t\tif(publishedObj != null){\r\n    \t\t\t\t\t\tString dateStr = publishedObj.getString(&quot;value&quot;);\r\n    \t\t\t\t\t\tbook.setPublishedDate(LocalDate.parse(dateStr,dateFormat));\r\n    \t\t\t\t\t}\r\n\r\nBelow is the instance variable of the column where the data needs to go:\r\n\r\n    @Column(&quot;published_date&quot;)\r\n    @CassandraType(type = CassandraType.Name.DATE)\r\n    private LocalDate publishedDate;\r\n\r\nError Message which i am getting:\r\n\r\n    com.datastax.oss.driver.api.core.type.codec.CodecNotFoundException: Codec not found for requested operation: [TEXT &lt;-&gt; java.time.LocalDate]\r\n\r\nCan please someone help.\r\nThankyou!!","title":"Codec not found for requested operation: [TEXT &lt;-&gt; java.time.LocalDate]","body":"<p>This is the code which I am using to fill the column in the db.</p>\n<pre><code>DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;);\nJSONObject publishedObj = jsonObject.optJSONObject(&quot;created&quot;);\n                    if(publishedObj != null){\n                        String dateStr = publishedObj.getString(&quot;value&quot;);\n                        book.setPublishedDate(LocalDate.parse(dateStr,dateFormat));\n                    }\n</code></pre>\n<p>Below is the instance variable of the column where the data needs to go:</p>\n<pre><code>@Column(&quot;published_date&quot;)\n@CassandraType(type = CassandraType.Name.DATE)\nprivate LocalDate publishedDate;\n</code></pre>\n<p>Error Message which i am getting:</p>\n<pre><code>com.datastax.oss.driver.api.core.type.codec.CodecNotFoundException: Codec not found for requested operation: [TEXT &lt;-&gt; java.time.LocalDate]\n</code></pre>\n<p>Can please someone help.\nThankyou!!</p>\n"},{"tags":["java","swing","look-and-feel","jsplitpane"],"comments":[{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":2,"creation_date":1646311878,"post_id":71337040,"comment_id":126094891,"body_markdown":"It looks like &quot;…the minimum size of the `Components` is used…&quot;","body":"It looks like &quot;…the minimum size of the <code>Components</code> is used…&quot;"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1646319343,"post_id":71337040,"comment_id":126097893,"body_markdown":"thanks setting     ScreenLayout.getInstanceOf().getLayout().getTopComponent().setMinimumSize(new Dimension(0,0)); does resolve the issue, but im going to do some digging to see what is causing minimum size to be set to what it is (height 501)","body":"thanks setting     ScreenLayout.getInstanceOf().getLayout().getTopComponent().s&zwnj;&#8203;etMinimumSize(new Dimension(0,0)); does resolve the issue, but im going to do some digging to see what is causing minimum size to be set to what it is (height 501)"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1646321054,"post_id":71337040,"comment_id":126098651,"body_markdown":"@CatalinaIsland note in the screenshot the top component is a JTabbedPane containig 9 tabs, I retrieved the minimum size for one of  the  tabs (a JScollPane) and it minimum height was fine, but the minimum height of JTabbedPane seems to be the sum of all the tabs, so the more tabs you have the larger the minimum height of the JTabbedPane, surely a bug !","body":"@CatalinaIsland note in the screenshot the top component is a JTabbedPane containig 9 tabs, I retrieved the minimum size for one of  the  tabs (a JScollPane) and it minimum height was fine, but the minimum height of JTabbedPane seems to be the sum of all the tabs, so the more tabs you have the larger the minimum height of the JTabbedPane, surely a bug !"}],"answers":[{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646325085,"creation_date":1646325085,"answer_id":71340546,"question_id":71337040,"body_markdown":"There seems to be a bug that JTabbedPane sets its minimum size based on summing up all the tabs height if they are JScrollPane, so the more tabs added the larger the minimum height of JTabbedPane, there doesn&#39;t seem to be an issue if add JTable directly to a JTabbedPane rather than a JTable wrapped in a JScrollPane but that is no use to me.\r\n\r\n\r\n    import com.formdev.flatlaf.FlatDarkLaf;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.plaf.basic.BasicLookAndFeel;\r\n    import java.io.File;\r\n    \r\n    public class TabbedPaneTest\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            try\r\n            {\r\n                JTabbedPane tabbedPane = new JTabbedPane();\r\n                JTable t1 = new JTable(5,5);\r\n                tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\r\n                JFrame frame = new JFrame();\r\n                frame.add(tabbedPane);\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n                System.out.println(t1.getMinimumSize());\r\n                System.out.println(&quot;scroll 1:&quot;+tabbedPane.getComponentAt(0).getMinimumSize());\r\n                System.out.println(&quot;TaBbedPane 1:&quot;+tabbedPane.getMinimumSize());\r\n            }\r\n            catch(Exception ex)\r\n            {\r\n                ex.printStackTrace();\r\n            }\r\n    \r\n            try\r\n            {\r\n                JTabbedPane tabbedPane = new JTabbedPane();\r\n                JTable t1 = new JTable(5,5);\r\n                tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\r\n                tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\r\n                tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\r\n                tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\r\n                tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\r\n                tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\r\n                tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\r\n    \r\n                JFrame frame = new JFrame();\r\n                frame.add(tabbedPane);\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n                System.out.println(t1.getMinimumSize());\r\n                System.out.println(&quot;Scroll 1&quot;+ tabbedPane.getComponentAt(0).getMinimumSize());\r\n                System.out.println(&quot;Tabbed Pane 2&quot;+tabbedPane.getMinimumSize());\r\n            }\r\n            catch(Exception ex)\r\n            {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nOutputs\r\n\r\n    java.awt.Dimension[width=75,height=80]\r\n    scroll 1:java.awt.Dimension[width=22,height=26]\r\n    TaBbedPane 1:java.awt.Dimension[width=27,height=54]\r\n    java.awt.Dimension[width=75,height=80]\r\n    Scroll 1java.awt.Dimension[width=22,height=22]\r\n    Tabbed Pane 2java.awt.Dimension[width=27,height=168]\r\n\r\nIf after creating JTabbedPane with tabs I hardcode `setMinimumSize`() the split pane works okay.\r\n","title":"What constrains how much a divider can move in JSplitPane?","body":"<p>There seems to be a bug that JTabbedPane sets its minimum size based on summing up all the tabs height if they are JScrollPane, so the more tabs added the larger the minimum height of JTabbedPane, there doesn't seem to be an issue if add JTable directly to a JTabbedPane rather than a JTable wrapped in a JScrollPane but that is no use to me.</p>\n<pre><code>import com.formdev.flatlaf.FlatDarkLaf;\n\nimport javax.swing.*;\nimport javax.swing.plaf.basic.BasicLookAndFeel;\nimport java.io.File;\n\npublic class TabbedPaneTest\n{\n    public static void main(String[] args) throws Exception\n    {\n        try\n        {\n            JTabbedPane tabbedPane = new JTabbedPane();\n            JTable t1 = new JTable(5,5);\n            tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\n            JFrame frame = new JFrame();\n            frame.add(tabbedPane);\n            frame.pack();\n            frame.setVisible(true);\n            System.out.println(t1.getMinimumSize());\n            System.out.println(&quot;scroll 1:&quot;+tabbedPane.getComponentAt(0).getMinimumSize());\n            System.out.println(&quot;TaBbedPane 1:&quot;+tabbedPane.getMinimumSize());\n        }\n        catch(Exception ex)\n        {\n            ex.printStackTrace();\n        }\n\n        try\n        {\n            JTabbedPane tabbedPane = new JTabbedPane();\n            JTable t1 = new JTable(5,5);\n            tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\n            tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\n            tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\n            tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\n            tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\n            tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\n            tabbedPane.addTab(&quot;&quot;, new JScrollPane(t1));\n\n            JFrame frame = new JFrame();\n            frame.add(tabbedPane);\n            frame.pack();\n            frame.setVisible(true);\n            System.out.println(t1.getMinimumSize());\n            System.out.println(&quot;Scroll 1&quot;+ tabbedPane.getComponentAt(0).getMinimumSize());\n            System.out.println(&quot;Tabbed Pane 2&quot;+tabbedPane.getMinimumSize());\n        }\n        catch(Exception ex)\n        {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Outputs</p>\n<pre><code>java.awt.Dimension[width=75,height=80]\nscroll 1:java.awt.Dimension[width=22,height=26]\nTaBbedPane 1:java.awt.Dimension[width=27,height=54]\njava.awt.Dimension[width=75,height=80]\nScroll 1java.awt.Dimension[width=22,height=22]\nTabbed Pane 2java.awt.Dimension[width=27,height=168]\n</code></pre>\n<p>If after creating JTabbedPane with tabs I hardcode <code>setMinimumSize</code>() the split pane works okay.</p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646325085,"creation_date":1646309580,"question_id":71337040,"body_markdown":"Have an application that uses a [`JSplitPane`][1] to divide a frame into top and bottom. I am having a problem that the divider only allows limited movement, preventing the bottom pane from being as large as I would like, and it is worse with some look and feels.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have: \r\n\r\n    splitPane.setResizeWeight(0.0f);\r\n\r\nThe bottom pane should get priority on space. but it doesn&#39;t.\r\n\r\nAfter frame is visible I get the values of `min` and `max` divider location, and this seems to match how much I can move the divider, but what decides these values?\r\n\r\n```   ScreenLayout.getInstanceOf().getLayout().getMinimumDividerLocation());\r\nScreenLayout.getInstanceOf().getLayout().getMaximumDividerLocation());\r\nScreenLayout.getInstanceOf().getLayout().getDividerLocation()\r\n```\r\nIt is better on Windows than MacOS, and on MacOS it works in a limited way with the standard Aqua Look and feel, but can only make smaller with FlatLaf look and feel\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JSplitPane.html\r\n  [2]: https://i.stack.imgur.com/Z5iI9.png","title":"What constrains how much a divider can move in JSplitPane?","body":"<p>Have an application that uses a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JSplitPane.html\" rel=\"nofollow noreferrer\"><code>JSplitPane</code></a> to divide a frame into top and bottom. I am having a problem that the divider only allows limited movement, preventing the bottom pane from being as large as I would like, and it is worse with some look and feels.</p>\n<p><a href=\"https://i.stack.imgur.com/Z5iI9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z5iI9.png\" alt=\"enter image description here\" /></a></p>\n<p>I have:</p>\n<pre><code>splitPane.setResizeWeight(0.0f);\n</code></pre>\n<p>The bottom pane should get priority on space. but it doesn't.</p>\n<p>After frame is visible I get the values of <code>min</code> and <code>max</code> divider location, and this seems to match how much I can move the divider, but what decides these values?</p>\n<pre><code>ScreenLayout.getInstanceOf().getLayout().getMaximumDividerLocation());\nScreenLayout.getInstanceOf().getLayout().getDividerLocation()\n</code></pre>\n<p>It is better on Windows than MacOS, and on MacOS it works in a limited way with the standard Aqua Look and feel, but can only make smaller with FlatLaf look and feel</p>\n"},{"tags":["java","nlp","extract"],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646324928,"creation_date":1646307285,"answer_id":71336492,"question_id":71334372,"body_markdown":"Use as below (see the example given [here][1]):\r\n\r\n    // creates a StanfordCoreNLP object, with POS tagging, lemmatization, NER, parsing, and coreference resolution \r\n    Properties props = new Properties();\r\n    props.put(&quot;annotators&quot;, &quot;tokenize, ssplit, pos, lemma, ner, parse, dcoref&quot;);\r\n    StanfordCoreNLP pipeline = new StanfordCoreNLP(props);\r\n    \r\n    // read some text from the file..\r\n    File inputFile = new File(&quot;src/test/resources/sample-content.txt&quot;);\r\n    String text = Files.asCharSource(inputFile, Charset.forName(&quot;UTF-8&quot;)).read();\r\n\r\n    // create an empty Annotation just with the given text\r\n    Annotation document = new Annotation(text);\r\n\r\n    // run all Annotators on this text\r\n    pipeline.annotate(document);\r\n\r\n    // these are all the sentences in this document\r\n    // a CoreMap is essentially a Map that uses class objects as keys and has values with custom types\r\n    List&lt;CoreMap&gt; sentences = document.get(SentencesAnnotation.class);\r\n\r\n    for(CoreMap sentence: sentences) {\r\n      // traversing the words in the current sentence\r\n      // a CoreLabel is a CoreMap with additional token-specific methods\r\n      for (CoreLabel token: sentence.get(TokensAnnotation.class)) {\r\n        // this is the text of the token\r\n        String word = token.get(TextAnnotation.class);\r\n        // this is the POS tag of the token\r\n        String pos = token.get(PartOfSpeechAnnotation.class);\r\n        // this is the NER label of the token\r\n        String ne = token.get(NamedEntityTagAnnotation.class);\r\n        \r\n        System.out.println(&quot;word: &quot; + word + &quot; pos: &quot; + pos + &quot; ne:&quot; + ne);\r\n      }\r\n\r\nUpdate\r\n------\r\nAlternatively, for reading the file contents, you could use the below that uses the built-in packages of Java; thus, no need for external packages. Depending on the characters in your text file, you can choose the appropriate `Charset`. As described [here][2], &quot;`ISO-8859-1` is an all-inclusive charset, in the sense that it is guaranteed not to throw `MalformedInputException`&quot;. The below uses that `Charset`.\r\n\r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    ...\r\n            Path path = Paths.get(&quot;sample-content.txt&quot;);\r\n    \t\tString text = &quot;&quot;;\r\n            try {\r\n                text = Files.readString(path, StandardCharsets.ISO_8859_1); //StandardCharsets.UTF_8\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n  [1]: https://github.com/drewfarris/corenlp-examples/blob/master/src/main/java/drew/corenlp/SimpleExample.java\r\n  [2]: https://stackoverflow.com/a/44233948","title":"how to Read data from a text file in java to extract data using StanfordNLP rather than reading text from a simple String","body":"<p>Use as below (see the example given <a href=\"https://github.com/drewfarris/corenlp-examples/blob/master/src/main/java/drew/corenlp/SimpleExample.java\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>// creates a StanfordCoreNLP object, with POS tagging, lemmatization, NER, parsing, and coreference resolution \nProperties props = new Properties();\nprops.put(&quot;annotators&quot;, &quot;tokenize, ssplit, pos, lemma, ner, parse, dcoref&quot;);\nStanfordCoreNLP pipeline = new StanfordCoreNLP(props);\n\n// read some text from the file..\nFile inputFile = new File(&quot;src/test/resources/sample-content.txt&quot;);\nString text = Files.asCharSource(inputFile, Charset.forName(&quot;UTF-8&quot;)).read();\n\n// create an empty Annotation just with the given text\nAnnotation document = new Annotation(text);\n\n// run all Annotators on this text\npipeline.annotate(document);\n\n// these are all the sentences in this document\n// a CoreMap is essentially a Map that uses class objects as keys and has values with custom types\nList&lt;CoreMap&gt; sentences = document.get(SentencesAnnotation.class);\n\nfor(CoreMap sentence: sentences) {\n  // traversing the words in the current sentence\n  // a CoreLabel is a CoreMap with additional token-specific methods\n  for (CoreLabel token: sentence.get(TokensAnnotation.class)) {\n    // this is the text of the token\n    String word = token.get(TextAnnotation.class);\n    // this is the POS tag of the token\n    String pos = token.get(PartOfSpeechAnnotation.class);\n    // this is the NER label of the token\n    String ne = token.get(NamedEntityTagAnnotation.class);\n    \n    System.out.println(&quot;word: &quot; + word + &quot; pos: &quot; + pos + &quot; ne:&quot; + ne);\n  }\n</code></pre>\n<h2>Update</h2>\n<p>Alternatively, for reading the file contents, you could use the below that uses the built-in packages of Java; thus, no need for external packages. Depending on the characters in your text file, you can choose the appropriate <code>Charset</code>. As described <a href=\"https://stackoverflow.com/a/44233948\">here</a>, &quot;<code>ISO-8859-1</code> is an all-inclusive charset, in the sense that it is guaranteed not to throw <code>MalformedInputException</code>&quot;. The below uses that <code>Charset</code>.</p>\n<pre><code>import java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\n...\n        Path path = Paths.get(&quot;sample-content.txt&quot;);\n        String text = &quot;&quot;;\n        try {\n            text = Files.readString(path, StandardCharsets.ISO_8859_1); //StandardCharsets.UTF_8\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"display_name":"user16956609"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71336492,"answer_count":1,"score":1,"last_activity_date":1646324928,"creation_date":1646297621,"question_id":71334372,"body_markdown":" i tried using\r\nAnnotation document = new Annotation(&quot;this is a simple string&quot;);\r\nand also tried\r\nCoreDocument coreDocument = new CoreDocument(text);\r\nstanfordCoreNLP.annotate(coreDocument);\r\nbut not able to solve it to read from a text file","title":"how to Read data from a text file in java to extract data using StanfordNLP rather than reading text from a simple String","body":"<p>i tried using\nAnnotation document = new Annotation(&quot;this is a simple string&quot;);\nand also tried\nCoreDocument coreDocument = new CoreDocument(text);\nstanfordCoreNLP.annotate(coreDocument);\nbut not able to solve it to read from a text file</p>\n"},{"tags":["java","jpa","join"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1520255338,"post_id":49111120,"comment_id":85227449,"body_markdown":"why use an `@Embeddable` if you can just annotate multiple attributes with `@Id` to create an composite key?","body":"why use an <code>@Embeddable</code> if you can just annotate multiple attributes with <code>@Id</code> to create an composite key?"},{"owner":{"account_id":3489915,"reputation":321,"user_id":2919866,"accept_rate":50,"display_name":"Spanner0jjm"},"score":0,"creation_date":1520256020,"post_id":49111120,"comment_id":85227867,"body_markdown":"it wasn&#39;t something I had specifically chosen since I generated all of my entities using the JPA generate entities tool. is there no way to do it if the composite primary key is in a separate @embeddable class, then?","body":"it wasn&#39;t something I had specifically chosen since I generated all of my entities using the JPA generate entities tool. is there no way to do it if the composite primary key is in a separate @embeddable class, then?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1520256241,"post_id":49111120,"comment_id":85227980,"body_markdown":"you should be able to access it with `person.join(&quot;id.personid&quot;)`. that tells JPA that the field you want to access is not a field of the class itself, but from the field of the class (&quot;id&quot; specifies the field in Person class and &quot;personid&quot; specifies the filed in the key class)","body":"you should be able to access it with <code>person.join(&quot;id.personid&quot;)</code>. that tells JPA that the field you want to access is not a field of the class itself, but from the field of the class (&quot;id&quot; specifies the field in Person class and &quot;personid&quot; specifies the filed in the key class)"},{"owner":{"account_id":3489915,"reputation":321,"user_id":2919866,"accept_rate":50,"display_name":"Spanner0jjm"},"score":0,"creation_date":1520257823,"post_id":49111120,"comment_id":85228881,"body_markdown":"Thanks for your comment but I have tried this and it didn&#39;t work.\n`java.lang.IllegalArgumentException: The attribute [id.person] is not present in the managed type [EntityTypeImpl@995482901:Person`","body":"Thanks for your comment but I have tried this and it didn&#39;t work. <code>java.lang.IllegalArgumentException: The attribute [id.person] is not present in the managed type [EntityTypeImpl@995482901:Person</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1520258100,"post_id":49111120,"comment_id":85229028,"body_markdown":"its not `id.person`. it is `id.personid`","body":"its not <code>id.person</code>. it is <code>id.personid</code>"},{"owner":{"account_id":3489915,"reputation":321,"user_id":2919866,"accept_rate":50,"display_name":"Spanner0jjm"},"score":0,"creation_date":1520258449,"post_id":49111120,"comment_id":85229252,"body_markdown":"Sorry this was a typo from copying the code from my actual project. I tried: &quot;variable name in entity class&quot;.&quot;variable name in embeddable class&quot; and it didn&#39;t work.","body":"Sorry this was a typo from copying the code from my actual project. I tried: &quot;variable name in entity class&quot;.&quot;variable name in embeddable class&quot; and it didn&#39;t work."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1520259066,"post_id":49111120,"comment_id":85229633,"body_markdown":"next shot: `person.join(&quot;id&quot;).&lt;Integer&gt;get(&quot;personid&quot;)`","body":"next shot: <code>person.join(&quot;id&quot;).&lt;Integer&gt;get(&quot;personid&quot;)</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1520259519,"post_id":49111120,"comment_id":85229912,"body_markdown":"For further information you might want to look [here](https://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/querycriteria.html)","body":"For further information you might want to look <a href=\"https://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/querycriteria.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":3489915,"reputation":321,"user_id":2919866,"accept_rate":50,"display_name":"Spanner0jjm"},"score":0,"creation_date":1520259829,"post_id":49111120,"comment_id":85230118,"body_markdown":"Also doesn&#39;t work, the join() method requires a String as a parameter which is the name of the attribute, and returns the resulting Join&lt;X,Y&gt;, adding a get here would return the corresponding path&lt;Y&gt; to the attribute, and does not compile. Also, you cannot cast a class inline as you specified, it again will not compile.","body":"Also doesn&#39;t work, the join() method requires a String as a parameter which is the name of the attribute, and returns the resulting Join&lt;X,Y&gt;, adding a get here would return the corresponding path&lt;Y&gt; to the attribute, and does not compile. Also, you cannot cast a class inline as you specified, it again will not compile."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1520261088,"post_id":49111120,"comment_id":85230897,"body_markdown":"i think your whole model is a bit off. from how i see it, your `Person` class should have a list of orders, while each order should have a person which it is associated with. this way you doN&#39;t need to create the join yourself","body":"i think your whole model is a bit off. from how i see it, your <code>Person</code> class should have a list of orders, while each order should have a person which it is associated with. this way you doN&#39;t need to create the join yourself"},{"owner":{"account_id":3489915,"reputation":321,"user_id":2919866,"accept_rate":50,"display_name":"Spanner0jjm"},"score":0,"creation_date":1520261581,"post_id":49111120,"comment_id":85231177,"body_markdown":"I appreciate the help, but as I stated this was just a simple example I created to illustrate my problem. I&#39;d like to know how to create the specified JOIN statement, as done in SQL, not ways around the problem.","body":"I appreciate the help, but as I stated this was just a simple example I created to illustrate my problem. I&#39;d like to know how to create the specified JOIN statement, as done in SQL, not ways around the problem."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1520261974,"post_id":49111120,"comment_id":85231465,"body_markdown":"the problem is, that your classes do not exactly reflect the tables. move the fields out of the embedded key and you can easily do the JOIN &quot;just like in SQL&quot;","body":"the problem is, that your classes do not exactly reflect the tables. move the fields out of the embedded key and you can easily do the JOIN &quot;just like in SQL&quot;"},{"owner":{"account_id":3489915,"reputation":321,"user_id":2919866,"accept_rate":50,"display_name":"Spanner0jjm"},"score":0,"creation_date":1520263231,"post_id":49111120,"comment_id":85232301,"body_markdown":"The classes do exactly reflect the tables and they are generated from them by JPA. I find it hard to believe that there is no way of accessing the variables inside of an @Embeddable class.\nI have achieved something similar in a SELECT statement as follows:\n`query.select(person).where(cb.equal(person.get(&quot;id&quot;).get(&quot;personid&quot;), &quot;myPersonId&quot;);`\nSurely there is something similar for the join() method...","body":"The classes do exactly reflect the tables and they are generated from them by JPA. I find it hard to believe that there is no way of accessing the variables inside of an @Embeddable class. I have achieved something similar in a SELECT statement as follows: <code>query.select(person).where(cb.equal(person.get(&quot;id&quot;).get(&quot;pe&zwnj;&#8203;rsonid&quot;), &quot;myPersonId&quot;);</code> Surely there is something similar for the join() method..."}],"answers":[{"tags":[],"owner":{"account_id":5994262,"reputation":67,"user_id":4709421,"accept_rate":57,"display_name":"Diego Delgado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646324894,"creation_date":1646324894,"answer_id":71340495,"question_id":49111120,"body_markdown":"The join() method is also used to navigate to embedded attributes:\r\n\r\n    Join&lt;Person, Order&gt; orders = person.join(&quot;id&quot;).join(&quot;personid&quot;)\r\n\r\nSource:\r\nhttps://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#criteria-from-join","title":"JPA creating a CriteriaQuery for a JOIN statement with attributes in an embedded primary key","body":"<p>The join() method is also used to navigate to embedded attributes:</p>\n<pre><code>Join&lt;Person, Order&gt; orders = person.join(&quot;id&quot;).join(&quot;personid&quot;)\n</code></pre>\n<p>Source:\n<a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#criteria-from-join\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#criteria-from-join</a></p>\n"}],"owner":{"account_id":3489915,"reputation":321,"user_id":2919866,"accept_rate":50,"display_name":"Spanner0jjm"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646324894,"creation_date":1520254934,"question_id":49111120,"body_markdown":"I&#39;m having some trouble creating a TypedQuery for a JOIN statement using JPA, hoping someone can point me in the right direction.\r\n\r\nAs an example, suppose I have a table, Person, with a composite primary key (PERSONID, FISRTNAME, LASTNAME):\r\n\r\n    CREATE TABLE Person (\r\n    PERSONID int NOT NULL,\r\n    FIRSTNAME varchar2(255) NOT NULL,\r\n    LASTNAME varchar2(255) NOT NULL,\r\n    AGE int,\r\n    CONSTRAINT PK_PERSON PRIMARY KEY (PERSONID, FIRSTNAME, LASTNAME)\r\n    );\r\n\r\nI can then use JPA to generate an entity class with it&#39;s composite primary key, which would look something like this:\r\n\r\n    @Entity\r\n    public class Person implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private PersonPK id;\r\n        private int age;\r\n        //constructor and getters and setters...\r\n    }\r\n\r\n    @Embeddable\r\n    public class PersonPK implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private int personid;\r\n        private String firstname;\r\n        private String lastname;\r\n        //constructor and getters and setters...\r\n    }\r\n\r\nLet&#39;s suppose also I have another table, Order, also with a composite primary key (PERSONID, FIRSTNAME; LASTNAME, PRODUCTID):\r\n\r\n    CREATE TABLE Order (\r\n    PERSONID int NOT NULL,\r\n    FIRSTNAME varchar2(255) NOT NULL,\r\n    LASTNAME varchar2(255) NOT NULL,\r\n    PRODUCTID int NOT NULL,\r\n    DESCRIPTION varchar2(255),\r\n    CONSTRAINT PK_ORDER PRIMARY KEY (PERSONID, FIRSTNAME, LASTNAME, PRODUCTID)\r\n    );\r\n\r\nAnd JPA would generate some similar looking entity classes:\r\n\r\n    @Entity\r\n    public class Order implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private OrderPK id;\r\n        private String description;\r\n        //constructor and getters and setters...\r\n    }\r\n\r\n    @Embeddable\r\n    public class OrderPK implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private int personid;\r\n        private String firstname;\r\n        private String lastname;\r\n        private int productid\r\n        //constructor and getters and setters...\r\n    }\r\n\r\nOkay, so probably not the most sensible schema but it works for my example. So, this is the SQL statement I&#39;d like to reproduce:\r\n\r\n    SELECT * \r\n    FROM Person\r\n    INNER JOIN Order\r\n    ON Person.PERSONID = Order.PERSONID\r\n    AND Person.FIRSTNAME = Order.FIRSTNAME\r\n    AND Person.LASTNAME = Order.LASTNAME;\r\n\r\nSo probably not in this schema but for my project in Oracle SQL it produces the results I want. So, here&#39;s my question, how do I create this query using a JPA?\r\n\r\nThis is what I have tried so far:\r\n\r\n    EntityManagerFactory emf = Persistance.createEntityManagerFactory(&quot;persistenceunitname&quot;);\r\n    EntityManager em = emf.createEntityManager();\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Person&gt; query = cb.createQuery(Person.class);\r\n    Root&lt;Person&gt; person = query.from(Person.class);\r\n    Join&lt;Person, Order&gt; orders = person.join(&quot;personid&quot;); //the problem is with this line, explained in more detail below\r\n    query.multiselect(orders); // not sure if this is correct\r\n    TypedQuery&lt;Person&gt; q = em.createQuery(query); // not sure if this is correct\r\n    List&lt;Person&gt; results = q.getResultList(); // not sure if this is correct\r\n\r\nThe problem I have found after following some online tutorials, is with the line:\r\n\r\n`Join&lt;Person, Order&gt; orders = person.join(&quot;personid&quot;);`\r\n\r\nbecause the attribute personid is inside the embeddable class PersonPK, and not in Person, due to it being a composite primary key.\r\n\r\nObviously, supposing &quot;personid&quot; correctly identifies the attribute in the primary key, this would only create a join statement on personid, and not on the firstname nor the lastname.\r\n\r\nSo, my question is, how can I correctly create a TypedQuery statement that will create the JOIN statement as specified above?","title":"JPA creating a CriteriaQuery for a JOIN statement with attributes in an embedded primary key","body":"<p>I'm having some trouble creating a TypedQuery for a JOIN statement using JPA, hoping someone can point me in the right direction.</p>\n\n<p>As an example, suppose I have a table, Person, with a composite primary key (PERSONID, FISRTNAME, LASTNAME):</p>\n\n<pre><code>CREATE TABLE Person (\nPERSONID int NOT NULL,\nFIRSTNAME varchar2(255) NOT NULL,\nLASTNAME varchar2(255) NOT NULL,\nAGE int,\nCONSTRAINT PK_PERSON PRIMARY KEY (PERSONID, FIRSTNAME, LASTNAME)\n);\n</code></pre>\n\n<p>I can then use JPA to generate an entity class with it's composite primary key, which would look something like this:</p>\n\n<pre><code>@Entity\npublic class Person implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private PersonPK id;\n    private int age;\n    //constructor and getters and setters...\n}\n\n@Embeddable\npublic class PersonPK implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private int personid;\n    private String firstname;\n    private String lastname;\n    //constructor and getters and setters...\n}\n</code></pre>\n\n<p>Let's suppose also I have another table, Order, also with a composite primary key (PERSONID, FIRSTNAME; LASTNAME, PRODUCTID):</p>\n\n<pre><code>CREATE TABLE Order (\nPERSONID int NOT NULL,\nFIRSTNAME varchar2(255) NOT NULL,\nLASTNAME varchar2(255) NOT NULL,\nPRODUCTID int NOT NULL,\nDESCRIPTION varchar2(255),\nCONSTRAINT PK_ORDER PRIMARY KEY (PERSONID, FIRSTNAME, LASTNAME, PRODUCTID)\n);\n</code></pre>\n\n<p>And JPA would generate some similar looking entity classes:</p>\n\n<pre><code>@Entity\npublic class Order implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private OrderPK id;\n    private String description;\n    //constructor and getters and setters...\n}\n\n@Embeddable\npublic class OrderPK implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private int personid;\n    private String firstname;\n    private String lastname;\n    private int productid\n    //constructor and getters and setters...\n}\n</code></pre>\n\n<p>Okay, so probably not the most sensible schema but it works for my example. So, this is the SQL statement I'd like to reproduce:</p>\n\n<pre><code>SELECT * \nFROM Person\nINNER JOIN Order\nON Person.PERSONID = Order.PERSONID\nAND Person.FIRSTNAME = Order.FIRSTNAME\nAND Person.LASTNAME = Order.LASTNAME;\n</code></pre>\n\n<p>So probably not in this schema but for my project in Oracle SQL it produces the results I want. So, here's my question, how do I create this query using a JPA?</p>\n\n<p>This is what I have tried so far:</p>\n\n<pre><code>EntityManagerFactory emf = Persistance.createEntityManagerFactory(\"persistenceunitname\");\nEntityManager em = emf.createEntityManager();\nCriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;Person&gt; query = cb.createQuery(Person.class);\nRoot&lt;Person&gt; person = query.from(Person.class);\nJoin&lt;Person, Order&gt; orders = person.join(\"personid\"); //the problem is with this line, explained in more detail below\nquery.multiselect(orders); // not sure if this is correct\nTypedQuery&lt;Person&gt; q = em.createQuery(query); // not sure if this is correct\nList&lt;Person&gt; results = q.getResultList(); // not sure if this is correct\n</code></pre>\n\n<p>The problem I have found after following some online tutorials, is with the line:</p>\n\n<p><code>Join&lt;Person, Order&gt; orders = person.join(\"personid\");</code></p>\n\n<p>because the attribute personid is inside the embeddable class PersonPK, and not in Person, due to it being a composite primary key.</p>\n\n<p>Obviously, supposing \"personid\" correctly identifies the attribute in the primary key, this would only create a join statement on personid, and not on the firstname nor the lastname.</p>\n\n<p>So, my question is, how can I correctly create a TypedQuery statement that will create the JOIN statement as specified above?</p>\n"},{"tags":["java","aspectj","jep-396"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1639719946,"post_id":70388073,"comment_id":124425735,"body_markdown":"It seems that you have a bootstrapping problem there, like the aspect not being instantiated yet when it is already referenced from your woven `com.example.MyAspectTest` constructor. I would like to inspect the situation in more detail, so please provide an [MCVE](https://stackoverflow.com/help/mcve) (ideally on GitHub), so I can reproduce it. BTW, why did you tag the question with _aspectj-maven-plugin_? For LTW, you do not need that plugin, only for CTW. Maybe you mixed up two weaving methods there somehow. Are you using Spring (Boot)?","body":"It seems that you have a bootstrapping problem there, like the aspect not being instantiated yet when it is already referenced from your woven <code>com.example.MyAspectTest</code> constructor. I would like to inspect the situation in more detail, so please provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> (ideally on GitHub), so I can reproduce it. BTW, why did you tag the question with <i>aspectj-maven-plugin</i>? For LTW, you do not need that plugin, only for CTW. Maybe you mixed up two weaving methods there somehow. Are you using Spring (Boot)?"},{"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"score":0,"creation_date":1639728241,"post_id":70388073,"comment_id":124427522,"body_markdown":"Thanks for your comments. I removed *aspectj-maven-plugin* tag, sorry I didn&#39;t understand about it enough.\nAnd I uploaded the MVCE on [GitHub](https://github.com/avenue68/repository-for-sharing/tree/master/demo). \nPlease check it!","body":"Thanks for your comments. I removed <i>aspectj-maven-plugin</i> tag, sorry I didn&#39;t understand about it enough. And I uploaded the MVCE on <a href=\"https://github.com/avenue68/repository-for-sharing/tree/master/demo\" rel=\"nofollow noreferrer\">GitHub</a>.  Please check it!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1639965324,"post_id":70388073,"comment_id":124475218,"body_markdown":"The MCVE made it easy to find the problem&#39;s root cause, which otherwise I might have overlooked. So you did yourself a favour by providing it. &#128578;","body":"The MCVE made it easy to find the problem&#39;s root cause, which otherwise I might have overlooked. So you did yourself a favour by providing it. 🙂"},{"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"score":0,"creation_date":1639986357,"post_id":70388073,"comment_id":124478629,"body_markdown":"Ok&#128522; I will arrange MVCE in advance when I post questions!","body":"Ok😊 I will arrange MVCE in advance when I post questions!"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639990536,"creation_date":1639965219,"answer_id":70416686,"question_id":70388073,"body_markdown":"There is a subtle error in your `aop.xml`:\r\n\r\n```xml\r\n&lt;include within=&quot;@com.example.MyAnnotation *&quot; /&gt;\r\n```\r\n\r\nThe `include within` rule is too narrow. Aspect weaving is falsely limited to only target classes, the aspect class itself is excluded, because it does not carry the target annotation itself. The effect is that the weaver\r\nnever finishes the aspect itself - remember, it was not compiled by AJC\r\nbefore. This caused `NoSuchMethodError: ...MyAspect.aspectOf()`. So widening the weaving scope to the whole base package fixes your problem:\r\n\r\n```xml\r\n&lt;include within=&quot;com.example..*&quot; /&gt;\r\n```\r\n\r\nTwo more things you should improve:\r\n  * Use `@within` rather than `@target`, because `@target` is evaluated dynamically during runtime. Only then we know for certain which exact type a target instance has. `@within` however can be evaluated statically during\r\nweaving.\r\n  * Use AspectJ 1.9.8.RC3 due to use of Java 17 (you seem to like the new text blocks). For LTW, this might not be strictly necessary as long as the byte code is compatible, but latest when trying to compile Java 17 code, AspectJ 1.9.7 would not suffice, because it\r\nonly supports up to Java 15.\r\n\r\nHere is my [pull request](https://github.com/avenue68/repository-for-sharing/pull/1) with the three corresponding commits.\r\n\r\n---\r\n\r\n**Update:** If for whatever reason you want to avoid mentioning the target package in `aop.xml`, simply just mention the annotation and the aspect like this:\r\n\r\n```xml\r\n&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;https://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\r\n&lt;aspectj&gt;\r\n  &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\r\n    &lt;include within=&quot;com.example.MyAspect&quot;/&gt;\r\n    &lt;include within=&quot;@com.example.MyAnnotation *&quot;/&gt;\r\n  &lt;/weaver&gt;\r\n  &lt;aspects&gt;\r\n    &lt;aspect name=&quot;com.example.MyAspect&quot;/&gt;\r\n  &lt;/aspects&gt;\r\n&lt;/aspectj&gt;\r\n```\r\n\r\nA way to avoid explicitly including the aspect is to simply compile the aspect library with the AspectJ Compiler AJC (e.g. via AspectJ Maven Plugin).\r\n\r\n---\r\n\r\n**Update 2,** regarding your follow-up question: As described in the [AspectJ 1.9.7 release notes](https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-197.html), due to JEP 396 you need to add `--add-opens java.base/java.lang=ALL-UNNAMED` to your Java command line.\r\n\r\nI fixed your problem in [pull request #2](https://github.com/avenue68/repository-for-sharing/pull/2).","title":"Is it possible to include classes to be weaved by their annotations on aop.xml?","body":"<p>There is a subtle error in your <code>aop.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include within=&quot;@com.example.MyAnnotation *&quot; /&gt;\n</code></pre>\n<p>The <code>include within</code> rule is too narrow. Aspect weaving is falsely limited to only target classes, the aspect class itself is excluded, because it does not carry the target annotation itself. The effect is that the weaver\nnever finishes the aspect itself - remember, it was not compiled by AJC\nbefore. This caused <code>NoSuchMethodError: ...MyAspect.aspectOf()</code>. So widening the weaving scope to the whole base package fixes your problem:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include within=&quot;com.example..*&quot; /&gt;\n</code></pre>\n<p>Two more things you should improve:</p>\n<ul>\n<li>Use <code>@within</code> rather than <code>@target</code>, because <code>@target</code> is evaluated dynamically during runtime. Only then we know for certain which exact type a target instance has. <code>@within</code> however can be evaluated statically during\nweaving.</li>\n<li>Use AspectJ 1.9.8.RC3 due to use of Java 17 (you seem to like the new text blocks). For LTW, this might not be strictly necessary as long as the byte code is compatible, but latest when trying to compile Java 17 code, AspectJ 1.9.7 would not suffice, because it\nonly supports up to Java 15.</li>\n</ul>\n<p>Here is my <a href=\"https://github.com/avenue68/repository-for-sharing/pull/1\" rel=\"nofollow noreferrer\">pull request</a> with the three corresponding commits.</p>\n<hr />\n<p><strong>Update:</strong> If for whatever reason you want to avoid mentioning the target package in <code>aop.xml</code>, simply just mention the annotation and the aspect like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;https://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\n&lt;aspectj&gt;\n  &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\n    &lt;include within=&quot;com.example.MyAspect&quot;/&gt;\n    &lt;include within=&quot;@com.example.MyAnnotation *&quot;/&gt;\n  &lt;/weaver&gt;\n  &lt;aspects&gt;\n    &lt;aspect name=&quot;com.example.MyAspect&quot;/&gt;\n  &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>A way to avoid explicitly including the aspect is to simply compile the aspect library with the AspectJ Compiler AJC (e.g. via AspectJ Maven Plugin).</p>\n<hr />\n<p><strong>Update 2,</strong> regarding your follow-up question: As described in the <a href=\"https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-197.html\" rel=\"nofollow noreferrer\">AspectJ 1.9.7 release notes</a>, due to JEP 396 you need to add <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> to your Java command line.</p>\n<p>I fixed your problem in <a href=\"https://github.com/avenue68/repository-for-sharing/pull/2\" rel=\"nofollow noreferrer\">pull request #2</a>.</p>\n"}],"owner":{"account_id":23587902,"reputation":53,"user_id":17697751,"display_name":"avenue68"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70416686,"answer_count":1,"score":0,"last_activity_date":1646324787,"creation_date":1639711550,"question_id":70388073,"body_markdown":"I&#39;m developing some aspects which are expected to load-time weave classes with @AnAnnotation. I created aop.xml as follows\r\n\r\n```xml\r\n&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;https://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\r\n&lt;aspectj&gt;\r\n\r\n\t&lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\r\n\t\t&lt;include within=&quot;@com.example.MyAnnotation *&quot; /&gt;\r\n\t&lt;/weaver&gt;\r\n\r\n\t&lt;aspects&gt;\r\n\t\t&lt;aspect name=&quot;com.example.MyAspect&quot; /&gt;\r\n\t&lt;/aspects&gt;\r\n\r\n&lt;/aspectj&gt;\r\n```\r\n\r\nand according to log, my aspect seems to try advise appropriate classes but right after that the following exception occurred.\r\n```none\r\njava.lang.NoSuchMethodError: com.example.MyAspect.aspectOf\r\n```\r\n\r\nAny ideas?\r\n\r\n**:log**\r\n```none\r\n[ERROR] [AppClassLoader@2b193f2d] info AspectJ Weaver Version 1.9.7 built on Thursday Jun 24, 2021 at 16:14:45 PDT\r\n[ERROR] [AppClassLoader@2b193f2d] info register classloader jdk.internal.loader.ClassLoaders$AppClassLoader@2b193f2d\r\n[ERROR] [AppClassLoader@2b193f2d] info using configuration project/target/classes/META-INF/aop.xml\r\n[ERROR] [AppClassLoader@2b193f2d] info register aspect com.example.MyAspect\r\n[ERROR] [AppClassLoader@2b193f2d] weaveinfo Join point &#39;constructor-execution(void com.example.MyAspectTest$MyTargetClass.&lt;init&gt;(com.example.MyAspectTest, java.lang.String))&#39; in Type &#39;com.example.MyAspectTest$MyTargetClass&#39; (MyAspectTest.java:165) advised by afterReturning advice from &#39;com.example.MyAspect&#39; (MyAspect.java) [with runtime test]\r\n[ERROR] [AppClassLoader@2b193f2d] weaveinfo Join point &#39;method-execution(void com.example.MyAspectTest$MyTargetClass.myMethod(int))&#39; in Type &#39;com.example.MyAspectTest$MyTargetClass.&#39; (MyAspectTest.java:182) advised by afterReturning advice from &#39;com.example.MyAspect&#39; (MyAspect.java) [with runtime test]\r\n[INFO] Running com.example.MyAspectTest\r\n[ERROR] Tests run: 5, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 0.055 s &lt;&lt;&lt; FAILURE! - in com.example.MyAspectTest\r\n[ERROR] com.example.MyAspectTest.testMyMethod  Time elapsed: 0.011 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NoSuchMethodError: &#39;com.example.MyAspect com.example.MyAspect.aspectOf()&#39;\r\n\tat com.example.MyAspectTest.&lt;init&gt;(MyAspectTest.java:57)\r\n```\r\n\r\n**:MyAspect.java**\r\n```java\r\npackage com.example;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.AfterReturning;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class MyAspect {\r\n\r\n\t@AfterReturning(&quot;&quot;&quot;\r\n\t\t\t@target(com.example.MyAnnotation)\r\n\t\t\t&amp;&amp; (execution(* *.*(..)) || execution(* .new(..)))\r\n\t\t\t&quot;&quot;&quot;)\r\n\tpublic void intercept(JoinPoint JoinPoint) throws Throwable {\r\n\t\tSystem.out.println(&quot;********** MyAspect intercepted&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Is it possible to include classes to be weaved by their annotations on aop.xml?","body":"<p>I'm developing some aspects which are expected to load-time weave classes with @AnAnnotation. I created aop.xml as follows</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;https://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\n&lt;aspectj&gt;\n\n    &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\n        &lt;include within=&quot;@com.example.MyAnnotation *&quot; /&gt;\n    &lt;/weaver&gt;\n\n    &lt;aspects&gt;\n        &lt;aspect name=&quot;com.example.MyAspect&quot; /&gt;\n    &lt;/aspects&gt;\n\n&lt;/aspectj&gt;\n</code></pre>\n<p>and according to log, my aspect seems to try advise appropriate classes but right after that the following exception occurred.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NoSuchMethodError: com.example.MyAspect.aspectOf\n</code></pre>\n<p>Any ideas?</p>\n<p><strong>:log</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] [AppClassLoader@2b193f2d] info AspectJ Weaver Version 1.9.7 built on Thursday Jun 24, 2021 at 16:14:45 PDT\n[ERROR] [AppClassLoader@2b193f2d] info register classloader jdk.internal.loader.ClassLoaders$AppClassLoader@2b193f2d\n[ERROR] [AppClassLoader@2b193f2d] info using configuration project/target/classes/META-INF/aop.xml\n[ERROR] [AppClassLoader@2b193f2d] info register aspect com.example.MyAspect\n[ERROR] [AppClassLoader@2b193f2d] weaveinfo Join point 'constructor-execution(void com.example.MyAspectTest$MyTargetClass.&lt;init&gt;(com.example.MyAspectTest, java.lang.String))' in Type 'com.example.MyAspectTest$MyTargetClass' (MyAspectTest.java:165) advised by afterReturning advice from 'com.example.MyAspect' (MyAspect.java) [with runtime test]\n[ERROR] [AppClassLoader@2b193f2d] weaveinfo Join point 'method-execution(void com.example.MyAspectTest$MyTargetClass.myMethod(int))' in Type 'com.example.MyAspectTest$MyTargetClass.' (MyAspectTest.java:182) advised by afterReturning advice from 'com.example.MyAspect' (MyAspect.java) [with runtime test]\n[INFO] Running com.example.MyAspectTest\n[ERROR] Tests run: 5, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 0.055 s &lt;&lt;&lt; FAILURE! - in com.example.MyAspectTest\n[ERROR] com.example.MyAspectTest.testMyMethod  Time elapsed: 0.011 s  &lt;&lt;&lt; ERROR!\njava.lang.NoSuchMethodError: 'com.example.MyAspect com.example.MyAspect.aspectOf()'\n    at com.example.MyAspectTest.&lt;init&gt;(MyAspectTest.java:57)\n</code></pre>\n<p><strong>:MyAspect.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.AfterReturning;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class MyAspect {\n\n    @AfterReturning(&quot;&quot;&quot;\n            @target(com.example.MyAnnotation)\n            &amp;&amp; (execution(* *.*(..)) || execution(* .new(..)))\n            &quot;&quot;&quot;)\n    public void intercept(JoinPoint JoinPoint) throws Throwable {\n        System.out.println(&quot;********** MyAspect intercepted&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","annotations","spring-aop","jep-396"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1646095662,"post_id":71299710,"comment_id":126035208,"body_markdown":"Welcome to SO. I reformatted your question. Please learn some markdown. Code blocks can be created either the old-fashioned way by indentation of by fencing them with triple backticks (on separate lines) plus an optional language hint for syntax highlighting. Just click &quot;edit&quot; and see how I did it, then cancel saving. You tried to apply both methods at the same time, which does not work. Furthermore, C/Java-like single comment &quot;//&quot; double slashes do not belong to the beginning of paragraphs in prose. If you tried to use healine formatting, I don&#39;t know, but the syntax for that is different.","body":"Welcome to SO. I reformatted your question. Please learn some markdown. Code blocks can be created either the old-fashioned way by indentation of by fencing them with triple backticks (on separate lines) plus an optional language hint for syntax highlighting. Just click &quot;edit&quot; and see how I did it, then cancel saving. You tried to apply both methods at the same time, which does not work. Furthermore, C/Java-like single comment &quot;//&quot; double slashes do not belong to the beginning of paragraphs in prose. If you tried to use healine formatting, I don&#39;t know, but the syntax for that is different."}],"answers":[{"tags":[],"owner":{"account_id":10842534,"reputation":53,"user_id":7973282,"display_name":"victoraugustofd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646076615,"creation_date":1646076615,"answer_id":71300149,"question_id":71299710,"body_markdown":"Since Java 9, [Java introduced Modules][1] and some frameworks such as Spring, rely on several Reflection behaviour and because of the modularization, some classes had their attribute not accessible through Reflection.\r\nThe solution would be change the accessibility of these attributes, but it would take forever to do that.\r\n\r\nThe real solution is to add this VM option when you run your application: --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nPlease refer to this great answer on another post with a similar problem:\r\n[Answer to similar question][2] \r\n\r\nI changed your application to use Spring Boot, have you consider using it?\r\nFor Spring applications, it is a very handy solution since it abstract many configurations. Here is a link with a detailed example: [Spring Boot Example][3]\r\n\r\n\r\n  [1]: http://openjdk.java.net/projects/jigsaw/spec/sotms/\r\n  [2]: https://stackoverflow.com/a/41265267/7973282\r\n  [3]: https://spring.io/guides/gs/spring-boot/","title":"What is causing Spring not to be able to load the configuration class when using AnnotationConfigApplicationContext?","body":"<p>Since Java 9, <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/\" rel=\"nofollow noreferrer\">Java introduced Modules</a> and some frameworks such as Spring, rely on several Reflection behaviour and because of the modularization, some classes had their attribute not accessible through Reflection.\nThe solution would be change the accessibility of these attributes, but it would take forever to do that.</p>\n<p>The real solution is to add this VM option when you run your application: --add-opens java.base/java.lang=ALL-UNNAMED</p>\n<p>Please refer to this great answer on another post with a similar problem:\n<a href=\"https://stackoverflow.com/a/41265267/7973282\">Answer to similar question</a></p>\n<p>I changed your application to use Spring Boot, have you consider using it?\nFor Spring applications, it is a very handy solution since it abstract many configurations. Here is a link with a detailed example: <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">Spring Boot Example</a></p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646187083,"creation_date":1646097212,"answer_id":71302730,"question_id":71299710,"body_markdown":"### Preface\r\n\r\nThis question is actually quite similar to the one I answered generically [here](https://stackoverflow.com/a/70965030/1082681), where among other things I also described the `--add-opens` workaround _@victoraugustofd_ mentioned in his answer here.\r\n\r\nBut because the other answer does not contain an [MCVE](https://stackoverflow.com/help/mcve) and this one does, this question is actually better to answer not just in a generic but in a more concrete way, because every reader in the future can see code and a POM in order to reproduce both the problem and the solution. This is the kind of question we want here on Stack Overflow. &#128578;\r\n\r\n### Problem root cause\r\n\r\nLike I said in the other answer, the problem is that [JEP 396](https://openjdk.java.net/jeps/396) is limiting access to internal JDK classes since JDK 16.\r\n\r\n### Solution\r\n\r\nSo if you want to avoid the workaround of opening up packages, just upgrade to a more recent Spring version embedding a more recent CGLIB version. For 4.3.x, there is no such update, neither is there for 5.0.x. But if you e.g. can upgrade to 5.1.20, 5.2.19 or 5.3.16, your example application works on JDK 16+. There might be slightly older minor-minor releases containing suitable CGLIB versions, but why bother if you upgrade anyway? Just use the latest minor-minor for 5.1, 5.2 or 5.3.","title":"What is causing Spring not to be able to load the configuration class when using AnnotationConfigApplicationContext?","body":"<h3>Preface</h3>\n<p>This question is actually quite similar to the one I answered generically <a href=\"https://stackoverflow.com/a/70965030/1082681\">here</a>, where among other things I also described the <code>--add-opens</code> workaround <em>@victoraugustofd</em> mentioned in his answer here.</p>\n<p>But because the other answer does not contain an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and this one does, this question is actually better to answer not just in a generic but in a more concrete way, because every reader in the future can see code and a POM in order to reproduce both the problem and the solution. This is the kind of question we want here on Stack Overflow. 🙂</p>\n<h3>Problem root cause</h3>\n<p>Like I said in the other answer, the problem is that <a href=\"https://openjdk.java.net/jeps/396\" rel=\"nofollow noreferrer\">JEP 396</a> is limiting access to internal JDK classes since JDK 16.</p>\n<h3>Solution</h3>\n<p>So if you want to avoid the workaround of opening up packages, just upgrade to a more recent Spring version embedding a more recent CGLIB version. For 4.3.x, there is no such update, neither is there for 5.0.x. But if you e.g. can upgrade to 5.1.20, 5.2.19 or 5.3.16, your example application works on JDK 16+. There might be slightly older minor-minor releases containing suitable CGLIB versions, but why bother if you upgrade anyway? Just use the latest minor-minor for 5.1, 5.2 or 5.3.</p>\n"}],"owner":{"account_id":20071439,"reputation":33,"user_id":14716112,"display_name":"aomer3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71302730,"answer_count":2,"score":1,"last_activity_date":1646324720,"creation_date":1646074198,"question_id":71299710,"body_markdown":"I&#39;ve run across this issue recently and after searching the stackoverflow site, couldn&#39;t find a working solution. The error I&#39;m getting is that Spring is having issue loading the configuration class. I&#39;m using annotations and a Spring class to configure, instead of an XML file, to practice configuring Java apps with annotations instead of an XML file. \r\n\r\nI&#39;ve double checked to make sure the needed annotations were there and that the Spring config file was marked with `@Configuration` and all of the beans inside the config file marked with `@Bean`. Also, the particular beans were marked with `@Component`. \r\n\r\nAfter creating a test class, it seems Spring is still having trouble finding the config file. I doubled checked the pom file to see if I was missing any dependencies but as far as I know, it seems the needed dependencies are there. I&#39;m not sure what else I&#39;m missing or why Spring is having trouble finding the config file. Any help would be greatly appreciated. \r\n\r\nHere is my pom.xml file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;https://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.spring&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Spring_JavaConfig&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;Spring_JavaConfig&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;springframework.version&gt;4.3.6.RELEASE&lt;/springframework.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nAnd here are my Java files:\r\n\r\n**Dao class** (not really accessing database, just practicing configuring with Spring Annotations instead of XML file):\r\n\r\n```java\r\npackage com.spring;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Dao {\r\n  public void create() {\r\n    System.out.println(&quot;Created&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**Spring Config class:**\r\n\r\n```java\r\npackage com.spring;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class SpringConfig {\r\n  @Bean\r\n  public Dao dao() {\r\n    return new Dao();\r\n  }\r\n}\r\n```\r\n\r\n**Test class:**\r\n\r\n```java\r\npackage com.spring;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class Test {\r\n  public static void main(String[] args) {\r\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(SpringConfig.class);\r\n    Dao dao = context.getBean(Dao.class);\r\n    dao.create();\r\n    context.close();\r\n  }\r\n}\r\n```\r\n\r\n**Here is the error I&#39;m getting:**\r\n\r\n```none\r\nFeb 28, 2022 1:39:12 PM org.springframework.context.annotation.AnnotationConfigApplicationContext prepareRefresh\r\nINFO: Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@39c0f4a: startup date [Mon Feb 28 13:39:12 EST 2022]; root of context hierarchy\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Cannot load configuration class: com.spring.SpringConfig\r\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403)\r\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:249)\r\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:281)\r\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:125)\r\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:686)\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\r\nat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\r\nat com.spring.Test.main(Test.java:9)\r\nCaused by: java.lang.ExceptionInInitializerError\r\nat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:119)\r\nat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:107)\r\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:393)\r\n... 7 more\r\nCaused by: java.lang.IllegalStateException: Unable to load cache item\r\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\r\nat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\r\nat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\r\nat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\nat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\nat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\nat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n... 10 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\nat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\nat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\nat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\r\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\r\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\r\nat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n... 17 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @2f8f5f62\r\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\nat org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:54)\r\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\nat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:44)\r\n... 25 more\r\n```\r\n","title":"What is causing Spring not to be able to load the configuration class when using AnnotationConfigApplicationContext?","body":"<p>I've run across this issue recently and after searching the stackoverflow site, couldn't find a working solution. The error I'm getting is that Spring is having issue loading the configuration class. I'm using annotations and a Spring class to configure, instead of an XML file, to practice configuring Java apps with annotations instead of an XML file.</p>\n<p>I've double checked to make sure the needed annotations were there and that the Spring config file was marked with <code>@Configuration</code> and all of the beans inside the config file marked with <code>@Bean</code>. Also, the particular beans were marked with <code>@Component</code>.</p>\n<p>After creating a test class, it seems Spring is still having trouble finding the config file. I doubled checked the pom file to see if I was missing any dependencies but as far as I know, it seems the needed dependencies are there. I'm not sure what else I'm missing or why Spring is having trouble finding the config file. Any help would be greatly appreciated.</p>\n<p>Here is my pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;https://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.spring&lt;/groupId&gt;\n  &lt;artifactId&gt;Spring_JavaConfig&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;Spring_JavaConfig&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;springframework.version&gt;4.3.6.RELEASE&lt;/springframework.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;${springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;${springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And here are my Java files:</p>\n<p><strong>Dao class</strong> (not really accessing database, just practicing configuring with Spring Annotations instead of XML file):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.spring;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Dao {\n  public void create() {\n    System.out.println(&quot;Created&quot;);\n  }\n}\n</code></pre>\n<p><strong>Spring Config class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.spring;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class SpringConfig {\n  @Bean\n  public Dao dao() {\n    return new Dao();\n  }\n}\n</code></pre>\n<p><strong>Test class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.spring;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class Test {\n  public static void main(String[] args) {\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(SpringConfig.class);\n    Dao dao = context.getBean(Dao.class);\n    dao.create();\n    context.close();\n  }\n}\n</code></pre>\n<p><strong>Here is the error I'm getting:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>Feb 28, 2022 1:39:12 PM org.springframework.context.annotation.AnnotationConfigApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@39c0f4a: startup date [Mon Feb 28 13:39:12 EST 2022]; root of context hierarchy\nException in thread &quot;main&quot; java.lang.IllegalStateException: Cannot load configuration class: com.spring.SpringConfig\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:403)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:249)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:281)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:125)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:686)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\nat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\nat com.spring.Test.main(Test.java:9)\nCaused by: java.lang.ExceptionInInitializerError\nat org.springframework.context.annotation.ConfigurationClassEnhancer.newEnhancer(ConfigurationClassEnhancer.java:119)\nat org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:107)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:393)\n... 7 more\nCaused by: java.lang.IllegalStateException: Unable to load cache item\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\nat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\nat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\nat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\nat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\nat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\nat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n... 10 more\nCaused by: java.lang.ExceptionInInitializerError\nat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\nat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\nat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\nat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n... 17 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @2f8f5f62\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\nat org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:54)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\nat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:44)\n... 25 more\n</code></pre>\n"},{"tags":["java","rx-java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":6778221,"reputation":554,"user_id":5219412,"accept_rate":88,"display_name":"Nils Renaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646324682,"creation_date":1646324682,"answer_id":71340456,"question_id":71321877,"body_markdown":"Ok, after more searches I&#39;ve found out what happened.\r\n\r\nSimplification\r\n--------------\r\n\r\nFirst, I&#39;ve re-created a test removing the use of rx-vert, and added an exception handler on the socket : \r\n\r\n```java\r\npackage org.tests;\r\n\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\nimport org.assertj.core.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.RepeatedTest;\r\n\r\nimport io.vertx.core.Vertx;\r\nimport io.vertx.core.buffer.Buffer;\r\nimport io.vertx.core.http.HttpClient;\r\nimport io.vertx.core.http.HttpClientRequest;\r\nimport io.vertx.core.http.HttpMethod;\r\nimport io.vertx.core.net.NetServer;\r\nimport io.vertx.core.streams.ReadStream;\r\n\r\npublic class VxTestNonRx {\r\n    static NetServer server;\r\n    static HttpClient client;\r\n\r\n    @BeforeAll\r\n    static void setUp() throws InterruptedException {\r\n        server = startServer();\r\n        client = Vertx.vertx().createHttpClient();\r\n    }\r\n\r\n    @RepeatedTest(10000)\r\n    void shouldReachOnNextAndOnError() throws Exception {\r\n        CountDownLatch bodyReadLatch = new CountDownLatch(1);\r\n        CountDownLatch responseReadyToRead = new CountDownLatch(1);\r\n        AtomicReference&lt;ReadStream&lt;Buffer&gt;&gt; readStreamRef = new AtomicReference&lt;&gt;();\r\n        AtomicInteger ab = new AtomicInteger(0);\r\n        client.request(HttpMethod.GET,\r\n                       server.actualPort(),\r\n                       &quot;localhost&quot;,\r\n                       &quot;/&quot;)\r\n              .compose(HttpClientRequest::send)\r\n              .onSuccess(response -&gt; {\r\n                  // Catches exceptions when they happen before we subscribed to the ReadStream\r\n                  response.netSocket().exceptionHandler(t -&gt; System.out.println(&quot;NET EXCEPTION HANDLER&quot; + t.getMessage()));\r\n                  //response.pause(); // Try to pause FIRST to avoid skipping buffers\r\n                  // When handlers are set here : \r\n                  //  - with pause(): 100% times exceptionHandler only.\r\n                  //  - without pause(): 100% times : handler, then exceptionHandler\r\n                  readStreamRef.set(response);\r\n                  responseReadyToRead.countDown();\r\n              });\r\n        responseReadyToRead.await();\r\n        // When handlers are set here : \r\n        // - without pause() : \r\n        //     - 66% times : handler, then exceptionHandler\r\n        //     - 33% times : only exceptionHandler gets called.\r\n        // - with pause() : \r\n        //     - 99% times : only onError gets called \r\n        //     - 1% times  : netSocket().exceptionHandler, then handler gets called. (but neither endHandler nor exceptionHandler are called !)\r\n        readStreamRef.get()\r\n                     .handler(buffer -&gt; {\r\n                         System.out.println(&quot;HANDLER&quot;);\r\n                         ab.addAndGet(1);\r\n                     })\r\n                     .endHandler(unused -&gt; {\r\n                         System.out.println(&quot;END HANDLER&quot;);\r\n                         bodyReadLatch.countDown();\r\n                     })\r\n                     .exceptionHandler(t -&gt; {\r\n                         System.out.println(&quot;ERROR HANDLER&quot;);\r\n                         ab.addAndGet(2);\r\n                         bodyReadLatch.countDown();\r\n                     });\r\n        readStreamRef.get().resume();\r\n        bodyReadLatch.await();\r\n        // Should have been in onNext then onError callbacks.\r\n        Assertions.assertThat(ab.get()).isEqualTo(3);\r\n    }\r\n\r\n    // This starts a server synchronously.\r\n    // It serves a static HTTP response with an illegal trailer name (making Vert.x fail)\r\n    private static NetServer startServer() throws InterruptedException {\r\n        CountDownLatch serverReady = new CountDownLatch(1);\r\n        AtomicReference&lt;NetServer&gt; servRef = new AtomicReference&lt;&gt;();\r\n        Vertx.vertx().createNetServer()\r\n             .connectHandler(socket -&gt; {\r\n                 String content1 = &quot;HTTP/1.1 200 OK\\r\\n&quot;\r\n                         + &quot;transfer-encoding: chunked\\r\\n&quot;\r\n                         + &quot;\\r\\n&quot;\r\n                         + &quot;2\\r\\n&quot;\r\n                         + &quot;OK&quot;\r\n                         + &quot;\\r\\n&quot;\r\n                         + &quot;0\\r\\n&quot;\r\n                         + &quot;&#233;: trailerValue\\r\\n&quot; // &#233; is an invalid trailer name\r\n                         + &quot;\\r\\n&quot;;\r\n                 // Read the request content, then write content, then close the socket.\r\n                 socket.handler(b -&gt; socket.write(content1, ar -&gt; socket.close()));\r\n             })\r\n             .listen()\r\n             .onSuccess(netServer -&gt; {\r\n                 servRef.set(netServer);\r\n                 serverReady.countDown();\r\n             });\r\n        serverReady.await();\r\n        return servRef.get();\r\n    }\r\n```\r\n\r\nObservations\r\n------------\r\n\r\nAs written in java comments, here are my findings : \r\n\r\n - When `ReadStream` handlers are set right after getting the response: \r\n   - When `pause()`ing the ReadStream first: I don&#39;t get any buffers, `ReadStream.exceptionHandler` is ALWAYS called.\r\n   - without `pause()`: I ALWAYS receive the body buffer in `ReadStream.handler`, then `ReadStream.exceptionHandler` gets called.\r\n\r\n- When handlers are set outside of the response received callback context:\r\n   - When `pause()`ing the ReadStream first (still in the callback context): \r\n      - 99% of the time: only `ReadStream.exceptionHandler` gets called \r\n      - 1% of the time: `netSocket().exceptionHandler` is called, then handler gets called but neither `ReadStream.endHandler` nor `ReadStream.exceptionHandler` get called, the stream &quot;never ends&quot; !!\r\n   - without `pause()ing`: \r\n      - 66% of the time: `ReadStream.handler` is called, then `ReadStream.exceptionHandler`.\r\n      - 33% of the time: ONLY `ReadStream.exceptionHandler` gets called.\r\n\r\nExplanations\r\n------------\r\n\r\nWhen setting the handlers directly in the &quot;response received&quot; callback, the behaviour is stable, and this can help to understand how `ReadStream.pause()` work.\r\n\r\nWhen pausing, Vert.x will not stop to read the response content. It will buffer the ByteBuffers to be able to serve them either on `ReadStream.fetch(x)` or `ReadStream.resume()`.\r\nBut when it encounters an error (in my case, while reading the trailers, after the body buffers) it will still call the callback set with `ReadStream.exceptionHandler`. In that case, the body has not been read (because of the pause), but the pre-defined exceptionHandler has been called.\r\n\r\nHowever, without any `ReadStream.pause()`, as soon as the event &quot;response received&quot; ends, the request&#39;s buffers (that&#39;s another eventloop event) will be sent to the registered `ReadStream.handler` directly, then vert.x will find the error out and calls the registered `ReadStream.exceptionHandler`.\r\n\r\nThis explains my stable cases nicely. Now, let&#39;s explain the unstable ones !\r\n\r\nWhen setting the `ReadStream`&#39;s Handlers outside of the scope of the &quot;response received&quot; promise, it&#39;s possible to miss some events. That&#39;s quite simple, when vert.x gets out of the &quot;response received&quot; scope, that&#39;s the end of an event, then : \r\n\r\n- Vert.x process the buffers (or skip them and save them when pausing) as part of other events, probably on the same event loop, but the `ReadStream.handler` registration is made outside of the context this time ! That&#39;s another thread and this code may have not run already ! So buffers sent to the ReadStream will be lost. \r\n- Worse, when the trailer error is found out, if there is no exception handler set already, Vert.x will fall back on the next exception handler it can get : the TCP connection one (`response.netSocket().exceptionHandler`), or if not set neither... the event loop exception handler, and so on. So the error is ... lost, even when pausing the stream.\r\n\r\nThis explains why, when defining my handlers outside of the &quot;response received event&quot; context, my registered `ReadStream.handler` was not always called (the buffer event had been sent before the registration). But luckily the exception happened after my exception handler registration in 99% of the time. The last 1% is now explained, neither the handler, nor the exceptionHandler had been registered while vert.x processed the exception...\r\n\r\n\r\nHow does that apply to the initial rx-vertx issue ?\r\n---------------------------------------------------\r\n\r\nWell... calling `response.toFlowable()` maps the `ReadStream` handlers to `Flowable`s upcoming subscription.\r\nBut again, the subscription to the resulting Flowable happened outside of the scope of &quot;response received event&quot;. Thus events may have flowed before actually subscribing !\r\n\r\n\r\nEventually, is that a vert.x issue ?\r\n------------------------------------\r\n\r\nWell... No. I was misusing it.\r\n\r\nBut it could be good to fail the `ReadStream`&#39;s handler/endHandler/exceptionHandler registration when `ReadStream` terminal methods (endHandler/exceptionHandler) have been called already.\r\nThus we would never wait forever for a `ReadStream` to publish Buffers, and could get clearer exception messages !","title":"How to subscribe to &quot;HttpClientResponse::toFlowable()&quot; outside of the vert.x &quot;rxResponse().subscribe&quot; callback","body":"<p>Ok, after more searches I've found out what happened.</p>\n<h2>Simplification</h2>\n<p>First, I've re-created a test removing the use of rx-vert, and added an exception handler on the socket :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.tests;\n\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.concurrent.atomic.AtomicReference;\n\nimport org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.RepeatedTest;\n\nimport io.vertx.core.Vertx;\nimport io.vertx.core.buffer.Buffer;\nimport io.vertx.core.http.HttpClient;\nimport io.vertx.core.http.HttpClientRequest;\nimport io.vertx.core.http.HttpMethod;\nimport io.vertx.core.net.NetServer;\nimport io.vertx.core.streams.ReadStream;\n\npublic class VxTestNonRx {\n    static NetServer server;\n    static HttpClient client;\n\n    @BeforeAll\n    static void setUp() throws InterruptedException {\n        server = startServer();\n        client = Vertx.vertx().createHttpClient();\n    }\n\n    @RepeatedTest(10000)\n    void shouldReachOnNextAndOnError() throws Exception {\n        CountDownLatch bodyReadLatch = new CountDownLatch(1);\n        CountDownLatch responseReadyToRead = new CountDownLatch(1);\n        AtomicReference&lt;ReadStream&lt;Buffer&gt;&gt; readStreamRef = new AtomicReference&lt;&gt;();\n        AtomicInteger ab = new AtomicInteger(0);\n        client.request(HttpMethod.GET,\n                       server.actualPort(),\n                       &quot;localhost&quot;,\n                       &quot;/&quot;)\n              .compose(HttpClientRequest::send)\n              .onSuccess(response -&gt; {\n                  // Catches exceptions when they happen before we subscribed to the ReadStream\n                  response.netSocket().exceptionHandler(t -&gt; System.out.println(&quot;NET EXCEPTION HANDLER&quot; + t.getMessage()));\n                  //response.pause(); // Try to pause FIRST to avoid skipping buffers\n                  // When handlers are set here : \n                  //  - with pause(): 100% times exceptionHandler only.\n                  //  - without pause(): 100% times : handler, then exceptionHandler\n                  readStreamRef.set(response);\n                  responseReadyToRead.countDown();\n              });\n        responseReadyToRead.await();\n        // When handlers are set here : \n        // - without pause() : \n        //     - 66% times : handler, then exceptionHandler\n        //     - 33% times : only exceptionHandler gets called.\n        // - with pause() : \n        //     - 99% times : only onError gets called \n        //     - 1% times  : netSocket().exceptionHandler, then handler gets called. (but neither endHandler nor exceptionHandler are called !)\n        readStreamRef.get()\n                     .handler(buffer -&gt; {\n                         System.out.println(&quot;HANDLER&quot;);\n                         ab.addAndGet(1);\n                     })\n                     .endHandler(unused -&gt; {\n                         System.out.println(&quot;END HANDLER&quot;);\n                         bodyReadLatch.countDown();\n                     })\n                     .exceptionHandler(t -&gt; {\n                         System.out.println(&quot;ERROR HANDLER&quot;);\n                         ab.addAndGet(2);\n                         bodyReadLatch.countDown();\n                     });\n        readStreamRef.get().resume();\n        bodyReadLatch.await();\n        // Should have been in onNext then onError callbacks.\n        Assertions.assertThat(ab.get()).isEqualTo(3);\n    }\n\n    // This starts a server synchronously.\n    // It serves a static HTTP response with an illegal trailer name (making Vert.x fail)\n    private static NetServer startServer() throws InterruptedException {\n        CountDownLatch serverReady = new CountDownLatch(1);\n        AtomicReference&lt;NetServer&gt; servRef = new AtomicReference&lt;&gt;();\n        Vertx.vertx().createNetServer()\n             .connectHandler(socket -&gt; {\n                 String content1 = &quot;HTTP/1.1 200 OK\\r\\n&quot;\n                         + &quot;transfer-encoding: chunked\\r\\n&quot;\n                         + &quot;\\r\\n&quot;\n                         + &quot;2\\r\\n&quot;\n                         + &quot;OK&quot;\n                         + &quot;\\r\\n&quot;\n                         + &quot;0\\r\\n&quot;\n                         + &quot;é: trailerValue\\r\\n&quot; // é is an invalid trailer name\n                         + &quot;\\r\\n&quot;;\n                 // Read the request content, then write content, then close the socket.\n                 socket.handler(b -&gt; socket.write(content1, ar -&gt; socket.close()));\n             })\n             .listen()\n             .onSuccess(netServer -&gt; {\n                 servRef.set(netServer);\n                 serverReady.countDown();\n             });\n        serverReady.await();\n        return servRef.get();\n    }\n</code></pre>\n<h2>Observations</h2>\n<p>As written in java comments, here are my findings :</p>\n<ul>\n<li><p>When <code>ReadStream</code> handlers are set right after getting the response:</p>\n<ul>\n<li>When <code>pause()</code>ing the ReadStream first: I don't get any buffers, <code>ReadStream.exceptionHandler</code> is ALWAYS called.</li>\n<li>without <code>pause()</code>: I ALWAYS receive the body buffer in <code>ReadStream.handler</code>, then <code>ReadStream.exceptionHandler</code> gets called.</li>\n</ul>\n</li>\n<li><p>When handlers are set outside of the response received callback context:</p>\n<ul>\n<li>When <code>pause()</code>ing the ReadStream first (still in the callback context):\n<ul>\n<li>99% of the time: only <code>ReadStream.exceptionHandler</code> gets called</li>\n<li>1% of the time: <code>netSocket().exceptionHandler</code> is called, then handler gets called but neither <code>ReadStream.endHandler</code> nor <code>ReadStream.exceptionHandler</code> get called, the stream &quot;never ends&quot; !!</li>\n</ul>\n</li>\n<li>without <code>pause()ing</code>:\n<ul>\n<li>66% of the time: <code>ReadStream.handler</code> is called, then <code>ReadStream.exceptionHandler</code>.</li>\n<li>33% of the time: ONLY <code>ReadStream.exceptionHandler</code> gets called.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Explanations</h2>\n<p>When setting the handlers directly in the &quot;response received&quot; callback, the behaviour is stable, and this can help to understand how <code>ReadStream.pause()</code> work.</p>\n<p>When pausing, Vert.x will not stop to read the response content. It will buffer the ByteBuffers to be able to serve them either on <code>ReadStream.fetch(x)</code> or <code>ReadStream.resume()</code>.\nBut when it encounters an error (in my case, while reading the trailers, after the body buffers) it will still call the callback set with <code>ReadStream.exceptionHandler</code>. In that case, the body has not been read (because of the pause), but the pre-defined exceptionHandler has been called.</p>\n<p>However, without any <code>ReadStream.pause()</code>, as soon as the event &quot;response received&quot; ends, the request's buffers (that's another eventloop event) will be sent to the registered <code>ReadStream.handler</code> directly, then vert.x will find the error out and calls the registered <code>ReadStream.exceptionHandler</code>.</p>\n<p>This explains my stable cases nicely. Now, let's explain the unstable ones !</p>\n<p>When setting the <code>ReadStream</code>'s Handlers outside of the scope of the &quot;response received&quot; promise, it's possible to miss some events. That's quite simple, when vert.x gets out of the &quot;response received&quot; scope, that's the end of an event, then :</p>\n<ul>\n<li>Vert.x process the buffers (or skip them and save them when pausing) as part of other events, probably on the same event loop, but the <code>ReadStream.handler</code> registration is made outside of the context this time ! That's another thread and this code may have not run already ! So buffers sent to the ReadStream will be lost.</li>\n<li>Worse, when the trailer error is found out, if there is no exception handler set already, Vert.x will fall back on the next exception handler it can get : the TCP connection one (<code>response.netSocket().exceptionHandler</code>), or if not set neither... the event loop exception handler, and so on. So the error is ... lost, even when pausing the stream.</li>\n</ul>\n<p>This explains why, when defining my handlers outside of the &quot;response received event&quot; context, my registered <code>ReadStream.handler</code> was not always called (the buffer event had been sent before the registration). But luckily the exception happened after my exception handler registration in 99% of the time. The last 1% is now explained, neither the handler, nor the exceptionHandler had been registered while vert.x processed the exception...</p>\n<h2>How does that apply to the initial rx-vertx issue ?</h2>\n<p>Well... calling <code>response.toFlowable()</code> maps the <code>ReadStream</code> handlers to <code>Flowable</code>s upcoming subscription.\nBut again, the subscription to the resulting Flowable happened outside of the scope of &quot;response received event&quot;. Thus events may have flowed before actually subscribing !</p>\n<h2>Eventually, is that a vert.x issue ?</h2>\n<p>Well... No. I was misusing it.</p>\n<p>But it could be good to fail the <code>ReadStream</code>'s handler/endHandler/exceptionHandler registration when <code>ReadStream</code> terminal methods (endHandler/exceptionHandler) have been called already.\nThus we would never wait forever for a <code>ReadStream</code> to publish Buffers, and could get clearer exception messages !</p>\n"}],"owner":{"account_id":6778221,"reputation":554,"user_id":5219412,"accept_rate":88,"display_name":"Nils Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71340456,"answer_count":1,"score":0,"last_activity_date":1646324682,"creation_date":1646220425,"question_id":71321877,"body_markdown":"I&#39;m trying to use the content of an `HttpClientResponse.toFlowable()` outside of the event loop, using an AtomicReference to hold the Flowable.\r\n\r\nSo, I&#39;ve set up a test which returns the body, then fails during the trailer decoding. Thus, my subscription to the flowable should receive the response body, then an error.\r\n\r\nThat&#39;s what I observe when I subscribe to the Flowable right after (still in the callback), but not when subscribing to the flow outside of the callback. In the latter case my test pass 1/3 of the time...\r\n\r\n[The vertx-rx doc][1] clearly says that it&#39;s a hot flowable and should be either subscribed in the event loop OR paused.\r\n\r\nSo, I&#39;ve tried to pause the response before subscribing but I get the same test results : only 1/3 of my runs got both the body and the exception.\r\n\r\nMoreover, when looking at the Vert.x `HttpClientResponse::toFlowable()` implementation, I can see that a `readStream.pause()` is made anyway.\r\n\r\n\r\nSo my question is ... **Am I missing something ? Or could it be a Vert.x bug ?**\r\n\r\n\r\nHere is the code I&#39;m using : \r\n```java\r\npackage my.tests;\r\n\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\nimport org.assertj.core.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.RepeatedTest;\r\n\r\nimport io.reactivex.rxjava3.core.Flowable;\r\nimport io.vertx.core.http.HttpMethod;\r\nimport io.vertx.rxjava3.core.Vertx;\r\nimport io.vertx.rxjava3.core.buffer.Buffer;\r\nimport io.vertx.rxjava3.core.http.HttpClient;\r\nimport io.vertx.rxjava3.core.net.NetServer;\r\n\r\npublic class VxTestRx3 {\r\n    static NetServer server;\r\n    static HttpClient client;\r\n\r\n    @BeforeAll\r\n    static void setUp() throws InterruptedException {\r\n        server = startServer();\r\n        client = Vertx.vertx()\r\n                      .createHttpClient();\r\n    }\r\n\r\n    @RepeatedTest(1000)\r\n    void shouldReachOnNextAndOnError() throws Exception {\r\n\r\n        CountDownLatch bodyReadLatch = new CountDownLatch(1);\r\n        CountDownLatch responseReadyToRead = new CountDownLatch(1);\r\n        AtomicReference&lt;Flowable&lt;Buffer&gt;&gt; flowableRef = new AtomicReference&lt;&gt;();\r\n        AtomicInteger ab = new AtomicInteger(0);\r\n        client.rxRequest(HttpMethod.GET,\r\n                         server.actualPort(),\r\n                         &quot;localhost&quot;,\r\n                         &quot;/&quot;)\r\n              .subscribe(request -&gt; {\r\n                  request.rxResponse()\r\n                         .subscribe(response -&gt; {\r\n                             // even with &quot;response.pause()&quot; here, the test is failing.\r\n                             flowableRef.set(response.toFlowable());\r\n                             responseReadyToRead.countDown();\r\n                             // If the Flowable is subscribed here : I get my onNext &amp; onError called.\r\n                             /*flowableRef.get()\r\n                                        .doOnComplete(bodyReadLatch::countDown)\r\n                                        .subscribe(buffer -&gt; ab.addAndGet(1),\r\n                                                   t -&gt; {\r\n                                                       ab.addAndGet(2);\r\n                                                       bodyReadLatch.countDown();\r\n                                                   });*/\r\n                         });\r\n                  Flowable.&lt;Buffer&gt;empty().subscribe(request.toSubscriber());\r\n              });\r\n        responseReadyToRead.await();\r\n        // If the Flowable is subscribed here : the behaviour is not stable.\r\n        flowableRef.get()\r\n                   .doOnComplete(bodyReadLatch::countDown)\r\n                   .subscribe(buffer -&gt; ab.addAndGet(1),\r\n                              t -&gt; {\r\n                                  ab.addAndGet(2);\r\n                                  bodyReadLatch.countDown();\r\n                              });\r\n        bodyReadLatch.await();\r\n        // Should have been in onNext then onError callbacks.\r\n        Assertions.assertThat(ab.get()).isEqualTo(3);\r\n    }\r\n\r\n    // This starts a server synchronously.\r\n    // It serves a static HTTP response with an illegal trailer name (making Vert.x fail)\r\n    private static NetServer startServer() throws InterruptedException {\r\n        CountDownLatch serverReady = new CountDownLatch(1);\r\n        AtomicReference&lt;NetServer&gt; servRef = new AtomicReference&lt;&gt;();\r\n        Vertx.vertx().createNetServer()\r\n                                .connectHandler(socket -&gt; {\r\n                                    String content1 = &quot;HTTP/1.1 200 OK\\r\\n&quot;\r\n                                            + &quot;transfer-encoding: chunked\\r\\n&quot;\r\n                                            + &quot;\\r\\n&quot;\r\n                                            + &quot;2\\r\\n&quot;\r\n                                            + &quot;OK&quot;\r\n                                            + &quot;\\r\\n&quot;\r\n                                            + &quot;0\\r\\n&quot;\r\n                                            + &quot;&#233;: trailerValue\\r\\n&quot; // &#233; is an invalid trailer name\r\n                                            + &quot;\\r\\n&quot;;\r\n                                    // Read the request content, then write content, then close the socket.\r\n                                    socket.handler(b -&gt; socket.write(content1).subscribe(socket::close));\r\n                                })\r\n                                .listen()\r\n                .subscribe(netServer -&gt; {\r\n                    servRef.set(netServer);\r\n                    serverReady.countDown();\r\n                });\r\n        serverReady.await();\r\n        return servRef.get();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-rx/java3/#_vert_x_api_for_rxjava3","title":"How to subscribe to &quot;HttpClientResponse::toFlowable()&quot; outside of the vert.x &quot;rxResponse().subscribe&quot; callback","body":"<p>I'm trying to use the content of an <code>HttpClientResponse.toFlowable()</code> outside of the event loop, using an AtomicReference to hold the Flowable.</p>\n<p>So, I've set up a test which returns the body, then fails during the trailer decoding. Thus, my subscription to the flowable should receive the response body, then an error.</p>\n<p>That's what I observe when I subscribe to the Flowable right after (still in the callback), but not when subscribing to the flow outside of the callback. In the latter case my test pass 1/3 of the time...</p>\n<p><a href=\"https://vertx.io/docs/vertx-rx/java3/#_vert_x_api_for_rxjava3\" rel=\"nofollow noreferrer\">The vertx-rx doc</a> clearly says that it's a hot flowable and should be either subscribed in the event loop OR paused.</p>\n<p>So, I've tried to pause the response before subscribing but I get the same test results : only 1/3 of my runs got both the body and the exception.</p>\n<p>Moreover, when looking at the Vert.x <code>HttpClientResponse::toFlowable()</code> implementation, I can see that a <code>readStream.pause()</code> is made anyway.</p>\n<p>So my question is ... <strong>Am I missing something ? Or could it be a Vert.x bug ?</strong></p>\n<p>Here is the code I'm using :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.tests;\n\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.concurrent.atomic.AtomicReference;\n\nimport org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.RepeatedTest;\n\nimport io.reactivex.rxjava3.core.Flowable;\nimport io.vertx.core.http.HttpMethod;\nimport io.vertx.rxjava3.core.Vertx;\nimport io.vertx.rxjava3.core.buffer.Buffer;\nimport io.vertx.rxjava3.core.http.HttpClient;\nimport io.vertx.rxjava3.core.net.NetServer;\n\npublic class VxTestRx3 {\n    static NetServer server;\n    static HttpClient client;\n\n    @BeforeAll\n    static void setUp() throws InterruptedException {\n        server = startServer();\n        client = Vertx.vertx()\n                      .createHttpClient();\n    }\n\n    @RepeatedTest(1000)\n    void shouldReachOnNextAndOnError() throws Exception {\n\n        CountDownLatch bodyReadLatch = new CountDownLatch(1);\n        CountDownLatch responseReadyToRead = new CountDownLatch(1);\n        AtomicReference&lt;Flowable&lt;Buffer&gt;&gt; flowableRef = new AtomicReference&lt;&gt;();\n        AtomicInteger ab = new AtomicInteger(0);\n        client.rxRequest(HttpMethod.GET,\n                         server.actualPort(),\n                         &quot;localhost&quot;,\n                         &quot;/&quot;)\n              .subscribe(request -&gt; {\n                  request.rxResponse()\n                         .subscribe(response -&gt; {\n                             // even with &quot;response.pause()&quot; here, the test is failing.\n                             flowableRef.set(response.toFlowable());\n                             responseReadyToRead.countDown();\n                             // If the Flowable is subscribed here : I get my onNext &amp; onError called.\n                             /*flowableRef.get()\n                                        .doOnComplete(bodyReadLatch::countDown)\n                                        .subscribe(buffer -&gt; ab.addAndGet(1),\n                                                   t -&gt; {\n                                                       ab.addAndGet(2);\n                                                       bodyReadLatch.countDown();\n                                                   });*/\n                         });\n                  Flowable.&lt;Buffer&gt;empty().subscribe(request.toSubscriber());\n              });\n        responseReadyToRead.await();\n        // If the Flowable is subscribed here : the behaviour is not stable.\n        flowableRef.get()\n                   .doOnComplete(bodyReadLatch::countDown)\n                   .subscribe(buffer -&gt; ab.addAndGet(1),\n                              t -&gt; {\n                                  ab.addAndGet(2);\n                                  bodyReadLatch.countDown();\n                              });\n        bodyReadLatch.await();\n        // Should have been in onNext then onError callbacks.\n        Assertions.assertThat(ab.get()).isEqualTo(3);\n    }\n\n    // This starts a server synchronously.\n    // It serves a static HTTP response with an illegal trailer name (making Vert.x fail)\n    private static NetServer startServer() throws InterruptedException {\n        CountDownLatch serverReady = new CountDownLatch(1);\n        AtomicReference&lt;NetServer&gt; servRef = new AtomicReference&lt;&gt;();\n        Vertx.vertx().createNetServer()\n                                .connectHandler(socket -&gt; {\n                                    String content1 = &quot;HTTP/1.1 200 OK\\r\\n&quot;\n                                            + &quot;transfer-encoding: chunked\\r\\n&quot;\n                                            + &quot;\\r\\n&quot;\n                                            + &quot;2\\r\\n&quot;\n                                            + &quot;OK&quot;\n                                            + &quot;\\r\\n&quot;\n                                            + &quot;0\\r\\n&quot;\n                                            + &quot;é: trailerValue\\r\\n&quot; // é is an invalid trailer name\n                                            + &quot;\\r\\n&quot;;\n                                    // Read the request content, then write content, then close the socket.\n                                    socket.handler(b -&gt; socket.write(content1).subscribe(socket::close));\n                                })\n                                .listen()\n                .subscribe(netServer -&gt; {\n                    servRef.set(netServer);\n                    serverReady.countDown();\n                });\n        serverReady.await();\n        return servRef.get();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":24173013,"reputation":1,"user_id":18134820,"display_name":"Hanna Frankowska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1646324663,"creation_date":1644232237,"question_id":71340453,"body_markdown":"I have a list (DoneTasks) in the Organiser class. I added a Selection Listener which opens another window with the mark class. When I outprint DoneTasks.getselectedValue() in the Organiser class it out prints the selected value from the list but when I want to out print DoneTasks.getselectedvalue() in the mark, it returns that it is null.\r\n\r\nthis is the Organiser class:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.sql.*;\r\n    \r\n    public class Organiser {\r\n        private JLabel Title;\r\n        private JButton Statistics;\r\n        private JLabel DoneLabel;\r\n        private JLabel TaskLabel;\r\n        private JLabel PersonLabel;\r\n        private JLabel DurationLabel;\r\n        private JLabel DeadlineLabel;\r\n        public JPanel Mainpanel;\r\n        private JTextField textField1;\r\n        private JTextField textField2;\r\n        private JTextField textField3;\r\n        private JButton addATaskButton;\r\n        private JComboBox comboBox3;\r\n        private JComboBox comboBox4;\r\n        private JScrollPane scrollPane1;\r\n        public String selected;\r\n        Connection myConn = null;\r\n        Statement myStmt = null;\r\n        ResultSet myRs = null;\r\n        String dbUrl = &quot;jdbc:mysql://localhost:3306/demo&quot;;\r\n        String user = &quot;student&quot;;\r\n        String pass = &quot;student&quot;;\r\n        String phtask;\r\n        String phperson;\r\n        String phdeadlineday;\r\n        String phdeadlinemonth;\r\n        String tasktf;\r\n        String persontf;\r\n        int durationtf;\r\n        String deadlinedaycb;\r\n        String deadlinemonthcb;\r\n        public JList DoneTasks;\r\n        public DefaultListModel df;\r\n    \r\n    \r\n    \r\n    \r\n        public Organiser() throws SQLException {\r\n            //opening the Statistics window\r\n            Statistics.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent actionEvent) {\r\n    \r\n                    JFrame openadd = new JFrame(&quot;Statistics&quot;);\r\n                    try {\r\n                        openadd.setContentPane(new CalendarFrame().getMainpanel());\r\n                    } catch (SQLException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    openadd.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                    openadd.setSize(1200, 800);\r\n                    openadd.setLocationRelativeTo(null);\r\n                    openadd.getPreferredSize();\r\n                    openadd.setVisible(true);\r\n                }\r\n            });\r\n    //displaying the data on the scrollpane\r\n            DefaultListModel&lt;String&gt; df = new DefaultListModel&lt;&gt;();\r\n           JList DoneTasks = new JList(df);\r\n            DoneTasks.setVisibleRowCount(3);\r\n            DoneTasks.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n            scrollPane1.setViewportView(DoneTasks);\r\n            JList&lt;String&gt; list1 = null;\r\n            try {\r\n                myConn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/demo&quot;, &quot;student&quot;, &quot;student&quot;);\r\n                myStmt = myConn.createStatement();\r\n                myRs = myStmt.executeQuery(&quot;select * from Todo_tbl&quot;);\r\n                while (myRs.next()) {\r\n                    phtask = myRs.getString(&quot;task&quot;);\r\n                    phperson = myRs.getString(&quot;person&quot;);\r\n                    phdeadlineday = myRs.getString(&quot;deadline_day&quot;);\r\n                    phdeadlinemonth = myRs.getString(&quot;deadline_month&quot;);\r\n                    df.addElement(phtask + &quot;, &quot; + phperson + &quot;, &quot; + phdeadlineday + &quot;.&quot; + phdeadlinemonth);\r\n                }\r\n            } catch (Exception exc) {\r\n                exc.printStackTrace();\r\n    \r\n            }\r\n    \r\n    \r\n    \r\n            // add data to the pane after clicking on the button\r\n    \r\n            addATaskButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    tasktf = textField1.getText();\r\n                    persontf = textField2.getText();\r\n                    durationtf = Integer.parseInt(textField3.getText());\r\n                    deadlinedaycb = comboBox4.getSelectedItem().toString();\r\n                    deadlinemonthcb = comboBox3.getSelectedItem().toString();\r\n                    df.addElement(persontf + &quot;, &quot; + tasktf + &quot;, &quot; + deadlinedaycb + &quot;.&quot; + deadlinemonthcb);\r\n                    //add data to the database\r\n                    try {\r\n                        int rowsAffected = myStmt.executeUpdate(\r\n                                &quot;insert into ToDo_tbl &quot; +\r\n                                        &quot;(person, task, duration, deadline_day, deadline_month) &quot; +\r\n                                        &quot;values &quot; +\r\n                                        //\r\n                                        &quot;(&#39;&quot; + persontf + &quot;&#39;,&#39;&quot; + tasktf + &quot;&#39;,&#39;&quot; + durationtf + &quot;&#39;,&#39;&quot; + deadlinedaycb + &quot;&#39;,&#39;&quot; + deadlinemonthcb + &quot;&#39;)&quot;\r\n                        );\r\n    \r\n                    } catch (SQLException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n    //selection listener after clicking on one of the lists components\r\n            DoneTasks.addListSelectionListener(new ListSelectionListener() {\r\n                @Override\r\n                public void valueChanged(ListSelectionEvent listSelectionEvent) {\r\n                 //   JOptionPane.showConfirmDialog(Mainpanel, &quot;You Selected : &quot; + DoneTasks.getSelectedValue(), &quot;Display&quot;,\r\n                   //       JOptionPane.PLAIN_MESSAGE);\r\n                    //JButton removedb = new JButton(&quot;remove&quot;);\r\n                    selected = String.valueOf(DoneTasks.getSelectedValue());\r\n                    System.out.println(selected);\r\n    df.removeElement(DoneTasks.getSelectedValue());\r\n                  /* JFrame openadd = new JFrame(&quot;mark&quot;);\r\n                    try {\r\n                        openadd.setContentPane(new mark().markpanel);\r\n                    } catch (SQLException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    openadd.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                    openadd.setSize(380, 60);\r\n                    openadd.setLocationRelativeTo(null);\r\n                    openadd.getPreferredSize();\r\n                    openadd.setVisible(true);*/\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n    }}\r\n\r\nThis is the mark class:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.*;\r\n    \r\n    \r\n    public class mark extends Organiser{\r\n        public JButton removeButton;\r\n        private JButton doneOnTimeButton;\r\n        private JButton doneOverdueButton;\r\n        public JPanel markpanel;\r\n        Connection myConn = null;\r\n        Statement myStmt = null;\r\n        ResultSet myRs = null;\r\n        String dbUrl = &quot;jdbc:mysql://localhost:3306/demo&quot;;\r\n        String user = &quot;student&quot;;\r\n        String pass = &quot;student&quot;;\r\n    \r\n        public mark() throws SQLException{\r\n            super();\r\n            removeButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                  System.out.println(selected);\r\n    try{\r\n        myConn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/demo&quot;, &quot;student&quot; , &quot;student&quot;);\r\n        myStmt = myConn.createStatement();\r\n                    System.out.println(DoneTasks.getSelectedIndex());\r\n                    int rowsAffected = myStmt.executeUpdate(\r\n                            &quot;delete from Todo_tbl &quot;+\r\n                                    &quot;where person=&#39;&quot;+selected+&quot;&#39;&quot;\r\n                    );}catch(Exception exc){\r\n                        exc.printStackTrace();\r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n    }}\r\n\r\n\r\n\r\n","title":"How to execute a List in another class?","body":"<p>I have a list (DoneTasks) in the Organiser class. I added a Selection Listener which opens another window with the mark class. When I outprint DoneTasks.getselectedValue() in the Organiser class it out prints the selected value from the list but when I want to out print DoneTasks.getselectedvalue() in the mark, it returns that it is null.</p>\n<p>this is the Organiser class:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.sql.*;\n\npublic class Organiser {\n    private JLabel Title;\n    private JButton Statistics;\n    private JLabel DoneLabel;\n    private JLabel TaskLabel;\n    private JLabel PersonLabel;\n    private JLabel DurationLabel;\n    private JLabel DeadlineLabel;\n    public JPanel Mainpanel;\n    private JTextField textField1;\n    private JTextField textField2;\n    private JTextField textField3;\n    private JButton addATaskButton;\n    private JComboBox comboBox3;\n    private JComboBox comboBox4;\n    private JScrollPane scrollPane1;\n    public String selected;\n    Connection myConn = null;\n    Statement myStmt = null;\n    ResultSet myRs = null;\n    String dbUrl = &quot;jdbc:mysql://localhost:3306/demo&quot;;\n    String user = &quot;student&quot;;\n    String pass = &quot;student&quot;;\n    String phtask;\n    String phperson;\n    String phdeadlineday;\n    String phdeadlinemonth;\n    String tasktf;\n    String persontf;\n    int durationtf;\n    String deadlinedaycb;\n    String deadlinemonthcb;\n    public JList DoneTasks;\n    public DefaultListModel df;\n\n\n\n\n    public Organiser() throws SQLException {\n        //opening the Statistics window\n        Statistics.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent actionEvent) {\n\n                JFrame openadd = new JFrame(&quot;Statistics&quot;);\n                try {\n                    openadd.setContentPane(new CalendarFrame().getMainpanel());\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n                openadd.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                openadd.setSize(1200, 800);\n                openadd.setLocationRelativeTo(null);\n                openadd.getPreferredSize();\n                openadd.setVisible(true);\n            }\n        });\n//displaying the data on the scrollpane\n        DefaultListModel&lt;String&gt; df = new DefaultListModel&lt;&gt;();\n       JList DoneTasks = new JList(df);\n        DoneTasks.setVisibleRowCount(3);\n        DoneTasks.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n        scrollPane1.setViewportView(DoneTasks);\n        JList&lt;String&gt; list1 = null;\n        try {\n            myConn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/demo&quot;, &quot;student&quot;, &quot;student&quot;);\n            myStmt = myConn.createStatement();\n            myRs = myStmt.executeQuery(&quot;select * from Todo_tbl&quot;);\n            while (myRs.next()) {\n                phtask = myRs.getString(&quot;task&quot;);\n                phperson = myRs.getString(&quot;person&quot;);\n                phdeadlineday = myRs.getString(&quot;deadline_day&quot;);\n                phdeadlinemonth = myRs.getString(&quot;deadline_month&quot;);\n                df.addElement(phtask + &quot;, &quot; + phperson + &quot;, &quot; + phdeadlineday + &quot;.&quot; + phdeadlinemonth);\n            }\n        } catch (Exception exc) {\n            exc.printStackTrace();\n\n        }\n\n\n\n        // add data to the pane after clicking on the button\n\n        addATaskButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                tasktf = textField1.getText();\n                persontf = textField2.getText();\n                durationtf = Integer.parseInt(textField3.getText());\n                deadlinedaycb = comboBox4.getSelectedItem().toString();\n                deadlinemonthcb = comboBox3.getSelectedItem().toString();\n                df.addElement(persontf + &quot;, &quot; + tasktf + &quot;, &quot; + deadlinedaycb + &quot;.&quot; + deadlinemonthcb);\n                //add data to the database\n                try {\n                    int rowsAffected = myStmt.executeUpdate(\n                            &quot;insert into ToDo_tbl &quot; +\n                                    &quot;(person, task, duration, deadline_day, deadline_month) &quot; +\n                                    &quot;values &quot; +\n                                    //\n                                    &quot;('&quot; + persontf + &quot;','&quot; + tasktf + &quot;','&quot; + durationtf + &quot;','&quot; + deadlinedaycb + &quot;','&quot; + deadlinemonthcb + &quot;')&quot;\n                    );\n\n                } catch (SQLException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n\n\n//selection listener after clicking on one of the lists components\n        DoneTasks.addListSelectionListener(new ListSelectionListener() {\n            @Override\n            public void valueChanged(ListSelectionEvent listSelectionEvent) {\n             //   JOptionPane.showConfirmDialog(Mainpanel, &quot;You Selected : &quot; + DoneTasks.getSelectedValue(), &quot;Display&quot;,\n               //       JOptionPane.PLAIN_MESSAGE);\n                //JButton removedb = new JButton(&quot;remove&quot;);\n                selected = String.valueOf(DoneTasks.getSelectedValue());\n                System.out.println(selected);\ndf.removeElement(DoneTasks.getSelectedValue());\n              /* JFrame openadd = new JFrame(&quot;mark&quot;);\n                try {\n                    openadd.setContentPane(new mark().markpanel);\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n                openadd.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                openadd.setSize(380, 60);\n                openadd.setLocationRelativeTo(null);\n                openadd.getPreferredSize();\n                openadd.setVisible(true);*/\n\n            }\n\n        });\n\n}}\n</code></pre>\n<p>This is the mark class:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\n\n\npublic class mark extends Organiser{\n    public JButton removeButton;\n    private JButton doneOnTimeButton;\n    private JButton doneOverdueButton;\n    public JPanel markpanel;\n    Connection myConn = null;\n    Statement myStmt = null;\n    ResultSet myRs = null;\n    String dbUrl = &quot;jdbc:mysql://localhost:3306/demo&quot;;\n    String user = &quot;student&quot;;\n    String pass = &quot;student&quot;;\n\n    public mark() throws SQLException{\n        super();\n        removeButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n              System.out.println(selected);\ntry{\n    myConn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/demo&quot;, &quot;student&quot; , &quot;student&quot;);\n    myStmt = myConn.createStatement();\n                System.out.println(DoneTasks.getSelectedIndex());\n                int rowsAffected = myStmt.executeUpdate(\n                        &quot;delete from Todo_tbl &quot;+\n                                &quot;where person='&quot;+selected+&quot;'&quot;\n                );}catch(Exception exc){\n                    exc.printStackTrace();\n                }\n\n            }\n        });\n\n}}\n</code></pre>\n"},{"tags":["java","selenium","junit","automation","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646324332,"creation_date":1646324332,"answer_id":71340378,"question_id":71339143,"body_markdown":"In order to logout there you have first to click on user menu so that the menu will open and logout option element will be visible and clickable.  \r\nAlso I would advice you to use element visibility or clickability expected conditions rather that element presence only since during the element creating process on the page it may already be existing (present) on the page but still not clickable / visible.  \r\nTry this:\r\n```java\r\nclass Generic\r\npublic void waitDesiredElementVisibility (By element) {\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(element));\r\n}\r\n\r\nclass LoginPage\r\nprivate By signOut = By.xpath(&quot;//label[@ng-click=&#39;signOut($event)&#39;]&quot;);\r\nprivate By userMenu = By.xpath(&quot;//a[@aria-label=&#39;UserMenu&#39;]&quot;);\r\npublic By getSignOut () {\r\n    return signOut;\r\n}\r\npublic By getUserMenu () {\r\n    return userMenu;\r\n}\r\n\r\nclass LoginLogic\r\npublic void logout () {\r\n    waitDesiredElementVisibility(login.getUserMenu());\r\n    click(login.getUserMenu());\r\n    waitDesiredElementVisibility(login.getSignOut());\r\n    click(login.getSignOut());\r\n}\r\n```","title":"interaction with web element using selenium and java","body":"<p>In order to logout there you have first to click on user menu so that the menu will open and logout option element will be visible and clickable.<br />\nAlso I would advice you to use element visibility or clickability expected conditions rather that element presence only since during the element creating process on the page it may already be existing (present) on the page but still not clickable / visible.<br />\nTry this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Generic\npublic void waitDesiredElementVisibility (By element) {\n    wait.until(ExpectedConditions.visibilityOfElementLocated(element));\n}\n\nclass LoginPage\nprivate By signOut = By.xpath(&quot;//label[@ng-click='signOut($event)']&quot;);\nprivate By userMenu = By.xpath(&quot;//a[@aria-label='UserMenu']&quot;);\npublic By getSignOut () {\n    return signOut;\n}\npublic By getUserMenu () {\n    return userMenu;\n}\n\nclass LoginLogic\npublic void logout () {\n    waitDesiredElementVisibility(login.getUserMenu());\n    click(login.getUserMenu());\n    waitDesiredElementVisibility(login.getSignOut());\n    click(login.getSignOut());\n}\n</code></pre>\n"}],"owner":{"account_id":18781861,"reputation":1,"user_id":18364749,"display_name":"gabrielms01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646324332,"creation_date":1646319063,"question_id":71339143,"body_markdown":"I need to interact with this element to log out using selenium, cucumber and java but it&#39;s not working:\r\n\r\n[desired element mapping][1]\r\n\r\n\r\n[message displayed on console][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3CF1b.png\r\n  [2]: https://i.stack.imgur.com/Vp4Yw.png\r\n\r\n\r\nBelow is part of my code with only the methods I used to try to log out, remembering that for other mappings it worked:\r\n\r\n    class Generic\r\n    public void waitDesiredElement (By element) {\r\n\t\twait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(element));\r\n\t}\r\n\r\n    class LoginPage\r\n    private By signOut = By.xpath(&quot;//label[@ng-click=&#39;signOut($event)&#39;]&quot;);\r\n    public By getSignOut () {\r\n\t\treturn signOut;\r\n\t}\r\n\r\n    class LoginLogic\r\n    public void logout () {\r\n\t\twaitDesiredElement(login.getSignOut());\r\n\t\tclick(login.getSignOut());\r\n\t}\r\n\r\n    class LoginStep\r\n    @When(&quot;^realizo logout$&quot;)\r\n\tpublic void logoutThePage () {\r\n\t\tlogin.logout();\r\n\t}\r\n\r\n","title":"interaction with web element using selenium and java","body":"<p>I need to interact with this element to log out using selenium, cucumber and java but it's not working:</p>\n<p><a href=\"https://i.stack.imgur.com/3CF1b.png\" rel=\"nofollow noreferrer\">desired element mapping</a></p>\n<p><a href=\"https://i.stack.imgur.com/Vp4Yw.png\" rel=\"nofollow noreferrer\">message displayed on console</a></p>\n<p>Below is part of my code with only the methods I used to try to log out, remembering that for other mappings it worked:</p>\n<pre><code>class Generic\npublic void waitDesiredElement (By element) {\n    wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(element));\n}\n\nclass LoginPage\nprivate By signOut = By.xpath(&quot;//label[@ng-click='signOut($event)']&quot;);\npublic By getSignOut () {\n    return signOut;\n}\n\nclass LoginLogic\npublic void logout () {\n    waitDesiredElement(login.getSignOut());\n    click(login.getSignOut());\n}\n\nclass LoginStep\n@When(&quot;^realizo logout$&quot;)\npublic void logoutThePage () {\n    login.logout();\n}\n</code></pre>\n"},{"tags":["java","encryption","openssl","aes"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1646286875,"post_id":71331595,"comment_id":126086999,"body_markdown":"Yes, Java puts the tag at the end of the ciphertext; that matches only your #2 not #1. But for a tag length of 16 bytes = 128 bits, specifying 96 in `GCMParameterSpec` is wrong; see [the javadoc](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/crypto/spec/GCMParameterSpec.html#%3Cinit%3E(int,byte%5B%5D). PS: for GCM you don&#39;t need to put nonce in the AAD, it is implicitly authenticated.","body":"Yes, Java puts the tag at the end of the ciphertext; that matches only your #2 not #1. But for a tag length of 16 bytes = 128 bits, specifying 96 in <code>GCMParameterSpec</code> is wrong; see [the javadoc](<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/crypto/spec/GCMParameterSpec.html#%3Cinit%3E(int,byte%5B%5D)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.bas&zwnj;&#8203;e/javax/&hellip;</a>. PS: for GCM you don&#39;t need to put nonce in the AAD, it is implicitly authenticated."},{"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"score":0,"creation_date":1646324065,"post_id":71331595,"comment_id":126100024,"body_markdown":"oh man, I was using the nonce length there. You are correct, changing that to 128 and moving the tag data to the end worked, thanks! Also, good to know about the nonce in the AAD, unfortunately, I can&#39;t change the C++ side of things, so I&#39;ll have to continue to include it on the java side.","body":"oh man, I was using the nonce length there. You are correct, changing that to 128 and moving the tag data to the end worked, thanks! Also, good to know about the nonce in the AAD, unfortunately, I can&#39;t change the C++ side of things, so I&#39;ll have to continue to include it on the java side."}],"answers":[{"tags":[],"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646324249,"creation_date":1646324249,"answer_id":71340351,"question_id":71331595,"body_markdown":"There were two issues with my solution (see @dave_thompson_085&#39;s comment)\r\n\r\n1. The tag length parameter passed to `GCMParameterSpec` was wrong. It should be 128 \r\n2. The Java decrypt assumes the tag data is at the end of the ciphertext, so in my case I had to move the tag data bytes from the beginning.","title":"How to decrypt AES-GCM encoded message using AAD in Java","body":"<p>There were two issues with my solution (see @dave_thompson_085's comment)</p>\n<ol>\n<li>The tag length parameter passed to <code>GCMParameterSpec</code> was wrong. It should be 128</li>\n<li>The Java decrypt assumes the tag data is at the end of the ciphertext, so in my case I had to move the tag data bytes from the beginning.</li>\n</ol>\n"}],"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71340351,"answer_count":1,"score":0,"last_activity_date":1646324249,"creation_date":1646276112,"question_id":71331595,"body_markdown":"I have some existing C++ code that uses openssl to send an encrypted message.\r\n\r\nI&#39;m writing a new Java based client to receive this message and cannot properly decrypt the message. I&#39;m getting `javax.crypto.AEADBadTagException: Tag mismatch` errors.\r\n\r\nThe message is structured like this:\r\n\r\n    header info (21 bytes)\r\n    nonce (12 bytes)\r\n    tag data (16 bytes)\r\n    encrypted payload (n bytes)\r\n \r\nThe header and nonce bytes are input as Additional Authenticated Data.\r\n \r\nThe Java code to decrypt:\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        cipher.init( Cipher.DECRYPT_MODE,\r\n                     aesKey,\r\n                     new GCMParameterSpec( 96, packet.getNonce() ));\r\n\r\n        cipher.updateAAD( packet.getHeaderAndNonce() );\r\n        return cipher.doFinal( packet.getEncryptedData() );\r\n        \r\n        \r\nI see mention in https://stackoverflow.com/a/26370130/212589 that in Java the **tag data is added at the end of the cipher text** when encrypting. I have tried changing `packet.getEncryptedData()` to return the following:\r\n\r\n  1. tag data (16 bytes) + encrypted payload (n bytes)\r\n  1. encrypted payload (n bytes) + tag data (16 bytes)\r\n  \r\nbut both cases fail with the same bad tag exception.\r\n\r\nWhat am I doing wrong?\r\n\r\nFor reference, here is the C++ code that is doing the encryption:\r\n\r\n    const unsigned int NONCE_LEN = 12;\r\n    const unsigned int TAG_DATA_LEN = 16;\r\n    const unsigned int DATA_PACKET_HEADER_LEN = 49;\r\n    const unsigned int DATA_NONCE_OFFSET = 21;\r\n    const unsigned int DATA_TAG_DATA_OFFSET = 33;\r\n\r\n    std::array&lt;byte, NONCE_LEN&gt; randomNonce = getRandomNonce();\r\n    std::copy(randomNonce.begin(), randomNonce.end(), _data.begin() + DATA_NONCE_OFFSET);\r\n\r\n    EVP_EncryptInit_ex(cipherContext, EVP_aes_256_gcm(), nullptr, encryptionKey.data(), randomNonce.data());\r\n\r\n    int outlen;\r\n    EVP_EncryptUpdate(cipherContext, nullptr, &amp;outlen, _data.data(), DATA_PACKET_HEADER_LEN - TAG_DATA_LEN);    \r\n    EVP_EncryptUpdate(cipherContext, _data.data() + DATA_PACKET_HEADER_LEN, &amp;outlen,\r\n            _payloadPlaintext.data(), _payloadPlaintext.size() );\r\n\r\n    EVP_EncryptFinal_ex(cipherContext, nullptr, &amp;outlen);\r\n    EVP_CIPHER_CTX_ctrl(cipherContext, EVP_CTRL_GCM_GET_TAG, TAG_DATA_LEN, &amp;_data[DATA_TAG_DATA_OFFSET]);\r\n","title":"How to decrypt AES-GCM encoded message using AAD in Java","body":"<p>I have some existing C++ code that uses openssl to send an encrypted message.</p>\n<p>I'm writing a new Java based client to receive this message and cannot properly decrypt the message. I'm getting <code>javax.crypto.AEADBadTagException: Tag mismatch</code> errors.</p>\n<p>The message is structured like this:</p>\n<pre><code>header info (21 bytes)\nnonce (12 bytes)\ntag data (16 bytes)\nencrypted payload (n bytes)\n</code></pre>\n<p>The header and nonce bytes are input as Additional Authenticated Data.</p>\n<p>The Java code to decrypt:</p>\n<pre><code>    Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    cipher.init( Cipher.DECRYPT_MODE,\n                 aesKey,\n                 new GCMParameterSpec( 96, packet.getNonce() ));\n\n    cipher.updateAAD( packet.getHeaderAndNonce() );\n    return cipher.doFinal( packet.getEncryptedData() );\n    \n    \n</code></pre>\n<p>I see mention in <a href=\"https://stackoverflow.com/a/26370130/212589\">https://stackoverflow.com/a/26370130/212589</a> that in Java the <strong>tag data is added at the end of the cipher text</strong> when encrypting. I have tried changing <code>packet.getEncryptedData()</code> to return the following:</p>\n<ol>\n<li>tag data (16 bytes) + encrypted payload (n bytes)</li>\n<li>encrypted payload (n bytes) + tag data (16 bytes)</li>\n</ol>\n<p>but both cases fail with the same bad tag exception.</p>\n<p>What am I doing wrong?</p>\n<p>For reference, here is the C++ code that is doing the encryption:</p>\n<pre><code>const unsigned int NONCE_LEN = 12;\nconst unsigned int TAG_DATA_LEN = 16;\nconst unsigned int DATA_PACKET_HEADER_LEN = 49;\nconst unsigned int DATA_NONCE_OFFSET = 21;\nconst unsigned int DATA_TAG_DATA_OFFSET = 33;\n\nstd::array&lt;byte, NONCE_LEN&gt; randomNonce = getRandomNonce();\nstd::copy(randomNonce.begin(), randomNonce.end(), _data.begin() + DATA_NONCE_OFFSET);\n\nEVP_EncryptInit_ex(cipherContext, EVP_aes_256_gcm(), nullptr, encryptionKey.data(), randomNonce.data());\n\nint outlen;\nEVP_EncryptUpdate(cipherContext, nullptr, &amp;outlen, _data.data(), DATA_PACKET_HEADER_LEN - TAG_DATA_LEN);    \nEVP_EncryptUpdate(cipherContext, _data.data() + DATA_PACKET_HEADER_LEN, &amp;outlen,\n        _payloadPlaintext.data(), _payloadPlaintext.size() );\n\nEVP_EncryptFinal_ex(cipherContext, nullptr, &amp;outlen);\nEVP_CIPHER_CTX_ctrl(cipherContext, EVP_CTRL_GCM_GET_TAG, TAG_DATA_LEN, &amp;_data[DATA_TAG_DATA_OFFSET]);\n</code></pre>\n"},{"tags":["java","spring","spring-aop","cglib","jep-396"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1643809084,"post_id":70952621,"comment_id":125437222,"body_markdown":"https://stackoverflow.com/help/how-to-ask","body":"<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1643851953,"post_id":70952621,"comment_id":125452206,"body_markdown":"Welcome to SO. R.G is absolutely right, you ought to provide an [MCVE](https://stackoverflow.com/help/mcve) with your question and not just post an unformatted stack-trace (I formatted it for you, editing your question) without any code which caused it. Your subject line is also completely incomprehensible, I am going to update it. Please understand that thousands of volunteers here are ready to help each other, but it is like always in software development: garbage in, garbage out. So please ask better questions to get better answers.","body":"Welcome to SO. R.G is absolutely right, you ought to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> with your question and not just post an unformatted stack-trace (I formatted it for you, editing your question) without any code which caused it. Your subject line is also completely incomprehensible, I am going to update it. Please understand that thousands of volunteers here are ready to help each other, but it is like always in software development: garbage in, garbage out. So please ask better questions to get better answers."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1644484670,"post_id":70952621,"comment_id":125620836,"body_markdown":"I answered your question, so I kindly ask you to pe polite enough to either accept &amp; upvote it or to ask in a comment, if there is anything unclear. Thank you.","body":"I answered your question, so I kindly ask you to pe polite enough to either accept &amp; upvote it or to ask in a comment, if there is anything unclear. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646324042,"post_id":70952621,"comment_id":126100015,"body_markdown":"Does this answer your question? [What is causing Spring not to be able to load the configuration class when using AnnotationConfigApplicationContext?](https://stackoverflow.com/questions/71299710/what-is-causing-spring-not-to-be-able-to-load-the-configuration-class-when-using)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71299710/what-is-causing-spring-not-to-be-able-to-load-the-configuration-class-when-using\">What is causing Spring not to be able to load the configuration class when using AnnotationConfigApplicationContext?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1643852745,"creation_date":1643852745,"answer_id":70965030,"question_id":70952621,"body_markdown":"My first guess is that you want to run an older Spring version on a JRE 16+. Probably that old Spring version depends on an equally dated CGLIB version which uses internal Java APIs now blocked due to [JEP 396](https://openjdk.java.net/jeps/396), which was implemented for Java 16. Maybe you can simply upgrade CGLIB and continue to use your old Spring version, maybe you need to upgrade both. Without more detailed information from you, it is hard to say. A minimal example Maven or Gradle project on GitHub, reproducing the problem, would be great.\r\n\r\nOn a second thought, maybe for now you can get away with adding\r\n```none\r\n--add-opens java.base/java.lang=ALL-UNNAMED\r\n```\r\n\r\nto your JVM command line. But even if it would work, it would not be a particularly sustainable solution, only a workaround.\r\n","title":"InaccessibleObjectException when trying to create CGLIB Spring proxy","body":"<p>My first guess is that you want to run an older Spring version on a JRE 16+. Probably that old Spring version depends on an equally dated CGLIB version which uses internal Java APIs now blocked due to <a href=\"https://openjdk.java.net/jeps/396\" rel=\"noreferrer\">JEP 396</a>, which was implemented for Java 16. Maybe you can simply upgrade CGLIB and continue to use your old Spring version, maybe you need to upgrade both. Without more detailed information from you, it is hard to say. A minimal example Maven or Gradle project on GitHub, reproducing the problem, would be great.</p>\n<p>On a second thought, maybe for now you can get away with adding</p>\n<pre class=\"lang-none prettyprint-override\"><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>to your JVM command line. But even if it would work, it would not be a particularly sustainable solution, only a workaround.</p>\n"},{"tags":[],"owner":{"account_id":19665519,"reputation":21,"user_id":14396065,"display_name":"Shay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646289512,"creation_date":1646268105,"answer_id":71330846,"question_id":70952621,"body_markdown":"I was able to fix this today (with JDK 17) by upgrading to SpringBoot 2.6.4 (specifically, you need spring framework 5.3.16, so if you&#39;re using spring dependency management plugin, you only need to set the springboot version to 2.6.4). \r\n\r\nSeems like something was fixed in spring framework 5.3.16 that resolved the issue without having to add the `--add-opens` JVM option.\r\n\r\nFor reference, the error for me was happening because I had autowired a Supplier bean (not for Spring cloud function).","title":"InaccessibleObjectException when trying to create CGLIB Spring proxy","body":"<p>I was able to fix this today (with JDK 17) by upgrading to SpringBoot 2.6.4 (specifically, you need spring framework 5.3.16, so if you're using spring dependency management plugin, you only need to set the springboot version to 2.6.4).</p>\n<p>Seems like something was fixed in spring framework 5.3.16 that resolved the issue without having to add the <code>--add-opens</code> JVM option.</p>\n<p>For reference, the error for me was happening because I had autowired a Supplier bean (not for Spring cloud function).</p>\n"}],"owner":{"account_id":19112697,"reputation":31,"user_id":13958392,"display_name":"Vishal Agrahari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11094,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1646324148,"creation_date":1643791271,"question_id":70952621,"body_markdown":"```none\r\nFeb 02, 2022 12:58:03 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh\r\nINFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@71318ec4: startup date [Wed Feb 02 12:58:03 IST 2022]; root of context hierarchy\r\nFeb 02, 2022 12:58:03 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\nINFO: Loading XML bean definitions from class path resource [spring.xml]\r\nFeb 02, 2022 12:58:04 PM org.springframework.context.support.AbstractApplicationContext refresh\r\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;triangle&#39; defined in class path resource [spring.xml]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is java.lang.ExceptionInInitializerError\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;triangle&#39; defined in class path resource [spring.xml]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is java.lang.ExceptionInInitializerError\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:591)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n\tat com.vishal.main.DrawingMain.main(DrawingMain.java:10)\r\nCaused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is java.lang.ExceptionInInitializerError\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:215)\r\n\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:473)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:355)\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:304)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:438)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1714)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\r\n\t... 11 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat org.springframework.aop.framework.CglibAopProxy.createEnhancer(CglibAopProxy.java:232)\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:181)\r\n\t... 18 more\r\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @8519cb4\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\r\n\tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n\tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\r\n\tat org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n\tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n\tat org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n\tat org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n\t... 20 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @8519cb4\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\r\n\tat org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n\tat org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n\tat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\r\n\t... 32 more\r\n```","title":"InaccessibleObjectException when trying to create CGLIB Spring proxy","body":"<pre class=\"lang-none prettyprint-override\"><code>Feb 02, 2022 12:58:03 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@71318ec4: startup date [Wed Feb 02 12:58:03 IST 2022]; root of context hierarchy\nFeb 02, 2022 12:58:03 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [spring.xml]\nFeb 02, 2022 12:58:04 PM org.springframework.context.support.AbstractApplicationContext refresh\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'triangle' defined in class path resource [spring.xml]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is java.lang.ExceptionInInitializerError\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'triangle' defined in class path resource [spring.xml]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:591)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\n    at com.vishal.main.DrawingMain.main(DrawingMain.java:10)\nCaused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is java.lang.ExceptionInInitializerError\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:215)\n    at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:473)\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:355)\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:304)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:438)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1714)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\n    ... 11 more\nCaused by: java.lang.ExceptionInInitializerError\n    at org.springframework.aop.framework.CglibAopProxy.createEnhancer(CglibAopProxy.java:232)\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:181)\n    ... 18 more\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @8519cb4\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\n    at org.springframework.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:174)\n    at org.springframework.cglib.core.KeyFactory.create(KeyFactory.java:153)\n    at org.springframework.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n    ... 20 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @8519cb4\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\n    at org.springframework.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n    at org.springframework.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\n    ... 32 more\n</code></pre>\n"},{"tags":["java","android-studio","button","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1646375595,"post_id":71340282,"comment_id":126112088,"body_markdown":"You shared a lot of code. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"You shared a lot of code. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":21747394,"reputation":1,"user_id":16053836,"display_name":"light brid"},"score":0,"creation_date":1646383675,"post_id":71340282,"comment_id":126114208,"body_markdown":"@AlexMamo\n\n\n`rsignin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(getApplicationContext(), LoginActivity.class));\n            }\n        });\n`\n\nin this part of the code it&#39;s supposed to open the other activity but instead just opens the same activity again and just erases whatever i typed in the email and password","body":"@AlexMamo   <code>rsignin.setOnClickListener(new View.OnClickListener() {             @Override             public void onClick(View view) {                 startActivity(new Intent(getApplicationContext(), LoginActivity.class));             }         }); </code>  in this part of the code it&#39;s supposed to open the other activity but instead just opens the same activity again and just erases whatever i typed in the email and password"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1646383886,"post_id":71340282,"comment_id":126114277,"body_markdown":"Which is the &quot;other activity&quot; that you want to be opened?","body":"Which is the &quot;other activity&quot; that you want to be opened?"},{"owner":{"account_id":21747394,"reputation":1,"user_id":16053836,"display_name":"light brid"},"score":0,"creation_date":1646394230,"post_id":71340282,"comment_id":126117766,"body_markdown":"@AlexMamo\nit was supposed to go to the class \n`public class MainActivity extends AppCompatActivity`\nthe MainActivity is the registration page. the first time i tested the app it worked when i clicked the `rRegister.setOnClickListener(new View.OnClickListener()` register button and it sent me to the LoginActivity. I don&#39;t understand what&#39;s different why the other one worked.","body":"@AlexMamo it was supposed to go to the class  <code>public class MainActivity extends AppCompatActivity</code> the MainActivity is the registration page. the first time i tested the app it worked when i clicked the <code>rRegister.setOnClickListener(new View.OnClickListener()</code> register button and it sent me to the LoginActivity. I don&#39;t understand what&#39;s different why the other one worked."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1646395219,"post_id":71340282,"comment_id":126118094,"body_markdown":"Maybe this [article](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336), will help.","body":"Maybe this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">article</a>, will help."},{"owner":{"account_id":21747394,"reputation":1,"user_id":16053836,"display_name":"light brid"},"score":1,"creation_date":1646395464,"post_id":71340282,"comment_id":126118167,"body_markdown":"I&#39;ll try to read it and solve the issue thank you!","body":"I&#39;ll try to read it and solve the issue thank you!"}],"owner":{"account_id":21747394,"reputation":1,"user_id":16053836,"display_name":"light brid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646323907,"creation_date":1646323907,"question_id":71340282,"body_markdown":"When i click on my create account button, it should open another activity but instead, it just opens the same activity again and erases my inputs in the email and password. I also have my activities defined in the manifest. \r\n\r\n    package com.example.music_link_firebase;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n\r\n    public class LoginActivity extends AppCompatActivity {\r\n\r\n    EditText lemail, lpassword;\r\n    Button login, lregister;\r\n    ProgressBar lprogressBar;\r\n    FirebaseAuth lfAuth;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        lemail = findViewById(R.id.email1);\r\n        lpassword = findViewById(R.id.password1);\r\n        login = findViewById(R.id.login1);\r\n        lregister = findViewById(R.id.signup);\r\n        lprogressBar = findViewById(R.id.progressBar2);\r\n        lfAuth = FirebaseAuth.getInstance();\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String email = lemail.getText().toString().trim();\r\n                String password = lpassword.getText().toString().trim();\r\n\r\n                if(TextUtils.isEmpty(email)){\r\n                    lemail.setError(&quot;Email is required&quot;);\r\n                    return;\r\n                }\r\n                if(TextUtils.isEmpty(password)){\r\n                    lpassword.setError(&quot;password is required&quot;);\r\n                }\r\n                if(password.length() &lt; 6){\r\n                    lpassword.setError(&quot;password must be longer than 5 characters&quot;);\r\n                }\r\n\r\n                lprogressBar.setVisibility(View.VISIBLE);\r\n\r\n                //authenticate the user\r\n\r\n                lfAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(task.isSuccessful()){\r\n                            Toast.makeText(LoginActivity.this, &quot;Logged in successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                            startActivity(new Intent(getApplicationContext(), HomeActivity.class));\r\n                        }\r\n                        else{\r\n                            Toast.makeText(LoginActivity.this, &quot;Error ! &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                            lprogressBar.setVisibility(View.GONE);\r\n                        }\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n        lregister.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nthe java code for the activity that&#39;s supposed to open when the button is clicked\r\n\r\n```\r\npackage com.example.music_link_firebase;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText rEmail, rpassword, rphone, rfullname;\r\n    Button rsignin, rRegister;\r\n    FirebaseAuth rfAuth;\r\n    ProgressBar rprogressBar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        rfullname = findViewById(R.id.fullname);\r\n        rEmail = findViewById(R.id.email);\r\n        rpassword = findViewById(R.id.password);\r\n        rphone = findViewById(R.id.phone);\r\n        rsignin = findViewById(R.id.signin);\r\n        rRegister = findViewById(R.id.register);\r\n\r\n        rfAuth = FirebaseAuth.getInstance();\r\n        rprogressBar = findViewById(R.id.progressBar);\r\n\r\n        if(rfAuth.getCurrentUser() != null){\r\n            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n\r\n        rRegister.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String email = rEmail.getText().toString().trim();\r\n                String password = rpassword.getText().toString().trim();\r\n\r\n                if(TextUtils.isEmpty(email)){\r\n                    rEmail.setError(&quot;Email is required&quot;);\r\n                    return;\r\n                }\r\n                if(TextUtils.isEmpty(password)){\r\n                    rpassword.setError(&quot;password is required&quot;);\r\n                    return;\r\n                }\r\n                if(password.length() &lt; 6){\r\n                    rpassword.setError(&quot;password must be longer than 5 characters&quot;);\r\n                    return;\r\n                }\r\n\r\n                rprogressBar.setVisibility(View.VISIBLE);\r\n\r\n                // register the user to firebase\r\n\r\n                rfAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if(task.isSuccessful()){\r\n                            Toast.makeText(MainActivity.this, &quot;user created&quot;, Toast.LENGTH_SHORT).show();\r\n                            startActivity(new Intent(getApplicationContext(), LoginActivity.class));\r\n                        }\r\n                        else\r\n                            Toast.makeText(MainActivity.this, &quot;Error ! &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                        rprogressBar.setVisibility(View.GONE);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        rsignin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext(), LoginActivity.class));\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nit doesn&#39;t show any error but i checked the logcat why this is happening and this is what it shows everytime i click the create account button:\r\n\r\n```\r\n2022-03-04 00:03:03.734 31199-31199/com.example.music_link_firebase D/DecorView: onWindowFocusChangedFromViewRoot hasFocus: true, DecorView@7893d4e[LoginActivity]\r\n2022-03-04 00:03:03.735 31199-31199/com.example.music_link_firebase D/ViewRootImpl[LoginActivity]: windowFocusChanged hasFocus=true inTouchMode=true\r\n2022-03-04 00:03:04.429 31199-31199/com.example.music_link_firebase E/c_link_firebas: Invalid ID 0x00000000.\r\n2022-03-04 00:03:04.436 31199-31199/com.example.music_link_firebase E/c_link_firebas: Invalid ID 0x00000000.\r\n2022-03-04 00:03:04.467 31199-31199/com.example.music_link_firebase D/ViewRootImpl[LoginActivity]: windowFocusChanged hasFocus=false inTouchMode=true\r\n2022-03-04 00:03:04.522 31199-31199/com.example.music_link_firebase E/c_link_firebas: Invalid ID 0x00000000.\r\n2022-03-04 00:03:04.544 31199-31199/com.example.music_link_firebase D/ViewRootImpl: support adaptive color gamut feature!\r\n2022-03-04 00:03:04.529 31199-31199/com.example.music_link_firebase E/c_link_firebas: Invalid ID 0x00000000.\r\n2022-03-04 00:03:04.545 31199-31199/com.example.music_link_firebase V/ViewRootImpl: The specified message queue synchronization  barrier token has not been posted or has already been removed\r\n2022-03-04 00:03:04.584 31199-31199/com.example.music_link_firebase W/Choreographer: Already have a pending vsync event.  There should only be one at a time.\r\n2022-03-04 00:03:04.605 31199-31199/com.example.music_link_firebase D/DecorView: onWindowFocusChangedFromViewRoot hasFocus: true, DecorView@dd70151[LoginActivity]\r\n2022-03-04 00:03:04.606 31199-31199/com.example.music_link_firebase D/ViewRootImpl[LoginActivity]: windowFocusChanged hasFocus=true inTouchMode=true\r\n2022-03-04 00:03:04.648 31199-4783/com.example.music_link_firebase W/System: A resource failed to call close. \r\n2022-03-04 00:03:04.648 31199-4783/com.example.music_link_firebase W/System: A resource failed to call close.\r\n```\r\n\r\nI followed a youtube tutorial for this code so i&#39;m not sure why this is happening. Also, when i first ran the program it directed me first to the MainActivity which is the registration page. after i registered and i encountered the problem, whenever i try to stop the program and run it again it now sends me directly to the LoginActivity which is not supposed to happen. not sure also why. I also checked on firebase if my previous registration was inserted in the database and it was there so i&#39;m not really sure where i went wrong.","title":"Can&#39;t open another activity, when button is clicked, instead opens the same activity","body":"<p>When i click on my create account button, it should open another activity but instead, it just opens the same activity again and erases my inputs in the email and password. I also have my activities defined in the manifest.</p>\n<pre><code>package com.example.music_link_firebase;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic class LoginActivity extends AppCompatActivity {\n\nEditText lemail, lpassword;\nButton login, lregister;\nProgressBar lprogressBar;\nFirebaseAuth lfAuth;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n\n    lemail = findViewById(R.id.email1);\n    lpassword = findViewById(R.id.password1);\n    login = findViewById(R.id.login1);\n    lregister = findViewById(R.id.signup);\n    lprogressBar = findViewById(R.id.progressBar2);\n    lfAuth = FirebaseAuth.getInstance();\n\n    login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            String email = lemail.getText().toString().trim();\n            String password = lpassword.getText().toString().trim();\n\n            if(TextUtils.isEmpty(email)){\n                lemail.setError(&quot;Email is required&quot;);\n                return;\n            }\n            if(TextUtils.isEmpty(password)){\n                lpassword.setError(&quot;password is required&quot;);\n            }\n            if(password.length() &lt; 6){\n                lpassword.setError(&quot;password must be longer than 5 characters&quot;);\n            }\n\n            lprogressBar.setVisibility(View.VISIBLE);\n\n            //authenticate the user\n\n            lfAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if(task.isSuccessful()){\n                        Toast.makeText(LoginActivity.this, &quot;Logged in successfully&quot;, Toast.LENGTH_SHORT).show();\n                        startActivity(new Intent(getApplicationContext(), HomeActivity.class));\n                    }\n                    else{\n                        Toast.makeText(LoginActivity.this, &quot;Error ! &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                        lprogressBar.setVisibility(View.GONE);\n                    }\n                }\n            });\n\n        }\n    });\n\n    lregister.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(getApplicationContext(), MainActivity.class));\n        }\n    });\n\n\n\n\n}\n</code></pre>\n<p>}</p>\n<p>the java code for the activity that's supposed to open when the button is clicked</p>\n<pre><code>package com.example.music_link_firebase;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText rEmail, rpassword, rphone, rfullname;\n    Button rsignin, rRegister;\n    FirebaseAuth rfAuth;\n    ProgressBar rprogressBar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        rfullname = findViewById(R.id.fullname);\n        rEmail = findViewById(R.id.email);\n        rpassword = findViewById(R.id.password);\n        rphone = findViewById(R.id.phone);\n        rsignin = findViewById(R.id.signin);\n        rRegister = findViewById(R.id.register);\n\n        rfAuth = FirebaseAuth.getInstance();\n        rprogressBar = findViewById(R.id.progressBar);\n\n        if(rfAuth.getCurrentUser() != null){\n            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\n            startActivity(intent);\n            finish();\n        }\n\n        rRegister.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String email = rEmail.getText().toString().trim();\n                String password = rpassword.getText().toString().trim();\n\n                if(TextUtils.isEmpty(email)){\n                    rEmail.setError(&quot;Email is required&quot;);\n                    return;\n                }\n                if(TextUtils.isEmpty(password)){\n                    rpassword.setError(&quot;password is required&quot;);\n                    return;\n                }\n                if(password.length() &lt; 6){\n                    rpassword.setError(&quot;password must be longer than 5 characters&quot;);\n                    return;\n                }\n\n                rprogressBar.setVisibility(View.VISIBLE);\n\n                // register the user to firebase\n\n                rfAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if(task.isSuccessful()){\n                            Toast.makeText(MainActivity.this, &quot;user created&quot;, Toast.LENGTH_SHORT).show();\n                            startActivity(new Intent(getApplicationContext(), LoginActivity.class));\n                        }\n                        else\n                            Toast.makeText(MainActivity.this, &quot;Error ! &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                        rprogressBar.setVisibility(View.GONE);\n                    }\n                });\n            }\n        });\n\n        rsignin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(getApplicationContext(), LoginActivity.class));\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p>it doesn't show any error but i checked the logcat why this is happening and this is what it shows everytime i click the create account button:</p>\n<pre><code>2022-03-04 00:03:03.734 31199-31199/com.example.music_link_firebase D/DecorView: onWindowFocusChangedFromViewRoot hasFocus: true, DecorView@7893d4e[LoginActivity]\n2022-03-04 00:03:03.735 31199-31199/com.example.music_link_firebase D/ViewRootImpl[LoginActivity]: windowFocusChanged hasFocus=true inTouchMode=true\n2022-03-04 00:03:04.429 31199-31199/com.example.music_link_firebase E/c_link_firebas: Invalid ID 0x00000000.\n2022-03-04 00:03:04.436 31199-31199/com.example.music_link_firebase E/c_link_firebas: Invalid ID 0x00000000.\n2022-03-04 00:03:04.467 31199-31199/com.example.music_link_firebase D/ViewRootImpl[LoginActivity]: windowFocusChanged hasFocus=false inTouchMode=true\n2022-03-04 00:03:04.522 31199-31199/com.example.music_link_firebase E/c_link_firebas: Invalid ID 0x00000000.\n2022-03-04 00:03:04.544 31199-31199/com.example.music_link_firebase D/ViewRootImpl: support adaptive color gamut feature!\n2022-03-04 00:03:04.529 31199-31199/com.example.music_link_firebase E/c_link_firebas: Invalid ID 0x00000000.\n2022-03-04 00:03:04.545 31199-31199/com.example.music_link_firebase V/ViewRootImpl: The specified message queue synchronization  barrier token has not been posted or has already been removed\n2022-03-04 00:03:04.584 31199-31199/com.example.music_link_firebase W/Choreographer: Already have a pending vsync event.  There should only be one at a time.\n2022-03-04 00:03:04.605 31199-31199/com.example.music_link_firebase D/DecorView: onWindowFocusChangedFromViewRoot hasFocus: true, DecorView@dd70151[LoginActivity]\n2022-03-04 00:03:04.606 31199-31199/com.example.music_link_firebase D/ViewRootImpl[LoginActivity]: windowFocusChanged hasFocus=true inTouchMode=true\n2022-03-04 00:03:04.648 31199-4783/com.example.music_link_firebase W/System: A resource failed to call close. \n2022-03-04 00:03:04.648 31199-4783/com.example.music_link_firebase W/System: A resource failed to call close.\n</code></pre>\n<p>I followed a youtube tutorial for this code so i'm not sure why this is happening. Also, when i first ran the program it directed me first to the MainActivity which is the registration page. after i registered and i encountered the problem, whenever i try to stop the program and run it again it now sends me directly to the LoginActivity which is not supposed to happen. not sure also why. I also checked on firebase if my previous registration was inserted in the database and it was there so i'm not really sure where i went wrong.</p>\n"},{"tags":["java","gmail","jakarta-mail","imap"],"comments":[{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1646322697,"post_id":71334542,"comment_id":126099404,"body_markdown":"Did you receive this email via IMAP or SMTP?  Or did you use a serializer that is preparing it for SMTP?  SMTP does &quot;dot stuffing&quot; if a line begins with ., but this should be transparent to IMAP.","body":"Did you receive this email via IMAP or SMTP?  Or did you use a serializer that is preparing it for SMTP?  SMTP does &quot;dot stuffing&quot; if a line begins with ., but this should be transparent to IMAP."},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1646322712,"post_id":71334542,"comment_id":126099409,"body_markdown":"It would be helpful for more information on exactly how this message got into your system.","body":"It would be helpful for more information on exactly how this message got into your system."},{"owner":{"account_id":1894715,"reputation":1074,"user_id":1711929,"accept_rate":80,"display_name":"tonimaroni"},"score":0,"creation_date":1646322999,"post_id":71334542,"comment_id":126099549,"body_markdown":"Its fetched via imap. No serializer used. No sending, no smtp. Yep, should be transparent but its not. Asking for why could it be?","body":"Its fetched via imap. No serializer used. No sending, no smtp. Yep, should be transparent but its not. Asking for why could it be?"},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1646336114,"post_id":71334542,"comment_id":126104310,"body_markdown":"It looks like a bug in the gmail IMAP implementation.  It might be good to check with another test message and like, socat to see if it does this stuffing or if something else in the pipeline has added it; or if happens for ‘RFC822’, or just for part fetches like ‘1.2’  If it does, you could detect it and “fix” it.  I double checked and there’s nothing in the IMAP RFC that I can find that indicates that dot stuffing should be used; POP3 may do dot stuffing if you’re accidentally using that protocol, but the protocol handler should remove that.","body":"It looks like a bug in the gmail IMAP implementation.  It might be good to check with another test message and like, socat to see if it does this stuffing or if something else in the pipeline has added it; or if happens for ‘RFC822’, or just for part fetches like ‘1.2’  If it does, you could detect it and “fix” it.  I double checked and there’s nothing in the IMAP RFC that I can find that indicates that dot stuffing should be used; POP3 may do dot stuffing if you’re accidentally using that protocol, but the protocol handler should remove that."}],"owner":{"account_id":1894715,"reputation":1074,"user_id":1711929,"accept_rate":80,"display_name":"tonimaroni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646323853,"creation_date":1646298329,"question_id":71334542,"body_markdown":"I am implementing a emailclient with javamail (imap). \r\n\r\nThere is a &quot;part&quot; of an email where the content is (at one point only) different from what i see on the original email in gmail. This leads to a broken link, in the example a link with two points. \r\n\r\nThe message is printed to the console with part.writeTo(System.out);\r\n\r\nHow can that be.. any idea what goes wrong? Help appreciated!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aNSQJ.png\r\n\r\n\r\n\r\n    // MimeMessage  \r\n    if(part.getContentType().toLowerCase().startsWith(&quot;text/html&quot;)) {\r\n                        \r\n        // both, (String)part.getContent() and MimeUtility.decode as below\r\n        // and also writeTo contains the additional point..\r\n    \r\n        part.writeTo(System.out);\r\n        // htmltext.append((String)part.getContent());\r\n        String body = IOUtils.toString(MimeUtility.decode(new ByteArrayInputStream(((String)part.getContent()).getBytes()), &quot;quoted-printable&quot;),&quot;UTF-8&quot;);\r\n        htmltext.append(body);\r\n    }\r\n    \r\n\r\nAll other mails are fetched correctly. ","title":"javamail part downloaded is different than original gmail message content","body":"<p>I am implementing a emailclient with javamail (imap).</p>\n<p>There is a &quot;part&quot; of an email where the content is (at one point only) different from what i see on the original email in gmail. This leads to a broken link, in the example a link with two points.</p>\n<p>The message is printed to the console with part.writeTo(System.out);</p>\n<p>How can that be.. any idea what goes wrong? Help appreciated!</p>\n<p><a href=\"https://i.stack.imgur.com/aNSQJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aNSQJ.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>// MimeMessage  \nif(part.getContentType().toLowerCase().startsWith(&quot;text/html&quot;)) {\n                    \n    // both, (String)part.getContent() and MimeUtility.decode as below\n    // and also writeTo contains the additional point..\n\n    part.writeTo(System.out);\n    // htmltext.append((String)part.getContent());\n    String body = IOUtils.toString(MimeUtility.decode(new ByteArrayInputStream(((String)part.getContent()).getBytes()), &quot;quoted-printable&quot;),&quot;UTF-8&quot;);\n    htmltext.append(body);\n}\n</code></pre>\n<p>All other mails are fetched correctly.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1646325056,"post_id":71339453,"comment_id":126100415,"body_markdown":"Is the key phrase here, &quot;with a different parameter each time?&quot; I.e., do you know how to have some function, `f` called with the _same_ parameter (or no parameter) each time? If so, then why not write a function, `f`, that first calculates the next parameter `p` to give to function `g`, and then calls `g(p)`?","body":"Is the key phrase here, &quot;with a different parameter each time?&quot; I.e., do you know how to have some function, <code>f</code> called with the <i>same</i> parameter (or no parameter) each time? If so, then why not write a function, <code>f</code>, that first calculates the next parameter <code>p</code> to give to function <code>g</code>, and then calls <code>g(p)</code>?"},{"owner":{"account_id":16082511,"reputation":279,"user_id":11608028,"display_name":"casper"},"score":0,"creation_date":1646368608,"post_id":71339453,"comment_id":126110928,"body_markdown":"Simply saying, I need to infinitely make api call each 30 seconds, and each time with different endpoint. (3 fixed endpoints)","body":"Simply saying, I need to infinitely make api call each 30 seconds, and each time with different endpoint. (3 fixed endpoints)"}],"answers":[{"tags":[],"owner":{"account_id":17248329,"reputation":96,"user_id":12489029,"display_name":"Armando Almeida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646321453,"creation_date":1646321453,"answer_id":71339697,"question_id":71339453,"body_markdown":"To run every 30 seconds you can use the solution of this post: https://stackoverflow.com/questions/426758/running-a-java-thread-in-intervals\r\n\r\nAnd also, maybe you can use `CompletableFuture` to do asynchronous calls and retrieve the result:\r\n\r\n    CompletableFuture&lt;Void&gt; future1  \r\n      = CompletableFuture.supplyAsync(() -&gt; getFreshRates(url1));\r\n    CompletableFuture&lt;Void&gt; future2  \r\n      = CompletableFuture.supplyAsync(() -&gt; getFreshRates(url2));\r\n    CompletableFuture&lt;Void&gt; future3  \r\n      = CompletableFuture.supplyAsync(() -&gt; getFreshRates(url3));\r\n    \r\n    CompletableFuture&lt;Void&gt; combinedFuture \r\n      = CompletableFuture.allOf(future1, future2, future3);\r\n        \r\n    combinedFuture.get();\r\n\r\n\r\nSee: https://www.baeldung.com/java-completablefuture#Multiple","title":"How to run a function every &quot;N&quot; seconds with different parameter each time?","body":"<p>To run every 30 seconds you can use the solution of this post: <a href=\"https://stackoverflow.com/questions/426758/running-a-java-thread-in-intervals\">Running a Java Thread in intervals</a></p>\n<p>And also, maybe you can use <code>CompletableFuture</code> to do asynchronous calls and retrieve the result:</p>\n<pre><code>CompletableFuture&lt;Void&gt; future1  \n  = CompletableFuture.supplyAsync(() -&gt; getFreshRates(url1));\nCompletableFuture&lt;Void&gt; future2  \n  = CompletableFuture.supplyAsync(() -&gt; getFreshRates(url2));\nCompletableFuture&lt;Void&gt; future3  \n  = CompletableFuture.supplyAsync(() -&gt; getFreshRates(url3));\n\nCompletableFuture&lt;Void&gt; combinedFuture \n  = CompletableFuture.allOf(future1, future2, future3);\n    \ncombinedFuture.get();\n</code></pre>\n<p>See: <a href=\"https://www.baeldung.com/java-completablefuture#Multiple\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-completablefuture#Multiple</a></p>\n"},{"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646323724,"creation_date":1646323724,"answer_id":71340234,"question_id":71339453,"body_markdown":"Is it a fixed number of URLs? Because if it is, you can create N completable futures and run them indefinitely.","title":"How to run a function every &quot;N&quot; seconds with different parameter each time?","body":"<p>Is it a fixed number of URLs? Because if it is, you can create N completable futures and run them indefinitely.</p>\n"}],"owner":{"account_id":16082511,"reputation":279,"user_id":11608028,"display_name":"casper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646323724,"creation_date":1646320392,"question_id":71339453,"body_markdown":"I have a function that makes API call to the server and updates the UI with new data. I want to  make, so that every 30 seconds I make API call with different url each time ? And these API calls should be non-stop, as long as the app is running.\r\n  \r\n\r\n    String url1 = &quot;https://somewebsite.com/api/update-rates?locale=en&quot;;\r\n    String url2 = &quot;https://somewebsite.com/api/update-rates?locale=ru&quot;;\r\n    String url3 = &quot;https://somewebsite.com/api/update-rates?locale=fr&quot;;\r\n    \r\n    public void getFreshRates (String url) {\r\n            OkHttpClient client = new OkHttpClient();\r\n    \r\n            Request request = new Request.Builder()\r\n                    .url(url)\r\n                    .build();\r\n    \r\n            client.newCall(request).enqueue(new Callback() {\r\n                @Override\r\n                public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                @Override\r\n                public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                    if(response.isSuccessful()) {\r\n                        String myResponse = response.body().string();\r\n                         // Handling the response here\r\n                         }\r\n    \r\n                        MainActivity.this.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                // Updating My UI here\r\n                            }\r\n                        });\r\n                    }\r\n            });\r\n        }\r\n\r\n","title":"How to run a function every &quot;N&quot; seconds with different parameter each time?","body":"<p>I have a function that makes API call to the server and updates the UI with new data. I want to  make, so that every 30 seconds I make API call with different url each time ? And these API calls should be non-stop, as long as the app is running.</p>\n<pre><code>String url1 = &quot;https://somewebsite.com/api/update-rates?locale=en&quot;;\nString url2 = &quot;https://somewebsite.com/api/update-rates?locale=ru&quot;;\nString url3 = &quot;https://somewebsite.com/api/update-rates?locale=fr&quot;;\n\npublic void getFreshRates (String url) {\n        OkHttpClient client = new OkHttpClient();\n\n        Request request = new Request.Builder()\n                .url(url)\n                .build();\n\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                e.printStackTrace();\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if(response.isSuccessful()) {\n                    String myResponse = response.body().string();\n                     // Handling the response here\n                     }\n\n                    MainActivity.this.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            // Updating My UI here\n                        }\n                    });\n                }\n        });\n    }\n</code></pre>\n"},{"tags":["java","resources","maven"],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1307803231,"creation_date":1307803231,"answer_id":6316513,"question_id":6316462,"body_markdown":"First you should place your resources into src/main/resources/com/berlin/Test.properties and your java source files into src/main/java/com/berlin/Test.java...Never put compiled classes into src/ folder... furthermore you should remove the configuration:\r\n\r\n      &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n      &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n      &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\r\n      &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\nfrom your pom, cause you don&#39;t need it and furthermore it&#39;s wrong (Convention over configuration paradigm!). Take a look at the [default folder layout][1] in maven.\r\n\r\nThe Maven Way is to put the source files (*.java) into src/main/java, the resources src/main/resources. The unit test classes src/test/java and src/test/resources after compiling it will be put into target/classes or for the tests target/test-classes.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"Maven resource files, put java class files and property files in same directory","body":"<p>First you should place your resources into src/main/resources/com/berlin/Test.properties and your java source files into src/main/java/com/berlin/Test.java...Never put compiled classes into src/ folder... furthermore you should remove the configuration:</p>\n\n<pre><code>  &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n  &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n  &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\n  &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n\n<p>from your pom, cause you don't need it and furthermore it's wrong (Convention over configuration paradigm!). Take a look at the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow\">default folder layout</a> in maven.</p>\n\n<p>The Maven Way is to put the source files (*.java) into src/main/java, the resources src/main/resources. The unit test classes src/test/java and src/test/resources after compiling it will be put into target/classes or for the tests target/test-classes.</p>\n"},{"tags":[],"owner":{"account_id":48995,"reputation":1415,"user_id":145768,"accept_rate":100,"display_name":"Milan Aleksić"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1505892495,"creation_date":1307803272,"answer_id":6316516,"question_id":6316462,"body_markdown":"For the Maven reasons, you should place properties file into src/main/resources, not in src/main/java directory (keeping the same subfolder structure).\r\n       \r\nThat being said, to get what you want you need to replace (in your pom.xml) `src` with `src/main/java`. Not tested, but if you have problems please share.     \r\n \r\n","title":"Maven resource files, put java class files and property files in same directory","body":"<p>For the Maven reasons, you should place properties file into src/main/resources, not in src/main/java directory (keeping the same subfolder structure).</p>\n\n<p>That being said, to get what you want you need to replace (in your pom.xml) <code>src</code> with <code>src/main/java</code>. Not tested, but if you have problems please share.     </p>\n"},{"tags":[],"owner":{"account_id":2691034,"reputation":1,"user_id":2324398,"display_name":"Dominik Bielicki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455462607,"creation_date":1455462607,"answer_id":35393287,"question_id":6316462,"body_markdown":"    &lt;build&gt;\r\n    \t&lt;testResources&gt;\r\n    \t\t&lt;testResource&gt;\r\n    \t\t\t&lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n    \t\t&lt;/testResource&gt;\r\n    \t\t&lt;testResource&gt;\r\n    \t\t\t&lt;directory&gt;src/test/java&lt;/directory&gt;\r\n    \t\t\t&lt;excludes&gt;\r\n    \t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n    \t\t\t&lt;/excludes&gt;\r\n    \t\t&lt;/testResource&gt;\r\n    \t&lt;/testResources&gt;\r\n    &lt;/build&gt;","title":"Maven resource files, put java class files and property files in same directory","body":"<pre><code>&lt;build&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/resources&lt;/directory&gt;\n        &lt;/testResource&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646323721,"creation_date":1646323721,"answer_id":71340231,"question_id":6316462,"body_markdown":"Contrary to popular opinion, and flying in the face of what others consider as &quot;the maven reasons&quot;:\r\n\r\n - It is in fact very useful to have resources in the exact same\r\n   directories as the java files, and \r\n - It is perfectly feasible to have\r\n   maven place copies of these resource files in the exact same\r\n   directories as the corresponding class files.\r\n\r\nHere are the magical pom.xml incantations that will accomplish this:\r\n(Assuming that your sources are in a directory called &#39;src&#39;)\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\r\nBeware that this will copy to the output folder every single file under &#39;src&#39; which is not a java file. If you have more files that you do not want copied to the output folder, either add more exclusions, or replace &#39;**/*&#39; with a wildcard that only matches your resource files.\r\n\r\nIf you do the above, you can then have a class like the following, in the same package as the resources:\r\n\r\n    public class ResourceLocator\r\n    {\r\n    \tpublic static URL getResourceUrl( String name )\r\n    \t{\r\n    \t\tURL url = ResourceLocator.class.getResource( name );\r\n    \t\tassert url != null : name;\r\n    \t\treturn url;\r\n    \t}\r\n    }\r\n\r\n","title":"Maven resource files, put java class files and property files in same directory","body":"<p>Contrary to popular opinion, and flying in the face of what others consider as &quot;the maven reasons&quot;:</p>\n<ul>\n<li>It is in fact very useful to have resources in the exact same\ndirectories as the java files, and</li>\n<li>It is perfectly feasible to have\nmaven place copies of these resource files in the exact same\ndirectories as the corresponding class files.</li>\n</ul>\n<p>Here are the magical pom.xml incantations that will accomplish this:\n(Assuming that your sources are in a directory called 'src')</p>\n<pre><code>&lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n<p>Beware that this will copy to the output folder every single file under 'src' which is not a java file. If you have more files that you do not want copied to the output folder, either add more exclusions, or replace '**/*' with a wildcard that only matches your resource files.</p>\n<p>If you do the above, you can then have a class like the following, in the same package as the resources:</p>\n<pre><code>public class ResourceLocator\n{\n    public static URL getResourceUrl( String name )\n    {\n        URL url = ResourceLocator.class.getResource( name );\n        assert url != null : name;\n        return url;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35544,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":6316516,"answer_count":4,"score":7,"last_activity_date":1646323721,"creation_date":1307802561,"question_id":6316462,"body_markdown":"I have java class files and property files in the same directory.\r\n\r\nsrc/main/java/com/berlin/Test.class\r\n\r\nsrc/main/java/com/berlin/Test.properties\r\n\r\nWith the maven jar I build and the maven target, I want these to appear in the same directory.  but maven is placing the class files and property files in different places when I do &#39;mvn package&#39;.\r\n\r\n.. Output:\r\njar -tvf file.jar:\r\n\r\nSat Jun 11 08:24:32 EDT 2011 main/java/com/berlin/Test.properties\r\n\r\nI want:\r\nSat Jun 11 08:24:32 EDT 2011 com/berlin/Test.properties\r\nSat Jun 11 08:24:32 EDT 2011 com/berlin/Test.class\r\n\r\n...\r\n\r\nPart of my pom:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;build&gt;\r\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n            &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src&lt;/directory&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n    &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.source.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.target.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;           \r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;            \r\n            &lt;/plugins&gt;\r\n\r\n","title":"Maven resource files, put java class files and property files in same directory","body":"<p>I have java class files and property files in the same directory.</p>\n\n<p>src/main/java/com/berlin/Test.class</p>\n\n<p>src/main/java/com/berlin/Test.properties</p>\n\n<p>With the maven jar I build and the maven target, I want these to appear in the same directory.  but maven is placing the class files and property files in different places when I do 'mvn package'.</p>\n\n<p>.. Output:\njar -tvf file.jar:</p>\n\n<p>Sat Jun 11 08:24:32 EDT 2011 main/java/com/berlin/Test.properties</p>\n\n<p>I want:\nSat Jun 11 08:24:32 EDT 2011 com/berlin/Test.properties\nSat Jun 11 08:24:32 EDT 2011 com/berlin/Test.class</p>\n\n<p>...</p>\n\n<p>Part of my pom:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n&lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.source.version}&lt;/source&gt;\n                    &lt;target&gt;${java.target.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;           \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;            \n        &lt;/plugins&gt;\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea","return-value"],"answers":[{"tags":[],"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646307451,"creation_date":1646307146,"answer_id":71336474,"question_id":71333760,"body_markdown":"Here&#39;s a screenshot of IntelliJ IDEA&#39;s &quot;Services&quot; tool window.\r\n\r\n[![IntelliJ IDEA Services tool window screengrab][1]][1]\r\n\r\nWhen you click on the gear icon on the left, you can see the &quot;Show Method Return Values&quot; option. It&#39;s unchecked by default.\r\n\r\nIt shows the return value of the last method call (relative to where the debugger cursor is) in the &quot;Variables&quot; panel on the right.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W3yFY.jpg","title":"In IntelliJ: Showing the return value from the method we just stepped out of","body":"<p>Here's a screenshot of IntelliJ IDEA's &quot;Services&quot; tool window.</p>\n<p><a href=\"https://i.stack.imgur.com/W3yFY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3yFY.jpg\" alt=\"IntelliJ IDEA Services tool window screengrab\" /></a></p>\n<p>When you click on the gear icon on the left, you can see the &quot;Show Method Return Values&quot; option. It's unchecked by default.</p>\n<p>It shows the return value of the last method call (relative to where the debugger cursor is) in the &quot;Variables&quot; panel on the right.</p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670400277,"accepted_answer_id":71336474,"answer_count":1,"score":1,"last_activity_date":1646323686,"creation_date":1646294153,"question_id":71333760,"body_markdown":"The article, [*Debugging Tutorial: Java Return Value, IntelliJ Jump to Line, and More*](https://dzone.com/articles/debugging-tutorial-java-return-value-intellij-jump), says:\r\n\r\n&gt; We can enable the &quot;Show method return values&quot; settings option in IntelliJ\r\n\r\n&#128073; Where is this setting?\r\n\r\nAnd what exactly does it do? ","title":"In IntelliJ: Showing the return value from the method we just stepped out of","body":"<p>The article, <a href=\"https://dzone.com/articles/debugging-tutorial-java-return-value-intellij-jump\" rel=\"nofollow noreferrer\"><em>Debugging Tutorial: Java Return Value, IntelliJ Jump to Line, and More</em></a>, says:</p>\n<blockquote>\n<p>We can enable the &quot;Show method return values&quot; settings option in IntelliJ</p>\n</blockquote>\n<p>👉 Where is this setting?</p>\n<p>And what exactly does it do?</p>\n"},{"tags":["java","scala","testing","gradle","gatling"],"answers":[{"tags":[],"owner":{"account_id":126156,"reputation":1996,"user_id":322456,"accept_rate":92,"display_name":"Stan Reshetnyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571989007,"creation_date":1571989007,"answer_id":58554164,"question_id":57729523,"body_markdown":"There is a bug in gatling related to the changing source dirs.\r\nhttps://github.com/gatling/gatling/issues/3301\r\n\r\nTry to use default dirs for simulations. It helped for me in SBT project.","title":"How to fix: java.lang.ClassNotFoundException: BasicSimulation for gradle gatlingRun task?","body":"<p>There is a bug in gatling related to the changing source dirs.\n<a href=\"https://github.com/gatling/gatling/issues/3301\" rel=\"nofollow noreferrer\">https://github.com/gatling/gatling/issues/3301</a></p>\n\n<p>Try to use default dirs for simulations. It helped for me in SBT project.</p>\n"}],"owner":{"account_id":5536736,"reputation":1604,"user_id":4394770,"accept_rate":71,"display_name":"Saber Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646323683,"creation_date":1567178858,"question_id":57729523,"body_markdown":"I&#39;m trying to run a gatling task via gradle. I specifically set my scala sourceCode set, run compileScala befor running gatlingRun, but I keep on getting an error:\r\n` java.lang.ClassNotFoundException: BasicSimulation`\r\n\r\nHow do I set up te task properly?\r\nThe `build.gradle`:\r\n```\r\nplugins {\r\n    id &quot;com.github.lkishalmi.gatling&quot; version &quot;3.0.2&quot;\r\n}\r\nrepositories {\r\n    mavenCentral()\r\n}\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;scala&#39;\r\n\r\nsourceSets {\r\n    main {\r\n        scala {\r\n            srcDirs = [&#39;src/gatling/simulations/&#39;]\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\ndependencies {\r\n    compile &quot;io.gatling:gatling-core:3.0.2&quot;\r\n    compile &quot;io.gatling:gatling-http:3.0.2&quot;\r\n    compile &#39;io.gatling.highcharts:gatling-charts-highcharts:3.0.2&#39;\r\n    compile &#39;org.scala-lang:scala-library:2.11.8&#39;\r\n}\r\n\r\ngatling {\r\n    simulations = {\r\n        include &quot;*.scala&quot;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nGradle syntax:\r\n`gradlew compileScala gatlingRun -Dorg.gradle.java.home=C:\\Users\\saber.alex\\Documents\\jre1.8.0_91 `\r\n\r\nError:\r\n```\r\n\r\n&gt; Task :gatlingRun\r\n16:22:52.131 [main] INFO io.gatling.core.config.GatlingConfiguration$ - Gatling will try to use &#39;gatling.conf&#39; as custom config file.\r\n16:22:52.910 [GatlingSystem-akka.actor.default-dispatcher-2] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started\r\n16:22:54.045 [main] ERROR io.gatling.app.Gatling$ - Run crashed\r\njava.lang.IllegalArgumentException: User defined Simulation class BasicSimulation could not be loaded\r\n\tat io.gatling.app.Selection$Selector.findUserDefinedSimulationInClassloader$1(Selection.scala:79)\r\n\tat io.gatling.app.Selection$Selector.$anonfun$singleSimulationFromConfig$4(Selection.scala:84)\r\n\tat scala.Option.orElse(Option.scala:289)\r\n\tat io.gatling.app.Selection$Selector.$anonfun$singleSimulationFromConfig$3(Selection.scala:84)\r\n\tat scala.Option.flatMap(Option.scala:171)\r\n\tat io.gatling.app.Selection$Selector.singleSimulationFromConfig(Selection.scala:82)\r\n\tat io.gatling.app.Selection$Selector.$anonfun$selection$1(Selection.scala:52)\r\n\tat scala.Option.getOrElse(Option.scala:121)\r\n\tat io.gatling.app.Selection$Selector.selection(Selection.scala:44)\r\n\tat io.gatling.app.Selection$.apply(Selection.scala:36)\r\n\tat io.gatling.app.Runner.run0(Runner.scala:74)\r\n\tat io.gatling.app.Runner.run(Runner.scala:61)\r\n\tat io.gatling.app.Gatling$.start(Gatling.scala:74)\r\n\tat io.gatling.app.Gatling$.fromArgs(Gatling.scala:47)\r\n\tat io.gatling.app.Gatling$.main(Gatling.scala:39)\r\n\tat io.gatling.app.Gatling.main(Gatling.scala)\r\nCaused by: java.lang.ClassNotFoundException: BasicSimulation\r\n\tat java.net.URLClassLoader.findClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Unknown Source)\r\n\tat io.gatling.app.Selection$Selector.$anonfun$singleSimulationFromConfig$2(Selection.scala:70)\r\n\tat scala.util.Try$.apply(Try.scala:209)\r\n\tat io.gatling.app.Selection$Selector.findUserDefinedSimulationInClassloader$1(Selection.scala:70)\r\n\t... 15 common frames omitted\r\n\r\n&gt; Task :gatlingRun FAILED\r\n3 actionable tasks: 3 executed\r\n```\r\n","title":"How to fix: java.lang.ClassNotFoundException: BasicSimulation for gradle gatlingRun task?","body":"<p>I'm trying to run a gatling task via gradle. I specifically set my scala sourceCode set, run compileScala befor running gatlingRun, but I keep on getting an error:\n<code>java.lang.ClassNotFoundException: BasicSimulation</code></p>\n\n<p>How do I set up te task properly?\nThe <code>build.gradle</code>:</p>\n\n<pre><code>plugins {\n    id \"com.github.lkishalmi.gatling\" version \"3.0.2\"\n}\nrepositories {\n    mavenCentral()\n}\napply plugin: 'java'\napply plugin: 'scala'\n\nsourceSets {\n    main {\n        scala {\n            srcDirs = ['src/gatling/simulations/']\n        }\n    }\n}\n\n\n\ndependencies {\n    compile \"io.gatling:gatling-core:3.0.2\"\n    compile \"io.gatling:gatling-http:3.0.2\"\n    compile 'io.gatling.highcharts:gatling-charts-highcharts:3.0.2'\n    compile 'org.scala-lang:scala-library:2.11.8'\n}\n\ngatling {\n    simulations = {\n        include \"*.scala\"\n    }\n}\n\n\n</code></pre>\n\n<p>Gradle syntax:\n<code>gradlew compileScala gatlingRun -Dorg.gradle.java.home=C:\\Users\\saber.alex\\Documents\\jre1.8.0_91</code></p>\n\n<p>Error:</p>\n\n<pre><code>\n&gt; Task :gatlingRun\n16:22:52.131 [main] INFO io.gatling.core.config.GatlingConfiguration$ - Gatling will try to use 'gatling.conf' as custom config file.\n16:22:52.910 [GatlingSystem-akka.actor.default-dispatcher-2] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started\n16:22:54.045 [main] ERROR io.gatling.app.Gatling$ - Run crashed\njava.lang.IllegalArgumentException: User defined Simulation class BasicSimulation could not be loaded\n    at io.gatling.app.Selection$Selector.findUserDefinedSimulationInClassloader$1(Selection.scala:79)\n    at io.gatling.app.Selection$Selector.$anonfun$singleSimulationFromConfig$4(Selection.scala:84)\n    at scala.Option.orElse(Option.scala:289)\n    at io.gatling.app.Selection$Selector.$anonfun$singleSimulationFromConfig$3(Selection.scala:84)\n    at scala.Option.flatMap(Option.scala:171)\n    at io.gatling.app.Selection$Selector.singleSimulationFromConfig(Selection.scala:82)\n    at io.gatling.app.Selection$Selector.$anonfun$selection$1(Selection.scala:52)\n    at scala.Option.getOrElse(Option.scala:121)\n    at io.gatling.app.Selection$Selector.selection(Selection.scala:44)\n    at io.gatling.app.Selection$.apply(Selection.scala:36)\n    at io.gatling.app.Runner.run0(Runner.scala:74)\n    at io.gatling.app.Runner.run(Runner.scala:61)\n    at io.gatling.app.Gatling$.start(Gatling.scala:74)\n    at io.gatling.app.Gatling$.fromArgs(Gatling.scala:47)\n    at io.gatling.app.Gatling$.main(Gatling.scala:39)\n    at io.gatling.app.Gatling.main(Gatling.scala)\nCaused by: java.lang.ClassNotFoundException: BasicSimulation\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at io.gatling.app.Selection$Selector.$anonfun$singleSimulationFromConfig$2(Selection.scala:70)\n    at scala.util.Try$.apply(Try.scala:209)\n    at io.gatling.app.Selection$Selector.findUserDefinedSimulationInClassloader$1(Selection.scala:70)\n    ... 15 common frames omitted\n\n&gt; Task :gatlingRun FAILED\n3 actionable tasks: 3 executed\n</code></pre>\n"},{"tags":["java","mysql","ssl","tomcat"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1645048331,"post_id":71148654,"comment_id":125770463,"body_markdown":"I don&#39;t think the `Connector` configuration nor the security-constraints are relevant to solving your problem. These relate to securing your connection to Tomcat over HTTPS and ensuring users who lack permissions don&#39;t have access to certain pages. They don&#39;t do anything relating to securing Tomcat&#39;s connection to MySQL.","body":"I don&#39;t think the <code>Connector</code> configuration nor the security-constraints are relevant to solving your problem. These relate to securing your connection to Tomcat over HTTPS and ensuring users who lack permissions don&#39;t have access to certain pages. They don&#39;t do anything relating to securing Tomcat&#39;s connection to MySQL."},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1645050184,"post_id":71148654,"comment_id":125771007,"body_markdown":"@LukeWoodward: How can I check that the Tomcat-MariaDB connection is properly secured (or what isn&#39;t properly securing it)?","body":"@LukeWoodward: How can I check that the Tomcat-MariaDB connection is properly secured (or what isn&#39;t properly securing it)?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1645058966,"post_id":71148654,"comment_id":125772833,"body_markdown":"`Access denied for user &#39;bob&#39;@&#39;foo&#39; (using password: YES)`: this message comes from MariaDB. It is proof that the TCP and TLS parts are working perfectly. The problem here is the username or password.","body":"<code>Access denied for user &#39;bob&#39;@&#39;foo&#39; (using password: YES)</code>: this message comes from MariaDB. It is proof that the TCP and TLS parts are working perfectly. The problem here is the username or password."},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1645107935,"post_id":71148654,"comment_id":125787258,"body_markdown":"@user207421: As I said in the question, with the TLS key and certs specified on the command line, the user, host, and password successfully connect to the database.  You are correct in that the problem lies somewhere in authentication, just not in that part.","body":"@user207421: As I said in the question, with the TLS key and certs specified on the command line, the user, host, and password successfully connect to the database.  You are correct in that the problem lies somewhere in authentication, just not in that part."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645138848,"post_id":71148654,"comment_id":125798666,"body_markdown":"Just not in what part? The fact that you got an error code back from the database server indicates that the TLS part is working perfectly. No two ways about it.","body":"Just not in what part? The fact that you got an error code back from the database server indicates that the TLS part is working perfectly. No two ways about it."},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1645193979,"post_id":71148654,"comment_id":125813079,"body_markdown":"@user207421: And the fact that I was able to log in to the database server on the command line with the TLS certs indicates that the username/password part is also working perfectly.  So I suppose my question is, what lies between the two?","body":"@user207421: And the fact that I was able to log in to the database server on the command line with the TLS certs indicates that the username/password part is also working perfectly.  So I suppose my question is, what lies between the two?"},{"owner":{"account_id":2700653,"reputation":26716,"user_id":2331445,"display_name":"Stephan Schlecht"},"score":0,"creation_date":1645949471,"post_id":71148654,"comment_id":126000425,"body_markdown":"Did you grant access, e.g. with `GRANT ALL PRIVILIGES ON *.* TO &#39;bob&#39;@&#39;foo&#39; IDENTIFIED BY password`?","body":"Did you grant access, e.g. with <code>GRANT ALL PRIVILIGES ON *.* TO &#39;bob&#39;@&#39;foo&#39; IDENTIFIED BY password</code>?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1645959549,"post_id":71148654,"comment_id":126002150,"body_markdown":"And note that &quot;a requirement to encrypt the connection&quot; doesn&#39;t mean you have to use a client certificate.","body":"And note that &quot;a requirement to encrypt the connection&quot; doesn&#39;t mean you have to use a client certificate."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1645960895,"post_id":71148654,"comment_id":126002375,"body_markdown":"And since your issue is mainly a matter of JDBC configuration, you could start by writing a very simple command-line program (just a few lines) to test the JDBC connection. Forget about Tomcat and its `Connector` configuration (they are totally irrelevant here).","body":"And since your issue is mainly a matter of JDBC configuration, you could start by writing a very simple command-line program (just a few lines) to test the JDBC connection. Forget about Tomcat and its <code>Connector</code> configuration (they are totally irrelevant here)."},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1646058525,"post_id":71148654,"comment_id":126024044,"body_markdown":"@Oliver: Given the `my.cnf` entries presently on the database server, what changes do I need to make to use client certificate authentication?  Also, if I change the users to use `SSL` instead of `X509`, the Java servlets still fail to connect.","body":"@Oliver: Given the <code>my.cnf</code> entries presently on the database server, what changes do I need to make to use client certificate authentication?  Also, if I change the users to use <code>SSL</code> instead of <code>X509</code>, the Java servlets still fail to connect."},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1646059785,"post_id":71148654,"comment_id":126024602,"body_markdown":"Correction to my previous comment: My version of MariaDB uses `ssl_type` of `ANY`.  I have confirmed that this still works on the command line but not in the Java servlet.","body":"Correction to my previous comment: My version of MariaDB uses <code>ssl_type</code> of <code>ANY</code>.  I have confirmed that this still works on the command line but not in the Java servlet."},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1646065685,"post_id":71148654,"comment_id":126027057,"body_markdown":"@StephanSchlecht: If that was a problem, should the MySQL command line connection also fail?","body":"@StephanSchlecht: If that was a problem, should the MySQL command line connection also fail?"},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1646065841,"post_id":71148654,"comment_id":126027120,"body_markdown":"@StephanSchlecht: I juct checked `SHOW GRANTS FOR &#39;bob&#39;@&#39;%&#39;`.  The first line is `GRANT ALL PRIVILEGES ON *.* TO &#39;bob&#39;@&#39;%&#39; IDENTIFIED BY PASSWORD &#39;_hashed-value_&#39; REQUIRE SSL`","body":"@StephanSchlecht: I juct checked <code>SHOW GRANTS FOR &#39;bob&#39;@&#39;%&#39;</code>.  The first line is <code>GRANT ALL PRIVILEGES ON *.* TO &#39;bob&#39;@&#39;%&#39; IDENTIFIED BY PASSWORD &#39;_hashed-value_&#39; REQUIRE SSL</code>"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1646122886,"post_id":71148654,"comment_id":126039964,"body_markdown":"*&quot;what changes do I need&quot;* As I said, this is JDBC configuration, which means you should read the documentation of your JDBC driver.","body":"<i>&quot;what changes do I need&quot;</i> As I said, this is JDBC configuration, which means you should read the documentation of your JDBC driver."},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1646150588,"post_id":71148654,"comment_id":126049864,"body_markdown":"@Olivier I&#39;ve been working on that.  I&#39;ve found that the JDBC driver needs to be explicitly told to use TLS (`useSSL=true`).  I&#39;ve made updates in Java and in `server.xml` to pass that -- but it&#39;s not getting to the runtime.","body":"@Olivier I&#39;ve been working on that.  I&#39;ve found that the JDBC driver needs to be explicitly told to use TLS (<code>useSSL=true</code>).  I&#39;ve made updates in Java and in <code>server.xml</code> to pass that -- but it&#39;s not getting to the runtime."},{"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"score":0,"creation_date":1648679050,"post_id":71148654,"comment_id":126689051,"body_markdown":"@Oliver: I made a test Java application and connected using `DriverManager`.  It worked as a standalone app and also within the actual code.  I haven&#39;t gotten `DataSource` to compile as a standalone app yet.","body":"@Oliver: I made a test Java application and connected using <code>DriverManager</code>.  It worked as a standalone app and also within the actual code.  I haven&#39;t gotten <code>DataSource</code> to compile as a standalone app yet."}],"answers":[{"tags":[],"owner":{"account_id":23789455,"reputation":144,"user_id":17801042,"display_name":"90linux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646293691,"creation_date":1646293691,"answer_id":71333697,"question_id":71148654,"body_markdown":"You are advised to add parameters in JDBC\r\n\r\n```bash\r\nuseSSL=true&amp;trustServerCertificate=true&amp;requireSSL=true\r\n```","title":"Tomcat connecting to MariaDB using TLS throws javax.naming.NamingException; command line connection works properly","body":"<p>You are advised to add parameters in JDBC</p>\n<pre class=\"lang-sh prettyprint-override\"><code>useSSL=true&amp;trustServerCertificate=true&amp;requireSSL=true\n</code></pre>\n"}],"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646323599,"creation_date":1645042162,"question_id":71148654,"body_markdown":"I&#39;m using Tomcat 7 on web host `foo` connecting to MariaDB 5.5.56 on database host `bar`, using user `bob`.  All systems are running CentOS 7.  Initially this connection used password based authentication.\r\n\r\nNow there is a requirement to encrypt the connection with TLS.  I have a certificate and key file for each host foo and bar.  I have configured MariaDB to use these; the `my.cnf` file on the database host contains these relevant lines:\r\n```\r\n[mysqld]\r\nssl-ca=/etc/pki/ca.crt\r\nssl-cert=/etc/pki/bar.crt\r\nssl-key=/etc/pki/bar.key\r\n```\r\n\r\nI have confirmed within MariaDB that TLS is enabled.  I have also confirmed that all remote connections have `ssl_type` set to `X509`.\r\n\r\nI am able to connect to the database on the command line from the web host:\r\n\r\nuser@foo &gt; `mysql -h bar -u bob -p --ssl-ca=/etc/pki/ca.crt --ssl-key=/etc/pki/foo.key --ssl-cert=/etc/pki/foo.crt`\r\n\r\nSo far, this proves that the certificates are correct, and that `bob` has access to the database.\r\n\r\nThe Tomcat config `server.xml` contains this connector:\r\n\r\n        &lt;Connector port=&quot;443&quot;\r\n                   protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\r\n                   maxThreads=&quot;500&quot;\r\n                   SSLEnabled=&quot;true&quot;\r\n                   scheme=&quot;https&quot;\r\n                   secure=&quot;true&quot;\r\n                   keystoreFile=&quot;/etc/pki/foo.jks&quot;\r\n                   keystorePass=&quot;abcde&quot;\r\n                   truststoreFile=&quot;/etc/pki/trust&quot;\r\n                   truststorePass=&quot;zzgo&quot;\r\n                   clientAuth=&quot;false&quot;\r\n                   sslProtocol=&quot;TLS&quot; /&gt;\r\n\r\nUsing keytool, I have verified that the passwords match the store files.  (Of course, the passwords shown here are fake.)\r\n\r\nI have added the proper `&lt;security-constraint&gt;` to Tomcat&#39;s `web.xml`.\r\n\r\nAccording to all my research, these settings should enable Tomcat to connect to MariaDB using these certs and store files.  However, when connecting to a servlet Data that communicates with the database, the log shows exceptions like this:\r\n\r\n        SEVERE: Allocate exception for servlet Data\r\n        javax.naming.NamingException: Access denied for user &#39;bob&#39;@&#39;foo&#39; (using password: YES)\r\n                at org.apache.naming.NamingContext.lookup(NamingContext.java:865)\r\n                ...\r\n                at org.hibernate.connection.DatasourceConnectionProvider.configure(DatasourceConnectionProvider.java:75)\r\n                at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java:137)\r\n                ...\r\n                at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\r\n               ... and so on\r\n\r\nThe error indicates that something in the database connection is incorrect; whether it&#39;s a Tomcat setting, the stores, or something else is more than I have been able to determine.\r\n\r\n### Edit 1 ###\r\nI have confirmed that the fingerprint of `foo.crt` matches the fingerprint of the certificate stored in `foo.jks`.\r\n\r\n### Edit 2 ###\r\nI made a test application using the same `Properties` entries.  The test app DOES connect using TLS.  Therefore, as suggested, the issue resides somewhere in the JDBC \r\n\r\nAs far as I can tell, there&#39;s only one difference:  The real app converts the `Properties` object to a `PoolConfiguration` object using `DataSourceFactory.parsePoolProperties()`.  Then I try to debug this using `poolProperties.getConnectionProperties()`, but the resulting string is `null`.  I&#39;m trying to find other ways to debug the pool properties.","title":"Tomcat connecting to MariaDB using TLS throws javax.naming.NamingException; command line connection works properly","body":"<p>I'm using Tomcat 7 on web host <code>foo</code> connecting to MariaDB 5.5.56 on database host <code>bar</code>, using user <code>bob</code>.  All systems are running CentOS 7.  Initially this connection used password based authentication.</p>\n<p>Now there is a requirement to encrypt the connection with TLS.  I have a certificate and key file for each host foo and bar.  I have configured MariaDB to use these; the <code>my.cnf</code> file on the database host contains these relevant lines:</p>\n<pre><code>[mysqld]\nssl-ca=/etc/pki/ca.crt\nssl-cert=/etc/pki/bar.crt\nssl-key=/etc/pki/bar.key\n</code></pre>\n<p>I have confirmed within MariaDB that TLS is enabled.  I have also confirmed that all remote connections have <code>ssl_type</code> set to <code>X509</code>.</p>\n<p>I am able to connect to the database on the command line from the web host:</p>\n<p>user@foo &gt; <code>mysql -h bar -u bob -p --ssl-ca=/etc/pki/ca.crt --ssl-key=/etc/pki/foo.key --ssl-cert=/etc/pki/foo.crt</code></p>\n<p>So far, this proves that the certificates are correct, and that <code>bob</code> has access to the database.</p>\n<p>The Tomcat config <code>server.xml</code> contains this connector:</p>\n<pre><code>    &lt;Connector port=&quot;443&quot;\n               protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\n               maxThreads=&quot;500&quot;\n               SSLEnabled=&quot;true&quot;\n               scheme=&quot;https&quot;\n               secure=&quot;true&quot;\n               keystoreFile=&quot;/etc/pki/foo.jks&quot;\n               keystorePass=&quot;abcde&quot;\n               truststoreFile=&quot;/etc/pki/trust&quot;\n               truststorePass=&quot;zzgo&quot;\n               clientAuth=&quot;false&quot;\n               sslProtocol=&quot;TLS&quot; /&gt;\n</code></pre>\n<p>Using keytool, I have verified that the passwords match the store files.  (Of course, the passwords shown here are fake.)</p>\n<p>I have added the proper <code>&lt;security-constraint&gt;</code> to Tomcat's <code>web.xml</code>.</p>\n<p>According to all my research, these settings should enable Tomcat to connect to MariaDB using these certs and store files.  However, when connecting to a servlet Data that communicates with the database, the log shows exceptions like this:</p>\n<pre><code>    SEVERE: Allocate exception for servlet Data\n    javax.naming.NamingException: Access denied for user 'bob'@'foo' (using password: YES)\n            at org.apache.naming.NamingContext.lookup(NamingContext.java:865)\n            ...\n            at org.hibernate.connection.DatasourceConnectionProvider.configure(DatasourceConnectionProvider.java:75)\n            at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java:137)\n            ...\n            at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\n           ... and so on\n</code></pre>\n<p>The error indicates that something in the database connection is incorrect; whether it's a Tomcat setting, the stores, or something else is more than I have been able to determine.</p>\n<h3>Edit 1</h3>\n<p>I have confirmed that the fingerprint of <code>foo.crt</code> matches the fingerprint of the certificate stored in <code>foo.jks</code>.</p>\n<h3>Edit 2</h3>\n<p>I made a test application using the same <code>Properties</code> entries.  The test app DOES connect using TLS.  Therefore, as suggested, the issue resides somewhere in the JDBC</p>\n<p>As far as I can tell, there's only one difference:  The real app converts the <code>Properties</code> object to a <code>PoolConfiguration</code> object using <code>DataSourceFactory.parsePoolProperties()</code>.  Then I try to debug this using <code>poolProperties.getConnectionProperties()</code>, but the resulting string is <code>null</code>.  I'm trying to find other ways to debug the pool properties.</p>\n"},{"tags":["java","android","google-drive-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1646328911,"post_id":71340169,"comment_id":126101935,"body_markdown":"You could.  The only thing is i am not sure if the directory will be deleted when the app is uninstalled you will need to test that.","body":"You could.  The only thing is i am not sure if the directory will be deleted when the app is uninstalled you will need to test that."},{"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"score":0,"creation_date":1646365419,"post_id":71340169,"comment_id":126110468,"body_markdown":"Yes, that is my concern.\nActually I have implemented the backup and restoring using drive.file scope, but as this is a restricted scope, in-order to use the app in a production environment verification from google is required, and that is a problem.","body":"Yes, that is my concern. Actually I have implemented the backup and restoring using drive.file scope, but as this is a restricted scope, in-order to use the app in a production environment verification from google is required, and that is a problem."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1646380067,"post_id":71340169,"comment_id":126113180,"body_markdown":"Well if you use drive scope its going to have to be verified as well. anything that will give you access to write to a users account is.","body":"Well if you use drive scope its going to have to be verified as well. anything that will give you access to write to a users account is."},{"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"score":0,"creation_date":1646389515,"post_id":71340169,"comment_id":126116202,"body_markdown":"@DalmTo  Yes. That&#39;s why I am looking for an alternate solution :)","body":"@DalmTo  Yes. That&#39;s why I am looking for an alternate solution :)"}],"owner":{"account_id":3318823,"reputation":21,"user_id":2790466,"display_name":"AmanJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646323461,"creation_date":1646323461,"question_id":71340169,"body_markdown":"I have an app for which I am trying to create data backup &amp; restore functionality where if user want, he can store backup on google drive. If he uninstalls the app and re-installs the app on same or different device then we can restore the backup from Drive.\r\n\r\nCan I use Google Drive drive.appfolder scope for this purpose? If yes, what is the limitation?","title":"Using Google Drive drive.appfolder scope for saving app backup","body":"<p>I have an app for which I am trying to create data backup &amp; restore functionality where if user want, he can store backup on google drive. If he uninstalls the app and re-installs the app on same or different device then we can restore the backup from Drive.</p>\n<p>Can I use Google Drive drive.appfolder scope for this purpose? If yes, what is the limitation?</p>\n"},{"tags":["java","volatile"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1646236324,"post_id":71325452,"comment_id":126074257,"body_markdown":"*&quot;others thread will read dirty data because of local cache?&quot;* - yes","body":"<i>&quot;others thread will read dirty data because of local cache?&quot;</i> - yes"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646236413,"post_id":71325452,"comment_id":126074299,"body_markdown":"Does this answer your question? [Java volatile keyword](https://stackoverflow.com/questions/33643800/java-volatile-keyword)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33643800/java-volatile-keyword\">Java volatile keyword</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1646236447,"post_id":71325452,"comment_id":126074320,"body_markdown":"That&#39;s one possibility.  Another is that the thread hasn&#39;t bothered to write the change to memory at all; i.e. it is keeping it a register.","body":"That&#39;s one possibility.  Another is that the thread hasn&#39;t bothered to write the change to memory at all; i.e. it is keeping it a register."},{"owner":{"account_id":24290154,"reputation":41,"user_id":18235332,"display_name":"eric"},"score":0,"creation_date":1646278767,"post_id":71325452,"comment_id":126085751,"body_markdown":"Thanks! After reading the comments and answer. I get the answer it is necessary use volatile when 1 thread write and other threads reading the variable. I more confused about the book &quot;On Java&quot; said: &quot; If a single thread writes to a variable and other threads only read it, you can get away with making that variable volatile&quot;","body":"Thanks! After reading the comments and answer. I get the answer it is necessary use volatile when 1 thread write and other threads reading the variable. I more confused about the book &quot;On Java&quot; said: &quot; If a single thread writes to a variable and other threads only read it, you can get away with making that variable volatile&quot;"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1646323619,"post_id":71325452,"comment_id":126099827,"body_markdown":"Of course, @eric, here &quot;get away with&quot; means to reliably obtain consistent behavior without engaging full synchronization.  `volatile` is surprisingly difficult to use properly, as people tend to make incorrect assumptions about its semantics.  Synchronization seems to be easier to reason about.","body":"Of course, @eric, here &quot;get away with&quot; means to reliably obtain consistent behavior without engaging full synchronization.  <code>volatile</code> is surprisingly difficult to use properly, as people tend to make incorrect assumptions about its semantics.  Synchronization seems to be easier to reason about."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646238144,"creation_date":1646238144,"answer_id":71325987,"question_id":71325452,"body_markdown":"The Java volatile keyword is used to mark a Java variable as &quot;being stored in main memory&quot;. More precisely that means, that every read of a volatile variable will be read from the computer&#39;s main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.\r\n\r\nActually, since Java 5 the volatile keyword guarantees more than just that volatile variables are written to and read from main memory. I will explain that in the following sections.\r\n\r\nThe Java volatile keyword guarantees visibility of changes to variables across threads. This may sound a bit abstract, so let me elaborate.\r\n\r\nIn a multithreaded application where the threads operate on non-volatile variables, each thread may copy variables from main memory into a CPU cache while working on them, for performance reasons. If your computer contains more than one CPU, each thread may run on a different CPU. That means, that each thread may copy the variables into the CPU cache of different CPUs.\r\n\r\nSee more in [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-volatile","title":"How to understand &quot;volatile&quot; Visibility?","body":"<p>The Java volatile keyword is used to mark a Java variable as &quot;being stored in main memory&quot;. More precisely that means, that every read of a volatile variable will be read from the computer's main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.</p>\n<p>Actually, since Java 5 the volatile keyword guarantees more than just that volatile variables are written to and read from main memory. I will explain that in the following sections.</p>\n<p>The Java volatile keyword guarantees visibility of changes to variables across threads. This may sound a bit abstract, so let me elaborate.</p>\n<p>In a multithreaded application where the threads operate on non-volatile variables, each thread may copy variables from main memory into a CPU cache while working on them, for performance reasons. If your computer contains more than one CPU, each thread may run on a different CPU. That means, that each thread may copy the variables into the CPU cache of different CPUs.</p>\n<p>See more in <a href=\"https://www.baeldung.com/java-volatile\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646323325,"creation_date":1646320724,"answer_id":71339540,"question_id":71325452,"body_markdown":"Modern CPUs have coherent caches. So if one CPU does a write (e.g. a plain write) to the cache, another CPU will see this write. This is the task of the cache coherence protocol. Writes do not need to be pushed to the main memory because that would be extremely slow. So please do [not use this mental model][1] because it is not how CPUs work.\r\n\r\nIn simple terms volatile has 3 purposes:\r\n\r\n1) atomicity: make sure that the read or write is atomic. This is mostly a concern for 32 bits machines and using 64-bit values like double/long.\r\n\r\n2) visibility: make sure that read/write isn&#39;t optimized out by the compiler.\r\n\r\n3) ordering: make sure that loads/stores don&#39;t get reordered with respect to other loads and stores. CPUs and compilers have huge liberty to reorder loads and stores as long as they can&#39;t be detected in a single thread. But another thread could observe the reordering of loads/stores in that thread.\r\n\r\n\r\n  [1]: https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-commit-semantics","title":"How to understand &quot;volatile&quot; Visibility?","body":"<p>Modern CPUs have coherent caches. So if one CPU does a write (e.g. a plain write) to the cache, another CPU will see this write. This is the task of the cache coherence protocol. Writes do not need to be pushed to the main memory because that would be extremely slow. So please do <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-commit-semantics\" rel=\"nofollow noreferrer\">not use this mental model</a> because it is not how CPUs work.</p>\n<p>In simple terms volatile has 3 purposes:</p>\n<ol>\n<li><p>atomicity: make sure that the read or write is atomic. This is mostly a concern for 32 bits machines and using 64-bit values like double/long.</p>\n</li>\n<li><p>visibility: make sure that read/write isn't optimized out by the compiler.</p>\n</li>\n<li><p>ordering: make sure that loads/stores don't get reordered with respect to other loads and stores. CPUs and compilers have huge liberty to reorder loads and stores as long as they can't be detected in a single thread. But another thread could observe the reordering of loads/stores in that thread.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24290154,"reputation":41,"user_id":18235332,"display_name":"eric"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1646323325,"creation_date":1646235911,"question_id":71325452,"body_markdown":"I am learning volatile with the famous book &quot;On Java&quot;.\r\nThe book said:&quot;\r\nIf a single thread writes to a variable and other threads only read it,\r\nyou can get away with making that variable volatile&quot;\r\nI do not understand why not need &quot;volatile &quot; to make sure write thread flush variable back to memory? if no volatile, if others thread will read dirty data because of local cache?\r\n","title":"How to understand &quot;volatile&quot; Visibility?","body":"<p>I am learning volatile with the famous book &quot;On Java&quot;.\nThe book said:&quot;\nIf a single thread writes to a variable and other threads only read it,\nyou can get away with making that variable volatile&quot;\nI do not understand why not need &quot;volatile &quot; to make sure write thread flush variable back to memory? if no volatile, if others thread will read dirty data because of local cache?</p>\n"},{"tags":["java","apple-push-notifications","http2"],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17217,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515618415,"creation_date":1515618415,"answer_id":48196087,"question_id":48157854,"body_markdown":"I think you will be better off using a Java library that does HTTP/2 for you.\r\n\r\nThe Jetty `HttpClient` (disclaimer, I&#39;m the maintainer) does exactly that, see [here](http://www.eclipse.org/jetty/documentation/current/http-client-transport.html#_http_2_transport).\r\n\r\nIf instead you want to implement HPACK because you want to have fun, then you have to take your time and read carefully RFC 7541.\r\nAs an starting point for implementing it, you can read the many Java implementations of HPACK out there, from [Jetty&#39;s](https://github.com/eclipse/jetty.project/tree/jetty-9.4.8.v20171121/jetty-http2/http2-hpack/src/main/java/org/eclipse/jetty/http2/hpack) to Netty&#39;s, Undertow&#39;s, etc.\r\n\r\nAll the questions you are asking (e.g. &quot;what is a &#39;literal header field without indexing&#39;) are detailed in the RFC in their own sections.\r\n\r\nVery coarsely, HPACK defines a mapping table that maps numbers to strings.\r\nBoth peer maintain this table in sync, so that the two tables always contain the same data (at rest).\r\n\r\nWhen one peer sends a HPACK block, it sends the numbers, so that the receiving peer can use the numbers to access the HPACK table to obtain the strings.\r\n\r\nFor new/custom headers (think cookies), the sending peer sends the number and the string, so that the receiving peer can update its HPACK table. For the first time there is no compression, but the second time that the same header is sent, the sending peer just sends the number, since it knows that the other peer will have the string mapped already, and this gives good compression of HTTP headers.","title":"What is HPACK Compression in APNs","body":"<p>I think you will be better off using a Java library that does HTTP/2 for you.</p>\n\n<p>The Jetty <code>HttpClient</code> (disclaimer, I'm the maintainer) does exactly that, see <a href=\"http://www.eclipse.org/jetty/documentation/current/http-client-transport.html#_http_2_transport\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>If instead you want to implement HPACK because you want to have fun, then you have to take your time and read carefully RFC 7541.\nAs an starting point for implementing it, you can read the many Java implementations of HPACK out there, from <a href=\"https://github.com/eclipse/jetty.project/tree/jetty-9.4.8.v20171121/jetty-http2/http2-hpack/src/main/java/org/eclipse/jetty/http2/hpack\" rel=\"nofollow noreferrer\">Jetty's</a> to Netty's, Undertow's, etc.</p>\n\n<p>All the questions you are asking (e.g. \"what is a 'literal header field without indexing') are detailed in the RFC in their own sections.</p>\n\n<p>Very coarsely, HPACK defines a mapping table that maps numbers to strings.\nBoth peer maintain this table in sync, so that the two tables always contain the same data (at rest).</p>\n\n<p>When one peer sends a HPACK block, it sends the numbers, so that the receiving peer can use the numbers to access the HPACK table to obtain the strings.</p>\n\n<p>For new/custom headers (think cookies), the sending peer sends the number and the string, so that the receiving peer can update its HPACK table. For the first time there is no compression, but the second time that the same header is sent, the sending peer just sends the number, since it knows that the other peer will have the string mapped already, and this gives good compression of HTTP headers.</p>\n"}],"owner":{"account_id":4797834,"reputation":137,"user_id":3875235,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48196087,"answer_count":1,"score":1,"last_activity_date":1646323140,"creation_date":1515444557,"question_id":48157854,"body_markdown":"thank you for reading my question. I have read numerous documents about HTTP/2 and tried to understand most important concepts for constructing a APNs server-side API in Java. \n\n* So far, I have a working code for creating Payload and initiating ssl handshake with APNs.\n* I am stuck with figuring out a way to send Push Notification to APNs, specifically sending a HTTP/2 POST request to the Apple server. \n\n&gt; APNs requires the use of HPACK (header compression for HTTP/2), which\n&gt; prevents repeated header keys and values. APNs maintains a small\n&gt; dynamic table for HPACK. To help avoid filling up the APNs HPACK table\n&gt; and necessitating the discarding of table data, encode headers in the\n&gt; following way—especially when sending a large number of streams:\n\nIf I have understood correctly, I need to use Huffman Encoding for the header compression. If I am wrong on this, please correct me.\n\n&gt; The :path value should be encoded as a literal header field without\n&gt; indexing \n&gt;\n&gt;The authorization request header, if present, should be encoded as a\n&gt; literal header field without indexing\n\nI read RFC 7541 for this, but have no idea what they are talking about. Please note that I am trying to understand the system and requirements to gain knowledge through this post, not just answers to the specific questions. \n\n&gt; The appropriate encoding to employ for the apns-id, apns-expiration,\n&gt; and apns-collapse-id request headers differs depending on whether it\n&gt; is part of the initial or a subsequent POST operation, as follows:\n&gt; \n&gt; The first time you send these headers, encode them with incremental\n&gt; indexing to allow the header names to be added to the dynamic table\n&gt; \n&gt; Subsequent times you send these headers, encode them as literal header\n&gt; fields without indexing\n\nWhat do they mean when they say, &quot;encode them with incremental indexing to allow the header names to be added to the dynamic table&quot; and &quot;Subsequent times you send these headers, encode them as literal header fields without indexing&quot; afterwards. I guess understanding one of two literal header fields with/out indexing will help me comprehend this better.\n\nThank you again for reading the question and please help me with this!!","title":"What is HPACK Compression in APNs","body":"<p>thank you for reading my question. I have read numerous documents about HTTP/2 and tried to understand most important concepts for constructing a APNs server-side API in Java.</p>\n<ul>\n<li>So far, I have a working code for creating Payload and initiating ssl handshake with APNs.</li>\n<li>I am stuck with figuring out a way to send Push Notification to APNs, specifically sending a HTTP/2 POST request to the Apple server.</li>\n</ul>\n<blockquote>\n<p>APNs requires the use of HPACK (header compression for HTTP/2), which\nprevents repeated header keys and values. APNs maintains a small\ndynamic table for HPACK. To help avoid filling up the APNs HPACK table\nand necessitating the discarding of table data, encode headers in the\nfollowing way—especially when sending a large number of streams:</p>\n</blockquote>\n<p>If I have understood correctly, I need to use Huffman Encoding for the header compression. If I am wrong on this, please correct me.</p>\n<blockquote>\n<p>The :path value should be encoded as a literal header field without\nindexing</p>\n<p>The authorization request header, if present, should be encoded as a\nliteral header field without indexing</p>\n</blockquote>\n<p>I read RFC 7541 for this, but have no idea what they are talking about. Please note that I am trying to understand the system and requirements to gain knowledge through this post, not just answers to the specific questions.</p>\n<blockquote>\n<p>The appropriate encoding to employ for the apns-id, apns-expiration,\nand apns-collapse-id request headers differs depending on whether it\nis part of the initial or a subsequent POST operation, as follows:</p>\n<p>The first time you send these headers, encode them with incremental\nindexing to allow the header names to be added to the dynamic table</p>\n<p>Subsequent times you send these headers, encode them as literal header\nfields without indexing</p>\n</blockquote>\n<p>What do they mean when they say, &quot;encode them with incremental indexing to allow the header names to be added to the dynamic table&quot; and &quot;Subsequent times you send these headers, encode them as literal header fields without indexing&quot; afterwards. I guess understanding one of two literal header fields with/out indexing will help me comprehend this better.</p>\n<p>Thank you again for reading the question and please help me with this!!</p>\n"},{"tags":["java","intellij-idea","intellij-plugin","intellij-15"],"answers":[{"tags":[],"owner":{"account_id":20507916,"reputation":41,"user_id":15125288,"display_name":"TomLott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646318624,"creation_date":1646318624,"answer_id":71339024,"question_id":71338963,"body_markdown":"You can find bookmarks in &quot;Navigate&quot;. Also you can tap Shift twice and find any actions you want","title":"InteliJ Bookmarks window is not visible","body":"<p>You can find bookmarks in &quot;Navigate&quot;. Also you can tap Shift twice and find any actions you want</p>\n"},{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646322979,"creation_date":1646318862,"answer_id":71339086,"question_id":71338963,"body_markdown":"The Bookmarks feature is new in IntelliJ 2021.3. See [*What’s New*][1] page.\r\n\r\nYou have to update to version 2021.3 to have that feature. If you see the page you indicated, the same is for  2021.3 version. \r\n\r\nYour version does not have that link.\r\n\r\nIn 2021.3:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSee the images bellow from https://www.jetbrains.com/help/idea/bookmarks.html#add-bookmarks and https://www.jetbrains.com/help/idea/2021.1/discover-intellij-idea.html.\r\n\r\n[![2021.3][3]][3]\r\n[![2021.1][4]][4]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/whatsnew/#user-experience\r\n  [2]: https://i.stack.imgur.com/l9LeZ.png\r\n  [3]: https://i.stack.imgur.com/j8bzl.png\r\n  [4]: https://i.stack.imgur.com/Z1K69.png","title":"InteliJ Bookmarks window is not visible","body":"<p>The Bookmarks feature is new in IntelliJ 2021.3. See <a href=\"https://www.jetbrains.com/idea/whatsnew/#user-experience\" rel=\"nofollow noreferrer\"><em>What’s New</em></a> page.</p>\n<p>You have to update to version 2021.3 to have that feature. If you see the page you indicated, the same is for  2021.3 version.</p>\n<p>Your version does not have that link.</p>\n<p>In 2021.3:</p>\n<p><a href=\"https://i.stack.imgur.com/l9LeZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l9LeZ.png\" alt=\"enter image description here\" /></a></p>\n<p>See the images bellow from <a href=\"https://www.jetbrains.com/help/idea/bookmarks.html#add-bookmarks\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/bookmarks.html#add-bookmarks</a> and <a href=\"https://www.jetbrains.com/help/idea/2021.1/discover-intellij-idea.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2021.1/discover-intellij-idea.html</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/j8bzl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j8bzl.png\" alt=\"2021.3\" /></a>\n<a href=\"https://i.stack.imgur.com/Z1K69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z1K69.png\" alt=\"2021.1\" /></a></p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71339086,"answer_count":2,"score":2,"last_activity_date":1646322979,"creation_date":1646318360,"question_id":71338963,"body_markdown":"I use IntelliJ IDEA v2021.1.3 and as mentioned on [this](https://www.jetbrains.com/help/idea/bookmarks.html) page, I checked on `View | Tool Windows | Bookmarks` to view all bookmarks, but there is not any menu or opened window available as shown on the screenshot. So, is there any bug? Or how can I open bookmarks window toolbar? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I2nwX.png","title":"InteliJ Bookmarks window is not visible","body":"<p>I use IntelliJ IDEA v2021.1.3 and as mentioned on <a href=\"https://www.jetbrains.com/help/idea/bookmarks.html\" rel=\"nofollow noreferrer\">this</a> page, I checked on <code>View | Tool Windows | Bookmarks</code> to view all bookmarks, but there is not any menu or opened window available as shown on the screenshot. So, is there any bug? Or how can I open bookmarks window toolbar?</p>\n<p><a href=\"https://i.stack.imgur.com/I2nwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I2nwX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","playframework","testcontainers","alpakka"],"answers":[{"tags":[],"owner":{"account_id":13409208,"reputation":202,"user_id":9676301,"display_name":"mradey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646322891,"creation_date":1646322891,"answer_id":71340033,"question_id":71044484,"body_markdown":"The approach that worked for me was in my test case I had to set the kafka auto offset configuration to be earliest whereas it is latest in the  consumer properties I used to create the source ","title":"Alpakka Kafka Java Test","body":"<p>The approach that worked for me was in my test case I had to set the kafka auto offset configuration to be earliest whereas it is latest in the  consumer properties I used to create the source</p>\n"}],"owner":{"account_id":13409208,"reputation":202,"user_id":9676301,"display_name":"mradey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646322891,"creation_date":1644385111,"question_id":71044484,"body_markdown":"I am trying to write Junit tests for an app that uses kafka streams to emit data from kafka to a websocket connection.  I have been able to run the application locally publishing to the topic and seeing the data returned on a socket connection.  However I am struggling to correctly setup the test environment.\r\n\r\n### Code To Test ###\r\nCurrenlty I have this as the method I want to test:\r\n```\r\n    public Source&lt;JsonNode, ?&gt; getKafkaStream(String groupId, Set&lt;Id&gt; idsBelongingToUser) {\r\n        return Consumer.plainSource(getKafkaConsumerSettings(groupId), Subscriptions.topics(this.kafkaTopic))\r\n            .map(ConsumerRecord::value)\r\n            .filter(event -&gt; idsBelongingToUser.contains(event.getId())\r\n            .map(consumerRecord -&gt; objectMapper.convertValue(consumerRecord, JsonNode.class));\r\n    }\r\n```\r\nI then use this source in a flow here:\r\n```\r\n    public Flow&lt;JsonNode, JsonNode, ?&gt; getDataStream(String groupId, Set&lt;Id&gt; idsBelogingToUser) {\r\n        return Flow.fromSinkAndSource(\r\n            Sink.ignore(),\r\n            this.getKafkaStream(accountOfListener, idsBelogingToUser).runWith(BroadcastHub.of(JsonNode.class), this.materializer)\r\n        );\r\n    }\r\n```\r\n\r\n### My attempted tests ###\r\nMy latest try has been to test the code with TestcontainersKafkaJunit4Test\r\nand here is a modified file of how I designed it.\r\n```\r\nimport akka.actor.ActorSystem;\r\nimport akka.japi.Pair;\r\nimport akka.kafka.testkit.KafkaTestkitTestcontainersSettings;\r\nimport akka.kafka.testkit.javadsl.TestcontainersKafkaJunit4Test;\r\nimport akka.stream.testkit.javadsl.TestSink;\r\nimport akka.testkit.javadsl.TestKit;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport lombok.SneakyThrows;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestInstance;\r\nimport org.junit.jupiter.api.TestInstance.Lifecycle;\r\n\r\nimport java.util.concurrent.CompletionStage;\r\n\r\nimport static java.util.concurrent.TimeUnit.SECONDS;\r\nimport static org.awaitility.Awaitility.await;\r\n\r\n\r\n@TestInstance(Lifecycle.PER_CLASS)\r\npublic class KafkaTest extends TestcontainersKafkaJunit4Test {\r\n    KafkaService toTest;\r\n    String topic;\r\n\r\n    private static final ActorSystem system = ActorSystem.create(&quot;TestkitTestcontainersTest&quot;);\r\n    KafkaTest() {\r\n        super(\r\n            system,\r\n\r\n            KafkaTestkitTestcontainersSettings.create(system)\r\n                .withSchemaRegistry(true)\r\n                .withNumBrokers(1)\r\n                .withInternalTopicsReplicationFactor(1)\r\n        );\r\n        this.setUpAdminClient();\r\n    }\r\n\r\n    @SneakyThrows\r\n    public &lt;T&gt; T getResultFromFuture(CompletionStage&lt;T&gt; future) {\r\n        await().atMost(5, SECONDS).until(() -&gt; future.toCompletableFuture().isDone());\r\n        return future.toCompletableFuture().get();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        this.topic = createTopic();\r\n        toTest = new KafkaService();\r\n\r\n        JsonNode event1 = createRandomEvent();\r\n        JsonNode event2 = createRandomEvent();\r\n        String group = &quot;some-key&quot;;\r\n\r\n        //produce some messages\r\n        getResultFromFuture(this.produce(this.topic, new StringSerializer(), new JsonSerdes&lt;&gt;(JsonNode.class).serializer(),\r\n            Pair.create(group, event1),\r\n            Pair.create(group, event2)));\r\n\r\n\r\n        //Here I want to test the source is getting the messages produced above\r\n\r\n        //One Attempt\r\n        toTest.getKafkaStream(group, getSetOfIds())\r\n            .runWith(TestSink.probe(system), materializer)\r\n            .expectNext(event1)\r\n            .expectNext(event2);\r\n    }\r\n\r\n    JsonNode createRandomEvent() { ... }\r\n    @AfterAll\r\n    void shutdownActorSystem() {\r\n        this.cleanUpAdminClient();\r\n        TestKit.shutdownActorSystem(system);\r\n    }\r\n}\r\n```\r\nI believe the setup is *close* to working since when I change from using the source stream to consume the messages and consume them with a consumer object I can see the events.  I have tried printing in the map(ConsumerRecord::value) function and there are no logs which leads me to believe it is never executed.  Unfortunately alpakka kafka does not have many examples on how to test this, and as a beginner to both kafka and scala I am struggling to apply what examples exist to my code. I have used the following links to set this up:\r\n[alpakka kafka testing docs](https://doc.akka.io/docs/alpakka-kafka/current/testing.html)\r\n[akka streams testing](https://doc.akka.io/docs/akka/current/stream/stream-testkit.html)\r\n\r\nI have modified the code slightly to keep it more general.  If any information is unclear I will explain/edit the question.  Thanks in advance for any help/suggestions","title":"Alpakka Kafka Java Test","body":"<p>I am trying to write Junit tests for an app that uses kafka streams to emit data from kafka to a websocket connection.  I have been able to run the application locally publishing to the topic and seeing the data returned on a socket connection.  However I am struggling to correctly setup the test environment.</p>\n<h3>Code To Test</h3>\n<p>Currenlty I have this as the method I want to test:</p>\n<pre><code>    public Source&lt;JsonNode, ?&gt; getKafkaStream(String groupId, Set&lt;Id&gt; idsBelongingToUser) {\n        return Consumer.plainSource(getKafkaConsumerSettings(groupId), Subscriptions.topics(this.kafkaTopic))\n            .map(ConsumerRecord::value)\n            .filter(event -&gt; idsBelongingToUser.contains(event.getId())\n            .map(consumerRecord -&gt; objectMapper.convertValue(consumerRecord, JsonNode.class));\n    }\n</code></pre>\n<p>I then use this source in a flow here:</p>\n<pre><code>    public Flow&lt;JsonNode, JsonNode, ?&gt; getDataStream(String groupId, Set&lt;Id&gt; idsBelogingToUser) {\n        return Flow.fromSinkAndSource(\n            Sink.ignore(),\n            this.getKafkaStream(accountOfListener, idsBelogingToUser).runWith(BroadcastHub.of(JsonNode.class), this.materializer)\n        );\n    }\n</code></pre>\n<h3>My attempted tests</h3>\n<p>My latest try has been to test the code with TestcontainersKafkaJunit4Test\nand here is a modified file of how I designed it.</p>\n<pre><code>import akka.actor.ActorSystem;\nimport akka.japi.Pair;\nimport akka.kafka.testkit.KafkaTestkitTestcontainersSettings;\nimport akka.kafka.testkit.javadsl.TestcontainersKafkaJunit4Test;\nimport akka.stream.testkit.javadsl.TestSink;\nimport akka.testkit.javadsl.TestKit;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport lombok.SneakyThrows;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestInstance;\nimport org.junit.jupiter.api.TestInstance.Lifecycle;\n\nimport java.util.concurrent.CompletionStage;\n\nimport static java.util.concurrent.TimeUnit.SECONDS;\nimport static org.awaitility.Awaitility.await;\n\n\n@TestInstance(Lifecycle.PER_CLASS)\npublic class KafkaTest extends TestcontainersKafkaJunit4Test {\n    KafkaService toTest;\n    String topic;\n\n    private static final ActorSystem system = ActorSystem.create(&quot;TestkitTestcontainersTest&quot;);\n    KafkaTest() {\n        super(\n            system,\n\n            KafkaTestkitTestcontainersSettings.create(system)\n                .withSchemaRegistry(true)\n                .withNumBrokers(1)\n                .withInternalTopicsReplicationFactor(1)\n        );\n        this.setUpAdminClient();\n    }\n\n    @SneakyThrows\n    public &lt;T&gt; T getResultFromFuture(CompletionStage&lt;T&gt; future) {\n        await().atMost(5, SECONDS).until(() -&gt; future.toCompletableFuture().isDone());\n        return future.toCompletableFuture().get();\n    }\n\n    @Test\n    void test() {\n        this.topic = createTopic();\n        toTest = new KafkaService();\n\n        JsonNode event1 = createRandomEvent();\n        JsonNode event2 = createRandomEvent();\n        String group = &quot;some-key&quot;;\n\n        //produce some messages\n        getResultFromFuture(this.produce(this.topic, new StringSerializer(), new JsonSerdes&lt;&gt;(JsonNode.class).serializer(),\n            Pair.create(group, event1),\n            Pair.create(group, event2)));\n\n\n        //Here I want to test the source is getting the messages produced above\n\n        //One Attempt\n        toTest.getKafkaStream(group, getSetOfIds())\n            .runWith(TestSink.probe(system), materializer)\n            .expectNext(event1)\n            .expectNext(event2);\n    }\n\n    JsonNode createRandomEvent() { ... }\n    @AfterAll\n    void shutdownActorSystem() {\n        this.cleanUpAdminClient();\n        TestKit.shutdownActorSystem(system);\n    }\n}\n</code></pre>\n<p>I believe the setup is <em>close</em> to working since when I change from using the source stream to consume the messages and consume them with a consumer object I can see the events.  I have tried printing in the map(ConsumerRecord::value) function and there are no logs which leads me to believe it is never executed.  Unfortunately alpakka kafka does not have many examples on how to test this, and as a beginner to both kafka and scala I am struggling to apply what examples exist to my code. I have used the following links to set this up:\n<a href=\"https://doc.akka.io/docs/alpakka-kafka/current/testing.html\" rel=\"nofollow noreferrer\">alpakka kafka testing docs</a>\n<a href=\"https://doc.akka.io/docs/akka/current/stream/stream-testkit.html\" rel=\"nofollow noreferrer\">akka streams testing</a></p>\n<p>I have modified the code slightly to keep it more general.  If any information is unclear I will explain/edit the question.  Thanks in advance for any help/suggestions</p>\n"},{"tags":["java","jenkins","hudson","jelly","email-ext"],"comments":[{"owner":{"account_id":1643889,"reputation":21907,"user_id":1515819,"accept_rate":100,"display_name":"St&#233;phane Bruckert"},"score":2,"creation_date":1372577234,"post_id":17332685,"comment_id":25242849,"body_markdown":"If you found a solution, create a new answer and accept it.","body":"If you found a solution, create a new answer and accept it."}],"answers":[{"tags":[],"owner":{"account_id":170422,"reputation":6877,"user_id":1646752,"accept_rate":37,"display_name":"Josh Unger"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1372380217,"creation_date":1372380217,"answer_id":17355512,"question_id":17332685,"body_markdown":"Switch to the email-ext groovy email templates.\r\n\r\nThen, copy the sample [`groovy-html.template`][1] and customize it by adding the following script - \r\n\r\n    &lt;%\r\n      def parametersAction = build.getAction(ParametersAction.class)\r\n    \r\n      if (parametersAction != null)\r\n      {\r\n        for (p in parametersAction.parameters)\r\n        {\r\n          %&gt;&lt;%=p.name%&gt;=&lt;%=p.value%&gt;&lt;br/&gt;&lt;%\r\n        }                                               \r\n      }\r\n    %&gt;\r\n\r\nTake a look at the [`hudson.model.ParametersAction`][2] class.\r\n\r\n\r\n  [1]: https://github.com/jenkinsci/email-ext-plugin/blob/master/src/main/resources/hudson/plugins/emailext/templates/groovy-html.template\r\n  [2]: http://javadoc.jenkins-ci.org/hudson/model/ParametersAction.html","title":"Jenkins pass build parameters to email-ext template","body":"<p>Switch to the email-ext groovy email templates.</p>\n\n<p>Then, copy the sample <a href=\"https://github.com/jenkinsci/email-ext-plugin/blob/master/src/main/resources/hudson/plugins/emailext/templates/groovy-html.template\" rel=\"nofollow\"><code>groovy-html.template</code></a> and customize it by adding the following script - </p>\n\n<pre><code>&lt;%\n  def parametersAction = build.getAction(ParametersAction.class)\n\n  if (parametersAction != null)\n  {\n    for (p in parametersAction.parameters)\n    {\n      %&gt;&lt;%=p.name%&gt;=&lt;%=p.value%&gt;&lt;br/&gt;&lt;%\n    }                                               \n  }\n%&gt;\n</code></pre>\n\n<p>Take a look at the <a href=\"http://javadoc.jenkins-ci.org/hudson/model/ParametersAction.html\" rel=\"nofollow\"><code>hudson.model.ParametersAction</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":5073524,"reputation":420,"user_id":4071635,"display_name":"Sergey Bondarev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526724779,"creation_date":1526724779,"answer_id":50424135,"question_id":17332685,"body_markdown":"The only what worked for me in my email template is:\r\n\r\n    &lt;%\r\n        import hudson.model.*\r\n    \r\n        def YOUR_VARIABLE= build.getEnvVars()[&quot;SOME_BUILD_PARAMETER&quot;];\r\n    %&gt;\r\n\r\nThen you can use\r\n\r\n    ${YOUR_VARIABLE}","title":"Jenkins pass build parameters to email-ext template","body":"<p>The only what worked for me in my email template is:</p>\n\n<pre><code>&lt;%\n    import hudson.model.*\n\n    def YOUR_VARIABLE= build.getEnvVars()[\"SOME_BUILD_PARAMETER\"];\n%&gt;\n</code></pre>\n\n<p>Then you can use</p>\n\n<pre><code>${YOUR_VARIABLE}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18072215,"reputation":1,"user_id":13136579,"display_name":"bro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646321903,"creation_date":1646321903,"answer_id":71339804,"question_id":17332685,"body_markdown":"The only way that worked for me for variables defined inside my pipeline script was the accepted answer of this question:\r\n\r\nhttps://stackoverflow.com/questions/49884904/access-variable-in-email-ext-template-using-jenkins-pipeline\r\n\r\nI added a answer that variables needed to be defined like \r\n```\r\nenv.MY_VARIABLE=&quot;Some value&quot;\r\n```\r\ninside the pipeline script.","title":"Jenkins pass build parameters to email-ext template","body":"<p>The only way that worked for me for variables defined inside my pipeline script was the accepted answer of this question:</p>\n<p><a href=\"https://stackoverflow.com/questions/49884904/access-variable-in-email-ext-template-using-jenkins-pipeline\">Access variable in email ext template using Jenkins pipeline</a></p>\n<p>I added a answer that variables needed to be defined like</p>\n<pre><code>env.MY_VARIABLE=&quot;Some value&quot;\n</code></pre>\n<p>inside the pipeline script.</p>\n"}],"owner":{"account_id":260698,"reputation":4864,"user_id":544412,"accept_rate":63,"display_name":"Rnet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8562,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1646321903,"creation_date":1372293182,"question_id":17332685,"body_markdown":"How can I pass the build parameters to the email-ext jelly template?\r\nBefore making some builds I would like to put a different custom message/some announcement/non-code changes, decisions etc. I&#39;m thinking of putting this as a build parameter so that I&#39;m presented with a screen prompting me to enter the message if I&#39;m going to build manually.\r\n\r\nEdit: I found a solution, the build params are available as Env variables, I have this code to access Env variables:       \r\n\r\n       &lt;j:set var=&quot;buildenv&quot; value=&quot;${build.getEnvironment(listener)}&quot;/&gt;\r\n       &lt;j:set var=&quot;customMsg&quot; value=&quot;${buildenv.get(&#39;customMsg&#39;)}&quot;/&gt;\r\n       ${customMsg}","title":"Jenkins pass build parameters to email-ext template","body":"<p>How can I pass the build parameters to the email-ext jelly template?\nBefore making some builds I would like to put a different custom message/some announcement/non-code changes, decisions etc. I'm thinking of putting this as a build parameter so that I'm presented with a screen prompting me to enter the message if I'm going to build manually.</p>\n\n<p>Edit: I found a solution, the build params are available as Env variables, I have this code to access Env variables:       </p>\n\n<pre><code>   &lt;j:set var=\"buildenv\" value=\"${build.getEnvironment(listener)}\"/&gt;\n   &lt;j:set var=\"customMsg\" value=\"${buildenv.get('customMsg')}\"/&gt;\n   ${customMsg}\n</code></pre>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":8388258,"reputation":53,"user_id":6705221,"display_name":"Baylej"},"score":0,"creation_date":1646657514,"post_id":71339798,"comment_id":126170181,"body_markdown":"As a workaround I extend class Document to override method `relayout()` with the same code without the offending lines, works perfectly, though it may not be the ideal answer to my question...","body":"As a workaround I extend class Document to override method <code>relayout()</code> with the same code without the offending lines, works perfectly, though it may not be the ideal answer to my question..."},{"owner":{"account_id":21752026,"reputation":171,"user_id":16057816,"display_name":"Nikita Kovaliov"},"score":0,"creation_date":1646867827,"post_id":71339798,"comment_id":126233069,"body_markdown":"Could you share a minimal code example?","body":"Could you share a minimal code example?"}],"owner":{"account_id":8388258,"reputation":53,"user_id":6705221,"display_name":"Baylej"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646321864,"creation_date":1646321864,"question_id":71339798,"body_markdown":"Dears,\r\n\r\nUsing iText7 to generate PDF document,\r\nWe would like to use the low level API (Kernel/Canvas) first to draw the CoverPage, then use the HighLevel API (Document) to add textual content.\r\nTo generate a TOC page after the CoverPage the Document has its immediateFlush attribute set to false, to insert the TOC and then call Document.relayout().\r\n\r\nUnfortunately Document.relayout() removes all existing pages, then rerender the document, the problem is that our CoverPage removed as well.\r\n\r\nsee: [com.itextpdf.layout.Document#relayout line 196][1]:\r\n\r\n        while (pdfDocument.getNumberOfPages() &gt; 0) {\r\n            pdfDocument.removePage(pdfDocument.getNumberOfPages());\r\n        }\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://github.com/itext/itext7/blob/44c5b1f5436a306c7185caa81e63f41c86ca0c33/layout/src/main/java/com/itextpdf/layout/Document.java#L196","title":"iText7 - how to keep pre-existing content in PDF when calling Document.relayout()","body":"<p>Dears,</p>\n<p>Using iText7 to generate PDF document,\nWe would like to use the low level API (Kernel/Canvas) first to draw the CoverPage, then use the HighLevel API (Document) to add textual content.\nTo generate a TOC page after the CoverPage the Document has its immediateFlush attribute set to false, to insert the TOC and then call Document.relayout().</p>\n<p>Unfortunately Document.relayout() removes all existing pages, then rerender the document, the problem is that our CoverPage removed as well.</p>\n<p>see: <a href=\"https://github.com/itext/itext7/blob/44c5b1f5436a306c7185caa81e63f41c86ca0c33/layout/src/main/java/com/itextpdf/layout/Document.java#L196\" rel=\"nofollow noreferrer\">com.itextpdf.layout.Document#relayout line 196</a>:</p>\n<pre><code>    while (pdfDocument.getNumberOfPages() &gt; 0) {\n        pdfDocument.removePage(pdfDocument.getNumberOfPages());\n    }\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1291795,"reputation":24641,"user_id":1243762,"accept_rate":95,"display_name":"Guy Coder"},"score":0,"creation_date":1644342284,"post_id":71036922,"comment_id":125579649,"body_markdown":"In Prolog for a list, the words closed and open have a common terminology. Your open list are not open. An open list ends with a variable and not `[]`, thus the name `open`. I.e. `[A]` should be `[a|Hole]`. Also all of your list are using variables and not terms. Is that what you really want?","body":"In Prolog for a list, the words closed and open have a common terminology. Your open list are not open. An open list ends with a variable and not <code>[]</code>, thus the name <code>open</code>. I.e. <code>[A]</code> should be <code>[a|Hole]</code>. Also all of your list are using variables and not terms. Is that what you really want?"}],"answers":[{"tags":[],"owner":{"account_id":23827851,"reputation":24,"user_id":17834610,"display_name":"solvrx1"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1644345397,"creation_date":1644340412,"answer_id":71037998,"question_id":71036922,"body_markdown":"Expanding the states by alphabetical order from Node A the below is the Open/Closed list maintained for Depth First Search traveral for the above graph. Answer:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qZJQi.png","title":"first search algorithm","body":"<p>Expanding the states by alphabetical order from Node A the below is the Open/Closed list maintained for Depth First Search traveral for the above graph. Answer:</p>\n<p><a href=\"https://i.stack.imgur.com/qZJQi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qZJQi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":213854,"reputation":72060,"user_id":467473,"display_name":"Nicholas Carey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644347722,"creation_date":1644347722,"answer_id":71039625,"question_id":71036922,"body_markdown":"What exactly do _open_ and _closed_ mean in this context of this problem?\r\n\r\nIn Prolog a _**closed** list_ is a list terminated by the atom `[]`, representing the empty list.\r\n\r\nIn bracketed list notation that would be a list like this:\r\n\r\n```prolog\r\n[a,b,c]\r\n```\r\nIn formal `./2` notation, that list is represented by this Prolog structure:\r\n```prolog\r\n.( a , .( b , .( c , [] ) ) )\r\n```\r\n\r\nWhilst the same list as an _**open** list_ is this:\r\n```prolog\r\n[ a , b , c | Some_Unbound_Variable ]\r\n```\r\nor in `./2` notation:\r\n```prolog\r\n.( a , .( b , .( c , Some_Unbound_Variable ) ) )\r\n```\r\n\r\nI do not believe that that is what you&#39;re looking for. Please explain.\r\n\r\nYour graph looks to be a _directed_, _cyclic_ graph, which is to say that edges may be traversed only in one direction (One can travel from A to G, but not from G to A), and that it contains _cycles_, meaning that starting from one node within the graph and traversing the graph, you will eventually get back to your origin (a cycle). And that leads to endless loops, unless you track the places you&#39;ve been.\r\n\r\nYou may represent your graph thus:\r\n```prolog\r\nedge( a , f ).\r\nedge( a , g ).\r\nedge( c , a ).\r\nedge( c , d ).\r\nedge( d , c ).\r\nedge( d , f ).\r\nedge( e , c ).\r\nedge( e , d ).\r\nedge( e , g ).\r\nedge( f , e ).\r\n```\r\n\r\nAnd traversing a graph is pretty trivial:\r\n```prolog\r\ntraverse( Origin, Destination, Path ) :-\r\n  edge(Origin,_),\r\n  traverse( Origin, Destination, [Origin] , Path )\r\n  .\r\n\r\ntraverse( A, B , Vs , [B|Vs] ) :- % we can get from A to B\r\n  edge(A,B)                       % - if A and B are directly connected.\r\n  .                               % otherwise...\r\ntraverse( A, B , Vs , P      ) :- % we can get from A to B\r\n  edge(A,X) ,                     % - if we can get from A to some X\r\n  X \\== B   ,                     % - such that X is not B\r\n  \\+memberchk(X,Vs) ,             % - and that we have not yet visited X\r\n  traverse(X,B,[X|Vs],P)          % - and see if we can get from X to B\r\n  .                               %\r\n```\r\n\r\nUpon success, `Path` should be unified with the path taken through the graph in reverse order, so using your graph as an example, `Path = [G,E,F,A]` says that you traveled `G &lt;- E &lt;- F &lt;- A`. \r\n","title":"first search algorithm","body":"<p>What exactly do <em>open</em> and <em>closed</em> mean in this context of this problem?</p>\n<p>In Prolog a <em><strong>closed</strong> list</em> is a list terminated by the atom <code>[]</code>, representing the empty list.</p>\n<p>In bracketed list notation that would be a list like this:</p>\n<pre><code>[a,b,c]\n</code></pre>\n<p>In formal <code>./2</code> notation, that list is represented by this Prolog structure:</p>\n<pre><code>.( a , .( b , .( c , [] ) ) )\n</code></pre>\n<p>Whilst the same list as an <em><strong>open</strong> list</em> is this:</p>\n<pre><code>[ a , b , c | Some_Unbound_Variable ]\n</code></pre>\n<p>or in <code>./2</code> notation:</p>\n<pre><code>.( a , .( b , .( c , Some_Unbound_Variable ) ) )\n</code></pre>\n<p>I do not believe that that is what you're looking for. Please explain.</p>\n<p>Your graph looks to be a <em>directed</em>, <em>cyclic</em> graph, which is to say that edges may be traversed only in one direction (One can travel from A to G, but not from G to A), and that it contains <em>cycles</em>, meaning that starting from one node within the graph and traversing the graph, you will eventually get back to your origin (a cycle). And that leads to endless loops, unless you track the places you've been.</p>\n<p>You may represent your graph thus:</p>\n<pre><code>edge( a , f ).\nedge( a , g ).\nedge( c , a ).\nedge( c , d ).\nedge( d , c ).\nedge( d , f ).\nedge( e , c ).\nedge( e , d ).\nedge( e , g ).\nedge( f , e ).\n</code></pre>\n<p>And traversing a graph is pretty trivial:</p>\n<pre><code>traverse( Origin, Destination, Path ) :-\n  edge(Origin,_),\n  traverse( Origin, Destination, [Origin] , Path )\n  .\n\ntraverse( A, B , Vs , [B|Vs] ) :- % we can get from A to B\n  edge(A,B)                       % - if A and B are directly connected.\n  .                               % otherwise...\ntraverse( A, B , Vs , P      ) :- % we can get from A to B\n  edge(A,X) ,                     % - if we can get from A to some X\n  X \\== B   ,                     % - such that X is not B\n  \\+memberchk(X,Vs) ,             % - and that we have not yet visited X\n  traverse(X,B,[X|Vs],P)          % - and see if we can get from X to B\n  .                               %\n</code></pre>\n<p>Upon success, <code>Path</code> should be unified with the path taken through the graph in reverse order, so using your graph as an example, <code>Path = [G,E,F,A]</code> says that you traveled <code>G &lt;- E &lt;- F &lt;- A</code>.</p>\n"},{"tags":[],"owner":{"account_id":15985267,"reputation":5165,"user_id":11535940,"display_name":"slago"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644380153,"creation_date":1644380153,"answer_id":71043942,"question_id":71036922,"body_markdown":"To get the answer given by @J013R, you can use the following program:\r\n\r\n```\r\ndfs_traversal(Root) :-\r\n   format(&#39;Open    Closed        Visited\\n&#39;),\r\n   dfs_traversal([Root], [], -).\r\n\r\ndfs_traversal(Open, Closed, Visited) :-\r\n   format(&#39;~|~w~t~7+ ~|~w~t~13+ ~w\\n&#39;, [Open, Closed, Visited]),\r\n   (   Open = [Node|Rest]\r\n   -&gt;  findall(Successor, successor(Node, Open, Closed, Successor), Successors),\r\n       append(Successors, Rest, NewOpen),\r\n       dfs_traversal(NewOpen, [Node|Closed], Node)\r\n   ;   true ).\r\n\r\nsuccessor(Node, Open, Closed, Successor) :-\r\n   arc(Node, Successor),\r\n   not(member(Successor, Open)),\r\n   not(member(Successor, Closed)).\r\n\r\narc(a, f).\r\narc(a, g).\r\narc(c, a).\r\narc(c, d).\r\narc(d, c).\r\narc(d, f).\r\narc(e, c).\r\narc(e, d).\r\narc(e, g).\r\narc(f, e).\r\n```\r\n\r\nExample:\r\n\r\n```\r\n?- dfs_traversal(a)\r\nOpen    Closed        Visited\r\n[a]     []            -\r\n[f,g]   [a]           a\r\n[e,g]   [f,a]         f\r\n[c,d,g] [e,f,a]       e\r\n[d,g]   [c,e,f,a]     c\r\n[g]     [d,c,e,f,a]   d\r\n[]      [g,d,c,e,f,a] g\r\ntrue.\r\n```","title":"first search algorithm","body":"<p>To get the answer given by @J013R, you can use the following program:</p>\n<pre><code>dfs_traversal(Root) :-\n   format('Open    Closed        Visited\\n'),\n   dfs_traversal([Root], [], -).\n\ndfs_traversal(Open, Closed, Visited) :-\n   format('~|~w~t~7+ ~|~w~t~13+ ~w\\n', [Open, Closed, Visited]),\n   (   Open = [Node|Rest]\n   -&gt;  findall(Successor, successor(Node, Open, Closed, Successor), Successors),\n       append(Successors, Rest, NewOpen),\n       dfs_traversal(NewOpen, [Node|Closed], Node)\n   ;   true ).\n\nsuccessor(Node, Open, Closed, Successor) :-\n   arc(Node, Successor),\n   not(member(Successor, Open)),\n   not(member(Successor, Closed)).\n\narc(a, f).\narc(a, g).\narc(c, a).\narc(c, d).\narc(d, c).\narc(d, f).\narc(e, c).\narc(e, d).\narc(e, g).\narc(f, e).\n</code></pre>\n<p>Example:</p>\n<pre><code>?- dfs_traversal(a)\nOpen    Closed        Visited\n[a]     []            -\n[f,g]   [a]           a\n[e,g]   [f,a]         f\n[c,d,g] [e,f,a]       e\n[d,g]   [c,e,f,a]     c\n[g]     [d,c,e,f,a]   d\n[]      [g,d,c,e,f,a] g\ntrue.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24288605,"reputation":1,"user_id":18233998,"display_name":"CompHelp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645103773,"creation_date":1645103773,"answer_id":71158853,"question_id":71036922,"body_markdown":"Should [d,g] when c visited not be [d,a] as c doesn&#39;t lead to g.","title":"first search algorithm","body":"<p>Should [d,g] when c visited not be [d,a] as c doesn't lead to g.</p>\n"}],"owner":{"account_id":15618121,"reputation":11,"user_id":11267779,"display_name":"rhys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71037998,"answer_count":4,"score":-1,"last_activity_date":1646321279,"creation_date":1644335879,"question_id":71036922,"body_markdown":"I need to use the first search algorithm\r\n\r\nCan anyone assist me in regards how I use first search algorithm?\r\n\r\n\r\nThanks in advance\r\n","title":"first search algorithm","body":"<p>I need to use the first search algorithm</p>\n<p>Can anyone assist me in regards how I use first search algorithm?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":14842277,"reputation":4823,"user_id":10718641,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646320988,"creation_date":1646320988,"answer_id":71339601,"question_id":71335168,"body_markdown":"Your code gets transpiled, optimized, and minified in release builds. That&#39;s why they run faster than debug builds. The tradeoff is this, that the code becomes obfuscated to humans. If you want more details in your release builds, it&#39;s best to be more explicit with your errors. ","title":"Exceptions is not processed very well when a release buid is generated in React Native in Android","body":"<p>Your code gets transpiled, optimized, and minified in release builds. That's why they run faster than debug builds. The tradeoff is this, that the code becomes obfuscated to humans. If you want more details in your release builds, it's best to be more explicit with your errors.</p>\n"}],"owner":{"account_id":3468696,"reputation":2467,"user_id":2903646,"accept_rate":60,"display_name":"Juan Antonio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646320988,"creation_date":1646301402,"question_id":71335168,"body_markdown":"The problem is very simple, I have a part in my React Native project where I throw an Error, for example:\r\n\r\n```\r\n...\r\nthrow new Error(&#39;Example error&#39;);\r\n...\r\n```\r\n\r\nWhen I normally execute `npx react-native run-android` to develop and debug I see the error correctly but when is in release mode `npx react-native run-android --variant=release` the error becomes weird. \r\n\r\nSomething like:\r\n\r\n```\r\n{\r\n &quot;name&quot;: &quot;v&quot;,\r\n &quot;line&quot;: 1231,\r\n &quot;column&quot;: 331,\r\n &quot;sourceURL&quot;: &quot;index.android.bundle&quot;\r\n}\r\n```\r\n\r\nSeems like if in the compilation to the Android .apk, something goes wrong with the errors. \r\n\r\nSome clue for this problem? Thanks!","title":"Exceptions is not processed very well when a release buid is generated in React Native in Android","body":"<p>The problem is very simple, I have a part in my React Native project where I throw an Error, for example:</p>\n<pre><code>...\nthrow new Error('Example error');\n...\n</code></pre>\n<p>When I normally execute <code>npx react-native run-android</code> to develop and debug I see the error correctly but when is in release mode <code>npx react-native run-android --variant=release</code> the error becomes weird.</p>\n<p>Something like:</p>\n<pre><code>{\n &quot;name&quot;: &quot;v&quot;,\n &quot;line&quot;: 1231,\n &quot;column&quot;: 331,\n &quot;sourceURL&quot;: &quot;index.android.bundle&quot;\n}\n</code></pre>\n<p>Seems like if in the compilation to the Android .apk, something goes wrong with the errors.</p>\n<p>Some clue for this problem? Thanks!</p>\n"},{"tags":["java","jar","rpgle"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1646250435,"post_id":71328309,"comment_id":126079456,"body_markdown":"Not knowing anything about RPGLE, I&#39;d guess that the `CLASS()` wants the class name, not the .jar file, and `CLASSPATH(...)` should list the jars and other resources.","body":"Not knowing anything about RPGLE, I&#39;d guess that the <code>CLASS()</code> wants the class name, not the .jar file, and <code>CLASSPATH(...)</code> should list the jars and other resources."}],"answers":[{"tags":[],"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646320916,"creation_date":1646255193,"answer_id":71329139,"question_id":71328309,"body_markdown":"Calling Java from RPG generally means calling individual Java methods... like so:  \r\n\r\nJava HelloWorld   \r\n\r\n    class HelloWorld\r\n    {\r\n        public static void Hello ()\r\n        {\r\n            System.out.println(&quot;Hello World&quot;) ;\r\n        }\r\n    }\r\n\r\nRPGLE program..\r\n\r\n    H DFTACTGRP(*NO)                                      \r\n    D sayhello        PR                  EXTPROC(*JAVA   \r\n    D                                     :&#39;HelloWorld&#39;   \r\n    D                                     :&#39;Hello&#39;)       \r\n    D                                     Static          \r\n    C                   callp     sayhello                \r\n    C                   eval      *INLR = *ON \r\n\r\nYou are not &quot;calling Java from RPG&quot; you are just calling the IBM i command interpreter (QCMDEXE).  The fact you are asking the OS to run Java is immaterial.    \r\n\r\nYou don&#39;t show your actual code, but I suspect you&#39;re running into an issue with embedded quotes in your command string...\r\n\r\nYou&#39;d normally have to double the quotes to embed them.  It&#39;s usually easier to define a constant value and make use of that.\r\n\r\ntry the following:  \r\n\r\n    dcl-c QT const(&#39;&#39;&#39;&#39;);\r\n    dcl-s cmd char(1024);\r\n    \r\n     cmd = &#39;RUNJVA CLASS(&#39; \r\n           + QT +&#39;/home/MIGPCTOOD/MIGPCTOOD.jar&#39; + QT  \r\n           + &#39;) CLASSPATH(&#39; \r\n           + QT + &#39;/home/MIGPCTOOD:log4j.properties&#39; + QT \r\n           + &#39;) PARM(&#39; \r\n           + QT + &#39;/home/POSPDFMON&#39; + QT \r\n           + &#39; &#39;\r\n           + QT +&#39;/home/POSONDMON&#39; + QT \r\n           + &#39;)&#39;;\r\n\r\nI can&#39;t promise I&#39;ve got it exactly right, but you&#39;ll get the general idea.\r\n\r\nIf you run the program in debug, you&#39;ll be able to validate that the embedded quotes are showing properly.","title":"Cannot call .Jar file from RPGLE","body":"<p>Calling Java from RPG generally means calling individual Java methods... like so:</p>\n<p>Java HelloWorld</p>\n<pre><code>class HelloWorld\n{\n    public static void Hello ()\n    {\n        System.out.println(&quot;Hello World&quot;) ;\n    }\n}\n</code></pre>\n<p>RPGLE program..</p>\n<pre><code>H DFTACTGRP(*NO)                                      \nD sayhello        PR                  EXTPROC(*JAVA   \nD                                     :'HelloWorld'   \nD                                     :'Hello')       \nD                                     Static          \nC                   callp     sayhello                \nC                   eval      *INLR = *ON \n</code></pre>\n<p>You are not &quot;calling Java from RPG&quot; you are just calling the IBM i command interpreter (QCMDEXE).  The fact you are asking the OS to run Java is immaterial.</p>\n<p>You don't show your actual code, but I suspect you're running into an issue with embedded quotes in your command string...</p>\n<p>You'd normally have to double the quotes to embed them.  It's usually easier to define a constant value and make use of that.</p>\n<p>try the following:</p>\n<pre><code>dcl-c QT const('''');\ndcl-s cmd char(1024);\n\n cmd = 'RUNJVA CLASS(' \n       + QT +'/home/MIGPCTOOD/MIGPCTOOD.jar' + QT  \n       + ') CLASSPATH(' \n       + QT + '/home/MIGPCTOOD:log4j.properties' + QT \n       + ') PARM(' \n       + QT + '/home/POSPDFMON' + QT \n       + ' '\n       + QT +'/home/POSONDMON' + QT \n       + ')';\n</code></pre>\n<p>I can't promise I've got it exactly right, but you'll get the general idea.</p>\n<p>If you run the program in debug, you'll be able to validate that the embedded quotes are showing properly.</p>\n"}],"owner":{"account_id":18915335,"reputation":21,"user_id":13800529,"display_name":"wendy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646320916,"creation_date":1646250169,"question_id":71328309,"body_markdown":"I&#39;ve created an RPGLE program and I&#39;m trying to execute a java .jar file from within.  I&#39;ve been able to get it to run from the QSH so I know it compiled and runs fine, but I need to run it from the program not QSH. \r\nHere is the code I have tried...\r\n    CALLP(e) QcmdEXC(cmd_JAVAcall:%SIZE(cmd_JAVAcall));  \r\nand cmd_JAVAcall is set to\r\n\r\n    `RUNJVA CLASS(&#39;/home/MIGPCTOOD/MIGPCTOOD.jar&#39;) \r\n    CLASSPATH(&#39;/home/MIGPCTOOD&#39;:&#39;log4j.properties&#39;)   \r\n    PARM(&#39;/home/POSPDFMON&#39; &#39;/home/POSONDMON&#39;)`         \r\n\r\nI also tried setting it to\r\n\r\n    &#39;JAVA CLASS(&#39;/home/MIGPCTOOD/MIGPCTOOD.jar&#39;)     \r\n    CLASSPATH(&#39;/home/MIGPCTOOD&#39;:&#39;log4j.properties&#39;)   \r\n    PARM(&#39;/home/POSPDFMON&#39; &#39;/home/POSONDMON&#39;)&#39;\r\n\r\n         \r\n\r\nNeither one seems to actually launch the program but it doesnt produce and error either.\r\n\r\nAny thoughts on how I can launch this java?","title":"Cannot call .Jar file from RPGLE","body":"<p>I've created an RPGLE program and I'm trying to execute a java .jar file from within.  I've been able to get it to run from the QSH so I know it compiled and runs fine, but I need to run it from the program not QSH.\nHere is the code I have tried...\nCALLP(e) QcmdEXC(cmd_JAVAcall:%SIZE(cmd_JAVAcall));<br />\nand cmd_JAVAcall is set to</p>\n<pre><code>`RUNJVA CLASS('/home/MIGPCTOOD/MIGPCTOOD.jar') \nCLASSPATH('/home/MIGPCTOOD':'log4j.properties')   \nPARM('/home/POSPDFMON' '/home/POSONDMON')`         \n</code></pre>\n<p>I also tried setting it to</p>\n<pre><code>'JAVA CLASS('/home/MIGPCTOOD/MIGPCTOOD.jar')     \nCLASSPATH('/home/MIGPCTOOD':'log4j.properties')   \nPARM('/home/POSPDFMON' '/home/POSONDMON')'\n\n     \n</code></pre>\n<p>Neither one seems to actually launch the program but it doesnt produce and error either.</p>\n<p>Any thoughts on how I can launch this java?</p>\n"},{"tags":["java","spring-boot","java-8","couchbase","project-reactor"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1646583436,"post_id":71317612,"comment_id":126154362,"body_markdown":"Are you using [Spring Data Couchbase](https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#reference), or coding directly against the [Couchbase Java SDK](https://docs.couchbase.com/java-sdk/current/hello-world/start-using-sdk.html)?  Either way, skip the &quot;get&quot; check; instead use an &quot;insert&quot; operation, which will fail if there&#39;s already a document with that key. Catch the exception and retry with a different ID. That said, if you&#39;re generating random IDs with enough entropy, ID collision is astronomically unlikely. UUID.randomUUID() is typically sufficient.","body":"Are you using <a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">Spring Data Couchbase</a>, or coding directly against the <a href=\"https://docs.couchbase.com/java-sdk/current/hello-world/start-using-sdk.html\" rel=\"nofollow noreferrer\">Couchbase Java SDK</a>?  Either way, skip the &quot;get&quot; check; instead use an &quot;insert&quot; operation, which will fail if there&#39;s already a document with that key. Catch the exception and retry with a different ID. That said, if you&#39;re generating random IDs with enough entropy, ID collision is astronomically unlikely. UUID.randomUUID() is typically sufficient."},{"owner":{"account_id":15537900,"reputation":11,"user_id":12865982,"display_name":"Ashish"},"score":0,"creation_date":1646834433,"post_id":71317612,"comment_id":126221680,"body_markdown":"Thanks, dnault, the insert operation as you suggested seems the way to go and will reduce an extra DB call too! (the read operation).","body":"Thanks, dnault, the insert operation as you suggested seems the way to go and will reduce an extra DB call too! (the read operation)."}],"answers":[{"tags":[],"owner":{"account_id":14345046,"reputation":140,"user_id":10362103,"display_name":"Red_Baron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646212439,"creation_date":1646212439,"answer_id":71320119,"question_id":71317612,"body_markdown":"I made following static test with just a minor change.\r\nMost important is the while loop.\r\nPay Attention that you initialize attempts with 0 and not 1.\r\nRecommended is camelcase notation ( PRESCRIBED_ATTEMPTS-&gt; prescribedAttempts)\r\n\r\nNote: This solution is synchron, you could make this function asynchron by implementing a future callback\r\n\r\n``` \r\npublic class DemoApplication {\r\n    private static int random = 0;\r\n\r\n    public static int generateSomeRandomAlphaNum() {\r\n        return random++;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication2.class, args);\r\n\r\n\r\n        int attempts = 0; // 0 because you didnt had an attempt yet. 1 predicts you had one already.\r\n        int predscribedAttempts= 10;\r\n\r\n        int key = generateSomeRandomAlphaNum();\r\n        System.out.println(&quot;key: &quot; + key);\r\n\r\n        while (key != 7 &amp;&amp; attempts &lt;= predscribedAttempts) {\r\n            key = generateSomeRandomAlphaNum();\r\n            System.out.println(&quot;key: &quot; + key);\r\n            attempts++;\r\n        }\r\n        //finished within x attempts\r\n        System.out.println(&quot;finished within &quot; + attempts + &quot; attempts&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith your code it would look like:\r\n    \r\n     public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication2.class, args);\r\n            \r\n            int attempts = 0;\r\n            int predscribedAttempts= 10;\r\n    \r\n            Future&lt;String&gt; resultFromDb = someRepository.getById(key);    \r\n            while (!resultFromDb.isEmpty() &amp;&amp; attempts &lt;= predscribedAttempts) {\r\n                resultFromDb = someRepository.getById(key);\r\n                attempts++;\r\n            }\r\n            //finished\r\n        }","title":"Retry logic to check an existing key in a database","body":"<p>I made following static test with just a minor change.\nMost important is the while loop.\nPay Attention that you initialize attempts with 0 and not 1.\nRecommended is camelcase notation ( PRESCRIBED_ATTEMPTS-&gt; prescribedAttempts)</p>\n<p>Note: This solution is synchron, you could make this function asynchron by implementing a future callback</p>\n<pre><code>public class DemoApplication {\n    private static int random = 0;\n\n    public static int generateSomeRandomAlphaNum() {\n        return random++;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication2.class, args);\n\n\n        int attempts = 0; // 0 because you didnt had an attempt yet. 1 predicts you had one already.\n        int predscribedAttempts= 10;\n\n        int key = generateSomeRandomAlphaNum();\n        System.out.println(&quot;key: &quot; + key);\n\n        while (key != 7 &amp;&amp; attempts &lt;= predscribedAttempts) {\n            key = generateSomeRandomAlphaNum();\n            System.out.println(&quot;key: &quot; + key);\n            attempts++;\n        }\n        //finished within x attempts\n        System.out.println(&quot;finished within &quot; + attempts + &quot; attempts&quot;);\n    }\n\n}\n</code></pre>\n<p>With your code it would look like:</p>\n<pre><code> public static void main(String[] args) {\n        SpringApplication.run(DemoApplication2.class, args);\n        \n        int attempts = 0;\n        int predscribedAttempts= 10;\n\n        Future&lt;String&gt; resultFromDb = someRepository.getById(key);    \n        while (!resultFromDb.isEmpty() &amp;&amp; attempts &lt;= predscribedAttempts) {\n            resultFromDb = someRepository.getById(key);\n            attempts++;\n        }\n        //finished\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646214958,"creation_date":1646214958,"answer_id":71320684,"question_id":71317612,"body_markdown":"Your approach is incorrect. The primary key generation is the responsibility of DB and not yours. So when you want to insert new object your Entity should be just properly annotated in such a way that DB will generate guaranteed unique ID for you. To see how its done see this article: [An Overview of Identifiers in Hibernate/JPA][1]. However, in general if you want to generate some unique ID for whatever purpose by yourself then you should create your own generator that will be responsible to create unique ids. If you need to provide unique id within your running program scope then the simples one would be to use [AtomicLong][2] class and just increment it each time you need a new ID. If you want to create world-wide unique ID then use [UUID][3] class\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-identifiers\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicLong.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html","title":"Retry logic to check an existing key in a database","body":"<p>Your approach is incorrect. The primary key generation is the responsibility of DB and not yours. So when you want to insert new object your Entity should be just properly annotated in such a way that DB will generate guaranteed unique ID for you. To see how its done see this article: <a href=\"https://www.baeldung.com/hibernate-identifiers\" rel=\"nofollow noreferrer\">An Overview of Identifiers in Hibernate/JPA</a>. However, in general if you want to generate some unique ID for whatever purpose by yourself then you should create your own generator that will be responsible to create unique ids. If you need to provide unique id within your running program scope then the simples one would be to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicLong.html\" rel=\"nofollow noreferrer\">AtomicLong</a> class and just increment it each time you need a new ID. If you want to create world-wide unique ID then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\">UUID</a> class</p>\n"},{"tags":[],"owner":{"account_id":422670,"reputation":79,"user_id":801573,"display_name":"ajay vasudevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646320426,"creation_date":1646250747,"answer_id":71328415,"question_id":71317612,"body_markdown":"Suggest to use **resilience4j library** in order to adhere to DRY principles. Resilience4j one of many modules is &quot;Retry&quot; which is a mechanism to automatically retry a failed mechanism. Hope this https://reflectoring.io/retry-with-resilience4j/ will help you.","title":"Retry logic to check an existing key in a database","body":"<p>Suggest to use <strong>resilience4j library</strong> in order to adhere to DRY principles. Resilience4j one of many modules is &quot;Retry&quot; which is a mechanism to automatically retry a failed mechanism. Hope this <a href=\"https://reflectoring.io/retry-with-resilience4j/\" rel=\"nofollow noreferrer\">https://reflectoring.io/retry-with-resilience4j/</a> will help you.</p>\n"}],"owner":{"account_id":15537900,"reputation":11,"user_id":12865982,"display_name":"Ashish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1646320426,"creation_date":1646196737,"question_id":71317612,"body_markdown":"I&#39;m using Java 8 with Spring Boot. How can I achieve retry logic for the following scenario? \r\n\r\n1. I will generate a random key for a DB.\r\n2. Query the DB for that key, if present, retry with a new key.\r\n3. Persist the data with a newly generated key.\r\n\r\nexample code:\r\n```\r\nint attempts = 1;\r\nwhile (attempts &lt;= PRESCRIBED_ATTEMPTS) {\r\n  String key = generateSomeRandomAlphaNum();\r\n  Future&lt;String&gt; resultFromDb = someRepository.getById(key);\r\n  resultFromDb.onSuccess(\r\n    result -&gt; {\r\n      // since the key is already present\r\n      // retry here\r\n      Future&lt;String&gt; newAttempt = someRepository.getById(key);\r\n      attempts++;\r\n    }\r\n  );\r\n}\r\n```\r\nI&#39;m using Couchbase, so the key here is basically a reference document.","title":"Retry logic to check an existing key in a database","body":"<p>I'm using Java 8 with Spring Boot. How can I achieve retry logic for the following scenario?</p>\n<ol>\n<li>I will generate a random key for a DB.</li>\n<li>Query the DB for that key, if present, retry with a new key.</li>\n<li>Persist the data with a newly generated key.</li>\n</ol>\n<p>example code:</p>\n<pre><code>int attempts = 1;\nwhile (attempts &lt;= PRESCRIBED_ATTEMPTS) {\n  String key = generateSomeRandomAlphaNum();\n  Future&lt;String&gt; resultFromDb = someRepository.getById(key);\n  resultFromDb.onSuccess(\n    result -&gt; {\n      // since the key is already present\n      // retry here\n      Future&lt;String&gt; newAttempt = someRepository.getById(key);\n      attempts++;\n    }\n  );\n}\n</code></pre>\n<p>I'm using Couchbase, so the key here is basically a reference document.</p>\n"},{"tags":["java","automation"],"owner":{"account_id":24441742,"reputation":11,"user_id":18365341,"display_name":"Gabriela RD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646320075,"creation_date":1646320075,"question_id":71339375,"body_markdown":"I am trying to run some automation code, but whenever I try to run it from the terminal (gradle runFeatures) I get the following error:\r\n\r\n&gt;* What went wrong:\r\n&gt;A problem occurred evaluating script.\r\n&gt; Could not get unknown property &#39;testRuntime&#39; for configuration &#39;:cucumberRuntime&#39; of type org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.\r\n\r\nThe error seems to emerge from two files: build.gradle and reRunReport.gradle\r\n\r\nBoth of them have the same line of code:\r\n\r\n```\r\nconfigurations {\r\n    cucumberRuntime {\r\n        extendsFrom testRuntime\r\n    }\r\n}\r\n```\r\n\r\nDo you know why this error appears?\r\n\r\n","title":"Error when running tests in gradle automation project: Could not get unknown property &#39;testRuntime&#39; for configuration &#39;:cucumberRuntime&#39;","body":"<p>I am trying to run some automation code, but whenever I try to run it from the terminal (gradle runFeatures) I get the following error:</p>\n<blockquote>\n<ul>\n<li>What went wrong:\nA problem occurred evaluating script.\nCould not get unknown property 'testRuntime' for configuration ':cucumberRuntime' of type org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.</li>\n</ul>\n</blockquote>\n<p>The error seems to emerge from two files: build.gradle and reRunReport.gradle</p>\n<p>Both of them have the same line of code:</p>\n<pre><code>configurations {\n    cucumberRuntime {\n        extendsFrom testRuntime\n    }\n}\n</code></pre>\n<p>Do you know why this error appears?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646153986,"post_id":71311351,"comment_id":126051209,"body_markdown":"Please provide your question with more details. What is the direction of a &quot;spiral&quot; (*clock-wise/counter clock-wise*)? Starting point - **[0][0]**? What is the **expected** output?","body":"Please provide your question with more details. What is the direction of a &quot;spiral&quot; (<i>clock-wise/counter clock-wise</i>)? Starting point - <b>[0][0]</b>? What is the <b>expected</b> output?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646157237,"post_id":71311351,"comment_id":126052379,"body_markdown":"Why the expected sequence `1 2 3 4 7 1 10 9 8 5 5 6 10 9` ends with `10 9`. I thought it&#39;ll stop at `6`, what is the rule for that?","body":"Why the expected sequence <code>1 2 3 4 7 1 10 9 8 5 5 6 10 9</code> ends with <code>10 9</code>. I thought it&#39;ll stop at <code>6</code>, what is the rule for that?"},{"owner":{"account_id":24395925,"reputation":3,"user_id":18325301,"display_name":"Zenraven"},"score":0,"creation_date":1646159693,"post_id":71311351,"comment_id":126053161,"body_markdown":"The rule is that the spiral has to be complete, all the elements of the array should be covered by the spiral if it stops at just 6 the spiral isn&#39;t complete.","body":"The rule is that the spiral has to be complete, all the elements of the array should be covered by the spiral if it stops at just 6 the spiral isn&#39;t complete."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646160036,"post_id":71311351,"comment_id":126053291,"body_markdown":"`all the elements of the array should be covered` - `10` and `9` are already covered `... 1 10 9 8 ...`, and then you are going to visit these elements a second time, why? Why you are calling this shape spiral when it goes from the edge to the center and then returns to the edge? You definitely have to give a more detailed explanation on that point.","body":"<code>all the elements of the array should be covered</code> - <code>10</code> and <code>9</code> are already covered <code>... 1 10 9 8 ...</code>, and then you are going to visit these elements a second time, why? Why you are calling this shape spiral when it goes from the edge to the center and then returns to the edge? You definitely have to give a more detailed explanation on that point."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646160116,"post_id":71311351,"comment_id":126053315,"body_markdown":"That is the definition of a **spiral** - a curve on a plane that winds around a fixed center point at a continuously increasing or decreasing distance from the point ( https://en.wikipedia.org/wiki/Spiral )","body":"That is the definition of a <b>spiral</b> - a curve on a plane that winds around a fixed center point at a continuously increasing or decreasing distance from the point ( <a href=\"https://en.wikipedia.org/wiki/Spiral\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Spiral</a> )"}],"owner":{"account_id":24395925,"reputation":3,"user_id":18325301,"display_name":"Zenraven"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646319571,"creation_date":1646150764,"question_id":71311351,"body_markdown":"I was trying to print the spiral order matrix as output for a given matrix of numbers, all seemed fine until I tried to print the output, the code prints the input till the first spiral loop but stops after printing the second loop for the first step. I am confused, what is my mistake.\r\n\r\nedit - the loop has to go clockwise.\r\n  \r\n\r\n    \r\n\r\n     import java.util.*;\r\n\r\n     public class SpiralArray{\r\n\r\n     public static void main (String [] args){\r\n\r\n        System.out.println(&quot;Enter the size of the array&quot;);\r\n        //Dimensions of array\r\n        Scanner sc = new Scanner(System.in);\r\n        int r = sc.nextInt();\r\n        int c = sc.nextInt();\r\n\r\n        int [][] spiral = new int [r][c];\r\n        \r\n        // elements of array\r\n        for (int i = 0; i &lt; r; i++){\r\n            for (int j = 0; j &lt; c; j++){\r\n\r\n                spiral [i][j] = sc.nextInt();\r\n            }\r\n        }\r\n         \r\n        \r\n        int row_start = 0;\r\n        int row_end = r-1;\r\n        int column_start = 0;\r\n        int column_end = c-1;\r\n        \r\n        //printing spiral order matrix\r\n\r\n        while( row_start &lt;= row_end &amp;&amp; column_start &lt;= column_end){\r\n\r\n            //1\r\n            for (int col = column_start; col &lt;= column_end; col++){\r\n\r\n                System.out.print(spiral[row_start][col] + &quot; &quot;);\r\n                \r\n            } \r\n\r\n            row_start++;\r\n            \r\n            //2\r\n            for (int row = row_start; row &lt;= row_end; row++){\r\n\r\n                System.out.print(spiral[row][column_end] + &quot; &quot;);\r\n            }\r\n\r\n            column_end--;\r\n\r\n            //3\r\n            for (int col = column_end; col &gt;= column_start; col--){\r\n\r\n                System.out.print(spiral[row_end][col] + &quot; &quot;);\r\n                \r\n            } \r\n            row_end--;\r\n\r\n            //4\r\n            for (int row = row_end; row &gt;= row_start; row--){\r\n\r\n                System.out.print(spiral[row][column_start] + &quot; &quot;);\r\n            }\r\n\r\n            column_start++;\r\n\r\n            System.out.println();\r\n            \r\n             }\r\n\r\n        }\r\n     }\r\n\r\n\r\nOutput obtained from the code - \r\n  \r\n      Enter the size of the array       \r\n        3 4\r\n        1 2 3 4\r\n        5 5 6 7\r\n        8 9 10 1 \r\n       \r\n        1 2 3 4 7 1 10 9 8 5 \r\n        5 6 5\r\nedit \r\n       expected output\r\n       1 2 3 4 7 1 10 9 8 5\r\n       5 6 \r\n\r\n","title":"I was trying to print the spiral order matrix as output for a given matrix of numbers, but the output result isn&#39;t complete. What is causing this?","body":"<p>I was trying to print the spiral order matrix as output for a given matrix of numbers, all seemed fine until I tried to print the output, the code prints the input till the first spiral loop but stops after printing the second loop for the first step. I am confused, what is my mistake.</p>\n<p>edit - the loop has to go clockwise.</p>\n<pre><code> import java.util.*;\n\n public class SpiralArray{\n\n public static void main (String [] args){\n\n    System.out.println(&quot;Enter the size of the array&quot;);\n    //Dimensions of array\n    Scanner sc = new Scanner(System.in);\n    int r = sc.nextInt();\n    int c = sc.nextInt();\n\n    int [][] spiral = new int [r][c];\n    \n    // elements of array\n    for (int i = 0; i &lt; r; i++){\n        for (int j = 0; j &lt; c; j++){\n\n            spiral [i][j] = sc.nextInt();\n        }\n    }\n     \n    \n    int row_start = 0;\n    int row_end = r-1;\n    int column_start = 0;\n    int column_end = c-1;\n    \n    //printing spiral order matrix\n\n    while( row_start &lt;= row_end &amp;&amp; column_start &lt;= column_end){\n\n        //1\n        for (int col = column_start; col &lt;= column_end; col++){\n\n            System.out.print(spiral[row_start][col] + &quot; &quot;);\n            \n        } \n\n        row_start++;\n        \n        //2\n        for (int row = row_start; row &lt;= row_end; row++){\n\n            System.out.print(spiral[row][column_end] + &quot; &quot;);\n        }\n\n        column_end--;\n\n        //3\n        for (int col = column_end; col &gt;= column_start; col--){\n\n            System.out.print(spiral[row_end][col] + &quot; &quot;);\n            \n        } \n        row_end--;\n\n        //4\n        for (int row = row_end; row &gt;= row_start; row--){\n\n            System.out.print(spiral[row][column_start] + &quot; &quot;);\n        }\n\n        column_start++;\n\n        System.out.println();\n        \n         }\n\n    }\n }\n</code></pre>\n<p>Output obtained from the code -</p>\n<pre><code>  Enter the size of the array       \n    3 4\n    1 2 3 4\n    5 5 6 7\n    8 9 10 1 \n   \n    1 2 3 4 7 1 10 9 8 5 \n    5 6 5\n</code></pre>\n<p>edit\nexpected output\n1 2 3 4 7 1 10 9 8 5\n5 6</p>\n"},{"tags":["java","tree","equals","hashcode"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1559288228,"creation_date":1559288228,"answer_id":56390710,"question_id":56390065,"body_markdown":"&gt; Accordingly, my question is whether I implemented the methods equals/hashCode correctly? \r\n\r\nFirst of all: &quot;what is correct?&quot; ... one could wonder why a Tree should implement `equals()` and `hashCode()` in the first place. Especially `hashCode()` is tricky: the point of that method is (mainly) so you can store the corresponding object in a HashMap/HashSet. But that raises a big red flag: both these classes do **not** like it, when `hashCode()` returns different values over time. And that is exactly what your code will be doing: every time you change your tree (adding/removing a node), `hashCode()` will give a different result.\r\n\r\nSo we could have a look at what the standard libs do: and there we find [JTree][1] ... which doesn&#39;t implement both methods! On the other hand, when we look towards [AbstractSet][2] (which is the base class for TreeSet), there we find that both methods are implemented and include the members. So both ways seem to be valid. \r\n\r\nComing back to the question: that really depends how you *want* these two methods to work. Are two trees equal when they have the exact same content (meaning: does the order of children matter)?\r\n\r\nLong story short: assuming that you want to ensure that all *data* is equal, and that all *children* are equal, and in the same order, then your implementation seems correct. \r\n\r\nAnd yes, that *restriction* to only check these two attributes makes a lot of sense: when you include the parent link, you immediately get into a recursion that can&#39;t be broken. \r\n\r\nFinally: you tagged this question with JUnit. This implies that you consider writing tests for your production code. Then these tests should answer your question. Meaning: one approach would be that you sit down and **define** the contract for these two methods. And then you create a number of test cases that **verify** all aspects of these contracts. And then your test cases tell you whether your production code meets your contract.\r\n\r\nI think that is the crucial point here: there is no universal rule that tells us if/how to implement `equals()` and `hashCode()` for a Tree class. You have to look into your requirements if/how to do that. Then you derive tests from that knowledge, which you then you apply in order to verify if a given implementation meets the requirements/contract.\r\n\r\n\r\n  [1]: http://developer.classpath.org/doc/javax/swing/JTree-source.html\r\n  [2]: http://developer.classpath.org/doc/java/util/AbstractSet-source.html","title":"How to correctly implement equals(), hashCode() for Tree in Java?","body":"<blockquote>\n  <p>Accordingly, my question is whether I implemented the methods equals/hashCode correctly? </p>\n</blockquote>\n\n<p>First of all: \"what is correct?\" ... one could wonder why a Tree should implement <code>equals()</code> and <code>hashCode()</code> in the first place. Especially <code>hashCode()</code> is tricky: the point of that method is (mainly) so you can store the corresponding object in a HashMap/HashSet. But that raises a big red flag: both these classes do <strong>not</strong> like it, when <code>hashCode()</code> returns different values over time. And that is exactly what your code will be doing: every time you change your tree (adding/removing a node), <code>hashCode()</code> will give a different result.</p>\n\n<p>So we could have a look at what the standard libs do: and there we find <a href=\"http://developer.classpath.org/doc/javax/swing/JTree-source.html\" rel=\"noreferrer\">JTree</a> ... which doesn't implement both methods! On the other hand, when we look towards <a href=\"http://developer.classpath.org/doc/java/util/AbstractSet-source.html\" rel=\"noreferrer\">AbstractSet</a> (which is the base class for TreeSet), there we find that both methods are implemented and include the members. So both ways seem to be valid. </p>\n\n<p>Coming back to the question: that really depends how you <em>want</em> these two methods to work. Are two trees equal when they have the exact same content (meaning: does the order of children matter)?</p>\n\n<p>Long story short: assuming that you want to ensure that all <em>data</em> is equal, and that all <em>children</em> are equal, and in the same order, then your implementation seems correct. </p>\n\n<p>And yes, that <em>restriction</em> to only check these two attributes makes a lot of sense: when you include the parent link, you immediately get into a recursion that can't be broken. </p>\n\n<p>Finally: you tagged this question with JUnit. This implies that you consider writing tests for your production code. Then these tests should answer your question. Meaning: one approach would be that you sit down and <strong>define</strong> the contract for these two methods. And then you create a number of test cases that <strong>verify</strong> all aspects of these contracts. And then your test cases tell you whether your production code meets your contract.</p>\n\n<p>I think that is the crucial point here: there is no universal rule that tells us if/how to implement <code>equals()</code> and <code>hashCode()</code> for a Tree class. You have to look into your requirements if/how to do that. Then you derive tests from that knowledge, which you then you apply in order to verify if a given implementation meets the requirements/contract.</p>\n"},{"tags":[],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646319131,"creation_date":1646319131,"answer_id":71339163,"question_id":56390065,"body_markdown":"I think @GhostCat&#39;s answer where they ask &quot;what is correct?&quot; is crucial. I would like to focus on this part.\r\n\r\nThe sample given in the OP can be considered correct.\r\n\r\nI would name the `Tree` class `TreeNode`, however. I think that&#39;s a more appropriate name. Then the question becomes are two `TreeNode`s equal if they have the same data and same children but a different parent? That&#39;s the current implementation of the OP. This can be considered correct. If, however, the requirement is that a `TreeNode` also has the same parent, then the entire tree must be equal when comparing two tree nodes. In that case, it doesn&#39;t really make sense to ever compare two tree nodes, why not just compare the two trees from the root node? I say this, because there is value in comparing two nodes within the tree and ask the question, &quot;Are these two subtrees equal, regardless of the different parent?&quot; So I believe the OP&#39;s code offers more flexibility than requiring that the parent also be equal. In this case the `parent` property is used for convenient navigation and not for identity. You can also imagine a `TreeNode` where there is no `parent` property and only the parent knows of its children. This would make data integrity easier to maintain (because the link is only stored in the parent), but navigation more challenging).\r\n\r\nI favor the approach of thinking of `parent` as used for navigation or simply removing the `parent` property from `TreeNode` (or `Tree` as the OP calls the class).","title":"How to correctly implement equals(), hashCode() for Tree in Java?","body":"<p>I think @GhostCat's answer where they ask &quot;what is correct?&quot; is crucial. I would like to focus on this part.</p>\n<p>The sample given in the OP can be considered correct.</p>\n<p>I would name the <code>Tree</code> class <code>TreeNode</code>, however. I think that's a more appropriate name. Then the question becomes are two <code>TreeNode</code>s equal if they have the same data and same children but a different parent? That's the current implementation of the OP. This can be considered correct. If, however, the requirement is that a <code>TreeNode</code> also has the same parent, then the entire tree must be equal when comparing two tree nodes. In that case, it doesn't really make sense to ever compare two tree nodes, why not just compare the two trees from the root node? I say this, because there is value in comparing two nodes within the tree and ask the question, &quot;Are these two subtrees equal, regardless of the different parent?&quot; So I believe the OP's code offers more flexibility than requiring that the parent also be equal. In this case the <code>parent</code> property is used for convenient navigation and not for identity. You can also imagine a <code>TreeNode</code> where there is no <code>parent</code> property and only the parent knows of its children. This would make data integrity easier to maintain (because the link is only stored in the parent), but navigation more challenging).</p>\n<p>I favor the approach of thinking of <code>parent</code> as used for navigation or simply removing the <code>parent</code> property from <code>TreeNode</code> (or <code>Tree</code> as the OP calls the class).</p>\n"}],"owner":{"account_id":13468493,"reputation":868,"user_id":10499368,"display_name":"FreeOnGoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56390710,"answer_count":2,"score":5,"last_activity_date":1646319131,"creation_date":1559285445,"question_id":56390065,"body_markdown":"I have a tree structure and I need to override the methods equals/hashCode because I use the check of the expected result in the unit tests.\r\n\r\nThe problem with tree type structures is that they refer to each other recursively. In particular, parents for children and vice versa.\r\n\r\nand if all fields are used in the methods equals/hashCode, then there will be a looping. The question is how to correctly override then in order not to violate the contract.\r\n\r\nI will give an example of how I implemented it.\r\n\r\n\tpublic class App {\r\n\t    public static void main(String[] args) {\r\n\t        Book book1 = new Book(1L, &quot;The catcher in the rye&quot;);\r\n\t        Book book2 = new Book(2L, &quot;Rich Dad Poor Dad&quot;);\r\n\r\n\t        BookTree bookTree1 = new BookTree(book1);\r\n\t        BookTree bookTreeChild1 = new BookTree(book2);\r\n\t        bookTree1.addChild(bookTreeChild1);\r\n\r\n\t        BookTree bookTree2 = new BookTree(book1);\r\n\t        BookTree bookTreeChild2 = new BookTree(book2);\r\n\t        bookTree2.addChild(bookTreeChild2);\r\n\r\n\t        if (!bookTree1.equals(bookTree2)) {\r\n\t            throw new RuntimeException(&quot;Invalid override equals&quot;);\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\tclass Book {\r\n\t    private Long id;\r\n\t    private String name;\r\n\r\n\t    public Book(Long id, String name) {\r\n\t        this.id = id;\r\n\t        this.name = name;\r\n\t    }\r\n\r\n\t    public Long getId() {\r\n\t        return id;\r\n\t    }\r\n\r\n\t    public void setId(Long id) {\r\n\t        this.id = id;\r\n\t    }\r\n\r\n\t    public String getName() {\r\n\t        return name;\r\n\t    }\r\n\r\n\t    public void setName(String name) {\r\n\t        this.name = name;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public boolean equals(Object object) {\r\n\t        if (this == object) return true;\r\n\t        if (object == null || getClass() != object.getClass()) return false;\r\n\t        Book book = (Book) object;\r\n\t        return Objects.equals(id, book.id) &amp;&amp;\r\n\t                Objects.equals(name, book.name);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public int hashCode() {\r\n\t        return Objects.hash(id, name);\r\n\t    }\r\n\t}\r\n\r\n\tclass Tree&lt;T&gt; {\r\n\t    private List&lt;Tree&lt;T&gt;&gt; children = new ArrayList&lt;&gt;();\r\n\t    private Tree&lt;T&gt; parent = null;\r\n\t    private T data;\r\n\r\n\t    public Tree(T data) {\r\n\t        this.data = data;\r\n\t    }\r\n\r\n\t    public Tree(T data, Tree&lt;T&gt; parent) {\r\n\t        this.data = data;\r\n\t        parent.addChild(this);\r\n\t    }\r\n\r\n\t    public List&lt;Tree&lt;T&gt;&gt; getChildren() {\r\n\t        return children;\r\n\t    }\r\n\r\n\t    public void addChild(Tree&lt;T&gt; child) {\r\n\t        child.setParent(this);\r\n\t        this.children.add(child);\r\n\t    }\r\n\r\n\t    public void addChild(T data) {\r\n\t        Tree&lt;T&gt; newChild = new Tree&lt;&gt;(data);\r\n\t        this.addChild(newChild);\r\n\t    }\r\n\r\n\t    public void removeChildren() {\r\n\t        this.children = new ArrayList&lt;&gt;();\r\n\t    }\r\n\r\n\t    public void addChildren(List&lt;Tree&lt;T&gt;&gt; children) {\r\n\t        for(Tree&lt;T&gt; t : children) {\r\n\t            t.setParent(this);\r\n\t        }\r\n\t        this.children.addAll(children);\r\n\t    }\r\n\r\n\t    private void setParent(Tree&lt;T&gt; parent) {\r\n\t        this.parent = parent;\r\n\t    }\r\n\r\n\t    public Tree&lt;T&gt; getParent() {\r\n\t        return parent;\r\n\t    }\r\n\r\n\t    public T getData() {\r\n\t        return this.data;\r\n\t    }\r\n\r\n\t    public void setData(T data) {\r\n\t        this.data = data;\r\n\t    }\r\n\r\n\t    public boolean isRoot() {\r\n\t        return (this.parent == null);\r\n\t    }\r\n\r\n\t    public boolean isLeaf() {\r\n\t        return this.children.size() == 0;\r\n\t    }\r\n\r\n\t    public void removeParent() {\r\n\t        this.parent = null;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public boolean equals(Object object) {\r\n\t        if (this == object) return true;\r\n\t        if (object == null || getClass() != object.getClass()) return false;\r\n\t        Tree&lt;?&gt; tree = (Tree&lt;?&gt;) object;\r\n\t        return Objects.equals(children, tree.children) &amp;&amp;\r\n\t                Objects.equals(data, tree.data);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public int hashCode() {\r\n\t        return Objects.hash(children, data);\r\n\t    }\r\n\t}\r\n\r\n\tclass BookTree extends Tree&lt;Book&gt; {\r\n\r\n\t    public BookTree(Book data) {\r\n\t        super(data);\r\n\t    }\r\n\r\n\t    public BookTree(Book data, Tree&lt;Book&gt; parent) {\r\n\t        super(data, parent);\r\n\t    }\r\n\t}\r\n\r\nAs you can see from my implementation, I use only two fields: &quot;data&quot; and &quot;children&quot;. \r\nAccordingly, my question is whether I implemented the methods equals/hashCode correctly? \r\nIf wrong, then please show how.","title":"How to correctly implement equals(), hashCode() for Tree in Java?","body":"<p>I have a tree structure and I need to override the methods equals/hashCode because I use the check of the expected result in the unit tests.</p>\n\n<p>The problem with tree type structures is that they refer to each other recursively. In particular, parents for children and vice versa.</p>\n\n<p>and if all fields are used in the methods equals/hashCode, then there will be a looping. The question is how to correctly override then in order not to violate the contract.</p>\n\n<p>I will give an example of how I implemented it.</p>\n\n<pre><code>public class App {\n    public static void main(String[] args) {\n        Book book1 = new Book(1L, \"The catcher in the rye\");\n        Book book2 = new Book(2L, \"Rich Dad Poor Dad\");\n\n        BookTree bookTree1 = new BookTree(book1);\n        BookTree bookTreeChild1 = new BookTree(book2);\n        bookTree1.addChild(bookTreeChild1);\n\n        BookTree bookTree2 = new BookTree(book1);\n        BookTree bookTreeChild2 = new BookTree(book2);\n        bookTree2.addChild(bookTreeChild2);\n\n        if (!bookTree1.equals(bookTree2)) {\n            throw new RuntimeException(\"Invalid override equals\");\n        }\n    }\n}\n\nclass Book {\n    private Long id;\n    private String name;\n\n    public Book(Long id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        if (this == object) return true;\n        if (object == null || getClass() != object.getClass()) return false;\n        Book book = (Book) object;\n        return Objects.equals(id, book.id) &amp;&amp;\n                Objects.equals(name, book.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name);\n    }\n}\n\nclass Tree&lt;T&gt; {\n    private List&lt;Tree&lt;T&gt;&gt; children = new ArrayList&lt;&gt;();\n    private Tree&lt;T&gt; parent = null;\n    private T data;\n\n    public Tree(T data) {\n        this.data = data;\n    }\n\n    public Tree(T data, Tree&lt;T&gt; parent) {\n        this.data = data;\n        parent.addChild(this);\n    }\n\n    public List&lt;Tree&lt;T&gt;&gt; getChildren() {\n        return children;\n    }\n\n    public void addChild(Tree&lt;T&gt; child) {\n        child.setParent(this);\n        this.children.add(child);\n    }\n\n    public void addChild(T data) {\n        Tree&lt;T&gt; newChild = new Tree&lt;&gt;(data);\n        this.addChild(newChild);\n    }\n\n    public void removeChildren() {\n        this.children = new ArrayList&lt;&gt;();\n    }\n\n    public void addChildren(List&lt;Tree&lt;T&gt;&gt; children) {\n        for(Tree&lt;T&gt; t : children) {\n            t.setParent(this);\n        }\n        this.children.addAll(children);\n    }\n\n    private void setParent(Tree&lt;T&gt; parent) {\n        this.parent = parent;\n    }\n\n    public Tree&lt;T&gt; getParent() {\n        return parent;\n    }\n\n    public T getData() {\n        return this.data;\n    }\n\n    public void setData(T data) {\n        this.data = data;\n    }\n\n    public boolean isRoot() {\n        return (this.parent == null);\n    }\n\n    public boolean isLeaf() {\n        return this.children.size() == 0;\n    }\n\n    public void removeParent() {\n        this.parent = null;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        if (this == object) return true;\n        if (object == null || getClass() != object.getClass()) return false;\n        Tree&lt;?&gt; tree = (Tree&lt;?&gt;) object;\n        return Objects.equals(children, tree.children) &amp;&amp;\n                Objects.equals(data, tree.data);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(children, data);\n    }\n}\n\nclass BookTree extends Tree&lt;Book&gt; {\n\n    public BookTree(Book data) {\n        super(data);\n    }\n\n    public BookTree(Book data, Tree&lt;Book&gt; parent) {\n        super(data, parent);\n    }\n}\n</code></pre>\n\n<p>As you can see from my implementation, I use only two fields: \"data\" and \"children\". \nAccordingly, my question is whether I implemented the methods equals/hashCode correctly? \nIf wrong, then please show how.</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646318658,"creation_date":1646318658,"answer_id":71339028,"question_id":71334254,"body_markdown":"Not clear what `getByteArrayFromImage` is doing. But as it seems it only changes something on the data bytes of the source `BufferedImage` got from the data bytes from source `XSSFPictureData` and returns the changed data bytes then.\r\n\r\nIf this new data bytes shall be the replacement of the source data bytes from source `XSSFPictureData`, then following method can do this:\r\n\r\n     void replacePictureData(XSSFPictureData source, byte[] data) {\r\n      try ( ByteArrayInputStream in = new ByteArrayInputStream(data); \r\n            OutputStream out = source.getPackagePart().getOutputStream();\r\n           ) {\r\n       byte[] buffer = new byte[2048];\r\n       int length;\r\n       while ((length = in.read(buffer)) &gt; 0) {\r\n        out.write(buffer, 0, length);\r\n       }\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      }\r\n     }\r\n\r\n\r\n`XSSFPictureData` is a package part of the `*.xlsx` ZIP archive and so it provides a `getOutputStream` method.\r\n\r\nThe following complete example shows it in whole. My `getByteArrayFromImage` writes the text &quot;CHANGED&quot; onto the pictures in the Excel file.\r\n\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    import java.io.*;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    \r\n    import java.util.List;\r\n    \r\n    class ExcelReplacePictures {\r\n    \t\r\n     static void replacePictureData(XSSFPictureData source, byte[] data) {\r\n      try ( ByteArrayInputStream in = new ByteArrayInputStream(data); \r\n            OutputStream out = source.getPackagePart().getOutputStream();\r\n           ) {\r\n       byte[] buffer = new byte[2048];\r\n       int length;\r\n       while ((length = in.read(buffer)) &gt; 0) {\r\n        out.write(buffer, 0, length);\r\n       }\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      }\r\n     }\r\n    \r\n     static byte[] getByteArrayFromImage(BufferedImage image, Dimension dimension, byte[] data, String type) {\r\n      try {\r\n       Graphics g = image.getGraphics();  \r\n       g.setColor(Color.red);\r\n       g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 40));\r\n       String s = &quot;CHANGED&quot;;\r\n       FontMetrics fm = g.getFontMetrics();\r\n       int x = image.getWidth() / 2 - fm.stringWidth(s) / 2;\r\n       int y = image.getHeight() / 2 + fm.getHeight() / 2;\r\n       g.drawString(s, x, y);\r\n       g.dispose();\r\n       ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n       ImageIO.write(image, type, baos);\r\n       data = baos.toByteArray(); \r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      }  \r\n      return data;\r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (XSSFWorkbook workbook = (XSSFWorkbook)WorkbookFactory.create(new FileInputStream(&quot;./ExcelWithPictures.xlsx&quot;));\r\n           FileOutputStream out = new FileOutputStream(&quot;./ExcelWithPicturesNew.xlsx&quot;);\r\n          ) {\r\n    \r\n       for (int i = 0; i &lt; workbook.getNumberOfSheets(); i++) {\r\n    \tXSSFSheet sheet = workbook.getSheetAt(i);   \r\n        XSSFDrawing drawing = sheet.getDrawingPatriarch();\r\n        List&lt;XSSFShape&gt; shapes = drawing.getShapes();\r\n        for (XSSFShape shape : shapes) {\r\n         if (shape instanceof XSSFPicture) {\r\n          XSSFPicture picture = (XSSFPicture)shape; \r\n          XSSFPictureData pictureData =  picture.getPictureData();\r\n          byte[] data = pictureData.getData();\r\n    \t  ByteArrayInputStream byteInput = new ByteArrayInputStream(data);\r\n          BufferedImage image = ImageIO.read(byteInput);\r\n    \t  data = getByteArrayFromImage(image, picture.getImageDimension(), data, pictureData.suggestFileExtension());\r\n    \t  replacePictureData(pictureData, data);\r\n         }\r\n        } \r\n       } \r\n       workbook.write(out);\r\n      } catch (Exception ex) {\r\n        ex.printStackTrace();  \r\n      } \r\n     }\r\n    }\r\n\r\n","title":"how to replace an image with another image in excel using POI","body":"<p>Not clear what <code>getByteArrayFromImage</code> is doing. But as it seems it only changes something on the data bytes of the source <code>BufferedImage</code> got from the data bytes from source <code>XSSFPictureData</code> and returns the changed data bytes then.</p>\n<p>If this new data bytes shall be the replacement of the source data bytes from source <code>XSSFPictureData</code>, then following method can do this:</p>\n<pre><code> void replacePictureData(XSSFPictureData source, byte[] data) {\n  try ( ByteArrayInputStream in = new ByteArrayInputStream(data); \n        OutputStream out = source.getPackagePart().getOutputStream();\n       ) {\n   byte[] buffer = new byte[2048];\n   int length;\n   while ((length = in.read(buffer)) &gt; 0) {\n    out.write(buffer, 0, length);\n   }\n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  }\n }\n</code></pre>\n<p><code>XSSFPictureData</code> is a package part of the <code>*.xlsx</code> ZIP archive and so it provides a <code>getOutputStream</code> method.</p>\n<p>The following complete example shows it in whole. My <code>getByteArrayFromImage</code> writes the text &quot;CHANGED&quot; onto the pictures in the Excel file.</p>\n<pre><code>import org.apache.poi.ss.usermodel.WorkbookFactory;\nimport org.apache.poi.xssf.usermodel.*;\n\nimport java.io.*;\n\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport java.util.List;\n\nclass ExcelReplacePictures {\n    \n static void replacePictureData(XSSFPictureData source, byte[] data) {\n  try ( ByteArrayInputStream in = new ByteArrayInputStream(data); \n        OutputStream out = source.getPackagePart().getOutputStream();\n       ) {\n   byte[] buffer = new byte[2048];\n   int length;\n   while ((length = in.read(buffer)) &gt; 0) {\n    out.write(buffer, 0, length);\n   }\n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  }\n }\n\n static byte[] getByteArrayFromImage(BufferedImage image, Dimension dimension, byte[] data, String type) {\n  try {\n   Graphics g = image.getGraphics();  \n   g.setColor(Color.red);\n   g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 40));\n   String s = &quot;CHANGED&quot;;\n   FontMetrics fm = g.getFontMetrics();\n   int x = image.getWidth() / 2 - fm.stringWidth(s) / 2;\n   int y = image.getHeight() / 2 + fm.getHeight() / 2;\n   g.drawString(s, x, y);\n   g.dispose();\n   ByteArrayOutputStream baos = new ByteArrayOutputStream();\n   ImageIO.write(image, type, baos);\n   data = baos.toByteArray(); \n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  }  \n  return data;\n }\n \n public static void main(String[] args) throws Exception {\n\n  try (XSSFWorkbook workbook = (XSSFWorkbook)WorkbookFactory.create(new FileInputStream(&quot;./ExcelWithPictures.xlsx&quot;));\n       FileOutputStream out = new FileOutputStream(&quot;./ExcelWithPicturesNew.xlsx&quot;);\n      ) {\n\n   for (int i = 0; i &lt; workbook.getNumberOfSheets(); i++) {\n    XSSFSheet sheet = workbook.getSheetAt(i);   \n    XSSFDrawing drawing = sheet.getDrawingPatriarch();\n    List&lt;XSSFShape&gt; shapes = drawing.getShapes();\n    for (XSSFShape shape : shapes) {\n     if (shape instanceof XSSFPicture) {\n      XSSFPicture picture = (XSSFPicture)shape; \n      XSSFPictureData pictureData =  picture.getPictureData();\n      byte[] data = pictureData.getData();\n      ByteArrayInputStream byteInput = new ByteArrayInputStream(data);\n      BufferedImage image = ImageIO.read(byteInput);\n      data = getByteArrayFromImage(image, picture.getImageDimension(), data, pictureData.suggestFileExtension());\n      replacePictureData(pictureData, data);\n     }\n    } \n   } \n   workbook.write(out);\n  } catch (Exception ex) {\n    ex.printStackTrace();  \n  } \n }\n}\n</code></pre>\n"}],"owner":{"account_id":11864131,"reputation":381,"user_id":8682062,"display_name":"Aman Kumayu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71339028,"answer_count":1,"score":0,"last_activity_date":1646318658,"creation_date":1646296995,"question_id":71334254,"body_markdown":"**I need help replacing an image with another image in an excel sheet using Apache POI.**\r\n\r\n    int myPictureId=0;\r\n    List&lt;XSSFShape&gt; pictures = drawing.getShapes();\r\n    for(XSSFShape shape : pictures) {\r\n    \tXSSFPicture picture = (XSSFPicture)shape; //Get picture\r\n    \tbyte[] data = picture.getPictureData().getData(); //Get picture data\r\n    \tXSSFClientAnchor anchor = picture.getClientAnchor(); //Get anchor\r\n    \tByteArrayInputStream byteInput = new ByteArrayInputStream(data);\r\n    \tBufferedImage image = ImageIO.read(byteInput);\r\n    \tdata = getByteArrayFromImage(image, 400, data, picture.getPictureData().suggestFileExtension());\r\n    \tmyPictureId = workbook.addPicture(new ByteArrayInputStream(data), Workbook.PICTURE_TYPE_PNG);\r\n    \tpicture = drawing.createPicture(anchor, myPictureId);\r\n    }\r\n\r\nI am using the getByteArrayFromImage method to compress my image and replace the original image with the compressed one. I also tried using XSSFClientAnchor to attach the compressed image to the original image but excel is overlapping the original image with the compressed image.","title":"how to replace an image with another image in excel using POI","body":"<p><strong>I need help replacing an image with another image in an excel sheet using Apache POI.</strong></p>\n<pre><code>int myPictureId=0;\nList&lt;XSSFShape&gt; pictures = drawing.getShapes();\nfor(XSSFShape shape : pictures) {\n    XSSFPicture picture = (XSSFPicture)shape; //Get picture\n    byte[] data = picture.getPictureData().getData(); //Get picture data\n    XSSFClientAnchor anchor = picture.getClientAnchor(); //Get anchor\n    ByteArrayInputStream byteInput = new ByteArrayInputStream(data);\n    BufferedImage image = ImageIO.read(byteInput);\n    data = getByteArrayFromImage(image, 400, data, picture.getPictureData().suggestFileExtension());\n    myPictureId = workbook.addPicture(new ByteArrayInputStream(data), Workbook.PICTURE_TYPE_PNG);\n    picture = drawing.createPicture(anchor, myPictureId);\n}\n</code></pre>\n<p>I am using the getByteArrayFromImage method to compress my image and replace the original image with the compressed one. I also tried using XSSFClientAnchor to attach the compressed image to the original image but excel is overlapping the original image with the compressed image.</p>\n"},{"tags":["java","spring","maven","vaadin","vaadin22"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1641322928,"post_id":70583369,"comment_id":124774148,"body_markdown":"How does your pom.xml look like?","body":"How does your pom.xml look like?"},{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":1,"creation_date":1641323400,"post_id":70583369,"comment_id":124774294,"body_markdown":"It might be useful to compare your setup with how the deployment is done in this tutorial: https://vaadin.com/learn/tutorials/cloud-deployment/azure.","body":"It might be useful to compare your setup with how the deployment is done in this tutorial: <a href=\"https://vaadin.com/learn/tutorials/cloud-deployment/azure\" rel=\"nofollow noreferrer\">vaadin.com/learn/tutorials/cloud-deployment/azure</a>."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1641324613,"post_id":70583369,"comment_id":124774680,"body_markdown":"The repo seems to be private","body":"The repo seems to be private"},{"owner":{"account_id":17538470,"reputation":49,"user_id":12721058,"display_name":"aisak"},"score":0,"creation_date":1641326138,"post_id":70583369,"comment_id":124775208,"body_markdown":"@TarekOraby i have tried it, and haven&#39;t worked.","body":"@TarekOraby i have tried it, and haven&#39;t worked."},{"owner":{"account_id":17538470,"reputation":49,"user_id":12721058,"display_name":"aisak"},"score":0,"creation_date":1641326505,"post_id":70583369,"comment_id":124775316,"body_markdown":"i have uploaded it on my drive with the DB. @SimonMartinelli thanks very much.\n\nhttps://drive.google.com/file/d/1-o6K3DKMu9TdA0QFYqyP4rgWoAChnRNh/view?usp=sharing","body":"i have uploaded it on my drive with the DB. @SimonMartinelli thanks very much.  <a href=\"https://drive.google.com/file/d/1-o6K3DKMu9TdA0QFYqyP4rgWoAChnRNh/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1-o6K3DKMu9TdA0QFYqyP4rgWoAChnRNh/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641368545,"creation_date":1641368545,"answer_id":70589346,"question_id":70583369,"body_markdown":"**The problem is two unnecessary annotations in the `Application` class**\r\n\r\nYou don&#39;t need `@EnableJpaRepositories` because your package structure is hierarchical correct. Plus this annotation without defining packages does not make sense. Remove it.\r\n\r\n\r\n`@EnableAutoConfiguration` is already on `@SpringBootApplication`. Remove this.\r\n\r\n**Then there are some issues in the pom.xml.**\r\n\r\nYou shouldn&#39;t override the Spring Boot version like here:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen you can remove all these dependencies because they already come with the starter dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Failed to Build and deploy JAR app to Azure Web App","body":"<p><strong>The problem is two unnecessary annotations in the <code>Application</code> class</strong></p>\n<p>You don't need <code>@EnableJpaRepositories</code> because your package structure is hierarchical correct. Plus this annotation without defining packages does not make sense. Remove it.</p>\n<p><code>@EnableAutoConfiguration</code> is already on <code>@SpringBootApplication</code>. Remove this.</p>\n<p><strong>Then there are some issues in the pom.xml.</strong></p>\n<p>You shouldn't override the Spring Boot version like here:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you can remove all these dependencies because they already come with the starter dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13390401,"reputation":71,"user_id":9662914,"display_name":"C. Asselmeyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646318343,"creation_date":1646318343,"answer_id":71338956,"question_id":70583369,"body_markdown":"I had a similar problem. However, I could not simply get rid of the `@EnableJpaRepositories` annotation on my `Application` class as it was needed to configured some packages to scan. But implementing the `AppShellConfigurator` in a separate component (i.e. not in the `Application` class) did the trick for me.\r\n\r\nSo in my case, the `Application` class ended up looking something like this:\r\n\r\n```java \r\n@SpringBootApplication(scanBasePackages = { ... })\r\n@EnableJpaRepositories(basePackageClasses = { ... })\r\n...\r\npublic class Application extends SpringBootServletInitializer { ... }\r\n```\r\n\r\nAnd the separate `AppShellConfigurator` implementation looked like this: \r\n```java\r\nimport org.springframework.stereotype.Component;\r\nimport com.vaadin.flow.component.page.AppShellConfigurator;\r\nimport com.vaadin.flow.theme.Theme;\r\n\r\n@Component\r\n@Theme(MyTheme.THEME_NAME)\r\npublic class MyAppShellConfigurator implements AppShellConfigurator { }\r\n```\r\n","title":"Failed to Build and deploy JAR app to Azure Web App","body":"<p>I had a similar problem. However, I could not simply get rid of the <code>@EnableJpaRepositories</code> annotation on my <code>Application</code> class as it was needed to configured some packages to scan. But implementing the <code>AppShellConfigurator</code> in a separate component (i.e. not in the <code>Application</code> class) did the trick for me.</p>\n<p>So in my case, the <code>Application</code> class ended up looking something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(scanBasePackages = { ... })\n@EnableJpaRepositories(basePackageClasses = { ... })\n...\npublic class Application extends SpringBootServletInitializer { ... }\n</code></pre>\n<p>And the separate <code>AppShellConfigurator</code> implementation looked like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Component;\nimport com.vaadin.flow.component.page.AppShellConfigurator;\nimport com.vaadin.flow.theme.Theme;\n\n@Component\n@Theme(MyTheme.THEME_NAME)\npublic class MyAppShellConfigurator implements AppShellConfigurator { }\n</code></pre>\n"}],"owner":{"account_id":17538470,"reputation":49,"user_id":12721058,"display_name":"aisak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70589346,"answer_count":2,"score":0,"last_activity_date":1646318343,"creation_date":1641320403,"question_id":70583369,"body_markdown":"When im trying to build my application to upload my project to azure I have the next errors and debugging it with &quot;mvn -e -X -Pproduction -DskipTests clean package&quot;:\r\n```\r\n[ERROR] Failed to execute goal com.vaadin:vaadin-maven-plugin:22.0.0:build-frontend (default) on project cinema: Could not execute build-frontend goal: Error occured during goal execution: Type [unknown] not presentPlease run Maven with the -e switch (or Gradle with the --stacktrace switch), to learn the full stack trace. org/springframework/context/ApplicationEventPublisherAware: org.springframework.context.ApplicationEventPublisherAware -&gt; [Help 1]\r\n\r\n\r\nCaused by: org.apache.maven.plugin.MojoFailureException: Could not execute build-frontend goal\r\n\r\nCaused by: com.vaadin.flow.server.ExecutionFailedException: Error occured during goal execution: Type [unknown] not presentPlease run Maven with the -e switch (or Gradle with the --stacktrace switch), to learn the full stack trace.\r\n\r\nCaused by: java.lang.TypeNotPresentException: Type [unknown] not present\r\n\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/context/ApplicationEventPublisherAware\r\n```\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;!-- Vaadin project from https://start.vaadin.com/project/1e82b309-3fef-4d97-b376-4d9e20b1dd3e --&gt;\r\n    &lt;groupId&gt;com.cinema.application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cinema&lt;/artifactId&gt;\r\n    &lt;name&gt;Project base for Spring Boot and Vaadin Flow&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;8&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;22.0.0&lt;/vaadin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n\r\n        &lt;!-- Main Maven repository --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.vaadin.artur&lt;/groupId&gt;\r\n            &lt;artifactId&gt;a-vaadin-helper&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exampledata&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.orbisgis&lt;/groupId&gt;\r\n              &lt;artifactId&gt;h2gis&lt;/artifactId&gt;\r\n              &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Include JUnit 4 support for TestBench and others --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Configuracion del ORM de spring boot para persistencia --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.27&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;!-- Clean build and startup time for Vaadin apps sometimes may exceed\r\n                     the default Spring Boot&#39;s 30sec timeout.  --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;wait&gt;500&lt;/wait&gt;\r\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!--\r\n                Take care of synchronizing java dependencies and imports in\r\n                package.json and main.js files.\r\n                It also creates webpack.config.js if not exists yet.\r\n            --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;productionMode&gt;true&lt;/productionMode&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;it&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;start&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;stop&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nthis is how my pom.xml looks like, I think im not missing any dependency or anything, have spent all day trying to figure out what&#39;s going on here, thanks.\r\n\r\n\r\nany idea how could I handle those problems? \r\n\r\n\r\nEdit: this is the repo if u wanna try by yourself.\r\n\r\nhttps://drive.google.com/file/d/1-o6K3DKMu9TdA0QFYqyP4rgWoAChnRNh/view\r\n\r\n\r\n","title":"Failed to Build and deploy JAR app to Azure Web App","body":"<p>When im trying to build my application to upload my project to azure I have the next errors and debugging it with &quot;mvn -e -X -Pproduction -DskipTests clean package&quot;:</p>\n<pre><code>[ERROR] Failed to execute goal com.vaadin:vaadin-maven-plugin:22.0.0:build-frontend (default) on project cinema: Could not execute build-frontend goal: Error occured during goal execution: Type [unknown] not presentPlease run Maven with the -e switch (or Gradle with the --stacktrace switch), to learn the full stack trace. org/springframework/context/ApplicationEventPublisherAware: org.springframework.context.ApplicationEventPublisherAware -&gt; [Help 1]\n\n\nCaused by: org.apache.maven.plugin.MojoFailureException: Could not execute build-frontend goal\n\nCaused by: com.vaadin.flow.server.ExecutionFailedException: Error occured during goal execution: Type [unknown] not presentPlease run Maven with the -e switch (or Gradle with the --stacktrace switch), to learn the full stack trace.\n\nCaused by: java.lang.TypeNotPresentException: Type [unknown] not present\n\nCaused by: java.lang.NoClassDefFoundError: org/springframework/context/ApplicationEventPublisherAware\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;!-- Vaadin project from https://start.vaadin.com/project/1e82b309-3fef-4d97-b376-4d9e20b1dd3e --&gt;\n    &lt;groupId&gt;com.cinema.application&lt;/groupId&gt;\n    &lt;artifactId&gt;cinema&lt;/artifactId&gt;\n    &lt;name&gt;Project base for Spring Boot and Vaadin Flow&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n        &lt;vaadin.version&gt;22.0.0&lt;/vaadin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n\n        &lt;!-- Main Maven repository --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;url&gt;\n                https://maven.vaadin.com/vaadin-prereleases/\n            &lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;url&gt;\n                https://maven.vaadin.com/vaadin-prereleases/\n            &lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.vaadin.artur&lt;/groupId&gt;\n            &lt;artifactId&gt;a-vaadin-helper&lt;/artifactId&gt;\n            &lt;version&gt;1.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;exampledata&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.orbisgis&lt;/groupId&gt;\n              &lt;artifactId&gt;h2gis&lt;/artifactId&gt;\n              &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Include JUnit 4 support for TestBench and others --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;4.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Configuracion del ORM de spring boot para persistencia --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n         &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n         &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.27&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Clean build and startup time for Vaadin apps sometimes may exceed\n                     the default Spring Boot's 30sec timeout.  --&gt;\n                &lt;configuration&gt;\n                    &lt;wait&gt;500&lt;/wait&gt;\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!--\n                Take care of synchronizing java dependencies and imports in\n                package.json and main.js files.\n                It also creates webpack.config.js if not exists yet.\n            --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;productionMode&gt;true&lt;/productionMode&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;start&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;stop&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n    &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>this is how my pom.xml looks like, I think im not missing any dependency or anything, have spent all day trying to figure out what's going on here, thanks.</p>\n<p>any idea how could I handle those problems?</p>\n<p>Edit: this is the repo if u wanna try by yourself.</p>\n<p><a href=\"https://drive.google.com/file/d/1-o6K3DKMu9TdA0QFYqyP4rgWoAChnRNh/view\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1-o6K3DKMu9TdA0QFYqyP4rgWoAChnRNh/view</a></p>\n"},{"tags":["java","mysql","advanced-installer","java-deployment-toolkit"],"answers":[{"tags":[],"owner":{"account_id":18247691,"reputation":1,"user_id":13283418,"display_name":"HabibUllah786"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587200339,"creation_date":1587200339,"answer_id":61286585,"question_id":61286530,"body_markdown":"Download Launcher4J Software and build Exe out of jar file!\r\nThis is the Best and all fixes will done!","title":"Converted jar to exe file but not working after installation","body":"<p>Download Launcher4J Software and build Exe out of jar file!\nThis is the Best and all fixes will done!</p>\n"},{"tags":[],"owner":{"account_id":1876846,"reputation":1214,"user_id":1697893,"display_name":"herman.smn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587444280,"creation_date":1587444280,"answer_id":61336122,"question_id":61286530,"body_markdown":"I think this is more like an application issue rather than an installer generated one. Have you tried to debug your application code after it is deployed using a setup package? \r\n\r\nAlso, in Advanced Installer, under Java Products view of your project there is a Virtual Machine section where you can choose to save the output and error stream in a log file. The log file will be created at app runtime just beside the EXE launcher. Maybe this will help you to catch some errors logged.","title":"Converted jar to exe file but not working after installation","body":"<p>I think this is more like an application issue rather than an installer generated one. Have you tried to debug your application code after it is deployed using a setup package? </p>\n\n<p>Also, in Advanced Installer, under Java Products view of your project there is a Virtual Machine section where you can choose to save the output and error stream in a log file. The log file will be created at app runtime just beside the EXE launcher. Maybe this will help you to catch some errors logged.</p>\n"}],"owner":{"account_id":18106584,"reputation":1,"user_id":13163886,"display_name":"user13163886"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646317909,"creation_date":1587200081,"question_id":61286530,"body_markdown":"I converted my first java swing app to exe using advanced installer and inno setup(Tried both no result).  \r\nConsidering Inno Setup : on double clicking nothing happens\r\n\r\nConsidering : Advanced Installer -&gt; On executing my app open but after providing credentials nothing happens so i assume it may be database issue.\r\n\r\nAbout my app: It is a small swing based saving and retrieving data of employees payment.           \r\nDatabase used : MySQL \r\n\r\nI had imported database schema to client PC and made .exe file of app so that after installing it can access data.                                                                                               \r\nThe Jar files runs successfully and able to access the data as well.\r\n\r\nSo i think while creating .exe is their anything to be done about database .\r\n\r\nPlease suggest me where i am mistaken .\r\n","title":"Converted jar to exe file but not working after installation","body":"<p>I converted my first java swing app to exe using advanced installer and inno setup(Tried both no result).<br>\nConsidering Inno Setup : on double clicking nothing happens</p>\n\n<p>Considering : Advanced Installer -> On executing my app open but after providing credentials nothing happens so i assume it may be database issue.</p>\n\n<p>About my app: It is a small swing based saving and retrieving data of employees payment.<br>\nDatabase used : MySQL </p>\n\n<p>I had imported database schema to client PC and made .exe file of app so that after installing it can access data.<br>\nThe Jar files runs successfully and able to access the data as well.</p>\n\n<p>So i think while creating .exe is their anything to be done about database .</p>\n\n<p>Please suggest me where i am mistaken .</p>\n"},{"tags":["java","spring-boot","spring-el"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646317732,"creation_date":1646317732,"answer_id":71338816,"question_id":71335027,"body_markdown":"Try this:\r\n\r\n    @Cacheable(condition = &quot;@environment.getProperty(&#39;com.mycompany.condition&#39;)&quot;)","title":"Reading configuration properties in SpEL","body":"<p>Try this:</p>\n<pre><code>@Cacheable(condition = &quot;@environment.getProperty('com.mycompany.condition')&quot;)\n</code></pre>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71338816,"answer_count":1,"score":1,"last_activity_date":1646317732,"creation_date":1646300664,"question_id":71335027,"body_markdown":"I have a `com.mycompany.condition` property in my application.yml or dev-tools. At the moment I&#39;m injecting it on some services with \r\n\r\n    @Value(&quot;${com.mycompany.condition: false}&quot;) \r\n    boolean condition;\r\n\r\nand then using as a condition for `@Cacheable(condition = &quot;#root.target.isCondition()&quot;)`. Is it possible to not inject the value, but using directly a SpEL to read the property? Using `@Cacheable(condition = &quot;${com.mycompany.condition}&quot;)` gives the error\r\n\r\n    2022-03-03 15:17:11.681  WARN [...] 3044 --- [...] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39;]\r\n\r\nwhile using `@Cacheable(condition = &quot;#{${com.mycompany.condition}}&quot;)` gives\r\n\r\n    2022-03-03 15:24:13.194  WARN [...] 19196 --- [...] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.expression.spel.SpelParseException: Expression [#{${com.mycompany.condition}}] @1: EL1043E: Unexpected token. Expected &#39;identifier&#39; but was &#39;lcurly({)&#39;]\r\n\r\n","title":"Reading configuration properties in SpEL","body":"<p>I have a <code>com.mycompany.condition</code> property in my application.yml or dev-tools. At the moment I'm injecting it on some services with</p>\n<pre><code>@Value(&quot;${com.mycompany.condition: false}&quot;) \nboolean condition;\n</code></pre>\n<p>and then using as a condition for <code>@Cacheable(condition = &quot;#root.target.isCondition()&quot;)</code>. Is it possible to not inject the value, but using directly a SpEL to read the property? Using <code>@Cacheable(condition = &quot;${com.mycompany.condition}&quot;)</code> gives the error</p>\n<pre><code>2022-03-03 15:17:11.681  WARN [...] 3044 --- [...] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'lcurly({)']\n</code></pre>\n<p>while using <code>@Cacheable(condition = &quot;#{${com.mycompany.condition}}&quot;)</code> gives</p>\n<pre><code>2022-03-03 15:24:13.194  WARN [...] 19196 --- [...] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.expression.spel.SpelParseException: Expression [#{${com.mycompany.condition}}] @1: EL1043E: Unexpected token. Expected 'identifier' but was 'lcurly({)']\n</code></pre>\n"},{"tags":["java","methods","java.util.scanner","getter-setter"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646317694,"creation_date":1646317694,"answer_id":71338810,"question_id":71336932,"body_markdown":"Piling all your code into `main` is a bad idea. Java is object oriented, and `main`, being `static`, isn&#39;t.\r\n\r\nThe solution for sharing data between methods is usually to make a field.\r\n\r\n```java\r\nclass Main {\r\n  public static void main(String[] args) throws Exception {\r\n    new Main().go();\r\n  }\r\n\r\n  private Scanner scanner;\r\n\r\n  void go() throws Exception {\r\n    scanner = new Scanner(System.in);\r\n    scanner.useDelimiter(&quot;\\\\R&quot;);\r\n\r\n    int quantity = askInt(&quot;Enter the quantity: &quot;);\r\n  }\r\n\r\n  private int askInt(String prompt) {\r\n    while (true) {\r\n      System.out.print(prompt);\r\n      if (scanner.hasNextInt()) return scanner.nextInt();\r\n      scanner.next(); // eat the non-int token\r\n      System.out.println(&quot;ERROR: Please enter an integer number.&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThat&#39;s what virtually all command line java apps should look like: a one-liner `main` method, no use of `static` anywhere except `main`, a `scanner` field, set with the proper delimiter (`\\\\R`, which means `.nextX()` always reads one line worth of input; use `.next()` to read an entire line. Don&#39;t call `.nextLine()`, ever. `nextLine()` and all the other next methods interact in nasty ways that make scanner useless or at least unwieldy and bugprone for command line &#39;prompting&#39;, which why you do it this way.\r\n","title":"How to put scanner inside a method and its output on a different method","body":"<p>Piling all your code into <code>main</code> is a bad idea. Java is object oriented, and <code>main</code>, being <code>static</code>, isn't.</p>\n<p>The solution for sharing data between methods is usually to make a field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n  public static void main(String[] args) throws Exception {\n    new Main().go();\n  }\n\n  private Scanner scanner;\n\n  void go() throws Exception {\n    scanner = new Scanner(System.in);\n    scanner.useDelimiter(&quot;\\\\R&quot;);\n\n    int quantity = askInt(&quot;Enter the quantity: &quot;);\n  }\n\n  private int askInt(String prompt) {\n    while (true) {\n      System.out.print(prompt);\n      if (scanner.hasNextInt()) return scanner.nextInt();\n      scanner.next(); // eat the non-int token\n      System.out.println(&quot;ERROR: Please enter an integer number.&quot;);\n    }\n  }\n}\n</code></pre>\n<p>That's what virtually all command line java apps should look like: a one-liner <code>main</code> method, no use of <code>static</code> anywhere except <code>main</code>, a <code>scanner</code> field, set with the proper delimiter (<code>\\\\R</code>, which means <code>.nextX()</code> always reads one line worth of input; use <code>.next()</code> to read an entire line. Don't call <code>.nextLine()</code>, ever. <code>nextLine()</code> and all the other next methods interact in nasty ways that make scanner useless or at least unwieldy and bugprone for command line 'prompting', which why you do it this way.</p>\n"}],"owner":{"account_id":23834920,"reputation":31,"user_id":17840763,"display_name":"bruuh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71338810,"answer_count":1,"score":0,"last_activity_date":1646317694,"creation_date":1646309120,"question_id":71336932,"body_markdown":"I want to ask the user through a scanner class but I want this scanner to be in a method named readInput() and the output on a different method named writeOutput() using gett-setter\r\n\r\nthis is my code below:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tLaboratoryExercise2 gro = new LaboratoryExercise2();\r\n    \t\tString[] SecondQuestion;\r\n    \t\tSystem.out.println(&quot;Select the item your purchasing.&quot;);\r\n    \t\t\tString Product1  = sc.nextLine();\r\n    \t\tSystem.out.println(&quot;Enter the Quantity and price separated by SPACE.&quot;);\r\n    \t\t\tSecondQuestion = sc.nextLine().split(&quot; &quot;);\r\n    \t\t\t \tint Quantity1 = Integer.parseInt(SecondQuestion[0]);\r\n    \t\t\t\tdouble Price1 = Double.parseDouble(SecondQuestion[1]);\r\n    \t\t\t  \tdouble Amount1 = 0;\r\n    \t\t\t\tAmount1 = Quantity1 * Price1;\r\n    \t\t\t\tint Quantity = 0 + Quantity1;\r\n    \t\t\t\tdouble Amount = 0 + Amount1;\r\n    \t\t\t\tdouble Price = 0 + Price1;\r\n\r\nI want the output of this to show on a different method\r\n\r\n    \t\tgro.setGrocery(Price, Quantity, Amount);\r\n\t\tSystem.out.println(&quot;You&#39;ve selected &quot; + gro.getitemQuantity() + &quot; &quot; + Product1 + &quot; &quot; + &quot;at &quot; + &quot; &quot; + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgro.getitemPrice() + &quot; each&quot;);\r\n\t\r\n\t\tSystem.out.println(&quot;Amount due is &quot; + gro.getamountDue());\r\n    \r\n\r\n\r\nThis is my whole code:\r\n\r\n    import java.util.Scanner; \r\n\r\n\r\npublic class LaboratoryExercise2 {\r\n\r\n\t\r\n\r\n\tprivate double itemPrice;\r\n\tprivate int itemQuantity;\r\n\tprivate double amountDue;\r\n\t\r\n\r\n\tpublic void setGrocery(double newitemPrice, int newitemQuantity, double newamountDue) {\r\n\r\n\t\titemPrice = newitemPrice;\r\n\t\titemQuantity = newitemQuantity;\r\n\t\tamountDue = newamountDue;\r\n\t}\r\n\t\r\n\tpublic double getitemPrice() {\r\n\t\treturn itemPrice;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic int getitemQuantity() {\r\n\t\treturn itemQuantity;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic double getamountDue() {\r\n\t\treturn amountDue;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\t\t\r\n\t\tLaboratoryExercise2 gro = new LaboratoryExercise2();\r\n\t\tString[] SecondQuestion;\r\n\r\n\t\tSystem.out.println(&quot;Select the item your purchasing.&quot;);\r\n\t\t\tString Product1  = sc.nextLine();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;Enter the Quantity and price separated by SPACE.&quot;);\r\n\t\t\tSecondQuestion = sc.nextLine().split(&quot; &quot;);\r\n\t\t\t\r\n\t\t\t \tint Quantity1 = Integer.parseInt(SecondQuestion[0]);\r\n\t\t\t\tdouble Price1 = Double.parseDouble(SecondQuestion[1]);\r\n\t\t\t  \tdouble Amount1 = 0;\r\n\t\t\t\tAmount1 = Quantity1 * Price1;\r\n\t\t\t\tint Quantity = 0 + Quantity1;\r\n\t\t\t\tdouble Amount = 0 + Amount1;\r\n\t\t\t\tdouble Price = 0 + Price1;\r\n\r\n\t\tgro.setGrocery(Price, Quantity, Amount);\r\n\t\tSystem.out.println(&quot;You&#39;ve selected &quot; + gro.getitemQuantity() + &quot; &quot; + Product1 + &quot; &quot; + &quot;at &quot; + &quot; &quot; + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgro.getitemPrice() + &quot; each&quot;);\r\n\t\r\n\t\tSystem.out.println(&quot;Amount due is &quot; + gro.getamountDue());\r\n\t\t\r\n\t}\t\r\n\r\n}","title":"How to put scanner inside a method and its output on a different method","body":"<p>I want to ask the user through a scanner class but I want this scanner to be in a method named readInput() and the output on a different method named writeOutput() using gett-setter</p>\n<p>this is my code below:</p>\n<pre><code>public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        LaboratoryExercise2 gro = new LaboratoryExercise2();\n        String[] SecondQuestion;\n        System.out.println(&quot;Select the item your purchasing.&quot;);\n            String Product1  = sc.nextLine();\n        System.out.println(&quot;Enter the Quantity and price separated by SPACE.&quot;);\n            SecondQuestion = sc.nextLine().split(&quot; &quot;);\n                int Quantity1 = Integer.parseInt(SecondQuestion[0]);\n                double Price1 = Double.parseDouble(SecondQuestion[1]);\n                double Amount1 = 0;\n                Amount1 = Quantity1 * Price1;\n                int Quantity = 0 + Quantity1;\n                double Amount = 0 + Amount1;\n                double Price = 0 + Price1;\n</code></pre>\n<p>I want the output of this to show on a different method</p>\n<pre><code>        gro.setGrocery(Price, Quantity, Amount);\n    System.out.println(&quot;You've selected &quot; + gro.getitemQuantity() + &quot; &quot; + Product1 + &quot; &quot; + &quot;at &quot; + &quot; &quot; + \n                                                                            gro.getitemPrice() + &quot; each&quot;);\n\n    System.out.println(&quot;Amount due is &quot; + gro.getamountDue());\n</code></pre>\n<p>This is my whole code:</p>\n<pre><code>import java.util.Scanner; \n</code></pre>\n<p>public class LaboratoryExercise2 {</p>\n<pre><code>private double itemPrice;\nprivate int itemQuantity;\nprivate double amountDue;\n\n\npublic void setGrocery(double newitemPrice, int newitemQuantity, double newamountDue) {\n\n    itemPrice = newitemPrice;\n    itemQuantity = newitemQuantity;\n    amountDue = newamountDue;\n}\n\npublic double getitemPrice() {\n    return itemPrice;\n    \n}\n\npublic int getitemQuantity() {\n    return itemQuantity;\n    \n}\n\npublic double getamountDue() {\n    return amountDue;\n    \n}\n\n\n\npublic static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    \n    \n    LaboratoryExercise2 gro = new LaboratoryExercise2();\n    String[] SecondQuestion;\n\n    System.out.println(&quot;Select the item your purchasing.&quot;);\n        String Product1  = sc.nextLine();\n        \n        \n        \n    System.out.println(&quot;Enter the Quantity and price separated by SPACE.&quot;);\n        SecondQuestion = sc.nextLine().split(&quot; &quot;);\n        \n            int Quantity1 = Integer.parseInt(SecondQuestion[0]);\n            double Price1 = Double.parseDouble(SecondQuestion[1]);\n            double Amount1 = 0;\n            Amount1 = Quantity1 * Price1;\n            int Quantity = 0 + Quantity1;\n            double Amount = 0 + Amount1;\n            double Price = 0 + Price1;\n\n    gro.setGrocery(Price, Quantity, Amount);\n    System.out.println(&quot;You've selected &quot; + gro.getitemQuantity() + &quot; &quot; + Product1 + &quot; &quot; + &quot;at &quot; + &quot; &quot; + \n                                                                            gro.getitemPrice() + &quot; each&quot;);\n\n    System.out.println(&quot;Amount due is &quot; + gro.getamountDue());\n    \n}   \n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1646317028,"post_id":71338174,"comment_id":126096945,"body_markdown":"Maybe consider using a `CardLayout`. This will allow you to create panels specific to each choice. Read the Swing tutorial on [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html). Or, otherwise if you dynamically add components to a visible GUI then your need to invoke `revalidate()` and `repaint()` on the panel after adding the components. This will invoke the layout manager to give the components the proper size/location.","body":"Maybe consider using a <code>CardLayout</code>. This will allow you to create panels specific to each choice. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a>. Or, otherwise if you dynamically add components to a visible GUI then your need to invoke <code>revalidate()</code> and <code>repaint()</code> on the panel after adding the components. This will invoke the layout manager to give the components the proper size/location."}],"answers":[{"tags":[],"owner":{"display_name":"user15314575"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646317594,"creation_date":1646316791,"answer_id":71338606,"question_id":71338174,"body_markdown":"Add the following lines to the end of the RTSS constructor:\r\n\r\n\r\n    public RTSS() {\r\n        //your code\r\n    \r\n        //this lines \r\n        pack();        \r\n        setLocationRelativeTo(null);\r\n        cb.addActionListener(this);\r\n    }\r\n\r\nThese 3 lines will 1.set the layout, 2. center the frame and 3. activate the ActionListener.\r\nIf you now make a selection in the ComboBox, your code will be executed in the ActionListener.\r\n\r\nAfter a selection in the ComboBox that changes the layout, call pack() again.\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        String Choice = cb.getSelectedItem().toString();\r\n        if (&quot;Choice 1&quot;.equals(Choice)) {\r\n             // your code\r\n    \r\n            pack();\r\n        }\r\n    }\r\n\r\n","title":"How to update Jpanel using JComboBox","body":"<p>Add the following lines to the end of the RTSS constructor:</p>\n<pre><code>public RTSS() {\n    //your code\n\n    //this lines \n    pack();        \n    setLocationRelativeTo(null);\n    cb.addActionListener(this);\n}\n</code></pre>\n<p>These 3 lines will 1.set the layout, 2. center the frame and 3. activate the ActionListener.\nIf you now make a selection in the ComboBox, your code will be executed in the ActionListener.</p>\n<p>After a selection in the ComboBox that changes the layout, call pack() again.</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    String Choice = cb.getSelectedItem().toString();\n    if (&quot;Choice 1&quot;.equals(Choice)) {\n         // your code\n\n        pack();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24440227,"reputation":3,"user_id":18364019,"display_name":"Hakeem Fareed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71338606,"answer_count":1,"score":0,"last_activity_date":1646317594,"creation_date":1646314808,"question_id":71338174,"body_markdown":"i&#39;m new in java language, and i&#39;m trying to create a GUI which it has JComboBox to allow the user to select one of the choices and based on the selected option the panel is updated by adding more text fields.\r\ncurrently i&#39;m facing an issue which is the panel doesn&#39;t updated if I choosed (choice 1) it should appear 5 text fields with their labels.\r\n\r\nMy question is: how can I update the panel to add more text fields based on the selected option from JComboBox by the user?  \r\n\r\nAlso, I&#39;m facing another issue which i couldn&#39;t find a way to setting the size of JFrame \r\n\r\nHere is my code:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import javax.swing.border.EmptyBorder;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    public class RTSS extends JFrame implements ActionListener {\r\n\r\n    private JComboBox cb;\r\n    JPanel main;\r\n    JPanel panel3;\r\n    JPanel panel2;\r\n    JPanel panel1;\r\n    GridBagConstraints gbc;\r\n    String[] choices;\r\n    JLabel Label1;\r\n    JLabel Label2;\r\n    JLabel Label3;\r\n    JLabel Label4;\r\n    JLabel Label5;\r\n    JTextField tf1;\r\n    JTextField tf2;\r\n    JTextField tf3;\r\n    JTextField tf4;\r\n    JTextField tf5;\r\n\r\n\r\n\r\n    public RTSS() {\r\n        Border blackline = BorderFactory.createLineBorder(Color.black);\r\n        EmptyBorder b1 = new EmptyBorder(5, 0, 0, 0);\r\n        main = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n\r\n        panel3 = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n        panel3.setAlignmentX(1);\r\n        panel3.setPreferredSize(new Dimension(800, 35));\r\n        panel3.setBorder(b1);\r\n        main.add(panel3);\r\n\r\n        panel2 = new JPanel();\r\n        panel1 = new JPanel();\r\n        panel1.setPreferredSize(new Dimension(700, 500));\r\n        panel1.setBorder(blackline);\r\n        panel1.setLayout(new GridBagLayout());\r\n        gbc = new GridBagConstraints();\r\n        choices = new String[]{ &quot;&quot;,&quot;Choice 1&quot;, &quot;Choice 2&quot;, &quot;Choice 3 &quot;};\r\n        cb = new JComboBox(choices);\r\n\r\n        //Main inputs (labels)\r\n        Label1 = new JLabel(&quot;Label 1 &quot;);\r\n        Label2 = new JLabel(&quot;Label 2 &quot;);\r\n        Label3 = new JLabel(&quot;Label 3&quot;);\r\n        Label4 = new JLabel(&quot;Label 4 &quot;);\r\n        Label5 = new JLabel(&quot;Label 5 &quot;);\r\n\r\n        //TextFields\r\n        tf1 = new JTextField(10);\r\n        tf2 = new JTextField(10);\r\n        tf3 = new JTextField(10);\r\n        tf4 = new JTextField(10);\r\n        tf5 = new JTextField(10);\r\n        gbc.anchor = GridBagConstraints.NORTHWEST;\r\n        gbc.weightx = 0;\r\n        gbc.weighty = 0;\r\n        gbc.insets = new Insets(10, 3, 5, 0);\r\n        panel3.add(cb);\r\n        panel2.add(panel1);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        panel1.add(Label1, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        panel1.add(Label2, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        panel1.add(Label3, gbc);\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 0;\r\n        panel1.add(tf1, gbc);\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        panel1.add(tf2, gbc);\r\n        gbc.weightx = 0.5;\r\n        gbc.weighty = 0.5;\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 2;\r\n        panel1.add(tf3, gbc);\r\n        main.add(panel2);\r\n        add(main);\r\n\r\n\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        String Choice = cb.getSelectedItem().toString();\r\n        if (&quot;Choice 1&quot;.equals(Choice)) {\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 3;\r\n            panel1.add(Label4, gbc);\r\n            gbc.gridx = 1;\r\n            gbc.gridy = 3;\r\n            panel1.add(tf4, gbc);\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 4;\r\n            panel1.add(Label5, gbc);\r\n            gbc.weightx = 6;\r\n            gbc.weighty = 1;\r\n            gbc.gridx = 1;\r\n            gbc.gridy = 4;\r\n            panel1.add(tf5, gbc);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                new RTSS().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    }","title":"How to update Jpanel using JComboBox","body":"<p>i'm new in java language, and i'm trying to create a GUI which it has JComboBox to allow the user to select one of the choices and based on the selected option the panel is updated by adding more text fields.\ncurrently i'm facing an issue which is the panel doesn't updated if I choosed (choice 1) it should appear 5 text fields with their labels.</p>\n<p>My question is: how can I update the panel to add more text fields based on the selected option from JComboBox by the user?</p>\n<p>Also, I'm facing another issue which i couldn't find a way to setting the size of JFrame</p>\n<p>Here is my code:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.Border;\nimport javax.swing.border.EmptyBorder;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class RTSS extends JFrame implements ActionListener {\n\nprivate JComboBox cb;\nJPanel main;\nJPanel panel3;\nJPanel panel2;\nJPanel panel1;\nGridBagConstraints gbc;\nString[] choices;\nJLabel Label1;\nJLabel Label2;\nJLabel Label3;\nJLabel Label4;\nJLabel Label5;\nJTextField tf1;\nJTextField tf2;\nJTextField tf3;\nJTextField tf4;\nJTextField tf5;\n\n\n\npublic RTSS() {\n    Border blackline = BorderFactory.createLineBorder(Color.black);\n    EmptyBorder b1 = new EmptyBorder(5, 0, 0, 0);\n    main = new JPanel(new FlowLayout(FlowLayout.LEFT));\n\n    panel3 = new JPanel(new FlowLayout(FlowLayout.LEFT));\n    panel3.setAlignmentX(1);\n    panel3.setPreferredSize(new Dimension(800, 35));\n    panel3.setBorder(b1);\n    main.add(panel3);\n\n    panel2 = new JPanel();\n    panel1 = new JPanel();\n    panel1.setPreferredSize(new Dimension(700, 500));\n    panel1.setBorder(blackline);\n    panel1.setLayout(new GridBagLayout());\n    gbc = new GridBagConstraints();\n    choices = new String[]{ &quot;&quot;,&quot;Choice 1&quot;, &quot;Choice 2&quot;, &quot;Choice 3 &quot;};\n    cb = new JComboBox(choices);\n\n    //Main inputs (labels)\n    Label1 = new JLabel(&quot;Label 1 &quot;);\n    Label2 = new JLabel(&quot;Label 2 &quot;);\n    Label3 = new JLabel(&quot;Label 3&quot;);\n    Label4 = new JLabel(&quot;Label 4 &quot;);\n    Label5 = new JLabel(&quot;Label 5 &quot;);\n\n    //TextFields\n    tf1 = new JTextField(10);\n    tf2 = new JTextField(10);\n    tf3 = new JTextField(10);\n    tf4 = new JTextField(10);\n    tf5 = new JTextField(10);\n    gbc.anchor = GridBagConstraints.NORTHWEST;\n    gbc.weightx = 0;\n    gbc.weighty = 0;\n    gbc.insets = new Insets(10, 3, 5, 0);\n    panel3.add(cb);\n    panel2.add(panel1);\n    gbc.gridx = 0;\n    gbc.gridy = 0;\n    panel1.add(Label1, gbc);\n    gbc.gridx = 0;\n    gbc.gridy = 1;\n    panel1.add(Label2, gbc);\n    gbc.gridx = 0;\n    gbc.gridy = 2;\n    panel1.add(Label3, gbc);\n    gbc.gridx = 1;\n    gbc.gridy = 0;\n    panel1.add(tf1, gbc);\n    gbc.gridx = 1;\n    gbc.gridy = 1;\n    panel1.add(tf2, gbc);\n    gbc.weightx = 0.5;\n    gbc.weighty = 0.5;\n    gbc.gridx = 1;\n    gbc.gridy = 2;\n    panel1.add(tf3, gbc);\n    main.add(panel2);\n    add(main);\n\n\n}\n@Override\npublic void actionPerformed(ActionEvent e) {\n    String Choice = cb.getSelectedItem().toString();\n    if (&quot;Choice 1&quot;.equals(Choice)) {\n        gbc.gridx = 0;\n        gbc.gridy = 3;\n        panel1.add(Label4, gbc);\n        gbc.gridx = 1;\n        gbc.gridy = 3;\n        panel1.add(tf4, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 4;\n        panel1.add(Label5, gbc);\n        gbc.weightx = 6;\n        gbc.weighty = 1;\n        gbc.gridx = 1;\n        gbc.gridy = 4;\n        panel1.add(tf5, gbc);\n    }\n}\n\npublic static void main(String[] args) {\n\n    try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n    SwingUtilities.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            new RTSS().setVisible(true);\n        }\n    });\n}\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","jcombobox"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1646311501,"post_id":71336988,"comment_id":126094759,"body_markdown":"Maybe you are removing all of the components (by removing root container)?","body":"Maybe you are removing all of the components (by removing root container)?"},{"owner":{"account_id":24175684,"reputation":15,"user_id":18137091,"display_name":"bob bob"},"score":0,"creation_date":1646311875,"post_id":71336988,"comment_id":126094888,"body_markdown":"@Antoniossss That&#39;s it! Although I don&#39;t understand why it freezes. The JComboBox is added to the Frame and not to a container. So deleting the last component in the Frame shouldn&#39;t it delete the ComboBox?","body":"@Antoniossss That&#39;s it! Although I don&#39;t understand why it freezes. The JComboBox is added to the Frame and not to a container. So deleting the last component in the Frame shouldn&#39;t it delete the ComboBox?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1646312010,"post_id":71336988,"comment_id":126094942,"body_markdown":"Try to create reproduceable example.","body":"Try to create reproduceable example."},{"owner":{"account_id":24175684,"reputation":15,"user_id":18137091,"display_name":"bob bob"},"score":0,"creation_date":1646312802,"post_id":71336988,"comment_id":126095237,"body_markdown":"@Antoniossss I changed the code example to be more reproduceable. Why does it freeze completely even though the last component I delete in the JFrame should be The JComboBox. There isn&#39;t any root container to remove","body":"@Antoniossss I changed the code example to be more reproduceable. Why does it freeze completely even though the last component I delete in the JFrame should be The JComboBox. There isn&#39;t any root container to remove"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1646313342,"post_id":71336988,"comment_id":126095447,"body_markdown":"_I am trying to remove a component from a Frame once a JComboBox is selected._ Why ? Tell us what you are trying to do.","body":"<i>I am trying to remove a component from a Frame once a JComboBox is selected.</i> Why ? Tell us what you are trying to do."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646317235,"post_id":71336988,"comment_id":126097015,"body_markdown":"*&quot;more reproduceable&quot;* Something is either &#39;reproducible&#39; or &#39;not reproducible&#39;. The uncompilable code snippet above is &#39;not&#39;. Next time please post a [mre]. And note to @Antoniossss: `[mre]` in a comment automatically expands to the words and link seen above. It&#39;s less typing for more information. ;)","body":"<i>&quot;more reproduceable&quot;</i> Something is either &#39;reproducible&#39; or &#39;not reproducible&#39;. The uncompilable code snippet above is &#39;not&#39;. Next time please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. And note to @Antoniossss: <code>[mre]</code> in a comment automatically expands to the words and link seen above. It&#39;s less typing for more information. ;)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1646317400,"post_id":71336988,"comment_id":126097075,"body_markdown":"The common way to approach changes to an already visible GUI is to add the different components or containers as cards of a `CardLayout`. But you&#39;d need to follow the advice of @c0der before I could understand the GUI well enough to have any certainty a card layout would work for this.","body":"The common way to approach changes to an already visible GUI is to add the different components or containers as cards of a <code>CardLayout</code>. But you&#39;d need to follow the advice of @c0der before I could understand the GUI well enough to have any certainty a card layout would work for this."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1646318250,"post_id":71336988,"comment_id":126097419,"body_markdown":"@AndrewThompson thanks for `[mre]` i didnt know it is available and always been thinking how the hell all of SO users always include this nice mre link :) Now I know","body":"@AndrewThompson thanks for <code>[mre]</code> i didnt know it is available and always been thinking how the hell all of SO users always include this nice mre link :) Now I know"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1646321287,"post_id":71336988,"comment_id":126098748,"body_markdown":"@Antoniossss your delight prompted me to hunt down this page which includes [Editing help: comment formatting (&amp; more **shorthand links**)](https://stackoverflow.com/editing-help#comment-formatting). There are some in there I could well use!","body":"@Antoniossss your delight prompted me to hunt down this page which includes <a href=\"https://stackoverflow.com/editing-help#comment-formatting\">Editing help: comment formatting (&amp; more <b>shorthand links</b>)</a>. There are some in there I could well use!"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646317545,"creation_date":1646313239,"answer_id":71337823,"question_id":71336988,"body_markdown":"This is because \r\n   `frame.remove(frame.getComponents().length - 1);`\r\nremoves the `JRootPane`, so you are removing the root container.\r\n\r\nHaving `frame.getContentPane().remove(comboBox);` instead will remove the combobox.\r\n\r\n\r\nHere you have a working example \r\n\r\n    JFrame frame = new JFrame();\r\n    frame.setSize(800, 800);\r\n    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    frame.getContentPane().setLayout(new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));\r\n    JLabel gui = new JLabel(&quot;okokok&quot;);\r\n    JComboBox&lt;String&gt; comboBox = new JComboBox&lt;String&gt;(new String[]{&quot;Someting1&quot;, &quot;Something2&quot;});\r\n    comboBox.addActionListener(e -&gt; {\r\n        System.out.println(&quot;started&quot;);\r\n        frame.getContentPane().remove(comboBox);\r\n        frame.repaint();\r\n        System.out.println(&quot;finished&quot;);\r\n    });\r\n    frame.add(gui);\r\n    frame.add(comboBox);\r\n    frame.setVisible(true);\r\n\r\n\r\n\r\n","title":"JFrame is frozen by using a JComboBox","body":"<p>This is because\n<code>frame.remove(frame.getComponents().length - 1);</code>\nremoves the <code>JRootPane</code>, so you are removing the root container.</p>\n<p>Having <code>frame.getContentPane().remove(comboBox);</code> instead will remove the combobox.</p>\n<p>Here you have a working example</p>\n<pre><code>JFrame frame = new JFrame();\nframe.setSize(800, 800);\nframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\nframe.getContentPane().setLayout(new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));\nJLabel gui = new JLabel(&quot;okokok&quot;);\nJComboBox&lt;String&gt; comboBox = new JComboBox&lt;String&gt;(new String[]{&quot;Someting1&quot;, &quot;Something2&quot;});\ncomboBox.addActionListener(e -&gt; {\n    System.out.println(&quot;started&quot;);\n    frame.getContentPane().remove(comboBox);\n    frame.repaint();\n    System.out.println(&quot;finished&quot;);\n});\nframe.add(gui);\nframe.add(comboBox);\nframe.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":24175684,"reputation":15,"user_id":18137091,"display_name":"bob bob"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71337823,"answer_count":1,"score":0,"last_activity_date":1646317545,"creation_date":1646309385,"question_id":71336988,"body_markdown":"I am trying to remove a component from a Frame once a JComboBox is selected. But when I select one  of the boxes the whole Frame freezes and you can&#39;t do anything other then resize or move it.\r\n\r\n```java\r\n        JFrame frame = new JFrame();\r\n        frame.setSize(800 , 800);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.getContentPane().setLayout(new BoxLayout(frame.getContentPane() , BoxLayout.Y_AXIS));\r\n        Gui gui = new Gui();\r\n\r\n        JComboBox&lt;ParabolaType&gt; comboBox = new JComboBox&lt;&gt;(ParabolaType.values());\r\n        comboBox.addActionListener(e -&gt; {\r\n            System.out.println(&quot;started&quot;);\r\n\r\n            frame.remove(frame.getComponents().length - 1);\r\n            frame.revalidate();\r\n\r\n            System.out.println(&quot;finished&quot;);\r\n        });\r\n\r\n        frame.add(gui);\r\n        frame.add(comboBox);\r\n```\r\n\r\n```\r\nstarted\r\nfinished\r\n```\r\n\r\nIt seems the EventQueue thread doesn&#39;t get stopped at all. Why is this  happening?","title":"JFrame is frozen by using a JComboBox","body":"<p>I am trying to remove a component from a Frame once a JComboBox is selected. But when I select one  of the boxes the whole Frame freezes and you can't do anything other then resize or move it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        JFrame frame = new JFrame();\n        frame.setSize(800 , 800);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(new BoxLayout(frame.getContentPane() , BoxLayout.Y_AXIS));\n        Gui gui = new Gui();\n\n        JComboBox&lt;ParabolaType&gt; comboBox = new JComboBox&lt;&gt;(ParabolaType.values());\n        comboBox.addActionListener(e -&gt; {\n            System.out.println(&quot;started&quot;);\n\n            frame.remove(frame.getComponents().length - 1);\n            frame.revalidate();\n\n            System.out.println(&quot;finished&quot;);\n        });\n\n        frame.add(gui);\n        frame.add(comboBox);\n</code></pre>\n<pre><code>started\nfinished\n</code></pre>\n<p>It seems the EventQueue thread doesn't get stopped at all. Why is this  happening?</p>\n"},{"tags":["java","spring","jpa"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646317330,"creation_date":1646317330,"answer_id":71338719,"question_id":71338447,"body_markdown":"Your are mixing **JDBC** driver connecting with sprig data **JPA** connection, for JPA proper connection you can change the drive class name to \r\n\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\n\r\nThen the dialect can be\r\n\r\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n\r\nAnd finally add the proper url and remove JDBC driver relavent dependencies\r\n\r\n    spring.datasource.url=jdbc:sqlserver://localhost;databaseName=&lt;dbname&gt;\r\n\r\nRemaining properties will be same as your, see both examples in [here][1] .\r\n\r\n\r\n  [1]: https://www.codejava.net/frameworks/spring-boot/connect-to-microsoft-sql-server-examples","title":"Connect to microsoft sql server from spring jpa","body":"<p>Your are mixing <strong>JDBC</strong> driver connecting with sprig data <strong>JPA</strong> connection, for JPA proper connection you can change the drive class name to</p>\n<pre><code>spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\n</code></pre>\n<p>Then the dialect can be</p>\n<pre><code>spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\n</code></pre>\n<p>And finally add the proper url and remove JDBC driver relavent dependencies</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost;databaseName=&lt;dbname&gt;\n</code></pre>\n<p>Remaining properties will be same as your, see both examples in <a href=\"https://www.codejava.net/frameworks/spring-boot/connect-to-microsoft-sql-server-examples\" rel=\"nofollow noreferrer\">here</a> .</p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646317330,"creation_date":1646316077,"question_id":71338447,"body_markdown":"I am using microsoft sql server,\r\n\r\nIf i open intellij, open new database connection in database tool window =&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand in advanced type i add:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BCRCH.png\r\n  [2]: https://i.stack.imgur.com/Vnabh.png\r\n\r\nThe connection works. However now i want to connect to this ms sql server with spring jpa. So what i am using is:\r\n\r\n    spring.datasource.url=jdbc:jtds:sqlserver://&lt;host&gt;:&lt;port&gt;;instance=&lt;instance&gt;;domain=&lt;domain&gt;;useNTLMv2=true\r\n    spring.datasource.username=&lt;user&gt;\r\n    spring.datasource.password=&lt;password&gt;\r\n    spring.datasource.driverClassName=net.sourceforge.jtds.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect\r\n\r\nAnd it just says &quot;login for user failed&quot;\r\n\r\nIn my pom i am using:\r\n\r\n    &lt;!-- jpa --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.jpa.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jtds&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhy does it work with database tool window, but not with jpa?\r\n\r\nThanks for help!","title":"Connect to microsoft sql server from spring jpa","body":"<p>I am using microsoft sql server,</p>\n<p>If i open intellij, open new database connection in database tool window =&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/BCRCH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BCRCH.png\" alt=\"enter image description here\" /></a></p>\n<p>and in advanced type i add:\n<a href=\"https://i.stack.imgur.com/Vnabh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vnabh.png\" alt=\"enter image description here\" /></a></p>\n<p>The connection works. However now i want to connect to this ms sql server with spring jpa. So what i am using is:</p>\n<pre><code>spring.datasource.url=jdbc:jtds:sqlserver://&lt;host&gt;:&lt;port&gt;;instance=&lt;instance&gt;;domain=&lt;domain&gt;;useNTLMv2=true\nspring.datasource.username=&lt;user&gt;\nspring.datasource.password=&lt;password&gt;\nspring.datasource.driverClassName=net.sourceforge.jtds.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>And it just says &quot;login for user failed&quot;</p>\n<p>In my pom i am using:</p>\n<pre><code>&lt;!-- jpa --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;${spring.jpa.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jtds&lt;/groupId&gt;\n    &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Why does it work with database tool window, but not with jpa?</p>\n<p>Thanks for help!</p>\n"},{"tags":["java","performance","localization"],"comments":[{"owner":{"account_id":166516,"reputation":1608,"user_id":390689,"accept_rate":58,"display_name":"dmz73"},"score":2,"creation_date":1588874840,"post_id":60795579,"comment_id":109076072,"body_markdown":"I&#39;d be interesting in a solution to this problem too.  Have you found a way?","body":"I&#39;d be interesting in a solution to this problem too.  Have you found a way?"}],"answers":[{"tags":[],"owner":{"account_id":1587058,"reputation":791,"user_id":1471144,"accept_rate":90,"display_name":"137"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646317217,"creation_date":1646310506,"answer_id":71337242,"question_id":60795579,"body_markdown":"The simplest solution should be:\r\n\r\n```java\r\nboolean isValidBCP47 = &quot;und&quot;.equals(Locale.forLanguageTag(tag))\r\n```\r\n\r\nThe best solution is to make use of `java.util.Locale`&#39;s filtering to handle this for you. \r\n\r\nOften we need to fallback to locales. For example; `en-JP` is what you want for English Speakers visiting a theme park in Japan. However; when en-JP is not present you likely want to fall back to just  `en`. In addition, your platform likely doesn&#39;t support every locale and would require a check against a list of supported locales.\r\n\r\n\r\nUsing `com.glide.Locale` you can do the following:\r\n\r\n```java\r\nArrayList&lt;Locale.LanguageRange&gt; priorityList = new ArrayList&lt;&gt;();\r\npriorityList.add(new Locale.LanguageRange(&quot;en-JP&quot;));\r\npriorityList.add(new Locale.LanguageRange(&quot;joking&quot;)); // invalid tag\r\npriorityList.add(new Locale.LanguageRange(&quot;fr&quot;)); // unsupported tag\r\npriorityList.add(new Locale.LanguageRange(&quot;en&quot;));\r\n\r\nArrayList&lt;String&gt; supportedTags = new ArrayList&lt;&gt;();\r\nsupportedTags.add(&quot;ja&quot;);\r\nsupportedTags.add(&quot;en-JP&quot;);\r\nsupportedTags.add(&quot;en&quot;);\r\n\r\nLocale.filterTags(priorityList, supportedTags, Locale.FilteringMode.AUTOSELECT_FILTERING);\r\n\r\n// returns ArrayList [&quot;en-JP&quot;, &quot;en&quot;]\r\n```","title":"Validating BCP-47 language tag using Java APIs","body":"<p>The simplest solution should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isValidBCP47 = &quot;und&quot;.equals(Locale.forLanguageTag(tag))\n</code></pre>\n<p>The best solution is to make use of <code>java.util.Locale</code>'s filtering to handle this for you.</p>\n<p>Often we need to fallback to locales. For example; <code>en-JP</code> is what you want for English Speakers visiting a theme park in Japan. However; when en-JP is not present you likely want to fall back to just  <code>en</code>. In addition, your platform likely doesn't support every locale and would require a check against a list of supported locales.</p>\n<p>Using <code>com.glide.Locale</code> you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Locale.LanguageRange&gt; priorityList = new ArrayList&lt;&gt;();\npriorityList.add(new Locale.LanguageRange(&quot;en-JP&quot;));\npriorityList.add(new Locale.LanguageRange(&quot;joking&quot;)); // invalid tag\npriorityList.add(new Locale.LanguageRange(&quot;fr&quot;)); // unsupported tag\npriorityList.add(new Locale.LanguageRange(&quot;en&quot;));\n\nArrayList&lt;String&gt; supportedTags = new ArrayList&lt;&gt;();\nsupportedTags.add(&quot;ja&quot;);\nsupportedTags.add(&quot;en-JP&quot;);\nsupportedTags.add(&quot;en&quot;);\n\nLocale.filterTags(priorityList, supportedTags, Locale.FilteringMode.AUTOSELECT_FILTERING);\n\n// returns ArrayList [&quot;en-JP&quot;, &quot;en&quot;]\n</code></pre>\n"}],"owner":{"account_id":1677047,"reputation":5886,"user_id":1542319,"accept_rate":100,"display_name":"Sergey Tselovalnikov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1523,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1646317217,"creation_date":1584846758,"question_id":60795579,"body_markdown":"As far as I know, the only way to validate whether a given BCP-47 language tag is valid is to use the following idiom:\r\n\r\n```java\r\nprivate static boolean isValid(String tag) {\r\n  try {\r\n    new Locale.Builder().setLanguageTag(tag).build();\r\n    return true;\r\n  } catch (IllformedLocaleException e) {\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\nHowever, the downside of this approach is that `setLanguageTag` throws an exception which has noticeable (in a profile) performance overhead in workloads where locales are checked often.\r\n\r\nThe [`setLanguageTag`](http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/java/util/Locale.java#l2558) function is implemented using `sun.util.locale` APIs, and as far as I can tell it&#39;s the only place where `sun.util.locale.ParseStatus` is checked. \r\n\r\nWhat I would like to be able to do is to use a method which has the following semantics:\r\n\r\n```java\r\nimport sun.util.locale.LanguageTag;\r\nimport sun.util.locale.ParseStatus;\r\n\r\nprivate static boolean isValid(String tag) {\r\n  ParseStatus sts = new ParseStatus();\r\n  LanguageTag.parse(tag, sts);\r\n  return !sts.isError();\r\n}\r\n```\r\n\r\nHowever, it&#39;s not possible to check the locale in the above way since it&#39;s using `sun.*` classes directly since it requires additional JDK options to export `sun.util.locale` from the `java.base` module. \r\n\r\nIs there a way to validate a language tag without using private `sun.*` APIs while being consistent with the implementation of `sun.util.locale.LanguageTag#parse`?","title":"Validating BCP-47 language tag using Java APIs","body":"<p>As far as I know, the only way to validate whether a given BCP-47 language tag is valid is to use the following idiom:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isValid(String tag) {\n  try {\n    new Locale.Builder().setLanguageTag(tag).build();\n    return true;\n  } catch (IllformedLocaleException e) {\n    return false;\n  }\n}\n</code></pre>\n\n<p>However, the downside of this approach is that <code>setLanguageTag</code> throws an exception which has noticeable (in a profile) performance overhead in workloads where locales are checked often.</p>\n\n<p>The <a href=\"http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/java/util/Locale.java#l2558\" rel=\"noreferrer\"><code>setLanguageTag</code></a> function is implemented using <code>sun.util.locale</code> APIs, and as far as I can tell it's the only place where <code>sun.util.locale.ParseStatus</code> is checked. </p>\n\n<p>What I would like to be able to do is to use a method which has the following semantics:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import sun.util.locale.LanguageTag;\nimport sun.util.locale.ParseStatus;\n\nprivate static boolean isValid(String tag) {\n  ParseStatus sts = new ParseStatus();\n  LanguageTag.parse(tag, sts);\n  return !sts.isError();\n}\n</code></pre>\n\n<p>However, it's not possible to check the locale in the above way since it's using <code>sun.*</code> classes directly since it requires additional JDK options to export <code>sun.util.locale</code> from the <code>java.base</code> module. </p>\n\n<p>Is there a way to validate a language tag without using private <code>sun.*</code> APIs while being consistent with the implementation of <code>sun.util.locale.LanguageTag#parse</code>?</p>\n"},{"tags":["java","java-io","filenotfoundexception","bufferedinputstream","zipinputstream"],"comments":[{"owner":{"account_id":23850268,"reputation":13,"user_id":17854296,"display_name":"kanishka malpana"},"score":0,"creation_date":1643260404,"post_id":70873460,"comment_id":125293842,"body_markdown":"@Abra cdslog.txt is there but the system can&#39;t detect it","body":"@Abra cdslog.txt is there but the system can&#39;t detect it"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1643260652,"post_id":70873460,"comment_id":125293890,"body_markdown":"You should be using a `ZipInputStream` to read","body":"You should be using a <code>ZipInputStream</code> to read"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1646319312,"post_id":70873460,"comment_id":126097873,"body_markdown":"Use a **zip file system** (standard java) https://stackoverflow.com/questions/52538512/salvage-temporary-zip-file-with-java-filesystem It will allow you to use `Files.copy` to copy files into and out of the zip. Or rename or whatever.","body":"Use a <b>zip file system</b> (standard java) <a href=\"https://stackoverflow.com/questions/52538512/salvage-temporary-zip-file-with-java-filesystem\" title=\"salvage temporary zip file with java filesystem\">stackoverflow.com/questions/52538512/&hellip;</a> It will allow you to use <code>Files.copy</code> to copy files into and out of the zip. Or rename or whatever."}],"answers":[{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646317086,"creation_date":1646317086,"answer_id":71338672,"question_id":70873460,"body_markdown":"   Try this code:          \r\n\r\n            ZipFile zipFile = new ZipFile(new File(zipPath));\r\n            List&lt;String&gt; filesList = new ArrayList&lt;&gt;();\r\n            Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\r\n            ZipEntry entry = null;\r\n            StringBuilder out = null;\r\n            while (entries.hasMoreElements()) \r\n           {\r\n                entry = entries.nextElement();\r\n                StringBuilder out = new StringBuilder();\r\n                BufferedReader reader = new BufferedReader(new \r\n                InputStreamReader(in));\r\n                String line;\r\n                         while ((line = reader.readLine()) != null) \r\n                            {\r\n                                out.append(line);\r\n                            }\r\n           }\r\n           return out.toString();","title":"Reading data from a file inside a zip file in java without extracting the Zip","body":"<p>Try this code:</p>\n<pre><code>        ZipFile zipFile = new ZipFile(new File(zipPath));\n        List&lt;String&gt; filesList = new ArrayList&lt;&gt;();\n        Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\n        ZipEntry entry = null;\n        StringBuilder out = null;\n        while (entries.hasMoreElements()) \n       {\n            entry = entries.nextElement();\n            StringBuilder out = new StringBuilder();\n            BufferedReader reader = new BufferedReader(new \n            InputStreamReader(in));\n            String line;\n                     while ((line = reader.readLine()) != null) \n                        {\n                            out.append(line);\n                        }\n       }\n       return out.toString();\n</code></pre>\n"}],"owner":{"account_id":23850268,"reputation":13,"user_id":17854296,"display_name":"kanishka malpana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646317086,"creation_date":1643258657,"question_id":70873460,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI need to read a file inside a zip folder without extracting Zip the zip folder then I need to keep all the data in that file in a buffer.\r\n\r\n    public static void getLogBuffers(String path) throws IOException\r\n    {\r\n        String zipFileName = path;\r\n        String destDirectory = path + &quot;/..&quot;;\r\n    \r\n        byte[] buffer = new byte[1024];\r\n        ZipInputStream zis = new ZipInputStream(new BufferedInputStream(new FileInputStream(zipFileName)));\r\n        ZipEntry zipEntry = zis.getNextEntry();\r\n        boolean isErrorLogFileExist = false;\r\n        boolean isWindowLogFileExist = false;\r\n        BufferedInputStream errorLogBuffer = null;\r\n        BufferedInputStream windowLogBuffer = null;\r\n        while (zipEntry != null)\r\n        {\r\n          String filePath = zipFileName + &quot;/&quot; + zipEntry.getName();\r\n          System.out.println(&quot;unzipping&quot; + filePath);\r\n          if (!zipEntry.isDirectory())\r\n          {\r\n            //FileOutputStream fos = new FileOutputStream(filePath);\r\n            if (zipEntry.getName().endsWith(&quot;errorlog.txt&quot;))\r\n            {\r\n              isErrorLogFileExist = true;\r\n              errorLogBuffer = new BufferedInputStream(new FileInputStream(filePath));\r\n              for (int i = errorLogBuffer.read(); i != -1; i = errorLogBuffer.read())\r\n              {\r\n                errorLogBuffer = new BufferedInputStream(new FileInputStream(filePath));\r\n              }\r\n            }\r\n\r\n`FileNotFoundException` is thrown in line\r\n```java\r\nerrorLogBuffer = new BufferedInputStream(new FileInputStream(filePath));\r\n```\r\n-----------------------    \r\n      Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\issues\\log.zip\\log\\errorlog.txt (The system cannot find the path specified)\r\n    at java.io.FileInputStream.open0(Native Method)\r\n    at java.io.FileInputStream.open(FileInputStream.java:195)\r\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\n    at errorWindowLogMapper.unZipFile(errorWindowLogMapper.java:113)\r\n    at errorWindowLogMapper.main(errorWindowLogMapper.java:38)\r\n\r\nappreciate if anyone can help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OV7Vp.png","title":"Reading data from a file inside a zip file in java without extracting the Zip","body":"<p><a href=\"https://i.stack.imgur.com/OV7Vp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OV7Vp.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to read a file inside a zip folder without extracting Zip the zip folder then I need to keep all the data in that file in a buffer.</p>\n<pre><code>public static void getLogBuffers(String path) throws IOException\n{\n    String zipFileName = path;\n    String destDirectory = path + &quot;/..&quot;;\n\n    byte[] buffer = new byte[1024];\n    ZipInputStream zis = new ZipInputStream(new BufferedInputStream(new FileInputStream(zipFileName)));\n    ZipEntry zipEntry = zis.getNextEntry();\n    boolean isErrorLogFileExist = false;\n    boolean isWindowLogFileExist = false;\n    BufferedInputStream errorLogBuffer = null;\n    BufferedInputStream windowLogBuffer = null;\n    while (zipEntry != null)\n    {\n      String filePath = zipFileName + &quot;/&quot; + zipEntry.getName();\n      System.out.println(&quot;unzipping&quot; + filePath);\n      if (!zipEntry.isDirectory())\n      {\n        //FileOutputStream fos = new FileOutputStream(filePath);\n        if (zipEntry.getName().endsWith(&quot;errorlog.txt&quot;))\n        {\n          isErrorLogFileExist = true;\n          errorLogBuffer = new BufferedInputStream(new FileInputStream(filePath));\n          for (int i = errorLogBuffer.read(); i != -1; i = errorLogBuffer.read())\n          {\n            errorLogBuffer = new BufferedInputStream(new FileInputStream(filePath));\n          }\n        }\n</code></pre>\n<p><code>FileNotFoundException</code> is thrown in line</p>\n<pre class=\"lang-java prettyprint-override\"><code>errorLogBuffer = new BufferedInputStream(new FileInputStream(filePath));\n</code></pre>\n<hr />\n<pre><code>  Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\issues\\log.zip\\log\\errorlog.txt (The system cannot find the path specified)\nat java.io.FileInputStream.open0(Native Method)\nat java.io.FileInputStream.open(FileInputStream.java:195)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\nat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\nat errorWindowLogMapper.unZipFile(errorWindowLogMapper.java:113)\nat errorWindowLogMapper.main(errorWindowLogMapper.java:38)\n</code></pre>\n<p>appreciate if anyone can help</p>\n"},{"tags":["java","sorting","tuples","iterable"],"comments":[{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":1,"creation_date":1646315067,"post_id":71338205,"comment_id":126096108,"body_markdown":"you may implement a Comparator (https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html) and then sort your collection with it","body":"you may implement a Comparator (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>&zwnj;&#8203;) and then sort your collection with it"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1646315586,"post_id":71338205,"comment_id":126096343,"body_markdown":"assuming a getter like `getFirst` exists: `Comparator.comparing(Tuple4::getFirst)`","body":"assuming a getter like <code>getFirst</code> exists: <code>Comparator.comparing(Tuple4::getFirst)</code>"},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1646315622,"post_id":71338205,"comment_id":126096355,"body_markdown":"https://stackoverflow.com/questions/5690537/sorting-a-tuple-based-on-one-of-the-fields","body":"<a href=\"https://stackoverflow.com/questions/5690537/sorting-a-tuple-based-on-one-of-the-fields\" title=\"sorting a tuple based on one of the fields\">stackoverflow.com/questions/5690537/&hellip;</a>"},{"owner":{"account_id":1485238,"reputation":109,"user_id":1393650,"display_name":"user1393650"},"score":0,"creation_date":1646379437,"post_id":71338205,"comment_id":126112985,"body_markdown":"Tuple4 has getField()","body":"Tuple4 has getField()"}],"answers":[{"tags":[],"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646315475,"creation_date":1646315475,"answer_id":71338320,"question_id":71338205,"body_markdown":"Supposing you have a Collection of Tuple4, you can define your Tuple4Comparator implementing the Comparator interface (https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html). The trick is providing a compare method which will decide which of the two arguments come first.\r\n\r\n    public static class YourComparator implements Comparator&lt;Tuple4&lt;Long, Long, String, String&gt;&gt; {\r\n\r\n        // Let&#39;s compare 2 Tuple4 objects\r\n        public int compare(Tuple4&lt;Long, Long, String, String&gt; o1, Tuple4&lt;Long, Long, String, String&gt; o2)\r\n        {\r\n            // Perform comparison, returning a negative integer if o1 is lower than o2, 0 if they&#39;re equal or a positive number if it&#39;s greater\r\n        }\r\n    }\r\n\r\nOnce you have a proper comparator you can sort your Collection via:\r\n\r\n    Collections.sort(yourCollection, new YourComparator());\r\n\r\n","title":"How can I sort a java.lang.Iterable that contains a Tuple4 on the first field of the tuple?","body":"<p>Supposing you have a Collection of Tuple4, you can define your Tuple4Comparator implementing the Comparator interface (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>). The trick is providing a compare method which will decide which of the two arguments come first.</p>\n<pre><code>public static class YourComparator implements Comparator&lt;Tuple4&lt;Long, Long, String, String&gt;&gt; {\n\n    // Let's compare 2 Tuple4 objects\n    public int compare(Tuple4&lt;Long, Long, String, String&gt; o1, Tuple4&lt;Long, Long, String, String&gt; o2)\n    {\n        // Perform comparison, returning a negative integer if o1 is lower than o2, 0 if they're equal or a positive number if it's greater\n    }\n}\n</code></pre>\n<p>Once you have a proper comparator you can sort your Collection via:</p>\n<pre><code>Collections.sort(yourCollection, new YourComparator());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646316997,"creation_date":1646316997,"answer_id":71338648,"question_id":71338205,"body_markdown":"Depending of what your `Tuple4` is you can do something like this to sort on first field.\r\n\r\nAssuming that a `getFirst` method exists on `Tuple4`:\r\n\r\n    final List&lt;Tuple4&lt;Long, Long, String, String&gt;&gt; collect = l.stream().sorted(Comparator.comparing(Tuple4::getFirst)).toList();\r\n\r\n\r\nAssuming that a `getByPos` method exists on `Tuple4`:\r\n\r\n    final List&lt;Tuple4&lt;Long, Long, String, String&gt;&gt; collect2 = l.stream().sorted(Comparator.comparing(t -&gt; t.getByPos(0))).toList();","title":"How can I sort a java.lang.Iterable that contains a Tuple4 on the first field of the tuple?","body":"<p>Depending of what your <code>Tuple4</code> is you can do something like this to sort on first field.</p>\n<p>Assuming that a <code>getFirst</code> method exists on <code>Tuple4</code>:</p>\n<pre><code>final List&lt;Tuple4&lt;Long, Long, String, String&gt;&gt; collect = l.stream().sorted(Comparator.comparing(Tuple4::getFirst)).toList();\n</code></pre>\n<p>Assuming that a <code>getByPos</code> method exists on <code>Tuple4</code>:</p>\n<pre><code>final List&lt;Tuple4&lt;Long, Long, String, String&gt;&gt; collect2 = l.stream().sorted(Comparator.comparing(t -&gt; t.getByPos(0))).toList();\n</code></pre>\n"}],"owner":{"account_id":1485238,"reputation":109,"user_id":1393650,"display_name":"user1393650"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646316997,"creation_date":1646314943,"question_id":71338205,"body_markdown":"I need to sort an Iterable.\r\nIt contains a Tuple4&lt;Long,Long,String,String&gt; and need to have it sorted on the first field of the tuple in order to calculate the time differences between the values.\r\n\r\n    Long pHandlingTime=0L;\r\n    for (Tuple4&lt;Long, Long, String, String&gt; in: input){\r\n        elapsed       = Long.parseLong(in.getField(1).toString()) - pHandlingTime;\r\n\t    pHandlingTime = Long.parseLong(in.getField(1).toString())\r\n    }\r\n\r\nAny suggestions?\r\n\r\nRegards Hans","title":"How can I sort a java.lang.Iterable that contains a Tuple4 on the first field of the tuple?","body":"<p>I need to sort an Iterable.\nIt contains a Tuple4&lt;Long,Long,String,String&gt; and need to have it sorted on the first field of the tuple in order to calculate the time differences between the values.</p>\n<pre><code>Long pHandlingTime=0L;\nfor (Tuple4&lt;Long, Long, String, String&gt; in: input){\n    elapsed       = Long.parseLong(in.getField(1).toString()) - pHandlingTime;\n    pHandlingTime = Long.parseLong(in.getField(1).toString())\n}\n</code></pre>\n<p>Any suggestions?</p>\n<p>Regards Hans</p>\n"},{"tags":["java","reactive-programming","rx-java2"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1646387028,"post_id":71338621,"comment_id":126115364,"body_markdown":"Recommended reading: https://github.com/ReactiveX/RxJava#parallel-processing","body":"Recommended reading: <a href=\"https://github.com/ReactiveX/RxJava#parallel-processing\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava#parallel-processing</a>"}],"owner":{"account_id":1303043,"reputation":1515,"user_id":1941560,"accept_rate":60,"display_name":"px5x2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646316855,"creation_date":1646316855,"question_id":71338621,"body_markdown":"Trying to read some csv file with jackson CSV mapper and since the file is large in size, planning to parallelize reading and processing it in a fixed memory environment which is far less than the file. So the process must be pipelined.\r\n\r\nWhat I tried is as follows:\r\n\r\n    FileInputStream fis = new FileInputStream(&quot;//some large file&quot;);\r\n    ObjectReader reader = CSV_MAPPER.readerFor(Test.class).with(schema);\r\n    JsonParser jsonParser = CSV_MAPPER.getFactory().createParser(fis);\r\n    Iterable&lt;Test&gt; iterable = () -&gt; reader.readValues(jsonParser);\r\n    \r\n    Flowable.fromIterable(iterable)\r\n            .buffer(1000)\r\n            .observeOn(Schedulers.from(Executors.newFixedThreadPool(THREAD_POOL)))\r\n            .subscribe(saveBatchToDb);\r\n\r\nHowever above code finishes after about 120 iterations. I know `Flowable`&#39;s default buffer size is 128. **But at the first place, why would i ever need backpressure when subscribers requests items?** I checked jackson&#39;s internals (readValues method), it advances input stream when `iterator.next` is called, so i think this reading process should be controllable by downstream. Also used `observeOn` for multithreading downstream (saveBatchToDb).\r\n\r\n**My Assumption**\r\nWhen any of my executor threads is finished, it would pull items from upstream and process those items and so on. In this case, I can both parallelize the process and hopefully fit THREAD_POOL * 1000 * [Test object size] bytes into memory easily.\r\n\r\nFor every document about rxjava I have read so far, states that `Flowable` is preferable over `Observable` in processing large number of items because it supports **backpressure**. I cannot simply relate the backpressure and and controllable flow. Also when I replace `Flowable` with `Observable`, JVM immediately halts throwing oom as expected.\r\n\r\nA simple while loop plus some partitioning code can be perfectly enough for that task, but I&#39;m wondering how it would work with reactive way with rxjava. What are the key points behind? What is wrong with my assumptions?\r\n\r\n","title":"Controlled input stream reading with rxjava","body":"<p>Trying to read some csv file with jackson CSV mapper and since the file is large in size, planning to parallelize reading and processing it in a fixed memory environment which is far less than the file. So the process must be pipelined.</p>\n<p>What I tried is as follows:</p>\n<pre><code>FileInputStream fis = new FileInputStream(&quot;//some large file&quot;);\nObjectReader reader = CSV_MAPPER.readerFor(Test.class).with(schema);\nJsonParser jsonParser = CSV_MAPPER.getFactory().createParser(fis);\nIterable&lt;Test&gt; iterable = () -&gt; reader.readValues(jsonParser);\n\nFlowable.fromIterable(iterable)\n        .buffer(1000)\n        .observeOn(Schedulers.from(Executors.newFixedThreadPool(THREAD_POOL)))\n        .subscribe(saveBatchToDb);\n</code></pre>\n<p>However above code finishes after about 120 iterations. I know <code>Flowable</code>'s default buffer size is 128. <strong>But at the first place, why would i ever need backpressure when subscribers requests items?</strong> I checked jackson's internals (readValues method), it advances input stream when <code>iterator.next</code> is called, so i think this reading process should be controllable by downstream. Also used <code>observeOn</code> for multithreading downstream (saveBatchToDb).</p>\n<p><strong>My Assumption</strong>\nWhen any of my executor threads is finished, it would pull items from upstream and process those items and so on. In this case, I can both parallelize the process and hopefully fit THREAD_POOL * 1000 * [Test object size] bytes into memory easily.</p>\n<p>For every document about rxjava I have read so far, states that <code>Flowable</code> is preferable over <code>Observable</code> in processing large number of items because it supports <strong>backpressure</strong>. I cannot simply relate the backpressure and and controllable flow. Also when I replace <code>Flowable</code> with <code>Observable</code>, JVM immediately halts throwing oom as expected.</p>\n<p>A simple while loop plus some partitioning code can be perfectly enough for that task, but I'm wondering how it would work with reactive way with rxjava. What are the key points behind? What is wrong with my assumptions?</p>\n"},{"tags":["java","lambda","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646316686,"creation_date":1646316686,"answer_id":71338584,"question_id":71338453,"body_markdown":"You are streaming over the _entries_ (key-value pairs), not the values themselves, hence the unexpected result. If you instead stream over the values (since it seems like you don&#39;t care about the keys), you get the desired output:\r\n\r\n```java\r\nmap.values().stream()\r\n   .filter(e-&gt;e.size()&gt;1)\r\n   .collect(Collectors.toList())\r\n```\r\n\r\nEdit: This is _assuming_ that the desired outcome is `List&lt;List&lt;String&gt;&gt;`, that is the list of all lists with a size greater than 1.\r\n\r\nIf you instead want to collapse all those values into a single `List&lt;String&gt;`, you&#39;d use `flatMap` to collapse them:\r\n\r\n```java\r\nmap.values().stream()\r\n   .filter(e-&gt;e.size()&gt;1)\r\n   .flatMap(List::stream)\r\n   .collect(Collectors.toList())\r\n```","title":"Get the list based on its size from a Map of List using Java 8","body":"<p>You are streaming over the <em>entries</em> (key-value pairs), not the values themselves, hence the unexpected result. If you instead stream over the values (since it seems like you don't care about the keys), you get the desired output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>map.values().stream()\n   .filter(e-&gt;e.size()&gt;1)\n   .collect(Collectors.toList())\n</code></pre>\n<p>Edit: This is <em>assuming</em> that the desired outcome is <code>List&lt;List&lt;String&gt;&gt;</code>, that is the list of all lists with a size greater than 1.</p>\n<p>If you instead want to collapse all those values into a single <code>List&lt;String&gt;</code>, you'd use <code>flatMap</code> to collapse them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>map.values().stream()\n   .filter(e-&gt;e.size()&gt;1)\n   .flatMap(List::stream)\n   .collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":24242242,"reputation":41,"user_id":18194450,"display_name":"TheNoobCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71338584,"answer_count":1,"score":0,"last_activity_date":1646316686,"creation_date":1646316084,"question_id":71338453,"body_markdown":"I have a `Map&lt;String, List&lt;String&gt;&gt;`. I am trying to retrieve all the `List&lt;String&gt;` from the map which has size &gt; 1 and collect them to a new list.\r\n\r\nTrying to find out a way to do it in Java 8.\r\n\r\nBelow is how I tried to implement the code but I get a `List&lt;String, List&lt;String&gt;&gt;`\r\n\r\n```\r\nmap.entrySet().stream()\r\n   .filter(e-&gt;e.getValue().size()&gt;1)\r\n   .collect(Collectors.toList())\r\n```\r\n\r\nWhat can be the way to achieve it in Java 8.","title":"Get the list based on its size from a Map of List using Java 8","body":"<p>I have a <code>Map&lt;String, List&lt;String&gt;&gt;</code>. I am trying to retrieve all the <code>List&lt;String&gt;</code> from the map which has size &gt; 1 and collect them to a new list.</p>\n<p>Trying to find out a way to do it in Java 8.</p>\n<p>Below is how I tried to implement the code but I get a <code>List&lt;String, List&lt;String&gt;&gt;</code></p>\n<pre><code>map.entrySet().stream()\n   .filter(e-&gt;e.getValue().size()&gt;1)\n   .collect(Collectors.toList())\n</code></pre>\n<p>What can be the way to achieve it in Java 8.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"score":3,"creation_date":1646313663,"post_id":71337898,"comment_id":126095581,"body_markdown":"Try defining a common interface between A and B with the method getX. Then in &lt;T&gt; definition of your static fuction you need to add &lt;T extends YOUR_INTERFACE&gt;. Then it should work","body":"Try defining a common interface between A and B with the method getX. Then in &lt;T&gt; definition of your static fuction you need to add &lt;T extends YOUR_INTERFACE&gt;. Then it should work"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":1,"creation_date":1646313671,"post_id":71337898,"comment_id":126095586,"body_markdown":"You could go for interface and change T to the interface. You will do not need any class check also","body":"You could go for interface and change T to the interface. You will do not need any class check also"},{"owner":{"account_id":19561098,"reputation":75,"user_id":14314292,"display_name":"Niles"},"score":0,"creation_date":1646313716,"post_id":71337898,"comment_id":126095604,"body_markdown":"Ok thanks I will do it","body":"Ok thanks I will do it"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1646313878,"post_id":71337898,"comment_id":126095651,"body_markdown":"Java doesn&#39;t have this kind of pattern matching yet. You will need a common type between A and B as the other comments suggest","body":"Java doesn&#39;t have this kind of pattern matching yet. You will need a common type between A and B as the other comments suggest"},{"owner":{"account_id":19561098,"reputation":75,"user_id":14314292,"display_name":"Niles"},"score":0,"creation_date":1646314018,"post_id":71337898,"comment_id":126095708,"body_markdown":"It worked perfectly, thanks! Admins, you may lock the question if needed (I have no idea how to do it myself)","body":"It worked perfectly, thanks! Admins, you may lock the question if needed (I have no idea how to do it myself)"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1646314071,"post_id":71337898,"comment_id":126095726,"body_markdown":"You&#39;ll be able to delete it if you wish","body":"You&#39;ll be able to delete it if you wish"}],"answers":[{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1646314534,"creation_date":1646314102,"answer_id":71338010,"question_id":71337898,"body_markdown":"You need an interface to let Java know that `T` has the desired function:\r\n```\r\npublic interface I {\r\n   float getX();\r\n}\r\n\r\npublic class A implements I {\r\n   /* some code */\r\n   public float getX(){\r\n       return 1.0f;\r\n   }\r\n}\r\npublic class B implements I {\r\n   /* some code */\r\n   public float getX(){\r\n       return 2.0f;\r\n   }\r\n}\r\n\r\npublic static &lt;T extends I&gt; boolean isOverlaps(T obj) {\r\n   return obj.getX() &gt;= 0 &amp;&amp; /*some logic*/;\r\n}\r\n```\r\nOr, a bit simpler without the unnecessary type variable:\r\n```\r\npublic static boolean isOverlaps(I obj) {\r\n   return obj.getX() &gt;= 0 &amp;&amp; /*some logic*/;\r\n}\r\n```","title":"Java generic method Cannot resolve method &#39;getX()&#39; in &#39;T&#39;","body":"<p>You need an interface to let Java know that <code>T</code> has the desired function:</p>\n<pre><code>public interface I {\n   float getX();\n}\n\npublic class A implements I {\n   /* some code */\n   public float getX(){\n       return 1.0f;\n   }\n}\npublic class B implements I {\n   /* some code */\n   public float getX(){\n       return 2.0f;\n   }\n}\n\npublic static &lt;T extends I&gt; boolean isOverlaps(T obj) {\n   return obj.getX() &gt;= 0 &amp;&amp; /*some logic*/;\n}\n</code></pre>\n<p>Or, a bit simpler without the unnecessary type variable:</p>\n<pre><code>public static boolean isOverlaps(I obj) {\n   return obj.getX() &gt;= 0 &amp;&amp; /*some logic*/;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646314621,"creation_date":1646314621,"answer_id":71338132,"question_id":71337898,"body_markdown":"Using an interface is the preferred way to solve this, but the statement &quot;you *need* an interface&quot; is incorrect.\r\n\r\nYou can achieve this without an interface too. In some situations (i.e. where you can&#39;t modify A or B), this may be the best you can do. \r\n\r\n    public static boolean isOverlaps(Object obj) {     \r\n        float x = -1;\r\n        if (obj instanceof A) {\r\n            x = ((A) obj).getX();\r\n        }\r\n        else if (obj instanceof B) {\r\n            x = ((B) obj).getX();\r\n        }\r\n             \r\n        return x &gt;= 0 &amp;&amp; /*some logic*/;\r\n    }","title":"Java generic method Cannot resolve method &#39;getX()&#39; in &#39;T&#39;","body":"<p>Using an interface is the preferred way to solve this, but the statement &quot;you <em>need</em> an interface&quot; is incorrect.</p>\n<p>You can achieve this without an interface too. In some situations (i.e. where you can't modify A or B), this may be the best you can do.</p>\n<pre><code>public static boolean isOverlaps(Object obj) {     \n    float x = -1;\n    if (obj instanceof A) {\n        x = ((A) obj).getX();\n    }\n    else if (obj instanceof B) {\n        x = ((B) obj).getX();\n    }\n         \n    return x &gt;= 0 &amp;&amp; /*some logic*/;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646316392,"creation_date":1646314933,"answer_id":71338203,"question_id":71337898,"body_markdown":"    public static &lt;T&gt; boolean isOverlaps(T obj) {\r\n\r\nThis isn&#39;t _really_ a generic method. OK, it is a generic method, because it has a type variable; it&#39;s just not a _usefully_ generic method. You can pass anything to it: it&#39;s essentially equivalent to:\r\n\r\n    public static boolean isOverlaps(Object obj) {\r\n\r\nThat is, you can&#39;t access anything inside that method which isn&#39;t a method on `Object`.\r\n\r\nIf you want to use this, and you can&#39;t use the common interface approach, you could do an `instanceof` chain:\r\n\r\n```\r\npublic static boolean isOverlaps(Object obj) {\r\n  if (obj instanceof A) {\r\n    return /* logic */;\r\n  } else if (obj instanceof B) {\r\n    // Do something.\r\n    return /* logic */;\r\n  }\r\n  return false;\r\n}\r\n```\r\n\r\nThe problem with this is that you&#39;re losing the compile-time safety of not being allowed to pass things other than `A`s and `B`s to it (e.g. you could call `isOverlaps(&quot;Hello world!&quot;)`, which is presumably nonsensical).\r\n\r\nIt&#39;s actually better to define two overloads:\r\n\r\n```\r\npublic static boolean isOverlaps(A obj) { return /* logic */; }\r\n\r\npublic static boolean isOverlaps(B obj) { return /* logic */; }\r\n```\r\n\r\nbecause now trying to pass in anything other than an `A` or a `B` results in a compile-time error; but it&#39;s a compile-time error at the call site, not in these methods.\r\n\r\nIf `/* logic */` depends on some property which can be derived from `A` and `B`, e.g. a getter, you can consolidate the repeated logic into a helper:\r\n\r\n\r\n```\r\npublic static boolean isOverlaps(A obj) { return helper(obj.getX()); }\r\n\r\npublic static boolean isOverlaps(B obj) { return helper(obj.getX()); }\r\n\r\nprivate static boolean helper(SomeType value) {\r\n  return /* logic */\r\n}\r\n```\r\n","title":"Java generic method Cannot resolve method &#39;getX()&#39; in &#39;T&#39;","body":"<pre><code>public static &lt;T&gt; boolean isOverlaps(T obj) {\n</code></pre>\n<p>This isn't <em>really</em> a generic method. OK, it is a generic method, because it has a type variable; it's just not a <em>usefully</em> generic method. You can pass anything to it: it's essentially equivalent to:</p>\n<pre><code>public static boolean isOverlaps(Object obj) {\n</code></pre>\n<p>That is, you can't access anything inside that method which isn't a method on <code>Object</code>.</p>\n<p>If you want to use this, and you can't use the common interface approach, you could do an <code>instanceof</code> chain:</p>\n<pre><code>public static boolean isOverlaps(Object obj) {\n  if (obj instanceof A) {\n    return /* logic */;\n  } else if (obj instanceof B) {\n    // Do something.\n    return /* logic */;\n  }\n  return false;\n}\n</code></pre>\n<p>The problem with this is that you're losing the compile-time safety of not being allowed to pass things other than <code>A</code>s and <code>B</code>s to it (e.g. you could call <code>isOverlaps(&quot;Hello world!&quot;)</code>, which is presumably nonsensical).</p>\n<p>It's actually better to define two overloads:</p>\n<pre><code>public static boolean isOverlaps(A obj) { return /* logic */; }\n\npublic static boolean isOverlaps(B obj) { return /* logic */; }\n</code></pre>\n<p>because now trying to pass in anything other than an <code>A</code> or a <code>B</code> results in a compile-time error; but it's a compile-time error at the call site, not in these methods.</p>\n<p>If <code>/* logic */</code> depends on some property which can be derived from <code>A</code> and <code>B</code>, e.g. a getter, you can consolidate the repeated logic into a helper:</p>\n<pre><code>public static boolean isOverlaps(A obj) { return helper(obj.getX()); }\n\npublic static boolean isOverlaps(B obj) { return helper(obj.getX()); }\n\nprivate static boolean helper(SomeType value) {\n  return /* logic */\n}\n</code></pre>\n"}],"owner":{"account_id":19561098,"reputation":75,"user_id":14314292,"display_name":"Niles"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71338010,"answer_count":3,"score":1,"last_activity_date":1646316392,"creation_date":1646313557,"question_id":71337898,"body_markdown":"Say I have a couple of Objects (=classes) which each has a method `getX()`:\r\n\r\n```java\r\npublic class A{\r\n   /* some code */\r\n   public float getX(){}\r\n}\r\npublic class B{\r\n   /* some code */\r\n   public float getX(){}\r\n}\r\n```\r\n\r\nNow I want to write a generic static method as the following:\r\n\r\n```java\r\npublic static &lt;T&gt; boolean isOverlaps(T obj) {\r\n   if (obj == null || (!obj.getClass().isInstance(A.class) &amp;&amp; !obj.getClass().isInstance(B.class)))\r\n       return false;\r\n   return obj.getX() &gt;= 0 &amp;&amp; /*some logic*/; // here it falls\r\n}\r\n```\r\n\r\nIDE says:\r\n\r\n&gt; Cannot resolve method &#39;getX()&#39; in &#39;T&#39;\r\n\r\nHow can I resolve the method properly without casting (since it is a generic method)? Is it even possible?","title":"Java generic method Cannot resolve method &#39;getX()&#39; in &#39;T&#39;","body":"<p>Say I have a couple of Objects (=classes) which each has a method <code>getX()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A{\n   /* some code */\n   public float getX(){}\n}\npublic class B{\n   /* some code */\n   public float getX(){}\n}\n</code></pre>\n<p>Now I want to write a generic static method as the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; boolean isOverlaps(T obj) {\n   if (obj == null || (!obj.getClass().isInstance(A.class) &amp;&amp; !obj.getClass().isInstance(B.class)))\n       return false;\n   return obj.getX() &gt;= 0 &amp;&amp; /*some logic*/; // here it falls\n}\n</code></pre>\n<p>IDE says:</p>\n<blockquote>\n<p>Cannot resolve method 'getX()' in 'T'</p>\n</blockquote>\n<p>How can I resolve the method properly without casting (since it is a generic method)? Is it even possible?</p>\n"},{"tags":["java","amazon-web-services","sdk","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646310813,"creation_date":1646310813,"answer_id":71337305,"question_id":71337064,"body_markdown":"Sorry, no. There’s just the one condition expression  ","title":"Multiple condition expressions for each attribute when performing update in DynamoDB","body":"<p>Sorry, no. There’s just the one condition expression</p>\n"},{"tags":[],"owner":{"account_id":14172131,"reputation":560,"user_id":10238427,"display_name":"Tomasz Breś"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646315869,"creation_date":1646315869,"answer_id":71338409,"question_id":71337064,"body_markdown":"Check this doc: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.OperatorsAndFunctions.html\r\n\r\nYou can have multiple conditions in one updateItem request.\r\n","title":"Multiple condition expressions for each attribute when performing update in DynamoDB","body":"<p>Check this doc: <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.OperatorsAndFunctions.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.OperatorsAndFunctions.html</a></p>\n<p>You can have multiple conditions in one updateItem request.</p>\n"}],"owner":{"account_id":3527627,"reputation":557,"user_id":2948267,"accept_rate":73,"display_name":"Silva_PT_SCP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71337305,"answer_count":2,"score":2,"last_activity_date":1646315869,"creation_date":1646309679,"question_id":71337064,"body_markdown":"I have the following code to update one DynamoDB attribute:\r\n\r\n    val key = new AttributeValue().withS(rowAsMap.get(&quot;key&quot;).get)\r\n    val value = new AttributeValue().withS(rowAsMap.get(&quot;newValue&quot;).get)\r\n    \r\n    val updItemReq: UpdateItemRequest = new UpdateItemRequest()\r\n                .withTableName(&quot;table_name&quot;)\r\n                .addExpressionAttributeValuesEntry(&quot;:newValue&quot;, value)\r\n                .addExpressionAttributeNamesEntry(&quot;#val&quot;, &quot;value&quot;)\r\n                .addKeyEntry(&quot;key&quot;, key)\r\n                .withUpdateExpression(&quot;set previous_value = #val, #val= :newValue&quot;)\r\n                .withConditionExpression(&quot;#val &lt;&gt; :newValue&quot;)\r\n        \r\n    ddb.updateItem(updItemReq)\r\n\r\nThis will successfully update the &quot;value&quot; and &quot;previous_value&quot; attributes if the condition expression is met (in this case if there was a modification).\r\n\r\nWhat I need is to do this for other attributes, so I need a specific condition expression for each attribute to update. Can I do this without having to create as many &quot;UpdateItemRequests&quot; as many attributes I have?\r\n\r\n","title":"Multiple condition expressions for each attribute when performing update in DynamoDB","body":"<p>I have the following code to update one DynamoDB attribute:</p>\n<pre><code>val key = new AttributeValue().withS(rowAsMap.get(&quot;key&quot;).get)\nval value = new AttributeValue().withS(rowAsMap.get(&quot;newValue&quot;).get)\n\nval updItemReq: UpdateItemRequest = new UpdateItemRequest()\n            .withTableName(&quot;table_name&quot;)\n            .addExpressionAttributeValuesEntry(&quot;:newValue&quot;, value)\n            .addExpressionAttributeNamesEntry(&quot;#val&quot;, &quot;value&quot;)\n            .addKeyEntry(&quot;key&quot;, key)\n            .withUpdateExpression(&quot;set previous_value = #val, #val= :newValue&quot;)\n            .withConditionExpression(&quot;#val &lt;&gt; :newValue&quot;)\n    \nddb.updateItem(updItemReq)\n</code></pre>\n<p>This will successfully update the &quot;value&quot; and &quot;previous_value&quot; attributes if the condition expression is met (in this case if there was a modification).</p>\n<p>What I need is to do this for other attributes, so I need a specific condition expression for each attribute to update. Can I do this without having to create as many &quot;UpdateItemRequests&quot; as many attributes I have?</p>\n"},{"tags":["java","intellij-idea","junit"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1646314537,"post_id":71338088,"comment_id":126095910,"body_markdown":"I believe your artifactId is wrong. There&#39;s `junit-jupiter-api` and `junit-jupiter-engine`","body":"I believe your artifactId is wrong. There&#39;s <code>junit-jupiter-api</code> and <code>junit-jupiter-engine</code>"},{"owner":{"account_id":24382783,"reputation":79,"user_id":18314039,"display_name":"Rashmi"},"score":0,"creation_date":1646314920,"post_id":71338088,"comment_id":126096064,"body_markdown":"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter/5.4.0 Here&#39;s the dependency.","body":"<a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter/5.4.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter/&hellip;</a> Here&#39;s the dependency."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1646315943,"post_id":71338088,"comment_id":126096478,"body_markdown":"Indeed, didn&#39;t know there was an aggregator. Thanks for pointing that out. Are you using a custom Maven repository in either your POM or your Maven settings? It could be that you have a custom repository that is serving as mirror, but doesn&#39;t contain this artifact.","body":"Indeed, didn&#39;t know there was an aggregator. Thanks for pointing that out. Are you using a custom Maven repository in either your POM or your Maven settings? It could be that you have a custom repository that is serving as mirror, but doesn&#39;t contain this artifact."}],"owner":{"account_id":24382783,"reputation":79,"user_id":18314039,"display_name":"Rashmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646315645,"creation_date":1646314441,"question_id":71338088,"body_markdown":"I am using intelij and tried to use junit dependency. But when I am adding the dependency in my pom file, it gives me the following error. Why is this happening?\r\n```\r\nDependency &#39;org.junit.jupiter:junit-jupiter:5.5.2&#39; not found\r\n```\r\nMy pom..xml:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;5.5.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n**SOLVED**\r\n\r\nmaven -&gt; reload all projects","title":"Dependency &#39;junit:junit-jupiter:5.5.2&#39; not found","body":"<p>I am using intelij and tried to use junit dependency. But when I am adding the dependency in my pom file, it gives me the following error. Why is this happening?</p>\n<pre><code>Dependency 'org.junit.jupiter:junit-jupiter:5.5.2' not found\n</code></pre>\n<p>My pom..xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.5.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p><strong>SOLVED</strong></p>\n<p>maven -&gt; reload all projects</p>\n"},{"tags":["java","apache-camel","jsch"],"comments":[{"owner":{"account_id":11715536,"reputation":4839,"user_id":8576169,"display_name":"Bedla"},"score":1,"creation_date":1565859602,"post_id":57495686,"comment_id":101482388,"body_markdown":"Store byte array of private key in registry https://stackoverflow.com/questions/57396184/apache-camel-how-to-set-a-private-key-in-a-dinamic-sftp-endpoint","body":"Store byte array of private key in registry <a href=\"https://stackoverflow.com/questions/57396184/apache-camel-how-to-set-a-private-key-in-a-dinamic-sftp-endpoint\" title=\"apache camel how to set a private key in a dinamic sftp endpoint\">stackoverflow.com/questions/57396184/&hellip;</a>"},{"owner":{"account_id":9505849,"reputation":481,"user_id":7065399,"accept_rate":75,"display_name":"agata"},"score":0,"creation_date":1591270430,"post_id":57495686,"comment_id":109995183,"body_markdown":"@raspayu did you managed to solve this problem? I have exactly the same problem and I don&#39;t quite understand how can I set my private key in a registry and why","body":"@raspayu did you managed to solve this problem? I have exactly the same problem and I don&#39;t quite understand how can I set my private key in a registry and why"}],"answers":[{"tags":[],"owner":{"account_id":2746937,"reputation":175,"user_id":2367163,"display_name":"awat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646315246,"creation_date":1598472843,"answer_id":63605125,"question_id":57495686,"body_markdown":"The origin of the problem is the encoding, the URLEncoding, `byte` and `String` can loose some character like `+` or `\\\\`.\r\nI managed to make it work with `Byte[]` parameter for `privateKey` method Java DSL.\r\n\r\nExample:\r\n```java\r\nString privateKeyString = Files.readString(Path.of(&quot;/.ssh/private_key_rsa&quot;), StandardCharsets.UTF_8);\r\n\r\ngetCamelContext().getRegistry().bind(&quot;myPrivateKey&quot;, privateKeyString.toByteArray())\r\n\r\nfrom(&quot;file://tmp&quot;)\r\n.to(sftp(&quot;localhost&quot;)\r\n        .username(&quot;test&quot;)\r\n        .privateKey(&quot;#myPrivateKey&quot;));\r\n```\r\n\r\n","title":"Camel SFTP component - SSH private key URI works with privateKeyFile, doesn&#39;t work with privateKey","body":"<p>The origin of the problem is the encoding, the URLEncoding, <code>byte</code> and <code>String</code> can loose some character like <code>+</code> or <code>\\\\</code>.\nI managed to make it work with <code>Byte[]</code> parameter for <code>privateKey</code> method Java DSL.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String privateKeyString = Files.readString(Path.of(&quot;/.ssh/private_key_rsa&quot;), StandardCharsets.UTF_8);\n\ngetCamelContext().getRegistry().bind(&quot;myPrivateKey&quot;, privateKeyString.toByteArray())\n\nfrom(&quot;file://tmp&quot;)\n.to(sftp(&quot;localhost&quot;)\n        .username(&quot;test&quot;)\n        .privateKey(&quot;#myPrivateKey&quot;));\n</code></pre>\n"}],"owner":{"account_id":125956,"reputation":5099,"user_id":322099,"accept_rate":88,"display_name":"raspayu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5280,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1646315246,"creation_date":1565789134,"question_id":57495686,"body_markdown":"I have a camel route that looks like the next one:\r\n```\r\nfrom(&quot;direct:download&quot;)\r\n        .pollEnrich()\r\n        .simple(&quot;sftp://my.host:22/folder/?username=foo&amp;fileName=${header.CamelFileName}\r\n        &amp;privateKeyFile=src/main/resources/privateSSHKey&quot;)\r\n        .to(&quot;file://state/downloaded&quot;);\r\n```\r\nThe file src/main/resources/privateSSHKey is an RSA private key. That works without a problem : JSCH (library used by Camel for the SFTP endpoint) manages to connect and download the desired file.\r\n\r\nThe previous setup is ok while developing, because I can have the file with the key locally.\r\nHowever, for prod, we have other system in which I will be able to get a byte array with the content of the key. For that, I am changing the route to look like this:\r\n```\r\nfrom(&quot;direct:download&quot;)\r\n        .pollEnrich()\r\n        .simple(&quot;sftp://my.host:22/folder/?username=foo&amp;fileName=${header.CamelFileName}\r\n     &amp;privateKey=&quot; + URLEncoder.encode(new String(sshPrivateKey), &quot;UTF-8&quot;))\r\n        .to(&quot;file://state/downloaded&quot;);\r\n```\r\n...being sshPrivateKey the byte array. Unfortunately, I always get &quot;auth_cancel&quot; from JSCH, and debugging I can see that this happens when trying to handshake with the SFTP server.\r\n\r\nAm I missing something? I am pretty sure that encoding the sshPrivateKey byte[] is the way to go (JSCH was complaining about wrong key if I didn&#39;t do it), but I am not sure about what else I am missing?","title":"Camel SFTP component - SSH private key URI works with privateKeyFile, doesn&#39;t work with privateKey","body":"<p>I have a camel route that looks like the next one:</p>\n\n<pre><code>from(\"direct:download\")\n        .pollEnrich()\n        .simple(\"sftp://my.host:22/folder/?username=foo&amp;fileName=${header.CamelFileName}\n        &amp;privateKeyFile=src/main/resources/privateSSHKey\")\n        .to(\"file://state/downloaded\");\n</code></pre>\n\n<p>The file src/main/resources/privateSSHKey is an RSA private key. That works without a problem : JSCH (library used by Camel for the SFTP endpoint) manages to connect and download the desired file.</p>\n\n<p>The previous setup is ok while developing, because I can have the file with the key locally.\nHowever, for prod, we have other system in which I will be able to get a byte array with the content of the key. For that, I am changing the route to look like this:</p>\n\n<pre><code>from(\"direct:download\")\n        .pollEnrich()\n        .simple(\"sftp://my.host:22/folder/?username=foo&amp;fileName=${header.CamelFileName}\n     &amp;privateKey=\" + URLEncoder.encode(new String(sshPrivateKey), \"UTF-8\"))\n        .to(\"file://state/downloaded\");\n</code></pre>\n\n<p>...being sshPrivateKey the byte array. Unfortunately, I always get \"auth_cancel\" from JSCH, and debugging I can see that this happens when trying to handshake with the SFTP server.</p>\n\n<p>Am I missing something? I am pretty sure that encoding the sshPrivateKey byte[] is the way to go (JSCH was complaining about wrong key if I didn't do it), but I am not sure about what else I am missing?</p>\n"},{"tags":["java","android","build.gradle"],"comments":[{"owner":{"account_id":4238247,"reputation":562,"user_id":3734101,"accept_rate":75,"display_name":"Aiyaz Parmar"},"score":0,"creation_date":1427782539,"post_id":29361693,"comment_id":46907391,"body_markdown":"can you show us DataHelper.java  file ?","body":"can you show us DataHelper.java  file ?"}],"answers":[{"tags":[],"owner":{"account_id":3228675,"reputation":1498,"user_id":2724418,"accept_rate":74,"display_name":"YFeizi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1427783073,"creation_date":1427782847,"answer_id":29361914,"question_id":29361693,"body_markdown":"Probably you dont add suport-v4 library correctly in your project.  \r\nCheck this :\r\n\r\n 1. you have add this library to all modules that need it (If you have\r\n    more than module in your project like main module and library\r\n    module).\r\n 2. Check that you dont add this library twice.\r\n\r\nFinally if this didn&#39;t resolve your problem try to remove this library from your imported libraries list and your project modules dependency list and import and add it again from **one source** to your project , then try rebuild the project or restart the IDE.  \r\nI hope this way can help you :)","title":"Error :- Execution failed for task &#39;:app:dexDebug&#39; in android studio","body":"<p>Probably you dont add suport-v4 library correctly in your project.<br>\nCheck this :</p>\n\n<ol>\n<li>you have add this library to all modules that need it (If you have\nmore than module in your project like main module and library\nmodule).</li>\n<li>Check that you dont add this library twice.</li>\n</ol>\n\n<p>Finally if this didn't resolve your problem try to remove this library from your imported libraries list and your project modules dependency list and import and add it again from <strong>one source</strong> to your project , then try rebuild the project or restart the IDE.<br>\nI hope this way can help you :)</p>\n"},{"tags":[],"owner":{"account_id":5555763,"reputation":13811,"user_id":4407176,"accept_rate":76,"display_name":"SilentKnight"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427783126,"creation_date":1427783126,"answer_id":29361985,"question_id":29361693,"body_markdown":"The log trace have said: `Multiple dex files define Landroid/support/v4/accessibilityservice/AccessibilityServiceInfoCompatIcs;`. This is caused by some caches. Not anything wrong with your codes. You just need to `rebuild Project` or `clean Project`, then everything would be fine.","title":"Error :- Execution failed for task &#39;:app:dexDebug&#39; in android studio","body":"<p>The log trace have said: <code>Multiple dex files define Landroid/support/v4/accessibilityservice/AccessibilityServiceInfoCompatIcs;</code>. This is caused by some caches. Not anything wrong with your codes. You just need to <code>rebuild Project</code> or <code>clean Project</code>, then everything would be fine.</p>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427786674,"creation_date":1427786674,"answer_id":29362922,"question_id":29361693,"body_markdown":"This kind of issue happens when your are using **the same library with a different version**.\r\n\r\nRemove from your libs folder the supportv4.jar and add this line in the `build.gradle` file:\r\n\r\n    compile &#39;com.android.support:support-v4:21.0.3&#39;\r\n\r\n","title":"Error :- Execution failed for task &#39;:app:dexDebug&#39; in android studio","body":"<p>This kind of issue happens when your are using <strong>the same library with a different version</strong>.</p>\n\n<p>Remove from your libs folder the supportv4.jar and add this line in the <code>build.gradle</code> file:</p>\n\n<pre><code>compile 'com.android.support:support-v4:21.0.3'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1851386,"reputation":31,"user_id":1677883,"display_name":"shivanetha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431528217,"creation_date":1431528217,"answer_id":30218229,"question_id":29361693,"body_markdown":"This problem is not because of JDK 1.8 or 1.7, Its due to dependencies. Please check your Gradle Dependencies.\r\n\r\nI have faced similar issue, in my case the problem was occurred due to Facebook dependency\r\n\r\ndependencies {\r\n    ...\r\n    ...\r\n    ...\r\n    ...\r\n    ...\r\n    //Commented the following one\r\n    compile &#39;com.facebook.android:facebook-android-sdk:4.0.0&#39;\r\n}\r\nafter commenting the above line everything was normal","title":"Error :- Execution failed for task &#39;:app:dexDebug&#39; in android studio","body":"<p>This problem is not because of JDK 1.8 or 1.7, Its due to dependencies. Please check your Gradle Dependencies.</p>\n\n<p>I have faced similar issue, in my case the problem was occurred due to Facebook dependency</p>\n\n<p>dependencies {\n    ...\n    ...\n    ...\n    ...\n    ...\n    //Commented the following one\n    compile 'com.facebook.android:facebook-android-sdk:4.0.0'\n}\nafter commenting the above line everything was normal</p>\n"},{"tags":[],"owner":{"account_id":24301041,"reputation":19,"user_id":18244537,"display_name":"MD ALI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646315088,"creation_date":1646315088,"answer_id":71338239,"question_id":29361693,"body_markdown":"Most probably you are using same package which may be deprecated and came up with new name. and possibility that you install both of them.\r\nor\r\nmay be same package with different version is installed.","title":"Error :- Execution failed for task &#39;:app:dexDebug&#39; in android studio","body":"<p>Most probably you are using same package which may be deprecated and came up with new name. and possibility that you install both of them.\nor\nmay be same package with different version is installed.</p>\n"}],"owner":{"account_id":5786999,"reputation":998,"user_id":4565853,"accept_rate":36,"display_name":"Finava Vipul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18088,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29361914,"answer_count":5,"score":11,"last_activity_date":1646315088,"creation_date":1427781983,"question_id":29361693,"body_markdown":"I newly Android project started a new default project. Everytime I try to start the app this error occurs:\r\n\r\nbuild.gradle(Module:app)\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 21\r\n        buildToolsVersion &quot;21.1.2&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.jdevani.validationdemo&quot;\r\n            minSdkVersion 8\r\n            targetSdkVersion 21\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;com.android.support:appcompat-v7:21.0.3&#39;\r\n    }\r\n\r\nbuild.gradle(project:EmerGencyHelp)\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:1.1.0&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\nmy error is \r\n\r\n    Information:Gradle tasks [:app:assembleDebug]\r\n    :app:preBuild UP-TO-DATE\r\n    :app:preDebugBuild UP-TO-DATE\r\n    :app:compileDebugNdk UP-TO-DATE\r\n    :app:checkDebugManifest\r\n    :app:preReleaseBuild UP-TO-DATE\r\n    :app:prepareComAndroidSupportAppcompatV72103Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportSupportV42103Library UP-TO-DATE\r\n    :app:prepareDebugDependencies\r\n    :app:compileDebugAidl UP-TO-DATE\r\n    :app:compileDebugRenderscript UP-TO-DATE\r\n    :app:generateDebugBuildConfig UP-TO-DATE\r\n    :app:generateDebugAssets UP-TO-DATE\r\n    :app:mergeDebugAssets UP-TO-DATE\r\n    :app:generateDebugResValues UP-TO-DATE\r\n    :app:generateDebugResources UP-TO-DATE\r\n    :app:mergeDebugResources UP-TO-DATE\r\n    :app:processDebugManifest UP-TO-DATE\r\n    :app:processDebugResources UP-TO-DATE\r\n    :app:generateDebugSources UP-TO-DATE\r\n    :app:compileDebugJava\r\n    Note: C:\\Users\\vfinava\\Desktop\\Project\\EmerGencyHelp\\app\\src\\main\\java\\com\\example\\vfinava\\emergencyhelp\\DataHelper.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    :app:preDexDebug\r\n    :app:dexDebug\r\n    UNEXPECTED TOP-LEVEL EXCEPTION:\r\n    com.android.dex.DexException: Multiple dex files define Landroid/support/v4/accessibilityservice/AccessibilityServiceInfoCompatIcs;\r\n    \tat com.android.dx.merge.DexMerger.readSortableTypes(DexMerger.java:596)\r\n    \tat com.android.dx.merge.DexMerger.getSortedTypes(DexMerger.java:554)\r\n    \tat com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:535)\r\n    \tat com.android.dx.merge.DexMerger.mergeDexes(DexMerger.java:171)\r\n    \tat com.android.dx.merge.DexMerger.merge(DexMerger.java:189)\r\n    \tat com.android.dx.command.dexer.Main.mergeLibraryDexBuffers(Main.java:454)\r\n    \tat com.android.dx.command.dexer.Main.runMonoDex(Main.java:303)\r\n    \tat com.android.dx.command.dexer.Main.run(Main.java:246)\r\n    \tat com.android.dx.command.dexer.Main.main(Main.java:215)\r\n    \tat com.android.dx.command.Main.main(Main.java:106)\r\n    \r\n    Error:Execution failed for task &#39;:app:dexDebug&#39;.\r\n    &gt; com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_20\\bin\\java.exe&#39;&#39; finished with non-zero exit value 2\r\n    \r\n    Information:BUILD FAILED\r\n    Information:Total time: 5.684 secs\r\n    Information:1 error\r\n    Information:0 warnings\r\n    Information:See complete output in console\r\n\r\n\r\n\r\nplease help me\r\nThanks in advance,","title":"Error :- Execution failed for task &#39;:app:dexDebug&#39; in android studio","body":"<p>I newly Android project started a new default project. Everytime I try to start the app this error occurs:</p>\n\n<p>build.gradle(Module:app)</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 21\n    buildToolsVersion \"21.1.2\"\n\n    defaultConfig {\n        applicationId \"com.example.jdevani.validationdemo\"\n        minSdkVersion 8\n        targetSdkVersion 21\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:21.0.3'\n}\n</code></pre>\n\n<p>build.gradle(project:EmerGencyHelp)</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.1.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>my error is </p>\n\n<pre><code>Information:Gradle tasks [:app:assembleDebug]\n:app:preBuild UP-TO-DATE\n:app:preDebugBuild UP-TO-DATE\n:app:compileDebugNdk UP-TO-DATE\n:app:checkDebugManifest\n:app:preReleaseBuild UP-TO-DATE\n:app:prepareComAndroidSupportAppcompatV72103Library UP-TO-DATE\n:app:prepareComAndroidSupportSupportV42103Library UP-TO-DATE\n:app:prepareDebugDependencies\n:app:compileDebugAidl UP-TO-DATE\n:app:compileDebugRenderscript UP-TO-DATE\n:app:generateDebugBuildConfig UP-TO-DATE\n:app:generateDebugAssets UP-TO-DATE\n:app:mergeDebugAssets UP-TO-DATE\n:app:generateDebugResValues UP-TO-DATE\n:app:generateDebugResources UP-TO-DATE\n:app:mergeDebugResources UP-TO-DATE\n:app:processDebugManifest UP-TO-DATE\n:app:processDebugResources UP-TO-DATE\n:app:generateDebugSources UP-TO-DATE\n:app:compileDebugJava\nNote: C:\\Users\\vfinava\\Desktop\\Project\\EmerGencyHelp\\app\\src\\main\\java\\com\\example\\vfinava\\emergencyhelp\\DataHelper.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n:app:preDexDebug\n:app:dexDebug\nUNEXPECTED TOP-LEVEL EXCEPTION:\ncom.android.dex.DexException: Multiple dex files define Landroid/support/v4/accessibilityservice/AccessibilityServiceInfoCompatIcs;\n    at com.android.dx.merge.DexMerger.readSortableTypes(DexMerger.java:596)\n    at com.android.dx.merge.DexMerger.getSortedTypes(DexMerger.java:554)\n    at com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:535)\n    at com.android.dx.merge.DexMerger.mergeDexes(DexMerger.java:171)\n    at com.android.dx.merge.DexMerger.merge(DexMerger.java:189)\n    at com.android.dx.command.dexer.Main.mergeLibraryDexBuffers(Main.java:454)\n    at com.android.dx.command.dexer.Main.runMonoDex(Main.java:303)\n    at com.android.dx.command.dexer.Main.run(Main.java:246)\n    at com.android.dx.command.dexer.Main.main(Main.java:215)\n    at com.android.dx.command.Main.main(Main.java:106)\n\nError:Execution failed for task ':app:dexDebug'.\n&gt; com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files\\Java\\jdk1.8.0_20\\bin\\java.exe'' finished with non-zero exit value 2\n\nInformation:BUILD FAILED\nInformation:Total time: 5.684 secs\nInformation:1 error\nInformation:0 warnings\nInformation:See complete output in console\n</code></pre>\n\n<p>please help me\nThanks in advance,</p>\n"},{"tags":["java","android","android-recyclerview","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646315024,"creation_date":1646309029,"answer_id":71336908,"question_id":71336735,"body_markdown":"the problem is that you MUST set every `View` in `onBindViewHolder` and you are not doing this in below snippet\r\n\r\n        if (sPrefs.contains(product.getName())) {\r\n            holder.test.setText(product.getName());\r\n\r\n            holder.addButton.setText(&quot;Remove&quot;);\r\n        } else {\r\n            holder.addButton.setText(&quot;Add&quot;);\r\n        }\r\n\r\n`holder.test` don&#39;t have any text set in `else`, so it will stay same as previously set if this is recycled item. you should probably clean this line then\r\n\r\n        } else {\r\n            holder.test.setText(&quot;&quot;);\r\n            holder.addButton.setText(&quot;Add&quot;);\r\n        }\r\n\r\nget familiar with **&quot;recycling pattern&quot;**, how it works any why... [HERE](https://www.geeksforgeeks.org/view-recycling-in-android-with-listview/) you have an example for old-fashioned `ListView`. not every developer was using recycling pattern in adapter, but it&#39;s crucial for performance, thus for this reason (and probably some other) Google decided to make new widget called `RecyclerView`, which has recycling pattern &quot;built-in&quot;, even got name from it\r\n\r\nPS. don&#39;t keep `Context` in model, never","title":"In Recycleview , Why current row keeping previous Model class name, even after refreshing row ? See code","body":"<p>the problem is that you MUST set every <code>View</code> in <code>onBindViewHolder</code> and you are not doing this in below snippet</p>\n<pre><code>    if (sPrefs.contains(product.getName())) {\n        holder.test.setText(product.getName());\n\n        holder.addButton.setText(&quot;Remove&quot;);\n    } else {\n        holder.addButton.setText(&quot;Add&quot;);\n    }\n</code></pre>\n<p><code>holder.test</code> don't have any text set in <code>else</code>, so it will stay same as previously set if this is recycled item. you should probably clean this line then</p>\n<pre><code>    } else {\n        holder.test.setText(&quot;&quot;);\n        holder.addButton.setText(&quot;Add&quot;);\n    }\n</code></pre>\n<p>get familiar with <strong>&quot;recycling pattern&quot;</strong>, how it works any why... <a href=\"https://www.geeksforgeeks.org/view-recycling-in-android-with-listview/\" rel=\"nofollow noreferrer\">HERE</a> you have an example for old-fashioned <code>ListView</code>. not every developer was using recycling pattern in adapter, but it's crucial for performance, thus for this reason (and probably some other) Google decided to make new widget called <code>RecyclerView</code>, which has recycling pattern &quot;built-in&quot;, even got name from it</p>\n<p>PS. don't keep <code>Context</code> in model, never</p>\n"}],"owner":{"account_id":23963848,"reputation":29,"user_id":17953616,"display_name":"Gurdeep Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646315024,"creation_date":1646308354,"question_id":71336735,"body_markdown":"I have a `RecyclerView`, In it i have some rows showing `(Text View 1) Product name` , `Button` and a `Text View 2` ,\r\nThis `Text View 2` is just to test the problem, When i press `Button` in several `rows` to add it works fine But the issue is when i press remove after remove in several rows, Its updating `Text View 2` with previous row&#39;s `Product Name`, So i don&#39;t know why its keeping previous rows name saved somewhere while i refreshed the row by `notifyItemChanged(position)`. Here is a test version of my `Project` showing the issue, Can anyone exactly say why its happening and how to solve it, \r\nRun the project to see whats happening exactly.\r\nThis is my `RecyclerView`.\r\n```\r\npublic class Recyclerview extends RecyclerView.Adapter&lt;Recyclerview.MyViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;Product&gt; list;\r\n\r\n    public Recyclerview(Context context, ArrayList&lt;Product&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.row_product, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = list.get(position);\r\n\r\n        holder.xName.setText(product.getName());\r\n\r\n        SharedPreferences sPrefs = context.getSharedPreferences(&quot;Item details&quot;, Context.MODE_PRIVATE);\r\n\r\n        if (sPrefs.contains(product.getName())) {\r\n            holder.test.setText(product.getName());\r\n\r\n            holder.addButton.setText(&quot;Remove&quot;);\r\n        } else {\r\n            holder.addButton.setText(&quot;Add&quot;);\r\n        }\r\n        holder.addButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if (holder.addButton.getText().toString().equals(&quot;Add&quot;)) {\r\n\r\n                    HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n                    hashMap.put(&quot;Item Name&quot;, product.getName());\r\n                    saveMap(product.getName(), hashMap);\r\n\r\n                    notifyItemChanged(holder.getLayoutPosition());\r\n\r\n                } else if (holder.addButton.getText().toString().equals(&quot;Remove&quot;)) {\r\n\r\n                    SharedPreferences mPrefs = context.getSharedPreferences(&quot;Item details&quot;, Context.MODE_PRIVATE);\r\n                    SharedPreferences.Editor prefsEditor = mPrefs.edit()\r\n                            .remove(product.getName());\r\n                    prefsEditor.apply();\r\n\r\n                    notifyItemChanged(holder.getLayoutPosition());\r\n                }\r\n            }\r\n\r\n            private void saveMap(String key, Object obj) {\r\n                SharedPreferences prefs = context.getSharedPreferences(&quot;Item details&quot;, Context.MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = prefs.edit();\r\n                Gson gson = new Gson();\r\n                String json = gson.toJson(obj);\r\n                editor.putString(key, json);\r\n                editor.apply();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        Button addButton;\r\n        TextView xName, test;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            xName = itemView.findViewById(R.id.product_name);\r\n            addButton = itemView.findViewById(R.id.btnAddItem);\r\n            test = itemView.findViewById(R.id.testUid);\r\n        }\r\n    }\r\n}\r\n```\r\nThis is my `Model class`\r\n```\r\npublic class Product {\r\n\r\n    Context mContext;\r\n    String name;\r\n\r\n    public Product(Context mContext, String name) {\r\n\r\n        this.mContext = mContext;\r\n        this.name = name;\r\n\r\n    }\r\n\r\n    public Context getmContext() {\r\n        return mContext;\r\n    }\r\n\r\n    public void setmContext(Context mContext) {\r\n        this.mContext = mContext;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n```\r\nThis is my `Main Activity`.\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    RecyclerView recview;\r\n    Recyclerview productAdapter;\r\n    ArrayList&lt;Product&gt; productList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recview = findViewById(R.id.recyclerview);\r\n        ViewCompat.setNestedScrollingEnabled(recview, false);\r\n        recview.setHasFixedSize(true);\r\n        recview.setLayoutManager(new LinearLayoutManager(this));\r\n        productList = new ArrayList&lt;&gt;();\r\n\r\n        productList.add(new Product(this,&quot;Sugar&quot;));\r\n        productList.add(new Product(this,&quot;Coffee&quot;));\r\n        productList.add(new Product(this,&quot;Tea&quot;));\r\n        productList.add(new Product(this,&quot;Milk&quot;));\r\n        productList.add(new Product(this,&quot;Vegetable&quot;));\r\n        productList.add(new Product(this,&quot;Bread&quot;));\r\n        productList.add(new Product(this,&quot;Jam&quot;));\r\n        productList.add(new Product(this,&quot;Butter&quot;));\r\n        productList.add(new Product(this,&quot;Sandwich&quot;));\r\n        productList.add(new Product(this,&quot;Roll&quot;));\r\n        productList.add(new Product(this,&quot;Salt&quot;));\r\n        productAdapter = new Recyclerview(this, productList);\r\n        recview.setAdapter(productAdapter);\r\n    }\r\n}\r\n```\r\nThis is `activity_main.xml`.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#9C9696&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:listitem=&quot;@layout/row_product&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nThis is my `row_product.xml`.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:padding=&quot;10dp&quot;\r\n    android:layout_margin=&quot;5dp&quot;\r\n    android:background=&quot;#FFFFFF&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:gravity=&quot;center&quot;\r\n            android:textSize=&quot;15sp&quot;\r\n            android:text=&quot;Nothing&quot;\r\n            android:id=&quot;@+id/testUid&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;#A10000&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/product_name&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/testUid&quot;\r\n            app:layout_wrapBehaviorInParent=&quot;horizontal_only&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnAddItem&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/testUid&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"In Recycleview , Why current row keeping previous Model class name, even after refreshing row ? See code","body":"<p>I have a <code>RecyclerView</code>, In it i have some rows showing <code>(Text View 1) Product name</code> , <code>Button</code> and a <code>Text View 2</code> ,\nThis <code>Text View 2</code> is just to test the problem, When i press <code>Button</code> in several <code>rows</code> to add it works fine But the issue is when i press remove after remove in several rows, Its updating <code>Text View 2</code> with previous row's <code>Product Name</code>, So i don't know why its keeping previous rows name saved somewhere while i refreshed the row by <code>notifyItemChanged(position)</code>. Here is a test version of my <code>Project</code> showing the issue, Can anyone exactly say why its happening and how to solve it,\nRun the project to see whats happening exactly.\nThis is my <code>RecyclerView</code>.</p>\n<pre><code>public class Recyclerview extends RecyclerView.Adapter&lt;Recyclerview.MyViewHolder&gt; {\n    Context context;\n    ArrayList&lt;Product&gt; list;\n\n    public Recyclerview(Context context, ArrayList&lt;Product&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.row_product, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        Product product = list.get(position);\n\n        holder.xName.setText(product.getName());\n\n        SharedPreferences sPrefs = context.getSharedPreferences(&quot;Item details&quot;, Context.MODE_PRIVATE);\n\n        if (sPrefs.contains(product.getName())) {\n            holder.test.setText(product.getName());\n\n            holder.addButton.setText(&quot;Remove&quot;);\n        } else {\n            holder.addButton.setText(&quot;Add&quot;);\n        }\n        holder.addButton.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n\n                if (holder.addButton.getText().toString().equals(&quot;Add&quot;)) {\n\n                    HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n                    hashMap.put(&quot;Item Name&quot;, product.getName());\n                    saveMap(product.getName(), hashMap);\n\n                    notifyItemChanged(holder.getLayoutPosition());\n\n                } else if (holder.addButton.getText().toString().equals(&quot;Remove&quot;)) {\n\n                    SharedPreferences mPrefs = context.getSharedPreferences(&quot;Item details&quot;, Context.MODE_PRIVATE);\n                    SharedPreferences.Editor prefsEditor = mPrefs.edit()\n                            .remove(product.getName());\n                    prefsEditor.apply();\n\n                    notifyItemChanged(holder.getLayoutPosition());\n                }\n            }\n\n            private void saveMap(String key, Object obj) {\n                SharedPreferences prefs = context.getSharedPreferences(&quot;Item details&quot;, Context.MODE_PRIVATE);\n                SharedPreferences.Editor editor = prefs.edit();\n                Gson gson = new Gson();\n                String json = gson.toJson(obj);\n                editor.putString(key, json);\n                editor.apply();\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\n\n        Button addButton;\n        TextView xName, test;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            xName = itemView.findViewById(R.id.product_name);\n            addButton = itemView.findViewById(R.id.btnAddItem);\n            test = itemView.findViewById(R.id.testUid);\n        }\n    }\n}\n</code></pre>\n<p>This is my <code>Model class</code></p>\n<pre><code>public class Product {\n\n    Context mContext;\n    String name;\n\n    public Product(Context mContext, String name) {\n\n        this.mContext = mContext;\n        this.name = name;\n\n    }\n\n    public Context getmContext() {\n        return mContext;\n    }\n\n    public void setmContext(Context mContext) {\n        this.mContext = mContext;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n</code></pre>\n<p>This is my <code>Main Activity</code>.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    RecyclerView recview;\n    Recyclerview productAdapter;\n    ArrayList&lt;Product&gt; productList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        recview = findViewById(R.id.recyclerview);\n        ViewCompat.setNestedScrollingEnabled(recview, false);\n        recview.setHasFixedSize(true);\n        recview.setLayoutManager(new LinearLayoutManager(this));\n        productList = new ArrayList&lt;&gt;();\n\n        productList.add(new Product(this,&quot;Sugar&quot;));\n        productList.add(new Product(this,&quot;Coffee&quot;));\n        productList.add(new Product(this,&quot;Tea&quot;));\n        productList.add(new Product(this,&quot;Milk&quot;));\n        productList.add(new Product(this,&quot;Vegetable&quot;));\n        productList.add(new Product(this,&quot;Bread&quot;));\n        productList.add(new Product(this,&quot;Jam&quot;));\n        productList.add(new Product(this,&quot;Butter&quot;));\n        productList.add(new Product(this,&quot;Sandwich&quot;));\n        productList.add(new Product(this,&quot;Roll&quot;));\n        productList.add(new Product(this,&quot;Salt&quot;));\n        productAdapter = new Recyclerview(this, productList);\n        recview.setAdapter(productAdapter);\n    }\n}\n</code></pre>\n<p>This is <code>activity_main.xml</code>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#9C9696&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:listitem=&quot;@layout/row_product&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>This is my <code>row_product.xml</code>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:padding=&quot;10dp&quot;\n    android:layout_margin=&quot;5dp&quot;\n    android:background=&quot;#FFFFFF&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n        &lt;TextView\n            android:gravity=&quot;center&quot;\n            android:textSize=&quot;15sp&quot;\n            android:text=&quot;Nothing&quot;\n            android:id=&quot;@+id/testUid&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;#A10000&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:layout_marginTop=&quot;10dp&quot;\n            android:gravity=&quot;center&quot;\n            android:id=&quot;@+id/product_name&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/testUid&quot;\n            app:layout_wrapBehaviorInParent=&quot;horizontal_only&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnAddItem&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/testUid&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","multithreading","scheduled-tasks","spring-scheduled"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646317749,"post_id":71338139,"comment_id":126097236,"body_markdown":"They have the same name, so in the end, there is only 1 instance of the bean. However which that is remains to be decided as that depends on the order in which the classes are loaded.","body":"They have the same name, so in the end, there is only 1 instance of the bean. However which that is remains to be decided as that depends on the order in which the classes are loaded."},{"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"score":0,"creation_date":1646319890,"post_id":71338139,"comment_id":126098130,"body_markdown":"ok , so is it that the bean loading order could be different every time ?","body":"ok , so is it that the bean loading order could be different every time ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646382403,"post_id":71338139,"comment_id":126113809,"body_markdown":"Yes it can (or at least the processing). If you rename the method you will probably get an exception indicating that you have 2 schedulers.","body":"Yes it can (or at least the processing). If you rename the method you will probably get an exception indicating that you have 2 schedulers."}],"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646314645,"creation_date":1646314645,"question_id":71338139,"body_markdown":"In my application I had defined a bean for `TaskScheduler` with pool size of 5 as there are multiple `@Scheduled` methods in my application and it was required that they should be able to run in parallel and not on same thread (which is default configuration of Spring Scheduler).\r\n\r\n    @Bean\r\n    public TaskScheduler taskScheduler() {\r\n    \tfinal ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n    \tscheduler.setPoolSize(5);\r\n    \treturn scheduler;\r\n    }\r\n\r\nI was unaware that there already exists a scheduler thread pool like this:\r\n\r\n    @Bean\r\n    @Autowired\r\n    public Executor taskScheduler(MyThreadPoolService myThreadPoolService) {\r\n    \treturn myThreadPoolService.newScheduledThreadPool(&quot;Concurrency.Task-Scheduler&quot;);//Concurrency.Task-Scheduler is threadpool name.\r\n    }\r\n\r\nNow my application has both the beans but in my logs I notice that the thread running the `@Scheduled` methods is &quot;Concurrency.Task-Scheduler-Thread-1&quot; i.e. the already defined one and all the `@Scheduled` methods are running on the same thread &quot;Concurrency.Task-Scheduler-Thread-1&quot;. \r\n\r\nI have also noticed that when testing I restart the application again and again, sometimes the `@Scheduled` methods run on different threads as configured in first configuration i.e. different thread names are printed taskScheduler-1, taskScheduler-2 which means the threadpool from my first configuration is being picked up.\r\n\r\nI am unable to understand how this is happening. How is it that sometimes &quot;taskScheduler&quot; threadpool is used and sometimes &quot;Concurrency.Task-Scheduler&quot;. Shouldn&#39;t there be a bean conflict ?","title":"spring scheduler - Two Scheduler Beans specified in configuration","body":"<p>In my application I had defined a bean for <code>TaskScheduler</code> with pool size of 5 as there are multiple <code>@Scheduled</code> methods in my application and it was required that they should be able to run in parallel and not on same thread (which is default configuration of Spring Scheduler).</p>\n<pre><code>@Bean\npublic TaskScheduler taskScheduler() {\n    final ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n    scheduler.setPoolSize(5);\n    return scheduler;\n}\n</code></pre>\n<p>I was unaware that there already exists a scheduler thread pool like this:</p>\n<pre><code>@Bean\n@Autowired\npublic Executor taskScheduler(MyThreadPoolService myThreadPoolService) {\n    return myThreadPoolService.newScheduledThreadPool(&quot;Concurrency.Task-Scheduler&quot;);//Concurrency.Task-Scheduler is threadpool name.\n}\n</code></pre>\n<p>Now my application has both the beans but in my logs I notice that the thread running the <code>@Scheduled</code> methods is &quot;Concurrency.Task-Scheduler-Thread-1&quot; i.e. the already defined one and all the <code>@Scheduled</code> methods are running on the same thread &quot;Concurrency.Task-Scheduler-Thread-1&quot;.</p>\n<p>I have also noticed that when testing I restart the application again and again, sometimes the <code>@Scheduled</code> methods run on different threads as configured in first configuration i.e. different thread names are printed taskScheduler-1, taskScheduler-2 which means the threadpool from my first configuration is being picked up.</p>\n<p>I am unable to understand how this is happening. How is it that sometimes &quot;taskScheduler&quot; threadpool is used and sometimes &quot;Concurrency.Task-Scheduler&quot;. Shouldn't there be a bean conflict ?</p>\n"},{"tags":["java","csv","spring-mvc","spring-boot","inputstream"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1485350884,"post_id":41852754,"comment_id":70889265,"body_markdown":"Why do you need to create a file? Why don&#39;t you write the CSV file directly to `response.getWriter()`?","body":"Why do you need to create a file? Why don&#39;t you write the CSV file directly to <code>response.getWriter()</code>?"},{"owner":{"account_id":239923,"reputation":11783,"user_id":509840,"accept_rate":71,"display_name":"rajah9"},"score":1,"creation_date":1485350945,"post_id":41852754,"comment_id":70889313,"body_markdown":"You can&#39;t write the file without saving it. &quot;Save&quot; means you write the file and close it.","body":"You can&#39;t write the file without saving it. &quot;Save&quot; means you write the file and close it."},{"owner":{"account_id":5707735,"reputation":380,"user_id":4510693,"accept_rate":88,"display_name":"Amnor"},"score":0,"creation_date":1485351011,"post_id":41852754,"comment_id":70889359,"body_markdown":"Why don&#39;t you read the file in a BufferedReader, put everyline in an ArrayList, and then work on that? you wouldn&#39;t write a file, and you would be working in your operating memory. You can&#39;t &quot;write&quot; without saving, &quot;write&quot; is a method that, as its name says, writes to disk.","body":"Why don&#39;t you read the file in a BufferedReader, put everyline in an ArrayList, and then work on that? you wouldn&#39;t write a file, and you would be working in your operating memory. You can&#39;t &quot;write&quot; without saving, &quot;write&quot; is a method that, as its name says, writes to disk."},{"owner":{"account_id":7723491,"reputation":185,"user_id":5848938,"accept_rate":73,"display_name":"John"},"score":0,"creation_date":1485351793,"post_id":41852754,"comment_id":70889887,"body_markdown":"@Erwin Bolwidt I need to create a file to put data in it.","body":"@Erwin Bolwidt I need to create a file to put data in it."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1485352179,"post_id":41852754,"comment_id":70890177,"body_markdown":"@John Why ? You are deleting the file at the end of the request so clearly you don&#39;t need to leave it in the file. As I said in my first comment, you should send the CSV file directly to `response.getWriter()`","body":"@John Why ? You are deleting the file at the end of the request so clearly you don&#39;t need to leave it in the file. As I said in my first comment, you should send the CSV file directly to <code>response.getWriter()</code>"},{"owner":{"account_id":7723491,"reputation":185,"user_id":5848938,"accept_rate":73,"display_name":"John"},"score":1,"creation_date":1488213585,"post_id":41852754,"comment_id":72121456,"body_markdown":"You&#39;re right ! I have writen directly in the response. I didn&#39;t know it was possible . Many Thanks","body":"You&#39;re right ! I have writen directly in the response. I didn&#39;t know it was possible . Many Thanks"}],"answers":[{"tags":[],"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485351080,"creation_date":1485351080,"answer_id":41852917,"question_id":41852754,"body_markdown":"You can try, if temporary files are allowed:\r\n\r\n    File temp = File.createTempFile(&quot;test.csv&quot;, &quot;.csv&quot;);\r\n\r\nThese files are getting created in the user storage of the system, so like &quot;C:\\Users\\[Username]\\AppData&quot; in Windows, or something like that. I don&#39;t know the exact path, but that should not be important now.\r\n\r\nCheck out all the kinds of OutputStreams, that exist in Java, there is more than the FileOutputStream:\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html\r\nCheck the subclasses.","title":"Create CSV file without saving it into file system","body":"<p>You can try, if temporary files are allowed:</p>\n\n<pre><code>File temp = File.createTempFile(\"test.csv\", \".csv\");\n</code></pre>\n\n<p>These files are getting created in the user storage of the system, so like \"C:\\Users[Username]\\AppData\" in Windows, or something like that. I don't know the exact path, but that should not be important now.</p>\n\n<p>Check out all the kinds of OutputStreams, that exist in Java, there is more than the FileOutputStream:\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html</a>\nCheck the subclasses.</p>\n"},{"tags":[],"owner":{"account_id":8502249,"reputation":444,"user_id":6374856,"display_name":"Andrei Makarevich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485353820,"creation_date":1485351686,"answer_id":41853157,"question_id":41852754,"body_markdown":"You can try to write directly to response:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Writer writer =  response.getWriter();\r\n\r\n    CsvBuilder.writeLine(writer, headers);\r\n    CsvBuilder.writeLine(writer, values);\r\n    writer.flush();\r\n    writer.close();\r\n\r\n    response.setContentType(&quot;text/csv&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=&quot; + csvFile);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf that can not be used for some reason and temporary files are also not allowed for you, you can try to use this pretty ugly in-memory variant.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;Integer&gt; output = new LinkedList&lt;&gt;();\r\n    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new OutputStream() {\r\n        @Override\r\n        public void write(int b) throws IOException {\r\n            output.add(b);\r\n        }\r\n    }));\r\n    // write all the things via CsvBuilder\r\n    final BufferedReader reader = new BufferedReader(new InputStreamReader(new InputStream() {\r\n        @Override\r\n        public int read() throws IOException {\r\n            if (output.size() &gt; 0) {\r\n                return output.remove(0);\r\n            }\r\n            return -1;\r\n        }\r\n    }));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Create CSV file without saving it into file system","body":"<p>You can try to write directly to response:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Writer writer =  response.getWriter();\n\nCsvBuilder.writeLine(writer, headers);\nCsvBuilder.writeLine(writer, values);\nwriter.flush();\nwriter.close();\n\nresponse.setContentType(\"text/csv\");\nresponse.setHeader(\"Content-Disposition\",\"attachment; filename=\" + csvFile);\n</code></pre>\n\n<p>If that can not be used for some reason and temporary files are also not allowed for you, you can try to use this pretty ugly in-memory variant.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; output = new LinkedList&lt;&gt;();\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new OutputStream() {\n    @Override\n    public void write(int b) throws IOException {\n        output.add(b);\n    }\n}));\n// write all the things via CsvBuilder\nfinal BufferedReader reader = new BufferedReader(new InputStreamReader(new InputStream() {\n    @Override\n    public int read() throws IOException {\n        if (output.size() &gt; 0) {\n            return output.remove(0);\n        }\n        return -1;\n    }\n}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18575,"reputation":8727,"user_id":42659,"accept_rate":95,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646314439,"creation_date":1485352258,"answer_id":41853351,"question_id":41852754,"body_markdown":"Assuming that `CsvBuilder.writeLine(...)` does only accept an instance of `java.io.Writer`, why not using `java.io.StringWriter` and `java.util.Scanner`?\r\n\r\n    // ...\r\n\r\n    StringWriter writer = new StringWriter();\r\n    CsvBuilder.writeLine(writer, headers);\r\n    CsvBuilder.writeLine(writer, values);\r\n    writer.flush();\r\n        \r\n    response.setContentType(&quot;text/csv&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=test.csv&quot;);\r\n\r\n    Scanner scanner = new Scanner(new StringReader(writer.toString()));\r\n    while (scanner.hasNext()) {\r\n       response.getWriter().write(scanner.next() + &quot;\\n&quot;);\r\n    }\r\n\r\n    // ...\r\n\r\nHowever, I think Andrei Makarevich&#39;s answer using `response.getWriter()` directly is probably the most forward approach. Although, I&#39;m not sure if the line feeds will be added by `CsvBuilder` since your adding them explicitly!?","title":"Create CSV file without saving it into file system","body":"<p>Assuming that <code>CsvBuilder.writeLine(...)</code> does only accept an instance of <code>java.io.Writer</code>, why not using <code>java.io.StringWriter</code> and <code>java.util.Scanner</code>?</p>\n<pre><code>// ...\n\nStringWriter writer = new StringWriter();\nCsvBuilder.writeLine(writer, headers);\nCsvBuilder.writeLine(writer, values);\nwriter.flush();\n    \nresponse.setContentType(&quot;text/csv&quot;);\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=test.csv&quot;);\n\nScanner scanner = new Scanner(new StringReader(writer.toString()));\nwhile (scanner.hasNext()) {\n   response.getWriter().write(scanner.next() + &quot;\\n&quot;);\n}\n\n// ...\n</code></pre>\n<p>However, I think Andrei Makarevich's answer using <code>response.getWriter()</code> directly is probably the most forward approach. Although, I'm not sure if the line feeds will be added by <code>CsvBuilder</code> since your adding them explicitly!?</p>\n"},{"tags":[],"owner":{"account_id":8271174,"reputation":51,"user_id":6218792,"display_name":"crash8854"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485352686,"creation_date":1485352686,"answer_id":41853510,"question_id":41852754,"body_markdown":"You can use StringBuilderWriter to have a writer instead of FileWriter\r\n\r\n\tfinal Writer writer = new StringBuilderWriter();","title":"Create CSV file without saving it into file system","body":"<p>You can use StringBuilderWriter to have a writer instead of FileWriter</p>\n\n<pre><code>final Writer writer = new StringBuilderWriter();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10680554,"reputation":798,"user_id":7862778,"display_name":"Srikanth Josyula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595239292,"creation_date":1595239292,"answer_id":62992995,"question_id":41852754,"body_markdown":"Incase someone still looking for the answer, below code worked for me perfectly\r\n\r\nImport the below dependencies \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.javacsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javacsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nBelow code, im writing data to ByteArrayOutputStream, instead of FileWriter \r\n\r\n      ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t  CsvWriter csvWriter = new CsvWriter(new BufferedOutputStream(out), &#39;,&#39;, Charset.forName(&quot;UTF-8&quot;));\r\n\t  String[] data = new String[] { &quot;fieldValueA&quot;, &quot;fieldValueB&quot;, &quot;fieldValueC&quot; };\r\n\t  csvWriter.writeRecord(data);\r\n\t  csvWriter.close();","title":"Create CSV file without saving it into file system","body":"<p>Incase someone still looking for the answer, below code worked for me perfectly</p>\n<p>Import the below dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.javacsv&lt;/groupId&gt;\n        &lt;artifactId&gt;javacsv&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Below code, im writing data to ByteArrayOutputStream, instead of FileWriter</p>\n<pre><code>  ByteArrayOutputStream out = new ByteArrayOutputStream();\n  CsvWriter csvWriter = new CsvWriter(new BufferedOutputStream(out), ',', Charset.forName(&quot;UTF-8&quot;));\n  String[] data = new String[] { &quot;fieldValueA&quot;, &quot;fieldValueB&quot;, &quot;fieldValueC&quot; };\n  csvWriter.writeRecord(data);\n  csvWriter.close();\n</code></pre>\n"}],"owner":{"account_id":7723491,"reputation":185,"user_id":5848938,"accept_rate":73,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22270,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41853351,"answer_count":5,"score":4,"last_activity_date":1646314439,"creation_date":1485350598,"question_id":41852754,"body_markdown":"I&#39;ve created a Java program to create a `csv` file, write data into it and then send its contents to the server.\r\n\r\nLocally, everything works fine. But the problem is that I don&#39;t have write access to the server (permission denied problem).\r\n\r\nSo, I can&#39;t do any `chmod 777`.\r\n\r\nI&#39;m looking for a way to create a `csv` file without saving into the file system. Something like write into a flow or a stream. I don&#39;t really know how it works.\r\nAny help please ? \r\n\r\nThis was what I have done so far: \r\n\r\n      public void exportAllToCSV(@PathVariable int id,HttpServletResponse response) throws IOException\r\n     String csvFile=&quot;test.csv&quot;;\r\n     File file = new File(&quot;test.csv&quot;);\r\n     //some treatments to get datas (headers and values)\r\n\r\n\r\n      FileWriter writer = new FileWriter(csvFile);\r\n      CsvBuilder.writeLine(writer, headers);\r\n      CsvBuilder.writeLine(writer, values);\r\n      writer.flush();\r\n      writer.close();\r\n      response.setContentType(&quot;text/csv&quot;);\r\n      response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + csvFile);\r\n      final BufferedReader br = new BufferedReader(new FileReader(file));\r\n      \r\n      try {\r\n            String line;\r\n           \r\n            while ((line = br.readLine()) != null) {\r\n                response.getWriter().write(line + &quot;\\n&quot;);\r\n            }\r\n        } finally {\r\n            br.close();\r\n        }\r\n        \r\n        try {\r\n            file.delete(); // I delete the file\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"Create CSV file without saving it into file system","body":"<p>I've created a Java program to create a <code>csv</code> file, write data into it and then send its contents to the server.</p>\n\n<p>Locally, everything works fine. But the problem is that I don't have write access to the server (permission denied problem).</p>\n\n<p>So, I can't do any <code>chmod 777</code>.</p>\n\n<p>I'm looking for a way to create a <code>csv</code> file without saving into the file system. Something like write into a flow or a stream. I don't really know how it works.\nAny help please ? </p>\n\n<p>This was what I have done so far: </p>\n\n<pre><code>  public void exportAllToCSV(@PathVariable int id,HttpServletResponse response) throws IOException\n String csvFile=\"test.csv\";\n File file = new File(\"test.csv\");\n //some treatments to get datas (headers and values)\n\n\n  FileWriter writer = new FileWriter(csvFile);\n  CsvBuilder.writeLine(writer, headers);\n  CsvBuilder.writeLine(writer, values);\n  writer.flush();\n  writer.close();\n  response.setContentType(\"text/csv\");\n  response.setHeader(\"Content-Disposition\", \"attachment; filename=\" + csvFile);\n  final BufferedReader br = new BufferedReader(new FileReader(file));\n\n  try {\n        String line;\n\n        while ((line = br.readLine()) != null) {\n            response.getWriter().write(line + \"\\n\");\n        }\n    } finally {\n        br.close();\n    }\n\n    try {\n        file.delete(); // I delete the file\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":2,"creation_date":1646310628,"post_id":71337254,"comment_id":126094425,"body_markdown":"When asking coding questions, post your code, please.","body":"When asking coding questions, post your code, please."}],"answers":[{"tags":[],"owner":{"account_id":21048724,"reputation":2753,"user_id":15469537,"display_name":"fravolt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646314302,"creation_date":1646314302,"answer_id":71338061,"question_id":71337254,"body_markdown":"First off, it&#39;d be helpful if you share your current code when asking a question, so it&#39;s easier to get a fitting solution for you.\r\n\r\nSo, conceptually, what I guess you want to do is create `N` buckets, and assign each item to the correct bucket. I wrote you a function using a simple `int[]`, but the point is mostly the algorithm, not the specific implementation I used.\r\n```java\r\npublic static int[][] divideIntoSubArrays(int N, int[] array) {\r\n    // Each bucket has the size (which is not a whole number)\r\n    float bucketSize = array.length / (float) N;\r\n    System.out.println(&quot;Bucket size is &quot;+ bucketSize);\r\n\r\n    int[][] result = new int[N][];\r\n\r\n    for (int currentBucket = 0; currentBucket &lt; N; currentBucket++) {\r\n        // In this bucket are all the values from currentBucket * bucketSize up to currentBucket * bucketSize + bucketSize\r\n        result[currentBucket] = Arrays.copyOfRange(array, (int) Math.ceil(currentBucket * bucketSize), (int) Math.ceil(currentBucket * bucketSize + bucketSize));\r\n    }\r\n\r\n    return result;\r\n}\r\n```\r\n\r\nIn short, it first calculates the `bucketSize`, then takes the correct subArray for each bucket, using the bucket size and index.\r\n\r\nSome example outputs from this function:\r\n```\r\n3, {1,2,3,4,5,6} =&gt; [[1, 2], [3, 4], [5, 6]]\r\n3, {1,2,3,4,5,6,7} =&gt; [[1, 2, 3], [4, 5], [6, 7]]\r\n2, {1,2,3,4,5,6,7} =&gt; [[1, 2, 3, 4], [5, 6, 7]]\r\n5, {1,2,3,4,5,6,7} =&gt; [[1, 2], [3], [4, 5], [6], [7]]\r\n```\r\nBy taking the `ceil` of the index items get pushed into the proper buckets.","title":"Split array into N roughly equal parts in java","body":"<p>First off, it'd be helpful if you share your current code when asking a question, so it's easier to get a fitting solution for you.</p>\n<p>So, conceptually, what I guess you want to do is create <code>N</code> buckets, and assign each item to the correct bucket. I wrote you a function using a simple <code>int[]</code>, but the point is mostly the algorithm, not the specific implementation I used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[][] divideIntoSubArrays(int N, int[] array) {\n    // Each bucket has the size (which is not a whole number)\n    float bucketSize = array.length / (float) N;\n    System.out.println(&quot;Bucket size is &quot;+ bucketSize);\n\n    int[][] result = new int[N][];\n\n    for (int currentBucket = 0; currentBucket &lt; N; currentBucket++) {\n        // In this bucket are all the values from currentBucket * bucketSize up to currentBucket * bucketSize + bucketSize\n        result[currentBucket] = Arrays.copyOfRange(array, (int) Math.ceil(currentBucket * bucketSize), (int) Math.ceil(currentBucket * bucketSize + bucketSize));\n    }\n\n    return result;\n}\n</code></pre>\n<p>In short, it first calculates the <code>bucketSize</code>, then takes the correct subArray for each bucket, using the bucket size and index.</p>\n<p>Some example outputs from this function:</p>\n<pre><code>3, {1,2,3,4,5,6} =&gt; [[1, 2], [3, 4], [5, 6]]\n3, {1,2,3,4,5,6,7} =&gt; [[1, 2, 3], [4, 5], [6, 7]]\n2, {1,2,3,4,5,6,7} =&gt; [[1, 2, 3, 4], [5, 6, 7]]\n5, {1,2,3,4,5,6,7} =&gt; [[1, 2], [3], [4, 5], [6], [7]]\n</code></pre>\n<p>By taking the <code>ceil</code> of the index items get pushed into the proper buckets.</p>\n"}],"owner":{"account_id":16467655,"reputation":13,"user_id":11897432,"display_name":"Admin_PCNGroup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646314302,"creation_date":1646310552,"question_id":71337254,"body_markdown":"I need to split an array into `N` *roughly* equal parts (number of parts given). I managed to do it if the remainder of `array.length % numParts == 0` but I can&#39;t find a way to do it otherwise. \r\n\r\n\r\nMay anyone help me? \r\n\r\nThanks","title":"Split array into N roughly equal parts in java","body":"<p>I need to split an array into <code>N</code> <em>roughly</em> equal parts (number of parts given). I managed to do it if the remainder of <code>array.length % numParts == 0</code> but I can't find a way to do it otherwise.</p>\n<p>May anyone help me?</p>\n<p>Thanks</p>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":177184,"reputation":13128,"user_id":408351,"accept_rate":92,"display_name":"mort"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281608558,"creation_date":1281608558,"answer_id":3466681,"question_id":3458824,"body_markdown":"Unfortunately, there seems to be no built-in support for this. The angle labeling can be adapted by overriding the refreshAngleTicks() methods of PolarPlot:\r\n\r\n    PolarPlot plot = new PolarPlot() {\r\n\r\n            @Override\r\n            protected List refreshAngleTicks() {\r\n                List ticks = new ArrayList();\r\n                // produce some ticks, e.g. NumberTick instances\r\n                ticks.add(new NumberTick(0, &quot;90&quot;, TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\r\n                ticks.add(new NumberTick(45, &quot;45&quot;, TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\r\n                ticks.add(new NumberTick(90, &quot;0&quot;, TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\r\n                ticks.add(new NumberTick(135, &quot;315&quot;, TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\r\n                ticks.add(new NumberTick(180, &quot;270&quot;, TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\r\n                ticks.add(new NumberTick(225, &quot;225&quot;, TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\r\n                ticks.add(new NumberTick(270, &quot;180&quot;, TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\r\n                ticks.add(new NumberTick(315, &quot;135&quot;, TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\r\n                return ticks;\r\n            }\r\n        };","title":"JFreeChart PolarPlot: mathematical orientation","body":"<p>Unfortunately, there seems to be no built-in support for this. The angle labeling can be adapted by overriding the refreshAngleTicks() methods of PolarPlot:</p>\n\n<pre><code>PolarPlot plot = new PolarPlot() {\n\n        @Override\n        protected List refreshAngleTicks() {\n            List ticks = new ArrayList();\n            // produce some ticks, e.g. NumberTick instances\n            ticks.add(new NumberTick(0, \"90\", TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\n            ticks.add(new NumberTick(45, \"45\", TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\n            ticks.add(new NumberTick(90, \"0\", TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\n            ticks.add(new NumberTick(135, \"315\", TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\n            ticks.add(new NumberTick(180, \"270\", TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\n            ticks.add(new NumberTick(225, \"225\", TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\n            ticks.add(new NumberTick(270, \"180\", TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\n            ticks.add(new NumberTick(315, \"135\", TextAnchor.TOP_LEFT, TextAnchor.TOP_LEFT, 0));\n            return ticks;\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646314215,"creation_date":1281614287,"answer_id":3467341,"question_id":3458824,"body_markdown":"As an aside, [`org.jfree.chart.plot.PolarPlot`][1] appears to have been [designed][2] for [navigational][3] and [geodetic][4] applications.\r\n\r\nUsing the transformation _θ&#39; = π/4 – θ_ and overriding `refreshAngleTicks()`, as [suggested][5] by @mort, produces reasonable results.\r\n\r\nAddendum: See also this [variation][6] using the new [`PolarPlot`][7] API.\r\n\r\n[![archimedes spiral][8]][8]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.axis.NumberAxis;\r\n    import org.jfree.chart.axis.NumberTick;\r\n    import org.jfree.chart.axis.ValueAxis;\r\n    import org.jfree.chart.plot.PolarPlot;\r\n    import org.jfree.chart.renderer.DefaultPolarItemRenderer;\r\n    import org.jfree.chart.renderer.PolarItemRenderer;\r\n    import org.jfree.data.xy.XYDataset;\r\n    import org.jfree.data.xy.XYSeries;\r\n    import org.jfree.data.xy.XYSeriesCollection;\r\n    import org.jfree.ui.TextAnchor;\r\n\r\n    /**\r\n     * @see http://en.wikipedia.org/wiki/Polar_coordinate_system\r\n     * @see https://stackoverflow.com/questions/3458824\r\n     */\r\n    public class ArchimedesSpiral extends JFrame {\r\n\r\n        private static final String title = &quot;Archimedes&#39; Spiral&quot;;\r\n\r\n        public ArchimedesSpiral(String title) {\r\n            super(title);\r\n            JFreeChart chart = createChart(createDataset());\r\n            ChartPanel panel = new ChartPanel(chart);\r\n            panel.setPreferredSize(new Dimension(500, 500));\r\n            panel.setMouseZoomable(false);\r\n            this.add(panel);\r\n        }\r\n\r\n        private static XYDataset createDataset() {\r\n            XYSeriesCollection result = new XYSeriesCollection();\r\n            XYSeries series = new XYSeries(title);\r\n            for (int t = 0; t &lt;= 3 * 360; t++) {\r\n                series.add(90 - t, t);\r\n            }\r\n            result.addSeries(series);\r\n            return result;\r\n        }\r\n\r\n        private static JFreeChart createChart(XYDataset dataset) {\r\n            ValueAxis radiusAxis = new NumberAxis();\r\n            radiusAxis.setTickLabelsVisible(false);\r\n            PolarItemRenderer renderer = new DefaultPolarItemRenderer();\r\n            PolarPlot plot = new PolarPlot(dataset, radiusAxis, renderer) {\r\n\r\n                @Override\r\n                protected List refreshAngleTicks() {\r\n                    List&lt;NumberTick&gt; ticks = new ArrayList&lt;NumberTick&gt;();\r\n                    int delta = (int) this.getAngleTickUnit().getSize();\r\n                    for (int t = 0; t &lt; 360; t += delta) {\r\n                        int tp = (360 + 90 - t) % 360;\r\n                        NumberTick tick = new NumberTick(\r\n                            Double.valueOf(t), String.valueOf(tp),\r\n                            TextAnchor.CENTER, TextAnchor.CENTER, 0.0);\r\n                        ticks.add(tick);\r\n                    }\r\n                    return ticks;\r\n                }\r\n            };\r\n            plot.setBackgroundPaint(new Color(0x00f0f0f0));\r\n            plot.setRadiusGridlinePaint(Color.gray);\r\n            plot.addCornerTextItem(&quot;r(θ) = θ; 0 &lt; θ &lt; 6π&quot;);\r\n            JFreeChart chart = new JFreeChart(\r\n                title, JFreeChart.DEFAULT_TITLE_FONT, plot, true);\r\n            chart.setBackgroundPaint(Color.white);\r\n            return chart;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            ArchimedesSpiral demo = new ArchimedesSpiral(title);\r\n            demo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            demo.pack();\r\n            demo.setLocationRelativeTo(null);\r\n            demo.setVisible(true);\r\n        }\r\n    }\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/plot/PolarPlot.html\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/plot/PolarPlot.html\r\n  [3]: http://en.wikipedia.org/wiki/Course_%28navigation%29\r\n  [4]: http://en.wikipedia.org/wiki/Magnetic_declination\r\n  [5]: https://stackoverflow.com/a/3466681/230513\r\n  [6]: https://stackoverflow.com/a/10227275/230513\r\n  [7]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/plot/PolarPlot.html\r\n  [8]: https://i.stack.imgur.com/vzQ3W.png","title":"JFreeChart PolarPlot: mathematical orientation","body":"<p>As an aside, <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/plot/PolarPlot.html\" rel=\"nofollow noreferrer\"><code>org.jfree.chart.plot.PolarPlot</code></a> appears to have been <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/plot/PolarPlot.html\" rel=\"nofollow noreferrer\">designed</a> for <a href=\"http://en.wikipedia.org/wiki/Course_%28navigation%29\" rel=\"nofollow noreferrer\">navigational</a> and <a href=\"http://en.wikipedia.org/wiki/Magnetic_declination\" rel=\"nofollow noreferrer\">geodetic</a> applications.</p>\n<p>Using the transformation <em>θ' = π/4 – θ</em> and overriding <code>refreshAngleTicks()</code>, as <a href=\"https://stackoverflow.com/a/3466681/230513\">suggested</a> by @mort, produces reasonable results.</p>\n<p>Addendum: See also this <a href=\"https://stackoverflow.com/a/10227275/230513\">variation</a> using the new <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/plot/PolarPlot.html\" rel=\"nofollow noreferrer\"><code>PolarPlot</code></a> API.</p>\n<p><a href=\"https://i.stack.imgur.com/vzQ3W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vzQ3W.png\" alt=\"archimedes spiral\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.axis.NumberTick;\nimport org.jfree.chart.axis.ValueAxis;\nimport org.jfree.chart.plot.PolarPlot;\nimport org.jfree.chart.renderer.DefaultPolarItemRenderer;\nimport org.jfree.chart.renderer.PolarItemRenderer;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\nimport org.jfree.ui.TextAnchor;\n\n/**\n * @see http://en.wikipedia.org/wiki/Polar_coordinate_system\n * @see https://stackoverflow.com/questions/3458824\n */\npublic class ArchimedesSpiral extends JFrame {\n\n    private static final String title = &quot;Archimedes' Spiral&quot;;\n\n    public ArchimedesSpiral(String title) {\n        super(title);\n        JFreeChart chart = createChart(createDataset());\n        ChartPanel panel = new ChartPanel(chart);\n        panel.setPreferredSize(new Dimension(500, 500));\n        panel.setMouseZoomable(false);\n        this.add(panel);\n    }\n\n    private static XYDataset createDataset() {\n        XYSeriesCollection result = new XYSeriesCollection();\n        XYSeries series = new XYSeries(title);\n        for (int t = 0; t &lt;= 3 * 360; t++) {\n            series.add(90 - t, t);\n        }\n        result.addSeries(series);\n        return result;\n    }\n\n    private static JFreeChart createChart(XYDataset dataset) {\n        ValueAxis radiusAxis = new NumberAxis();\n        radiusAxis.setTickLabelsVisible(false);\n        PolarItemRenderer renderer = new DefaultPolarItemRenderer();\n        PolarPlot plot = new PolarPlot(dataset, radiusAxis, renderer) {\n\n            @Override\n            protected List refreshAngleTicks() {\n                List&lt;NumberTick&gt; ticks = new ArrayList&lt;NumberTick&gt;();\n                int delta = (int) this.getAngleTickUnit().getSize();\n                for (int t = 0; t &lt; 360; t += delta) {\n                    int tp = (360 + 90 - t) % 360;\n                    NumberTick tick = new NumberTick(\n                        Double.valueOf(t), String.valueOf(tp),\n                        TextAnchor.CENTER, TextAnchor.CENTER, 0.0);\n                    ticks.add(tick);\n                }\n                return ticks;\n            }\n        };\n        plot.setBackgroundPaint(new Color(0x00f0f0f0));\n        plot.setRadiusGridlinePaint(Color.gray);\n        plot.addCornerTextItem(&quot;r(θ) = θ; 0 &lt; θ &lt; 6π&quot;);\n        JFreeChart chart = new JFreeChart(\n            title, JFreeChart.DEFAULT_TITLE_FONT, plot, true);\n        chart.setBackgroundPaint(Color.white);\n        return chart;\n    }\n\n    public static void main(String[] args) {\n        ArchimedesSpiral demo = new ArchimedesSpiral(title);\n        demo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        demo.pack();\n        demo.setLocationRelativeTo(null);\n        demo.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":785044,"reputation":94,"user_id":844293,"display_name":"Torsten Stra&#223;er"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354746959,"creation_date":1334835800,"answer_id":10227275,"question_id":3458824,"body_markdown":"The current version of `JFreeChart` seems to solve this issue a lot easier:\r\nThere are three methods available:\r\n\r\n    setCounterClockwise(true) // changes the direction of the ticks\r\n    setAxisLocation(PolarAxisLocation.EAST_BELOW) // defines the placement of the axis\r\n    setAngleOffset(0);\r\n\r\nComplete example adapted from [here][1]:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import javax.swing.JFrame;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.axis.NumberAxis;\r\n    import org.jfree.chart.axis.ValueAxis;\r\n    import org.jfree.chart.plot.PolarAxisLocation;\r\n    import org.jfree.chart.plot.PolarPlot;\r\n    import org.jfree.chart.renderer.DefaultPolarItemRenderer;\r\n    import org.jfree.data.xy.XYDataset;\r\n    import org.jfree.data.xy.XYSeries;\r\n    import org.jfree.data.xy.XYSeriesCollection;\r\n    \r\n    /**\r\n     * @see http://en.wikipedia.org/wiki/Polar_coordinate_system\r\n     * @see https://stackoverflow.com/questions/3458824\r\n     * @see https://stackoverflow.com/questions/6540390\r\n     * @see https://stackoverflow.com/questions/6576911\r\n     * @see https://stackoverflow.com/a/10227275/230513\r\n     */\r\n    public class ArchimedesSpiral extends JFrame {\r\n    \r\n        private static final String title = &quot;Archimedes&#39; Spiral&quot;;\r\n    \r\n        public ArchimedesSpiral(String title) {\r\n            super(title);\r\n            JFreeChart chart = createChart(createDataset());\r\n            ChartPanel panel = new ChartPanel(chart);\r\n            panel.setPreferredSize(new Dimension(500, 500));\r\n            panel.setMouseZoomable(false);\r\n            this.add(panel);\r\n        }\r\n    \r\n        private static XYDataset createDataset() {\r\n            XYSeriesCollection result = new XYSeriesCollection();\r\n            XYSeries series = new XYSeries(title);\r\n            for (int t = 0; t &lt;= 3 * 360; t++) {\r\n                series.add(t, t);\r\n            }\r\n            result.addSeries(series);\r\n            return result;\r\n        }\r\n    \r\n        private static JFreeChart createChart(XYDataset dataset) {\r\n            ValueAxis radiusAxis = new NumberAxis();\r\n            radiusAxis.setTickLabelsVisible(false);\r\n            DefaultPolarItemRenderer renderer = new DefaultPolarItemRenderer();\r\n            renderer.setShapesVisible(false);\r\n            PolarPlot plot = new PolarPlot(dataset, radiusAxis, renderer);\r\n            plot.setCounterClockwise(true);\r\n            plot.setAxisLocation(PolarAxisLocation.EAST_BELOW);\r\n            plot.setAngleOffset(0);\r\n            plot.setBackgroundPaint(new Color(0x00f0f0f0));\r\n            plot.setRadiusGridlinePaint(Color.gray);\r\n            plot.addCornerTextItem(&quot;r(θ) = θ; 0 &lt; θ &lt; 6π&quot;);\r\n            JFreeChart chart = new JFreeChart(\r\n                title, JFreeChart.DEFAULT_TITLE_FONT, plot, true);\r\n            chart.setBackgroundPaint(Color.white);\r\n            return chart;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ArchimedesSpiral demo = new ArchimedesSpiral(title);\r\n            demo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            demo.pack();\r\n            demo.setLocationRelativeTo(null);\r\n            demo.setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3467341/230513","title":"JFreeChart PolarPlot: mathematical orientation","body":"<p>The current version of <code>JFreeChart</code> seems to solve this issue a lot easier:\nThere are three methods available:</p>\n\n<pre><code>setCounterClockwise(true) // changes the direction of the ticks\nsetAxisLocation(PolarAxisLocation.EAST_BELOW) // defines the placement of the axis\nsetAngleOffset(0);\n</code></pre>\n\n<p>Complete example adapted from <a href=\"https://stackoverflow.com/a/3467341/230513\">here</a>:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.axis.ValueAxis;\nimport org.jfree.chart.plot.PolarAxisLocation;\nimport org.jfree.chart.plot.PolarPlot;\nimport org.jfree.chart.renderer.DefaultPolarItemRenderer;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\n\n/**\n * @see http://en.wikipedia.org/wiki/Polar_coordinate_system\n * @see https://stackoverflow.com/questions/3458824\n * @see https://stackoverflow.com/questions/6540390\n * @see https://stackoverflow.com/questions/6576911\n * @see https://stackoverflow.com/a/10227275/230513\n */\npublic class ArchimedesSpiral extends JFrame {\n\n    private static final String title = \"Archimedes' Spiral\";\n\n    public ArchimedesSpiral(String title) {\n        super(title);\n        JFreeChart chart = createChart(createDataset());\n        ChartPanel panel = new ChartPanel(chart);\n        panel.setPreferredSize(new Dimension(500, 500));\n        panel.setMouseZoomable(false);\n        this.add(panel);\n    }\n\n    private static XYDataset createDataset() {\n        XYSeriesCollection result = new XYSeriesCollection();\n        XYSeries series = new XYSeries(title);\n        for (int t = 0; t &lt;= 3 * 360; t++) {\n            series.add(t, t);\n        }\n        result.addSeries(series);\n        return result;\n    }\n\n    private static JFreeChart createChart(XYDataset dataset) {\n        ValueAxis radiusAxis = new NumberAxis();\n        radiusAxis.setTickLabelsVisible(false);\n        DefaultPolarItemRenderer renderer = new DefaultPolarItemRenderer();\n        renderer.setShapesVisible(false);\n        PolarPlot plot = new PolarPlot(dataset, radiusAxis, renderer);\n        plot.setCounterClockwise(true);\n        plot.setAxisLocation(PolarAxisLocation.EAST_BELOW);\n        plot.setAngleOffset(0);\n        plot.setBackgroundPaint(new Color(0x00f0f0f0));\n        plot.setRadiusGridlinePaint(Color.gray);\n        plot.addCornerTextItem(\"r(θ) = θ; 0 &lt; θ &lt; 6π\");\n        JFreeChart chart = new JFreeChart(\n            title, JFreeChart.DEFAULT_TITLE_FONT, plot, true);\n        chart.setBackgroundPaint(Color.white);\n        return chart;\n    }\n\n    public static void main(String[] args) {\n        ArchimedesSpiral demo = new ArchimedesSpiral(title);\n        demo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        demo.pack();\n        demo.setLocationRelativeTo(null);\n        demo.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":177184,"reputation":13128,"user_id":408351,"accept_rate":92,"display_name":"mort"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3467341,"answer_count":3,"score":1,"last_activity_date":1646314215,"creation_date":1281533666,"question_id":3458824,"body_markdown":"I&#39;d like to create a polar plot where the data is plotted in mathematical orientation (thus, the series starts and the east and continues counter-clockwise). The default behavior of JFreeChart&#39;s `PolarPlot` is to start north and continue the series clockwise.\r\n\r\nIs there any support for this built in the `PolarPlot` class? I know how to transform the data to reach the goal, but this approach is rather cumbersome, since I&#39;d need to adapt the angle labeling too. ","title":"JFreeChart PolarPlot: mathematical orientation","body":"<p>I'd like to create a polar plot where the data is plotted in mathematical orientation (thus, the series starts and the east and continues counter-clockwise). The default behavior of JFreeChart's <code>PolarPlot</code> is to start north and continue the series clockwise.</p>\n\n<p>Is there any support for this built in the <code>PolarPlot</code> class? I know how to transform the data to reach the goal, but this approach is rather cumbersome, since I'd need to adapt the angle labeling too. </p>\n"},{"tags":["java","maven","hamcrest"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1580542480,"post_id":60014906,"comment_id":106138995,"body_markdown":"Did you put `AppTest.java` in `src/main/java` or in `src/test/java`? Since the dependency has `&lt;scope&gt;test&lt;/scope&gt;`, the jar file is only in the classpath for classes in `src/test/java`, so move it there if it is currently in `src/main/java`.","body":"Did you put <code>AppTest.java</code> in <code>src&#47;main&#47;java</code> or in <code>src&#47;test&#47;java</code>? Since the dependency has <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code>, the jar file is only in the classpath for classes in <code>src&#47;test&#47;java</code>, so move it there if it is currently in <code>src&#47;main&#47;java</code>."},{"owner":{"account_id":3458139,"reputation":396,"user_id":3312628,"accept_rate":77,"display_name":"Leder"},"score":0,"creation_date":1580551742,"post_id":60014906,"comment_id":106140651,"body_markdown":"Yes, AppTest.java is in src/test.","body":"Yes, AppTest.java is in src/test."}],"answers":[{"tags":[],"owner":{"account_id":3458139,"reputation":396,"user_id":3312628,"accept_rate":77,"display_name":"Leder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580566492,"creation_date":1580558024,"answer_id":60016594,"question_id":60014906,"body_markdown":"Instead of JUnit5 `assertEquals`, I had to use in `AppTest.java` the following `hamcrest` methods:\r\n\r\n```\r\nimport static org.hamcrest.Matchers.*;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\n```\r\nand\r\n```\r\nassertThat(result, lessThan(0.5d));\r\n```\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/hamcrest/Matchers","body":"<p>Instead of JUnit5 <code>assertEquals</code>, I had to use in <code>AppTest.java</code> the following <code>hamcrest</code> methods:</p>\n\n<pre><code>import static org.hamcrest.Matchers.*;\nimport static org.hamcrest.MatcherAssert.assertThat;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>assertThat(result, lessThan(0.5d));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18654918,"reputation":51,"user_id":13597551,"display_name":"said "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646314122,"creation_date":1646314122,"answer_id":71338013,"question_id":60014906,"body_markdown":"I had the same error running my maven project. So, I had to use hancrest-all, a self-contained hamcrest jar containing all of the sub-modules in a single artifact.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nCheck this link: https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all/1.3 ","title":"java.lang.NoClassDefFoundError: org/hamcrest/Matchers","body":"<p>I had the same error running my maven project. So, I had to use hancrest-all, a self-contained hamcrest jar containing all of the sub-modules in a single artifact.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Check this link: <a href=\"https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all/1.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all/1.3</a></p>\n"}],"owner":{"account_id":3458139,"reputation":396,"user_id":3312628,"accept_rate":77,"display_name":"Leder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646314122,"creation_date":1580542034,"question_id":60014906,"body_markdown":"I have running JUnit5 testcases w/ Maven 3.\r\n\r\nNow I want to use library hamcrest in Java import in Testcase AppTest.java:\r\n\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n\r\n    import static org.hamcrest.Matchers.greaterThan;\r\n    import static org.hamcrest.Matchers.lessThan;\r\n\r\nFor Testcase AppTest.java that uses App.java:\r\n \r\n    double result;\r\n\r\n    result = app.probability_a_dash(23);\r\n    System.out.println(&quot;result: &quot;+ result);\r\n\r\n    assertEquals(lessThan(0.5d), result);\r\n\r\nThe error on the import is:\r\n\r\n&gt; java.lang.NoClassDefFoundError: org/hamcrest/Matchers\r\n\r\nHow do I get hamcrest library properly integrated in maven build:\r\nmvn on the command line integrates hamcrest properly, only IDE intelliJ IDEA is mixing up the imports!\r\n\r\nUnfortunately JUnit5 does not detect that `0.0 &lt; 0.5` with hamcrest `lessThan`: How do I get a passing testcase on this?\r\n\r\nMy pom.xml is as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.auticon.birthdays&lt;/groupId&gt;\r\n  &lt;artifactId&gt;CalculateBirthdays&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;CalculateBirthdays&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;junit-platform.version&gt;5.6.0&lt;/junit-platform.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                &lt;mainClass&gt;com.auticon.birthdays.App&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n\r\n\r\n          &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                  &lt;argLine&gt;\r\n                      --illegal-access=permit\r\n                  &lt;/argLine&gt;\r\n              &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n\r\n\t&lt;plugin&gt;\r\n                                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                                &lt;configuration&gt;\r\n                                        &lt;filesets&gt;\r\n                                                &lt;fileset&gt;\r\n                                                        &lt;directory&gt;${basedir}&lt;/directory&gt;\r\n                                                        &lt;includes&gt;\r\n                                                                &lt;include&gt;**/contacts.xml&lt;/include&gt;\r\n                                                                &lt;include&gt;**/contacts (1).xml&lt;/include&gt;\r\n                                                                &lt;include&gt;**/contacts (2).xml&lt;/include&gt;\r\n                                                        &lt;/includes&gt;\r\n                                                        &lt;excludes&gt;\r\n                                                                &lt;exclude&gt;**/important.log&lt;/exclude&gt;\r\n                                                                &lt;exclude&gt;**/another-important.log&lt;/exclude&gt;\r\n                                                        &lt;/excludes&gt;\r\n                                                        &lt;followSymlinks&gt;false&lt;/followSymlinks&gt;\r\n                                                &lt;/fileset&gt;\r\n                                        &lt;/filesets&gt;\r\n                                &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n\r\n\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"java.lang.NoClassDefFoundError: org/hamcrest/Matchers","body":"<p>I have running JUnit5 testcases w/ Maven 3.</p>\n\n<p>Now I want to use library hamcrest in Java import in Testcase AppTest.java:</p>\n\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\n\nimport static org.hamcrest.Matchers.greaterThan;\nimport static org.hamcrest.Matchers.lessThan;\n</code></pre>\n\n<p>For Testcase AppTest.java that uses App.java:</p>\n\n<pre><code>double result;\n\nresult = app.probability_a_dash(23);\nSystem.out.println(\"result: \"+ result);\n\nassertEquals(lessThan(0.5d), result);\n</code></pre>\n\n<p>The error on the import is:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: org/hamcrest/Matchers</p>\n</blockquote>\n\n<p>How do I get hamcrest library properly integrated in maven build:\nmvn on the command line integrates hamcrest properly, only IDE intelliJ IDEA is mixing up the imports!</p>\n\n<p>Unfortunately JUnit5 does not detect that <code>0.0 &lt; 0.5</code> with hamcrest <code>lessThan</code>: How do I get a passing testcase on this?</p>\n\n<p>My pom.xml is as follows:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.auticon.birthdays&lt;/groupId&gt;\n  &lt;artifactId&gt;CalculateBirthdays&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;CalculateBirthdays&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;junit-platform.version&gt;5.6.0&lt;/junit-platform.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit-platform.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                &lt;mainClass&gt;com.auticon.birthdays.App&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n\n\n\n\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.22.1&lt;/version&gt;\n              &lt;configuration&gt;\n                  &lt;argLine&gt;\n                      --illegal-access=permit\n                  &lt;/argLine&gt;\n              &lt;/configuration&gt;\n          &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n                                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                                &lt;version&gt;3.1.0&lt;/version&gt;\n                                &lt;configuration&gt;\n                                        &lt;filesets&gt;\n                                                &lt;fileset&gt;\n                                                        &lt;directory&gt;${basedir}&lt;/directory&gt;\n                                                        &lt;includes&gt;\n                                                                &lt;include&gt;**/contacts.xml&lt;/include&gt;\n                                                                &lt;include&gt;**/contacts (1).xml&lt;/include&gt;\n                                                                &lt;include&gt;**/contacts (2).xml&lt;/include&gt;\n                                                        &lt;/includes&gt;\n                                                        &lt;excludes&gt;\n                                                                &lt;exclude&gt;**/important.log&lt;/exclude&gt;\n                                                                &lt;exclude&gt;**/another-important.log&lt;/exclude&gt;\n                                                        &lt;/excludes&gt;\n                                                        &lt;followSymlinks&gt;false&lt;/followSymlinks&gt;\n                                                &lt;/fileset&gt;\n                                        &lt;/filesets&gt;\n                                &lt;/configuration&gt;\n                        &lt;/plugin&gt;\n\n\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","jspinner","focuslistener"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1390189632,"creation_date":1362954104,"answer_id":15328399,"question_id":15328185,"body_markdown":"Much of the problem you are facing has to do with how the spinner validates any values within the spinner AFTER a focus event (and several other state events), which will circumvent the highlight.\r\n\r\nThe MacOS is even worse.\r\n\r\nWhat I ended up doing was starting a `Thread` that waited a very short time period (around 25 milliseconds) and then used `SwingUtilities.invokeLater` to actually perform the selection...\r\n\r\n**Updated with a example**\r\n\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.FocusAdapter;\r\n    import java.awt.event.FocusEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JSpinner;\r\n    import javax.swing.SpinnerNumberModel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.text.JTextComponent;\r\n\r\n    public class AutoFocusSpinner {\r\n\r\n        public static void main(String[] args) {\r\n            new AutoFocusSpinner();\r\n        }\r\n\r\n        public static final SelectOnFocusGainedHandler SHARED_INSTANCE = new SelectOnFocusGainedHandler();\r\n    \r\n        public AutoFocusSpinner() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException ex) {\r\n                    } catch (InstantiationException ex) {\r\n                    } catch (IllegalAccessException ex) {\r\n                    } catch (UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JSpinner spinner = new JSpinner(new SpinnerNumberModel(1, 0, 100, 1));\r\n                    installFocusListener(spinner);\r\n                \r\n                    JFrame frame = new JFrame(&quot;Test&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new GridBagLayout());\r\n                    frame.add(spinner);\r\n                    frame.add(new JButton(&quot;Here for testing&quot;));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        public void installFocusListener(JSpinner spinner) {\r\n        \r\n            JComponent spinnerEditor = spinner.getEditor();\r\n\r\n            if (spinnerEditor != null) {\r\n\r\n                // This is me spending a few days trying to make this work and \r\n                // eventually throwing a hissy fit and just grabbing all the \r\n                // JTextComponent components contained within the editor....\r\n                List&lt;JTextComponent&gt; lstChildren = findAllChildren(spinner, JTextComponent.class);\r\n                if (lstChildren != null &amp;&amp; lstChildren.size() &gt; 0) {\r\n\r\n                    JTextComponent editor = lstChildren.get(0);\r\n                    editor.addFocusListener(SHARED_INSTANCE);\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        public static &lt;T extends Component&gt; List&lt;T&gt; findAllChildren(JComponent component, Class&lt;T&gt; clazz) {\r\n\r\n            List&lt;T&gt; lstChildren = new ArrayList&lt;T&gt;(5);\r\n            for (Component comp : component.getComponents()) {\r\n\r\n                if (clazz.isInstance(comp)) {\r\n\r\n                    lstChildren.add((T) comp);\r\n\r\n                } else if (comp instanceof JComponent) {\r\n\r\n                    lstChildren.addAll(findAllChildren((JComponent) comp, clazz));\r\n\r\n                }\r\n\r\n            }\r\n\r\n            return Collections.unmodifiableList(lstChildren);\r\n\r\n        }\r\n    \r\n        public static class SelectOnFocusGainedHandler extends FocusAdapter {\r\n\r\n            @Override\r\n            public void focusGained(FocusEvent e) {\r\n            \r\n                Component comp = e.getComponent();\r\n                if (comp instanceof JTextComponent) {\r\n                    final JTextComponent textComponent = (JTextComponent) comp;\r\n                    new Thread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            try {\r\n                                Thread.sleep(25);\r\n                            } catch (InterruptedException ex) {\r\n                            }\r\n                            SwingUtilities.invokeLater(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    textComponent.selectAll();\r\n                                }\r\n                            });\r\n                        }\r\n                    }).start();\r\n                }            \r\n            }        \r\n        }\r\n    }\r\n\r\nNow, right about now, I&#39;m praying for some really nice, simple, undocumented property that we can set that will mean we don&#39;t need to do all this :P\r\n","title":"Make JSpinner Select Text When Focused","body":"<p>Much of the problem you are facing has to do with how the spinner validates any values within the spinner AFTER a focus event (and several other state events), which will circumvent the highlight.</p>\n\n<p>The MacOS is even worse.</p>\n\n<p>What I ended up doing was starting a <code>Thread</code> that waited a very short time period (around 25 milliseconds) and then used <code>SwingUtilities.invokeLater</code> to actually perform the selection...</p>\n\n<p><strong>Updated with a example</strong></p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.FocusAdapter;\nimport java.awt.event.FocusEvent;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JSpinner;\nimport javax.swing.SpinnerNumberModel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.text.JTextComponent;\n\npublic class AutoFocusSpinner {\n\n    public static void main(String[] args) {\n        new AutoFocusSpinner();\n    }\n\n    public static final SelectOnFocusGainedHandler SHARED_INSTANCE = new SelectOnFocusGainedHandler();\n\n    public AutoFocusSpinner() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException ex) {\n                } catch (InstantiationException ex) {\n                } catch (IllegalAccessException ex) {\n                } catch (UnsupportedLookAndFeelException ex) {\n                }\n\n                JSpinner spinner = new JSpinner(new SpinnerNumberModel(1, 0, 100, 1));\n                installFocusListener(spinner);\n\n                JFrame frame = new JFrame(\"Test\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new GridBagLayout());\n                frame.add(spinner);\n                frame.add(new JButton(\"Here for testing\"));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n\n        });\n    }\n\n    public void installFocusListener(JSpinner spinner) {\n\n        JComponent spinnerEditor = spinner.getEditor();\n\n        if (spinnerEditor != null) {\n\n            // This is me spending a few days trying to make this work and \n            // eventually throwing a hissy fit and just grabbing all the \n            // JTextComponent components contained within the editor....\n            List&lt;JTextComponent&gt; lstChildren = findAllChildren(spinner, JTextComponent.class);\n            if (lstChildren != null &amp;&amp; lstChildren.size() &gt; 0) {\n\n                JTextComponent editor = lstChildren.get(0);\n                editor.addFocusListener(SHARED_INSTANCE);\n\n            }\n\n        }\n\n    }\n\n    public static &lt;T extends Component&gt; List&lt;T&gt; findAllChildren(JComponent component, Class&lt;T&gt; clazz) {\n\n        List&lt;T&gt; lstChildren = new ArrayList&lt;T&gt;(5);\n        for (Component comp : component.getComponents()) {\n\n            if (clazz.isInstance(comp)) {\n\n                lstChildren.add((T) comp);\n\n            } else if (comp instanceof JComponent) {\n\n                lstChildren.addAll(findAllChildren((JComponent) comp, clazz));\n\n            }\n\n        }\n\n        return Collections.unmodifiableList(lstChildren);\n\n    }\n\n    public static class SelectOnFocusGainedHandler extends FocusAdapter {\n\n        @Override\n        public void focusGained(FocusEvent e) {\n\n            Component comp = e.getComponent();\n            if (comp instanceof JTextComponent) {\n                final JTextComponent textComponent = (JTextComponent) comp;\n                new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        try {\n                            Thread.sleep(25);\n                        } catch (InterruptedException ex) {\n                        }\n                        SwingUtilities.invokeLater(new Runnable() {\n                            @Override\n                            public void run() {\n                                textComponent.selectAll();\n                            }\n                        });\n                    }\n                }).start();\n            }            \n        }        \n    }\n}\n</code></pre>\n\n<p>Now, right about now, I'm praying for some really nice, simple, undocumented property that we can set that will mean we don't need to do all this :P</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1362964507,"creation_date":1362964507,"answer_id":15329783,"question_id":15328185,"body_markdown":"Don&#39;t know about a Mac but I&#39;ve used this code on Windows:\r\n\r\n    JSpinner.DefaultEditor editor = (JSpinner.DefaultEditor)spinner.getEditor();\r\n    JTextField textField = editor.getTextField();\r\n    textField.addFocusListener( new FocusAdapter()\r\n    {\r\n    \tpublic void focusGained(final FocusEvent e)\r\n    \t{\r\n    \t\tSwingUtilities.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tJTextField tf = (JTextField)e.getSource();\r\n    \t\t\t\ttf.selectAll();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t}\r\n    \r\n    });\r\n\r\nI&#39;ve also used this code for selecting text on a JFormattedTextField.","title":"Make JSpinner Select Text When Focused","body":"<p>Don't know about a Mac but I've used this code on Windows:</p>\n\n<pre><code>JSpinner.DefaultEditor editor = (JSpinner.DefaultEditor)spinner.getEditor();\nJTextField textField = editor.getTextField();\ntextField.addFocusListener( new FocusAdapter()\n{\n    public void focusGained(final FocusEvent e)\n    {\n        SwingUtilities.invokeLater(new Runnable()\n        {\n            @Override\n            public void run()\n            {\n                JTextField tf = (JTextField)e.getSource();\n                tf.selectAll();\n            }\n        });\n\n    }\n\n});\n</code></pre>\n\n<p>I've also used this code for selecting text on a JFormattedTextField.</p>\n"}],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6416,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":15328399,"answer_count":2,"score":9,"last_activity_date":1646313671,"creation_date":1362952720,"question_id":15328185,"body_markdown":"I would like to change the behavior of a JSpinner so that when you click on the text, it selects it. This makes it easier to replace the field with the value that you want. Unfortunately, I can&#39;t get the behavior to work and instead, it just inserts the cursor in the text without selecting what is already there.\r\n\r\nI have tried adding a focus Listener to both the JSpinner itself and the text area itself, via `((DefaultEditor) this.getEditor()).getTextField()`, yet neither of these seem to have the intended effect. My code (for the JSpinner itself) is as follows:\r\n\r\n    spinner.addFocusListener(new FocusAdapter(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic void focusGained(FocusEvent e) {\r\n    \t\t\t\t((DefaultEditor) ((JSpinner) e.getSource()).getEditor()).getTextField().selectAll();\r\n    \t\t\t}\r\n    \t\t}); \r\n\r\nI&#39;m not sure what the problem is. If it matters, I&#39;m running Mac OS 10.7.5 and Java 6u43.\r\n\r\nEDIT: I put a `System.out.println` right at the beginning of the focusGained method and discovered that it was never called. So it looks like getting focus on the JSpinner isn&#39;t registering. Again, I tried putting the focusAdpater both on the spinner and on the text field (not at the same time though).","title":"Make JSpinner Select Text When Focused","body":"<p>I would like to change the behavior of a JSpinner so that when you click on the text, it selects it. This makes it easier to replace the field with the value that you want. Unfortunately, I can't get the behavior to work and instead, it just inserts the cursor in the text without selecting what is already there.</p>\n\n<p>I have tried adding a focus Listener to both the JSpinner itself and the text area itself, via <code>((DefaultEditor) this.getEditor()).getTextField()</code>, yet neither of these seem to have the intended effect. My code (for the JSpinner itself) is as follows:</p>\n\n<pre><code>spinner.addFocusListener(new FocusAdapter(){\n            @Override\n            public void focusGained(FocusEvent e) {\n                ((DefaultEditor) ((JSpinner) e.getSource()).getEditor()).getTextField().selectAll();\n            }\n        }); \n</code></pre>\n\n<p>I'm not sure what the problem is. If it matters, I'm running Mac OS 10.7.5 and Java 6u43.</p>\n\n<p>EDIT: I put a <code>System.out.println</code> right at the beginning of the focusGained method and discovered that it was never called. So it looks like getting focus on the JSpinner isn't registering. Again, I tried putting the focusAdpater both on the spinner and on the text field (not at the same time though).</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4727510,"reputation":85,"user_id":3823986,"display_name":"Tomz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646312454,"creation_date":1646312454,"answer_id":71337636,"question_id":71240678,"body_markdown":"You can use @JsonIgnoreProperties , there is a similar question already asked https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue\r\nYou can use \r\n@JsonIgnoreProperties(value =&quot;clientEntity&quot; )\r\nPrivate TrainerEntity trainerEntity \r\nand similarly for the the other side too\r\n\r\nA better option is to use Dto&#39;s instead of entities to send the response as json.","title":"Getting : Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException","body":"<p>You can use @JsonIgnoreProperties , there is a similar question already asked <a href=\"https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue\">Infinite Recursion with Jackson JSON and Hibernate JPA issue</a>\nYou can use\n@JsonIgnoreProperties(value =&quot;clientEntity&quot; )\nPrivate TrainerEntity trainerEntity\nand similarly for the the other side too</p>\n<p>A better option is to use Dto's instead of entities to send the response as json.</p>\n"}],"owner":{"account_id":13389100,"reputation":207,"user_id":9661967,"display_name":"bharath bhushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646312454,"creation_date":1645633742,"question_id":71240678,"body_markdown":"I am creating a gym application \r\n\r\nFollowing Entities \r\nClientEntity\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nTrainerEntity\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nclientController \r\n\r\n[![enter image description here][3]][3]\r\n\r\ntrainerController\r\n\r\n[![enter image description here][4]][4]\r\n\r\nClientApi\r\n\r\n[![enter image description here][5]][5]\r\n\r\ntrainer Api\r\n[![enter image description here][6]][6]\r\n\r\nI have created a bi directional mapping b/w trainer Entity and client entity \r\n\r\nWhen I do findall for client or trainer I an getting nested json as in the Client api and is same with trainer api and is giving JSON: Infinite recursion (StackOverflowError); \r\n\r\nHere I want from \r\nclient api \r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Bharath&quot;,\r\n            &quot;address&quot;: &quot;#34324 Address&quot;,\r\n            &quot;trainerEntity&quot;: {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;Niranjan&quot;,\r\n             }\r\n        }\r\n    ]\r\n\r\ntrainer api: \r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Niranjan&quot;,\r\n            &quot;clientEntity&quot;: {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;Bharath&quot;,\r\n                &quot;address&quot;: &quot;#34324 Address&quot;\r\n             }\r\n         }\r\n    ]\r\n\r\n  [1]: https://i.stack.imgur.com/bpOQN.jpg\r\n  [2]: https://i.stack.imgur.com/n9e0n.jpg\r\n  [3]: https://i.stack.imgur.com/qlJWq.jpg\r\n  [4]: https://i.stack.imgur.com/MvwD2.png\r\n  [5]: https://i.stack.imgur.com/vtC1h.jpg\r\n  [6]: https://i.stack.imgur.com/4hAhV.png","title":"Getting : Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException","body":"<p>I am creating a gym application</p>\n<p>Following Entities\nClientEntity</p>\n<p><a href=\"https://i.stack.imgur.com/bpOQN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpOQN.jpg\" alt=\"enter image description here\" /></a></p>\n<p>TrainerEntity</p>\n<p><a href=\"https://i.stack.imgur.com/n9e0n.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n9e0n.jpg\" alt=\"enter image description here\" /></a></p>\n<p>clientController</p>\n<p><a href=\"https://i.stack.imgur.com/qlJWq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qlJWq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>trainerController</p>\n<p><a href=\"https://i.stack.imgur.com/MvwD2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MvwD2.png\" alt=\"enter image description here\" /></a></p>\n<p>ClientApi</p>\n<p><a href=\"https://i.stack.imgur.com/vtC1h.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vtC1h.jpg\" alt=\"enter image description here\" /></a></p>\n<p>trainer Api\n<a href=\"https://i.stack.imgur.com/4hAhV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4hAhV.png\" alt=\"enter image description here\" /></a></p>\n<p>I have created a bi directional mapping b/w trainer Entity and client entity</p>\n<p>When I do findall for client or trainer I an getting nested json as in the Client api and is same with trainer api and is giving JSON: Infinite recursion (StackOverflowError);</p>\n<p>Here I want from\nclient api</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Bharath&quot;,\n        &quot;address&quot;: &quot;#34324 Address&quot;,\n        &quot;trainerEntity&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Niranjan&quot;,\n         }\n    }\n]\n</code></pre>\n<p>trainer api:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Niranjan&quot;,\n        &quot;clientEntity&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Bharath&quot;,\n            &quot;address&quot;: &quot;#34324 Address&quot;\n         }\n     }\n]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1457108624,"post_id":35800872,"comment_id":59271493,"body_markdown":"`hashNextInt` says whether the next input can be safely read as an `int` so it only make sense to call it before you get an error attempting to read something which is not an `int`.","body":"<code>hashNextInt</code> says whether the next input can be safely read as an <code>int</code> so it only make sense to call it before you get an error attempting to read something which is not an <code>int</code>."},{"owner":{"account_id":1990011,"reputation":2876,"user_id":2542091,"accept_rate":100,"display_name":"Aleksander Lidtke"},"score":0,"creation_date":1457108809,"post_id":35800872,"comment_id":59271639,"body_markdown":"I&#39;m not very knowledgeable in Java, but to me this looks fine. You print `Enter your number`, and then wait for the user input. If it&#39;s an int then you react to it. I believe that with `Scanner userInput = new Scanner(System.in);` you start waiting for input. `if (userInput.hasNextInt())` only checks the last (oldest, I&#39;d guess) input from the user, which is stored in a buffer. Read more about how `import java.util.Scanner` and input/output works in Java to be sure.","body":"I&#39;m not very knowledgeable in Java, but to me this looks fine. You print <code>Enter your number</code>, and then wait for the user input. If it&#39;s an int then you react to it. I believe that with <code>Scanner userInput = new Scanner(System.in);</code> you start waiting for input. <code>if (userInput.hasNextInt())</code> only checks the last (oldest, I&#39;d guess) input from the user, which is stored in a buffer. Read more about how <code>import java.util.Scanner</code> and input/output works in Java to be sure."}],"answers":[{"tags":[],"owner":{"account_id":5945706,"reputation":1374,"user_id":4675277,"accept_rate":78,"display_name":"Anand Vaidya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646312288,"creation_date":1457108433,"answer_id":35800952,"question_id":35800872,"body_markdown":"&gt; The java.util.Scanner.hasNextInt() method returns true if the next\r\n&gt; token in this scanner&#39;s input can be interpreted as an int value in\r\n&gt; the default radix using the nextInt() method. The scanner does not\r\n&gt; advance past any input.\r\n\r\nSo Scanner would be invoked upon user presses &quot;Enter&quot; and then it would evaluate if the next input provided by user is int or not.","title":"Usage of hasNextInt() in java","body":"<blockquote>\n<p>The java.util.Scanner.hasNextInt() method returns true if the next\ntoken in this scanner's input can be interpreted as an int value in\nthe default radix using the nextInt() method. The scanner does not\nadvance past any input.</p>\n</blockquote>\n<p>So Scanner would be invoked upon user presses &quot;Enter&quot; and then it would evaluate if the next input provided by user is int or not.</p>\n"},{"tags":[],"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457108535,"creation_date":1457108535,"answer_id":35800988,"question_id":35800872,"body_markdown":"You use it to test the user&#39;s input, so you are sure that when you call nextInt you won&#39;t have an exception because the input wasn&#39;t an int, it&#39;s also not moving he cursor forward:\r\n\r\n\tScanner scanner = new Scanner(System.in);\r\n\tif(scanner.hasNextInt()){\r\n\t\tSystem.out.println(scanner.nextInt());\r\n\t}","title":"Usage of hasNextInt() in java","body":"<p>You use it to test the user's input, so you are sure that when you call nextInt you won't have an exception because the input wasn't an int, it's also not moving he cursor forward:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nif(scanner.hasNextInt()){\n    System.out.println(scanner.nextInt());\n}\n</code></pre>\n"}],"owner":{"account_id":5058252,"reputation":115,"user_id":4380718,"accept_rate":71,"display_name":"Saman Ray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35800988,"answer_count":2,"score":1,"last_activity_date":1646312288,"creation_date":1457108220,"question_id":35800872,"body_markdown":"I am a beginner and I am confused with using     hasNextInt(). If it checks the input, then shouldn&#39;t we be using it **after** asking the user for input?  However, in the given code below, it is used with     if statement. Please advise. \r\n\r\n    import java.util.Scanner;\r\n    public \tclass Test {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tScanner userInput = new Scanner(System.in);\r\n\t\r\n\t\t\tSystem.out.println(&quot;Enter your number&quot;);\r\n\t\t\tif (userInput.hasNextInt()) {\r\n\t\t\t\tint numberEntered = userInput.nextInt();\r\n\t\t\t\tSystem.out.println(&quot;You entered an integer&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;you didn&#39;t enter an integer&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Usage of hasNextInt() in java","body":"<p>I am a beginner and I am confused with using     hasNextInt(). If it checks the input, then shouldn't we be using it <strong>after</strong> asking the user for input?  However, in the given code below, it is used with     if statement. Please advise. </p>\n\n<pre><code>import java.util.Scanner;\npublic  class Test {\n    public static void main(String[] args) {\n        Scanner userInput = new Scanner(System.in);\n\n        System.out.println(\"Enter your number\");\n        if (userInput.hasNextInt()) {\n            int numberEntered = userInput.nextInt();\n            System.out.println(\"You entered an integer\");\n        } else {\n            System.out.println(\"you didn't enter an integer\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","exception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646230298,"post_id":71320594,"comment_id":126071484,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":13195586,"reputation":968,"user_id":9530555,"display_name":"Mbanda"},"score":0,"creation_date":1646236336,"post_id":71320594,"comment_id":126074260,"body_markdown":"If i understand you well. You need to set up error handler middleware which should catch error with status Code. You can need to learn about HTTP response, checkout `https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-http-error-codes` then at your front you will display/manage responses depending on codes.","body":"If i understand you well. You need to set up error handler middleware which should catch error with status Code. You can need to learn about HTTP response, checkout <code>https:&#47;&#47;www.digitalocean.com&#47;community&#47;tutorials&#47;how-to-trou&zwnj;&#8203;bleshoot-common-http&zwnj;&#8203;-error-codes</code> then at your front you will display/manage responses depending on codes."}],"answers":[{"tags":[],"owner":{"account_id":19315618,"reputation":83,"user_id":14120463,"display_name":"Barnesly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646221771,"creation_date":1646221218,"answer_id":71322075,"question_id":71320594,"body_markdown":"You can certainly pass information back in this field but using `ResponseStatusException`s. Depending on how much information the frontend needs (e.g. if it&#39;s just surfacing a user friendly message to the user) this may be enough for your needs.\r\n\r\nAnother approach, if you want to use a custom object in the response (esp. per exception/response code), is using `@ControllerAdvice` and extending `ResponseEntityExceptionHandler`.\r\n\r\ne.g. say you have a custom exception `ExternalServiceUnavailableException` which had some underlying `ServiceInformation` you could retrieve from it. Then you could do something like\r\n```java\r\npublic class ServiceInformation {\r\n    private final String name;\r\n    private final String status;\r\n    private final String statusMessage;\r\n\r\n//snip\r\n}\r\n\r\n@ControllerAdvice\r\npublic class CustomResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler({ ExternalServiceUnavailableException.class })\r\n    public ResponseEntity&lt;Object&gt; handleExternalServiceUnavailable(ExternalServiceUnavailableException ex, WebRequest request) {\r\n\r\n        final ServiceInformation si = ex.getServiceInformation();\r\n        return ResponseEntity\r\n            .status(503) // or whatever code you want\r\n            .body(si); // or map to some other object/format\r\n        // or use the constructor to supply headers etc.\r\n    }\r\n}\r\n```\r\n\r\nWhen you throw a `ExternalServiceUnavailableException` this would result in a response body like\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;my-external-service&quot;,\r\n    &quot;status&quot;: &quot;timeout&quot;,\r\n    &quot;statusMessage&quot;: &quot;Service timed out after 30 seconds&quot;\r\n}\r\n```\r\n\r\nA more complete example of this can be found in the below article where the same custom error object is used for each of the exceptions of consequence as well as a default handler.\r\n\r\nhttps://www.baeldung.com/exception-handling-for-rest-with-spring\r\n\r\nThis makes it easier for the frontend to interpret (as does your proposed approach) since there is only a single format to expect and parse, but you are free to return different response shapes per exception.\r\n\r\n**Edit**: it&#39;s worth remembering that there are also response codes 502 (bad gateway) and 504 (gateway timeout) which can be used to indicate an external service is either unavailable or timing out. If these are appropriate you could just use appropriate `ResponseStatusExceptions` with a message set to include the service name (or other info). As above, it depends on what you need/want the fronted to receive.","title":"Errorhandling between frontend and backend","body":"<p>You can certainly pass information back in this field but using <code>ResponseStatusException</code>s. Depending on how much information the frontend needs (e.g. if it's just surfacing a user friendly message to the user) this may be enough for your needs.</p>\n<p>Another approach, if you want to use a custom object in the response (esp. per exception/response code), is using <code>@ControllerAdvice</code> and extending <code>ResponseEntityExceptionHandler</code>.</p>\n<p>e.g. say you have a custom exception <code>ExternalServiceUnavailableException</code> which had some underlying <code>ServiceInformation</code> you could retrieve from it. Then you could do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServiceInformation {\n    private final String name;\n    private final String status;\n    private final String statusMessage;\n\n//snip\n}\n\n@ControllerAdvice\npublic class CustomResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler({ ExternalServiceUnavailableException.class })\n    public ResponseEntity&lt;Object&gt; handleExternalServiceUnavailable(ExternalServiceUnavailableException ex, WebRequest request) {\n\n        final ServiceInformation si = ex.getServiceInformation();\n        return ResponseEntity\n            .status(503) // or whatever code you want\n            .body(si); // or map to some other object/format\n        // or use the constructor to supply headers etc.\n    }\n}\n</code></pre>\n<p>When you throw a <code>ExternalServiceUnavailableException</code> this would result in a response body like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;my-external-service&quot;,\n    &quot;status&quot;: &quot;timeout&quot;,\n    &quot;statusMessage&quot;: &quot;Service timed out after 30 seconds&quot;\n}\n</code></pre>\n<p>A more complete example of this can be found in the below article where the same custom error object is used for each of the exceptions of consequence as well as a default handler.</p>\n<p><a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/exception-handling-for-rest-with-spring</a></p>\n<p>This makes it easier for the frontend to interpret (as does your proposed approach) since there is only a single format to expect and parse, but you are free to return different response shapes per exception.</p>\n<p><strong>Edit</strong>: it's worth remembering that there are also response codes 502 (bad gateway) and 504 (gateway timeout) which can be used to indicate an external service is either unavailable or timing out. If these are appropriate you could just use appropriate <code>ResponseStatusExceptions</code> with a message set to include the service name (or other info). As above, it depends on what you need/want the fronted to receive.</p>\n"}],"owner":{"account_id":23088350,"reputation":31,"user_id":17199546,"display_name":"Tim Ta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646312089,"creation_date":1646214593,"question_id":71320594,"body_markdown":"at work we building an web application with java spring backend and vue frontend.\r\nAt the moment we uses 2 or 3 http response code to pass errors between frontend and backend. \r\nIf you call and endpoint with wrong parameters, you&#39;ll get an BAD_REQUEST. If some exception was thrown in the backend (which isn&#39;t related with the parameters) the backend returns an INTERNAL_SERVER_ERROR and if you pass some ids which aren&#39;t in the database the backend returns an NOT_FOUND.\r\n\r\nThis method has multiple problems:\r\n- we have no structure in error case which we can use to pass information to the user (frontend)\r\n- we want to indicate problems to the user, which can&#39;t be classified by HTTP response codes. For example if an external service isn&#39;t available, we want to pass the service name to the frontend. But I don&#39;t know if &quot;SERVICE_UNAVAILABLE&quot; fits here... \r\n\r\n\r\nI found this already: https://www.baeldung.com/spring-response-status-exception\r\nWe could use the message field to pass detailed information about an error (specific error json in message field). \r\nIs this a good idea?\r\n\r\nOpinions?\r\n\r\nT ","title":"Errorhandling between frontend and backend","body":"<p>at work we building an web application with java spring backend and vue frontend.\nAt the moment we uses 2 or 3 http response code to pass errors between frontend and backend.\nIf you call and endpoint with wrong parameters, you'll get an BAD_REQUEST. If some exception was thrown in the backend (which isn't related with the parameters) the backend returns an INTERNAL_SERVER_ERROR and if you pass some ids which aren't in the database the backend returns an NOT_FOUND.</p>\n<p>This method has multiple problems:</p>\n<ul>\n<li>we have no structure in error case which we can use to pass information to the user (frontend)</li>\n<li>we want to indicate problems to the user, which can't be classified by HTTP response codes. For example if an external service isn't available, we want to pass the service name to the frontend. But I don't know if &quot;SERVICE_UNAVAILABLE&quot; fits here...</li>\n</ul>\n<p>I found this already: <a href=\"https://www.baeldung.com/spring-response-status-exception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-response-status-exception</a>\nWe could use the message field to pass detailed information about an error (specific error json in message field).\nIs this a good idea?</p>\n<p>Opinions?</p>\n<p>T</p>\n"},{"tags":["java","collections","comparator"],"answers":[{"tags":[],"owner":{"account_id":24432261,"reputation":1,"user_id":18357041,"display_name":"Anurag"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646311380,"creation_date":1646252624,"answer_id":71328713,"question_id":71328352,"body_markdown":"I think time and space complexity must be same because at the end your passing the comparator in both object creations so the only difference is :-\r\n    \r\n    //passing specified comparator\r\n    PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;((a,b) -&gt; b-a);\r\n    \r\n    //Collection.reverseOrder will return comparator with natural reverse ordering\r\n    PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(Collections.reverseOrder());","title":"Java Collections.reverseOrder() vs. Comparator","body":"<p>I think time and space complexity must be same because at the end your passing the comparator in both object creations so the only difference is :-</p>\n<pre><code>//passing specified comparator\nPriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;((a,b) -&gt; b-a);\n\n//Collection.reverseOrder will return comparator with natural reverse ordering\nPriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253297,"creation_date":1646253297,"answer_id":71328824,"question_id":71328352,"body_markdown":"Yes, the time and space complexity is the same (constant).\r\n\r\nUsing `Collections.reverseOrder()` is better because it names the order explicitly, instead of making the reader read the implementation and infer the order.","title":"Java Collections.reverseOrder() vs. Comparator","body":"<p>Yes, the time and space complexity is the same (constant).</p>\n<p>Using <code>Collections.reverseOrder()</code> is better because it names the order explicitly, instead of making the reader read the implementation and infer the order.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646256050,"creation_date":1646256050,"answer_id":71329283,"question_id":71328352,"body_markdown":"The asymptotics are the same, but `Collections.reverseOrder()` has several important advantages:\r\n\r\n- It guarantees that it doesn&#39;t do an allocation.  (`(a, b) -&gt; b - a` probably doesn&#39;t allocate, either, but `reverseOrder` guarantees a singleton.)\r\n- It is clearly self-documenting.\r\n- It works for all integers; `b-a` will break if comparing e.g. `Integer.MAX_VALUE` and -2 due to overflow.","title":"Java Collections.reverseOrder() vs. Comparator","body":"<p>The asymptotics are the same, but <code>Collections.reverseOrder()</code> has several important advantages:</p>\n<ul>\n<li>It guarantees that it doesn't do an allocation.  (<code>(a, b) -&gt; b - a</code> probably doesn't allocate, either, but <code>reverseOrder</code> guarantees a singleton.)</li>\n<li>It is clearly self-documenting.</li>\n<li>It works for all integers; <code>b-a</code> will break if comparing e.g. <code>Integer.MAX_VALUE</code> and -2 due to overflow.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646264732,"creation_date":1646257882,"answer_id":71329585,"question_id":71328352,"body_markdown":"The first `Comparator` (one with lambda) is wrong because it is subject to integer overflow (for example, with b = Integer.MIN_VALUE and a &gt; 0, this would return a positive value, not a negative one), you should use:\r\n\r\n    PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;((a,b) -&gt; Integer.compare(b, a));\r\n\r\nWhich is also called by [Integer.compareTo][1], which is called by [`reverseOrder`][2].\r\n\r\nAs said in other answer, you should use the `reverseOrder` or `Comparator.reversed()` because it make the intention clear.\r\n\r\nNow, for your question in depth, you should note that:\r\n\r\n- The lambda `(a, b) -&gt; b - a` is affected by unboxing and should be read `b.intValue() - a.intValue()` and since this one is not valid for some values due to integer overflow: it should be `Integer.compare(b.intValue(), a.intValue())`.\r\n- The `reverseOrder` simply calls `b.compareTo(a)` which calls `Integer.compare(value, other.value)` where value is the actual value of the boxed `Integer`.\r\n\r\nThe performance difference would amount to:\r\n\r\n- The cost of the two unboxing\r\n- Cost of calling methods.\r\n- The JVM optimization\r\n\r\nYou could wind up a JMH test (like the one below, based on another that I wrote for [another answer][3]): I shortened the values v1/v2 does to 3 because it takes times (~40m).\r\n\r\n```java\r\npackage stackoverflow;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\nimport java.util.concurrent.TimeUnit;\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.infra.Blackhole;\r\n\r\n@State(Scope.Benchmark)\r\n@Warmup(  time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(  time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Fork(1)\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@BenchmarkMode({ Mode.AverageTime})\r\npublic class ComparatorBenchmark {\r\n  private List&lt;Integer&gt; values;\r\n\r\n  @Param({ &quot;&quot; + Integer.MIN_VALUE, &quot;&quot; + Integer.MAX_VALUE, &quot;10&quot;, &quot;-1000&quot;, &quot;5000&quot;, &quot;10000&quot;, &quot;20000&quot;, &quot;50000&quot;, &quot;100000&quot; })\r\n  private Integer v1;\r\n\r\n  @Param({ &quot;&quot; + Integer.MIN_VALUE, &quot;&quot; + Integer.MAX_VALUE, &quot;10&quot;, &quot;1000&quot;, &quot;-5000&quot;, &quot;10000&quot;, &quot;20000&quot;, &quot;50000&quot;, &quot;100000&quot; })\r\n  private Integer v2;\r\n\r\n  private Comparator&lt;Integer&gt; cmp1;\r\n  private Comparator&lt;Integer&gt; cmp2;\r\n  private Comparator&lt;Integer&gt; cmp3;\r\n\r\n  @Setup\r\n  public void setUp() {\r\n    cmp1 = (a, b) -&gt; Integer.compare(b, a);\r\n    cmp2 = (a, b) -&gt; b - a;\r\n    cmp3 = Collections.reverseOrder();\r\n  }\r\n\r\n  @Benchmark\r\n  public void with_Integer_compare(Blackhole blackhole) {\r\n    blackhole.consume(cmp1.compare(v1, v2));\r\n  }\r\n\r\n  @Benchmark\r\n  public void with_b_minus_a(Blackhole blackhole) {\r\n    blackhole.consume(cmp2.compare(v1, v2));\r\n  }\r\n\r\n  @Benchmark\r\n  public void with_reverse_comparator(Blackhole blackhole) {\r\n    blackhole.consume(cmp3.compare(v1, v2));\r\n  }\r\n}\r\n\r\n```\r\n\r\nRunning this on:\r\n\r\n- Windows 10\r\n- Java 17.0.2\r\n- AMD Ryzen 7 2700X @ 3.70 GHz\r\n\r\nProduces the following result (I limited it to 3 values: MIN_VALUE, MAX_VALUE and 10 because its ETA is ~40m): \r\n\r\n```\r\nBenchmark                                           (v1)         (v2)  Mode  Cnt  Score   Error  Units\r\nComparatorBenchmark.with_Integer_compare     -2147483648  -2147483648  avgt    5  1,113 &#177; 0,074  ns/op\r\nComparatorBenchmark.with_Integer_compare     -2147483648   2147483647  avgt    5  1,111 &#177; 0,037  ns/op\r\nComparatorBenchmark.with_Integer_compare     -2147483648           10  avgt    5  1,111 &#177; 0,075  ns/op\r\nComparatorBenchmark.with_Integer_compare      2147483647  -2147483648  avgt    5  1,122 &#177; 0,075  ns/op\r\nComparatorBenchmark.with_Integer_compare      2147483647   2147483647  avgt    5  1,123 &#177; 0,070  ns/op\r\nComparatorBenchmark.with_Integer_compare      2147483647           10  avgt    5  1,102 &#177; 0,039  ns/op\r\nComparatorBenchmark.with_Integer_compare              10  -2147483648  avgt    5  1,097 &#177; 0,024  ns/op\r\nComparatorBenchmark.with_Integer_compare              10   2147483647  avgt    5  1,094 &#177; 0,019  ns/op\r\nComparatorBenchmark.with_Integer_compare              10           10  avgt    5  1,097 &#177; 0,034  ns/op\r\n\r\nComparatorBenchmark.with_b_minus_a           -2147483648  -2147483648  avgt    5  1,105 &#177; 0,054  ns/op\r\nComparatorBenchmark.with_b_minus_a           -2147483648   2147483647  avgt    5  1,099 &#177; 0,040  ns/op\r\nComparatorBenchmark.with_b_minus_a           -2147483648           10  avgt    5  1,094 &#177; 0,038  ns/op\r\nComparatorBenchmark.with_b_minus_a            2147483647  -2147483648  avgt    5  1,112 &#177; 0,044  ns/op\r\nComparatorBenchmark.with_b_minus_a            2147483647   2147483647  avgt    5  1,105 &#177; 0,029  ns/op\r\nComparatorBenchmark.with_b_minus_a            2147483647           10  avgt    5  1,112 &#177; 0,068  ns/op\r\nComparatorBenchmark.with_b_minus_a                    10  -2147483648  avgt    5  1,086 &#177; 0,010  ns/op\r\nComparatorBenchmark.with_b_minus_a                    10   2147483647  avgt    5  1,125 &#177; 0,084  ns/op\r\nComparatorBenchmark.with_b_minus_a                    10           10  avgt    5  1,125 &#177; 0,082  ns/op\r\n\r\nComparatorBenchmark.with_reverse_comparator  -2147483648  -2147483648  avgt    5  1,121 &#177; 0,050  ns/op\r\nComparatorBenchmark.with_reverse_comparator  -2147483648   2147483647  avgt    5  1,122 &#177; 0,067  ns/op\r\nComparatorBenchmark.with_reverse_comparator  -2147483648           10  avgt    5  1,129 &#177; 0,094  ns/op\r\nComparatorBenchmark.with_reverse_comparator   2147483647  -2147483648  avgt    5  1,117 &#177; 0,046  ns/op\r\nComparatorBenchmark.with_reverse_comparator   2147483647   2147483647  avgt    5  1,122 &#177; 0,072  ns/op\r\nComparatorBenchmark.with_reverse_comparator   2147483647           10  avgt    5  1,116 &#177; 0,080  ns/op\r\nComparatorBenchmark.with_reverse_comparator           10  -2147483648  avgt    5  1,114 &#177; 0,052  ns/op\r\nComparatorBenchmark.with_reverse_comparator           10   2147483647  avgt    5  1,133 &#177; 0,068  ns/op\r\nComparatorBenchmark.with_reverse_comparator           10           10  avgt    5  1,134 &#177; 0,036  ns/op\r\n```\r\n\r\nAs you can see, the score are within the same margin. \r\n\r\nYou would not gain/lose much from neither implementation, and as already said, you should use `Collections.reverseOrder()` to make your intention clear, and if not use `Integer.compare`, not a subtraction subject to integer overflow unless you are sure that each `Integer` is limited (for example, `Short.MIN_VALUE` to `Short.MAX_VALUE`).\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/b6c35ae44aeb31deb7a15ee2939156ed00b3df52/src/java.base/share/classes/java/lang/Integer.java#L1468\r\n  [2]: https://github.com/openjdk/jdk/blob/b6c35ae44aeb31deb7a15ee2939156ed00b3df52/src/java.base/share/classes/java/util/Collections.java#L5326\r\n  [3]: https://stackoverflow.com/questions/41622027/performance-for-java-stream-concat-vs-collection-addall/41622945#41622945","title":"Java Collections.reverseOrder() vs. Comparator","body":"<p>The first <code>Comparator</code> (one with lambda) is wrong because it is subject to integer overflow (for example, with b = Integer.MIN_VALUE and a &gt; 0, this would return a positive value, not a negative one), you should use:</p>\n<pre><code>PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;((a,b) -&gt; Integer.compare(b, a));\n</code></pre>\n<p>Which is also called by <a href=\"https://github.com/openjdk/jdk/blob/b6c35ae44aeb31deb7a15ee2939156ed00b3df52/src/java.base/share/classes/java/lang/Integer.java#L1468\" rel=\"nofollow noreferrer\">Integer.compareTo</a>, which is called by <a href=\"https://github.com/openjdk/jdk/blob/b6c35ae44aeb31deb7a15ee2939156ed00b3df52/src/java.base/share/classes/java/util/Collections.java#L5326\" rel=\"nofollow noreferrer\"><code>reverseOrder</code></a>.</p>\n<p>As said in other answer, you should use the <code>reverseOrder</code> or <code>Comparator.reversed()</code> because it make the intention clear.</p>\n<p>Now, for your question in depth, you should note that:</p>\n<ul>\n<li>The lambda <code>(a, b) -&gt; b - a</code> is affected by unboxing and should be read <code>b.intValue() - a.intValue()</code> and since this one is not valid for some values due to integer overflow: it should be <code>Integer.compare(b.intValue(), a.intValue())</code>.</li>\n<li>The <code>reverseOrder</code> simply calls <code>b.compareTo(a)</code> which calls <code>Integer.compare(value, other.value)</code> where value is the actual value of the boxed <code>Integer</code>.</li>\n</ul>\n<p>The performance difference would amount to:</p>\n<ul>\n<li>The cost of the two unboxing</li>\n<li>Cost of calling methods.</li>\n<li>The JVM optimization</li>\n</ul>\n<p>You could wind up a JMH test (like the one below, based on another that I wrote for <a href=\"https://stackoverflow.com/questions/41622027/performance-for-java-stream-concat-vs-collection-addall/41622945#41622945\">another answer</a>): I shortened the values v1/v2 does to 3 because it takes times (~40m).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stackoverflow;\n\nimport java.util.*;\nimport java.util.stream.*;\nimport java.util.concurrent.TimeUnit;\nimport org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.infra.Blackhole;\n\n@State(Scope.Benchmark)\n@Warmup(  time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(  time = 1, timeUnit = TimeUnit.SECONDS)\n@Fork(1)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@BenchmarkMode({ Mode.AverageTime})\npublic class ComparatorBenchmark {\n  private List&lt;Integer&gt; values;\n\n  @Param({ &quot;&quot; + Integer.MIN_VALUE, &quot;&quot; + Integer.MAX_VALUE, &quot;10&quot;, &quot;-1000&quot;, &quot;5000&quot;, &quot;10000&quot;, &quot;20000&quot;, &quot;50000&quot;, &quot;100000&quot; })\n  private Integer v1;\n\n  @Param({ &quot;&quot; + Integer.MIN_VALUE, &quot;&quot; + Integer.MAX_VALUE, &quot;10&quot;, &quot;1000&quot;, &quot;-5000&quot;, &quot;10000&quot;, &quot;20000&quot;, &quot;50000&quot;, &quot;100000&quot; })\n  private Integer v2;\n\n  private Comparator&lt;Integer&gt; cmp1;\n  private Comparator&lt;Integer&gt; cmp2;\n  private Comparator&lt;Integer&gt; cmp3;\n\n  @Setup\n  public void setUp() {\n    cmp1 = (a, b) -&gt; Integer.compare(b, a);\n    cmp2 = (a, b) -&gt; b - a;\n    cmp3 = Collections.reverseOrder();\n  }\n\n  @Benchmark\n  public void with_Integer_compare(Blackhole blackhole) {\n    blackhole.consume(cmp1.compare(v1, v2));\n  }\n\n  @Benchmark\n  public void with_b_minus_a(Blackhole blackhole) {\n    blackhole.consume(cmp2.compare(v1, v2));\n  }\n\n  @Benchmark\n  public void with_reverse_comparator(Blackhole blackhole) {\n    blackhole.consume(cmp3.compare(v1, v2));\n  }\n}\n\n</code></pre>\n<p>Running this on:</p>\n<ul>\n<li>Windows 10</li>\n<li>Java 17.0.2</li>\n<li>AMD Ryzen 7 2700X @ 3.70 GHz</li>\n</ul>\n<p>Produces the following result (I limited it to 3 values: MIN_VALUE, MAX_VALUE and 10 because its ETA is ~40m):</p>\n<pre><code>Benchmark                                           (v1)         (v2)  Mode  Cnt  Score   Error  Units\nComparatorBenchmark.with_Integer_compare     -2147483648  -2147483648  avgt    5  1,113 ± 0,074  ns/op\nComparatorBenchmark.with_Integer_compare     -2147483648   2147483647  avgt    5  1,111 ± 0,037  ns/op\nComparatorBenchmark.with_Integer_compare     -2147483648           10  avgt    5  1,111 ± 0,075  ns/op\nComparatorBenchmark.with_Integer_compare      2147483647  -2147483648  avgt    5  1,122 ± 0,075  ns/op\nComparatorBenchmark.with_Integer_compare      2147483647   2147483647  avgt    5  1,123 ± 0,070  ns/op\nComparatorBenchmark.with_Integer_compare      2147483647           10  avgt    5  1,102 ± 0,039  ns/op\nComparatorBenchmark.with_Integer_compare              10  -2147483648  avgt    5  1,097 ± 0,024  ns/op\nComparatorBenchmark.with_Integer_compare              10   2147483647  avgt    5  1,094 ± 0,019  ns/op\nComparatorBenchmark.with_Integer_compare              10           10  avgt    5  1,097 ± 0,034  ns/op\n\nComparatorBenchmark.with_b_minus_a           -2147483648  -2147483648  avgt    5  1,105 ± 0,054  ns/op\nComparatorBenchmark.with_b_minus_a           -2147483648   2147483647  avgt    5  1,099 ± 0,040  ns/op\nComparatorBenchmark.with_b_minus_a           -2147483648           10  avgt    5  1,094 ± 0,038  ns/op\nComparatorBenchmark.with_b_minus_a            2147483647  -2147483648  avgt    5  1,112 ± 0,044  ns/op\nComparatorBenchmark.with_b_minus_a            2147483647   2147483647  avgt    5  1,105 ± 0,029  ns/op\nComparatorBenchmark.with_b_minus_a            2147483647           10  avgt    5  1,112 ± 0,068  ns/op\nComparatorBenchmark.with_b_minus_a                    10  -2147483648  avgt    5  1,086 ± 0,010  ns/op\nComparatorBenchmark.with_b_minus_a                    10   2147483647  avgt    5  1,125 ± 0,084  ns/op\nComparatorBenchmark.with_b_minus_a                    10           10  avgt    5  1,125 ± 0,082  ns/op\n\nComparatorBenchmark.with_reverse_comparator  -2147483648  -2147483648  avgt    5  1,121 ± 0,050  ns/op\nComparatorBenchmark.with_reverse_comparator  -2147483648   2147483647  avgt    5  1,122 ± 0,067  ns/op\nComparatorBenchmark.with_reverse_comparator  -2147483648           10  avgt    5  1,129 ± 0,094  ns/op\nComparatorBenchmark.with_reverse_comparator   2147483647  -2147483648  avgt    5  1,117 ± 0,046  ns/op\nComparatorBenchmark.with_reverse_comparator   2147483647   2147483647  avgt    5  1,122 ± 0,072  ns/op\nComparatorBenchmark.with_reverse_comparator   2147483647           10  avgt    5  1,116 ± 0,080  ns/op\nComparatorBenchmark.with_reverse_comparator           10  -2147483648  avgt    5  1,114 ± 0,052  ns/op\nComparatorBenchmark.with_reverse_comparator           10   2147483647  avgt    5  1,133 ± 0,068  ns/op\nComparatorBenchmark.with_reverse_comparator           10           10  avgt    5  1,134 ± 0,036  ns/op\n</code></pre>\n<p>As you can see, the score are within the same margin.</p>\n<p>You would not gain/lose much from neither implementation, and as already said, you should use <code>Collections.reverseOrder()</code> to make your intention clear, and if not use <code>Integer.compare</code>, not a subtraction subject to integer overflow unless you are sure that each <code>Integer</code> is limited (for example, <code>Short.MIN_VALUE</code> to <code>Short.MAX_VALUE</code>).</p>\n"}],"owner":{"account_id":21374078,"reputation":81,"user_id":15741142,"display_name":"isaac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1646311380,"creation_date":1646250410,"question_id":71328352,"body_markdown":"I am practicing leetcode and oftenTimes I see different ways of reversing data structures. I was wondering if there is a benefit to doing it one way vs the other? \r\n\r\nFor example to create a max heap from a PriortiyQueue i can \r\n\r\n```\r\nPriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;((a,b) -&gt; b-a);\r\n```\r\nor \r\n```\r\nPriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\r\n```\r\n\r\nIs the time and space complexity the same? Should i be defaulting to use a comparator or is the collections.reverseOrder() good?","title":"Java Collections.reverseOrder() vs. Comparator","body":"<p>I am practicing leetcode and oftenTimes I see different ways of reversing data structures. I was wondering if there is a benefit to doing it one way vs the other?</p>\n<p>For example to create a max heap from a PriortiyQueue i can</p>\n<pre><code>PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;((a,b) -&gt; b-a);\n</code></pre>\n<p>or</p>\n<pre><code>PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\n</code></pre>\n<p>Is the time and space complexity the same? Should i be defaulting to use a comparator or is the collections.reverseOrder() good?</p>\n"},{"tags":["java","file","parent-child"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1646308870,"post_id":71336673,"comment_id":126093734,"body_markdown":"What is the current working directory when you start `java`? It should be `D:\\project\\major` as long I can see.","body":"What is the current working directory when you start <code>java</code>? It should be <code>D:\\project\\major</code> as long I can see."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1646309440,"post_id":71336673,"comment_id":126093945,"body_markdown":"[How to get just the parent directory name of a specific file](https://stackoverflow.com/a/8197136/1518100)","body":"<a href=\"https://stackoverflow.com/a/8197136/1518100\">How to get just the parent directory name of a specific file</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1646331439,"post_id":71336673,"comment_id":126102757,"body_markdown":"I understand that you are trying to find the path to file `lump.txt`. Is that correct?","body":"I understand that you are trying to find the path to file <code>lump.txt</code>. Is that correct?"}],"answers":[{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646310151,"creation_date":1646310151,"answer_id":71337166,"question_id":71336673,"body_markdown":"Is this your requirement? Please check.\r\n\r\n    private static void fileParentDir() {\r\n        File pp = new File(&quot;C:\\\\Users\\\\user\\\\Documents\\\\major\\\\sample\\\\pp.txt&quot;);\r\n    \r\n        if(pp != null &amp;&amp; pp.isFile() &amp;&amp; pp.exists()){\r\n            System.out.println(&quot;Current folder : &quot; + pp.getParent());\r\n            System.out.println(&quot;Parent folder : &quot; + pp.getParentFile().getParent());\r\n            System.out.println(&quot;Lump exists : &quot; + new File(pp.getParentFile().getParent(), &quot;lump.txt&quot;).exists());\r\n        }\r\n    }\r\n\r\nOutput&lt;br&gt;\r\n\r\n    Current folder : C:\\Users\\user\\Documents\\major\\sample\r\n    Parent folder : C:\\Users\\user\\Documents\\major\r\n    Lump exists : true\r\n\r\n","title":"How to check whether file exist in parent folder from the current directory?","body":"<p>Is this your requirement? Please check.</p>\n<pre><code>private static void fileParentDir() {\n    File pp = new File(&quot;C:\\\\Users\\\\user\\\\Documents\\\\major\\\\sample\\\\pp.txt&quot;);\n\n    if(pp != null &amp;&amp; pp.isFile() &amp;&amp; pp.exists()){\n        System.out.println(&quot;Current folder : &quot; + pp.getParent());\n        System.out.println(&quot;Parent folder : &quot; + pp.getParentFile().getParent());\n        System.out.println(&quot;Lump exists : &quot; + new File(pp.getParentFile().getParent(), &quot;lump.txt&quot;).exists());\n    }\n}\n</code></pre>\n<p>Output<br></p>\n<pre><code>Current folder : C:\\Users\\user\\Documents\\major\\sample\nParent folder : C:\\Users\\user\\Documents\\major\nLump exists : true\n</code></pre>\n"}],"owner":{"account_id":22222965,"reputation":11,"user_id":16460309,"display_name":"Jav Developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646311307,"creation_date":1646308082,"question_id":71336673,"body_markdown":"One of my file and the current path is in \r\n\r\n    D:\\project\\major\\sample\\pp.txt\r\n\r\nLet&#39;s say I have a file in `major` folder say `lump.txt` as `(D:\\project\\major\\lump.txt)`\r\n\r\nI don&#39;t know the folder name of major but knows the file name (`lump.txt`) as it is dynamic which gives the exact folder path of pp.txt alone. I want to move to the previous 1 folder, in this case, the major folder. \r\n\r\nSo I get the file object by\r\n```java\r\nFile file = new File(&quot;D:\\\\project\\\\major\\\\sample\\\\pp.txt&quot;)\r\n```\r\nNow I want to fetch the `lump.txt` file which is residing in the previous folder. But all of the below approaches doesn&#39;t fetch the file and always returns file doesn&#39;t exist\r\n\r\n    File file = new File(&quot;.\\\\sample\\\\lump.txt&quot;);\r\n    if(file.exists()) {\r\n        Logger.info(&quot;file exist 1&quot;);\r\n    } else {\r\n        Logger.info(&quot;file not exist 1&quot;);\r\n    }\r\n    file = new File(&quot;.\\\\.\\\\sample\\\\lump.txt&quot;);\r\n    if(file.exists()) {\r\n        Logger.info(&quot;file exist 2&quot;);\r\n    } else {\r\n        Logger.info(&quot;file not exist 2&quot;);\r\n    }\r\n    file = new File(&quot;..\\\\sample\\\\lump.txt&quot;);\r\n    if(file.exists()) {\r\n        Logger.info(&quot;file exist 3&quot;);\r\n    } else {\r\n        Logger.info(&quot;file not exist 3&quot;);\r\n    }\r\n    file = new File(&quot;...\\\\sample\\\\lump.txt&quot;);\r\n    if(file.exists()) {\r\n        Logger.info(&quot;file exist 4&quot;);\r\n    } else {\r\n        Logger.info(&quot;file not exist 4&quot;);\r\n    }\r\n\r\nPlease advise on how to resolve this problem. How to get the file?\r\n\r\nThanks","title":"How to check whether file exist in parent folder from the current directory?","body":"<p>One of my file and the current path is in</p>\n<pre><code>D:\\project\\major\\sample\\pp.txt\n</code></pre>\n<p>Let's say I have a file in <code>major</code> folder say <code>lump.txt</code> as <code>(D:\\project\\major\\lump.txt)</code></p>\n<p>I don't know the folder name of major but knows the file name (<code>lump.txt</code>) as it is dynamic which gives the exact folder path of pp.txt alone. I want to move to the previous 1 folder, in this case, the major folder.</p>\n<p>So I get the file object by</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;D:\\\\project\\\\major\\\\sample\\\\pp.txt&quot;)\n</code></pre>\n<p>Now I want to fetch the <code>lump.txt</code> file which is residing in the previous folder. But all of the below approaches doesn't fetch the file and always returns file doesn't exist</p>\n<pre><code>File file = new File(&quot;.\\\\sample\\\\lump.txt&quot;);\nif(file.exists()) {\n    Logger.info(&quot;file exist 1&quot;);\n} else {\n    Logger.info(&quot;file not exist 1&quot;);\n}\nfile = new File(&quot;.\\\\.\\\\sample\\\\lump.txt&quot;);\nif(file.exists()) {\n    Logger.info(&quot;file exist 2&quot;);\n} else {\n    Logger.info(&quot;file not exist 2&quot;);\n}\nfile = new File(&quot;..\\\\sample\\\\lump.txt&quot;);\nif(file.exists()) {\n    Logger.info(&quot;file exist 3&quot;);\n} else {\n    Logger.info(&quot;file not exist 3&quot;);\n}\nfile = new File(&quot;...\\\\sample\\\\lump.txt&quot;);\nif(file.exists()) {\n    Logger.info(&quot;file exist 4&quot;);\n} else {\n    Logger.info(&quot;file not exist 4&quot;);\n}\n</code></pre>\n<p>Please advise on how to resolve this problem. How to get the file?</p>\n<p>Thanks</p>\n"},{"tags":["java","regex","string","regex-negation"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1646300480,"post_id":71334622,"comment_id":126090825,"body_markdown":"Looks like `\\p{L}` in Java regex supports both BMP and astral planes, but the construct is a placeholder for a complex pattern including alternations with multicharacter sequences, and thus, cannot be used inside a character class. `Pattern p2 = Pattern.compile(&quot;\\\\P{L}&quot;);` returns what you need, right?","body":"Looks like <code>\\p{L}</code> in Java regex supports both BMP and astral planes, but the construct is a placeholder for a complex pattern including alternations with multicharacter sequences, and thus, cannot be used inside a character class. <code>Pattern p2 = Pattern.compile(&quot;\\\\P{L}&quot;);</code> returns what you need, right?"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646301992,"creation_date":1646301992,"answer_id":71335315,"question_id":71334622,"body_markdown":"For cases like this I wrote my own utility that allows to convert any String to unicode sequence and vice-versa. Here is a sample:\r\n\r\n    result = &quot;Hello World&quot;;\r\n    result = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\r\n    System.out.println(result);\r\n    result = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\r\n    System.out.println(result);\r\n\r\nThe output of this code is:\r\n\r\n    \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\r\n    Hello World\r\n\r\nThe library can be found at [Maven Central][1] or at [Github][2] It comes as maven artifact and with sources and javadoc\r\n\r\nHere is javadoc for the class [StringUnicodeEncoderDecoder][3]. This helps me a lot when I need to diagnose problems like yours, but also in extreme scenarios you can convert String into unicodes and modify it as codes and convert it back. It might be a workaround for you until you find better solution\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\r\n  [2]: https://github.com/michaelgantman/Mgnt\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html","title":"Removing non-letter Characters from String leaves UTF-16 High Surrogates","body":"<p>For cases like this I wrote my own utility that allows to convert any String to unicode sequence and vice-versa. Here is a sample:</p>\n<pre><code>result = &quot;Hello World&quot;;\nresult = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\nSystem.out.println(result);\nresult = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\nSystem.out.println(result);\n</code></pre>\n<p>The output of this code is:</p>\n<pre><code>\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\nHello World\n</code></pre>\n<p>The library can be found at <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\" rel=\"nofollow noreferrer\">Maven Central</a> or at <a href=\"https://github.com/michaelgantman/Mgnt\" rel=\"nofollow noreferrer\">Github</a> It comes as maven artifact and with sources and javadoc</p>\n<p>Here is javadoc for the class <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html\" rel=\"nofollow noreferrer\">StringUnicodeEncoderDecoder</a>. This helps me a lot when I need to diagnose problems like yours, but also in extreme scenarios you can convert String into unicodes and modify it as codes and convert it back. It might be a workaround for you until you find better solution</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646311195,"creation_date":1646311195,"answer_id":71337381,"question_id":71334622,"body_markdown":"In your current Java version, the problem is that `\\p{L}` is a placeholder, mnemonic for a more complex pattern that includes alternatives with multicharacter sequences.\r\n\r\nThat means, the `\\p{L}` pattern cannot be used inside a character class, as character classes are not meant to match *char sequences*, only *individual* chars.\r\n\r\nThus, you need to make sure you use it outside of a character class. Here, you can simply use the reverse Unicode category class, `\\P{L}`, to match any char but a Unicode letter. The following:\r\n```java\r\nPattern p2 = Pattern.compile(&quot;\\\\P{L}&quot;);\r\n```\r\n[returns what you need][1].\r\n\r\nIn case you cannot replace  with the\r\nreverse class, you can use an alterenation. For example, if you have `[^\\d\\s\\p{L}]`, you can use `(?:\\P{L}|[^\\d\\s])`.\r\n\r\nNote that your code looks working in Java 17+ ([confirmed by user16320675](https://stackoverflow.com/questions/71334622/removing-non-letter-characters-from-string-leaves-utf-16-high-surrogates/71337381#comment126090879_71334622)).\r\n \r\n  [1]: https://ideone.com/YQUTV1","title":"Removing non-letter Characters from String leaves UTF-16 High Surrogates","body":"<p>In your current Java version, the problem is that <code>\\p{L}</code> is a placeholder, mnemonic for a more complex pattern that includes alternatives with multicharacter sequences.</p>\n<p>That means, the <code>\\p{L}</code> pattern cannot be used inside a character class, as character classes are not meant to match <em>char sequences</em>, only <em>individual</em> chars.</p>\n<p>Thus, you need to make sure you use it outside of a character class. Here, you can simply use the reverse Unicode category class, <code>\\P{L}</code>, to match any char but a Unicode letter. The following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p2 = Pattern.compile(&quot;\\\\P{L}&quot;);\n</code></pre>\n<p><a href=\"https://ideone.com/YQUTV1\" rel=\"nofollow noreferrer\">returns what you need</a>.</p>\n<p>In case you cannot replace  with the\nreverse class, you can use an alterenation. For example, if you have <code>[^\\d\\s\\p{L}]</code>, you can use <code>(?:\\P{L}|[^\\d\\s])</code>.</p>\n<p>Note that your code looks working in Java 17+ (<a href=\"https://stackoverflow.com/questions/71334622/removing-non-letter-characters-from-string-leaves-utf-16-high-surrogates/71337381#comment126090879_71334622\">confirmed by user16320675</a>).</p>\n"}],"owner":{"account_id":12662922,"reputation":143,"user_id":9203198,"display_name":"GJL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646311195,"creation_date":1646298802,"question_id":71334622,"body_markdown":"I am using the regex `[^\\\\p{L}]` and `java.util.regex.Matcher#replaceAll(String)` to match and remove all non-letter characters from a string. I noticed that for characters containing UTF-16 surrogates, `replaceAll()` creates a structurally invalid string (OpenJDK Runtime Environment (build 11.0.6+10-post-Ubuntu-1ubuntu118.04.1). \r\n\r\nFirst a working example:\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nclass Main {  \r\n  public static void main(String args[]) { \r\n    Pattern p = Pattern.compile(&quot;[^\\\\p{L}]&quot;);\r\n    System.out.println(p.matcher(&quot;abcဍ*&quot;).replaceAll(&quot;&quot;));\r\n  } \r\n}\r\n```\r\n\r\nThe above program prints `abcဍ` as expected (ဍ is MYANMAR LETTER DDA).\r\n\r\nNow let&#39;s test the character &quot;&#120077;&quot; (`\\uD835\\uDD0D`, MATHEMATICAL FRAKTUR CAPITAL J, Category: Letter, Uppercase [Lu]), which contains high surrogates:\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nclass Main {  \r\n  public static void main(String args[]) {\r\n    String original = &quot;&#120077;&quot;; // &quot;\\uD835\\uDD0D&quot;\r\n    \r\n    Pattern p1 = Pattern.compile(&quot;[\\\\p{L}]&quot;);   // try regex without negation first\r\n    Matcher m1 = p1.matcher(original);\r\n    String r1 = m1.replaceAll(&quot;&quot;);\r\n    System.out.println(&quot;r1: &quot; + r1);\r\n  \r\n    Pattern p2 = Pattern.compile(&quot;[^\\\\p{L}]&quot;);  // now try regex with negation\r\n    Matcher m2 = p2.matcher(original);\r\n    String r2 = m2.replaceAll(&quot;&quot;);\r\n    System.out.println(&quot;r2: &quot; + r2);\r\n    System.out.println(&quot;r2 length: &quot; + r2.length());\r\n    System.out.println(&quot;r2 char(0): &quot; + (int) r2.charAt(0));\r\n\r\n    System.out.println(&quot;original: &quot; + original);\r\n  } \r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nr1:                     // r1 = empty string as expected\r\nr2: ?                   // r2 = broken string\r\nr2 length: 1            \r\nr2 char(0): 55349       // 0xD835 (high surrogate)\r\noriginal: &#120077;\r\n```\r\n\r\nOther examples I tested that produce structurally invalid strings:\r\n- &#66776; (`\\uD801\\uDCD8`), OSAGE SMALL LETTER A, Category: Letter, Lowercase [Ll]\r\n- &#72394; (`\\uD806\\uDECA`), PAU CIN HAU LETTER KHA, Category: Letter, Other [Lo] \r\n\r\nIs my regex broken, or is this a bug in the Java Class Library? If this is a bug, is there a workaround?\r\n\r\n\r\n\r\n","title":"Removing non-letter Characters from String leaves UTF-16 High Surrogates","body":"<p>I am using the regex <code>[^\\\\p{L}]</code> and <code>java.util.regex.Matcher#replaceAll(String)</code> to match and remove all non-letter characters from a string. I noticed that for characters containing UTF-16 surrogates, <code>replaceAll()</code> creates a structurally invalid string (OpenJDK Runtime Environment (build 11.0.6+10-post-Ubuntu-1ubuntu118.04.1).</p>\n<p>First a working example:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {  \n  public static void main(String args[]) { \n    Pattern p = Pattern.compile(&quot;[^\\\\p{L}]&quot;);\n    System.out.println(p.matcher(&quot;abcဍ*&quot;).replaceAll(&quot;&quot;));\n  } \n}\n</code></pre>\n<p>The above program prints <code>abcဍ</code> as expected (ဍ is MYANMAR LETTER DDA).</p>\n<p>Now let's test the character &quot;𝔍&quot; (<code>\\uD835\\uDD0D</code>, MATHEMATICAL FRAKTUR CAPITAL J, Category: Letter, Uppercase [Lu]), which contains high surrogates:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {  \n  public static void main(String args[]) {\n    String original = &quot;𝔍&quot;; // &quot;\\uD835\\uDD0D&quot;\n    \n    Pattern p1 = Pattern.compile(&quot;[\\\\p{L}]&quot;);   // try regex without negation first\n    Matcher m1 = p1.matcher(original);\n    String r1 = m1.replaceAll(&quot;&quot;);\n    System.out.println(&quot;r1: &quot; + r1);\n  \n    Pattern p2 = Pattern.compile(&quot;[^\\\\p{L}]&quot;);  // now try regex with negation\n    Matcher m2 = p2.matcher(original);\n    String r2 = m2.replaceAll(&quot;&quot;);\n    System.out.println(&quot;r2: &quot; + r2);\n    System.out.println(&quot;r2 length: &quot; + r2.length());\n    System.out.println(&quot;r2 char(0): &quot; + (int) r2.charAt(0));\n\n    System.out.println(&quot;original: &quot; + original);\n  } \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>r1:                     // r1 = empty string as expected\nr2: ?                   // r2 = broken string\nr2 length: 1            \nr2 char(0): 55349       // 0xD835 (high surrogate)\noriginal: 𝔍\n</code></pre>\n<p>Other examples I tested that produce structurally invalid strings:</p>\n<ul>\n<li>𐓘 (<code>\\uD801\\uDCD8</code>), OSAGE SMALL LETTER A, Category: Letter, Lowercase [Ll]</li>\n<li>𑫊 (<code>\\uD806\\uDECA</code>), PAU CIN HAU LETTER KHA, Category: Letter, Other [Lo]</li>\n</ul>\n<p>Is my regex broken, or is this a bug in the Java Class Library? If this is a bug, is there a workaround?</p>\n"},{"tags":["java","scala","jar","project"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1646311280,"post_id":71337344,"comment_id":126094663,"body_markdown":"either you create a new, updated version of the same jar, or there is no reason to make changes. If you&#39;ll only use the jars with the older (unchanged) class files in it, you won&#39;t be able to use your changes anyway","body":"either you create a new, updated version of the same jar, or there is no reason to make changes. If you&#39;ll only use the jars with the older (unchanged) class files in it, you won&#39;t be able to use your changes anyway"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1646314712,"post_id":71337344,"comment_id":126095982,"body_markdown":"Well think of it this way, you write a word document nd you print it, and then you modify the document. Do you expect the fiscal copy to change? - However, you may not need to create a new jar, like for running tests and running the app locally you can do all that through your build tool or IDE; but once the changes are ready to be deployed to production then yes you need to create a new JAR.","body":"Well think of it this way, you write a word document nd you print it, and then you modify the document. Do you expect the fiscal copy to change? - However, you may not need to create a new jar, like for running tests and running the app locally you can do all that through your build tool or IDE; but once the changes are ready to be deployed to production then yes you need to create a new JAR."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1646320244,"post_id":71337344,"comment_id":126098306,"body_markdown":"Tell ... if we are going to split hairs ... it is technically possible to update an existing JAR file (using `jar uf &lt;jar-name&gt; &lt;files&gt;` instead of creating a new one.  But you will need yo deploy the updated JAR ... so it makes not difference which way you do it.","body":"Tell ... if we are going to split hairs ... it is technically possible to update an existing JAR file (using <code>jar uf &lt;jar-name&gt; &lt;files&gt;</code> instead of creating a new one.  But you will need yo deploy the updated JAR ... so it makes not difference which way you do it."}],"owner":{"account_id":20569855,"reputation":1,"user_id":15098423,"display_name":"Mohan Deepak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646311127,"creation_date":1646311003,"question_id":71337344,"body_markdown":"I&#39;m somewhat new for these. I had done a project in Scala and created a JAR file for it. Now I want to do some changes in my project. So, do I need to create a new JAR file for every cycle of changes or is there any other way.","title":"Do we need to create a new jar file for every change we make in our project","body":"<p>I'm somewhat new for these. I had done a project in Scala and created a JAR file for it. Now I want to do some changes in my project. So, do I need to create a new JAR file for every cycle of changes or is there any other way.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":1,"creation_date":1646309472,"post_id":71336930,"comment_id":126093958,"body_markdown":"Please, include the versions that you are using.","body":"Please, include the versions that you are using."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646309589,"post_id":71336930,"comment_id":126094004,"body_markdown":"Those are hardly all dependencies I suspect and those errors generally come from the fact that one is mixing jars/modules from different versions of a framework, in this case Spring. Please include all your dependencies.","body":"Those are hardly all dependencies I suspect and those errors generally come from the fact that one is mixing jars/modules from different versions of a framework, in this case Spring. Please include all your dependencies."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646311103,"post_id":71336930,"comment_id":126094590,"body_markdown":"I doubt this is everything (please put the full stacktrace in your question). You are also using Spring Data JPA (judging from the namespaces in your XML). Which is probably using/requires a newer version of Spring.","body":"I doubt this is everything (please put the full stacktrace in your question). You are also using Spring Data JPA (judging from the namespaces in your XML). Which is probably using/requires a newer version of Spring."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1646311133,"post_id":71336930,"comment_id":126094601,"body_markdown":"The class mentioned in the exception was only introduced in Spring 5.2. Is it possible, that one of your internal libraries requires that Spring version? `myProject-logger` would the first suspect for me.","body":"The class mentioned in the exception was only introduced in Spring 5.2. Is it possible, that one of your internal libraries requires that Spring version? <code>myProject-logger</code> would the first suspect for me."},{"owner":{"account_id":24438513,"reputation":31,"user_id":18362912,"display_name":"aginer"},"score":0,"creation_date":1646311899,"post_id":71336930,"comment_id":126094903,"body_markdown":"@dunni I&#39;m going to try with a newer Spring version","body":"@dunni I&#39;m going to try with a newer Spring version"}],"owner":{"account_id":24438513,"reputation":31,"user_id":18362912,"display_name":"aginer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1646310697,"creation_date":1646309101,"question_id":71336930,"body_markdown":"I&#39;m using Spring and JPA (not Spring-Boot) and I have this error when I try to launch Unit Tests: \r\n\r\n    Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [applicationContextTest.xml]; nested exception is java.lang.NoClassDefFoundError: org/springframework/core/log/LogMessage\r\n\r\nI am trying to migrate the persistence layer to JPA but I have this problem when I launch a Unit Test from IntelliJ\r\n\r\nThis is my Unit Test Annotations:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n\r\n    @ContextConfiguration(locations = { &quot;classpath:applicationContextTest.xml&quot; })\r\n\r\nThis is my applicationContextTest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:sws=&quot;http://www.springframework.org/schema/web-services&quot;\r\n\txmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n\txmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\r\n                        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd\r\n                        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.1.xsd\r\n                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\r\n                        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd\r\n                        http://www.springframework.org/schema/web-services http://www.springframework.org/schema/web-services/web-services-4.1.xsd\r\n                        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.1.xsd\r\n\t\t\t\t\t\thttp://www.springframework.org/schema/data/jpa\r\n\t\t\t\t\t\thttp://www.springframework.org/schema/data/jpa/spring-jpa.xsd&quot;\r\n\r\n\tdefault-autowire=&quot;byName&quot;&gt;\r\n\r\n\r\n\t&lt;!-- Scans the classpath for annotated components that will be auto-registered\r\n\t\tas Spring beans. For example @Component, @Controller and @Service. Make sure\r\n\t\tto set the correct base-package --&gt;\r\n\t&lt;context:component-scan\r\n\t\tbase-package=&quot;com.mypackage.persistence, &quot; /&gt;\r\n\r\n\t&lt;jpa:repositories base-package=&quot;com.mypackage.persistence.dao.jpa&quot; /&gt;\r\n\r\n\t&lt;!-- Read any *.properties file --&gt;\r\n\t&lt;context:property-placeholder location=&quot;classpath*:*.properties&quot; /&gt;\r\n\r\n\t\r\n\t&lt;!-- Default Entity Manager defined in @Qualifier(value = &quot;myProjectManagerFactory&quot;)\r\n\t\tof GenericDao --&gt;\r\n\t&lt;bean id=&quot;myProjectManagerFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;defaultPersistenceUnit&quot; /&gt;\r\n\t\t&lt;property name=&quot;packagesToScan&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;com.mypackage.persistence.**.*&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateVendor&quot; /&gt;\r\n\t\t&lt;property name=&quot;jpaProperties&quot; ref=&quot;myProjectJpaProperties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;jpaDialect&quot; class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaDialect&quot; /&gt;\r\n\r\nAnd this is my pom.xml spring dependencies\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Various Application Context utilities, including EhCache, JavaMail, \r\n\t\t\tQuartz, and Freemarker integration Define this if you need any of these integrations --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Spring AOP + AspectJ --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Support for testing Spring applications with tools such as JUnit and \r\n\t\t\tTestNG This artifact is generally always defined with a &#39;test&#39; scope for \r\n\t\t\tthe integration testing framework and unit testing stubs --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI am using 4.3.16.RELEASE Spring Version\r\n\r\nI have tried without success this question\r\n\r\nhttps://stackoverflow.com/questions/59129421/spring-boot-with-primefaces-give-error-java-lang-noclassdeffounderror-org-spr\r\n\r\nI obtained this using mvn dependency\r\n\r\n    --------------------&lt; com.xx:myProject-persistence &gt;----------------------\r\n    Building Uitgedbreid SportMedisch Onderzoek (Persistence) 2.8.8-SNAPSHOT\r\n    --------------------------------[ jar ]---------------------------------\r\n    Downloading from snapshots: https://artifactory.xx.com:443/artifactory/libs-snapshot/com/xx/myProject/2.8.8-SNAPSHOT/maven-metadata.xml\r\n     \r\n    --- maven-dependency-plugin:2.8:tree(default-cli) @ myProject-persistence ---\r\n     com.xx:myProject-persistence:jar:2.8.8-SNAPSHOT\r\n     +- com.xx:database-encryptor:jar:0.2.5:compile\r\n     +- com.xx:infographic-engine:jar:1.0.1:compile\r\n     |  \\- com.xx:common-utils:jar:1.1.5:compile (version selected from constraint [1.1,1.2))\r\n     |     +- ch.qos.logback:logback-core:jar:1.2.6:compile\r\n     |     +- ch.qos.logback:logback-classic:jar:1.2.6:compile\r\n     |     \\- javax.mail:mail:jar:1.4.7:compile\r\n     |        \\- javax.activation:activation:jar:1.1:compile\r\n     +- com.xx:jpa-schema-exporter:jar:0.5.1:compile\r\n     +- com.xx:myProject-logger:jar:2.8.8-SNAPSHOT:compile\r\n     |  +- org.springframework:spring-context:jar:4.3.16.RELEASE:compile\r\n     |  |  \\- org.springframework:spring-expression:jar:4.3.16.RELEASE:compile\r\n     |  \\- org.springframework:spring-aspects:jar:4.3.16.RELEASE:compile\r\n     +- mysql:mysql-connector-java:jar:5.1.27:compile\r\n     +- org.hibernate:hibernate-core:jar:5.2.17.Final:compile\r\n     |  +- org.jboss.logging:jboss-logging:jar:3.3.1.Final:compile\r\n     |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n     |  +- org.javassist:javassist:jar:3.22.0-GA:compile\r\n     |  +- antlr:antlr:jar:2.7.7:compile\r\n     |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.0.1.Final:compile\r\n     |  +- org.jboss:jandex:jar:2.0.3.Final:compile\r\n     |  +- com.fasterxml:classmate:jar:1.3.0:compile\r\n     |  +- dom4j:dom4j:jar:1.6.1:compile\r\n     |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\r\n     +- com.mchange:c3p0:jar:0.9.5.2:compile\r\n     |  \\- com.mchange:mchange-commons-java:jar:0.2.11:compile\r\n     +- net.sf.ehcache:ehcache:jar:2.10.3:compile\r\n     |  \\- org.slf4j:slf4j-api:jar:1.7.7:compile\r\n     +- org.hibernate:hibernate-ehcache:jar:5.2.17.Final:compile\r\n     +- org.hibernate:hibernate-entitymanager:jar:5.2.17.Final:compile\r\n     |  \\- net.bytebuddy:byte-buddy:jar:1.6.14:compile\r\n     +- org.springframework:spring-orm:jar:4.3.16.RELEASE:compile\r\n     |  +- org.springframework:spring-beans:jar:4.3.16.RELEASE:compile\r\n     |  +- org.springframework:spring-core:jar:4.3.16.RELEASE:compile\r\n     |  |  \\- commons-logging:commons-logging:jar:1.2:compile\r\n     |  +- org.springframework:spring-jdbc:jar:4.3.16.RELEASE:compile\r\n     |  \\- org.springframework:spring-tx:jar:4.3.16.RELEASE:compile\r\n     +- org.springframework:spring-context-support:jar:4.3.16.RELEASE:compile\r\n     +- org.springframework:spring-aop:jar:4.3.16.RELEASE:compile\r\n     +- org.springframework:spring-test:jar:4.3.16.RELEASE:test\r\n     +- org.aspectj:aspectjrt:jar:1.8.2:compile\r\n     +- org.aspectj:aspectjweaver:jar:1.8.2:compile\r\n     +- com.h2database:h2:jar:1.4.182:test\r\n    \r\n     +- com.google.code.gson:gson:jar:2.3.1:compile\r\n     +- commons-io:commons-io:jar:2.4:compile\r\n     +- org.testng:testng:jar:6.14.3:test\r\n     |  +- com.beust:jcommander:jar:1.72:test\r\n     |  \\- org.apache-extras.beanshell:bsh:jar:2.0b6:test\r\n     +- junit:junit:jar:4.12:test\r\n     |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n     +- xml-apis:xml-apis:jar:1.4.01:compile\r\n     \\- javax.interceptor:javax.interceptor-api:jar:3.1:compile\r\n\r\n","title":"Caused by: java.lang.NoClassDefFoundError: org/springframework/core/log/LogMessage","body":"<p>I'm using Spring and JPA (not Spring-Boot) and I have this error when I try to launch Unit Tests:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [applicationContextTest.xml]; nested exception is java.lang.NoClassDefFoundError: org/springframework/core/log/LogMessage\n</code></pre>\n<p>I am trying to migrate the persistence layer to JPA but I have this problem when I launch a Unit Test from IntelliJ</p>\n<p>This is my Unit Test Annotations:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n\n@ContextConfiguration(locations = { &quot;classpath:applicationContextTest.xml&quot; })\n</code></pre>\n<p>This is my applicationContextTest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\nxmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:sws=&quot;http://www.springframework.org/schema/web-services&quot;\nxmlns:task=&quot;http://www.springframework.org/schema/task&quot;\nxmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n                    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd\n                    http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.1.xsd\n                    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\n                    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd\n                    http://www.springframework.org/schema/web-services http://www.springframework.org/schema/web-services/web-services-4.1.xsd\n                    http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.1.xsd\n                    http://www.springframework.org/schema/data/jpa\n                    http://www.springframework.org/schema/data/jpa/spring-jpa.xsd&quot;\n\ndefault-autowire=&quot;byName&quot;&gt;\n\n\n&lt;!-- Scans the classpath for annotated components that will be auto-registered\n    as Spring beans. For example @Component, @Controller and @Service. Make sure\n    to set the correct base-package --&gt;\n&lt;context:component-scan\n    base-package=&quot;com.mypackage.persistence, &quot; /&gt;\n\n&lt;jpa:repositories base-package=&quot;com.mypackage.persistence.dao.jpa&quot; /&gt;\n\n&lt;!-- Read any *.properties file --&gt;\n&lt;context:property-placeholder location=&quot;classpath*:*.properties&quot; /&gt;\n\n\n&lt;!-- Default Entity Manager defined in @Qualifier(value = &quot;myProjectManagerFactory&quot;)\n    of GenericDao --&gt;\n&lt;bean id=&quot;myProjectManagerFactory&quot;\n    class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;property name=&quot;persistenceUnitName&quot; value=&quot;defaultPersistenceUnit&quot; /&gt;\n    &lt;property name=&quot;packagesToScan&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.mypackage.persistence.**.*&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateVendor&quot; /&gt;\n    &lt;property name=&quot;jpaProperties&quot; ref=&quot;myProjectJpaProperties&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;jpaDialect&quot; class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaDialect&quot; /&gt;\n</code></pre>\n<p>And this is my pom.xml spring dependencies</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Various Application Context utilities, including EhCache, JavaMail, \n        Quartz, and Freemarker integration Define this if you need any of these integrations --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Spring AOP + AspectJ --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Support for testing Spring applications with tools such as JUnit and \n        TestNG This artifact is generally always defined with a 'test' scope for \n        the integration testing framework and unit testing stubs --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I am using 4.3.16.RELEASE Spring Version</p>\n<p>I have tried without success this question</p>\n<p><a href=\"https://stackoverflow.com/questions/59129421/spring-boot-with-primefaces-give-error-java-lang-noclassdeffounderror-org-spr\">spring boot with primefaces give error : java.lang.NoClassDefFoundError: org/springframework/core/log/LogMessage</a></p>\n<p>I obtained this using mvn dependency</p>\n<pre><code>--------------------&lt; com.xx:myProject-persistence &gt;----------------------\nBuilding Uitgedbreid SportMedisch Onderzoek (Persistence) 2.8.8-SNAPSHOT\n--------------------------------[ jar ]---------------------------------\nDownloading from snapshots: https://artifactory.xx.com:443/artifactory/libs-snapshot/com/xx/myProject/2.8.8-SNAPSHOT/maven-metadata.xml\n \n--- maven-dependency-plugin:2.8:tree(default-cli) @ myProject-persistence ---\n com.xx:myProject-persistence:jar:2.8.8-SNAPSHOT\n +- com.xx:database-encryptor:jar:0.2.5:compile\n +- com.xx:infographic-engine:jar:1.0.1:compile\n |  \\- com.xx:common-utils:jar:1.1.5:compile (version selected from constraint [1.1,1.2))\n |     +- ch.qos.logback:logback-core:jar:1.2.6:compile\n |     +- ch.qos.logback:logback-classic:jar:1.2.6:compile\n |     \\- javax.mail:mail:jar:1.4.7:compile\n |        \\- javax.activation:activation:jar:1.1:compile\n +- com.xx:jpa-schema-exporter:jar:0.5.1:compile\n +- com.xx:myProject-logger:jar:2.8.8-SNAPSHOT:compile\n |  +- org.springframework:spring-context:jar:4.3.16.RELEASE:compile\n |  |  \\- org.springframework:spring-expression:jar:4.3.16.RELEASE:compile\n |  \\- org.springframework:spring-aspects:jar:4.3.16.RELEASE:compile\n +- mysql:mysql-connector-java:jar:5.1.27:compile\n +- org.hibernate:hibernate-core:jar:5.2.17.Final:compile\n |  +- org.jboss.logging:jboss-logging:jar:3.3.1.Final:compile\n |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n |  +- org.javassist:javassist:jar:3.22.0-GA:compile\n |  +- antlr:antlr:jar:2.7.7:compile\n |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.0.1.Final:compile\n |  +- org.jboss:jandex:jar:2.0.3.Final:compile\n |  +- com.fasterxml:classmate:jar:1.3.0:compile\n |  +- dom4j:dom4j:jar:1.6.1:compile\n |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\n +- com.mchange:c3p0:jar:0.9.5.2:compile\n |  \\- com.mchange:mchange-commons-java:jar:0.2.11:compile\n +- net.sf.ehcache:ehcache:jar:2.10.3:compile\n |  \\- org.slf4j:slf4j-api:jar:1.7.7:compile\n +- org.hibernate:hibernate-ehcache:jar:5.2.17.Final:compile\n +- org.hibernate:hibernate-entitymanager:jar:5.2.17.Final:compile\n |  \\- net.bytebuddy:byte-buddy:jar:1.6.14:compile\n +- org.springframework:spring-orm:jar:4.3.16.RELEASE:compile\n |  +- org.springframework:spring-beans:jar:4.3.16.RELEASE:compile\n |  +- org.springframework:spring-core:jar:4.3.16.RELEASE:compile\n |  |  \\- commons-logging:commons-logging:jar:1.2:compile\n |  +- org.springframework:spring-jdbc:jar:4.3.16.RELEASE:compile\n |  \\- org.springframework:spring-tx:jar:4.3.16.RELEASE:compile\n +- org.springframework:spring-context-support:jar:4.3.16.RELEASE:compile\n +- org.springframework:spring-aop:jar:4.3.16.RELEASE:compile\n +- org.springframework:spring-test:jar:4.3.16.RELEASE:test\n +- org.aspectj:aspectjrt:jar:1.8.2:compile\n +- org.aspectj:aspectjweaver:jar:1.8.2:compile\n +- com.h2database:h2:jar:1.4.182:test\n\n +- com.google.code.gson:gson:jar:2.3.1:compile\n +- commons-io:commons-io:jar:2.4:compile\n +- org.testng:testng:jar:6.14.3:test\n |  +- com.beust:jcommander:jar:1.72:test\n |  \\- org.apache-extras.beanshell:bsh:jar:2.0b6:test\n +- junit:junit:jar:4.12:test\n |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n +- xml-apis:xml-apis:jar:1.4.01:compile\n \\- javax.interceptor:javax.interceptor-api:jar:3.1:compile\n</code></pre>\n"},{"tags":["java","http","io"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1646558118,"post_id":71337132,"comment_id":126149258,"body_markdown":"A PDF is not a string, and given `pdfContent` is a byte array, `pdfContent.toString()` will produce something like `[B@12345`, and finally, using a `DataOutputStream` is probably the wrong abstraction. Get a file input stream (`Files.newInputStream`) and call `transferTo(conn.getOutputStream)`.","body":"A PDF is not a string, and given <code>pdfContent</code> is a byte array, <code>pdfContent.toString()</code> will produce something like <code>[B@12345</code>, and finally, using a <code>DataOutputStream</code> is probably the wrong abstraction. Get a file input stream (<code>Files.newInputStream</code>) and call <code>transferTo(conn.getOutputStream)</code>."}],"answers":[{"tags":[],"owner":{"account_id":19183815,"reputation":50,"user_id":14015008,"display_name":"GeoMldr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646310617,"creation_date":1646310617,"answer_id":71337264,"question_id":71337132,"body_markdown":"Have you tried wr.write(pdfContent); ? \r\nThe write() function takes a byteArray as argument, so if the problem is caused by the conversion to String it might by solved that way","title":"Send application/pdf content with http call","body":"<p>Have you tried wr.write(pdfContent); ?\nThe write() function takes a byteArray as argument, so if the problem is caused by the conversion to String it might by solved that way</p>\n"}],"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71337264,"answer_count":1,"score":0,"last_activity_date":1646310617,"creation_date":1646309993,"question_id":71337132,"body_markdown":"How can I upload a pdf with a http call to a server.\r\n\r\nI am currently loading the pdf content to a variable and trying to send it with http:\r\n\r\n\tbyte[] pdfContent;\r\n\r\n\tString output = &quot;&quot;;\r\n\r\n\ttry {\r\n\t\tpdfContent = Files.readAllBytes(Paths.get(&quot;C:...//test.pdf&quot;));\r\n\t\turl = new URL(url);\r\n\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t\tconn.setDoOutput(true);\r\n\t\tconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\r\n\t\tconn.setConnectTimeout(5000);\r\n\t\tconn.setReadTimeout(5000);\r\n\t\tconn.setRequestMethod(&quot;POST&quot;);\r\n\t\t\r\n\t\tDataOutputStream wr = new DataOutputStream(conn.getOutputStream());\r\n\t\twr.writeBytes(pdfContent.toString());\r\n\t\twr.flush();\r\n\t\twr.close();\r\n\r\nThe error I am getting is:\r\n\r\n     Wrong content! The content of file &#39;test.pdf&#39; does not match its presumed content type (&#39;application/pdf&#39;).\r\n\r\nWhat is the right way to send a pdf for upload?\r\nIs loading the binary content to a variable and writing it to the connection incorrect?","title":"Send application/pdf content with http call","body":"<p>How can I upload a pdf with a http call to a server.</p>\n<p>I am currently loading the pdf content to a variable and trying to send it with http:</p>\n<pre><code>byte[] pdfContent;\n\nString output = &quot;&quot;;\n\ntry {\n    pdfContent = Files.readAllBytes(Paths.get(&quot;C:...//test.pdf&quot;));\n    url = new URL(url);\n    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n    conn.setDoOutput(true);\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\n    conn.setConnectTimeout(5000);\n    conn.setReadTimeout(5000);\n    conn.setRequestMethod(&quot;POST&quot;);\n    \n    DataOutputStream wr = new DataOutputStream(conn.getOutputStream());\n    wr.writeBytes(pdfContent.toString());\n    wr.flush();\n    wr.close();\n</code></pre>\n<p>The error I am getting is:</p>\n<pre><code> Wrong content! The content of file 'test.pdf' does not match its presumed content type ('application/pdf').\n</code></pre>\n<p>What is the right way to send a pdf for upload?\nIs loading the binary content to a variable and writing it to the connection incorrect?</p>\n"},{"tags":["java","spring-boot","transactions","spring-rest"],"comments":[{"owner":{"account_id":9259189,"reputation":2215,"user_id":8763164,"display_name":"dileepkumar jami"},"score":0,"creation_date":1649670292,"post_id":71337192,"comment_id":126926342,"body_markdown":"Can you please be more descriptive","body":"Can you please be more descriptive"}],"owner":{"account_id":14120869,"reputation":25,"user_id":10201381,"display_name":"Sruthi Sirekollam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646310282,"creation_date":1646310282,"question_id":71337192,"body_markdown":"I&#39;m facing an issue while using Exception handling(try/catch) along with @Transactional(Rollback = Exception. Class). \r\n\r\nThe customized exception message doesn&#39;t show up , only the rollback message will be shown : \r\n\r\nexception message: &quot;: &quot;Transaction silently rolled back because it has been marked as rollback-only&quot;,\r\n&quot;exception reason&quot;: &quot;Failed due to Transaction Exception&quot;,\r\n\r\nbut if we remove @Transactional(Rollback = Exception. Class), the customized exception message is coming up , but this will not roll back.\r\n\r\nCan anyone help us here, on getting the customized exception and transaction rolling back at the same time.\r\n\r\n\r\n\r\n\r\n","title":"Exception not getting captured when @Transactional (Rollback = Exception. Class)","body":"<p>I'm facing an issue while using Exception handling(try/catch) along with @Transactional(Rollback = Exception. Class).</p>\n<p>The customized exception message doesn't show up , only the rollback message will be shown :</p>\n<p>exception message: &quot;: &quot;Transaction silently rolled back because it has been marked as rollback-only&quot;,\n&quot;exception reason&quot;: &quot;Failed due to Transaction Exception&quot;,</p>\n<p>but if we remove @Transactional(Rollback = Exception. Class), the customized exception message is coming up , but this will not roll back.</p>\n<p>Can anyone help us here, on getting the customized exception and transaction rolling back at the same time.</p>\n"},{"tags":["java","jackson","lombok"],"comments":[{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1615892911,"post_id":66653918,"comment_id":117826916,"body_markdown":"How `fasterxml jackson` behaves if you remove `@Builder.Default` from `users`?","body":"How <code>fasterxml jackson</code> behaves if you remove <code>@Builder.Default</code> from <code>users</code>?"},{"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"score":0,"creation_date":1615896578,"post_id":66653918,"comment_id":117828619,"body_markdown":"it still sets `users` as `null` this is because jackson faterxml uses the `@AllArgsConstructor` which sets `users` as `null`, while codhaus uses default constructor and setters","body":"it still sets <code>users</code> as <code>null</code> this is because jackson faterxml uses the <code>@AllArgsConstructor</code> which sets <code>users</code> as <code>null</code>, while codhaus uses default constructor and setters"}],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1615974882,"creation_date":1615934240,"answer_id":66664429,"question_id":66653918,"body_markdown":"The &quot;codehaus&quot; version of Jackson is the 1.x version of Jackson. Since 2.0, Jackson is located at &quot;com.fasterxml.jackson&quot;. Without having tested it, it is very likely that the behavior simply (and intentionally) changed with Jackson 2.\r\n\r\nHowever, as you found out by yourself, you can explicitly advise Jackson to use the no-args constructor when deserializing. You can also put that annotation on a lombok-generated constructor, so you do not have to write it manually:\r\n\r\n```lang-java\r\n@Data\r\n@Builder\r\n@EqualsAndHashCode\r\n@NoArgsConstructor(onConstructor_ = @JsonCreator)\r\n@AllArgsConstructor\r\npublic class CompanyRequest {\r\n    @Builder.Default\r\n    private String email = &quot;&quot;;\r\n    private int company;\r\n    @Builder.Default\r\n    List&lt;UserIdMapping&gt; users = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nMake sure you use at least Lombok v1.18.2 so ensure the `@Builder.Default` values are also set within this constructor.\r\n\r\nConsider putting `@Jacksonized @Builder` on the class if you want immutability and the builder to be the only way of creating instances (with at least Lombok v1.18.16):\r\n\r\n```lang-java\r\n@Jacksonized\r\n@Builder\r\n@Value\r\npublic class CompanyRequest {\r\n    @Builder.Default\r\n    private String email = &quot;&quot;;\r\n    private int company;\r\n    @Singular\r\n    List&lt;UserIdMapping&gt; users;\r\n}\r\n```","title":"Jackson ObjectMapper default values with lombok on codhaus and fasterexml","body":"<p>The &quot;codehaus&quot; version of Jackson is the 1.x version of Jackson. Since 2.0, Jackson is located at &quot;com.fasterxml.jackson&quot;. Without having tested it, it is very likely that the behavior simply (and intentionally) changed with Jackson 2.</p>\n<p>However, as you found out by yourself, you can explicitly advise Jackson to use the no-args constructor when deserializing. You can also put that annotation on a lombok-generated constructor, so you do not have to write it manually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@EqualsAndHashCode\n@NoArgsConstructor(onConstructor_ = @JsonCreator)\n@AllArgsConstructor\npublic class CompanyRequest {\n    @Builder.Default\n    private String email = &quot;&quot;;\n    private int company;\n    @Builder.Default\n    List&lt;UserIdMapping&gt; users = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Make sure you use at least Lombok v1.18.2 so ensure the <code>@Builder.Default</code> values are also set within this constructor.</p>\n<p>Consider putting <code>@Jacksonized @Builder</code> on the class if you want immutability and the builder to be the only way of creating instances (with at least Lombok v1.18.16):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Jacksonized\n@Builder\n@Value\npublic class CompanyRequest {\n    @Builder.Default\n    private String email = &quot;&quot;;\n    private int company;\n    @Singular\n    List&lt;UserIdMapping&gt; users;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4920310,"reputation":11,"user_id":3963041,"display_name":"Vishal Grover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646309949,"creation_date":1646309949,"answer_id":71337117,"question_id":66653918,"body_markdown":"Use the @Jacksonized annotation provided by lombok","title":"Jackson ObjectMapper default values with lombok on codhaus and fasterexml","body":"<p>Use the @Jacksonized annotation provided by lombok</p>\n"}],"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66664429,"answer_count":2,"score":2,"last_activity_date":1646309949,"creation_date":1615892641,"question_id":66653918,"body_markdown":"I was using `org.codehaus.jackson.map.ObjectMapper` to deserialize a JSON string with default values as follows:\r\n\r\nI have the following POJO:\r\n```\r\n@Data\r\n@Builder\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CompanyRequest {\r\n    @Builder.Default\r\n    private String email = &quot;&quot;;\r\n    private int company;\r\n    @Builder.Default\r\n    List&lt;UserIdMapping&gt; users = new ArrayList&lt;&gt;();\r\n}\r\n\r\n``` \r\nand when executing the following:\r\n```\r\nCompanyRequest companyRequest = objectMapper.readValue(message, CompanyRequest.class);\r\n\r\n```\r\nwhere message is:\r\n```\r\n{\r\n  &quot;email&quot;: &quot;john@doe.com&quot;,\r\n  &quot;company&quot;: 42,\r\n}\r\n\r\n```\r\nit worked as expected, meaning `companyRequest` initialized with `users` as empty `ArrayList`.\r\n\r\nthen I switched to `com.fasterxml.jackson.databind.ObjectMapper`, but `users` for the same `message` was `null`.\r\n\r\nI was able to solve it with the following changes:\r\n```\r\n@Data\r\n@EqualsAndHashCode\r\n@Builder\r\npublic class CompanyRequest {\r\n    private String email;\r\n    private int company;\r\n    private List&lt;UserIdMapping&gt; users;\r\n\r\n    @JsonCreator\r\n    public CompanyRequest() {\r\n        this.email = &quot;&quot;;\r\n        this.users = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @Builder\r\n    public CompanyRequest(String email, int company, List&lt;UserIdMapping&gt; users) {\r\n        this.sfAccountId = StringUtils.isEmpty(email) ? &quot;&quot; : email;\r\n        this.company = company;\r\n        this.users = CollectionUtils.isEmpty(users) ? new ArrayList&lt;&gt;() : users;\r\n    }\r\n}\r\n```\r\n\r\nbut after knowing that `codehaus` is actually working as intended without this manipulation I was wondering is there a cleaner way to do it with `fasterxml`, since `fasterxml` is the newer version of `ObjectMapper`,\r\nmeaning is it a feature that enables it?\r\n","title":"Jackson ObjectMapper default values with lombok on codhaus and fasterexml","body":"<p>I was using <code>org.codehaus.jackson.map.ObjectMapper</code> to deserialize a JSON string with default values as follows:</p>\n<p>I have the following POJO:</p>\n<pre><code>@Data\n@Builder\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CompanyRequest {\n    @Builder.Default\n    private String email = &quot;&quot;;\n    private int company;\n    @Builder.Default\n    List&lt;UserIdMapping&gt; users = new ArrayList&lt;&gt;();\n}\n\n</code></pre>\n<p>and when executing the following:</p>\n<pre><code>CompanyRequest companyRequest = objectMapper.readValue(message, CompanyRequest.class);\n\n</code></pre>\n<p>where message is:</p>\n<pre><code>{\n  &quot;email&quot;: &quot;john@doe.com&quot;,\n  &quot;company&quot;: 42,\n}\n\n</code></pre>\n<p>it worked as expected, meaning <code>companyRequest</code> initialized with <code>users</code> as empty <code>ArrayList</code>.</p>\n<p>then I switched to <code>com.fasterxml.jackson.databind.ObjectMapper</code>, but <code>users</code> for the same <code>message</code> was <code>null</code>.</p>\n<p>I was able to solve it with the following changes:</p>\n<pre><code>@Data\n@EqualsAndHashCode\n@Builder\npublic class CompanyRequest {\n    private String email;\n    private int company;\n    private List&lt;UserIdMapping&gt; users;\n\n    @JsonCreator\n    public CompanyRequest() {\n        this.email = &quot;&quot;;\n        this.users = new ArrayList&lt;&gt;();\n    }\n\n    @Builder\n    public CompanyRequest(String email, int company, List&lt;UserIdMapping&gt; users) {\n        this.sfAccountId = StringUtils.isEmpty(email) ? &quot;&quot; : email;\n        this.company = company;\n        this.users = CollectionUtils.isEmpty(users) ? new ArrayList&lt;&gt;() : users;\n    }\n}\n</code></pre>\n<p>but after knowing that <code>codehaus</code> is actually working as intended without this manipulation I was wondering is there a cleaner way to do it with <code>fasterxml</code>, since <code>fasterxml</code> is the newer version of <code>ObjectMapper</code>,\nmeaning is it a feature that enables it?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","jpa"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646287087,"post_id":71332659,"comment_id":126087051,"body_markdown":"Can not see where `loadUserByUsername` is being used.","body":"Can not see where <code>loadUserByUsername</code> is being used."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646292462,"post_id":71332659,"comment_id":126088223,"body_markdown":"What is the database you are using? What is the type and size of the `username` column in the database?","body":"What is the database you are using? What is the type and size of the <code>username</code> column in the database?"}],"answers":[{"tags":[],"owner":{"account_id":10519995,"reputation":109,"user_id":7752882,"display_name":"Awais Rashid"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646288080,"creation_date":1646288080,"answer_id":71332816,"question_id":71332659,"body_markdown":"findUserByUsername will not work \r\neither use JPA-Query using\r\n\r\n    @Query(&quot;your required query&quot;)\r\nOR\r\nmake it `findByUsername(String username)`\r\n\r\nI would recommend to use [JPA-Buddy][1] Extension to omit these kind of errors\r\n\r\n\r\n  [1]: https://www.jpa-buddy.com/","title":"fix JPA refused to findUserByUsername","body":"<p>findUserByUsername will not work\neither use JPA-Query using</p>\n<pre><code>@Query(&quot;your required query&quot;)\n</code></pre>\n<p>OR\nmake it <code>findByUsername(String username)</code></p>\n<p>I would recommend to use <a href=\"https://www.jpa-buddy.com/\" rel=\"nofollow noreferrer\">JPA-Buddy</a> Extension to omit these kind of errors</p>\n"},{"tags":[],"owner":{"account_id":15187657,"reputation":122,"user_id":10959131,"display_name":"NickNgn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646289955,"creation_date":1646289955,"answer_id":71333073,"question_id":71332659,"body_markdown":"I guess that the method should be: \r\n\r\n    Optional&lt;User&gt; findByUsername(String username);","title":"fix JPA refused to findUserByUsername","body":"<p>I guess that the method should be:</p>\n<pre><code>Optional&lt;User&gt; findByUsername(String username);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17773763,"reputation":1154,"user_id":12906648,"display_name":"Maxwell D. Dorliea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646309716,"creation_date":1646296137,"answer_id":71334093,"question_id":71332659,"body_markdown":"\r\nRemoving @gmail.com from my username solved my problem.\r\n\r\nActually the problem was findUserByUsername method was expecting string but I was passing Gmail.\r\n\r\nThank you all for your quick responses. I do appreciate you all!","title":"fix JPA refused to findUserByUsername","body":"<p>Removing @gmail.com from my username solved my problem.</p>\n<p>Actually the problem was findUserByUsername method was expecting string but I was passing Gmail.</p>\n<p>Thank you all for your quick responses. I do appreciate you all!</p>\n"}],"owner":{"account_id":17773763,"reputation":1154,"user_id":12906648,"display_name":"Maxwell D. Dorliea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71334093,"answer_count":3,"score":-1,"last_activity_date":1646309716,"creation_date":1646286755,"question_id":71332659,"body_markdown":"I am new to spring boot. I am trying to use spring security to add authentication and authorization to my api but JPA refused to findUserByUsername. It&#39;s(JPA) returning null even though the user is in the database.\r\n\r\n**Please Note that the app runs fine but when I try to login with a user this exception raise**\r\n\r\n\r\n**Please view the error and source code below**\r\n\r\n**error**\r\n\r\n```\r\n\r\n2022-03-03 05:06:48.427 ERROR 9024 --- [nio-8080-exec-1] c.m.s.f.CustomUserAuthenticationFilter   : An internal error occurred while trying to authenticate the user.\r\n\r\norg.springframework.security.authentication.InternalAuthenticationServiceException: User with email not found!\r\n\tat org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]\r\n\tat com.maxapp.server.filter.CustomUserAuthenticationFilter.attemptAuthentication(CustomUserAuthenticationFilter.java:33) ~[classes/:na]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\nCaused by: java.lang.IllegalStateException: User with email not found!\r\n\tat com.maxapp.server.service.UserService.loadUserByUsername(UserService.java:30) ~[classes/:na]\r\n\tat com.maxapp.server.service.UserService$$FastClassBySpringCGLIB$$c230548a.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat com.maxapp.server.service.UserService$$EnhancerBySpringCGLIB$$8c176907.loadUserByUsername(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.1.jar:5.6.1]\r\n\t... 55 common frames omitted\r\n\r\n\r\n```\r\n\r\n**Source Code**\r\n\r\n**Model Classes**\r\n\r\n**User**\r\n```\r\npackage com.maxapp.server.model;\r\n\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\n\r\nimport static javax.persistence.FetchType.EAGER;\r\n\r\n\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name=&quot;user_sequence&quot;,\r\n            sequenceName=&quot;user_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;user_sequence&quot;\r\n    )\r\n    private long id;\r\n    private String name;\r\n    @Column(name=&quot;username&quot;, unique=true, nullable = false)\r\n    private String username;\r\n    @Column(name=&quot;password&quot;, nullable = false)\r\n    private String password;\r\n    @ManyToMany(fetch = EAGER)\r\n    private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n\r\n    public User(){\r\n    }\r\n\r\n    public User(String name, String username, String password) {\r\n        this.name = name;\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public Collection&lt;Role&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public LocalDateTime getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, username=&#39;&quot; + username + &#39;\\&#39;&#39; +\r\n                &quot;, createdAt=&quot; + createdAt +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Role**\r\n\r\n```\r\npackage com.maxapp.server.model;\r\n\r\nimport lombok.Data;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Data\r\n@Entity\r\n@Table(name=&quot;roles&quot;)\r\npublic class Role {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String name;\r\n\r\n    public Role() {\r\n    }\r\n\r\n    public Role(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Repo**\r\n\r\n**UserRepo**\r\n```\r\npackage com.maxapp.server.repository;\r\n\r\nimport com.maxapp.server.model.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User,Long&gt; {\r\n    User findUserById(Long id);\r\n    User findUserByUsername(String username);\r\n}\r\n\r\n```\r\n\r\n**RoleRepo**\r\n\r\n```\r\npackage com.maxapp.server.repository;\r\n\r\nimport com.maxapp.server.model.Role;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface RoleRepository extends JpaRepository&lt;Role,Long&gt; {\r\n    Role findRoleByName(String name);\r\n}\r\n```\r\n\r\n**Service**\r\n\r\n**UserService**\r\n\r\n```\r\npackage com.maxapp.server.service;\r\n\r\nimport com.maxapp.server.model.Role;\r\nimport com.maxapp.server.model.User;\r\nimport com.maxapp.server.repository.RoleRepository;\r\nimport com.maxapp.server.repository.UserRepository;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Service @RequiredArgsConstructor @Transactional\r\npublic class UserService implements UserDetailsService {\r\nprivate final UserRepository userRepository;\r\nprivate final RoleRepository roleRepository;\r\nprivate final PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findUserByUsername(username);\r\n        if(user==null){\r\n            throw new IllegalStateException(&quot;User with email not found!&quot;);\r\n        }\r\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        user.getRoles().forEach(role -&gt;{\r\n            authorities.add(new SimpleGrantedAuthority(role.getName()));\r\n        });\r\n\r\n        return new org.springframework.security.core.userdetails.User(user.getUsername(),user.getPassword(),authorities);\r\n    }\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public User createUser(User user) {\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    public Role saveRole(Role role){\r\n        return roleRepository.save(role);\r\n    }\r\n\r\n    public void addRoleToUser(Long id,String name){\r\n\r\n        User user = userRepository.findUserById(id);\r\n        Role role = roleRepository.findRoleByName(name);\r\n\r\n        user.getRoles().add(role);\r\n\r\n    }\r\n\r\n\r\n    public User getSingleUser(Long id) {\r\n        boolean exist = userRepository.existsById(id);\r\n        if(!exist){\r\n            throw new IllegalStateException(&quot;User with id : &quot; + id + &quot; not found.&quot;);\r\n        }\r\n\r\n        return userRepository.findUserById(id);\r\n    }\r\n\r\n    public void deleteUser(Long id) {\r\n        boolean exist = userRepository.existsById(id);\r\n        if(!exist){\r\n            throw new IllegalStateException(&quot;User with id : &quot; + id + &quot; not found.&quot;);\r\n        }\r\n\r\n        userRepository.deleteById(id);\r\n    }\r\n\r\n    public void updateUser(Long id, String name) {\r\n        User user = userRepository.findById(id).orElseThrow(()-&gt; new IllegalStateException(&quot;User with id : &quot; + id + &quot; not found.&quot;));\r\n        if(name != null &amp;&amp; name.length()&gt;0 &amp;&amp; !(name.equalsIgnoreCase(user.getName()))){\r\n            user.setName(name);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Controller**\r\n\r\n**UserController**\r\n\r\n```\r\npackage com.maxapp.server.controller;\r\n\r\nimport com.maxapp.server.model.Role;\r\nimport com.maxapp.server.model.User;\r\nimport com.maxapp.server.service.UserService;\r\nimport lombok.Data;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(path=&quot;api/v1&quot;)\r\npublic class UserController {\r\n private final UserService userService;\r\n\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(path=&quot;users&quot;)\r\n    public List&lt;User&gt; getAllUsers(){\r\n        return userService.getAllUsers();\r\n    }\r\n\r\n    @PostMapping(path=&quot;users&quot;)\r\n    public User createUser(@RequestBody User user){\r\n        return userService.createUser(user);\r\n    }\r\n\r\n    @PostMapping(path=&quot;roles&quot;)\r\n    public Role createRole(@RequestBody Role role){\r\n        return userService.saveRole(role);\r\n    }\r\n\r\n    @PostMapping(path=&quot;users/roles&quot;)\r\n    public void addRoleToUser(@RequestBody RoleForm role){\r\n        userService.addRoleToUser(role.getId(),role.getName());\r\n    }\r\n\r\n\r\n\r\n    @GetMapping(path=&quot;users/{id}&quot;)\r\n    public User getSingleUser(@PathVariable(&quot;id&quot;) Long id){\r\n        return userService.getSingleUser(id);\r\n    }\r\n\r\n    @PutMapping(path=&quot;users/{id}&quot;)\r\n    public void updateUser(\r\n            @PathVariable(&quot;id&quot;) Long id,\r\n            @RequestParam(required = false) String name\r\n    ){\r\n        userService.updateUser(id,name);\r\n    }\r\n\r\n    @DeleteMapping(path=&quot;users/{id}&quot;)\r\n    public void deleteUser(@PathVariable(&quot;id&quot;) Long id){\r\n         userService.deleteUser(id);\r\n    }\r\n\r\n}\r\n\r\n@Data\r\nclass RoleForm{\r\n    private Long id;\r\n    private String name;\r\n}\r\n\r\n```\r\n\r\n**Filter**\r\n\r\n**CustomUserAuthenticationFilter**\r\n\r\n```\r\npackage com.maxapp.server.filter;\r\n\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.Date;\r\nimport java.util.stream.Collectors;\r\n\r\n@RequiredArgsConstructor\r\npublic class CustomUserAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        String email = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n\r\n        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(email,password);\r\n        return authenticationManager.authenticate(usernamePasswordAuthenticationToken);\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n        User user = (User)authResult.getPrincipal();\r\n        Algorithm algorithm = Algorithm.HMAC256(&quot;Maxwell1&quot;.getBytes());\r\n        String access_token = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis()+10*60*1000))\r\n                .withIssuer(request.getRequestURI())\r\n                .withClaim(&quot;roles&quot;,user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n                .sign(algorithm);\r\n\r\n        String refresh_token = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis()+30*60*1000))\r\n                .withIssuer(request.getRequestURI())\r\n                .sign(algorithm);\r\n\r\n        response.setHeader(&quot;access_token&quot;,access_token);\r\n        response.setHeader(&quot;refresh_token&quot;,refresh_token);\r\n\r\n    }\r\n}\r\n```\r\n\r\n**Security**\r\n\r\n**SecurityConfig**\r\n\r\n```\r\npackage com.maxapp.server.security;\r\n\r\nimport com.maxapp.server.filter.CustomUserAuthenticationFilter;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\n@Configuration @EnableWebSecurity @RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserDetailsService userDetailsService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests().anyRequest().permitAll();\r\n        http.addFilter(new CustomUserAuthenticationFilter(authenticationManagerBean()));\r\n    }\r\n\r\n\r\n    @Bean\r\n\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\n**Application Class**\r\n\r\n```\r\npackage com.maxapp.server;\r\n\r\nimport com.maxapp.server.model.Role;\r\nimport com.maxapp.server.model.User;\r\nimport com.maxapp.server.service.UserService;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@SpringBootApplication\r\n@RestController\r\npublic class ServerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ServerApplication.class, args);\r\n\t}\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    CommandLineRunner runs(UserService userService){\r\n\r\n        return  args -&gt;{\r\n\r\n            userService.saveRole(new Role(&quot;Admin&quot;));\r\n            userService.saveRole(new Role(&quot;Student&quot;));\r\n\r\n\r\n            userService.createUser(new User(&quot;Maxwell&quot;,&quot;mall@gamil.com&quot;,&quot;1234&quot;));\r\n            userService.createUser(new User(&quot;Maxwel&quot;,&quot;ma1ll@gamil.com&quot;,&quot;1234&quot;));\r\n\r\n            userService.addRoleToUser(1L,&quot;Admin&quot;);\r\n            userService.addRoleToUser(2L,&quot;Student&quot;);\r\n        };\r\n    }\r\n\r\n}\r\n```","title":"fix JPA refused to findUserByUsername","body":"<p>I am new to spring boot. I am trying to use spring security to add authentication and authorization to my api but JPA refused to findUserByUsername. It's(JPA) returning null even though the user is in the database.</p>\n<p><strong>Please Note that the app runs fine but when I try to login with a user this exception raise</strong></p>\n<p><strong>Please view the error and source code below</strong></p>\n<p><strong>error</strong></p>\n<pre><code>\n2022-03-03 05:06:48.427 ERROR 9024 --- [nio-8080-exec-1] c.m.s.f.CustomUserAuthenticationFilter   : An internal error occurred while trying to authenticate the user.\n\norg.springframework.security.authentication.InternalAuthenticationServiceException: User with email not found!\n    at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.6.1.jar:5.6.1]\n    at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.6.1.jar:5.6.1]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.1.jar:5.6.1]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.1.jar:5.6.1]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]\n    at com.maxapp.server.filter.CustomUserAuthenticationFilter.attemptAuthentication(CustomUserAuthenticationFilter.java:33) ~[classes/:na]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\nCaused by: java.lang.IllegalStateException: User with email not found!\n    at com.maxapp.server.service.UserService.loadUserByUsername(UserService.java:30) ~[classes/:na]\n    at com.maxapp.server.service.UserService$$FastClassBySpringCGLIB$$c230548a.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]\n    at com.maxapp.server.service.UserService$$EnhancerBySpringCGLIB$$8c176907.loadUserByUsername(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.6.1.jar:5.6.1]\n    ... 55 common frames omitted\n\n\n</code></pre>\n<p><strong>Source Code</strong></p>\n<p><strong>Model Classes</strong></p>\n<p><strong>User</strong></p>\n<pre><code>package com.maxapp.server.model;\n\n\nimport org.hibernate.annotations.CreationTimestamp;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.Collection;\n\nimport static javax.persistence.FetchType.EAGER;\n\n\n@Entity\n@Table(name=&quot;users&quot;)\npublic class User {\n    @Id\n    @SequenceGenerator(\n            name=&quot;user_sequence&quot;,\n            sequenceName=&quot;user_sequence&quot;,\n            allocationSize = 1\n    )\n\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;user_sequence&quot;\n    )\n    private long id;\n    private String name;\n    @Column(name=&quot;username&quot;, unique=true, nullable = false)\n    private String username;\n    @Column(name=&quot;password&quot;, nullable = false)\n    private String password;\n    @ManyToMany(fetch = EAGER)\n    private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n\n    public User(){\n    }\n\n    public User(String name, String username, String password) {\n        this.name = name;\n        this.username = username;\n        this.password = password;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public Collection&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public LocalDateTime getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, username='&quot; + username + '\\'' +\n                &quot;, createdAt=&quot; + createdAt +\n                '}';\n    }\n}\n\n</code></pre>\n<p><strong>Role</strong></p>\n<pre><code>package com.maxapp.server.model;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\n\n@Data\n@Entity\n@Table(name=&quot;roles&quot;)\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n\n    public Role() {\n    }\n\n    public Role(String name) {\n        this.name = name;\n    }\n}\n\n</code></pre>\n<p><strong>Repo</strong></p>\n<p><strong>UserRepo</strong></p>\n<pre><code>package com.maxapp.server.repository;\n\nimport com.maxapp.server.model.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User,Long&gt; {\n    User findUserById(Long id);\n    User findUserByUsername(String username);\n}\n\n</code></pre>\n<p><strong>RoleRepo</strong></p>\n<pre><code>package com.maxapp.server.repository;\n\nimport com.maxapp.server.model.Role;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface RoleRepository extends JpaRepository&lt;Role,Long&gt; {\n    Role findRoleByName(String name);\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<p><strong>UserService</strong></p>\n<pre><code>package com.maxapp.server.service;\n\nimport com.maxapp.server.model.Role;\nimport com.maxapp.server.model.User;\nimport com.maxapp.server.repository.RoleRepository;\nimport com.maxapp.server.repository.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\n@Service @RequiredArgsConstructor @Transactional\npublic class UserService implements UserDetailsService {\nprivate final UserRepository userRepository;\nprivate final RoleRepository roleRepository;\nprivate final PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findUserByUsername(username);\n        if(user==null){\n            throw new IllegalStateException(&quot;User with email not found!&quot;);\n        }\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        user.getRoles().forEach(role -&gt;{\n            authorities.add(new SimpleGrantedAuthority(role.getName()));\n        });\n\n        return new org.springframework.security.core.userdetails.User(user.getUsername(),user.getPassword(),authorities);\n    }\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public User createUser(User user) {\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        return userRepository.save(user);\n    }\n\n    public Role saveRole(Role role){\n        return roleRepository.save(role);\n    }\n\n    public void addRoleToUser(Long id,String name){\n\n        User user = userRepository.findUserById(id);\n        Role role = roleRepository.findRoleByName(name);\n\n        user.getRoles().add(role);\n\n    }\n\n\n    public User getSingleUser(Long id) {\n        boolean exist = userRepository.existsById(id);\n        if(!exist){\n            throw new IllegalStateException(&quot;User with id : &quot; + id + &quot; not found.&quot;);\n        }\n\n        return userRepository.findUserById(id);\n    }\n\n    public void deleteUser(Long id) {\n        boolean exist = userRepository.existsById(id);\n        if(!exist){\n            throw new IllegalStateException(&quot;User with id : &quot; + id + &quot; not found.&quot;);\n        }\n\n        userRepository.deleteById(id);\n    }\n\n    public void updateUser(Long id, String name) {\n        User user = userRepository.findById(id).orElseThrow(()-&gt; new IllegalStateException(&quot;User with id : &quot; + id + &quot; not found.&quot;));\n        if(name != null &amp;&amp; name.length()&gt;0 &amp;&amp; !(name.equalsIgnoreCase(user.getName()))){\n            user.setName(name);\n        }\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<p><strong>UserController</strong></p>\n<pre><code>package com.maxapp.server.controller;\n\nimport com.maxapp.server.model.Role;\nimport com.maxapp.server.model.User;\nimport com.maxapp.server.service.UserService;\nimport lombok.Data;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(path=&quot;api/v1&quot;)\npublic class UserController {\n private final UserService userService;\n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(path=&quot;users&quot;)\n    public List&lt;User&gt; getAllUsers(){\n        return userService.getAllUsers();\n    }\n\n    @PostMapping(path=&quot;users&quot;)\n    public User createUser(@RequestBody User user){\n        return userService.createUser(user);\n    }\n\n    @PostMapping(path=&quot;roles&quot;)\n    public Role createRole(@RequestBody Role role){\n        return userService.saveRole(role);\n    }\n\n    @PostMapping(path=&quot;users/roles&quot;)\n    public void addRoleToUser(@RequestBody RoleForm role){\n        userService.addRoleToUser(role.getId(),role.getName());\n    }\n\n\n\n    @GetMapping(path=&quot;users/{id}&quot;)\n    public User getSingleUser(@PathVariable(&quot;id&quot;) Long id){\n        return userService.getSingleUser(id);\n    }\n\n    @PutMapping(path=&quot;users/{id}&quot;)\n    public void updateUser(\n            @PathVariable(&quot;id&quot;) Long id,\n            @RequestParam(required = false) String name\n    ){\n        userService.updateUser(id,name);\n    }\n\n    @DeleteMapping(path=&quot;users/{id}&quot;)\n    public void deleteUser(@PathVariable(&quot;id&quot;) Long id){\n         userService.deleteUser(id);\n    }\n\n}\n\n@Data\nclass RoleForm{\n    private Long id;\n    private String name;\n}\n\n</code></pre>\n<p><strong>Filter</strong></p>\n<p><strong>CustomUserAuthenticationFilter</strong></p>\n<pre><code>package com.maxapp.server.filter;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Date;\nimport java.util.stream.Collectors;\n\n@RequiredArgsConstructor\npublic class CustomUserAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        String email = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n\n        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(email,password);\n        return authenticationManager.authenticate(usernamePasswordAuthenticationToken);\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        User user = (User)authResult.getPrincipal();\n        Algorithm algorithm = Algorithm.HMAC256(&quot;Maxwell1&quot;.getBytes());\n        String access_token = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis()+10*60*1000))\n                .withIssuer(request.getRequestURI())\n                .withClaim(&quot;roles&quot;,user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n                .sign(algorithm);\n\n        String refresh_token = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis()+30*60*1000))\n                .withIssuer(request.getRequestURI())\n                .sign(algorithm);\n\n        response.setHeader(&quot;access_token&quot;,access_token);\n        response.setHeader(&quot;refresh_token&quot;,refresh_token);\n\n    }\n}\n</code></pre>\n<p><strong>Security</strong></p>\n<p><strong>SecurityConfig</strong></p>\n<pre><code>package com.maxapp.server.security;\n\nimport com.maxapp.server.filter.CustomUserAuthenticationFilter;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n@Configuration @EnableWebSecurity @RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService userDetailsService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().anyRequest().permitAll();\n        http.addFilter(new CustomUserAuthenticationFilter(authenticationManagerBean()));\n    }\n\n\n    @Bean\n\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p><strong>Application Class</strong></p>\n<pre><code>package com.maxapp.server;\n\nimport com.maxapp.server.model.Role;\nimport com.maxapp.server.model.User;\nimport com.maxapp.server.service.UserService;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class ServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    CommandLineRunner runs(UserService userService){\n\n        return  args -&gt;{\n\n            userService.saveRole(new Role(&quot;Admin&quot;));\n            userService.saveRole(new Role(&quot;Student&quot;));\n\n\n            userService.createUser(new User(&quot;Maxwell&quot;,&quot;mall@gamil.com&quot;,&quot;1234&quot;));\n            userService.createUser(new User(&quot;Maxwel&quot;,&quot;ma1ll@gamil.com&quot;,&quot;1234&quot;));\n\n            userService.addRoleToUser(1L,&quot;Admin&quot;);\n            userService.addRoleToUser(2L,&quot;Student&quot;);\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","junit","junit4","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":2,"creation_date":1592995359,"post_id":62552652,"comment_id":110622690,"body_markdown":"Have you looked at https://github.com/junit-team/junit5-samples/tree/main/junit5-migration-maven? But maybe Surefire 3 has changed some of the mechanics.","body":"Have you looked at <a href=\"https://github.com/junit-team/junit5-samples/tree/main/junit5-migration-maven\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5-samples/tree/main/&hellip;</a>? But maybe Surefire 3 has changed some of the mechanics."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1593000078,"post_id":62552652,"comment_id":110624972,"body_markdown":"Awesome, many thanks. Replacing my pom with the one from this project fixed the issue. :)","body":"Awesome, many thanks. Replacing my pom with the one from this project fixed the issue. :)"},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":1,"creation_date":1593011720,"post_id":62552652,"comment_id":110631672,"body_markdown":"My advice for you guys is to read the documentation of the Surefire plugin. Every new version has added some improvements, see https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\nSee my detailed comment below.","body":"My advice for you guys is to read the documentation of the Surefire plugin. Every new version has added some improvements, see <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a> See my detailed comment below."}],"answers":[{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593000155,"creation_date":1593000155,"answer_id":62554606,"question_id":62552652,"body_markdown":"As per @johanneslink answer, this is my new pom where I can run both JUnit4 and Junit5 together from maven command.  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit5-migration-maven&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${maven.compiler.source}&lt;/maven.compiler.target&gt;\r\n\r\n\t\t&lt;junit.version&gt;4.13&lt;/junit.version&gt;\r\n\t\t&lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\r\n\t\t&lt;junit.vintage.version&gt;5.6.2&lt;/junit.vintage.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.vintage.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!--&lt;groups&gt;fast&lt;/groups&gt;--&gt;\r\n\t\t\t\t\t&lt;excludedGroups&gt;slow&lt;/excludedGroups&gt;\r\n\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t&lt;!--\r\n\t\t\t\t\t\t&lt;configurationParameters&gt;\r\n\t\t\t\t\t\t\tjunit.jupiter.conditions.deactivate = *\r\n\t\t\t\t\t\t&lt;/configurationParameters&gt;\r\n\t\t\t\t\t\t--&gt;\r\n\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;","title":"Run Both JUnit 4 and Junit5 With Maven Surefire Plugin - 2020","body":"<p>As per @johanneslink answer, this is my new pom where I can run both JUnit4 and Junit5 together from maven command.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;junit5-migration-maven&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${maven.compiler.source}&lt;/maven.compiler.target&gt;\n\n    &lt;junit.version&gt;4.13&lt;/junit.version&gt;\n    &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\n    &lt;junit.vintage.version&gt;5.6.2&lt;/junit.vintage.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.vintage.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!--&lt;groups&gt;fast&lt;/groups&gt;--&gt;\n                &lt;excludedGroups&gt;slow&lt;/excludedGroups&gt;\n                &lt;properties&gt;\n                    &lt;!--\n                    &lt;configurationParameters&gt;\n                        junit.jupiter.conditions.deactivate = *\n                    &lt;/configurationParameters&gt;\n                    --&gt;\n                &lt;/properties&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1595438543,"creation_date":1593011399,"answer_id":62558232,"question_id":62552652,"body_markdown":"We have improved the plugin in the `3.0.0-M5 version` so that you do not need to use engines in your dependencies. This new approach avoids using internal code of the engine in your tests and it enables you to only call the API:\r\n\r\nMaybe this [example][1] and [documentation][2] helps.\r\n\r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.6.2&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.13&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://github.com/apache/maven-surefire/blob/master/surefire-its/src/test/resources/junit-4-5/pom.xml#L84\r\n  [2]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html#Jupiter_API_and_JUnit4","title":"Run Both JUnit 4 and Junit5 With Maven Surefire Plugin - 2020","body":"<p>We have improved the plugin in the <code>3.0.0-M5 version</code> so that you do not need to use engines in your dependencies. This new approach avoids using internal code of the engine in your tests and it enables you to only call the API:</p>\n<p>Maybe this <a href=\"https://github.com/apache/maven-surefire/blob/master/surefire-its/src/test/resources/junit-4-5/pom.xml#L84\" rel=\"nofollow noreferrer\">example</a> and <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html#Jupiter_API_and_JUnit4\" rel=\"nofollow noreferrer\">documentation</a> helps.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1611403871,"creation_date":1611403871,"answer_id":65859033,"question_id":62552652,"body_markdown":"In my case upgrading maven-surefire-plugin to version 3.0.0-M5 did not help, but adding the engines helped. Now I have both engines in my pom.xml as dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe first is to run JUnit 4 tests, the second to run JUnit 5 tests. So in my case both run now together.","title":"Run Both JUnit 4 and Junit5 With Maven Surefire Plugin - 2020","body":"<p>In my case upgrading maven-surefire-plugin to version 3.0.0-M5 did not help, but adding the engines helped. Now I have both engines in my pom.xml as dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The first is to run JUnit 4 tests, the second to run JUnit 5 tests. So in my case both run now together.</p>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646309631,"creation_date":1646309631,"answer_id":71337054,"question_id":62552652,"body_markdown":"We actually had both Junit 4 and JUnit 5 tests running with  junit-platform and surefire 2.22\r\n\r\nWhen we upgraded to surefire 3.0.0-M5 it caused Junit 5 tests to stop running.\r\n\r\nWe needed to exclude junit-platform to get them to run again.","title":"Run Both JUnit 4 and Junit5 With Maven Surefire Plugin - 2020","body":"<p>We actually had both Junit 4 and JUnit 5 tests running with  junit-platform and surefire 2.22</p>\n<p>When we upgraded to surefire 3.0.0-M5 it caused Junit 5 tests to stop running.</p>\n<p>We needed to exclude junit-platform to get them to run again.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9004,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":62558232,"answer_count":4,"score":11,"last_activity_date":1646309631,"creation_date":1592993484,"question_id":62552652,"body_markdown":"I see a few people having this issue and am struggling for a few weeks now, but not able to run both JUnit4 and JUnit5 on the same project (I need this to maintain some old tests). I noticed that if I remove the maven surefire plugin I can run the JUnit4 tests whereas when it&#39;s added to the POM only the JUnit5 ones. \r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nSimilar thing happens to this dependency. If I add it to the POM file I can run JUnit4 tests even if the maven surefire plugin is there. However, I need to remove it to be able to run JUnit5 tests.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis is my complete pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.hmhco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tests&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;rest-assured.version&gt;3.0.0&lt;/rest-assured.version&gt;\r\n        &lt;json-schema-validator.version&gt;3.3.0&lt;/json-schema-validator.version&gt;\r\n        &lt;junit5.version&gt;5.2.0&lt;/junit5.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nAnd these are the small classes I&#39;m try to run using `mvn test`\r\n\r\n\r\n    import org.junit.Test;\r\n\r\n    public class J4Test {\r\n\r\n    @Test\r\n    public void testing() {\r\n        System.out.println(&quot;Testing J4&quot;);\r\n        }\r\n    }\r\n\r\n--\r\n       \r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class J5Test {\r\n\r\n    @Test\r\n    public void testing() {\r\n        System.out.println(&quot;Testing J5&quot;);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Run Both JUnit 4 and Junit5 With Maven Surefire Plugin - 2020","body":"<p>I see a few people having this issue and am struggling for a few weeks now, but not able to run both JUnit4 and JUnit5 on the same project (I need this to maintain some old tests). I noticed that if I remove the maven surefire plugin I can run the JUnit4 tests whereas when it's added to the POM only the JUnit5 ones.</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n       &lt;version&gt;3.0.0-M4&lt;/version&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>Similar thing happens to this dependency. If I add it to the POM file I can run JUnit4 tests even if the maven surefire plugin is there. However, I need to remove it to be able to run JUnit5 tests.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;version&gt;${junit5.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my complete pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.hmhco&lt;/groupId&gt;\n&lt;artifactId&gt;tests&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;rest-assured.version&gt;3.0.0&lt;/rest-assured.version&gt;\n    &lt;json-schema-validator.version&gt;3.3.0&lt;/json-schema-validator.version&gt;\n    &lt;junit5.version&gt;5.2.0&lt;/junit5.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit5.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.5.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And these are the small classes I'm try to run using <code>mvn test</code></p>\n<pre><code>import org.junit.Test;\n\npublic class J4Test {\n\n@Test\npublic void testing() {\n    System.out.println(&quot;Testing J4&quot;);\n    }\n}\n</code></pre>\n<p>--</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\npublic class J5Test {\n\n@Test\npublic void testing() {\n    System.out.println(&quot;Testing J5&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":103447,"reputation":6421,"user_id":277084,"accept_rate":100,"display_name":"Brian"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1474870690,"creation_date":1292005671,"answer_id":4412033,"question_id":4412020,"body_markdown":"Are you using:\r\n\r\n    Math.abs()\r\n\r\nor just\r\n\r\n    abs()\r\n\r\n?  \r\n\r\n&gt; Use **`Math.abs()`**","title":"Using abs () method in java. My compiler doesn&#39;t know the method","body":"<p>Are you using:</p>\n\n<pre><code>Math.abs()\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>abs()\n</code></pre>\n\n<p>?  </p>\n\n<blockquote>\n  <p>Use <strong><code>Math.abs()</code></strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292005692,"creation_date":1292005692,"answer_id":4412035,"question_id":4412020,"body_markdown":"You have to refer to the `Math` class when you use it:\r\n\r\n    Math.abs(&lt;intval&gt;)\r\n\r\n","title":"Using abs () method in java. My compiler doesn&#39;t know the method","body":"<p>You have to refer to the <code>Math</code> class when you use it:</p>\n\n<pre><code>Math.abs(&lt;intval&gt;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":106983,"reputation":44143,"user_id":284685,"accept_rate":67,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1292005692,"creation_date":1292005692,"answer_id":4412036,"question_id":4412020,"body_markdown":"It&#39;s a static method. It has to be used like this:\r\n\r\n    Math.abs(int);\r\n[javadoc][1]\r\n\r\n[See Class Methods in the Java Tutorial.][2] \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Math.html#abs(int)\r\n  [2]: http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html","title":"Using abs () method in java. My compiler doesn&#39;t know the method","body":"<p>It's a static method. It has to be used like this:</p>\n\n<pre><code>Math.abs(int);\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Math.html#abs%28int%29\" rel=\"noreferrer\">javadoc</a></p>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"noreferrer\">See Class Methods in the Java Tutorial.</a> </p>\n"},{"tags":[],"owner":{"account_id":2794,"reputation":88136,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1292005751,"creation_date":1292005751,"answer_id":4412042,"question_id":4412020,"body_markdown":"All functions in Java are part of a class.  abs() is a static member of the Math class, so call\r\n\r\n     Math.abs(val);\r\n\r\nIt&#39;s in java.lang, so no need to import anything","title":"Using abs () method in java. My compiler doesn&#39;t know the method","body":"<p>All functions in Java are part of a class.  abs() is a static member of the Math class, so call</p>\n\n<pre><code> Math.abs(val);\n</code></pre>\n\n<p>It's in java.lang, so no need to import anything</p>\n"},{"tags":[],"owner":{"account_id":238081,"reputation":9438,"user_id":506721,"accept_rate":89,"display_name":"Goran Jovic"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1292023102,"creation_date":1292005773,"answer_id":4412044,"question_id":4412020,"body_markdown":"Call it as\r\n\r\n`Math.abs(number)`\r\n\r\nor import as:\r\n\r\n`import static java.lang.Math.abs;`","title":"Using abs () method in java. My compiler doesn&#39;t know the method","body":"<p>Call it as</p>\n\n<p><code>Math.abs(number)</code></p>\n\n<p>or import as:</p>\n\n<p><code>import static java.lang.Math.abs;</code></p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292005797,"creation_date":1292005797,"answer_id":4412047,"question_id":4412020,"body_markdown":"Or \r\n\r\n    import static java.lang.Math.*;","title":"Using abs () method in java. My compiler doesn&#39;t know the method","body":"<p>Or </p>\n\n<pre><code>import static java.lang.Math.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292005813,"creation_date":1292005813,"answer_id":4412048,"question_id":4412020,"body_markdown":"First of all, it&#39;s `java.lang.Math` (your package was wrong and Math is capitalized) but that&#39;s not a problem since all classes in `java.lang` are automatically imported.\r\n\r\nAs Brian says, use `Math.abs()`.  Or, you can import the methods statically:\r\n\r\n    import static java.lang.Math.*;\r\n\r\nThis will allow you to use just `abs()` (and all other static methods from the `Math` class) without prefixing them with `Math.`\r\n","title":"Using abs () method in java. My compiler doesn&#39;t know the method","body":"<p>First of all, it's <code>java.lang.Math</code> (your package was wrong and Math is capitalized) but that's not a problem since all classes in <code>java.lang</code> are automatically imported.</p>\n\n<p>As Brian says, use <code>Math.abs()</code>.  Or, you can import the methods statically:</p>\n\n<pre><code>import static java.lang.Math.*;\n</code></pre>\n\n<p>This will allow you to use just <code>abs()</code> (and all other static methods from the <code>Math</code> class) without prefixing them with <code>Math.</code></p>\n"}],"owner":{"account_id":224205,"reputation":705,"user_id":483859,"accept_rate":94,"display_name":"Ordo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35861,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":4412033,"answer_count":7,"score":15,"last_activity_date":1646309618,"creation_date":1292005574,"question_id":4412020,"body_markdown":"I have a simple question, but i can&#39;t find a solution for it. \r\n\r\nI want to use `abs()` method, but it doesn&#39;t work. I&#39;m always getting the error\r\n\r\n&gt; Cannot find symbol: method abs(int)\r\n\r\nI have already tried to use the method by including `&quot;import java.math&quot;` above the code. But that doens&#39;t work too.\r\n\r\n ","title":"Using abs () method in java. My compiler doesn&#39;t know the method","body":"<p>I have a simple question, but i can't find a solution for it.</p>\n<p>I want to use <code>abs()</code> method, but it doesn't work. I'm always getting the error</p>\n<blockquote>\n<p>Cannot find symbol: method abs(int)</p>\n</blockquote>\n<p>I have already tried to use the method by including <code>&quot;import java.math&quot;</code> above the code. But that doens't work too.</p>\n"},{"tags":["java","postgresql","elasticsearch","replication","debezium"],"answers":[{"tags":[],"owner":{"account_id":20745307,"reputation":21,"user_id":15234024,"display_name":"check"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646309287,"creation_date":1646309287,"answer_id":71336967,"question_id":70643127,"body_markdown":"It is not done in Java, but here are two example projects to get an idea:\r\n\r\n- node based: https://github.com/pdiniz13/node-wal2json\r\n- golang based: https://github.com/jackc/pgx","title":"How to get/read the wal2json output on a Java application/service , basically Parsing the json output from the wal2json plugin?","body":"<p>It is not done in Java, but here are two example projects to get an idea:</p>\n<ul>\n<li>node based: <a href=\"https://github.com/pdiniz13/node-wal2json\" rel=\"nofollow noreferrer\">https://github.com/pdiniz13/node-wal2json</a></li>\n<li>golang based: <a href=\"https://github.com/jackc/pgx\" rel=\"nofollow noreferrer\">https://github.com/jackc/pgx</a></li>\n</ul>\n"}],"owner":{"account_id":4511992,"reputation":1527,"user_id":3667825,"accept_rate":70,"display_name":"Manas Pratim Chamuah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646309287,"creation_date":1641744435,"question_id":70643127,"body_markdown":"wal2json is an output plugin to get the logical decoding of postgres but , wal2json plugin outputs the changes on the terminal. How do I create a Java Listener or get the output on a Java application","title":"How to get/read the wal2json output on a Java application/service , basically Parsing the json output from the wal2json plugin?","body":"<p>wal2json is an output plugin to get the logical decoding of postgres but , wal2json plugin outputs the changes on the terminal. How do I create a Java Listener or get the output on a Java application</p>\n"},{"tags":["java","php","linux","maven"],"comments":[{"owner":{"account_id":10648681,"reputation":12446,"user_id":7840440,"display_name":"Raman Sailopal"},"score":0,"creation_date":1602769324,"post_id":64372794,"comment_id":113829648,"body_markdown":"Do you have selinux running?","body":"Do you have selinux running?"},{"owner":{"account_id":19717659,"reputation":3,"user_id":14436753,"display_name":"ARealLegend"},"score":0,"creation_date":1602769475,"post_id":64372794,"comment_id":113829732,"body_markdown":"@RamanSailopal no","body":"@RamanSailopal no"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1602788220,"post_id":64372794,"comment_id":126161778,"body_markdown":"You can set a different local repository somewhere else where your user can write: https://stackoverflow.com/a/7071791/927493","body":"You can set a different local repository somewhere else where your user can write: <a href=\"https://stackoverflow.com/a/7071791/927493\">stackoverflow.com/a/7071791/927493</a>"}],"owner":{"account_id":19717659,"reputation":3,"user_id":14436753,"display_name":"ARealLegend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646309077,"creation_date":1602768975,"question_id":64372794,"body_markdown":"So I need to download all dependencies from a pom.xml to one folder.\r\nThat works with that command:\r\n\r\n    mvn -f pom.xml dependency:copy-dependencies -DoutputDirectory=libs\r\n\r\nIt works fine when I run this with the root user from putty, but when I run this with php exec: `exec(&quot;mvn -f pom.xml dependency:copy-dependencies -DoutputDirectory=test&quot;);` it doesn&#39;t work and I&#39;m getting this Error: \r\n***Could not create local repository at /var/www/.m2/repository (LocalRepositoryNotAccessibleException)***\r\n\r\nI&#39;m pretty sure this has something to do with permissions because of the www-data user, but I can&#39;t figure out what to do (already gave the php file and folder 777 permissions)\r\n","title":"How to execute maven with php (www-data user)?","body":"<p>So I need to download all dependencies from a pom.xml to one folder.\nThat works with that command:</p>\n<pre><code>mvn -f pom.xml dependency:copy-dependencies -DoutputDirectory=libs\n</code></pre>\n<p>It works fine when I run this with the root user from putty, but when I run this with php exec: <code>exec(&quot;mvn -f pom.xml dependency:copy-dependencies -DoutputDirectory=test&quot;);</code> it doesn't work and I'm getting this Error:\n<em><strong>Could not create local repository at /var/www/.m2/repository (LocalRepositoryNotAccessibleException)</strong></em></p>\n<p>I'm pretty sure this has something to do with permissions because of the www-data user, but I can't figure out what to do (already gave the php file and folder 777 permissions)</p>\n"},{"tags":["java","azure","gradle","blockhound"],"owner":{"account_id":8298343,"reputation":607,"user_id":6237822,"accept_rate":88,"display_name":"xross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646309053,"creation_date":1646297823,"question_id":71334420,"body_markdown":"At the start of the application I am spotting three warnings:\r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Option AllowRedefinitionToAddDeleteMethods was deprecated in version 13.0 and will likely be removed in a future release.\r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n\r\nBut its only warning. Unfortunately I am getting errors aswell:\r\n\r\n    ERROR i.o.javaagent.tooling.HelperInjector - Error preparing helpers while processing class org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter for spring-webflux. Failed to inject helper classes into instance org.springframework.boot.loader.LaunchedURLClassLoader@64b31700\r\n        java.lang.UnsupportedOperationException: Cannot get defined package using reflection: Unsupported class file major version 61\r\n\r\n    OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n    2022-02-25 12:30:22.226Z ERROR i.o.javaagent.tooling.HelperInjector - Error preparing helpers while processing class reactor.blockhound.shaded.net.bytebuddy.dynamic.loading.InjectionClassLoader for classloader. Failed to inject helper classes into instance org.springframework.boot.loader.LaunchedURLClassLoader@bae47a0\r\n    java.lang.UnsupportedOperationException: Cannot get defined package using reflection: Unsupported class file major version 61\r\n\r\n    ERROR i.o.javaagent.tooling.HelperInjector - Error preparing helpers while processing class org.apache.http.impl.client.CloseableHttpClient for apache-httpclient. Failed to inject helper classes into instance org.springframework.boot.loader.LaunchedURLClassLoader@64b31700\r\n    java.lang.UnsupportedOperationException: Cannot get defined package using reflection: Unsupported class file major version 61\r\n            at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection$Dispatcher$Initializable$Unavailable.getDefinedPackage(ClassInjector.java:442)\r\n            at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection.injectRaw(ClassInjector.java:218)\r\n            at io.opentelemetry.javaagent.tooling.HelperInjector.injectClassLoader(HelperInjector.java:205)\r\n            at io.opentelemetry.javaagent.tooling.HelperInjector.transform(HelperInjector.java:137)\r\n            at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.doTransform(AgentBuilder.java:10364)\r\n            at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.transform(AgentBuilder.java:10302)\r\n            at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.access$1600\r\n\r\nIn the project I am using Azure KeyVault, and BlockHound to communicate with that.\r\n\r\nApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n    \r\n      public static void main(String[] args) {\r\n        BlockHound\r\n            .builder()\r\n            .allowBlockingCallsInside(KeyVaultClient.class.getName(), &quot;getSecret&quot;)\r\n            .allowBlockingCallsInside(ManagedIdentityCredential.class.getName(), &quot;getToken&quot;)\r\n            .install();\r\n    \r\n        SpringApplication.run(MyApplication.class, args);\r\n      }\r\n    \r\n    }\r\n\r\nI have added ***-XX:+AllowRedefinitionToAddDeleteMethods*** to the VM options in IntelliJ.\r\nI have also added it to the *gradle.build* file, but it seems to not work properly.\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.5.10&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;pmd&#39;\r\n        id &#39;checkstyle&#39;\r\n        id &#39;com.github.spotbugs&#39; version &#39;4.7.2&#39;\r\n        id &#39;com.github.ben-manes.versions&#39; version &#39;0.39.0&#39;\r\n        id &#39;io.freefair.lombok&#39; version &#39;5.3.3.3&#39;\r\n        id &#39;com.gorylenko.gradle-git-properties&#39; version &#39;2.3.1&#39;\r\n        id &#39;com.coditory.integration-test&#39; version &#39;1.3.0&#39;\r\n    }\r\n    \r\n    apply from: &#39;gradle/jacoco.gradle&#39;\r\n    apply from: &#39;gradle/spotbugs.gradle&#39;\r\n    \r\n    group = &#39;my.group&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_17\r\n        targetCompatibility = JavaVersion.VERSION_17\r\n    }\r\n    \r\n    jar {\r\n        enabled = false\r\n    }\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &#39;2020.0.3&#39;)\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n            mavenBom &#39;com.azure.spring:azure-spring-cloud-dependencies:2.13.0&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n        implementation &#39;org.zalando:logbook-spring-boot-starter:2.14.0&#39;\r\n        implementation group: &#39;org.zalando&#39;, name: &#39;logbook-spring-boot-webflux-autoconfigure&#39;, version: &#39;2.11.0&#39;\r\n        implementation &#39;io.projectreactor.tools:blockhound:1.0.6.RELEASE&#39;\r\n        implementation &#39;com.azure.spring:azure-spring-cloud-appconfiguration-config&#39;\r\n        implementation &#39;org.projectlombok:lombok&#39;\r\n    \r\n    \r\n        annotationProcessor &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;\r\n        annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    \r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;net.javacrumbs.json-unit:json-unit-assertj:2.28.0&#39;\r\n    }\r\n    \r\n    springBoot {\r\n        buildInfo()\r\n    }\r\n    \r\n    lombok {\r\n        version = &#39;1.18.20&#39;\r\n    }\r\n    \r\n    pmd {\r\n        toolVersion = &#39;6.33.0&#39;\r\n        ruleSets = []\r\n        ruleSetConfig = rootProject.resources.text.fromFile(&#39;config/pmd/ruleset.xml&#39;)\r\n        sourceSets = [sourceSets.main]\r\n        consoleOutput = true\r\n        ignoreFailures = true\r\n    }\r\n    \r\n    checkstyle {\r\n        toolVersion = &#39;8.41.1&#39;\r\n        config = rootProject.resources.text.fromFile(&#39;config/checkstyle/checkstyle.xml&#39;)\r\n        showViolations = false\r\n        checkstyleTest.enabled = false\r\n        checkstyleIntegration.enabled = false\r\n    }\r\n    \r\n    tasks.withType(Test) {\r\n        useJUnitPlatform()\r\n        testLogging {\r\n            events = [&#39;passed&#39;, &#39;failed&#39;, &#39;skipped&#39;]\r\n            exceptionFormat = &#39;full&#39;\r\n        }\r\n        // this one is needed for blockhound to work in tests\r\n        jvmArgs(&#39;-XX:+AllowRedefinitionToAddDeleteMethods&#39;)\r\n    }\r\n    \r\n    bootRun {\r\n        // this one is needed for blockhound to work\r\n        jvmArgs(&#39;-XX:+AllowRedefinitionToAddDeleteMethods&#39;)\r\n        args = [&#39;--spring.profiles.active=native&#39;]\r\n    }\r\n\r\ndocker.entrypoint:\r\n\r\n    #!/bin/bash\r\n    \r\n    exec java -Djava.security.egd=file:/dev/./urandom \\\r\n       -XX:+AllowRedefinitionToAddDeleteMethods \\\r\n       -XX:+UseG1GC \\\r\n       -XX:MaxRAMPercentage=70 \\\r\n       -XX:+PrintFlagsFinal \\\r\n       -XshowSettings:vm \\\r\n       -javaagent:/opt/myapp/agent.jar \\\r\n       -jar /opt/myapp/myapp.jar\r\n\r\nI am using: *Java 17.0.2* and *gradle 7.3*\r\n\r\nI have already tried changing *spring.profiles.active* to ***native***, ***local*** etc. I have also migrated project from ***Java 16*** to ***17***, and from ***gradle 7.1*** to ***7.3***, other dependencies aswell. I am having issues with ***springboot*** in version ***2.6.4***, but possibly I should raise *cloud dependencies&#39;* versions, but not sure how are they compatible with each other.\r\n\r\nThe solution is working fine, I am obtaining properties from *KeyVault* as expected.\r\n\r\nI want to get rid off those warnings, but I am out of ideas at the moment. Maybe somebody had similiar situation?\r\n","title":"Unsupported java version 61 with Blockhound &amp;&amp; CloseableHttpClient | -AllowRedefinitionToAddDeleteMethods","body":"<p>At the start of the application I am spotting three warnings:</p>\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: Option AllowRedefinitionToAddDeleteMethods was deprecated in version 13.0 and will likely be removed in a future release.\n\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\n\nJava HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n</code></pre>\n<p>But its only warning. Unfortunately I am getting errors aswell:</p>\n<pre><code>ERROR i.o.javaagent.tooling.HelperInjector - Error preparing helpers while processing class org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter for spring-webflux. Failed to inject helper classes into instance org.springframework.boot.loader.LaunchedURLClassLoader@64b31700\n    java.lang.UnsupportedOperationException: Cannot get defined package using reflection: Unsupported class file major version 61\n\nOpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n2022-02-25 12:30:22.226Z ERROR i.o.javaagent.tooling.HelperInjector - Error preparing helpers while processing class reactor.blockhound.shaded.net.bytebuddy.dynamic.loading.InjectionClassLoader for classloader. Failed to inject helper classes into instance org.springframework.boot.loader.LaunchedURLClassLoader@bae47a0\njava.lang.UnsupportedOperationException: Cannot get defined package using reflection: Unsupported class file major version 61\n\nERROR i.o.javaagent.tooling.HelperInjector - Error preparing helpers while processing class org.apache.http.impl.client.CloseableHttpClient for apache-httpclient. Failed to inject helper classes into instance org.springframework.boot.loader.LaunchedURLClassLoader@64b31700\njava.lang.UnsupportedOperationException: Cannot get defined package using reflection: Unsupported class file major version 61\n        at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection$Dispatcher$Initializable$Unavailable.getDefinedPackage(ClassInjector.java:442)\n        at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection.injectRaw(ClassInjector.java:218)\n        at io.opentelemetry.javaagent.tooling.HelperInjector.injectClassLoader(HelperInjector.java:205)\n        at io.opentelemetry.javaagent.tooling.HelperInjector.transform(HelperInjector.java:137)\n        at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.doTransform(AgentBuilder.java:10364)\n        at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.transform(AgentBuilder.java:10302)\n        at net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer.access$1600\n</code></pre>\n<p>In the project I am using Azure KeyVault, and BlockHound to communicate with that.</p>\n<p>Application.java</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n\n  public static void main(String[] args) {\n    BlockHound\n        .builder()\n        .allowBlockingCallsInside(KeyVaultClient.class.getName(), &quot;getSecret&quot;)\n        .allowBlockingCallsInside(ManagedIdentityCredential.class.getName(), &quot;getToken&quot;)\n        .install();\n\n    SpringApplication.run(MyApplication.class, args);\n  }\n\n}\n</code></pre>\n<p>I have added <em><strong>-XX:+AllowRedefinitionToAddDeleteMethods</strong></em> to the VM options in IntelliJ.\nI have also added it to the <em>gradle.build</em> file, but it seems to not work properly.</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.5.10'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'pmd'\n    id 'checkstyle'\n    id 'com.github.spotbugs' version '4.7.2'\n    id 'com.github.ben-manes.versions' version '0.39.0'\n    id 'io.freefair.lombok' version '5.3.3.3'\n    id 'com.gorylenko.gradle-git-properties' version '2.3.1'\n    id 'com.coditory.integration-test' version '1.3.0'\n}\n\napply from: 'gradle/jacoco.gradle'\napply from: 'gradle/spotbugs.gradle'\n\ngroup = 'my.group'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\njar {\n    enabled = false\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', '2020.0.3')\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n        mavenBom 'com.azure.spring:azure-spring-cloud-dependencies:2.13.0'\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.cloud:spring-cloud-starter'\n    implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n    implementation 'org.zalando:logbook-spring-boot-starter:2.14.0'\n    implementation group: 'org.zalando', name: 'logbook-spring-boot-webflux-autoconfigure', version: '2.11.0'\n    implementation 'io.projectreactor.tools:blockhound:1.0.6.RELEASE'\n    implementation 'com.azure.spring:azure-spring-cloud-appconfiguration-config'\n    implementation 'org.projectlombok:lombok'\n\n\n    annotationProcessor 'org.projectlombok:lombok-mapstruct-binding:0.2.0'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'net.javacrumbs.json-unit:json-unit-assertj:2.28.0'\n}\n\nspringBoot {\n    buildInfo()\n}\n\nlombok {\n    version = '1.18.20'\n}\n\npmd {\n    toolVersion = '6.33.0'\n    ruleSets = []\n    ruleSetConfig = rootProject.resources.text.fromFile('config/pmd/ruleset.xml')\n    sourceSets = [sourceSets.main]\n    consoleOutput = true\n    ignoreFailures = true\n}\n\ncheckstyle {\n    toolVersion = '8.41.1'\n    config = rootProject.resources.text.fromFile('config/checkstyle/checkstyle.xml')\n    showViolations = false\n    checkstyleTest.enabled = false\n    checkstyleIntegration.enabled = false\n}\n\ntasks.withType(Test) {\n    useJUnitPlatform()\n    testLogging {\n        events = ['passed', 'failed', 'skipped']\n        exceptionFormat = 'full'\n    }\n    // this one is needed for blockhound to work in tests\n    jvmArgs('-XX:+AllowRedefinitionToAddDeleteMethods')\n}\n\nbootRun {\n    // this one is needed for blockhound to work\n    jvmArgs('-XX:+AllowRedefinitionToAddDeleteMethods')\n    args = ['--spring.profiles.active=native']\n}\n</code></pre>\n<p>docker.entrypoint:</p>\n<pre><code>#!/bin/bash\n\nexec java -Djava.security.egd=file:/dev/./urandom \\\n   -XX:+AllowRedefinitionToAddDeleteMethods \\\n   -XX:+UseG1GC \\\n   -XX:MaxRAMPercentage=70 \\\n   -XX:+PrintFlagsFinal \\\n   -XshowSettings:vm \\\n   -javaagent:/opt/myapp/agent.jar \\\n   -jar /opt/myapp/myapp.jar\n</code></pre>\n<p>I am using: <em>Java 17.0.2</em> and <em>gradle 7.3</em></p>\n<p>I have already tried changing <em>spring.profiles.active</em> to <em><strong>native</strong></em>, <em><strong>local</strong></em> etc. I have also migrated project from <em><strong>Java 16</strong></em> to <em><strong>17</strong></em>, and from <em><strong>gradle 7.1</strong></em> to <em><strong>7.3</strong></em>, other dependencies aswell. I am having issues with <em><strong>springboot</strong></em> in version <em><strong>2.6.4</strong></em>, but possibly I should raise <em>cloud dependencies'</em> versions, but not sure how are they compatible with each other.</p>\n<p>The solution is working fine, I am obtaining properties from <em>KeyVault</em> as expected.</p>\n<p>I want to get rid off those warnings, but I am out of ideas at the moment. Maybe somebody had similiar situation?</p>\n"},{"tags":["java","spring-boot","apache-kafka","avro-tools"],"comments":[{"owner":{"account_id":2658982,"reputation":2506,"user_id":2299087,"display_name":"James McPherson"},"score":0,"creation_date":1645763205,"post_id":71260979,"comment_id":125962483,"body_markdown":"Are you using a schema registry?","body":"Are you using a schema registry?"},{"owner":{"account_id":24368227,"reputation":1,"user_id":18301630,"display_name":"Nilesh Ranjan"},"score":0,"creation_date":1645765109,"post_id":71260979,"comment_id":125962792,"body_markdown":"No as of now i am not using schema registry, will using a schema registry be helpful in addressing my issue? and where can i find relevant references for it ?","body":"No as of now i am not using schema registry, will using a schema registry be helpful in addressing my issue? and where can i find relevant references for it ?"},{"owner":{"account_id":2658982,"reputation":2506,"user_id":2299087,"display_name":"James McPherson"},"score":0,"creation_date":1645766819,"post_id":71260979,"comment_id":125963072,"body_markdown":"Yes, a schema registry is useful - you query it for the key+value schemas and it&#39;ll tell you what sort of deserializer you need (Avro, JSON, Protobuf).  I&#39;d read through the docs at https://docs.confluent.io/platform/current/schema-registry/index.html as start.","body":"Yes, a schema registry is useful - you query it for the key+value schemas and it&#39;ll tell you what sort of deserializer you need (Avro, JSON, Protobuf).  I&#39;d read through the docs at <a href=\"https://docs.confluent.io/platform/current/schema-registry/index.html\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/schema-registry/index.htm&zwnj;&#8203;l</a> as start."},{"owner":{"account_id":2975595,"reputation":502,"user_id":2526688,"display_name":"Nirav Chhatrola"},"score":0,"creation_date":1645948869,"post_id":71260979,"comment_id":126000330,"body_markdown":"As you mentioned you are publishing different objects on different topics. Do you have single consumer to consume all topics ?  if yes than schema registry will not help here as you will have to write different consumers for all topics. well that&#39;s the right way to do though.","body":"As you mentioned you are publishing different objects on different topics. Do you have single consumer to consume all topics ?  if yes than schema registry will not help here as you will have to write different consumers for all topics. well that&#39;s the right way to do though."}],"answers":[{"tags":[],"owner":{"account_id":12434603,"reputation":30,"user_id":9055494,"display_name":"Sandhya Ratan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646309048,"creation_date":1646309048,"answer_id":71336913,"question_id":71260979,"body_markdown":"based on the topic name u can redirect to the required method which can deserialize the msg.\r\nlike, create a Dictionary in which the Key can be the topic name and the value will be the respective deserializer method.\r\nDictionary&lt;string, Action&lt;object&gt;&gt; registeredDelegates = new Dictionary&lt;string, Action&lt;object&gt;&gt;();","title":"How can I have a generic Deserializer for Kafka","body":"<p>based on the topic name u can redirect to the required method which can deserialize the msg.\nlike, create a Dictionary in which the Key can be the topic name and the value will be the respective deserializer method.\nDictionary&lt;string, Action&gt; registeredDelegates = new Dictionary&lt;string, Action&gt;();</p>\n"}],"owner":{"account_id":24368227,"reputation":1,"user_id":18301630,"display_name":"Nilesh Ranjan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646309048,"creation_date":1645762549,"question_id":71260979,"body_markdown":"I am underway a migrational change from a `monolithic` to `micro-services` architecture, So we have planned to use `Kafka` as the broker.\r\n\r\nI have been using the **kafka-client** dependency in my project\r\nTherefore for every topic I have a different purpose and a different Object being passed onto the broker,\r\nWhen doing this serialization isn&#39;t an issue on the producer front, but when I want to consume I am having to write a Deserializer for every Object separately, Can I have a generic `Deserializer`? If yes any examples?\r\n","title":"How can I have a generic Deserializer for Kafka","body":"<p>I am underway a migrational change from a <code>monolithic</code> to <code>micro-services</code> architecture, So we have planned to use <code>Kafka</code> as the broker.</p>\n<p>I have been using the <strong>kafka-client</strong> dependency in my project\nTherefore for every topic I have a different purpose and a different Object being passed onto the broker,\nWhen doing this serialization isn't an issue on the producer front, but when I want to consume I am having to write a Deserializer for every Object separately, Can I have a generic <code>Deserializer</code>? If yes any examples?</p>\n"},{"tags":["java","arrays","lookup-tables"],"comments":[{"owner":{"account_id":924076,"reputation":12260,"user_id":1386111,"accept_rate":88,"display_name":"Alvin Wong"},"score":1,"creation_date":1361974804,"post_id":15114335,"comment_id":21268187,"body_markdown":"A lookup table is a table with two columns (A and B) and many rows, then given a value of A you need to find the corresponding value of B by the table.","body":"A lookup table is a table with two columns (A and B) and many rows, then given a value of A you need to find the corresponding value of B by the table."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1361974812,"post_id":15114335,"comment_id":21268191,"body_markdown":"Have you investigated `HashMap` from java `Collections` library.","body":"Have you investigated <code>HashMap</code> from java <code>Collections</code> library."},{"owner":{"account_id":2155022,"reputation":215,"user_id":1910471,"accept_rate":56,"display_name":"Garrett Outlaw"},"score":0,"creation_date":1361974912,"post_id":15114335,"comment_id":21268255,"body_markdown":"We have not gotten into Hash yet. He mentioned it once but that was it. He told us we would get into Hash later.","body":"We have not gotten into Hash yet. He mentioned it once but that was it. He told us we would get into Hash later."}],"answers":[{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1361975092,"creation_date":1361974789,"answer_id":15114370,"question_id":15114335,"body_markdown":"You can use a map to store key/value pairs and lookup a value by it&#39;s key:\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(1, &quot;Foo&quot;);\r\n    map.put(2, &quot;Bar&quot;);\r\n    System.out.println(map.get(1)); // prints Foo","title":"Lookup Tables in Java?","body":"<p>You can use a map to store key/value pairs and lookup a value by it's key:</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\nmap.put(1, \"Foo\");\nmap.put(2, \"Bar\");\nSystem.out.println(map.get(1)); // prints Foo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361974941,"creation_date":1361974941,"answer_id":15114428,"question_id":15114335,"body_markdown":"If you&#39;re supposed to be using Arrays, it&#39;s nice and simple.\r\n\r\n    int[] numbers = new int[5] // Initialise a new array with 5 &quot;spaces&quot;.\r\n    for(int x = 0; x &lt; 5; x++)\r\n    {\r\n        numbers[x] = x;\r\n        // This will populate the array with 0,1,2,3 and 4.\r\n    }\r\n\r\nNow to access one of these numbers, you use it&#39;s index. ie\r\n\r\n    int value = numbers[3]; // Will return 3.\r\n\r\nSo you&#39;ve access the value in the array by using it&#39;s index as the &quot;key&quot;.","title":"Lookup Tables in Java?","body":"<p>If you're supposed to be using Arrays, it's nice and simple.</p>\n\n<pre><code>int[] numbers = new int[5] // Initialise a new array with 5 \"spaces\".\nfor(int x = 0; x &lt; 5; x++)\n{\n    numbers[x] = x;\n    // This will populate the array with 0,1,2,3 and 4.\n}\n</code></pre>\n\n<p>Now to access one of these numbers, you use it's index. ie</p>\n\n<pre><code>int value = numbers[3]; // Will return 3.\n</code></pre>\n\n<p>So you've access the value in the array by using it's index as the \"key\".</p>\n"},{"tags":[],"owner":{"account_id":3312437,"reputation":71,"user_id":4717934,"display_name":"Kelly Alexander Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480075097,"creation_date":1480075097,"answer_id":40804554,"question_id":15114335,"body_markdown":"In my understanding a lookup table is a way to get the &quot;value&quot; with a given &quot;key&quot; it is much faster than iterative searching: ie: \r\n\r\n    for(int x=0; x &lt; 10; x++){\r\n        if( x == n ) {\r\n            return x;\r\n        }\r\n    }\r\n\r\nthis would have to search (at best) 1/2 of 10 to find the matched value of &quot;n&quot;. With a &quot;lookupTable&quot; you go directly to the value you need without iterating by using it&#39;s &quot;key&quot;.\r\n\r\nSay you were looking to find the Java variable type for a given mySql datatype. You could use a Map.\r\n\r\n    Map&lt;String, String&gt; lookUpTable = new Map&lt;&gt;();\r\n    lookUpTable.put( &quot;VARCHAR&quot;, &quot;String&quot; );\r\n\r\nThen you could find the conversion value for a &quot;VARCHAR&quot; data type in Java, it would be \r\n\r\n    lookUpTable.get(&quot;VARCHAR&quot;); // This would give you &quot;String&quot;.\r\n","title":"Lookup Tables in Java?","body":"<p>In my understanding a lookup table is a way to get the \"value\" with a given \"key\" it is much faster than iterative searching: ie: </p>\n\n<pre><code>for(int x=0; x &lt; 10; x++){\n    if( x == n ) {\n        return x;\n    }\n}\n</code></pre>\n\n<p>this would have to search (at best) 1/2 of 10 to find the matched value of \"n\". With a \"lookupTable\" you go directly to the value you need without iterating by using it's \"key\".</p>\n\n<p>Say you were looking to find the Java variable type for a given mySql datatype. You could use a Map.</p>\n\n<pre><code>Map&lt;String, String&gt; lookUpTable = new Map&lt;&gt;();\nlookUpTable.put( \"VARCHAR\", \"String\" );\n</code></pre>\n\n<p>Then you could find the conversion value for a \"VARCHAR\" data type in Java, it would be </p>\n\n<pre><code>lookUpTable.get(\"VARCHAR\"); // This would give you \"String\".\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049071,"reputation":2638,"user_id":7429425,"display_name":"stanimirsp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646309019,"creation_date":1646309019,"answer_id":71336906,"question_id":15114335,"body_markdown":"I know it has been a long time since you asked the question and I&#39;m sure you did your assignment successfully. However, I&#39;m sharing my answer with everyone who, like me is wondering what a `lookup table` is.\r\n\r\n### `Lookup table` it&#39;s just an array. ###\r\n\r\nLookup table (Array) it&#39;s extremely fast in delivering the data we need [O(1)][1]. Imagine it&#39;s like a two-column table. In the first column are keys/indexes and in the second are values/data. We can directly access that data we need by *index*. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Big_O_notation#Orders_of_common_functions","title":"Lookup Tables in Java?","body":"<p>I know it has been a long time since you asked the question and I'm sure you did your assignment successfully. However, I'm sharing my answer with everyone who, like me is wondering what a <code>lookup table</code> is.</p>\n<h3><code>Lookup table</code> it's just an array.</h3>\n<p>Lookup table (Array) it's extremely fast in delivering the data we need <a href=\"https://en.wikipedia.org/wiki/Big_O_notation#Orders_of_common_functions\" rel=\"nofollow noreferrer\">O(1)</a>. Imagine it's like a two-column table. In the first column are keys/indexes and in the second are values/data. We can directly access that data we need by <em>index</em>.</p>\n"}],"owner":{"account_id":2155022,"reputation":215,"user_id":1910471,"accept_rate":56,"display_name":"Garrett Outlaw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40975,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":4,"score":5,"last_activity_date":1646309019,"creation_date":1361974669,"question_id":15114335,"body_markdown":"In my Computer Science course, we&#39;re learning about Lookup Tables. But our teacher did not provide any examples in the lesson pages he has posted, nor the videos he provided. All he did was tell us what it was but he wants us to use them in our next assignment. But he has failed to give us examples of how to do it. We were learning about Arrays before we got into Lookup Tables. Can someone\r\n\r\n 1. Tell me what a Lookup Table is? (Lots of details please?)\r\n 2. Provide some examples of a Lookup Table? We&#39;re supposed to use Arrays?","title":"Lookup Tables in Java?","body":"<p>In my Computer Science course, we're learning about Lookup Tables. But our teacher did not provide any examples in the lesson pages he has posted, nor the videos he provided. All he did was tell us what it was but he wants us to use them in our next assignment. But he has failed to give us examples of how to do it. We were learning about Arrays before we got into Lookup Tables. Can someone</p>\n\n<ol>\n<li>Tell me what a Lookup Table is? (Lots of details please?)</li>\n<li>Provide some examples of a Lookup Table? We're supposed to use Arrays?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16120775,"reputation":333,"user_id":11636798,"display_name":"coder-coder"},"score":0,"creation_date":1586531863,"post_id":61143177,"comment_id":108168321,"body_markdown":"If data is received from the file (as you wrote), you can use `nextLine()` - it will be more useful.","body":"If data is received from the file (as you wrote), you can use <code>nextLine()</code> - it will be more useful."},{"owner":{"account_id":16120775,"reputation":333,"user_id":11636798,"display_name":"coder-coder"},"score":1,"creation_date":1586531972,"post_id":61143177,"comment_id":108168376,"body_markdown":"Could you elaborate on what exactly are you struggling with?","body":"Could you elaborate on what exactly are you struggling with?"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":1,"creation_date":1586532310,"post_id":61143177,"comment_id":108168554,"body_markdown":"Are the column headings actually in the text file? If yes, read (and discard) them with `input.nextLine();` before you start trying to read the &quot;real&quot; data.","body":"Are the column headings actually in the text file? If yes, read (and discard) them with <code>input.nextLine();</code> before you start trying to read the &quot;real&quot; data."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1586542417,"post_id":61143177,"comment_id":108173584,"body_markdown":"You need to focus on one problem at a time - it appears you might have multiple bugs, and you should try to solve them one at a time instead of all at once, including asking a question about just one at a time (after diligent research on your own on each first).  For example, can you successfully handle a Ticket with just `name` and none of the rest of the fields yet?","body":"You need to focus on one problem at a time - it appears you might have multiple bugs, and you should try to solve them one at a time instead of all at once, including asking a question about just one at a time (after diligent research on your own on each first).  For example, can you successfully handle a Ticket with just <code>name</code> and none of the rest of the fields yet?"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1586543134,"post_id":61143177,"comment_id":108173936,"body_markdown":"See https://ericlippert.com/2014/03/05/how-to-debug-small-programs/","body":"See <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}],"answers":[{"tags":[],"owner":{"account_id":7254047,"reputation":467,"user_id":5533359,"accept_rate":67,"display_name":"HMD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586532967,"creation_date":1586532967,"answer_id":61143630,"question_id":61143177,"body_markdown":"First of all try to separate values by comma &quot;,&quot; and convert the file format to `CSV`. This will fix the multi-word values problem.\r\n\r\nThen read this [answer][1] for the steps you should take.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61143464/5533359","title":"Read the Ticket data from a text file","body":"<p>First of all try to separate values by comma \",\" and convert the file format to <code>CSV</code>. This will fix the multi-word values problem.</p>\n\n<p>Then read this <a href=\"https://stackoverflow.com/a/61143464/5533359\">answer</a> for the steps you should take.</p>\n"}],"owner":{"account_id":17862671,"reputation":53,"user_id":12975794,"display_name":"Sean Mcavoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61143630,"answer_count":1,"score":0,"last_activity_date":1646308827,"creation_date":1586531301,"question_id":61143177,"body_markdown":"I need to store a list of information (Lotto Ticket information example Name, Address, Phone number and chosen number) in a *.txt* file and convert it into java and create the ticket object from this information.\r\n\r\nBest way to do this, I found was was using a string[] splitter and pharses as needed\r\n","title":"Read the Ticket data from a text file","body":"<p>I need to store a list of information (Lotto Ticket information example Name, Address, Phone number and chosen number) in a <em>.txt</em> file and convert it into java and create the ticket object from this information.</p>\n<p>Best way to do this, I found was was using a string[] splitter and pharses as needed</p>\n"},{"tags":["java","android","kotlin","floating-point","precision"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1646243965,"post_id":71326811,"comment_id":126077303,"body_markdown":"see `Math.nextDown()` (or similar) - float (or double) have a *precision* (see `Math.ulp()`) - MIN_VALUE is probably too small for the used numbers (e.g. for `1.0f` the *ulp* is about `1.19E-7` while MIN_VALUE is `1.4E-45`)","body":"see <code>Math.nextDown()</code> (or similar) - float (or double) have a <i>precision</i> (see <code>Math.ulp()</code>) - MIN_VALUE is probably too small for the used numbers (e.g. for <code>1.0f</code> the <i>ulp</i> is about <code>1.19E-7</code> while MIN_VALUE is <code>1.4E-45</code>)"},{"owner":{"account_id":9018200,"reputation":529,"user_id":6720177,"display_name":"or_dvir"},"score":0,"creation_date":1646295507,"post_id":71326811,"comment_id":126089084,"body_markdown":"@user16320675 I&#39;m afraid I dont really understand what you mean by your first comment. would you please elaborate in more detail?\nAlso, I dont understand why my assumption is wrong. while there are definitely A LOT of options, it is a finite number. If I can have a float that represents 0.000.....00145 (Float.MIN_VALUE), why cant i have a float that represents 1.0000.......0000145?","body":"@user16320675 I&#39;m afraid I dont really understand what you mean by your first comment. would you please elaborate in more detail? Also, I dont understand why my assumption is wrong. while there are definitely A LOT of options, it is a finite number. If I can have a float that represents 0.000.....00145 (Float.MIN_VALUE), why cant i have a float that represents 1.0000.......0000145?"},{"owner":{"account_id":9018200,"reputation":529,"user_id":6720177,"display_name":"or_dvir"},"score":0,"creation_date":1646297330,"post_id":71326811,"comment_id":126089658,"body_markdown":"@user16320675 if i do `1f.nextDown` i get `0.99999994`. why is that? why is it only 8 decimal points? how can i get 10 decimal points? or 20?","body":"@user16320675 if i do <code>1f.nextDown</code> i get <code>0.99999994</code>. why is that? why is it only 8 decimal points? how can i get 10 decimal points? or 20?"},{"owner":{"account_id":9018200,"reputation":529,"user_id":6720177,"display_name":"or_dvir"},"score":0,"creation_date":1646298088,"post_id":71326811,"comment_id":126089938,"body_markdown":"@user16320675 so if i can only represent floating numbers that have 10 characters, including the &quot;.&quot; (because `1f.nextDown` has 10 characters), how is it possible that Float.MIN_VALUE exists and i can assign it to a variable? is has much more than 10 characters","body":"@user16320675 so if i can only represent floating numbers that have 10 characters, including the &quot;.&quot; (because <code>1f.nextDown</code> has 10 characters), how is it possible that Float.MIN_VALUE exists and i can assign it to a variable? is has much more than 10 characters"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646308646,"creation_date":1646244839,"answer_id":71327353,"question_id":71326811,"body_markdown":"&gt; Since `currentPayment` is a `Float`, I would expect it should be able to hold **any** floating point value within the bounds of `Float` to it&#39;s maximum precision (i.e. `Float.MIN_VALUE`). \r\n\r\nThis is a wrong assumption. Float is called &quot;float&quot; because it has floating precision. The amount of precision depends on how big the number is that you&#39;re storing. The smallest possible float value is smaller than the precision of almost any other possible number, so it is too small to affect them if you add or subtract it. At the high end, Float numbers have precisions that are much greater than the integer 1. If you subtract 999,000,000 from `Float.MAX_VALUE`, it will still return `Float.MAX_VALUE` because the precision is so poor at the highest end.\r\n\r\nAlso, since floating point numbers are not stored in base-10, they are inappropriate for storing currency amounts, because you can never exactly represent a decimal fraction. (I mention that because your variable name has the word &quot;payment&quot; in it, which is a red flag.)\r\n\r\nYou should either use BigDecimal, Long, or Int to represent currency, so your currency amounts and arithmetic will be exact.\r\n\r\n----\r\nEdit:\r\nHere&#39;s an analogy to help understand it, since it is hard to contemplate binary numbers. Floats are 32-bits in Java and Kotlin, but imagine we have a special kind of computer that can store a floating point number in base-10. Each bit on this computer is not just 0 or 1, but can be anything from 0 to 9. A Float on this computer can have 4 digits and a decimal place, but the decimal place is floating, so it can be placed anywhere relative to the four digits. So a Float on this computer is always five bits--four of the bits are the digits, and the fifth bit tells you where the decimal place goes.\r\n\r\nIn this imaginary computer&#39;s Float, the smallest possible number that can be represented is `.0001` and the largest possible number is `9999.`. You can&#39;t represent `9999.5` or even `1000.5` because there aren&#39;t enough digits available. There&#39;s no fixed amount of precision--the precision is determined by where the decimal place is in the current number. Precision is better for numbers with a decimal place farther to the left.\r\n\r\nFor the number storage format to be able to have a *fixed* precision, we would have to fix the decimal point in one place for all numbers. We would have to choose a precision. Suppose we chose a precision of `0.001`. Our fifth bit that told us where the decimal place goes in the floating point can now just be used for a fifth digit. Now we know the precision is **always** `0.001`, but the largest possible number we can represent is `99.999` and the smallest possible number is `0.001`, a much smaller possible range than with floating point. This limitation is the reason floating points are used instead.\r\n","title":"subtracting Float.MIN_VALUE from another float number has no effect in android application","body":"<blockquote>\n<p>Since <code>currentPayment</code> is a <code>Float</code>, I would expect it should be able to hold <strong>any</strong> floating point value within the bounds of <code>Float</code> to it's maximum precision (i.e. <code>Float.MIN_VALUE</code>).</p>\n</blockquote>\n<p>This is a wrong assumption. Float is called &quot;float&quot; because it has floating precision. The amount of precision depends on how big the number is that you're storing. The smallest possible float value is smaller than the precision of almost any other possible number, so it is too small to affect them if you add or subtract it. At the high end, Float numbers have precisions that are much greater than the integer 1. If you subtract 999,000,000 from <code>Float.MAX_VALUE</code>, it will still return <code>Float.MAX_VALUE</code> because the precision is so poor at the highest end.</p>\n<p>Also, since floating point numbers are not stored in base-10, they are inappropriate for storing currency amounts, because you can never exactly represent a decimal fraction. (I mention that because your variable name has the word &quot;payment&quot; in it, which is a red flag.)</p>\n<p>You should either use BigDecimal, Long, or Int to represent currency, so your currency amounts and arithmetic will be exact.</p>\n<hr />\n<p>Edit:\nHere's an analogy to help understand it, since it is hard to contemplate binary numbers. Floats are 32-bits in Java and Kotlin, but imagine we have a special kind of computer that can store a floating point number in base-10. Each bit on this computer is not just 0 or 1, but can be anything from 0 to 9. A Float on this computer can have 4 digits and a decimal place, but the decimal place is floating, so it can be placed anywhere relative to the four digits. So a Float on this computer is always five bits--four of the bits are the digits, and the fifth bit tells you where the decimal place goes.</p>\n<p>In this imaginary computer's Float, the smallest possible number that can be represented is <code>.0001</code> and the largest possible number is <code>9999.</code>. You can't represent <code>9999.5</code> or even <code>1000.5</code> because there aren't enough digits available. There's no fixed amount of precision--the precision is determined by where the decimal place is in the current number. Precision is better for numbers with a decimal place farther to the left.</p>\n<p>For the number storage format to be able to have a <em>fixed</em> precision, we would have to fix the decimal point in one place for all numbers. We would have to choose a precision. Suppose we chose a precision of <code>0.001</code>. Our fifth bit that told us where the decimal place goes in the floating point can now just be used for a fifth digit. Now we know the precision is <strong>always</strong> <code>0.001</code>, but the largest possible number we can represent is <code>99.999</code> and the smallest possible number is <code>0.001</code>, a much smaller possible range than with floating point. This limitation is the reason floating points are used instead.</p>\n"}],"owner":{"account_id":9018200,"reputation":529,"user_id":6720177,"display_name":"or_dvir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71327353,"answer_count":1,"score":0,"last_activity_date":1646308646,"creation_date":1646242128,"question_id":71326811,"body_markdown":"I am working on an android application where for a part of the app, I have 2 floating point values and I cannot have them be exactly the same because this is causing a bug in one of my screens. Those numbers are being sent from a server and are out of my control (e.g. I cannot force them to be different).\r\n\r\nThe app is written in Kotlin, but I assume that this issue is similar (if not exactly the same) for Java, as Kotlin uses the JVM behind the scenes.\r\n\r\nI thought of a &quot;creative&quot; way of solving this without changing my logic too much, by subtracting `Float.MIN_VALUE` from one of them, making them **almost, but not exactly** the same. What I actually need to happen is for `if(a == b)` to fail (where `b` is actually `a - Float.MIN_VALUE`).\r\n\r\nBut to my surprise, when the code runs, `if(a == b)` returns `true`. When I opened the &quot;evaluate&quot; window in Android Studio here is what I found out:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLet me reiterate that `currentPayment` is a `Float`, so there shouldn&#39;t be any auto-conversions or rounding going on (like when dividing `Float` by an `Int` for example).\r\n\r\nLet me also point out that I can guarantee that `currentPayment` is not \r\n`Float.MAX_VALUE` or `-Float.MAX_VALUE` (so the result of the operation is within the bounds of `Float`).\r\n\r\nAccording to docs and [this answer][2] `Float.MIN_VALUE` is the smallest positive non-zero value of `Float` and has a value of `1.4E-45`, which is confirmed here:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI also saw in another post (which I cannot find again for some reason), that this can also be thought of as the maximum precision of `Float`, which makes sense.\r\n\r\nSince `currentPayment` is a `Float`, I would expect it should be able to hold **any** floating point value within the bounds of `Float` to it&#39;s maximum precision (i.e. `Float.MIN_VALUE`). \r\nTherefore I would expect `currentPayment` to **NOT** equal `currentPayment - Float.MIN_VALUE`, but alas that is not the case.\r\n\r\n\r\nCan anyone explain this please?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M8LYw.png\r\n  [2]: https://stackoverflow.com/questions/56316499/min-and-max-values-of-float-and-double-types-in-kotlin#answer-56316624\r\n  [3]: https://i.stack.imgur.com/IRohm.png","title":"subtracting Float.MIN_VALUE from another float number has no effect in android application","body":"<p>I am working on an android application where for a part of the app, I have 2 floating point values and I cannot have them be exactly the same because this is causing a bug in one of my screens. Those numbers are being sent from a server and are out of my control (e.g. I cannot force them to be different).</p>\n<p>The app is written in Kotlin, but I assume that this issue is similar (if not exactly the same) for Java, as Kotlin uses the JVM behind the scenes.</p>\n<p>I thought of a &quot;creative&quot; way of solving this without changing my logic too much, by subtracting <code>Float.MIN_VALUE</code> from one of them, making them <strong>almost, but not exactly</strong> the same. What I actually need to happen is for <code>if(a == b)</code> to fail (where <code>b</code> is actually <code>a - Float.MIN_VALUE</code>).</p>\n<p>But to my surprise, when the code runs, <code>if(a == b)</code> returns <code>true</code>. When I opened the &quot;evaluate&quot; window in Android Studio here is what I found out:</p>\n<p><a href=\"https://i.stack.imgur.com/M8LYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M8LYw.png\" alt=\"enter image description here\" /></a></p>\n<p>Let me reiterate that <code>currentPayment</code> is a <code>Float</code>, so there shouldn't be any auto-conversions or rounding going on (like when dividing <code>Float</code> by an <code>Int</code> for example).</p>\n<p>Let me also point out that I can guarantee that <code>currentPayment</code> is not\n<code>Float.MAX_VALUE</code> or <code>-Float.MAX_VALUE</code> (so the result of the operation is within the bounds of <code>Float</code>).</p>\n<p>According to docs and <a href=\"https://stackoverflow.com/questions/56316499/min-and-max-values-of-float-and-double-types-in-kotlin#answer-56316624\">this answer</a> <code>Float.MIN_VALUE</code> is the smallest positive non-zero value of <code>Float</code> and has a value of <code>1.4E-45</code>, which is confirmed here:</p>\n<p><a href=\"https://i.stack.imgur.com/IRohm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IRohm.png\" alt=\"enter image description here\" /></a></p>\n<p>I also saw in another post (which I cannot find again for some reason), that this can also be thought of as the maximum precision of <code>Float</code>, which makes sense.</p>\n<p>Since <code>currentPayment</code> is a <code>Float</code>, I would expect it should be able to hold <strong>any</strong> floating point value within the bounds of <code>Float</code> to it's maximum precision (i.e. <code>Float.MIN_VALUE</code>).\nTherefore I would expect <code>currentPayment</code> to <strong>NOT</strong> equal <code>currentPayment - Float.MIN_VALUE</code>, but alas that is not the case.</p>\n<p>Can anyone explain this please?</p>\n"},{"tags":["java","zip","zipinputstream"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1618770625,"post_id":67148268,"comment_id":118697473,"body_markdown":"Does it work if you copy manually to a local file?","body":"Does it work if you copy manually to a local file?"},{"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"score":0,"creation_date":1618938250,"post_id":67148268,"comment_id":118752536,"body_markdown":"Yes sure. It does work when doing it manually.","body":"Yes sure. It does work when doing it manually."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1619005422,"post_id":67148268,"comment_id":118772989,"body_markdown":"Does your code work if applied to a local file?","body":"Does your code work if applied to a local file?"},{"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"score":0,"creation_date":1646308328,"post_id":67148268,"comment_id":126093535,"body_markdown":"I solved the issue by using ZipFile()","body":"I solved the issue by using ZipFile()"}],"answers":[{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646308486,"creation_date":1646308486,"answer_id":71336777,"question_id":67148268,"body_markdown":"I solved it by using FileZip():\r\n\r\n\r\n            ZipFile zipFile = new ZipFile(new File(zipPath));\r\n            List&lt;String&gt; filesList = new ArrayList&lt;&gt;();\r\n            Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\r\n            ZipEntry entry = null;\r\n            \r\n            StringBuilder out = null;\r\n            while (entries.hasMoreElements()) {\r\n                entry = entries.nextElement();\r\n               \r\n                if (FilenameUtils.getName(entry.getName()).contains(partOfFileName)) {\r\n                    out = getTxtFiles(zipFile.getInputStream(entry));\r\n                    LogUtil.logServer(out.toString());\r\n\r\n                    return out.toString();\r\n                }\r\n            }","title":"Reading remote zip file using apache.commons.compress.archivers.zip","body":"<p>I solved it by using FileZip():</p>\n<pre><code>        ZipFile zipFile = new ZipFile(new File(zipPath));\n        List&lt;String&gt; filesList = new ArrayList&lt;&gt;();\n        Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\n        ZipEntry entry = null;\n        \n        StringBuilder out = null;\n        while (entries.hasMoreElements()) {\n            entry = entries.nextElement();\n           \n            if (FilenameUtils.getName(entry.getName()).contains(partOfFileName)) {\n                out = getTxtFiles(zipFile.getInputStream(entry));\n                LogUtil.logServer(out.toString());\n\n                return out.toString();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646308486,"creation_date":1618747220,"question_id":67148268,"body_markdown":"I am trying to read a remote zip file (created with [IONIC vendor][1]) but I need to use apache.commons.compress.archivers.zip in order to achieve it with java only. \r\n\r\nI already tried using java.util.zip ZipInputStream but without success (for regular zip file it works but not for [IONIC zip files][1]). \r\n\r\nthe code I have tried: \r\n\r\n    \r\n      public static String read(String zipPath, String partOfFileName) throws IOException {\r\n        URL url = new URL(zipPath);\r\n        InputStream in = new BufferedInputStream(url.openStream(), 1024);\r\n        ZipInputStream stream = new ZipInputStream(in);\r\n        ZipEntry entry;\r\n\r\n        while ((entry = stream.getNextEntry()) != null) {\r\n                if (FilenameUtils.getName(entry.getName()).contains(partOfFileName)) {\r\n                    StringBuilder out = getTxtFiles(stream);\r\n                    return out.toString();\r\n                }\r\n        }\r\n\r\n        return zipPath;\r\n    }\r\n\r\n    private static StringBuilder getTxtFiles(InputStream in) {\r\n        StringBuilder out = new StringBuilder();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n        String line;\r\n        try {\r\n            while ((line = reader.readLine()) != null) {\r\n                out.append(line);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return out;\r\n      }\r\n    }\r\n\r\n\r\nAny help will be appreciated. \r\n\r\n  [1]: https://www.nuget.org/packages/Ionic.Zip/","title":"Reading remote zip file using apache.commons.compress.archivers.zip","body":"<p>I am trying to read a remote zip file (created with <a href=\"https://www.nuget.org/packages/Ionic.Zip/\" rel=\"nofollow noreferrer\">IONIC vendor</a>) but I need to use apache.commons.compress.archivers.zip in order to achieve it with java only.</p>\n<p>I already tried using java.util.zip ZipInputStream but without success (for regular zip file it works but not for <a href=\"https://www.nuget.org/packages/Ionic.Zip/\" rel=\"nofollow noreferrer\">IONIC zip files</a>).</p>\n<p>the code I have tried:</p>\n<pre><code>  public static String read(String zipPath, String partOfFileName) throws IOException {\n    URL url = new URL(zipPath);\n    InputStream in = new BufferedInputStream(url.openStream(), 1024);\n    ZipInputStream stream = new ZipInputStream(in);\n    ZipEntry entry;\n\n    while ((entry = stream.getNextEntry()) != null) {\n            if (FilenameUtils.getName(entry.getName()).contains(partOfFileName)) {\n                StringBuilder out = getTxtFiles(stream);\n                return out.toString();\n            }\n    }\n\n    return zipPath;\n}\n\nprivate static StringBuilder getTxtFiles(InputStream in) {\n    StringBuilder out = new StringBuilder();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n    String line;\n    try {\n        while ((line = reader.readLine()) != null) {\n            out.append(line);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return out;\n  }\n}\n</code></pre>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","ff4j"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1646307846,"post_id":71336385,"comment_id":126093361,"body_markdown":"Do you only want to remove them from the API documentation, or disable the endpoints completely?","body":"Do you only want to remove them from the API documentation, or disable the endpoints completely?"},{"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"score":0,"creation_date":1646308158,"post_id":71336385,"comment_id":126093472,"body_markdown":"from the api documentation","body":"from the api documentation"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646308069,"creation_date":1646307741,"answer_id":71336591,"question_id":71336385,"body_markdown":"If you are using SpringDoc:\r\n\r\n    springdoc.packages-to-exclude=com.unwantedPackage\r\n\r\nIf you are using SpringFox:\r\n\r\n        @Bean\r\n        public Docket productApi() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select().paths(Predicate.not(PathSelectors.regex(&quot;/api/ff4j/store.*&quot;)).apis(RequestHandlerSelectors.basePackage(&quot;com.package.controller&quot;))\r\n                    .paths(PathSelectors.any())\r\n                    .build().apiInfo(apiInfo());\r\n        \r\n\r\nhttps://stackoverflow.com/questions/32941917/remove-basic-error-controller-in-springfox-swaggerui\r\n","title":"Remove resources automatically added by FF4J","body":"<p>If you are using SpringDoc:</p>\n<pre><code>springdoc.packages-to-exclude=com.unwantedPackage\n</code></pre>\n<p>If you are using SpringFox:</p>\n<pre><code>    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select().paths(Predicate.not(PathSelectors.regex(&quot;/api/ff4j/store.*&quot;)).apis(RequestHandlerSelectors.basePackage(&quot;com.package.controller&quot;))\n                .paths(PathSelectors.any())\n                .build().apiInfo(apiInfo());\n    \n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/32941917/remove-basic-error-controller-in-springfox-swaggerui\">Remove Basic Error Controller In SpringFox SwaggerUI</a></p>\n"}],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646308069,"creation_date":1646306765,"question_id":71336385,"body_markdown":"recently i have added FF4j dependency on my application, after that new resource end points have appeared in my swagger ui, is there any way to disable these end points?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EWsMz.png\r\n\r\n\r\nthe dependency add was \r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.ff4j&lt;/groupId&gt;\r\n &lt;artifactId&gt;ff4j-spring-boot-starter&lt;/artifactId&gt;\r\n &lt;version&gt;${ff4j.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n```","title":"Remove resources automatically added by FF4J","body":"<p>recently i have added FF4j dependency on my application, after that new resource end points have appeared in my swagger ui, is there any way to disable these end points?</p>\n<p><a href=\"https://i.stack.imgur.com/EWsMz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EWsMz.png\" alt=\"enter image description here\" /></a></p>\n<p>the dependency add was</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.ff4j&lt;/groupId&gt;\n &lt;artifactId&gt;ff4j-spring-boot-starter&lt;/artifactId&gt;\n &lt;version&gt;${ff4j.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n</code></pre>\n"},{"tags":["java","okhttp"],"comments":[{"owner":{"account_id":8511542,"reputation":396,"user_id":6381424,"display_name":"Adm123"},"score":0,"creation_date":1646289329,"post_id":71332492,"comment_id":126087497,"body_markdown":"`The Domain attribute specifies which hosts can receive a cookie. If unspecified, the attribute defaults to the same host that set the cookie, excluding subdomains.` - see https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies Host can&#39;t starts from &#39;.&#39;","body":"<code>The Domain attribute specifies which hosts can receive a cookie. If unspecified, the attribute defaults to the same host that set the cookie, excluding subdomains.</code> - see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Cookies</a> Host can&#39;t starts from &#39;.&#39;"}],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646307943,"creation_date":1646307943,"answer_id":71336642,"question_id":71332492,"body_markdown":"You can omit the leading `.` without a change in behavior. From [RFC 6265](https://datatracker.ietf.org/doc/html/rfc6265#section-5.2.3):\r\n\r\n&gt; If the first character of the attribute-value string is %x2E (&quot;.&quot;):\r\n&gt; \r\n&gt;       Let cookie-domain be the attribute-value without the leading %x2E\r\n   ","title":"OkHttp 3 how to create cookie domain start with &#39;.&#39;","body":"<p>You can omit the leading <code>.</code> without a change in behavior. From <a href=\"https://datatracker.ietf.org/doc/html/rfc6265#section-5.2.3\" rel=\"nofollow noreferrer\">RFC 6265</a>:</p>\n<blockquote>\n<p>If the first character of the attribute-value string is %x2E (&quot;.&quot;):</p>\n<pre><code>  Let cookie-domain be the attribute-value without the leading %x2E\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":23223021,"reputation":11,"user_id":17314907,"display_name":"fgxfhb ggvkf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646307943,"creation_date":1646285404,"question_id":71332492,"body_markdown":"I am using okhttp 3 create cookie\r\n```\r\nvar c1 = new Cookie.Builder()\r\n    .path(&quot;/&quot;)\r\n    .domain(&quot;.test.org&quot;)\r\n    .name(&quot;cookie-name&quot;)\r\n    .value(&quot;cookie-value&quot;)\r\n    .httpOnly().secure().build();\r\n```\r\nAn exception occurred \r\n\r\n&quot;java.lang.IllegalArgumentException:unexpected domain: .test.org&quot; in\r\n```.domain(&quot;.test.org&quot;)```\r\n\r\nwhat should I do to create the domain in the cookie is the first character is &#39;.&#39; \r\n\r\n","title":"OkHttp 3 how to create cookie domain start with &#39;.&#39;","body":"<p>I am using okhttp 3 create cookie</p>\n<pre><code>var c1 = new Cookie.Builder()\n    .path(&quot;/&quot;)\n    .domain(&quot;.test.org&quot;)\n    .name(&quot;cookie-name&quot;)\n    .value(&quot;cookie-value&quot;)\n    .httpOnly().secure().build();\n</code></pre>\n<p>An exception occurred</p>\n<p>&quot;java.lang.IllegalArgumentException:unexpected domain: .test.org&quot; in\n<code>.domain(&quot;.test.org&quot;)</code></p>\n<p>what should I do to create the domain in the cookie is the first character is '.'</p>\n"},{"tags":["java","spring-boot","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646302755,"creation_date":1646302755,"answer_id":71335480,"question_id":71322884,"body_markdown":"I am not quite sure that I understand correctly what is &#39;service&#39; in your terms. But definitely, the best practice is to have separate jobs, and that way you can create triggers, cron expressions, etc., for each of them.\r\n\r\nIf you create only one job then you can have only one trigger and specify only one cron expression.","title":"Spring Boot Quartz scheduler","body":"<p>I am not quite sure that I understand correctly what is 'service' in your terms. But definitely, the best practice is to have separate jobs, and that way you can create triggers, cron expressions, etc., for each of them.</p>\n<p>If you create only one job then you can have only one trigger and specify only one cron expression.</p>\n"},{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646307774,"creation_date":1646307774,"answer_id":71336601,"question_id":71322884,"body_markdown":"The challenge would be if you have to trigger 2 jobs simultaneously, in that case you would have to maintain an order, otherwise if your jobs require running at different times then you can use a unique trigger instance everytime..\r\n\r\nex.\r\n\r\n```\r\nschedulerInstance.scheduleJob( newTrigger )\r\n```\r\n","title":"Spring Boot Quartz scheduler","body":"<p>The challenge would be if you have to trigger 2 jobs simultaneously, in that case you would have to maintain an order, otherwise if your jobs require running at different times then you can use a unique trigger instance everytime..</p>\n<p>ex.</p>\n<pre><code>schedulerInstance.scheduleJob( newTrigger )\n</code></pre>\n"}],"owner":{"account_id":3572213,"reputation":1,"user_id":2982258,"display_name":"user2982258"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646307774,"creation_date":1646224904,"question_id":71322884,"body_markdown":"Folks,\r\n\r\nI am trying to implement Spring boot with Quartz Scheduler for scheduling jobs in java.My Manager recommend to use single job with different implementation services for all jobs based on job id.But i am not convincing to have single job for all service implementation.\r\n\r\nPlease guide me to for single job with multiple service class or writing each job for each services.\r\n\r\nThanks in Advance..","title":"Spring Boot Quartz scheduler","body":"<p>Folks,</p>\n<p>I am trying to implement Spring boot with Quartz Scheduler for scheduling jobs in java.My Manager recommend to use single job with different implementation services for all jobs based on job id.But i am not convincing to have single job for all service implementation.</p>\n<p>Please guide me to for single job with multiple service class or writing each job for each services.</p>\n<p>Thanks in Advance..</p>\n"},{"tags":["java","spring","spring-boot","cas","spring-autoconfiguration"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1644571280,"post_id":71077548,"comment_id":125646860,"body_markdown":"Why would you add the dependency if you do not want to use it?  Springboot autowires everything that is a (Dependency) even if you dont have things in the application.properties file.\n\nTherefore if your plan is to have this `org.apereo.cas` dependency, then you must follow tutorials on how to set it up/configure it.  Otherwise, if there is no need for it whatsoever, then simply remove the dependency.","body":"Why would you add the dependency if you do not want to use it?  Springboot autowires everything that is a (Dependency) even if you dont have things in the application.properties file.  Therefore if your plan is to have this <code>org.apereo.cas</code> dependency, then you must follow tutorials on how to set it up/configure it.  Otherwise, if there is no need for it whatsoever, then simply remove the dependency."},{"owner":{"account_id":7135903,"reputation":91,"user_id":5455551,"display_name":"Markus"},"score":0,"creation_date":1644586844,"post_id":71077548,"comment_id":125652457,"body_markdown":"This was just a minimalistic example to show my problem for simplicity sake. There are components used in the production code. Good point with following the tutorial on configuring, I will have a deeper look into that as well.","body":"This was just a minimalistic example to show my problem for simplicity sake. There are components used in the production code. Good point with following the tutorial on configuring, I will have a deeper look into that as well."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644571937,"creation_date":1644571937,"answer_id":71077830,"question_id":71077548,"body_markdown":"Just looked at the sources for this dependency and there are a few configuration files.\r\n\r\n\r\nYou could attempt to exclude the configuration files which you do not want:\r\n\r\nExample:\r\n\r\n    @SpringBootApplication(exclude = {\r\n        CasCoreServicesConfiguration.class, \r\n    })\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eto5s.png\r\n","title":"Dependency prevents component scan in Spring Boot Application","body":"<p>Just looked at the sources for this dependency and there are a few configuration files.</p>\n<p>You could attempt to exclude the configuration files which you do not want:</p>\n<p>Example:</p>\n<pre><code>@SpringBootApplication(exclude = {\n    CasCoreServicesConfiguration.class, \n})\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/eto5s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eto5s.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7135903,"reputation":91,"user_id":5455551,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646307385,"creation_date":1646307385,"answer_id":71336513,"question_id":71077548,"body_markdown":"CAS version 6.4.5 uses Spring 5 like the project itself with Spring Boot version 2.5.9. Spring 5 has added a *component index at compile time* feature which is used by CAS.\r\n\r\nSince the project does not include the auto indexer dependency the components aren&#39;t found at compile time and therefore not present at startup.\r\n\r\nThe solution to this problem is including this dependency in the pom.xml\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.16&lt;/version&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nThis was discussed and answered by other stackoverflow posts. For further details see https://stackoverflow.com/a/48407939\r\n\r\nand\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-scanning-index\r\n\r\n","title":"Dependency prevents component scan in Spring Boot Application","body":"<p>CAS version 6.4.5 uses Spring 5 like the project itself with Spring Boot version 2.5.9. Spring 5 has added a <em>component index at compile time</em> feature which is used by CAS.</p>\n<p>Since the project does not include the auto indexer dependency the components aren't found at compile time and therefore not present at startup.</p>\n<p>The solution to this problem is including this dependency in the pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\n        &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>This was discussed and answered by other stackoverflow posts. For further details see <a href=\"https://stackoverflow.com/a/48407939\">https://stackoverflow.com/a/48407939</a></p>\n<p>and</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-scanning-index\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-scanning-index</a></p>\n"}],"owner":{"account_id":7135903,"reputation":91,"user_id":5455551,"display_name":"Markus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1715,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71336513,"answer_count":2,"score":3,"last_activity_date":1646307385,"creation_date":1644570549,"question_id":71077548,"body_markdown":"I build a minimal example which shows the problem I faced the last days. In short, all dependencies of apereo CAS that I tried prevent my Spring Boot Application from auto configuration or from creating the components and beans. When no CAS dependency is present the application configures as expected. It doesn&#39;t matter whether I use any classes from that dependency or not, just to have the dependency present messes things up.\r\n\r\nI created a demo project with the spring inizializr with Spring Boot version 2.5.9, Java 11, Maven and Spring Web dependency (see below).\r\n\r\nStructure\r\n```\r\ndemo/\r\n├── src/\r\n│   ├── main/\r\n│   │   ├── java/\r\n│   │   │   └── com.example.demo/\r\n│   │   │       ├── beans/\r\n│   │   │       │   ├── BeanComponent.java\r\n│   │   │       │   └── BeanWithoutComponent.java\r\n│   │   │       ├── config/\r\n│   │   │       │   └── DemoConfiguration.java\r\n│   │   │       └── DemoApplication.java\r\n│   │   └── resources/\r\n│   │       ├── static/\r\n│   │       ├── templates/\r\n│   │       └── application.properties\r\n│   └── test/\r\n│       └── java/\r\n│           └── com.example.demo/\r\n│               └── DemoApplicationTests.java\r\n└── pom.xml\r\n```\r\n\r\nDemoApplication.java\r\n```java\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\t@Autowired\r\n\tprivate BeanWithoutComponent beanWithoutComponent;\r\n\r\n\t@Autowired\r\n\tprivate BeanComponent beanComponent;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nBeanComponent.java\r\n```java\r\n@Component\r\n@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)\r\npublic class BeanComponent {\r\n    public BeanComponent() {\r\n        System.out.println(&quot;BeanComponent created&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBeanWithoutComponent.java\r\n```java\r\npublic class BeanWithoutComponent {\r\n    public BeanWithoutComponent() {\r\n        System.out.println(&quot;BeanWithoutComponent created&quot;);\r\n    }\r\n}\r\n```\r\n\r\nDemoConfiguration.java\r\n```\r\n@Configuration\r\npublic class DemoConfiguration {\r\n\r\n    @Bean\r\n    public BeanWithoutComponent beanWithoutComponent() {\r\n        return new BeanWithoutComponent();\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.9&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;cas.version&gt;6.4.5&lt;/cas.version&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apereo.cas&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cas-server-core-services&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cas.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties is empty.\r\n\r\nWhen removing the org.apereo.cas dependency the app starts just fine and the beans are autowired as expected.\r\n\r\nIs there anything that disables Spring Boot autoconfiguration / component scan? I don&#39;t want the dependencies to mess up my own configuration and would like to prevent this behaviour.","title":"Dependency prevents component scan in Spring Boot Application","body":"<p>I build a minimal example which shows the problem I faced the last days. In short, all dependencies of apereo CAS that I tried prevent my Spring Boot Application from auto configuration or from creating the components and beans. When no CAS dependency is present the application configures as expected. It doesn't matter whether I use any classes from that dependency or not, just to have the dependency present messes things up.</p>\n<p>I created a demo project with the spring inizializr with Spring Boot version 2.5.9, Java 11, Maven and Spring Web dependency (see below).</p>\n<p>Structure</p>\n<pre><code>demo/\n├── src/\n│   ├── main/\n│   │   ├── java/\n│   │   │   └── com.example.demo/\n│   │   │       ├── beans/\n│   │   │       │   ├── BeanComponent.java\n│   │   │       │   └── BeanWithoutComponent.java\n│   │   │       ├── config/\n│   │   │       │   └── DemoConfiguration.java\n│   │   │       └── DemoApplication.java\n│   │   └── resources/\n│   │       ├── static/\n│   │       ├── templates/\n│   │       └── application.properties\n│   └── test/\n│       └── java/\n│           └── com.example.demo/\n│               └── DemoApplicationTests.java\n└── pom.xml\n</code></pre>\n<p>DemoApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DemoApplication {\n\n    @Autowired\n    private BeanWithoutComponent beanWithoutComponent;\n\n    @Autowired\n    private BeanComponent beanComponent;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>BeanComponent.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)\npublic class BeanComponent {\n    public BeanComponent() {\n        System.out.println(&quot;BeanComponent created&quot;);\n    }\n}\n</code></pre>\n<p>BeanWithoutComponent.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BeanWithoutComponent {\n    public BeanWithoutComponent() {\n        System.out.println(&quot;BeanWithoutComponent created&quot;);\n    }\n}\n</code></pre>\n<p>DemoConfiguration.java</p>\n<pre><code>@Configuration\npublic class DemoConfiguration {\n\n    @Bean\n    public BeanWithoutComponent beanWithoutComponent() {\n        return new BeanWithoutComponent();\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.9&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;cas.version&gt;6.4.5&lt;/cas.version&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt;\n            &lt;artifactId&gt;cas-server-core-services&lt;/artifactId&gt;\n            &lt;version&gt;${cas.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties is empty.</p>\n<p>When removing the org.apereo.cas dependency the app starts just fine and the beans are autowired as expected.</p>\n<p>Is there anything that disables Spring Boot autoconfiguration / component scan? I don't want the dependencies to mess up my own configuration and would like to prevent this behaviour.</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646299447,"creation_date":1646299447,"answer_id":71334753,"question_id":71334267,"body_markdown":"You could use [`JpaSpecificationExecutor&lt;T&gt;`](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html).\r\n\r\nIn order to use it, you have to extend your repository interface from `JpaSpecificationExecutor&lt;T&gt;`:\r\n\r\n```java\r\npublic interface StudentRepository extends JpaRepository&lt;Student, UUID&gt;, \r\n    JpaSpecificationExecutor&lt;Student&gt; {}\r\n```\r\n\r\nThen you can make a method that generates a specification based on parameters or a filter class.\r\n\r\n```java\r\npublic class StudentSpecification {\r\n    private static Specification&lt;Student&gt; getStudentFilterSpecification(String studentName, String teacherName, String className, String subject) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            Predicate predicate = criteriaBuilder.conjunction();\r\n            // Condition student name.\r\n            if (Objects.nonNull(studentName)) {\r\n                predicate = criteriaBuilder.and(predicate, criteriaBuilder\r\n                        .equal(root.get(&quot;studentName&quot;), studentName));\r\n            }\r\n            // Condition teacher name.\r\n            if (Objects.nonNull(teacherName)) {\r\n                predicate = criteriaBuilder.and(predicate, criteriaBuilder\r\n                        .equal(root.get(&quot;teacherName&quot;), teacherName));\r\n            }\r\n            // Condition class name.\r\n            if (Objects.nonNull(className)) {\r\n                predicate = criteriaBuilder.and(predicate, criteriaBuilder\r\n                        .equal(root.get(&quot;className&quot;), className));\r\n            }\r\n            // Condition subject.\r\n            if (Objects.nonNull(subject)) {\r\n                predicate = criteriaBuilder.and(predicate, criteriaBuilder\r\n                        .equal(root.get(&quot;subject&quot;), subject));\r\n            }\r\n            return predicate;\r\n        };\r\n    }\r\n}\r\n```\r\n**Now you can send search request with specification.**\r\n\r\n```java\r\n@GetMapping(&quot;/globalSearch&quot;)\r\npublic ResponseEntity&lt;String&gt; globalSearch(\r\n        String studentName, String teacherName, String className, String subject)\r\n        throws MyNotFoundException {\r\n    studentRepo.findAll(StudentSpecification\r\n            .getStudentFilterSpecification(studentName, \r\n                    teacherName, className, subject));\r\n}\r\n```\r\n","title":"Global Filter with JPQL Spring","body":"<p>You could use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html\" rel=\"nofollow noreferrer\"><code>JpaSpecificationExecutor&lt;T&gt;</code></a>.</p>\n<p>In order to use it, you have to extend your repository interface from <code>JpaSpecificationExecutor&lt;T&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StudentRepository extends JpaRepository&lt;Student, UUID&gt;, \n    JpaSpecificationExecutor&lt;Student&gt; {}\n</code></pre>\n<p>Then you can make a method that generates a specification based on parameters or a filter class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentSpecification {\n    private static Specification&lt;Student&gt; getStudentFilterSpecification(String studentName, String teacherName, String className, String subject) {\n        return (root, query, criteriaBuilder) -&gt; {\n            Predicate predicate = criteriaBuilder.conjunction();\n            // Condition student name.\n            if (Objects.nonNull(studentName)) {\n                predicate = criteriaBuilder.and(predicate, criteriaBuilder\n                        .equal(root.get(&quot;studentName&quot;), studentName));\n            }\n            // Condition teacher name.\n            if (Objects.nonNull(teacherName)) {\n                predicate = criteriaBuilder.and(predicate, criteriaBuilder\n                        .equal(root.get(&quot;teacherName&quot;), teacherName));\n            }\n            // Condition class name.\n            if (Objects.nonNull(className)) {\n                predicate = criteriaBuilder.and(predicate, criteriaBuilder\n                        .equal(root.get(&quot;className&quot;), className));\n            }\n            // Condition subject.\n            if (Objects.nonNull(subject)) {\n                predicate = criteriaBuilder.and(predicate, criteriaBuilder\n                        .equal(root.get(&quot;subject&quot;), subject));\n            }\n            return predicate;\n        };\n    }\n}\n</code></pre>\n<p><strong>Now you can send search request with specification.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/globalSearch&quot;)\npublic ResponseEntity&lt;String&gt; globalSearch(\n        String studentName, String teacherName, String className, String subject)\n        throws MyNotFoundException {\n    studentRepo.findAll(StudentSpecification\n            .getStudentFilterSpecification(studentName, \n                    teacherName, className, subject));\n}\n</code></pre>\n"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71334753,"answer_count":1,"score":1,"last_activity_date":1646307085,"creation_date":1646297063,"question_id":71334267,"body_markdown":"I&#39;m doing some projects a many them ask to do a global filter, my question is is there any chance to do a global filter without use to many if to check if the user add that filter or no?\r\nhere an example of one of my projects:\r\nin repository I add this code:\r\n\r\n     @Query(&quot;from students s join Class_Room c on s.classRoom.id=c.id join teachers t on t.id=c.id &quot; +\r\n            &quot;where c.name= :className AND t.subject= :subject AND s.name= :name&quot;)\r\n    List&lt;Student&gt; studentClassProf(@Param(&quot;className&quot;) String className, @Param(&quot;subject&quot;) String subject, @Param(&quot;name&quot;) String name);\r\n\r\n    @Query(&quot;from students s join Class_Room c on s.classRoom.id=c.id join teachers t on t.id=c.id &quot; +\r\n            &quot;where c.name= :className AND t.subject= :subject&quot;)\r\n    List&lt;Student&gt; studentClassProf(@Param(&quot;className&quot;) String className, @Param(&quot;subject&quot;) String subject);\r\n\r\nAnd in my controller class I using this:\r\n\r\n     @GetMapping(&quot;/globalSearch&quot;)\r\n    public ResponseEntity&lt;String&gt; globalSearch(String studentName, String teacherName, String className, String subject) throws MyNotFoundException {\r\n        if (studentName != null &amp;&amp; teacherName != null &amp;&amp; className != null &amp;&amp; subject != null) {\r\n            studentRepo.studentClassProf(className, subject, studentName);\r\n        }\r\n        if (studentName == null &amp;&amp; teacherName != null &amp;&amp; className != null &amp;&amp; subject != null) {\r\n            studentRepo.studentClassProf(className, subject);\r\n        }\r\n    ....\r\n\r\nSo what can I do without add a lot of if to check if the field is null or not or I can&#39;t to do nothing to solve and I always have to write a lot of if block?\r\n\r\n","title":"Global Filter with JPQL Spring","body":"<p>I'm doing some projects a many them ask to do a global filter, my question is is there any chance to do a global filter without use to many if to check if the user add that filter or no?\nhere an example of one of my projects:\nin repository I add this code:</p>\n<pre><code> @Query(&quot;from students s join Class_Room c on s.classRoom.id=c.id join teachers t on t.id=c.id &quot; +\n        &quot;where c.name= :className AND t.subject= :subject AND s.name= :name&quot;)\nList&lt;Student&gt; studentClassProf(@Param(&quot;className&quot;) String className, @Param(&quot;subject&quot;) String subject, @Param(&quot;name&quot;) String name);\n\n@Query(&quot;from students s join Class_Room c on s.classRoom.id=c.id join teachers t on t.id=c.id &quot; +\n        &quot;where c.name= :className AND t.subject= :subject&quot;)\nList&lt;Student&gt; studentClassProf(@Param(&quot;className&quot;) String className, @Param(&quot;subject&quot;) String subject);\n</code></pre>\n<p>And in my controller class I using this:</p>\n<pre><code> @GetMapping(&quot;/globalSearch&quot;)\npublic ResponseEntity&lt;String&gt; globalSearch(String studentName, String teacherName, String className, String subject) throws MyNotFoundException {\n    if (studentName != null &amp;&amp; teacherName != null &amp;&amp; className != null &amp;&amp; subject != null) {\n        studentRepo.studentClassProf(className, subject, studentName);\n    }\n    if (studentName == null &amp;&amp; teacherName != null &amp;&amp; className != null &amp;&amp; subject != null) {\n        studentRepo.studentClassProf(className, subject);\n    }\n....\n</code></pre>\n<p>So what can I do without add a lot of if to check if the field is null or not or I can't to do nothing to solve and I always have to write a lot of if block?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6344705,"reputation":855,"user_id":4925616,"display_name":"Gtomika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646304475,"creation_date":1646304475,"answer_id":71335845,"question_id":71335070,"body_markdown":"So you have two `HashMap`s: `appLeadHashMap` and `dataHashMap` and you want to place the seconds into the first as a value?\r\n\r\nWell your `appLeadHashMap` is a `HashMap&lt;String,String&gt;` meaning it will only accept `String` values! It will not accept a `HashMap` value.\r\n\r\nTo make this work modify your `appLeadHashMap` to accept any values:\r\n\r\n    Map&lt;String,Object&gt; appLeadHashMap = new HashMap&lt;&gt;();\r\n\r\nThere is also a nasty bug in your code on this line:\r\n\r\n    appLeadHashMap.put(&quot;data&quot;,dataHashMap.put(&quot;targetId&quot;,targetId));\r\n\r\nHere, you add the result of `put` method into your hash map, and not the `dataHashMap` itself. Looks like you want to add a key-value pair to the inner hash map first, then you want to add it to the our hash map. To do so, use this:\r\n\r\n    Map&lt;String,Object&gt; appLeadHashMap = new HashMap&lt;&gt;();\r\n    appLeadHashMap.put(&quot;bot_Id&quot;, bot_Id);\r\n    appLeadHashMap.put(&quot;curr_id&quot;, curr_id);\r\n    appLeadHashMap.put(&quot;first_name&quot;,&quot;System&quot;);\r\n    appLeadHashMap.put(&quot;last_name&quot;,&quot;Message&quot;);\r\n    appLeadHashMap.put(&quot;room_id&quot;,room_id);\r\n    appLeadHashMap.put(&quot;user&quot;,&quot;bot&quot;);\r\n    //add key to dataHashMap first\r\n    dataHashMap.put(&quot;targetId&quot;,targetId)\r\n    //finally, add the outer hash map to the inner\r\n    appLeadHashMap.put(&quot;data&quot;, dataHashMap);\r\n\r\nPlease be mindful that now you will have to cast your objects that you retreive from the `appLeadHashMap`, because it has value type `Object`.\r\n\r\n","title":"How to save hashmap of hashmap","body":"<p>So you have two <code>HashMap</code>s: <code>appLeadHashMap</code> and <code>dataHashMap</code> and you want to place the seconds into the first as a value?</p>\n<p>Well your <code>appLeadHashMap</code> is a <code>HashMap&lt;String,String&gt;</code> meaning it will only accept <code>String</code> values! It will not accept a <code>HashMap</code> value.</p>\n<p>To make this work modify your <code>appLeadHashMap</code> to accept any values:</p>\n<pre><code>Map&lt;String,Object&gt; appLeadHashMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>There is also a nasty bug in your code on this line:</p>\n<pre><code>appLeadHashMap.put(&quot;data&quot;,dataHashMap.put(&quot;targetId&quot;,targetId));\n</code></pre>\n<p>Here, you add the result of <code>put</code> method into your hash map, and not the <code>dataHashMap</code> itself. Looks like you want to add a key-value pair to the inner hash map first, then you want to add it to the our hash map. To do so, use this:</p>\n<pre><code>Map&lt;String,Object&gt; appLeadHashMap = new HashMap&lt;&gt;();\nappLeadHashMap.put(&quot;bot_Id&quot;, bot_Id);\nappLeadHashMap.put(&quot;curr_id&quot;, curr_id);\nappLeadHashMap.put(&quot;first_name&quot;,&quot;System&quot;);\nappLeadHashMap.put(&quot;last_name&quot;,&quot;Message&quot;);\nappLeadHashMap.put(&quot;room_id&quot;,room_id);\nappLeadHashMap.put(&quot;user&quot;,&quot;bot&quot;);\n//add key to dataHashMap first\ndataHashMap.put(&quot;targetId&quot;,targetId)\n//finally, add the outer hash map to the inner\nappLeadHashMap.put(&quot;data&quot;, dataHashMap);\n</code></pre>\n<p>Please be mindful that now you will have to cast your objects that you retreive from the <code>appLeadHashMap</code>, because it has value type <code>Object</code>.</p>\n"}],"owner":{"account_id":24437890,"reputation":13,"user_id":18361931,"display_name":"Samadhan Shinde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71335845,"answer_count":1,"score":0,"last_activity_date":1646306542,"creation_date":1646300890,"question_id":71335070,"body_markdown":"I am passing these data on socket and I have data in Hashmap of Hashmap. I tried to pass it but couldn&#39;t get.How to pass data on socket of Hashmap of Hashmap. like below\r\n\r\n{&quot;bot_id&quot;:&quot;a0ddc016-bcb1-4c41-a2ba-9d2c3a6a1763&quot;,&quot;curr_id&quot;:&quot;99501f27-54c7-4c0a-9b9b-598a5c71d374&quot;,&quot;data&quot;:{&quot;target_id&quot;:&quot;59f0048b-b497-4c6f-afb3-1457d54ba847&quot;},&quot;first_name&quot;:&quot;System&quot;,&quot;last_name&quot;:&quot;Message&quot;,&quot;room_id&quot;:&quot;b3d026de-2c13-438b-a8c4-8f40c3d67b2a&quot;,&quot;user&quot;:&quot;bot&quot;}\r\n\r\nI am unable to pass this one on socket.\r\n&quot;data&quot;:{&quot;target_id&quot;:&quot;59f0048b-b497-4c6f-afb3-1457d54ba847&quot;},\r\n\r\n public void showToken(TokanGenerationModal jsonObject) \r\n {\r\n\r\n        targetId=jsonObject.getTargetId().toString();\r\n        room_id=jsonObject.getRoom_id().toString();\r\n        owner_Id=jsonObject.getOwner_id().toString();\r\n        curr_id=jsonObject.getId();\r\n\r\n        Map&lt;String,String&gt; appLeadHashMap = new HashMap&lt;&gt;();\r\n        appLeadHashMap.put(&quot;bot_Id&quot;, bot_Id);\r\n        appLeadHashMap.put(&quot;curr_id&quot;, curr_id);\r\n        appLeadHashMap.put(&quot;first_name&quot;,&quot;System&quot;);\r\n        appLeadHashMap.put(&quot;last_name&quot;,&quot;Message&quot;);\r\n        appLeadHashMap.put(&quot;room_id&quot;,room_id);\r\n        appLeadHashMap.put(&quot;user&quot;,&quot;bot&quot;);\r\n        appLeadHashMap.put(&quot;data&quot;,dataHashMap.put(&quot;targetId&quot;,targetId));\r\n        \r\n        start(owner_Id, room_id);\r\n\r\n        session_id=jsonObject.getSession_token().toString();\r\n        if((NetworkUtilities.isInternet(this)))\r\n        {\r\n            tokenPresenter.getMessage(targetId,room_id,session_id,this);\r\n        }\r\n        else \r\n        {\r\n            Toast.makeText(this, &quot;Check Internet connectivity.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n   }\r\n\r\n\r\n","title":"How to save hashmap of hashmap","body":"<p>I am passing these data on socket and I have data in Hashmap of Hashmap. I tried to pass it but couldn't get.How to pass data on socket of Hashmap of Hashmap. like below</p>\n<p>{&quot;bot_id&quot;:&quot;a0ddc016-bcb1-4c41-a2ba-9d2c3a6a1763&quot;,&quot;curr_id&quot;:&quot;99501f27-54c7-4c0a-9b9b-598a5c71d374&quot;,&quot;data&quot;:{&quot;target_id&quot;:&quot;59f0048b-b497-4c6f-afb3-1457d54ba847&quot;},&quot;first_name&quot;:&quot;System&quot;,&quot;last_name&quot;:&quot;Message&quot;,&quot;room_id&quot;:&quot;b3d026de-2c13-438b-a8c4-8f40c3d67b2a&quot;,&quot;user&quot;:&quot;bot&quot;}</p>\n<p>I am unable to pass this one on socket.\n&quot;data&quot;:{&quot;target_id&quot;:&quot;59f0048b-b497-4c6f-afb3-1457d54ba847&quot;},</p>\n<p>public void showToken(TokanGenerationModal jsonObject)\n{</p>\n<pre><code>    targetId=jsonObject.getTargetId().toString();\n    room_id=jsonObject.getRoom_id().toString();\n    owner_Id=jsonObject.getOwner_id().toString();\n    curr_id=jsonObject.getId();\n\n    Map&lt;String,String&gt; appLeadHashMap = new HashMap&lt;&gt;();\n    appLeadHashMap.put(&quot;bot_Id&quot;, bot_Id);\n    appLeadHashMap.put(&quot;curr_id&quot;, curr_id);\n    appLeadHashMap.put(&quot;first_name&quot;,&quot;System&quot;);\n    appLeadHashMap.put(&quot;last_name&quot;,&quot;Message&quot;);\n    appLeadHashMap.put(&quot;room_id&quot;,room_id);\n    appLeadHashMap.put(&quot;user&quot;,&quot;bot&quot;);\n    appLeadHashMap.put(&quot;data&quot;,dataHashMap.put(&quot;targetId&quot;,targetId));\n    \n    start(owner_Id, room_id);\n\n    session_id=jsonObject.getSession_token().toString();\n    if((NetworkUtilities.isInternet(this)))\n    {\n        tokenPresenter.getMessage(targetId,room_id,session_id,this);\n    }\n    else \n    {\n        Toast.makeText(this, &quot;Check Internet connectivity.&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646194643,"post_id":71317393,"comment_id":126060814,"body_markdown":"Format your code.","body":"Format your code."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1646196173,"post_id":71317393,"comment_id":126061053,"body_markdown":"Your 2nd inner loop is an endless loop: the `j++` would advance `j`, but in the loop body you do `j--` and hence keep looking at the same first character.","body":"Your 2nd inner loop is an endless loop: the <code>j++</code> would advance <code>j</code>, but in the loop body you do <code>j--</code> and hence keep looking at the same first character."}],"answers":[{"tags":[],"owner":{"account_id":24400726,"reputation":127,"user_id":18329517,"display_name":"Tio"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1646197150,"creation_date":1646197150,"answer_id":71317655,"question_id":71317393,"body_markdown":"  Try this code,hope it helps\r\n\r\n    import java.util.*;\r\n    public class Main\r\n    {\r\n    public static void main(String[] args) {\r\n       Scanner sc=new Scanner(System.in);\r\n       System.out.println(&quot;Enter String&quot;);\r\n       String str=sc.nextLine();\r\n       char arr1[]=str.toCharArray();\r\n       char arr2[]=new char[arr1.length];\r\n       for(int i=0;i&lt;=arr1.length-1;i++)\r\n       {\r\n           if(arr1[i]==&#39; &#39;)\r\n           {\r\n               arr2[i]=arr1[i];\r\n           }\r\n       }\r\n       int j=arr2.length-1;\r\n       for(int i=0;i&lt;=arr1.length-1;i++)\r\n       {\r\n           if(arr2[i]!=&#39; &#39;)\r\n           {\r\n               if(arr2[j]==&#39; &#39;)\r\n               {\r\n                   j--;\r\n               }\r\n               arr2[j]=arr1[i];\r\n               j--;\r\n           }\r\n       }\r\n       str=new String(arr2);\r\n       System.out.print(str);\r\n    \r\n    }\r\n    }\r\n\r\n","title":"java reverse string space should be at the same place","body":"<p>Try this code,hope it helps</p>\n<pre><code>import java.util.*;\npublic class Main\n{\npublic static void main(String[] args) {\n   Scanner sc=new Scanner(System.in);\n   System.out.println(&quot;Enter String&quot;);\n   String str=sc.nextLine();\n   char arr1[]=str.toCharArray();\n   char arr2[]=new char[arr1.length];\n   for(int i=0;i&lt;=arr1.length-1;i++)\n   {\n       if(arr1[i]==' ')\n       {\n           arr2[i]=arr1[i];\n       }\n   }\n   int j=arr2.length-1;\n   for(int i=0;i&lt;=arr1.length-1;i++)\n   {\n       if(arr2[i]!=' ')\n       {\n           if(arr2[j]==' ')\n           {\n               j--;\n           }\n           arr2[j]=arr1[i];\n           j--;\n       }\n   }\n   str=new String(arr2);\n   System.out.print(str);\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18147851,"reputation":56,"user_id":13200971,"display_name":"Babji Polisetti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646198017,"creation_date":1646198017,"answer_id":71317741,"question_id":71317393,"body_markdown":"Just loop your string backwards and add each string to new String.\r\n\r\nBelow code might help you .\r\n\r\n    import java.util.*;\r\n    \r\n        public class Main\r\n        {\r\n        public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter String&quot;);\r\n        String str=sc.nextLine();\r\n        String revstr=&quot;&quot;;\r\n        \r\n        int j = 0;\r\n         \r\n         for (int i=str.length()-1; i&gt;=0; i--)\r\n         {\r\n        \t revstr+= str.charAt(i); \r\n         }\r\n         \r\n       System.out.print(revstr);\r\n       }\r\n    }","title":"java reverse string space should be at the same place","body":"<p>Just loop your string backwards and add each string to new String.</p>\n<p>Below code might help you .</p>\n<pre><code>import java.util.*;\n\n    public class Main\n    {\n    public static void main(String[] args) {\n    Scanner sc=new Scanner(System.in);\n    System.out.println(&quot;Enter String&quot;);\n    String str=sc.nextLine();\n    String revstr=&quot;&quot;;\n    \n    int j = 0;\n     \n     for (int i=str.length()-1; i&gt;=0; i--)\n     {\n         revstr+= str.charAt(i); \n     }\n     \n   System.out.print(revstr);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":24420105,"reputation":27,"user_id":18346482,"display_name":"user devi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71317655,"answer_count":2,"score":-1,"last_activity_date":1646306418,"creation_date":1646194503,"question_id":71317393,"body_markdown":"I tried this code reverse string space should be at the same place, this code taking input but output not printing not getting error also i&#39;m trying to print output like this\r\n \r\ninput: java string\r\noutput:gnir tsavaj\r\n\r\n\r\n        import java.util.*;\r\n        public class Main\r\n        {\r\n        public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter String&quot;);\r\n        String str=sc.nextLine();\r\n        char arr1[]=str.toCharArray();\r\n        char arr2[]=new char[arr1.length];\r\n        for(int i=0;i&lt;=arr1.length-1;i++)\r\n        {\r\n           if(arr1[i]==&#39; &#39;)\r\n           {\r\n               arr2[i]=arr1[i];\r\n           }\r\n       \r\n           for(int j=0;j&lt;=arr1.length-1;j++)\r\n            {\r\n                if(arr2[i]!=&#39; &#39;)\r\n                {\r\n                 if(arr2[j]==&#39; &#39;)\r\n                {\r\n                     j--;\r\n                }\r\n                arr2[j]=arr1[i];\r\n                j--;\r\n                }\r\n            }\r\n       }\r\n       str=new String(arr2);\r\n       System.out.print(str);\r\n    \r\n       }\r\n    }\r\n\r\n","title":"java reverse string space should be at the same place","body":"<p>I tried this code reverse string space should be at the same place, this code taking input but output not printing not getting error also i'm trying to print output like this</p>\n<p>input: java string\noutput:gnir tsavaj</p>\n<pre><code>    import java.util.*;\n    public class Main\n    {\n    public static void main(String[] args) {\n    Scanner sc=new Scanner(System.in);\n    System.out.println(&quot;Enter String&quot;);\n    String str=sc.nextLine();\n    char arr1[]=str.toCharArray();\n    char arr2[]=new char[arr1.length];\n    for(int i=0;i&lt;=arr1.length-1;i++)\n    {\n       if(arr1[i]==' ')\n       {\n           arr2[i]=arr1[i];\n       }\n   \n       for(int j=0;j&lt;=arr1.length-1;j++)\n        {\n            if(arr2[i]!=' ')\n            {\n             if(arr2[j]==' ')\n            {\n                 j--;\n            }\n            arr2[j]=arr1[i];\n            j--;\n            }\n        }\n   }\n   str=new String(arr2);\n   System.out.print(str);\n\n   }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646280409,"post_id":71331908,"comment_id":126086011,"body_markdown":"Well, you not adding `tbEmployee` to anything, but `initComponents` suggests that you&#39;re using a form editor which you might be banging your head against","body":"Well, you not adding <code>tbEmployee</code> to anything, but <code>initComponents</code> suggests that you&#39;re using a form editor which you might be banging your head against"},{"owner":{"account_id":15968041,"reputation":1,"user_id":11523024,"display_name":"Soulhanzer"},"score":0,"creation_date":1646283835,"post_id":71331908,"comment_id":126086472,"body_markdown":"I use netbean editor to draw component,  tbEmployee is generated in initComponent,  you can view image i add in &quot;This is my design&quot; link","body":"I use netbean editor to draw component,  tbEmployee is generated in initComponent,  you can view image i add in &quot;This is my design&quot; link"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1646284323,"post_id":71331908,"comment_id":126086543,"body_markdown":"Right, so you table is already defined and initialised, why are you creating a new instance? You should avoid form editors, they aren&#39;t helping and are just confusing the issue","body":"Right, so you table is already defined and initialised, why are you creating a new instance? You should avoid form editors, they aren&#39;t helping and are just confusing the issue"}],"owner":{"account_id":15968041,"reputation":1,"user_id":11523024,"display_name":"Soulhanzer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646306150,"creation_date":1646279134,"question_id":71331908,"body_markdown":"I am using java swing to code an simple desktop application but when i config jtable, it&#39;s not working:\r\n\r\n    public MainFrame() {\r\n        initComponents();\r\n        try {\r\n            //add header for jtable\r\n            String column_names[] = {&quot;Code&quot;, &quot;Name&quot;, &quot;Phone&quot;, &quot;Email&quot;, &quot;Address&quot;, &quot;Department&quot;};\r\n            DefaultTableModel table_model = new DefaultTableModel(column_names, 0);\r\n            tbEmployee = new JTable(table_model);\r\n            //create fake data\r\n            List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n            employees.add(new Employee(&quot;code 1&quot;, &quot;name 1&quot;, &quot;phone 1&quot;, &quot;email 1&quot;, &quot;address 1&quot;, &quot;department 1&quot;));\r\n            employees.add(new Employee(&quot;code 2&quot;, &quot;name 2&quot;, &quot;phone 2&quot;, &quot;email 2&quot;, &quot;address 2&quot;, &quot;department 2&quot;));\r\n            //add list data to table\r\n            for (int i = 0; i &lt; employees.size(); i++) {\r\n                String code = employees.get(i).getCode();\r\n                String name = employees.get(i).getName();\r\n                String phone = employees.get(i).getPhone();\r\n                String email = employees.get(i).getEmail();\r\n                String address = employees.get(i).getAddress();\r\n                String department = employees.get(i).getDepartment();\r\n\r\n                Object[] data = {code, name, phone, email, address, department};\r\n\r\n                table_model.addRow(data);\r\n\r\n            }\r\n            tbEmployee = new JTable(table_model);\r\n            //setting header color`\r\n            JTableHeader header = tbEmployee.getTableHeader();\r\n            header.setBackground(Color.yellow);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n[This is my design java][1]\r\n[This is when i run file][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WhQ4N.png\r\n  [2]: https://i.stack.imgur.com/1K0c2.png","title":"I can not change JTable Header value or data?","body":"<p>I am using java swing to code an simple desktop application but when i config jtable, it's not working:</p>\n<pre><code>public MainFrame() {\n    initComponents();\n    try {\n        //add header for jtable\n        String column_names[] = {&quot;Code&quot;, &quot;Name&quot;, &quot;Phone&quot;, &quot;Email&quot;, &quot;Address&quot;, &quot;Department&quot;};\n        DefaultTableModel table_model = new DefaultTableModel(column_names, 0);\n        tbEmployee = new JTable(table_model);\n        //create fake data\n        List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n        employees.add(new Employee(&quot;code 1&quot;, &quot;name 1&quot;, &quot;phone 1&quot;, &quot;email 1&quot;, &quot;address 1&quot;, &quot;department 1&quot;));\n        employees.add(new Employee(&quot;code 2&quot;, &quot;name 2&quot;, &quot;phone 2&quot;, &quot;email 2&quot;, &quot;address 2&quot;, &quot;department 2&quot;));\n        //add list data to table\n        for (int i = 0; i &lt; employees.size(); i++) {\n            String code = employees.get(i).getCode();\n            String name = employees.get(i).getName();\n            String phone = employees.get(i).getPhone();\n            String email = employees.get(i).getEmail();\n            String address = employees.get(i).getAddress();\n            String department = employees.get(i).getDepartment();\n\n            Object[] data = {code, name, phone, email, address, department};\n\n            table_model.addRow(data);\n\n        }\n        tbEmployee = new JTable(table_model);\n        //setting header color`\n        JTableHeader header = tbEmployee.getTableHeader();\n        header.setBackground(Color.yellow);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WhQ4N.png\" rel=\"nofollow noreferrer\">This is my design java</a>\n<a href=\"https://i.stack.imgur.com/1K0c2.png\" rel=\"nofollow noreferrer\">This is when i run file</a></p>\n"},{"tags":["java","android","android-pendingintent"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":2,"creation_date":1646119916,"post_id":71304416,"comment_id":126039069,"body_markdown":"now with S+ when you are creating `PendingIntent` you have to set one of two mentioned flags... why won&#39;t you just do that?","body":"now with S+ when you are creating <code>PendingIntent</code> you have to set one of two mentioned flags... why won&#39;t you just do that?"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646116732,"creation_date":1646116732,"answer_id":71304612,"question_id":71304416,"body_markdown":"Your passing unexpected flags into a `PendingIntent`.\r\n\r\nFor example:\r\n\r\n    int intentFlags = PendingIntent.FLAG_ONE_SHOT;\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\r\n        intentFlags = PendingIntent.FLAG_ONE_SHOT|PendingIntent.FLAG_IMMUTABLE;\r\n    }","title":"Android version 12 - trying to open app but It&#39;s crushed by on Runtime Exception","body":"<p>Your passing unexpected flags into a <code>PendingIntent</code>.</p>\n<p>For example:</p>\n<pre><code>int intentFlags = PendingIntent.FLAG_ONE_SHOT;\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\n    intentFlags = PendingIntent.FLAG_ONE_SHOT|PendingIntent.FLAG_IMMUTABLE;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21045706,"reputation":1,"user_id":15467064,"display_name":"Abhishek Dwivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646305665,"creation_date":1646117794,"answer_id":71304758,"question_id":71304416,"body_markdown":"After several attempt to fix this, i gave up and try to contact Qiscus. And they release new version that handle this Pending Intent behaviour change. So if anyone use Qiscus and got this error, you can use latest tag\r\n\r\n[https://github.com/qiscus/qiscus-sdk-android/releases/tag/1.3.35][1]    \r\n    \r\n    PendingIntent pendingIntent;\r\n    Intent openIntent = new Intent(context, QiscusPushNotificationClickReceiver.class);\r\n    openIntent.putExtra(&quot;data&quot;, comment);\r\n    \r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                pendingIntent = PendingIntent.getBroadcast(context, QiscusNumberUtil.convertToInt(comment.getRoomId()),\r\n                        openIntent, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_CANCEL_CURRENT);\r\n    } else {\r\n        pendingIntent = PendingIntent.getBroadcast(context, QiscusNumberUtil.convertToInt(comment.getRoomId()),\r\n                        openIntent, PendingIntent.FLAG_CANCEL_CURRENT);\r\n    }\r\n\r\n\r\n\r\n\r\n     &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n\r\n  [1]: https://github.com/qiscus/qiscus-sdk-android/releases/tag/1.3.35","title":"Android version 12 - trying to open app but It&#39;s crushed by on Runtime Exception","body":"<p>After several attempt to fix this, i gave up and try to contact Qiscus. And they release new version that handle this Pending Intent behaviour change. So if anyone use Qiscus and got this error, you can use latest tag</p>\n<p><a href=\"https://github.com/qiscus/qiscus-sdk-android/releases/tag/1.3.35\" rel=\"nofollow noreferrer\">https://github.com/qiscus/qiscus-sdk-android/releases/tag/1.3.35</a></p>\n<pre><code>PendingIntent pendingIntent;\nIntent openIntent = new Intent(context, QiscusPushNotificationClickReceiver.class);\nopenIntent.putExtra(&quot;data&quot;, comment);\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            pendingIntent = PendingIntent.getBroadcast(context, QiscusNumberUtil.convertToInt(comment.getRoomId()),\n                    openIntent, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_CANCEL_CURRENT);\n} else {\n    pendingIntent = PendingIntent.getBroadcast(context, QiscusNumberUtil.convertToInt(comment.getRoomId()),\n                    openIntent, PendingIntent.FLAG_CANCEL_CURRENT);\n}\n\n\n\n\n &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16210155,"reputation":179,"user_id":14160951,"display_name":"Hridoy Krisna Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646128333,"creation_date":1646128333,"answer_id":71306577,"question_id":71304416,"body_markdown":"I am solved this error. \r\n\r\nI Implements this code. \r\n\r\n    implementation &quot;androidx.work:work-runtime:2.7.1&quot; \r\n\r\n","title":"Android version 12 - trying to open app but It&#39;s crushed by on Runtime Exception","body":"<p>I am solved this error.</p>\n<p>I Implements this code.</p>\n<pre><code>implementation &quot;androidx.work:work-runtime:2.7.1&quot; \n</code></pre>\n"}],"owner":{"account_id":16210155,"reputation":179,"user_id":14160951,"display_name":"Hridoy Krisna Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1391,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1646305665,"creation_date":1646115275,"question_id":71304416,"body_markdown":"**My Mobile version is 12. Work App properly but I upgrade my software version of mobile then crushes.**\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Show this Error on my log:**\r\n\r\n\r\n2022-03-01 12:04:55.025 31242-31291/com.Solver.Solver E/AndroidRuntime: FATAL EXCEPTION: WorkManager-WorkManagerTaskExecutor-thread-0\r\n    Process: com.Solver.Solver, PID: 31242\r\n\r\n    java.lang.IllegalArgumentException: com.Solver.Solver: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\r\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\r\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\r\n        at androidx.work.impl.utils.ForceStopRunnable.getPendingIntent(ForceStopRunnable.java:147)\r\n        at androidx.work.impl.utils.ForceStopRunnable.isForceStopped(ForceStopRunnable.java:124)\r\n        at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:79)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:920)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Znnt.jpg","title":"Android version 12 - trying to open app but It&#39;s crushed by on Runtime Exception","body":"<p><strong>My Mobile version is 12. Work App properly but I upgrade my software version of mobile then crushes.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/5Znnt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Znnt.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Show this Error on my log:</strong></p>\n<p>2022-03-01 12:04:55.025 31242-31291/com.Solver.Solver E/AndroidRuntime: FATAL EXCEPTION: WorkManager-WorkManagerTaskExecutor-thread-0\nProcess: com.Solver.Solver, PID: 31242</p>\n<pre><code>java.lang.IllegalArgumentException: com.Solver.Solver: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n\n    at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\n    at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\n    at android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\n    at androidx.work.impl.utils.ForceStopRunnable.getPendingIntent(ForceStopRunnable.java:147)\n    at androidx.work.impl.utils.ForceStopRunnable.isForceStopped(ForceStopRunnable.java:124)\n    at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:79)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:920)\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","csv"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1646137612,"post_id":71307591,"comment_id":126044847,"body_markdown":"Use [mongoimport](https://docs.mongodb.com/database-tools/mongoimport/) for that","body":"Use <a href=\"https://docs.mongodb.com/database-tools/mongoimport/\" rel=\"nofollow noreferrer\">mongoimport</a> for that"},{"owner":{"account_id":12656417,"reputation":15,"user_id":9198808,"display_name":"Bromania"},"score":0,"creation_date":1646138579,"post_id":71307591,"comment_id":126045162,"body_markdown":"thanks for the answer, but mongoimport is made to be used is command prompt ! i wish to use it in java, do you know if it&#39;s compatible in any way ?","body":"thanks for the answer, but mongoimport is made to be used is command prompt ! i wish to use it in java, do you know if it&#39;s compatible in any way ?"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1646139529,"post_id":71307591,"comment_id":126045474,"body_markdown":"I use mongoimport in a special way. It imports a CSV/JSON **file**, however it works also for input from STDIN, so I compose my JSON string and print to STDOUT of mongoimport process.","body":"I use mongoimport in a special way. It imports a CSV/JSON <b>file</b>, however it works also for input from STDIN, so I compose my JSON string and print to STDOUT of mongoimport process."},{"owner":{"account_id":12656417,"reputation":15,"user_id":9198808,"display_name":"Bromania"},"score":0,"creation_date":1646145072,"post_id":71307591,"comment_id":126047534,"body_markdown":"I&#39;m really sorry but I don&#39;t understand what you mean there. Just so you know, I&#39;m not very experienced with those technologies, and I still don&#39;t get how to use mongoimport in my java code... Do you have a documentation somewhere or an exemple to show me ? Thanks a lot","body":"I&#39;m really sorry but I don&#39;t understand what you mean there. Just so you know, I&#39;m not very experienced with those technologies, and I still don&#39;t get how to use mongoimport in my java code... Do you have a documentation somewhere or an exemple to show me ? Thanks a lot"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1646145285,"post_id":71307591,"comment_id":126047620,"body_markdown":"I am not familiar with Java, have a look at https://stackoverflow.com/questions/11336157/running-external-program-with-redirected-stdin-and-stdout-from-java or https://www.rgagnon.com/javadetails/java-0014.html","body":"I am not familiar with Java, have a look at <a href=\"https://stackoverflow.com/questions/11336157/running-external-program-with-redirected-stdin-and-stdout-from-java\" title=\"running external program with redirected stdin and stdout from java\">stackoverflow.com/questions/11336157/&hellip;</a> or <a href=\"https://www.rgagnon.com/javadetails/java-0014.html\" rel=\"nofollow noreferrer\">rgagnon.com/javadetails/java-0014.html</a>"},{"owner":{"account_id":12656417,"reputation":15,"user_id":9198808,"display_name":"Bromania"},"score":0,"creation_date":1646149628,"post_id":71307591,"comment_id":126049482,"body_markdown":"Thanks a lot for your time. It&#39;s working now. Still not exactly as I wanted but I&#39;m working on it ! Have a great day","body":"Thanks a lot for your time. It&#39;s working now. Still not exactly as I wanted but I&#39;m working on it ! Have a great day"}],"answers":[{"tags":[],"owner":{"display_name":"user4571959"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646305358,"creation_date":1646304325,"answer_id":71335811,"question_id":71307591,"body_markdown":"    public class MongoImportUtil {  \r\n        public static void main(String[] args) {  \r\n            String Host = &quot;localhost&quot;;  \r\n            String Port = &quot;27017&quot;;  \r\n            String DB = &quot;userDemo&quot;;  \r\n            String CollectionName = &quot;users&quot;;  \r\n            String FileName = &quot;D:/Test.csv&quot;;  \r\n    \r\n    // Without Credential  \r\n            String command = &quot;C:\\\\Program Files\\\\MongoDB\\\\Server\\\\5.0\\\\bin\\\\mongoimport.exe --host &quot; + Host + &quot; --port &quot; + Port + &quot; --db &quot; + DB + &quot; --collection &quot; + CollectionName + &quot;  --headerline --type=csv --file &quot;+ FileName;  \r\n    \r\n    // With Credential \r\n        /*   String command = &quot;C:\\\\Program Files\\\\MongoDB\\\\Server\\\\5.0\\\\bin\\\\mongoimport.exe --host &quot; + Host + &quot; --port &quot; +  Port  + &quot; --db &quot; + DB + &quot; --collection &quot; +  CollectionName  + &quot;--authenticationDatabase admin --username &quot; + user + &quot;  --password  &quot; +  password +  &quot; --headerline  --type=csv  --file &quot;+ FileName; */  \r\n     \r\n            try {  \r\n                Process process = Runtime.getRuntime().exec(command);  \r\n                System.out.println(&quot;Imported csv into Database&quot;);  \r\n            } catch (Exception e) {  \r\n                System.out.println(&quot;Error executing &quot; + command + e.toString());  \r\n            }  \r\n        }  \r\n    } ","title":"Is there a way to save data from csv to mongodb?","body":"<pre><code>public class MongoImportUtil {  \n    public static void main(String[] args) {  \n        String Host = &quot;localhost&quot;;  \n        String Port = &quot;27017&quot;;  \n        String DB = &quot;userDemo&quot;;  \n        String CollectionName = &quot;users&quot;;  \n        String FileName = &quot;D:/Test.csv&quot;;  \n\n// Without Credential  \n        String command = &quot;C:\\\\Program Files\\\\MongoDB\\\\Server\\\\5.0\\\\bin\\\\mongoimport.exe --host &quot; + Host + &quot; --port &quot; + Port + &quot; --db &quot; + DB + &quot; --collection &quot; + CollectionName + &quot;  --headerline --type=csv --file &quot;+ FileName;  \n\n// With Credential \n    /*   String command = &quot;C:\\\\Program Files\\\\MongoDB\\\\Server\\\\5.0\\\\bin\\\\mongoimport.exe --host &quot; + Host + &quot; --port &quot; +  Port  + &quot; --db &quot; + DB + &quot; --collection &quot; +  CollectionName  + &quot;--authenticationDatabase admin --username &quot; + user + &quot;  --password  &quot; +  password +  &quot; --headerline  --type=csv  --file &quot;+ FileName; */  \n \n        try {  \n            Process process = Runtime.getRuntime().exec(command);  \n            System.out.println(&quot;Imported csv into Database&quot;);  \n        } catch (Exception e) {  \n            System.out.println(&quot;Error executing &quot; + command + e.toString());  \n        }  \n    }  \n} \n</code></pre>\n"}],"owner":{"account_id":12656417,"reputation":15,"user_id":9198808,"display_name":"Bromania"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71335811,"answer_count":1,"score":0,"last_activity_date":1646305358,"creation_date":1646133131,"question_id":71307591,"body_markdown":"I have a CSV file, and I&#39;m trying to import the CSV file in the MongoDB database. Unfortunately, the experience is not working as I wish it would. The content of the CSV file is not relevant, since when I use MongoDB Compass to import it manually, there is no issue and it&#39;s appearing as I want. Thus, I&#39;m trying to save it from local folder to the MongoDB using Java and Spring Boot if possible, but I can&#39;t find any good advice or explaination about how to do so.\r\n\r\nI&#39;m using Spring Boot 2.6.3 and Java11.\r\n\r\nThanks a lot.\r\n\r\n","title":"Is there a way to save data from csv to mongodb?","body":"<p>I have a CSV file, and I'm trying to import the CSV file in the MongoDB database. Unfortunately, the experience is not working as I wish it would. The content of the CSV file is not relevant, since when I use MongoDB Compass to import it manually, there is no issue and it's appearing as I want. Thus, I'm trying to save it from local folder to the MongoDB using Java and Spring Boot if possible, but I can't find any good advice or explaination about how to do so.</p>\n<p>I'm using Spring Boot 2.6.3 and Java11.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","swing","look-and-feel"],"comments":[{"owner":{"account_id":22662393,"reputation":1978,"user_id":16835308,"display_name":"Zakk"},"score":0,"creation_date":1643991624,"post_id":70989533,"comment_id":125494279,"body_markdown":"Please show what you have tried so far.","body":"Please show what you have tried so far."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1643991768,"post_id":70989533,"comment_id":125494339,"body_markdown":"Ive worked out this what i need to do to resolve my issue https://stackoverflow.com/questions/70976649/in-java-what-is-the-correct-way-to-render-multi-column-sorting-selection-in-jtab but I dont know how to do it, that is why I am asking the question","body":"Ive worked out this what i need to do to resolve my issue <a href=\"https://stackoverflow.com/questions/70976649/in-java-what-is-the-correct-way-to-render-multi-column-sorting-selection-in-jtab\" title=\"in java what is the correct way to render multi column sorting selection in jtab\">stackoverflow.com/questions/70976649/&hellip;</a> but I dont know how to do it, that is why I am asking the question"}],"answers":[{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646305302,"creation_date":1644306711,"answer_id":71030220,"question_id":70989533,"body_markdown":"So I got it working as follows:\r\n\r\n1. git clone https://github.com/AdoptOpenJDK/openjdk-jdk11.git\r\n2. Copied the following files from src/java.desktop/windows/classes/com/sun/java/swing/plaf/windows - `WindowsTableHeaderUI.java`, `TMSchema.java`, `XPStyle.java` into my code tree\r\n3. Modified the package statement for these three files to match they have been placed \r\n4. Added the following to allow the internal classes to be found \r\n\r\n    --add-exports java.desktop/sun.awt.windows=ALL-UNNAMED \r\n    \r\n    --add-exports java.desktop/sun.awt.image=ALL-UNNAMED \r\n    \r\n    --add-exports java.desktop/sun.swing.table=ALL-UNNAMED \r\n    \r\n    --add-exports java.desktop/sun.swing=ALL-UNNAMED \r\n    \r\n    --add-exports java.desktop/com.sun.java.swing.plaf.windows=ALL-UNNAMED\r\n     --add-exports java.base/sun.security.action=ALL-UNNAMED\r\n\r\n5. A few minor changes to allow classes to compile\r\n6. Implemented my fix for the WindowsTableHeaderUI class\r\n7. Used in application but only if on Windows with \r\n\r\n   \r\n\r\n \r\n\r\n        if(Platform.isWindows())\r\n        {\r\n             UIManager.put(&quot;TableHeaderUI&quot;,&quot;com.jthink.jaikoz.tablerenderer.windows.WindowsTableHeaderUI&quot;);\r\n        }\r\n\r\n8. When build on other platforms such as MacOS/Linux I delete the windows java files (`WindowsTableHeaderUI.java`, `TMSchema.java`, `XPStyle.java`)  as we only every use these classes on Windows to allow code to be built.","title":"How do I modify a look and feel system class such as com.sun.java.swing.plaf.windows.WindowsTableHeaderUI","body":"<p>So I got it working as follows:</p>\n<ol>\n<li><p>git clone <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11.git\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11.git</a></p>\n</li>\n<li><p>Copied the following files from src/java.desktop/windows/classes/com/sun/java/swing/plaf/windows - <code>WindowsTableHeaderUI.java</code>, <code>TMSchema.java</code>, <code>XPStyle.java</code> into my code tree</p>\n</li>\n<li><p>Modified the package statement for these three files to match they have been placed</p>\n</li>\n<li><p>Added the following to allow the internal classes to be found</p>\n<p>--add-exports java.desktop/sun.awt.windows=ALL-UNNAMED</p>\n<p>--add-exports java.desktop/sun.awt.image=ALL-UNNAMED</p>\n<p>--add-exports java.desktop/sun.swing.table=ALL-UNNAMED</p>\n<p>--add-exports java.desktop/sun.swing=ALL-UNNAMED</p>\n<p>--add-exports java.desktop/com.sun.java.swing.plaf.windows=ALL-UNNAMED\n--add-exports java.base/sun.security.action=ALL-UNNAMED</p>\n</li>\n<li><p>A few minor changes to allow classes to compile</p>\n</li>\n<li><p>Implemented my fix for the WindowsTableHeaderUI class</p>\n</li>\n<li><p>Used in application but only if on Windows with</p>\n<pre><code> if(Platform.isWindows())\n {\n      UIManager.put(&quot;TableHeaderUI&quot;,&quot;com.jthink.jaikoz.tablerenderer.windows.WindowsTableHeaderUI&quot;);\n }\n</code></pre>\n</li>\n<li><p>When build on other platforms such as MacOS/Linux I delete the windows java files (<code>WindowsTableHeaderUI.java</code>, <code>TMSchema.java</code>, <code>XPStyle.java</code>)  as we only every use these classes on Windows to allow code to be built.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71030220,"answer_count":1,"score":0,"last_activity_date":1646305302,"creation_date":1643991338,"question_id":70989533,"body_markdown":"I need to make a change to this class, there is no way for me to just subclass in normal way. So I can modify the java file (or make a copy of it) but how do I get my Swing application to use this version instead of the one provided by the Java runtime?\r\n\r\nWhat I am trying to do is make a copy of  com.sun.java.swing.plaf.windows.WindowsTableHeaderUI and fix it, so I cant just create a copy of the class sand put it into my own pacakage hierachy as I dont have access to many of the classes referred to in the class (such as XPStyle) so how do i replace the system class?","title":"How do I modify a look and feel system class such as com.sun.java.swing.plaf.windows.WindowsTableHeaderUI","body":"<p>I need to make a change to this class, there is no way for me to just subclass in normal way. So I can modify the java file (or make a copy of it) but how do I get my Swing application to use this version instead of the one provided by the Java runtime?</p>\n<p>What I am trying to do is make a copy of  com.sun.java.swing.plaf.windows.WindowsTableHeaderUI and fix it, so I cant just create a copy of the class sand put it into my own pacakage hierachy as I dont have access to many of the classes referred to in the class (such as XPStyle) so how do i replace the system class?</p>\n"},{"tags":["java","uml","associations","class-diagram"],"comments":[{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1634334609,"post_id":69586263,"comment_id":123005506,"body_markdown":"Actually this is a duplicate of https://stackoverflow.com/questions/46508099/uml-non-navigable-relationships-use-or-example","body":"Actually this is a duplicate of <a href=\"https://stackoverflow.com/questions/46508099/uml-non-navigable-relationships-use-or-example\" title=\"uml non navigable relationships use or example\">stackoverflow.com/questions/46508099/&hellip;</a>"},{"owner":{"account_id":18412378,"reputation":77,"user_id":13412292,"display_name":"Kob"},"score":0,"creation_date":1634335261,"post_id":69586263,"comment_id":123005676,"body_markdown":"Nice adittion of a java apllication in the comments of the answer from Cristophe!","body":"Nice adittion of a java apllication in the comments of the answer from Cristophe!"},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":1,"creation_date":1634335616,"post_id":69586263,"comment_id":123005734,"body_markdown":"He&#39;s amongst the best explanators here on SO (at least in the UML area). He must be some sort of professor :-)","body":"He&#39;s amongst the best explanators here on SO (at least in the UML area). He must be some sort of professor :-)"},{"owner":{"account_id":2296898,"reputation":12966,"user_id":2018133,"accept_rate":100,"display_name":"Geert Bellekens"},"score":0,"creation_date":1646324153,"post_id":69586263,"comment_id":126100061,"body_markdown":"Does this answer your question? [UML Non-Navigable Relationships - Use or Example](https://stackoverflow.com/questions/46508099/uml-non-navigable-relationships-use-or-example)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46508099/uml-non-navigable-relationships-use-or-example\">UML Non-Navigable Relationships - Use or Example</a>"}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634324709,"creation_date":1634324709,"answer_id":69589492,"question_id":69586263,"body_markdown":"This is an indication of a non navigable association: \r\n\r\n`CourseExec` is navigable (`—-&gt;`) to `Course` means that there is a guarantee that an instance of `CourseExec` can easily find its related ‘Course` instances at runtime. \r\n\r\n`Course` is not navigable (`-X—`) to `CourseExec` means that there is no guarantee of easy finding the related instance, and that on contrary it could be very difficult, slow or even impossible. \r\n\r\nThe notation is not very common because usually people tend to leave the opposite navigation unspecified.","title":"How to read this crossed association in an UML class-diagram?","body":"<p>This is an indication of a non navigable association:</p>\n<p><code>CourseExec</code> is navigable (<code>—-&gt;</code>) to <code>Course</code> means that there is a guarantee that an instance of <code>CourseExec</code> can easily find its related ‘Course` instances at runtime.</p>\n<p><code>Course</code> is not navigable (<code>-X—</code>) to <code>CourseExec</code> means that there is no guarantee of easy finding the related instance, and that on contrary it could be very difficult, slow or even impossible.</p>\n<p>The notation is not very common because usually people tend to leave the opposite navigation unspecified.</p>\n"}],"owner":{"account_id":18412378,"reputation":77,"user_id":13412292,"display_name":"Kob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646304951,"creation_date":1634307834,"question_id":69586263,"body_markdown":"Here the class diagram:\r\n\r\n```\r\n ---------                   ---------\r\n|          |*             1 |         |\r\n| class    |-X-------------&gt;|  class  |\r\n|CourseExec|    +courseExec |  Course |\r\n ---------                   ---------\r\n```\r\n\r\nI know a `CourseExec` has exactly 1 `Course` and a `Course` can have many `CourseExec`, but what does the cross (`X`) means here?\r\n\r\nIn other words, how does the X in the relation impact the way I read it?","title":"How to read this crossed association in an UML class-diagram?","body":"<p>Here the class diagram:</p>\n<pre><code> ---------                   ---------\n|          |*             1 |         |\n| class    |-X-------------&gt;|  class  |\n|CourseExec|    +courseExec |  Course |\n ---------                   ---------\n</code></pre>\n<p>I know a <code>CourseExec</code> has exactly 1 <code>Course</code> and a <code>Course</code> can have many <code>CourseExec</code>, but what does the cross (<code>X</code>) means here?</p>\n<p>In other words, how does the X in the relation impact the way I read it?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646303533,"post_id":71335438,"comment_id":126092014,"body_markdown":"Do you have &quot;@EnableBatchProcessing&quot;?","body":"Do you have &quot;@EnableBatchProcessing&quot;?"},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646304629,"post_id":71335438,"comment_id":126092369,"body_markdown":"Welcome to SO,  i provided an answer please consider to accept it id it satisfy the requirement to improve the community otherwise feel free to add comment below it .","body":"Welcome to SO,  i provided an answer please consider to accept it id it satisfy the requirement to improve the community otherwise feel free to add comment below it ."},{"owner":{"account_id":24438907,"reputation":13,"user_id":18362845,"display_name":"oussama oussama"},"score":0,"creation_date":1646314767,"post_id":71335438,"comment_id":126096010,"body_markdown":"yes i have `@EnableBatchProcessing`","body":"yes i have <code>@EnableBatchProcessing</code>"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646304494,"creation_date":1646304067,"answer_id":71335753,"question_id":71335438,"body_markdown":"You have many ways to resolve it, all of them is to resolve the been detection of **JobLuncher** in Spring IOC container as exception says the IOC can not locate the bean for **JobLuncher** class to inject in the **BatchLuncher** class, simple using **@Autowired** is not enough at all actually you are telling the IOC the instance of **JobLuncher** class will be provided but at compile time he can not locate the instance to inject so you need to provide an instance of it. \r\n\r\n - Add the `@Service` or `@Component`  annotation to the implementation of your JobLuncher.\r\n - Inject the instance of JobLuncher class in some custom class annotated by @Config and annotate the method injector of JobLuncher by @Bean to scan by IOC .\r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        @Configuration\r\n        public class JobLuncherConfig {\r\n            @Bean\r\n            public JobLuncher jobLuncher() {\r\n            //return an implementation or concrete class of JobLuncher class-interface\r\n              return new JobLuncher(...);\r\n            }\r\n        }\r\n\r\n\r\n\r\n    \r\nIndeed there are many other ways as well, more over i recommend to have more depth look on Spring container and inversion of control, you may start from [here][1] . \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://www.baeldung.com/inversion-control-and-dependency-injection-in-spring","title":"Field jobLauncher in com.example.demo.config.BatchLaunche that could not be found","body":"<p>You have many ways to resolve it, all of them is to resolve the been detection of <strong>JobLuncher</strong> in Spring IOC container as exception says the IOC can not locate the bean for <strong>JobLuncher</strong> class to inject in the <strong>BatchLuncher</strong> class, simple using <strong>@Autowired</strong> is not enough at all actually you are telling the IOC the instance of <strong>JobLuncher</strong> class will be provided but at compile time he can not locate the instance to inject so you need to provide an instance of it.</p>\n<ul>\n<li>Add the <code>@Service</code> or <code>@Component</code>  annotation to the implementation of your JobLuncher.</li>\n<li>Inject the instance of JobLuncher class in some custom class annotated by @Config and annotate the method injector of JobLuncher by @Bean to scan by IOC .</li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>    @Configuration\n    public class JobLuncherConfig {\n        @Bean\n        public JobLuncher jobLuncher() {\n        //return an implementation or concrete class of JobLuncher class-interface\n          return new JobLuncher(...);\n        }\n    }\n</code></pre>\n<p>Indeed there are many other ways as well, more over i recommend to have more depth look on Spring container and inversion of control, you may start from <a href=\"https://www.baeldung.com/inversion-control-and-dependency-injection-in-spring\" rel=\"nofollow noreferrer\">here</a> .</p>\n"}],"owner":{"account_id":24438907,"reputation":13,"user_id":18362845,"display_name":"oussama oussama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71335753,"answer_count":1,"score":1,"last_activity_date":1646304494,"creation_date":1646302623,"question_id":71335438,"body_markdown":"Field jobLauncher in com.example.demo.config.BatchLauncher required a bean of type &#39;org.springframework.batch.core.launch.JobLauncher&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.batch.core.launch.JobLauncher&#39; in your configuration.\r\n\r\n```\r\n@Component\r\npublic class BatchLauncher {\r\n    \r\n    @Autowired\r\n    private JobLauncher jobLauncher;\r\n    \r\n    @Autowired\r\n    private Job job;\r\n\r\n    public BatchStatus run() throws JobParametersInvalidException, JobExecutionAlreadyRunningException,\r\n            JobRestartException, JobInstanceAlreadyCompleteException {\r\n        JobParameters parameters = new JobParametersBuilder().addLong(&quot;time&quot;, System.currentTimeMillis())\r\n                .toJobParameters();\r\n        JobExecution jobExecution = jobLauncher.run(job, parameters);\r\n        return jobExecution.getStatus();\r\n    }\r\n}\r\n```","title":"Field jobLauncher in com.example.demo.config.BatchLaunche that could not be found","body":"<p>Field jobLauncher in com.example.demo.config.BatchLauncher required a bean of type 'org.springframework.batch.core.launch.JobLauncher' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.springframework.batch.core.launch.JobLauncher' in your configuration.</p>\n<pre><code>@Component\npublic class BatchLauncher {\n    \n    @Autowired\n    private JobLauncher jobLauncher;\n    \n    @Autowired\n    private Job job;\n\n    public BatchStatus run() throws JobParametersInvalidException, JobExecutionAlreadyRunningException,\n            JobRestartException, JobInstanceAlreadyCompleteException {\n        JobParameters parameters = new JobParametersBuilder().addLong(&quot;time&quot;, System.currentTimeMillis())\n                .toJobParameters();\n        JobExecution jobExecution = jobLauncher.run(job, parameters);\n        return jobExecution.getStatus();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","selenium","automation","appium"],"comments":[{"owner":{"account_id":2842663,"reputation":616,"user_id":2441939,"display_name":"petrubear"},"score":0,"creation_date":1590442161,"post_id":62010836,"comment_id":109676279,"body_markdown":"this might be of help https://appiumpro.com/editions/4-using-appium-for-testing-mobile-web-apps","body":"this might be of help <a href=\"https://appiumpro.com/editions/4-using-appium-for-testing-mobile-web-apps\" rel=\"nofollow noreferrer\">appiumpro.com/editions/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10344310,"reputation":1039,"user_id":7629737,"display_name":"Yevhen Danchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590471144,"creation_date":1590471144,"answer_id":62015268,"question_id":62010836,"body_markdown":"There are a couple of ways to achieve this:\r\n\r\n- You may use `driver.activateApp(&quot;com.android.chrome&quot;)` to open Mobile Chrome. However, in this case, you need to handle the URL opening manually (locate URL input field, type it, etc.)\r\n\r\n- You may use `adb` command to open Chrome on a particular page, e.g:\r\n\r\n```java\r\npublic void openChromeNavigatedTo(String URL) throws IOException {\r\n   String command = String.format(&quot;adb shell am start -n com.android.chrome/com.google.android.apps.chrome.Main -d &#39;%s&#39;&quot;, URL);\r\n   Process process = new ProcessBuilder(command).start();\r\n}\r\n```\r\n\r\nWhen the Chrome opened, you may consider it as a usual mobile application: find locators and interact with them.\r\n\r\nOnce you&#39;ve done, you may want to close Chrome:\r\n```java\r\npublic void closeChrome() {\r\n   driver.terminateApp(&quot;com.android.chrome&quot;);\r\n}\r\n```\r\nUnfortunately, there is no guarantee, that after that your main app became in focus, so you should do this explicitly:\r\n\r\n```java\r\npublic void launchApp() {\r\n   driver.launchApp();\r\n}\r\n```\r\n\r\nI hope this helps.","title":"I want to switch from app to chrome web browser and then navigate back to same app in appium","body":"<p>There are a couple of ways to achieve this:</p>\n\n<ul>\n<li><p>You may use <code>driver.activateApp(\"com.android.chrome\")</code> to open Mobile Chrome. However, in this case, you need to handle the URL opening manually (locate URL input field, type it, etc.)</p></li>\n<li><p>You may use <code>adb</code> command to open Chrome on a particular page, e.g:</p></li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void openChromeNavigatedTo(String URL) throws IOException {\n   String command = String.format(\"adb shell am start -n com.android.chrome/com.google.android.apps.chrome.Main -d '%s'\", URL);\n   Process process = new ProcessBuilder(command).start();\n}\n</code></pre>\n\n<p>When the Chrome opened, you may consider it as a usual mobile application: find locators and interact with them.</p>\n\n<p>Once you've done, you may want to close Chrome:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void closeChrome() {\n   driver.terminateApp(\"com.android.chrome\");\n}\n</code></pre>\n\n<p>Unfortunately, there is no guarantee, that after that your main app became in focus, so you should do this explicitly:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void launchApp() {\n   driver.launchApp();\n}\n</code></pre>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5580602,"reputation":11,"user_id":4422578,"display_name":"Akhilesh Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646304411,"creation_date":1646304076,"answer_id":71335756,"question_id":62010836,"body_markdown":"Native App/Hybrid App + Mobile Chrome Browser Switching\r\n\r\n    String appPackage = &quot;com.android.chrome&quot;;\r\n    String appActivity = &quot;com.google.android.apps.chrome.Main&quot;; // OR // org.chromium.chrome.browser.customtabs.CustomTabActivity\r\n    \r\n    //Wait until launch chrome browser OR other browser\r\n    Activity activity = new Activity(appPackage,appActivity);\r\n    activity.setAppWaitPackage(appPackage);\r\n    activity.setAppWaitActivity(appActivity);\r\n\r\n    switchContextBasedOnString(&quot;WEBVIEW_chrome&quot;);\r\n    new WebDriverWait(androidDriver, 10).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;Test1&quot;))).click();\r\n\r\n    switchContextBasedOnString(&quot;Native&quot;);\r\n","title":"I want to switch from app to chrome web browser and then navigate back to same app in appium","body":"<p>Native App/Hybrid App + Mobile Chrome Browser Switching</p>\n<pre><code>String appPackage = &quot;com.android.chrome&quot;;\nString appActivity = &quot;com.google.android.apps.chrome.Main&quot;; // OR // org.chromium.chrome.browser.customtabs.CustomTabActivity\n\n//Wait until launch chrome browser OR other browser\nActivity activity = new Activity(appPackage,appActivity);\nactivity.setAppWaitPackage(appPackage);\nactivity.setAppWaitActivity(appActivity);\n\nswitchContextBasedOnString(&quot;WEBVIEW_chrome&quot;);\nnew WebDriverWait(androidDriver, 10).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;Test1&quot;))).click();\n\nswitchContextBasedOnString(&quot;Native&quot;);\n</code></pre>\n"}],"owner":{"account_id":18636730,"reputation":11,"user_id":13583455,"display_name":"Keshav Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646304411,"creation_date":1590441070,"question_id":62010836,"body_markdown":"    public class switching {\r\n    \r\n    \t@Test\r\n    \tpublic void openBrowser() throws MalformedURLException {\r\n    \r\n    \t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n    \r\n    \t\tcap.setCapability(&quot;deviceName&quot;,&quot;One plus 5&quot;);\r\n    \t\tcap.setCapability(&quot;udid&quot;, &quot;9a0f2cfd&quot;);\r\n    \t\tcap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n    \t\tcap.setCapability(&quot;platformversion&quot;, &quot;9.0.11&quot;);\r\n    \t\tcap.setCapability(&quot;appPackage&quot;, &quot;io.appium.android.apis&quot;);\r\n    \t\tcap.setCapability(&quot;appActivity&quot;, &quot;io.appium.android.apis.ApiDemos&quot;);\r\n    \t\tURL url =new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n    \t\tAndroidDriver driver= new AndroidDriver(url,cap);\r\n    \t\t// after performing actions on app want to navigate to web browser\r\n    \t\t\r\n      }\r\n    }\r\n\r\nNow, I want to navigate to chrome browser and open any url and then navigate back to same app ","title":"I want to switch from app to chrome web browser and then navigate back to same app in appium","body":"<pre><code>public class switching {\n\n    @Test\n    public void openBrowser() throws MalformedURLException {\n\n        DesiredCapabilities cap = new DesiredCapabilities();\n\n        cap.setCapability(\"deviceName\",\"One plus 5\");\n        cap.setCapability(\"udid\", \"9a0f2cfd\");\n        cap.setCapability(\"platformName\", \"Android\");\n        cap.setCapability(\"platformversion\", \"9.0.11\");\n        cap.setCapability(\"appPackage\", \"io.appium.android.apis\");\n        cap.setCapability(\"appActivity\", \"io.appium.android.apis.ApiDemos\");\n        URL url =new URL(\"http://127.0.0.1:4723/wd/hub\");\n        AndroidDriver driver= new AndroidDriver(url,cap);\n        // after performing actions on app want to navigate to web browser\n\n  }\n}\n</code></pre>\n\n<p>Now, I want to navigate to chrome browser and open any url and then navigate back to same app </p>\n"},{"tags":["java","vaadin","node-modules"],"comments":[{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":2,"creation_date":1646306004,"post_id":71335549,"comment_id":126092779,"body_markdown":"You might want to try running `mvn vaadin:clean-frontend` to delete frontend files and folders including node_modules and package.json.","body":"You might want to try running <code>mvn vaadin:clean-frontend</code> to delete frontend files and folders including node_modules and package.json."},{"owner":{"account_id":24438915,"reputation":21,"user_id":18362854,"display_name":"Jorada"},"score":3,"creation_date":1646384258,"post_id":71335549,"comment_id":126114392,"body_markdown":"Yes, that solved the problem. Many thanks.","body":"Yes, that solved the problem. Many thanks."}],"owner":{"account_id":24438915,"reputation":21,"user_id":18362854,"display_name":"Jorada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646304348,"creation_date":1646303088,"question_id":71335549,"body_markdown":"Since the update from Vaadin 22.0.x to the new Vaadin 23.0.0 an error occurs when integrating icons\r\n\r\nSimple java code example:\r\n```lang-java\r\nHorizontalLayout layout = new HorizontalLayout();\r\nlayout.add(new Icon(VaadinIcon.CREDIT_CARD));\r\n\r\n``` \r\nError:\r\n\r\n    Uncaught TypeError: Cannot read properties of undefined (reading &#39;SVG&#39;) (webpack-internal:///../node_modules/.pnpm/@vaadin/icon@23.0.0/node_modules/@vaadin/icon/src/vaadin-icon-svg.js:41:176)\r\n\r\nStacktrace:\r\n\r\n    Uncaught TypeError: Cannot read properties of undefined (reading &#39;SVG&#39;)\r\n        at isValidSvg (vaadin-icon-svg.js?8e5a:32:53)\r\n        at ensureSvgLiteral (vaadin-icon-svg.js?8e5a:43:1)\r\n        at renderSvg (vaadin-icon-svg.js?8e5a:58:1)\r\n        at Icon.__svgChanged (vaadin-icon.js?30dc:212:14)\r\n        at Object.runMethodEffect [as fn] (property-effects.js?855e:1038:1)\r\n        at runEffects (property-effects.js?855e:140:1)\r\n        at Icon._propertiesChanged (property-effects.js?855e:1922:1)\r\n        at Icon.Kw.s._propertiesChanged (FlowClient.js?2d7e:1006:26298)\r\n        at Icon._flushProperties (properties-changed.js?7749:384:1)\r\n        at Icon._invalidateProperties (property-effects.js?855e:1748:1)\r\n        at Icon.Object.defineProperty.set (properties-changed.js?7749:170:1)\r\n        at Icon.ready (vaadin-icon.js?30dc:146:1)\r\n        at Icon.Kw.s.ready (FlowClient.js?2d7e:1006:26370)\r\n        at Icon._enableProperties (properties-changed.js?7749:362:1)\r\n        at Icon.connectedCallback (properties-mixin.js?30f6:222:1)\r\n        at Icon.connectedCallback (element-mixin.js?62ae:680:1)\r\n        at Icon.connectedCallback (dir-mixin.js?8432:67:1)\r\n        at Icon.connectedCallback (vaadin-icon.js?30dc:167:1)\r\n        at GridTemplatizer.render (template-renderer-templatizer.js?feaf:51:1)\r\n        at renderer (template-renderer.js?ee7e:14:1)\r\n        at renderer (eval at kt (FlowClient.js?2d7e:1:1), &lt;anonymous&gt;:3:482)\r\n        at GridColumn.renderer (eval at kt (FlowClient.js?2d7e:1:1), &lt;anonymous&gt;:3:482)\r\n        at eval (vaadin-grid.js?75ed:949:1)\r\n        at Array.forEach (&lt;anonymous&gt;)\r\n        at Grid._updateItem (vaadin-grid.js?75ed:946:1)\r\n        at Grid.eval (gridConnector.js?4c4f:434:13)\r\n        at Grid.eval [as _updateItem] (FlowBootstrap.js?f80c:64:1)\r\n        at Grid._getItem (vaadin-grid-data-provider-mixin.js?c432:254:1)\r\n        at Grid._updateScrollerItem (vaadin-grid.js?75ed:857:1)\r\n        at IronListAdapter.__updateElement (virtualizer-iron-list-adapter.js?c65d:140:1)\r\n        at IronListAdapter.eval (virtualizer-iron-list-adapter.js?c65d:274:1)\r\n        at IronListAdapter._iterateItems (iron-list-core.js?aecc:630:1)\r\n        at IronListAdapter._assignModels (virtualizer-iron-list-adapter.js?c65d:269:1)\r\n        at IronListAdapter._update (iron-list-core.js?aecc:442:1)\r\n        at IronListAdapter._render (iron-list-core.js?aecc:541:1)\r\n        at IronListAdapter.eval (iron-list-core.js?aecc:887:1)\r\n        at Debouncer.flush (debounce.js?1087:76:1)\r\n        at eval (debounce.js?1087:159:1)\r\n        at Set.forEach (&lt;anonymous&gt;)\r\n        at flushDebouncers (debounce.js?1087:157:1)\r\n        at flush (debounce.js?1087:172:1)\r\n        at IronListAdapter.set size [as size] (virtualizer-iron-list-adapter.js?c65d:208:10)\r\n        at Virtualizer.set size [as size] (virtualizer.js?2706:31:1)\r\n        at Grid._effectiveSizeChanged (vaadin-grid.js?75ed:517:1)\r\n        at Object.runMethodEffect [as fn] (property-effects.js?855e:1038:1)\r\n        at runEffects (property-effects.js?855e:140:1)\r\n        at Grid._propertiesChanged (property-effects.js?855e:1922:1)\r\n        at Grid.Kw.s._propertiesChanged (FlowClient.js?2d7e:1006:26298)\r\n        at Grid._flushProperties (properties-changed.js?7749:384:1)\r\n        at Grid._invalidateProperties (property-effects.js?855e:1748:1)\r\n        at Grid.Object.defineProperty.set (properties-changed.js?7749:170:1)\r\n        at Grid._updateColumnTree (vaadin-grid-dynamic-columns-mixin.js?c83d:83:1)\r\n        at Grid.eval (vaadin-grid-dynamic-columns-mixin.js?c83d:98:1)\r\n        at FlattenedNodesObserver.flush (flattened-nodes-observer.js?76fe:281:1)\r\n        at eval (flattened-nodes-observer.js?76fe:202:16)\r\n        at MutationObserver.microtaskFlush (async.js?339b:41:1)\r\n\r\nAs recommended in the [Vaadin update notes][1], I deleted the `node_modules` folder before, which was also generated again. I also deleted folder `.vaadin` and rebuilt everything with `mvn clean install`\r\n\r\nAnyone have an idea how I can fix the problem?\r\n\r\n* Openjdk 11.0.13\r\n* Vaadin 23.0.0\r\n* Spring boot 2.6.4\r\n* OS Windows 10\r\n\r\n  [1]: https://vaadin.com/docs/latest/upgrading#changes-in-vaadin-23","title":"Since update from Vaadin 22.0.x to 23.0.0 icons are no longer displayed","body":"<p>Since the update from Vaadin 22.0.x to the new Vaadin 23.0.0 an error occurs when integrating icons</p>\n<p>Simple java code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HorizontalLayout layout = new HorizontalLayout();\nlayout.add(new Icon(VaadinIcon.CREDIT_CARD));\n\n</code></pre>\n<p>Error:</p>\n<pre><code>Uncaught TypeError: Cannot read properties of undefined (reading 'SVG') (webpack-internal:///../node_modules/.pnpm/@vaadin/icon@23.0.0/node_modules/@vaadin/icon/src/vaadin-icon-svg.js:41:176)\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>Uncaught TypeError: Cannot read properties of undefined (reading 'SVG')\n    at isValidSvg (vaadin-icon-svg.js?8e5a:32:53)\n    at ensureSvgLiteral (vaadin-icon-svg.js?8e5a:43:1)\n    at renderSvg (vaadin-icon-svg.js?8e5a:58:1)\n    at Icon.__svgChanged (vaadin-icon.js?30dc:212:14)\n    at Object.runMethodEffect [as fn] (property-effects.js?855e:1038:1)\n    at runEffects (property-effects.js?855e:140:1)\n    at Icon._propertiesChanged (property-effects.js?855e:1922:1)\n    at Icon.Kw.s._propertiesChanged (FlowClient.js?2d7e:1006:26298)\n    at Icon._flushProperties (properties-changed.js?7749:384:1)\n    at Icon._invalidateProperties (property-effects.js?855e:1748:1)\n    at Icon.Object.defineProperty.set (properties-changed.js?7749:170:1)\n    at Icon.ready (vaadin-icon.js?30dc:146:1)\n    at Icon.Kw.s.ready (FlowClient.js?2d7e:1006:26370)\n    at Icon._enableProperties (properties-changed.js?7749:362:1)\n    at Icon.connectedCallback (properties-mixin.js?30f6:222:1)\n    at Icon.connectedCallback (element-mixin.js?62ae:680:1)\n    at Icon.connectedCallback (dir-mixin.js?8432:67:1)\n    at Icon.connectedCallback (vaadin-icon.js?30dc:167:1)\n    at GridTemplatizer.render (template-renderer-templatizer.js?feaf:51:1)\n    at renderer (template-renderer.js?ee7e:14:1)\n    at renderer (eval at kt (FlowClient.js?2d7e:1:1), &lt;anonymous&gt;:3:482)\n    at GridColumn.renderer (eval at kt (FlowClient.js?2d7e:1:1), &lt;anonymous&gt;:3:482)\n    at eval (vaadin-grid.js?75ed:949:1)\n    at Array.forEach (&lt;anonymous&gt;)\n    at Grid._updateItem (vaadin-grid.js?75ed:946:1)\n    at Grid.eval (gridConnector.js?4c4f:434:13)\n    at Grid.eval [as _updateItem] (FlowBootstrap.js?f80c:64:1)\n    at Grid._getItem (vaadin-grid-data-provider-mixin.js?c432:254:1)\n    at Grid._updateScrollerItem (vaadin-grid.js?75ed:857:1)\n    at IronListAdapter.__updateElement (virtualizer-iron-list-adapter.js?c65d:140:1)\n    at IronListAdapter.eval (virtualizer-iron-list-adapter.js?c65d:274:1)\n    at IronListAdapter._iterateItems (iron-list-core.js?aecc:630:1)\n    at IronListAdapter._assignModels (virtualizer-iron-list-adapter.js?c65d:269:1)\n    at IronListAdapter._update (iron-list-core.js?aecc:442:1)\n    at IronListAdapter._render (iron-list-core.js?aecc:541:1)\n    at IronListAdapter.eval (iron-list-core.js?aecc:887:1)\n    at Debouncer.flush (debounce.js?1087:76:1)\n    at eval (debounce.js?1087:159:1)\n    at Set.forEach (&lt;anonymous&gt;)\n    at flushDebouncers (debounce.js?1087:157:1)\n    at flush (debounce.js?1087:172:1)\n    at IronListAdapter.set size [as size] (virtualizer-iron-list-adapter.js?c65d:208:10)\n    at Virtualizer.set size [as size] (virtualizer.js?2706:31:1)\n    at Grid._effectiveSizeChanged (vaadin-grid.js?75ed:517:1)\n    at Object.runMethodEffect [as fn] (property-effects.js?855e:1038:1)\n    at runEffects (property-effects.js?855e:140:1)\n    at Grid._propertiesChanged (property-effects.js?855e:1922:1)\n    at Grid.Kw.s._propertiesChanged (FlowClient.js?2d7e:1006:26298)\n    at Grid._flushProperties (properties-changed.js?7749:384:1)\n    at Grid._invalidateProperties (property-effects.js?855e:1748:1)\n    at Grid.Object.defineProperty.set (properties-changed.js?7749:170:1)\n    at Grid._updateColumnTree (vaadin-grid-dynamic-columns-mixin.js?c83d:83:1)\n    at Grid.eval (vaadin-grid-dynamic-columns-mixin.js?c83d:98:1)\n    at FlattenedNodesObserver.flush (flattened-nodes-observer.js?76fe:281:1)\n    at eval (flattened-nodes-observer.js?76fe:202:16)\n    at MutationObserver.microtaskFlush (async.js?339b:41:1)\n</code></pre>\n<p>As recommended in the <a href=\"https://vaadin.com/docs/latest/upgrading#changes-in-vaadin-23\" rel=\"nofollow noreferrer\">Vaadin update notes</a>, I deleted the <code>node_modules</code> folder before, which was also generated again. I also deleted folder <code>.vaadin</code> and rebuilt everything with <code>mvn clean install</code></p>\n<p>Anyone have an idea how I can fix the problem?</p>\n<ul>\n<li>Openjdk 11.0.13</li>\n<li>Vaadin 23.0.0</li>\n<li>Spring boot 2.6.4</li>\n<li>OS Windows 10</li>\n</ul>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8446,"page":1546,"page_size":100}
