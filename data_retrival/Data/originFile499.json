{"items":[{"tags":["java","sql","postgresql","hierarchical-data","recursive-query"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1680889619,"post_id":75960638,"comment_id":133976848,"body_markdown":"`FROM` of both part of union should be your table, not cte.","body":"<code>FROM</code> of both part of union should be your table, not cte."}],"answers":[{"tags":[],"owner":{"account_id":14783924,"reputation":217599,"user_id":10676716,"display_name":"GMB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680890055,"creation_date":1680890055,"answer_id":75960881,"question_id":75960638,"body_markdown":"The problem is that your recursive CTE has the same name as your table (`referral`) - and the database cannot resolve the ambiguity.\r\n\r\nI would recommend using a different alias to the CTE, as in:\r\n\r\n```\r\nWITH RECURSIVE cte AS (\r\n    SELECT * FROM referral WHERE refer_by =:referByUserId\r\n    UNION ALL\r\n    SELECT r.* \r\n    FROM cte c\r\n    INNER JOIN referral r ON r.refer_by = c.refer_to\r\n)\r\nSELECT refer_by, refer_to FROM cte\r\n```","title":"How to get chain information from database?","body":"<p>The problem is that your recursive CTE has the same name as your table (<code>referral</code>) - and the database cannot resolve the ambiguity.</p>\n<p>I would recommend using a different alias to the CTE, as in:</p>\n<pre><code>WITH RECURSIVE cte AS (\n    SELECT * FROM referral WHERE refer_by =:referByUserId\n    UNION ALL\n    SELECT r.* \n    FROM cte c\n    INNER JOIN referral r ON r.refer_by = c.refer_to\n)\nSELECT refer_by, refer_to FROM cte\n</code></pre>\n"}],"owner":{"account_id":448756,"reputation":574,"user_id":7369265,"accept_rate":40,"display_name":"Ranjit Soni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681560398,"creation_date":1680887946,"question_id":75960638,"body_markdown":"I have a table named &quot;referral&quot; and it contains two columns named &quot;refer_by&quot; and &quot;refer_to&quot;. &quot;refer_by&quot; column stores the id of the user, who refer someone, and &quot;refer_to&quot; store the id of the user, who was referred by &quot;refer_by&quot; user.\r\n\r\nFollowing is the stored info.\r\n\r\n| A header | Another header |\r\n| -------- | -------------- |\r\n| 1| 2|\r\n| 1   | 5|\r\n| 2| 6|\r\n| 5   | 7|\r\n| 7| 8|\r\n| 8   | 9|\r\n| 9   | 10|\r\n| 15| 16|\r\n| 18   | 20|\r\n\r\nI want to get all the referral list where refer_by=1. For Example refer_by=1 refer 2 and 5, 2 refer 6, 5 refer7 and so on.\r\n\r\nI am using following query but it is failing with reason &quot;ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: recursive reference to query &quot;referral&quot; must not appear within its non-recursive term&quot;.\r\n\r\n```\r\n@Query(value = &quot;WITH RECURSIVE referral AS &quot; +\r\n\t\t\t&quot;( &quot; +\r\n\t\t\t\t&quot;SELECT ref1.* FROM referral ref1 WHERE ref1.refer_by =:referByUserId &quot; +\r\n\t\t\t\t\t&quot;UNION ALL &quot; +\r\n\t\t\t\t&quot;SELECT ref2.* FROM referral ref2 &quot; +\r\n\t\t\t\t\t&quot;INNER JOIN &quot; +\r\n\t\t\t\t&quot;referral ref3 ON ref2.refer_by = ref3.refer_to &quot; +\r\n\t\t\t&quot;) &quot; +\r\n\t\t\t&quot;SELECT reff.refer_by, reff.refer_to FROM referral reff&quot;, nativeQuery = true)\r\n\tList&lt;Object[]&gt; testt(final Long referByUserId);\r\n```\r\n\r\nPlease help me.\r\nThanks\r\n","title":"How to get chain information from database?","body":"<p>I have a table named &quot;referral&quot; and it contains two columns named &quot;refer_by&quot; and &quot;refer_to&quot;. &quot;refer_by&quot; column stores the id of the user, who refer someone, and &quot;refer_to&quot; store the id of the user, who was referred by &quot;refer_by&quot; user.</p>\n<p>Following is the stored info.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>A header</th>\n<th>Another header</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n</tr>\n<tr>\n<td>1</td>\n<td>5</td>\n</tr>\n<tr>\n<td>2</td>\n<td>6</td>\n</tr>\n<tr>\n<td>5</td>\n<td>7</td>\n</tr>\n<tr>\n<td>7</td>\n<td>8</td>\n</tr>\n<tr>\n<td>8</td>\n<td>9</td>\n</tr>\n<tr>\n<td>9</td>\n<td>10</td>\n</tr>\n<tr>\n<td>15</td>\n<td>16</td>\n</tr>\n<tr>\n<td>18</td>\n<td>20</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to get all the referral list where refer_by=1. For Example refer_by=1 refer 2 and 5, 2 refer 6, 5 refer7 and so on.</p>\n<p>I am using following query but it is failing with reason &quot;ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: recursive reference to query &quot;referral&quot; must not appear within its non-recursive term&quot;.</p>\n<pre><code>@Query(value = &quot;WITH RECURSIVE referral AS &quot; +\n            &quot;( &quot; +\n                &quot;SELECT ref1.* FROM referral ref1 WHERE ref1.refer_by =:referByUserId &quot; +\n                    &quot;UNION ALL &quot; +\n                &quot;SELECT ref2.* FROM referral ref2 &quot; +\n                    &quot;INNER JOIN &quot; +\n                &quot;referral ref3 ON ref2.refer_by = ref3.refer_to &quot; +\n            &quot;) &quot; +\n            &quot;SELECT reff.refer_by, reff.refer_to FROM referral reff&quot;, nativeQuery = true)\n    List&lt;Object[]&gt; testt(final Long referByUserId);\n</code></pre>\n<p>Please help me.\nThanks</p>\n"},{"tags":["java","sql","apache-calcite"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680713372,"post_id":75941028,"comment_id":133946219,"body_markdown":"This sounds like a bug you should report to the Apache Calcite project.","body":"This sounds like a bug you should report to the Apache Calcite project."}],"answers":[{"tags":[],"owner":{"account_id":28166776,"reputation":1,"user_id":21525867,"display_name":"Kirill Kim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681560088,"creation_date":1681204685,"answer_id":75984253,"question_id":75941028,"body_markdown":"I found problem in my code, I created `RelDataType` and had set it to not nullable.\r\n\r\nTherefore, I added to `org.apache.calcite.schema.Table#getRowType` when describing `RelDataType` for column next code:\r\n```\r\nRelDataType sqlType = relDataTypeFactory.createTypeWithNullability(relDataTypeFactory.createSqlType(sqlTypeName), true); \r\n```\r\n\r\nAnd now all works fine, thanks.","title":"Calcite order by nullpointer exception","body":"<p>I found problem in my code, I created <code>RelDataType</code> and had set it to not nullable.</p>\n<p>Therefore, I added to <code>org.apache.calcite.schema.Table#getRowType</code> when describing <code>RelDataType</code> for column next code:</p>\n<pre><code>RelDataType sqlType = relDataTypeFactory.createTypeWithNullability(relDataTypeFactory.createSqlType(sqlTypeName), true); \n</code></pre>\n<p>And now all works fine, thanks.</p>\n"}],"owner":{"account_id":28166776,"reputation":1,"user_id":21525867,"display_name":"Kirill Kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75984253,"answer_count":1,"score":0,"last_activity_date":1681560088,"creation_date":1680706948,"question_id":75941028,"body_markdown":"I try to perform query over over some table data in Java using Calcite. I try to execute query:\r\n\r\n```sql\r\nselect\r\n    distinct tbl.col1 ,\r\n    tbl.col2  \r\nfrom\r\n    infoset.SUBEKT tbl   \r\norder by\r\n    col1 asc nulls last ,\r\n    col2 asc nulls last\r\n```\r\nAnd the following exception occurs\r\n```none\r\njava.lang.NullPointerException\r\n\tat org.apache.calcite.runtime.Utilities.compare(Utilities.java:202)\r\n\tat Baz$2.compare(ANONYMOUS.java:15)\r\n\tat Baz$2.compare(ANONYMOUS.java:27)\r\n\tat java.util.TreeMap.getEntryUsingComparator(TreeMap.java:376)\r\n\tat java.util.TreeMap.getEntry(TreeMap.java:345)\r\n\tat java.util.TreeMap.get(TreeMap.java:278)\r\n\tat org.apache.calcite.linq4j.EnumerableDefaults.toLookup_(EnumerableDefaults.java:3608)\r\n\tat org.apache.calcite.linq4j.EnumerableDefaults$14.enumerator(EnumerableDefaults.java:2660)\r\n\tat org.apache.calcite.linq4j.AbstractEnumerable.iterator(AbstractEnumerable.java:33)\r\n\tat org.apache.calcite.avatica.MetaImpl.createCursor(MetaImpl.java:90)\r\n\tat org.apache.calcite.avatica.AvaticaResultSet.execute(AvaticaResultSet.java:186)\r\n\tat org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:64)\r\n\tat org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:43)\r\n\tat org.apache.calcite.avatica.AvaticaConnection$1.execute(AvaticaConnection.java:669)\r\n\tat org.apache.calcite.jdbc.CalciteMetaImpl.prepareAndExecute(CalciteMetaImpl.java:636)\r\n\tat org.apache.calcite.avatica.AvaticaConnection.prepareAndExecuteInternal(AvaticaConnection.java:677)\r\n\tat org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:157)\r\n\tat org.apache.calcite.avatica.AvaticaStatement.executeQuery(AvaticaStatement.java:228)\r\n\tat ru.spi2.modules.infosetquery.InfosetQueryPlugin.executeQuery(InfosetQueryPlugin.java:101)\r\n```\r\nThe error occurs because col1 has some rows with null values. If I order only by col1 or col2, all works well.\r\n","title":"Calcite order by nullpointer exception","body":"<p>I try to perform query over over some table data in Java using Calcite. I try to execute query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select\n    distinct tbl.col1 ,\n    tbl.col2  \nfrom\n    infoset.SUBEKT tbl   \norder by\n    col1 asc nulls last ,\n    col2 asc nulls last\n</code></pre>\n<p>And the following exception occurs</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException\n    at org.apache.calcite.runtime.Utilities.compare(Utilities.java:202)\n    at Baz$2.compare(ANONYMOUS.java:15)\n    at Baz$2.compare(ANONYMOUS.java:27)\n    at java.util.TreeMap.getEntryUsingComparator(TreeMap.java:376)\n    at java.util.TreeMap.getEntry(TreeMap.java:345)\n    at java.util.TreeMap.get(TreeMap.java:278)\n    at org.apache.calcite.linq4j.EnumerableDefaults.toLookup_(EnumerableDefaults.java:3608)\n    at org.apache.calcite.linq4j.EnumerableDefaults$14.enumerator(EnumerableDefaults.java:2660)\n    at org.apache.calcite.linq4j.AbstractEnumerable.iterator(AbstractEnumerable.java:33)\n    at org.apache.calcite.avatica.MetaImpl.createCursor(MetaImpl.java:90)\n    at org.apache.calcite.avatica.AvaticaResultSet.execute(AvaticaResultSet.java:186)\n    at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:64)\n    at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:43)\n    at org.apache.calcite.avatica.AvaticaConnection$1.execute(AvaticaConnection.java:669)\n    at org.apache.calcite.jdbc.CalciteMetaImpl.prepareAndExecute(CalciteMetaImpl.java:636)\n    at org.apache.calcite.avatica.AvaticaConnection.prepareAndExecuteInternal(AvaticaConnection.java:677)\n    at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:157)\n    at org.apache.calcite.avatica.AvaticaStatement.executeQuery(AvaticaStatement.java:228)\n    at ru.spi2.modules.infosetquery.InfosetQueryPlugin.executeQuery(InfosetQueryPlugin.java:101)\n</code></pre>\n<p>The error occurs because col1 has some rows with null values. If I order only by col1 or col2, all works well.</p>\n"},{"tags":["java","xml","postgresql","spring-boot","liquibase"],"comments":[{"owner":{"account_id":5209321,"reputation":116,"user_id":4166251,"display_name":"Stanimir Stamenkov"},"score":0,"creation_date":1681549176,"post_id":76020977,"comment_id":134076895,"body_markdown":"Try setting the [`liquibase.sql.logLevel`](https://docs.liquibase.com/parameters/sql-log-level.html) to `INFO` to see the generated SQL statements.","body":"Try setting the <a href=\"https://docs.liquibase.com/parameters/sql-log-level.html\" rel=\"nofollow noreferrer\"><code>liquibase.sql.logLevel</code></a> to <code>INFO</code> to see the generated SQL statements."}],"answers":[{"tags":[],"owner":{"account_id":101001,"reputation":119798,"user_id":271959,"display_name":"Frank Heikens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681559741,"creation_date":1681545121,"answer_id":76020999,"question_id":76020977,"body_markdown":"The correct syntax is either\r\n\r\n    CURRENT_TIMESTAMP\r\nor\r\n\r\n    CURRENT_TIMESTAMP(&lt;precision&gt;)\r\n\r\nFor example `CURRENT_TIMESTAMP(5)` for 5 fractional digits in the seconds field.","title":"liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;)&quot;","body":"<p>The correct syntax is either</p>\n<pre><code>CURRENT_TIMESTAMP\n</code></pre>\n<p>or</p>\n<pre><code>CURRENT_TIMESTAMP(&lt;precision&gt;)\n</code></pre>\n<p>For example <code>CURRENT_TIMESTAMP(5)</code> for 5 fractional digits in the seconds field.</p>\n"}],"owner":{"account_id":18328343,"reputation":11,"user_id":16968310,"display_name":"Bohdan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681559741,"creation_date":1681544769,"question_id":76020977,"body_markdown":" org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/db.changelog-1.0.xml::1.0.0::bohdan.taran:\r\n     Reason: liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;)&quot;\r\n\r\n\r\n```\r\n&lt;changeSet id=&quot;1.0.0&quot; author=&quot;bohdan.taran&quot;&gt;\r\n        &lt;createTable tableName=&quot;users&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;username&quot; type=&quot;VARCHAR(100)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; unique=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;email&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; unique=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;first_name&quot; type=&quot;VARCHAR(100)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;last_name&quot; type=&quot;VARCHAR(100)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;password&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;created&quot; type=&quot;TIMESTAMP&quot; defaultValue=&quot;CURRENT_TIMESTAMP()&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;updated&quot; type=&quot;TIMESTAMP&quot; defaultValue=&quot;CURRENT_TIMESTAMP()&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;status&quot; type=&quot;VARCHAR(25)&quot; defaultValue=&quot;ACTIVE&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\nI can&#39;t find this problem in my code","title":"liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;)&quot;","body":"<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/db.changelog-1.0.xml::1.0.0::bohdan.taran:\nReason: liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;)&quot;</p>\n<pre><code>&lt;changeSet id=&quot;1.0.0&quot; author=&quot;bohdan.taran&quot;&gt;\n        &lt;createTable tableName=&quot;users&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;username&quot; type=&quot;VARCHAR(100)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; unique=&quot;true&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;email&quot; type=&quot;VARCHAR(255)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot; unique=&quot;true&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;first_name&quot; type=&quot;VARCHAR(100)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;last_name&quot; type=&quot;VARCHAR(100)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;password&quot; type=&quot;VARCHAR(255)&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;created&quot; type=&quot;TIMESTAMP&quot; defaultValue=&quot;CURRENT_TIMESTAMP()&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;updated&quot; type=&quot;TIMESTAMP&quot; defaultValue=&quot;CURRENT_TIMESTAMP()&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;status&quot; type=&quot;VARCHAR(25)&quot; defaultValue=&quot;ACTIVE&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<p>I can't find this problem in my code</p>\n"},{"tags":["java","java-8","concurrentlinkedqueue"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1681369108,"post_id":76002435,"comment_id":134045740,"body_markdown":"Well, `queue.add(new Object());` will add an object that your code would never remove so `queue.remove(object);` would always have to look for the the object you just added. When you remove that line then `object` will be at the head of a 1-element queue which makes it way easier to remove.","body":"Well, <code>queue.add(new Object());</code> will add an object that your code would never remove so <code>queue.remove(object);</code> would always have to look for the the object you just added. When you remove that line then <code>object</code> will be at the head of a 1-element queue which makes it way easier to remove."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1681369201,"post_id":76002435,"comment_id":134045764,"body_markdown":"Btw, note that times taken like you did are not directly comparable as there may be many factors influencing the JVM. For such micro benchmarks you should use JMH.","body":"Btw, note that times taken like you did are not directly comparable as there may be many factors influencing the JVM. For such micro benchmarks you should use JMH."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1681369529,"post_id":76002435,"comment_id":134045824,"body_markdown":"On the term &quot;memory leak&quot;: I&#39;d not consider this a real memory leak but in general `remove(Object o)` will use `equals()` to find the object to be removed - and the basic implementation of `Object.equals(...)` will use instance identity. Thus, calling `add(new Object())` will add an instance whose identity you don&#39;t have (as you have no reference to it) so you can&#39;t directly use `remove()` to remove it - you&#39;d need to get the instance from the queue first.","body":"On the term &quot;memory leak&quot;: I&#39;d not consider this a real memory leak but in general <code>remove(Object o)</code> will use <code>equals()</code> to find the object to be removed - and the basic implementation of <code>Object.equals(...)</code> will use instance identity. Thus, calling <code>add(new Object())</code> will add an instance whose identity you don&#39;t have (as you have no reference to it) so you can&#39;t directly use <code>remove()</code> to remove it - you&#39;d need to get the instance from the queue first."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1681370107,"post_id":76002435,"comment_id":134045933,"body_markdown":"IMHO not really a memory leak: there is exactly one element that is added to the queue and stays there. And you could retrieve (and remove) that element anytime you want by calling `queue.poll()`","body":"IMHO not really a memory leak: there is exactly one element that is added to the queue and stays there. And you could retrieve (and remove) that element anytime you want by calling <code>queue.poll()</code>"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681374526,"post_id":76002435,"comment_id":134046861,"body_markdown":"What book was it?","body":"What book was it?"},{"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"score":0,"creation_date":1681376293,"post_id":76002435,"comment_id":134047278,"body_markdown":"@MacGyver，ISBN: 9787111657705","body":"@MacGyver，ISBN: 9787111657705"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681402016,"post_id":76002435,"comment_id":134054061,"body_markdown":"Not necessarily.  Depending on how concurrency is implemented, dealing with memory on a CPU is often a concern, and that is the focus of improving performance.  Look up the term &quot;context switching&quot;.  That is how multiple processes can share a single CPU.","body":"Not necessarily.  Depending on how concurrency is implemented, dealing with memory on a CPU is often a concern, and that is the focus of improving performance.  Look up the term &quot;context switching&quot;.  That is how multiple processes can share a single CPU."}],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681530381,"creation_date":1681530381,"answer_id":76020248,"question_id":76002435,"body_markdown":"Yes. This will cause memory leak issue.\r\n\r\n**Explanation** :  \r\n 1. `queue.add(new Object())` adds a new object to the `ConcurrentLinkedQueue`, which means queue will hold the reference to that object until it is removed. \r\n 2. But in the code snippet same object is getting added and removed\r\n    repeatedly, via queue.remove(object) in the while loop. \r\n\r\nThis might cause the `ConcurrentLinkedQueue` to keep the reference to the object indefinitely, even when the object is no longer needed, causing memory leak.\r\n\r\n&gt; To fix the memory leak issue, remove the line `queue.add(new\r\n&gt; Object())` and only add the object instance to the queue, which is\r\n&gt; being used in the while loop.\r\n\r\n  \r\n\r\n**Note** : Make sure that the object is removed from the queue after it is no longer needed.","title":"Will the use of ConcurrentLinkedQueue cause memory leak?","body":"<p>Yes. This will cause memory leak issue.</p>\n<p><strong>Explanation</strong> :</p>\n<ol>\n<li><code>queue.add(new Object())</code> adds a new object to the <code>ConcurrentLinkedQueue</code>, which means queue will hold the reference to that object until it is removed.</li>\n<li>But in the code snippet same object is getting added and removed\nrepeatedly, via queue.remove(object) in the while loop.</li>\n</ol>\n<p>This might cause the <code>ConcurrentLinkedQueue</code> to keep the reference to the object indefinitely, even when the object is no longer needed, causing memory leak.</p>\n<blockquote>\n<p>To fix the memory leak issue, remove the line <code>queue.add(new Object())</code> and only add the object instance to the queue, which is\nbeing used in the while loop.</p>\n</blockquote>\n<p><strong>Note</strong> : Make sure that the object is removed from the queue after it is no longer needed.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681559738,"creation_date":1681536542,"answer_id":76020516,"question_id":76002435,"body_markdown":"The problem presented in that the book is actually caused by an OpenJDK Bug:  https://bugs.openjdk.org/browse/JDK-8054446.  \r\n\r\nKudos to @MacGyver for finding this!!\r\n\r\nAccording to the analysis on the bug report:\r\n\r\n&gt; &quot;Reporter is correct - `remove(Object)` will never unlink dead Nodes *if only ever the element at the tail is removed&lt;sup&gt;1&lt;/sup&gt;.*&quot;\r\n\r\n(Emphasis added)\r\n\r\nThe bug report shows that the issue was initially raised against Java 8 in 2014, and was fixed in Java 9 in 2019.  The fix was subsequently backported to Java 8 and Java 7.  \r\n\r\nNote that Java 7 is EOL.  To get a Java 7 release with the fix, I think you will either need an Oracle support contract, or you will need to use a 3rd-party Java 7 release.\r\n\r\n-----------------------------\r\n\r\nSo to you answer your question:\r\n\r\n&gt; Will the use of `ConcurrentLinkedQueue` cause memory leak?\r\n\r\nIf you are using an out-of-date version of Java AND you are repeatedly removing the last element of the queue, then Yes.  Otherwise No.\r\n\r\nSolution: use an up-to-date version of Java 7, 8 or later.\r\n\r\nI should also point out that using `remove(E)` on a `Queue` / `Deque` is kind of a bad idea anyway.  It is an `O(N)` operation compared with `O(1)` for `add(E)`, `offer(E)`, `remove()`, `poll()`, `element()` and `peek()` (and the equivalent `Deque` operations).\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - I didn&#39;t look at the original source code to see if the leak could occur in other circumstances, but I am prepared to take the official analysis at face value.&lt;/sup&gt; ","title":"Will the use of ConcurrentLinkedQueue cause memory leak?","body":"<p>The problem presented in that the book is actually caused by an OpenJDK Bug:  <a href=\"https://bugs.openjdk.org/browse/JDK-8054446\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8054446</a>.</p>\n<p>Kudos to @MacGyver for finding this!!</p>\n<p>According to the analysis on the bug report:</p>\n<blockquote>\n<p>&quot;Reporter is correct - <code>remove(Object)</code> will never unlink dead Nodes <em>if only ever the element at the tail is removed<sup>1</sup>.</em>&quot;</p>\n</blockquote>\n<p>(Emphasis added)</p>\n<p>The bug report shows that the issue was initially raised against Java 8 in 2014, and was fixed in Java 9 in 2019.  The fix was subsequently backported to Java 8 and Java 7.</p>\n<p>Note that Java 7 is EOL.  To get a Java 7 release with the fix, I think you will either need an Oracle support contract, or you will need to use a 3rd-party Java 7 release.</p>\n<hr />\n<p>So to you answer your question:</p>\n<blockquote>\n<p>Will the use of <code>ConcurrentLinkedQueue</code> cause memory leak?</p>\n</blockquote>\n<p>If you are using an out-of-date version of Java AND you are repeatedly removing the last element of the queue, then Yes.  Otherwise No.</p>\n<p>Solution: use an up-to-date version of Java 7, 8 or later.</p>\n<p>I should also point out that using <code>remove(E)</code> on a <code>Queue</code> / <code>Deque</code> is kind of a bad idea anyway.  It is an <code>O(N)</code> operation compared with <code>O(1)</code> for <code>add(E)</code>, <code>offer(E)</code>, <code>remove()</code>, <code>poll()</code>, <code>element()</code> and <code>peek()</code> (and the equivalent <code>Deque</code> operations).</p>\n<hr />\n<p><sup>1 - I didn't look at the original source code to see if the leak could occur in other circumstances, but I am prepared to take the official analysis at face value.</sup></p>\n"}],"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681559738,"creation_date":1681368578,"question_id":76002435,"body_markdown":"I read from a book that the following code will cause memory leak,and the book tells that we should remove the code `queue.add(new Object());` and it will not cause memory leak. but I don&#39;t know why. Why?\r\n\r\n \r\n\r\n    import com.google.common.base.Stopwatch;\r\n    import java.util.concurrent.ConcurrentLinkedQueue;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    public class ConcurrentLinkedQueueMemLeak\r\n     {\r\n    public static void main(String[] args) throws InterruptedException\r\n    {\r\n        ConcurrentLinkedQueue&lt;Object&gt; queue =\r\n                        new ConcurrentLinkedQueue&lt;&gt;();\r\n        queue.add(new Object()); // ① 这一行代码会导致内存泄漏\r\n        Object object = new Object();\r\n\r\n        int loops = 0;\r\n\r\n        // 休眠10秒，方便打开JDK诊断工具，监控执行前后的内存变化\r\n        TimeUnit.SECONDS.sleep(10);\r\n\r\n        Stopwatch watch = Stopwatch.createStarted();\r\n        while (true)\r\n        {\r\n            // 每执行10000次进行一次耗时统计，并且输出\r\n            if (loops % 10000 == 0 &amp;&amp; loops != 0)\r\n            {\r\n                long elapsedMs = watch.stop()\r\n                    .elapsed(TimeUnit.MILLISECONDS);\r\n                System.out.printf(&quot;loops=%d duration=%d MS%n&quot;, loops, elapsedMs);\r\n                watch.reset().start();\r\n            }\r\n            queue.add(object);\r\n            // ② remove方法删除object\r\n            queue.remove(object);\r\n            ++loops;\r\n        }\r\n    }\r\n    }\r\n\r\nbefore remove the code queue.add(new Object()):\r\n\r\n    loops=10000 duration=588 MS\r\n    loops=20000 duration=1881 MS\r\n    loops=30000 duration=3175 MS\r\n    loops=40000 duration=3452 MS\r\n    loops=50000 duration=3784 MS\r\n    loops=60000 duration=4424 MS\r\n    loops=70000 duration=4761 MS\r\n    loops=80000 duration=5733 MS\r\n\r\nafter remove the code queue.add(new Object()):\r\n\r\n    loops=363590000 duration=0 MS\r\n    loops=363600000 duration=0 MS\r\n    loops=363610000 duration=0 MS\r\n    loops=363620000 duration=0 MS\r\n    loops=363630000 duration=1 MS","title":"Will the use of ConcurrentLinkedQueue cause memory leak?","body":"<p>I read from a book that the following code will cause memory leak,and the book tells that we should remove the code <code>queue.add(new Object());</code> and it will not cause memory leak. but I don't know why. Why?</p>\n<pre><code>import com.google.common.base.Stopwatch;\nimport java.util.concurrent.ConcurrentLinkedQueue;\nimport java.util.concurrent.TimeUnit;\n\npublic class ConcurrentLinkedQueueMemLeak\n {\npublic static void main(String[] args) throws InterruptedException\n{\n    ConcurrentLinkedQueue&lt;Object&gt; queue =\n                    new ConcurrentLinkedQueue&lt;&gt;();\n    queue.add(new Object()); // ① 这一行代码会导致内存泄漏\n    Object object = new Object();\n\n    int loops = 0;\n\n    // 休眠10秒，方便打开JDK诊断工具，监控执行前后的内存变化\n    TimeUnit.SECONDS.sleep(10);\n\n    Stopwatch watch = Stopwatch.createStarted();\n    while (true)\n    {\n        // 每执行10000次进行一次耗时统计，并且输出\n        if (loops % 10000 == 0 &amp;&amp; loops != 0)\n        {\n            long elapsedMs = watch.stop()\n                .elapsed(TimeUnit.MILLISECONDS);\n            System.out.printf(&quot;loops=%d duration=%d MS%n&quot;, loops, elapsedMs);\n            watch.reset().start();\n        }\n        queue.add(object);\n        // ② remove方法删除object\n        queue.remove(object);\n        ++loops;\n    }\n}\n}\n</code></pre>\n<p>before remove the code queue.add(new Object()):</p>\n<pre><code>loops=10000 duration=588 MS\nloops=20000 duration=1881 MS\nloops=30000 duration=3175 MS\nloops=40000 duration=3452 MS\nloops=50000 duration=3784 MS\nloops=60000 duration=4424 MS\nloops=70000 duration=4761 MS\nloops=80000 duration=5733 MS\n</code></pre>\n<p>after remove the code queue.add(new Object()):</p>\n<pre><code>loops=363590000 duration=0 MS\nloops=363600000 duration=0 MS\nloops=363610000 duration=0 MS\nloops=363620000 duration=0 MS\nloops=363630000 duration=1 MS\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1441973907,"post_id":32523130,"comment_id":52904216,"body_markdown":"These look like belonging to `\\p{Lo}` category.","body":"These look like belonging to <code>\\p{Lo}</code> category."},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1441974139,"post_id":32523130,"comment_id":52904376,"body_markdown":"@stribizhev it&#39;s working, but the definition of \\p{Lo} from http://www.regular-expressions.info/unicode.html seems to be saying that it might match characters other than numbers?","body":"@stribizhev it&#39;s working, but the definition of \\p{Lo} from <a href=\"http://www.regular-expressions.info/unicode.html\" rel=\"nofollow noreferrer\">regular-expressions.info/unicode.html</a> seems to be saying that it might match characters other than numbers?"},{"owner":{"display_name":"user319799"},"score":0,"creation_date":1441974386,"post_id":32523130,"comment_id":52904536,"body_markdown":"Is there any (easily automatable) way to tell if this characters are used as digits? Can they be used as non-numeric part of words/text?","body":"Is there any (easily automatable) way to tell if this characters are used as digits? Can they be used as non-numeric part of words/text?"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1441974810,"post_id":32523130,"comment_id":52904810,"body_markdown":"No idea, the only solution that I can think of is just add them all into the character class. Like `&quot;(?U)[\\\\p{N}一二三四五六七八九十百千万萬億亿兆零]+&quot;`.","body":"No idea, the only solution that I can think of is just add them all into the character class. Like <code>&quot;(?U)[\\\\p{N}一二三四五六七八九十百千万萬億亿兆零]+&quot;</code>."},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1441974967,"post_id":32523130,"comment_id":52904915,"body_markdown":"@stribizhev but this solution would only be able to help support Chinese, how will i be able to do this for all the unsupported languages?\ndo you know of any character which falls under \\\\p{Lo} but isn&#39;t a number?","body":"@stribizhev but this solution would only be able to help support Chinese, how will i be able to do this for all the unsupported languages? do you know of any character which falls under \\\\p{Lo} but isn&#39;t a number?"},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1441975126,"post_id":32523130,"comment_id":52905011,"body_markdown":"No, I am afraid that is something I cannot be sure of.","body":"No, I am afraid that is something I cannot be sure of."},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1441975317,"post_id":32523130,"comment_id":52905138,"body_markdown":"@stribizhev ok, thank you very much for your support :)","body":"@stribizhev ok, thank you very much for your support :)"},{"owner":{"account_id":155533,"reputation":90025,"user_id":372239,"accept_rate":80,"display_name":"Toto"},"score":1,"creation_date":1441975558,"post_id":32523130,"comment_id":52905267,"body_markdown":"I don&#39;t know anything on chinese characters, but are you sure these characters `三十萬零二百五十` are numbers and not literals like `one two three ...`","body":"I don&#39;t know anything on chinese characters, but are you sure these characters <code>三十萬零二百五十</code> are numbers and not literals like <code>one two three ...</code>"},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1441975687,"post_id":32523130,"comment_id":52905339,"body_markdown":"@Toto i also don&#39;t know Chinese :), but i referred dozens of links, some of them being:\n\nhttp://www.mandarintools.com/numbers.html\nhttps://en.wikibooks.org/wiki/Chinese_%28Mandarin%29/Numbers","body":"@Toto i also don&#39;t know Chinese :), but i referred dozens of links, some of them being:  <a href=\"http://www.mandarintools.com/numbers.html\" rel=\"nofollow noreferrer\">mandarintools.com/numbers.html</a> <a href=\"https://en.wikibooks.org/wiki/Chinese_%28Mandarin%29/Numbers\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Chinese_%28Mandarin%29/Numbers</a>"},{"owner":{"account_id":155533,"reputation":90025,"user_id":372239,"accept_rate":80,"display_name":"Toto"},"score":0,"creation_date":1441976016,"post_id":32523130,"comment_id":52905531,"body_markdown":"I&#39;ve just tried google traduction from english to chinese, for `1` it gives `1`, for `one` it gives `一` same for `3` =&gt; `3` and `three` =&gt; `三`","body":"I&#39;ve just tried google traduction from english to chinese, for <code>1</code> it gives <code>1</code>, for <code>one</code> it gives <code>一</code> same for <code>3</code> =&gt; <code>3</code> and <code>three</code> =&gt; <code>三</code>"},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1441976112,"post_id":32523130,"comment_id":52905592,"body_markdown":"@Toto yes i have already tried that too, google can&#39;t always be right ;)","body":"@Toto yes i have already tried that too, google can&#39;t always be right ;)"},{"owner":{"account_id":155533,"reputation":90025,"user_id":372239,"accept_rate":80,"display_name":"Toto"},"score":0,"creation_date":1441976202,"post_id":32523130,"comment_id":52905657,"body_markdown":"Sure :) ; waiting for a chinese people that can answer.","body":"Sure :) ; waiting for a chinese people that can answer."},{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":4,"creation_date":1441978756,"post_id":32523130,"comment_id":52907493,"body_markdown":"If that is only a Chinese issue, you can use the approach I suggested. Also, here is [a nice resource on Chinese numbers](http://www.mandarintools.com/numbers.html). Acc. to that page, the Chinese numbers can be matched with `[\\\\p{N}零一二三四五六七八九十百千萬億万亿壹貳叄肆伍陸柒捌玖拾佰仟贰叁陆]`.","body":"If that is only a Chinese issue, you can use the approach I suggested. Also, here is <a href=\"http://www.mandarintools.com/numbers.html\" rel=\"nofollow noreferrer\">a nice resource on Chinese numbers</a>. Acc. to that page, the Chinese numbers can be matched with <code>[\\\\p{N}零一二三四五六七八九十百千萬億万亿壹貳叄肆伍陸柒捌玖拾佰仟贰叁陆]</code>."},{"owner":{"account_id":6942679,"reputation":10835,"user_id":5328417,"accept_rate":65,"display_name":"Arsen"},"score":0,"creation_date":1442404500,"post_id":32523130,"comment_id":53066596,"body_markdown":"@SarthakMittal can you give more examples? I have written solution below and I want to text it","body":"@SarthakMittal can you give more examples? I have written solution below and I want to text it"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666268792,"post_id":32523130,"comment_id":130899322,"body_markdown":"Since when Chinese use Chinese characters for there phone numbers instead of typing arabic numbers? Did you ever write **your** phone number as a word like &quot;onemilliontwohundredthirtyfourthousandfivehundredsixtyseven&quot;? Doesn&#39;t make sense at all. Why should Chinese do so?","body":"Since when Chinese use Chinese characters for there phone numbers instead of typing arabic numbers? Did you ever write <b>your</b> phone number as a word like &quot;onemilliontwohundredthirtyfourthousandfivehundredsixtyseven&zwnj;&#8203;&quot;? Doesn&#39;t make sense at all. Why should Chinese do so?"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666268928,"post_id":32523130,"comment_id":130899370,"body_markdown":"`三十萬零二百五十` is normally written as `三十萬零二百五`. By the way: `二百五` (250) means &quot;idiot&quot; in Chinese language.","body":"<code>三十萬零二百五十</code> is normally written as <code>三十萬零二百五</code>. By the way: <code>二百五</code> (250) means &quot;idiot&quot; in Chinese language."}],"answers":[{"tags":[],"owner":{"account_id":2505165,"reputation":827,"user_id":2179112,"display_name":"Heinrich supports Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442682812,"creation_date":1442682812,"answer_id":32671039,"question_id":32523130,"body_markdown":"as some have already pointed out in the comments, these are the words used for numbers, i.e. &quot;one&quot;, &quot;two&quot;, &quot;three&quot; etc.\r\nChina introduced the indo-arabic numbers in the 19th century, so `\\p{N}` should also match Chinese numbers. If you also want the literals, you should include them, as stribizhev suggested.","title":"Regex for matching multilingual numbers not detecting Chinese numbers","body":"<p>as some have already pointed out in the comments, these are the words used for numbers, i.e. \"one\", \"two\", \"three\" etc.\nChina introduced the indo-arabic numbers in the 19th century, so <code>\\p{N}</code> should also match Chinese numbers. If you also want the literals, you should include them, as stribizhev suggested.</p>\n"},{"tags":[],"owner":{"account_id":9911496,"reputation":121,"user_id":7338045,"display_name":"Rahul Brahmbhatt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681558707,"creation_date":1681558707,"answer_id":76022018,"question_id":32523130,"body_markdown":"If you try with javascript it will work with This regex Pattern\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const stringNumber = &quot;三十萬零二百五十12&quot;;\r\n    const regex = /\\d+/g; \r\n\r\n    const numbers = stringNumber.match(regex);\r\n\r\n    console.log(numbers);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Regex for matching multilingual numbers not detecting Chinese numbers","body":"<p>If you try with javascript it will work with This regex Pattern</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const stringNumber = \"三十萬零二百五十12\";\nconst regex = /\\d+/g; \n\nconst numbers = stringNumber.match(regex);\n\nconsole.log(numbers);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1716,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1681558707,"creation_date":1441973140,"question_id":32523130,"body_markdown":"I have a method which detects whether a String is a number:\r\n\r\n    public static boolean isNumber(String num)\r\n    {\r\n    \treturn num.matches(&quot;(\\\\p{N})+&quot;);\r\n    }\r\n    \r\nThe above method is successfully matching English, Hindi, Arabic numbers but fails to match Chinese numbers:\r\n\r\n三十萬零二百五十 etc.\r\n\r\nIs it possible to create a regex which can match a number from any language(or major languages)? \r\n\r\nedit: the number won&#39;t be a decimal, it will be used to validate a phone number.","title":"Regex for matching multilingual numbers not detecting Chinese numbers","body":"<p>I have a method which detects whether a String is a number:</p>\n\n<pre><code>public static boolean isNumber(String num)\n{\n    return num.matches(\"(\\\\p{N})+\");\n}\n</code></pre>\n\n<p>The above method is successfully matching English, Hindi, Arabic numbers but fails to match Chinese numbers:</p>\n\n<p>三十萬零二百五十 etc.</p>\n\n<p>Is it possible to create a regex which can match a number from any language(or major languages)? </p>\n\n<p>edit: the number won't be a decimal, it will be used to validate a phone number.</p>\n"},{"tags":["java","exception","executorservice","scheduledexecutorservice"],"answers":[{"tags":[],"owner":{"account_id":19136733,"reputation":67,"user_id":16967432,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681558475,"creation_date":1680868284,"answer_id":75958147,"question_id":75957232,"body_markdown":"This worked for me:\r\n```\r\npublic void restart() throws Exception {\r\n    CompletableFuture&lt;?&gt; delayed = new CompletableFuture&lt;&gt;();\r\n    ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n    executorService.scheduleWithFixedDelay(() -&gt; {\r\n        try {\r\n            throw new RuntimeException(&quot;My exception.&quot;);\r\n        } catch(Exception e) {\r\n            delayed.completeExceptionally(e);\r\n        }\r\n    }, 1000L, 150L, TimeUnit.MILLISECONDS);\r\n\r\n    try {\r\n        delayed.get();\r\n    } catch (ExecutionException e) {\r\n        throw (Exception) e.getCause();\r\n    }\r\n}\r\n```\r\n\r\nIn this modified code, we are calling the ``get()`` method on the delayed ``CompletableFuture``, which blocks until the ``CompletableFuture`` is completed. If the ``CompletableFuture`` is completed exceptionally, ``get()`` throws an ``ExecutionException`` with the original exception as its cause. We then extract the cause and rethrow it as an ``Exception``. This way, the exception is bubbled up to the ``restart()`` method and can be handled appropriately.\r\n\r\nBut if we want to achieve it without using blocking get call, we can use callback `Consumer&lt;Throwable&gt; callback` and if exeption throws, use `callback.accept(e);` like in this snippet:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        restart((t) -&gt; System.out.println(&quot;Exception occurred: &quot; + t.getMessage()));\r\n    }\r\n\r\n    public static void restart(Consumer&lt;Throwable&gt; callback) {\r\n        CompletableFuture.runAsync(() -&gt; {\r\n            try {\r\n                // Code that may throw an exception goes here\r\n                throw new RuntimeException(&quot;My exception.&quot;);\r\n            } catch (Exception e) {\r\n                callback.accept(e);\r\n            }\r\n        });\r\n    }\r\n\r\n```","title":"How to throw new exception in ScheduledExecutorService?","body":"<p>This worked for me:</p>\n<pre><code>public void restart() throws Exception {\n    CompletableFuture&lt;?&gt; delayed = new CompletableFuture&lt;&gt;();\n    ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n    executorService.scheduleWithFixedDelay(() -&gt; {\n        try {\n            throw new RuntimeException(&quot;My exception.&quot;);\n        } catch(Exception e) {\n            delayed.completeExceptionally(e);\n        }\n    }, 1000L, 150L, TimeUnit.MILLISECONDS);\n\n    try {\n        delayed.get();\n    } catch (ExecutionException e) {\n        throw (Exception) e.getCause();\n    }\n}\n</code></pre>\n<p>In this modified code, we are calling the <code>get()</code> method on the delayed <code>CompletableFuture</code>, which blocks until the <code>CompletableFuture</code> is completed. If the <code>CompletableFuture</code> is completed exceptionally, <code>get()</code> throws an <code>ExecutionException</code> with the original exception as its cause. We then extract the cause and rethrow it as an <code>Exception</code>. This way, the exception is bubbled up to the <code>restart()</code> method and can be handled appropriately.</p>\n<p>But if we want to achieve it without using blocking get call, we can use callback <code>Consumer&lt;Throwable&gt; callback</code> and if exeption throws, use <code>callback.accept(e);</code> like in this snippet:</p>\n<pre><code>    public static void main(String[] args) {\n        restart((t) -&gt; System.out.println(&quot;Exception occurred: &quot; + t.getMessage()));\n    }\n\n    public static void restart(Consumer&lt;Throwable&gt; callback) {\n        CompletableFuture.runAsync(() -&gt; {\n            try {\n                // Code that may throw an exception goes here\n                throw new RuntimeException(&quot;My exception.&quot;);\n            } catch (Exception e) {\n                callback.accept(e);\n            }\n        });\n    }\n\n</code></pre>\n"}],"owner":{"account_id":4211959,"reputation":89,"user_id":3449390,"display_name":"BountyHunter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75958147,"answer_count":1,"score":1,"last_activity_date":1681558475,"creation_date":1680860044,"question_id":75957232,"body_markdown":"I have the following code:\r\n\r\n```\r\npublic void restart() throws Exception\r\n{\r\n   CompletableFuture&lt;?&gt; delayed = new CompletableFuture&lt;&gt;(); \r\n   ScheduledExecutorService executorService = \r\n   Executors.newSingleThreadScheduledExecutor();\r\n   executorService.scheduleWithFixedDelay(() -&gt; \r\n   {\r\n      try\r\n      {\r\n         throw new RuntimeException(&quot;My exception.&quot;);\r\n      }\r\n      catch(Exception e)\r\n      {\r\n         delayed.completeExceptionally(e);\r\n      }\r\n   }, 1000L, 150L, TimeUnit.MILLISECONDS));\r\n\r\n   delayed.whenCompleteAsync((r, t) -&gt; {\r\n      if (t != null)\r\n      {\r\n         throw new RuntimeException(t);\r\n      }\r\n   });\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying to bubble up the exception which I&#39;ll catch in my `executorService`. But what happens instead is that the exception is thrown in the try block which is caught and `CompletableFuture` is `completedExceptionally`. Which then rethrows the exception. I was hoping that this way I&#39;d be able to bubble up the exception. \r\n\r\nBut unfortunately, that&#39;s not what&#39;s happening. The `delayed` throws the exception but it doesn&#39;t bubble up. On top of that for some reason, the exception loop starts right after this. Which is try keeps throwing exception and catch keeps catching but of course `completableFuture` has already been completed so it doesn&#39;t come to that.\r\n\r\nThe question is how can we handle and bubble up the exception?","title":"How to throw new exception in ScheduledExecutorService?","body":"<p>I have the following code:</p>\n<pre><code>public void restart() throws Exception\n{\n   CompletableFuture&lt;?&gt; delayed = new CompletableFuture&lt;&gt;(); \n   ScheduledExecutorService executorService = \n   Executors.newSingleThreadScheduledExecutor();\n   executorService.scheduleWithFixedDelay(() -&gt; \n   {\n      try\n      {\n         throw new RuntimeException(&quot;My exception.&quot;);\n      }\n      catch(Exception e)\n      {\n         delayed.completeExceptionally(e);\n      }\n   }, 1000L, 150L, TimeUnit.MILLISECONDS));\n\n   delayed.whenCompleteAsync((r, t) -&gt; {\n      if (t != null)\n      {\n         throw new RuntimeException(t);\n      }\n   });\n}\n\n</code></pre>\n<p>I'm trying to bubble up the exception which I'll catch in my <code>executorService</code>. But what happens instead is that the exception is thrown in the try block which is caught and <code>CompletableFuture</code> is <code>completedExceptionally</code>. Which then rethrows the exception. I was hoping that this way I'd be able to bubble up the exception.</p>\n<p>But unfortunately, that's not what's happening. The <code>delayed</code> throws the exception but it doesn't bubble up. On top of that for some reason, the exception loop starts right after this. Which is try keeps throwing exception and catch keeps catching but of course <code>completableFuture</code> has already been completed so it doesn't come to that.</p>\n<p>The question is how can we handle and bubble up the exception?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1681581211,"post_id":76021964,"comment_id":134080943,"body_markdown":"so what&#39;s your question?","body":"so what&#39;s your question?"}],"owner":{"account_id":28312618,"reputation":1,"user_id":21649656,"display_name":"user21649656"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681558219,"creation_date":1681558033,"question_id":76021964,"body_markdown":"Error \r\npr 15, 2023 4:46:57 PM org.apache.coyote.http11.Http11Processor service\r\nSEVERE: Error processing request\r\n\r\n\r\n\r\njava.io.UncheckedIOException: Cannot delete C:\\Users\\TANMAY\\Desktop\\TT EE\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\work\\Catalina\\localhost\\Micro\\upload_93202c4e_25ff_4345_a09c_59717f93cba9_00000007.tmp\r\n\tat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:431)\r\n\tat org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)\r\n\tat org.apache.catalina.connector.Request.recycle(Request.java:474)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1623)\r\nCaused by: java.io.IOException: Cannot delete C:\\Users\\TANMAY\\Desktop\\TT EE\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\work\\Catalina\\localhost\\Micro\\upload_93202c4e_25ff_4345_a09c_59717f93cba9_00000007.tmp\r\n\t... 13 more\r\n\r\n\r\n\r\n","title":"IOException SEVERE: Error processing request","body":"<p>Error\npr 15, 2023 4:46:57 PM org.apache.coyote.http11.Http11Processor service\nSEVERE: Error processing request</p>\n<p>java.io.UncheckedIOException: Cannot delete C:\\Users\\TANMAY\\Desktop\\TT EE.metadata.plugins\\org.eclipse.wst.server.core\\tmp1\\work\\Catalina\\localhost\\Micro\\upload_93202c4e_25ff_4345_a09c_59717f93cba9_00000007.tmp\nat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:431)\nat org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)\nat org.apache.catalina.connector.Request.recycle(Request.java:474)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.io.IOException: Cannot delete C:\\Users\\TANMAY\\Desktop\\TT EE.metadata.plugins\\org.eclipse.wst.server.core\\tmp1\\work\\Catalina\\localhost\\Micro\\upload_93202c4e_25ff_4345_a09c_59717f93cba9_00000007.tmp\n... 13 more</p>\n"},{"tags":["java","filter","java-stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1681458066,"post_id":76012604,"comment_id":134062470,"body_markdown":"i m not sure about efficient, but you could probably prettify it by using some sort of chain of responsibility pattern. If the list is not empty, pass it on to next handler until last handler then throw an exception if needed, but it would probably just create more boiler plate code than its worth","body":"i m not sure about efficient, but you could probably prettify it by using some sort of chain of responsibility pattern. If the list is not empty, pass it on to next handler until last handler then throw an exception if needed, but it would probably just create more boiler plate code than its worth"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681461028,"creation_date":1681460127,"answer_id":76012947,"question_id":76012604,"body_markdown":"This needs a recursive style implementation.\r\n\r\n```java\r\npublic Object lastRemaining(List&lt;Object&gt; listOfObjects, List&lt; Predicate&lt;Object&gt; &gt; filters, int depth) {\r\n    List&lt;Object&gt; filteredObjects = \r\n        emptyIfNull(listOfObjects).stream()\r\n            .filter(filters.get(depth) // may get index out of bounds if not enough filters\r\n            .collect(Collectors.toList());\r\n\r\n    if (filteredObjects.size() == 1) {\r\n        return filteredObjects.get(0);\r\n    } else if (filteredObjects.isEmpty()) {\r\n        throw new Exception();\r\n    } else {\r\n        return lastRemaining(filteredObjects, filters, ++depth);\r\n    }\r\n}\r\n```\r\n\r\nAnd call it like this:\r\n\r\n```java\r\nPredicate&lt;Object&gt; filter1 = o -&gt; o.hashCode() &gt; 5;\r\nPredicate&lt;Object&gt; filter2 = o -&gt; o.hashCode() &lt; 10;\r\n    \r\nfilters.add(filter1);\r\nfilters.add(filter2);\r\nlastRemaining(getAllObjects(), filters, 0);\r\n```\r\n\r\n\r\n\r\n","title":"How to keep filtering a java stream until there&#39;s only one match?","body":"<p>This needs a recursive style implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object lastRemaining(List&lt;Object&gt; listOfObjects, List&lt; Predicate&lt;Object&gt; &gt; filters, int depth) {\n    List&lt;Object&gt; filteredObjects = \n        emptyIfNull(listOfObjects).stream()\n            .filter(filters.get(depth) // may get index out of bounds if not enough filters\n            .collect(Collectors.toList());\n\n    if (filteredObjects.size() == 1) {\n        return filteredObjects.get(0);\n    } else if (filteredObjects.isEmpty()) {\n        throw new Exception();\n    } else {\n        return lastRemaining(filteredObjects, filters, ++depth);\n    }\n}\n</code></pre>\n<p>And call it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;Object&gt; filter1 = o -&gt; o.hashCode() &gt; 5;\nPredicate&lt;Object&gt; filter2 = o -&gt; o.hashCode() &lt; 10;\n    \nfilters.add(filter1);\nfilters.add(filter2);\nlastRemaining(getAllObjects(), filters, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681558129,"creation_date":1681558129,"answer_id":76021972,"question_id":76012604,"body_markdown":"You can simplify your code by not checking for `size() == 0` and have a loop over the filters. A simple method call like this:\r\n\r\n    static Object findOne(List&lt;Object&gt; listOfObjects, Predicate&lt;Object&gt; ... filters) {\r\n        // Ideally use:  Objects.requireNonNull(listOfObjects);\r\n        listOfObjects = emptyIfNull(listOfObjects);\r\n        for (Predicate&lt;Object&gt; filter : filters) {\r\n            listOfObjects = listOfObjects.stream().filter(filter)\r\n                        .collect(Collectors.toList()); // later JDKs: .toList()\r\n            if (listOfObjects.size() == 1) {\r\n                return listOfObjects.get(0);\r\n            }\r\n        }\r\n        throw new RuntimeException(&quot;Not found match&quot;);\r\n    }\r\n    \r\nCall with:\r\n\r\n    Object match = findOne(getAllObjects(), filter1(), filter2(), filter3() /** , ETC */);\r\n\r\n","title":"How to keep filtering a java stream until there&#39;s only one match?","body":"<p>You can simplify your code by not checking for <code>size() == 0</code> and have a loop over the filters. A simple method call like this:</p>\n<pre><code>static Object findOne(List&lt;Object&gt; listOfObjects, Predicate&lt;Object&gt; ... filters) {\n    // Ideally use:  Objects.requireNonNull(listOfObjects);\n    listOfObjects = emptyIfNull(listOfObjects);\n    for (Predicate&lt;Object&gt; filter : filters) {\n        listOfObjects = listOfObjects.stream().filter(filter)\n                    .collect(Collectors.toList()); // later JDKs: .toList()\n        if (listOfObjects.size() == 1) {\n            return listOfObjects.get(0);\n        }\n    }\n    throw new RuntimeException(&quot;Not found match&quot;);\n}\n</code></pre>\n<p>Call with:</p>\n<pre><code>Object match = findOne(getAllObjects(), filter1(), filter2(), filter3() /** , ETC */);\n</code></pre>\n"}],"owner":{"account_id":14968254,"reputation":120,"user_id":10805890,"display_name":"Link"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681558129,"creation_date":1681457609,"question_id":76012604,"body_markdown":"I have a list of objects and I need to choose the one that matches on most conditions. This means that I need to keep filtering until there&#39;s only one element left or until there&#39;s no elements left - in which case I throw.\r\nI only have 3 levels of filtering as of now, so if by the last filter there&#39;s 0 or more than one matches, I throw too. And yes, the order of the filtering matters.\r\n\r\nI wrote something that works but I wonder if there&#39;s any way of making it prettier or more efficient. Any help appreciated!\r\n\r\n```java\r\nList&lt;Object&gt; listOfObjects = getAllObjects();\r\n\r\nList&lt;Object&gt; filteredObjects1 =\r\n    emptyIfNull(listOfObjects).stream()\r\n        .filter(filter1())\r\n        .collect(Collectors.toList());\r\n\r\nif (filteredObjects1.size() == 1) {\r\n    return filteredObjects1.get(0);\r\n}\r\n\r\nif (filteredObjects1.size() == 0) {\r\n    throw new Exception();\r\n}\r\n\r\nList&lt;Object&gt; filteredObjects2 =\r\n    emptyIfNull(filteredObjects1).stream()\r\n        .filter(filter2())\r\n        .collect(Collectors.toList());\r\n\r\nif (filteredObjects2.size() == 1) {\r\n    return filteredObjects2.get(0);\r\n}\r\n\r\nif (filteredObjects2.size() == 0) {\r\n    throw new Exception();\r\n}\r\n\r\nList&lt;Object&gt; filteredObjects3 =\r\n    emptyIfNull(filteredObjects1).stream()\r\n        .filter(filter3())\r\n        .collect(Collectors.toList());\r\n\r\nif (filteredObjects3.size() == 1) {\r\n    return filteredObjects3.get(0);\r\n} \r\n\r\nthrow new Exception();\r\n```","title":"How to keep filtering a java stream until there&#39;s only one match?","body":"<p>I have a list of objects and I need to choose the one that matches on most conditions. This means that I need to keep filtering until there's only one element left or until there's no elements left - in which case I throw.\nI only have 3 levels of filtering as of now, so if by the last filter there's 0 or more than one matches, I throw too. And yes, the order of the filtering matters.</p>\n<p>I wrote something that works but I wonder if there's any way of making it prettier or more efficient. Any help appreciated!</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object&gt; listOfObjects = getAllObjects();\n\nList&lt;Object&gt; filteredObjects1 =\n    emptyIfNull(listOfObjects).stream()\n        .filter(filter1())\n        .collect(Collectors.toList());\n\nif (filteredObjects1.size() == 1) {\n    return filteredObjects1.get(0);\n}\n\nif (filteredObjects1.size() == 0) {\n    throw new Exception();\n}\n\nList&lt;Object&gt; filteredObjects2 =\n    emptyIfNull(filteredObjects1).stream()\n        .filter(filter2())\n        .collect(Collectors.toList());\n\nif (filteredObjects2.size() == 1) {\n    return filteredObjects2.get(0);\n}\n\nif (filteredObjects2.size() == 0) {\n    throw new Exception();\n}\n\nList&lt;Object&gt; filteredObjects3 =\n    emptyIfNull(filteredObjects1).stream()\n        .filter(filter3())\n        .collect(Collectors.toList());\n\nif (filteredObjects3.size() == 1) {\n    return filteredObjects3.get(0);\n} \n\nthrow new Exception();\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1681557918,"post_id":76021919,"comment_id":134077849,"body_markdown":"`Scanner.Sc` would try to reference a nested/inner class called `Sc` inside of `Scanner`. Such a class does not exist. You *probably* meant to write `Scanner Sc` (which would define a variable named `Sc` of type `Scanner`). Also (and that&#39;s not a cause for a problem, but just a good suggestion): the naming convention in Java says that variables should start with a lower case letter, so `Scanner sc` is the more common/widely understood way.","body":"<code>Scanner.Sc</code> would try to reference a nested/inner class called <code>Sc</code> inside of <code>Scanner</code>. Such a class does not exist. You <i>probably</i> meant to write <code>Scanner Sc</code> (which would define a variable named <code>Sc</code> of type <code>Scanner</code>). Also (and that&#39;s not a cause for a problem, but just a good suggestion): the naming convention in Java says that variables should start with a lower case letter, so <code>Scanner sc</code> is the more common/widely understood way."}],"owner":{"account_id":24912938,"reputation":9,"user_id":18782262,"display_name":"Pallavi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1681557836,"answer_count":0,"score":0,"last_activity_date":1681557815,"creation_date":1681557535,"question_id":76021919,"body_markdown":"```\r\nimport java.util.*;\r\npublic class add {\r\n\r\n    public static void main (String args[]){\r\n\r\n        Scanner.Sc = new Scanner(System.in);\r\n        int a = Sc.nextInt();\r\n        int b =  Sc.nextInt();\r\n        int sum=  a+b;\r\n\r\n        System.out.println(sum);\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n    \r\n}\r\n```\r\n\r\nProblem:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n        Sc cannot be resolved or is not a field\r\n        Sc cannot be resolved\r\n        Sc cannot be resolved\r\n\r\n        at add.main(add.java:6)\r\n\r\n\r\n\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n        Sc cannot be resolved or is not a field\r\n        Sc cannot be resolved\r\n        Sc cannot be resolved\r\n\r\n        at add.main(add.java:6)\r\n```","title":"Scanner class &#39;SC&#39; Sc cannot be resolved or is not a field","body":"<pre><code>import java.util.*;\npublic class add {\n\n    public static void main (String args[]){\n\n        Scanner.Sc = new Scanner(System.in);\n        int a = Sc.nextInt();\n        int b =  Sc.nextInt();\n        int sum=  a+b;\n\n        System.out.println(sum);\n\n\n\n\n\n    }\n    \n}\n</code></pre>\n<p>Problem:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n        Sc cannot be resolved or is not a field\n        Sc cannot be resolved\n        Sc cannot be resolved\n\n        at add.main(add.java:6)\n\n\n\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n        Sc cannot be resolved or is not a field\n        Sc cannot be resolved\n        Sc cannot be resolved\n\n        at add.main(add.java:6)\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":0,"creation_date":1396115333,"post_id":22725537,"comment_id":34649902,"body_markdown":"After coding a bit with your example, I actually find the explicit version more readable than the one concerning, if it had existed `.flatMap(Optional::toStream)`, with your version you actually see what is going on.","body":"After coding a bit with your example, I actually find the explicit version more readable than the one concerning, if it had existed <code>.flatMap(Optional::toStream)</code>, with your version you actually see what is going on."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":21,"creation_date":1424903449,"post_id":22725537,"comment_id":45747994,"body_markdown":"@skiwi Well, `Optional.stream` exists in JDK 9 now....","body":"@skiwi Well, <code>Optional.stream</code> exists in JDK 9 now...."},{"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"score":0,"creation_date":1425257783,"post_id":22725537,"comment_id":45876182,"body_markdown":"I&#39;m curious where this is documented, and what the process for getting it in was. There are some other methods that really seem like they should exist, and I&#39;m curious where discussion for API changes is taking place.","body":"I&#39;m curious where this is documented, and what the process for getting it in was. There are some other methods that really seem like they should exist, and I&#39;m curious where discussion for API changes is taking place."},{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":3,"creation_date":1426168670,"post_id":22725537,"comment_id":46268463,"body_markdown":"https://bugs.openjdk.java.net/browse/JDK-8050820","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8050820\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8050820</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":12,"creation_date":1435850943,"post_id":22725537,"comment_id":50382510,"body_markdown":"The funny thing is that JDK-8050820 actually refers to this question in its description!","body":"The funny thing is that JDK-8050820 actually refers to this question in its description!"},{"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"score":0,"creation_date":1447171703,"post_id":22725537,"comment_id":55042383,"body_markdown":"In a pure performance perspective, I think what you did is just fine. I&#39;m not sure how Java 8 implements `flatMap` but this usually introduces a merge which doesn&#39;t scale as well as some simple `.filter().map()`.","body":"In a pure performance perspective, I think what you did is just fine. I&#39;m not sure how Java 8 implements <code>flatMap</code> but this usually introduces a merge which doesn&#39;t scale as well as some simple <code>.filter().map()</code>."},{"owner":{"account_id":4250230,"reputation":1766,"user_id":3477539,"accept_rate":83,"display_name":"Rostislav V"},"score":0,"creation_date":1570515234,"post_id":22725537,"comment_id":102927632,"body_markdown":"I hope my answer may help you: https://stackoverflow.com/a/58281000/3477539","body":"I hope my answer may help you: <a href=\"https://stackoverflow.com/a/58281000/3477539\">stackoverflow.com/a/58281000/3477539</a>"}],"answers":[{"tags":[],"owner":{"account_id":1285,"reputation":8351,"user_id":1712,"accept_rate":84,"display_name":"Roland Tepp"},"down_vote_count":8,"up_vote_count":3,"is_accepted":false,"score":-5,"last_activity_date":1396055720,"creation_date":1396055720,"answer_id":22725767,"question_id":22725537,"body_markdown":"Most likely You are doing it wrong.\r\n\r\nJava 8 Optional is not meant to be used in this manner. It is usually only reserved for terminal stream operations that may or may not return a value, like find for example.\r\n\r\nIn your case it might be better to first try to find a cheap way to filter out those items that are resolvable and then get the first item as an optional and resolve it as a last operation. Better yet - instead of filtering, find the first resolvable item and resolve it.\r\n\r\n    things.filter(Thing::isResolvable)\r\n          .findFirst()\r\n          .flatMap(this::resolve)\r\n          .get();\r\n\r\nRule of thumb is that you should strive to reduce number of items in the stream before you transform them to something else. YMMV of course.","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>Most likely You are doing it wrong.</p>\n\n<p>Java 8 Optional is not meant to be used in this manner. It is usually only reserved for terminal stream operations that may or may not return a value, like find for example.</p>\n\n<p>In your case it might be better to first try to find a cheap way to filter out those items that are resolvable and then get the first item as an optional and resolve it as a last operation. Better yet - instead of filtering, find the first resolvable item and resolve it.</p>\n\n<pre><code>things.filter(Thing::isResolvable)\n      .findFirst()\n      .flatMap(this::resolve)\n      .get();\n</code></pre>\n\n<p>Rule of thumb is that you should strive to reduce number of items in the stream before you transform them to something else. YMMV of course.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":1,"up_vote_count":359,"is_accepted":true,"score":358,"last_activity_date":1593073696,"creation_date":1396066205,"answer_id":22726869,"question_id":22725537,"body_markdown":"&lt;h2&gt;Java 9&lt;/h2&gt;\r\n\r\n[`Optional.stream`](https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#stream--) has been added to JDK 9. This enables you to do the following, without the need of any helper method:\r\n\r\n    Optional&lt;Other&gt; result =\r\n        things.stream()\r\n              .map(this::resolve)\r\n              .flatMap(Optional::stream)\r\n              .findFirst();\r\n\r\n&lt;h2&gt;Java 8&lt;/h2&gt;\r\n\r\nYes, this was a small hole in the API, in that it&#39;s somewhat inconvenient to turn an `Optional&lt;T&gt;` into a zero-or-one length `Stream&lt;T&gt;`. You could do this:\r\n\r\n    Optional&lt;Other&gt; result =\r\n        things.stream()\r\n              .map(this::resolve)\r\n              .flatMap(o -&gt; o.isPresent() ? Stream.of(o.get()) : Stream.empty())\r\n              .findFirst();\r\n\r\nHaving the ternary operator inside the `flatMap` is a bit cumbersome, though, so it might be better to write a little helper function to do this:\r\n\r\n    /**\r\n     * Turns an Optional&lt;T&gt; into a Stream&lt;T&gt; of length zero or one depending upon\r\n     * whether a value is present.\r\n     */\r\n    static &lt;T&gt; Stream&lt;T&gt; streamopt(Optional&lt;T&gt; opt) {\r\n        if (opt.isPresent())\r\n            return Stream.of(opt.get());\r\n        else\r\n            return Stream.empty();\r\n    }\r\n\r\n    Optional&lt;Other&gt; result =\r\n        things.stream()\r\n              .flatMap(t -&gt; streamopt(resolve(t)))\r\n              .findFirst();\r\n\r\nHere, I&#39;ve inlined the call to `resolve()` instead of having a separate `map()` operation, but this is a matter of taste.","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<h2>Java 9</h2>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#stream--\" rel=\"noreferrer\"><code>Optional.stream</code></a> has been added to JDK 9. This enables you to do the following, without the need of any helper method:</p>\n<pre><code>Optional&lt;Other&gt; result =\n    things.stream()\n          .map(this::resolve)\n          .flatMap(Optional::stream)\n          .findFirst();\n</code></pre>\n<h2>Java 8</h2>\n<p>Yes, this was a small hole in the API, in that it's somewhat inconvenient to turn an <code>Optional&lt;T&gt;</code> into a zero-or-one length <code>Stream&lt;T&gt;</code>. You could do this:</p>\n<pre><code>Optional&lt;Other&gt; result =\n    things.stream()\n          .map(this::resolve)\n          .flatMap(o -&gt; o.isPresent() ? Stream.of(o.get()) : Stream.empty())\n          .findFirst();\n</code></pre>\n<p>Having the ternary operator inside the <code>flatMap</code> is a bit cumbersome, though, so it might be better to write a little helper function to do this:</p>\n<pre><code>/**\n * Turns an Optional&lt;T&gt; into a Stream&lt;T&gt; of length zero or one depending upon\n * whether a value is present.\n */\nstatic &lt;T&gt; Stream&lt;T&gt; streamopt(Optional&lt;T&gt; opt) {\n    if (opt.isPresent())\n        return Stream.of(opt.get());\n    else\n        return Stream.empty();\n}\n\nOptional&lt;Other&gt; result =\n    things.stream()\n          .flatMap(t -&gt; streamopt(resolve(t)))\n          .findFirst();\n</code></pre>\n<p>Here, I've inlined the call to <code>resolve()</code> instead of having a separate <code>map()</code> operation, but this is a matter of taste.</p>\n"},{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1396118156,"creation_date":1396118156,"answer_id":22735184,"question_id":22725537,"body_markdown":"You cannot do it more concise as you are already doing.\n\nYou claim that you do not want `.filter(Optional::isPresent)` *and* `.map(Optional::get)`.\n\nThis has been resolved by the method @StuartMarks describes, however as a result you now map it to an `Optional&lt;T&gt;`, so now you need to use `.flatMap(this::streamopt)` and a `get()` in the end.\n\nSo it still consists of two statements and you can now get exceptions with the new method! Because, what if every optional is empty? Then the `findFirst()` will return an empty optional and your `get()` will fail!\n\nSo what you have:\n\n    things.stream()\n        .map(this::resolve)\n        .filter(Optional::isPresent)\n        .map(Optional::get)\n        .findFirst();\n\n**is** actually the best way to accomplish what you want, and that is you want to save the result as a `T`, not as an `Optional&lt;T&gt;`.\n\nI took the liberty of creating a `CustomOptional&lt;T&gt;` class that wraps the `Optional&lt;T&gt;` and provides an extra method, `flatStream()`. Note that you cannot extend `Optional&lt;T&gt;`:\n\n    class CustomOptional&lt;T&gt; {\n        private final Optional&lt;T&gt; optional;\n\n        private CustomOptional() {\n            this.optional = Optional.empty();\n        }\n\n        private CustomOptional(final T value) {\n            this.optional = Optional.of(value);\n        }\n\n        private CustomOptional(final Optional&lt;T&gt; optional) {\n            this.optional = optional;\n        }\n\n        public Optional&lt;T&gt; getOptional() {\n            return optional;\n        }\n\n        public static &lt;T&gt; CustomOptional&lt;T&gt; empty() {\n            return new CustomOptional&lt;&gt;();\n        }\n\n        public static &lt;T&gt; CustomOptional&lt;T&gt; of(final T value) {\n            return new CustomOptional&lt;&gt;(value);\n        }\n\n        public static &lt;T&gt; CustomOptional&lt;T&gt; ofNullable(final T value) {\n            return (value == null) ? empty() : of(value);\n        }\n\n        public T get() {\n            return optional.get();\n        }\n\n        public boolean isPresent() {\n            return optional.isPresent();\n        }\n\n        public void ifPresent(final Consumer&lt;? super T&gt; consumer) {\n            optional.ifPresent(consumer);\n        }\n\n        public CustomOptional&lt;T&gt; filter(final Predicate&lt;? super T&gt; predicate) {\n            return new CustomOptional&lt;&gt;(optional.filter(predicate));\n        }\n\n        public &lt;U&gt; CustomOptional&lt;U&gt; map(final Function&lt;? super T, ? extends U&gt; mapper) {\n            return new CustomOptional&lt;&gt;(optional.map(mapper));\n        }\n\n        public &lt;U&gt; CustomOptional&lt;U&gt; flatMap(final Function&lt;? super T, ? extends CustomOptional&lt;U&gt;&gt; mapper) {\n            return new CustomOptional&lt;&gt;(optional.flatMap(mapper.andThen(cu -&gt; cu.getOptional())));\n        }\n\n        public T orElse(final T other) {\n            return optional.orElse(other);\n        }\n\n        public T orElseGet(final Supplier&lt;? extends T&gt; other) {\n            return optional.orElseGet(other);\n        }\n\n        public &lt;X extends Throwable&gt; T orElseThrow(final Supplier&lt;? extends X&gt; exceptionSuppier) throws X {\n            return optional.orElseThrow(exceptionSuppier);\n        }\n\n        public Stream&lt;T&gt; flatStream() {\n            if (!optional.isPresent()) {\n                return Stream.empty();\n            }\n            return Stream.of(get());\n        }\n\n        public T getTOrNull() {\n            if (!optional.isPresent()) {\n                return null;\n            }\n            return get();\n        }\n\n        @Override\n        public boolean equals(final Object obj) {\n            return optional.equals(obj);\n        }\n\n        @Override\n        public int hashCode() {\n            return optional.hashCode();\n        }\n\n        @Override\n        public String toString() {\n            return optional.toString();\n        }\n    }\n\nYou will see that I added `flatStream()`, as here:\n\n    public Stream&lt;T&gt; flatStream() {\n        if (!optional.isPresent()) {\n            return Stream.empty();\n        }\n        return Stream.of(get());\n    }\n\nUsed as:\n\n    String result = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;de&quot;, &quot;fg&quot;, &quot;hij&quot;)\n            .map(this::resolve)\n            .flatMap(CustomOptional::flatStream)\n            .findFirst()\n            .get();\n\nYou *still* will need to return a `Stream&lt;T&gt;` here, as you cannot return `T`, because if `!optional.isPresent()`, then `T == null` if you declare it such, but then your `.flatMap(CustomOptional::flatStream)` would attempt to add `null` to a stream and that is not possible.\n\nAs example:\n\n    public T getTOrNull() {\n        if (!optional.isPresent()) {\n            return null;\n        }\n        return get();\n    }\n\nUsed as:\n\n    String result = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;de&quot;, &quot;fg&quot;, &quot;hij&quot;)\n            .map(this::resolve)\n            .map(CustomOptional::getTOrNull)\n            .findFirst()\n            .get();\n\nWill now throw a `NullPointerException` inside the stream operations.\n\n# Conclusion\n\nThe method you used, is actually the best method.","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>You cannot do it more concise as you are already doing.</p>\n<p>You claim that you do not want <code>.filter(Optional::isPresent)</code> <em>and</em> <code>.map(Optional::get)</code>.</p>\n<p>This has been resolved by the method @StuartMarks describes, however as a result you now map it to an <code>Optional&lt;T&gt;</code>, so now you need to use <code>.flatMap(this::streamopt)</code> and a <code>get()</code> in the end.</p>\n<p>So it still consists of two statements and you can now get exceptions with the new method! Because, what if every optional is empty? Then the <code>findFirst()</code> will return an empty optional and your <code>get()</code> will fail!</p>\n<p>So what you have:</p>\n<pre><code>things.stream()\n    .map(this::resolve)\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .findFirst();\n</code></pre>\n<p><strong>is</strong> actually the best way to accomplish what you want, and that is you want to save the result as a <code>T</code>, not as an <code>Optional&lt;T&gt;</code>.</p>\n<p>I took the liberty of creating a <code>CustomOptional&lt;T&gt;</code> class that wraps the <code>Optional&lt;T&gt;</code> and provides an extra method, <code>flatStream()</code>. Note that you cannot extend <code>Optional&lt;T&gt;</code>:</p>\n<pre><code>class CustomOptional&lt;T&gt; {\n    private final Optional&lt;T&gt; optional;\n\n    private CustomOptional() {\n        this.optional = Optional.empty();\n    }\n\n    private CustomOptional(final T value) {\n        this.optional = Optional.of(value);\n    }\n\n    private CustomOptional(final Optional&lt;T&gt; optional) {\n        this.optional = optional;\n    }\n\n    public Optional&lt;T&gt; getOptional() {\n        return optional;\n    }\n\n    public static &lt;T&gt; CustomOptional&lt;T&gt; empty() {\n        return new CustomOptional&lt;&gt;();\n    }\n\n    public static &lt;T&gt; CustomOptional&lt;T&gt; of(final T value) {\n        return new CustomOptional&lt;&gt;(value);\n    }\n\n    public static &lt;T&gt; CustomOptional&lt;T&gt; ofNullable(final T value) {\n        return (value == null) ? empty() : of(value);\n    }\n\n    public T get() {\n        return optional.get();\n    }\n\n    public boolean isPresent() {\n        return optional.isPresent();\n    }\n\n    public void ifPresent(final Consumer&lt;? super T&gt; consumer) {\n        optional.ifPresent(consumer);\n    }\n\n    public CustomOptional&lt;T&gt; filter(final Predicate&lt;? super T&gt; predicate) {\n        return new CustomOptional&lt;&gt;(optional.filter(predicate));\n    }\n\n    public &lt;U&gt; CustomOptional&lt;U&gt; map(final Function&lt;? super T, ? extends U&gt; mapper) {\n        return new CustomOptional&lt;&gt;(optional.map(mapper));\n    }\n\n    public &lt;U&gt; CustomOptional&lt;U&gt; flatMap(final Function&lt;? super T, ? extends CustomOptional&lt;U&gt;&gt; mapper) {\n        return new CustomOptional&lt;&gt;(optional.flatMap(mapper.andThen(cu -&gt; cu.getOptional())));\n    }\n\n    public T orElse(final T other) {\n        return optional.orElse(other);\n    }\n\n    public T orElseGet(final Supplier&lt;? extends T&gt; other) {\n        return optional.orElseGet(other);\n    }\n\n    public &lt;X extends Throwable&gt; T orElseThrow(final Supplier&lt;? extends X&gt; exceptionSuppier) throws X {\n        return optional.orElseThrow(exceptionSuppier);\n    }\n\n    public Stream&lt;T&gt; flatStream() {\n        if (!optional.isPresent()) {\n            return Stream.empty();\n        }\n        return Stream.of(get());\n    }\n\n    public T getTOrNull() {\n        if (!optional.isPresent()) {\n            return null;\n        }\n        return get();\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        return optional.equals(obj);\n    }\n\n    @Override\n    public int hashCode() {\n        return optional.hashCode();\n    }\n\n    @Override\n    public String toString() {\n        return optional.toString();\n    }\n}\n</code></pre>\n<p>You will see that I added <code>flatStream()</code>, as here:</p>\n<pre><code>public Stream&lt;T&gt; flatStream() {\n    if (!optional.isPresent()) {\n        return Stream.empty();\n    }\n    return Stream.of(get());\n}\n</code></pre>\n<p>Used as:</p>\n<pre><code>String result = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;de&quot;, &quot;fg&quot;, &quot;hij&quot;)\n        .map(this::resolve)\n        .flatMap(CustomOptional::flatStream)\n        .findFirst()\n        .get();\n</code></pre>\n<p>You <em>still</em> will need to return a <code>Stream&lt;T&gt;</code> here, as you cannot return <code>T</code>, because if <code>!optional.isPresent()</code>, then <code>T == null</code> if you declare it such, but then your <code>.flatMap(CustomOptional::flatStream)</code> would attempt to add <code>null</code> to a stream and that is not possible.</p>\n<p>As example:</p>\n<pre><code>public T getTOrNull() {\n    if (!optional.isPresent()) {\n        return null;\n    }\n    return get();\n}\n</code></pre>\n<p>Used as:</p>\n<pre><code>String result = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;de&quot;, &quot;fg&quot;, &quot;hij&quot;)\n        .map(this::resolve)\n        .map(CustomOptional::getTOrNull)\n        .findFirst()\n        .get();\n</code></pre>\n<p>Will now throw a <code>NullPointerException</code> inside the stream operations.</p>\n<h1>Conclusion</h1>\n<p>The method you used, is actually the best method.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1424903374,"creation_date":1396471276,"answer_id":22822592,"question_id":22725537,"body_markdown":"I&#39;m adding this second answer based on a proposed edit by user [srborlongan][1] to [my other answer][2]. I think the technique proposed was interesting, but it wasn&#39;t really suitable as an edit to my answer. Others agreed and the proposed edit was voted down. (I wasn&#39;t one of the voters.) The technique has merit, though. It would have been best if srborlongan had posted his/her own answer. This hasn&#39;t happened yet, and I didn&#39;t want the technique to be lost in the mists of the StackOverflow rejected edit history, so I decided to surface it as a separate answer myself.\r\n\r\nBasically the technique is to use some of the `Optional` methods in a clever way to avoid having to use a ternary operator (`? :`) or an if/else statement.\r\n\r\nMy inline example would be rewritten this way:\r\n\r\n    Optional&lt;Other&gt; result =\r\n        things.stream()\r\n              .map(this::resolve)\r\n              .flatMap(o -&gt; o.map(Stream::of).orElseGet(Stream::empty))\r\n              .findFirst();\r\n\r\nAn my example that uses a helper method would be rewritten this way:\r\n\r\n    /**\r\n     * Turns an Optional&lt;T&gt; into a Stream&lt;T&gt; of length zero or one depending upon\r\n     * whether a value is present.\r\n     */\r\n    static &lt;T&gt; Stream&lt;T&gt; streamopt(Optional&lt;T&gt; opt) {\r\n        return opt.map(Stream::of)\r\n                  .orElseGet(Stream::empty);\r\n    }\r\n\r\n    Optional&lt;Other&gt; result =\r\n        things.stream()\r\n              .flatMap(t -&gt; streamopt(resolve(t)))\r\n              .findFirst();\r\n\r\n**COMMENTARY**\r\n\r\nLet&#39;s compare the original vs modified versions directly:\r\n\r\n    // original\r\n    .flatMap(o -&gt; o.isPresent() ? Stream.of(o.get()) : Stream.empty())\r\n\r\n    // modified\r\n    .flatMap(o -&gt; o.map(Stream::of).orElseGet(Stream::empty))\r\n\r\nThe original is a straightforward if workmanlike approach: we get an `Optional&lt;Other&gt;`; if it has a value, we return a stream containing that value, and if it has no value, we return an empty stream. Pretty simple and easy to explain.\r\n\r\nThe modification is clever and has the advantage that it avoids conditionals. (I know that some people dislike the ternary operator. If misused it can indeed make code hard to understand.) However, sometimes things can be too clever. The modified code also starts off with an `Optional&lt;Other&gt;`. Then it calls `Optional.map` which is defined as follows:\r\n\r\n&gt; If a value is present, apply the provided mapping function to it, and if the result is non-null, return an Optional describing the result. Otherwise return an empty Optional.\r\n\r\nThe `map(Stream::of)` call returns an `Optional&lt;Stream&lt;Other&gt;&gt;`. If a value was present in the input Optional, the returned Optional contains a Stream that contains the single Other result. But if the value was not present, the result is an empty Optional.\r\n\r\nNext, the call to `orElseGet(Stream::empty)` returns a value of type `Stream&lt;Other&gt;`. If its input value is present, it gets the value, which is the single-element `Stream&lt;Other&gt;`. Otherwise (if the input value is absent) it returns an empty `Stream&lt;Other&gt;`. So the result is correct, the same as the original conditional code.\r\n\r\nIn the comments discussing on my answer, regarding the rejected edit, I had described this technique as &quot;more concise but also more obscure&quot;. I stand by this. It took me a while to figure out what it was doing, and it also took me a while to write up the above description of what it was doing. The key subtlety is the transformation from `Optional&lt;Other&gt;` to `Optional&lt;Stream&lt;Other&gt;&gt;`. Once you grok this it makes sense, but it wasn&#39;t obvious to me.\r\n\r\nI&#39;ll acknowledge, though, that things that are initially obscure can become idiomatic over time. It might be that this technique ends up being the best way in practice, at least until `Optional.stream` gets added (if it ever does).\r\n\r\n**UPDATE:** `Optional.stream` has been added to JDK 9.\r\n\r\n  [1]: https://stackoverflow.com/users/3475600/srborlongan\r\n  [2]: https://stackoverflow.com/a/22726869/1441122","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>I'm adding this second answer based on a proposed edit by user <a href=\"https://stackoverflow.com/users/3475600/srborlongan\">srborlongan</a> to <a href=\"https://stackoverflow.com/a/22726869/1441122\">my other answer</a>. I think the technique proposed was interesting, but it wasn't really suitable as an edit to my answer. Others agreed and the proposed edit was voted down. (I wasn't one of the voters.) The technique has merit, though. It would have been best if srborlongan had posted his/her own answer. This hasn't happened yet, and I didn't want the technique to be lost in the mists of the StackOverflow rejected edit history, so I decided to surface it as a separate answer myself.</p>\n\n<p>Basically the technique is to use some of the <code>Optional</code> methods in a clever way to avoid having to use a ternary operator (<code>? :</code>) or an if/else statement.</p>\n\n<p>My inline example would be rewritten this way:</p>\n\n<pre><code>Optional&lt;Other&gt; result =\n    things.stream()\n          .map(this::resolve)\n          .flatMap(o -&gt; o.map(Stream::of).orElseGet(Stream::empty))\n          .findFirst();\n</code></pre>\n\n<p>An my example that uses a helper method would be rewritten this way:</p>\n\n<pre><code>/**\n * Turns an Optional&lt;T&gt; into a Stream&lt;T&gt; of length zero or one depending upon\n * whether a value is present.\n */\nstatic &lt;T&gt; Stream&lt;T&gt; streamopt(Optional&lt;T&gt; opt) {\n    return opt.map(Stream::of)\n              .orElseGet(Stream::empty);\n}\n\nOptional&lt;Other&gt; result =\n    things.stream()\n          .flatMap(t -&gt; streamopt(resolve(t)))\n          .findFirst();\n</code></pre>\n\n<p><strong>COMMENTARY</strong></p>\n\n<p>Let's compare the original vs modified versions directly:</p>\n\n<pre><code>// original\n.flatMap(o -&gt; o.isPresent() ? Stream.of(o.get()) : Stream.empty())\n\n// modified\n.flatMap(o -&gt; o.map(Stream::of).orElseGet(Stream::empty))\n</code></pre>\n\n<p>The original is a straightforward if workmanlike approach: we get an <code>Optional&lt;Other&gt;</code>; if it has a value, we return a stream containing that value, and if it has no value, we return an empty stream. Pretty simple and easy to explain.</p>\n\n<p>The modification is clever and has the advantage that it avoids conditionals. (I know that some people dislike the ternary operator. If misused it can indeed make code hard to understand.) However, sometimes things can be too clever. The modified code also starts off with an <code>Optional&lt;Other&gt;</code>. Then it calls <code>Optional.map</code> which is defined as follows:</p>\n\n<blockquote>\n  <p>If a value is present, apply the provided mapping function to it, and if the result is non-null, return an Optional describing the result. Otherwise return an empty Optional.</p>\n</blockquote>\n\n<p>The <code>map(Stream::of)</code> call returns an <code>Optional&lt;Stream&lt;Other&gt;&gt;</code>. If a value was present in the input Optional, the returned Optional contains a Stream that contains the single Other result. But if the value was not present, the result is an empty Optional.</p>\n\n<p>Next, the call to <code>orElseGet(Stream::empty)</code> returns a value of type <code>Stream&lt;Other&gt;</code>. If its input value is present, it gets the value, which is the single-element <code>Stream&lt;Other&gt;</code>. Otherwise (if the input value is absent) it returns an empty <code>Stream&lt;Other&gt;</code>. So the result is correct, the same as the original conditional code.</p>\n\n<p>In the comments discussing on my answer, regarding the rejected edit, I had described this technique as \"more concise but also more obscure\". I stand by this. It took me a while to figure out what it was doing, and it also took me a while to write up the above description of what it was doing. The key subtlety is the transformation from <code>Optional&lt;Other&gt;</code> to <code>Optional&lt;Stream&lt;Other&gt;&gt;</code>. Once you grok this it makes sense, but it wasn't obvious to me.</p>\n\n<p>I'll acknowledge, though, that things that are initially obscure can become idiomatic over time. It might be that this technique ends up being the best way in practice, at least until <code>Optional.stream</code> gets added (if it ever does).</p>\n\n<p><strong>UPDATE:</strong> <code>Optional.stream</code> has been added to JDK 9.</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1417623756,"creation_date":1417367042,"answer_id":27215810,"question_id":22725537,"body_markdown":"A slightly shorter version using `reduce`:\r\n\r\n    things.stream()\r\n      .map(this::resolve)\r\n      .reduce(Optional.empty(), (a, b) -&gt; a.isPresent() ? a : b );\r\n\r\nYou could also move the reduce function to a static utility method and then it becomes:\r\n\r\n      .reduce(Optional.empty(), Util::firstPresent );\r\n\r\n","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>A slightly shorter version using <code>reduce</code>:</p>\n\n<pre><code>things.stream()\n  .map(this::resolve)\n  .reduce(Optional.empty(), (a, b) -&gt; a.isPresent() ? a : b );\n</code></pre>\n\n<p>You could also move the reduce function to a static utility method and then it becomes:</p>\n\n<pre><code>  .reduce(Optional.empty(), Util::firstPresent );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1122893,"reputation":2272,"user_id":1110815,"display_name":"Daniel Dietrich"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1454436065,"creation_date":1454435483,"answer_id":35160464,"question_id":22725537,"body_markdown":"If you don&#39;t mind to use a third party library you may use [Javaslang][1]. It is like Scala, but implemented in Java.\r\n\r\nIt comes with a complete immutable collection library that is very similar to that known from Scala. These collections replace Java&#39;s collections and Java 8&#39;s Stream. It also has its own implementation of Option.\r\n\r\n    import javaslang.collection.Stream;\r\n    import javaslang.control.Option;\r\n    \r\n    Stream&lt;Option&lt;String&gt;&gt; options = Stream.of(Option.some(&quot;foo&quot;), Option.none(), Option.some(&quot;bar&quot;));\r\n    \r\n    // = Stream(&quot;foo&quot;, &quot;bar&quot;)\r\n    Stream&lt;String&gt; strings = options.flatMap(o -&gt; o);\r\n\r\nHere is a solution for the example of the initial question:\r\n\r\n    import javaslang.collection.Stream;\r\n    import javaslang.control.Option;\r\n    \r\n    public class Test {\r\n        \r\n        void run() {\r\n    \r\n            // = Stream(Thing(1), Thing(2), Thing(3))\r\n            Stream&lt;Thing&gt; things = Stream.of(new Thing(1), new Thing(2), new Thing(3));\r\n    \r\n            // = Some(Other(2))\r\n            Option&lt;Other&gt; others = things.flatMap(this::resolve).headOption();\r\n        }\r\n    \r\n        Option&lt;Other&gt; resolve(Thing thing) {\r\n            Other other = (thing.i % 2 == 0) ? new Other(i + &quot;&quot;) : null;\r\n            return Option.of(other);\r\n        }\r\n    \r\n    }\r\n    \r\n    class Thing {\r\n        final int i;\r\n        Thing(int i) { this.i = i; }\r\n        public String toString() { return &quot;Thing(&quot; + i + &quot;)&quot;; }\r\n    }\r\n    \r\n    class Other {\r\n        final String s;\r\n        Other(String s) { this.s = s; }\r\n        public String toString() { return &quot;Other(&quot; + s + &quot;)&quot;; }\r\n    }\r\n\r\nDisclaimer: I&#39;m the creator of Javaslang.\r\n\r\n  [1]: http://javaslang.com","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>If you don't mind to use a third party library you may use <a href=\"http://javaslang.com\" rel=\"nofollow\">Javaslang</a>. It is like Scala, but implemented in Java.</p>\n\n<p>It comes with a complete immutable collection library that is very similar to that known from Scala. These collections replace Java's collections and Java 8's Stream. It also has its own implementation of Option.</p>\n\n<pre><code>import javaslang.collection.Stream;\nimport javaslang.control.Option;\n\nStream&lt;Option&lt;String&gt;&gt; options = Stream.of(Option.some(\"foo\"), Option.none(), Option.some(\"bar\"));\n\n// = Stream(\"foo\", \"bar\")\nStream&lt;String&gt; strings = options.flatMap(o -&gt; o);\n</code></pre>\n\n<p>Here is a solution for the example of the initial question:</p>\n\n<pre><code>import javaslang.collection.Stream;\nimport javaslang.control.Option;\n\npublic class Test {\n\n    void run() {\n\n        // = Stream(Thing(1), Thing(2), Thing(3))\n        Stream&lt;Thing&gt; things = Stream.of(new Thing(1), new Thing(2), new Thing(3));\n\n        // = Some(Other(2))\n        Option&lt;Other&gt; others = things.flatMap(this::resolve).headOption();\n    }\n\n    Option&lt;Other&gt; resolve(Thing thing) {\n        Other other = (thing.i % 2 == 0) ? new Other(i + \"\") : null;\n        return Option.of(other);\n    }\n\n}\n\nclass Thing {\n    final int i;\n    Thing(int i) { this.i = i; }\n    public String toString() { return \"Thing(\" + i + \")\"; }\n}\n\nclass Other {\n    final String s;\n    Other(String s) { this.s = s; }\n    public String toString() { return \"Other(\" + s + \")\"; }\n}\n</code></pre>\n\n<p>Disclaimer: I'm the creator of Javaslang.</p>\n"},{"tags":[],"owner":{"account_id":1285,"reputation":8351,"user_id":1712,"accept_rate":84,"display_name":"Roland Tepp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1459935506,"creation_date":1459430813,"answer_id":36334855,"question_id":22725537,"body_markdown":"As my [previous answer](https://stackoverflow.com/a/22725767/1712) appeared not to be very popular, I will give this another go.\r\n\r\nA short answer:\r\n---------------\r\n\r\nYou are mostly on a right track. The shortest code to get to your desired output I could come up with is this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    things.stream()\r\n          .map(this::resolve)\r\n          .filter(Optional::isPresent)\r\n          .findFirst()\r\n          .flatMap( Function.identity() );\r\n\r\nThis will fit all your requirements: \r\n\r\n1. It will find first response that resolves to a nonempty `Optional&lt;Result&gt;`\r\n2. It calls `this::resolve` lazily as needed\r\n3. `this::resolve` will not be called after first non-empty result\r\n4. It will return `Optional&lt;Result&gt;`\r\n\r\nLonger answer\r\n-------------\r\n\r\nThe only modification compared to OP initial version was that I removed `.map(Optional::get)` before call to `.findFirst()` and added `.flatMap(o -&gt; o)` as the last call in the chain.\r\n\r\nThis has a nice effect of getting rid of the double-Optional, whenever stream finds an actual result.\r\n\r\nYou can&#39;t really go any shorter than this in Java. \r\n\r\nThe alternative snippet of code using the more conventional `for` loop technique is going to be about same number of lines of code and have more or less same order and number of operations you need to perform:\r\n\r\n1. Calling `this.resolve`, \r\n2. filtering based on `Optional.isPresent` \r\n3. returning the result and\r\n4. some way of dealing with negative result (when nothing was found)\r\n\r\n\r\nJust to prove that my solution works as advertised, I wrote a small test program:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class StackOverflow {\r\n\r\n        public static void main( String... args ) {\r\n            try {\r\n                final int integer = Stream.of( args )\r\n                        .peek( s -&gt; System.out.println( &quot;Looking at &quot; + s ) )\r\n                        .map( StackOverflow::resolve )\r\n                        .filter( Optional::isPresent )\r\n                        .findFirst()\r\n                        .flatMap( o -&gt; o )\r\n                        .orElseThrow( NoSuchElementException::new )\r\n                        .intValue();\r\n\r\n                System.out.println( &quot;First integer found is &quot; + integer );\r\n            }\r\n            catch ( NoSuchElementException e ) {\r\n                System.out.println( &quot;No integers provided!&quot; );\r\n            }\r\n        }\r\n\r\n        private static Optional&lt;Integer&gt; resolve( String string ) {\r\n            try {\r\n                return Optional.of( Integer.valueOf( string ) );\r\n            }\r\n            catch ( NumberFormatException e )\r\n            {\r\n                System.out.println( &#39;&quot;&#39; + string + &#39;&quot;&#39; + &quot; is not an integer&quot;);\r\n                return Optional.empty();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n(It does have few extra lines for debugging and verifying that only as many calls to resolve as needed...)\r\n\r\nExecuting this on a command line, I got the following results:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    $ java StackOferflow a b 3 c 4\r\n    Looking at a\r\n    &quot;a&quot; is not an integer\r\n    Looking at b\r\n    &quot;b&quot; is not an integer\r\n    Looking at 3\r\n    First integer found is 3\r\n\r\n","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>As my <a href=\"https://stackoverflow.com/a/22725767/1712\">previous answer</a> appeared not to be very popular, I will give this another go.</p>\n\n<h2>A short answer:</h2>\n\n<p>You are mostly on a right track. The shortest code to get to your desired output I could come up with is this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>things.stream()\n      .map(this::resolve)\n      .filter(Optional::isPresent)\n      .findFirst()\n      .flatMap( Function.identity() );\n</code></pre>\n\n<p>This will fit all your requirements: </p>\n\n<ol>\n<li>It will find first response that resolves to a nonempty <code>Optional&lt;Result&gt;</code></li>\n<li>It calls <code>this::resolve</code> lazily as needed</li>\n<li><code>this::resolve</code> will not be called after first non-empty result</li>\n<li>It will return <code>Optional&lt;Result&gt;</code></li>\n</ol>\n\n<h2>Longer answer</h2>\n\n<p>The only modification compared to OP initial version was that I removed <code>.map(Optional::get)</code> before call to <code>.findFirst()</code> and added <code>.flatMap(o -&gt; o)</code> as the last call in the chain.</p>\n\n<p>This has a nice effect of getting rid of the double-Optional, whenever stream finds an actual result.</p>\n\n<p>You can't really go any shorter than this in Java. </p>\n\n<p>The alternative snippet of code using the more conventional <code>for</code> loop technique is going to be about same number of lines of code and have more or less same order and number of operations you need to perform:</p>\n\n<ol>\n<li>Calling <code>this.resolve</code>, </li>\n<li>filtering based on <code>Optional.isPresent</code> </li>\n<li>returning the result and</li>\n<li>some way of dealing with negative result (when nothing was found)</li>\n</ol>\n\n<p>Just to prove that my solution works as advertised, I wrote a small test program:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class StackOverflow {\n\n    public static void main( String... args ) {\n        try {\n            final int integer = Stream.of( args )\n                    .peek( s -&gt; System.out.println( \"Looking at \" + s ) )\n                    .map( StackOverflow::resolve )\n                    .filter( Optional::isPresent )\n                    .findFirst()\n                    .flatMap( o -&gt; o )\n                    .orElseThrow( NoSuchElementException::new )\n                    .intValue();\n\n            System.out.println( \"First integer found is \" + integer );\n        }\n        catch ( NoSuchElementException e ) {\n            System.out.println( \"No integers provided!\" );\n        }\n    }\n\n    private static Optional&lt;Integer&gt; resolve( String string ) {\n        try {\n            return Optional.of( Integer.valueOf( string ) );\n        }\n        catch ( NumberFormatException e )\n        {\n            System.out.println( '\"' + string + '\"' + \" is not an integer\");\n            return Optional.empty();\n        }\n    }\n\n}\n</code></pre>\n\n<p>(It does have few extra lines for debugging and verifying that only as many calls to resolve as needed...)</p>\n\n<p>Executing this on a command line, I got the following results:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ java StackOferflow a b 3 c 4\nLooking at a\n\"a\" is not an integer\nLooking at b\n\"b\" is not an integer\nLooking at 3\nFirst integer found is 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1673587155,"creation_date":1480608530,"answer_id":40915317,"question_id":22725537,"body_markdown":"Null is supported by the Stream provided My library [abacus-common][1]. Here is code:\r\n    \r\n    Stream.of(things).map(e -&gt; resolve(e).orNull()).skipNull().first();\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>Null is supported by the Stream provided My library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>. Here is code:</p>\n<pre><code>Stream.of(things).map(e -&gt; resolve(e).orNull()).skipNull().first();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11818014,"reputation":51,"user_id":8647812,"display_name":"Ljubopytnov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539693509,"creation_date":1505987667,"answer_id":46340850,"question_id":22725537,"body_markdown":"Late to the party, but what about\r\n\r\n    things.stream()\r\n        .map(this::resolve)\r\n        .filter(Optional::isPresent)\r\n        .findFirst().get();\r\n\r\nYou can get rid of the last get() if you create a util method to convert optional to stream manually:\r\n\r\n    things.stream()\r\n        .map(this::resolve)\r\n        .flatMap(Util::optionalToStream)\r\n        .findFirst();\r\n\r\nIf you return stream right away from your resolve function, you save one more line.","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>Late to the party, but what about</p>\n\n<pre><code>things.stream()\n    .map(this::resolve)\n    .filter(Optional::isPresent)\n    .findFirst().get();\n</code></pre>\n\n<p>You can get rid of the last get() if you create a util method to convert optional to stream manually:</p>\n\n<pre><code>things.stream()\n    .map(this::resolve)\n    .flatMap(Util::optionalToStream)\n    .findFirst();\n</code></pre>\n\n<p>If you return stream right away from your resolve function, you save one more line.</p>\n"},{"tags":[],"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1540904264,"creation_date":1540903899,"answer_id":53064733,"question_id":22725537,"body_markdown":"I&#39;d like to promote **factory methods** for creating helpers for functional APIs:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Optional&lt;R&gt; result = things.stream()\r\n            .flatMap(streamopt(this::resolve))\r\n            .findFirst();\r\n\r\nThe factory method:\r\n\r\n    &lt;T, R&gt; Function&lt;T, Stream&lt;R&gt;&gt; streamopt(Function&lt;T, Optional&lt;R&gt;&gt; f) {\r\n        return f.andThen(Optional::stream); // or the J8 alternative:\r\n        // return t -&gt; f.apply(t).map(Stream::of).orElseGet(Stream::empty);\r\n    }\r\n\r\nReasoning:\r\n\r\n - As with method references in general, compared to lambda expressions, you can&#39;t accidentaly capture a variable from the accessible scope, like:\r\n\r\n `t -&gt; streamopt(resolve(o))`\r\n\r\n - It&#39;s composable, you can e.g. call `Function::andThen` on the factory method result:\r\n\r\n `streamopt(this::resolve).andThen(...)`\r\n\r\n  Whereas in the case of a lambda, you&#39;d need to cast it first:\r\n\r\n `((Function&lt;T, Stream&lt;R&gt;&gt;) t -&gt; streamopt(resolve(t))).andThen(...)`\r\n","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>I'd like to promote <strong>factory methods</strong> for creating helpers for functional APIs:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;R&gt; result = things.stream()\n        .flatMap(streamopt(this::resolve))\n        .findFirst();\n</code></pre>\n\n<p>The factory method:</p>\n\n<pre><code>&lt;T, R&gt; Function&lt;T, Stream&lt;R&gt;&gt; streamopt(Function&lt;T, Optional&lt;R&gt;&gt; f) {\n    return f.andThen(Optional::stream); // or the J8 alternative:\n    // return t -&gt; f.apply(t).map(Stream::of).orElseGet(Stream::empty);\n}\n</code></pre>\n\n<p>Reasoning:</p>\n\n<ul>\n<li><p>As with method references in general, compared to lambda expressions, you can't accidentaly capture a variable from the accessible scope, like:</p>\n\n<p><code>t -&gt; streamopt(resolve(o))</code></p></li>\n<li><p>It's composable, you can e.g. call <code>Function::andThen</code> on the factory method result:</p>\n\n<p><code>streamopt(this::resolve).andThen(...)</code></p>\n\n<p>Whereas in the case of a lambda, you'd need to cast it first:</p>\n\n<p><code>((Function&lt;T, Stream&lt;R&gt;&gt;) t -&gt; streamopt(resolve(t))).andThen(...)</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":226741,"reputation":14882,"user_id":487946,"accept_rate":100,"display_name":"Nicolas Payette"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567010772,"creation_date":1567010772,"answer_id":57696853,"question_id":22725537,"body_markdown":"If you&#39;re stuck with Java 8 but have access to Guava 21.0 or newer, you can use [`Streams.stream`](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Streams.html#stream-com.google.common.base.Optional-) to convert an optional into a stream.\r\n\r\nThus, given\r\n\r\n    import com.google.common.collect.Streams;\r\n\r\nyou can write\r\n\r\n    Optional&lt;Other&gt; result =\r\n        things.stream()\r\n            .map(this::resolve)\r\n            .flatMap(Streams::stream)\r\n            .findFirst();\r\n","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>If you're stuck with Java 8 but have access to Guava 21.0 or newer, you can use <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Streams.html#stream-com.google.common.base.Optional-\" rel=\"nofollow noreferrer\"><code>Streams.stream</code></a> to convert an optional into a stream.</p>\n\n<p>Thus, given</p>\n\n<pre><code>import com.google.common.collect.Streams;\n</code></pre>\n\n<p>you can write</p>\n\n<pre><code>Optional&lt;Other&gt; result =\n    things.stream()\n        .map(this::resolve)\n        .flatMap(Streams::stream)\n        .findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4250230,"reputation":1766,"user_id":3477539,"accept_rate":83,"display_name":"Rostislav V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570515349,"creation_date":1570515349,"answer_id":58281027,"question_id":22725537,"body_markdown":"What about that?\r\n\r\n    private static List&lt;String&gt; extractString(List&lt;Optional&lt;String&gt;&gt; list) {\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        list.forEach(element -&gt; element.ifPresent(result::add));\r\n        return result;\r\n    }\r\n\r\nhttps://stackoverflow.com/a/58281000/3477539","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>What about that?</p>\n\n<pre><code>private static List&lt;String&gt; extractString(List&lt;Optional&lt;String&gt;&gt; list) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    list.forEach(element -&gt; element.ifPresent(result::add));\n    return result;\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/58281000/3477539\">https://stackoverflow.com/a/58281000/3477539</a></p>\n"}],"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255650,"favorite_count":0,"down_vote_count":0,"up_vote_count":309,"accepted_answer_id":22726869,"answer_count":12,"score":309,"last_activity_date":1681557520,"creation_date":1396053721,"question_id":22725537,"body_markdown":"The new Java 8 stream framework and friends make for some very concise Java code, but I have come across a seemingly-simple situation that is tricky to do concisely.\r\n\r\nConsider a `List&lt;Thing&gt; things` and method `Optional&lt;Other&gt; resolve(Thing thing)`. I want to map the `Thing`s to `Optional&lt;Other&gt;`s and get the first `Other`.\r\n\r\nThe obvious solution would be to use `things.stream().flatMap(this::resolve).findFirst()`, but `flatMap` requires that you return a stream, and `Optional` doesn&#39;t have a `stream()` method (or is it a `Collection` or provide a method to convert it to or view it as a `Collection`).\r\n\r\nThe best I can come up with is this:\r\n\r\n    things.stream()\r\n        .map(this::resolve)\r\n        .filter(Optional::isPresent)\r\n        .map(Optional::get)\r\n        .findFirst();\r\n\r\nBut that seems awfully long-winded for what seems like a very common case. \r\n\r\nAnyone have a better idea?","title":"Using Java 8&#39;s Optional with Stream::flatMap","body":"<p>The new Java 8 stream framework and friends make for some very concise Java code, but I have come across a seemingly-simple situation that is tricky to do concisely.</p>\n<p>Consider a <code>List&lt;Thing&gt; things</code> and method <code>Optional&lt;Other&gt; resolve(Thing thing)</code>. I want to map the <code>Thing</code>s to <code>Optional&lt;Other&gt;</code>s and get the first <code>Other</code>.</p>\n<p>The obvious solution would be to use <code>things.stream().flatMap(this::resolve).findFirst()</code>, but <code>flatMap</code> requires that you return a stream, and <code>Optional</code> doesn't have a <code>stream()</code> method (or is it a <code>Collection</code> or provide a method to convert it to or view it as a <code>Collection</code>).</p>\n<p>The best I can come up with is this:</p>\n<pre><code>things.stream()\n    .map(this::resolve)\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .findFirst();\n</code></pre>\n<p>But that seems awfully long-winded for what seems like a very common case.</p>\n<p>Anyone have a better idea?</p>\n"},{"tags":["java","string","performance","character","substring"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1257324203,"creation_date":1257324203,"answer_id":1672430,"question_id":1672415,"body_markdown":"Does `newFunction` really need to take a `String`? It would be better if you could make `newFunction` take a `char` and call it like this:\r\n\r\n    newFunction(s.charAt(i));\r\n\r\nThat way, you avoid creating a temporary String object.\r\n\r\nTo answer your question: It&#39;s hard to say which one is more efficient. In both examples, a `String` object has to be created which contains only one character. Which is more efficient depends on how exactly `String.substring(...)` and `Character.toString(...)` are implemented on your particular Java implementation. The only way to find it out is running your program through a profiler and seeing which version uses more CPU and/or more memory. Normally, you shouldn&#39;t worry about micro-optimizations like this - only spend time on this when you&#39;ve discovered that this is the cause of a performance and/or memory problem.\r\n","title":"Java charAt() or substring? Which is faster?","body":"<p>Does <code>newFunction</code> really need to take a <code>String</code>? It would be better if you could make <code>newFunction</code> take a <code>char</code> and call it like this:</p>\n\n<pre><code>newFunction(s.charAt(i));\n</code></pre>\n\n<p>That way, you avoid creating a temporary String object.</p>\n\n<p>To answer your question: It's hard to say which one is more efficient. In both examples, a <code>String</code> object has to be created which contains only one character. Which is more efficient depends on how exactly <code>String.substring(...)</code> and <code>Character.toString(...)</code> are implemented on your particular Java implementation. The only way to find it out is running your program through a profiler and seeing which version uses more CPU and/or more memory. Normally, you shouldn't worry about micro-optimizations like this - only spend time on this when you've discovered that this is the cause of a performance and/or memory problem.</p>\n"},{"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1518051357,"creation_date":1257324451,"answer_id":1672443,"question_id":1672415,"body_markdown":"The answer is: [it doesn&#39;t matter][1].\r\n\r\nProfile your code. Is this your bottleneck?\r\n\r\n  [1]: http://www.codinghorror.com/blog/archives/000061.html\r\n","title":"Java charAt() or substring? Which is faster?","body":"<p>The answer is: <a href=\"http://www.codinghorror.com/blog/archives/000061.html\" rel=\"nofollow noreferrer\">it doesn't matter</a>.</p>\n\n<p>Profile your code. Is this your bottleneck?</p>\n"},{"tags":[],"owner":{"display_name":"Cadet Pirx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1257324588,"creation_date":1257324588,"answer_id":1672454,"question_id":1672415,"body_markdown":"I would first obtain the underlying char[] from the source String using String.toCharArray() and then proceed to call newFunction.\r\n\r\nBut I do agree with Jesper that it would be best if you could just deal with characters and avoid all the String functions...","title":"Java charAt() or substring? Which is faster?","body":"<p>I would first obtain the underlying char[] from the source String using String.toCharArray() and then proceed to call newFunction.</p>\n\n<p>But I do agree with Jesper that it would be best if you could just deal with characters and avoid all the String functions...</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1257325388,"creation_date":1257325388,"answer_id":1672510,"question_id":1672415,"body_markdown":"Of the two snippets you&#39;ve posted, I wouldn&#39;t want to say.  I&#39;d agree with Will that it almost certainly is irrelevant in the overall performance of your code - and if it&#39;s not, you can just make the change and determine for yourself which is fastest for your data with your JVM on your hardware.\r\n\r\nThat said, it&#39;s likely that the second snippet would be better if you converted the String into a char array first, and then performed your iterations over the array.  Doing it this way would perform the String overhead once only (converting to the array) instead of every call.  Additionally, you could then pass the array directly to the String constructor with some indices, which is more efficient than taking a char *out* of an array to pass it individually (which then gets turned into a one character array):\r\n\r\n    String s = &quot;abcdefg&quot;;\r\n    char[] chars = s.toCharArray();\r\n    for(int i = 0; i &lt; chars.length; i++) {\r\n        newFunction(String.valueOf(chars, i, 1));\r\n    }\r\n\r\nBut to reinforce my first point, when you look at what you&#39;re actually avoiding on each call of `String.charAt()` - it&#39;s two bounds checks, a (lazy) boolean OR, and an addition.  This is not going to make any noticeable difference.  Neither is the difference in the String constructors.\r\n\r\nEssentially, both idioms are fine in terms of performance (neither is immediately obviously inefficient) so you should not spend any more time working on them unless a profiler shows that this takes up a large amount of your application&#39;s runtime.  And even then you could almost certainly get more performance gains by restructuring your supporting code in this area (e.g. have `newFunction` take the whole string itself); java.lang.String is pretty well optimised by this point.","title":"Java charAt() or substring? Which is faster?","body":"<p>Of the two snippets you've posted, I wouldn't want to say.  I'd agree with Will that it almost certainly is irrelevant in the overall performance of your code - and if it's not, you can just make the change and determine for yourself which is fastest for your data with your JVM on your hardware.</p>\n\n<p>That said, it's likely that the second snippet would be better if you converted the String into a char array first, and then performed your iterations over the array.  Doing it this way would perform the String overhead once only (converting to the array) instead of every call.  Additionally, you could then pass the array directly to the String constructor with some indices, which is more efficient than taking a char <em>out</em> of an array to pass it individually (which then gets turned into a one character array):</p>\n\n<pre><code>String s = \"abcdefg\";\nchar[] chars = s.toCharArray();\nfor(int i = 0; i &lt; chars.length; i++) {\n    newFunction(String.valueOf(chars, i, 1));\n}\n</code></pre>\n\n<p>But to reinforce my first point, when you look at what you're actually avoiding on each call of <code>String.charAt()</code> - it's two bounds checks, a (lazy) boolean OR, and an addition.  This is not going to make any noticeable difference.  Neither is the difference in the String constructors.</p>\n\n<p>Essentially, both idioms are fine in terms of performance (neither is immediately obviously inefficient) so you should not spend any more time working on them unless a profiler shows that this takes up a large amount of your application's runtime.  And even then you could almost certainly get more performance gains by restructuring your supporting code in this area (e.g. have <code>newFunction</code> take the whole string itself); java.lang.String is pretty well optimised by this point.</p>\n"},{"tags":[],"owner":{"account_id":28208,"reputation":14132,"user_id":75126,"accept_rate":100,"display_name":"mhaller"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1284365978,"creation_date":1257325567,"answer_id":1672524,"question_id":1672415,"body_markdown":"As usual: it doesn&#39;t matter but if you insist on spending time on micro-optimization or if you really like to optimize for your very special use case, try this:\r\n\r\n\timport org.junit.Assert;\r\n\timport org.junit.Test;\r\n\t\r\n\tpublic class StringCharTest {\r\n\t\r\n\t\t// Times:\r\n\t\t// 1. Initialization of &quot;s&quot; outside the loop\r\n\t\t// 2. Init of &quot;s&quot; inside the loop\r\n\t\t// 3. newFunction() actually checks the string length,\r\n\t\t// so the function will not be optimized away by the hotstop compiler\r\n\t\r\n\t\t@Test\r\n\t\t// Fastest: 237ms / 562ms / 2434ms\r\n\t\tpublic void testCacheStrings() throws Exception {\r\n\t\t\t// Cache all possible Char strings\r\n\t\t\tString[] char2string = new String[Character.MAX_VALUE];\r\n\t\t\tfor (char i = Character.MIN_VALUE; i &lt; Character.MAX_VALUE; i++) {\r\n\t\t\t\tchar2string[i] = Character.toString(i);\r\n\t\t\t}\r\n\t\r\n\t\t\tfor (int x = 0; x &lt; 10000000; x++) {\r\n\t\t\t\tchar[] s = &quot;abcdefg&quot;.toCharArray();\r\n\t\t\t\tfor (int i = 0; i &lt; s.length; i++) {\r\n\t\t\t\t\tnewFunction(char2string[s[i]]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t@Test\r\n\t\t// Fast: 1687ms / 1725ms / 3382ms\r\n\t\tpublic void testCharToString() throws Exception {\r\n\t\t\tfor (int x = 0; x &lt; 10000000; x++) {\r\n\t\t\t\tString s = &quot;abcdefg&quot;;\r\n\t\t\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\t\t\t// Fast: Creates new String objects, but does not copy an array\r\n\t\t\t\t\tnewFunction(Character.toString(s.charAt(i)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t@Test\r\n\t\t// Very fast: 1331 ms/ 1414ms / 3190ms\r\n\t\tpublic void testSubstring() throws Exception {\r\n\t\t\tfor (int x = 0; x &lt; 10000000; x++) {\r\n\t\t\t\tString s = &quot;abcdefg&quot;;\r\n\t\t\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\t\t\t// The fastest! Reuses the internal char array\r\n\t\t\t\t\tnewFunction(s.substring(i, i + 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t@Test\r\n\t\t// Slowest: 2525ms / 2961ms / 4703ms\r\n\t\tpublic void testNewString() throws Exception {\r\n\t\t\tchar[] value = new char[1];\r\n\t\t\tfor (int x = 0; x &lt; 10000000; x++) {\r\n\t\t\t\tchar[] s = &quot;abcdefg&quot;.toCharArray();\r\n\t\t\t\tfor (int i = 0; i &lt; s.length; i++) {\r\n\t\t\t\t\tvalue[0] = s[i];\r\n\t\t\t\t\t// Slow! Copies the array\r\n\t\t\t\t\tnewFunction(new String(value));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate void newFunction(String string) {\r\n\t\t\t// Do something with the one-character string\r\n\t\t\tAssert.assertEquals(1, string.length());\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"Java charAt() or substring? Which is faster?","body":"<p>As usual: it doesn't matter but if you insist on spending time on micro-optimization or if you really like to optimize for your very special use case, try this:</p>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\n\npublic class StringCharTest {\n\n    // Times:\n    // 1. Initialization of \"s\" outside the loop\n    // 2. Init of \"s\" inside the loop\n    // 3. newFunction() actually checks the string length,\n    // so the function will not be optimized away by the hotstop compiler\n\n    @Test\n    // Fastest: 237ms / 562ms / 2434ms\n    public void testCacheStrings() throws Exception {\n        // Cache all possible Char strings\n        String[] char2string = new String[Character.MAX_VALUE];\n        for (char i = Character.MIN_VALUE; i &lt; Character.MAX_VALUE; i++) {\n            char2string[i] = Character.toString(i);\n        }\n\n        for (int x = 0; x &lt; 10000000; x++) {\n            char[] s = \"abcdefg\".toCharArray();\n            for (int i = 0; i &lt; s.length; i++) {\n                newFunction(char2string[s[i]]);\n            }\n        }\n    }\n\n    @Test\n    // Fast: 1687ms / 1725ms / 3382ms\n    public void testCharToString() throws Exception {\n        for (int x = 0; x &lt; 10000000; x++) {\n            String s = \"abcdefg\";\n            for (int i = 0; i &lt; s.length(); i++) {\n                // Fast: Creates new String objects, but does not copy an array\n                newFunction(Character.toString(s.charAt(i)));\n            }\n        }\n    }\n\n    @Test\n    // Very fast: 1331 ms/ 1414ms / 3190ms\n    public void testSubstring() throws Exception {\n        for (int x = 0; x &lt; 10000000; x++) {\n            String s = \"abcdefg\";\n            for (int i = 0; i &lt; s.length(); i++) {\n                // The fastest! Reuses the internal char array\n                newFunction(s.substring(i, i + 1));\n            }\n        }\n    }\n\n    @Test\n    // Slowest: 2525ms / 2961ms / 4703ms\n    public void testNewString() throws Exception {\n        char[] value = new char[1];\n        for (int x = 0; x &lt; 10000000; x++) {\n            char[] s = \"abcdefg\".toCharArray();\n            for (int i = 0; i &lt; s.length; i++) {\n                value[0] = s[i];\n                // Slow! Copies the array\n                newFunction(new String(value));\n            }\n        }\n    }\n\n    private void newFunction(String string) {\n        // Do something with the one-character string\n        Assert.assertEquals(1, string.length());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15788396,"reputation":55,"user_id":11392406,"display_name":"DimitrisMel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569266181,"creation_date":1569266181,"answer_id":58068813,"question_id":1672415,"body_markdown":"Leetcode seems to prefer the substring option [here][1].\r\n\r\nThis is how I solved that problem:\r\n\r\n    class Solution {\r\n    public int strStr(String haystack, String needle) {\r\n        if(needle.length() == 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\t\tif(haystack.length() == 0) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i=0; i&lt;=haystack.length()-needle.length(); i++) {\r\n\t\t\tint count = 0;\r\n\t\t\tfor(int j=0; j&lt;needle.length(); j++) {\r\n\t\t\t\tif(haystack.charAt(i+j) == needle.charAt(j)) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(count == needle.length()) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n    }\r\n}\r\n\r\nAnd this is the optimal solution they give:\r\n\r\n    class Solution {\r\n    public int strStr(String haystack, String needle) {\r\n        int length;\r\n        int n=needle.length();\r\n        int h=haystack.length();\r\n        if(n==0)\r\n            return 0;\r\n        // if(n==h)\r\n        //     length = h;\r\n        // else\r\n            length = h-n;\r\n        if(h==n &amp;&amp; haystack.charAt(0)!=needle.charAt(0))\r\n                return -1;\r\n        for(int i=0; i&lt;=length; i++){\r\n            if(haystack.substring(i, i+needle.length()).equals(needle))\r\n                return i;\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\nHonestly, I can&#39;t figure out why it would matter.\r\n\r\n\r\n  [1]: https://leetcode.com/problems/implement-strstr/","title":"Java charAt() or substring? Which is faster?","body":"<p>Leetcode seems to prefer the substring option <a href=\"https://leetcode.com/problems/implement-strstr/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>This is how I solved that problem:</p>\n\n<pre><code>class Solution {\npublic int strStr(String haystack, String needle) {\n    if(needle.length() == 0) {\n        return 0;\n    }\n\n    if(haystack.length() == 0) {\n        return -1;\n    }\n\n    for(int i=0; i&lt;=haystack.length()-needle.length(); i++) {\n        int count = 0;\n        for(int j=0; j&lt;needle.length(); j++) {\n            if(haystack.charAt(i+j) == needle.charAt(j)) {\n                count++;\n            }\n        }\n        if(count == needle.length()) {\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And this is the optimal solution they give:</p>\n\n<pre><code>class Solution {\npublic int strStr(String haystack, String needle) {\n    int length;\n    int n=needle.length();\n    int h=haystack.length();\n    if(n==0)\n        return 0;\n    // if(n==h)\n    //     length = h;\n    // else\n        length = h-n;\n    if(h==n &amp;&amp; haystack.charAt(0)!=needle.charAt(0))\n            return -1;\n    for(int i=0; i&lt;=length; i++){\n        if(haystack.substring(i, i+needle.length()).equals(needle))\n            return i;\n    }\n    return -1;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Honestly, I can't figure out why it would matter.</p>\n"}],"owner":{"account_id":881311,"reputation":135,"user_id":198578,"display_name":"estacado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37447,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":1672524,"answer_count":6,"score":13,"last_activity_date":1681557054,"creation_date":1257323954,"question_id":1672415,"body_markdown":"I want to go through each character in a String and pass each character of the String as a String to another function. \r\n\r\n    String s = &quot;abcdefg&quot;;\r\n    for(int i = 0; i &lt; s.length(); i++){\r\n        newFunction(s.substring(i, i+1));}\r\n\r\nor\r\n\r\n    String s = &quot;abcdefg&quot;;\r\n    for(int i = 0; i &lt; s.length(); i++){\r\n        newFunction(Character.toString(s.charAt(i)));}\r\n\r\nThe final result needs to be a String.  \r\nSo any idea which will be faster or more efficient?","title":"Java charAt() or substring? Which is faster?","body":"<p>I want to go through each character in a String and pass each character of the String as a String to another function.</p>\n<pre><code>String s = &quot;abcdefg&quot;;\nfor(int i = 0; i &lt; s.length(); i++){\n    newFunction(s.substring(i, i+1));}\n</code></pre>\n<p>or</p>\n<pre><code>String s = &quot;abcdefg&quot;;\nfor(int i = 0; i &lt; s.length(); i++){\n    newFunction(Character.toString(s.charAt(i)));}\n</code></pre>\n<p>The final result needs to be a String.<br />\nSo any idea which will be faster or more efficient?</p>\n"},{"tags":["java","json","api","http","httpresponse"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1681394541,"post_id":76006320,"comment_id":134051915,"body_markdown":"Please read https://stackoverflow.com/editing-help and edit your post, using the preview to make sure it&#39;s readable before posting.","body":"Please read <a href=\"https://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a> and edit your post, using the preview to make sure it&#39;s readable before posting."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1681394594,"post_id":76006320,"comment_id":134051925,"body_markdown":"(I&#39;d also strongly recommend reducing this to a [mcve] - I&#39;d be very surprised if you really need to include fetching from HTTP *and* parsing JSON *and* writing data to a CSV file for a single error.)","body":"(I&#39;d also strongly recommend reducing this to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - I&#39;d be very surprised if you really need to include fetching from HTTP <i>and</i> parsing JSON <i>and</i> writing data to a CSV file for a single error.)"}],"answers":[{"tags":[],"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1681461969,"creation_date":1681403310,"answer_id":76007783,"question_id":76006320,"body_markdown":"okay let&#39;s make it bit simpler. Once you have the jsonString, you can do something like this - \r\n\r\n``` java\r\nList&lt;String&gt; employeeIds = new ArrayList&lt;&gt;();\r\nJSONObject obj = new JSONObject(jsonString);\r\nif (obj.has(&quot;userdetails&quot;)) {\r\n// get the userDetails array object\r\n JSONArray userDetails = obj.getJSONArray(&quot;userdetails&quot;);\r\n\r\n// loop over\r\n for (int i = 0; i &lt; userDetails.length(); i++) {\r\n    JSONObject object = (JSONObject) userDetails.get(i);\r\n    employeeIds.add(object.getString(&quot;employeeid&quot;))\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nLater you can write the employeeIds list in any file you want\r\n\r\n**EDITED**\r\n\r\nhere is the code to write in csv file \r\n```java\r\n\r\npublic static void writeInCsv(List&lt;String&gt; employeeIds, String directoryLocation) {\r\n        String fileName = directoryLocation + &quot;/empoyeeIds.csv&quot; ;\r\n        try (BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(fileName), StandardCharsets.UTF_8))) {\r\n            String header = &quot;Employee Ids&quot;;\r\n            bw.write(header);\r\n            bw.newLine();\r\n            for (String id : employeeIds) {\r\n                bw.write(id);\r\n                bw.newLine();\r\n            }\r\n        } catch (UnsupportedEncodingException e) {\r\n            LOG.error(&quot;Unsupported encoding format&quot;, e);\r\n        } catch (FileNotFoundException e) {\r\n            LOG.error(&quot;Error creating the file &quot;, e);\r\n        } catch (IOException e) {\r\n            LOG.error(&quot;Error creating csv file&quot;, e);\r\n        }\r\n    }\r\n\r\n```","title":"Exception in main java.lang.ClassCastException:class java.lang.String can&#39;t be cast to class","body":"<p>okay let's make it bit simpler. Once you have the jsonString, you can do something like this -</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; employeeIds = new ArrayList&lt;&gt;();\nJSONObject obj = new JSONObject(jsonString);\nif (obj.has(&quot;userdetails&quot;)) {\n// get the userDetails array object\n JSONArray userDetails = obj.getJSONArray(&quot;userdetails&quot;);\n\n// loop over\n for (int i = 0; i &lt; userDetails.length(); i++) {\n    JSONObject object = (JSONObject) userDetails.get(i);\n    employeeIds.add(object.getString(&quot;employeeid&quot;))\n\n  }\n\n}\n</code></pre>\n<p>Later you can write the employeeIds list in any file you want</p>\n<p><strong>EDITED</strong></p>\n<p>here is the code to write in csv file</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static void writeInCsv(List&lt;String&gt; employeeIds, String directoryLocation) {\n        String fileName = directoryLocation + &quot;/empoyeeIds.csv&quot; ;\n        try (BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(fileName), StandardCharsets.UTF_8))) {\n            String header = &quot;Employee Ids&quot;;\n            bw.write(header);\n            bw.newLine();\n            for (String id : employeeIds) {\n                bw.write(id);\n                bw.newLine();\n            }\n        } catch (UnsupportedEncodingException e) {\n            LOG.error(&quot;Unsupported encoding format&quot;, e);\n        } catch (FileNotFoundException e) {\n            LOG.error(&quot;Error creating the file &quot;, e);\n        } catch (IOException e) {\n            LOG.error(&quot;Error creating csv file&quot;, e);\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":28211049,"reputation":21,"user_id":21563306,"display_name":"Sonika Kushwaha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76007783,"answer_count":1,"score":0,"last_activity_date":1681556884,"creation_date":1681394265,"question_id":76006320,"body_markdown":"I am getting the clasCastException while processing the json data. \r\n\r\nI want to get &quot;employeeid&quot; from a JSON response and want to write later the employee IDs in a new Excel file. However, I am getting the class cast exception - String can not be cast into an Object. \r\n\r\nI have pasted my code below as I am new to this so your help will be really appreciated.\r\n\r\nhere is my JSON Response:\r\n```json\r\n\r\n{\r\n    &quot;msg&quot;: &quot;Successful&quot;,\r\n    &quot;displaycount&quot;: &quot;50&quot;,\r\n    &quot;totalcount&quot;: &quot;1294&quot;,\r\n    &quot;userdetails&quot;: [\r\n        {\r\n            &quot;employeeid&quot;: &quot;132421&quot;,\r\n            &quot;userKey&quot;: 17\r\n        },\r\n        {\r\n            &quot;employeeid&quot;: &quot;112342&quot;,\r\n            &quot;userKey&quot;: 18\r\n        },\r\n        {\r\n            &quot;employeeid&quot;: &quot;112341&quot;,\r\n            &quot;userKey&quot;: 19\r\n        },\r\n        {\r\n            &quot;employeeid&quot;: &quot;112343&quot;,\r\n            &quot;userKey&quot;: 20\r\n        },\r\n        {\r\n            &quot;employeeid&quot;: &quot;99954&quot;,\r\n            &quot;userKey&quot;: 21\r\n        },\r\n    ],\r\n    &quot;errorCode&quot;: &quot;0&quot;\r\n}\r\n\r\n```\r\nCode:\r\n\r\n```java \r\npackage api.src;\r\n\r\nimport java.io.FileOutputStream;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport com.opencsv.CSVWriter;\r\nimport java.io.*;\r\n\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\nimport org.json.simple.parser.ParseException;\r\n\r\npublic class callAPI {\r\n\r\n\t static String[] finalResult;\r\n\t public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException, ParseException {\r\n\r\n\t\tHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t.uri(URI.create(&quot;*****&quot;))\r\n\t\t\t.header(&quot;X-RapidAPI-Host&quot;, &quot;***********&quot;)\r\n\t\t\t.header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t\t.header(&quot;Authorization&quot;,**********)\r\n\t\t\t.method(&quot;POST&quot;, HttpRequest.BodyPublishers.noBody())\r\n\t\t\t.build();\r\n\r\n\tSystem.out.println(&quot;Connected &quot;+request);\r\n\r\n\ttry {\r\n\t\tString path = &quot;D:/Sonika/JARs/httpresponse.json&quot;;\r\n\r\n\t\tHttpResponse&lt;String&gt; response = null;\r\n\t\tresponse = HttpClient.newHttpClient().send(request, \r\n        HttpResponse.BodyHandlers.ofString());\r\n\t\tint statusCode = response.statusCode();\r\n\t\tSystem.out.println(statusCode);\r\n\r\n\t\tSystem.out.println(response.body());\r\n\t\ttry (PrintWriter out = new PrintWriter(new FileWriter(path))) {\r\n\t\t\tout.write(response.body().toString());\r\n\t\t}\r\n\r\n        JSONParser parse = new JSONParser();\r\n\t\tJSONObject jobj = (JSONObject) parse.parse(new FileReader(path));\r\n\t\tJSONArray jsonarr_1 = (JSONArray) jobj.get(&quot;userdetails&quot;);\r\n\r\n\t\t//Get data for userdetails array\r\n\t\tfor (Object element : jsonarr_1) {\r\n\t\t//Store the JSON objects in an array\r\n\t\t//Get the index of the JSON object and print the values as per the index\r\n\t\tJSONObject jsonobj_1 = (JSONObject)element;\r\n\t\tfinalResult =  (String[]) jsonobj_1.get(&quot;employeeid&quot;);\r\n\t\tSystem.out.println(&quot;\\nEmployee ID: &quot;+finalResult);\r\n\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tcatch(IOException e) {\r\n\t    // handle not expected exception\r\n\t    e.printStackTrace();\r\n\t}\r\n\t}\r\n\tpublic void writingCSVFile(){\r\n\t\ttry {\r\n\t\t\tCSVWriter  file = new CSVWriter(new FileWriter(new File(&quot;D:/Sonika/JARs/OutputExcelfile.xlsx&quot;)));\r\n\t\t\tString[] colName = { &quot;Employee ID&quot;};\r\n\t\t\tfile.writeNext(colName);\r\n\t\t\tfile.writeNext(finalResult);\r\n\t\t\tfile.close();\r\n\t\t} \r\n\t\tcatch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n","title":"Exception in main java.lang.ClassCastException:class java.lang.String can&#39;t be cast to class","body":"<p>I am getting the clasCastException while processing the json data.</p>\n<p>I want to get &quot;employeeid&quot; from a JSON response and want to write later the employee IDs in a new Excel file. However, I am getting the class cast exception - String can not be cast into an Object.</p>\n<p>I have pasted my code below as I am new to this so your help will be really appreciated.</p>\n<p>here is my JSON Response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>\n{\n    &quot;msg&quot;: &quot;Successful&quot;,\n    &quot;displaycount&quot;: &quot;50&quot;,\n    &quot;totalcount&quot;: &quot;1294&quot;,\n    &quot;userdetails&quot;: [\n        {\n            &quot;employeeid&quot;: &quot;132421&quot;,\n            &quot;userKey&quot;: 17\n        },\n        {\n            &quot;employeeid&quot;: &quot;112342&quot;,\n            &quot;userKey&quot;: 18\n        },\n        {\n            &quot;employeeid&quot;: &quot;112341&quot;,\n            &quot;userKey&quot;: 19\n        },\n        {\n            &quot;employeeid&quot;: &quot;112343&quot;,\n            &quot;userKey&quot;: 20\n        },\n        {\n            &quot;employeeid&quot;: &quot;99954&quot;,\n            &quot;userKey&quot;: 21\n        },\n    ],\n    &quot;errorCode&quot;: &quot;0&quot;\n}\n\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package api.src;\n\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport com.opencsv.CSVWriter;\nimport java.io.*;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class callAPI {\n\n     static String[] finalResult;\n     public static void main(String[] args) throws URISyntaxException, IOException, InterruptedException, ParseException {\n\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(&quot;*****&quot;))\n            .header(&quot;X-RapidAPI-Host&quot;, &quot;***********&quot;)\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .header(&quot;Authorization&quot;,**********)\n            .method(&quot;POST&quot;, HttpRequest.BodyPublishers.noBody())\n            .build();\n\n    System.out.println(&quot;Connected &quot;+request);\n\n    try {\n        String path = &quot;D:/Sonika/JARs/httpresponse.json&quot;;\n\n        HttpResponse&lt;String&gt; response = null;\n        response = HttpClient.newHttpClient().send(request, \n        HttpResponse.BodyHandlers.ofString());\n        int statusCode = response.statusCode();\n        System.out.println(statusCode);\n\n        System.out.println(response.body());\n        try (PrintWriter out = new PrintWriter(new FileWriter(path))) {\n            out.write(response.body().toString());\n        }\n\n        JSONParser parse = new JSONParser();\n        JSONObject jobj = (JSONObject) parse.parse(new FileReader(path));\n        JSONArray jsonarr_1 = (JSONArray) jobj.get(&quot;userdetails&quot;);\n\n        //Get data for userdetails array\n        for (Object element : jsonarr_1) {\n        //Store the JSON objects in an array\n        //Get the index of the JSON object and print the values as per the index\n        JSONObject jsonobj_1 = (JSONObject)element;\n        finalResult =  (String[]) jsonobj_1.get(&quot;employeeid&quot;);\n        System.out.println(&quot;\\nEmployee ID: &quot;+finalResult);\n\n        }   \n    }\n    \n    catch(IOException e) {\n        // handle not expected exception\n        e.printStackTrace();\n    }\n    }\n    public void writingCSVFile(){\n        try {\n            CSVWriter  file = new CSVWriter(new FileWriter(new File(&quot;D:/Sonika/JARs/OutputExcelfile.xlsx&quot;)));\n            String[] colName = { &quot;Employee ID&quot;};\n            file.writeNext(colName);\n            file.writeNext(finalResult);\n            file.close();\n        } \n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","collections","entitymanager"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1680266054,"post_id":75898542,"comment_id":133873333,"body_markdown":"You should define entity classes for the user and email, and use a standard HQL approach.","body":"You should define entity classes for the user and email, and use a standard HQL approach."}],"answers":[{"tags":[],"owner":{"account_id":14549481,"reputation":1,"user_id":10508824,"display_name":"Anck8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681488490,"creation_date":1681488490,"answer_id":76017023,"question_id":75898542,"body_markdown":"I got a solution thanks to [this][1] post from awhile back!\r\n\r\nSo, simply put... a Tuple structure can work really well or such queries, and the return object is really easy to manage.\r\n\r\nThen its just a matter of filtering out the values and the key they&#39;re associated with, adding the values to the Map their key is in it already, and adding the key to the list if its not.\r\n\r\nThe code:\r\n\r\n\r\n       List&lt;Tuple&gt; result = query.getResultList();\r\n       Map&lt;Integer, List&lt;String&gt;&gt; finalObject = new HashMap&lt;&gt;();\r\n       List&lt;String&gt; emailsValue;\r\n       BigInteger codeKey;\r\n    \r\n       for (Tuple t : result) {\r\n           if (t.get(&quot;id&quot;, BigInteger.class) != null) {\r\n               codeKey = t.get(&quot;id&quot;, BigInteger.class);\r\n               if (finalObject.containsKey(codeKey.intValue())) {\r\n                   emailsValue = finalObject.get(codeKey.intValue());\r\n                   emailsValue.add(t.get(&quot;email&quot;, String.class));\r\n           } else {\r\n               emailsValue = new ArrayList&lt;&gt;();\r\n               emailsValue.add(t.get(&quot;email&quot;, String.class));\r\n               finalObject.put(codeKey.intValue(), emailsValue);\r\n           }\r\n       }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29717234/java-adding-another-string-value-to-existing-hashmap-key-without-overwriting\r\n","title":"Populating Map values with multiple parameters from nativeQuery","body":"<p>I got a solution thanks to <a href=\"https://stackoverflow.com/questions/29717234/java-adding-another-string-value-to-existing-hashmap-key-without-overwriting\">this</a> post from awhile back!</p>\n<p>So, simply put... a Tuple structure can work really well or such queries, and the return object is really easy to manage.</p>\n<p>Then its just a matter of filtering out the values and the key they're associated with, adding the values to the Map their key is in it already, and adding the key to the list if its not.</p>\n<p>The code:</p>\n<pre><code>   List&lt;Tuple&gt; result = query.getResultList();\n   Map&lt;Integer, List&lt;String&gt;&gt; finalObject = new HashMap&lt;&gt;();\n   List&lt;String&gt; emailsValue;\n   BigInteger codeKey;\n\n   for (Tuple t : result) {\n       if (t.get(&quot;id&quot;, BigInteger.class) != null) {\n           codeKey = t.get(&quot;id&quot;, BigInteger.class);\n           if (finalObject.containsKey(codeKey.intValue())) {\n               emailsValue = finalObject.get(codeKey.intValue());\n               emailsValue.add(t.get(&quot;email&quot;, String.class));\n       } else {\n           emailsValue = new ArrayList&lt;&gt;();\n           emailsValue.add(t.get(&quot;email&quot;, String.class));\n           finalObject.put(codeKey.intValue(), emailsValue);\n       }\n   }\n</code></pre>\n"}],"owner":{"account_id":14549481,"reputation":1,"user_id":10508824,"display_name":"Anck8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681556786,"creation_date":1680265787,"question_id":75898542,"body_markdown":"Out of curiosity, I was wondering if it would be possible to populate a ` Map&lt;Integer, ArrayList&lt;String&gt;&gt; ` with my query&#39;s result...\r\n\r\nI have the following query:\r\n\r\n``` sql\r\n SELECT DISTINCT code, email FROM user;\r\n```\r\n\r\nThat results on multiple email records for the same code, as such:\r\n\r\n```\r\n| CODE     | EMAIL                     |\r\n| -------- | --------                  |\r\n| 1        | person@email.com          |\r\n| 1        | otherPerson@email.com     |\r\n| 2        | someOtherPerson@email.com |\r\n```\r\n\r\nAnd the method (that should return something):\r\n\r\n\r\n``` java\r\n    @Override\r\n    public Map&lt;Integer, ArrayList&lt;String&gt;&gt; returnCodeEmail() {\r\n        StringBuilder sql = &quot;SELECT DISTINCT code, email FROM user&quot;;\r\n        return new HashMap();\r\n    }\r\n```\r\n\r\n\r\nI tried:\r\n\r\n``` java\r\n return (Map&lt;Integer, ArrayList&lt;String&gt;&gt;) entityManager\r\n       .createNativeQuery(sql.toString())\r\n       .getResultList()\r\n       .stream()\r\n       .collect(Collectors.toMap(\r\n             t -&gt; ((Tuple) t).get(0), \r\n             t -&gt; ((Tuple) t).get(1)\r\n        ));\r\n```\r\n\r\nBut it doesn&#39;t seem to be able to populate the list as intended...\r\n\r\nHow can I make sure my map has a Key that is the ` code ` and a value list of ` emails` as in the table?\r\n\r\nThanks in advance :)","title":"Populating Map values with multiple parameters from nativeQuery","body":"<p>Out of curiosity, I was wondering if it would be possible to populate a <code>Map&lt;Integer, ArrayList&lt;String&gt;&gt;</code> with my query's result...</p>\n<p>I have the following query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code> SELECT DISTINCT code, email FROM user;\n</code></pre>\n<p>That results on multiple email records for the same code, as such:</p>\n<pre><code>| CODE     | EMAIL                     |\n| -------- | --------                  |\n| 1        | person@email.com          |\n| 1        | otherPerson@email.com     |\n| 2        | someOtherPerson@email.com |\n</code></pre>\n<p>And the method (that should return something):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Map&lt;Integer, ArrayList&lt;String&gt;&gt; returnCodeEmail() {\n        StringBuilder sql = &quot;SELECT DISTINCT code, email FROM user&quot;;\n        return new HashMap();\n    }\n</code></pre>\n<p>I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code> return (Map&lt;Integer, ArrayList&lt;String&gt;&gt;) entityManager\n       .createNativeQuery(sql.toString())\n       .getResultList()\n       .stream()\n       .collect(Collectors.toMap(\n             t -&gt; ((Tuple) t).get(0), \n             t -&gt; ((Tuple) t).get(1)\n        ));\n</code></pre>\n<p>But it doesn't seem to be able to populate the list as intended...</p>\n<p>How can I make sure my map has a Key that is the <code>code</code> and a value list of <code> emails</code> as in the table?</p>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","linux","eclipse","gradle"],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455746228,"creation_date":1455746228,"answer_id":35468600,"question_id":35468200,"body_markdown":"Remember:  **packages are folders.**\r\n\r\nIf you have your project broken out into components in that fashion, and you have different packages for each of them, then there at least *should* be a valid reason for that.\r\n\r\nWhile there may be a valid argument to be made on refactoring your components (which I can neither approve of or disapprove of since I don&#39;t know how these components should interact with one another), you should not look to flatten the folder structure simply because one or two developers do not wish to use tools to help them navigate it simpler.\r\n\r\nThe simplest thing to do at this point is to standardize everyone&#39;s development environment.  IDEs may not be to everyone&#39;s liking, but they specifically help mitigate against pain points like this.","title":"Is there a workaround for long folder paths in Eclipse Java projects?","body":"<p>Remember:  <strong>packages are folders.</strong></p>\n\n<p>If you have your project broken out into components in that fashion, and you have different packages for each of them, then there at least <em>should</em> be a valid reason for that.</p>\n\n<p>While there may be a valid argument to be made on refactoring your components (which I can neither approve of or disapprove of since I don't know how these components should interact with one another), you should not look to flatten the folder structure simply because one or two developers do not wish to use tools to help them navigate it simpler.</p>\n\n<p>The simplest thing to do at this point is to standardize everyone's development environment.  IDEs may not be to everyone's liking, but they specifically help mitigate against pain points like this.</p>\n"},{"tags":[],"owner":{"account_id":559428,"reputation":3077,"user_id":921739,"accept_rate":92,"display_name":"Logical Fallacy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1455839085,"creation_date":1455839085,"answer_id":35494735,"question_id":35468200,"body_markdown":"I&#39;ve confirmed that Eclipse only supports source paths that match the package names; alternatives have been [requested](https://bugs.eclipse.org/bugs/show_bug.cgi?id=16209) and marked as &quot;Won&#39;t Fix.&quot;\r\n\r\nI think I&#39;ve [found a suitable workaround](https://sampsonlchen.wordpress.com/2012/09/18/three-shortcuts-to-quickly-change-directories-in-linux/) for Linux developers wishing to do their work from the command line. In your `~/.bashrc` file, add something like this:\r\n\r\n&lt;pre&gt;\r\n\r\n    # Project shortcuts\r\n    export repo=&quot;/path/to/repository/&quot;\r\n    alias repo_root=&quot;cd $repo&quot;\r\n    alias repo_core=&quot;cd $repo/core/src/main/java/com/company/product/component/&quot;\r\n    alias repo_sub1=&quot;cd $repo/sub1/src/main/java/com/company/product/component/subcomponent1&quot;\r\n    alias repo_sub2=&quot;cd $repo/sub2/src/main/java/com/company/product/component/subcomponent2&quot;\r\n\r\n&lt;/pre&gt;\r\n\r\nOnce you have the paths set, start a new terminal instance, and run it like this:\r\n\r\n&lt;pre&gt;\r\n\r\n    bash-4.1$ repo_root\r\n    bash-4.1$ pwd\r\n    /path/to/repository\r\n    bash-4.1$ repo_sub1\r\n    bash-4.1$ pwd\r\n    /path/to/repository/sub1/src/main/java/com/company/product/component/subcomponent1\r\n\r\n&lt;/pre&gt;\r\n\r\nAlternatively, you could use `export` for each of them instead of aliases. Whatever cans your peaches. The point is that you can quickly traverse those paths much faster and do so from anywhere.","title":"Is there a workaround for long folder paths in Eclipse Java projects?","body":"<p>I've confirmed that Eclipse only supports source paths that match the package names; alternatives have been <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=16209\" rel=\"nofollow\">requested</a> and marked as \"Won't Fix.\"</p>\n\n<p>I think I've <a href=\"https://sampsonlchen.wordpress.com/2012/09/18/three-shortcuts-to-quickly-change-directories-in-linux/\" rel=\"nofollow\">found a suitable workaround</a> for Linux developers wishing to do their work from the command line. In your <code>~/.bashrc</code> file, add something like this:</p>\n\n<pre>\n\n    # Project shortcuts\n    export repo=\"/path/to/repository/\"\n    alias repo_root=\"cd $repo\"\n    alias repo_core=\"cd $repo/core/src/main/java/com/company/product/component/\"\n    alias repo_sub1=\"cd $repo/sub1/src/main/java/com/company/product/component/subcomponent1\"\n    alias repo_sub2=\"cd $repo/sub2/src/main/java/com/company/product/component/subcomponent2\"\n\n</pre>\n\n<p>Once you have the paths set, start a new terminal instance, and run it like this:</p>\n\n<pre>\n\n    bash-4.1$ repo_root\n    bash-4.1$ pwd\n    /path/to/repository\n    bash-4.1$ repo_sub1\n    bash-4.1$ pwd\n    /path/to/repository/sub1/src/main/java/com/company/product/component/subcomponent1\n\n</pre>\n\n<p>Alternatively, you could use <code>export</code> for each of them instead of aliases. Whatever cans your peaches. The point is that you can quickly traverse those paths much faster and do so from anywhere.</p>\n"},{"tags":[],"owner":{"account_id":16918448,"reputation":1,"user_id":12235830,"display_name":"Junaid Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681556605,"creation_date":1681188721,"answer_id":75982496,"question_id":35468200,"body_markdown":"not the perfect answer but it might help. In Eclipse, create a &quot;keyboard shortcut&quot; (Preferences -&gt; General -&gt; Keys) for New (Folder) (e.g. Ctrl + Shift + f) . and it opens new folder dialog instantly. \r\n\r\nIn Eclipse, create a &quot;keyboard shortcut&quot; (Preferences -&gt; General -&gt; Keys) for New (Folder):\r\n[![Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ztrsU.png","title":"Is there a workaround for long folder paths in Eclipse Java projects?","body":"<p>not the perfect answer but it might help. In Eclipse, create a &quot;keyboard shortcut&quot; (Preferences -&gt; General -&gt; Keys) for New (Folder) (e.g. Ctrl + Shift + f) . and it opens new folder dialog instantly.</p>\n<p>In Eclipse, create a &quot;keyboard shortcut&quot; (Preferences -&gt; General -&gt; Keys) for New (Folder):\n<a href=\"https://i.stack.imgur.com/ztrsU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ztrsU.png\" alt=\"Eclipse\" /></a></p>\n"}],"owner":{"account_id":559428,"reputation":3077,"user_id":921739,"accept_rate":92,"display_name":"Logical Fallacy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35494735,"answer_count":3,"score":0,"last_activity_date":1681556605,"creation_date":1455744752,"question_id":35468200,"body_markdown":"I have an multi-project Gradle build based on Java code. It&#39;s organized into several projects in order to preserve third party dependencies while still allowing for shared code. (There are main() functions in each subcomponent.) Here&#39;s my project folder structure on disk, which I believe follows all the Gradle and Java best-practices:\r\n\r\n&lt;pre&gt;\r\n\r\n    +---repository_for_component\r\n        +---component\r\n        |   +---src\r\n        |       +---main\r\n        |           +---java\r\n        |                +---com\r\n        |                    +---company\r\n        |                        +---product\r\n        |                            +---component\r\n        |                                +---SharedSource.java\r\n        +---subcomponent1\r\n        |   +---src\r\n        |       +---main\r\n        |           +---java\r\n        |                +---com\r\n        |                    +---company\r\n        |                        +---product\r\n        |                            +---component\r\n        |                                +---subcomponent1\r\n        |                                    +---Source1.java\r\n        +---subcomponent2\r\n        |   +---src\r\n        |       +---main\r\n        |           +---java\r\n        |                +---com\r\n        |                    +---company\r\n        |                        +---product\r\n        |                            +---component\r\n        |                                +---subcomponent2\r\n        |                                    +---Source2.java\r\n        +---build.gradle\r\n        +---settings.gradle\r\n        ...\r\n\r\n&lt;/pre&gt;\r\n\r\nOne of our devs prefers not to use an IDE (terminal only), and this is understandably a huge pain for him to navigate. It&#39;s painful for me too when I have to do anything from the command line or use a file browser.\r\n\r\nBecause this repository is only for the &quot;component&quot; in question, much of the paths are redundant. In particular, this eliminates 4 redundant folders:\r\n\r\n&lt;pre&gt;\r\n\r\n    +---repository_for_component\r\n        +---subcomponent1\r\n        |   +---src\r\n        |       +---main\r\n        |           +---java\r\n        |               +---com.company.product.component.subcomponent1\r\n        |                   +---SharedSource.java\r\n    ...\r\n\r\n&lt;/pre&gt;\r\n\r\nIt&#39;s still a marginal improvement, but it&#39;s something. I&#39;d press my luck farther, but while Gradle builds this project just fine, Eclipse gives the error:\r\n\r\n&gt; The declared package &quot;com.company.product.component.subcomponent&quot; does not match the expected package &quot;&quot;\r\n\r\nAre there any workarounds I can use within Eclipse? Or other suggestions for ways to make this less painful for everyone?","title":"Is there a workaround for long folder paths in Eclipse Java projects?","body":"<p>I have an multi-project Gradle build based on Java code. It's organized into several projects in order to preserve third party dependencies while still allowing for shared code. (There are main() functions in each subcomponent.) Here's my project folder structure on disk, which I believe follows all the Gradle and Java best-practices:</p>\n\n<pre>\n\n    +---repository_for_component\n        +---component\n        |   +---src\n        |       +---main\n        |           +---java\n        |                +---com\n        |                    +---company\n        |                        +---product\n        |                            +---component\n        |                                +---SharedSource.java\n        +---subcomponent1\n        |   +---src\n        |       +---main\n        |           +---java\n        |                +---com\n        |                    +---company\n        |                        +---product\n        |                            +---component\n        |                                +---subcomponent1\n        |                                    +---Source1.java\n        +---subcomponent2\n        |   +---src\n        |       +---main\n        |           +---java\n        |                +---com\n        |                    +---company\n        |                        +---product\n        |                            +---component\n        |                                +---subcomponent2\n        |                                    +---Source2.java\n        +---build.gradle\n        +---settings.gradle\n        ...\n\n</pre>\n\n<p>One of our devs prefers not to use an IDE (terminal only), and this is understandably a huge pain for him to navigate. It's painful for me too when I have to do anything from the command line or use a file browser.</p>\n\n<p>Because this repository is only for the \"component\" in question, much of the paths are redundant. In particular, this eliminates 4 redundant folders:</p>\n\n<pre>\n\n    +---repository_for_component\n        +---subcomponent1\n        |   +---src\n        |       +---main\n        |           +---java\n        |               +---com.company.product.component.subcomponent1\n        |                   +---SharedSource.java\n    ...\n\n</pre>\n\n<p>It's still a marginal improvement, but it's something. I'd press my luck farther, but while Gradle builds this project just fine, Eclipse gives the error:</p>\n\n<blockquote>\n  <p>The declared package \"com.company.product.component.subcomponent\" does not match the expected package \"\"</p>\n</blockquote>\n\n<p>Are there any workarounds I can use within Eclipse? Or other suggestions for ways to make this less painful for everyone?</p>\n"},{"tags":["java","rabbitmq","quarkus","health-check","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1681666652,"post_id":75745888,"comment_id":134089783,"body_markdown":"if invoyceTypeRequestEmitter is not throwing any exception it means it is working, what error do you get ? or can you explain your problem more clearly ?","body":"if invoyceTypeRequestEmitter is not throwing any exception it means it is working, what error do you get ? or can you explain your problem more clearly ?"}],"owner":{"account_id":17193035,"reputation":1,"user_id":12446463,"display_name":"Lucas Pl&#225;cido"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681556493,"creation_date":1678889425,"question_id":75745888,"body_markdown":"I&#39;m using smallrye healthcheck to check the liveness and readiness of the rabbitmq container.\r\n\r\n```\r\nhttp://localhost:8080/q/health/live\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n  &lt;artifactId&gt;quarkus-smallrye-health&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nThe health check does not identify that the container has stopped or when it only identifies after 2 hours. I tried to do a custom health check but it doesn&#39;t pop an error when using the emitter for the specified channel.\r\n\r\n```\r\npackage com.globalcards.adapter.driver.config;\r\n\r\nimport org.eclipse.microprofile.health.HealthCheck;\r\nimport org.eclipse.microprofile.health.HealthCheckResponse;\r\nimport org.eclipse.microprofile.health.Liveness;\r\nimport org.eclipse.microprofile.reactive.messaging.Channel;\r\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\r\nimport org.eclipse.microprofile.reactive.messaging.Message;\r\nimport org.eclipse.microprofile.reactive.messaging.Outgoing;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\n\r\n\r\n@ApplicationScoped\r\n@Liveness\r\npublic class CustomHealthLivenessRabbitMq implements HealthCheck {\r\n     @Channel(&quot;sends&quot;)\r\n     Emitter&lt;String&gt; invoyceTypeRequestEmitter;\r\n    \r\n     @Override\r\n      public HealthCheckResponse call() {\r\n         try {\r\n             invoyceTypeRequestEmitter.send(&quot;healthcheck&quot;);\r\n             return HealthCheckResponse.builder().up().name(&quot;RabbitMQ container is ready &quot;).build();\r\n         } catch (Exception exception) {\r\n               return HealthCheckResponse.builder().down().name(&quot;RabbitMQ container is not readyds&quot;).build();\r\n         }\r\n     }\r\n    \r\n     @Outgoing(&quot;sends&quot;)\r\n     public String outgoing() {\r\n         return &quot;healthcheck&quot;;\r\n     }\r\n}\r\n\r\n```\r\n\r\nCan anyone help me or have you been through this?","title":"How can I make smallrye message health check work for rabbitmq?","body":"<p>I'm using smallrye healthcheck to check the liveness and readiness of the rabbitmq container.</p>\n<pre><code>http://localhost:8080/q/health/live\n\n&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-smallrye-health&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>The health check does not identify that the container has stopped or when it only identifies after 2 hours. I tried to do a custom health check but it doesn't pop an error when using the emitter for the specified channel.</p>\n<pre><code>package com.globalcards.adapter.driver.config;\n\nimport org.eclipse.microprofile.health.HealthCheck;\nimport org.eclipse.microprofile.health.HealthCheckResponse;\nimport org.eclipse.microprofile.health.Liveness;\nimport org.eclipse.microprofile.reactive.messaging.Channel;\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\nimport org.eclipse.microprofile.reactive.messaging.Message;\nimport org.eclipse.microprofile.reactive.messaging.Outgoing;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n\n@ApplicationScoped\n@Liveness\npublic class CustomHealthLivenessRabbitMq implements HealthCheck {\n     @Channel(&quot;sends&quot;)\n     Emitter&lt;String&gt; invoyceTypeRequestEmitter;\n    \n     @Override\n      public HealthCheckResponse call() {\n         try {\n             invoyceTypeRequestEmitter.send(&quot;healthcheck&quot;);\n             return HealthCheckResponse.builder().up().name(&quot;RabbitMQ container is ready &quot;).build();\n         } catch (Exception exception) {\n               return HealthCheckResponse.builder().down().name(&quot;RabbitMQ container is not readyds&quot;).build();\n         }\n     }\n    \n     @Outgoing(&quot;sends&quot;)\n     public String outgoing() {\n         return &quot;healthcheck&quot;;\n     }\n}\n\n</code></pre>\n<p>Can anyone help me or have you been through this?</p>\n"},{"tags":["java","intellij-idea","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":28244335,"reputation":1,"user_id":21591637,"display_name":"Evonix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681556376,"creation_date":1680915374,"answer_id":75962800,"question_id":75961595,"body_markdown":"After lots of troubleshooting, I believe I have figured out the answer to my own question. This is the solution in case there are others who struggle with this.\r\n\r\nYou must set both the padding and the label padding to 0 of the button. Then you must adjust the size of the image in the button after you have made these changes. This is what worked for me.\r\n\r\n\r\n![settings of the button][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4IVYz.png","title":"Scenebuilder: ImageView inside Button is adding extra unwanted width to the button","body":"<p>After lots of troubleshooting, I believe I have figured out the answer to my own question. This is the solution in case there are others who struggle with this.</p>\n<p>You must set both the padding and the label padding to 0 of the button. Then you must adjust the size of the image in the button after you have made these changes. This is what worked for me.</p>\n<p><img src=\"https://i.stack.imgur.com/4IVYz.png\" alt=\"settings of the button\" /></p>\n"}],"owner":{"account_id":28244335,"reputation":1,"user_id":21591637,"display_name":"Evonix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681556376,"creation_date":1680897736,"question_id":75961595,"body_markdown":"Hope you all have been having a nice day. During the development of a chess game in IntelliJ and Scenebuilder, I encountered an issue where an ImageView in a button is causing th button to be stretched out. I am unable to change the width of the button whether it be by dragging the edges or changing the values in the Layout menu.\r\n\r\n(https://i.stack.imgur.com/1EIUn.png)[Button with image]\r\n(https://i.stack.imgur.com/XSoDl.png)[Button dimensions]\r\n\r\n\r\n\r\nI have tried dragging the corners of the button to change the width, but nothing happened. I have tried editing the dimensions in the Layout menu but it did nothing. I have expermented by changing the width using code, but I was unable to find a successful method. ","title":"Scenebuilder: ImageView inside Button is adding extra unwanted width to the button","body":"<p>Hope you all have been having a nice day. During the development of a chess game in IntelliJ and Scenebuilder, I encountered an issue where an ImageView in a button is causing th button to be stretched out. I am unable to change the width of the button whether it be by dragging the edges or changing the values in the Layout menu.</p>\n<p>(<a href=\"https://i.stack.imgur.com/1EIUn.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/1EIUn.png</a>)[Button with image]\n(<a href=\"https://i.stack.imgur.com/XSoDl.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/XSoDl.png</a>)[Button dimensions]</p>\n<p>I have tried dragging the corners of the button to change the width, but nothing happened. I have tried editing the dimensions in the Layout menu but it did nothing. I have expermented by changing the width using code, but I was unable to find a successful method.</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent","concurrenthashmap"],"comments":[{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1681220300,"post_id":75986151,"comment_id":134018742,"body_markdown":"I confirm that the code as posted exhibits the observed behavior.  `Map&lt;K,V&gt;` has a naive default implementation of `computeIfAbsent()` which could cause this behavior, but it is irrelevant, because `ConcurrentHashMap` provides its own implementation. According to the documentation of `ConcurrentHashMap`, (or at any rate according to my interpretation of that documentation,) the OP should be receiving what he expects, and not what he observes. The implementation of `ConcurrentHashMap.computeIfAbsent()` is waaaay too complex for me to tell whether it is working as intended.","body":"I confirm that the code as posted exhibits the observed behavior.  <code>Map&lt;K,V&gt;</code> has a naive default implementation of <code>computeIfAbsent()</code> which could cause this behavior, but it is irrelevant, because <code>ConcurrentHashMap</code> provides its own implementation. According to the documentation of <code>ConcurrentHashMap</code>, (or at any rate according to my interpretation of that documentation,) the OP should be receiving what he expects, and not what he observes. The implementation of <code>ConcurrentHashMap.computeIfAbsent()</code> is waaaay too complex for me to tell whether it is working as intended."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1681228611,"post_id":75986151,"comment_id":134021227,"body_markdown":"If anyone is interested at taking a look, [here&#39;s the source code for OpenJDK](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1691).","body":"If anyone is interested at taking a look, <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1691\" rel=\"nofollow noreferrer\">here&#39;s the source code for OpenJDK</a>."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681555331,"creation_date":1681218753,"answer_id":75986298,"question_id":75986151,"body_markdown":"Your assumption is wrong, as many different threads could be executing the same mapping function concurrently for different keys.\r\n\r\n`ConcurrentHashMap` is thread-safe but permits concurrent updates to the map. Some callers which are accessing similar parts of the underlying mapping tables may block while waiting for another thread to finish. \r\n\r\nYou won&#39;t find that `computeIfAbsent(someKey,mapFunc)` runs the mapping function for the same key twice, because it is an atomic operation for that key. So second or concurrent caller would see the value of the first call. However another `computeIfAbsent(anotherKey,mapFunc)` could be running at exactly the same time which is why your mapping function may evaluate `size()` to be same value for multiple keys.\r\n\r\nThe javadoc states:\r\n\r\n&gt; The supplied function is invoked exactly once per invocation of this method if the key is absent, else not at all.\r\n\r\n&gt; Some attempted update operations on this map by other threads may be blocked while computation is in progress, so the computation should be short and simple.\r\n\r\nIf you wish to have unique values you could use `AtomicInteger` counter.\r\n\r\n","title":"ComputeIfAbsent wrong map size","body":"<p>Your assumption is wrong, as many different threads could be executing the same mapping function concurrently for different keys.</p>\n<p><code>ConcurrentHashMap</code> is thread-safe but permits concurrent updates to the map. Some callers which are accessing similar parts of the underlying mapping tables may block while waiting for another thread to finish.</p>\n<p>You won't find that <code>computeIfAbsent(someKey,mapFunc)</code> runs the mapping function for the same key twice, because it is an atomic operation for that key. So second or concurrent caller would see the value of the first call. However another <code>computeIfAbsent(anotherKey,mapFunc)</code> could be running at exactly the same time which is why your mapping function may evaluate <code>size()</code> to be same value for multiple keys.</p>\n<p>The javadoc states:</p>\n<blockquote>\n<p>The supplied function is invoked exactly once per invocation of this method if the key is absent, else not at all.</p>\n</blockquote>\n<blockquote>\n<p>Some attempted update operations on this map by other threads may be blocked while computation is in progress, so the computation should be short and simple.</p>\n</blockquote>\n<p>If you wish to have unique values you could use <code>AtomicInteger</code> counter.</p>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681221926,"creation_date":1681221926,"answer_id":75986826,"question_id":75986151,"body_markdown":"Something to note with ConcurrentHashMap is how the size of the map is calculated:\r\n\r\n    public int size() {\r\n        long n = sumCount();\r\n        return ((n &lt; 0L) ? 0 :\r\n                (n &gt; (long)Integer.MAX_VALUE) ? Integer.MAX_VALUE :\r\n                (int)n);\r\n    }\r\n\r\n    final long sumCount() {\r\n        CounterCell[] cs = counterCells;\r\n        long sum = baseCount;\r\n        if (cs != null) {\r\n            for (CounterCell c : cs)\r\n                if (c != null)\r\n                    sum += c.value;\r\n        }\r\n        return sum;\r\n    }\r\n\r\nThese &quot;counter cells&quot; are updated upon a call to `addCount` internally. [At the end](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1775) of the `#computeIfAbsent` method we have:\r\n\r\n    if (val != null)\r\n        addCount(1L, binCount);\r\n    return val;\r\n\r\nHowever, before this code is reached, the lambda expression you are passing will have already been evaluated earlier on in the method. For instance, when we are first adding values, they will synchronize on a `ReservationNode`:\r\n\r\n    Node&lt;K,V&gt; r = new ReservationNode&lt;K,V&gt;();\r\n    synchronized (r) {\r\n        if (casTabAt(tab, i, null, r)) { //compare-and-swap\r\n            binCount = 1;\r\n            Node&lt;K,V&gt; node = null;\r\n            try {\r\n                if ((val = mappingFunction.apply(key)) != null) //runs the mapping function\r\n                    node = new Node&lt;K,V&gt;(h, key, val);\r\n                } finally {\r\n                    setTabAt(tab, i, node);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nsrc: [ConcurrentHashMap#computeIfAbsent](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1701-L1717)\r\n\r\nThe above code is quite suspect to me, and leaves me thinking that nothing would be truly blocked/synchronized on the creation phase here. Later on in the method (once the table entry exists), you&#39;ll see it doing `synchronized(f)` (the hash bucket) in order to compute/put the new values, which then causes the sequential insertion you see above.\r\n\r\nSo, those concurrent updates at the start (when we are first initializing the map) are not only capable of running in parallel, but even with proper synchronization in place could potentially retrieve a `0` for the Map&#39;s size before the end of the `#computeIfAbsent` call.","title":"ComputeIfAbsent wrong map size","body":"<p>Something to note with ConcurrentHashMap is how the size of the map is calculated:</p>\n<pre><code>public int size() {\n    long n = sumCount();\n    return ((n &lt; 0L) ? 0 :\n            (n &gt; (long)Integer.MAX_VALUE) ? Integer.MAX_VALUE :\n            (int)n);\n}\n\nfinal long sumCount() {\n    CounterCell[] cs = counterCells;\n    long sum = baseCount;\n    if (cs != null) {\n        for (CounterCell c : cs)\n            if (c != null)\n                sum += c.value;\n    }\n    return sum;\n}\n</code></pre>\n<p>These &quot;counter cells&quot; are updated upon a call to <code>addCount</code> internally. <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1775\" rel=\"nofollow noreferrer\">At the end</a> of the <code>#computeIfAbsent</code> method we have:</p>\n<pre><code>if (val != null)\n    addCount(1L, binCount);\nreturn val;\n</code></pre>\n<p>However, before this code is reached, the lambda expression you are passing will have already been evaluated earlier on in the method. For instance, when we are first adding values, they will synchronize on a <code>ReservationNode</code>:</p>\n<pre><code>Node&lt;K,V&gt; r = new ReservationNode&lt;K,V&gt;();\nsynchronized (r) {\n    if (casTabAt(tab, i, null, r)) { //compare-and-swap\n        binCount = 1;\n        Node&lt;K,V&gt; node = null;\n        try {\n            if ((val = mappingFunction.apply(key)) != null) //runs the mapping function\n                node = new Node&lt;K,V&gt;(h, key, val);\n            } finally {\n                setTabAt(tab, i, node);\n            }\n        }\n    }\n}\n</code></pre>\n<p>src: <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1701-L1717\" rel=\"nofollow noreferrer\">ConcurrentHashMap#computeIfAbsent</a></p>\n<p>The above code is quite suspect to me, and leaves me thinking that nothing would be truly blocked/synchronized on the creation phase here. Later on in the method (once the table entry exists), you'll see it doing <code>synchronized(f)</code> (the hash bucket) in order to compute/put the new values, which then causes the sequential insertion you see above.</p>\n<p>So, those concurrent updates at the start (when we are first initializing the map) are not only capable of running in parallel, but even with proper synchronization in place could potentially retrieve a <code>0</code> for the Map's size before the end of the <code>#computeIfAbsent</code> call.</p>\n"}],"owner":{"account_id":18610249,"reputation":21,"user_id":13562867,"display_name":"Ahmad Darwich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681555331,"creation_date":1681217739,"question_id":75986151,"body_markdown":"I have tried below code in order to have a unique id for each jj.\r\n\r\nAs far as I know, computeIfAbsent is thread-safe but:\r\n\r\n\r\n```\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ExecutorService executorService =\r\n                Executors.newFixedThreadPool(4);\r\n\r\n        final Map&lt;String, ConcurrentHashMap&lt;String, Short&gt;&gt; threadSafeMap = new ConcurrentHashMap&lt;&gt;();\r\n        threadSafeMap.put(&quot;0&quot;, new ConcurrentHashMap&lt;&gt;());\r\n        threadSafeMap.put(&quot;1&quot;, new ConcurrentHashMap&lt;&gt;());\r\n\r\n        for (int i = 1; i &lt;= 10; i++) {\r\n            final int jj = i;\r\n            executorService.submit(() -&gt; {\r\n                int                                key              = jj % 2;\r\n                final ConcurrentMap&lt;String, Short&gt; idByName = threadSafeMap.get(String.valueOf(key));\r\n                return idByName.computeIfAbsent(String.valueOf(jj), x -&gt; (short) idByName.size());\r\n            });\r\n        }\r\n        executorService.shutdown();\r\n        executorService.awaitTermination(5, TimeUnit.SECONDS);\r\n        System.out.println(threadSafeMap);\r\n    }\r\n```\r\n\r\n\r\n\r\nActual value:\r\n{0={2=0, 4=0, 6=2, 8=3, 10=4}, 1={1=0, 3=0, 5=2, 7=3, 9=4}}\r\n\r\nExpected value for example (due to concurrency):\r\n{0={2=0, 4=1, 6=2, 8=3, 10=4}, 1={1=1, 3=0, 5=2, 7=3, 9=4}}\r\n\r\nThe problem is that I have with 2=0 and 4=0, which is wrong values should be unique!\r\n\r\nbtw using interger instead of short solve the issue!\r\nCould you please help?","title":"ComputeIfAbsent wrong map size","body":"<p>I have tried below code in order to have a unique id for each jj.</p>\n<p>As far as I know, computeIfAbsent is thread-safe but:</p>\n<pre><code>    public static void main(String[] args) throws InterruptedException {\n        ExecutorService executorService =\n                Executors.newFixedThreadPool(4);\n\n        final Map&lt;String, ConcurrentHashMap&lt;String, Short&gt;&gt; threadSafeMap = new ConcurrentHashMap&lt;&gt;();\n        threadSafeMap.put(&quot;0&quot;, new ConcurrentHashMap&lt;&gt;());\n        threadSafeMap.put(&quot;1&quot;, new ConcurrentHashMap&lt;&gt;());\n\n        for (int i = 1; i &lt;= 10; i++) {\n            final int jj = i;\n            executorService.submit(() -&gt; {\n                int                                key              = jj % 2;\n                final ConcurrentMap&lt;String, Short&gt; idByName = threadSafeMap.get(String.valueOf(key));\n                return idByName.computeIfAbsent(String.valueOf(jj), x -&gt; (short) idByName.size());\n            });\n        }\n        executorService.shutdown();\n        executorService.awaitTermination(5, TimeUnit.SECONDS);\n        System.out.println(threadSafeMap);\n    }\n</code></pre>\n<p>Actual value:\n{0={2=0, 4=0, 6=2, 8=3, 10=4}, 1={1=0, 3=0, 5=2, 7=3, 9=4}}</p>\n<p>Expected value for example (due to concurrency):\n{0={2=0, 4=1, 6=2, 8=3, 10=4}, 1={1=1, 3=0, 5=2, 7=3, 9=4}}</p>\n<p>The problem is that I have with 2=0 and 4=0, which is wrong values should be unique!</p>\n<p>btw using interger instead of short solve the issue!\nCould you please help?</p>\n"},{"tags":["java","unit-testing","asynchronous","junit"],"comments":[{"owner":{"account_id":1189183,"reputation":367,"user_id":1162452,"display_name":"cs0lar"},"score":0,"creation_date":1358608826,"post_id":631598,"comment_id":20756757,"body_markdown":"You could try JAT (Java Asynchronous Test): https://bitbucket.org/csolar/jat","body":"You could try JAT (Java Asynchronous Test): <a href=\"https://bitbucket.org/csolar/jat\" rel=\"nofollow noreferrer\">bitbucket.org/csolar/jat</a>"},{"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"score":2,"creation_date":1409775283,"post_id":631598,"comment_id":40085017,"body_markdown":"JAT has 1 watcher and hasn&#39;t been updated in 1.5 years.  Awaitility was  updated just 1 month ago and is on version 1.6 at the time of this writing.  I&#39;m not affiliated with either project, but if I was going to invest in an addition to my project, I&#39;d give more credence to Awaitility at this time.","body":"JAT has 1 watcher and hasn&#39;t been updated in 1.5 years.  Awaitility was  updated just 1 month ago and is on version 1.6 at the time of this writing.  I&#39;m not affiliated with either project, but if I was going to invest in an addition to my project, I&#39;d give more credence to Awaitility at this time."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":0,"creation_date":1508228752,"post_id":631598,"comment_id":80517607,"body_markdown":"JAT has still no updates: &quot;Last updated 2013-01-19&quot;. Just save the time to follow the link.","body":"JAT has still no updates: &quot;Last updated 2013-01-19&quot;. Just save the time to follow the link."},{"owner":{"account_id":1933692,"reputation":260,"user_id":1742529,"display_name":"user1742529"},"score":1,"creation_date":1565080596,"post_id":631598,"comment_id":101229009,"body_markdown":"@LesHazlewood, one watcher is bad for JAT, but about no updates for years... Just one example. How often do you update low-level TCP stack of your OS, if it just works? Alternative to JAT is answered below https://stackoverflow.com/questions/631598/how-to-use-junit-to-test-asynchronous-processes/3303638#3303638 .","body":"@LesHazlewood, one watcher is bad for JAT, but about no updates for years... Just one example. How often do you update low-level TCP stack of your OS, if it just works? Alternative to JAT is answered below <a href=\"https://stackoverflow.com/questions/631598/how-to-use-junit-to-test-asynchronous-processes/3303638#3303638\" title=\"how to use junit to test asynchronous processes\">stackoverflow.com/questions/631598/&hellip;</a> ."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1236708769,"creation_date":1236708769,"answer_id":631606,"question_id":631598,"body_markdown":"Start the process off and wait for the result using a [`Future`][1].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/Future.html","title":"How to use JUnit to test asynchronous processes","body":"<p>Start the process off and wait for the result using a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/Future.html\" rel=\"noreferrer\"><code>Future</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"down_vote_count":50,"up_vote_count":101,"is_accepted":true,"score":51,"last_activity_date":1236711210,"creation_date":1236711210,"answer_id":631754,"question_id":631598,"body_markdown":"IMHO it&#39;s bad practice to have unit tests create or wait on threads, etc. You&#39;d like these tests to run in split seconds. That&#39;s why I&#39;d like to propose a 2-step approach to testing async processes.\r\n\r\n 1. Test that your async process is submitted properly. You can mock the object that accepts your async requests and make sure that the submitted job has correct properties, etc.\r\n 2. Test that your async callbacks are doing the right things. Here you can mock out the originally submitted job and assume it&#39;s initialized properly and verify that your callbacks are correct.","title":"How to use JUnit to test asynchronous processes","body":"<p>IMHO it's bad practice to have unit tests create or wait on threads, etc. You'd like these tests to run in split seconds. That's why I'd like to propose a 2-step approach to testing async processes.</p>\n\n<ol>\n<li>Test that your async process is submitted properly. You can mock the object that accepts your async requests and make sure that the submitted job has correct properties, etc.</li>\n<li>Test that your async callbacks are doing the right things. Here you can mock out the originally submitted job and assume it's initialized properly and verify that your callbacks are correct.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":63320,"reputation":7119,"user_id":187492,"accept_rate":86,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":230,"is_accepted":false,"score":230,"last_activity_date":1653540300,"creation_date":1259713892,"answer_id":1829949,"question_id":631598,"body_markdown":"**TL;DR;** Unfortunately, there is no built-in solution **yet** (at time of writting, 2022), hence you are free to use and/or implement whatever fits your situation.\r\n\r\n## Example\r\n\r\nAn alternative is to use the [CountDownLatch][1] class. \r\n\r\n    public class DatabaseTest {\r\n    \r\n        /**\r\n         * Data limit\r\n         */\r\n        private static final int DATA_LIMIT = 5;\r\n    \r\n        /**\r\n         * Countdown latch\r\n         */\r\n        private CountDownLatch lock = new CountDownLatch(1);\r\n    \r\n        /**\r\n         * Received data\r\n         */\r\n        private List&lt;Data&gt; receiveddata;\r\n    \r\n        @Test\r\n        public void testDataRetrieval() throws Exception {\r\n            Database db = new MockDatabaseImpl();\r\n            db.getData(DATA_LIMIT, new DataCallback() {\r\n                @Override\r\n                public void onSuccess(List&lt;Data&gt; data) {\r\n                    receiveddata = data;\r\n                    lock.countDown();\r\n                }\r\n            });\r\n    \r\n            lock.await(2000, TimeUnit.MILLISECONDS);\r\n    \r\n            assertNotNull(receiveddata);\r\n            assertEquals(DATA_LIMIT, receiveddata.size());\r\n        }\r\n    }\r\n\r\n**NOTE** you can&#39;t just used **syncronized** with a regular object as a lock, as fast callbacks can release the lock before the lock&#39;s wait method is called. See [this][2] blog post by Joe Walnes.\r\n\r\n**EDIT** Removed syncronized blocks around CountDownLatch thanks to comments from @jtahlborn and @Ring\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [2]: http://joe.truemesh.com/blog/000279.html","title":"How to use JUnit to test asynchronous processes","body":"<p><strong>TL;DR;</strong> Unfortunately, there is no built-in solution <strong>yet</strong> (at time of writting, 2022), hence you are free to use and/or implement whatever fits your situation.</p>\n<h2>Example</h2>\n<p>An alternative is to use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\">CountDownLatch</a> class.</p>\n<pre><code>public class DatabaseTest {\n\n    /**\n     * Data limit\n     */\n    private static final int DATA_LIMIT = 5;\n\n    /**\n     * Countdown latch\n     */\n    private CountDownLatch lock = new CountDownLatch(1);\n\n    /**\n     * Received data\n     */\n    private List&lt;Data&gt; receiveddata;\n\n    @Test\n    public void testDataRetrieval() throws Exception {\n        Database db = new MockDatabaseImpl();\n        db.getData(DATA_LIMIT, new DataCallback() {\n            @Override\n            public void onSuccess(List&lt;Data&gt; data) {\n                receiveddata = data;\n                lock.countDown();\n            }\n        });\n\n        lock.await(2000, TimeUnit.MILLISECONDS);\n\n        assertNotNull(receiveddata);\n        assertEquals(DATA_LIMIT, receiveddata.size());\n    }\n}\n</code></pre>\n<p><strong>NOTE</strong> you can't just used <strong>syncronized</strong> with a regular object as a lock, as fast callbacks can release the lock before the lock's wait method is called. See <a href=\"http://joe.truemesh.com/blog/000279.html\" rel=\"noreferrer\">this</a> blog post by Joe Walnes.</p>\n<p><strong>EDIT</strong> Removed syncronized blocks around CountDownLatch thanks to comments from @jtahlborn and @Ring</p>\n"},{"tags":[],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"down_vote_count":1,"up_vote_count":96,"is_accepted":false,"score":95,"last_activity_date":1553175216,"creation_date":1279744852,"answer_id":3303638,"question_id":631598,"body_markdown":"You can try using the [Awaitility](https://github.com/awaitility/awaitility) library. It makes it easy to test the systems you&#39;re talking about.","title":"How to use JUnit to test asynchronous processes","body":"<p>You can try using the <a href=\"https://github.com/awaitility/awaitility\" rel=\"noreferrer\">Awaitility</a> library. It makes it easy to test the systems you're talking about.</p>\n"},{"tags":[],"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363263295,"creation_date":1352898765,"answer_id":13379486,"question_id":631598,"body_markdown":"How about calling `SomeObject.wait` and `notifyAll` as described [here][1] OR using **Robotiums** `Solo.waitForCondition(...)` method OR use a [class i wrote][2] to do this (see comments and test class for how to use)\r\n\r\n\r\n  [1]: http://my.safaribooksonline.com/book/programming/java/0596003870/junit/jextprockbk-chp-4-sect-15\r\n  [2]: https://github.com/doridori/AndroidUtilDump/blob/master/android/AndroidUtilDump/src/couk/doridori/android/lib/testing/FutureAsyncTester.java","title":"How to use JUnit to test asynchronous processes","body":"<p>How about calling <code>SomeObject.wait</code> and <code>notifyAll</code> as described <a href=\"http://my.safaribooksonline.com/book/programming/java/0596003870/junit/jextprockbk-chp-4-sect-15\" rel=\"nofollow\">here</a> OR using <strong>Robotiums</strong> <code>Solo.waitForCondition(...)</code> method OR use a <a href=\"https://github.com/doridori/AndroidUtilDump/blob/master/android/AndroidUtilDump/src/couk/doridori/android/lib/testing/FutureAsyncTester.java\" rel=\"nofollow\">class i wrote</a> to do this (see comments and test class for how to use)</p>\n"},{"tags":[],"owner":{"account_id":44022,"reputation":6396,"user_id":128948,"accept_rate":76,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1389641517,"creation_date":1389640921,"answer_id":21099588,"question_id":631598,"body_markdown":"One method I&#39;ve found pretty useful for testing asynchronous methods is injecting an `Executor` instance in the object-to-test&#39;s constructor. In production, the executor instance is configured to run asynchronously while in test it can be mocked to run synchronously.\r\n\r\nSo suppose I&#39;m trying to test the asynchronous method `Foo#doAsync(Callback c)`, \r\n\r\n    class Foo {\r\n      private final Executor executor;\r\n      public Foo(Executor executor) {\r\n        this.executor = executor;\r\n      }\r\n\r\n      public void doAsync(Callback c) {\r\n        executor.execute(new Runnable() {\r\n          @Override public void run() {\r\n            // Do stuff here\r\n            c.onComplete(data);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\nIn production, I would construct `Foo` with an `Executors.newSingleThreadExecutor()` Executor instance  while in test I would probably construct it with a synchronous executor that does the following --\r\n\r\n    class SynchronousExecutor implements Executor {\r\n      @Override public void execute(Runnable r) {\r\n        r.run();\r\n      }\r\n    }\r\n\r\nNow my JUnit test of the asynchronous method is pretty clean --\r\n    \r\n    @Test public void testDoAsync() {\r\n      Executor executor = new SynchronousExecutor();\r\n      Foo objectToTest = new Foo(executor);\r\n\r\n      Callback callback = mock(Callback.class);\r\n      objectToTest.doAsync(callback);\r\n\r\n      // Verify that Callback#onComplete was called using Mockito.\r\n      verify(callback).onComplete(any(Data.class));\r\n\r\n      // Assert that we got back the data that we expected.\r\n      assertEquals(expectedData, callback.getData());\r\n    }","title":"How to use JUnit to test asynchronous processes","body":"<p>One method I've found pretty useful for testing asynchronous methods is injecting an <code>Executor</code> instance in the object-to-test's constructor. In production, the executor instance is configured to run asynchronously while in test it can be mocked to run synchronously.</p>\n\n<p>So suppose I'm trying to test the asynchronous method <code>Foo#doAsync(Callback c)</code>, </p>\n\n<pre><code>class Foo {\n  private final Executor executor;\n  public Foo(Executor executor) {\n    this.executor = executor;\n  }\n\n  public void doAsync(Callback c) {\n    executor.execute(new Runnable() {\n      @Override public void run() {\n        // Do stuff here\n        c.onComplete(data);\n      }\n    });\n  }\n}\n</code></pre>\n\n<p>In production, I would construct <code>Foo</code> with an <code>Executors.newSingleThreadExecutor()</code> Executor instance  while in test I would probably construct it with a synchronous executor that does the following --</p>\n\n<pre><code>class SynchronousExecutor implements Executor {\n  @Override public void execute(Runnable r) {\n    r.run();\n  }\n}\n</code></pre>\n\n<p>Now my JUnit test of the asynchronous method is pretty clean --</p>\n\n<pre><code>@Test public void testDoAsync() {\n  Executor executor = new SynchronousExecutor();\n  Foo objectToTest = new Foo(executor);\n\n  Callback callback = mock(Callback.class);\n  objectToTest.doAsync(callback);\n\n  // Verify that Callback#onComplete was called using Mockito.\n  verify(callback).onComplete(any(Data.class));\n\n  // Assert that we got back the data that we expected.\n  assertEquals(expectedData, callback.getData());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":168070,"reputation":1771,"user_id":393274,"display_name":"Matt Sgarlata"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1651906216,"creation_date":1400768066,"answer_id":23809378,"question_id":631598,"body_markdown":"If you use a [CompletableFuture][1] (introduced in Java 8) or a [SettableFuture][2] (from [Google Guava][3]), you can make your test finish as soon as it&#39;s done, rather than waiting a pre-set amount of time.  Your test would look something like this:\r\n\r\n    CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\r\n    executorService.submit(new Runnable() {\t\t\t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tfuture.complete(&quot;Hello World!&quot;);\t\t\t\t\r\n    \t}\r\n    });\r\n    assertEquals(&quot;Hello World!&quot;, future.get());\r\n\r\n&gt;**Note** that there is a library which Provides `CompletableFuture` for pre Java-8, which even uses the same names (and provides all related Java-8 classes), like:\r\n&gt;```\r\n&gt;net.sourceforge.streamsupport:streamsupport-minifuture:1.7.4\r\n&gt;```\r\n&gt;This is useful for Android development, where even if we build with JDK-v11, we want to keep codes compatible with pre Android-7 devices.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/util/concurrent/SettableFuture.html\r\n[3]: https://code.google.com/p/guava-libraries/","title":"How to use JUnit to test asynchronous processes","body":"<p>If you use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\">CompletableFuture</a> (introduced in Java 8) or a <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/util/concurrent/SettableFuture.html\" rel=\"noreferrer\">SettableFuture</a> (from <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a>), you can make your test finish as soon as it's done, rather than waiting a pre-set amount of time.  Your test would look something like this:</p>\n<pre><code>CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\nexecutorService.submit(new Runnable() {         \n    @Override\n    public void run() {\n        future.complete(&quot;Hello World!&quot;);                \n    }\n});\nassertEquals(&quot;Hello World!&quot;, future.get());\n</code></pre>\n<blockquote>\n<p><strong>Note</strong> that there is a library which Provides <code>CompletableFuture</code> for pre Java-8, which even uses the same names (and provides all related Java-8 classes), like:</p>\n<pre><code>net.sourceforge.streamsupport:streamsupport-minifuture:1.7.4\n</code></pre>\n<p>This is useful for Android development, where even if we build with JDK-v11, we want to keep codes compatible with pre Android-7 devices.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2445948,"reputation":2966,"user_id":2133335,"accept_rate":82,"display_name":"Paulo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476025166,"creation_date":1448989859,"answer_id":34026037,"question_id":631598,"body_markdown":"I prefer use wait and notify. It is simple and clear.\r\n\r\n    @Test\r\n    public void test() throws Throwable {\r\n        final boolean[] asyncExecuted = {false};\r\n        final Throwable[] asyncThrowable= {null};\r\n\r\n        // do anything async\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    // Put your test here.\r\n                    fail(); \r\n                }\r\n                // lets inform the test thread that there is an error.\r\n                catch (Throwable throwable){\r\n                    asyncThrowable[0] = throwable;\r\n                }\r\n                // ensure to release asyncExecuted in case of error.\r\n                finally {\r\n                    synchronized (asyncExecuted){\r\n                        asyncExecuted[0] = true;\r\n                        asyncExecuted.notify();\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        // Waiting for the test is complete\r\n        synchronized (asyncExecuted){\r\n            while(!asyncExecuted[0]){\r\n                asyncExecuted.wait();\r\n            }\r\n        }\r\n\r\n        // get any async error, including exceptions and assertationErrors\r\n        if(asyncThrowable[0] != null){\r\n            throw asyncThrowable[0];\r\n        }\r\n    }\r\n\r\nBasically, we need to create a final Array reference, to be used inside of anonymous inner class. I would rather create a boolean[], because I can put a value to control if we need to wait(). When everything is done, we just release the asyncExecuted.","title":"How to use JUnit to test asynchronous processes","body":"<p>I prefer use wait and notify. It is simple and clear.</p>\n\n<pre><code>@Test\npublic void test() throws Throwable {\n    final boolean[] asyncExecuted = {false};\n    final Throwable[] asyncThrowable= {null};\n\n    // do anything async\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                // Put your test here.\n                fail(); \n            }\n            // lets inform the test thread that there is an error.\n            catch (Throwable throwable){\n                asyncThrowable[0] = throwable;\n            }\n            // ensure to release asyncExecuted in case of error.\n            finally {\n                synchronized (asyncExecuted){\n                    asyncExecuted[0] = true;\n                    asyncExecuted.notify();\n                }\n            }\n        }\n    }).start();\n\n    // Waiting for the test is complete\n    synchronized (asyncExecuted){\n        while(!asyncExecuted[0]){\n            asyncExecuted.wait();\n        }\n    }\n\n    // get any async error, including exceptions and assertationErrors\n    if(asyncThrowable[0] != null){\n        throw asyncThrowable[0];\n    }\n}\n</code></pre>\n\n<p>Basically, we need to create a final Array reference, to be used inside of anonymous inner class. I would rather create a boolean[], because I can put a value to control if we need to wait(). When everything is done, we just release the asyncExecuted.</p>\n"},{"tags":[],"owner":{"account_id":2069826,"reputation":646,"user_id":1844551,"display_name":"Nils Rommelfanger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472458709,"creation_date":1472458709,"answer_id":39201557,"question_id":631598,"body_markdown":"If you want to test the logic just don&#180;t test it asynchronously.\r\n\r\nFor example to test this code which works on results of an asynchronous method.\r\n\r\n    public class Example {\r\n        private Dependency dependency;\r\n        \r\n        public Example(Dependency dependency) {\r\n            this.dependency = dependency;            \r\n        }\r\n        \r\n        public CompletableFuture&lt;String&gt; someAsyncMethod(){\r\n            return dependency.asyncMethod()\r\n                    .handle((r,ex) -&gt; {\r\n                        if(ex != null) {\r\n                            return &quot;got exception&quot;;\r\n                        } else {\r\n                            return r.toString();\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n    public class Dependency {\r\n        public CompletableFuture&lt;Integer&gt; asyncMethod() {\r\n            // do some async stuff       \r\n        }\r\n    }\r\n\r\nIn the test mock the dependency with synchronous implementation. The unit test is completely synchronous and runs in 150ms.\r\n\r\n    public class DependencyTest {\r\n        private Example sut;\r\n        private Dependency dependency;\r\n        \r\n        public void setup() {\r\n            dependency = Mockito.mock(Dependency.class);;\r\n            sut = new Example(dependency);\r\n        }\r\n        \r\n        @Test public void success() throws InterruptedException, ExecutionException {\r\n            when(dependency.asyncMethod()).thenReturn(CompletableFuture.completedFuture(5));\r\n            \r\n            // When\r\n            CompletableFuture&lt;String&gt; result = sut.someAsyncMethod();\r\n            \r\n            // Then\r\n            assertThat(result.isCompletedExceptionally(), is(equalTo(false)));\r\n            String value = result.get();\r\n            assertThat(value, is(equalTo(&quot;5&quot;)));\r\n        }\r\n    \r\n        @Test public void failed() throws InterruptedException, ExecutionException {\r\n            // Given\r\n            CompletableFuture&lt;Integer&gt; c = new CompletableFuture&lt;Integer&gt;();\r\n            c.completeExceptionally(new RuntimeException(&quot;failed&quot;));\r\n            when(dependency.asyncMethod()).thenReturn(c);\r\n            \r\n            // When\r\n            CompletableFuture&lt;String&gt; result = sut.someAsyncMethod();\r\n            \r\n            // Then\r\n            assertThat(result.isCompletedExceptionally(), is(equalTo(false)));\r\n            String value = result.get();\r\n            assertThat(value, is(equalTo(&quot;got exception&quot;)));\r\n        }\r\n    }\r\n\r\nYou don&#180;t test the async behaviour but you can test if the logic is correct.","title":"How to use JUnit to test asynchronous processes","body":"<p>If you want to test the logic just don´t test it asynchronously.</p>\n\n<p>For example to test this code which works on results of an asynchronous method.</p>\n\n<pre><code>public class Example {\n    private Dependency dependency;\n\n    public Example(Dependency dependency) {\n        this.dependency = dependency;            \n    }\n\n    public CompletableFuture&lt;String&gt; someAsyncMethod(){\n        return dependency.asyncMethod()\n                .handle((r,ex) -&gt; {\n                    if(ex != null) {\n                        return \"got exception\";\n                    } else {\n                        return r.toString();\n                    }\n                });\n    }\n}\n\npublic class Dependency {\n    public CompletableFuture&lt;Integer&gt; asyncMethod() {\n        // do some async stuff       \n    }\n}\n</code></pre>\n\n<p>In the test mock the dependency with synchronous implementation. The unit test is completely synchronous and runs in 150ms.</p>\n\n<pre><code>public class DependencyTest {\n    private Example sut;\n    private Dependency dependency;\n\n    public void setup() {\n        dependency = Mockito.mock(Dependency.class);;\n        sut = new Example(dependency);\n    }\n\n    @Test public void success() throws InterruptedException, ExecutionException {\n        when(dependency.asyncMethod()).thenReturn(CompletableFuture.completedFuture(5));\n\n        // When\n        CompletableFuture&lt;String&gt; result = sut.someAsyncMethod();\n\n        // Then\n        assertThat(result.isCompletedExceptionally(), is(equalTo(false)));\n        String value = result.get();\n        assertThat(value, is(equalTo(\"5\")));\n    }\n\n    @Test public void failed() throws InterruptedException, ExecutionException {\n        // Given\n        CompletableFuture&lt;Integer&gt; c = new CompletableFuture&lt;Integer&gt;();\n        c.completeExceptionally(new RuntimeException(\"failed\"));\n        when(dependency.asyncMethod()).thenReturn(c);\n\n        // When\n        CompletableFuture&lt;String&gt; result = sut.someAsyncMethod();\n\n        // Then\n        assertThat(result.isCompletedExceptionally(), is(equalTo(false)));\n        String value = result.get();\n        assertThat(value, is(equalTo(\"got exception\")));\n    }\n}\n</code></pre>\n\n<p>You don´t test the async behaviour but you can test if the logic is correct.</p>\n"},{"tags":[],"owner":{"account_id":270764,"reputation":4103,"user_id":560902,"accept_rate":80,"display_name":"Jochen Bedersdorfer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482975338,"creation_date":1482975338,"answer_id":41372052,"question_id":631598,"body_markdown":"This is what I&#39;m using nowadays if the test result is produced asynchronously.\r\n\r\n    public class TestUtil {\r\n    \r\n        public static &lt;R&gt; R await(Consumer&lt;CompletableFuture&lt;R&gt;&gt; completer) {\r\n            return await(20, TimeUnit.SECONDS, completer);\r\n        }\r\n    \r\n        public static &lt;R&gt; R await(int time, TimeUnit unit, Consumer&lt;CompletableFuture&lt;R&gt;&gt; completer) {\r\n            CompletableFuture&lt;R&gt; f = new CompletableFuture&lt;&gt;();\r\n            completer.accept(f);\r\n            try {\r\n                return f.get(time, unit);\r\n            } catch (InterruptedException | TimeoutException e) {\r\n                throw new RuntimeException(&quot;Future timed out&quot;, e);\r\n            } catch (ExecutionException e) {\r\n                throw new RuntimeException(&quot;Future failed&quot;, e.getCause());\r\n            }\r\n        }\r\n    }\r\n\r\nUsing static imports, the test reads kinda nice.\r\n(note, in this example I&#39;m starting a thread to illustrate the idea)\r\n\r\n        @Test\r\n        public void testAsync() {\r\n            String result = await(f -&gt; {\r\n                new Thread(() -&gt; f.complete(&quot;My Result&quot;)).start();\r\n            });\r\n            assertEquals(&quot;My Result&quot;, result);\r\n        }\r\n\r\nIf `f.complete` isn&#39;t called, the test will fail after a timeout. You can also use `f.completeExceptionally` to fail early.\r\n\r\n","title":"How to use JUnit to test asynchronous processes","body":"<p>This is what I'm using nowadays if the test result is produced asynchronously.</p>\n\n<pre><code>public class TestUtil {\n\n    public static &lt;R&gt; R await(Consumer&lt;CompletableFuture&lt;R&gt;&gt; completer) {\n        return await(20, TimeUnit.SECONDS, completer);\n    }\n\n    public static &lt;R&gt; R await(int time, TimeUnit unit, Consumer&lt;CompletableFuture&lt;R&gt;&gt; completer) {\n        CompletableFuture&lt;R&gt; f = new CompletableFuture&lt;&gt;();\n        completer.accept(f);\n        try {\n            return f.get(time, unit);\n        } catch (InterruptedException | TimeoutException e) {\n            throw new RuntimeException(\"Future timed out\", e);\n        } catch (ExecutionException e) {\n            throw new RuntimeException(\"Future failed\", e.getCause());\n        }\n    }\n}\n</code></pre>\n\n<p>Using static imports, the test reads kinda nice.\n(note, in this example I'm starting a thread to illustrate the idea)</p>\n\n<pre><code>    @Test\n    public void testAsync() {\n        String result = await(f -&gt; {\n            new Thread(() -&gt; f.complete(\"My Result\")).start();\n        });\n        assertEquals(\"My Result\", result);\n    }\n</code></pre>\n\n<p>If <code>f.complete</code> isn't called, the test will fail after a timeout. You can also use <code>f.completeExceptionally</code> to fail early.</p>\n"},{"tags":[],"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501100077,"creation_date":1488574372,"answer_id":42588241,"question_id":631598,"body_markdown":"There are many answers here but a simple one is to just create a completed CompletableFuture and use it:\r\n\r\n    CompletableFuture.completedFuture(&quot;donzo&quot;)\r\n\r\nSo in my test:\r\n\r\n    this.exactly(2).of(mockEventHubClientWrapper).sendASync(with(any(LinkedList.class)));\r\n    this.will(returnValue(new CompletableFuture&lt;&gt;().completedFuture(&quot;donzo&quot;)));\r\n\r\nI am just making sure all of this stuff gets called anyway.  This technique works if you are using this code:\r\n\r\n    CompletableFuture.allOf(calls.toArray(new CompletableFuture[0])).join();\r\n\r\nIt will zip right through it as all the CompletableFutures are finished!","title":"How to use JUnit to test asynchronous processes","body":"<p>There are many answers here but a simple one is to just create a completed CompletableFuture and use it:</p>\n\n<pre><code>CompletableFuture.completedFuture(\"donzo\")\n</code></pre>\n\n<p>So in my test:</p>\n\n<pre><code>this.exactly(2).of(mockEventHubClientWrapper).sendASync(with(any(LinkedList.class)));\nthis.will(returnValue(new CompletableFuture&lt;&gt;().completedFuture(\"donzo\")));\n</code></pre>\n\n<p>I am just making sure all of this stuff gets called anyway.  This technique works if you are using this code:</p>\n\n<pre><code>CompletableFuture.allOf(calls.toArray(new CompletableFuture[0])).join();\n</code></pre>\n\n<p>It will zip right through it as all the CompletableFutures are finished!</p>\n"},{"tags":[],"owner":{"account_id":3897974,"reputation":6126,"user_id":3226466,"display_name":"Fantasy Fang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492397748,"creation_date":1492397748,"answer_id":43444508,"question_id":631598,"body_markdown":"I find an library [socket.io][1] to test asynchronous logic. It looks simple and brief way using [LinkedBlockingQueue][2]. Here is [example][3]:\r\n\r\n        @Test(timeout = TIMEOUT)\r\n    public void message() throws URISyntaxException, InterruptedException {\r\n        final BlockingQueue&lt;Object&gt; values = new LinkedBlockingQueue&lt;Object&gt;();\r\n\r\n        socket = client();\r\n        socket.on(Socket.EVENT_CONNECT, new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... objects) {\r\n                socket.send(&quot;foo&quot;, &quot;bar&quot;);\r\n            }\r\n        }).on(Socket.EVENT_MESSAGE, new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                values.offer(args);\r\n            }\r\n        });\r\n        socket.connect();\r\n\r\n        assertThat((Object[])values.take(), is(new Object[] {&quot;hello client&quot;}));\r\n        assertThat((Object[])values.take(), is(new Object[] {&quot;foo&quot;, &quot;bar&quot;}));\r\n        socket.disconnect();\r\n    }\r\nUsing LinkedBlockingQueue take API to block until to get result just like synchronous way. And set timeout to avoid assuming too much time to wait the result. \r\n\r\n  [1]: https://github.com/socketio/socket.io-client-java\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/LinkedBlockingQueue.html\r\n  [3]: https://github.com/socketio/socket.io-client-java/blob/master/src/test/java/io/socket/client/ServerConnectionTest.java","title":"How to use JUnit to test asynchronous processes","body":"<p>I find an library <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">socket.io</a> to test asynchronous logic. It looks simple and brief way using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/LinkedBlockingQueue.html\" rel=\"nofollow noreferrer\">LinkedBlockingQueue</a>. Here is <a href=\"https://github.com/socketio/socket.io-client-java/blob/master/src/test/java/io/socket/client/ServerConnectionTest.java\" rel=\"nofollow noreferrer\">example</a>:</p>\n\n<pre><code>    @Test(timeout = TIMEOUT)\npublic void message() throws URISyntaxException, InterruptedException {\n    final BlockingQueue&lt;Object&gt; values = new LinkedBlockingQueue&lt;Object&gt;();\n\n    socket = client();\n    socket.on(Socket.EVENT_CONNECT, new Emitter.Listener() {\n        @Override\n        public void call(Object... objects) {\n            socket.send(\"foo\", \"bar\");\n        }\n    }).on(Socket.EVENT_MESSAGE, new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            values.offer(args);\n        }\n    });\n    socket.connect();\n\n    assertThat((Object[])values.take(), is(new Object[] {\"hello client\"}));\n    assertThat((Object[])values.take(), is(new Object[] {\"foo\", \"bar\"}));\n    socket.disconnect();\n}\n</code></pre>\n\n<p>Using LinkedBlockingQueue take API to block until to get result just like synchronous way. And set timeout to avoid assuming too much time to wait the result. </p>\n"},{"tags":[],"owner":{"account_id":420454,"reputation":6809,"user_id":798165,"accept_rate":57,"display_name":"eleven"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1508765964,"creation_date":1508765964,"answer_id":46890812,"question_id":631598,"body_markdown":"It&#39;s worth mentioning that there is very useful chapter `Testing Concurrent Programs` in [Concurrency in Practice][1] which describes some unit testing approaches and gives solutions for issues.\r\n\r\n\r\n  [1]: https://www.amazon.com/Java-Concurrency-Practice-Tim-Peierls-ebook/dp/B004V9OA84/","title":"How to use JUnit to test asynchronous processes","body":"<p>It's worth mentioning that there is very useful chapter <code>Testing Concurrent Programs</code> in <a href=\"https://rads.stackoverflow.com/amzn/click/com/B004V9OA84\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Concurrency in Practice</a> which describes some unit testing approaches and gives solutions for issues.</p>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544877283,"creation_date":1512545236,"answer_id":47669002,"question_id":631598,"body_markdown":"Avoid testing with parallel threads whenever you can (which is most of the time). This will only make your tests flaky (sometimes pass, sometimes fail).\r\n\r\nOnly when you need to call some other library / system, you might have to wait on other threads, in that case always use the [Awaitility](http://code.google.com/p/awaitility/) library instead of `Thread.sleep()`.\r\n\r\nNever just call `get()` or `join()` in your tests, else your tests might run forever on your CI server in case the future never completes. Always assert `isDone()` first in your tests before calling `get()`. For CompletionStage, that is `.toCompletableFuture().isDone()`.\r\n\r\nWhen you test a non-blocking method like this:\r\n\r\n    public static CompletionStage&lt;String&gt; createGreeting(CompletableFuture&lt;String&gt; future) {\r\n        return future.thenApply(result -&gt; &quot;Hello &quot; + result);\r\n    }\r\n\r\n\r\nthen you should not just test the result by passing a completed Future in the test, you should also make sure that your method `doSomething()` does not block by calling `join()` or `get()`. This is important in particular if you use a non-blocking framework.\r\n\r\nTo do that, test with a non-completed future that you set to completed manually:\r\n\r\n    @Test\r\n    public void testDoSomething() throws Exception {\r\n        CompletableFuture&lt;String&gt; innerFuture = new CompletableFuture&lt;&gt;();\r\n        CompletableFuture&lt;String&gt; futureResult = createGreeting(innerFuture).toCompletableFuture();\r\n        assertFalse(futureResult.isDone());\r\n\r\n        // this triggers the future to complete\r\n        innerFuture.complete(&quot;world&quot;);\r\n        assertTrue(futureResult.isDone());\r\n\r\n        // futher asserts about fooResult here\r\n        assertEquals(futureResult.get(), &quot;Hello world&quot;);\r\n    }\r\n\r\n\r\nThat way, if you add `future.join()` to doSomething(), the test will fail.\r\n\r\nIf your Service uses an ExecutorService such as in `thenApplyAsync(..., executorService)`, then in your tests inject a single-threaded ExecutorService, such as the one from guava:\r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n\r\nIf your code uses the forkJoinPool such as `thenApplyAsync(...)`, rewrite the code to use an ExecutorService (there are many good reasons), or use Awaitility.\r\n\r\nTo shorten the example, I made BarService a method argument implemented as a Java8 lambda in the test, typically it would be an injected reference that you would mock.","title":"How to use JUnit to test asynchronous processes","body":"<p>Avoid testing with parallel threads whenever you can (which is most of the time). This will only make your tests flaky (sometimes pass, sometimes fail).</p>\n\n<p>Only when you need to call some other library / system, you might have to wait on other threads, in that case always use the <a href=\"http://code.google.com/p/awaitility/\" rel=\"nofollow noreferrer\">Awaitility</a> library instead of <code>Thread.sleep()</code>.</p>\n\n<p>Never just call <code>get()</code> or <code>join()</code> in your tests, else your tests might run forever on your CI server in case the future never completes. Always assert <code>isDone()</code> first in your tests before calling <code>get()</code>. For CompletionStage, that is <code>.toCompletableFuture().isDone()</code>.</p>\n\n<p>When you test a non-blocking method like this:</p>\n\n<pre><code>public static CompletionStage&lt;String&gt; createGreeting(CompletableFuture&lt;String&gt; future) {\n    return future.thenApply(result -&gt; \"Hello \" + result);\n}\n</code></pre>\n\n<p>then you should not just test the result by passing a completed Future in the test, you should also make sure that your method <code>doSomething()</code> does not block by calling <code>join()</code> or <code>get()</code>. This is important in particular if you use a non-blocking framework.</p>\n\n<p>To do that, test with a non-completed future that you set to completed manually:</p>\n\n<pre><code>@Test\npublic void testDoSomething() throws Exception {\n    CompletableFuture&lt;String&gt; innerFuture = new CompletableFuture&lt;&gt;();\n    CompletableFuture&lt;String&gt; futureResult = createGreeting(innerFuture).toCompletableFuture();\n    assertFalse(futureResult.isDone());\n\n    // this triggers the future to complete\n    innerFuture.complete(\"world\");\n    assertTrue(futureResult.isDone());\n\n    // futher asserts about fooResult here\n    assertEquals(futureResult.get(), \"Hello world\");\n}\n</code></pre>\n\n<p>That way, if you add <code>future.join()</code> to doSomething(), the test will fail.</p>\n\n<p>If your Service uses an ExecutorService such as in <code>thenApplyAsync(..., executorService)</code>, then in your tests inject a single-threaded ExecutorService, such as the one from guava:</p>\n\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();\n</code></pre>\n\n<p>If your code uses the forkJoinPool such as <code>thenApplyAsync(...)</code>, rewrite the code to use an ExecutorService (there are many good reasons), or use Awaitility.</p>\n\n<p>To shorten the example, I made BarService a method argument implemented as a Java8 lambda in the test, typically it would be an injected reference that you would mock.</p>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585174260,"creation_date":1585173832,"answer_id":60858020,"question_id":631598,"body_markdown":"For all Spring users out there, this is how I usually do my integration tests nowadays, where async behaviour is involved:\r\n\r\nFire an application event in production code, when an async task (such as an I/O call) has finished. Most of the time this event is necessary anyway to handle the response of the async operation in production.\r\n\r\nWith this event in place, you can then use the following strategy in your test case:\r\n\r\n1. Execute the system under test\r\n3. Listen for the event and make sure that the event has fired\r\n3. Do your assertions\r\n\r\nTo break this down, you&#39;ll first need some kind of domain event to fire. I&#39;m using a UUID here to identify the task that has completed, but you&#39;re of course free to use something else as long as it&#39;s unique.\r\n\r\n(Note, that the following code snippets also use [Lombok][1] annotations to get rid of boiler plate code)\r\n\r\n\r\n    @RequiredArgsConstructor\r\n    class TaskCompletedEvent() {\r\n      private final UUID taskId;\r\n      // add more fields containing the result of the task if required\r\n    }\r\n\r\nThe production code itself then typically looks like this:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    class Production {\r\n\r\n      private final ApplicationEventPublisher eventPublisher;\r\n\r\n      void doSomeTask(UUID taskId) {\r\n        // do something like calling a REST endpoint asynchronously\r\n        eventPublisher.publishEvent(new TaskCompletedEvent(taskId));\r\n      }\r\n\r\n    }\r\n\r\nI can then use a Spring `@EventListener` to catch the published event in test code. The event listener is a little bit more involved, because it has to handle two cases in a thread safe manner:\r\n\r\n1. Production code is faster than the test case and the event has already fired before the test case checks for the event, or\r\n2. Test case is faster than production code and the test case has to wait for the event.\r\n\r\nA `CountDownLatch` is used for the second case as mentioned in other answers here. Also note, that the `@Order` annotation on the event handler method makes sure, that this event handler method gets called after any other event listeners used in production.\r\n\r\n    @Component\r\n    class TaskCompletionEventListener {\r\n\r\n      private Map&lt;UUID, CountDownLatch&gt; waitLatches = new ConcurrentHashMap&lt;&gt;();\r\n      private List&lt;UUID&gt; eventsReceived = new ArrayList&lt;&gt;();\r\n\r\n      void waitForCompletion(UUID taskId) {\r\n        synchronized (this) {\r\n          if (eventAlreadyReceived(taskId)) {\r\n            return;\r\n          }\r\n          checkNobodyIsWaiting(taskId);\r\n          createLatch(taskId);\r\n        }\r\n        waitForEvent(taskId);\r\n      }\r\n\r\n      private void checkNobodyIsWaiting(UUID taskId) {\r\n        if (waitLatches.containsKey(taskId)) {\r\n          throw new IllegalArgumentException(&quot;Only one waiting test per task ID supported, but another test is already waiting for &quot; + taskId + &quot; to complete.&quot;);\r\n        }\r\n      }\r\n\r\n      private boolean eventAlreadyReceived(UUID taskId) {\r\n        return eventsReceived.remove(taskId);\r\n      }\r\n\r\n      private void createLatch(UUID taskId) {\r\n        waitLatches.put(taskId, new CountDownLatch(1));\r\n      }\r\n\r\n      @SneakyThrows\r\n      private void waitForEvent(UUID taskId) {\r\n        var latch = waitLatches.get(taskId);\r\n        latch.await();\r\n      }\r\n\r\n      @EventListener\r\n      @Order\r\n      void eventReceived(TaskCompletedEvent event) {\r\n        var taskId = event.getTaskId();\r\n        synchronized (this) {\r\n          if (isSomebodyWaiting(taskId)) {\r\n            notifyWaitingTest(taskId);\r\n          } else {\r\n            eventsReceived.add(taskId);\r\n          }\r\n        }\r\n      }\r\n\r\n      private boolean isSomebodyWaiting(UUID taskId) {\r\n        return waitLatches.containsKey(taskId);\r\n      }\r\n\r\n      private void notifyWaitingTest(UUID taskId) {\r\n        var latch = waitLatches.remove(taskId);\r\n        latch.countDown();\r\n      }\r\n\r\n    }\r\n\r\n\r\nLast step is to execute the system under test in a test case. I&#39;m using a SpringBoot test with JUnit 5 here, but this should work the same for all tests using a Spring context.\r\n\r\n    @SpringBootTest\r\n    class ProductionIntegrationTest {\r\n     \r\n      @Autowired\r\n      private Production sut;\r\n\r\n      @Autowired\r\n      private TaskCompletionEventListener listener;\r\n\r\n      @Test\r\n      void thatTaskCompletesSuccessfully() {\r\n        var taskId = UUID.randomUUID();\r\n        sut.doSomeTask(taskId);\r\n        listener.waitForCompletion(taskId);\r\n        // do some assertions like looking into the DB if value was stored successfully\r\n      }\r\n\r\n    }\r\n\r\nNote, that in contrast to other answers here, this solution will also work if you execute your tests in parallel and multiple threads exercise the async code at the same time.\r\n\r\n  [1]: https://projectlombok.org","title":"How to use JUnit to test asynchronous processes","body":"<p>For all Spring users out there, this is how I usually do my integration tests nowadays, where async behaviour is involved:</p>\n\n<p>Fire an application event in production code, when an async task (such as an I/O call) has finished. Most of the time this event is necessary anyway to handle the response of the async operation in production.</p>\n\n<p>With this event in place, you can then use the following strategy in your test case:</p>\n\n<ol>\n<li>Execute the system under test</li>\n<li>Listen for the event and make sure that the event has fired</li>\n<li>Do your assertions</li>\n</ol>\n\n<p>To break this down, you'll first need some kind of domain event to fire. I'm using a UUID here to identify the task that has completed, but you're of course free to use something else as long as it's unique.</p>\n\n<p>(Note, that the following code snippets also use <a href=\"https://projectlombok.org\" rel=\"nofollow noreferrer\">Lombok</a> annotations to get rid of boiler plate code)</p>\n\n<pre><code>@RequiredArgsConstructor\nclass TaskCompletedEvent() {\n  private final UUID taskId;\n  // add more fields containing the result of the task if required\n}\n</code></pre>\n\n<p>The production code itself then typically looks like this:</p>\n\n<pre><code>@Component\n@RequiredArgsConstructor\nclass Production {\n\n  private final ApplicationEventPublisher eventPublisher;\n\n  void doSomeTask(UUID taskId) {\n    // do something like calling a REST endpoint asynchronously\n    eventPublisher.publishEvent(new TaskCompletedEvent(taskId));\n  }\n\n}\n</code></pre>\n\n<p>I can then use a Spring <code>@EventListener</code> to catch the published event in test code. The event listener is a little bit more involved, because it has to handle two cases in a thread safe manner:</p>\n\n<ol>\n<li>Production code is faster than the test case and the event has already fired before the test case checks for the event, or</li>\n<li>Test case is faster than production code and the test case has to wait for the event.</li>\n</ol>\n\n<p>A <code>CountDownLatch</code> is used for the second case as mentioned in other answers here. Also note, that the <code>@Order</code> annotation on the event handler method makes sure, that this event handler method gets called after any other event listeners used in production.</p>\n\n<pre><code>@Component\nclass TaskCompletionEventListener {\n\n  private Map&lt;UUID, CountDownLatch&gt; waitLatches = new ConcurrentHashMap&lt;&gt;();\n  private List&lt;UUID&gt; eventsReceived = new ArrayList&lt;&gt;();\n\n  void waitForCompletion(UUID taskId) {\n    synchronized (this) {\n      if (eventAlreadyReceived(taskId)) {\n        return;\n      }\n      checkNobodyIsWaiting(taskId);\n      createLatch(taskId);\n    }\n    waitForEvent(taskId);\n  }\n\n  private void checkNobodyIsWaiting(UUID taskId) {\n    if (waitLatches.containsKey(taskId)) {\n      throw new IllegalArgumentException(\"Only one waiting test per task ID supported, but another test is already waiting for \" + taskId + \" to complete.\");\n    }\n  }\n\n  private boolean eventAlreadyReceived(UUID taskId) {\n    return eventsReceived.remove(taskId);\n  }\n\n  private void createLatch(UUID taskId) {\n    waitLatches.put(taskId, new CountDownLatch(1));\n  }\n\n  @SneakyThrows\n  private void waitForEvent(UUID taskId) {\n    var latch = waitLatches.get(taskId);\n    latch.await();\n  }\n\n  @EventListener\n  @Order\n  void eventReceived(TaskCompletedEvent event) {\n    var taskId = event.getTaskId();\n    synchronized (this) {\n      if (isSomebodyWaiting(taskId)) {\n        notifyWaitingTest(taskId);\n      } else {\n        eventsReceived.add(taskId);\n      }\n    }\n  }\n\n  private boolean isSomebodyWaiting(UUID taskId) {\n    return waitLatches.containsKey(taskId);\n  }\n\n  private void notifyWaitingTest(UUID taskId) {\n    var latch = waitLatches.remove(taskId);\n    latch.countDown();\n  }\n\n}\n</code></pre>\n\n<p>Last step is to execute the system under test in a test case. I'm using a SpringBoot test with JUnit 5 here, but this should work the same for all tests using a Spring context.</p>\n\n<pre><code>@SpringBootTest\nclass ProductionIntegrationTest {\n\n  @Autowired\n  private Production sut;\n\n  @Autowired\n  private TaskCompletionEventListener listener;\n\n  @Test\n  void thatTaskCompletesSuccessfully() {\n    var taskId = UUID.randomUUID();\n    sut.doSomeTask(taskId);\n    listener.waitForCompletion(taskId);\n    // do some assertions like looking into the DB if value was stored successfully\n  }\n\n}\n</code></pre>\n\n<p>Note, that in contrast to other answers here, this solution will also work if you execute your tests in parallel and multiple threads exercise the async code at the same time.</p>\n"},{"tags":[],"owner":{"account_id":4250230,"reputation":1766,"user_id":3477539,"accept_rate":83,"display_name":"Rostislav V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599154269,"creation_date":1599154269,"answer_id":63728861,"question_id":631598,"body_markdown":"Let&#39;s say you have this code:\r\n\r\n    public void method() {\r\n            CompletableFuture.runAsync(() -&gt; {\r\n                //logic\r\n                //logic\r\n                //logic\r\n                //logic\r\n            });\r\n        }\r\n\r\nTry to refactor it to something like this:\r\n\r\n    public void refactoredMethod() {\r\n        CompletableFuture.runAsync(this::subMethod);\r\n    }\r\n    \r\n    private void subMethod() {\r\n        //logic\r\n        //logic\r\n        //logic\r\n        //logic\r\n    }\r\n\r\nAfter that, test the subMethod this way:\r\n\r\n    org.powermock.reflect.Whitebox.invokeMethod(classInstance, &quot;subMethod&quot;); \r\n\r\nThis isn&#39;t a perfect solution, but it tests all the logic inside your async execution.\r\n","title":"How to use JUnit to test asynchronous processes","body":"<p>Let's say you have this code:</p>\n<pre><code>public void method() {\n        CompletableFuture.runAsync(() -&gt; {\n            //logic\n            //logic\n            //logic\n            //logic\n        });\n    }\n</code></pre>\n<p>Try to refactor it to something like this:</p>\n<pre><code>public void refactoredMethod() {\n    CompletableFuture.runAsync(this::subMethod);\n}\n\nprivate void subMethod() {\n    //logic\n    //logic\n    //logic\n    //logic\n}\n</code></pre>\n<p>After that, test the subMethod this way:</p>\n<pre><code>org.powermock.reflect.Whitebox.invokeMethod(classInstance, &quot;subMethod&quot;); \n</code></pre>\n<p>This isn't a perfect solution, but it tests all the logic inside your async execution.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1603274179,"creation_date":1603273554,"answer_id":64460897,"question_id":631598,"body_markdown":"JUnit 5 has `Assertions.assertTimeout(Duration, Executable)`/`assertTimeoutPreemptively()`(please read Javadoc of each to understand the difference) and Mockito has `verify(mock, timeout(millisecs).times(x))`. \r\n\r\n    Assertions.assertTimeout(Duration.ofMillis(1000), () -&gt; \r\n        myReactiveService.doSth().subscribe()\r\n    );\r\n\r\nAnd: \r\n\r\n    Mockito.verify(myReactiveService, \r\n        timeout(1000).times(0)).doSth(); // cannot use never() here\r\n\r\nTimeout may be nondeterministic/fragile in pipelines. So be careful. ","title":"How to use JUnit to test asynchronous processes","body":"<p>JUnit 5 has <code>Assertions.assertTimeout(Duration, Executable)</code>/<code>assertTimeoutPreemptively()</code>(please read Javadoc of each to understand the difference) and Mockito has <code>verify(mock, timeout(millisecs).times(x))</code>.</p>\n<pre><code>Assertions.assertTimeout(Duration.ofMillis(1000), () -&gt; \n    myReactiveService.doSth().subscribe()\n);\n</code></pre>\n<p>And:</p>\n<pre><code>Mockito.verify(myReactiveService, \n    timeout(1000).times(0)).doSth(); // cannot use never() here\n</code></pre>\n<p>Timeout may be nondeterministic/fragile in pipelines. So be careful.</p>\n"},{"tags":[],"owner":{"account_id":1848338,"reputation":1157,"user_id":1675502,"accept_rate":42,"display_name":"V&#237;ctor Herraiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681555037,"creation_date":1681555037,"answer_id":76021715,"question_id":631598,"body_markdown":"The following solution is explained in the code, there are two different approaches depending on your needs.\r\n\r\n```java\r\npackage es.victorherraiz.learningjava;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.*;\r\n\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.concurrent.TimeoutException;\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\nimport static java.util.concurrent.CompletableFuture.delayedExecutor;\r\nimport static java.util.concurrent.TimeUnit.MILLISECONDS;\r\nimport static org.mockito.BDDMockito.then;\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.timeout;\r\n\r\n@ExtendWith(AsyncTest.AsyncExtension.class)\r\npublic class AsyncTest {\r\n\r\n\r\n    /**\r\n     * This first test uses a custom extension, the code is down there.\r\n     * It is useful when there are plenty of async tests\r\n     * @param cb The callback\r\n     */\r\n    @Test\r\n    void test1(AsyncCallback cb) {\r\n        cb.setTimeout(5000);\r\n        delayedExecutor(2000, MILLISECONDS)\r\n            .execute(cb::success);\r\n    }\r\n\r\n    /**\r\n     * This test uses mockito, it is slower to detect signal.\r\n     * Use this when there are only a few async tests.\r\n     */\r\n    @Test\r\n    void test2() {\r\n        var mock = mock(Runnable.class);\r\n        delayedExecutor(2000, MILLISECONDS)\r\n            .execute(mock);\r\n        then(mock).should(timeout(5000)).run();\r\n    }\r\n\r\n    public static final class AsyncCallback {\r\n        private final CountDownLatch latch = new CountDownLatch(1);\r\n        private final AtomicLong timeout = new AtomicLong(5000);\r\n        private Exception exception;\r\n\r\n        private void setTimeout(long timeout) {\r\n            this.timeout.set(timeout);\r\n        }\r\n\r\n        private long getTimeout() {\r\n            return this.timeout.get();\r\n        };\r\n\r\n\r\n        boolean await() throws InterruptedException {\r\n            return latch.await(timeout.get(), MILLISECONDS);\r\n        }\r\n\r\n        Exception getFailure() {\r\n            return exception;\r\n        }\r\n\r\n        public void done(Exception exception) {\r\n            this.exception = exception;\r\n            latch.countDown();\r\n        }\r\n\r\n        public void success() {\r\n            done(null);\r\n        }\r\n\r\n        public void failure(Exception exception) {\r\n            done(exception);\r\n        }\r\n    }\r\n\r\n    // Extract this class to any common package\r\n    public static class AsyncExtension implements ParameterResolver, AfterTestExecutionCallback {\r\n        private static final ExtensionContext.Namespace NAMESPACE =\r\n            ExtensionContext.Namespace.create(AsyncExtension.class);\r\n\r\n        @Override\r\n        public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) {\r\n            return parameterContext.getParameter().getType().equals(AsyncCallback.class);\r\n        }\r\n\r\n        @Override\r\n        public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) {\r\n            return extensionContext.getStore(NAMESPACE).getOrComputeIfAbsent(AsyncCallback.class);\r\n        }\r\n\r\n        @Override\r\n        public void afterTestExecution(ExtensionContext extensionContext) throws Exception {\r\n            var callback = (AsyncCallback) extensionContext.getStore(NAMESPACE).get(AsyncCallback.class);\r\n            if (callback != null) {\r\n                if (!callback.await()) {\r\n                    throw new TimeoutException(&quot;Timeout: there was not signal for &quot; + callback.getTimeout() + &quot;ms&quot;);\r\n                }\r\n                var failure = callback.getFailure();\r\n                if (failure != null) {\r\n                    throw failure;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How to use JUnit to test asynchronous processes","body":"<p>The following solution is explained in the code, there are two different approaches depending on your needs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package es.victorherraiz.learningjava;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.*;\n\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.TimeoutException;\nimport java.util.concurrent.atomic.AtomicLong;\n\nimport static java.util.concurrent.CompletableFuture.delayedExecutor;\nimport static java.util.concurrent.TimeUnit.MILLISECONDS;\nimport static org.mockito.BDDMockito.then;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.timeout;\n\n@ExtendWith(AsyncTest.AsyncExtension.class)\npublic class AsyncTest {\n\n\n    /**\n     * This first test uses a custom extension, the code is down there.\n     * It is useful when there are plenty of async tests\n     * @param cb The callback\n     */\n    @Test\n    void test1(AsyncCallback cb) {\n        cb.setTimeout(5000);\n        delayedExecutor(2000, MILLISECONDS)\n            .execute(cb::success);\n    }\n\n    /**\n     * This test uses mockito, it is slower to detect signal.\n     * Use this when there are only a few async tests.\n     */\n    @Test\n    void test2() {\n        var mock = mock(Runnable.class);\n        delayedExecutor(2000, MILLISECONDS)\n            .execute(mock);\n        then(mock).should(timeout(5000)).run();\n    }\n\n    public static final class AsyncCallback {\n        private final CountDownLatch latch = new CountDownLatch(1);\n        private final AtomicLong timeout = new AtomicLong(5000);\n        private Exception exception;\n\n        private void setTimeout(long timeout) {\n            this.timeout.set(timeout);\n        }\n\n        private long getTimeout() {\n            return this.timeout.get();\n        };\n\n\n        boolean await() throws InterruptedException {\n            return latch.await(timeout.get(), MILLISECONDS);\n        }\n\n        Exception getFailure() {\n            return exception;\n        }\n\n        public void done(Exception exception) {\n            this.exception = exception;\n            latch.countDown();\n        }\n\n        public void success() {\n            done(null);\n        }\n\n        public void failure(Exception exception) {\n            done(exception);\n        }\n    }\n\n    // Extract this class to any common package\n    public static class AsyncExtension implements ParameterResolver, AfterTestExecutionCallback {\n        private static final ExtensionContext.Namespace NAMESPACE =\n            ExtensionContext.Namespace.create(AsyncExtension.class);\n\n        @Override\n        public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) {\n            return parameterContext.getParameter().getType().equals(AsyncCallback.class);\n        }\n\n        @Override\n        public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) {\n            return extensionContext.getStore(NAMESPACE).getOrComputeIfAbsent(AsyncCallback.class);\n        }\n\n        @Override\n        public void afterTestExecution(ExtensionContext extensionContext) throws Exception {\n            var callback = (AsyncCallback) extensionContext.getStore(NAMESPACE).get(AsyncCallback.class);\n            if (callback != null) {\n                if (!callback.await()) {\n                    throw new TimeoutException(&quot;Timeout: there was not signal for &quot; + callback.getTimeout() + &quot;ms&quot;);\n                }\n                var failure = callback.getFailure();\n                if (failure != null) {\n                    throw failure;\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20392,"reputation":6497,"user_id":48721,"accept_rate":77,"display_name":"Sam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241664,"favorite_count":0,"down_vote_count":0,"up_vote_count":271,"accepted_answer_id":631754,"answer_count":18,"score":271,"last_activity_date":1681555037,"creation_date":1236708571,"question_id":631598,"body_markdown":"How do you test methods that fire asynchronous processes with JUnit?\r\n\r\nI don&#39;t know how to make my test wait for the process to end (it is not exactly a unit test, it is more like an integration test as it involves several classes and not just one).","title":"How to use JUnit to test asynchronous processes","body":"<p>How do you test methods that fire asynchronous processes with JUnit?</p>\n\n<p>I don't know how to make my test wait for the process to end (it is not exactly a unit test, it is more like an integration test as it involves several classes and not just one).</p>\n"},{"tags":["java","data-structures","depth-first-search","breadth-first-search"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681554979,"post_id":76021700,"comment_id":134077491,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1681556002,"post_id":76021700,"comment_id":134077618,"body_markdown":"You can do how it suggests and it will tell. It wants `adjacency = new LinkedList[v];` to be `adjacency = new LinkedList&lt;Integer&gt;[v];`. But then it won&#39;t work out of the box, see https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java for details. Actually it looks very suspicious that you have a `static` field of an array of linked lists, it may not be what you really want.","body":"You can do how it suggests and it will tell. It wants <code>adjacency = new LinkedList[v];</code> to be <code>adjacency = new LinkedList&lt;Integer&gt;[v];</code>. But then it won&#39;t work out of the box, see <a href=\"https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java\" title=\"how to create a generic array in java\">stackoverflow.com/questions/529085/&hellip;</a> for details. Actually it looks very suspicious that you have a <code>static</code> field of an array of linked lists, it may not be what you really want."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681556551,"post_id":76021700,"comment_id":134077690,"body_markdown":"That is only a warning? Did .class file get updated? Usually adding some well placed ‘&lt;&gt;’ will fix. Sometimes difficult to fix. Ignore.","body":"That is only a warning? Did .class file get updated? Usually adding some well placed ‘&lt;&gt;’ will fix. Sometimes difficult to fix. Ignore."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681564612,"post_id":76021700,"comment_id":134078732,"body_markdown":"It says: &quot;`Recompile with -Xlint:unchecked for details`&quot;.  Do that!","body":"It says: &quot;<code>Recompile with -Xlint:unchecked for details</code>&quot;.  Do that!"}],"owner":{"account_id":28312255,"reputation":11,"user_id":21649344,"display_name":"Dabhoya Kishan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681564649,"answer_count":0,"score":1,"last_activity_date":1681554951,"creation_date":1681554851,"question_id":76021700,"body_markdown":"    import java.util.*;\r\n    \r\n    public class q48 {\r\n            public static LinkedList&lt;Integer&gt; adjacency[];\r\n            public q48(int v)\r\n            {\r\n                adjacency = new LinkedList[v];\r\n                for(int i=0; i&lt;v; i++)\r\n                {\r\n                    adjacency[i]=new LinkedList&lt;Integer&gt;();\r\n                }\r\n            }\r\n            public static void implementgraph(int s,int d)\r\n            {\r\n                adjacency[s].add(d);\r\n                adjacency[d].add(s);\r\n            }\r\n            public static void bfs(int source)\r\n            {\r\n                boolean visited_nodes[] = new boolean[adjacency.length];\r\n                int parent_nodes[] =  new int[adjacency.length];\r\n                Queue&lt;Integer&gt; q= new LinkedList&lt;&gt;();\r\n                q.add(source);\r\n                visited_nodes[source]=true;\r\n                parent_nodes[source]=-1;\r\n                while(!q.isEmpty())\r\n                {\r\n                    int p = q.poll();\r\n                    System.out.println(p);\r\n                    for(int i:adjacency[p])\r\n                    {\r\n                        if(visited_nodes[i] != true)\r\n                        {\r\n                            visited_nodes[i] = true;\r\n                            q.add(i);\r\n                            parent_nodes[i]=p;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter vertice and edges : &quot;);\r\n            int v = sc.nextInt();\r\n            int e = sc.nextInt();\r\n            q48 g= new q48(v);\r\n            System.out.println(&quot;Enter the edges : &quot;);\r\n            for(int i=0; i&lt;e; i++)\r\n            {\r\n                int s = sc.nextInt();\r\n                int d = sc.nextInt();\r\n                implementgraph(s,d);\r\n            }\r\n            System.out.println(&quot;Enter source node : &quot;);\r\n            int source = sc.nextInt();\r\n            bfs(source);\r\n        }\r\n    }\r\n\r\nwhen I compile same code in VSCode then its working perfectly but when I compile this code with Command prompt gave error\r\n\r\n\r\n","title":"Why I got this error q48.java uses unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked for details","body":"<pre><code>import java.util.*;\n\npublic class q48 {\n        public static LinkedList&lt;Integer&gt; adjacency[];\n        public q48(int v)\n        {\n            adjacency = new LinkedList[v];\n            for(int i=0; i&lt;v; i++)\n            {\n                adjacency[i]=new LinkedList&lt;Integer&gt;();\n            }\n        }\n        public static void implementgraph(int s,int d)\n        {\n            adjacency[s].add(d);\n            adjacency[d].add(s);\n        }\n        public static void bfs(int source)\n        {\n            boolean visited_nodes[] = new boolean[adjacency.length];\n            int parent_nodes[] =  new int[adjacency.length];\n            Queue&lt;Integer&gt; q= new LinkedList&lt;&gt;();\n            q.add(source);\n            visited_nodes[source]=true;\n            parent_nodes[source]=-1;\n            while(!q.isEmpty())\n            {\n                int p = q.poll();\n                System.out.println(p);\n                for(int i:adjacency[p])\n                {\n                    if(visited_nodes[i] != true)\n                    {\n                        visited_nodes[i] = true;\n                        q.add(i);\n                        parent_nodes[i]=p;\n                    }\n                }\n            }\n        }\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter vertice and edges : &quot;);\n        int v = sc.nextInt();\n        int e = sc.nextInt();\n        q48 g= new q48(v);\n        System.out.println(&quot;Enter the edges : &quot;);\n        for(int i=0; i&lt;e; i++)\n        {\n            int s = sc.nextInt();\n            int d = sc.nextInt();\n            implementgraph(s,d);\n        }\n        System.out.println(&quot;Enter source node : &quot;);\n        int source = sc.nextInt();\n        bfs(source);\n    }\n}\n</code></pre>\n<p>when I compile same code in VSCode then its working perfectly but when I compile this code with Command prompt gave error</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1681499557,"post_id":75998931,"comment_id":134072081,"body_markdown":"It&#39;s unclear what your problem is. The above should work if you&#39;ve set up your batch with the right blend mode and enabled blending on the batch.","body":"It&#39;s unclear what your problem is. The above should work if you&#39;ve set up your batch with the right blend mode and enabled blending on the batch."}],"answers":[{"tags":[],"owner":{"account_id":4018270,"reputation":35,"user_id":3309567,"display_name":"NoUserNoName"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681554895,"creation_date":1681411487,"answer_id":76008834,"question_id":75998931,"body_markdown":"    public void setUpTransparent(float alpha){\r\n        Gdx.gl.glEnable(GL20.GL_BLEND);\r\n        Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);\r\n        batch.begin();\r\n    \r\n        up++;\r\n        rgbBatch = batch.getColor();\r\n        if (up &gt; 100){\r\n            batch.setColor(rgbBatch.r, rgbBatch.g, rgbBatch.b, alpha);\r\n            batch.draw(textureIcon, rectangleIcon.x, rectangleIcon.y);\r\n        }\r\n        batch.end();\r\n        Gdx.gl.glDisable(GL20.GL_BLEND);\r\n    }\r\n\r\n","title":"How do i make the texture transparent?","body":"<pre><code>public void setUpTransparent(float alpha){\n    Gdx.gl.glEnable(GL20.GL_BLEND);\n    Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);\n    batch.begin();\n\n    up++;\n    rgbBatch = batch.getColor();\n    if (up &gt; 100){\n        batch.setColor(rgbBatch.r, rgbBatch.g, rgbBatch.b, alpha);\n        batch.draw(textureIcon, rectangleIcon.x, rectangleIcon.y);\n    }\n    batch.end();\n    Gdx.gl.glDisable(GL20.GL_BLEND);\n}\n</code></pre>\n"}],"owner":{"account_id":27617232,"reputation":1,"user_id":21457902,"display_name":"Outsider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681554895,"creation_date":1681325980,"question_id":75998931,"body_markdown":"I have the method which increase transparent texture, alpha = 0.3f.\r\n\r\n\r\n```\r\n public void setUpTransparent(float alpha){\r\n        up += 1;\r\n        rgbBatch = batch.getColor();\r\n        if (up &gt; 100){\r\n            batch.setColor(rgbBatch.r, rgbBatch.g, rgbBatch.b, alpha);\r\n            batch.draw(textureIcon, rectangleIcon.x, rectangleIcon.y);\r\n        }\r\n    }\r\n```\r\n\r\nI need do dicrease transparent for texture. How do this ?\r\n\r\n\r\n","title":"How do i make the texture transparent?","body":"<p>I have the method which increase transparent texture, alpha = 0.3f.</p>\n<pre><code> public void setUpTransparent(float alpha){\n        up += 1;\n        rgbBatch = batch.getColor();\n        if (up &gt; 100){\n            batch.setColor(rgbBatch.r, rgbBatch.g, rgbBatch.b, alpha);\n            batch.draw(textureIcon, rectangleIcon.x, rectangleIcon.y);\n        }\n    }\n</code></pre>\n<p>I need do dicrease transparent for texture. How do this ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1681496432,"post_id":76017651,"comment_id":134071559,"body_markdown":"Since the same key appears in the list, the map might be smaller than the list, right? So that for `[a, b, c, a]`, your `getValues(List)` function returns `[&lt;a, aVal&gt;,&lt;b, bVal&gt;,&lt;c, cVal&gt;]`, since `Map#put` will update on duplicate keys. I&#39;m guessing you try to cache because you might call `getValue(String)` for the same key more than once. Is it correct?","body":"Since the same key appears in the list, the map might be smaller than the list, right? So that for <code>[a, b, c, a]</code>, your <code>getValues(List)</code> function returns <code>[&lt;a, aVal&gt;,&lt;b, bVal&gt;,&lt;c, cVal&gt;]</code>, since <code>Map#put</code> will update on duplicate keys. I&#39;m guessing you try to cache because you might call <code>getValue(String)</code> for the same key more than once. Is it correct?"},{"owner":{"account_id":10572708,"reputation":167,"user_id":7788900,"display_name":"pradhyo"},"score":0,"creation_date":1681497747,"post_id":76017651,"comment_id":134071775,"body_markdown":"sorry - I just updated the sample code to focus more on the problem. Yes, I am trying to cache because `getValue` will be called for the same key more than once.","body":"sorry - I just updated the sample code to focus more on the problem. Yes, I am trying to cache because <code>getValue</code> will be called for the same key more than once."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1681498460,"post_id":76017651,"comment_id":134071896,"body_markdown":"Ok, if that&#39;s the case, couldn&#39;t you remove the duplicate keys before mapping? That way `getValue` will be called only once per unique key.","body":"Ok, if that&#39;s the case, couldn&#39;t you remove the duplicate keys before mapping? That way <code>getValue</code> will be called only once per unique key."},{"owner":{"account_id":10572708,"reputation":167,"user_id":7788900,"display_name":"pradhyo"},"score":0,"creation_date":1681503923,"post_id":76017651,"comment_id":134072817,"body_markdown":"its more like this dummy code so can&#39;t eliminate duplicates like that\n```java\nMap.of(\n  &quot;key1&quot;, (getValue(&quot;k1&quot;) + getValue(&quot;k2&quot;) + getValue(&quot;k3&quot;)),\n  &quot;key2&quot;, (getValue(&quot;k2&quot;) + getValue(&quot;k1&quot;) + getValue(&quot;k3&quot;)),\n  &quot;key3&quot;, (getValue(&quot;k3&quot;) + getValue(&quot;k2&quot;) + getValue(&quot;k1&quot;))\n);\n```","body":"its more like this dummy code so can&#39;t eliminate duplicates like that <code>java Map.of(   &quot;key1&quot;, (getValue(&quot;k1&quot;) + getValue(&quot;k2&quot;) + getValue(&quot;k3&quot;)),   &quot;key2&quot;, (getValue(&quot;k2&quot;) + getValue(&quot;k1&quot;) + getValue(&quot;k3&quot;)),   &quot;key3&quot;, (getValue(&quot;k3&quot;) + getValue(&quot;k2&quot;) + getValue(&quot;k1&quot;)) ); </code>"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1681505185,"post_id":76017651,"comment_id":134073026,"body_markdown":"You should definitely add that to your question. I would expect that for every key, a single result is retrieved. I was hoping to help you solve this without a caching mechanism, but with those k&#39;s I no longer see how the relation works. Adding that (What are those k&#39;s and where do they come from) will also be helpful.","body":"You should definitely add that to your question. I would expect that for every key, a single result is retrieved. I was hoping to help you solve this without a caching mechanism, but with those k&#39;s I no longer see how the relation works. Adding that (What are those k&#39;s and where do they come from) will also be helpful."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681554648,"creation_date":1681554648,"answer_id":76021676,"question_id":76017651,"body_markdown":"Include the GUID generated in the Controller in the cache key.\r\n\r\n\r\n      @PostMapping(&quot;/logic&quot;)\r\n      public Map&lt;String, String&gt; getValues(\r\n          @RequestBody LogicRequest logicRequest\r\n      ) {\r\n        String uuid = UUID.randomUUID().toString();\r\n        return logicService.getValues(uuid);\r\n      } \r\n\r\n \r\n\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class LogicService {\r\n    \r\n      Map&lt;String, String&gt; getValues(String uuid) {\r\n        // call getValue hundreds of times to generate output \r\n        // with a lot of calls having the same input\r\n      }\r\n    \r\n      @Cacheable(cacheManager = &quot;requestCacheManager&quot;, cacheNames = &quot;values&quot;)\r\n      String getValue(String uuid, String key) {\r\n        // expensive function\r\n      }\r\n    }\r\n\r\nOn a separate note, the @Cacheable mechanism will not work for your code in the question. The method getValue(String key) must be called from outside the LogicService because java needs to proxy the call.\r\n\r\n","title":"Caching a function (in a singleton service) within a single request to the controller in Java Spring Boot","body":"<p>Include the GUID generated in the Controller in the cache key.</p>\n<pre><code>  @PostMapping(&quot;/logic&quot;)\n  public Map&lt;String, String&gt; getValues(\n      @RequestBody LogicRequest logicRequest\n  ) {\n    String uuid = UUID.randomUUID().toString();\n    return logicService.getValues(uuid);\n  } \n\n\n\n\n@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class LogicService {\n\n  Map&lt;String, String&gt; getValues(String uuid) {\n    // call getValue hundreds of times to generate output \n    // with a lot of calls having the same input\n  }\n\n  @Cacheable(cacheManager = &quot;requestCacheManager&quot;, cacheNames = &quot;values&quot;)\n  String getValue(String uuid, String key) {\n    // expensive function\n  }\n}\n</code></pre>\n<p>On a separate note, the @Cacheable mechanism will not work for your code in the question. The method getValue(String key) must be called from outside the LogicService because java needs to proxy the call.</p>\n"}],"owner":{"account_id":10572708,"reputation":167,"user_id":7788900,"display_name":"pradhyo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681554648,"creation_date":1681493643,"question_id":76017651,"body_markdown":"For each call to the endpoint below, I have to fetch values for multiple keys from external services so I would like to cache the results of `getValue` but only within each request. `getValue` will be called multiple times for the same input multiple times within a request. The results for the same key will vary across multiple requests.\r\n\r\nSimplified version of my code is provided below.\r\n\r\nI tried using a `CacheManager` with `@Scope(&quot;prototype&quot;)` but its caching the values across requests.\r\nI tried using `@RequestScope(proxyMode = ScopedProxyMode.INTERFACES)` but I get `Scope &#39;request&#39; is not active for the current thread` and the application wouldn&#39;t run.\r\nI&#39;d prefer just creating an empty `HashMap` for each request and cache the values there myself but unsure how to handle that since `LogicService` is a singleton. \r\n\r\n\r\n```java\r\n@RestController\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class LogicController {\r\n  private final LogicService logicService;\r\n\r\n  @PostMapping(&quot;/logic&quot;)\r\n  public Map&lt;String, String&gt; getValues(\r\n      @RequestBody LogicRequest logicRequest\r\n  ) {\r\n    return logicService.getValues();\r\n  }  \r\n}\r\n```\r\n\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class LogicService {\r\n\r\n  Map&lt;String, String&gt; getValues() {\r\n    // call getValue hundreds of times to generate output \r\n    // with a lot of calls having the same input\r\n  }\r\n\r\n  // how do I cache the results of this function just within one API call to /logic?\r\n  @Cacheable(cacheManager = &quot;requestCacheManager&quot;, cacheNames = &quot;values&quot;, key = &quot;#key&quot;)\r\n  String getValue(String key) {\r\n    // expensive function\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@SpringBootConfiguration\r\n@EnableCaching\r\npublic class CacheManagerConfiguration {\r\n  @Bean\r\n  @Scope(&quot;prototype&quot;)\r\n  public CacheManager requestCacheManager() {\r\n    return new ConcurrentMapCacheManager(&quot;values&quot;);\r\n  }\r\n}\r\n```\r\n","title":"Caching a function (in a singleton service) within a single request to the controller in Java Spring Boot","body":"<p>For each call to the endpoint below, I have to fetch values for multiple keys from external services so I would like to cache the results of <code>getValue</code> but only within each request. <code>getValue</code> will be called multiple times for the same input multiple times within a request. The results for the same key will vary across multiple requests.</p>\n<p>Simplified version of my code is provided below.</p>\n<p>I tried using a <code>CacheManager</code> with <code>@Scope(&quot;prototype&quot;)</code> but its caching the values across requests.\nI tried using <code>@RequestScope(proxyMode = ScopedProxyMode.INTERFACES)</code> but I get <code>Scope 'request' is not active for the current thread</code> and the application wouldn't run.\nI'd prefer just creating an empty <code>HashMap</code> for each request and cache the values there myself but unsure how to handle that since <code>LogicService</code> is a singleton.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\n@Slf4j\npublic class LogicController {\n  private final LogicService logicService;\n\n  @PostMapping(&quot;/logic&quot;)\n  public Map&lt;String, String&gt; getValues(\n      @RequestBody LogicRequest logicRequest\n  ) {\n    return logicService.getValues();\n  }  \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class LogicService {\n\n  Map&lt;String, String&gt; getValues() {\n    // call getValue hundreds of times to generate output \n    // with a lot of calls having the same input\n  }\n\n  // how do I cache the results of this function just within one API call to /logic?\n  @Cacheable(cacheManager = &quot;requestCacheManager&quot;, cacheNames = &quot;values&quot;, key = &quot;#key&quot;)\n  String getValue(String key) {\n    // expensive function\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootConfiguration\n@EnableCaching\npublic class CacheManagerConfiguration {\n  @Bean\n  @Scope(&quot;prototype&quot;)\n  public CacheManager requestCacheManager() {\n    return new ConcurrentMapCacheManager(&quot;values&quot;);\n  }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"owner":{"account_id":28252123,"reputation":1,"user_id":21598191,"display_name":"saket chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681554253,"creation_date":1680986443,"question_id":75967580,"body_markdown":"I am trying to launch Chrome with a URL, the browser launches but it does nothing after that.\r\n\r\nSeeing below error in my Eclipse console:\r\n```none\r\nStarting ChromeDriver 112.0.5615.49 (bd2a7bcb881c11e8cfe3078709382934e3916914-refs/branch-heads/5615@{#936}) on port 24598\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited normally.\r\n  (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n  (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\nHost info: host: &#39;ITCHAUNOTE&#39;, ip: &#39;192.168.1.15&#39;\r\nBuild info: version: &#39;4.8.3&#39;, revision: &#39;e5e76298c3&#39;\r\nSystem info: **os.name: &#39;Windows 10&#39;**, os.arch: &#39;amd64&#39;, **os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;**\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\r\n\tat ChromeTest.main(ChromeTest.java:13)\r\n```\r\nSelenium Code:\r\n```java\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class ChromeTest {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException{\r\n\t\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t\t\r\n\t\tWebDriver driver = new ChromeDriver(options);\r\n\t\t\r\n\t\tdriver.get(&quot;https://www.google.com/travel/flights&quot;);\r\n\t\tThread.sleep(2000);\r\n\t\tdriver.quit();\r\n\r\n\t}\r\n\r\n}\r\n````\r\n\r\nMy configuration:\r\n\r\n- Chrome browser Version: 112.0.5615.49 (Official Build) (64-bit)   \r\n- Chrome Driver: ChromeDriver 112.0.5615.49\r\n- Selenium-Java version: 4.8.3\r\n\r\nNote: Code works fine in other browsers Edge, Firefox but not in Chrome\r\n\r\n- OS: Microsoft Windows 10 Enterprise\r\n- System Type: x64-based PC\r\n\r\nSolution tried so far:\r\n\r\n1. Works fine when using code with setting Chrome options as shown below. But it runs in chomeheadless mode which I don&#39;t want. I want to run my tests only in Chrome browser.\r\n  ```java\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\t\t\r\n    \t    // WebDriverManager.chromedriver().setup();\r\n    \r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode \r\n        options.addArguments(&quot;disable-infobars&quot;); // disabling infobars\r\n        options.addArguments(&quot;--disable-extensions&quot;); // disabling extensions \r\n        options.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only \r\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        driver = new ChromeDriver(options);\t\t \r\n        driver.get(&quot;https://www.google.com/travel/flights&quot;); \r\n        Thread.sleep(5000); \r\n        driver.quit();\r\n    ```\r\n\r\n2. Have tried older versions of Chrome browser, Chrome driver, and Selenium jar but no luck.","title":"Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: (DevToolsActivePort file doesn&#39;t exist)","body":"<p>I am trying to launch Chrome with a URL, the browser launches but it does nothing after that.</p>\n<p>Seeing below error in my Eclipse console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Starting ChromeDriver 112.0.5615.49 (bd2a7bcb881c11e8cfe3078709382934e3916914-refs/branch-heads/5615@{#936}) on port 24598\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited normally.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nHost info: host: 'ITCHAUNOTE', ip: '192.168.1.15'\nBuild info: version: '4.8.3', revision: 'e5e76298c3'\nSystem info: **os.name: 'Windows 10'**, os.arch: 'amd64', **os.version: '10.0', java.version: '17.0.6'**\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\n    at ChromeTest.main(ChromeTest.java:13)\n</code></pre>\n<p>Selenium Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class ChromeTest {\n\n    public static void main(String[] args) throws InterruptedException{\n    \n        ChromeOptions options = new ChromeOptions();\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        \n        WebDriver driver = new ChromeDriver(options);\n        \n        driver.get(&quot;https://www.google.com/travel/flights&quot;);\n        Thread.sleep(2000);\n        driver.quit();\n\n    }\n\n}\n</code></pre>\n<p>My configuration:</p>\n<ul>\n<li>Chrome browser Version: 112.0.5615.49 (Official Build) (64-bit)</li>\n<li>Chrome Driver: ChromeDriver 112.0.5615.49</li>\n<li>Selenium-Java version: 4.8.3</li>\n</ul>\n<p>Note: Code works fine in other browsers Edge, Firefox but not in Chrome</p>\n<ul>\n<li>OS: Microsoft Windows 10 Enterprise</li>\n<li>System Type: x64-based PC</li>\n</ul>\n<p>Solution tried so far:</p>\n<ol>\n<li>Works fine when using code with setting Chrome options as shown below. But it runs in chomeheadless mode which I don't want. I want to run my tests only in Chrome browser.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>  System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);        \n          // WebDriverManager.chromedriver().setup();\n  \n      ChromeOptions options = new ChromeOptions();\n      options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\n      options.addArguments(&quot;--headless&quot;);\n      options.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode \n      options.addArguments(&quot;disable-infobars&quot;); // disabling infobars\n      options.addArguments(&quot;--disable-extensions&quot;); // disabling extensions \n      options.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only \n      options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\n      options.addArguments(&quot;--remote-allow-origins=*&quot;);\n      driver = new ChromeDriver(options);      \n      driver.get(&quot;https://www.google.com/travel/flights&quot;); \n      Thread.sleep(5000); \n      driver.quit();\n  ```\n\n2. Have tried older versions of Chrome browser, Chrome driver, and Selenium jar but no luck.\n</code></pre>\n"},{"tags":["java","android","android-mediasession"],"answers":[{"tags":[],"owner":{"account_id":28159606,"reputation":31,"user_id":21519777,"display_name":"AllahinAskeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681553853,"creation_date":1680981561,"answer_id":75967238,"question_id":75892486,"body_markdown":"I solved my problem by adding `metadata.putLong(MediaMetadata.METADATA_KEY_DURATION, duration);`. `duration` variable should be `long` and it should always get updated.\r\n\r\n","title":"Android media notification large icon doesn&#39;t change","body":"<p>I solved my problem by adding <code>metadata.putLong(MediaMetadata.METADATA_KEY_DURATION, duration);</code>. <code>duration</code> variable should be <code>long</code> and it should always get updated.</p>\n"}],"owner":{"account_id":28159606,"reputation":31,"user_id":21519777,"display_name":"AllahinAskeri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75967238,"answer_count":1,"score":2,"last_activity_date":1681553853,"creation_date":1680206383,"question_id":75892486,"body_markdown":"I have a media notification and a large icon, my code successfully loads the image first time, but image doesn&#39;t changes second time. My code was working in Android 8.1.0, currently I&#39;m using Android 12 and it doesn&#39;t work.\r\n\r\n```\r\n    mediaSession.setMetadata(new MediaMetadataCompat.Builder()\r\n            .putBitmap(MediaMetadata.METADATA_KEY_ALBUM_ART, image)\r\n            .putBitmap(MediaMetadata.METADATA_KEY_ART, image)\r\n            .putLong(MediaMetadata.METADATA_KEY_DURATION, -1L)\r\n            .putString(MediaMetadata.METADATA_KEY_TITLE,BASLIK)\r\n            .putString(MediaMetadata.METADATA_KEY_ARTIST,ISIM)\r\n            .build());\r\n\r\n    stateBuilder = new PlaybackStateCompat.Builder();\r\n    stateBuilder.setActions(PlaybackStateCompat.ACTION_PLAY_PAUSE | PlaybackStateCompat.ACT\r\n    stateBuilder.setState(PlaybackStateCompat.STATE_PLAYING, 0, 1.0f);\r\n    mediaSession.setPlaybackState(stateBuilder.build());\r\n\r\n    notification = new NotificationCompat.Builder(context, CHANNEL_ID)\r\n            .setContentTitle(BASLIK)\r\n            .setContentText(ISIM)\r\n            .setLargeIcon(image)\r\n            .setSmallIcon(R.drawable.ic_launcher_foreground)\r\n            .addAction(R.drawable.ic_previous, &quot;Previous&quot;, prevPendingIntent)\r\n            .addAction(icon, &quot;Play&quot;, playPendingIntent)\r\n            .addAction(R.drawable.ic_next, &quot;Next&quot;, nextPendingIntent)\r\n            .setOnlyAlertOnce(true)\r\n            .setPriority(Notification.PRIORITY_LOW)\r\n            .setOngoing(true)\r\n            .setShowWhen(false)\r\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n            .setStyle(new androidx.media.app.NotificationCompat.MediaStyle()\r\n                    .setShowActionsInCompactView(0, 1, 2)\r\n                    .setMediaSession(mediaSession.getSessionToken()));\r\n            \r\n    notificationManager.notify(Integer.parseInt(CHANNEL_ID), notification.build());\r\n```\r\n\r\nI tried removing MediaStyle and it worked, images successfully changed each time but I need to use MediaStyle. I&#39;m sure about updating the notification, title and song name changes but image doesn&#39;t.\r\n","title":"Android media notification large icon doesn&#39;t change","body":"<p>I have a media notification and a large icon, my code successfully loads the image first time, but image doesn't changes second time. My code was working in Android 8.1.0, currently I'm using Android 12 and it doesn't work.</p>\n<pre><code>    mediaSession.setMetadata(new MediaMetadataCompat.Builder()\n            .putBitmap(MediaMetadata.METADATA_KEY_ALBUM_ART, image)\n            .putBitmap(MediaMetadata.METADATA_KEY_ART, image)\n            .putLong(MediaMetadata.METADATA_KEY_DURATION, -1L)\n            .putString(MediaMetadata.METADATA_KEY_TITLE,BASLIK)\n            .putString(MediaMetadata.METADATA_KEY_ARTIST,ISIM)\n            .build());\n\n    stateBuilder = new PlaybackStateCompat.Builder();\n    stateBuilder.setActions(PlaybackStateCompat.ACTION_PLAY_PAUSE | PlaybackStateCompat.ACT\n    stateBuilder.setState(PlaybackStateCompat.STATE_PLAYING, 0, 1.0f);\n    mediaSession.setPlaybackState(stateBuilder.build());\n\n    notification = new NotificationCompat.Builder(context, CHANNEL_ID)\n            .setContentTitle(BASLIK)\n            .setContentText(ISIM)\n            .setLargeIcon(image)\n            .setSmallIcon(R.drawable.ic_launcher_foreground)\n            .addAction(R.drawable.ic_previous, &quot;Previous&quot;, prevPendingIntent)\n            .addAction(icon, &quot;Play&quot;, playPendingIntent)\n            .addAction(R.drawable.ic_next, &quot;Next&quot;, nextPendingIntent)\n            .setOnlyAlertOnce(true)\n            .setPriority(Notification.PRIORITY_LOW)\n            .setOngoing(true)\n            .setShowWhen(false)\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n            .setStyle(new androidx.media.app.NotificationCompat.MediaStyle()\n                    .setShowActionsInCompactView(0, 1, 2)\n                    .setMediaSession(mediaSession.getSessionToken()));\n            \n    notificationManager.notify(Integer.parseInt(CHANNEL_ID), notification.build());\n</code></pre>\n<p>I tried removing MediaStyle and it worked, images successfully changed each time but I need to use MediaStyle. I'm sure about updating the notification, title and song name changes but image doesn't.</p>\n"},{"tags":["java","json","spring-boot","jackson","deserialization"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1681515410,"post_id":76018158,"comment_id":134074332,"body_markdown":"try `@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)` - as per https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonsubtypes.htm","body":"try <code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)</code> - as per <a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonsubtypes.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/jackson_annotations/&hellip;</a>"},{"owner":{"account_id":426260,"reputation":489,"user_id":807367,"display_name":"ustad"},"score":0,"creation_date":1681536295,"post_id":76018158,"comment_id":134075719,"body_markdown":"Thanks @PJFanning, I tried that along with other variations of the include... all still returning null for the type property","body":"Thanks @PJFanning, I tried that along with other variations of the include... all still returning null for the type property"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681553723,"creation_date":1681553723,"answer_id":76021609,"question_id":76018158,"body_markdown":"You were close to the solution that can be obtained with adding two properties in your existing annotation:\r\nthe [`JsonTypeInfo.As#EXISTING_PROPERTY`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.As.html#EXISTING_PROPERTY) property and also the [`JsonTypeInfo#visible`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.html#visible--) property that both have to be included in your  [`JsonTypeInfo`](https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html) annotation you are using like below:\r\n\r\n~~~\r\n@Data\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.EXISTING_PROPERTY, \r\nproperty = &quot;type&quot;, visible = true)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = ChildClass1.class, name = &quot;childClass1&quot;)\r\n})\r\npublic class ParentClass {\r\n    protected String type;\r\n}\r\n\r\n@Getter\r\n@Setter\r\npublic class ChildClass1 extends ParentClass {\r\n    private String childClass1Field;\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;ChildClass1 [childClass1Field=&quot; + childClass1Field + &quot;, type=&quot; + type + &quot;]&quot;;\r\n    }\r\n}\r\n~~~\r\n\r\nThen you can deserialize your json obtaining the expected result:\r\n\r\n~~~\r\nString json = &quot;&quot;&quot;\r\n                 {\r\n                   &quot;type&quot;: &quot;childClass1&quot;,\r\n                   &quot;childClass1Field&quot;: &quot;my child class 1 field value&quot;\r\n                 }\r\n              &quot;&quot;&quot;;\r\nParentClass parentClass = mapper.readValue(json, ParentClass.class);\r\n//it prints ChildClass1 [childClass1Field=my child class 1 field value, type=childClass1]\r\nSystem.out.println(parentClass);\r\n~~~","title":"Spring Boot Jackson Not Deserializing Parent Fields When Using JsonSubTypes","body":"<p>You were close to the solution that can be obtained with adding two properties in your existing annotation:\nthe <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.As.html#EXISTING_PROPERTY\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo.As#EXISTING_PROPERTY</code></a> property and also the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.html#visible--\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo#visible</code></a> property that both have to be included in your  <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo</code></a> annotation you are using like below:</p>\n<pre><code>@Data\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.EXISTING_PROPERTY, \nproperty = &quot;type&quot;, visible = true)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = ChildClass1.class, name = &quot;childClass1&quot;)\n})\npublic class ParentClass {\n    protected String type;\n}\n\n@Getter\n@Setter\npublic class ChildClass1 extends ParentClass {\n    private String childClass1Field;\n    \n    @Override\n    public String toString() {\n        return &quot;ChildClass1 [childClass1Field=&quot; + childClass1Field + &quot;, type=&quot; + type + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>Then you can deserialize your json obtaining the expected result:</p>\n<pre><code>String json = &quot;&quot;&quot;\n                 {\n                   &quot;type&quot;: &quot;childClass1&quot;,\n                   &quot;childClass1Field&quot;: &quot;my child class 1 field value&quot;\n                 }\n              &quot;&quot;&quot;;\nParentClass parentClass = mapper.readValue(json, ParentClass.class);\n//it prints ChildClass1 [childClass1Field=my child class 1 field value, type=childClass1]\nSystem.out.println(parentClass);\n</code></pre>\n"}],"owner":{"account_id":426260,"reputation":489,"user_id":807367,"display_name":"ustad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76021609,"answer_count":1,"score":1,"last_activity_date":1681553723,"creation_date":1681498528,"question_id":76018158,"body_markdown":"I have the following classes:\r\n\r\n    public class TestClass {\r\n    \r\n    \tpublic ParentClass parentClass;\r\n    \r\n    \tpublic ParentClass getParentClass() {\r\n    \t\treturn parentClass;\r\n    \t}\r\n    \r\n    \tpublic void setParentClass(ParentClass parentClass) {\r\n    \t\tthis.parentClass = parentClass;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;TestClass [parentClass=&quot; + parentClass + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = ChildClass1.class, name = &quot;childClass1&quot;),\r\n            @JsonSubTypes.Type(value = ChildClass2.class, name = &quot;childClass2&quot;)\r\n    })\r\n    public class ParentClass {\r\n    \r\n    \t@JsonProperty\r\n    \tpublic String type;\r\n    \r\n    \tpublic String getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \r\n    \tpublic void setType(String type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ParentClass [type=&quot; + type + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class ChildClass1 extends ParentClass {\r\n    \tpublic String childClass1Field;\r\n    \r\n    \tpublic String getChildClass1Field() {\r\n    \t\treturn childClass1Field;\r\n    \t}\r\n    \r\n    \tpublic void setChildClass1Field(String childClass1Field) {\r\n    \t\tthis.childClass1Field = childClass1Field;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ChildClass1 [childClass1Field=&quot; + childClass1Field + &quot;, type=&quot; + type + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \r\n    }\r\n    \r\n    public class ChildClass2 extends ParentClass {\r\n    \tpublic String childClass2Field;\r\n    \r\n    \tpublic String getChildClass2Field() {\r\n    \t\treturn childClass2Field;\r\n    \t}\r\n    \r\n    \tpublic void setChildClass2Field(String childClass2Field) {\r\n    \t\tthis.childClass2Field = childClass2Field;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ChildClass2 [childClass2Field=&quot; + childClass2Field + &quot;, type=&quot; + type + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nwhen I have the following payload:\r\n\r\n    [{\r\n      &quot;parentClass&quot;: {\r\n          &quot;type&quot;: &quot;childClass1&quot;,\r\n          &quot;childClass1Field&quot;: &quot;my child class 1 field value&quot;\r\n      }\r\n    }]\r\n\r\nIt de-serializes to the following (print out of the deserialized object):\r\n\r\n[TestClass [parentClass=ChildClass1 [childClass1Field=my child class 1 field value, type=null]]]\r\n\r\n\r\nPolymorphism works correctly as it is instantiating the correct child class (ChildClass1) but notice the type field from the parentclass is not de-serialized properly and is returned back as &#39;null&#39; instead of the expected value of &#39;childClass1&#39;\r\n\r\nI&#39;ve tried everything under the sun but all to no avail. Any help would be appreciated!\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot Jackson Not Deserializing Parent Fields When Using JsonSubTypes","body":"<p>I have the following classes:</p>\n<pre><code>public class TestClass {\n\n    public ParentClass parentClass;\n\n    public ParentClass getParentClass() {\n        return parentClass;\n    }\n\n    public void setParentClass(ParentClass parentClass) {\n        this.parentClass = parentClass;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;TestClass [parentClass=&quot; + parentClass + &quot;]&quot;;\n    }\n\n}\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = ChildClass1.class, name = &quot;childClass1&quot;),\n        @JsonSubTypes.Type(value = ChildClass2.class, name = &quot;childClass2&quot;)\n})\npublic class ParentClass {\n\n    @JsonProperty\n    public String type;\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ParentClass [type=&quot; + type + &quot;]&quot;;\n    }\n\n}\n\npublic class ChildClass1 extends ParentClass {\n    public String childClass1Field;\n\n    public String getChildClass1Field() {\n        return childClass1Field;\n    }\n\n    public void setChildClass1Field(String childClass1Field) {\n        this.childClass1Field = childClass1Field;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ChildClass1 [childClass1Field=&quot; + childClass1Field + &quot;, type=&quot; + type + &quot;]&quot;;\n    }\n\n\n}\n\npublic class ChildClass2 extends ParentClass {\n    public String childClass2Field;\n\n    public String getChildClass2Field() {\n        return childClass2Field;\n    }\n\n    public void setChildClass2Field(String childClass2Field) {\n        this.childClass2Field = childClass2Field;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ChildClass2 [childClass2Field=&quot; + childClass2Field + &quot;, type=&quot; + type + &quot;]&quot;;\n    }\n\n\n}\n</code></pre>\n<p>when I have the following payload:</p>\n<pre><code>[{\n  &quot;parentClass&quot;: {\n      &quot;type&quot;: &quot;childClass1&quot;,\n      &quot;childClass1Field&quot;: &quot;my child class 1 field value&quot;\n  }\n}]\n</code></pre>\n<p>It de-serializes to the following (print out of the deserialized object):</p>\n<p>[TestClass [parentClass=ChildClass1 [childClass1Field=my child class 1 field value, type=null]]]</p>\n<p>Polymorphism works correctly as it is instantiating the correct child class (ChildClass1) but notice the type field from the parentclass is not de-serialized properly and is returned back as 'null' instead of the expected value of 'childClass1'</p>\n<p>I've tried everything under the sun but all to no avail. Any help would be appreciated!</p>\n"},{"tags":["java","linux","intellij-idea","z3"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681463392,"post_id":76012286,"comment_id":134063764,"body_markdown":"Please show output of `java -XshowSettings:properties  -version 2&gt;&amp;1 | grep  library`","body":"Please show output of <code>java -XshowSettings:properties  -version 2&gt;&amp;1 | grep  library</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681465337,"post_id":76012286,"comment_id":134064255,"body_markdown":"`java -Djava.library.path=/usr/lib -jar your.jar` should work as a command with your symlinks. If you&#39;re running in the IDE, make sure the same system property is set for the JVM","body":"<code>java -Djava.library.path=&#47;usr&#47;lib -jar your.jar</code> should work as a command with your symlinks. If you&#39;re running in the IDE, make sure the same system property is set for the JVM"},{"owner":{"account_id":27744065,"reputation":309,"user_id":21179924,"display_name":"Dhanunjay Mamidi"},"score":0,"creation_date":1699462537,"post_id":76012286,"comment_id":136535579,"body_markdown":"@ggggxm is this resolved. Please help with solution. I&#39;m facing exactly same issue on mac","body":"@ggggxm is this resolved. Please help with solution. I&#39;m facing exactly same issue on mac"}],"owner":{"account_id":27272270,"reputation":1,"user_id":20793417,"display_name":"ggggxm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681552827,"creation_date":1681454904,"question_id":76012286,"body_markdown":"I created a *scala* project in the *Linux IDEA* integrated environment, which requires the use of *z3solver*.\r\nI tried compiling and installing *Z3soler* using *source code*, and also tried installing the *release version* to make sure z3solver was correctly installed.\r\n\r\nHowever, when loading `libz3java.so`, the error `Exception in thread&#39; main &#39;java. lang. UnsatisfiedLinkError: no libz3java in java. library. path` occured.\r\n\r\nFirstly, I confirmed LD_LIBRARY_PATH. `libz3java` was in the path`/home/xiangmin/z3/build`\r\n```\r\n(base) xiangmin@xiangmin-HP-ZHAN-66-Pro-14-G2:~/cgra/pillarsv2/pillars$ echo $LD_LIBRARY_PATH \r\n:/opt/gurobi1000/linux64//lib:/home/xiangmin/z3/build\r\n```\r\nbut it didn&#39;t work.\r\n\r\nThen I copied libz3java to the `/usr/lib` directory, using the command\r\n\r\n`ln -s /path/to/libz3java /usr/lib` and `sudo ldconfig` ,but the error still existed.\r\n\r\nAlso,I tried `System.load(&quot;libz3java&quot;)` ,and the IDE suggested `can&#39;t load library`\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/libz3java\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1823)\r\n\tat java.lang.Runtime.load0(Runtime.java:782)\r\n\tat java.lang.System.load(System.java:1098)\r\n\tat tetriski.pillars.mapping.Mapping$.main(Mapping.scala:39)\r\n\tat tetriski.pillars.mapping.Mapping.main(Mapping.scala)\r\n```\r\nHere is the output of `java -XshowSettings:properties  -version 2&gt;&amp;1 | grep  library`\r\n``` \r\n    java.library.path = \r\n    sun.boot.library.path = /usr/local/java/jdk1.8.0_351/jre/lib/amd64\r\n```\r\nBut without `|grep library`,the output contains:\r\n```\r\n java.library.path = \r\n        /opt/gurobi1000/linux64//lib\r\n        /home/xiangmin/z3/build\r\n        /usr/java/packages/lib/amd64\r\n        /usr/lib64\r\n        /lib64\r\n        /lib\r\n        /usr/lib\r\n```\r\nThanks a lot for your attention!","title":"libz3java in java.library.path,but still reporting no libz3java in java.library.path","body":"<p>I created a <em>scala</em> project in the <em>Linux IDEA</em> integrated environment, which requires the use of <em>z3solver</em>.\nI tried compiling and installing <em>Z3soler</em> using <em>source code</em>, and also tried installing the <em>release version</em> to make sure z3solver was correctly installed.</p>\n<p>However, when loading <code>libz3java.so</code>, the error <code>Exception in thread' main 'java. lang. UnsatisfiedLinkError: no libz3java in java. library. path</code> occured.</p>\n<p>Firstly, I confirmed LD_LIBRARY_PATH. <code>libz3java</code> was in the path<code>/home/xiangmin/z3/build</code></p>\n<pre><code>(base) xiangmin@xiangmin-HP-ZHAN-66-Pro-14-G2:~/cgra/pillarsv2/pillars$ echo $LD_LIBRARY_PATH \n:/opt/gurobi1000/linux64//lib:/home/xiangmin/z3/build\n</code></pre>\n<p>but it didn't work.</p>\n<p>Then I copied libz3java to the <code>/usr/lib</code> directory, using the command</p>\n<p><code>ln -s /path/to/libz3java /usr/lib</code> and <code>sudo ldconfig</code> ,but the error still existed.</p>\n<p>Also,I tried <code>System.load(&quot;libz3java&quot;)</code> ,and the IDE suggested <code>can't load library</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/libz3java\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1823)\n    at java.lang.Runtime.load0(Runtime.java:782)\n    at java.lang.System.load(System.java:1098)\n    at tetriski.pillars.mapping.Mapping$.main(Mapping.scala:39)\n    at tetriski.pillars.mapping.Mapping.main(Mapping.scala)\n</code></pre>\n<p>Here is the output of <code>java -XshowSettings:properties  -version 2&gt;&amp;1 | grep  library</code></p>\n<pre><code>    java.library.path = \n    sun.boot.library.path = /usr/local/java/jdk1.8.0_351/jre/lib/amd64\n</code></pre>\n<p>But without <code>|grep library</code>,the output contains:</p>\n<pre><code> java.library.path = \n        /opt/gurobi1000/linux64//lib\n        /home/xiangmin/z3/build\n        /usr/java/packages/lib/amd64\n        /usr/lib64\n        /lib64\n        /lib\n        /usr/lib\n</code></pre>\n<p>Thanks a lot for your attention!</p>\n"},{"tags":["java","garbage-collection","heap-memory","heap-dump"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1681543583,"post_id":76020864,"comment_id":134076293,"body_markdown":"What&#39;s a &quot;NACACK error&quot;? 1. Yes, 2. No 3. See https://stackoverflow.com/questions/1393486/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded","body":"What&#39;s a &quot;NACACK error&quot;? 1. Yes, 2. No 3. See <a href=\"https://stackoverflow.com/questions/1393486/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded\" title=\"error java lang outofmemoryerror gc overhead limit exceeded\">stackoverflow.com/questions/1393486/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681552243,"creation_date":1681548815,"answer_id":76021257,"question_id":76020864,"body_markdown":"&gt; 1) Whether the reboot of the server with the presence of heap.dump file will clear the heap memory area entirely?\r\n\r\nThe heap will always be empty when the JVM starts / restarts.\r\n\r\nThe heap dump file is not read when a JVM starts.  Its presence or absence is not relevant.\r\n\r\n&gt; 2) Did the new error is because of the non-clearance of the previous heap.dump file?\r\n\r\nNo.  See above.\r\n\r\nThe message says that the JVM OOME&#39;d again but that the JVM wasn&#39;t willing (or able) to overwrite the existing dump file.  So you didn&#39;t get a *new* heap dump.\r\n\r\n&gt; 3) What are the possibilities to get the above error so quickly?\r\n\r\nIn general, bugs (probably in your application) or the heap is too small.  Or both.  Causes include the following:\r\n\r\n  - A buggy (or poorly designed) application can create in-memory data structures that are excessively large / use to much memory.\r\n\r\n  - A buggy application can have memory leaks, meaning that the GC is unable to reclaim objects that are no longer needed.  If your application runs for a few weeks before crashing, a memory leak should be the prime suspect.\r\n\r\n  - If you set the heap size too small for the *problem* that the application is solving, you will get OOMEs.\r\n\r\n  - If too much *time* is being spent garbage collecting you will get the &quot;GC overhead limit exceeded&quot; flavor of OOME.  This is typically a sign that the heap is *nearly* full ... and the GC is running repeatedly in a last-ditch attempt to keep the application going.  (A &quot;garbage collection death spiral&quot;.)\r\n\r\n    The *root cause* of this will most likely be one of the previous.\r\n\r\n  - Edge cases:\r\n\r\n    - If the application makes excessive or inappropriate use of finalizers, cleaners, `Reference` objects and the like, the GC&#39;s reference processing threads may not be able to keep up leading to an OOME.\r\n\r\n    - With some GC&#39;s, allocating an extremely large array can OOME because there isn&#39;t sufficient *contiguous* free space after the GC has run.\r\n\r\n    - It is possible that the heap size is too large for the host computer to handle; i.e. there is insufficient RAM and / or swap space.\r\n\r\nIt is not possible to be more specific without examining your application in detail, and looking at the heap dump and the stacktrace from the OOME.\r\n\r\nThis Q&amp;A may help, but I don&#39;t think it answers your question:\r\n\r\n  - https://stackoverflow.com/questions/1393486\r\n","title":"Whether the reboot of server with the presence of heap.dump file clears heap memory area entirely?","body":"<blockquote>\n<ol>\n<li>Whether the reboot of the server with the presence of heap.dump file will clear the heap memory area entirely?</li>\n</ol>\n</blockquote>\n<p>The heap will always be empty when the JVM starts / restarts.</p>\n<p>The heap dump file is not read when a JVM starts.  Its presence or absence is not relevant.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Did the new error is because of the non-clearance of the previous heap.dump file?</li>\n</ol>\n</blockquote>\n<p>No.  See above.</p>\n<p>The message says that the JVM OOME'd again but that the JVM wasn't willing (or able) to overwrite the existing dump file.  So you didn't get a <em>new</em> heap dump.</p>\n<blockquote>\n<ol start=\"3\">\n<li>What are the possibilities to get the above error so quickly?</li>\n</ol>\n</blockquote>\n<p>In general, bugs (probably in your application) or the heap is too small.  Or both.  Causes include the following:</p>\n<ul>\n<li><p>A buggy (or poorly designed) application can create in-memory data structures that are excessively large / use to much memory.</p>\n</li>\n<li><p>A buggy application can have memory leaks, meaning that the GC is unable to reclaim objects that are no longer needed.  If your application runs for a few weeks before crashing, a memory leak should be the prime suspect.</p>\n</li>\n<li><p>If you set the heap size too small for the <em>problem</em> that the application is solving, you will get OOMEs.</p>\n</li>\n<li><p>If too much <em>time</em> is being spent garbage collecting you will get the &quot;GC overhead limit exceeded&quot; flavor of OOME.  This is typically a sign that the heap is <em>nearly</em> full ... and the GC is running repeatedly in a last-ditch attempt to keep the application going.  (A &quot;garbage collection death spiral&quot;.)</p>\n<p>The <em>root cause</em> of this will most likely be one of the previous.</p>\n</li>\n<li><p>Edge cases:</p>\n<ul>\n<li><p>If the application makes excessive or inappropriate use of finalizers, cleaners, <code>Reference</code> objects and the like, the GC's reference processing threads may not be able to keep up leading to an OOME.</p>\n</li>\n<li><p>With some GC's, allocating an extremely large array can OOME because there isn't sufficient <em>contiguous</em> free space after the GC has run.</p>\n</li>\n<li><p>It is possible that the heap size is too large for the host computer to handle; i.e. there is insufficient RAM and / or swap space.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>It is not possible to be more specific without examining your application in detail, and looking at the heap dump and the stacktrace from the OOME.</p>\n<p>This Q&amp;A may help, but I don't think it answers your question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1393486\">Error java.lang.OutOfMemoryError: GC overhead limit exceeded</a></li>\n</ul>\n"}],"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681552243,"creation_date":1681543014,"question_id":76020864,"body_markdown":"Our Java Application is working fine on RHEL 8.5 OS platform. In our application, we have provided enough heap space which is &quot;*2048m*&quot;. Even though, we encountered a heap.dump file on Jan 2023. We analyzed the heap.dump file and found that it was a NACACK error. \r\n\r\nPost that, without deleting the heap.dump file, we just rebooted the server and our application starts to work fine. Within a few weeks, we ended up with another problem, \r\n\r\n```\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\nDumping heap to /XYZ/jboss/server/log/heap.dump ...\r\nUnable to create /XYZ/jboss/server/log/heap.dump: File exists.\r\n```\r\n\r\n\r\nPlease find the below queries,\r\n\r\n1) Whether the reboot of the server with the presence of heap.dump file will clear the heap memory area entirely?\r\n2) Did the new error is because of the non-clearance of the previous heap.dump file?\r\n3) What are the possibilities to get the above error so quickly?\r\n\r\n\r\nThanks.","title":"Whether the reboot of server with the presence of heap.dump file clears heap memory area entirely?","body":"<p>Our Java Application is working fine on RHEL 8.5 OS platform. In our application, we have provided enough heap space which is &quot;<em>2048m</em>&quot;. Even though, we encountered a heap.dump file on Jan 2023. We analyzed the heap.dump file and found that it was a NACACK error.</p>\n<p>Post that, without deleting the heap.dump file, we just rebooted the server and our application starts to work fine. Within a few weeks, we ended up with another problem,</p>\n<pre><code>java.lang.OutOfMemoryError: GC overhead limit exceeded\nDumping heap to /XYZ/jboss/server/log/heap.dump ...\nUnable to create /XYZ/jboss/server/log/heap.dump: File exists.\n</code></pre>\n<p>Please find the below queries,</p>\n<ol>\n<li>Whether the reboot of the server with the presence of heap.dump file will clear the heap memory area entirely?</li>\n<li>Did the new error is because of the non-clearance of the previous heap.dump file?</li>\n<li>What are the possibilities to get the above error so quickly?</li>\n</ol>\n<p>Thanks.</p>\n"},{"tags":["java","properties","sections"],"comments":[{"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"score":0,"creation_date":1253893807,"post_id":1478091,"comment_id":1328240,"body_markdown":"If you have the properties file loaded as a string, could you use a regex?  Or am I missing something?","body":"If you have the properties file loaded as a string, could you use a regex?  Or am I missing something?"},{"owner":{"account_id":30670,"reputation":18662,"user_id":83741,"accept_rate":67,"display_name":"Alexander Torstling"},"score":0,"creation_date":1253893818,"post_id":1478091,"comment_id":1328241,"body_markdown":"You don&#39;t specify how you parse the file, are you using Properties.load() or are you parsing it yourself?","body":"You don&#39;t specify how you parse the file, are you using Properties.load() or are you parsing it yourself?"},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":0,"creation_date":1253893832,"post_id":1478091,"comment_id":1328245,"body_markdown":"you&#39;re not parsing the properties file yourself are you?","body":"you&#39;re not parsing the properties file yourself are you?"}],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253893789,"creation_date":1253893789,"answer_id":1478116,"question_id":1478091,"body_markdown":"Does [`Properties.getProperty(String key)`][1] not do what you want?\r\n\r\nAre you trying to retrieve all values whose key starts with a given string?\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Properties.html#getProperty(java.lang.String)","title":"How to jump to a section in a Java properties file?","body":"<p>Does <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Properties.html#getProperty(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Properties.getProperty(String key)</code></a> not do what you want?</p>\n\n<p>Are you trying to retrieve all values whose key starts with a given string?</p>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1253894222,"creation_date":1253893849,"answer_id":1478124,"question_id":1478091,"body_markdown":"No.\r\n\r\nMmm, I need at least 15 chars to post... So let&#39;s expand on the answer.\r\n\r\nI don&#39;t see the problem. Java has no magical way to guess where your information is. And unless the file is weighting several megabytes, loading it whole (as Properties does, or so I think), and perhaps eliminating data you don&#39;t need (from the generated hash table), shouldn&#39;t take that much time. At worse, if memory is an issue, parse it manually line per line, shouldn&#39;t be hard and should be still quite fast.\r\n\r\nIf memory isn&#39;t the problem, looping with the enumeration provided by propertyNames() and checking that the keys startWith() the given string shouldn&#39;t take much time either.","title":"How to jump to a section in a Java properties file?","body":"<p>No.</p>\n\n<p>Mmm, I need at least 15 chars to post... So let's expand on the answer.</p>\n\n<p>I don't see the problem. Java has no magical way to guess where your information is. And unless the file is weighting several megabytes, loading it whole (as Properties does, or so I think), and perhaps eliminating data you don't need (from the generated hash table), shouldn't take that much time. At worse, if memory is an issue, parse it manually line per line, shouldn't be hard and should be still quite fast.</p>\n\n<p>If memory isn't the problem, looping with the enumeration provided by propertyNames() and checking that the keys startWith() the given string shouldn't take much time either.</p>\n"},{"tags":[],"owner":{"account_id":48455,"reputation":57218,"user_id":143972,"accept_rate":100,"display_name":"Zed"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510121273,"creation_date":1253893882,"answer_id":1478127,"question_id":1478091,"body_markdown":"You should load the properties, and then you can get the value by its key:\r\n\r\n    Properties props = new Properties();\r\n    props.load(new FileInputStream(&quot;my.properties&quot;));\r\n    \r\n    props.getProperty(&quot;ui.outputtype.snapshot&quot;);","title":"How to jump to a section in a Java properties file?","body":"<p>You should load the properties, and then you can get the value by its key:</p>\n\n<pre><code>Properties props = new Properties();\nprops.load(new FileInputStream(\"my.properties\"));\n\nprops.getProperty(\"ui.outputtype.snapshot\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1253895964,"creation_date":1253894285,"answer_id":1478165,"question_id":1478091,"body_markdown":"Since there is no concept of a *section* in the [`Properties`][1] class, one would have to come up with some way to find the *section* of the property file which is wanted.\r\n\r\nOne possible approach would be to obtain the [`Set`][2] of keys, and find the ones which contains the prefix which is wanted.\r\n\r\nThis would be like applying a filter on the keys of the property and picking out the keys which are desired. In this case, we can think of the *prefix* as being the dot-separated entry in the property file.\r\n\r\nHere&#39;s a little sample code to demonstrate the overall idea:\r\n\r\n    Properties p = new Properties();\r\n    p.put(&quot;hello.world&quot;, &quot;42&quot;);\r\n    p.put(&quot;hello.earth&quot;, &quot;1&quot;);\r\n    p.put(&quot;abc.def&quot;, &quot;3&quot;);\r\n    p.put(&quot;def.ghi&quot;, &quot;5&quot;);\r\n    \r\n    // Go through the keys in the property.\r\n    for (Object propKey : p.keySet()) {\r\n      String key = (String)propKey;\r\n\r\n      // Select the keys with the prefix &quot;hello.&quot;\r\n      if (key.startsWith(&quot;hello.&quot;)) {\r\n        System.out.println(key + &quot;, &quot; + p.getProperty(key));\r\n      }\r\n    }\r\n\r\n(The code is not very pleasant because `Properies` is not genericized.)\r\n\r\nOutput:\r\n\r\n    hello.world, 42\r\n    hello.earth, 1\r\n\r\nIn the example above, the one did not load the entries from the an external properties file, but that can be achieved trivially using the [`Properties.load`][3] method, as previously mentioned in the other answers.\r\n\r\n----\r\n\r\nA little bit of a different approach, where the keys are filtered by the desired prefix, then the information can be read through a simple `for` loop.\r\n\r\nHere&#39;s an example using the [`Collections2.filter`][4] method from the [Google Collections][5], which can filter a [`Collection`][6] by a certain [`Predicate`][7]. The filtered result (keys which have the desired prefix) is given to the `for` loop in order to obtain the key and value pair:\r\n\r\n    Properties p = new Properties();\r\n    p.put(&quot;hello.world&quot;, &quot;42&quot;);\r\n    p.put(&quot;hello.earth&quot;, &quot;1&quot;);\r\n    p.put(&quot;abc.def&quot;, &quot;3&quot;);\r\n    p.put(&quot;def.ghi&quot;, &quot;5&quot;);\r\n    \r\n    for (Object propKey : Collections2.filter(p.keySet(), new Predicate&lt;Object&gt;() {\r\n      public boolean apply(Object o) {\r\n        return ((String)o).startsWith(&quot;hello.&quot;);\r\n      }\r\n    }))\r\n    {\r\n      String key = (String) propKey;\r\n      System.out.println(key + &quot;, &quot; + p.getProperty(key));\r\n    }\r\n\r\nThis may be a little bit overkill, but it&#39;s another approach to implementing a filter to narrow down the properties with the desired keys.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Properties.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Set.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Properties.html#load(java.io.InputStream)\r\n  [4]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html#filter(java.util.Collection,%20com.google.common.base.Predicate)\r\n  [5]: http://code.google.com/p/google-collections/\r\n  [6]: http://java.sun.com/javase/6/docs/api/java/util/Collection.html?is-external=true\r\n  [7]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/base/Predicate.html","title":"How to jump to a section in a Java properties file?","body":"<p>Since there is no concept of a <em>section</em> in the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\"><code>Properties</code></a> class, one would have to come up with some way to find the <em>section</em> of the property file which is wanted.</p>\n\n<p>One possible approach would be to obtain the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> of keys, and find the ones which contains the prefix which is wanted.</p>\n\n<p>This would be like applying a filter on the keys of the property and picking out the keys which are desired. In this case, we can think of the <em>prefix</em> as being the dot-separated entry in the property file.</p>\n\n<p>Here's a little sample code to demonstrate the overall idea:</p>\n\n<pre><code>Properties p = new Properties();\np.put(\"hello.world\", \"42\");\np.put(\"hello.earth\", \"1\");\np.put(\"abc.def\", \"3\");\np.put(\"def.ghi\", \"5\");\n\n// Go through the keys in the property.\nfor (Object propKey : p.keySet()) {\n  String key = (String)propKey;\n\n  // Select the keys with the prefix \"hello.\"\n  if (key.startsWith(\"hello.\")) {\n    System.out.println(key + \", \" + p.getProperty(key));\n  }\n}\n</code></pre>\n\n<p>(The code is not very pleasant because <code>Properies</code> is not genericized.)</p>\n\n<p>Output:</p>\n\n<pre><code>hello.world, 42\nhello.earth, 1\n</code></pre>\n\n<p>In the example above, the one did not load the entries from the an external properties file, but that can be achieved trivially using the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Properties.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\"><code>Properties.load</code></a> method, as previously mentioned in the other answers.</p>\n\n<hr>\n\n<p>A little bit of a different approach, where the keys are filtered by the desired prefix, then the information can be read through a simple <code>for</code> loop.</p>\n\n<p>Here's an example using the <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html#filter(java.util.Collection,%20com.google.common.base.Predicate)\" rel=\"nofollow noreferrer\"><code>Collections2.filter</code></a> method from the <a href=\"http://code.google.com/p/google-collections/\" rel=\"nofollow noreferrer\">Google Collections</a>, which can filter a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collection.html?is-external=true\" rel=\"nofollow noreferrer\"><code>Collection</code></a> by a certain <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/base/Predicate.html\" rel=\"nofollow noreferrer\"><code>Predicate</code></a>. The filtered result (keys which have the desired prefix) is given to the <code>for</code> loop in order to obtain the key and value pair:</p>\n\n<pre><code>Properties p = new Properties();\np.put(\"hello.world\", \"42\");\np.put(\"hello.earth\", \"1\");\np.put(\"abc.def\", \"3\");\np.put(\"def.ghi\", \"5\");\n\nfor (Object propKey : Collections2.filter(p.keySet(), new Predicate&lt;Object&gt;() {\n  public boolean apply(Object o) {\n    return ((String)o).startsWith(\"hello.\");\n  }\n}))\n{\n  String key = (String) propKey;\n  System.out.println(key + \", \" + p.getProperty(key));\n}\n</code></pre>\n\n<p>This may be a little bit overkill, but it's another approach to implementing a filter to narrow down the properties with the desired keys.</p>\n"},{"tags":[],"owner":{"account_id":38490,"reputation":8552,"user_id":110478,"accept_rate":63,"display_name":"Pablojim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1253911749,"creation_date":1253911749,"answer_id":1479510,"question_id":1478091,"body_markdown":"This is a strange requirement. If you are worried about performance then do this before when packaging not at runtime. \r\n\r\nA simple:\r\n\r\n    cat settings.properties | grep ui.outputtype &gt; mysmaller.properties\r\n\r\nshould suffice!","title":"How to jump to a section in a Java properties file?","body":"<p>This is a strange requirement. If you are worried about performance then do this before when packaging not at runtime. </p>\n\n<p>A simple:</p>\n\n<pre><code>cat settings.properties | grep ui.outputtype &gt; mysmaller.properties\n</code></pre>\n\n<p>should suffice!</p>\n"},{"tags":[],"owner":{"account_id":879724,"reputation":101,"user_id":175385,"display_name":"nathj07"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681552062,"creation_date":1254298317,"answer_id":1496735,"question_id":1478091,"body_markdown":"Basically I have &#39;sections&#39; in my properties file which was developed by a colleague, I was thinking of one file per &#39;section&#39;.  \r\n\r\nAnyway, my understanding of how this all works is growing nicely and the solution I came up with was:\r\n\r\n    for (String key : props.stringPropertyNames()) {\r\n\t\t// Jump to the relevant section of a properties file\r\n\t\tif (key.contains(&quot;datamode&quot;)) {\r\n\t\t\tOptionItem oi = new OptionItem(key, props.getProperty(key));\r\n\t\t\t// String value = props.getProperty(key);\r\n\t\t\tthis.cbo_mode.add(oi);\r\n\t\t}\r\n\t}","title":"How to jump to a section in a Java properties file?","body":"<p>Basically I have 'sections' in my properties file which was developed by a colleague, I was thinking of one file per 'section'.</p>\n<p>Anyway, my understanding of how this all works is growing nicely and the solution I came up with was:</p>\n<pre><code>for (String key : props.stringPropertyNames()) {\n    // Jump to the relevant section of a properties file\n    if (key.contains(&quot;datamode&quot;)) {\n        OptionItem oi = new OptionItem(key, props.getProperty(key));\n        // String value = props.getProperty(key);\n        this.cbo_mode.add(oi);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431307,"reputation":21,"user_id":815273,"display_name":"dmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366717289,"creation_date":1309002448,"answer_id":6477527,"question_id":1478091,"body_markdown":"You can override Java Properties class to achieve section handling in properties file:\r\n\r\n    @Override\r\n    public synchronized Object put(Object key, Object value) {\r\n        String sKey = key.toString();\r\n        if (sKey.startsWith(&quot;[&quot;) &amp;&amp; sKey.endsWith(&quot;]&quot;))\r\n\r\nFull example is here: &lt;a href=&quot;http://devsite.pl/blog.2011-06-25.java_ini_sections.html&quot;&gt;http://devsite.pl/blog.2011-06-25.java_ini_sections.html&lt;/a&gt;","title":"How to jump to a section in a Java properties file?","body":"<p>You can override Java Properties class to achieve section handling in properties file:</p>\n\n<pre><code>@Override\npublic synchronized Object put(Object key, Object value) {\n    String sKey = key.toString();\n    if (sKey.startsWith(\"[\") &amp;&amp; sKey.endsWith(\"]\"))\n</code></pre>\n\n<p>Full example is here: <a href=\"http://devsite.pl/blog.2011-06-25.java_ini_sections.html\" rel=\"nofollow\"><a href=\"http://devsite.pl/blog.2011-06-25.java_ini_sections.html\" rel=\"nofollow\">http://devsite.pl/blog.2011-06-25.java_ini_sections.html</a></a></p>\n"}],"owner":{"account_id":879724,"reputation":101,"user_id":175385,"display_name":"nathj07"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9975,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":7,"score":2,"last_activity_date":1681552062,"creation_date":1253893533,"question_id":1478091,"body_markdown":"I have a Java properties file that has lots of different properties in it for different things:\r\n\r\n    ui.datasource.st.name=MyTest\r\n    ui.datasource.st.port=111\r\n    ui.datasource.st.ip=1.1.1.1\r\n    ui.outputtype.snapshot=Snapshot\r\n    ui.outputtype.spreadsheet=Spreadsheet - xls\r\n\r\nThe file is a lot bigger than this.\r\n\r\nI want to jump to the **ui.outputtype** section without looping through the file and checking the key value.\r\n\r\nIs there a way to do this?","title":"How to jump to a section in a Java properties file?","body":"<p>I have a Java properties file that has lots of different properties in it for different things:</p>\n<pre><code>ui.datasource.st.name=MyTest\nui.datasource.st.port=111\nui.datasource.st.ip=1.1.1.1\nui.outputtype.snapshot=Snapshot\nui.outputtype.spreadsheet=Spreadsheet - xls\n</code></pre>\n<p>The file is a lot bigger than this.</p>\n<p>I want to jump to the <strong>ui.outputtype</strong> section without looping through the file and checking the key value.</p>\n<p>Is there a way to do this?</p>\n"},{"tags":["java","spring","dto"],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681551850,"creation_date":1681548232,"answer_id":76021210,"question_id":76021125,"body_markdown":"What you can do is write your own [HttpMessageConverter][1] and create new anonymous instances of your interface in there (basically deserializing the JSON manually and putting the corresponding fields in the getters). But I wouldn&#39;t recommend it.\r\n\r\nInstead, ask yourself : why is this Dto an interface ? In the case of a projection it makes sense, but projections are meant to be **_read_**, not written.\r\n\r\nSo it seems you have two solutions\r\n\r\n* Either create a new object, which wouldn&#39;t be a projection but an actual object used for write (HTTP POST) purposes. Using the right semantics wouldn&#39;t be difficult here.\r\n* Extend your interface with a dummy object which would be used only for deserialization purposes of write (HTTP POST) queries.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#rest-message-conversion","title":"Spring DTO: Cannot construct instance of &lt;DTO interface&gt;","body":"<p>What you can do is write your own <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#rest-message-conversion\" rel=\"nofollow noreferrer\">HttpMessageConverter</a> and create new anonymous instances of your interface in there (basically deserializing the JSON manually and putting the corresponding fields in the getters). But I wouldn't recommend it.</p>\n<p>Instead, ask yourself : why is this Dto an interface ? In the case of a projection it makes sense, but projections are meant to be <strong><em>read</em></strong>, not written.</p>\n<p>So it seems you have two solutions</p>\n<ul>\n<li>Either create a new object, which wouldn't be a projection but an actual object used for write (HTTP POST) purposes. Using the right semantics wouldn't be difficult here.</li>\n<li>Extend your interface with a dummy object which would be used only for deserialization purposes of write (HTTP POST) queries.</li>\n</ul>\n"}],"owner":{"account_id":12643497,"reputation":72,"user_id":9190107,"display_name":"Lecram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76021210,"answer_count":1,"score":1,"last_activity_date":1681551850,"creation_date":1681547129,"question_id":76021125,"body_markdown":"I&#39;m working with DTOs in Spring and facing an issue with the use of an [interface-based projection DTO][1] while deserialization in the @RequestBody of a method of the `Controller` class.\r\n\r\nIt looks like that the use of projection based DTOs only works in one direction. Getting a DTO from the repository is pretty easy and handy:\r\n\r\n&lt;!-- language: java --&gt;\r\n    public interface ConditionRepository extends JpaRepository&lt;Condition, Long&gt; {\r\n\r\n        @Query(&quot;SELECT c FROM Condition c WHERE c.controller.id = ?1&quot;)\r\n        List&lt;ConditionDto&gt; findAllByControllerId(Long controllerId);\r\n\r\n    }\r\n\r\nBut if Spring tries to deserialize the same projection based DTO `ConditionDto` in the Controller class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RequestMapping(value = &quot;/{id}/conditions&quot;, produces = MediaType.APPLICATION_JSON_VALUE, method = RequestMethod.PUT)\r\n    public ResponseEntity&lt;List&lt;ConditionResult&gt;&gt; putConditions(@RequestBody List&lt;ConditionDto&gt; conditionList, @PathVariable(&quot;id&quot;) Long controllerId) {\r\n\t\tSystem.out.print(&quot;conditionList: &quot;);\r\n\t\tSystem.out.println(conditionList);\r\n\t\treturn null;\r\n\t}\r\n\r\nit throws an error:\r\n\r\n&lt;!-- language: log4j --&gt;\r\n\r\n    Type definition error: [simple type, class dev.smarthome.weatherstation.condition.dto.ConditionDto];\r\n    nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\r\n    Cannot construct instance of `dev.smarthome.weatherstation.condition.dto.ConditionDto` \r\n    (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types,\r\n    have custom deserializer, or contain additional type information\r\n\r\nThe error makes sense in that way that the DTO is an interface so Spring can not instantiate it.\r\n\r\nWhat would be a good solution? Do I have to convert my implementation from projection based DTO to a class DTO so it can instantiate the DTO? Or did I forget something?\r\n\r\nThanks in advance for your help!\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-projections#interface-based-projections","title":"Spring DTO: Cannot construct instance of &lt;DTO interface&gt;","body":"<p>I'm working with DTOs in Spring and facing an issue with the use of an <a href=\"https://www.baeldung.com/spring-data-jpa-projections#interface-based-projections\" rel=\"nofollow noreferrer\">interface-based projection DTO</a> while deserialization in the @RequestBody of a method of the <code>Controller</code> class.</p>\n<p>It looks like that the use of projection based DTOs only works in one direction. Getting a DTO from the repository is pretty easy and handy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ConditionRepository extends JpaRepository&lt;Condition, Long&gt; {\n\n    @Query(&quot;SELECT c FROM Condition c WHERE c.controller.id = ?1&quot;)\n    List&lt;ConditionDto&gt; findAllByControllerId(Long controllerId);\n\n}\n</code></pre>\n<p>But if Spring tries to deserialize the same projection based DTO <code>ConditionDto</code> in the Controller class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/{id}/conditions&quot;, produces = MediaType.APPLICATION_JSON_VALUE, method = RequestMethod.PUT)\npublic ResponseEntity&lt;List&lt;ConditionResult&gt;&gt; putConditions(@RequestBody List&lt;ConditionDto&gt; conditionList, @PathVariable(&quot;id&quot;) Long controllerId) {\n    System.out.print(&quot;conditionList: &quot;);\n    System.out.println(conditionList);\n    return null;\n}\n</code></pre>\n<p>it throws an error:</p>\n<pre><code>Type definition error: [simple type, class dev.smarthome.weatherstation.condition.dto.ConditionDto];\nnested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\nCannot construct instance of `dev.smarthome.weatherstation.condition.dto.ConditionDto` \n(no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types,\nhave custom deserializer, or contain additional type information\n</code></pre>\n<p>The error makes sense in that way that the DTO is an interface so Spring can not instantiate it.</p>\n<p>What would be a good solution? Do I have to convert my implementation from projection based DTO to a class DTO so it can instantiate the DTO? Or did I forget something?</p>\n<p>Thanks in advance for your help!</p>\n"},{"tags":["java","spring","spring-boot","exception"],"comments":[{"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"score":0,"creation_date":1649843352,"post_id":71855296,"comment_id":126976417,"body_markdown":"Maybe this could help https://stackoverflow.com/questions/21193380/get-requestbody-and-responsebody-at-handlerinterceptor","body":"Maybe this could help <a href=\"https://stackoverflow.com/questions/21193380/get-requestbody-and-responsebody-at-handlerinterceptor\" title=\"get requestbody and responsebody at handlerinterceptor\">stackoverflow.com/questions/21193380/&hellip;</a>"},{"owner":{"display_name":"user16156784"},"score":0,"creation_date":1649844183,"post_id":71855296,"comment_id":126976752,"body_markdown":"This link can help you out with this I guess https://stackoverflow.com/a/46046430/16156784","body":"This link can help you out with this I guess <a href=\"https://stackoverflow.com/a/46046430/16156784\">stackoverflow.com/a/46046430/16156784</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1649849867,"post_id":71855296,"comment_id":126978950,"body_markdown":"A request body can only be consumed once, if you want to read it multiple times, you need to think about that. You need a filter that will map the request with a request that allows the body to be read multiple times (like the `ContentCachingRequestWrapper` in Spring). If you have that, you can just add the `HttpServletRequest` and read the body again. Ifyou don&#39;t, you won&#39;t have a way of reading it again.","body":"A request body can only be consumed once, if you want to read it multiple times, you need to think about that. You need a filter that will map the request with a request that allows the body to be read multiple times (like the <code>ContentCachingRequestWrapper</code> in Spring). If you have that, you can just add the <code>HttpServletRequest</code> and read the body again. Ifyou don&#39;t, you won&#39;t have a way of reading it again."},{"owner":{"account_id":14226631,"reputation":23,"user_id":10277144,"display_name":"Diego Victor"},"score":0,"creation_date":1649858250,"post_id":71855296,"comment_id":126982444,"body_markdown":"@M.Deinum thank you. I tried to use ContentCachingRequestWrapper, But I could not have acess to body content. The method contentCachingRequestWrapper.getContentAsByteArray() returns null.","body":"@M.Deinum thank you. I tried to use ContentCachingRequestWrapper, But I could not have acess to body content. The method contentCachingRequestWrapper.getContentAsByteArray() returns null."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1649859336,"post_id":71855296,"comment_id":126982954,"body_markdown":"Ofcourse it returns `null` at that position as nothing has been read yet. It will only have content **after** things have been read through the inputstream.","body":"Ofcourse it returns <code>null</code> at that position as nothing has been read yet. It will only have content <b>after</b> things have been read through the inputstream."},{"owner":{"account_id":14226631,"reputation":23,"user_id":10277144,"display_name":"Diego Victor"},"score":0,"creation_date":1649860117,"post_id":71855296,"comment_id":126983340,"body_markdown":"@M.Deinum how can I guarantee that things have been read in that part in order to log body data?","body":"@M.Deinum how can I guarantee that things have been read in that part in order to log body data?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1649860829,"post_id":71855296,"comment_id":126983646,"body_markdown":"You just need to get the inputstream and read it. Also where did I say you need to write/log it in the filter. You need to wrap it so you can read it again in your exception handler, that is what you were trying to achieve.","body":"You just need to get the inputstream and read it. Also where did I say you need to write/log it in the filter. You need to wrap it so you can read it again in your exception handler, that is what you were trying to achieve."},{"owner":{"account_id":14226631,"reputation":23,"user_id":10277144,"display_name":"Diego Victor"},"score":0,"creation_date":1649862602,"post_id":71855296,"comment_id":126984413,"body_markdown":"Yeah. I will get the data I want and store them in a LogginContext. In the exception handler, I will get the values in LogginContext. So, to get  the body data, I just need to do: httpRequest.getInputStream() ?","body":"Yeah. I will get the data I want and store them in a LogginContext. In the exception handler, I will get the values in LogginContext. So, to get  the body data, I just need to do: httpRequest.getInputStream() ?"},{"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"score":0,"creation_date":1671195299,"post_id":71855296,"comment_id":132052252,"body_markdown":"I solved this problem with this answer [https://stackoverflow.com/a/74705186/9560693]","body":"I solved this problem with this answer [<a href=\"https://stackoverflow.com/a/74705186/9560693]\">stackoverflow.com/a/74705186/9560693]</a>"}],"answers":[{"tags":[],"owner":{"account_id":24300372,"reputation":11,"user_id":18243955,"display_name":"Imagica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649849147,"creation_date":1649849147,"answer_id":71856700,"question_id":71855296,"body_markdown":"RequestBody and ResponseBody can be read-only once so other ways to achieve the body in the exception handler \r\n[ Visit here](https://stackoverflow.com/a/46046430/18243955)\r\n","title":"How can I get a body data from the request in an ExceptionHandler in Spring Boot?","body":"<p>RequestBody and ResponseBody can be read-only once so other ways to achieve the body in the exception handler\n<a href=\"https://stackoverflow.com/a/46046430/18243955\"> Visit here</a></p>\n"},{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1649872505,"creation_date":1649872505,"answer_id":71861915,"question_id":71855296,"body_markdown":"The comments regarding using the `ContentCachingRequestWrapper` are accurate, this is the implementation using your controller advice that should work.\r\n\r\n    @Component\r\n    public class MyFilter implements Filter {\r\n      @Override\r\n      public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n      throws IOException, ServletException {\r\n         ContentCachingRequestWrapper contentCachingRequestWrapper = new ContentCachingRequestWrapper(\r\n        (HttpServletRequest) servletRequest);\r\n\r\n         filterChain.doFilter(contentCachingRequestWrapper, servletResponse);\r\n      }\r\n    }\r\n\r\nThe advice\r\n\r\n    @RestControllerAdvice\r\n    public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n      @Override\r\n      protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers,\r\n      HttpStatus status, WebRequest request) {\r\n\r\n        ContentCachingRequestWrapper nativeRequest = (ContentCachingRequestWrapper) ((ServletWebRequest) request).getNativeRequest();\r\n        String requestEntityAsString = new String(nativeRequest.getContentAsByteArray());\r\n\r\n        log.debug(requestEntityAsString);\r\n\r\n        return super.handleMethodArgumentNotValid(ex, headers, status, request);\r\n      }\r\n    }\r\n","title":"How can I get a body data from the request in an ExceptionHandler in Spring Boot?","body":"<p>The comments regarding using the <code>ContentCachingRequestWrapper</code> are accurate, this is the implementation using your controller advice that should work.</p>\n<pre><code>@Component\npublic class MyFilter implements Filter {\n  @Override\n  public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n  throws IOException, ServletException {\n     ContentCachingRequestWrapper contentCachingRequestWrapper = new ContentCachingRequestWrapper(\n    (HttpServletRequest) servletRequest);\n\n     filterChain.doFilter(contentCachingRequestWrapper, servletResponse);\n  }\n}\n</code></pre>\n<p>The advice</p>\n<pre><code>@RestControllerAdvice\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers,\n  HttpStatus status, WebRequest request) {\n\n    ContentCachingRequestWrapper nativeRequest = (ContentCachingRequestWrapper) ((ServletWebRequest) request).getNativeRequest();\n    String requestEntityAsString = new String(nativeRequest.getContentAsByteArray());\n\n    log.debug(requestEntityAsString);\n\n    return super.handleMethodArgumentNotValid(ex, headers, status, request);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19136672,"reputation":31,"user_id":13977526,"display_name":"Asror"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681551445,"creation_date":1681551445,"answer_id":76021440,"question_id":71855296,"body_markdown":"Try this code:\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n    @RestControllerAdvice\r\n    @Component\r\n    public class CustomExceptionHandler {\r\n    \r\n        @ExceptionHandler(HttpMessageNotReadableException.class)\r\n        @ResponseBody\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        public Object handleRequestBodyException(HttpMessageNotReadableException ex, HttpServletRequest request) {\r\n            Map&lt;String, Object&gt; responseBody = new LinkedHashMap&lt;&gt;();\r\n            responseBody.put(&quot;timestamp&quot;, new Date());\r\n            responseBody.put(&quot;status&quot;, HttpStatus.BAD_REQUEST.value());\r\n            responseBody.put(&quot;error&quot;, ex.getMessage());\r\n            responseBody.put(&quot;path&quot;, request.getServletPath());\r\n            return responseBody;\r\n        }\r\n    }","title":"How can I get a body data from the request in an ExceptionHandler in Spring Boot?","body":"<p>Try this code:</p>\n<pre><code>@RestControllerAdvice\n@Component\npublic class CustomExceptionHandler {\n\n    @ExceptionHandler(HttpMessageNotReadableException.class)\n    @ResponseBody\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public Object handleRequestBodyException(HttpMessageNotReadableException ex, HttpServletRequest request) {\n        Map&lt;String, Object&gt; responseBody = new LinkedHashMap&lt;&gt;();\n        responseBody.put(&quot;timestamp&quot;, new Date());\n        responseBody.put(&quot;status&quot;, HttpStatus.BAD_REQUEST.value());\n        responseBody.put(&quot;error&quot;, ex.getMessage());\n        responseBody.put(&quot;path&quot;, request.getServletPath());\n        return responseBody;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14226631,"reputation":23,"user_id":10277144,"display_name":"Diego Victor"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9026,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71861915,"answer_count":3,"score":1,"last_activity_date":1681551445,"creation_date":1649843024,"question_id":71855296,"body_markdown":"I have a @RestControllerAdvice where I handle an Exception in Spring Boot. I would like to log an information that is sent through request body. How can I get this information from a spring WebRequest?\r\n\r\nThis is my sample exception handler.\r\n\r\n    @RestControllerAdvice\r\n    public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n            HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n        // I want to add something here that I could log an info that is in the request body.\r\n        return super.handleMethodArgumentNotValid(ex, headers, status, request);\r\n    }\r\n}\r\n\r\n@M.Deinum I tried to use ContentCachingRequestWrapper, But I could not have acess to body content. The method contentCachingRequestWrapper.getContentAsByteArray() returns null. \r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n          throws IOException, ServletException {\r\n\r\n        try {\r\n            ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper((HttpServletRequest) request);\r\n            wrappedRequest.getContentAsByteArray();\r\n            wrappedRequest.getInputStream();\r\n            chain.doFilter(wrappedRequest, response);\r\n        } finally {\r\n            LoggingContext.clear();\r\n        }\r\n","title":"How can I get a body data from the request in an ExceptionHandler in Spring Boot?","body":"<p>I have a @RestControllerAdvice where I handle an Exception in Spring Boot. I would like to log an information that is sent through request body. How can I get this information from a spring WebRequest?</p>\n<p>This is my sample exception handler.</p>\n<pre><code>@RestControllerAdvice\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n\n@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n        HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n    // I want to add something here that I could log an info that is in the request body.\n    return super.handleMethodArgumentNotValid(ex, headers, status, request);\n}\n</code></pre>\n<p>}</p>\n<p>@M.Deinum I tried to use ContentCachingRequestWrapper, But I could not have acess to body content. The method contentCachingRequestWrapper.getContentAsByteArray() returns null.</p>\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n      throws IOException, ServletException {\n\n    try {\n        ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper((HttpServletRequest) request);\n        wrappedRequest.getContentAsByteArray();\n        wrappedRequest.getInputStream();\n        chain.doFilter(wrappedRequest, response);\n    } finally {\n        LoggingContext.clear();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15518456,"reputation":11,"user_id":18679326,"display_name":"alnvalnnn"},"score":0,"creation_date":1681552296,"post_id":76021420,"comment_id":134077201,"body_markdown":"&lt;th scope=&quot;row&quot; th:text=&quot;${order.id}&quot;&gt;&lt;/th&gt;\n\n&lt;td th:text=&quot;${order.orderDate}&quot;&gt;&lt;/td&gt;\n\n&lt;td th:text=&quot;${order.orderStatus}&quot;&gt;&lt;/td&gt;\nare displayed correctly if i comment out order.orderDetailList and order.customer.address","body":"&lt;th scope=&quot;row&quot; th:text=&quot;${order.id}&quot;&gt;&lt;/th&gt;  &lt;td th:text=&quot;${order.orderDate}&quot;&gt;&lt;/td&gt;  &lt;td th:text=&quot;${order.orderStatus}&quot;&gt;&lt;/td&gt; are displayed correctly if i comment out order.orderDetailList and order.customer.address"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1681552811,"post_id":76021420,"comment_id":134077261,"body_markdown":"Order and OrderDetail are referencing each other. While that&#39;s valid scenario in java, it causes stackoverflow errors in serialization. The solution is to not send entities in the model, but to use [DTOs](https://www.baeldung.com/java-dto-pattern) for this purpose.","body":"Order and OrderDetail are referencing each other. While that&#39;s valid scenario in java, it causes stackoverflow errors in serialization. The solution is to not send entities in the model, but to use <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">DTOs</a> for this purpose."},{"owner":{"account_id":15518456,"reputation":11,"user_id":18679326,"display_name":"alnvalnnn"},"score":0,"creation_date":1681554715,"post_id":76021420,"comment_id":134077468,"body_markdown":"could you please tell what attribute i would need for storing products and their quantities (like smartphone - 2 pc, headphone - 1pc) in my OrderDto? Or do i need separate Dto for OrderDetails?","body":"could you please tell what attribute i would need for storing products and their quantities (like smartphone - 2 pc, headphone - 1pc) in my OrderDto? Or do i need separate Dto for OrderDetails?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1681555182,"post_id":76021420,"comment_id":134077515,"body_markdown":"Yes, separate dto for details.","body":"Yes, separate dto for details."}],"owner":{"account_id":15518456,"reputation":11,"user_id":18679326,"display_name":"alnvalnnn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681551436,"creation_date":1681551123,"question_id":76021420,"body_markdown":"I have a class Order, that i pass with model.addAttribute to an html page. I want to display attribute order.customer.address and order.orderDetails.product.name , order.orderDetails.quanitity. But I get an error:\r\n[error](https://i.stack.imgur.com/FWiIb.png).\r\n\r\n\r\n```\r\n@GetMapping(&quot;/orders&quot;)\r\n    public String orders(Model model, Principal principal){\r\n        if(principal == null){\r\n            return &quot;redirect:/login&quot;;\r\n        }\r\n        List&lt;Order&gt; orders = orderService.getAllOrders();\r\n        model.addAttribute(&quot;orders&quot;, orders);\r\n}\r\n```\r\n\r\n```\r\npublic class Order {\r\n   \r\n    private Long id;\r\n...\r\n    private String orderStatus;\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;customer_id&quot;, referencedColumnName = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;order&quot;)  \r\n    private List&lt;OrderDetail&gt; orderDetailList;\r\n}\r\n```\r\n\r\n```\r\n\r\npublic class OrderDetail {\r\n    private Long id;\r\n    private int quantity;\r\n    private double totalPrice;\r\n    private double unitPrice;\r\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;order_id&quot;, referencedColumnName = &quot;order_id&quot;)\r\n    private Order order;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;product_id&quot;)\r\n    private Product product;\r\n}\r\n```\r\n```\r\n&lt;table class=&quot;table table-bordered&quot; th:if=&quot;${size &gt; 0}&quot;&gt;\r\n                        &lt;thead&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;th scope=&quot;col&quot;&gt;Order Index&lt;/th&gt;\r\n                            &lt;th scope=&quot;col&quot;&gt;Order Date&lt;/th&gt;\r\n                            &lt;th scope=&quot;col&quot;&gt;Order Items&lt;/th&gt;\r\n                            &lt;th scope=&quot;col&quot;&gt;Delivery address&lt;/th&gt;\r\n                            &lt;th scope=&quot;col&quot;&gt;Order Status&lt;/th&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;/thead&gt;\r\n                        &lt;tbody&gt;\r\n                        &lt;tr th:each=&quot;order : ${orders}&quot;&gt;\r\n                            &lt;th scope=&quot;row&quot; th:text=&quot;${order.id}&quot;&gt;&lt;/th&gt;\r\n                            &lt;td th:text=&quot;${order.orderDate}&quot;&gt;&lt;/td&gt;\r\n                            &lt;td th:text=&quot;${order.orderDetailList}&quot;&gt;&lt;/td&gt;\r\n                            &lt;td th:text=&quot;${order.customer.address}&quot;&gt;&lt;/td&gt;\r\n                            &lt;td th:text=&quot;${order.orderStatus}&quot;&gt;&lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n```\r\n\r\n","title":"How to pass a class as a model attribute?","body":"<p>I have a class Order, that i pass with model.addAttribute to an html page. I want to display attribute order.customer.address and order.orderDetails.product.name , order.orderDetails.quanitity. But I get an error:\n<a href=\"https://i.stack.imgur.com/FWiIb.png\" rel=\"nofollow noreferrer\">error</a>.</p>\n<pre><code>@GetMapping(&quot;/orders&quot;)\n    public String orders(Model model, Principal principal){\n        if(principal == null){\n            return &quot;redirect:/login&quot;;\n        }\n        List&lt;Order&gt; orders = orderService.getAllOrders();\n        model.addAttribute(&quot;orders&quot;, orders);\n}\n</code></pre>\n<pre><code>public class Order {\n   \n    private Long id;\n...\n    private String orderStatus;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;customer_id&quot;, referencedColumnName = &quot;customer_id&quot;)\n    private Customer customer;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;order&quot;)  \n    private List&lt;OrderDetail&gt; orderDetailList;\n}\n</code></pre>\n<pre><code>\npublic class OrderDetail {\n    private Long id;\n    private int quantity;\n    private double totalPrice;\n    private double unitPrice;\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;order_id&quot;, referencedColumnName = &quot;order_id&quot;)\n    private Order order;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;product_id&quot;)\n    private Product product;\n}\n</code></pre>\n<pre><code>&lt;table class=&quot;table table-bordered&quot; th:if=&quot;${size &gt; 0}&quot;&gt;\n                        &lt;thead&gt;\n                        &lt;tr&gt;\n                            &lt;th scope=&quot;col&quot;&gt;Order Index&lt;/th&gt;\n                            &lt;th scope=&quot;col&quot;&gt;Order Date&lt;/th&gt;\n                            &lt;th scope=&quot;col&quot;&gt;Order Items&lt;/th&gt;\n                            &lt;th scope=&quot;col&quot;&gt;Delivery address&lt;/th&gt;\n                            &lt;th scope=&quot;col&quot;&gt;Order Status&lt;/th&gt;\n                        &lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                        &lt;tr th:each=&quot;order : ${orders}&quot;&gt;\n                            &lt;th scope=&quot;row&quot; th:text=&quot;${order.id}&quot;&gt;&lt;/th&gt;\n                            &lt;td th:text=&quot;${order.orderDate}&quot;&gt;&lt;/td&gt;\n                            &lt;td th:text=&quot;${order.orderDetailList}&quot;&gt;&lt;/td&gt;\n                            &lt;td th:text=&quot;${order.customer.address}&quot;&gt;&lt;/td&gt;\n                            &lt;td th:text=&quot;${order.orderStatus}&quot;&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;/tbody&gt;\n                    &lt;/table&gt;\n</code></pre>\n"},{"tags":["java","multithreading","java-threads","thread-synchronization"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1677541755,"post_id":75586559,"comment_id":133354899,"body_markdown":"[Guarded Blocks](https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html); [Lock Objects](https://docs.oracle.com/javase/tutorial/essential/concurrency/newlocks.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">Guarded Blocks</a>; <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/newlocks.html\" rel=\"nofollow noreferrer\">Lock Objects</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1677542136,"post_id":75586559,"comment_id":133354960,"body_markdown":"I might recommend using a `BlockingQueue` or the like; `wait` and `notify` are almost certainly too low-level.  Just have a queue of messages.","body":"I might recommend using a <code>BlockingQueue</code> or the like; <code>wait</code> and <code>notify</code> are almost certainly too low-level.  Just have a queue of messages."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1677542320,"post_id":75586559,"comment_id":133354990,"body_markdown":"A queue of some type would have been my recommendation also.  I think one of the methods to poll the queue allows you to pass in a timeout value.","body":"A queue of some type would have been my recommendation also.  I think one of the methods to poll the queue allows you to pass in a timeout value."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677569410,"post_id":75586559,"comment_id":133358750,"body_markdown":"Are you only receiving a single message once? You use the plural &quot;messages&quot; in your first sentence. But your code shows a singe effort to wait until a singe message appears.","body":"Are you only receiving a single message once? You use the plural &quot;messages&quot; in your first sentence. But your code shows a singe effort to wait until a singe message appears."},{"owner":{"account_id":956792,"reputation":742,"user_id":981953,"accept_rate":68,"display_name":"Tejas jain"},"score":0,"creation_date":1677604507,"post_id":75586559,"comment_id":133369425,"body_markdown":"I will be receiving messages of different type.","body":"I will be receiving messages of different type."}],"answers":[{"tags":[],"owner":{"account_id":20399566,"reputation":306,"user_id":14965614,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677564949,"creation_date":1677564949,"answer_id":75588446,"question_id":75586559,"body_markdown":"This is an exampre with wait / notify\r\n\r\npublic class SignalReceiver{\r\n    String message;\r\n\r\n    public static void main(String[] args) {\r\n    \tfinal SignalReceiver sr=new SignalReceiver();\r\n    \t\r\n    \tnew Thread(() -&gt; {\r\n    \t\ttry {\r\n\t\t\t\tThread.sleep(2000L);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t}\r\n       \t\tSystem.out.println(&quot;message sent&quot;);\r\n       \t    sr.receive(&quot;hello&quot;);\r\n    \t}).start();;\r\n    \t\r\n    \tSystem.out.println(&quot;waiting...&quot;);\r\n    \tString mess=sr.waitTillMessageReceived(5000L);\r\n    \t\r\n    \tSystem.out.println(&quot;message: &quot;+mess);\r\n    }\r\n    \r\n    public synchronized  void receive(String message){\r\n        this.message = message;\r\n        notify();\r\n    }\r\n\r\n    public synchronized String waitTillMessageReceived(long timeout){\r\n       try {\r\n    \t   wait(timeout);\r\n       }\r\n       catch (InterruptedException e) {\r\n    \t  \r\n       }\r\n       return message;\r\n    }\r\n}\r\n\r\nThe example presents some problems. For example it does not handle properly the arrival of many simultaneous messages.\r\nAs suggested in comments, it is better to use proper synchronised classes like java.util.concurrent.LinkedBlockingDeque.","title":"Wait till I receive signal in Java multi thread","body":"<p>This is an exampre with wait / notify</p>\n<p>public class SignalReceiver{\nString message;</p>\n<pre><code>public static void main(String[] args) {\n    final SignalReceiver sr=new SignalReceiver();\n    \n    new Thread(() -&gt; {\n        try {\n            Thread.sleep(2000L);\n        } catch (InterruptedException e) {\n        }\n        System.out.println(&quot;message sent&quot;);\n        sr.receive(&quot;hello&quot;);\n    }).start();;\n    \n    System.out.println(&quot;waiting...&quot;);\n    String mess=sr.waitTillMessageReceived(5000L);\n    \n    System.out.println(&quot;message: &quot;+mess);\n}\n\npublic synchronized  void receive(String message){\n    this.message = message;\n    notify();\n}\n\npublic synchronized String waitTillMessageReceived(long timeout){\n   try {\n       wait(timeout);\n   }\n   catch (InterruptedException e) {\n      \n   }\n   return message;\n}\n</code></pre>\n<p>}</p>\n<p>The example presents some problems. For example it does not handle properly the arrival of many simultaneous messages.\nAs suggested in comments, it is better to use proper synchronised classes like java.util.concurrent.LinkedBlockingDeque.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677569071,"creation_date":1677569071,"answer_id":75588961,"question_id":75586559,"body_markdown":"# `BlockingQueue`\r\n\r\nI followed the lead provided [by Louis Wasserman][1] and [by markspace][2], suggesting the use of a queue.\r\n\r\nI went with a [`BlockingQueue`][3] which is (a) thread-safe, and (b) can block when adding &amp; removing elements. I started with the example code given on the Javadoc for that interface.\r\n\r\nFor an implementation of the `BlockingQueue` interface, I chose [`ArrayBlockingQueue`][4].\r\n\r\nI created a pair of producer-consumer classes. They produce and consume a randomly-generated [UUID][5] value via the [`UUID`][6] class. \r\n\r\nHere is the producer class. In an endless loop, the `run` method attempts to add a UUID object to the queue. The attempt to add blocks if the queue is currently busy, continuing when the queue becomes available. If interrupted, such as by the closure of the executor service, this `run` method completes, thereby ending the submitted task.\r\n\r\n```java\r\npackage work.basil.example.async;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Producer implements Runnable\r\n{\r\n    // Member fields.\r\n    private final BlockingQueue &lt; UUID &gt; queue;\r\n\r\n    // Constructor.\r\n    Producer ( BlockingQueue &lt; UUID &gt; q ) { queue = q; }\r\n\r\n    public void run ( )\r\n    {\r\n        System.out.println( &quot;`Producer` object is starting its `run` method. &quot; + Instant.now() );\r\n        try\r\n        {\r\n            while ( true )\r\n            {\r\n                // Sleep, to simulate some lengthy work.\r\n                Duration timeToSleep = Duration.ofMillis( ThreadLocalRandom.current().nextInt( 1_000 , 3_000 ) );\r\n                try { Thread.sleep( timeToSleep ); } catch ( InterruptedException e ) { break; }\r\n                queue.put( produce() );  // Post a new value to our BlockingQueue.\r\n            }\r\n        }\r\n        catch ( InterruptedException e )\r\n        {\r\n            // Could be interrupted by an executor service closing, or other reasons.\r\n            // Simply let this `Runnable` object end its `run` method.\r\n            // No code needed here.\r\n        }\r\n        System.out.println( &quot;`Producer` object is ending its `run` method, after being interrupted. &quot; + Instant.now() );\r\n    }\r\n\r\n    // Logic\r\n    UUID produce ( )\r\n    {\r\n        UUID uuid = UUID.randomUUID();\r\n        System.out.println( &quot;Producing UUID = &quot; + uuid + &quot; at &quot; + Instant.now() );\r\n        return uuid;\r\n    }\r\n}\r\n```\r\n\r\nAnd the consumer class. The `run` method asks for the next available element from the queue. The call blocks until an element becomes available. While waiting, if an interrupt happens such as when the executor service closes, the `run` method completes, thereby ending the submitted task.\r\n\r\n```java\r\npackage work.basil.example.async;\r\n\r\nimport java.time.Instant;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.BlockingQueue;\r\n\r\npublic class Consumer implements Runnable\r\n{\r\n    private final BlockingQueue &lt; UUID &gt; queue;\r\n\r\n    Consumer ( BlockingQueue &lt; UUID &gt; q ) { queue = q; }\r\n\r\n    public void run ( )\r\n    {\r\n        System.out.println( &quot;`Consumer` object is starting its `run` method. &quot; + Instant.now() );\r\n        try\r\n        {\r\n            while ( true ) { consume( queue.take() ); }\r\n        }\r\n        catch ( InterruptedException e )\r\n        {\r\n            // Could be interrupted by an executor service closing, or other reasons.\r\n            // Simply let this `Runnable` object end its `run` method.\r\n            // No code needed here.\r\n        }\r\n        System.out.println( &quot;`Consumer` object is ending its `run` method, after being interrupted. &quot; + Instant.now() );\r\n    }\r\n\r\n    void consume ( UUID uuid )\r\n    {\r\n        System.out.println( &quot;Consuming UUID: &quot; + uuid + &quot; at &quot; + Instant.now() );\r\n    }\r\n}\r\n```\r\n\r\nAnd an app class to demonstrate the queue in action.\r\n\r\nBe aware that you are responsible for gracefully closing your executor service at some point, at least by the end of your app’s execution. Otherwise the backing pool of threads may run indefinitely, like a zombie &#129503;‍♂️.\r\n\r\n```java\r\npackage work.basil.example.async;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.*;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        System.out.println( &quot;INFO - Demo start. &quot; + Instant.now() );\r\n\r\n        BlockingQueue q = new ArrayBlockingQueue( 10 , true );\r\n        Consumer c = new Consumer( q );\r\n        Producer p = new Producer( q );\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool( 2 );\r\n        executorService.submit( c );\r\n        executorService.submit( p );\r\n\r\n        // Let the background threads do their work for a while.\r\n        try { Thread.sleep( Duration.ofSeconds( 8 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        System.out.println( &quot;INFO - Main thread is interrupting tasks run by executor service.&quot; );\r\n        executorService.shutdownNow();\r\n        try\r\n        {\r\n            if ( ! executorService.awaitTermination( 30 , TimeUnit.SECONDS ) )\r\n            {\r\n                System.err.println( &quot;Executor service failed to terminate. &quot; + Instant.now() );\r\n            }\r\n        }\r\n        catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n\r\n        System.out.println( &quot;INFO - Demo end. &quot; + Instant.now() );\r\n    }\r\n}\r\n```\r\n\r\nThis seems to be working. \r\n\r\n```none\r\nINFO - Demo start. 2023-02-28T07:24:03.603169Z\r\n`Consumer` object is starting its `run` method. 2023-02-28T07:24:03.614092Z\r\n`Producer` object is starting its `run` method. 2023-02-28T07:24:03.614092Z\r\nProducing UUID = 5fe7dd8a-9cc1-47b8-93aa-87bc031c2534 at 2023-02-28T07:24:04.855110Z\r\nConsuming UUID: 5fe7dd8a-9cc1-47b8-93aa-87bc031c2534 at 2023-02-28T07:24:04.863520Z\r\nProducing UUID = 97a31391-8c5c-4430-9737-b967a8c63987 at 2023-02-28T07:24:06.678767Z\r\nConsuming UUID: 97a31391-8c5c-4430-9737-b967a8c63987 at 2023-02-28T07:24:06.679680Z\r\nProducing UUID = af485e45-5dd5-4b68-82c8-41e1443c4566 at 2023-02-28T07:24:08.337011Z\r\nConsuming UUID: af485e45-5dd5-4b68-82c8-41e1443c4566 at 2023-02-28T07:24:08.337917Z\r\nProducing UUID = 4853a43c-feb6-41ec-91b0-1520c9f67347 at 2023-02-28T07:24:10.927173Z\r\nConsuming UUID: 4853a43c-feb6-41ec-91b0-1520c9f67347 at 2023-02-28T07:24:10.928794Z\r\nINFO - Main thread is interrupting tasks run by executor service.\r\n`Consumer` object is ending its `run` method, after being interrupted. 2023-02-28T07:24:11.619844Z\r\n`Producer` object is ending its `run` method, after being interrupted. 2023-02-28T07:24:11.619725Z\r\nINFO - Demo end. 2023-02-28T07:24:11.621988Z\r\n```\r\n\r\n\r\n**Caveat:** I am no expert on concurrency matters. Use at your own risk.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75586559/wait-till-i-receive-signal-in-java-multi-thread#comment133354960_75586559\r\n  [2]: https://stackoverflow.com/questions/75586559/wait-till-i-receive-signal-in-java-multi-thread#comment133354990_75586559\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/BlockingQueue.html\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ArrayBlockingQueue.html\r\n  [5]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [6]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/UUID.html","title":"Wait till I receive signal in Java multi thread","body":"<h1><code>BlockingQueue</code></h1>\n<p>I followed the lead provided <a href=\"https://stackoverflow.com/questions/75586559/wait-till-i-receive-signal-in-java-multi-thread#comment133354960_75586559\">by Louis Wasserman</a> and <a href=\"https://stackoverflow.com/questions/75586559/wait-till-i-receive-signal-in-java-multi-thread#comment133354990_75586559\">by markspace</a>, suggesting the use of a queue.</p>\n<p>I went with a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\"><code>BlockingQueue</code></a> which is (a) thread-safe, and (b) can block when adding &amp; removing elements. I started with the example code given on the Javadoc for that interface.</p>\n<p>For an implementation of the <code>BlockingQueue</code> interface, I chose <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ArrayBlockingQueue.html\" rel=\"nofollow noreferrer\"><code>ArrayBlockingQueue</code></a>.</p>\n<p>I created a pair of producer-consumer classes. They produce and consume a randomly-generated <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a> value via the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/UUID.html\" rel=\"nofollow noreferrer\"><code>UUID</code></a> class.</p>\n<p>Here is the producer class. In an endless loop, the <code>run</code> method attempts to add a UUID object to the queue. The attempt to add blocks if the queue is currently busy, continuing when the queue becomes available. If interrupted, such as by the closure of the executor service, this <code>run</code> method completes, thereby ending the submitted task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.async;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.UUID;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Producer implements Runnable\n{\n    // Member fields.\n    private final BlockingQueue &lt; UUID &gt; queue;\n\n    // Constructor.\n    Producer ( BlockingQueue &lt; UUID &gt; q ) { queue = q; }\n\n    public void run ( )\n    {\n        System.out.println( &quot;`Producer` object is starting its `run` method. &quot; + Instant.now() );\n        try\n        {\n            while ( true )\n            {\n                // Sleep, to simulate some lengthy work.\n                Duration timeToSleep = Duration.ofMillis( ThreadLocalRandom.current().nextInt( 1_000 , 3_000 ) );\n                try { Thread.sleep( timeToSleep ); } catch ( InterruptedException e ) { break; }\n                queue.put( produce() );  // Post a new value to our BlockingQueue.\n            }\n        }\n        catch ( InterruptedException e )\n        {\n            // Could be interrupted by an executor service closing, or other reasons.\n            // Simply let this `Runnable` object end its `run` method.\n            // No code needed here.\n        }\n        System.out.println( &quot;`Producer` object is ending its `run` method, after being interrupted. &quot; + Instant.now() );\n    }\n\n    // Logic\n    UUID produce ( )\n    {\n        UUID uuid = UUID.randomUUID();\n        System.out.println( &quot;Producing UUID = &quot; + uuid + &quot; at &quot; + Instant.now() );\n        return uuid;\n    }\n}\n</code></pre>\n<p>And the consumer class. The <code>run</code> method asks for the next available element from the queue. The call blocks until an element becomes available. While waiting, if an interrupt happens such as when the executor service closes, the <code>run</code> method completes, thereby ending the submitted task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.async;\n\nimport java.time.Instant;\nimport java.util.UUID;\nimport java.util.concurrent.BlockingQueue;\n\npublic class Consumer implements Runnable\n{\n    private final BlockingQueue &lt; UUID &gt; queue;\n\n    Consumer ( BlockingQueue &lt; UUID &gt; q ) { queue = q; }\n\n    public void run ( )\n    {\n        System.out.println( &quot;`Consumer` object is starting its `run` method. &quot; + Instant.now() );\n        try\n        {\n            while ( true ) { consume( queue.take() ); }\n        }\n        catch ( InterruptedException e )\n        {\n            // Could be interrupted by an executor service closing, or other reasons.\n            // Simply let this `Runnable` object end its `run` method.\n            // No code needed here.\n        }\n        System.out.println( &quot;`Consumer` object is ending its `run` method, after being interrupted. &quot; + Instant.now() );\n    }\n\n    void consume ( UUID uuid )\n    {\n        System.out.println( &quot;Consuming UUID: &quot; + uuid + &quot; at &quot; + Instant.now() );\n    }\n}\n</code></pre>\n<p>And an app class to demonstrate the queue in action.</p>\n<p>Be aware that you are responsible for gracefully closing your executor service at some point, at least by the end of your app’s execution. Otherwise the backing pool of threads may run indefinitely, like a zombie 🧟‍♂️.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.async;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.*;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        System.out.println( &quot;INFO - Demo start. &quot; + Instant.now() );\n\n        BlockingQueue q = new ArrayBlockingQueue( 10 , true );\n        Consumer c = new Consumer( q );\n        Producer p = new Producer( q );\n\n        ExecutorService executorService = Executors.newFixedThreadPool( 2 );\n        executorService.submit( c );\n        executorService.submit( p );\n\n        // Let the background threads do their work for a while.\n        try { Thread.sleep( Duration.ofSeconds( 8 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        System.out.println( &quot;INFO - Main thread is interrupting tasks run by executor service.&quot; );\n        executorService.shutdownNow();\n        try\n        {\n            if ( ! executorService.awaitTermination( 30 , TimeUnit.SECONDS ) )\n            {\n                System.err.println( &quot;Executor service failed to terminate. &quot; + Instant.now() );\n            }\n        }\n        catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n\n        System.out.println( &quot;INFO - Demo end. &quot; + Instant.now() );\n    }\n}\n</code></pre>\n<p>This seems to be working.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo start. 2023-02-28T07:24:03.603169Z\n`Consumer` object is starting its `run` method. 2023-02-28T07:24:03.614092Z\n`Producer` object is starting its `run` method. 2023-02-28T07:24:03.614092Z\nProducing UUID = 5fe7dd8a-9cc1-47b8-93aa-87bc031c2534 at 2023-02-28T07:24:04.855110Z\nConsuming UUID: 5fe7dd8a-9cc1-47b8-93aa-87bc031c2534 at 2023-02-28T07:24:04.863520Z\nProducing UUID = 97a31391-8c5c-4430-9737-b967a8c63987 at 2023-02-28T07:24:06.678767Z\nConsuming UUID: 97a31391-8c5c-4430-9737-b967a8c63987 at 2023-02-28T07:24:06.679680Z\nProducing UUID = af485e45-5dd5-4b68-82c8-41e1443c4566 at 2023-02-28T07:24:08.337011Z\nConsuming UUID: af485e45-5dd5-4b68-82c8-41e1443c4566 at 2023-02-28T07:24:08.337917Z\nProducing UUID = 4853a43c-feb6-41ec-91b0-1520c9f67347 at 2023-02-28T07:24:10.927173Z\nConsuming UUID: 4853a43c-feb6-41ec-91b0-1520c9f67347 at 2023-02-28T07:24:10.928794Z\nINFO - Main thread is interrupting tasks run by executor service.\n`Consumer` object is ending its `run` method, after being interrupted. 2023-02-28T07:24:11.619844Z\n`Producer` object is ending its `run` method, after being interrupted. 2023-02-28T07:24:11.619725Z\nINFO - Demo end. 2023-02-28T07:24:11.621988Z\n</code></pre>\n<p><strong>Caveat:</strong> I am no expert on concurrency matters. Use at your own risk.</p>\n"},{"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681549670,"creation_date":1681549670,"answer_id":76021315,"question_id":75586559,"body_markdown":"## `BlockingQueue` is the probably the easiest way to implement it\r\n\r\n\r\n\r\n    import java.util.concurrent.*;\r\n\r\n    class SignalReceiver {\r\n        private final BlockingQueue&lt;String&gt; queue = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n        public void receive(String message) {\r\n            queue.offer(message);\r\n        }\r\n \r\n        public String waitTillMessageReceived() throws InterruptedException {\r\n            return queue.take();\r\n        }\r\n    }\r\n","title":"Wait till I receive signal in Java multi thread","body":"<h2><code>BlockingQueue</code> is the probably the easiest way to implement it</h2>\n<pre><code>import java.util.concurrent.*;\n\nclass SignalReceiver {\n    private final BlockingQueue&lt;String&gt; queue = new LinkedBlockingQueue&lt;&gt;();\n\n    public void receive(String message) {\n        queue.offer(message);\n    }\n\n    public String waitTillMessageReceived() throws InterruptedException {\n        return queue.take();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":956792,"reputation":742,"user_id":981953,"accept_rate":68,"display_name":"Tejas jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1681549670,"creation_date":1677540961,"question_id":75586559,"body_markdown":"I have a multi threaded application which receives asynchronous messages. How to wait till message is received (or timeout)?Is there a better way to do this with wait() and notify()? \r\n\r\nI tried to do this with raw thread sleep with atomic references. \r\n\r\n    class SignalReceiver{\r\n        String message;\r\n        Boolean messageReceived; // used AtomicBoolean\r\n\r\n        void receive(String message){\r\n            this.message = message;\r\n            messageReceived = true; // set message flag\r\n        }\r\n\r\n        void waitTillMessageReceived(long timeout){\r\n           if(!messageReceived){ // message could be received before \r\n              while(!messageReceived){\r\n                  Thread.sleep(100);\r\n                  // wait only till timeout\r\n              }\r\n           }\r\n           messageReceived = false; // reset message flag\r\n        }\r\n    }","title":"Wait till I receive signal in Java multi thread","body":"<p>I have a multi threaded application which receives asynchronous messages. How to wait till message is received (or timeout)?Is there a better way to do this with wait() and notify()?</p>\n<p>I tried to do this with raw thread sleep with atomic references.</p>\n<pre><code>class SignalReceiver{\n    String message;\n    Boolean messageReceived; // used AtomicBoolean\n\n    void receive(String message){\n        this.message = message;\n        messageReceived = true; // set message flag\n    }\n\n    void waitTillMessageReceived(long timeout){\n       if(!messageReceived){ // message could be received before \n          while(!messageReceived){\n              Thread.sleep(100);\n              // wait only till timeout\n          }\n       }\n       messageReceived = false; // reset message flag\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":13513450,"reputation":196,"user_id":9748912,"display_name":"Hoang Dinh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681549492,"creation_date":1681549492,"answer_id":76021306,"question_id":74007608,"body_markdown":"You can try this by adding a new Gradle custom task:\r\n\r\n    task startIntegrationApp(type: JavaExec) {\r\n      group = &#39;integration test&#39;\r\n      classpath = sourceSets.test.runtimeClasspath\r\n      mainClass.set(&quot;com.example.demo.test.UnderTest&quot;)\r\n    }\r\n\r\n*If you want the integration app runs parallel with the main Spring Boot app, you must combine 2 tasks as below (Make sure the Integration app runs on a different port with the Main app):*\r\n\r\n    task startIntegrationApp(type: JavaExec) {\r\n      group = &#39;integration test&#39;\r\n      classpath = sourceSets.test.runtimeClasspath\r\n      mainClass.set(&quot;com.example.demo.test.UnderTest&quot;)\r\n    }\r\n\r\n    Process process\r\n    task startIntegrationAppParallel() {\r\n      group = &#39;integration test&#39;\r\n      doLast {\r\n        def builder = new ProcessBuilder(&quot;CMD&quot;, &quot;/C&quot;, &quot;gradlew&quot;, &quot;startIntegrationApp&quot;)\r\n        stubProcess = builder.start()\r\n        stubProcess.waitFor(10, TimeUnit.SECONDS) // Wait for the IntegrationApp to be ready\r\n\r\n        println &quot;Started UnderTest app&quot;\r\n      }\r\n    }","title":"Run Spring Boot Application in Test Folder using Gradle Spring Boot Plugin","body":"<p>You can try this by adding a new Gradle custom task:</p>\n<pre><code>task startIntegrationApp(type: JavaExec) {\n  group = 'integration test'\n  classpath = sourceSets.test.runtimeClasspath\n  mainClass.set(&quot;com.example.demo.test.UnderTest&quot;)\n}\n</code></pre>\n<p><em>If you want the integration app runs parallel with the main Spring Boot app, you must combine 2 tasks as below (Make sure the Integration app runs on a different port with the Main app):</em></p>\n<pre><code>task startIntegrationApp(type: JavaExec) {\n  group = 'integration test'\n  classpath = sourceSets.test.runtimeClasspath\n  mainClass.set(&quot;com.example.demo.test.UnderTest&quot;)\n}\n\nProcess process\ntask startIntegrationAppParallel() {\n  group = 'integration test'\n  doLast {\n    def builder = new ProcessBuilder(&quot;CMD&quot;, &quot;/C&quot;, &quot;gradlew&quot;, &quot;startIntegrationApp&quot;)\n    stubProcess = builder.start()\n    stubProcess.waitFor(10, TimeUnit.SECONDS) // Wait for the IntegrationApp to be ready\n\n    println &quot;Started UnderTest app&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681549492,"creation_date":1665341666,"question_id":74007608,"body_markdown":"I&#39;ve got a simple Spring Boot application. When I run `gradle bootRun` it runs the application (presumably finds the main class and runs it). I also know how to configure the `bootRun` task with an explicit `mainClass`:\r\n```kotlin\r\ntasks.getByName&lt;BootRun&gt;(&quot;bootRun&quot;) {\r\n    mainClass.set(&quot;com.example.demo.Application&quot;)\r\n}\r\n```\r\nNow, one more simple extra requirement; how can I run a Spring Boot application for which the main class is in the test folder? The best that I could come up with is:\r\n```kotlin\r\ntasks.getByName&lt;BootRun&gt;(&quot;bootRun&quot;) {\r\n    mainClass.set(&quot;com.example.demo.test.UnderTest&quot;)\r\n    doFirst {\r\n        classpath += java.sourceSets[&quot;test&quot;].runtimeClasspath\r\n    }\r\n}\r\n```\r\nBut it doesn&#39;t feel right to me. What is the correct way to add the `test` source sets stuff to the classpath?\r\nI also tried to copy the implementation of `bootRun` (in `org.springframework.boot.gradle.plugin.JavaPluginAction#configureBootRunTask`) but couldn&#39;t get it working.\r\n\r\nA bit more context: The Spring Boot application in `test` folder is kinda the main application but configured to be the subject of integration tests.\r\nPlease note, I&#39;m aware of `SpringBootTest` and features of Spring Test. I&#39;m looking for a different approach for a specific requirement: Keep the Spring application running while executing *one single* test using Gradle&#39;s continues build feature in which Spring test context caching doesn&#39;t makes sense. &#128591;","title":"Run Spring Boot Application in Test Folder using Gradle Spring Boot Plugin","body":"<p>I've got a simple Spring Boot application. When I run <code>gradle bootRun</code> it runs the application (presumably finds the main class and runs it). I also know how to configure the <code>bootRun</code> task with an explicit <code>mainClass</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.getByName&lt;BootRun&gt;(&quot;bootRun&quot;) {\n    mainClass.set(&quot;com.example.demo.Application&quot;)\n}\n</code></pre>\n<p>Now, one more simple extra requirement; how can I run a Spring Boot application for which the main class is in the test folder? The best that I could come up with is:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.getByName&lt;BootRun&gt;(&quot;bootRun&quot;) {\n    mainClass.set(&quot;com.example.demo.test.UnderTest&quot;)\n    doFirst {\n        classpath += java.sourceSets[&quot;test&quot;].runtimeClasspath\n    }\n}\n</code></pre>\n<p>But it doesn't feel right to me. What is the correct way to add the <code>test</code> source sets stuff to the classpath?\nI also tried to copy the implementation of <code>bootRun</code> (in <code>org.springframework.boot.gradle.plugin.JavaPluginAction#configureBootRunTask</code>) but couldn't get it working.</p>\n<p>A bit more context: The Spring Boot application in <code>test</code> folder is kinda the main application but configured to be the subject of integration tests.\nPlease note, I'm aware of <code>SpringBootTest</code> and features of Spring Test. I'm looking for a different approach for a specific requirement: Keep the Spring application running while executing <em>one single</em> test using Gradle's continues build feature in which Spring test context caching doesn't makes sense. 🙏</p>\n"},{"tags":["java","spring","spring-boot","rest","microservices"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1680590275,"post_id":75925377,"comment_id":133919411,"body_markdown":"Title is vague. Rewrite to summarize your specific technical issue.","body":"Title is vague. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":6,"creation_date":1680591250,"post_id":75925377,"comment_id":133919607,"body_markdown":"You are not ready for microservices. With that limitations, I suggest to still use monolithic but implement it in modules so that it is somehow compartmentalized i.e. you know where to update when there is enhancement required. Make it as intuitive as possible.\n\nDo not follow microservice just because it is the latest trend.","body":"You are not ready for microservices. With that limitations, I suggest to still use monolithic but implement it in modules so that it is somehow compartmentalized i.e. you know where to update when there is enhancement required. Make it as intuitive as possible.  Do not follow microservice just because it is the latest trend."},{"owner":{"account_id":5253184,"reputation":532,"user_id":4196759,"display_name":"Anthony G."},"score":3,"creation_date":1680619584,"post_id":75925377,"comment_id":133926725,"body_markdown":"Implementing micro services comes with complexity. Having a single database (point of failure) negates any perceived API benefits. Having to manage databases, multiple API&#39;s, authorization between everything, not to mention ops and deployments isn&#39;t free. If you are doing micro services because you were told to, and not because of a current business need it is not going to solve any problems but introduce more headaches. It is not a silver bullet, it solves scaling, availability and sometimes dev headaches with large teams all trampling in the same repo.","body":"Implementing micro services comes with complexity. Having a single database (point of failure) negates any perceived API benefits. Having to manage databases, multiple API&#39;s, authorization between everything, not to mention ops and deployments isn&#39;t free. If you are doing micro services because you were told to, and not because of a current business need it is not going to solve any problems but introduce more headaches. It is not a silver bullet, it solves scaling, availability and sometimes dev headaches with large teams all trampling in the same repo."},{"owner":{"account_id":14353975,"reputation":1297,"user_id":10368507,"display_name":"Priyak Dey"},"score":3,"creation_date":1680961607,"post_id":75925377,"comment_id":133984415,"body_markdown":"Seems like senior managers who just care about the buzz word and showcasing working for the sake of it designed this. Common Service is usually a LB or maybe a cross cutting auth server/authorization service using some other auth service, something like that. Why have a service called Common Service create the record and then go to some domain specific service to update the record. What happens if the call fails in MGMt service ? How do you rollback the record ? Does look microservice design for calling it a microservice and cloud ready application !","body":"Seems like senior managers who just care about the buzz word and showcasing working for the sake of it designed this. Common Service is usually a LB or maybe a cross cutting auth server/authorization service using some other auth service, something like that. Why have a service called Common Service create the record and then go to some domain specific service to update the record. What happens if the call fails in MGMt service ? How do you rollback the record ? Does look microservice design for calling it a microservice and cloud ready application !"},{"owner":{"account_id":14353975,"reputation":1297,"user_id":10368507,"display_name":"Priyak Dey"},"score":2,"creation_date":1680961884,"post_id":75925377,"comment_id":133984461,"body_markdown":"Also, I am not against a single DB pattern - everything has its own pros and cons - it&#39;s a trade-off and sometimes policies ! If I were to design this - just for the sake of moving to &quot;cloud native architecture&quot; acc to company policy - I would have 3 domain services - mgmt/hr/sales , one LB, one discovery service maybe, and a single DB. If the whole point of Common Service is to share models across without duplicate code - I would write a shared lib to make others happy (personally disagree that this is way - sometimes DRY is not the asnwer)! A simple design and your seniors happy !","body":"Also, I am not against a single DB pattern - everything has its own pros and cons - it&#39;s a trade-off and sometimes policies ! If I were to design this - just for the sake of moving to &quot;cloud native architecture&quot; acc to company policy - I would have 3 domain services - mgmt/hr/sales , one LB, one discovery service maybe, and a single DB. If the whole point of Common Service is to share models across without duplicate code - I would write a shared lib to make others happy (personally disagree that this is way - sometimes DRY is not the asnwer)! A simple design and your seniors happy !"},{"owner":{"account_id":14353975,"reputation":1297,"user_id":10368507,"display_name":"Priyak Dey"},"score":1,"creation_date":1680962025,"post_id":75925377,"comment_id":133984481,"body_markdown":"Also, there is no need to DB Service layer (assume this is a separate service) - again don&#39;t want duplicate code, create a lib to abstract the data jpa/hib things with your own interface, and use that - but if you see carefully you still are duplicating stuff even after shared libs !! So this is probably satisfying your managers if that is what is required. if not, 3 services, 1 DB, 1 LB(entrypoint), 1 discovery service and probably a common service for authorization/auth abstraction.","body":"Also, there is no need to DB Service layer (assume this is a separate service) - again don&#39;t want duplicate code, create a lib to abstract the data jpa/hib things with your own interface, and use that - but if you see carefully you still are duplicating stuff even after shared libs !! So this is probably satisfying your managers if that is what is required. if not, 3 services, 1 DB, 1 LB(entrypoint), 1 discovery service and probably a common service for authorization/auth abstraction."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1681014089,"post_id":75925377,"comment_id":133989849,"body_markdown":"You are asking eight questions within your post. That is a  red flag that your question lacks focus. Also, your question is inviting opinions, and not really on topic for SO. See [What topics can I ask about here?](https://stackoverflow.com/help/on-topic) for clarification. Consider posting  on [Software Engineering](https://softwareengineering.stackexchange.com/) instead, ensuring that you [meet their guidelines](https://softwareengineering.stackexchange.com/tour).","body":"You are asking eight questions within your post. That is a  red flag that your question lacks focus. Also, your question is inviting opinions, and not really on topic for SO. See <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> for clarification. Consider posting  on <a href=\"https://softwareengineering.stackexchange.com/\">Software Engineering</a> instead, ensuring that you <a href=\"https://softwareengineering.stackexchange.com/tour\">meet their guidelines</a>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1683300907,"post_id":75925377,"comment_id":134350831,"body_markdown":"@Shrutisharma Do not tell people not to downvote. There is nothing wrong with downvoting poor questions, and your question does not follow SO guidelines in several respects. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) for advice on improving your question. And you are still asking eight questions within your post. That means that your question lacks focus.","body":"@Shrutisharma Do not tell people not to downvote. There is nothing wrong with downvoting poor questions, and your question does not follow SO guidelines in several respects. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> for advice on improving your question. And you are still asking eight questions within your post. That means that your question lacks focus."}],"answers":[{"tags":[],"owner":{"account_id":4542495,"reputation":724,"user_id":3689942,"accept_rate":20,"display_name":"Payal Bansal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680589958,"creation_date":1680589958,"answer_id":75926144,"question_id":75925377,"body_markdown":"Calling dbservice via rest api, won&#39;t it be like tight coupling and add latency? Can we not do this operation using messaging api? Such that even if dbservice goes down, message can still be processed, once it&#39;s up.\r\n","title":"Design problem in Microservice architecture","body":"<p>Calling dbservice via rest api, won't it be like tight coupling and add latency? Can we not do this operation using messaging api? Such that even if dbservice goes down, message can still be processed, once it's up.</p>\n"},{"tags":[],"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1681013006,"creation_date":1681013006,"answer_id":75968723,"question_id":75925377,"body_markdown":"Introducing a DBservice as an intermediary between microservices and the database can follow microservice principles. \r\nHowever, there are aspects to consider.\r\n\r\n Private table per service or schema as a service can both work, depending on specific needs. Coordination between services is necessary to avoid conflicts and ensure data consistency.\r\n Using a single database for multiple microservices can cause performance issues.\r\n Database-per-service approach can improve scalability, isolation, and data consistency.\r\n Introducing a DBservice can affect performance due to additional network hops. Caching or optimizing database queries can reduce latency. A load balancer or replicated database cluster can ensure high availability. \r\nRedesigning microservices architecture can improve scalability, and data consistency, and reduce contention. \r\n\r\nEvent-driven architectures and asynchronous messaging can decouple microservices and improve scalability and fault tolerance.\r\n Containerization and orchestration technologies can simplify the deployment and management of microservices.\r\n\r\nActually considering your scenario specifically, I can think of two other possible solutions for you:\r\n\r\n\r\n1. Either create Common service as a jar  and import it into your Management, Sales, and HR service and use it from there only\r\n\r\n2. Normalization of a table in such a way that Common Service and Management Service etc work on different tables. I am just thinking to divide a table into two parts","title":"Design problem in Microservice architecture","body":"<p>Introducing a DBservice as an intermediary between microservices and the database can follow microservice principles.\nHowever, there are aspects to consider.</p>\n<p>Private table per service or schema as a service can both work, depending on specific needs. Coordination between services is necessary to avoid conflicts and ensure data consistency.\nUsing a single database for multiple microservices can cause performance issues.\nDatabase-per-service approach can improve scalability, isolation, and data consistency.\nIntroducing a DBservice can affect performance due to additional network hops. Caching or optimizing database queries can reduce latency. A load balancer or replicated database cluster can ensure high availability.\nRedesigning microservices architecture can improve scalability, and data consistency, and reduce contention.</p>\n<p>Event-driven architectures and asynchronous messaging can decouple microservices and improve scalability and fault tolerance.\nContainerization and orchestration technologies can simplify the deployment and management of microservices.</p>\n<p>Actually considering your scenario specifically, I can think of two other possible solutions for you:</p>\n<ol>\n<li><p>Either create Common service as a jar  and import it into your Management, Sales, and HR service and use it from there only</p>\n</li>\n<li><p>Normalization of a table in such a way that Common Service and Management Service etc work on different tables. I am just thinking to divide a table into two parts</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6853432,"reputation":29,"user_id":5269864,"display_name":"Kaustubh Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681137611,"creation_date":1681137519,"answer_id":75978038,"question_id":75925377,"body_markdown":"So below are the points to keep in mind.\r\n\r\n - First, decide how are you segregating your functionalities into services.\r\n - You can segregate based on domain, e.g. customer service, product service etc. Each of this service would have it&#39;s own db, and whenever another service needs to deal with anything in this DB, it will go through this microservice.\r\n - You can then build usecase specific services on top of the domain specific services.\r\n - It is really difficult to justify microservice architecture with your DB as a single point of failure.\r\n\r\nPlease refer to this website for more detailed information on microservices. Since you seem to be just getting started, this is a good starting point.\r\nhttps://microservices.io/\r\n\r\n","title":"Design problem in Microservice architecture","body":"<p>So below are the points to keep in mind.</p>\n<ul>\n<li>First, decide how are you segregating your functionalities into services.</li>\n<li>You can segregate based on domain, e.g. customer service, product service etc. Each of this service would have it's own db, and whenever another service needs to deal with anything in this DB, it will go through this microservice.</li>\n<li>You can then build usecase specific services on top of the domain specific services.</li>\n<li>It is really difficult to justify microservice architecture with your DB as a single point of failure.</li>\n</ul>\n<p>Please refer to this website for more detailed information on microservices. Since you seem to be just getting started, this is a good starting point.\n<a href=\"https://microservices.io/\" rel=\"nofollow noreferrer\">https://microservices.io/</a></p>\n"},{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681298602,"creation_date":1681298602,"answer_id":75994894,"question_id":75925377,"body_markdown":"The solution to your problem is not simple and straightforward, because there are many parameters involved while breaking a service into microservices. From what I see, you are having multiple services which are communicating with each other frequently but still are having different code bases and on top of that they do access the same database (I am assuming the same schema when you say the same database). Now when you say that you can not do it from scratch then there are very few possible solutions to this problem\r\n\r\n 1. Instead of updating and hitting the DB every time for the calls in the initial service, why don&#39;t you just pass the information to downstream services and let that service do the update if possible (this is still not an ideal solution but it reduces the latency by reducing one DB call)\r\n```\r\nCommon--&gt;Pass-Data--Management--&gt;DB(Common_MGMT)\r\nCommon--&gt;Pass-Data--Sales--&gt;DB(Common_Sales)\r\nCommon--&gt;Pass-Data--HR--&gt;DB\r\n```\r\n 2. Do the reverse, instead of landing your API call in Common, why don&#39;t you land your API calls in actual services first and then inject Common as a dependency in your services and let that part process other data? (this is still not from scratch but I believe will need considerable amount of work, but still better solution than 1).","title":"Design problem in Microservice architecture","body":"<p>The solution to your problem is not simple and straightforward, because there are many parameters involved while breaking a service into microservices. From what I see, you are having multiple services which are communicating with each other frequently but still are having different code bases and on top of that they do access the same database (I am assuming the same schema when you say the same database). Now when you say that you can not do it from scratch then there are very few possible solutions to this problem</p>\n<ol>\n<li>Instead of updating and hitting the DB every time for the calls in the initial service, why don't you just pass the information to downstream services and let that service do the update if possible (this is still not an ideal solution but it reduces the latency by reducing one DB call)</li>\n</ol>\n<pre><code>Common--&gt;Pass-Data--Management--&gt;DB(Common_MGMT)\nCommon--&gt;Pass-Data--Sales--&gt;DB(Common_Sales)\nCommon--&gt;Pass-Data--HR--&gt;DB\n</code></pre>\n<ol start=\"2\">\n<li>Do the reverse, instead of landing your API call in Common, why don't you land your API calls in actual services first and then inject Common as a dependency in your services and let that part process other data? (this is still not from scratch but I believe will need considerable amount of work, but still better solution than 1).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681548746,"creation_date":1681547384,"answer_id":76021149,"question_id":75925377,"body_markdown":"One way to approach it would be to split the monolith in terms of functional modules with an interface and implementation and then move those modules into standalone services. \r\n\r\nThe idea is that if one functional module changes, others don&#39;t have to be validated as rigorously.\r\n\r\nUpdate#1 -\r\n\r\n 1. If you want to improve your understanding try this link - https://microservices.io/\r\n 2. I have answered in a generic way (was trying to get within the bounty window but now it looks like there is a 1 day grace!). Never the less believe they still hold. \r\n\r\n    If you have a single database and that is your primary concern (which makes sense) then backups are your only friend. So you can first think of a replication db before you start thinking about monolith vs microservices. It would be no fun to tell your customers you lost their data because the db server crashed. \r\n\r\n    Additionally to improve speed, using RDBMS you can consider sharding concepts (where rows are distributed across multiple servers) in addition to replication. You should ideally be able to manage this within the scope of your definition of &#39;redesign-from-scratch&#39; limitation.","title":"Design problem in Microservice architecture","body":"<p>One way to approach it would be to split the monolith in terms of functional modules with an interface and implementation and then move those modules into standalone services.</p>\n<p>The idea is that if one functional module changes, others don't have to be validated as rigorously.</p>\n<p>Update#1 -</p>\n<ol>\n<li><p>If you want to improve your understanding try this link - <a href=\"https://microservices.io/\" rel=\"nofollow noreferrer\">https://microservices.io/</a></p>\n</li>\n<li><p>I have answered in a generic way (was trying to get within the bounty window but now it looks like there is a 1 day grace!). Never the less believe they still hold.</p>\n<p>If you have a single database and that is your primary concern (which makes sense) then backups are your only friend. So you can first think of a replication db before you start thinking about monolith vs microservices. It would be no fun to tell your customers you lost their data because the db server crashed.</p>\n<p>Additionally to improve speed, using RDBMS you can consider sharding concepts (where rows are distributed across multiple servers) in addition to replication. You should ideally be able to manage this within the scope of your definition of 'redesign-from-scratch' limitation.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26983848,"reputation":33,"user_id":20547817,"display_name":"Rashmi Sharma"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":5,"score":-3,"last_activity_date":1681548746,"creation_date":1680580183,"question_id":75925377,"body_markdown":"In my company we are using `microservices` but till now we were not following `microservice principles`. so in architect review we have been told to replace the same.\r\n\r\nWe have one service called `CommonService`,so any request comes by client hits this service. This request hits the `database` and create the record and then forward the request to `ManagementService`. Management Service access the same DB and table and update the record created by `CommonService`.(Here Common and Management Both API hitting the same table in database.)\r\nsame we have for other 2 services.\r\n\r\n    Common--&gt;DB(Common_MGMT)--Management--&gt;DB(Common_MGMT)\r\n    Common--&gt;DB(Common_Sales)--Sales--&gt;DB(Common_Sales)\r\n    Common--&gt;DB--HR--&gt;DB \r\n\r\nSo `Common_MGMT` table hit by first 2 service, `Common_Sales` table hit by Common and Sales API ,same for third.\r\nA particular customer will access only one service where it is `Management` , `Sales` or `HR` but he will come through `commonservice`.\r\n[![enter image description here][1]][1]\r\n\r\nNow We have to follow microservice principle and due to management reasons we can not follow `Database as a service` and also we don&#39;t have option to redesign from scratch.\r\n\r\nSo we have thought to introduce one  `DBservice` which will hit the `database`,so that it is like when new request will come to `Commonservice` then it will access `DBservice` through `REST` and `DB service` will create record in `database`. Then `Management` Service will access `DBservice` and `DBService` will update the same record in `database`. likewise for `sales service` and `HR service`.\r\n\r\n\r\nNow still I am using same `table` in Database but this time only `DBservice` accessing. AM I following the microservice principle here? \r\n\r\n1. Here which approach will be better `Private table per service` or `Schema as a service`? or both will work and I can use either of them?\r\n\r\n2. There will be huge `latency` in this approach, can the solution be improved?\r\n3. If `DBService` will fail then it will be single point of failure? can we do something other than creating multiple instances?\r\n\r\nOverall can you suggest the solution for original problem? Is the solution we are proposing correct or is there better option?\r\n\r\nAny other suggestion most welcome.\r\n\r\n[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/agu6w.png\r\n  [2]: https://i.stack.imgur.com/aQL70.png","title":"Design problem in Microservice architecture","body":"<p>In my company we are using <code>microservices</code> but till now we were not following <code>microservice principles</code>. so in architect review we have been told to replace the same.</p>\n<p>We have one service called <code>CommonService</code>,so any request comes by client hits this service. This request hits the <code>database</code> and create the record and then forward the request to <code>ManagementService</code>. Management Service access the same DB and table and update the record created by <code>CommonService</code>.(Here Common and Management Both API hitting the same table in database.)\nsame we have for other 2 services.</p>\n<pre><code>Common--&gt;DB(Common_MGMT)--Management--&gt;DB(Common_MGMT)\nCommon--&gt;DB(Common_Sales)--Sales--&gt;DB(Common_Sales)\nCommon--&gt;DB--HR--&gt;DB \n</code></pre>\n<p>So <code>Common_MGMT</code> table hit by first 2 service, <code>Common_Sales</code> table hit by Common and Sales API ,same for third.\nA particular customer will access only one service where it is <code>Management</code> , <code>Sales</code> or <code>HR</code> but he will come through <code>commonservice</code>.\n<a href=\"https://i.stack.imgur.com/agu6w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/agu6w.png\" alt=\"enter image description here\" /></a></p>\n<p>Now We have to follow microservice principle and due to management reasons we can not follow <code>Database as a service</code> and also we don't have option to redesign from scratch.</p>\n<p>So we have thought to introduce one  <code>DBservice</code> which will hit the <code>database</code>,so that it is like when new request will come to <code>Commonservice</code> then it will access <code>DBservice</code> through <code>REST</code> and <code>DB service</code> will create record in <code>database</code>. Then <code>Management</code> Service will access <code>DBservice</code> and <code>DBService</code> will update the same record in <code>database</code>. likewise for <code>sales service</code> and <code>HR service</code>.</p>\n<p>Now still I am using same <code>table</code> in Database but this time only <code>DBservice</code> accessing. AM I following the microservice principle here?</p>\n<ol>\n<li><p>Here which approach will be better <code>Private table per service</code> or <code>Schema as a service</code>? or both will work and I can use either of them?</p>\n</li>\n<li><p>There will be huge <code>latency</code> in this approach, can the solution be improved?</p>\n</li>\n<li><p>If <code>DBService</code> will fail then it will be single point of failure? can we do something other than creating multiple instances?</p>\n</li>\n</ol>\n<p>Overall can you suggest the solution for original problem? Is the solution we are proposing correct or is there better option?</p>\n<p>Any other suggestion most welcome.</p>\n<p><a href=\"https://i.stack.imgur.com/aQL70.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aQL70.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19955535,"reputation":1594,"user_id":14624235,"display_name":"Vlad L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1622806867,"creation_date":1622806867,"answer_id":67836609,"question_id":67836354,"body_markdown":"Try input array {5} or {5, 5} for instance","title":"foobar.withgoogle.com task Please Pass the Coded Messages java","body":"<p>Try input array {5} or {5, 5} for instance</p>\n"}],"owner":{"account_id":12531802,"reputation":13,"user_id":9119824,"display_name":"Nika Kvantaliani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67836609,"answer_count":1,"score":0,"last_activity_date":1681548742,"creation_date":1622805709,"question_id":67836354,"body_markdown":"I&#39;m working on foobar.withgoogle task &quot;Please Pass the Coded Messages&quot;, I got correct calculations on my computer for every possible number, but foobar prints &quot;Test 5 failed [Hidden]&quot; what means this Hidden test? could you please help me?\r\n\r\nmy result:\r\n\r\nVerifying solution...\r\n\r\nTest 1 passed!\r\n\r\nTest 2 passed!\r\n\r\nTest 3 passed! [Hidden]\r\n\r\nTest 4 passed! [Hidden]\r\n\r\nTest 5 failed  [Hidden]\r\n\r\nPlease Pass the Coded Messages\r\n==============================\r\n\r\nYou need to pass a message to the bunny workers, but to avoid detection, the code you agreed to use is... obscure, to say the least. The bunnies are given food on standard-issue plates that are stamped with the numbers 0-9 for easier sorting, and you need to combine sets of plates to create the numbers in the code. The signal that a number is part of the code is that it is divisible by 3. You can do smaller numbers like 15 and 45 easily, but bigger numbers like 144 and 414 are a little trickier. Write a program to help yourself quickly create large numbers for use in the code, given a limited number of plates to work with.\r\n\r\nYou have L, a list containing some digits (0 to 9). Write a function solution(L) which finds the largest number that can be made from some or all of these digits and is divisible by 3. If it is not possible to make such a number, return 0 as the solution. L will contain anywhere from 1 to 9 digits.  The same digit may appear multiple times in the list, but each element in the list may only be used once.\r\n\r\nLanguages\r\n=========\r\n\r\nTo provide a Java solution, edit Solution.java\r\nTo provide a Python solution, edit solution.py\r\n\r\nTest cases\r\n==========\r\nYour code should pass the following test cases.\r\nNote that it may also be run against hidden test cases not shown here.\r\n\r\n-- Java cases --\r\nInput:\r\nSolution.solution({3, 1, 4, 1})\r\nOutput:\r\n    4311\r\n\r\nInput:\r\nSolution.solution({3, 1, 4, 1, 5, 9})\r\nOutput:\r\n    94311\r\n\r\n-- Python cases --\r\nInput:\r\nsolution.solution([3, 1, 4, 1])\r\nOutput:\r\n    4311\r\n\r\nInput:\r\nsolution.solution([3, 1, 4, 1, 5, 9])\r\nOutput:\r\n    94311\r\n\r\nUse verify [file] to test your solution and see how it does. When you are finished editing your code, use submit [file] to submit your answer. If your solution passes the test cases, it will be removed from your home folder.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Queue;\r\n    \r\n    public class Solution {\r\n       public static int solution(int[] l) {\r\n            List&lt;Integer&gt; initList = new ArrayList&lt;&gt;();\r\n            List&lt;Integer&gt; resList = new ArrayList&lt;&gt;();\r\n    \r\n            Queue&lt;Integer&gt; rem0queue = new LinkedList&lt;&gt;();\r\n            Queue&lt;Integer&gt; rem1queue = new LinkedList&lt;&gt;();\r\n            Queue&lt;Integer&gt; rem2queue = new LinkedList&lt;&gt;();\r\n    \r\n            StringBuilder sbResult = new StringBuilder();\r\n            int result = 0, sum = 0, rem;\r\n    \r\n            for(int x: l){\r\n                if(x &lt; 0) return result;\r\n                initList.add(x);\r\n            }\r\n    \r\n            Collections.sort(initList);\r\n            //System.out.println(initList);\r\n    \r\n            for(int y: initList) {\r\n                sum += y;\r\n                if((y % 3) == 0) rem0queue.add(y);\r\n                else if((y % 3) == 1) rem1queue.add(y);\r\n                else rem2queue.add(y);\r\n            }\r\n    \r\n            if(sum == 0) return result;\r\n            rem = sum % 3;\r\n    \r\n    \r\n    \r\n            switch (rem) {\r\n                case 0:\r\n                    resList.addAll(rem0queue);\r\n                    resList.addAll(rem1queue);\r\n                    resList.addAll(rem2queue);\r\n                    resList.sort(Collections.reverseOrder());\r\n    \r\n                    for(int x: resList) sbResult.append(x);\r\n                    result = Integer.parseInt(sbResult.toString());\r\n                    break;\r\n    \r\n                case 1:\r\n                    if(!rem1queue.isEmpty()) rem1queue.remove();\r\n                    else {\r\n                        if(!rem2queue.isEmpty()) rem2queue.remove();\r\n                        if(!rem2queue.isEmpty()) rem2queue.remove();\r\n                    }\r\n                    resList.addAll(rem1queue);\r\n                    resList.addAll(rem2queue);\r\n                    resList.addAll(rem0queue);\r\n                    resList.sort(Collections.reverseOrder());\r\n    \r\n                    for(int x: resList) sbResult.append(x);\r\n                    //if((Integer.parseInt(sbResult.toString())) % 3 != 0) return result;\r\n                    result = Integer.parseInt(sbResult.toString());\r\n                    break;\r\n    \r\n                case 2:\r\n                    if(!rem2queue.isEmpty()) rem2queue.remove();\r\n                    else {\r\n                        if(!rem1queue.isEmpty()) rem1queue.remove();\r\n                        if(!rem1queue.isEmpty()) rem1queue.remove();\r\n                    }\r\n                    resList.addAll(rem2queue);\r\n                    resList.addAll(rem1queue);\r\n                    resList.addAll(rem0queue);\r\n                    resList.sort(Collections.reverseOrder());\r\n    \r\n                    for(int x: resList) sbResult.append(x);\r\n                    //if((Integer.parseInt(sbResult.toString())) % 3 != 0) return result;\r\n                    result = Integer.parseInt(sbResult.toString());\r\n                    break;\r\n            }\r\n    \r\n    \r\n            //System.out.println(&quot;Sum of digits &quot; + sum + &quot;\\n&quot; + &quot;Rem num &quot; + rem + &quot;\\n&quot;+ &quot;Result num &quot; + sbResult);\r\n    \r\n            return result;\r\n        }\r\n    }\r\n        \r\n\r\n","title":"foobar.withgoogle.com task Please Pass the Coded Messages java","body":"<p>I'm working on foobar.withgoogle task &quot;Please Pass the Coded Messages&quot;, I got correct calculations on my computer for every possible number, but foobar prints &quot;Test 5 failed [Hidden]&quot; what means this Hidden test? could you please help me?</p>\n<p>my result:</p>\n<p>Verifying solution...</p>\n<p>Test 1 passed!</p>\n<p>Test 2 passed!</p>\n<p>Test 3 passed! [Hidden]</p>\n<p>Test 4 passed! [Hidden]</p>\n<p>Test 5 failed  [Hidden]</p>\n<h1>Please Pass the Coded Messages</h1>\n<p>You need to pass a message to the bunny workers, but to avoid detection, the code you agreed to use is... obscure, to say the least. The bunnies are given food on standard-issue plates that are stamped with the numbers 0-9 for easier sorting, and you need to combine sets of plates to create the numbers in the code. The signal that a number is part of the code is that it is divisible by 3. You can do smaller numbers like 15 and 45 easily, but bigger numbers like 144 and 414 are a little trickier. Write a program to help yourself quickly create large numbers for use in the code, given a limited number of plates to work with.</p>\n<p>You have L, a list containing some digits (0 to 9). Write a function solution(L) which finds the largest number that can be made from some or all of these digits and is divisible by 3. If it is not possible to make such a number, return 0 as the solution. L will contain anywhere from 1 to 9 digits.  The same digit may appear multiple times in the list, but each element in the list may only be used once.</p>\n<h1>Languages</h1>\n<p>To provide a Java solution, edit Solution.java\nTo provide a Python solution, edit solution.py</p>\n<h1>Test cases</h1>\n<p>Your code should pass the following test cases.\nNote that it may also be run against hidden test cases not shown here.</p>\n<p>-- Java cases --\nInput:\nSolution.solution({3, 1, 4, 1})\nOutput:\n4311</p>\n<p>Input:\nSolution.solution({3, 1, 4, 1, 5, 9})\nOutput:\n94311</p>\n<p>-- Python cases --\nInput:\nsolution.solution([3, 1, 4, 1])\nOutput:\n4311</p>\n<p>Input:\nsolution.solution([3, 1, 4, 1, 5, 9])\nOutput:\n94311</p>\n<p>Use verify [file] to test your solution and see how it does. When you are finished editing your code, use submit [file] to submit your answer. If your solution passes the test cases, it will be removed from your home folder.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Queue;\n\npublic class Solution {\n   public static int solution(int[] l) {\n        List&lt;Integer&gt; initList = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; resList = new ArrayList&lt;&gt;();\n\n        Queue&lt;Integer&gt; rem0queue = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; rem1queue = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; rem2queue = new LinkedList&lt;&gt;();\n\n        StringBuilder sbResult = new StringBuilder();\n        int result = 0, sum = 0, rem;\n\n        for(int x: l){\n            if(x &lt; 0) return result;\n            initList.add(x);\n        }\n\n        Collections.sort(initList);\n        //System.out.println(initList);\n\n        for(int y: initList) {\n            sum += y;\n            if((y % 3) == 0) rem0queue.add(y);\n            else if((y % 3) == 1) rem1queue.add(y);\n            else rem2queue.add(y);\n        }\n\n        if(sum == 0) return result;\n        rem = sum % 3;\n\n\n\n        switch (rem) {\n            case 0:\n                resList.addAll(rem0queue);\n                resList.addAll(rem1queue);\n                resList.addAll(rem2queue);\n                resList.sort(Collections.reverseOrder());\n\n                for(int x: resList) sbResult.append(x);\n                result = Integer.parseInt(sbResult.toString());\n                break;\n\n            case 1:\n                if(!rem1queue.isEmpty()) rem1queue.remove();\n                else {\n                    if(!rem2queue.isEmpty()) rem2queue.remove();\n                    if(!rem2queue.isEmpty()) rem2queue.remove();\n                }\n                resList.addAll(rem1queue);\n                resList.addAll(rem2queue);\n                resList.addAll(rem0queue);\n                resList.sort(Collections.reverseOrder());\n\n                for(int x: resList) sbResult.append(x);\n                //if((Integer.parseInt(sbResult.toString())) % 3 != 0) return result;\n                result = Integer.parseInt(sbResult.toString());\n                break;\n\n            case 2:\n                if(!rem2queue.isEmpty()) rem2queue.remove();\n                else {\n                    if(!rem1queue.isEmpty()) rem1queue.remove();\n                    if(!rem1queue.isEmpty()) rem1queue.remove();\n                }\n                resList.addAll(rem2queue);\n                resList.addAll(rem1queue);\n                resList.addAll(rem0queue);\n                resList.sort(Collections.reverseOrder());\n\n                for(int x: resList) sbResult.append(x);\n                //if((Integer.parseInt(sbResult.toString())) % 3 != 0) return result;\n                result = Integer.parseInt(sbResult.toString());\n                break;\n        }\n\n\n        //System.out.println(&quot;Sum of digits &quot; + sum + &quot;\\n&quot; + &quot;Rem num &quot; + rem + &quot;\\n&quot;+ &quot;Result num &quot; + sbResult);\n\n        return result;\n    }\n}\n    \n</code></pre>\n"},{"tags":["java","unit-testing","mockito","dependencies"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1681535618,"post_id":76020415,"comment_id":134075677,"body_markdown":"What are you trying to test, exactly? Also, note this is a good argument for dependency injection (which is just a fancy way to say give the constructors parameters, or create constructor overloads with the parameters, so that you can pass &quot;mock&quot; objects at test time but &quot;real&quot; objects in deployment).","body":"What are you trying to test, exactly? Also, note this is a good argument for dependency injection (which is just a fancy way to say give the constructors parameters, or create constructor overloads with the parameters, so that you can pass &quot;mock&quot; objects at test time but &quot;real&quot; objects in deployment)."},{"owner":{"account_id":25451734,"reputation":23,"user_id":19253008,"display_name":"Yihan Duan"},"score":0,"creation_date":1681543777,"post_id":76020415,"comment_id":134076315,"body_markdown":"@Slaw `A` is actually a `Messagehandler`, which is used to execute messages from kafka. `D` is `LocalJsonContractDescriptionProvider` for loading blockchain contract description file `contract.json`. I want to test my `A` methods work as expected.\n\nFor constructor, `A` does not have a constructor to pass `D` into `A`.","body":"@Slaw <code>A</code> is actually a <code>Messagehandler</code>, which is used to execute messages from kafka. <code>D</code> is <code>LocalJsonContractDescriptionProvider</code> for loading blockchain contract description file <code>contract.json</code>. I want to test my <code>A</code> methods work as expected.  For constructor, <code>A</code> does not have a constructor to pass <code>D</code> into <code>A</code>."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681548687,"creation_date":1681548687,"answer_id":76021244,"question_id":76020415,"body_markdown":"The first option would be to declare `D` as a constructor argument. This is also called dependency injection and can be useful for testing. Additionally, you can still have a constructor without any arguments:\r\n\r\n    public class A {\r\n        public A (D d) throws FileNotFoundException {\r\n    \t\tthis.d = d;\r\n    \t}\r\n        public A () throws FileNotFoundException {\r\n    \t\tthis(new D());\r\n    \t}\r\n    \r\n        private final D d;\r\n    } \r\n\r\n    @Test\r\n    void test() {\r\n        D mock = mock(D.class);\r\n        A tested = new A(mock);\r\n        // ...\r\n    }\r\n\r\n\r\nAlternatively, you can test this code even more elegantly, without any mocks. To do so, we need to apply the same technique to `D` and use dependency injection for passing a `Reader`:\r\n\r\n    public class D { \r\n        public D () throws FileNotFoundException {\r\n            this(new InputStreamReader(new FileInputStream(&quot;filePath&quot;)));\r\n        }\r\n        public D (Reader reader) throws FileNotFoundException {\r\n            // other code...\r\n        }\r\n    }\r\n\r\nSince `Reader` is an interface, we can use different implementations for it, inside the test. For instance, we can use a `StringReader`: \r\n\r\n    @Test\r\n    void test() {\r\n        D d = new D(new StringReader(&quot;my test file content&quot;));\r\n        A tested = new A(d);\r\n        // ...\r\n    }\r\n    \r\n\r\n\r\n","title":"Java Unit Test Mock, target class new() method requires depencies mock","body":"<p>The first option would be to declare <code>D</code> as a constructor argument. This is also called dependency injection and can be useful for testing. Additionally, you can still have a constructor without any arguments:</p>\n<pre><code>public class A {\n    public A (D d) throws FileNotFoundException {\n        this.d = d;\n    }\n    public A () throws FileNotFoundException {\n        this(new D());\n    }\n\n    private final D d;\n} \n\n@Test\nvoid test() {\n    D mock = mock(D.class);\n    A tested = new A(mock);\n    // ...\n}\n</code></pre>\n<p>Alternatively, you can test this code even more elegantly, without any mocks. To do so, we need to apply the same technique to <code>D</code> and use dependency injection for passing a <code>Reader</code>:</p>\n<pre><code>public class D { \n    public D () throws FileNotFoundException {\n        this(new InputStreamReader(new FileInputStream(&quot;filePath&quot;)));\n    }\n    public D (Reader reader) throws FileNotFoundException {\n        // other code...\n    }\n}\n</code></pre>\n<p>Since <code>Reader</code> is an interface, we can use different implementations for it, inside the test. For instance, we can use a <code>StringReader</code>:</p>\n<pre><code>@Test\nvoid test() {\n    D d = new D(new StringReader(&quot;my test file content&quot;));\n    A tested = new A(d);\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":25451734,"reputation":23,"user_id":19253008,"display_name":"Yihan Duan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76021244,"answer_count":1,"score":0,"last_activity_date":1681548687,"creation_date":1681534466,"question_id":76020415,"body_markdown":"I want to test `A` class. \r\n\r\nIn A class constructor method, a private final dependency `d` is created. I want to mock `d`. Here is the code\r\n\r\n```java\r\n\r\n\r\npublic class A {\r\n    public A () throws FileNotFoundException {}\r\n    private final D d = new D();\r\n}\r\n\r\npublic class D { \r\n    public D () throws FileNotFoundException {\r\n        Reader reader = new InputStreamReader(new FileInputStream(&quot;filePath&quot;));\r\n        // other code...\r\n    }\r\n}\r\n\r\n```\r\n\r\nSince the filePath is a special path fitting in the docker config, me and my mentor decided to use MOCK to return a `d` to test `A` class. \r\n\r\nI did not know how to mock this situation.  Previously, I did use `FieldSetter` in `Mockito` to solve simple cases.","title":"Java Unit Test Mock, target class new() method requires depencies mock","body":"<p>I want to test <code>A</code> class.</p>\n<p>In A class constructor method, a private final dependency <code>d</code> is created. I want to mock <code>d</code>. Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\npublic class A {\n    public A () throws FileNotFoundException {}\n    private final D d = new D();\n}\n\npublic class D { \n    public D () throws FileNotFoundException {\n        Reader reader = new InputStreamReader(new FileInputStream(&quot;filePath&quot;));\n        // other code...\n    }\n}\n\n</code></pre>\n<p>Since the filePath is a special path fitting in the docker config, me and my mentor decided to use MOCK to return a <code>d</code> to test <code>A</code> class.</p>\n<p>I did not know how to mock this situation.  Previously, I did use <code>FieldSetter</code> in <code>Mockito</code> to solve simple cases.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1681548819,"post_id":76021241,"comment_id":134076862,"body_markdown":"Do you have a pom.xml for each module? Then you can include the modules you want exactly where  you need it without unnecessary modules.","body":"Do you have a pom.xml for each module? Then you can include the modules you want exactly where  you need it without unnecessary modules."},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1681548922,"post_id":76021241,"comment_id":134076867,"body_markdown":"I don&#39;t want to do another project for oeadl-annotations, because this module is the part of my library. And i want to change it, only if I change all my library or if I add new functions","body":"I don&#39;t want to do another project for oeadl-annotations, because this module is the part of my library. And i want to change it, only if I change all my library or if I add new functions"},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1681548945,"post_id":76021241,"comment_id":134076871,"body_markdown":"@JustanotherJavaprogrammer yes, I have","body":"@JustanotherJavaprogrammer yes, I have"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681550311,"post_id":76021241,"comment_id":134077000,"body_markdown":"What do you mean by `import` ? Do you mean to use that module (jar file)?","body":"What do you mean by <code>import</code> ? Do you mean to use that module (jar file)?"},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1681551968,"post_id":76021241,"comment_id":134077171,"body_markdown":"@khmarbaise I mean for exmple, add dependency in project, where the part of this library will be used(OEADL-ANNOTATIONS or OEADL-SWING)","body":"@khmarbaise I mean for exmple, add dependency in project, where the part of this library will be used(OEADL-ANNOTATIONS or OEADL-SWING)"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1681554786,"post_id":76021241,"comment_id":134077476,"body_markdown":"Create a Maven multi-module project. Each module lies in its own directory and is compiled to a JAR. Then you can define a dependency on whichever JAR you want. You cannot define dependencies on parts of JARs.","body":"Create a Maven multi-module project. Each module lies in its own directory and is compiled to a JAR. Then you can define a dependency on whichever JAR you want. You cannot define dependencies on parts of JARs."}],"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681548657,"creation_date":1681548657,"question_id":76021241,"body_markdown":"I have a question. I have a library for displaying and editing objects, this library contains mudules:\r\n* OEADL-EXCEPTIONS - this module contains exceptions for my library\r\n* OEADL-ANNOTATIONS - this module contains necessary annotations for classes to markup to be handled by my library\r\n* OEADL-SWING - this module using for displaying and editing objects(this module imports OEADL-EXCEPTION, OEADL-ANNOTATIONS)\r\n\r\nAll these modules are submodules of the my library. And I want to use, for example, only module OEADL-ANNOTATIONS on server side, OEADL-SWING - on client side\r\nHow can I do it ? Is there an opportunity for using \r\nBecause I don&#39;t know how to import only submodule from module in Maven. ","title":"How to import submodule from maven module?","body":"<p>I have a question. I have a library for displaying and editing objects, this library contains mudules:</p>\n<ul>\n<li>OEADL-EXCEPTIONS - this module contains exceptions for my library</li>\n<li>OEADL-ANNOTATIONS - this module contains necessary annotations for classes to markup to be handled by my library</li>\n<li>OEADL-SWING - this module using for displaying and editing objects(this module imports OEADL-EXCEPTION, OEADL-ANNOTATIONS)</li>\n</ul>\n<p>All these modules are submodules of the my library. And I want to use, for example, only module OEADL-ANNOTATIONS on server side, OEADL-SWING - on client side\nHow can I do it ? Is there an opportunity for using\nBecause I don't know how to import only submodule from module in Maven.</p>\n"},{"tags":["java","asp.net","azure"],"comments":[{"owner":{"account_id":3463354,"reputation":5501,"user_id":2899711,"display_name":"Simon W"},"score":0,"creation_date":1391605474,"post_id":21558437,"comment_id":32594387,"body_markdown":"Don&#39;t you need to deploy the core Java Class Libraries as well?","body":"Don&#39;t you need to deploy the core Java Class Libraries as well?"},{"owner":{"account_id":1363337,"reputation":2125,"user_id":1300288,"display_name":"Kazaag"},"score":0,"creation_date":1392223542,"post_id":21558437,"comment_id":32869436,"body_markdown":"you probably need to make sure the JDK/JRE is install on the instance (and java.exe is in the PATH)","body":"you probably need to make sure the JDK/JRE is install on the instance (and java.exe is in the PATH)"}],"owner":{"account_id":274000,"reputation":52189,"user_id":565968,"accept_rate":98,"display_name":"frenchie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681548425,"creation_date":1391532571,"question_id":21558437,"body_markdown":"I have an asp.net app that will eventually be deployed on Azure. At some point, the app runs a Java process, somewhat like this:\r\n\r\n    System.Diagnostics.Process clientProcess = new System.Diagnostics.Process();\r\n    clientProcess.StartInfo.FileName = &quot;java.exe&quot;;\r\n    clientProcess.StartInfo.CreateNoWindow = true;\r\n    clientProcess.StartInfo.UseShellExecute = false;\r\n    clientProcess.StartInfo.WorkingDirectory = HttpRuntime.AppDomainAppPath;\r\n    clientProcess.StartInfo.Arguments = &quot;-jar GCC/compiler.jar --js GCC/JSTest/hello.js --js_output_file GCC/JSTest/hello-compiled.js&quot;;\r\n    clientProcess.Start();\r\n    clientProcess.WaitForExit();\r\n\r\nI have included the `java.exe` file and the `compiler.jar` file in the directories of the app and everything works. My question is this: will this code also work in Azure as-is or do I need to make some modifications?\r\n","title":"Running Java process in Azure","body":"<p>I have an asp.net app that will eventually be deployed on Azure. At some point, the app runs a Java process, somewhat like this:</p>\n<pre><code>System.Diagnostics.Process clientProcess = new System.Diagnostics.Process();\nclientProcess.StartInfo.FileName = &quot;java.exe&quot;;\nclientProcess.StartInfo.CreateNoWindow = true;\nclientProcess.StartInfo.UseShellExecute = false;\nclientProcess.StartInfo.WorkingDirectory = HttpRuntime.AppDomainAppPath;\nclientProcess.StartInfo.Arguments = &quot;-jar GCC/compiler.jar --js GCC/JSTest/hello.js --js_output_file GCC/JSTest/hello-compiled.js&quot;;\nclientProcess.Start();\nclientProcess.WaitForExit();\n</code></pre>\n<p>I have included the <code>java.exe</code> file and the <code>compiler.jar</code> file in the directories of the app and everything works. My question is this: will this code also work in Azure as-is or do I need to make some modifications?</p>\n"},{"tags":["java","regex","regex-group"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":5,"creation_date":1681503878,"post_id":76018678,"comment_id":134072806,"body_markdown":"Your regex already allows spaces. It &quot;disallows&quot; listed sequences: `^` means negation when first in class.","body":"Your regex already allows spaces. It &quot;disallows&quot; listed sequences: <code>^</code> means negation when first in class."},{"owner":{"account_id":4869339,"reputation":430,"user_id":3926428,"accept_rate":71,"display_name":"ylima"},"score":0,"creation_date":1681504729,"post_id":76018678,"comment_id":134072942,"body_markdown":"Does `&quot;[^a-zA-Z0-9-_ ]&quot;` work for you?","body":"Does <code>&quot;[^a-zA-Z0-9-_ ]&quot;</code> work for you?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1681517676,"post_id":76018678,"comment_id":134074525,"body_markdown":"Minor note (very minor): &quot;regex expression&quot; is equivalent to &quot;**reg**ular **ex**pression expression&quot;. Like saying &quot;PIN number&quot; or &quot;ATM machine&quot;... This message was brought to you by the Department of Redundancy Department.","body":"Minor note (very minor): &quot;regex expression&quot; is equivalent to &quot;<b>reg</b>ular <b>ex</b>pression expression&quot;. Like saying &quot;PIN number&quot; or &quot;ATM machine&quot;... This message was brought to you by the Department of Redundancy Department."}],"owner":{"account_id":25266683,"reputation":55,"user_id":19096722,"display_name":"William Johnson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1681548024,"creation_date":1681503753,"question_id":76018678,"body_markdown":"I have an existing regex expression: `&quot;[^a-zA-Z0-9-_]&quot;` for a parameter. I need to add to it so that I can allow spaces in a string expression when I validate. \r\n\r\nHow would I add to this expression to allow spaces? Would it be: `&quot;[^a-zA-Z0-9-_- ]&quot;`? \r\n\r\nThanks. ","title":"Regex Expression To Accept Spaces in String","body":"<p>I have an existing regex expression: <code>&quot;[^a-zA-Z0-9-_]&quot;</code> for a parameter. I need to add to it so that I can allow spaces in a string expression when I validate.</p>\n<p>How would I add to this expression to allow spaces? Would it be: <code>&quot;[^a-zA-Z0-9-_- ]&quot;</code>?</p>\n<p>Thanks.</p>\n"},{"tags":["java","json","parsing","gson"],"comments":[{"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"score":4,"creation_date":1423513630,"post_id":28418662,"comment_id":45170552,"body_markdown":"Post the JSON string returned by your  post request.","body":"Post the JSON string returned by your  post request."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1423514018,"post_id":28418662,"comment_id":45170758,"body_markdown":"Post your JSON string","body":"Post your JSON string"}],"answers":[{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":5,"up_vote_count":234,"is_accepted":true,"score":229,"last_activity_date":1510072308,"creation_date":1423513915,"answer_id":28418787,"question_id":28418662,"body_markdown":"Even without seeing your JSON string you can tell from the error message that it is not the correct structure to be parsed into an instance of your class.\r\n\r\nGson is expecting your JSON string to begin with an object opening brace. e.g. \r\n\r\n    {\r\n\r\nBut the string you have passed to it starts with an open quotes\r\n\r\n    &quot;","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>Even without seeing your JSON string you can tell from the error message that it is not the correct structure to be parsed into an instance of your class.</p>\n\n<p>Gson is expecting your JSON string to begin with an object opening brace. e.g. </p>\n\n<pre><code>{\n</code></pre>\n\n<p>But the string you have passed to it starts with an open quotes</p>\n\n<pre><code>\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2022172,"reputation":281,"user_id":1808071,"display_name":"BrantYu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1443424453,"creation_date":1429497887,"answer_id":29738531,"question_id":28418662,"body_markdown":"Maybe your `JSON Object` is right,but the response that you received is not your valid data.Just like when you connect the invalid `WiFi`,you may received a strange response `&lt; html&gt;.....&lt; /html&gt;` that `GSON` can not parse.\r\n\r\nyou may need to do some `try..catch..` for this strange response to avoid crash.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>Maybe your <code>JSON Object</code> is right,but the response that you received is not your valid data.Just like when you connect the invalid <code>WiFi</code>,you may received a strange response <code>&lt; html&gt;.....&lt; /html&gt;</code> that <code>GSON</code> can not parse.</p>\n\n<p>you may need to do some <code>try..catch..</code> for this strange response to avoid crash.</p>\n"},{"tags":[],"owner":{"account_id":4431983,"reputation":578,"user_id":4280577,"display_name":"Jessica Pennell"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1448408740,"creation_date":1448407829,"answer_id":33905845,"question_id":28418662,"body_markdown":"Invalid JSON from the server should always be an expected use case. A million things can go wrong during transmission. Gson is a bit tricky, because its error output will give you one problem, and the actual exception you catch will be of a different type.\r\n\r\nWith all that in mind, the proper fix on the client side is\r\n\r\n    try\r\n    {\r\n      gson.fromJSON(ad, Ad.class);\r\n      //...\r\n    }\r\n    catch (IllegalStateException | JsonSyntaxException exception)\r\n    {\r\n      //...\r\n\r\nIf you want to know why the JSON you received from the server is wrong, you can look inside your catch block at the exception. But even if it is your problem, it&#39;s not the client&#39;s responsibility to fix JSON it is receiving from the internet.\r\n\r\nEither way, it is the client&#39;s responsibility to decide what to do when it gets bad JSON. Two possibilities are rejecting the JSON and doing nothing, and trying again.\r\n\r\nIf you are going to try again, I highly recommend setting a flag inside the try / catch block and then responding to that flag outside the try / catch block. Nested try / catch is likely how Gson got us into this mess with our stack trace and exceptions not matching up.\r\n\r\nIn other words, even though I&#39;ll admit it doesn&#39;t look very elegant, I would recommend\r\n\r\n    boolean failed = false;\r\n\r\n    try\r\n    {\r\n      gson.fromJSON(ad, Ad.class);\r\n      //...\r\n    }\r\n    catch (IllegalStateException | JsonSyntaxException exception)\r\n    {\r\n      failed = true;\r\n      //...\r\n    }\r\n\r\n    if (failed)\r\n    {\r\n      //...","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>Invalid JSON from the server should always be an expected use case. A million things can go wrong during transmission. Gson is a bit tricky, because its error output will give you one problem, and the actual exception you catch will be of a different type.</p>\n\n<p>With all that in mind, the proper fix on the client side is</p>\n\n<pre><code>try\n{\n  gson.fromJSON(ad, Ad.class);\n  //...\n}\ncatch (IllegalStateException | JsonSyntaxException exception)\n{\n  //...\n</code></pre>\n\n<p>If you want to know why the JSON you received from the server is wrong, you can look inside your catch block at the exception. But even if it is your problem, it's not the client's responsibility to fix JSON it is receiving from the internet.</p>\n\n<p>Either way, it is the client's responsibility to decide what to do when it gets bad JSON. Two possibilities are rejecting the JSON and doing nothing, and trying again.</p>\n\n<p>If you are going to try again, I highly recommend setting a flag inside the try / catch block and then responding to that flag outside the try / catch block. Nested try / catch is likely how Gson got us into this mess with our stack trace and exceptions not matching up.</p>\n\n<p>In other words, even though I'll admit it doesn't look very elegant, I would recommend</p>\n\n<pre><code>boolean failed = false;\n\ntry\n{\n  gson.fromJSON(ad, Ad.class);\n  //...\n}\ncatch (IllegalStateException | JsonSyntaxException exception)\n{\n  failed = true;\n  //...\n}\n\nif (failed)\n{\n  //...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1327328,"reputation":3529,"user_id":1271891,"accept_rate":0,"display_name":"Raj008"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1555756751,"creation_date":1512124102,"answer_id":47591373,"question_id":28418662,"body_markdown":"In Retrofit2, When you want to send your parameters in raw you must use Scalars.\r\n\r\nfirst add this in your gradle:\r\n \r\n\r\n        compile &#39;com.squareup.retrofit2:retrofit:2.3.0&#39;\r\n        compile &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39;\r\n        compile &#39;com.squareup.retrofit2:converter-scalars:2.3.0&#39;\r\n    \r\n        public interface ApiInterface {\r\n    \r\n        String URL_BASE = &quot;http://10.157.102.22/rest/&quot;;\r\n    \r\n        @Headers(&quot;Content-Type: application/json&quot;)\r\n        @POST(&quot;login&quot;)\r\n        Call&lt;User&gt; getUser(@Body String body);\r\n    \r\n    }\r\n\r\n\r\nmy SampleActivity :\r\n\r\n \r\n\r\n       public class SampleActivity extends AppCompatActivity implements Callback&lt;User&gt; {\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_sample);\r\n    \r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(ApiInterface.URL_BASE)\r\n                    .addConverterFactory(ScalarsConverterFactory.create())\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n    \r\n            ApiInterface apiInterface = retrofit.create(ApiInterface.class);\r\n    \r\n    \r\n            // prepare call in Retrofit 2.0\r\n            try {\r\n                JSONObject paramObject = new JSONObject();\r\n                paramObject.put(&quot;email&quot;, &quot;sample@gmail.com&quot;);\r\n                paramObject.put(&quot;pass&quot;, &quot;4384984938943&quot;);\r\n    \r\n                Call&lt;User&gt; userCall = apiInterface.getUser(paramObject.toString());\r\n                userCall.enqueue(this);\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onResponse(Call&lt;User&gt; call, Response&lt;User&gt; response) {\r\n        }\r\n    \r\n        @Override\r\n        public void onFailure(Call&lt;User&gt; call, Throwable t) {\r\n        }\r\n    }\r\n\r\n\r\nReference: [https://stackoverflow.com/questions/21398598/how-to-post-raw-whole-json-in-the-body-of-a-retrofit-request][1]\r\n\r\n\r\n","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>In Retrofit2, When you want to send your parameters in raw you must use Scalars.</p>\n\n<p>first add this in your gradle:</p>\n\n<pre><code>    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.3.0'\n    compile 'com.squareup.retrofit2:converter-scalars:2.3.0'\n\n    public interface ApiInterface {\n\n    String URL_BASE = \"http://10.157.102.22/rest/\";\n\n    @Headers(\"Content-Type: application/json\")\n    @POST(\"login\")\n    Call&lt;User&gt; getUser(@Body String body);\n\n}\n</code></pre>\n\n<p>my SampleActivity :</p>\n\n<pre><code>   public class SampleActivity extends AppCompatActivity implements Callback&lt;User&gt; {\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sample);\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(ApiInterface.URL_BASE)\n                .addConverterFactory(ScalarsConverterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        ApiInterface apiInterface = retrofit.create(ApiInterface.class);\n\n\n        // prepare call in Retrofit 2.0\n        try {\n            JSONObject paramObject = new JSONObject();\n            paramObject.put(\"email\", \"sample@gmail.com\");\n            paramObject.put(\"pass\", \"4384984938943\");\n\n            Call&lt;User&gt; userCall = apiInterface.getUser(paramObject.toString());\n            userCall.enqueue(this);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    @Override\n    public void onResponse(Call&lt;User&gt; call, Response&lt;User&gt; response) {\n    }\n\n    @Override\n    public void onFailure(Call&lt;User&gt; call, Throwable t) {\n    }\n}\n</code></pre>\n\n<p>Reference: [<a href=\"https://stackoverflow.com/questions/21398598/how-to-post-raw-whole-json-in-the-body-of-a-retrofit-request][1]\">How to POST raw whole JSON in the body of a Retrofit request?</a></p>\n"},{"tags":[],"owner":{"account_id":10137735,"reputation":157,"user_id":7488541,"display_name":"Solomon Fissehaye"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522976530,"creation_date":1522975382,"answer_id":49683597,"question_id":28418662,"body_markdown":"Don&#39;t use `jsonObject.toString` on a JSON object.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>Don't use <code>jsonObject.toString</code> on a JSON object.</p>\n"},{"tags":[],"owner":{"account_id":3140590,"reputation":1145,"user_id":2656117,"display_name":"Ravi Wadje"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536577997,"creation_date":1535372609,"answer_id":52039301,"question_id":28418662,"body_markdown":"Make sure you have DESERIALIZED objects like DATE/DATETIME etc. If you are directly sending JSON without deserializing it then it can cause this problem.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>Make sure you have DESERIALIZED objects like DATE/DATETIME etc. If you are directly sending JSON without deserializing it then it can cause this problem.</p>\n"},{"tags":[],"owner":{"account_id":9016562,"reputation":331,"user_id":6719201,"display_name":"Wallace Roberto"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1535773573,"creation_date":1535773573,"answer_id":52124691,"question_id":28418662,"body_markdown":"I have come to share an solution. The error happened to me after forcing the notbook to hang up. possible solution `clean preject`.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>I have come to share an solution. The error happened to me after forcing the notbook to hang up. possible solution <code>clean preject</code>.</p>\n"},{"tags":[],"owner":{"account_id":7564658,"reputation":1570,"user_id":5740760,"accept_rate":43,"display_name":"RAJESH KUMAR ARUMUGAM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535792131,"creation_date":1535792131,"answer_id":52126550,"question_id":28418662,"body_markdown":"In my case, I am Returning JSON Object as \r\n\r\n&gt; {&quot;data&quot;:&quot;&quot;,&quot;message&quot;:&quot;Attendance Saved\r\n&gt; Successfully..!!!&quot;,&quot;status&quot;:&quot;success&quot;}\r\n\r\nResolved by changing it as \r\n\r\n&gt; {&quot;data&quot;:{},&quot;message&quot;:&quot;Attendance Saved\r\n&gt; Successfully..!!!&quot;,&quot;status&quot;:&quot;success&quot;}\r\n\r\nHere data is a sub JsonObject and it should starts from { not &quot;&quot;  ","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>In my case, I am Returning JSON Object as </p>\n\n<blockquote>\n  <p>{\"data\":\"\",\"message\":\"Attendance Saved\n  Successfully..!!!\",\"status\":\"success\"}</p>\n</blockquote>\n\n<p>Resolved by changing it as </p>\n\n<blockquote>\n  <p>{\"data\":{},\"message\":\"Attendance Saved\n  Successfully..!!!\",\"status\":\"success\"}</p>\n</blockquote>\n\n<p>Here data is a sub JsonObject and it should starts from { not \"\"  </p>\n"},{"tags":[],"owner":{"account_id":14190956,"reputation":228,"user_id":10251626,"display_name":"Shabbir Ahmed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541764651,"creation_date":1541764651,"answer_id":53225311,"question_id":28418662,"body_markdown":"if your json format and variables are okay then check your database queries...even if data is saved  in db correctly the actual problem might be in there...recheck your queries and try again.. Hope it helps","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>if your json format and variables are okay then check your database queries...even if data is saved  in db correctly the actual problem might be in there...recheck your queries and try again.. Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":9263666,"reputation":409,"user_id":6879769,"display_name":"Yazid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581401716,"creation_date":1581401716,"answer_id":60162969,"question_id":28418662,"body_markdown":"In my situation, I have a &quot;model&quot;, consist of several String parameters, with the exception of one: it is byte array `byte[]`.\r\nSome code snippet:\r\n\r\n    String response = args[0].toString();\r\n    Gson gson = new Gson();\r\n    BaseModel responseModel = gson.fromJson(response, BaseModel.class);\r\n\r\nThe last line above is when the\r\n\r\n    java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column\r\n\r\nis triggered. Searching through the SO, I realised I need to have some form of `Adapter` to convert my `BaseModel` to and fro a JsonObject. Having mixed of `String` and `byte[]` in a model does complicate thing. Apparently, `Gson` don&#39;t really like the situation.\r\n\r\nI end up making an `Adapter` to ensure `byte[]` is converted to `Base64` format. Here is my `Adapter` class:\r\n\r\n    public class ByteArrayToBase64Adapter implements JsonSerializer&lt;byte[]&gt;, JsonDeserializer&lt;byte[]&gt; {\r\n\r\n        @Override\r\n        public byte[] deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n            return Base64.decode(json.getAsString(), Base64.NO_WRAP);\r\n        }\r\n\r\n        @Override\r\n        public JsonElement serialize(byte[] src, Type typeOfSrc, JsonSerializationContext context) {\r\n            return new JsonPrimitive(Base64.encodeToString(src, Base64.NO_WRAP));\r\n        }\r\n    }\r\n\r\nTo convert JSONObject to model, I used the following:\r\n\r\n    Gson customGson = new GsonBuilder().registerTypeHierarchyAdapter(byte[].class, new ByteArrayToBase64Adapter()).create();\r\n    BaseModel responseModel = customGson.fromJson(response, BaseModel.class);\r\n\r\nSimilarly, to convert the model to JSONObject, I used the following:\r\n\r\n    Gson customGson = new GsonBuilder().registerTypeHierarchyAdapter(byte[].class, new ByteArrayToBase64Adapter()).create();\r\n    String responseJSon = customGson.toJson(response);\r\n\r\nWhat the code is doing is basically to push the intended `class/object` (in this case, `byte[]` class) through the `Adapter` whenever it is encountered during the convertion to/fro JSONObject.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>In my situation, I have a \"model\", consist of several String parameters, with the exception of one: it is byte array <code>byte[]</code>.\nSome code snippet:</p>\n\n<pre><code>String response = args[0].toString();\nGson gson = new Gson();\nBaseModel responseModel = gson.fromJson(response, BaseModel.class);\n</code></pre>\n\n<p>The last line above is when the</p>\n\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column\n</code></pre>\n\n<p>is triggered. Searching through the SO, I realised I need to have some form of <code>Adapter</code> to convert my <code>BaseModel</code> to and fro a JsonObject. Having mixed of <code>String</code> and <code>byte[]</code> in a model does complicate thing. Apparently, <code>Gson</code> don't really like the situation.</p>\n\n<p>I end up making an <code>Adapter</code> to ensure <code>byte[]</code> is converted to <code>Base64</code> format. Here is my <code>Adapter</code> class:</p>\n\n<pre><code>public class ByteArrayToBase64Adapter implements JsonSerializer&lt;byte[]&gt;, JsonDeserializer&lt;byte[]&gt; {\n\n    @Override\n    public byte[] deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        return Base64.decode(json.getAsString(), Base64.NO_WRAP);\n    }\n\n    @Override\n    public JsonElement serialize(byte[] src, Type typeOfSrc, JsonSerializationContext context) {\n        return new JsonPrimitive(Base64.encodeToString(src, Base64.NO_WRAP));\n    }\n}\n</code></pre>\n\n<p>To convert JSONObject to model, I used the following:</p>\n\n<pre><code>Gson customGson = new GsonBuilder().registerTypeHierarchyAdapter(byte[].class, new ByteArrayToBase64Adapter()).create();\nBaseModel responseModel = customGson.fromJson(response, BaseModel.class);\n</code></pre>\n\n<p>Similarly, to convert the model to JSONObject, I used the following:</p>\n\n<pre><code>Gson customGson = new GsonBuilder().registerTypeHierarchyAdapter(byte[].class, new ByteArrayToBase64Adapter()).create();\nString responseJSon = customGson.toJson(response);\n</code></pre>\n\n<p>What the code is doing is basically to push the intended <code>class/object</code> (in this case, <code>byte[]</code> class) through the <code>Adapter</code> whenever it is encountered during the convertion to/fro JSONObject.</p>\n"},{"tags":[],"owner":{"account_id":8635281,"reputation":796,"user_id":6465703,"display_name":"dave o grady"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1584592599,"creation_date":1584592599,"answer_id":60750988,"question_id":28418662,"body_markdown":"Don&#39;t forget to convert your object into Json first using Gson()\r\n\r\n      val fromUserJson = Gson().toJson(notificationRequest.fromUser)\r\n\r\nThen you can easily convert it back into an object using this awesome library\r\n\r\n          val fromUser = Gson().fromJson(fromUserJson, User::class.java)","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>Don't forget to convert your object into Json first using Gson()</p>\n\n<pre><code>  val fromUserJson = Gson().toJson(notificationRequest.fromUser)\n</code></pre>\n\n<p>Then you can easily convert it back into an object using this awesome library</p>\n\n<pre><code>      val fromUser = Gson().fromJson(fromUserJson, User::class.java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2543653,"reputation":1780,"user_id":2208909,"display_name":"Feng Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596821963,"creation_date":1596739455,"answer_id":63289889,"question_id":28418662,"body_markdown":"I had a case where I read from a handwritten json file. The json is perfect. However, this error occurred. So I write from a java object to json file, then read from that json file. things are fine. I could not see any difference between the handwritten json and the one from java object. Tried beyondCompare it sees no difference. \r\nI finally noticed the two file sizes are slightly different, and I used winHex tool and detected extra stuff.\r\nSo the solution for my situation is, make copy of the good json file, paste content into it and use.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bvchJ.png\r\n\r\n","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>I had a case where I read from a handwritten json file. The json is perfect. However, this error occurred. So I write from a java object to json file, then read from that json file. things are fine. I could not see any difference between the handwritten json and the one from java object. Tried beyondCompare it sees no difference.\nI finally noticed the two file sizes are slightly different, and I used winHex tool and detected extra stuff.\nSo the solution for my situation is, make copy of the good json file, paste content into it and use.</p>\n<p><a href=\"https://i.stack.imgur.com/bvchJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bvchJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7802772,"reputation":191,"user_id":5901559,"display_name":"Keiv"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1599362553,"creation_date":1599362160,"answer_id":63760393,"question_id":28418662,"body_markdown":"I had a similar problem recently and found an interesting solution. Basically I needed to deserialize following nested JSON String into my POJO:\r\n\r\n    &quot;{\\&quot;restaurant\\&quot;:{\\&quot;id\\&quot;:\\&quot;abc-012\\&quot;,\\&quot;name\\&quot;:\\&quot;good restaurant\\&quot;,\\&quot;foodType\\&quot;:\\&quot;American\\&quot;,\\&quot;phoneNumber\\&quot;:\\&quot;123-456-7890\\&quot;,\\&quot;currency\\&quot;:\\&quot;USD\\&quot;,\\&quot;website\\&quot;:\\&quot;website.com\\&quot;,\\&quot;location\\&quot;:{\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot; Good Street\\&quot;,\\&quot;city\\&quot;:\\&quot;Good City\\&quot;,\\&quot;state\\&quot;:\\&quot;CA\\&quot;,\\&quot;country\\&quot;:\\&quot;USA\\&quot;,\\&quot;postalCode\\&quot;:\\&quot;12345\\&quot;},\\&quot;coordinates\\&quot;:{\\&quot;latitude\\&quot;:\\&quot;00.7904692\\&quot;,\\&quot;longitude\\&quot;:\\&quot;-000.4047208\\&quot;}},\\&quot;restaurantUser\\&quot;:{\\&quot;firstName\\&quot;:\\&quot;test\\&quot;,\\&quot;lastName\\&quot;:\\&quot;test\\&quot;,\\&quot;email\\&quot;:\\&quot;test@test.com\\&quot;,\\&quot;title\\&quot;:\\&quot;server\\&quot;,\\&quot;phone\\&quot;:\\&quot;0000000000\\&quot;}}}&quot;\r\n\r\n\r\nI ended up using regex to remove the open quotes from beginning and the end of JSON and then used *apache.commons* *unescapeJava()* method  to unescape it. Basically passed the unclean JSON into following method to get back a cleansed one:\r\n\r\n    private String removeQuotesAndUnescape(String uncleanJson) {\r\n        String noQuotes = uncleanJson.replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;);\r\n    \r\n        return StringEscapeUtils.unescapeJava(noQuotes);\r\n    }\r\n\r\nthen used Google GSON to parse it into my own Object:\r\n\r\n    MyObject myObject = new.Gson().fromJson(this.removeQuotesAndUnescape(uncleanJson));","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>I had a similar problem recently and found an interesting solution. Basically I needed to deserialize following nested JSON String into my POJO:</p>\n<pre><code>&quot;{\\&quot;restaurant\\&quot;:{\\&quot;id\\&quot;:\\&quot;abc-012\\&quot;,\\&quot;name\\&quot;:\\&quot;good restaurant\\&quot;,\\&quot;foodType\\&quot;:\\&quot;American\\&quot;,\\&quot;phoneNumber\\&quot;:\\&quot;123-456-7890\\&quot;,\\&quot;currency\\&quot;:\\&quot;USD\\&quot;,\\&quot;website\\&quot;:\\&quot;website.com\\&quot;,\\&quot;location\\&quot;:{\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot; Good Street\\&quot;,\\&quot;city\\&quot;:\\&quot;Good City\\&quot;,\\&quot;state\\&quot;:\\&quot;CA\\&quot;,\\&quot;country\\&quot;:\\&quot;USA\\&quot;,\\&quot;postalCode\\&quot;:\\&quot;12345\\&quot;},\\&quot;coordinates\\&quot;:{\\&quot;latitude\\&quot;:\\&quot;00.7904692\\&quot;,\\&quot;longitude\\&quot;:\\&quot;-000.4047208\\&quot;}},\\&quot;restaurantUser\\&quot;:{\\&quot;firstName\\&quot;:\\&quot;test\\&quot;,\\&quot;lastName\\&quot;:\\&quot;test\\&quot;,\\&quot;email\\&quot;:\\&quot;test@test.com\\&quot;,\\&quot;title\\&quot;:\\&quot;server\\&quot;,\\&quot;phone\\&quot;:\\&quot;0000000000\\&quot;}}}&quot;\n</code></pre>\n<p>I ended up using regex to remove the open quotes from beginning and the end of JSON and then used <em>apache.commons</em> <em>unescapeJava()</em> method  to unescape it. Basically passed the unclean JSON into following method to get back a cleansed one:</p>\n<pre><code>private String removeQuotesAndUnescape(String uncleanJson) {\n    String noQuotes = uncleanJson.replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;);\n\n    return StringEscapeUtils.unescapeJava(noQuotes);\n}\n</code></pre>\n<p>then used Google GSON to parse it into my own Object:</p>\n<pre><code>MyObject myObject = new.Gson().fromJson(this.removeQuotesAndUnescape(uncleanJson));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":535767,"reputation":1664,"user_id":905089,"accept_rate":71,"display_name":"elliptic1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600289340,"creation_date":1600289340,"answer_id":63927720,"question_id":28418662,"body_markdown":"In my case, my custom http-client didn&#39;t support the gzip encoding. I was sending the &quot;Accept-Encoding: gzip&quot; header, and so the response was sent back as a gzip string and couldn&#39;t be decoded.\r\n\r\nThe solution was to not send that header.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>In my case, my custom http-client didn't support the gzip encoding. I was sending the &quot;Accept-Encoding: gzip&quot; header, and so the response was sent back as a gzip string and couldn't be decoded.</p>\n<p>The solution was to not send that header.</p>\n"},{"tags":[],"owner":{"account_id":7510682,"reputation":1003,"user_id":5705721,"display_name":"Makarand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616048924,"creation_date":1616048924,"answer_id":66685836,"question_id":28418662,"body_markdown":"I was making a POST request with some parameters using **Retrofit** in **Android**\r\n\r\n**WHAT I FACED:**\r\n\r\nThe error I was getting in Android Studio logcat:\r\n\r\n&gt;  java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING\r\n&gt; at line 2 column 1 path $\r\n\r\n[but it was working fine with VOLLY library]\r\n\r\nwhen I googled it...\r\nyou know[ Obviously json is expecting a OBJECT but...]\r\n\r\nBUT when I changed my service to return a simple string [ like print_r(&quot;don&#39;t lose hope&quot;) ] or \r\nNoting at all\r\n\r\nIt was getting printed fine in Postman \r\nbut in Android studio logcat, it was still SAME ERROR [\r\n\r\n&gt; java.lang.IllegalStateException:  Expected BEGIN_OBJECT but was STRING\r\n&gt; at line 2 column 1 path $\r\n\r\n]\r\n\r\nHold up now, I am sending a simple message or not sending anything in response and still studio is\r\ntelling me &quot;...Expected BEGIN_OBJECT but was STRING...&quot;\r\nSOMETHING IS WRONG\r\n\r\nOn 4th day:\r\nI finally stopped for looking &quot;QUICK SOLUTIONS&quot; and REALLY READ some stack overflow questions \r\nand articles carefully.\r\n\r\n**WHAT I GOT:**\r\n\r\n[Logging interceptor][1]  \r\n\r\nIt will show you whatever data comes from your server[even eco messages] which are not shown in \r\nAndorid studios logcat, \r\nthat way you can FIND THE PROBLEM.\r\n\r\nWhat I found is I was sending data with @Body like-\r\n\r\n    @Headers(&quot;Content-Type: application/json&quot;)\r\n    @POST(&quot;CreateNewPost&quot;)\r\n    Call&lt;Resp&gt; createNewPost(@Body ParaModel paraModel);\r\n\r\nbut no parameter was reaching to server, everything was null [I found using Logging interceptor]\r\n\r\nthen I simply searched an article &quot;how to make POST request using Retrofit&quot;\r\n[here&#39;s one][2] \r\n\r\n\r\n**SOLUTION:**\r\n\r\nfrom here I changed my method to:\r\n\r\n    @POST(&quot;CreateNewPost&quot;)\r\n    @FormUrlEncoded\r\n    Call&lt;Resp&gt; createNewPost(\r\n        @Field(&quot;user_id&quot;) Integer user_id,\r\n        @Field(&quot;user_name&quot;) String user_name, \r\n        @Field(&quot;description&quot;) String description,\r\n        @Field(&quot;tags&quot;) String tags);\r\n\r\nand everything was fine.\r\n\r\n**CONCLUSION:**\r\n\r\nI don&#39;t understand why Retrofit gave this error \r\n\r\n&gt; java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING\r\n&gt; at line 2 column 1 path $\r\n\r\nit doesn&#39;t make any sense at all.\r\n\r\nSo ALWAYS DEBUG in detail then find WHERE THINGS ARE LEAKING and then FIX.\r\n\r\n\r\n  [1]: https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor\r\n  [2]: https://code.tutsplus.com/tutorials/sending-data-with-retrofit-2-http-client-for-android--cms-27845","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>I was making a POST request with some parameters using <strong>Retrofit</strong> in <strong>Android</strong></p>\n<p><strong>WHAT I FACED:</strong></p>\n<p>The error I was getting in Android Studio logcat:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING\nat line 2 column 1 path $</p>\n</blockquote>\n<p>[but it was working fine with VOLLY library]</p>\n<p>when I googled it...\nyou know[ Obviously json is expecting a OBJECT but...]</p>\n<p>BUT when I changed my service to return a simple string [ like print_r(&quot;don't lose hope&quot;) ] or\nNoting at all</p>\n<p>It was getting printed fine in Postman\nbut in Android studio logcat, it was still SAME ERROR [</p>\n<blockquote>\n<p>java.lang.IllegalStateException:  Expected BEGIN_OBJECT but was STRING\nat line 2 column 1 path $</p>\n</blockquote>\n<p>]</p>\n<p>Hold up now, I am sending a simple message or not sending anything in response and still studio is\ntelling me &quot;...Expected BEGIN_OBJECT but was STRING...&quot;\nSOMETHING IS WRONG</p>\n<p>On 4th day:\nI finally stopped for looking &quot;QUICK SOLUTIONS&quot; and REALLY READ some stack overflow questions\nand articles carefully.</p>\n<p><strong>WHAT I GOT:</strong></p>\n<p><a href=\"https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor\" rel=\"nofollow noreferrer\">Logging interceptor</a></p>\n<p>It will show you whatever data comes from your server[even eco messages] which are not shown in\nAndorid studios logcat,\nthat way you can FIND THE PROBLEM.</p>\n<p>What I found is I was sending data with @Body like-</p>\n<pre><code>@Headers(&quot;Content-Type: application/json&quot;)\n@POST(&quot;CreateNewPost&quot;)\nCall&lt;Resp&gt; createNewPost(@Body ParaModel paraModel);\n</code></pre>\n<p>but no parameter was reaching to server, everything was null [I found using Logging interceptor]</p>\n<p>then I simply searched an article &quot;how to make POST request using Retrofit&quot;\n<a href=\"https://code.tutsplus.com/tutorials/sending-data-with-retrofit-2-http-client-for-android--cms-27845\" rel=\"nofollow noreferrer\">here's one</a></p>\n<p><strong>SOLUTION:</strong></p>\n<p>from here I changed my method to:</p>\n<pre><code>@POST(&quot;CreateNewPost&quot;)\n@FormUrlEncoded\nCall&lt;Resp&gt; createNewPost(\n    @Field(&quot;user_id&quot;) Integer user_id,\n    @Field(&quot;user_name&quot;) String user_name, \n    @Field(&quot;description&quot;) String description,\n    @Field(&quot;tags&quot;) String tags);\n</code></pre>\n<p>and everything was fine.</p>\n<p><strong>CONCLUSION:</strong></p>\n<p>I don't understand why Retrofit gave this error</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING\nat line 2 column 1 path $</p>\n</blockquote>\n<p>it doesn't make any sense at all.</p>\n<p>So ALWAYS DEBUG in detail then find WHERE THINGS ARE LEAKING and then FIX.</p>\n"},{"tags":[],"owner":{"account_id":16585000,"reputation":338,"user_id":11984655,"display_name":"Sachidanand Pandit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677609041,"creation_date":1623838555,"answer_id":68000737,"question_id":28418662,"body_markdown":"This error solved for by replacing .toString method to .string on the response\r\n    \r\n    toString =&gt; string (add in try{...code..}catche(IOException e))\r\n    \r\nbelow code is working for me \r\n    \r\n    try {\r\n         MainModelResponse model;\r\n         Gson gson = new GsonBuilder().create();\r\n         if (response.code() == ConstantValues.SUCCESS_OK) {\r\n             model = gson.fromJson(response.body().string(), MainModelResponse.class);\r\n         } else {\r\n           model = gson.fromJson(response.errorBody().string(), MainModelResponse.class);\r\n                        }\r\n                        moduleData.postValue(model);\r\n                    }catch (IllegalStateException | JsonSyntaxException | IOException exception){\r\n                        exception.printStackTrace();\r\n                    }\r\n}","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>This error solved for by replacing .toString method to .string on the response</p>\n<pre><code>toString =&gt; string (add in try{...code..}catche(IOException e))\n</code></pre>\n<p>below code is working for me</p>\n<pre><code>try {\n     MainModelResponse model;\n     Gson gson = new GsonBuilder().create();\n     if (response.code() == ConstantValues.SUCCESS_OK) {\n         model = gson.fromJson(response.body().string(), MainModelResponse.class);\n     } else {\n       model = gson.fromJson(response.errorBody().string(), MainModelResponse.class);\n                    }\n                    moduleData.postValue(model);\n                }catch (IllegalStateException | JsonSyntaxException | IOException exception){\n                    exception.printStackTrace();\n                }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":6633990,"reputation":350,"user_id":5121698,"display_name":"B.Kingsun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623985124,"creation_date":1623985124,"answer_id":68028762,"question_id":28418662,"body_markdown":"use a string **begin &amp; end** with {}.\r\n\r\nsuch as\r\n\r\n` final String jsStr = &quot;{\\&quot;metric\\&quot;:\\&quot;opentsdb_metric\\&quot;,\\&quot;tags\\&quot;:{\\&quot;testtag\\&quot;:\\&quot;sunbotest\\&quot;},\\&quot;aggregateTags\\&quot;:[],\\&quot;dps\\&quot;:{\\&quot;1483399261\\&quot;:18}}&quot;;`\r\n\r\n`DataPoint dataPoint = new Gson().fromJson(jsStr, DataPoint.class);`\r\n\r\nthis works for me.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>use a string <strong>begin &amp; end</strong> with {}.</p>\n<p>such as</p>\n<p><code> final String jsStr = &quot;{\\&quot;metric\\&quot;:\\&quot;opentsdb_metric\\&quot;,\\&quot;tags\\&quot;:{\\&quot;testtag\\&quot;:\\&quot;sunbotest\\&quot;},\\&quot;aggregateTags\\&quot;:[],\\&quot;dps\\&quot;:{\\&quot;1483399261\\&quot;:18}}&quot;;</code></p>\n<p><code>DataPoint dataPoint = new Gson().fromJson(jsStr, DataPoint.class);</code></p>\n<p>this works for me.</p>\n"},{"tags":[],"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627232919,"creation_date":1627232919,"answer_id":68520846,"question_id":28418662,"body_markdown":"In my case the object was all fine even the [Json Validator][1] was giving it a valid resposne but I was using Interface like this\r\n\r\n    @POST(NetworkConstants.REGISTER_USER)\r\n    Call&lt;UserResponse&gt; registerUser(\r\n            @Query(&quot;name&quot;) String name,\r\n            @Query(&quot;email&quot;) String email,\r\n            @Query(&quot;password&quot;) String password,\r\n            @Query(&quot;created_date&quot;) Long creationDate\r\n    );\r\n\r\nThen I changed the code to\r\n\r\n    @FormUrlEncoded\r\n    @POST(NetworkConstants.REGISTER_USER)\r\n    Call&lt;UserResponse&gt; registerUser(\r\n            @Field(&quot;name&quot;) String name,\r\n            @Field(&quot;email&quot;) String email,\r\n            @Field(&quot;password&quot;) String password,\r\n            @Field(&quot;created_date&quot;) Long creationDate\r\n    );\r\n \r\nAnd everything was resolved.\r\n\r\n  [1]: https://jsonlint.com/","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>In my case the object was all fine even the <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">Json Validator</a> was giving it a valid resposne but I was using Interface like this</p>\n<pre><code>@POST(NetworkConstants.REGISTER_USER)\nCall&lt;UserResponse&gt; registerUser(\n        @Query(&quot;name&quot;) String name,\n        @Query(&quot;email&quot;) String email,\n        @Query(&quot;password&quot;) String password,\n        @Query(&quot;created_date&quot;) Long creationDate\n);\n</code></pre>\n<p>Then I changed the code to</p>\n<pre><code>@FormUrlEncoded\n@POST(NetworkConstants.REGISTER_USER)\nCall&lt;UserResponse&gt; registerUser(\n        @Field(&quot;name&quot;) String name,\n        @Field(&quot;email&quot;) String email,\n        @Field(&quot;password&quot;) String password,\n        @Field(&quot;created_date&quot;) Long creationDate\n);\n</code></pre>\n<p>And everything was resolved.</p>\n"},{"tags":[],"owner":{"account_id":3976458,"reputation":107,"user_id":3279535,"display_name":"amir.ashrafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631197696,"creation_date":1631197696,"answer_id":69120037,"question_id":28418662,"body_markdown":"my problem not related to my codes \r\n\r\nafter copy some files from an other project got this issue\r\n\r\nin the stack pointed to Gson library\r\n\r\nin android studio 4.2.1 this problem not solved when I try  file-&gt; invalidate and restart \r\n\r\nand\r\n\r\nafter restart in first time build got same error but in second build this problem solved \r\n\r\nI don&#39;t understand why this happened","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>my problem not related to my codes</p>\n<p>after copy some files from an other project got this issue</p>\n<p>in the stack pointed to Gson library</p>\n<p>in android studio 4.2.1 this problem not solved when I try  file-&gt; invalidate and restart</p>\n<p>and</p>\n<p>after restart in first time build got same error but in second build this problem solved</p>\n<p>I don't understand why this happened</p>\n"},{"tags":[],"owner":{"account_id":11279088,"reputation":369,"user_id":8272212,"display_name":"ali sampson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632334575,"creation_date":1632334575,"answer_id":69289371,"question_id":28418662,"body_markdown":"I was using an old version of retrofit library. So what I had to do was to change my code from this after upgrading it to `com.squareup.retrofit2:retrofit:2.9.0`:\r\n\r\n    @POST(AppConstants.UPLOAD_TRANSACTION_DETAIL)\r\n    fun postPremiumAppTransactionDetail(\r\n       @Query(&quot;name&quot;) planName:String,\r\n       @Query(&quot;amount&quot;) amount:String,\r\n       @Query(&quot;user_id&quot;) userId: String,\r\n       @Query(&quot;sub_id&quot;) planId: String,\r\n       @Query(&quot;folder&quot;) description:String,\r\n       @Query(&quot;payment_type&quot;) paymentType:String):\r\n    Call&lt;TransactionResponseModel&gt;\r\n\r\nTo this:\r\n\r\n    @FormUrlEncoded\r\n    @POST(AppConstants.UPLOAD_TRANSACTION_DETAIL)\r\n    fun postPremiumAppTransactionDetail(\r\n       @Field(&quot;name&quot;) planName:String,\r\n       @Field(&quot;amount&quot;) amount:String,\r\n       @Field(&quot;user_id&quot;) userId: String,\r\n       @Field(&quot;sub_id&quot;) planId: String,\r\n       @Field(&quot;folder&quot;) description:String,\r\n       @Field(&quot;payment_type&quot;) paymentType:String):\r\n    Call&lt;TransactionResponseModel&gt;","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>I was using an old version of retrofit library. So what I had to do was to change my code from this after upgrading it to <code>com.squareup.retrofit2:retrofit:2.9.0</code>:</p>\n<pre><code>@POST(AppConstants.UPLOAD_TRANSACTION_DETAIL)\nfun postPremiumAppTransactionDetail(\n   @Query(&quot;name&quot;) planName:String,\n   @Query(&quot;amount&quot;) amount:String,\n   @Query(&quot;user_id&quot;) userId: String,\n   @Query(&quot;sub_id&quot;) planId: String,\n   @Query(&quot;folder&quot;) description:String,\n   @Query(&quot;payment_type&quot;) paymentType:String):\nCall&lt;TransactionResponseModel&gt;\n</code></pre>\n<p>To this:</p>\n<pre><code>@FormUrlEncoded\n@POST(AppConstants.UPLOAD_TRANSACTION_DETAIL)\nfun postPremiumAppTransactionDetail(\n   @Field(&quot;name&quot;) planName:String,\n   @Field(&quot;amount&quot;) amount:String,\n   @Field(&quot;user_id&quot;) userId: String,\n   @Field(&quot;sub_id&quot;) planId: String,\n   @Field(&quot;folder&quot;) description:String,\n   @Field(&quot;payment_type&quot;) paymentType:String):\nCall&lt;TransactionResponseModel&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":270905,"reputation":1480,"user_id":561139,"accept_rate":65,"display_name":"Bj&#248;rn Stenfeldt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676293705,"creation_date":1676293705,"answer_id":75436305,"question_id":28418662,"body_markdown":"For me it turned out that I was trying to deserialize to an object that used `java.time.ZonedDateTime` for one of the properties. It worked as soon as I changed it to a `java.util.Date` instead.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>For me it turned out that I was trying to deserialize to an object that used <code>java.time.ZonedDateTime</code> for one of the properties. It worked as soon as I changed it to a <code>java.util.Date</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":19199392,"reputation":21,"user_id":14027625,"display_name":"Saqib Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681548016,"creation_date":1681548016,"answer_id":76021191,"question_id":28418662,"body_markdown":"I&#39;ve contected the fortify support. It seems a problem in the RELEASE. the only possible solution was delete the release and create a new one.","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>I've contected the fortify support. It seems a problem in the RELEASE. the only possible solution was delete the release and create a new one.</p>\n"}],"owner":{"account_id":5761647,"reputation":2251,"user_id":4547869,"accept_rate":67,"display_name":"Crapo Wolf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585276,"favorite_count":0,"down_vote_count":0,"up_vote_count":194,"accepted_answer_id":28418787,"answer_count":22,"score":194,"last_activity_date":1681548016,"creation_date":1423513495,"question_id":28418662,"body_markdown":"I have this method:\r\n\r\n    public static Object parseStringToObject(String json) {\r\n        String Object = json;\r\n        Gson gson = new Gson();\r\n        Object objects = gson.fromJson(object, Object.class);\r\n        parseConfigFromObjectToString(object);\r\n        return objects;\r\n    }\r\n    \r\n\r\nAnd I want to parse a JSON with:\r\n\r\n    public static void addObject(String IP, Object addObject) {\r\n        try {\r\n            String json = sendPostRequest(&quot;http://&quot; + IP + &quot;:3000/config/add_Object&quot;, ConfigJSONParser.parseConfigFromObjectToString(addObject));\r\n            addObject = ConfigJSONParser.parseStringToObject(json);\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\nBut I get an error message:\r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\r\n&gt; Expected BEGIN_OBJECT but was STRING at line 1 column 1","title":"&quot;Expected BEGIN_OBJECT but was STRING at line 1 column 1&quot;","body":"<p>I have this method:</p>\n\n<pre><code>public static Object parseStringToObject(String json) {\n    String Object = json;\n    Gson gson = new Gson();\n    Object objects = gson.fromJson(object, Object.class);\n    parseConfigFromObjectToString(object);\n    return objects;\n}\n</code></pre>\n\n<p>And I want to parse a JSON with:</p>\n\n<pre><code>public static void addObject(String IP, Object addObject) {\n    try {\n        String json = sendPostRequest(\"http://\" + IP + \":3000/config/add_Object\", ConfigJSONParser.parseConfigFromObjectToString(addObject));\n        addObject = ConfigJSONParser.parseStringToObject(json);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>But I get an error message:</p>\n\n<blockquote>\n  <p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\n  Expected BEGIN_OBJECT but was STRING at line 1 column 1</p>\n</blockquote>\n"},{"tags":["java","swing","graphics","awt"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1681405119,"post_id":76007980,"comment_id":134054750,"body_markdown":"Does this answer your question? [Active Rendering using Only Swing](https://stackoverflow.com/questions/28986963/active-rendering-using-only-swing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28986963/active-rendering-using-only-swing\">Active Rendering using Only Swing</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1681425394,"post_id":76007980,"comment_id":134058701,"body_markdown":"the Implementation shouldn&#39;t and doesn&#39;t matter - code against its public API and be happy :) it&#39;s beyond your control anyways ..","body":"the Implementation shouldn&#39;t and doesn&#39;t matter - code against its public API and be happy :) it&#39;s beyond your control anyways .."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681547970,"creation_date":1681415259,"answer_id":76009302,"question_id":76007980,"body_markdown":"Indeed looking at the API the [JComponent.paint()][1] method requires one parameter: [Graphics][2], a class that is abstract.\r\n\r\nBut that is just the API and it means at runtime some concise implementation needs to be passed. If you read the API documentation there are two known subclasses: [DebugGraphics][3] (which is not abstract) and [Graphics2D][4] which is abstract again.\r\n\r\nWhen you run some Swing application you will see that the components receive implementations of Graphics2D. In my java-11-openjdk-amd64 the class sun.java2d.SunGraphics2D is the concise class.\r\n\r\nYou can find out by subclassing any JComponent and overriding the paint() method with\r\n\r\n    public void paint(Graphics g) {\r\n        System.out.println(g.getClass().getName());\r\n        super.paint(g);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JComponent.html#paint(java.awt.Graphics)\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Graphics.html\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/DebugGraphics.html\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Graphics2D.html","title":"Where can I find the implemented abstract Graphic class?","body":"<p>Indeed looking at the API the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JComponent.html#paint(java.awt.Graphics)\" rel=\"nofollow noreferrer\">JComponent.paint()</a> method requires one parameter: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Graphics.html\" rel=\"nofollow noreferrer\">Graphics</a>, a class that is abstract.</p>\n<p>But that is just the API and it means at runtime some concise implementation needs to be passed. If you read the API documentation there are two known subclasses: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/DebugGraphics.html\" rel=\"nofollow noreferrer\">DebugGraphics</a> (which is not abstract) and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/Graphics2D.html\" rel=\"nofollow noreferrer\">Graphics2D</a> which is abstract again.</p>\n<p>When you run some Swing application you will see that the components receive implementations of Graphics2D. In my java-11-openjdk-amd64 the class sun.java2d.SunGraphics2D is the concise class.</p>\n<p>You can find out by subclassing any JComponent and overriding the paint() method with</p>\n<pre><code>public void paint(Graphics g) {\n    System.out.println(g.getClass().getName());\n    super.paint(g);\n}\n</code></pre>\n"}],"owner":{"account_id":22824258,"reputation":35,"user_id":16973742,"display_name":"De Loris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1681547970,"creation_date":1681404676,"question_id":76007980,"body_markdown":"An abstract class is passed into paintComponent , and functions can be performed on it . Anyway , it sounds not real. So there must be a definition of concrete Graphics . I&#39;m chewing on if I can refer to that concrete class and whether it&#39;s possible to skip over re-defining paintComponent process to directly draw things . ","title":"Where can I find the implemented abstract Graphic class?","body":"<p>An abstract class is passed into paintComponent , and functions can be performed on it . Anyway , it sounds not real. So there must be a definition of concrete Graphics . I'm chewing on if I can refer to that concrete class and whether it's possible to skip over re-defining paintComponent process to directly draw things .</p>\n"},{"tags":["java","quarkus","resteasy","multipart","http-status-code-413"],"answers":[{"tags":[],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659828254,"creation_date":1659828254,"answer_id":73263891,"question_id":73263890,"body_markdown":"After digging the [Quarkus documentation][1], the property you really need to configure is this: \r\n\r\n    quarkus.http.limits.max-form-attribute-size\r\n\r\nI have set this to 4M (4 megabytes), like this, on my application.yaml file, but of course you can configure it for any value you may want:\r\n\r\n    quarkus:\r\n        http:\r\n            limits:\r\n                max-form-attribute-size: 4M\r\n\r\nKeep in mind that if you are using an application.properties file instead, you should do it like this:\r\n\r\n    quarkus.http.limits.max-form-attribute-size=4M\r\n\r\n\r\n  [1]: https://quarkus.io/guides/http-reference","title":"Quarkus - 413 Request Entity Too Large","body":"<p>After digging the <a href=\"https://quarkus.io/guides/http-reference\" rel=\"nofollow noreferrer\">Quarkus documentation</a>, the property you really need to configure is this:</p>\n<pre><code>quarkus.http.limits.max-form-attribute-size\n</code></pre>\n<p>I have set this to 4M (4 megabytes), like this, on my application.yaml file, but of course you can configure it for any value you may want:</p>\n<pre><code>quarkus:\n    http:\n        limits:\n            max-form-attribute-size: 4M\n</code></pre>\n<p>Keep in mind that if you are using an application.properties file instead, you should do it like this:</p>\n<pre><code>quarkus.http.limits.max-form-attribute-size=4M\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681546978,"creation_date":1681546978,"answer_id":76021117,"question_id":73263890,"body_markdown":"My very same problem does not solve by @hugo solution. I fixed it using property `quarkus.http.limits.max-body-size`\r\n","title":"Quarkus - 413 Request Entity Too Large","body":"<p>My very same problem does not solve by @hugo solution. I fixed it using property <code>quarkus.http.limits.max-body-size</code></p>\n"}],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73263891,"answer_count":2,"score":2,"last_activity_date":1681546978,"creation_date":1659828254,"question_id":73263890,"body_markdown":"I am developing a Quarkus application and using RESTEasy Reactive. One of the endpoints receives a multipart/form-data mime type object but when I try to use it sometimes the &quot;413 - Request Entity too Large&quot; error occurs.","title":"Quarkus - 413 Request Entity Too Large","body":"<p>I am developing a Quarkus application and using RESTEasy Reactive. One of the endpoints receives a multipart/form-data mime type object but when I try to use it sometimes the &quot;413 - Request Entity too Large&quot; error occurs.</p>\n"},{"tags":["java","hibernate","orm","spring-data"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1444649191,"creation_date":1444649191,"answer_id":33079937,"question_id":33079769,"body_markdown":"Yes. [`Save()`][1] method do create new record if and only if your Object don&#39;t have an generated identifier\r\n\r\n\r\n&gt;Persist the given transient instance, first assigning a generated identifier. (**Or using the current value of the identifier property if the assigned generator is used.**)\r\n\r\nIf you have already a generated identifier associated with your Object, it just saves to that row.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/org.hibernate/hibernate-core/4.3.3.Final/org/hibernate/Session.java#Session.save%28java.lang.Object%29","title":"Some clarification on the Hibernate save() method. Why correctly update an existing record?","body":"<p>Yes. <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.hibernate/hibernate-core/4.3.3.Final/org/hibernate/Session.java#Session.save%28java.lang.Object%29\" rel=\"nofollow\"><code>Save()</code></a> method do create new record if and only if your Object don't have an generated identifier</p>\n\n<blockquote>\n  <p>Persist the given transient instance, first assigning a generated identifier. (<strong>Or using the current value of the identifier property if the assigned generator is used.</strong>)</p>\n</blockquote>\n\n<p>If you have already a generated identifier associated with your Object, it just saves to that row.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33079937,"answer_count":1,"score":0,"last_activity_date":1681546923,"creation_date":1444648635,"question_id":33079769,"body_markdown":"I am pretty new in Hibernate and I have the following doubt.\r\n\r\nInto a database table named **TWP1007_PROGETTO** I have this row (but the content is not important at this time):\r\n\r\n    PRG_PRO\tCOD_MEC_ATT\tDAT_ANN_SCO_ATT\tCOD_MEC_INI_PRO\tCOD_PRO\tIMP_FIN\tCOD_TIP_STA\tFLG_TIP_PRG\tPRG_GRA_WIF\tPRG_GRA_PNS\tFLG_PRE_FIR_DIR\tFLG_PRE_FIR_REV\tDAT_INS_REN\tDESC_NOM_FIL_REN\tOGG_FIL_REN\tDAT_VAL\tDES_NOT_VAL\tDAT_TRA_UFF_LIQ\tIMP_TOT_SPE\tIMP_SAL\tDES_NOM_UTE_VAL\tDES_NOM_DIR_REN\tDAT_ORA_ULT_MOV\tCOD_PGM_ULT_MOV\tCOD_UTE_ULT_MOV\r\n    2\tAGIS018009\t201516\tAGIS018009\tProgetto Wifi\t7980,00\t4\tW\t2\t\t\t\t\t\t\t\tnull\t\t\t\t\t12/10/2015 00:00:00\tRimesso in lavorazione\tuser.name\r\n\r\nThen, into a Spring MVC **service** class, I have create this method to **update** a record of this table:\r\n\r\n\tpublic void rimettiInLavorazioneProgetto(Twp1007Progetto progetto) {\r\n\t\tprogettoRepo.save(progetto);\r\n\t}\r\n\r\nWhere (**Twp1007Progetto progetto** is the object that map the **TWP1007_PROGETTO** table).\r\n\r\nSo as you can see in the previous method I use the `save()` hibernate method.\r\n\r\nIt works and the record is correctly updated but it seems strange because from what I have understand the `save()` method have to create a new record whereas the `update()` method have to update an existing record.\r\n\r\nSo why it works? Why it correctly update an existing record?\r\n","title":"Some clarification on the Hibernate save() method. Why correctly update an existing record?","body":"<p>I am pretty new in Hibernate and I have the following doubt.</p>\n<p>Into a database table named <strong>TWP1007_PROGETTO</strong> I have this row (but the content is not important at this time):</p>\n<pre><code>PRG_PRO COD_MEC_ATT DAT_ANN_SCO_ATT COD_MEC_INI_PRO COD_PRO IMP_FIN COD_TIP_STA FLG_TIP_PRG PRG_GRA_WIF PRG_GRA_PNS FLG_PRE_FIR_DIR FLG_PRE_FIR_REV DAT_INS_REN DESC_NOM_FIL_REN    OGG_FIL_REN DAT_VAL DES_NOT_VAL DAT_TRA_UFF_LIQ IMP_TOT_SPE IMP_SAL DES_NOM_UTE_VAL DES_NOM_DIR_REN DAT_ORA_ULT_MOV COD_PGM_ULT_MOV COD_UTE_ULT_MOV\n2   AGIS018009  201516  AGIS018009  Progetto Wifi   7980,00 4   W   2                               null                    12/10/2015 00:00:00 Rimesso in lavorazione  user.name\n</code></pre>\n<p>Then, into a Spring MVC <strong>service</strong> class, I have create this method to <strong>update</strong> a record of this table:</p>\n<pre><code>public void rimettiInLavorazioneProgetto(Twp1007Progetto progetto) {\n    progettoRepo.save(progetto);\n}\n</code></pre>\n<p>Where (<strong>Twp1007Progetto progetto</strong> is the object that map the <strong>TWP1007_PROGETTO</strong> table).</p>\n<p>So as you can see in the previous method I use the <code>save()</code> hibernate method.</p>\n<p>It works and the record is correctly updated but it seems strange because from what I have understand the <code>save()</code> method have to create a new record whereas the <code>update()</code> method have to update an existing record.</p>\n<p>So why it works? Why it correctly update an existing record?</p>\n"},{"tags":["java","main-method"],"comments":[{"owner":{"account_id":8295956,"reputation":169,"user_id":6236211,"accept_rate":20,"display_name":"Saurabh Oza"},"score":3,"creation_date":1540818936,"post_id":53046284,"comment_id":92992024,"body_markdown":"Can you elaborate more in question ? which controller do you mean here ?","body":"Can you elaborate more in question ? which controller do you mean here ?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":2,"creation_date":1540819148,"post_id":53046284,"comment_id":92992136,"body_markdown":"Can you provide some more context? Where is the term &quot;controller class&quot; mentioned?","body":"Can you provide some more context? Where is the term &quot;controller class&quot; mentioned?"},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1540820948,"post_id":53046284,"comment_id":92993329,"body_markdown":"Are you sure that you&#39;re not mixing this up with the MVC design pattern commonly used in Web Development?","body":"Are you sure that you&#39;re not mixing this up with the MVC design pattern commonly used in Web Development?"}],"answers":[{"tags":[],"owner":{"account_id":4463059,"reputation":162,"user_id":3631344,"accept_rate":17,"display_name":"Rabbit"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1540819455,"creation_date":1540819167,"answer_id":53046376,"question_id":53046284,"body_markdown":"A controller class is normally a class part of the Model View Controller (MVC) pattern. \r\nA controller basically controls the flow of the data.\r\n\r\n&gt;It controls the data flow into model object and updates the view whenever data changes.\r\n\r\nI suggest you read about it:\r\n\r\n- [Tutorials point documentation on MVC][1]\r\n- [MDN Web docs on MVC ][2]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/design_pattern/mvc_pattern.htm\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/Apps/Fundamentals/Modern_web_app_architecture/MVC_architecture","title":"What is a controller class in Java SE ?","body":"<p>A controller class is normally a class part of the Model View Controller (MVC) pattern. \nA controller basically controls the flow of the data.</p>\n\n<blockquote>\n  <p>It controls the data flow into model object and updates the view whenever data changes.</p>\n</blockquote>\n\n<p>I suggest you read about it:</p>\n\n<ul>\n<li><a href=\"https://www.tutorialspoint.com/design_pattern/mvc_pattern.htm\" rel=\"noreferrer\">Tutorials point documentation on MVC</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/Apps/Fundamentals/Modern_web_app_architecture/MVC_architecture\" rel=\"noreferrer\">MDN Web docs on MVC </a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28311473,"reputation":1,"user_id":21648651,"display_name":"Rudra Narayan Mohanty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681546507,"creation_date":1681546507,"answer_id":76021091,"question_id":53046284,"body_markdown":"The java class which is responsible to handle request and response.\r\nit will return Model  and view Object to DispatcherServlet.\r\nModel: Represents Data in Key Value format.\r\nView: Logical file name.\r\nControllers: it is loosely coupled with Presentation technology.","title":"What is a controller class in Java SE ?","body":"<p>The java class which is responsible to handle request and response.\nit will return Model  and view Object to DispatcherServlet.\nModel: Represents Data in Key Value format.\nView: Logical file name.\nControllers: it is loosely coupled with Presentation technology.</p>\n"}],"owner":{"display_name":"user10436512"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25787,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":2,"score":2,"last_activity_date":1681546507,"creation_date":1540818832,"question_id":53046284,"body_markdown":"Can someone explain the meaning and the position of a controller class in Java ? Why do we need to put the main method there ? ","title":"What is a controller class in Java SE ?","body":"<p>Can someone explain the meaning and the position of a controller class in Java ? Why do we need to put the main method there ? </p>\n"},{"tags":["java","junit","mockito","integration-testing","aspectj"],"comments":[{"owner":{"account_id":9535534,"reputation":783,"user_id":7085841,"accept_rate":64,"display_name":"karthik"},"score":0,"creation_date":1483456622,"post_id":41446622,"comment_id":70099508,"body_markdown":"@kriegaex could you help me with this...","body":"@kriegaex could you help me with this..."},{"owner":{"account_id":2417156,"reputation":997,"user_id":2110961,"accept_rate":33,"display_name":"Frank M."},"score":0,"creation_date":1483458255,"post_id":41446622,"comment_id":70100521,"body_markdown":"I think you should to define count variable as static.","body":"I think you should to define count variable as static."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1483459635,"post_id":41446622,"comment_id":70101485,"body_markdown":"I am a bit busy at the moment, but I will answer later, @karthik. Just quickly: The sample aspect has a singleton instatiation model, so it is a rather philosophical question whether the member should be static or not. But no matter what, it is not a good idea to do that because it inflicts a runtime penalty on the aspect, especially when applied broadly. BTW, it is not thread-safe either. Furthermore you should not pollute your production code with testing stuff. I am going to present a (hopefully better) solution later. :-)","body":"I am a bit busy at the moment, but I will answer later, @karthik. Just quickly: The sample aspect has a singleton instatiation model, so it is a rather philosophical question whether the member should be static or not. But no matter what, it is not a good idea to do that because it inflicts a runtime penalty on the aspect, especially when applied broadly. BTW, it is not thread-safe either. Furthermore you should not pollute your production code with testing stuff. I am going to present a (hopefully better) solution later. :-)"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681545842,"creation_date":1483481215,"answer_id":41453156,"question_id":41446622,"body_markdown":"Let us use the same sample code as in [my answer to the related AspectJ unit testing question](https://stackoverflow.com/a/41407336/1082681):\r\n\r\n**Java class to be targeted by aspect:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class Application {\r\n        public void doSomething(int number) {\r\n            System.out.println(&quot;Doing something with number &quot; + number);\r\n        }\r\n    }\r\n\r\n**Aspect under test:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.aspect;\r\n    \r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    \r\n    @Aspect\r\n    public class SampleAspect {\r\n        @Around(&quot;execution(* doSomething(int)) &amp;&amp; args(number)&quot;)\r\n        public Object intercept(final ProceedingJoinPoint thisJoinPoint, int number) throws Throwable {\r\n            System.out.println(thisJoinPoint + &quot; -&gt; &quot; + number);\r\n            if (number &lt; 0)\r\n                return thisJoinPoint.proceed(new Object[] { -number });\r\n            if (number &gt; 99)\r\n                throw new RuntimeException(&quot;oops&quot;);\r\n            return thisJoinPoint.proceed();\r\n        }\r\n    }\r\n\r\nYou have several options, depending on what exactly you want to test:\r\n\r\n1. You can run the AspectJ compiler and verify its console output (with weaving info enabled) in order to make sure that the expected joinpoints are actually woven and others are not. But this would rather be a test for your AspectJ configuration and the build process as such than a real integration test.\r\n2. Similarly, you can create a new weaving classloader, load the aspect and then a few classes (load-time weaving, LTW) in order to dynamically check what gets woven and what does not. In this case you are testing if your pointcuts are correct rather than the integrated application consisting of core + aspect code.\r\n3. Last, but not least, you can perform a normal integration test, assuming how the application should behave after core + aspect code have been woven correctly. How to do this, depends on you concrete situation, specifically on what kind of side effect your aspect adds to the core code.\r\n\r\nSubsequently I will describe option no. 3. Looking at the sample code above, we see the following side effects:\r\n\r\n* For small positive numbers, the aspect passes through the **_original_** parameter value to the intercepted method, the only side effect being additional log output.\r\n* For negative numbers, the aspect passes through the **_negated_** parameter value (e.g. turning -22 into 22) to the intercepted method, which is nicely testable.\r\n* For larger positive numbers, the aspect throws an **_exception_**, effectively stopping the original method from being executed at all.\r\n\r\n**Integration test for aspect:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.aspect;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.mockito.ArgumentMatchers.matches;\r\n    import static org.mockito.Mockito.times;\r\n    import static org.mockito.Mockito.verify;\r\n    \r\n    import java.io.PrintStream;\r\n    \r\n    import org.junit.*;\r\n    import org.junit.Before;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnit;\r\n    import org.mockito.junit.MockitoRule;\r\n    \r\n    import de.scrum_master.app.Application;\r\n    \r\n    public class SampleAspectIT {\r\n        @Rule public MockitoRule mockitoRule = MockitoJUnit.rule();\r\n    \r\n        private Application application = new Application();\r\n    \r\n        private PrintStream originalSystemOut;\r\n        @Mock private PrintStream fakeSystemOut;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            originalSystemOut = System.out;\r\n            System.setOut(fakeSystemOut);\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() throws Exception {\r\n            System.setOut(originalSystemOut);\r\n        }\r\n    \r\n        @Test\r\n        public void testPositiveSmallNumber() throws Throwable {\r\n            application.doSomething(11);\r\n            verify(System.out, times(1)).println(matches(&quot;execution.*doSomething.* 11&quot;));\r\n            verify(System.out, times(1)).println(matches(&quot;Doing something with number 11&quot;));\r\n        }\r\n    \r\n        @Test\r\n        public void testNegativeNumber() throws Throwable {\r\n            application.doSomething(-22);\r\n            verify(System.out, times(1)).println(matches(&quot;execution.*doSomething.* -22&quot;));\r\n            verify(System.out, times(1)).println(matches(&quot;Doing something with number 22&quot;));\r\n        }\r\n    \r\n        @Test(expected = RuntimeException.class)\r\n        public void testPositiveLargeNumber() throws Throwable {\r\n            try {\r\n                application.doSomething(333);\r\n            }\r\n            catch (Exception e) {\r\n                verify(System.out, times(1)).println(matches(&quot;execution.*doSomething.* 333&quot;));\r\n                verify(System.out, times(0)).println(matches(&quot;Doing something with number&quot;));\r\n                assertEquals(&quot;oops&quot;, e.getMessage());\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\nEt voil&#224;, we are testing exactly the three types of side effects our sample aspect has by inspecting log output to a mock instance of `System.out` and by making sure that the expected exception is thrown for larger positive numbers.","title":"Integration tests for AspectJ","body":"<p>Let us use the same sample code as in <a href=\"https://stackoverflow.com/a/41407336/1082681\">my answer to the related AspectJ unit testing question</a>:</p>\n<p><strong>Java class to be targeted by aspect:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n    public void doSomething(int number) {\n        System.out.println(&quot;Doing something with number &quot; + number);\n    }\n}\n</code></pre>\n<p><strong>Aspect under test:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class SampleAspect {\n    @Around(&quot;execution(* doSomething(int)) &amp;&amp; args(number)&quot;)\n    public Object intercept(final ProceedingJoinPoint thisJoinPoint, int number) throws Throwable {\n        System.out.println(thisJoinPoint + &quot; -&gt; &quot; + number);\n        if (number &lt; 0)\n            return thisJoinPoint.proceed(new Object[] { -number });\n        if (number &gt; 99)\n            throw new RuntimeException(&quot;oops&quot;);\n        return thisJoinPoint.proceed();\n    }\n}\n</code></pre>\n<p>You have several options, depending on what exactly you want to test:</p>\n<ol>\n<li>You can run the AspectJ compiler and verify its console output (with weaving info enabled) in order to make sure that the expected joinpoints are actually woven and others are not. But this would rather be a test for your AspectJ configuration and the build process as such than a real integration test.</li>\n<li>Similarly, you can create a new weaving classloader, load the aspect and then a few classes (load-time weaving, LTW) in order to dynamically check what gets woven and what does not. In this case you are testing if your pointcuts are correct rather than the integrated application consisting of core + aspect code.</li>\n<li>Last, but not least, you can perform a normal integration test, assuming how the application should behave after core + aspect code have been woven correctly. How to do this, depends on you concrete situation, specifically on what kind of side effect your aspect adds to the core code.</li>\n</ol>\n<p>Subsequently I will describe option no. 3. Looking at the sample code above, we see the following side effects:</p>\n<ul>\n<li>For small positive numbers, the aspect passes through the <strong><em>original</em></strong> parameter value to the intercepted method, the only side effect being additional log output.</li>\n<li>For negative numbers, the aspect passes through the <strong><em>negated</em></strong> parameter value (e.g. turning -22 into 22) to the intercepted method, which is nicely testable.</li>\n<li>For larger positive numbers, the aspect throws an <strong><em>exception</em></strong>, effectively stopping the original method from being executed at all.</li>\n</ul>\n<p><strong>Integration test for aspect:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.ArgumentMatchers.matches;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n\nimport java.io.PrintStream;\n\nimport org.junit.*;\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnit;\nimport org.mockito.junit.MockitoRule;\n\nimport de.scrum_master.app.Application;\n\npublic class SampleAspectIT {\n    @Rule public MockitoRule mockitoRule = MockitoJUnit.rule();\n\n    private Application application = new Application();\n\n    private PrintStream originalSystemOut;\n    @Mock private PrintStream fakeSystemOut;\n\n    @Before\n    public void setUp() throws Exception {\n        originalSystemOut = System.out;\n        System.setOut(fakeSystemOut);\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        System.setOut(originalSystemOut);\n    }\n\n    @Test\n    public void testPositiveSmallNumber() throws Throwable {\n        application.doSomething(11);\n        verify(System.out, times(1)).println(matches(&quot;execution.*doSomething.* 11&quot;));\n        verify(System.out, times(1)).println(matches(&quot;Doing something with number 11&quot;));\n    }\n\n    @Test\n    public void testNegativeNumber() throws Throwable {\n        application.doSomething(-22);\n        verify(System.out, times(1)).println(matches(&quot;execution.*doSomething.* -22&quot;));\n        verify(System.out, times(1)).println(matches(&quot;Doing something with number 22&quot;));\n    }\n\n    @Test(expected = RuntimeException.class)\n    public void testPositiveLargeNumber() throws Throwable {\n        try {\n            application.doSomething(333);\n        }\n        catch (Exception e) {\n            verify(System.out, times(1)).println(matches(&quot;execution.*doSomething.* 333&quot;));\n            verify(System.out, times(0)).println(matches(&quot;Doing something with number&quot;));\n            assertEquals(&quot;oops&quot;, e.getMessage());\n            throw e;\n        }\n    }\n}\n</code></pre>\n<p>Et voilà, we are testing exactly the three types of side effects our sample aspect has by inspecting log output to a mock instance of <code>System.out</code> and by making sure that the expected exception is thrown for larger positive numbers.</p>\n"},{"tags":[],"owner":{"account_id":6262549,"reputation":7,"user_id":4869247,"display_name":"DKS"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1647980258,"creation_date":1647980258,"answer_id":71578419,"question_id":41446622,"body_markdown":"@kriegaex What should be the test case implementation for below code\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class SampleAspect {\r\n\r\n    @Value(&quot;${timeout:10}&quot;)\r\n    private long timeout;\r\n\r\n    @Around(&quot;@annotation(com.packagename.TrackExecutionTime)&quot;)\r\n    public Object intercept( ProceedingJoinPoint point) throws Throwable {\r\n\r\n        long startTime = System.currentTimeMillis();\r\n\r\n        Object obj = point.proceed();\r\n\r\n        long endTime  = System.currentTimeMillis();\r\n\r\n        long timeOut = endTime-startTime;\r\n\r\n        if(timeOut &gt; timeout) \r\n         {\r\n          log.error(&quot;Error occured&quot;);\r\n        }\r\n          return obj;\r\n    }\r\n}\r\n```\r\n\r\nlink:https://stackoverflow.com/questions/71577906/junit-integration-test-for-aop-spring","title":"Integration tests for AspectJ","body":"<p>@kriegaex What should be the test case implementation for below code</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\npublic class SampleAspect {\n\n    @Value(&quot;${timeout:10}&quot;)\n    private long timeout;\n\n    @Around(&quot;@annotation(com.packagename.TrackExecutionTime)&quot;)\n    public Object intercept( ProceedingJoinPoint point) throws Throwable {\n\n        long startTime = System.currentTimeMillis();\n\n        Object obj = point.proceed();\n\n        long endTime  = System.currentTimeMillis();\n\n        long timeOut = endTime-startTime;\n\n        if(timeOut &gt; timeout) \n         {\n          log.error(&quot;Error occured&quot;);\n        }\n          return obj;\n    }\n}\n</code></pre>\n<p>link:<a href=\"https://stackoverflow.com/questions/71577906/junit-integration-test-for-aop-spring\">Junit-integration test for AOP Spring</a></p>\n"}],"owner":{"account_id":9535534,"reputation":783,"user_id":7085841,"accept_rate":64,"display_name":"karthik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8494,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41453156,"answer_count":2,"score":7,"last_activity_date":1681545842,"creation_date":1483456577,"question_id":41446622,"body_markdown":"I am trying to write Integratation  tests for Custom Aspect. Here is the Aspect Class Snippet.\r\n\r\n    @Aspect\r\n    @Component\r\n    public class SampleAspect {\r\n    \r\n        private static Logger log = LoggerFactory.getLogger(SampleAspect.class);\r\n    \r\n       private int count;\r\n    \r\n       public int getCount(){\r\n          return count;\r\n       }\r\n       \r\n        public void setCount(){\r\n          this.count= count;\r\n        }\r\n    \r\n    \r\n        @Around(&quot;execution(* org.springframework.data.mongodb.core.MongoOperations.*(..)) || execution(* org.springframework.web.client.RestOperations.*(..))&quot;)\r\n        public Object intercept(final ProceedingJoinPoint point) throws Throwable {\r\n            logger.info(&quot;invoked Cutom aspect&quot;);\r\n             setCount(1);\r\n             return point.proceed();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nSo the above aspect intercepts whenever jointpoint matches the pointcut. Its working fine. But my question is how to perform Integration test.\r\n\r\nWhat I have done is I created the attribute  &quot;count&quot; in Aspect for tracking and asserted it in my Junit. I am not sure if this is good or is there a better way of doing integration testing on aspects.\r\n\r\n\r\nHere is the snippet of Junit what I have done. I presented in bad way but I hope its undestandable of what I have done for Integration testing.\r\n\r\n    @Test\r\n    public void testSamepleAspect(){\r\n       sampleAspect.intercept(mockJointPoint);\r\n       Assert.assertEquals(simpleAspect.getCount(),1);\r\n    }\r\n","title":"Integration tests for AspectJ","body":"<p>I am trying to write Integratation  tests for Custom Aspect. Here is the Aspect Class Snippet.</p>\n\n<pre><code>@Aspect\n@Component\npublic class SampleAspect {\n\n    private static Logger log = LoggerFactory.getLogger(SampleAspect.class);\n\n   private int count;\n\n   public int getCount(){\n      return count;\n   }\n\n    public void setCount(){\n      this.count= count;\n    }\n\n\n    @Around(\"execution(* org.springframework.data.mongodb.core.MongoOperations.*(..)) || execution(* org.springframework.web.client.RestOperations.*(..))\")\n    public Object intercept(final ProceedingJoinPoint point) throws Throwable {\n        logger.info(\"invoked Cutom aspect\");\n         setCount(1);\n         return point.proceed();\n\n    }\n\n}\n</code></pre>\n\n<p>So the above aspect intercepts whenever jointpoint matches the pointcut. Its working fine. But my question is how to perform Integration test.</p>\n\n<p>What I have done is I created the attribute  \"count\" in Aspect for tracking and asserted it in my Junit. I am not sure if this is good or is there a better way of doing integration testing on aspects.</p>\n\n<p>Here is the snippet of Junit what I have done. I presented in bad way but I hope its undestandable of what I have done for Integration testing.</p>\n\n<pre><code>@Test\npublic void testSamepleAspect(){\n   sampleAspect.intercept(mockJointPoint);\n   Assert.assertEquals(simpleAspect.getCount(),1);\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":12440997,"reputation":11,"user_id":9059219,"display_name":"Archimedes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681544217,"creation_date":1681544217,"answer_id":76020945,"question_id":75816005,"body_markdown":"I have a class annotated with `@Embeddable` and used as `@Embedded` in fields in many classes or in many fields of the same class. I want to prefix it when mapping with a custom annotation.\r\nBut in some specific cases, I may also use `@Convert` mapping. Therefore, even if I follow some agreed naming rules, I cannot simply perform related logic processing through the column name.\r\nDuring this process, I encountered the same trouble as you: how to obtain the metadata of the Entity class and related fields in the implementation of `ImplicitNamingStrategy` or `PhysicalNamingStrategy`.\r\nThrough debugging, I found that the parameters in the interface in the source code implementation, such as `ImplicitBasicColumnNameSource`, are passed in as instances of anonymous classes, so I used the following method to obtain data other than [closure].\r\n\r\n```java\r\n    @SneakyThrows\r\n    private AnnotatedColumn getAnnotatedColumn(ImplicitBasicColumnNameSource source) {\r\n        val field = source.getClass().getDeclaredField(&quot;this$0&quot;);\r\n        field.setAccessible(true);\r\n        return (AnnotatedColumn) field.get(source);\r\n    }\r\n```\r\nAfter getting the `AnnotatedColumn`, things are simple.\r\nThe following is a screenshot of a simple usage fragment\r\n[enter image description here][1]\r\n\r\nIt should be noted that different jpa implementations or different versions of specific implementations may obtain different objects. Class like what I got in hibernate5.6 is `Ejb3Column`\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cs1Te.png","title":"choice based on current entity in ImplicitNamingStrategy.determineBasicColumnName","body":"<p>I have a class annotated with <code>@Embeddable</code> and used as <code>@Embedded</code> in fields in many classes or in many fields of the same class. I want to prefix it when mapping with a custom annotation.\nBut in some specific cases, I may also use <code>@Convert</code> mapping. Therefore, even if I follow some agreed naming rules, I cannot simply perform related logic processing through the column name.\nDuring this process, I encountered the same trouble as you: how to obtain the metadata of the Entity class and related fields in the implementation of <code>ImplicitNamingStrategy</code> or <code>PhysicalNamingStrategy</code>.\nThrough debugging, I found that the parameters in the interface in the source code implementation, such as <code>ImplicitBasicColumnNameSource</code>, are passed in as instances of anonymous classes, so I used the following method to obtain data other than [closure].</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SneakyThrows\n    private AnnotatedColumn getAnnotatedColumn(ImplicitBasicColumnNameSource source) {\n        val field = source.getClass().getDeclaredField(&quot;this$0&quot;);\n        field.setAccessible(true);\n        return (AnnotatedColumn) field.get(source);\n    }\n</code></pre>\n<p>After getting the <code>AnnotatedColumn</code>, things are simple.\nThe following is a screenshot of a simple usage fragment\n<a href=\"https://i.stack.imgur.com/Cs1Te.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>It should be noted that different jpa implementations or different versions of specific implementations may obtain different objects. Class like what I got in hibernate5.6 is <code>Ejb3Column</code></p>\n"}],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681544217,"creation_date":1679509553,"question_id":75816005,"body_markdown":"I know a logical schema of a 3rd-party readonly DB and I want to access it with Hibernate 6. I used the schema to generate `@Entity` beans for it, but there&#39;s one problem:\r\n\r\nDifferent entities may have identical logical attribute names, but the physical column names are mapped in a special registry table in the same DB and they may differ among entities and even for the same entity in different environments. For instance, on one environment the column is called &quot;name&quot; and on another it&#39;s &quot;name2&quot;.\r\n\r\nTo solve this I&#39;m trying to implement one of these two methods:\r\n\r\n* `org.hibernate.boot.model.naming.ImplicitNamingStrategy.determineBasicColumnName(ImplicitBasicColumnNameSource)`\r\n* `org.hibernate.boot.model.naming.PhysicalNamingStrategy.toPhysicalColumnName(Identifier, JdbcEnvironment)`\r\n\r\nThey are supposed to access the registry table and convert the property accordingly.\r\n\r\nHowever, the caller does not pass the current entity name to the callbacks and I don&#39;t know for which entity to retrieve the physical column name!\r\n\r\nIs there a workaround better than prefixing all like this? `@Column(&quot;MyEntiy$MyProperty&quot;)`","title":"choice based on current entity in ImplicitNamingStrategy.determineBasicColumnName","body":"<p>I know a logical schema of a 3rd-party readonly DB and I want to access it with Hibernate 6. I used the schema to generate <code>@Entity</code> beans for it, but there's one problem:</p>\n<p>Different entities may have identical logical attribute names, but the physical column names are mapped in a special registry table in the same DB and they may differ among entities and even for the same entity in different environments. For instance, on one environment the column is called &quot;name&quot; and on another it's &quot;name2&quot;.</p>\n<p>To solve this I'm trying to implement one of these two methods:</p>\n<ul>\n<li><code>org.hibernate.boot.model.naming.ImplicitNamingStrategy.determineBasicColumnName(ImplicitBasicColumnNameSource)</code></li>\n<li><code>org.hibernate.boot.model.naming.PhysicalNamingStrategy.toPhysicalColumnName(Identifier, JdbcEnvironment)</code></li>\n</ul>\n<p>They are supposed to access the registry table and convert the property accordingly.</p>\n<p>However, the caller does not pass the current entity name to the callbacks and I don't know for which entity to retrieve the physical column name!</p>\n<p>Is there a workaround better than prefixing all like this? <code>@Column(&quot;MyEntiy$MyProperty&quot;)</code></p>\n"},{"tags":["java","arrays","templates","arraylist","frameworks"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681544480,"post_id":76020943,"comment_id":134076386,"body_markdown":"At the point you called `size()` the list hasn&#39;t had any elements added to it.  So its size is zero.  And therefore `0 &lt; size` is `false` and the loop body doesn&#39;t execute.  Note that `new ArrayList&lt;&gt;(20)` is NOT setting the size to 20.  It is setting the *capacity* to 20.  Read the javadocs for a better explanation.  Or the duplink answers.","body":"At the point you called <code>size()</code> the list hasn&#39;t had any elements added to it.  So its size is zero.  And therefore <code>0 &lt; size</code> is <code>false</code> and the loop body doesn&#39;t execute.  Note that <code>new ArrayList&lt;&gt;(20)</code> is NOT setting the size to 20.  It is setting the <i>capacity</i> to 20.  Read the javadocs for a better explanation.  Or the duplink answers."}],"owner":{"account_id":28311143,"reputation":1,"user_id":21648366,"display_name":"Atharva Narkhede"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681544664,"answer_count":0,"score":0,"last_activity_date":1681544176,"creation_date":1681544176,"question_id":76020943,"body_markdown":"package SRM;\r\n\r\nimport java.util.*;\r\n\r\npublic class Coding {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;(20);\r\n\t\tSystem.out.println(&quot;Enter the elements in the array: &quot;);\r\n\t\tfor (int i = 0; i &lt; arr.size(); i++) {\r\n\t\t\tint a = sc.nextInt();\r\n\t\t\tarr.add(a);\r\n\t\t}\r\n\r\n\t\tfor (Iterator&lt;Integer&gt; it = arr.iterator(); it.hasNext();) {\r\n\t\t\tSystem.out.println(it.next());\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nFor loop not executing.\r\nit prints &quot;Enter the elements in the array: &quot; and then terminates the program instead going getting input.\r\nHelp me solve the issue","title":"why the program doesnt enter for loop to get elements in java arraylist","body":"<p>package SRM;</p>\n<p>import java.util.*;</p>\n<p>public class Coding {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;(20);\n    System.out.println(&quot;Enter the elements in the array: &quot;);\n    for (int i = 0; i &lt; arr.size(); i++) {\n        int a = sc.nextInt();\n        arr.add(a);\n    }\n\n    for (Iterator&lt;Integer&gt; it = arr.iterator(); it.hasNext();) {\n        System.out.println(it.next());\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>For loop not executing.\nit prints &quot;Enter the elements in the array: &quot; and then terminates the program instead going getting input.\nHelp me solve the issue</p>\n"},{"tags":["java","spring","aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1681454898,"post_id":76009894,"comment_id":134061874,"body_markdown":"And why would it intercept the exception? I don&#39;t really understand the problem. You do something before, call proceed, and in the finally part you cleanup (or whatever you do). You don&#39;t need to do anything with the exception.","body":"And why would it intercept the exception? I don&#39;t really understand the problem. You do something before, call proceed, and in the finally part you cleanup (or whatever you do). You don&#39;t need to do anything with the exception."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1681466106,"post_id":76009894,"comment_id":134064432,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681543238,"creation_date":1681466858,"answer_id":76013943,"question_id":76009894,"body_markdown":"You can, depending on your needs, either ignore the exception or log and re-throw it, whatever. Here are two possible variants to give you an idea:\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class ErrorIgnoringAspect {\r\n  @Around(&quot;execution(* org.acme..*(..))&quot;)\r\n  public Object advice1(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;&gt;&gt; &quot; + joinPoint);\r\n    try {\r\n      return joinPoint.proceed();\r\n    }\r\n    finally {\r\n      System.out.println(&quot;&lt;&lt; &quot; + joinPoint);\r\n    }\r\n  }\r\n\r\n  @Around(&quot;execution(* org.acme..*(..))&quot;)\r\n  public Object advice2(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;&gt;&gt; &quot; + joinPoint);\r\n    try {\r\n      Object result = joinPoint.proceed();\r\n      System.out.println(&quot;&lt;&lt; &quot; + joinPoint + &quot; -&gt; result = &quot; + result);\r\n      return result;\r\n    }\r\n    catch (Throwable t) {\r\n      System.out.println(&quot;&lt;&lt; &quot; + joinPoint + &quot; -&gt; error = &quot; + t);\r\n      throw t;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIf you just want to log the result or exception, and there is no need for exception handling, method parameter or result modification, of course you can also use a combination of `@Before`, `@AfterThrowing` (log exception) and `@AfterReturning` (log result), doing away with the need to use try-catch-finally or to proceed to the joinpoint.","title":"Can I keep @Around advice from interception exceptions in methods?","body":"<p>You can, depending on your needs, either ignore the exception or log and re-throw it, whatever. Here are two possible variants to give you an idea:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class ErrorIgnoringAspect {\n  @Around(&quot;execution(* org.acme..*(..))&quot;)\n  public Object advice1(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;&gt;&gt; &quot; + joinPoint);\n    try {\n      return joinPoint.proceed();\n    }\n    finally {\n      System.out.println(&quot;&lt;&lt; &quot; + joinPoint);\n    }\n  }\n\n  @Around(&quot;execution(* org.acme..*(..))&quot;)\n  public Object advice2(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;&gt;&gt; &quot; + joinPoint);\n    try {\n      Object result = joinPoint.proceed();\n      System.out.println(&quot;&lt;&lt; &quot; + joinPoint + &quot; -&gt; result = &quot; + result);\n      return result;\n    }\n    catch (Throwable t) {\n      System.out.println(&quot;&lt;&lt; &quot; + joinPoint + &quot; -&gt; error = &quot; + t);\n      throw t;\n    }\n  }\n}\n</code></pre>\n<p>If you just want to log the result or exception, and there is no need for exception handling, method parameter or result modification, of course you can also use a combination of <code>@Before</code>, <code>@AfterThrowing</code> (log exception) and <code>@AfterReturning</code> (log result), doing away with the need to use try-catch-finally or to proceed to the joinpoint.</p>\n"}],"owner":{"account_id":5079558,"reputation":383,"user_id":4076057,"accept_rate":100,"display_name":"Enigma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76013943,"answer_count":1,"score":0,"last_activity_date":1681543238,"creation_date":1681420627,"question_id":76009894,"body_markdown":"I want to use an advice in a java spring project to set some contexts before and after certain methods for database transactions, but if there&#39;s an exception I don&#39;t want the around advice to intercept this exception. However, I still need the finally/after part of the advice to execute to do some final things. \r\n\r\nShould I switch to just using the @Before and @After advice, or is there a possible workaround with the @Around advice?","title":"Can I keep @Around advice from interception exceptions in methods?","body":"<p>I want to use an advice in a java spring project to set some contexts before and after certain methods for database transactions, but if there's an exception I don't want the around advice to intercept this exception. However, I still need the finally/after part of the advice to execute to do some final things.</p>\n<p>Should I switch to just using the @Before and @After advice, or is there a possible workaround with the @Around advice?</p>\n"},{"tags":["java","jar","anylogic","executable-jar"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681542979,"post_id":76020780,"comment_id":134076243,"body_markdown":"I assume the _&quot;[..] export my model as a standalone Java application&quot;_ is exactly that feature... So, I guess you can&#39;t.","body":"I assume the <i>&quot;[..] export my model as a standalone Java application&quot;</i> is exactly that feature... So, I guess you can&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681543073,"creation_date":1681543073,"answer_id":76020867,"question_id":76020780,"body_markdown":"To get the jar files, you need to export it to a Java app. Which you can only do with the Professional version.\r\n\r\nMaybe contact support@anylogic.com and ask them if they can provide one for you...","title":"Anylogic build does not produce JAR files","body":"<p>To get the jar files, you need to export it to a Java app. Which you can only do with the Professional version.</p>\n<p>Maybe contact support@anylogic.com and ask them if they can provide one for you...</p>\n"}],"owner":{"account_id":23826464,"reputation":87,"user_id":17833439,"display_name":"Saman KHATAEI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76020867,"answer_count":1,"score":0,"last_activity_date":1681543073,"creation_date":1681541406,"question_id":76020780,"body_markdown":"I need JAR files of an empty simulation environment. I tried to build my project, and expected to have a compiled version of my project. But I cannot find it anywhere in the project path. I do not use the professional edition of Anylogic and cannot export my model as a standalone Java application. Do you have any ideas? Can you provide me with an exported Java JAR file(s) of an empty simulation?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JJ8QZ.png","title":"Anylogic build does not produce JAR files","body":"<p>I need JAR files of an empty simulation environment. I tried to build my project, and expected to have a compiled version of my project. But I cannot find it anywhere in the project path. I do not use the professional edition of Anylogic and cannot export my model as a standalone Java application. Do you have any ideas? Can you provide me with an exported Java JAR file(s) of an empty simulation?</p>\n<p><a href=\"https://i.stack.imgur.com/JJ8QZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JJ8QZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["python","java","open-source"],"answers":[{"tags":[],"owner":{"account_id":2274076,"reputation":261,"user_id":2000811,"accept_rate":0,"display_name":"user2000811"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358869271,"creation_date":1358869271,"answer_id":14462330,"question_id":14462268,"body_markdown":"Why don&#39;t ask at your campus? At mine there are plenty of projects from and for students. That&#39;s the first step to go. Some projects also use opensource projects and manipulate them. So you only learn a bit of the opensource project. And for the next step many students contribute to the opensource projects that were used in the students projects.","title":"Recommendations for introductory open source projects for a second-year computer science student proficient in Python and Java","body":"<p>Why don't ask at your campus? At mine there are plenty of projects from and for students. That's the first step to go. Some projects also use opensource projects and manipulate them. So you only learn a bit of the opensource project. And for the next step many students contribute to the opensource projects that were used in the students projects.</p>\n"},{"tags":[],"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358869486,"creation_date":1358869486,"answer_id":14462411,"question_id":14462268,"body_markdown":"Most open source projects need better documentation. You could pick one that you like and work on improving the documentation as you learn about the project. If you learn to write good documentation, that&#39;s a good career skill. And as you write it, you begin to learn enough about that project to work on the code before long.","title":"Recommendations for introductory open source projects for a second-year computer science student proficient in Python and Java","body":"<p>Most open source projects need better documentation. You could pick one that you like and work on improving the documentation as you learn about the project. If you learn to write good documentation, that's a good career skill. And as you write it, you begin to learn enough about that project to work on the code before long.</p>\n"},{"tags":[],"owner":{"account_id":2055435,"reputation":1525,"user_id":1833460,"accept_rate":100,"display_name":"happy coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359538810,"creation_date":1358869617,"answer_id":14462453,"question_id":14462268,"body_markdown":"Check out some projects that interest you ... to get an idea of what kind of projects to get involved in.\r\n\r\nHere are some broad suggestions:\r\n1) Have you heard of [Google Summer of Code][1]? \r\n2) You could set up your own project in [SourceForge][2], or some other repository. \r\n3) You could check out what others are doing and get involved in their projects. Check out projects in SF, [Freecode][3], or [Google Code][4]. \r\n\r\nDon&#39;t put your coding ability down, put it to use. Projects can always use people for doing documentation as well. CHEERS, and happy coding to you!\r\n\r\nHere&#39;s [one more link][5] that I saw today, and it reminded me of your question. The link suggests ten things you can do to be involved in open source.\r\n\r\n\r\n  [1]: https://code.google.com/soc/\r\n  [2]: https://sourceforge.net/account/login.php?return_to=/account/\r\n  [3]: http://freecode.com/\r\n  [4]: https://code.google.com/\r\n  [5]: http://opensource.com/life/13/1/10-ways-get-started-open-source","title":"Recommendations for introductory open source projects for a second-year computer science student proficient in Python and Java","body":"<p>Check out some projects that interest you ... to get an idea of what kind of projects to get involved in.</p>\n\n<p>Here are some broad suggestions:\n1) Have you heard of <a href=\"https://code.google.com/soc/\" rel=\"nofollow\">Google Summer of Code</a>? \n2) You could set up your own project in <a href=\"https://sourceforge.net/account/login.php?return_to=/account/\" rel=\"nofollow\">SourceForge</a>, or some other repository. \n3) You could check out what others are doing and get involved in their projects. Check out projects in SF, <a href=\"http://freecode.com/\" rel=\"nofollow\">Freecode</a>, or <a href=\"https://code.google.com/\" rel=\"nofollow\">Google Code</a>. </p>\n\n<p>Don't put your coding ability down, put it to use. Projects can always use people for doing documentation as well. CHEERS, and happy coding to you!</p>\n\n<p>Here's <a href=\"http://opensource.com/life/13/1/10-ways-get-started-open-source\" rel=\"nofollow\">one more link</a> that I saw today, and it reminded me of your question. The link suggests ten things you can do to be involved in open source.</p>\n"},{"tags":[],"owner":{"account_id":346628,"reputation":63,"user_id":1607038,"display_name":"priya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400781816,"creation_date":1400781816,"answer_id":23814163,"question_id":14462268,"body_markdown":"If you are interested in contributing to Python , you can submit documentation and testing related patches in the beginning. Here are the steps on how to contribute. https://openhatch.org/wiki/Contributing_to_Python.   \r\n\r\nIt can also help you in applying for Google Summer of Code and other Python projects.","title":"Recommendations for introductory open source projects for a second-year computer science student proficient in Python and Java","body":"<p>If you are interested in contributing to Python , you can submit documentation and testing related patches in the beginning. Here are the steps on how to contribute. <a href=\"https://openhatch.org/wiki/Contributing_to_Python\" rel=\"nofollow\">https://openhatch.org/wiki/Contributing_to_Python</a>.   </p>\n\n<p>It can also help you in applying for Google Summer of Code and other Python projects.</p>\n"}],"owner":{"account_id":1537606,"reputation":183,"user_id":1433153,"accept_rate":71,"display_name":"user1433153"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2058,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1401154109,"answer_count":4,"score":-1,"last_activity_date":1681542314,"creation_date":1358869063,"question_id":14462268,"body_markdown":"I am a second-year computer science major looking to contribute to open source projects. I have some proficiency in Python and Java and have researched various sites such as SourceForge and Apache, but I find the project listings on those sites to have a steep learning curve.\r\n\r\nCan anyone recommend some introductory open source projects that would be suitable for my level of programming skills and could potentially lead to contributions to bigger projects? I am open to any recommendations on this topic and would greatly appreciate any advice or insights.\r\n\r\nThank you for your time and help.","title":"Recommendations for introductory open source projects for a second-year computer science student proficient in Python and Java","body":"<p>I am a second-year computer science major looking to contribute to open source projects. I have some proficiency in Python and Java and have researched various sites such as SourceForge and Apache, but I find the project listings on those sites to have a steep learning curve.</p>\n<p>Can anyone recommend some introductory open source projects that would be suitable for my level of programming skills and could potentially lead to contributions to bigger projects? I am open to any recommendations on this topic and would greatly appreciate any advice or insights.</p>\n<p>Thank you for your time and help.</p>\n"},{"tags":["java","postgresql","string-parsing"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1632175561,"post_id":69261027,"comment_id":122417842,"body_markdown":"Would you like to share the Java code you&#39;ve tried so far?","body":"Would you like to share the Java code you&#39;ve tried so far?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1632176916,"post_id":69261027,"comment_id":122418106,"body_markdown":"Note: You generally shouldn&#39;t store passwords or any credentials within code. Therefore, &quot;parsing&quot; this string seems like a bad idea compared to having the credentials be injected into this URI from somewhere else (where your credentials would already be variables on their own)","body":"Note: You generally shouldn&#39;t store passwords or any credentials within code. Therefore, &quot;parsing&quot; this string seems like a bad idea compared to having the credentials be injected into this URI from somewhere else (where your credentials would already be variables on their own)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632194084,"post_id":69261027,"comment_id":122420608,"body_markdown":"By the way, I suggest learning about [`DataSource`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html) interface for holding database credentials ([Oracle tutorial](https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html)), the [`PGSimpleDataSource`](https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html) implementation, [directory service](https://en.wikipedia.org/wiki/Directory_service), and [Java Naming and Directory Interface](https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface).","body":"By the way, I suggest learning about <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a> interface for holding database credentials (<a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html\" rel=\"nofollow noreferrer\">Oracle tutorial</a>), the <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\" rel=\"nofollow noreferrer\"><code>PGSimpleDataSource</code></a> implementation, <a href=\"https://en.wikipedia.org/wiki/Directory_service\" rel=\"nofollow noreferrer\">directory service</a>, and <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">Java Naming and Directory Interface</a>."}],"answers":[{"tags":[],"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632178684,"creation_date":1632174475,"answer_id":69261196,"question_id":69261027,"body_markdown":"As suggested in the comment by @OneCricketeer - you can use URI parser to do this kind of things and it seems also to me like a best possible solution. You can implement it this way:\r\n\r\n```\r\ntry {\r\n    URI uri = new URI(&quot;postgres://username:password@host.com:123/databasename&quot;);\r\n    String[] userAndPassword = uri.getUserInfo().split(&quot;:&quot;);\r\n    String user = userAndPassword[0];\r\n    String password = userAndPassword[1];\r\n    String host = uri.getHost();\r\n    int port = uri.getPort();\r\n    String database = uri.getPath().substring(1);\r\n} catch (URISyntaxException e) {\r\n    e.printStackTrace(); // handle invalid JDBC URL syntax\r\n}\r\n```\r\n\r\nAlso think about your JDBC URL - maybe you have some possibilities to keep those parameters separately in some config and create JDBC URL as a concatentation from these parameters? It would make things easier - this way you wouldn&#39;t need any extraction of the parameters from URL.\r\n\r\n---------\r\nMy old answer below (which is worse than usage of URI parser but I&#39;m leaving it just for comparison with the above solution):\r\n\r\nI would go with regex which would be not that hard in this case and it would be then easy to extract parts of data you need.\r\n\r\nHowever, you can also use `split` method of String to get parts of the String you need, something like:\r\n\r\n```\r\nString url = &quot;postgres://username:password@hostaddress:port/databasename&quot;;\r\nString[] urlSplitByColon = url.split(&quot;:&quot;);\r\nString[] passwordAndHost = urlSplitByColon[2].split(&quot;@&quot;);\r\nString[] portAndDatabaseName = urlSplitByColon[3].split(&quot;/&quot;);\r\n\r\nString username = urlSplitByColon[1].substring(2); // substring to cut out double slash at the beginning of username\r\nString password = passwordAndHost[0];\r\nString host = passwordAndHost[1];\r\nString port = portAndDatabaseName[0];\r\nString databaseName = portAndDatabaseName[1];\r\n```\r\n\r\nbut I would really advice usage of regexp.","title":"Parse postgres URL","body":"<p>As suggested in the comment by @OneCricketeer - you can use URI parser to do this kind of things and it seems also to me like a best possible solution. You can implement it this way:</p>\n<pre><code>try {\n    URI uri = new URI(&quot;postgres://username:password@host.com:123/databasename&quot;);\n    String[] userAndPassword = uri.getUserInfo().split(&quot;:&quot;);\n    String user = userAndPassword[0];\n    String password = userAndPassword[1];\n    String host = uri.getHost();\n    int port = uri.getPort();\n    String database = uri.getPath().substring(1);\n} catch (URISyntaxException e) {\n    e.printStackTrace(); // handle invalid JDBC URL syntax\n}\n</code></pre>\n<p>Also think about your JDBC URL - maybe you have some possibilities to keep those parameters separately in some config and create JDBC URL as a concatentation from these parameters? It would make things easier - this way you wouldn't need any extraction of the parameters from URL.</p>\n<hr />\n<p>My old answer below (which is worse than usage of URI parser but I'm leaving it just for comparison with the above solution):</p>\n<p>I would go with regex which would be not that hard in this case and it would be then easy to extract parts of data you need.</p>\n<p>However, you can also use <code>split</code> method of String to get parts of the String you need, something like:</p>\n<pre><code>String url = &quot;postgres://username:password@hostaddress:port/databasename&quot;;\nString[] urlSplitByColon = url.split(&quot;:&quot;);\nString[] passwordAndHost = urlSplitByColon[2].split(&quot;@&quot;);\nString[] portAndDatabaseName = urlSplitByColon[3].split(&quot;/&quot;);\n\nString username = urlSplitByColon[1].substring(2); // substring to cut out double slash at the beginning of username\nString password = passwordAndHost[0];\nString host = passwordAndHost[1];\nString port = portAndDatabaseName[0];\nString databaseName = portAndDatabaseName[1];\n</code></pre>\n<p>but I would really advice usage of regexp.</p>\n"},{"tags":[],"owner":{"account_id":25253586,"reputation":1,"user_id":19085706,"display_name":"BruDalPer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652189310,"creation_date":1652187439,"answer_id":72186750,"question_id":69261027,"body_markdown":"In Node JS, the code below is working for me to connect to Heroku Postgres:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n      // Using URL to parse database URL parameters\r\n      const { URL } = require(&#39;url&#39;);\r\n      const myURL =\r\n      new URL(process.env.DATABASE_URL);\r\n     \r\n      // establishing a database connection\r\n      var { Client } = require(&#39;pg&#39;);\r\n      var client = new Client({\r\n        user: myURL.username, //local: postgres\r\n        host: myURL.hostname, //local: localhost\r\n        database: myURL.pathname.substring(1), //local: postgres\r\n        password: myURL.password, // local: admin\r\n        port: myURL.port,\r\n        connectionString: process.env.DATABASE_URL,\r\n        ssl: {\r\n          rejectUnauthorized: false\r\n        }\r\n      });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHad to use &#39;substring&#39; to remove the &#39;/&#39; from the pathname in order to extract the database string.\r\n\r\nRunning Node v16.14.2\r\n\r\n","title":"Parse postgres URL","body":"<p>In Node JS, the code below is working for me to connect to Heroku Postgres:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  // Using URL to parse database URL parameters\n  const { URL } = require('url');\n  const myURL =\n  new URL(process.env.DATABASE_URL);\n \n  // establishing a database connection\n  var { Client } = require('pg');\n  var client = new Client({\n    user: myURL.username, //local: postgres\n    host: myURL.hostname, //local: localhost\n    database: myURL.pathname.substring(1), //local: postgres\n    password: myURL.password, // local: admin\n    port: myURL.port,\n    connectionString: process.env.DATABASE_URL,\n    ssl: {\n      rejectUnauthorized: false\n    }\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Had to use 'substring' to remove the '/' from the pathname in order to extract the database string.</p>\n<p>Running Node v16.14.2</p>\n"},{"tags":[],"owner":{"account_id":6202518,"reputation":937,"user_id":4831778,"accept_rate":67,"display_name":"M2E67"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681540959,"creation_date":1681540959,"answer_id":76020748,"question_id":69261027,"body_markdown":"    import java.sql.*;\r\n    import org.postgresql.Driver;\r\n    import org.postgresql.util.PGProperty;\r\n    \r\n    public class ParsePostgreConnectionString {\r\n       public static void main(String[] args) throws SQLException {\r\n    \r\n          // Sample PostgreSQL connection string\r\n          String connectionString = &quot;jdbc:postgresql://localhost:5432/mydb?user=myusername&amp;password=mypassword&quot;;\r\n    \r\n          // Register the PostgreSQL JDBC driver\r\n          DriverManager.registerDriver(new Driver());\r\n    \r\n          // Create a Properties object and set the connection properties\r\n          Properties props = new Properties();\r\n          PGProperty.parseConnectionString(connectionString, props);\r\n    \r\n          // Get the individual connection properties\r\n          String host = props.getProperty(&quot;host&quot;);\r\n          String port = props.getProperty(&quot;port&quot;);\r\n          String databaseName = props.getProperty(&quot;databaseName&quot;);\r\n          String user = props.getProperty(&quot;user&quot;);\r\n          String password = props.getProperty(&quot;password&quot;);\r\n    \r\n          // Print out the parsed connection properties\r\n          System.out.println(&quot;Host: &quot; + host);\r\n          System.out.println(&quot;Port: &quot; + port);\r\n          System.out.println(&quot;Database name: &quot; + databaseName);\r\n          System.out.println(&quot;User: &quot; + user);\r\n          System.out.println(&quot;Password: &quot; + password);\r\n    \r\n          // Establish a connection to the database using the parsed connection properties\r\n          Connection conn = DriverManager.getConnection(connectionString, props);\r\n    \r\n          // Use the connection to interact with the database as needed\r\n          // ...\r\n    \r\n          // Close the connection when finished\r\n          conn.close();\r\n       }\r\n    }\r\n\r\n","title":"Parse postgres URL","body":"<pre><code>import java.sql.*;\nimport org.postgresql.Driver;\nimport org.postgresql.util.PGProperty;\n\npublic class ParsePostgreConnectionString {\n   public static void main(String[] args) throws SQLException {\n\n      // Sample PostgreSQL connection string\n      String connectionString = &quot;jdbc:postgresql://localhost:5432/mydb?user=myusername&amp;password=mypassword&quot;;\n\n      // Register the PostgreSQL JDBC driver\n      DriverManager.registerDriver(new Driver());\n\n      // Create a Properties object and set the connection properties\n      Properties props = new Properties();\n      PGProperty.parseConnectionString(connectionString, props);\n\n      // Get the individual connection properties\n      String host = props.getProperty(&quot;host&quot;);\n      String port = props.getProperty(&quot;port&quot;);\n      String databaseName = props.getProperty(&quot;databaseName&quot;);\n      String user = props.getProperty(&quot;user&quot;);\n      String password = props.getProperty(&quot;password&quot;);\n\n      // Print out the parsed connection properties\n      System.out.println(&quot;Host: &quot; + host);\n      System.out.println(&quot;Port: &quot; + port);\n      System.out.println(&quot;Database name: &quot; + databaseName);\n      System.out.println(&quot;User: &quot; + user);\n      System.out.println(&quot;Password: &quot; + password);\n\n      // Establish a connection to the database using the parsed connection properties\n      Connection conn = DriverManager.getConnection(connectionString, props);\n\n      // Use the connection to interact with the database as needed\n      // ...\n\n      // Close the connection when finished\n      conn.close();\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":5270185,"reputation":31,"user_id":4208693,"display_name":"Shavaiz Safdar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1397,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1681540959,"creation_date":1632173239,"question_id":69261027,"body_markdown":"I&#39;m trying to parse postgres db credentials, the format is as follows:\r\n\r\npostgres://usernname:password@hostaddress:port/databasename\r\n\r\nI&#39;m  calling a method which returns these credentials in the form of a String in one line and trying to figure out if there is a simple way of parsing them out by username,password port etc instead of using regex.\r\n  ","title":"Parse postgres URL","body":"<p>I'm trying to parse postgres db credentials, the format is as follows:</p>\n<p>postgres://usernname:password@hostaddress:port/databasename</p>\n<p>I'm  calling a method which returns these credentials in the form of a String in one line and trying to figure out if there is a simple way of parsing them out by username,password port etc instead of using regex.</p>\n"},{"tags":["java","eclipse","unicode"],"comments":[{"owner":{"account_id":78518,"reputation":40077,"user_id":223424,"accept_rate":74,"display_name":"9000"},"score":1,"creation_date":1384785881,"post_id":20050309,"comment_id":29862752,"body_markdown":"Can Eclipse&#39;s console output font be customized? If yes, have you tried selecting a different font?","body":"Can Eclipse&#39;s console output font be customized? If yes, have you tried selecting a different font?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1384790111,"post_id":20050309,"comment_id":29865782,"body_markdown":"Check this out http://paranoid-engineering.blogspot.com/2008/05/getting-unicode-output-in-eclipse.html","body":"Check this out <a href=\"http://paranoid-engineering.blogspot.com/2008/05/getting-unicode-output-in-eclipse.html\" rel=\"nofollow noreferrer\">paranoid-engineering.blogspot.com/2008/05/&hellip;</a>"},{"owner":{"account_id":1880317,"reputation":345,"user_id":1700680,"accept_rate":54,"display_name":"Benjamin"},"score":0,"creation_date":1384793434,"post_id":20050309,"comment_id":29867909,"body_markdown":"I&#39;ve already changed the console font and added -Dfile.encoding=UTF-8 to eclipse.ini and I still get the same output.","body":"I&#39;ve already changed the console font and added -Dfile.encoding=UTF-8 to eclipse.ini and I still get the same output."}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1384792973,"creation_date":1384792973,"answer_id":20053054,"question_id":20050309,"body_markdown":"The small box means that the current font doesn&#39;t have those symbols.\r\n\r\nYou will have to find a font which supports them and configure the console font (search the preferences for &quot;console&quot;) to use it.\r\n\r\nIf it still doesn&#39;t work, make sure you have configured the Java application that you&#39;re running (i.e. which prints to the console) to emit UTF-8. In Eclipse, you can do that by opening the launch config and setting &quot;Console Encoding&quot; to UTF-8 ([see this blog post][1] or [here][2])\r\n\r\n\r\n  [1]: http://decoding.wordpress.com/2010/03/18/eclipse-how-to-change-the-console-output-encoding/\r\n  [2]: http://eclipsesource.com/blogs/2013/02/21/pro-tip-unicode-characters-in-the-eclipse-console/","title":"How do I display unicode characters in the Eclipse console window?","body":"<p>The small box means that the current font doesn't have those symbols.</p>\n\n<p>You will have to find a font which supports them and configure the console font (search the preferences for \"console\") to use it.</p>\n\n<p>If it still doesn't work, make sure you have configured the Java application that you're running (i.e. which prints to the console) to emit UTF-8. In Eclipse, you can do that by opening the launch config and setting \"Console Encoding\" to UTF-8 (<a href=\"http://decoding.wordpress.com/2010/03/18/eclipse-how-to-change-the-console-output-encoding/\" rel=\"noreferrer\">see this blog post</a> or <a href=\"http://eclipsesource.com/blogs/2013/02/21/pro-tip-unicode-characters-in-the-eclipse-console/\" rel=\"noreferrer\">here</a>)</p>\n"},{"tags":[],"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1592360255,"creation_date":1592360255,"answer_id":62420435,"question_id":20050309,"body_markdown":"What worked for me was to go to Preferences, under Workspace, and change &quot;Text file encoding&quot; to UTF-8.","title":"How do I display unicode characters in the Eclipse console window?","body":"<p>What worked for me was to go to Preferences, under Workspace, and change \"Text file encoding\" to UTF-8.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681540899,"creation_date":1681540899,"answer_id":76020744,"question_id":20050309,"body_markdown":"All the solutions I found referred to configuring Eclipse to use UTF-8 including Workspace preferences and text file encoding. I already had all those configuration settings set correctly. Yet I still saw only several lines of question mark characters, i.e. `?`, when I ran the code in the question.\r\n\r\nWhile not changing any of those configuration settings, what worked for me was explicitly setting the [System] property `stdout.encoding`.  \r\n(Note that I am using Eclipse 2023-03 and [Oracle&#39;s] JDK 20.)\r\n\r\nMy [Eclipse] *Run Configuration* window:\r\n\r\n[![Eclipse run configuration][1]][1]\r\n\r\nHere is output appearing in Eclipse console (as text) when I run the (unaltered) code in the question:\r\n```none\r\nEnter the number of columns: 4\r\nEnter the width of the columns: 4\r\nEnter the number of rows: 4\r\nEnter the width of the rows: 4\r\n┏━━━━┳━━━━┳━━━━┳━━━━┓\r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┣━━━━╋━━━━╋━━━━╋━━━━┫\r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┣━━━━╋━━━━╋━━━━╋━━━━┫\r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┣━━━━╋━━━━╋━━━━╋━━━━┫\r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┃    ┃    ┃    ┃    ┃    \r\n┗━━━━┻━━━━┻━━━━┻━━━━┛\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UTd5i.png","title":"How do I display unicode characters in the Eclipse console window?","body":"<p>All the solutions I found referred to configuring Eclipse to use UTF-8 including Workspace preferences and text file encoding. I already had all those configuration settings set correctly. Yet I still saw only several lines of question mark characters, i.e. <code>?</code>, when I ran the code in the question.</p>\n<p>While not changing any of those configuration settings, what worked for me was explicitly setting the [System] property <code>stdout.encoding</code>.<br />\n(Note that I am using Eclipse 2023-03 and [Oracle's] JDK 20.)</p>\n<p>My [Eclipse] <em>Run Configuration</em> window:</p>\n<p><a href=\"https://i.stack.imgur.com/UTd5i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UTd5i.png\" alt=\"Eclipse run configuration\" /></a></p>\n<p>Here is output appearing in Eclipse console (as text) when I run the (unaltered) code in the question:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the number of columns: 4\nEnter the width of the columns: 4\nEnter the number of rows: 4\nEnter the width of the rows: 4\n┏━━━━┳━━━━┳━━━━┳━━━━┓\n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┣━━━━╋━━━━╋━━━━╋━━━━┫\n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┣━━━━╋━━━━╋━━━━╋━━━━┫\n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┣━━━━╋━━━━╋━━━━╋━━━━┫\n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┃    ┃    ┃    ┃    ┃    \n┗━━━━┻━━━━┻━━━━┻━━━━┛\n</code></pre>\n"}],"owner":{"account_id":1880317,"reputation":345,"user_id":1700680,"accept_rate":54,"display_name":"Benjamin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16726,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1681540899,"creation_date":1384785248,"question_id":20050309,"body_markdown":"I am creating a small Java application that uses Unicode characters to create rows and columns of boxes in the console window in Eclipse Keplar. My code works completely fine but the output of each Unicode character I print is a small box instead of the Unicode character I want to print.\r\n\r\nMy code is as follows. I have two classes.\r\n\r\nMy main class:\r\n\r\n    package assign03;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Assign03 {\r\n\r\n\tprivate static int columns;\r\n\tprivate static int cWidth;\r\n\tprivate static int rows;\r\n\tprivate static int rHeight;\r\n\tprivate static Table table;\r\n\r\n\tpublic static void main(String[] args) {\r\n            table = new Table();\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.print(&quot;Enter the number of columns: &quot;);\r\n            columns = input.nextInt();\r\n\r\n            System.out.print(&quot;Enter the width of the columns: &quot;);\r\n            cWidth = input.nextInt();\r\n\r\n            System.out.print(&quot;Enter the number of rows: &quot;);\r\n            rows = input.nextInt();\r\n\r\n            System.out.print(&quot;Enter the width of the rows: &quot;);\r\n            rHeight = input.nextInt();\r\n\r\n            table.printFirstLine(columns, cWidth);\r\n\r\n            for (int r = 0; r &lt; rows; r++) {\r\n                for (int rh = 0; rh &lt; rHeight; rh++) {\r\n                    table.printVerticalLine(columns, cWidth);\r\n                }\r\n                if (r &lt; (rows - 1)\r\n                    table.printInternalLine(columns, cWidth);\r\n            }\r\n\r\n            table.printLastLine(columns, cWidth);\r\n            input.close();\r\n        }\r\n    }\r\n\r\nAnd my Table.java class:\r\n\r\n    package assign03;\r\n\r\n    public class Table {\r\n\r\n        private char firstLine[] = { &#39;\\u2501&#39;, &#39;\\u250F&#39;, &#39;\\u2533&#39;, &#39;\\u2513&#39; };\r\n        private char internalLine[] = { &#39;\\u2501&#39;, &#39;\\u2523&#39;, &#39;\\u254B&#39;, &#39;\\u252B&#39; };\r\n        private char lastLine[] = { &#39;\\u2501&#39;, &#39;\\u2517&#39;, &#39;\\u253B&#39;, &#39;\\u251B&#39; };\r\n        private char verticalLine[] = { &#39;\\u2503&#39; };\r\n        private char whiteSpace[] = { &#39;\\u2003&#39; };\r\n\r\n        public void printFirstLine(int columns, int cWidth) {\r\n\r\n            System.out.print(firstLine[1]);\r\n\r\n            for (int c = 0; c &lt; columns; c++) {\r\n                for (int cw = 0; cw &lt; cWidth; cw++) {\r\n                    System.out.print(firstLine[0]);\r\n                }\r\n                if (c &lt; (columns - 1))\r\n                    System.out.print(firstLine[2]);\r\n            }\r\n\r\n            System.out.println(firstLine[3]);\r\n        }\r\n\r\n        public void printVerticalLine(int columns, int cWidth) {\r\n            for (int c = 0; c &lt;= columns; c++) {\r\n                System.out.print(verticalLine[0]);\r\n                for (int cw = 0; cw &lt; cWidth; cw++) {\r\n                    System.out.print(whiteSpace[0]);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        public void printInternalLine(int columns, int cWidth) {\r\n            System.out.print(internalLine[1]);\r\n\r\n            for (int c = 0; c &lt; columns; c++) {\r\n                for (int w = 0; w &lt; cWidth; w++) {\r\n                    System.out.print(internalLine[0]);\r\n                }\r\n                if (c &lt; (columns - 1))\r\n                    System.out.print(internalLine[2]);\r\n            }\r\n\r\n            System.out.println(internalLine[3]);\r\n        }\r\n\r\n        public void printLastLine(int columns, int cWidth) {\r\n\r\n            System.out.print(lastLine[1]);\r\n\r\n            for (int c = 0; c &lt; columns; c++) {\r\n                for (int w = 0; w &lt; cWidth; w++) {\r\n                    System.out.print(lastLine[0]);\r\n                }\r\n                if (c &lt; (columns - 1))\r\n                    System.out.print(lastLine[2]);\r\n            }\r\n\r\n            System.out.println(lastLine[3]);\r\n        }\r\n    }\r\n\r\nWhen the application runs, the output is as follows. I use inputs of 4 for columns, rows, column width, and row width.\r\n\r\n![Console Output](http://i.stack.imgur.com/U8WHX.png)\r\n\r\nAny reason why my console output looks like that? Can anybody help me get the Unicode to display properly? Thanks.","title":"How do I display unicode characters in the Eclipse console window?","body":"<p>I am creating a small Java application that uses Unicode characters to create rows and columns of boxes in the console window in Eclipse Keplar. My code works completely fine but the output of each Unicode character I print is a small box instead of the Unicode character I want to print.</p>\n\n<p>My code is as follows. I have two classes.</p>\n\n<p>My main class:</p>\n\n<pre><code>package assign03;\n\nimport java.util.Scanner;\n\npublic class Assign03 {\n\nprivate static int columns;\nprivate static int cWidth;\nprivate static int rows;\nprivate static int rHeight;\nprivate static Table table;\n\npublic static void main(String[] args) {\n        table = new Table();\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(\"Enter the number of columns: \");\n        columns = input.nextInt();\n\n        System.out.print(\"Enter the width of the columns: \");\n        cWidth = input.nextInt();\n\n        System.out.print(\"Enter the number of rows: \");\n        rows = input.nextInt();\n\n        System.out.print(\"Enter the width of the rows: \");\n        rHeight = input.nextInt();\n\n        table.printFirstLine(columns, cWidth);\n\n        for (int r = 0; r &lt; rows; r++) {\n            for (int rh = 0; rh &lt; rHeight; rh++) {\n                table.printVerticalLine(columns, cWidth);\n            }\n            if (r &lt; (rows - 1)\n                table.printInternalLine(columns, cWidth);\n        }\n\n        table.printLastLine(columns, cWidth);\n        input.close();\n    }\n}\n</code></pre>\n\n<p>And my Table.java class:</p>\n\n<pre><code>package assign03;\n\npublic class Table {\n\n    private char firstLine[] = { '\\u2501', '\\u250F', '\\u2533', '\\u2513' };\n    private char internalLine[] = { '\\u2501', '\\u2523', '\\u254B', '\\u252B' };\n    private char lastLine[] = { '\\u2501', '\\u2517', '\\u253B', '\\u251B' };\n    private char verticalLine[] = { '\\u2503' };\n    private char whiteSpace[] = { '\\u2003' };\n\n    public void printFirstLine(int columns, int cWidth) {\n\n        System.out.print(firstLine[1]);\n\n        for (int c = 0; c &lt; columns; c++) {\n            for (int cw = 0; cw &lt; cWidth; cw++) {\n                System.out.print(firstLine[0]);\n            }\n            if (c &lt; (columns - 1))\n                System.out.print(firstLine[2]);\n        }\n\n        System.out.println(firstLine[3]);\n    }\n\n    public void printVerticalLine(int columns, int cWidth) {\n        for (int c = 0; c &lt;= columns; c++) {\n            System.out.print(verticalLine[0]);\n            for (int cw = 0; cw &lt; cWidth; cw++) {\n                System.out.print(whiteSpace[0]);\n            }\n        }\n        System.out.println();\n    }\n\n    public void printInternalLine(int columns, int cWidth) {\n        System.out.print(internalLine[1]);\n\n        for (int c = 0; c &lt; columns; c++) {\n            for (int w = 0; w &lt; cWidth; w++) {\n                System.out.print(internalLine[0]);\n            }\n            if (c &lt; (columns - 1))\n                System.out.print(internalLine[2]);\n        }\n\n        System.out.println(internalLine[3]);\n    }\n\n    public void printLastLine(int columns, int cWidth) {\n\n        System.out.print(lastLine[1]);\n\n        for (int c = 0; c &lt; columns; c++) {\n            for (int w = 0; w &lt; cWidth; w++) {\n                System.out.print(lastLine[0]);\n            }\n            if (c &lt; (columns - 1))\n                System.out.print(lastLine[2]);\n        }\n\n        System.out.println(lastLine[3]);\n    }\n}\n</code></pre>\n\n<p>When the application runs, the output is as follows. I use inputs of 4 for columns, rows, column width, and row width.</p>\n\n<p><img src=\"https://i.stack.imgur.com/U8WHX.png\" alt=\"Console Output\"></p>\n\n<p>Any reason why my console output looks like that? Can anybody help me get the Unicode to display properly? Thanks.</p>\n"},{"tags":["java","windows","console-application","jpackage"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680137704,"creation_date":1680137704,"answer_id":75883309,"question_id":75883199,"body_markdown":"&gt; Am I supposed to be able to use jpackage to create a native binary that executes like a console application under Windows?\r\n\r\nYes, but not as a single self-contained executable.\r\n\r\nBy default `jpacakge` generates an installer (a .exe file on Windows). You can use `--type msi` to generate a .msi installer, or `--type app-image` to create an application image that can instead be zipped up and distributed. The application image contains the native binary.\r\n\r\nFor instance, if I use the following jpackage command:\r\n\r\n    jpackage --win-console --module mymodule --module-path mymodule.jar --type app-image --name myapp\r\n\r\n`jpackage` creates a `myapp` folder, which contains a `myapp.exe` which can run as a console application:\r\n\r\n    &gt; .\\myapp\\myapp.exe\r\n    Hello world!","title":"Unable to generate console application using jpackage","body":"<blockquote>\n<p>Am I supposed to be able to use jpackage to create a native binary that executes like a console application under Windows?</p>\n</blockquote>\n<p>Yes, but not as a single self-contained executable.</p>\n<p>By default <code>jpacakge</code> generates an installer (a .exe file on Windows). You can use <code>--type msi</code> to generate a .msi installer, or <code>--type app-image</code> to create an application image that can instead be zipped up and distributed. The application image contains the native binary.</p>\n<p>For instance, if I use the following jpackage command:</p>\n<pre><code>jpackage --win-console --module mymodule --module-path mymodule.jar --type app-image --name myapp\n</code></pre>\n<p><code>jpackage</code> creates a <code>myapp</code> folder, which contains a <code>myapp.exe</code> which can run as a console application:</p>\n<pre><code>&gt; .\\myapp\\myapp.exe\nHello world!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9158700,"reputation":33,"user_id":6810838,"display_name":"Rodrigo Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681539562,"creation_date":1681539562,"answer_id":76020677,"question_id":75883199,"body_markdown":"--win-console means that when you run your application it opens a terminal. You can use it to run the executable from the cmd and check the output for debugging. Once the application is fine, you can remove that option and build it again, so it no longer opens the terminal, but only opens your app.","title":"Unable to generate console application using jpackage","body":"<p>--win-console means that when you run your application it opens a terminal. You can use it to run the executable from the cmd and check the output for debugging. Once the application is fine, you can remove that option and build it again, so it no longer opens the terminal, but only opens your app.</p>\n"}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681539562,"creation_date":1680135877,"question_id":75883199,"body_markdown":"When I run the following command under Windows 10 I end up with an EXE file:\r\n\r\n`jpackage --win-console --module mymodule --module-path main.jar --module-path other-dependencies/ --app-version 1.0.0`\r\n\r\nI am expecting to be able to run the EXE as a command-line application but instead running the EXE seems to install the application in the Start Menu and it seems to execute as a GUI application (exiting immediately, never outputting to stdout).\r\n\r\nAm I supposed to be able to use `jpackage` to create a native binary that executes like a console application under Windows? Or did I misunderstand what `--win-console` is all about?\r\n\r\nThe only discussion I found is on [JDK-8253461](https://bugs.openjdk.org/browse/JDK-8253461?focusedCommentId=14369983&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-14369983) but I don&#39;t understand what Andy Herrick meant. Why would a non-console application need access to stdin/stdout?","title":"Unable to generate console application using jpackage","body":"<p>When I run the following command under Windows 10 I end up with an EXE file:</p>\n<p><code>jpackage --win-console --module mymodule --module-path main.jar --module-path other-dependencies/ --app-version 1.0.0</code></p>\n<p>I am expecting to be able to run the EXE as a command-line application but instead running the EXE seems to install the application in the Start Menu and it seems to execute as a GUI application (exiting immediately, never outputting to stdout).</p>\n<p>Am I supposed to be able to use <code>jpackage</code> to create a native binary that executes like a console application under Windows? Or did I misunderstand what <code>--win-console</code> is all about?</p>\n<p>The only discussion I found is on <a href=\"https://bugs.openjdk.org/browse/JDK-8253461?focusedCommentId=14369983&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-14369983\" rel=\"nofollow noreferrer\">JDK-8253461</a> but I don't understand what Andy Herrick meant. Why would a non-console application need access to stdin/stdout?</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1681385225,"post_id":75986656,"comment_id":134049402,"body_markdown":"No output in the Android logcat? Did you attach a breakpoint to the native method?","body":"No output in the Android logcat? Did you attach a breakpoint to the native method?"}],"answers":[{"tags":[],"owner":{"account_id":28033958,"reputation":1,"user_id":21412686,"display_name":"Zaitsev Ilya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681539116,"creation_date":1681539116,"answer_id":76020649,"question_id":75986656,"body_markdown":"Problem is solved.\r\n\r\nI add the following code in the Gradle file:\r\n\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDirs = [&#39;src/main/jniLibs&#39;]\r\n        }\r\n    }\r\n\r\nAnd also I copy my .so files into &#39;src/main/jniLibs/[platform]/&#39; directories.\r\n\r\nPlatforms: arm64-v8a, armeabi-v7a, x64, x86.","title":"How to register natives and use its function with JNI","body":"<p>Problem is solved.</p>\n<p>I add the following code in the Gradle file:</p>\n<pre><code>sourceSets {\n    main {\n        jniLibs.srcDirs = ['src/main/jniLibs']\n    }\n}\n</code></pre>\n<p>And also I copy my .so files into 'src/main/jniLibs/[platform]/' directories.</p>\n<p>Platforms: arm64-v8a, armeabi-v7a, x64, x86.</p>\n"}],"owner":{"account_id":28033958,"reputation":1,"user_id":21412686,"display_name":"Zaitsev Ilya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681539116,"creation_date":1681220916,"question_id":75986656,"body_markdown":"I tried to realize callback mechanism from Java into C++.\r\n\r\nAt first, im starting an Android-activity with intent from C++ with the following code:\r\n\r\n``` \r\njclass class_intent = env-&gt;FindClass(&quot;android/content/Intent&quot;);\r\njmethodID newIntent = env-&gt;GetMethodID(class_intent, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\njobject intent = env-&gt;NewObject(class_intent, newIntent);\r\njstring actionString = env-&gt;NewStringUTF(&quot;GET_VERSION&quot;);\r\njmethodID setAction = env-&gt;GetMethodID(class_intent, &quot;setAction&quot;, &quot;(Ljava/lang/String;)Landroid/content/Intent;&quot;);\r\nenv-&gt;CallObjectMethod(intent, setAction, actionString);\r\njmethodID startActivityMethod = env-&gt;GetMethodID(ccloc, &quot;startActivity&quot;, &quot;(Landroid/content/Intent;)V&quot;);\r\nenv-&gt;CallVoidMethod(activity, startActivityMethod, intent);\r\n```\r\n\r\nActivity has started successfully. But result of activity is not returned. So, it need to realize callback mechanism.\r\n\r\nI tried to create a new function:\r\n```\r\nvoid myFunc(JNIEnv* env, jobject obj) {\r\n    Logger::Instance().LogInfo(L&quot;&gt;&gt;&gt; AddInNative.myFunc&quot;);\r\n}\r\n```\r\n\r\nThis function can help to take result of the started activity. I register this function as native using JNI:\r\n```\r\nstatic JNINativeMethod native_methods[] =\r\n{\r\n    { &quot;myFunc&quot;, &quot;()V&quot;,  (void*)&amp;myFunc}\r\n};\r\njint res = env-&gt;RegisterNatives(ccloc, native_methods, 1);\r\n```\r\n\r\nSo, in this example, res equals to 0 (registered successfully). Also I checked correctness of the registration with help of:\r\n```\r\njmethodID check = env-&gt;GetMethodID(ccloc, &quot;myFunc&quot;, &quot;()V&quot;);\r\n```\r\n\r\nSo, the method &quot;Check&quot; has found. Therefore, the registration of the method was successful.\r\n\r\nAnd now I&#39;m trying to call this function in my Java-activity:\r\n```\r\npublic native void myFunc();\r\npublic void FinishActivity(boolean success, Intent intent) {\r\n    Log(&quot;FinishActivity&quot;);\r\n    setResult(success ? RESULT_OK : RESULT_CANCELED, intent);\r\n    if (mService != null)\r\n        mService.stopSelf();\r\n    Log(&quot;Callbacking...&quot;);\r\n    try {\r\n        myFunc();\r\n        Log(&quot;Callbacked.&quot;);\r\n    }catch(Exception e){\r\n        Log(&quot;Exception of callback&quot;);\r\n    }\r\n    finish();\r\n}\r\n```\r\n\r\nThe program is stoped at the myFunc calling position. It is logged &quot;Callbacking...&quot;, but not logged &quot;Callbacked.&quot; or &quot;Exception of callback&quot;.\r\n\r\nPlease, help. Why is myFunc not called? (mb called, but crashed at this moment...)","title":"How to register natives and use its function with JNI","body":"<p>I tried to realize callback mechanism from Java into C++.</p>\n<p>At first, im starting an Android-activity with intent from C++ with the following code:</p>\n<pre><code>jclass class_intent = env-&gt;FindClass(&quot;android/content/Intent&quot;);\njmethodID newIntent = env-&gt;GetMethodID(class_intent, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\njobject intent = env-&gt;NewObject(class_intent, newIntent);\njstring actionString = env-&gt;NewStringUTF(&quot;GET_VERSION&quot;);\njmethodID setAction = env-&gt;GetMethodID(class_intent, &quot;setAction&quot;, &quot;(Ljava/lang/String;)Landroid/content/Intent;&quot;);\nenv-&gt;CallObjectMethod(intent, setAction, actionString);\njmethodID startActivityMethod = env-&gt;GetMethodID(ccloc, &quot;startActivity&quot;, &quot;(Landroid/content/Intent;)V&quot;);\nenv-&gt;CallVoidMethod(activity, startActivityMethod, intent);\n</code></pre>\n<p>Activity has started successfully. But result of activity is not returned. So, it need to realize callback mechanism.</p>\n<p>I tried to create a new function:</p>\n<pre><code>void myFunc(JNIEnv* env, jobject obj) {\n    Logger::Instance().LogInfo(L&quot;&gt;&gt;&gt; AddInNative.myFunc&quot;);\n}\n</code></pre>\n<p>This function can help to take result of the started activity. I register this function as native using JNI:</p>\n<pre><code>static JNINativeMethod native_methods[] =\n{\n    { &quot;myFunc&quot;, &quot;()V&quot;,  (void*)&amp;myFunc}\n};\njint res = env-&gt;RegisterNatives(ccloc, native_methods, 1);\n</code></pre>\n<p>So, in this example, res equals to 0 (registered successfully). Also I checked correctness of the registration with help of:</p>\n<pre><code>jmethodID check = env-&gt;GetMethodID(ccloc, &quot;myFunc&quot;, &quot;()V&quot;);\n</code></pre>\n<p>So, the method &quot;Check&quot; has found. Therefore, the registration of the method was successful.</p>\n<p>And now I'm trying to call this function in my Java-activity:</p>\n<pre><code>public native void myFunc();\npublic void FinishActivity(boolean success, Intent intent) {\n    Log(&quot;FinishActivity&quot;);\n    setResult(success ? RESULT_OK : RESULT_CANCELED, intent);\n    if (mService != null)\n        mService.stopSelf();\n    Log(&quot;Callbacking...&quot;);\n    try {\n        myFunc();\n        Log(&quot;Callbacked.&quot;);\n    }catch(Exception e){\n        Log(&quot;Exception of callback&quot;);\n    }\n    finish();\n}\n</code></pre>\n<p>The program is stoped at the myFunc calling position. It is logged &quot;Callbacking...&quot;, but not logged &quot;Callbacked.&quot; or &quot;Exception of callback&quot;.</p>\n<p>Please, help. Why is myFunc not called? (mb called, but crashed at this moment...)</p>\n"},{"tags":["java","activex"],"owner":{"account_id":28309379,"reputation":1,"user_id":21646870,"display_name":"TAIMING KAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681538604,"creation_date":1681520950,"question_id":76019900,"body_markdown":"I am using com to call ActiveX to enable Java to print labels using Bartender. If the label paper to be printed is single-column, then the printing effect is normal. However, if the template page is set to multi-column mode with one row and two or more columns in the Bartender software, the actual effect of the following code is that only the left label has content and the right label has no content. How can I modify the code to make both the left and right labels have data?\r\n\r\n```\r\n//open Templete\r\n                btFormat = Dispatch.call(btFormats,&quot;Open&quot;,filePatch,false,&quot;&quot;).toDispatch();\r\n                Dispatch printSetup = Dispatch.get(btFormat,&quot;PrintSetup&quot;).toDispatch();\r\n                Dispatch.put(printSetup,&quot;Printer&quot;,&quot;TSC TE244&quot;);\r\n                    int size=printDatas.size();\r\n                    for(int i=0;i&lt;size;i++){\r\n                        Map&lt;String,String&gt;printMap=printDatas.get(i);\r\n                        if(printMap!=null){\r\n                            for(Map.Entry&lt;String,String&gt;entry:printMap.entrySet()){\r\n\r\n                                try{\r\n                                    //Replace variables in templates\r\n                                    Dispatch.call(btFormat,&quot;SetNamedSubStringValue&quot;,entry.getKey(),entry.getValue());\r\n                                }catch (Exception e){\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                        Dispatch.call(btFormat,&quot;PrintOut&quot;,false,false);\r\n```\r\n\r\nActual printing\r\n\r\n\r\nI tried to set the parameter IdenticalCopiesOfLabel to 2, and it can print two columns, but the content of the two columns is the same, which does not meet the expected effect. In addition, I also tried to set the parameter NumberSerializedLabels , but the printed content is still a single column","title":"How can I use Java code to set up a one-line multi-column label for the Bartender template?","body":"<p>I am using com to call ActiveX to enable Java to print labels using Bartender. If the label paper to be printed is single-column, then the printing effect is normal. However, if the template page is set to multi-column mode with one row and two or more columns in the Bartender software, the actual effect of the following code is that only the left label has content and the right label has no content. How can I modify the code to make both the left and right labels have data?</p>\n<pre><code>//open Templete\n                btFormat = Dispatch.call(btFormats,&quot;Open&quot;,filePatch,false,&quot;&quot;).toDispatch();\n                Dispatch printSetup = Dispatch.get(btFormat,&quot;PrintSetup&quot;).toDispatch();\n                Dispatch.put(printSetup,&quot;Printer&quot;,&quot;TSC TE244&quot;);\n                    int size=printDatas.size();\n                    for(int i=0;i&lt;size;i++){\n                        Map&lt;String,String&gt;printMap=printDatas.get(i);\n                        if(printMap!=null){\n                            for(Map.Entry&lt;String,String&gt;entry:printMap.entrySet()){\n\n                                try{\n                                    //Replace variables in templates\n                                    Dispatch.call(btFormat,&quot;SetNamedSubStringValue&quot;,entry.getKey(),entry.getValue());\n                                }catch (Exception e){\n\n                                }\n                            }\n                        }\n                        Dispatch.call(btFormat,&quot;PrintOut&quot;,false,false);\n</code></pre>\n<p>Actual printing</p>\n<p>I tried to set the parameter IdenticalCopiesOfLabel to 2, and it can print two columns, but the content of the two columns is the same, which does not meet the expected effect. In addition, I also tried to set the parameter NumberSerializedLabels , but the printed content is still a single column</p>\n"},{"tags":["java","spring-boot","port","keystore"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681537632,"post_id":76020551,"comment_id":134075815,"body_markdown":"&quot;saying there was an error&quot; -- what error?","body":"&quot;saying there was an error&quot; -- what error?"},{"owner":{"account_id":16352113,"reputation":1,"user_id":11810331,"display_name":"Sonador_Fool_1951"},"score":0,"creation_date":1681538123,"post_id":76020551,"comment_id":134075852,"body_markdown":"It says that it started SslServerAppplication but then stops saying there was an error parsing HTTP request header because invalid character found in method name.","body":"It says that it started SslServerAppplication but then stops saying there was an error parsing HTTP request header because invalid character found in method name."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681538606,"post_id":76020551,"comment_id":134075886,"body_markdown":"Please add the full text of the error message and any stack trace to your question.","body":"Please add the full text of the error message and any stack trace to your question."},{"owner":{"account_id":16352113,"reputation":1,"user_id":11810331,"display_name":"Sonador_Fool_1951"},"score":0,"creation_date":1681539669,"post_id":76020551,"comment_id":134075959,"body_markdown":"I finally got it to work. I think it&#39;s on Chromes end or something. If I type in localhost:8443/hash it pops up without error. If I type in https://localhost:8443/hash then the error pops up: java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens","body":"I finally got it to work. I think it&#39;s on Chromes end or something. If I type in localhost:8443/hash it pops up without error. If I type in <a href=\"https://localhost:8443/hash\" rel=\"nofollow noreferrer\">localhost:8443/hash</a> then the error pops up: java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens"}],"owner":{"account_id":16352113,"reputation":1,"user_id":11810331,"display_name":"Sonador_Fool_1951"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681537139,"creation_date":1681537139,"question_id":76020551,"body_markdown":"I&#39;m really at my wits end. I&#39;ve been working on this project trying to get the keystore path correct so I can generate a selfsigned certificate in my program files instead of in the Java/bin, finally got that fixed. I generated the PKCS12 and certificate, I got it all working on the required port 8443. \r\nThen I had trouble converting it from HTTP to a secure HTTPS. That was a royal pain in the @! I thought I finally figured it all out and I finally have a secure port with no security warning on Chrome EXCEPT it only works on the default port 8080 and not 8443.\r\nIf I try to force it to use port 8443 the program shuts down after a second saying there was an error.\r\nI&#39;m supposed to input https://localhost:8443/hash and have a secure connection.\r\nWhat am I doing wrong?\r\nI still have more of this project to work on and I&#39;m just worn out already.\r\n\r\n\r\nIf I use the provided layout:\r\n```\r\nserver.port=8443\r\nserver.ssl.key-alias=tomcat\r\nserver.ssl.key-store-password=password\r\nserver.ssl.key-store=classpath:keystore.p12\r\nserver.ssl.key-store-provider=SUN\r\nserver.ssl.key-store-type=pkcs12\r\n```\r\nPort 8443 will work however it won&#39;t be secure.\r\nIf I use this layout:\r\n\r\n```\r\nserver:\r\n\tssl:\r\n\t\tkey-store:classpath:keystore.p12\r\n\t\tkey-store-password: password\r\n\t\tkey-store-type: pkcs12\r\n\t\tkey-store-alias: tomcat\r\n\t\tkey-password: password\r\n\tport=8443\r\n```\r\nThen it will finally have a secure connection, however, only on the default port 8080","title":"HTTP to HTTPS Server Port","body":"<p>I'm really at my wits end. I've been working on this project trying to get the keystore path correct so I can generate a selfsigned certificate in my program files instead of in the Java/bin, finally got that fixed. I generated the PKCS12 and certificate, I got it all working on the required port 8443.\nThen I had trouble converting it from HTTP to a secure HTTPS. That was a royal pain in the @! I thought I finally figured it all out and I finally have a secure port with no security warning on Chrome EXCEPT it only works on the default port 8080 and not 8443.\nIf I try to force it to use port 8443 the program shuts down after a second saying there was an error.\nI'm supposed to input https://localhost:8443/hash and have a secure connection.\nWhat am I doing wrong?\nI still have more of this project to work on and I'm just worn out already.</p>\n<p>If I use the provided layout:</p>\n<pre><code>server.port=8443\nserver.ssl.key-alias=tomcat\nserver.ssl.key-store-password=password\nserver.ssl.key-store=classpath:keystore.p12\nserver.ssl.key-store-provider=SUN\nserver.ssl.key-store-type=pkcs12\n</code></pre>\n<p>Port 8443 will work however it won't be secure.\nIf I use this layout:</p>\n<pre><code>server:\n    ssl:\n        key-store:classpath:keystore.p12\n        key-store-password: password\n        key-store-type: pkcs12\n        key-store-alias: tomcat\n        key-password: password\n    port=8443\n</code></pre>\n<p>Then it will finally have a secure connection, however, only on the default port 8080</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1680995462,"post_id":75968047,"comment_id":133988601,"body_markdown":"The error is because you wrote `\\\\x` where you might have just meant `x`.  But fixing that won&#39;t give you a solution. The point about `split` is that it actually removes the portion of the text that matches the regular expression; then puts whatever pieces are left behind into an array.  I don&#39;t think that&#39;s what you want to do.","body":"The error is because you wrote <code>\\\\x</code> where you might have just meant <code>x</code>.  But fixing that won&#39;t give you a solution. The point about <code>split</code> is that it actually removes the portion of the text that matches the regular expression; then puts whatever pieces are left behind into an array.  I don&#39;t think that&#39;s what you want to do."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1680995704,"post_id":75968047,"comment_id":133988626,"body_markdown":"You could try a double split foirst on + and then on ^ but it would be better to explore [capturing groups](https://stackoverflow.com/questions/17969436/java-regex-capturing-groups). `x\\\\^(\\\\d+)\\\\+`","body":"You could try a double split foirst on + and then on ^ but it would be better to explore <a href=\"https://stackoverflow.com/questions/17969436/java-regex-capturing-groups\">capturing groups</a>. <code>x\\\\^(\\\\d+)\\\\+</code>"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1680996723,"post_id":75968047,"comment_id":133988715,"body_markdown":"&quot;I recently saw how to solve a problem of mine using java regex and the split method&quot; What problem? What you trying to _actually_ do here, irrespective of whether you use regexp or not?","body":"&quot;I recently saw how to solve a problem of mine using java regex and the split method&quot; What problem? What you trying to <i>actually</i> do here, irrespective of whether you use regexp or not?"},{"owner":{"account_id":27864736,"reputation":57,"user_id":21276461,"display_name":"userr554"},"score":0,"creation_date":1680997035,"post_id":75968047,"comment_id":133988742,"body_markdown":"Re. Mike The problem was essentially just the same problem im facing but with the coefficients instead of anything after the ^ but I found the coefficients answer online, so I didn&#39;t know what was going on inside the parentheses. Now I want to learn how to use split and Regex in order to parse anything after ^ but before the + into its own array","body":"Re. Mike The problem was essentially just the same problem im facing but with the coefficients instead of anything after the ^ but I found the coefficients answer online, so I didn&#39;t know what was going on inside the parentheses. Now I want to learn how to use split and Regex in order to parse anything after ^ but before the + into its own array"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":2,"creation_date":1681057156,"post_id":75968047,"comment_id":133994292,"body_markdown":"What is the desired result after the split?","body":"What is the desired result after the split?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681444785,"post_id":75968047,"comment_id":134060583,"body_markdown":"Wouldn&#39;t splitting into its parts be the goal? eg `-2x^2+3x^1+6` split into the coefficients and numerals `[-2, 2, 3, 1, 6]`? If so, try splitting on `&quot;[^\\\\d-]+&quot;`","body":"Wouldn&#39;t splitting into its parts be the goal? eg <code>-2x^2+3x^1+6</code> split into the coefficients and numerals <code>[-2, 2, 3, 1, 6]</code>? If so, try splitting on <code>&quot;[^\\\\d-]+&quot;</code>"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1681445614,"post_id":75968047,"comment_id":134060683,"body_markdown":"@Mscarb if you have a solution, remember to post an answer, or delete your post if you think no one else would benefit from learning what you leanred. Don&#39;t update the post to say &quot;there is an answer&quot; and then not show that answer (and _definitely_ don&#39;t put the answer in the post itself =)","body":"@Mscarb if you have a solution, remember to post an answer, or delete your post if you think no one else would benefit from learning what you leanred. Don&#39;t update the post to say &quot;there is an answer&quot; and then not show that answer (and <i>definitely</i> don&#39;t put the answer in the post itself =)"}],"answers":[{"tags":[],"owner":{"account_id":27864736,"reputation":57,"user_id":21276461,"display_name":"userr554"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681536982,"creation_date":1681536957,"answer_id":76020540,"question_id":75968047,"body_markdown":"There Are several answers to my question one would be to split the function by the + and therefore have the args split up instead of exclusively the coefficients i.e `polynomial.split(&quot;+&quot;)`\r\n\r\nAlternatively: this `&quot;[^\\\\d-]+&quot;` will also work if you are looking for an answer utilizing java regex than this might be what your looking for \r\n-- Answer provided by: Bohemian ♦\r\n\r\n\r\n","title":"Is There An Order To Java Regex Expressions?","body":"<p>There Are several answers to my question one would be to split the function by the + and therefore have the args split up instead of exclusively the coefficients i.e <code>polynomial.split(&quot;+&quot;)</code></p>\n<p>Alternatively: this <code>&quot;[^\\\\d-]+&quot;</code> will also work if you are looking for an answer utilizing java regex than this might be what your looking for\n-- Answer provided by: Bohemian ♦</p>\n"}],"owner":{"account_id":27864736,"reputation":57,"user_id":21276461,"display_name":"userr554"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76020540,"answer_count":1,"score":0,"last_activity_date":1681536982,"creation_date":1680994424,"question_id":75968047,"body_markdown":"I recently saw how to solve a problem of mine using java regex and the split method, so i wanted to learn regex I watched a few 20-30 min videos, and I thought I understood it, but in reality, those videos are only covering the basics I assume. Because there seems to be an order that expressions go, in order to split. for instance, this code splits the coefficients up but based off the knowledge from those videos this would actually split the x and the ^ char and ANY occurrence of a digit as well as any occurrence of a &quot;+&quot; But instead it splits the function so just the coefficients are left, Why?\r\n\r\n \r\ncode:\r\n\r\n\r\n```\r\nString polynomial = &quot;-2x^2+3x^1+6&quot;\r\n\r\nString[] parts = polynomial.split(&quot;x\\\\^\\\\d+\\\\+?&quot;)\r\nfor (i = 0; i &lt; part.length; i++){\r\nSystem.out.println(parts[i])\r\n}\r\n```\r\n \r\n\r\nI tried to write a split function that splits any num after the ^ char but before the + symbol of each &quot;part&quot; by doing `\\\\d+\\\\x\\\\+` which just gave me an error.\r\n","title":"Is There An Order To Java Regex Expressions?","body":"<p>I recently saw how to solve a problem of mine using java regex and the split method, so i wanted to learn regex I watched a few 20-30 min videos, and I thought I understood it, but in reality, those videos are only covering the basics I assume. Because there seems to be an order that expressions go, in order to split. for instance, this code splits the coefficients up but based off the knowledge from those videos this would actually split the x and the ^ char and ANY occurrence of a digit as well as any occurrence of a &quot;+&quot; But instead it splits the function so just the coefficients are left, Why?</p>\n<p>code:</p>\n<pre><code>String polynomial = &quot;-2x^2+3x^1+6&quot;\n\nString[] parts = polynomial.split(&quot;x\\\\^\\\\d+\\\\+?&quot;)\nfor (i = 0; i &lt; part.length; i++){\nSystem.out.println(parts[i])\n}\n</code></pre>\n<p>I tried to write a split function that splits any num after the ^ char but before the + symbol of each &quot;part&quot; by doing <code>\\\\d+\\\\x\\\\+</code> which just gave me an error.</p>\n"},{"tags":["java","android-studio","opencv","image-processing"],"owner":{"account_id":27882245,"reputation":11,"user_id":21290464,"display_name":"UncannyHarmony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681536305,"creation_date":1681536305,"question_id":76020501,"body_markdown":"I need to display the output of b* channel(I have performed inverse Thresholding on b* channel). I am new to the OpenCv so I&#39;m having hard time to figure out the method to do this, as if I directly used the Mat to Bitmap conversion on imgLab Mat, I face error... and I&#39;m not sure how to copy the outputs of b* channel on oriImage Mat. Please help.\r\n\r\n\r\n```\r\npublic void imageProcessingAlgorithm (){\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                long tStart = System.currentTimeMillis();\r\n                countWBC = 0;\r\n                countRBC = 0;\r\n\r\n                //Convert the Bitmap image to Mat\r\n                //Utils.bitmapToMat converts an Android Bitmap to an OpenCV Mat.\r\n                Mat oriImage = new Mat();\r\n                Utils.bitmapToMat(processBitmap, oriImage);\r\n                //Imgproc.cvtColor(oriImage, oriImage, Imgproc.COLOR_RGBA2RGB);\r\n\r\n                //Grayscale image\r\n                Mat grayscale = new Mat();\r\n                Imgproc.cvtColor(oriImage,grayscale, Imgproc.COLOR_RGB2GRAY);\r\n\r\n                //Otsu Thresholding (Binary Image)\r\n                Mat otsuThreshold = new Mat();\r\n                Imgproc.threshold(grayscale, otsuThreshold ,0,255, Imgproc.THRESH_OTSU);\r\n\r\n                //Contour finding\r\n                List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;(); //list for contours\r\n                Imgproc.findContours(otsuThreshold, contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_NONE);\r\n                //Mat drawing = new Mat(otsuThreshold.size(), CvType.CV_8UC3);\r\n\r\n                Mat hierarchy = new Mat();\r\n                Rect rect = new Rect();\r\n                int xBound =0;\r\n                int yBound =0;\r\n                int xWidth =0;\r\n                int yHeight =0;\r\n                int radius = 0;\r\n\r\n                for (int idx = 0; idx &lt; contours.size(); idx++) {\r\n                    Mat contour = contours.get(idx);\r\n                    List&lt;Double&gt; areasList = new ArrayList&lt;Double&gt;(); //list for area\r\n                    double contourarea = Imgproc.contourArea(contour);\r\n                    areasList.add(contourarea);\r\n                    //Point2f means 2D coordinates\r\n                    MatOfPoint2f approxCurve = new MatOfPoint2f();\r\n                    MatOfPoint2f contour2f = new MatOfPoint2f(contours.get(idx).toArray());\r\n                    double approxDistance = Imgproc.arcLength(contour2f, true) * 0.02;\r\n                    Imgproc.approxPolyDP(contour2f, approxCurve, approxDistance, true);\r\n                    MatOfPoint points = new MatOfPoint(approxCurve.toArray());\r\n                    rect = Imgproc.boundingRect(points);\r\n\r\n                    //if the image is in the form of circular microscopic region, thus we need to crop it with ROI. if image contour&gt;100000 it means the sample is already in square, so no need to crop\r\n                    if (contourarea &gt; 100000) {\r\n\r\n                        //Contour Drawing + Bounding Box\r\n                        xBound = rect.x;\r\n                        yBound = rect.y;\r\n                        xWidth = rect.width;\r\n                        yHeight = rect.height;\r\n                        //to Draw contour(colour is in Yellow (red+green))\r\n                        Imgproc.drawContours(oriImage, contours, idx, new Scalar(255, 255, 0), 2, 8, hierarchy, 0, new Point());\r\n                        //to Draw Outer Bounding rectangle(colour is in Green)\r\n                        Imgproc.rectangle(oriImage, new Point(rect.x, rect.y),\r\n                                new Point(rect.x + rect.width, rect.y + rect.height), new Scalar(0, 255, 0), 3);\r\n\r\n                        // this if-else block is to get correct Length of the square, i.e smaller length is chosen as length to get perfect square fitting in the circle\r\n                        if (rect.height &gt; rect.width)\r\n                            radius = rect.width/2;\r\n                        else\r\n                            radius = rect.height/2;\r\n                    }\r\n                }\r\n\r\n                //To find internal boundary to crop image\r\n                radius = (int)(radius*0.70711);\r\n                int xPos = xBound+(xWidth/2)-radius;\r\n                int yPos = yBound+(yHeight/2)-radius;\r\n                Rect reg_info = new Rect(xPos,yPos,radius*2,radius*2);\r\n                Mat region = oriImage.submat(reg_info);\r\n                //to Draw Inner Bounding rectangle(colour is in Yellow (red+green))\r\n                Imgproc.rectangle(oriImage, new Point(xBound+(xWidth/2)-radius, yBound+(yHeight/2)-radius),\r\n                        new Point(xBound+(xWidth/2)-radius + radius*2, yBound+(yHeight/2)-radius + radius*2), new Scalar(255, 255, 0), 3);\r\n\r\n\r\n                //Transform RGB to L*a*b* (CIELab)\r\n                Mat imgLab = new Mat();\r\n                Imgproc.cvtColor(region, imgLab, Imgproc.COLOR_RGB2Lab);\r\n                //Split L*a*b* to individual channels\r\n                List&lt;Mat&gt; lLab = new ArrayList&lt;Mat&gt;(3);\r\n                Core.split(imgLab, lLab);\r\n                Mat mLabL = lLab.get(0);   //L channel\r\n                Mat mLaba = lLab.get(1);   //a* channel\r\n                Mat mLabb = lLab.get(2);   //b* channel\r\n\r\n                //Image Otsu from Labb channel image\r\n                //(Binary Thresholding for WBC)\r\n                Mat imgWBC = new Mat();\r\n                Imgproc.threshold(mLabb, imgWBC, 110, 255, Imgproc.THRESH_BINARY_INV);\r\n\r\n                Mat imgWBCnew = imgWBC.clone();\r\n\r\n                long tEnd = System.currentTimeMillis();\r\n            long tDelta = tEnd - tStart;\r\n            elapsedSeconds = tDelta/1000.0 ;\r\n\r\n            //To convert the Mat object back to Bitmap\r\n            Utils.matToBitmap(oriImage,processBitmap);\r\n\r\n\r\n          runOnUiThread(new Runnable() {\r\n\r\n              @Override\r\n              public void run() {\r\n                  invalidateOptionsMenu();\r\n                  PhotoView myImage = (PhotoView) findViewById(R.id.resultImage);\r\n                  myImage.setImageBitmap(processBitmap);\r\n                  db.updateResult(new SampleViewList(fileName,folderName,countRBC,countWBC,String.valueOf(elapsedSeconds),getDate()));\r\n                  getImage = db.getImgView(fileName);\r\n                  showResult();\r\n                  try{\r\n                      FileOutputStream fOut = new FileOutputStream(resultImagedir);\r\n                      processBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fOut);\r\n                      try{\r\n                          fOut.flush();\r\n                          fOut.close();\r\n                      } catch (IOException E){\r\n                          E.printStackTrace();\r\n                      }\r\n                  } catch (FileNotFoundException e){\r\n                      e.printStackTrace();\r\n                  }\r\n\r\n    }\r\n\r\n    });\r\n            }\r\n  }).start();\r\n    }\r\n\r\n```\r\n\r\n","title":"How to display results of 1 channel in CIELab","body":"<p>I need to display the output of b* channel(I have performed inverse Thresholding on b* channel). I am new to the OpenCv so I'm having hard time to figure out the method to do this, as if I directly used the Mat to Bitmap conversion on imgLab Mat, I face error... and I'm not sure how to copy the outputs of b* channel on oriImage Mat. Please help.</p>\n<pre><code>public void imageProcessingAlgorithm (){\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                long tStart = System.currentTimeMillis();\n                countWBC = 0;\n                countRBC = 0;\n\n                //Convert the Bitmap image to Mat\n                //Utils.bitmapToMat converts an Android Bitmap to an OpenCV Mat.\n                Mat oriImage = new Mat();\n                Utils.bitmapToMat(processBitmap, oriImage);\n                //Imgproc.cvtColor(oriImage, oriImage, Imgproc.COLOR_RGBA2RGB);\n\n                //Grayscale image\n                Mat grayscale = new Mat();\n                Imgproc.cvtColor(oriImage,grayscale, Imgproc.COLOR_RGB2GRAY);\n\n                //Otsu Thresholding (Binary Image)\n                Mat otsuThreshold = new Mat();\n                Imgproc.threshold(grayscale, otsuThreshold ,0,255, Imgproc.THRESH_OTSU);\n\n                //Contour finding\n                List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;(); //list for contours\n                Imgproc.findContours(otsuThreshold, contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_NONE);\n                //Mat drawing = new Mat(otsuThreshold.size(), CvType.CV_8UC3);\n\n                Mat hierarchy = new Mat();\n                Rect rect = new Rect();\n                int xBound =0;\n                int yBound =0;\n                int xWidth =0;\n                int yHeight =0;\n                int radius = 0;\n\n                for (int idx = 0; idx &lt; contours.size(); idx++) {\n                    Mat contour = contours.get(idx);\n                    List&lt;Double&gt; areasList = new ArrayList&lt;Double&gt;(); //list for area\n                    double contourarea = Imgproc.contourArea(contour);\n                    areasList.add(contourarea);\n                    //Point2f means 2D coordinates\n                    MatOfPoint2f approxCurve = new MatOfPoint2f();\n                    MatOfPoint2f contour2f = new MatOfPoint2f(contours.get(idx).toArray());\n                    double approxDistance = Imgproc.arcLength(contour2f, true) * 0.02;\n                    Imgproc.approxPolyDP(contour2f, approxCurve, approxDistance, true);\n                    MatOfPoint points = new MatOfPoint(approxCurve.toArray());\n                    rect = Imgproc.boundingRect(points);\n\n                    //if the image is in the form of circular microscopic region, thus we need to crop it with ROI. if image contour&gt;100000 it means the sample is already in square, so no need to crop\n                    if (contourarea &gt; 100000) {\n\n                        //Contour Drawing + Bounding Box\n                        xBound = rect.x;\n                        yBound = rect.y;\n                        xWidth = rect.width;\n                        yHeight = rect.height;\n                        //to Draw contour(colour is in Yellow (red+green))\n                        Imgproc.drawContours(oriImage, contours, idx, new Scalar(255, 255, 0), 2, 8, hierarchy, 0, new Point());\n                        //to Draw Outer Bounding rectangle(colour is in Green)\n                        Imgproc.rectangle(oriImage, new Point(rect.x, rect.y),\n                                new Point(rect.x + rect.width, rect.y + rect.height), new Scalar(0, 255, 0), 3);\n\n                        // this if-else block is to get correct Length of the square, i.e smaller length is chosen as length to get perfect square fitting in the circle\n                        if (rect.height &gt; rect.width)\n                            radius = rect.width/2;\n                        else\n                            radius = rect.height/2;\n                    }\n                }\n\n                //To find internal boundary to crop image\n                radius = (int)(radius*0.70711);\n                int xPos = xBound+(xWidth/2)-radius;\n                int yPos = yBound+(yHeight/2)-radius;\n                Rect reg_info = new Rect(xPos,yPos,radius*2,radius*2);\n                Mat region = oriImage.submat(reg_info);\n                //to Draw Inner Bounding rectangle(colour is in Yellow (red+green))\n                Imgproc.rectangle(oriImage, new Point(xBound+(xWidth/2)-radius, yBound+(yHeight/2)-radius),\n                        new Point(xBound+(xWidth/2)-radius + radius*2, yBound+(yHeight/2)-radius + radius*2), new Scalar(255, 255, 0), 3);\n\n\n                //Transform RGB to L*a*b* (CIELab)\n                Mat imgLab = new Mat();\n                Imgproc.cvtColor(region, imgLab, Imgproc.COLOR_RGB2Lab);\n                //Split L*a*b* to individual channels\n                List&lt;Mat&gt; lLab = new ArrayList&lt;Mat&gt;(3);\n                Core.split(imgLab, lLab);\n                Mat mLabL = lLab.get(0);   //L channel\n                Mat mLaba = lLab.get(1);   //a* channel\n                Mat mLabb = lLab.get(2);   //b* channel\n\n                //Image Otsu from Labb channel image\n                //(Binary Thresholding for WBC)\n                Mat imgWBC = new Mat();\n                Imgproc.threshold(mLabb, imgWBC, 110, 255, Imgproc.THRESH_BINARY_INV);\n\n                Mat imgWBCnew = imgWBC.clone();\n\n                long tEnd = System.currentTimeMillis();\n            long tDelta = tEnd - tStart;\n            elapsedSeconds = tDelta/1000.0 ;\n\n            //To convert the Mat object back to Bitmap\n            Utils.matToBitmap(oriImage,processBitmap);\n\n\n          runOnUiThread(new Runnable() {\n\n              @Override\n              public void run() {\n                  invalidateOptionsMenu();\n                  PhotoView myImage = (PhotoView) findViewById(R.id.resultImage);\n                  myImage.setImageBitmap(processBitmap);\n                  db.updateResult(new SampleViewList(fileName,folderName,countRBC,countWBC,String.valueOf(elapsedSeconds),getDate()));\n                  getImage = db.getImgView(fileName);\n                  showResult();\n                  try{\n                      FileOutputStream fOut = new FileOutputStream(resultImagedir);\n                      processBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fOut);\n                      try{\n                          fOut.flush();\n                          fOut.close();\n                      } catch (IOException E){\n                          E.printStackTrace();\n                      }\n                  } catch (FileNotFoundException e){\n                      e.printStackTrace();\n                  }\n\n    }\n\n    });\n            }\n  }).start();\n    }\n\n</code></pre>\n"},{"tags":["java","struct","unpack"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680740295,"post_id":75944653,"comment_id":133951164,"body_markdown":"Something like a `ByteBuffer` or a `FloatBuffer` seems possible here, depending on your requirements.","body":"Something like a <code>ByteBuffer</code> or a <code>FloatBuffer</code> seems possible here, depending on your requirements."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680744598,"creation_date":1680744598,"answer_id":75945149,"question_id":75944653,"body_markdown":"You can wrap the bytes you read from the file in a [`FloatBuffer`][1].\r\n\r\n```\r\nvar fis = new FileInputStream(&quot;/path/to/file&quot;);\r\nvar bytes = fis.readNBytes(4 * 128 * 128);\r\nvar floats = ByteBuffer.wrap(bytes)\r\n//  optionally, specify the byte order here\r\n//  .order(ByteOrder.LITTLE_ENDIAN)\r\n    .asFloatBuffer();\r\n```\r\n\r\nThen, you can use `floats.get(n)` to get the float at index `n`, or `floats.put(n, f)` to write the float `f` into index `n`, just like you can with a `float[]`.\r\n\r\nIf you want a `float[]` for some reason, you need to allocate a new one and read the contents of `floats` into it:\r\n\r\n```\r\nvar floatArray = new float[128 * 128];\r\nfloats.get(floatArray);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/FloatBuffer.html","title":"How to implement struct.unpack in Java with float type?","body":"<p>You can wrap the bytes you read from the file in a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/FloatBuffer.html\" rel=\"nofollow noreferrer\"><code>FloatBuffer</code></a>.</p>\n<pre><code>var fis = new FileInputStream(&quot;/path/to/file&quot;);\nvar bytes = fis.readNBytes(4 * 128 * 128);\nvar floats = ByteBuffer.wrap(bytes)\n//  optionally, specify the byte order here\n//  .order(ByteOrder.LITTLE_ENDIAN)\n    .asFloatBuffer();\n</code></pre>\n<p>Then, you can use <code>floats.get(n)</code> to get the float at index <code>n</code>, or <code>floats.put(n, f)</code> to write the float <code>f</code> into index <code>n</code>, just like you can with a <code>float[]</code>.</p>\n<p>If you want a <code>float[]</code> for some reason, you need to allocate a new one and read the contents of <code>floats</code> into it:</p>\n<pre><code>var floatArray = new float[128 * 128];\nfloats.get(floatArray);\n</code></pre>\n"}],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681535645,"creation_date":1680736482,"question_id":75944653,"body_markdown":"I have a Python code that works fine but I will need to convert it into Java:\r\n\r\n```\r\n    file_path = ...\r\n    with open(file_path, &quot;rb&quot;) as file:\r\n        in = file.read(4 * 128 * 128)\r\n        numbers = struct.unpack(&#39;f&#39; * 128 * 128, in)\r\n```\r\n\r\nI found [the implementation for other types here](https://stackoverflow.com/questions/29879009/how-to-convert-python-struct-unpack-to-java) but I am looking for the implementation of the struct.unpack in Java for [float type(C Type = f)](https://docs.python.org/3/library/struct.html).","title":"How to implement struct.unpack in Java with float type?","body":"<p>I have a Python code that works fine but I will need to convert it into Java:</p>\n<pre><code>    file_path = ...\n    with open(file_path, &quot;rb&quot;) as file:\n        in = file.read(4 * 128 * 128)\n        numbers = struct.unpack('f' * 128 * 128, in)\n</code></pre>\n<p>I found <a href=\"https://stackoverflow.com/questions/29879009/how-to-convert-python-struct-unpack-to-java\">the implementation for other types here</a> but I am looking for the implementation of the struct.unpack in Java for <a href=\"https://docs.python.org/3/library/struct.html\" rel=\"nofollow noreferrer\">float type(C Type = f)</a>.</p>\n"},{"tags":["java","arraylist","stream"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681543628,"post_id":76020332,"comment_id":134076299,"body_markdown":"You should add prose to describe what you are trying to accomplish with the code.","body":"You should add prose to describe what you are trying to accomplish with the code."}],"answers":[{"tags":[],"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681535374,"creation_date":1681534724,"answer_id":76020428,"question_id":76020332,"body_markdown":"There are two ways to do that.\r\n\r\n### 1. Use a Map ###\r\n\r\n    Map&lt;Integer, Person&gt; map = new HashMap&lt;&gt;();\r\n    for (Person person : list) {\r\n        int id = person.getId();\r\n        if (!map.containsKey(id)) {\r\n            map.put(id, person);\r\n        } else {\r\n            Person existingPerson = map.get(id);\r\n            List&lt;position&gt; positions = existingPerson.getPosition();\r\n            positions.addAll(person.getPosition());\r\n            existingPerson.setPosition(positions);\r\n        }\r\n    }\r\n    List&lt;Person&gt; mergedList = new ArrayList&lt;&gt;(map.values());\r\n    System.out.println(mergedList);\r\n\r\n\r\n### 2. Use a **Stream** and `Collectors.groupingBy()` ###\r\n\r\n    List&lt;Person&gt; mergedList = list.stream()\r\n                .collect(Collectors.groupingBy(Person::getId))\r\n                .values().stream()\r\n                .map(group -&gt; {\r\n                    int id = group.get(0).getId();\r\n                    int contract = group.get(0).getContract();\r\n                    List&lt;Position&gt; positions = group.stream()\r\n                            .flatMap(person -&gt; person.getPositions().stream())\r\n                            .collect(Collectors.toList());\r\n                    return new Person(id, contract, positions);\r\n                })\r\n                .collect(Collectors.toList());\r\n    System.out.println(mergedList);\r\n\r\n","title":"Java - from ArrayList of object merge their data when the id is the same and inline with object by id","body":"<p>There are two ways to do that.</p>\n<h3>1. Use a Map</h3>\n<pre><code>Map&lt;Integer, Person&gt; map = new HashMap&lt;&gt;();\nfor (Person person : list) {\n    int id = person.getId();\n    if (!map.containsKey(id)) {\n        map.put(id, person);\n    } else {\n        Person existingPerson = map.get(id);\n        List&lt;position&gt; positions = existingPerson.getPosition();\n        positions.addAll(person.getPosition());\n        existingPerson.setPosition(positions);\n    }\n}\nList&lt;Person&gt; mergedList = new ArrayList&lt;&gt;(map.values());\nSystem.out.println(mergedList);\n</code></pre>\n<h3>2. Use a <strong>Stream</strong> and <code>Collectors.groupingBy()</code></h3>\n<pre><code>List&lt;Person&gt; mergedList = list.stream()\n            .collect(Collectors.groupingBy(Person::getId))\n            .values().stream()\n            .map(group -&gt; {\n                int id = group.get(0).getId();\n                int contract = group.get(0).getContract();\n                List&lt;Position&gt; positions = group.stream()\n                        .flatMap(person -&gt; person.getPositions().stream())\n                        .collect(Collectors.toList());\n                return new Person(id, contract, positions);\n            })\n            .collect(Collectors.toList());\nSystem.out.println(mergedList);\n</code></pre>\n"}],"owner":{"account_id":21956360,"reputation":5,"user_id":16234870,"display_name":"ark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76020428,"answer_count":1,"score":-2,"last_activity_date":1681535374,"creation_date":1681532345,"question_id":76020332,"body_markdown":"I am working in a problem with a list in java and need to merge info of two object from this.\r\n\r\nThis is my code\r\n```\r\nPerson person1 = new Person(1, 470, new ArrayList&lt;&gt;(Arrays.asList(new position(45, LocalDate.now()), new position(42, LocalDate.now()) )) );\r\nPerson person2 = new Person(1, 320, new ArrayList&lt;&gt;(Arrays.asList(new position(35, LocalDate.now()) )) );\r\nList&lt;Person&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(person1);\r\nlist.add(person2);\r\n\r\n        for(Person person:list){\r\n            int id= person.getId();;\r\n            List&lt;position&gt; aux = new ArrayList&lt;&gt;();\r\n            list.stream().forEach(x -&gt; {\r\n                if(x.getId()==id){\r\n                    aux.addAll( x.getPosition());\r\n                    \r\n                }\r\n            });\r\n            person.setPosition(aux);\r\n        }\r\n```\r\nthis is my print\r\n\r\n```\r\n[person{id=1, contrac=470, position=[position{id=45, bd=2023-04-14}, position{id=42, bd=2023-04-14}, position{id=35, bd=2023-04-14}]}, person{id=1, contrac=320, position=[position{id=45, bd=2023-04-14}, position{id=42, bd=2023-04-14}, position{id=35, bd=2023-04-14}, position{id=35, bd=2023-04-14}]}]\r\n```\r\ni have at the end two object and y need only one\r\nany suggestion to get only one or to improve the code\r\n\r\ni tried to get only one an object by id with the info of positions of all the object with the same id","title":"Java - from ArrayList of object merge their data when the id is the same and inline with object by id","body":"<p>I am working in a problem with a list in java and need to merge info of two object from this.</p>\n<p>This is my code</p>\n<pre><code>Person person1 = new Person(1, 470, new ArrayList&lt;&gt;(Arrays.asList(new position(45, LocalDate.now()), new position(42, LocalDate.now()) )) );\nPerson person2 = new Person(1, 320, new ArrayList&lt;&gt;(Arrays.asList(new position(35, LocalDate.now()) )) );\nList&lt;Person&gt; list = new ArrayList&lt;&gt;();\nlist.add(person1);\nlist.add(person2);\n\n        for(Person person:list){\n            int id= person.getId();;\n            List&lt;position&gt; aux = new ArrayList&lt;&gt;();\n            list.stream().forEach(x -&gt; {\n                if(x.getId()==id){\n                    aux.addAll( x.getPosition());\n                    \n                }\n            });\n            person.setPosition(aux);\n        }\n</code></pre>\n<p>this is my print</p>\n<pre><code>[person{id=1, contrac=470, position=[position{id=45, bd=2023-04-14}, position{id=42, bd=2023-04-14}, position{id=35, bd=2023-04-14}]}, person{id=1, contrac=320, position=[position{id=45, bd=2023-04-14}, position{id=42, bd=2023-04-14}, position{id=35, bd=2023-04-14}, position{id=35, bd=2023-04-14}]}]\n</code></pre>\n<p>i have at the end two object and y need only one\nany suggestion to get only one or to improve the code</p>\n<p>i tried to get only one an object by id with the info of positions of all the object with the same id</p>\n"},{"tags":["java","apache-spark","elasticsearch","apache-spark-sql"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681426573,"post_id":76004732,"comment_id":134058867,"body_markdown":"Can you add the snippet of what you tried?","body":"Can you add the snippet of what you tried?"},{"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"score":1,"creation_date":1681533072,"post_id":76004732,"comment_id":134075495,"body_markdown":"@ryanwebjackson, sure... I&#39;ve edited it to add code snippets","body":"@ryanwebjackson, sure... I&#39;ve edited it to add code snippets"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681534200,"post_id":76004732,"comment_id":134075565,"body_markdown":"Spark has an Elasticsearch client already. Why use native Java client?","body":"Spark has an Elasticsearch client already. Why use native Java client?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681534268,"post_id":76004732,"comment_id":134075569,"body_markdown":"In any case, the problem with this code `sparksession.read().load()` accepts a **file path**, not a string variable in-memory","body":"In any case, the problem with this code <code>sparksession.read().load()</code> accepts a <b>file path</b>, not a string variable in-memory"},{"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"score":0,"creation_date":1681709076,"post_id":76004732,"comment_id":134094260,"body_markdown":"Oh okay, @OneCricketeer you&#39;re right... I was looking at Spark support in Elasticsearch (https://www.elastic.co/guide/en/elasticsearch/hadoop/current/spark.html). Are there any other places where I could learn more about it as I feel the Java implementation for Spark is kinda vague?","body":"Oh okay, @OneCricketeer you&#39;re right... I was looking at Spark support in Elasticsearch (<a href=\"https://www.elastic.co/guide/en/elasticsearch/hadoop/current/spark.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/hadoop/current/spark.html</a>&zwnj;&#8203;). Are there any other places where I could learn more about it as I feel the Java implementation for Spark is kinda vague?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681733745,"post_id":76004732,"comment_id":134099339,"body_markdown":"More about what? That is the official documentation. Scala/Java/Python can all access the same classes in Spark. That page tells you how to create a dataframe and see its schema - https://www.elastic.co/guide/en/elasticsearch/hadoop/current/spark.html#spark-sql-read-java","body":"More about what? That is the official documentation. Scala/Java/Python can all access the same classes in Spark. That page tells you how to create a dataframe and see its schema - <a href=\"https://www.elastic.co/guide/en/elasticsearch/hadoop/current/spark.html#spark-sql-read-java\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/hadoop/current/&hellip;</a>"},{"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"score":0,"creation_date":1681805422,"post_id":76004732,"comment_id":134111722,"body_markdown":"I meant more about writing the ElasticSearch response into a parquet file and if there are some methods that could allow me to add the schema dynamically","body":"I meant more about writing the ElasticSearch response into a parquet file and if there are some methods that could allow me to add the schema dynamically"}],"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681534212,"creation_date":1681384198,"question_id":76004732,"body_markdown":"I wanted to convert the response from ElasticSearch `co.elastic.clients.elasticsearch.core.SearchResponse&lt;ObjectNode&gt; response` to a parquet file by generating the schema dynamically...\r\n\r\nI tried using Spark to create the parquet file dynamically, but it takes up a lot of heap space and is not memory efficient which resulted in a Memory out-of-bound exception as it exceeded the heap space while reading the JSON file and creating the data frame.\r\n\r\nI was looking to convert the Elastic response to a parquet file directly where the schema could be generated dynamically...\r\n\r\nI also saw that the schema is being generated dynamically by reading the first line of the record, but I&#39;m not sure if this might work when the JSON response or elastic response has a hierarchy or nested structure.\r\n\r\nHere&#39;s a code block for generating the schema of the parquet file dynamically through Spark.\r\n\r\n     \r\n\r\n    public static void main(String[] args) throws AnalysisException {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n\r\n        SparkSession sparkSession = SparkSession\r\n                .builder()\r\n                .appName(&quot;Java Spark SQL basic example&quot;)\r\n                .config(&quot;spark.master&quot;, &quot;local&quot;)\r\n                .getOrCreate();\r\n\r\n\r\n        // create a data from the source\r\n        Dataset&lt;Row&gt; dataframe =\r\n                sparkSession\r\n                        .read()\r\n                        .json(&quot;async.json&quot;);\r\n\r\n     //sparkSession.read().format(&quot;co.elastic.clients.elasticsearch.core.SearchResponse&lt;ObjectNode&gt;&quot;).load(response);\r\n\r\n\r\n        // save the json as a parquet file, maintaining the schema information\r\n        dataframe\r\n                .write()\r\n                .parquet(&quot;async.parquet&quot;);\r\n\r\n        // after the parquet file is created\r\n        // read the parquet file\r\n        // parquet file is self-describing so the schema is preserved\r\n        // the result of loading a parquet file is a also a Dataframe\r\n        Dataset&lt;Row&gt; parquetFileDataFrame = sparkSession\r\n                .read()\r\n                .parquet(&quot;async.parquet&quot;);\r\n\r\n        // parquet files are used to create temporary view and then used in SQL statements\r\n        parquetFileDataFrame.createTempView(&quot;parquetFile&quot;);\r\n\r\n        Dataset&lt;Row&gt; namesDataFrame = sparkSession\r\n                .sql(&quot;SELECT * FROM parquetFile&quot;);\r\n        namesDataFrame.show();\r\n    }\r\n\r\nHere&#39;s the code block where I want to convert the response from ElasticSearch async scroll&#39;s response to a parquet file where the schema could be generated dynamically...\r\n\r\n    public Future&lt;JsonObject&gt; asyncScroll(File file, String index, Query query, String[] source,\r\n      String searchId, ProgressListener progressListener) {\r\n    Promise&lt;JsonObject&gt; promise = Promise.promise();\r\n\r\n    SearchRequest searchRequest = SearchRequest\r\n        .of(e -&gt; e.index(index).query(query).size(10000).scroll(scr -&gt; scr.time(&quot;5m&quot;)));\r\n    asyncClient.search(searchRequest, ObjectNode.class).whenCompleteAsync((response, ex) -&gt; {\r\n      if (ex != null) {\r\n\r\n      }\r\n      String scrollId=null;\r\n      try {\r\n        // LOGGER.info(&quot;response : {}&quot;,response.toString());\r\n        scrollId = response.scrollId();\r\n\r\n        Dataset&lt;Row&gt; dataframe =\r\n              sparkSession\r\n                .read()\r\n                .format(&quot;String&quot;)\r\n                .load(response.toString());\r\n                \r\n        dataframe\r\n                .write()\r\n                .parquet(&quot;async.parquet&quot;);\r\n\r\n        Dataset&lt;Row&gt;  parquetFileDataFrame = sparkSession\r\n                .read()\r\n                .parquet(&quot;async.parquet&quot;);\r\n\r\n        // parquet files are used to create temporay view and then used in SQL statements\r\n        parquetFileDataFrame\r\n                .createTempView(&quot;parquetFile&quot;);\r\n\r\n        Dataset&lt;Row&gt;  namesDataFrame = sparkSession\r\n                .sql(&quot;SELECT * FROM parquetFile&quot;);\r\n        namesDataFrame.show();\r\n\r\n\r\nAny help is much appreciated!","title":"How to convert the ElasticSearch result into a parquet file?","body":"<p>I wanted to convert the response from ElasticSearch <code>co.elastic.clients.elasticsearch.core.SearchResponse&lt;ObjectNode&gt; response</code> to a parquet file by generating the schema dynamically...</p>\n<p>I tried using Spark to create the parquet file dynamically, but it takes up a lot of heap space and is not memory efficient which resulted in a Memory out-of-bound exception as it exceeded the heap space while reading the JSON file and creating the data frame.</p>\n<p>I was looking to convert the Elastic response to a parquet file directly where the schema could be generated dynamically...</p>\n<p>I also saw that the schema is being generated dynamically by reading the first line of the record, but I'm not sure if this might work when the JSON response or elastic response has a hierarchy or nested structure.</p>\n<p>Here's a code block for generating the schema of the parquet file dynamically through Spark.</p>\n<pre><code>public static void main(String[] args) throws AnalysisException {\n    System.out.println(&quot;Hello world!&quot;);\n\n    SparkSession sparkSession = SparkSession\n            .builder()\n            .appName(&quot;Java Spark SQL basic example&quot;)\n            .config(&quot;spark.master&quot;, &quot;local&quot;)\n            .getOrCreate();\n\n\n    // create a data from the source\n    Dataset&lt;Row&gt; dataframe =\n            sparkSession\n                    .read()\n                    .json(&quot;async.json&quot;);\n\n //sparkSession.read().format(&quot;co.elastic.clients.elasticsearch.core.SearchResponse&lt;ObjectNode&gt;&quot;).load(response);\n\n\n    // save the json as a parquet file, maintaining the schema information\n    dataframe\n            .write()\n            .parquet(&quot;async.parquet&quot;);\n\n    // after the parquet file is created\n    // read the parquet file\n    // parquet file is self-describing so the schema is preserved\n    // the result of loading a parquet file is a also a Dataframe\n    Dataset&lt;Row&gt; parquetFileDataFrame = sparkSession\n            .read()\n            .parquet(&quot;async.parquet&quot;);\n\n    // parquet files are used to create temporary view and then used in SQL statements\n    parquetFileDataFrame.createTempView(&quot;parquetFile&quot;);\n\n    Dataset&lt;Row&gt; namesDataFrame = sparkSession\n            .sql(&quot;SELECT * FROM parquetFile&quot;);\n    namesDataFrame.show();\n}\n</code></pre>\n<p>Here's the code block where I want to convert the response from ElasticSearch async scroll's response to a parquet file where the schema could be generated dynamically...</p>\n<pre><code>public Future&lt;JsonObject&gt; asyncScroll(File file, String index, Query query, String[] source,\n  String searchId, ProgressListener progressListener) {\nPromise&lt;JsonObject&gt; promise = Promise.promise();\n\nSearchRequest searchRequest = SearchRequest\n    .of(e -&gt; e.index(index).query(query).size(10000).scroll(scr -&gt; scr.time(&quot;5m&quot;)));\nasyncClient.search(searchRequest, ObjectNode.class).whenCompleteAsync((response, ex) -&gt; {\n  if (ex != null) {\n\n  }\n  String scrollId=null;\n  try {\n    // LOGGER.info(&quot;response : {}&quot;,response.toString());\n    scrollId = response.scrollId();\n\n    Dataset&lt;Row&gt; dataframe =\n          sparkSession\n            .read()\n            .format(&quot;String&quot;)\n            .load(response.toString());\n            \n    dataframe\n            .write()\n            .parquet(&quot;async.parquet&quot;);\n\n    Dataset&lt;Row&gt;  parquetFileDataFrame = sparkSession\n            .read()\n            .parquet(&quot;async.parquet&quot;);\n\n    // parquet files are used to create temporay view and then used in SQL statements\n    parquetFileDataFrame\n            .createTempView(&quot;parquetFile&quot;);\n\n    Dataset&lt;Row&gt;  namesDataFrame = sparkSession\n            .sql(&quot;SELECT * FROM parquetFile&quot;);\n    namesDataFrame.show();\n</code></pre>\n<p>Any help is much appreciated!</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":18385675,"reputation":67,"user_id":13392777,"display_name":"iducam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681533539,"creation_date":1681533209,"question_id":76020366,"body_markdown":"I&#39;m trying to persist the following objects:\r\n\r\n```\r\n@Entity\r\n@DynamicUpdate\r\npublic class Item {\r\n    ...\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinTable(\r\n            name = &quot;item_tag&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;item_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_name&quot;)\r\n    )\r\n    private Set&lt;Tag&gt; tags = new HashSet&lt;&gt;();\r\n\r\n    ...\r\n}\r\n```\r\n\r\nand \r\n\r\n```\r\n@Entity\r\npublic class Tag {\r\n    ...\r\n\r\n    @ManyToMany(mappedBy = &quot;tags&quot;, fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n    @JsonIgnore\r\n    private Set&lt;Item&gt; items = new HashSet&lt;&gt;();\r\n\r\n    ...\r\n}\r\n```\r\n\r\nThe behaviour I expect is that when saving a new Item that has a new Tag, the Item will cascade the persist operation to the new Tag and insert them into their respective tables as well as the corresponding entry in the join table. However, the transaction fails because Hibernate tries inserting into the Item table, followed immediately by the join table which has a foreign key constraint on the not-yet-inserted Tag. The strange thing is that when I update the `CascadeType` of my Item to `CascadeType.ALL`, it inserts the Item, the Tag, and updates the join table in the manner I desire. This is not the case even if I include all `CascadeType`s except for `CascadeType.REMOVE`.\r\n\r\nObviously this is not a realistic solution for me as I do not want Tags deleted when I remove an Item, so 1) why does `CascadeType.ALL` produce such (unexpected) behaviour, and 2) is the correct design to first persist my Tags and then the Item?","title":"How can I simultaneously persist new entries on both sides of a ManyToMany relationship in Hibernate?","body":"<p>I'm trying to persist the following objects:</p>\n<pre><code>@Entity\n@DynamicUpdate\npublic class Item {\n    ...\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinTable(\n            name = &quot;item_tag&quot;,\n            joinColumns = @JoinColumn(name = &quot;item_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_name&quot;)\n    )\n    private Set&lt;Tag&gt; tags = new HashSet&lt;&gt;();\n\n    ...\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class Tag {\n    ...\n\n    @ManyToMany(mappedBy = &quot;tags&quot;, fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    @JsonIgnore\n    private Set&lt;Item&gt; items = new HashSet&lt;&gt;();\n\n    ...\n}\n</code></pre>\n<p>The behaviour I expect is that when saving a new Item that has a new Tag, the Item will cascade the persist operation to the new Tag and insert them into their respective tables as well as the corresponding entry in the join table. However, the transaction fails because Hibernate tries inserting into the Item table, followed immediately by the join table which has a foreign key constraint on the not-yet-inserted Tag. The strange thing is that when I update the <code>CascadeType</code> of my Item to <code>CascadeType.ALL</code>, it inserts the Item, the Tag, and updates the join table in the manner I desire. This is not the case even if I include all <code>CascadeType</code>s except for <code>CascadeType.REMOVE</code>.</p>\n<p>Obviously this is not a realistic solution for me as I do not want Tags deleted when I remove an Item, so 1) why does <code>CascadeType.ALL</code> produce such (unexpected) behaviour, and 2) is the correct design to first persist my Tags and then the Item?</p>\n"},{"tags":["java","class","constructor","initialization"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681519495,"post_id":76018876,"comment_id":134074661,"body_markdown":"One Team (singular grammar) has a group (plural) of players. Team does not play itself , so , Teams (plural) is a group of Team multiple sets of.   So that really should be &quot;public class Teams extends ArrayList&lt;Team&gt;   and    &quot;public class Players extends ArrayList&lt;Player&gt;&quot;.  I don&#39;t use it much &quot;public class Teams&lt;Team&gt; extends ArrayList&quot; forgot which, compiler  will shows error., Teams&lt;Team&gt; or Players&lt;Player&gt; is how the variable type would be written in a class for those classes. Reasonably sure the latter because to sensibly declare &quot;Players&lt;Player&gt; pls = new Players&lt;&gt;();&quot;","body":"One Team (singular grammar) has a group (plural) of players. Team does not play itself , so , Teams (plural) is a group of Team multiple sets of.   So that really should be &quot;public class Teams extends ArrayList&lt;Team&gt;   and    &quot;public class Players extends ArrayList&lt;Player&gt;&quot;.  I don&#39;t use it much &quot;public class Teams&lt;Team&gt; extends ArrayList&quot; forgot which, compiler  will shows error., Teams&lt;Team&gt; or Players&lt;Player&gt; is how the variable type would be written in a class for those classes. Reasonably sure the latter because to sensibly declare &quot;Players&lt;Player&gt; pls = new Players&lt;&gt;();&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681530162,"creation_date":1681526541,"answer_id":76020105,"question_id":76018876,"body_markdown":"A Rudimentary attempt without a compiler to check.   Most reputable tutorials show what would be ... extends ArrayList-Team-\r\n\r\n\r\n\r\n     // Seems ok from some sources -  public class Teams&lt;Team&gt; extends ArrayList\r\n    \r\n     public class Teams extends ArrayList&lt;Team&gt;{\r\n        \r\n        Team temp;\r\n        Players&lt;Player&gt; pls; // extends ArrayList\r\n        \r\n        public Teams(){\r\n        \r\n        pls = new Players&lt;&gt;();\r\n        pls.add(new Player(&quot;Ruhollah Khomeini&quot;,0.0000,17,88));\r\n        pls.add(new Player(&quot;Margaret Thatcher&quot;,0.0000,101,16));\r\n        pls.add(new Player(&quot;Joe Biden&quot;,-0.0000,3,45));\r\n        pls.add(new Player(&quot;Idi Amin&quot;,0.0000,25,44));\r\n        \r\n        temp = new Team(pls);\r\n       \r\n        \r\n        add(temp);\r\n        \r\n        }//end constuctor\r\n        \r\n        }//end class\r\n\r\n\r\n\r\n","title":"How do i initialize fields in constructor in multiple java classes","body":"<p>A Rudimentary attempt without a compiler to check.   Most reputable tutorials show what would be ... extends ArrayList-Team-</p>\n<pre><code> // Seems ok from some sources -  public class Teams&lt;Team&gt; extends ArrayList\n\n public class Teams extends ArrayList&lt;Team&gt;{\n    \n    Team temp;\n    Players&lt;Player&gt; pls; // extends ArrayList\n    \n    public Teams(){\n    \n    pls = new Players&lt;&gt;();\n    pls.add(new Player(&quot;Ruhollah Khomeini&quot;,0.0000,17,88));\n    pls.add(new Player(&quot;Margaret Thatcher&quot;,0.0000,101,16));\n    pls.add(new Player(&quot;Joe Biden&quot;,-0.0000,3,45));\n    pls.add(new Player(&quot;Idi Amin&quot;,0.0000,25,44));\n    \n    temp = new Team(pls);\n   \n    \n    add(temp);\n    \n    }//end constuctor\n    \n    }//end class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681532708,"creation_date":1681532188,"answer_id":76020327,"question_id":76018876,"body_markdown":"I think this is more of a design question where we have players with their attributes who is belonging to players.\r\nThen the players are assigned to one team, where we could have multiple teams. \r\n\r\n@vishalpd, Please check the below class implementation done by me with the basic information you have given. \r\nAlso please note additional validations should be added, this is just a skeleton.\r\n\r\nI have used different constructors in the classes to instantiate objects differently.\r\n\r\nMost importantly java var args constructor is also created for a more elegant way of adding players and teams one by one.\r\n\r\nAlso `List&lt;Team&gt; teams` and `List&lt;Player&gt; players` lists have been used internally in the Teams and Players classes to keep each player and team.\r\n    \r\n**Player class**\r\n    \r\n    public class Player {\r\n            public Player(String name, Double credit, String level, Integer age, String team, Integer no) {\r\n                this.name = name;\r\n                this.credit = credit;\r\n                this.level = level;\r\n                this.age = age;\r\n                this.team = team;\r\n                this.no = no;\r\n            }\r\n        \r\n            public Player() {\r\n            }\r\n        \r\n            private String name;\r\n            private Double credit;\r\n            private String level;\r\n            private Integer age;\r\n            private String team;\r\n            private Integer no;\r\n        \r\n            public String getName() {\r\n                return name;\r\n            }\r\n        \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n        \r\n            public Double getCredit() {\r\n                return credit;\r\n            }\r\n        \r\n            public void setCredit(Double credit) {\r\n                this.credit = credit;\r\n            }\r\n        \r\n            public String getLevel() {\r\n                return level;\r\n            }\r\n        \r\n            public void setLevel(String level) {\r\n                this.level = level;\r\n            }\r\n        \r\n            public Integer getAge() {\r\n                return age;\r\n            }\r\n        \r\n            public void setAge(Integer age) {\r\n                this.age = age;\r\n            }\r\n        \r\n            public String getTeam() {\r\n                return team;\r\n            }\r\n        \r\n            public void setTeam(String team) {\r\n                this.team = team;\r\n            }\r\n        \r\n            public Integer getNo() {\r\n                return no;\r\n            }\r\n        \r\n            public void setNo(Integer no) {\r\n                this.no = no;\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Player{&quot; +\r\n                        &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                        &quot;, credit=&quot; + credit +\r\n                        &quot;, level=&#39;&quot; + level + &#39;\\&#39;&#39; +\r\n                        &quot;, age=&quot; + age +\r\n                        &quot;, team=&#39;&quot; + team + &#39;\\&#39;&#39; +\r\n                        &quot;, no=&quot; + no +\r\n                        &#39;}&#39;;\r\n            }\r\n        \r\n        }\r\n\r\n**Players class**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n        \r\n    public class Players {\r\n        private List&lt;Player&gt; players;\r\n    \r\n        public Players(Player... players) {\r\n            this.players = new ArrayList&lt;&gt;();\r\n            Arrays.stream(players).forEach(player -&gt; this.players.add(player));\r\n        }\r\n    \r\n        public Players(List&lt;Player&gt; players) {\r\n            this.players = players;\r\n        }\r\n    \r\n        public Players() {\r\n            this.players = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public List&lt;Player&gt; getPlayers() {\r\n            return players;\r\n        }\r\n    \r\n        public void setPlayers(List&lt;Player&gt; players) {\r\n            this.players = players;\r\n        }\r\n    \r\n        public void addSinglePlayer(Player player) {\r\n            if (player != null) {\r\n                this.players.add(player);\r\n            }\r\n        }\r\n    \r\n        public void addGroupOfPlayers(List&lt;Player&gt; players) {\r\n            if (!players.isEmpty()) {\r\n                players.forEach(player -&gt; this.players.add(player)); //Java 8 style\r\n            }\r\n        }\r\n    }\r\n\r\n**Team Class**\r\n\r\npublic class Team {\r\n\r\n    private int id;\r\n    private String name;\r\n    private Players players;\r\n\r\n    public Team( int id, String name, Players players) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.players = players;\r\n    }\r\n\r\n    public Players getPlayers() {\r\n        return players;\r\n    }\r\n\r\n    public void setPlayers(Players players) {\r\n        this.players = players;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n}\r\n\r\n\r\n**Teams Class**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Teams {\r\n        private List&lt;Team&gt; teams;\r\n    \r\n        public Teams(Team... teams) {\r\n            this.teams = new ArrayList&lt;&gt;();\r\n            Arrays.stream(teams).forEach(team -&gt; this.teams.add(team));\r\n        }\r\n    \r\n    \r\n        public Teams(List&lt;Team&gt; teams) {\r\n            this.teams = teams;\r\n        }\r\n    \r\n        public Teams() {\r\n            this.teams =  new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public List&lt;Team&gt; getTeams() {\r\n            return teams;\r\n        }\r\n    \r\n        public void setTeams(List&lt;Team&gt; teams) {\r\n            this.teams = teams;\r\n        }\r\n    \r\n    \r\n        public void addSingleTeam(Team team) {\r\n            if (team != null) {\r\n                this.teams.add(team);\r\n            }\r\n        }\r\n    \r\n        public void addGroupOfTeams(List&lt;Team&gt; teams) {\r\n            if (!teams.isEmpty()) {\r\n                teams.forEach(team -&gt; this.teams.add(team)); //Java 8 style\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nDriver Code to Test the functionality **Main Class**\r\n\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Player player1 = new Player(&quot;jhon&quot;, 23.0d, &quot;expert&quot;, 34, &quot;super hero&quot;, 123);\r\n            Player player2 = new Player(&quot;Rohan&quot;, 22.0d, &quot;beginner&quot;, 28, &quot;super hero&quot;, 124);\r\n            Player player3 = new Player(&quot;Arnold&quot;, 16.0d, &quot;beginner&quot;, 36, &quot;super hero&quot;, 125);\r\n    \r\n            Player player4 = new Player(&quot;Mary&quot;, 18.0d, &quot;beginner&quot;, 23, &quot;gladiator&quot;, 807);\r\n            Player player5 = new Player(&quot;Kevin&quot;, 21.0d, &quot;beginner&quot;, 27, &quot;gladiator&quot;, 808);\r\n            Player player6 = new Player(&quot;Jemmy&quot;, 19.0d, &quot;beginner&quot;, 33, &quot;gladiator&quot;, 809);\r\n    \r\n            Players playersTeam1 =  new Players(player1, player2, player3);\r\n            Players playersTeam2 =  new Players(player4, player5, player6);\r\n            Team team1 =  new Team(1, &quot;super hero&quot;, playersTeam1);\r\n            Team team2 =  new Team(2, &quot;gladiator&quot;, playersTeam2);\r\n    \r\n            Teams teams =  new Teams(team1, team2);\r\n            //Print Team 1\r\n            System.out.println(&quot;TEAM 1&quot;);\r\n            teams.getTeams().stream().filter(team -&gt; team.getId() == 1).forEach(team -&gt; {\r\n                team.getPlayers().getPlayers()\r\n                        .stream()\r\n                        .forEach(player -&gt; System.out.println(player.toString()));\r\n            });\r\n    \r\n            System.out.println();\r\n    \r\n            //Print Team 1\r\n            System.out.println(&quot;TEAM 2&quot;);\r\n            teams.getTeams().stream().filter(team -&gt; team.getId() == 2).forEach(team -&gt; {\r\n                team.getPlayers().getPlayers()\r\n                        .stream()\r\n                        .forEach(player -&gt; System.out.println(player.toString()));\r\n            });\r\n        }\r\n    }\r\n\r\n**Result Output**\r\n\r\n    TEAM 1\r\n    Player{name=&#39;jhon&#39;, credit=23.0, level=&#39;expert&#39;, age=34, team=&#39;super hero&#39;, no=123}\r\n    Player{name=&#39;Rohan&#39;, credit=22.0, level=&#39;beginner&#39;, age=28, team=&#39;super hero&#39;, no=124}\r\n    Player{name=&#39;Arnold&#39;, credit=16.0, level=&#39;beginner&#39;, age=36, team=&#39;super hero&#39;, no=125}\r\n    \r\n    TEAM 2\r\n    Player{name=&#39;Mary&#39;, credit=18.0, level=&#39;beginner&#39;, age=23, team=&#39;gladiator&#39;, no=807}\r\n    Player{name=&#39;Kevin&#39;, credit=21.0, level=&#39;beginner&#39;, age=27, team=&#39;gladiator&#39;, no=808}\r\n    Player{name=&#39;Jemmy&#39;, credit=19.0, level=&#39;beginner&#39;, age=33, team=&#39;gladiator&#39;, no=809}\r\n\r\n\r\n\r\n","title":"How do i initialize fields in constructor in multiple java classes","body":"<p>I think this is more of a design question where we have players with their attributes who is belonging to players.\nThen the players are assigned to one team, where we could have multiple teams.</p>\n<p>@vishalpd, Please check the below class implementation done by me with the basic information you have given.\nAlso please note additional validations should be added, this is just a skeleton.</p>\n<p>I have used different constructors in the classes to instantiate objects differently.</p>\n<p>Most importantly java var args constructor is also created for a more elegant way of adding players and teams one by one.</p>\n<p>Also <code>List&lt;Team&gt; teams</code> and <code>List&lt;Player&gt; players</code> lists have been used internally in the Teams and Players classes to keep each player and team.</p>\n<p><strong>Player class</strong></p>\n<pre><code>public class Player {\n        public Player(String name, Double credit, String level, Integer age, String team, Integer no) {\n            this.name = name;\n            this.credit = credit;\n            this.level = level;\n            this.age = age;\n            this.team = team;\n            this.no = no;\n        }\n    \n        public Player() {\n        }\n    \n        private String name;\n        private Double credit;\n        private String level;\n        private Integer age;\n        private String team;\n        private Integer no;\n    \n        public String getName() {\n            return name;\n        }\n    \n        public void setName(String name) {\n            this.name = name;\n        }\n    \n        public Double getCredit() {\n            return credit;\n        }\n    \n        public void setCredit(Double credit) {\n            this.credit = credit;\n        }\n    \n        public String getLevel() {\n            return level;\n        }\n    \n        public void setLevel(String level) {\n            this.level = level;\n        }\n    \n        public Integer getAge() {\n            return age;\n        }\n    \n        public void setAge(Integer age) {\n            this.age = age;\n        }\n    \n        public String getTeam() {\n            return team;\n        }\n    \n        public void setTeam(String team) {\n            this.team = team;\n        }\n    \n        public Integer getNo() {\n            return no;\n        }\n    \n        public void setNo(Integer no) {\n            this.no = no;\n        }\n    \n        @Override\n        public String toString() {\n            return &quot;Player{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    &quot;, credit=&quot; + credit +\n                    &quot;, level='&quot; + level + '\\'' +\n                    &quot;, age=&quot; + age +\n                    &quot;, team='&quot; + team + '\\'' +\n                    &quot;, no=&quot; + no +\n                    '}';\n        }\n    \n    }\n</code></pre>\n<p><strong>Players class</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n    \npublic class Players {\n    private List&lt;Player&gt; players;\n\n    public Players(Player... players) {\n        this.players = new ArrayList&lt;&gt;();\n        Arrays.stream(players).forEach(player -&gt; this.players.add(player));\n    }\n\n    public Players(List&lt;Player&gt; players) {\n        this.players = players;\n    }\n\n    public Players() {\n        this.players = new ArrayList&lt;&gt;();\n    }\n\n    public List&lt;Player&gt; getPlayers() {\n        return players;\n    }\n\n    public void setPlayers(List&lt;Player&gt; players) {\n        this.players = players;\n    }\n\n    public void addSinglePlayer(Player player) {\n        if (player != null) {\n            this.players.add(player);\n        }\n    }\n\n    public void addGroupOfPlayers(List&lt;Player&gt; players) {\n        if (!players.isEmpty()) {\n            players.forEach(player -&gt; this.players.add(player)); //Java 8 style\n        }\n    }\n}\n</code></pre>\n<p><strong>Team Class</strong></p>\n<p>public class Team {</p>\n<pre><code>private int id;\nprivate String name;\nprivate Players players;\n\npublic Team( int id, String name, Players players) {\n    this.id = id;\n    this.name = name;\n    this.players = players;\n}\n\npublic Players getPlayers() {\n    return players;\n}\n\npublic void setPlayers(Players players) {\n    this.players = players;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Teams Class</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Teams {\n    private List&lt;Team&gt; teams;\n\n    public Teams(Team... teams) {\n        this.teams = new ArrayList&lt;&gt;();\n        Arrays.stream(teams).forEach(team -&gt; this.teams.add(team));\n    }\n\n\n    public Teams(List&lt;Team&gt; teams) {\n        this.teams = teams;\n    }\n\n    public Teams() {\n        this.teams =  new ArrayList&lt;&gt;();\n    }\n\n    public List&lt;Team&gt; getTeams() {\n        return teams;\n    }\n\n    public void setTeams(List&lt;Team&gt; teams) {\n        this.teams = teams;\n    }\n\n\n    public void addSingleTeam(Team team) {\n        if (team != null) {\n            this.teams.add(team);\n        }\n    }\n\n    public void addGroupOfTeams(List&lt;Team&gt; teams) {\n        if (!teams.isEmpty()) {\n            teams.forEach(team -&gt; this.teams.add(team)); //Java 8 style\n        }\n    }\n}\n</code></pre>\n<p>Driver Code to Test the functionality <strong>Main Class</strong></p>\n<pre><code>import java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        Player player1 = new Player(&quot;jhon&quot;, 23.0d, &quot;expert&quot;, 34, &quot;super hero&quot;, 123);\n        Player player2 = new Player(&quot;Rohan&quot;, 22.0d, &quot;beginner&quot;, 28, &quot;super hero&quot;, 124);\n        Player player3 = new Player(&quot;Arnold&quot;, 16.0d, &quot;beginner&quot;, 36, &quot;super hero&quot;, 125);\n\n        Player player4 = new Player(&quot;Mary&quot;, 18.0d, &quot;beginner&quot;, 23, &quot;gladiator&quot;, 807);\n        Player player5 = new Player(&quot;Kevin&quot;, 21.0d, &quot;beginner&quot;, 27, &quot;gladiator&quot;, 808);\n        Player player6 = new Player(&quot;Jemmy&quot;, 19.0d, &quot;beginner&quot;, 33, &quot;gladiator&quot;, 809);\n\n        Players playersTeam1 =  new Players(player1, player2, player3);\n        Players playersTeam2 =  new Players(player4, player5, player6);\n        Team team1 =  new Team(1, &quot;super hero&quot;, playersTeam1);\n        Team team2 =  new Team(2, &quot;gladiator&quot;, playersTeam2);\n\n        Teams teams =  new Teams(team1, team2);\n        //Print Team 1\n        System.out.println(&quot;TEAM 1&quot;);\n        teams.getTeams().stream().filter(team -&gt; team.getId() == 1).forEach(team -&gt; {\n            team.getPlayers().getPlayers()\n                    .stream()\n                    .forEach(player -&gt; System.out.println(player.toString()));\n        });\n\n        System.out.println();\n\n        //Print Team 1\n        System.out.println(&quot;TEAM 2&quot;);\n        teams.getTeams().stream().filter(team -&gt; team.getId() == 2).forEach(team -&gt; {\n            team.getPlayers().getPlayers()\n                    .stream()\n                    .forEach(player -&gt; System.out.println(player.toString()));\n        });\n    }\n}\n</code></pre>\n<p><strong>Result Output</strong></p>\n<pre><code>TEAM 1\nPlayer{name='jhon', credit=23.0, level='expert', age=34, team='super hero', no=123}\nPlayer{name='Rohan', credit=22.0, level='beginner', age=28, team='super hero', no=124}\nPlayer{name='Arnold', credit=16.0, level='beginner', age=36, team='super hero', no=125}\n\nTEAM 2\nPlayer{name='Mary', credit=18.0, level='beginner', age=23, team='gladiator', no=807}\nPlayer{name='Kevin', credit=21.0, level='beginner', age=27, team='gladiator', no=808}\nPlayer{name='Jemmy', credit=19.0, level='beginner', age=33, team='gladiator', no=809}\n</code></pre>\n"}],"owner":{"account_id":26751596,"reputation":61,"user_id":20350866,"display_name":"vishalpd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76020327,"answer_count":2,"score":0,"last_activity_date":1681532708,"creation_date":1681505673,"question_id":76018876,"body_markdown":"I have been given 4 java classes \r\n``` java\r\nTeams.java\r\nTeam.java\r\nPlayers.java\r\nPlayer.java\r\n```\r\n\r\nI need to be able to create some players and teams. And add players to the team. I am just confused as to how am I gonna add the players to the teams? Which class i should use and how to add them?\r\n\r\n``` java\r\npublic class Teams {\r\n    public ArrayList&lt;Team&gt; teams;\r\n    public Teams(){         //take no parameters\r\n\r\n    }\r\n\r\npublic class Team {\r\n    private String name;\r\n    private Players players;\r\n    public Team(String name){\r\n//takes one parameter, the name, corresponding to the fields identically named. Other fields require no parameters but the constructor methods\r\n\r\n    }\r\n\r\npublic class Players {\r\n    private ArrayList&lt;Player&gt; Players;\r\n    public Players(){   //takes no parameters\r\n\r\n    }\r\n\r\npublic class Player {\r\n    private String name;\r\n    private Double credit;\r\n    private String level;\r\n    private Integer age;\r\n    private String team;\r\n    private Integer No;\r\n    \r\n    public Player(String name, Double credit, Integer age, Integer No){\r\n        this.name = name;\r\n        this.credit = credit;\r\n        this.age = age;\r\n        this.No = No;\r\n        this.level = CalculateLvl(credit);\r\n    }\r\n````\r\n\r\ni have tried adding some players to the Players list in the Players class like this\r\n\r\n``` java\r\npublic Players(){   //no parameters\r\n        Players.add(new Player(&quot;Kevin Hart&quot;, 1300.0, 20, 7));\r\n    }`\r\n```\r\n\r\nand some teams to the Teams list in the Teams class\r\n\r\n```` java\r\npublic Teams(){     //take no parameters\r\n        teams.add(new Team(&quot;Knicks&quot;));\r\n    }\r\n````\r\n\r\nBut i am not sure what I am doing or if this is the right way.\r\nI can&#39;t get my head around as to how I am going to link these players to their respective team.\r\n\r\n[here is the snippet of class diagram][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KHUcK.png","title":"How do i initialize fields in constructor in multiple java classes","body":"<p>I have been given 4 java classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>Teams.java\nTeam.java\nPlayers.java\nPlayer.java\n</code></pre>\n<p>I need to be able to create some players and teams. And add players to the team. I am just confused as to how am I gonna add the players to the teams? Which class i should use and how to add them?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Teams {\n    public ArrayList&lt;Team&gt; teams;\n    public Teams(){         //take no parameters\n\n    }\n\npublic class Team {\n    private String name;\n    private Players players;\n    public Team(String name){\n//takes one parameter, the name, corresponding to the fields identically named. Other fields require no parameters but the constructor methods\n\n    }\n\npublic class Players {\n    private ArrayList&lt;Player&gt; Players;\n    public Players(){   //takes no parameters\n\n    }\n\npublic class Player {\n    private String name;\n    private Double credit;\n    private String level;\n    private Integer age;\n    private String team;\n    private Integer No;\n    \n    public Player(String name, Double credit, Integer age, Integer No){\n        this.name = name;\n        this.credit = credit;\n        this.age = age;\n        this.No = No;\n        this.level = CalculateLvl(credit);\n    }\n</code></pre>\n<p>i have tried adding some players to the Players list in the Players class like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Players(){   //no parameters\n        Players.add(new Player(&quot;Kevin Hart&quot;, 1300.0, 20, 7));\n    }`\n</code></pre>\n<p>and some teams to the Teams list in the Teams class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Teams(){     //take no parameters\n        teams.add(new Team(&quot;Knicks&quot;));\n    }\n</code></pre>\n<p>But i am not sure what I am doing or if this is the right way.\nI can't get my head around as to how I am going to link these players to their respective team.</p>\n<p><a href=\"https://i.stack.imgur.com/KHUcK.png\" rel=\"nofollow noreferrer\">here is the snippet of class diagram</a></p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681532564,"creation_date":1681532564,"question_id":76020342,"body_markdown":"Deploying to Elastic Beanstalk via AWS CodeBuild. \r\nPrior to building my project within AWS, I am running \r\n\r\n`mvn install:install-file -Dfile=lib/my-lib.jar -Dcom.me -DartifactId=my-lib -Dversion=1.0 -Dpackaging=jar`\r\n\r\nto import a personal library that isn&#39;t available on a public repo. \r\n\r\nWithin `my-lib/pom.xml`, I import a number of number of dependancies that all happen to be shared with the main project, but the 1 that isn&#39;t results in a `classdefnotfound` exception at runtime when imported. If I add this dependancy to the main project, it works fine. \r\n\r\nWhy is this dependency not being resolved when it is installed prior to installation of the main project that depends on it?\r\n\r\nShould dependancies of this nature be within dependency management?","title":"Using mvn install-file - getting classdefnotfound for the installed projects dependancy","body":"<p>Deploying to Elastic Beanstalk via AWS CodeBuild.\nPrior to building my project within AWS, I am running</p>\n<p><code>mvn install:install-file -Dfile=lib/my-lib.jar -Dcom.me -DartifactId=my-lib -Dversion=1.0 -Dpackaging=jar</code></p>\n<p>to import a personal library that isn't available on a public repo.</p>\n<p>Within <code>my-lib/pom.xml</code>, I import a number of number of dependancies that all happen to be shared with the main project, but the 1 that isn't results in a <code>classdefnotfound</code> exception at runtime when imported. If I add this dependancy to the main project, it works fine.</p>\n<p>Why is this dependency not being resolved when it is installed prior to installation of the main project that depends on it?</p>\n<p>Should dependancies of this nature be within dependency management?</p>\n"},{"tags":["java","file-io","tabs"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681528175,"post_id":76020101,"comment_id":134075227,"body_markdown":"Where are you stuck?","body":"Where are you stuck?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1681528769,"post_id":76020101,"comment_id":134075263,"body_markdown":"so what is the problem? Are you having trouble iterating over your arraylist?","body":"so what is the problem? Are you having trouble iterating over your arraylist?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681556914,"post_id":76020101,"comment_id":134077736,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":28310190,"reputation":16,"user_id":21647557,"display_name":"Chris Ibok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681531713,"creation_date":1681531713,"answer_id":76020305,"question_id":76020101,"body_markdown":"It stores all the books, but you only print one. Instead of assigning the variables using `Book.String = words.get[i]`, use a constructor that assigns it for you in the Book Class, such as:\r\n```\r\npublic Book(String title, String authorFirstName, String authorLastName, String publisher, String category, String data) {\r\nthis.title = title;\r\nthis.authorFirstName = authorFirstName;\r\nthis.authorLastName = authorFirstName;\r\nthis.publisher = publisher;\r\nthis.category = category;\r\nthis.data = data;\r\n}\r\n```\r\n\r\nNow in your main method replace `Book() CurrentBook = new Book();` with `ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();`, this is where the fun happens.\r\nDelete `ArrayList&lt;String&gt; words`, you don&#39;t need it anymore, and change your while loop to the one below.\r\n```\r\nwhile (!(buf.readLine() == null) {\r\n            lineJustFetched = buf.readLine();\r\n             wordsArray = lineJustFetched.split(&quot;\\t&quot;);\r\n                books.add(new Book(wordsArray[0], wordsArray[1], wordsArray[2], wordsArray[3], wordsArray[4], wordsArray[5]));\r\n            }\r\n```\r\n\r\nIn all your reformed main would be\r\n\r\n```\r\n try {\r\n        FileInputStream fstream = new FileInputStream(&quot;bestsellers.txt&quot;);\r\n        BufferedReader buf = new BufferedReader(new InputStreamReader(fstream));\r\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n        while (!(buf.readLine() == null) {\r\n            String lineJustFetched = buf.readLine();\r\n             String[] wordsArray = lineJustFetched.split(&quot;\\t&quot;);\r\n                books.add(new Book(wordsArray[0], wordsArray[1], wordsArray[2], wordsArray[3], wordsArray[4], wordsArray[5]));\r\n            }\r\n        buf.close();\r\n       for (int i = 0; i &lt; books.size; i++) {\r\n        System.out.println(&quot;Author&#39;s first name is: &quot; + books.get(i).authorFirstName);\r\n        System.out.println(&quot;Author&#39;s last name is: &quot; + books.get(i).authorLastName);\r\n        System.out.println(&quot;Title is: &quot; + books.get(i).title);\r\n        System.out.println(&quot;The publisher is: &quot; + books.get(i).publisher);\r\n        System.out.println(&quot;The category is: &quot; + books.get(i).category);\r\n        System.out.println(&quot;The date is: &quot; + books.get(i).date);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nThis is the method you would want to use honoring your code, however since you used an object for your books I&#39;m assuming you would want to integrate a lookup later, so you would make a HashMap and store your data for later down the line.\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n        FileInputStream fstream = new FileInputStream(&quot;bestsellers.txt&quot;);\r\n        BufferedReader buf = new BufferedReader(new InputStreamReader(fstream));\r\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n        HashMap&lt;String, Book&gt; bookCollectiion = new HashMap&lt;&gt;();\r\n        while (!(buf.readLine() == null) {\r\n            String lineJustFetched = buf.readLine();\r\n             String[] wordsArray = lineJustFetched.split(&quot;\\t&quot;);\r\n                books.add(new Book(wordsArray[0], wordsArray[1], wordsArray[2], wordsArray[3], wordsArray[4], wordsArray[5]));\r\n            }\r\n        buf.close();\r\n       for (int i = 0; i &lt; books.size; i++) {\r\n        bookCollection.put(books.get(i).title, books.get(i));\r\n        System.out.println(&quot;Author&#39;s first name is: &quot; + books.get(i).authorFirstName);\r\n        System.out.println(&quot;Author&#39;s last name is: &quot; + books.get(i).authorLastName);\r\n        System.out.println(&quot;Title is: &quot; + books.get(i).title);\r\n        System.out.println(&quot;The publisher is: &quot; + books.get(i).publisher);\r\n        System.out.println(&quot;The category is: &quot; + books.get(i).category);\r\n        System.out.println(&quot;The date is: &quot; + books.get(i).date);\r\n     // do something with the HashMapped books, maybe use a scanner for a book lookup.\r\n}\r\n```\r\n\r\nBonus, I&#39;m not sure if you&#39;d want this considering you said you wanted to store all of the books within an ArrayList, however you can ditch all the extra code and the Book class entirely with this main:\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\nFileInputStream fstream = new FileInputStream(&quot;bestsellers.txt&quot;);\r\n        BufferedReader buf = new BufferedReader(new InputStreamReader(fstream));\r\n      while (!(buf.readLine() == null) {\r\n            lineJustFetched = buf.readLine();\r\n             wordsArray = lineJustFetched.split(&quot;\\t&quot;);\r\n              System.out.println(&quot;Author&#39;s first name is: &quot; + wordsArray[0]);\r\n        System.out.println(&quot;Author&#39;s last name is: &quot; + wordsArray[1]);\r\n        System.out.println(&quot;Title is: &quot; + wordsArray[2]);\r\n        System.out.println(&quot;The publisher is: &quot; + wordsArray[3]);\r\n        System.out.println(&quot;The category is: &quot; + wordsArray[5]);\r\n        System.out.println(&quot;The date is: &quot; + wordsArray[4]);\r\n            }\r\n}\r\n```\r\nAll it does is print off statements, but that should work.","title":"Read and loop through all contents in a file separated by tab and put all the words in an ArrayList","body":"<p>It stores all the books, but you only print one. Instead of assigning the variables using <code>Book.String = words.get[i]</code>, use a constructor that assigns it for you in the Book Class, such as:</p>\n<pre><code>public Book(String title, String authorFirstName, String authorLastName, String publisher, String category, String data) {\nthis.title = title;\nthis.authorFirstName = authorFirstName;\nthis.authorLastName = authorFirstName;\nthis.publisher = publisher;\nthis.category = category;\nthis.data = data;\n}\n</code></pre>\n<p>Now in your main method replace <code>Book() CurrentBook = new Book();</code> with <code>ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();</code>, this is where the fun happens.\nDelete <code>ArrayList&lt;String&gt; words</code>, you don't need it anymore, and change your while loop to the one below.</p>\n<pre><code>while (!(buf.readLine() == null) {\n            lineJustFetched = buf.readLine();\n             wordsArray = lineJustFetched.split(&quot;\\t&quot;);\n                books.add(new Book(wordsArray[0], wordsArray[1], wordsArray[2], wordsArray[3], wordsArray[4], wordsArray[5]));\n            }\n</code></pre>\n<p>In all your reformed main would be</p>\n<pre><code> try {\n        FileInputStream fstream = new FileInputStream(&quot;bestsellers.txt&quot;);\n        BufferedReader buf = new BufferedReader(new InputStreamReader(fstream));\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();\n        while (!(buf.readLine() == null) {\n            String lineJustFetched = buf.readLine();\n             String[] wordsArray = lineJustFetched.split(&quot;\\t&quot;);\n                books.add(new Book(wordsArray[0], wordsArray[1], wordsArray[2], wordsArray[3], wordsArray[4], wordsArray[5]));\n            }\n        buf.close();\n       for (int i = 0; i &lt; books.size; i++) {\n        System.out.println(&quot;Author's first name is: &quot; + books.get(i).authorFirstName);\n        System.out.println(&quot;Author's last name is: &quot; + books.get(i).authorLastName);\n        System.out.println(&quot;Title is: &quot; + books.get(i).title);\n        System.out.println(&quot;The publisher is: &quot; + books.get(i).publisher);\n        System.out.println(&quot;The category is: &quot; + books.get(i).category);\n        System.out.println(&quot;The date is: &quot; + books.get(i).date);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This is the method you would want to use honoring your code, however since you used an object for your books I'm assuming you would want to integrate a lookup later, so you would make a HashMap and store your data for later down the line.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n        FileInputStream fstream = new FileInputStream(&quot;bestsellers.txt&quot;);\n        BufferedReader buf = new BufferedReader(new InputStreamReader(fstream));\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();\n        HashMap&lt;String, Book&gt; bookCollectiion = new HashMap&lt;&gt;();\n        while (!(buf.readLine() == null) {\n            String lineJustFetched = buf.readLine();\n             String[] wordsArray = lineJustFetched.split(&quot;\\t&quot;);\n                books.add(new Book(wordsArray[0], wordsArray[1], wordsArray[2], wordsArray[3], wordsArray[4], wordsArray[5]));\n            }\n        buf.close();\n       for (int i = 0; i &lt; books.size; i++) {\n        bookCollection.put(books.get(i).title, books.get(i));\n        System.out.println(&quot;Author's first name is: &quot; + books.get(i).authorFirstName);\n        System.out.println(&quot;Author's last name is: &quot; + books.get(i).authorLastName);\n        System.out.println(&quot;Title is: &quot; + books.get(i).title);\n        System.out.println(&quot;The publisher is: &quot; + books.get(i).publisher);\n        System.out.println(&quot;The category is: &quot; + books.get(i).category);\n        System.out.println(&quot;The date is: &quot; + books.get(i).date);\n     // do something with the HashMapped books, maybe use a scanner for a book lookup.\n}\n</code></pre>\n<p>Bonus, I'm not sure if you'd want this considering you said you wanted to store all of the books within an ArrayList, however you can ditch all the extra code and the Book class entirely with this main:</p>\n<pre><code>public static void main(String[] args) throws Exception {\nFileInputStream fstream = new FileInputStream(&quot;bestsellers.txt&quot;);\n        BufferedReader buf = new BufferedReader(new InputStreamReader(fstream));\n      while (!(buf.readLine() == null) {\n            lineJustFetched = buf.readLine();\n             wordsArray = lineJustFetched.split(&quot;\\t&quot;);\n              System.out.println(&quot;Author's first name is: &quot; + wordsArray[0]);\n        System.out.println(&quot;Author's last name is: &quot; + wordsArray[1]);\n        System.out.println(&quot;Title is: &quot; + wordsArray[2]);\n        System.out.println(&quot;The publisher is: &quot; + wordsArray[3]);\n        System.out.println(&quot;The category is: &quot; + wordsArray[5]);\n        System.out.println(&quot;The date is: &quot; + wordsArray[4]);\n            }\n}\n</code></pre>\n<p>All it does is print off statements, but that should work.</p>\n"}],"owner":{"account_id":26318198,"reputation":11,"user_id":19980634,"display_name":"Dominion oladejo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1681640520,"accepted_answer_id":76020305,"answer_count":1,"score":-2,"last_activity_date":1681531713,"creation_date":1681526451,"question_id":76020101,"body_markdown":"I&#39;m working on a java project for school and I want to read all words in a text file and store it in an Arraylist. Here is a small sample of the text file:\r\n```\r\n1876\tGore\tVidal\tRandom House\t4/11/1976\tFiction\r\n23337\tStephen\tKing\tScribner\t11/27/2011\tFiction\r\n...and Ladies of the Club\tHelen Hooven\tSantmeyer\tPutnam\t7/8/1984\tFiction\r\n1st to Die\tJames\tPatterson\tLittle, Brown\t3/25/2001\tFiction\r\n2nd Chance\tJames\tPatterson\tLittle, Brown\t3/24/2002\tFiction\r\n3rd Degree\tJames\tPatterson\tLittle, Brown\t3/21/2004\tFiction\r\n4th of July\tJames\tPatterson\tLittle, Brown\t5/22/2005\tFiction\r\n```\r\n\r\n\r\nThere is a tab character between the fields.\r\nThe code I have only reads through the first line not the full list.\r\n\r\n\r\n\r\nHere is my code:\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    try {\r\n        FileInputStream fstream = new FileInputStream(&quot;bestsellers.txt&quot;);\r\n        BufferedReader buf = new BufferedReader(new InputStreamReader(fstream));\r\n        ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n        String lineJustFetched = null;\r\n        String[] wordsArray;\r\n        Book CurrentBook = new Book();\r\n        while (true) {\r\n            lineJustFetched = buf.readLine();\r\n            if (lineJustFetched == null) {\r\n                break;\r\n            } else {\r\n                wordsArray = lineJustFetched.split(&quot;\\t&quot;);\r\n                for (String each : wordsArray) {\r\n                    if (!&quot;&quot;.equals(each)) {\r\n                        words.add(each);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        CurrentBook.title = words.get(0);\r\n        CurrentBook.authorFirstName = words.get(1);\r\n        CurrentBook.authorLastName = words.get(2);\r\n        CurrentBook.publisher = words.get(3);\r\n        CurrentBook.category = words.get(5);\r\n        CurrentBook.date = words.get(4);\r\n        buf.close();\r\n        System.out.println(&quot;Author&#39;s first name is: &quot; + CurrentBook.authorFirstName);\r\n        System.out.println(&quot;Author&#39;s last name is: &quot; + CurrentBook.authorLastName);\r\n        System.out.println(&quot;Title is: &quot; + CurrentBook.title);\r\n        System.out.println(&quot;The publisher is: &quot; + CurrentBook.publisher);\r\n        System.out.println(&quot;The category is: &quot; + CurrentBook.category);\r\n        System.out.println(&quot;The date is: &quot; + CurrentBook.date);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nThis is the output: \r\n```\r\nAuthor&#39;s first name is: Gore\r\nAuthor&#39;s last name is: Vidal\r\nTitle is: 1876\r\nThe publisher is: Random House\r\nThe category is: Fiction\r\nThe date is: 4/11/1976\r\n```\r\n\r\nAs you can see, it only reads, stores, and prints the first book but I want to do this for all the words in the txt file.\r\n","title":"Read and loop through all contents in a file separated by tab and put all the words in an ArrayList","body":"<p>I'm working on a java project for school and I want to read all words in a text file and store it in an Arraylist. Here is a small sample of the text file:</p>\n<pre><code>1876    Gore    Vidal   Random House    4/11/1976   Fiction\n23337   Stephen King    Scribner    11/27/2011  Fiction\n...and Ladies of the Club   Helen Hooven    Santmeyer   Putnam  7/8/1984    Fiction\n1st to Die  James   Patterson   Little, Brown   3/25/2001   Fiction\n2nd Chance  James   Patterson   Little, Brown   3/24/2002   Fiction\n3rd Degree  James   Patterson   Little, Brown   3/21/2004   Fiction\n4th of July James   Patterson   Little, Brown   5/22/2005   Fiction\n</code></pre>\n<p>There is a tab character between the fields.\nThe code I have only reads through the first line not the full list.</p>\n<p>Here is my code:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    try {\n        FileInputStream fstream = new FileInputStream(&quot;bestsellers.txt&quot;);\n        BufferedReader buf = new BufferedReader(new InputStreamReader(fstream));\n        ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\n        String lineJustFetched = null;\n        String[] wordsArray;\n        Book CurrentBook = new Book();\n        while (true) {\n            lineJustFetched = buf.readLine();\n            if (lineJustFetched == null) {\n                break;\n            } else {\n                wordsArray = lineJustFetched.split(&quot;\\t&quot;);\n                for (String each : wordsArray) {\n                    if (!&quot;&quot;.equals(each)) {\n                        words.add(each);\n                    }\n                }\n            }\n        }\n        CurrentBook.title = words.get(0);\n        CurrentBook.authorFirstName = words.get(1);\n        CurrentBook.authorLastName = words.get(2);\n        CurrentBook.publisher = words.get(3);\n        CurrentBook.category = words.get(5);\n        CurrentBook.date = words.get(4);\n        buf.close();\n        System.out.println(&quot;Author's first name is: &quot; + CurrentBook.authorFirstName);\n        System.out.println(&quot;Author's last name is: &quot; + CurrentBook.authorLastName);\n        System.out.println(&quot;Title is: &quot; + CurrentBook.title);\n        System.out.println(&quot;The publisher is: &quot; + CurrentBook.publisher);\n        System.out.println(&quot;The category is: &quot; + CurrentBook.category);\n        System.out.println(&quot;The date is: &quot; + CurrentBook.date);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>Author's first name is: Gore\nAuthor's last name is: Vidal\nTitle is: 1876\nThe publisher is: Random House\nThe category is: Fiction\nThe date is: 4/11/1976\n</code></pre>\n<p>As you can see, it only reads, stores, and prints the first book but I want to do this for all the words in the txt file.</p>\n"},{"tags":["java","jquery","ajax","spring-mvc"],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681530340,"creation_date":1681530340,"question_id":76020246,"body_markdown":"i have 1 error when i try to use html in jquery to add product quantity to cart but cant add even though click event is caught.when the click event is done, get the value in the APIController with Id &quot;cart-number&quot;, it cannot be called.here is my js code:\r\n```\r\n$(document).ready(function(){\r\n\t$(&quot;.cart-btn&quot;).click(function(){\r\n\t\tvar color_id = $(this).closest(&quot;tr&quot;).find(&quot;.color&quot;).attr(&quot;data-color&quot;);\r\n\t\tvar color_name = $(this).closest(&quot;tr&quot;).find(&quot;.color&quot;).text();\r\n\t\tvar quantity = $(this).closest(&quot;tr&quot;).find(&quot;.quantity&quot;).text();\r\n\t\t\r\n\t\tvar product_name = $(&quot;#detail-title&quot;).text();\r\n\t\tvar product_id = $(&quot;#detail-title&quot;).attr(&quot;data-Id&quot;);\r\n\t\tvar price = $(&quot;#detail-price&quot;).attr(&quot;data-value&quot;);\r\n\t\t\r\n\t\t   $.ajax({\r\n\t\t\turl:&quot;/PhoneAccessories/api/addtocart&quot;,\r\n\t\t\ttype:&quot;GET&quot;,\r\n\t\t\tdata:{\r\n\t\t\t\tproduct_id:product_id,\r\n\t\t\t\tcolor_id:color_id,\r\n\t\t\t\tquantity:quantity,\r\n\t\t\t\tproduct_name:product_name,\r\n\t\t\t\tprice:price,\r\n\t\t\t\tcolor_name:color_name\r\n\t\t\t},\r\n\t\t\tsuccess: function(value){\r\n\t\t\t\t$(&quot;#cart-number&quot;).html(&quot;&lt;span&gt;&quot;+value+&quot;&lt;/span&gt;&quot;);\r\n\t\t\t}\r\n\t\t})\r\n\t\r\n\t});\r\n});\r\n```\r\nthis is my APIController:\r\n```\r\n@Controller\r\n\t@RequestMapping(&quot;api/&quot;)\r\n\t@SessionAttributes({&quot;email&quot;,&quot;cart&quot;})\r\n\tpublic class APIController {\r\n\t\t@Autowired\r\n\t\tEmployeeService employeeService;\r\n\t\t\r\n\t\t@GetMapping(&quot;addtocart&quot;)\r\n\t\tpublic String AddToCart(@RequestParam int product_id,@RequestParam int color_id,@RequestParam int quantity,@RequestParam String product_name,@RequestParam String price,@RequestParam String color_name,HttpSession httpSession) {\r\n\t\t\t\r\n\t\t\tif(httpSession.getAttribute(&quot;cart&quot;) == null) {\r\n\t\t\t\tList&lt;ProductCart&gt; productCarts = new ArrayList&lt;ProductCart&gt;();\r\n\t\t\t\tProductCart carts = new ProductCart();\r\n\t\t\t\tcarts.setProduct_id(product_id);\r\n\t\t\t\tcarts.setColor_id(color_id);\r\n\t\t\t\tcarts.setQuantity(1);\r\n\t\t\t\tcarts.setProduct_name(product_name);\r\n\t\t\t\tcarts.setPrice(price);\r\n\t\t\t\tcarts.setColor_name(color_name);\r\n\t\t\t\tproductCarts.add(carts);\r\n\t\t\t\thttpSession.setAttribute(&quot;cart&quot;, productCarts);\r\n\t\t\t\tList&lt;ProductCart&gt; listCart = (List&lt;ProductCart&gt;) httpSession.getAttribute(&quot;cart&quot;);\r\n\t\t\t\treturn listCart.size()+ &quot;&quot;;\r\n\t\t\t}else {\r\n\t\t\t\tList&lt;ProductCart&gt; listCart = (List&lt;ProductCart&gt;) httpSession.getAttribute(&quot;cart&quot;);\r\n\t\t\t\tint location = CheckProductAlreadyExists(product_id, color_id, httpSession);\r\n\t\t\t\tif(location == -1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tProductCart carts = new ProductCart();\r\n\t\t\t\t\tcarts.setProduct_id(product_id);\r\n\t\t\t\t\tcarts.setColor_id(color_id);\r\n\t\t\t\t\tcarts.setQuantity(1);\r\n\t\t\t\t\tcarts.setProduct_name(product_name);\r\n\t\t\t\t\tcarts.setPrice(price);\r\n\t\t\t\t\tcarts.setColor_name(color_name);\r\n\t\t\t\t\tlistCart.add(carts);\r\n\t\t\t\t}else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tint newQuantity = listCart.get(location).getQuantity()+1;\r\n\t\t\t\t\tlistCart.get(location).setQuantity(newQuantity);\r\n\t\t\t\t}\r\n\t\t\t\treturn listCart.size() +&quot;&quot;;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tprivate int CheckProductAlreadyExists(int product_id,int color_id,HttpSession httpSession) {\r\n\t\t\tList&lt;ProductCart&gt; listCart = (List&lt;ProductCart&gt;) httpSession.getAttribute(&quot;cart&quot;);\r\n\t\t\tfor(int i=0;i&lt;listCart.size();i++) {\r\n\t\t\t\tif(listCart.get(i).getProduct_id()== product_id &amp;&amp; listCart.get(i).getColor_id() ==color_id ) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t}\r\n```\r\nhere is the jsp details page:\r\n```\r\n&lt;body&gt;\r\n\t&lt;section id=&quot;detail-page&quot;&gt;\r\n\r\n\t\t&lt;nav&gt;\r\n\t\t\t&lt;div id=&quot;check&quot; class=&quot;logo&quot;&gt;\r\n\t\t\t\t&lt;img id=&quot;image-logo&quot; src=&#39;&lt;c:url value=&quot;/resources/Image/YOP.png&quot;/&gt;&#39; /&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;ul&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;/PhoneAccessories/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#Products&quot;&gt;Products&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#About&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#Review&quot;&gt;Review&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#Servises&quot;&gt;Servises&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;/ul&gt;\r\n\r\n\t\t\t&lt;div class=&quot;icons&quot;&gt;\r\n\t\t\t\t&lt;i class=&quot;fa-solid fa-cart-shopping&quot;&gt;&lt;div id=&quot;cart-number&quot;&gt;&lt;span&gt;${NumberOfProduct}&lt;/span&gt;&lt;/div&gt;&lt;/i&gt; \r\n\t\t\t\t&lt;c:choose&gt;\r\n\t\t\t\t\t&lt;c:when test=&quot;${fc != null}&quot;&gt;\r\n\t\t\t\t\t\t&lt;a id=&quot;first-char&quot; href=&quot;login/&quot;&gt; ${fc} &lt;/i&gt;&lt;/a&gt;\r\n\t\t\t\t\t&lt;/c:when&gt;\r\n\t\t\t\t\t&lt;c:otherwise&gt;\r\n\t\t\t\t\t\t&lt;a href=&quot;/PhoneAccessories/login/&quot;&gt;&lt;i class=&quot;fa-solid fa-user&quot;&gt;&lt;/i&gt;&lt;/a&gt;\r\n\t\t\t\t\t&lt;/c:otherwise&gt;\r\n\t\t\t\t&lt;/c:choose&gt;\r\n\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t&lt;/nav&gt;\r\n\r\n\r\n\t&lt;/section&gt;\r\n\t\r\n\t&lt;!-- Detail Product --&gt;\r\n\t\r\n\t&lt;div id=&quot;container-detail&quot; class=&quot;container&quot;&gt;\r\n\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t&lt;div id=&quot;product-category&quot; class=&quot;col-sm-2 col-md-2&quot;&gt;\r\n\t\t\t&lt;div&gt;\r\n\t\t\t\t&lt;span id=&quot;product-category-titile&quot;&gt;Product Catalogue&lt;/span&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;ul id=&quot;product-category-ul&quot;&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;!-- \r\n\t\t\t\t\t&lt;c:forEach var=&quot;category&quot; items=&quot;${categories}&quot;&gt;\r\n\t\t\t\t\t\t&lt;li&gt;&lt;a href=&quot;#&quot;&gt;${category}&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t\t&lt;/c:forEach&gt;\r\n\t\t\t\t --&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t&lt;/ul&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t&lt;div class=&quot;col-sm-8 col-md-8&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;col-sm-5 col-md-5&quot;&gt;\r\n\t\t\t\t\t\t&lt;img id=&quot;image-detail&quot; src=&#39;&lt;c:url value=&quot;/resources/Image/products/${product.getProduct_image()}&quot;/&gt;&#39; /&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;div class=&quot;col-sm-7 col-md-7&quot;&gt;\r\n\t\t\t\t\t\t&lt;h4 id=&quot;detail-title&quot; data-Id=&quot;${product.getProduct_id()}&quot; &gt;${product.getProduct_name()}&lt;/h4&gt;\r\n\t\t\t\t\t\t&lt;h5 id=&quot;detail-price&quot; data-value=&quot;${product.getProduct_price()}&quot; &gt;${product.getProduct_price()}&lt;/h5&gt;\r\n\t\t\t\t\t\t&lt;table class=&quot;table&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;thead&gt;\r\n\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;td&gt;Color&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;td&gt;Quantity&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t\t\t&lt;/thead&gt;\r\n\t\t\t\t\t\t\t&lt;tbody&gt;\r\n\t\t\t\t\t\t\t\t&lt;c:forEach var=&quot;detailProduct&quot; items=&quot;${product.getProduct_Details()}&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td class=&quot;color&quot; data-color=&quot;${detailProduct.getProduct_Color().getColor_id()}&quot; &gt;${detailProduct.getProduct_Color().getColor_name()}&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td class=&quot;quantity&quot; data-quantity=&quot;${detailProduct.getQuantity()}&quot; &gt;${detailProduct.getQuantity()}&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;td&gt;&lt;button id=&quot;product-button&quot; class=&quot;cart-btn&quot;&gt;shop now&lt;/button&gt;&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t\t\t\t&lt;/c:forEach&gt;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;/tbody&gt;\r\n\t\t\t\t\t\t&lt;/table&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;div class=&quot;col-sm-2 col-md-2&quot;&gt;\r\n\t\t\t\t&lt;h5&gt;Description&lt;/h5&gt;\r\n\t\t\t\t&lt;span&gt;${product.getDescription_product()}&lt;/span&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\r\n\r\n\t&lt;!--Footer--&gt;\r\n\r\n\t&lt;footer&gt;\r\n\t\t&lt;div class=&quot;footer_main&quot;&gt;\r\n\t\t\t&lt;div class=&quot;tag&quot;&gt;\r\n\t\t\t\t&lt;h1&gt;Contact&lt;/h1&gt;\r\n\t\t\t\t&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa-solid fa-house&quot;&gt;&lt;/i&gt;123/Colombo/Sri\r\n\t\t\t\t\tLanka&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa-solid fa-phone&quot;&gt;&lt;/i&gt;+94 12 345\r\n\t\t\t\t\t6789&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa-solid fa-envelope&quot;&gt;&lt;/i&gt;contact@gmail.com&lt;/a&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t&lt;div class=&quot;tag&quot;&gt;\r\n\t\t\t\t&lt;h1&gt;Get Help&lt;/h1&gt;\r\n\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;FAQ&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Shipping&lt;/a&gt;\r\n\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Returns&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Payment\r\n\t\t\t\t\tOptions&lt;/a&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t&lt;div class=&quot;tag&quot;&gt;\r\n\t\t\t\t&lt;h1&gt;Our Stores&lt;/h1&gt;\r\n\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Sri Lanka&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;USA&lt;/a&gt;\r\n\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;India&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Japan&lt;/a&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t&lt;div class=&quot;tag&quot;&gt;\r\n\t\t\t\t&lt;h1&gt;Follw Us&lt;/h1&gt;\r\n\t\t\t\t&lt;div class=&quot;social_link&quot;&gt;\r\n\t\t\t\t\t&lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa-brands fa-facebook-f&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i\r\n\t\t\t\t\t\tclass=&quot;fa-brands fa-twitter&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i\r\n\t\t\t\t\t\tclass=&quot;fa-brands fa-instagram&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i\r\n\t\t\t\t\t\tclass=&quot;fa-brands fa-linkedin-in&quot;&gt;&lt;/i&gt;&lt;/a&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t&lt;div class=&quot;tag&quot;&gt;\r\n\t\t\t\t&lt;h1&gt;Newsletter&lt;/h1&gt;\r\n\t\t\t\t&lt;div class=&quot;search_bar&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;text&quot; placeholder=&quot;You email id here&quot;&gt;\r\n\t\t\t\t\t&lt;button type=&quot;submit&quot;&gt;Subscribe&lt;/button&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t&lt;/div&gt;\r\n\t&lt;/footer&gt;\r\n\r\n\t&lt;script src=&quot;https://code.jquery.com/jquery-3.6.4.js&quot;&gt;&lt;/script&gt;\r\n\t&lt;jsp:include page=&quot;footer.jsp&quot; /&gt;\r\n&lt;/body&gt;\r\n```","title":"why can&#39;t I call HTML in ajax","body":"<p>i have 1 error when i try to use html in jquery to add product quantity to cart but cant add even though click event is caught.when the click event is done, get the value in the APIController with Id &quot;cart-number&quot;, it cannot be called.here is my js code:</p>\n<pre><code>$(document).ready(function(){\n    $(&quot;.cart-btn&quot;).click(function(){\n        var color_id = $(this).closest(&quot;tr&quot;).find(&quot;.color&quot;).attr(&quot;data-color&quot;);\n        var color_name = $(this).closest(&quot;tr&quot;).find(&quot;.color&quot;).text();\n        var quantity = $(this).closest(&quot;tr&quot;).find(&quot;.quantity&quot;).text();\n        \n        var product_name = $(&quot;#detail-title&quot;).text();\n        var product_id = $(&quot;#detail-title&quot;).attr(&quot;data-Id&quot;);\n        var price = $(&quot;#detail-price&quot;).attr(&quot;data-value&quot;);\n        \n           $.ajax({\n            url:&quot;/PhoneAccessories/api/addtocart&quot;,\n            type:&quot;GET&quot;,\n            data:{\n                product_id:product_id,\n                color_id:color_id,\n                quantity:quantity,\n                product_name:product_name,\n                price:price,\n                color_name:color_name\n            },\n            success: function(value){\n                $(&quot;#cart-number&quot;).html(&quot;&lt;span&gt;&quot;+value+&quot;&lt;/span&gt;&quot;);\n            }\n        })\n    \n    });\n});\n</code></pre>\n<p>this is my APIController:</p>\n<pre><code>@Controller\n    @RequestMapping(&quot;api/&quot;)\n    @SessionAttributes({&quot;email&quot;,&quot;cart&quot;})\n    public class APIController {\n        @Autowired\n        EmployeeService employeeService;\n        \n        @GetMapping(&quot;addtocart&quot;)\n        public String AddToCart(@RequestParam int product_id,@RequestParam int color_id,@RequestParam int quantity,@RequestParam String product_name,@RequestParam String price,@RequestParam String color_name,HttpSession httpSession) {\n            \n            if(httpSession.getAttribute(&quot;cart&quot;) == null) {\n                List&lt;ProductCart&gt; productCarts = new ArrayList&lt;ProductCart&gt;();\n                ProductCart carts = new ProductCart();\n                carts.setProduct_id(product_id);\n                carts.setColor_id(color_id);\n                carts.setQuantity(1);\n                carts.setProduct_name(product_name);\n                carts.setPrice(price);\n                carts.setColor_name(color_name);\n                productCarts.add(carts);\n                httpSession.setAttribute(&quot;cart&quot;, productCarts);\n                List&lt;ProductCart&gt; listCart = (List&lt;ProductCart&gt;) httpSession.getAttribute(&quot;cart&quot;);\n                return listCart.size()+ &quot;&quot;;\n            }else {\n                List&lt;ProductCart&gt; listCart = (List&lt;ProductCart&gt;) httpSession.getAttribute(&quot;cart&quot;);\n                int location = CheckProductAlreadyExists(product_id, color_id, httpSession);\n                if(location == -1) {\n                    \n                    ProductCart carts = new ProductCart();\n                    carts.setProduct_id(product_id);\n                    carts.setColor_id(color_id);\n                    carts.setQuantity(1);\n                    carts.setProduct_name(product_name);\n                    carts.setPrice(price);\n                    carts.setColor_name(color_name);\n                    listCart.add(carts);\n                }else {\n                    \n                    int newQuantity = listCart.get(location).getQuantity()+1;\n                    listCart.get(location).setQuantity(newQuantity);\n                }\n                return listCart.size() +&quot;&quot;;\n                \n            }\n            \n            \n        }\n        private int CheckProductAlreadyExists(int product_id,int color_id,HttpSession httpSession) {\n            List&lt;ProductCart&gt; listCart = (List&lt;ProductCart&gt;) httpSession.getAttribute(&quot;cart&quot;);\n            for(int i=0;i&lt;listCart.size();i++) {\n                if(listCart.get(i).getProduct_id()== product_id &amp;&amp; listCart.get(i).getColor_id() ==color_id ) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n</code></pre>\n<p>here is the jsp details page:</p>\n<pre><code>&lt;body&gt;\n    &lt;section id=&quot;detail-page&quot;&gt;\n\n        &lt;nav&gt;\n            &lt;div id=&quot;check&quot; class=&quot;logo&quot;&gt;\n                &lt;img id=&quot;image-logo&quot; src='&lt;c:url value=&quot;/resources/Image/YOP.png&quot;/&gt;' /&gt;\n            &lt;/div&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=&quot;/PhoneAccessories/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;#Products&quot;&gt;Products&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;#About&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;#Review&quot;&gt;Review&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;#Servises&quot;&gt;Servises&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n\n            &lt;div class=&quot;icons&quot;&gt;\n                &lt;i class=&quot;fa-solid fa-cart-shopping&quot;&gt;&lt;div id=&quot;cart-number&quot;&gt;&lt;span&gt;${NumberOfProduct}&lt;/span&gt;&lt;/div&gt;&lt;/i&gt; \n                &lt;c:choose&gt;\n                    &lt;c:when test=&quot;${fc != null}&quot;&gt;\n                        &lt;a id=&quot;first-char&quot; href=&quot;login/&quot;&gt; ${fc} &lt;/i&gt;&lt;/a&gt;\n                    &lt;/c:when&gt;\n                    &lt;c:otherwise&gt;\n                        &lt;a href=&quot;/PhoneAccessories/login/&quot;&gt;&lt;i class=&quot;fa-solid fa-user&quot;&gt;&lt;/i&gt;&lt;/a&gt;\n                    &lt;/c:otherwise&gt;\n                &lt;/c:choose&gt;\n\n            &lt;/div&gt;\n\n        &lt;/nav&gt;\n\n\n    &lt;/section&gt;\n    \n    &lt;!-- Detail Product --&gt;\n    \n    &lt;div id=&quot;container-detail&quot; class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div id=&quot;product-category&quot; class=&quot;col-sm-2 col-md-2&quot;&gt;\n            &lt;div&gt;\n                &lt;span id=&quot;product-category-titile&quot;&gt;Product Catalogue&lt;/span&gt;\n            &lt;/div&gt;\n                &lt;ul id=&quot;product-category-ul&quot;&gt;\n                &lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;#&quot;&gt;category&lt;/a&gt;&lt;/li&gt;\n                &lt;!-- \n                    &lt;c:forEach var=&quot;category&quot; items=&quot;${categories}&quot;&gt;\n                        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;${category}&lt;/a&gt;&lt;/li&gt;\n                    &lt;/c:forEach&gt;\n                 --&gt;\n                    \n                &lt;/ul&gt;\n            &lt;/div&gt;\n            \n            \n            &lt;div class=&quot;col-sm-8 col-md-8&quot;&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    &lt;div class=&quot;col-sm-5 col-md-5&quot;&gt;\n                        &lt;img id=&quot;image-detail&quot; src='&lt;c:url value=&quot;/resources/Image/products/${product.getProduct_image()}&quot;/&gt;' /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;col-sm-7 col-md-7&quot;&gt;\n                        &lt;h4 id=&quot;detail-title&quot; data-Id=&quot;${product.getProduct_id()}&quot; &gt;${product.getProduct_name()}&lt;/h4&gt;\n                        &lt;h5 id=&quot;detail-price&quot; data-value=&quot;${product.getProduct_price()}&quot; &gt;${product.getProduct_price()}&lt;/h5&gt;\n                        &lt;table class=&quot;table&quot;&gt;\n                            &lt;thead&gt;\n                                &lt;tr&gt;\n                                    &lt;td&gt;Color&lt;/td&gt;\n                                    &lt;td&gt;Quantity&lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/thead&gt;\n                            &lt;tbody&gt;\n                                &lt;c:forEach var=&quot;detailProduct&quot; items=&quot;${product.getProduct_Details()}&quot;&gt;\n                                    &lt;tr&gt;\n                                        &lt;td class=&quot;color&quot; data-color=&quot;${detailProduct.getProduct_Color().getColor_id()}&quot; &gt;${detailProduct.getProduct_Color().getColor_name()}&lt;/td&gt;\n                                        &lt;td class=&quot;quantity&quot; data-quantity=&quot;${detailProduct.getQuantity()}&quot; &gt;${detailProduct.getQuantity()}&lt;/td&gt;\n                                        &lt;td&gt;&lt;button id=&quot;product-button&quot; class=&quot;cart-btn&quot;&gt;shop now&lt;/button&gt;&lt;/td&gt;\n                                    &lt;/tr&gt;\n                                &lt;/c:forEach&gt;\n                                \n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;col-sm-2 col-md-2&quot;&gt;\n                &lt;h5&gt;Description&lt;/h5&gt;\n                &lt;span&gt;${product.getDescription_product()}&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n    &lt;!--Footer--&gt;\n\n    &lt;footer&gt;\n        &lt;div class=&quot;footer_main&quot;&gt;\n            &lt;div class=&quot;tag&quot;&gt;\n                &lt;h1&gt;Contact&lt;/h1&gt;\n                &lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa-solid fa-house&quot;&gt;&lt;/i&gt;123/Colombo/Sri\n                    Lanka&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa-solid fa-phone&quot;&gt;&lt;/i&gt;+94 12 345\n                    6789&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa-solid fa-envelope&quot;&gt;&lt;/i&gt;contact@gmail.com&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;tag&quot;&gt;\n                &lt;h1&gt;Get Help&lt;/h1&gt;\n                &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;FAQ&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Shipping&lt;/a&gt;\n                &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Returns&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Payment\n                    Options&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;tag&quot;&gt;\n                &lt;h1&gt;Our Stores&lt;/h1&gt;\n                &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Sri Lanka&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;USA&lt;/a&gt;\n                &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;India&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;center&quot;&gt;Japan&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;tag&quot;&gt;\n                &lt;h1&gt;Follw Us&lt;/h1&gt;\n                &lt;div class=&quot;social_link&quot;&gt;\n                    &lt;a href=&quot;#&quot;&gt;&lt;i class=&quot;fa-brands fa-facebook-f&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i\n                        class=&quot;fa-brands fa-twitter&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i\n                        class=&quot;fa-brands fa-instagram&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a href=&quot;#&quot;&gt;&lt;i\n                        class=&quot;fa-brands fa-linkedin-in&quot;&gt;&lt;/i&gt;&lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;tag&quot;&gt;\n                &lt;h1&gt;Newsletter&lt;/h1&gt;\n                &lt;div class=&quot;search_bar&quot;&gt;\n                    &lt;input type=&quot;text&quot; placeholder=&quot;You email id here&quot;&gt;\n                    &lt;button type=&quot;submit&quot;&gt;Subscribe&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/footer&gt;\n\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.6.4.js&quot;&gt;&lt;/script&gt;\n    &lt;jsp:include page=&quot;footer.jsp&quot; /&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["java","dictionary","collections","jackson","dto"],"owner":{"account_id":5157420,"reputation":11,"user_id":6373469,"display_name":"kaiw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681529789,"creation_date":1681529789,"question_id":76020227,"body_markdown":"I&#39;m working with a REST API which returns a set of objects that contains a flexible &quot;attributes&quot; element which is very loose in how it returns the data. For instance, the API may return a Collection of CharacterProfiles as follows:\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;another523somminguid&quot;,\r\n        &quot;name&quot;: &quot;Stan Smith&quot;,\r\n        &quot;attributes&quot;: {\r\n            &quot;occupation&quot;: &quot;CIA Agent&quot;,\r\n            &quot;description&quot;: &quot;A very opinionated agent with a very large chin&quot;\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;some123abcguid&quot;,\r\n        &quot;name&quot;: &quot;Roger Smith&quot;,\r\n        &quot;attributes&quot;: {\r\n            &quot;appearance&quot;: [\r\n                &quot;alien&quot;,\r\n                &quot;pear-shaped&quot;,\r\n                &quot;bulbous head&quot;\r\n            ],\r\n            &quot;abilities&quot;: [\r\n                &quot;costume design&quot;,\r\n                &quot;super speed&quot;\r\n            ]\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;299anotherguid&quot;,\r\n        &quot;name&quot;: &quot;Steve Smith&quot;,\r\n        &quot;attributes&quot;: {\r\n            &quot;appearance&quot;: [\r\n                &quot;bespectacled&quot;,\r\n                &quot;skinny&quot;,\r\n                &quot;brown hair&quot;\r\n            ],\r\n            &quot;abilities&quot;: &quot;no notable abilities&quot;\r\n        }\r\n    }\r\n]\r\n```\r\n\r\nSeeing that the `attributes` property takes a rather loose form where it is not really possible to know _all_ of the keys in advance, only really knowing they are strings, I elected to build the DTO to accept a Map of Lists as follows:\r\n\r\n```java\r\nimport java.util.Collection;\r\nimport java.util.Map;\r\n\r\nimport lombok.Data;\r\nimport lombok.Builder;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.AllArgsConstructor;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic @Data @Builder class CharacterProfile {\r\n    String id;\r\n    String name;\r\n    // How do I specify this format to accept the wide variety of JSON objects?\r\n    @JsonFormat(with = what_feature?)\r\n    Map&lt;String, Collection&lt;String&gt;&gt; attributes;\r\n}\r\n```\r\n\r\nMy picking through the Jackson JavaDocs for the [`@JsonFormat`](https://fasterxml.github.io/jackson-annotations/javadoc/2.7/index.html?com/fasterxml/jackson/annotation/JsonFormat.Feature.html) annotation tells me that using the [`JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY`](https://fasterxml.github.io/jackson-annotations/javadoc/2.7/index.html?com/fasterxml/jackson/annotation/JsonFormat.Feature.html) feature might work, but every reference suggests this only works for objects which implement the `Collection` interface.\r\n\r\nDo I need to rethink my design? Or is there some other magic annotation I can apply to get this to properly deserialise these structures into usable DTOs? What will work to load these variant types correctly into a (mostly) statically typed DTO?","title":"Jackson - What is the best way to model a map of lists in a DTO property where the list keys are flexible and the list may arrive as a single word?","body":"<p>I'm working with a REST API which returns a set of objects that contains a flexible &quot;attributes&quot; element which is very loose in how it returns the data. For instance, the API may return a Collection of CharacterProfiles as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: &quot;another523somminguid&quot;,\n        &quot;name&quot;: &quot;Stan Smith&quot;,\n        &quot;attributes&quot;: {\n            &quot;occupation&quot;: &quot;CIA Agent&quot;,\n            &quot;description&quot;: &quot;A very opinionated agent with a very large chin&quot;\n        }\n    },\n    {\n        &quot;id&quot;: &quot;some123abcguid&quot;,\n        &quot;name&quot;: &quot;Roger Smith&quot;,\n        &quot;attributes&quot;: {\n            &quot;appearance&quot;: [\n                &quot;alien&quot;,\n                &quot;pear-shaped&quot;,\n                &quot;bulbous head&quot;\n            ],\n            &quot;abilities&quot;: [\n                &quot;costume design&quot;,\n                &quot;super speed&quot;\n            ]\n        }\n    },\n    {\n        &quot;id&quot;: &quot;299anotherguid&quot;,\n        &quot;name&quot;: &quot;Steve Smith&quot;,\n        &quot;attributes&quot;: {\n            &quot;appearance&quot;: [\n                &quot;bespectacled&quot;,\n                &quot;skinny&quot;,\n                &quot;brown hair&quot;\n            ],\n            &quot;abilities&quot;: &quot;no notable abilities&quot;\n        }\n    }\n]\n</code></pre>\n<p>Seeing that the <code>attributes</code> property takes a rather loose form where it is not really possible to know <em>all</em> of the keys in advance, only really knowing they are strings, I elected to build the DTO to accept a Map of Lists as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collection;\nimport java.util.Map;\n\nimport lombok.Data;\nimport lombok.Builder;\nimport lombok.NoArgsConstructor;\nimport lombok.AllArgsConstructor;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\n\n@NoArgsConstructor\n@AllArgsConstructor\npublic @Data @Builder class CharacterProfile {\n    String id;\n    String name;\n    // How do I specify this format to accept the wide variety of JSON objects?\n    @JsonFormat(with = what_feature?)\n    Map&lt;String, Collection&lt;String&gt;&gt; attributes;\n}\n</code></pre>\n<p>My picking through the Jackson JavaDocs for the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/index.html?com/fasterxml/jackson/annotation/JsonFormat.Feature.html\" rel=\"nofollow noreferrer\"><code>@JsonFormat</code></a> annotation tells me that using the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/index.html?com/fasterxml/jackson/annotation/JsonFormat.Feature.html\" rel=\"nofollow noreferrer\"><code>JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY</code></a> feature might work, but every reference suggests this only works for objects which implement the <code>Collection</code> interface.</p>\n<p>Do I need to rethink my design? Or is there some other magic annotation I can apply to get this to properly deserialise these structures into usable DTOs? What will work to load these variant types correctly into a (mostly) statically typed DTO?</p>\n"},{"tags":["java","json","spring-boot","chatbot","openai-api"],"comments":[{"owner":{"account_id":14324749,"reputation":16763,"user_id":10347145,"display_name":"Rok Benko"},"score":0,"creation_date":1678907955,"post_id":75748827,"comment_id":133626257,"body_markdown":"Does this answer your question? [OpenAI GPT-3 API error: &quot;Cannot specify both model and engine&quot;](https://stackoverflow.com/questions/75176667/openai-gpt-3-api-error-cannot-specify-both-model-and-engine)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75176667/openai-gpt-3-api-error-cannot-specify-both-model-and-engine\">OpenAI GPT-3 API error: &quot;Cannot specify both model and engine&quot;</a>"}],"owner":{"account_id":22412362,"reputation":13,"user_id":16620918,"display_name":"Hamza Sghaier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681528045,"creation_date":1678905410,"question_id":75748827,"body_markdown":"I&#39;m trying to create a chatbot using a [Spring Boot][1] controller and calling the ChatGPT API after generating *apiKey* and including it into the code, it’s returning:\r\n\r\n&gt; `Unexpected code Response{protocol=h2, code=400, message=, url=https://api.openai.com/v1/engines/davinci-codex/completions}`\r\n\r\nIt might be incorrect the URL or I&#39;m using an invalid API key, because I’m generating a secret API key, and I don&#39;t know if they are the same. Also I can&#39;t find anything else to generate here:  [https://platform.openai.com/account/api-keys](https://www.stackoverflow.com/)\r\n\r\nHere is my controller class:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/bot&quot;)\r\npublic class ChatbotController {\r\n    private final OkHttpClient httpClient = new OkHttpClient();\r\n    private final String apiUrl = &quot;https://api.openai.com/v1/engines/davinci-codex/completions&quot;;\r\n\r\n    @GetMapping(&quot;/{question}&quot;)\r\n    public String getAnswer(@PathVariable(&quot;question&quot;) String question) throws IOException {\r\n        String prompt = &quot;Q: &quot; + question + &quot;\\nA:&quot;;\r\n        String response = getChatbotResponse(prompt);\r\n        return response;\r\n    }\r\n\r\n    private String getChatbotResponse(String prompt) throws IOException {\r\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\r\n        String requestBody = &quot;{\\&quot;prompt\\&quot;:\\&quot;&quot; + prompt + &quot;\\&quot;,\\&quot;temperature\\&quot;:0.5,\\&quot;max_tokens\\&quot;:150}&quot;;\r\n\r\n        RequestBody body = RequestBody.create(mediaType, requestBody);\r\n\r\n        Request request = new Request.Builder()\r\n                .url(apiUrl)\r\n                .post(body)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &lt;myapikey&gt;&quot;)\r\n                .build();\r\n\r\n        try (Response response = httpClient.newCall(request).execute()) {\r\n            if (!response.isSuccessful()) {\r\n                throw new IOException(&quot;Unexpected code &quot; + response);\r\n            }\r\n\r\n            String responseBody = response.body().string();\r\n            String[] lines = responseBody.split(&quot;\\\\r?\\\\n&quot;);\r\n            String text = &quot;&quot;;\r\n            for (String line : lines) {\r\n                if (line.contains(&quot;\\&quot;text\\&quot;&quot;)) {\r\n                    text = line.substring(line.indexOf(&quot;:&quot;) + 2, line.length() - 1);\r\n                    break;\r\n                }\r\n            }\r\n            return text;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlso, in [Postman][2], it is a returning 500 internal server error:\r\n\r\n&gt; `{&quot;timestamp&quot;:&quot;2023-03-15T18:16:56.750+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;path&quot;:&quot;/api/bot/how%20can%20i%20gain%20weight&quot;}`\r\n\r\nI tried to change the API URL, because I’m not sure about it that it is the correct one, but I am still getting the same response.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [2]: https://stackoverflow.com/tags/postman/info\r\n\r\n\r\n\r\n","title":"ChatGPT bot exception","body":"<p>I'm trying to create a chatbot using a <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> controller and calling the ChatGPT API after generating <em>apiKey</em> and including it into the code, it’s returning:</p>\n<blockquote>\n<p><code>Unexpected code Response{protocol=h2, code=400, message=, url=https://api.openai.com/v1/engines/davinci-codex/completions}</code></p>\n</blockquote>\n<p>It might be incorrect the URL or I'm using an invalid API key, because I’m generating a secret API key, and I don't know if they are the same. Also I can't find anything else to generate here:  <a href=\"https://www.stackoverflow.com/\">https://platform.openai.com/account/api-keys</a></p>\n<p>Here is my controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/bot&quot;)\npublic class ChatbotController {\n    private final OkHttpClient httpClient = new OkHttpClient();\n    private final String apiUrl = &quot;https://api.openai.com/v1/engines/davinci-codex/completions&quot;;\n\n    @GetMapping(&quot;/{question}&quot;)\n    public String getAnswer(@PathVariable(&quot;question&quot;) String question) throws IOException {\n        String prompt = &quot;Q: &quot; + question + &quot;\\nA:&quot;;\n        String response = getChatbotResponse(prompt);\n        return response;\n    }\n\n    private String getChatbotResponse(String prompt) throws IOException {\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n\n        String requestBody = &quot;{\\&quot;prompt\\&quot;:\\&quot;&quot; + prompt + &quot;\\&quot;,\\&quot;temperature\\&quot;:0.5,\\&quot;max_tokens\\&quot;:150}&quot;;\n\n        RequestBody body = RequestBody.create(mediaType, requestBody);\n\n        Request request = new Request.Builder()\n                .url(apiUrl)\n                .post(body)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &lt;myapikey&gt;&quot;)\n                .build();\n\n        try (Response response = httpClient.newCall(request).execute()) {\n            if (!response.isSuccessful()) {\n                throw new IOException(&quot;Unexpected code &quot; + response);\n            }\n\n            String responseBody = response.body().string();\n            String[] lines = responseBody.split(&quot;\\\\r?\\\\n&quot;);\n            String text = &quot;&quot;;\n            for (String line : lines) {\n                if (line.contains(&quot;\\&quot;text\\&quot;&quot;)) {\n                    text = line.substring(line.indexOf(&quot;:&quot;) + 2, line.length() - 1);\n                    break;\n                }\n            }\n            return text;\n        }\n    }\n\n}\n</code></pre>\n<p>Also, in <a href=\"https://stackoverflow.com/tags/postman/info\">Postman</a>, it is a returning 500 internal server error:</p>\n<blockquote>\n<p><code>{&quot;timestamp&quot;:&quot;2023-03-15T18:16:56.750+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;path&quot;:&quot;/api/bot/how%20can%20i%20gain%20weight&quot;}</code></p>\n</blockquote>\n<p>I tried to change the API URL, because I’m not sure about it that it is the correct one, but I am still getting the same response.</p>\n"},{"tags":["java","apache-kafka","deserialization","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681525642,"creation_date":1681525642,"answer_id":76020072,"question_id":75983405,"body_markdown":"&gt; put several objects in one message\r\n\r\nThat&#39;s perfectly &quot;valid&quot;, as far as Kafka is concerned. Now, you need to parse the bytes...\r\n\r\nWithout seeing the actual bytes of the data, it&#39;s difficult to answer why you get errors, but here are some hints. \r\n\r\n1. If you have the schema, you should be using [Maven plugin](https://avro.apache.org/docs/1.11.1/getting-started-java/) to create a class, and not using GenericRecord. \r\n2. Kafka is commonly used with a Schema Registry, such as the one offered by Confluent. Confluent provides their own `KafkaAvroDeserializer` class, but there are also other implementations, so you don&#39;t ned to write your own. More specifically, BinaryDecoder will not work with Confluent-serialized producer data out of the box. As mentioned, you need to inspect the raw bytes, and cannot just assume you have a single Avro record in the data.\r\n3. Your schema has no Avro array types, so therefore you already know your parser is messing up trying to do something with ArrayLists\r\n4. You cannot return a `T`. You can return a class that has a List field. You would `implements Deserializer&lt;ClassWithList&gt;`, rather than have a raw interface... ","title":"Parse byte array of multiple Avro records","body":"<blockquote>\n<p>put several objects in one message</p>\n</blockquote>\n<p>That's perfectly &quot;valid&quot;, as far as Kafka is concerned. Now, you need to parse the bytes...</p>\n<p>Without seeing the actual bytes of the data, it's difficult to answer why you get errors, but here are some hints.</p>\n<ol>\n<li>If you have the schema, you should be using <a href=\"https://avro.apache.org/docs/1.11.1/getting-started-java/\" rel=\"nofollow noreferrer\">Maven plugin</a> to create a class, and not using GenericRecord.</li>\n<li>Kafka is commonly used with a Schema Registry, such as the one offered by Confluent. Confluent provides their own <code>KafkaAvroDeserializer</code> class, but there are also other implementations, so you don't ned to write your own. More specifically, BinaryDecoder will not work with Confluent-serialized producer data out of the box. As mentioned, you need to inspect the raw bytes, and cannot just assume you have a single Avro record in the data.</li>\n<li>Your schema has no Avro array types, so therefore you already know your parser is messing up trying to do something with ArrayLists</li>\n<li>You cannot return a <code>T</code>. You can return a class that has a List field. You would <code>implements Deserializer&lt;ClassWithList&gt;</code>, rather than have a raw interface...</li>\n</ol>\n"}],"owner":{"account_id":28272496,"reputation":1,"user_id":21615456,"display_name":"rockyboom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681525952,"creation_date":1681198033,"question_id":75983405,"body_markdown":"I am trying to consume some topics. The problem is when producer serialized the data, he put several objects in one message. When i deserialize one message, I only get one object and lost others.\r\n\r\nmy schema is like this.\r\n```\r\n` &quot;fields&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;instanceuid&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;s&quot;,\r\n            &quot;type&quot;: &quot;int&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;t&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n        }\r\n    ]\r\n`\r\n```\r\nAnd my deserialize class is from some demo like this\r\n```\r\n`public T deserialize(String topic, byte[] data) {\r\n        try {\r\n            T result = null;\r\n\r\n            if(data == null) {\r\n                return null;\r\n            }\r\n            LOGGER.debug(&quot;data=&#39;{}&#39;&quot;, DatatypeConverter.printHexBinary(data));\r\n            ByteArrayInputStream in = new ByteArrayInputStream(data);\r\n            DatumReader&lt;GenericRecord&gt; userDatumReader = new SpecificDatumReader&lt;&gt;(targetType.newInstance().getSchema());\r\n            BinaryDecoder decoder = DecoderFactory.get().directBinaryDecoder(in, null);\r\n            List&lt;GenericRecord&gt; records = new ArrayList&lt;GenericRecord&gt;();\r\n                 while(true){\r\n                         try {\r\n                                 GenericRecord record = userDatumReader.read(null, decoder);\r\n                                 records.add(record);\r\n                             } catch (EOFException eof) {\r\n                                break;\r\n                            }\r\n                     }\r\n\r\n           // result = (T) userDatumReader.read(null, decoder);\r\n            LOGGER.info(&quot;deserialized data=&#39;{}&#39;&quot;, records);\r\n             result = (T) records;\r\n            return result;\r\n        } catch (Exception ex) {\r\n            throw new SerializationException(\r\n                    &quot;Can&#39;t deserialize data &#39;&quot; + Arrays.toString(data) + &quot;&#39; from topic &#39;&quot; + topic + &quot;&#39;&quot;, ex);\r\n        } finally {\r\n\r\n        }\r\n    }\r\n}`\r\n```\r\n\r\n\r\nmy code works if the message only contains one object.\r\n\r\nNow I am trying to get my deserialized data, but i get error, it goes like this \r\n\r\n```\r\njava.util.ArrayList cannot be cast to org.apache.avro.specific.SpecificRecordBase&quot;\r\n```\r\n\r\nmy class implements Deserializer, so the deserialize method is T type.  \r\nso how can i return a T type with List type?\r\n\r\n\r\nim not using confluent to register schema of something.","title":"Parse byte array of multiple Avro records","body":"<p>I am trying to consume some topics. The problem is when producer serialized the data, he put several objects in one message. When i deserialize one message, I only get one object and lost others.</p>\n<p>my schema is like this.</p>\n<pre><code>` &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;instanceuid&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        },\n        {\n            &quot;name&quot;: &quot;s&quot;,\n            &quot;type&quot;: &quot;int&quot;\n        },\n        {\n            &quot;name&quot;: &quot;t&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        }\n    ]\n`\n</code></pre>\n<p>And my deserialize class is from some demo like this</p>\n<pre><code>`public T deserialize(String topic, byte[] data) {\n        try {\n            T result = null;\n\n            if(data == null) {\n                return null;\n            }\n            LOGGER.debug(&quot;data='{}'&quot;, DatatypeConverter.printHexBinary(data));\n            ByteArrayInputStream in = new ByteArrayInputStream(data);\n            DatumReader&lt;GenericRecord&gt; userDatumReader = new SpecificDatumReader&lt;&gt;(targetType.newInstance().getSchema());\n            BinaryDecoder decoder = DecoderFactory.get().directBinaryDecoder(in, null);\n            List&lt;GenericRecord&gt; records = new ArrayList&lt;GenericRecord&gt;();\n                 while(true){\n                         try {\n                                 GenericRecord record = userDatumReader.read(null, decoder);\n                                 records.add(record);\n                             } catch (EOFException eof) {\n                                break;\n                            }\n                     }\n\n           // result = (T) userDatumReader.read(null, decoder);\n            LOGGER.info(&quot;deserialized data='{}'&quot;, records);\n             result = (T) records;\n            return result;\n        } catch (Exception ex) {\n            throw new SerializationException(\n                    &quot;Can't deserialize data '&quot; + Arrays.toString(data) + &quot;' from topic '&quot; + topic + &quot;'&quot;, ex);\n        } finally {\n\n        }\n    }\n}`\n</code></pre>\n<p>my code works if the message only contains one object.</p>\n<p>Now I am trying to get my deserialized data, but i get error, it goes like this</p>\n<pre><code>java.util.ArrayList cannot be cast to org.apache.avro.specific.SpecificRecordBase&quot;\n</code></pre>\n<p>my class implements Deserializer, so the deserialize method is T type.<br />\nso how can i return a T type with List type?</p>\n<p>im not using confluent to register schema of something.</p>\n"},{"tags":["java","maven","ssl","proxy"],"comments":[{"owner":{"account_id":2920899,"reputation":12440,"user_id":2503185,"accept_rate":100,"display_name":"Evin1_"},"score":2,"creation_date":1445296256,"post_id":25911623,"comment_id":54255419,"body_markdown":"I solved it following [rec&#39;s answer](http://stackoverflow.com/a/21266642/2503185) to ignore SSL certificate checking.","body":"I solved it following <a href=\"http://stackoverflow.com/a/21266642/2503185\">rec&#39;s answer</a> to ignore SSL certificate checking."}],"answers":[{"tags":[],"owner":{"account_id":3088267,"reputation":3500,"user_id":2614989,"display_name":"biology.info"},"down_vote_count":4,"up_vote_count":199,"is_accepted":true,"score":195,"last_activity_date":1439292177,"creation_date":1411042862,"answer_id":25912472,"question_id":25911623,"body_markdown":"The fact is that your maven plugin try to connect to an https remote repository&lt;br /&gt;\r\n(e.g https://repo.maven.apache.org/maven2/)\r\n\r\nThis is a new SSL connectivity for Maven Central was made available in august, 2014 !\r\n\r\nSo please, can you verify that your settings.xml has the correct configuration.\r\n\r\n        &lt;settings&gt;\r\n      &lt;activeProfiles&gt;\r\n        &lt;!--make the profile active all the time --&gt;\r\n        &lt;activeProfile&gt;securecentral&lt;/activeProfile&gt;\r\n      &lt;/activeProfiles&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;securecentral&lt;/id&gt;\r\n          &lt;!--Override the repository (and pluginRepository) &quot;central&quot; from the\r\n             Maven Super POM --&gt;\r\n          &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n              &lt;id&gt;central&lt;/id&gt;\r\n              &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n              &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n              &lt;/releases&gt;\r\n            &lt;/repository&gt;\r\n          &lt;/repositories&gt;\r\n          &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n              &lt;id&gt;central&lt;/id&gt;\r\n              &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n              &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n              &lt;/releases&gt;\r\n            &lt;/pluginRepository&gt;\r\n          &lt;/pluginRepositories&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    &lt;/settings&gt;\r\n\r\n\r\nYou can alternatively use the simple http maven repository like this\r\n\r\n     &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;name&gt;Maven Plugin Repository&lt;/name&gt;\r\n          &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n          &lt;layout&gt;default&lt;/layout&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n          &lt;releases&gt;\r\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n          &lt;/releases&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n\r\nPlease let me know if my solution works ;)\r\n\r\nJ.","title":"Problems using Maven and SSL behind proxy","body":"<p>The fact is that your maven plugin try to connect to an https remote repository<br />\n(e.g <a href=\"https://repo.maven.apache.org/maven2/\">https://repo.maven.apache.org/maven2/</a>)</p>\n\n<p>This is a new SSL connectivity for Maven Central was made available in august, 2014 !</p>\n\n<p>So please, can you verify that your settings.xml has the correct configuration.</p>\n\n<pre><code>    &lt;settings&gt;\n  &lt;activeProfiles&gt;\n    &lt;!--make the profile active all the time --&gt;\n    &lt;activeProfile&gt;securecentral&lt;/activeProfile&gt;\n  &lt;/activeProfiles&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;securecentral&lt;/id&gt;\n      &lt;!--Override the repository (and pluginRepository) \"central\" from the\n         Maven Super POM --&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;central&lt;/id&gt;\n          &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n          &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n          &lt;/releases&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n      &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n          &lt;id&gt;central&lt;/id&gt;\n          &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n          &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n          &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n      &lt;/pluginRepositories&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n\n<p>You can alternatively use the simple http maven repository like this</p>\n\n<pre><code> &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;Maven Plugin Repository&lt;/name&gt;\n      &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n      &lt;layout&gt;default&lt;/layout&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;releases&gt;\n        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n      &lt;/releases&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>Please let me know if my solution works ;)</p>\n\n<p>J.</p>\n"},{"tags":[],"owner":{"account_id":557288,"reputation":4505,"user_id":918271,"accept_rate":75,"display_name":"Andy"},"down_vote_count":1,"up_vote_count":245,"is_accepted":false,"score":244,"last_activity_date":1467386379,"creation_date":1411044305,"answer_id":25912982,"question_id":25911623,"body_markdown":"The answer above is a good working solution, but here&#39;s how to do it if you want to use the SSL repo:\r\n\r\n- Use a browser (I used IE) to go to https://repo.maven.apache.org/\r\n  - Click on lock icon and choose &quot;View Certificate&quot;\r\n  - Go to the &quot;Details&quot; tab and choose &quot;Save to File&quot;\r\n  - Choose type &quot;Base 64 X.509 (.CER)&quot; and save it somewhere\r\n- Now open a command prompt and type (use your own paths):\r\n\r\n    `keytool -import -file C:\\temp\\mavenCert.cer -keystore C:\\temp\\mavenKeystore`\r\n\r\n- Now you can run the command again with the parameter \r\n    \r\n    `-Djavax.net.ssl.trustStore=C:\\temp\\mavenKeystore`\r\n\r\n- Under linux use absolute path\r\n\r\n    `-Djavax.net.ssl.trustStore=/tmp/mavenKeystore`\r\n\r\n   otherwise [this][1] will happen\r\n\r\n\r\n- Like this:\r\n\r\n    `mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false -Djavax.net.ssl.trustStore=C:\\temp\\mavenKeystore`\r\n\r\n**Optional:**\r\n\r\nYou can use the `MAVEN_OPTS` environment variable so you don&#39;t have to worry about it again. See more info on the `MAVEN_OPTS` variable [here][2]:\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty\r\n  [2]: http://maven.apache.org/guides/mini/guide-repository-ssl.html","title":"Problems using Maven and SSL behind proxy","body":"<p>The answer above is a good working solution, but here's how to do it if you want to use the SSL repo:</p>\n\n<ul>\n<li>Use a browser (I used IE) to go to <a href=\"https://repo.maven.apache.org/\" rel=\"noreferrer\">https://repo.maven.apache.org/</a>\n\n<ul>\n<li>Click on lock icon and choose \"View Certificate\"</li>\n<li>Go to the \"Details\" tab and choose \"Save to File\"</li>\n<li>Choose type \"Base 64 X.509 (.CER)\" and save it somewhere</li>\n</ul></li>\n<li><p>Now open a command prompt and type (use your own paths):</p>\n\n<p><code>keytool -import -file C:\\temp\\mavenCert.cer -keystore C:\\temp\\mavenKeystore</code></p></li>\n<li><p>Now you can run the command again with the parameter </p>\n\n<p><code>-Djavax.net.ssl.trustStore=C:\\temp\\mavenKeystore</code></p></li>\n<li><p>Under linux use absolute path</p>\n\n<p><code>-Djavax.net.ssl.trustStore=/tmp/mavenKeystore</code></p>\n\n<p>otherwise <a href=\"https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty\">this</a> will happen</p></li>\n<li><p>Like this:</p>\n\n<p><code>mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false -Djavax.net.ssl.trustStore=C:\\temp\\mavenKeystore</code></p></li>\n</ul>\n\n<p><strong>Optional:</strong></p>\n\n<p>You can use the <code>MAVEN_OPTS</code> environment variable so you don't have to worry about it again. See more info on the <code>MAVEN_OPTS</code> variable <a href=\"http://maven.apache.org/guides/mini/guide-repository-ssl.html\" rel=\"noreferrer\">here</a>:</p>\n"},{"tags":[],"owner":{"account_id":40430,"reputation":101,"user_id":117163,"display_name":"Senthil"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1444919202,"creation_date":1427958901,"answer_id":29407124,"question_id":25911623,"body_markdown":"This may not be the best solution. I changed my maven from 3.3.x to 3.2.x. And this issue gone.","title":"Problems using Maven and SSL behind proxy","body":"<p>This may not be the best solution. I changed my maven from 3.3.x to 3.2.x. And this issue gone.</p>\n"},{"tags":[],"owner":{"account_id":254390,"reputation":764,"user_id":533753,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1450643405,"creation_date":1449072417,"answer_id":34047383,"question_id":25911623,"body_markdown":"Update\r\n======\r\n\r\nI just stumbled on this bug report:\r\n\r\nhttps://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760\r\n\r\nIt appears to be the cause of our problems here.  Something with ca-certificates-java encountering an error and not fully populating cacerts.  For me, this started happening after I upgraded to 15.10 and this bug probably occurred during that process.\r\n\r\nThe workaround is to execute the following command:\r\n\r\n&gt; sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n\r\nIf you check the contents of the keystore (as in my original answer), you&#39;ll now see a whole bunch more, including the needed DigiCert Global Root CA.\r\n\r\nIf you went through the process in my original answer, you can clean up the key we added by running this command (assuming you did not specify a different alias):\r\n\r\n&gt; sudo keytool -delete -alias mykey -keystore /etc/ssl/certs/java/cacerts\r\n\r\nMaven will now work fine.\r\n\r\n----------\r\n\r\nOriginal Answer\r\n===============\r\n\r\nI&#39;d just like to expand on Andy&#39;s answer about adding the certificate and specifying a keystore.  That got me started, and combined with information elsewhere I was able to understand the problem and find another (better?) solution.\r\n\r\nAndy&#39;s answer specifies a new keystore with the Maven cert specifically.  Here, I&#39;m going a bit more broad and adding the root certificate to the default java truststore.  This allows me to use mvn (and other java stuff) without specifying a keystore.\r\n\r\nFor reference my OS is Ubuntu 15.10 with Maven 3.3.3.\r\n\r\nBasically, the default java truststore in this setup does not trust the root certificate of the Maven repo (DigiCert Global Root CA), so it needs to be added.\r\n\r\nI found it here and downloaded:\r\n\r\nhttps://www.digicert.com/digicert-root-certificates.htm\r\n\r\nThen I found the default truststore location, which resides here:\r\n\r\n&gt; /etc/ssl/certs/java/cacerts\r\n\r\nYou can see what certs are currently in there by running this command:\r\n\r\n&gt; keytool -list -keystore /etc/ssl/certs/java/cacerts\r\n\r\nWhen prompted, the default keystore password is &quot;changeit&quot; (but nobody ever does).\r\n\r\nIn my setup, the fingerprint of &quot;DigiCert Global Root CA&quot; did not exist (DigiCert calls it &quot;thumbprint&quot; in the link above).  So here&#39;s how to add it:\r\n\r\n&gt; sudo keytool -import -file DigiCertGlobalRootCA.crt -keystore\r\n&gt; /etc/ssl/certs/java/cacerts\r\n\r\nThis should prompt if you trust the cert, say yes.\r\n\r\nUse keytool -list again to verify that the key exists.  I didn&#39;t bother to specify an alias (-alias), so it ended up like this:\r\n\r\n&gt; mykey, Dec 2, 2015, trustedCertEntry, Certificate fingerprint (SHA1):\r\n&gt; A8:98:5D:3A:65:E5:E5:C4:B2:D7:D6:6D:40:C6:DD:2F:B1:9C:54:36\r\n\r\nThen I was able to run mvn commands as normal, no need to specify keystore.","title":"Problems using Maven and SSL behind proxy","body":"<h1>Update</h1>\n\n<p>I just stumbled on this bug report:</p>\n\n<p><a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760\">https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760</a></p>\n\n<p>It appears to be the cause of our problems here.  Something with ca-certificates-java encountering an error and not fully populating cacerts.  For me, this started happening after I upgraded to 15.10 and this bug probably occurred during that process.</p>\n\n<p>The workaround is to execute the following command:</p>\n\n<blockquote>\n  <p>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure</p>\n</blockquote>\n\n<p>If you check the contents of the keystore (as in my original answer), you'll now see a whole bunch more, including the needed DigiCert Global Root CA.</p>\n\n<p>If you went through the process in my original answer, you can clean up the key we added by running this command (assuming you did not specify a different alias):</p>\n\n<blockquote>\n  <p>sudo keytool -delete -alias mykey -keystore /etc/ssl/certs/java/cacerts</p>\n</blockquote>\n\n<p>Maven will now work fine.</p>\n\n<hr>\n\n<h1>Original Answer</h1>\n\n<p>I'd just like to expand on Andy's answer about adding the certificate and specifying a keystore.  That got me started, and combined with information elsewhere I was able to understand the problem and find another (better?) solution.</p>\n\n<p>Andy's answer specifies a new keystore with the Maven cert specifically.  Here, I'm going a bit more broad and adding the root certificate to the default java truststore.  This allows me to use mvn (and other java stuff) without specifying a keystore.</p>\n\n<p>For reference my OS is Ubuntu 15.10 with Maven 3.3.3.</p>\n\n<p>Basically, the default java truststore in this setup does not trust the root certificate of the Maven repo (DigiCert Global Root CA), so it needs to be added.</p>\n\n<p>I found it here and downloaded:</p>\n\n<p><a href=\"https://www.digicert.com/digicert-root-certificates.htm\">https://www.digicert.com/digicert-root-certificates.htm</a></p>\n\n<p>Then I found the default truststore location, which resides here:</p>\n\n<blockquote>\n  <p>/etc/ssl/certs/java/cacerts</p>\n</blockquote>\n\n<p>You can see what certs are currently in there by running this command:</p>\n\n<blockquote>\n  <p>keytool -list -keystore /etc/ssl/certs/java/cacerts</p>\n</blockquote>\n\n<p>When prompted, the default keystore password is \"changeit\" (but nobody ever does).</p>\n\n<p>In my setup, the fingerprint of \"DigiCert Global Root CA\" did not exist (DigiCert calls it \"thumbprint\" in the link above).  So here's how to add it:</p>\n\n<blockquote>\n  <p>sudo keytool -import -file DigiCertGlobalRootCA.crt -keystore\n  /etc/ssl/certs/java/cacerts</p>\n</blockquote>\n\n<p>This should prompt if you trust the cert, say yes.</p>\n\n<p>Use keytool -list again to verify that the key exists.  I didn't bother to specify an alias (-alias), so it ended up like this:</p>\n\n<blockquote>\n  <p>mykey, Dec 2, 2015, trustedCertEntry, Certificate fingerprint (SHA1):\n  A8:98:5D:3A:65:E5:E5:C4:B2:D7:D6:6D:40:C6:DD:2F:B1:9C:54:36</p>\n</blockquote>\n\n<p>Then I was able to run mvn commands as normal, no need to specify keystore.</p>\n"},{"tags":[],"owner":{"account_id":5139184,"reputation":1156,"user_id":4117084,"accept_rate":0,"display_name":"Gene M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455814736,"creation_date":1455814736,"answer_id":35487767,"question_id":25911623,"body_markdown":"I was getting the same error about the SSL certificate when Maven tried to download the necessary modules automatically. &lt;br&gt;\r\nAs a remedy, I was attempting to implement Luke&#39;s answer above, but found that the DigiCert Global Root CA certificate is already in Java&#39;s trusted keystore.&lt;br&gt;&lt;br&gt;\r\nWhat helped me was adding `%JAVA_HOME%\\bin` to the Path variable (I am running Windows). And `%JAVA_HOME%` is a JDK location, not just a JRE location, since Maven needs a JDK.&lt;br&gt;\r\nI am not certain why it helped, but it did. I am absolutely sure that this was the only thing I changed.","title":"Problems using Maven and SSL behind proxy","body":"<p>I was getting the same error about the SSL certificate when Maven tried to download the necessary modules automatically. <br>\nAs a remedy, I was attempting to implement Luke's answer above, but found that the DigiCert Global Root CA certificate is already in Java's trusted keystore.<br><br>\nWhat helped me was adding <code>%JAVA_HOME%\\bin</code> to the Path variable (I am running Windows). And <code>%JAVA_HOME%</code> is a JDK location, not just a JRE location, since Maven needs a JDK.<br>\nI am not certain why it helped, but it did. I am absolutely sure that this was the only thing I changed.</p>\n"},{"tags":[],"owner":{"account_id":7415507,"reputation":386,"user_id":5641492,"accept_rate":20,"display_name":"halim"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1464594030,"creation_date":1464594030,"answer_id":37520140,"question_id":25911623,"body_markdown":"I actually had the same problem.\r\n\r\nwhen I run \r\n\r\n&gt; mvn clean package \r\n\r\non my maven project, I get this certificate error by the maven tool.\r\n\r\nI followed @Andy &#39;s Answer till the point where I downloaded the **.cer** file\r\n\r\nafter that the rest of the answer didn&#39;t work for me but I did the following(I am running on Linux Debian machine)\r\n\r\nfirst of all, run:\r\n\r\n&gt; keytool -list -keystore &quot;Java path+&quot;/jre/lib/security/cacerts&quot;&quot;\r\n\r\nfor example in my case it is:\r\n\r\n&gt; keytool -list -keystore /usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt/jre/lib/security/cacerts\r\n\r\nif it asks about the password, just hit enter.\r\n\r\nthis command is supposed to list all the ssl certificates accepted by the java.\r\nwhen I ran this command, in my case I got 93 certificates for example.\r\n\r\nNow add the downloaded file **.cer** to the **cacerts** file by running the following command:\r\n\r\n&gt; sudo keytool -importcert -file /home/hal/Public/certificate_file_downloaded.cer -keystore /usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt/jre/security/cacerts\r\n\r\nwrite your sudo password then it will ask you about the **keystore password**\r\n\r\nthe default one is **changeit**\r\n\r\nthen say **y** that you trust this certificate.\r\n\r\nif you run the command \r\n\r\n&gt; keytool -list -keystore /usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt/jre/lib/security/cacerts\r\n\r\nonce again, in my case, I got 94 contents of the **cacerts** file\r\n\r\nit means, it was added successfully. ","title":"Problems using Maven and SSL behind proxy","body":"<p>I actually had the same problem.</p>\n\n<p>when I run </p>\n\n<blockquote>\n  <p>mvn clean package </p>\n</blockquote>\n\n<p>on my maven project, I get this certificate error by the maven tool.</p>\n\n<p>I followed @Andy 's Answer till the point where I downloaded the <strong>.cer</strong> file</p>\n\n<p>after that the rest of the answer didn't work for me but I did the following(I am running on Linux Debian machine)</p>\n\n<p>first of all, run:</p>\n\n<blockquote>\n  <p>keytool -list -keystore \"Java path+\"/jre/lib/security/cacerts\"\"</p>\n</blockquote>\n\n<p>for example in my case it is:</p>\n\n<blockquote>\n  <p>keytool -list -keystore /usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt/jre/lib/security/cacerts</p>\n</blockquote>\n\n<p>if it asks about the password, just hit enter.</p>\n\n<p>this command is supposed to list all the ssl certificates accepted by the java.\nwhen I ran this command, in my case I got 93 certificates for example.</p>\n\n<p>Now add the downloaded file <strong>.cer</strong> to the <strong>cacerts</strong> file by running the following command:</p>\n\n<blockquote>\n  <p>sudo keytool -importcert -file /home/hal/Public/certificate_file_downloaded.cer -keystore /usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt/jre/security/cacerts</p>\n</blockquote>\n\n<p>write your sudo password then it will ask you about the <strong>keystore password</strong></p>\n\n<p>the default one is <strong>changeit</strong></p>\n\n<p>then say <strong>y</strong> that you trust this certificate.</p>\n\n<p>if you run the command </p>\n\n<blockquote>\n  <p>keytool -list -keystore /usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt/jre/lib/security/cacerts</p>\n</blockquote>\n\n<p>once again, in my case, I got 94 contents of the <strong>cacerts</strong> file</p>\n\n<p>it means, it was added successfully. </p>\n"},{"tags":[],"owner":{"account_id":312929,"reputation":1478,"user_id":627297,"accept_rate":50,"display_name":"alex.b"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1506697867,"creation_date":1506697867,"answer_id":46491861,"question_id":25911623,"body_markdown":"If this issue happens for the **HTTPS** repository, f.e. https://repo.spring.io/milestone you can just try to replace with non secured: http://repo.spring.io/milestone. \r\nAnd that&#39;s it","title":"Problems using Maven and SSL behind proxy","body":"<p>If this issue happens for the <strong>HTTPS</strong> repository, f.e. <a href=\"https://repo.spring.io/milestone\" rel=\"nofollow noreferrer\">https://repo.spring.io/milestone</a> you can just try to replace with non secured: <a href=\"http://repo.spring.io/milestone\" rel=\"nofollow noreferrer\">http://repo.spring.io/milestone</a>. \nAnd that's it</p>\n"},{"tags":[],"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1508874316,"creation_date":1508874316,"answer_id":46918838,"question_id":25911623,"body_markdown":"You can import the SSL cert manually and just add it to the keystore.\r\n\r\nFor linux users, \r\n\r\nSyntax:\r\n\r\n&gt; keytool -trustcacerts -keystore &lt;Path_to&gt;/jre/lib/security/cacerts\r\n&gt; -storepass changeit -importcert -alias nexus -file &lt;Path_to_Certificate&gt;\r\n\r\nExample : \r\n\r\n&gt; keytool -trustcacerts -keystore\r\n&gt; /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/security/cacerts\r\n&gt; -storepass changeit -importcert -alias nexus -file ~/Downloads/abc.com-ssl.crt","title":"Problems using Maven and SSL behind proxy","body":"<p>You can import the SSL cert manually and just add it to the keystore.</p>\n\n<p>For linux users, </p>\n\n<p>Syntax:</p>\n\n<blockquote>\n  <p>keytool -trustcacerts -keystore /jre/lib/security/cacerts\n  -storepass changeit -importcert -alias nexus -file </p>\n</blockquote>\n\n<p>Example : </p>\n\n<blockquote>\n  <p>keytool -trustcacerts -keystore\n  /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home/jre/lib/security/cacerts\n  -storepass changeit -importcert -alias nexus -file ~/Downloads/abc.com-ssl.crt</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5469252,"reputation":332,"user_id":5711881,"display_name":"apocalysque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543390989,"creation_date":1543390989,"answer_id":53514450,"question_id":25911623,"body_markdown":"I ran into this problem in the same situation, and I wrote up a [detailed answer][1] to a related question on stack overflow explaining how to more easily modify the system&#39;s cacerts using a GUI tool.  I think it&#39;s a little bit better than using a one-off keystore for a specific project or modifying the settings for maven (which may cause trouble down the road).\r\n\r\n  [1]: https://stackoverflow.com/a/53514066/5711881","title":"Problems using Maven and SSL behind proxy","body":"<p>I ran into this problem in the same situation, and I wrote up a <a href=\"https://stackoverflow.com/a/53514066/5711881\">detailed answer</a> to a related question on stack overflow explaining how to more easily modify the system's cacerts using a GUI tool.  I think it's a little bit better than using a one-off keystore for a specific project or modifying the settings for maven (which may cause trouble down the road).</p>\n"},{"tags":[],"owner":{"account_id":13431810,"reputation":189,"user_id":9691439,"display_name":"vks"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1545999746,"creation_date":1545401092,"answer_id":53886108,"question_id":25911623,"body_markdown":"**Step 1:** GET the contents of the Certificate of the website( you want to have it imported as a trusted root)\r\n\r\n    $ keytool -printcert -rfc -sslserver maven.2xoffice.com*\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MIIFNTCCBB2gAwIBAgIHJ73QrVnyJjANBgkqhkiG9w0BAQsFADCBtDELMAkGA1UEBhMCVVMxEDAO\r\n    ...\r\n    -----END CERTIFICATE-----\r\n    -----BEGIN CERTIFICATE-----\r\n    MIIE3jCCA8agAwIBAgICAwEwDQYJKoZIhvcNAQEFBQAwYzELMAkGA1UEBhMCVVMxITAfBgNVBAoT\r\n    ...\r\n    -----END CERTIFICATE-----\r\n    -----BEGIN CERTIFICATE-----\r\n    MIIEADCCAuigAwIBAgIBADANBgkqhkiG9w0BAQUFADBjMQswCQYDVQQGEwJVUzEhMB8GA1UEChMY\r\n    ...\r\n    -----END CERTIFICATE-----\r\n    The -rfc option outputs the certificate chain in PEM-encoded format for easy import back into a keystore.\r\n\r\n**Step 2:** Save the whole thing (including the BEGIN CERTIFICATE and END CERTIFICATE lines, which are significant in this case) as godaddyg2.pem and imported it into my trust store via:\r\n\r\n**Step 3:** Import the certificate in the keystore( java trusted key store)\r\n\r\n    $ keytool -importcert -file ./godaddyg2.pem -keystore $JRE_LIB/lib/security/cacerts","title":"Problems using Maven and SSL behind proxy","body":"<p><strong>Step 1:</strong> GET the contents of the Certificate of the website( you want to have it imported as a trusted root)</p>\n\n<pre><code>$ keytool -printcert -rfc -sslserver maven.2xoffice.com*\n\n-----BEGIN CERTIFICATE-----\nMIIFNTCCBB2gAwIBAgIHJ73QrVnyJjANBgkqhkiG9w0BAQsFADCBtDELMAkGA1UEBhMCVVMxEDAO\n...\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIIE3jCCA8agAwIBAgICAwEwDQYJKoZIhvcNAQEFBQAwYzELMAkGA1UEBhMCVVMxITAfBgNVBAoT\n...\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIIEADCCAuigAwIBAgIBADANBgkqhkiG9w0BAQUFADBjMQswCQYDVQQGEwJVUzEhMB8GA1UEChMY\n...\n-----END CERTIFICATE-----\nThe -rfc option outputs the certificate chain in PEM-encoded format for easy import back into a keystore.\n</code></pre>\n\n<p><strong>Step 2:</strong> Save the whole thing (including the BEGIN CERTIFICATE and END CERTIFICATE lines, which are significant in this case) as godaddyg2.pem and imported it into my trust store via:</p>\n\n<p><strong>Step 3:</strong> Import the certificate in the keystore( java trusted key store)</p>\n\n<pre><code>$ keytool -importcert -file ./godaddyg2.pem -keystore $JRE_LIB/lib/security/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275846,"reputation":2344,"user_id":2968699,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550567683,"creation_date":1550567683,"answer_id":54762544,"question_id":25911623,"body_markdown":"Even though I was putting the certificates in cacerts, I was still getting the error.\r\nTurns our I was putting them in jre, not in jdk/jre.\r\n\r\nThere are two keystores, keep that in mind!!!","title":"Problems using Maven and SSL behind proxy","body":"<p>Even though I was putting the certificates in cacerts, I was still getting the error.\nTurns our I was putting them in jre, not in jdk/jre.</p>\n\n<p>There are two keystores, keep that in mind!!!</p>\n"},{"tags":[],"owner":{"account_id":13649218,"reputation":11,"user_id":9847583,"display_name":"mitesh keswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551793235,"creation_date":1551792242,"answer_id":55003913,"question_id":25911623,"body_markdown":"The issue, I got is\r\nEarlier, I was using jdk 1.8.0_31 with certificate installed.\r\nI switched to jdk 1.8.0_191 but did not install certificate.\r\n\r\nBut, my projects were working fine, I realized that their dependencies were downloaded already. So, they would only compile and package those projects.\r\nBut, this did not work for new maven projects as their dependencies were not downloaded earlier.\r\n\r\nSolution::\r\n\r\n1. Switch to earlier jdk version(which had certificate already installed) for your new project and do clean install\r\n2. Download certificate again for the new jdk version that you have recently switched to and then do clean install","title":"Problems using Maven and SSL behind proxy","body":"<p>The issue, I got is\nEarlier, I was using jdk 1.8.0_31 with certificate installed.\nI switched to jdk 1.8.0_191 but did not install certificate.</p>\n\n<p>But, my projects were working fine, I realized that their dependencies were downloaded already. So, they would only compile and package those projects.\nBut, this did not work for new maven projects as their dependencies were not downloaded earlier.</p>\n\n<p>Solution::</p>\n\n<ol>\n<li>Switch to earlier jdk version(which had certificate already installed) for your new project and do clean install</li>\n<li>Download certificate again for the new jdk version that you have recently switched to and then do clean install</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2619243,"reputation":31,"user_id":2267658,"display_name":"jcarlosp1986"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563397644,"creation_date":1563397644,"answer_id":57084073,"question_id":25911623,"body_markdown":"A quick solution is add this code in your pom.xml:\r\n\r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t&lt;name&gt;Maven Plugin Repository&lt;/name&gt;\r\n    \t\t&lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n    \t\t&lt;layout&gt;default&lt;/layout&gt;\r\n    \t\t&lt;snapshots&gt;\r\n    \t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t&lt;/snapshots&gt;\r\n    \t\t&lt;releases&gt;\r\n    \t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n    \t\t&lt;/releases&gt;\r\n    \t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nWhere &lt;updatePolicy&gt;never&lt;/updatePolicy&gt; is for avoid the search a certified.","title":"Problems using Maven and SSL behind proxy","body":"<p>A quick solution is add this code in your pom.xml:</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;name&gt;Maven Plugin Repository&lt;/name&gt;\n        &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n        &lt;layout&gt;default&lt;/layout&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n        &lt;releases&gt;\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n        &lt;/releases&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>Where never is for avoid the search a certified.</p>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567641252,"creation_date":1567559353,"answer_id":57780291,"question_id":25911623,"body_markdown":"What worked for me:\r\n\r\nConfigure `&lt;proxy&gt;` settings in `${MAVEN_HOME}/conf/settings.xml`:\r\n\r\n(Note: For others, it worked when they configured `${user.home}/.m2/settings.xml`. If there is no settings.xml in user.home, just copy it from conf/ in the maven directory.)\r\n~~~\r\n  &lt;!-- proxies\r\n   | This is a list of proxies which can be used on this machine to connect to the network.\r\n   | Unless otherwise specified (by system property or command-line switch), the first proxy\r\n   | specification in this list marked as active will be used.\r\n   |--&gt;\r\n  &lt;proxies&gt;\r\n    &lt;!-- proxy\r\n     | Specification for one proxy, to be used in connecting to the network.\r\n     |\r\n    &lt;proxy&gt;\r\n      &lt;id&gt;optional&lt;/id&gt;\r\n      &lt;active&gt;true&lt;/active&gt;\r\n      &lt;protocol&gt;http&lt;/protocol&gt;\r\n      &lt;username&gt;proxyuser&lt;/username&gt;\r\n      &lt;password&gt;proxypass&lt;/password&gt;\r\n      &lt;host&gt;proxy.host.net&lt;/host&gt;\r\n      &lt;port&gt;80&lt;/port&gt;\r\n      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\r\n    &lt;/proxy&gt;\r\n    --&gt;\r\n\t\r\n    &lt;proxy&gt;\r\n      &lt;id&gt;my-proxy&lt;/id&gt;\r\n      &lt;active&gt;true&lt;/active&gt;\r\n      &lt;protocol&gt;http&lt;/protocol&gt;\r\n      &lt;username&gt;&lt;/username&gt;\r\n      &lt;password&gt;&lt;/password&gt;\r\n      &lt;host&gt;my.proxy.host.com&lt;/host&gt;\r\n      &lt;port&gt;8080&lt;/port&gt;\r\n      &lt;nonProxyHosts&gt;&lt;/nonProxyHosts&gt;\r\n    &lt;/proxy&gt;\r\n    \r\n  &lt;/proxies&gt;\r\n~~~\r\n\r\nThen point `pom.xml` to download from http maven central repo:\r\n~~~\r\n&lt;project&gt;\r\n...\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Maven Plugin Repository&lt;/name&gt;\r\n\t\t\t&lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n\t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n...\r\n&lt;/project&gt;\r\n~~~\r\n\r\nYou may also need to configure http proxy in your IDE. For VSCode in `settings.json`:\r\n~~~\r\n{\r\n\t...\r\n\t&quot;http.proxy&quot;: &quot;http://my/proxy/script/address/my-proxy.pac&quot;,\r\n\t...\r\n}\r\n~~~\r\nFor Win10: Start/Search &gt; Network proxy settings &gt; Script address\r\n[![enter image description here][1]][1]\r\n\r\nSources:\r\n\r\n - https://stackoverflow.com/questions/10033286/maven-proxy-settings-not-working\r\n - https://www.mkyong.com/maven/how-to-enable-proxy-setting-in-maven/\r\n - https://maven.apache.org/guides/mini/guide-proxies.html\r\n - https://maven.apache.org/settings.html#Proxies\r\n - https://maven.apache.org/guides/introduction/introduction-to-repositories.html\r\n\r\n  [1]: https://i.stack.imgur.com/cDtIX.png","title":"Problems using Maven and SSL behind proxy","body":"<p>What worked for me:</p>\n\n<p>Configure <code>&lt;proxy&gt;</code> settings in <code>${MAVEN_HOME}/conf/settings.xml</code>:</p>\n\n<p>(Note: For others, it worked when they configured <code>${user.home}/.m2/settings.xml</code>. If there is no settings.xml in user.home, just copy it from conf/ in the maven directory.)</p>\n\n<pre><code>  &lt;!-- proxies\n   | This is a list of proxies which can be used on this machine to connect to the network.\n   | Unless otherwise specified (by system property or command-line switch), the first proxy\n   | specification in this list marked as active will be used.\n   |--&gt;\n  &lt;proxies&gt;\n    &lt;!-- proxy\n     | Specification for one proxy, to be used in connecting to the network.\n     |\n    &lt;proxy&gt;\n      &lt;id&gt;optional&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;username&gt;proxyuser&lt;/username&gt;\n      &lt;password&gt;proxypass&lt;/password&gt;\n      &lt;host&gt;proxy.host.net&lt;/host&gt;\n      &lt;port&gt;80&lt;/port&gt;\n      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n    --&gt;\n\n    &lt;proxy&gt;\n      &lt;id&gt;my-proxy&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;username&gt;&lt;/username&gt;\n      &lt;password&gt;&lt;/password&gt;\n      &lt;host&gt;my.proxy.host.com&lt;/host&gt;\n      &lt;port&gt;8080&lt;/port&gt;\n      &lt;nonProxyHosts&gt;&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n\n  &lt;/proxies&gt;\n</code></pre>\n\n<p>Then point <code>pom.xml</code> to download from http maven central repo:</p>\n\n<pre><code>&lt;project&gt;\n...\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Maven Plugin Repository&lt;/name&gt;\n            &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n...\n&lt;/project&gt;\n</code></pre>\n\n<p>You may also need to configure http proxy in your IDE. For VSCode in <code>settings.json</code>:</p>\n\n<pre><code>{\n    ...\n    \"http.proxy\": \"http://my/proxy/script/address/my-proxy.pac\",\n    ...\n}\n</code></pre>\n\n<p>For Win10: Start/Search > Network proxy settings > Script address\n<a href=\"https://i.stack.imgur.com/cDtIX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cDtIX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Sources:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10033286/maven-proxy-settings-not-working\">Maven proxy settings not working</a></li>\n<li><a href=\"https://www.mkyong.com/maven/how-to-enable-proxy-setting-in-maven/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/maven/how-to-enable-proxy-setting-in-maven/</a></li>\n<li><a href=\"https://maven.apache.org/guides/mini/guide-proxies.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-proxies.html</a></li>\n<li><a href=\"https://maven.apache.org/settings.html#Proxies\" rel=\"nofollow noreferrer\">https://maven.apache.org/settings.html#Proxies</a></li>\n<li><a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-repositories.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1577428475,"creation_date":1577428475,"answer_id":59496938,"question_id":25911623,"body_markdown":"Just another cause:\r\nIf you open Charles, you could also met this problem, in this case just quit Charles.","title":"Problems using Maven and SSL behind proxy","body":"<p>Just another cause:\nIf you open Charles, you could also met this problem, in this case just quit Charles.</p>\n"},{"tags":[],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578071543,"creation_date":1578071543,"answer_id":59582617,"question_id":25911623,"body_markdown":"After creating the keystore mentioned by @Andy.\r\nIn Eclipse, i added the jvm args and it worked.\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pd81C.png\r\n  [2]: https://i.stack.imgur.com/79OMA.png","title":"Problems using Maven and SSL behind proxy","body":"<p>After creating the keystore mentioned by @Andy.\nIn Eclipse, i added the jvm args and it worked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Pd81C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pd81C.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/79OMA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/79OMA.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":437290,"reputation":1271,"user_id":5392299,"display_name":"dieter"},"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1583315927,"creation_date":1583315927,"answer_id":60523393,"question_id":25911623,"body_markdown":"You can use the `-Dmaven.wagon.http.ssl.insecure=true` option","title":"Problems using Maven and SSL behind proxy","body":"<p>You can use the <code>-Dmaven.wagon.http.ssl.insecure=true</code> option</p>\n"},{"tags":[],"owner":{"account_id":15280479,"reputation":17,"user_id":11025057,"display_name":"SwatBeam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584624309,"creation_date":1584624309,"answer_id":60758169,"question_id":25911623,"body_markdown":"I had the same problem with SSL and maven. My companies IT policy restricts me to make any changes to the computers configuration, so I copied the entire .m2 from my other computer and pasted it .m2 folder and it worked.\r\n\r\n\r\n.m2 folder is usually found under c\\user\\admin","title":"Problems using Maven and SSL behind proxy","body":"<p>I had the same problem with SSL and maven. My companies IT policy restricts me to make any changes to the computers configuration, so I copied the entire .m2 from my other computer and pasted it .m2 folder and it worked.</p>\n\n<p>.m2 folder is usually found under c\\user\\admin</p>\n"},{"tags":[],"owner":{"account_id":18816485,"reputation":1,"user_id":13723488,"display_name":"kit"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1591820429,"creation_date":1591820429,"answer_id":62312463,"question_id":25911623,"body_markdown":"I simply used new java version and it worked for me.","title":"Problems using Maven and SSL behind proxy","body":"<p>I simply used new java version and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6704202,"reputation":61,"user_id":5169760,"display_name":"Leandro Toledo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600263100,"creation_date":1600263100,"answer_id":63921181,"question_id":25911623,"body_markdown":"It happens because your maven plugin try to connect to an **HTTPS** remote repository\r\n(https://repo.maven.apache.org/maven2) or (https://repo1.maven.apache.org).\r\n\r\nSome time ago, you could to change these URL&#39;s to use HTTP instead use HTTPS, but since **January 15th 2020**, these URL&#39;s doesn&#39;t work any more, only the HTTPS URL&#39;s.\r\n\r\nAs an easy way to fix this problem, you can use the **insecure** Maven URL in the settings.xml file. So, you need to change ALL of yours references above mencioned to: http://insecure.repo1.maven.org/maven2/\r\n\r\nTIP: Your JAVA_HOME variable always needs to point to your JDK path, not to your JRE path, for example: &quot;C:\\Program Files\\Java\\jdk1.7.0_80&quot;.","title":"Problems using Maven and SSL behind proxy","body":"<p>It happens because your maven plugin try to connect to an <strong>HTTPS</strong> remote repository\n(<a href=\"https://repo.maven.apache.org/maven2\" rel=\"noreferrer\">https://repo.maven.apache.org/maven2</a>) or (<a href=\"https://repo1.maven.apache.org\" rel=\"noreferrer\">https://repo1.maven.apache.org</a>).</p>\n<p>Some time ago, you could to change these URL's to use HTTP instead use HTTPS, but since <strong>January 15th 2020</strong>, these URL's doesn't work any more, only the HTTPS URL's.</p>\n<p>As an easy way to fix this problem, you can use the <strong>insecure</strong> Maven URL in the settings.xml file. So, you need to change ALL of yours references above mencioned to: <a href=\"http://insecure.repo1.maven.org/maven2/\" rel=\"noreferrer\">http://insecure.repo1.maven.org/maven2/</a></p>\n<p>TIP: Your JAVA_HOME variable always needs to point to your JDK path, not to your JRE path, for example: &quot;C:\\Program Files\\Java\\jdk1.7.0_80&quot;.</p>\n"},{"tags":[],"owner":{"account_id":19543673,"reputation":65,"user_id":14300971,"display_name":"Aspa Rooch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638949152,"creation_date":1604666505,"answer_id":64714881,"question_id":25911623,"body_markdown":"ymptom: After configuring Nexus to serve SSL maven builds fail with `peer not authenticated` or `PKIX path building failed`.\r\n\r\nThis is usually caused by using a self signed SSL certificate on Nexus. Java does not consider these to be a valid certificates, and will not allow connecting to server&#39;s running them by default.\r\n\r\nYou have a few choices here to fix this:\r\n\r\n1. Add the public certificate of the Nexus server to the trust store of the Java running Maven\r\n2. Get the certificate on Nexus signed by a root certificate authority such as Verisign\r\n3. Tell Maven to accept the certificate even though it isn&#39;t signed\r\n\r\nFor option 1 you can use the `keytool` command and follow the steps in the below article.\r\n\r\nExplicitly Trusting a Self-Signed or Private Certificate in a Java Based Client\r\n\r\nFor option 3, invoke Maven with `-Dmaven.wagon.http.ssl.insecure=true`. If the host name configured in the certificate doesn&#39;t match the host name Nexus is running on you may also need to add `-Dmaven.wagon.http.ssl.allowall=true`\r\n\r\n&gt; **Note**: These additional parameters are initialized in static\r\n&gt; initializers, so they have to be passed in via the `MAVEN_OPTS`\r\n&gt; environment variable.  Passing them on the command line to Maven will\r\n&gt; not work.\r\n\r\nSee [here][1] for more information:\r\n\r\n\r\n  [1]: http://maven.apache.org/wagon/wagon-providers/wagon-http/","title":"Problems using Maven and SSL behind proxy","body":"<p>ymptom: After configuring Nexus to serve SSL maven builds fail with <code>peer not authenticated</code> or <code>PKIX path building failed</code>.</p>\n<p>This is usually caused by using a self signed SSL certificate on Nexus. Java does not consider these to be a valid certificates, and will not allow connecting to server's running them by default.</p>\n<p>You have a few choices here to fix this:</p>\n<ol>\n<li>Add the public certificate of the Nexus server to the trust store of the Java running Maven</li>\n<li>Get the certificate on Nexus signed by a root certificate authority such as Verisign</li>\n<li>Tell Maven to accept the certificate even though it isn't signed</li>\n</ol>\n<p>For option 1 you can use the <code>keytool</code> command and follow the steps in the below article.</p>\n<p>Explicitly Trusting a Self-Signed or Private Certificate in a Java Based Client</p>\n<p>For option 3, invoke Maven with <code>-Dmaven.wagon.http.ssl.insecure=true</code>. If the host name configured in the certificate doesn't match the host name Nexus is running on you may also need to add <code>-Dmaven.wagon.http.ssl.allowall=true</code></p>\n<blockquote>\n<p><strong>Note</strong>: These additional parameters are initialized in static\ninitializers, so they have to be passed in via the <code>MAVEN_OPTS</code>\nenvironment variable.  Passing them on the command line to Maven will\nnot work.</p>\n</blockquote>\n<p>See <a href=\"http://maven.apache.org/wagon/wagon-providers/wagon-http/\" rel=\"nofollow noreferrer\">here</a> for more information:</p>\n"},{"tags":[],"owner":{"account_id":5604360,"reputation":51,"user_id":4439490,"display_name":"Sy Thanh HO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620232850,"creation_date":1620232487,"answer_id":67405333,"question_id":25911623,"body_markdown":"Just a little beyond what Andy has put out.\r\n\r\nYou need to take the top most (root) certificate in case you happen to find a chain.\r\n\r\nTook me one day to figure out.","title":"Problems using Maven and SSL behind proxy","body":"<p>Just a little beyond what Andy has put out.</p>\n<p>You need to take the top most (root) certificate in case you happen to find a chain.</p>\n<p>Took me one day to figure out.</p>\n"},{"tags":[],"owner":{"account_id":125606,"reputation":605,"user_id":321491,"accept_rate":75,"display_name":"Mitten.O"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1651225480,"creation_date":1651225480,"answer_id":72055978,"question_id":25911623,"body_markdown":"If the situation is caused by a corporate firewall, and you are using Windows, your windows certificate store is likely configured to trust the firewall. You can tell Java to rely on the windows certificates by adding the option `-Djavax.net.ssl.trustStoreType=WINDOWS-ROOT` to the command line, or your MAVEN_OPTS.","title":"Problems using Maven and SSL behind proxy","body":"<p>If the situation is caused by a corporate firewall, and you are using Windows, your windows certificate store is likely configured to trust the firewall. You can tell Java to rely on the windows certificates by adding the option <code>-Djavax.net.ssl.trustStoreType=WINDOWS-ROOT</code> to the command line, or your MAVEN_OPTS.</p>\n"},{"tags":[],"owner":{"account_id":14875268,"reputation":11,"user_id":10741538,"display_name":"Emre Burak ERKEN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655110513,"creation_date":1655110513,"answer_id":72600141,"question_id":25911623,"body_markdown":"If you don&#39;t have the *.crt file and have access to maven web app (nexus etc),\r\nThe solution is (For firefox browser) : \r\n   1. Go to browser and access to themavenrepo.com\r\n   2. Click the lock icon in the top bar\r\n   3. Click &#39;Connection Secure&#39; and then click &#39;More Information&#39;\r\n   4. Click to &#39;Security&#39; tab and click &#39;View Certificate&#39;\r\n   5. in &#39;Miscellaneous&#39; part, click the &#39;pem(cert)&#39; to download\r\n   6. Go to terminal and run : openssl x509 -outform der -in downloaded.pem -out whatevernameyouwant.crt\r\n   7. sudo keytool -importcert -file whatevernameyouwant.crt -alias randomaliasname -keystore {your_java_installation_dir}/jre/lib/security/cacerts -storepass changeit\r\n\r\n","title":"Problems using Maven and SSL behind proxy","body":"<p>If you don't have the *.crt file and have access to maven web app (nexus etc),\nThe solution is (For firefox browser) :</p>\n<ol>\n<li>Go to browser and access to themavenrepo.com</li>\n<li>Click the lock icon in the top bar</li>\n<li>Click 'Connection Secure' and then click 'More Information'</li>\n<li>Click to 'Security' tab and click 'View Certificate'</li>\n<li>in 'Miscellaneous' part, click the 'pem(cert)' to download</li>\n<li>Go to terminal and run : openssl x509 -outform der -in downloaded.pem -out whatevernameyouwant.crt</li>\n<li>sudo keytool -importcert -file whatevernameyouwant.crt -alias randomaliasname -keystore {your_java_installation_dir}/jre/lib/security/cacerts -storepass changeit</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7860397,"reputation":1,"user_id":5940980,"display_name":"Anbu Anand Gurusamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675189825,"creation_date":1675189825,"answer_id":75301629,"question_id":25911623,"body_markdown":"The maven.config file under .mvn diretory with the settings as given in MAVEN_OPTS to ignore SSL worked for me","title":"Problems using Maven and SSL behind proxy","body":"<p>The maven.config file under .mvn diretory with the settings as given in MAVEN_OPTS to ignore SSL worked for me</p>\n"},{"tags":[],"owner":{"account_id":13976,"reputation":2287,"user_id":28373,"accept_rate":77,"display_name":"Adarsha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681524753,"creation_date":1681524753,"answer_id":76020046,"question_id":25911623,"body_markdown":"I think best solution is to trust the root ca issued by your org (usually a self signed certificate, generated on the fly with your proxy tool) into system keystore. \r\n\r\n1. Use the method given by @Andy in accepted answer to export the cert. (Make sure you select the `Base-64 encoded ASCII, certificate chain` option while saving it as .crt.\r\n2. import and trust the root ca using below command \r\n`keytool -import -trustcacerts -cacerts -storepass changeit -noprompt -alias maven.pem -file &lt;your .crt`\r\n3. This imports into keystore used by JRE, you don&#39;t have to mess around with MAVEN_OPTS at all.","title":"Problems using Maven and SSL behind proxy","body":"<p>I think best solution is to trust the root ca issued by your org (usually a self signed certificate, generated on the fly with your proxy tool) into system keystore.</p>\n<ol>\n<li>Use the method given by @Andy in accepted answer to export the cert. (Make sure you select the <code>Base-64 encoded ASCII, certificate chain</code> option while saving it as .crt.</li>\n<li>import and trust the root ca using below command\n<code>keytool -import -trustcacerts -cacerts -storepass changeit -noprompt -alias maven.pem -file &lt;your .crt</code></li>\n<li>This imports into keystore used by JRE, you don't have to mess around with MAVEN_OPTS at all.</li>\n</ol>\n"}],"owner":{"account_id":557288,"reputation":4505,"user_id":918271,"accept_rate":75,"display_name":"Andy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460997,"favorite_count":0,"down_vote_count":0,"up_vote_count":179,"accepted_answer_id":25912472,"answer_count":26,"score":179,"last_activity_date":1681524753,"creation_date":1411040175,"question_id":25911623,"body_markdown":"I just downloaded Maven and was trying to run the simple command found on the &quot;Maven in Five Minutes&quot; page (http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html). This is the command:\r\n\r\n    mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\r\n\r\nWhen I run it I get an error with SSL certificate and cannot download from the central Maven repository at https://repo.maven.apache.org/maven2. The error is &quot;SunCertPathBuilderException: unable to find valid certification path to requested target&quot;. \r\n\r\nI am sitting behind a corporate firewall and have correctly configured the proxy settings for both `http` and `https` access via the `settings.xml` file. I doubt that everyone who downloads Maven and runs it for the first time has to import the SSL certificate of the Maven repository, so the problem must be with the proxy. Does anyone have any experience with this?\r\n\r\nHere&#39;s the stack trace in full debug mode (-X):\r\n\r\n   \r\n\r\n     mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\r\n\r\n    Apache Maven 3.2.3 (33f8c3e1027c3ddde99d3cdebad2656a31e8fdf4; 2014-08-11T22:58:10+02:00)\r\n        Maven home: C:\\Projects\\maven\\bin\\..\r\n        Java version: 1.7.0_45, vendor: Oracle Corporation\r\n        Java home: C:\\Program Files\\Java\\jdk1.7.0_45\\jre\r\n        Default locale: it_IT, platform encoding: Cp1252\r\n        OS name: &quot;windows 7&quot;, version: &quot;6.1&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n        [DEBUG] Using connector WagonRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2 via *****:8080 with username=*****, password=***\r\n        Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom\r\n        [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-clean-plugin:2.5: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5\r\n        org.apache.maven.plugin.PluginResolutionException: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5\r\n                at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:122)\r\n                at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getPluginDescriptor(DefaultMavenPluginManager.java:148)\r\n                at org.apache.maven.plugin.DefaultBuildPluginManager.loadPlugin(DefaultBuildPluginManager.java:81)\r\n                at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolveFromProject(DefaultPluginPrefixResolver.java:138)\r\n                at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolveFromProject(DefaultPluginPrefixResolver.java:121)\r\n                at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolve(DefaultPluginPrefixResolver.java:85)\r\n                at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.findPluginForPrefix(MojoDescriptorCreator.java:260)\r\n                at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.getMojoDescriptor(MojoDescriptorCreator.java:220)\r\n                at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments(DefaultLifecycleTaskSegmentCalculator.java:103)\r\n                at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments(DefaultLifecycleTaskSegmentCalculator.java:83)\r\n                at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:85)\r\n                at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)\r\n                at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)\r\n                at org.apache.maven.cli.MavenCli.execute(MavenCli.java:582)\r\n                at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\r\n                at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.lang.reflect.Method.invoke(Method.java:606)\r\n                at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n                at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n                at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n                at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n        Caused by: org.eclipse.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5\r\n                at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:349)\r\n                at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:231)\r\n                at org.eclipse.aether.internal.impl.DefaultRepositorySystem.readArtifactDescriptor(DefaultRepositorySystem.java:288)\r\n                at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:108)\r\n                ... 23 more\r\n        Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n                at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:459)\r\n                at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:262)\r\n                at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:239)\r\n                at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:334)\r\n                ... 26 more\r\n        Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n                at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$6.wrap(WagonRepositoryConnector.java:1016)\r\n                at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$6.wrap(WagonRepositoryConnector.java:1004)\r\n                at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:725)\r\n                at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:67)\r\n                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n                at java.lang.Thread.run(Thread.java:744)\r\n        Caused by: org.apache.maven.wagon.TransferFailedException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n                at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:935)\r\n                at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)\r\n                at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)\r\n                at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)\r\n                at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:660)\r\n                ... 4 more\r\n        Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n                at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n                at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1884)\r\n                at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)\r\n                at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)\r\n                at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1341)\r\n                at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:153)\r\n                at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\r\n                at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\r\n                at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016)\r\n                at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\r\n                at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\r\n                at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\r\n                at org.apache.maven.wagon.providers.http.httpclient.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:280)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.conn.HttpClientConnectionOperator.upgrade(HttpClientConnectionOperator.java:167)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.conn.PoolingHttpClientConnectionManager.upgrade(PoolingHttpClientConnectionManager.java:329)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:392)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.MainClientExec.execute(MainClientExec.java:218)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.ProtocolExec.execute(ProtocolExec.java:194)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec.execute(RetryExec.java:85)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RedirectExec.execute(RedirectExec.java:108)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:186)\r\n                at org.apache.maven.wagon.providers.http.httpclient.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n                at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.execute(AbstractHttpClientWagon.java:756)\r\n                at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:854)\r\n                ... 8 more\r\n        Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n                at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\r\n                at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\r\n                at sun.security.validator.Validator.validate(Validator.java:260)\r\n                at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\r\n                at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n                at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\r\n                at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1323)\r\n                ... 27 more\r\n        Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n                at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)\r\n                at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)\r\n                at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\r\n                ... 33 more\r\n\r\n","title":"Problems using Maven and SSL behind proxy","body":"<p>I just downloaded Maven and was trying to run the simple command found on the \"Maven in Five Minutes\" page (<a href=\"http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"noreferrer\">http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html</a>). This is the command:</p>\n\n<pre><code>mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n</code></pre>\n\n<p>When I run it I get an error with SSL certificate and cannot download from the central Maven repository at <a href=\"https://repo.maven.apache.org/maven2\" rel=\"noreferrer\">https://repo.maven.apache.org/maven2</a>. The error is \"SunCertPathBuilderException: unable to find valid certification path to requested target\". </p>\n\n<p>I am sitting behind a corporate firewall and have correctly configured the proxy settings for both <code>http</code> and <code>https</code> access via the <code>settings.xml</code> file. I doubt that everyone who downloads Maven and runs it for the first time has to import the SSL certificate of the Maven repository, so the problem must be with the proxy. Does anyone have any experience with this?</p>\n\n<p>Here's the stack trace in full debug mode (-X):</p>\n\n<pre><code> mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n\nApache Maven 3.2.3 (33f8c3e1027c3ddde99d3cdebad2656a31e8fdf4; 2014-08-11T22:58:10+02:00)\n    Maven home: C:\\Projects\\maven\\bin\\..\n    Java version: 1.7.0_45, vendor: Oracle Corporation\n    Java home: C:\\Program Files\\Java\\jdk1.7.0_45\\jre\n    Default locale: it_IT, platform encoding: Cp1252\n    OS name: \"windows 7\", version: \"6.1\", arch: \"amd64\", family: \"windows\"\n    [DEBUG] Using connector WagonRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2 via *****:8080 with username=*****, password=***\n    Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom\n    [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-clean-plugin:2.5: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5\n    org.apache.maven.plugin.PluginResolutionException: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5\n            at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:122)\n            at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getPluginDescriptor(DefaultMavenPluginManager.java:148)\n            at org.apache.maven.plugin.DefaultBuildPluginManager.loadPlugin(DefaultBuildPluginManager.java:81)\n            at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolveFromProject(DefaultPluginPrefixResolver.java:138)\n            at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolveFromProject(DefaultPluginPrefixResolver.java:121)\n            at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolve(DefaultPluginPrefixResolver.java:85)\n            at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.findPluginForPrefix(MojoDescriptorCreator.java:260)\n            at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.getMojoDescriptor(MojoDescriptorCreator.java:220)\n            at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments(DefaultLifecycleTaskSegmentCalculator.java:103)\n            at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments(DefaultLifecycleTaskSegmentCalculator.java:83)\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:85)\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:582)\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:606)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n    Caused by: org.eclipse.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5\n            at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:349)\n            at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:231)\n            at org.eclipse.aether.internal.impl.DefaultRepositorySystem.readArtifactDescriptor(DefaultRepositorySystem.java:288)\n            at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:108)\n            ... 23 more\n    Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n            at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:459)\n            at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:262)\n            at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:239)\n            at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:334)\n            ... 26 more\n    Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n            at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$6.wrap(WagonRepositoryConnector.java:1016)\n            at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$6.wrap(WagonRepositoryConnector.java:1004)\n            at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:725)\n            at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:67)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n            at java.lang.Thread.run(Thread.java:744)\n    Caused by: org.apache.maven.wagon.TransferFailedException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n            at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:935)\n            at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)\n            at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)\n            at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)\n            at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:660)\n            ... 4 more\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n            at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1884)\n            at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)\n            at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)\n            at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1341)\n            at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:153)\n            at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)\n            at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016)\n            at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\n            at org.apache.maven.wagon.providers.http.httpclient.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:280)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.conn.HttpClientConnectionOperator.upgrade(HttpClientConnectionOperator.java:167)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.conn.PoolingHttpClientConnectionManager.upgrade(PoolingHttpClientConnectionManager.java:329)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:392)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.MainClientExec.execute(MainClientExec.java:218)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.ProtocolExec.execute(ProtocolExec.java:194)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec.execute(RetryExec.java:85)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RedirectExec.execute(RedirectExec.java:108)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:186)\n            at org.apache.maven.wagon.providers.http.httpclient.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n            at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.execute(AbstractHttpClientWagon.java:756)\n            at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:854)\n            ... 8 more\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n            at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\n            at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\n            at sun.security.validator.Validator.validate(Validator.java:260)\n            at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)\n            at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n            at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)\n            at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1323)\n            ... 27 more\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n            at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)\n            at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)\n            at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\n            ... 33 more\n</code></pre>\n"},{"tags":["java","excel","spring-boot","apache-poi"],"owner":{"account_id":12944788,"reputation":35,"user_id":9359452,"display_name":"omkar powar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681524393,"creation_date":1680246274,"question_id":75895737,"body_markdown":"How to disable cell based on value of another dropdown cell selection using apache poi?\r\n\r\nI have to disable cities column cell (F &amp; G) based on dropdown selection of countries (column B) as Germany or England. If I selected India, China and America from Country dropdown (column B) then all column enable to select. \r\n\r\nNote: Column B to G are dropdown list (same as column B2).\r\n\r\nHow can I achieve that using apache poi in Java?\r\n\r\n      public void downloadSampleExcel() {\r\n\t\t\r\n\t\ttry \r\n\t\t{\t\r\n\t\t\tDataValidation dataValidation = null;\r\n\t        DataValidationConstraint constraint = null;\r\n\t        DataValidationHelper validationHelper = null;\r\n\t        \r\n\t        XSSFWorkbook wb = new XSSFWorkbook();\r\n\t\t\tXSSFSheet sheet1=(XSSFSheet) wb.createSheet(&quot;sheet1&quot;);\r\n\t\t\t\r\n\t\t\tsheet1.createRow(0).createCell(0).setCellValue(&quot;Phone Number&quot;);\r\n\t\t\tsheet1.getRow(0).createCell(1).setCellValue(&quot;Country&quot;);\r\n\t\t\tsheet1.getRow(0).createCell(2).setCellValue(&quot;Cities In India&quot;);\r\n\t\t\tsheet1.getRow(0).createCell(3).setCellValue(&quot;Cities In China&quot;);\r\n\t\t\tsheet1.getRow(0).createCell(4).setCellValue(&quot;Cities In America&quot;);\r\n\t\t\tsheet1.getRow(0).createCell(5).setCellValue(&quot;Cities In Germany&quot;);\r\n\t\t\tsheet1.getRow(0).createCell(6).setCellValue(&quot;Cities In England&quot;);\r\n\t\t\t\r\n\t\t\tvalidationHelper=new XSSFDataValidationHelper(sheet1);\r\n\t\t\tCellRangeAddressList addressList = new CellRangeAddressList(1,99,1,1);\r\n\t\t\tconstraint =validationHelper.createExplicitListConstraint(new String[]{ &quot;India&quot;,&quot;China&quot;,&quot;America&quot;,&quot;Germany&quot;,&quot;England&quot; });\r\n\t\t\tdataValidation = validationHelper.createValidation(constraint, addressList);\r\n\t\t\tdataValidation.setSuppressDropDownArrow(true);  \r\n\t\t\tdataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\r\n\t\t\tdataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\r\n\t\t\tdataValidation.setShowErrorBox(true);\r\n\t\t\tsheet1.addValidationData(dataValidation);\r\n\t\t\t\r\n\t\t\taddressList = new CellRangeAddressList(1,99,2,2);\r\n\t\t\tconstraint =validationHelper.createExplicitListConstraint(new String[]{ &quot;Maharashtra&quot;, &quot;Delhi&quot;, &quot;Kolkatta&quot; });\r\n\t\t\tdataValidation = validationHelper.createValidation(constraint, addressList);\r\n\t\t\tdataValidation.setSuppressDropDownArrow(true);  \r\n\t\t\tdataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\r\n\t\t\tdataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\r\n\t\t\tdataValidation.setShowErrorBox(true);\r\n\t\t\tsheet1.addValidationData(dataValidation);\r\n\t\t\t\r\n\t\t\taddressList = new CellRangeAddressList(1,99,3,3);\r\n\t\t\tconstraint = validationHelper.createExplicitListConstraint(new String[]{&quot;Beijing&quot;, &quot;Shanghai&quot;});\r\n\t\t\tdataValidation = validationHelper.createValidation(constraint, addressList);\r\n\t\t\tdataValidation.setSuppressDropDownArrow(true);  \r\n\t\t\tdataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\r\n\t\t\tdataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\r\n\t\t\tdataValidation.setShowErrorBox(true);\r\n\t\t\tsheet1.addValidationData(dataValidation);\r\n\t\t\t\r\n\t\t\taddressList = new CellRangeAddressList(1,99,4,4);\r\n\t\t\tconstraint = validationHelper.createExplicitListConstraint(new String[]{&quot;Chicago&quot;, &quot;New York&quot;});\r\n\t\t\tdataValidation = validationHelper.createValidation(constraint, addressList);\r\n\t\t\tdataValidation.setSuppressDropDownArrow(true); \r\n\t\t\tdataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\r\n\t\t\tdataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\r\n\t\t\tdataValidation.setShowErrorBox(true);\r\n\t\t\tsheet1.addValidationData(dataValidation);\r\n\t\t\t\r\n\t\t\taddressList = new CellRangeAddressList(1,99,5,5);\r\n\t\t\tconstraint = validationHelper.createExplicitListConstraint(new String[]{&quot;Berlin&quot;, &quot;Hamburg&quot;});\r\n\t\t\tdataValidation = validationHelper.createValidation(constraint, addressList);\r\n\t\t\tdataValidation.setSuppressDropDownArrow(true);  \r\n\t\t\tdataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\r\n\t\t\tdataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\r\n\t\t\tdataValidation.setShowErrorBox(true);\r\n\t\t\tsheet1.addValidationData(dataValidation);\r\n\t\t\t\r\n\t\t\taddressList = new CellRangeAddressList(1,99,6,6);\r\n\t\t\tconstraint = validationHelper.createExplicitListConstraint(new String[]{&quot;London&quot;, &quot;Liverpool&quot;});\r\n\t\t\tdataValidation = validationHelper.createValidation(constraint, addressList);\r\n\t\t\tdataValidation.setSuppressDropDownArrow(true);    \r\n\t\t\tdataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\r\n\t\t\tdataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\r\n\t\t\tdataValidation.setShowErrorBox(true);\r\n\t\t\tsheet1.addValidationData(dataValidation);\r\n\t\t\t\r\n\t\t\tFileOutputStream fileOut = new FileOutputStream(&quot;D:\\\\Projects\\\\CountriesDropdown.xlsx&quot;);\r\n\t\t\twb.write(fileOut);\r\n\t\t\tfileOut.close();\r\n\t\t\twb.close();\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tlogger.debug(&quot;Exception :&quot;+e.getMessage());\r\n\t\t\te.printStackTrace(); \r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/78Q1j.png","title":"How to disable excel cell based on value of another dropdown cell selection using apache poi?","body":"<p>How to disable cell based on value of another dropdown cell selection using apache poi?</p>\n<p>I have to disable cities column cell (F &amp; G) based on dropdown selection of countries (column B) as Germany or England. If I selected India, China and America from Country dropdown (column B) then all column enable to select.</p>\n<p>Note: Column B to G are dropdown list (same as column B2).</p>\n<p>How can I achieve that using apache poi in Java?</p>\n<pre><code>  public void downloadSampleExcel() {\n    \n    try \n    {   \n        DataValidation dataValidation = null;\n        DataValidationConstraint constraint = null;\n        DataValidationHelper validationHelper = null;\n        \n        XSSFWorkbook wb = new XSSFWorkbook();\n        XSSFSheet sheet1=(XSSFSheet) wb.createSheet(&quot;sheet1&quot;);\n        \n        sheet1.createRow(0).createCell(0).setCellValue(&quot;Phone Number&quot;);\n        sheet1.getRow(0).createCell(1).setCellValue(&quot;Country&quot;);\n        sheet1.getRow(0).createCell(2).setCellValue(&quot;Cities In India&quot;);\n        sheet1.getRow(0).createCell(3).setCellValue(&quot;Cities In China&quot;);\n        sheet1.getRow(0).createCell(4).setCellValue(&quot;Cities In America&quot;);\n        sheet1.getRow(0).createCell(5).setCellValue(&quot;Cities In Germany&quot;);\n        sheet1.getRow(0).createCell(6).setCellValue(&quot;Cities In England&quot;);\n        \n        validationHelper=new XSSFDataValidationHelper(sheet1);\n        CellRangeAddressList addressList = new CellRangeAddressList(1,99,1,1);\n        constraint =validationHelper.createExplicitListConstraint(new String[]{ &quot;India&quot;,&quot;China&quot;,&quot;America&quot;,&quot;Germany&quot;,&quot;England&quot; });\n        dataValidation = validationHelper.createValidation(constraint, addressList);\n        dataValidation.setSuppressDropDownArrow(true);  \n        dataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\n        dataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\n        dataValidation.setShowErrorBox(true);\n        sheet1.addValidationData(dataValidation);\n        \n        addressList = new CellRangeAddressList(1,99,2,2);\n        constraint =validationHelper.createExplicitListConstraint(new String[]{ &quot;Maharashtra&quot;, &quot;Delhi&quot;, &quot;Kolkatta&quot; });\n        dataValidation = validationHelper.createValidation(constraint, addressList);\n        dataValidation.setSuppressDropDownArrow(true);  \n        dataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\n        dataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\n        dataValidation.setShowErrorBox(true);\n        sheet1.addValidationData(dataValidation);\n        \n        addressList = new CellRangeAddressList(1,99,3,3);\n        constraint = validationHelper.createExplicitListConstraint(new String[]{&quot;Beijing&quot;, &quot;Shanghai&quot;});\n        dataValidation = validationHelper.createValidation(constraint, addressList);\n        dataValidation.setSuppressDropDownArrow(true);  \n        dataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\n        dataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\n        dataValidation.setShowErrorBox(true);\n        sheet1.addValidationData(dataValidation);\n        \n        addressList = new CellRangeAddressList(1,99,4,4);\n        constraint = validationHelper.createExplicitListConstraint(new String[]{&quot;Chicago&quot;, &quot;New York&quot;});\n        dataValidation = validationHelper.createValidation(constraint, addressList);\n        dataValidation.setSuppressDropDownArrow(true); \n        dataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\n        dataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\n        dataValidation.setShowErrorBox(true);\n        sheet1.addValidationData(dataValidation);\n        \n        addressList = new CellRangeAddressList(1,99,5,5);\n        constraint = validationHelper.createExplicitListConstraint(new String[]{&quot;Berlin&quot;, &quot;Hamburg&quot;});\n        dataValidation = validationHelper.createValidation(constraint, addressList);\n        dataValidation.setSuppressDropDownArrow(true);  \n        dataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\n        dataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\n        dataValidation.setShowErrorBox(true);\n        sheet1.addValidationData(dataValidation);\n        \n        addressList = new CellRangeAddressList(1,99,6,6);\n        constraint = validationHelper.createExplicitListConstraint(new String[]{&quot;London&quot;, &quot;Liverpool&quot;});\n        dataValidation = validationHelper.createValidation(constraint, addressList);\n        dataValidation.setSuppressDropDownArrow(true);    \n        dataValidation.setErrorStyle(DataValidation.ErrorStyle.STOP);\n        dataValidation.createErrorBox(&quot;Error&quot;, &quot;Please select value only from dropdown&quot;);\n        dataValidation.setShowErrorBox(true);\n        sheet1.addValidationData(dataValidation);\n        \n        FileOutputStream fileOut = new FileOutputStream(&quot;D:\\\\Projects\\\\CountriesDropdown.xlsx&quot;);\n        wb.write(fileOut);\n        fileOut.close();\n        wb.close();\n    }\n    catch (Exception e) {\n        // TODO: handle exception\n        logger.debug(&quot;Exception :&quot;+e.getMessage());\n        e.printStackTrace(); \n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/78Q1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/78Q1j.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681512071,"creation_date":1681512071,"answer_id":76019418,"question_id":76017626,"body_markdown":"This error is from the KafkaAvroSerializer communicating with your Schema Registry Server. \r\n\r\nYou need to verify your Schema Registry server is running a version that supports the client you are using. ","title":"Unrecognized field &quot;timestamp&quot; when producing Avro data","body":"<p>This error is from the KafkaAvroSerializer communicating with your Schema Registry Server.</p>\n<p>You need to verify your Schema Registry server is running a version that supports the client you are using.</p>\n"}],"owner":{"account_id":14325595,"reputation":91,"user_id":10347787,"display_name":"mackesmilian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681524165,"creation_date":1681493249,"question_id":76017626,"body_markdown":"I am playing around with Kafka in a spring boot application. I used Avro to define my own schema:\r\n\r\n```{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;namespace&quot;: &quot;at.wolf.music.service.schema&quot;,\r\n  &quot;name&quot;: &quot;Charts&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;page&quot;,\r\n      &quot;type&quot;: &quot;int&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;tracks&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;array&quot;,\r\n        &quot;items&quot;: {\r\n          &quot;name&quot;: &quot;Track&quot;,\r\n          &quot;type&quot;: &quot;record&quot;,\r\n          &quot;fields&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;trackName&quot;,\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;artistName&quot;,\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;playcount&quot;,\r\n              &quot;type&quot;: &quot;int&quot;\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;listeners&quot;,\r\n              &quot;type&quot;: &quot;int&quot;\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nWhen I try to send as such: ``kafkaChartsTemplate.send(&quot;topic1&quot;, charts);`` I get the following exception:\r\n\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.apache.kafka.common.errors.SerializationException: Error retrieving Avro schema: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;Charts&quot;,&quot;namespace&quot;:&quot;at.wolf.music.service.schema&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;page&quot;,&quot;type&quot;:&quot;int&quot;},{&quot;name&quot;:&quot;tracks&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;Track&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;trackName&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}},{&quot;name&quot;:&quot;artistName&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}},{&quot;name&quot;:&quot;playcount&quot;,&quot;type&quot;:&quot;int&quot;},{&quot;name&quot;:&quot;listeners&quot;,&quot;type&quot;:&quot;int&quot;}]}}}]}] with root cause\r\n\r\nio.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Unrecognized field &quot;timestamp&quot; (class io.confluent.kafka.schemaregistry.client.rest.entities.ErrorMessage), not marked as ignorable (2 known properties: &quot;error_code&quot;, &quot;message&quot;])\r\n at [Source: (sun.net.www.protocol.http.HttpURLConnection$HttpInputStream); line: 1, column: 111] (through reference chain: io.confluent.kafka.schemaregistry.client.rest.entities.ErrorMessage[&quot;timestamp&quot;]); error code: 50005\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:230) ~[kafka-schema-registry-client-5.3.0.jar:na]\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.httpRequest(RestService.java:256) ~[kafka-schema-registry-client-5.3.0.jar:na]\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.lookUpSubjectVersion(RestService.java:323) ~[kafka-schema-registry-client-5.3.0.jar:na]\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.lookUpSubjectVersion(RestService.java:311) ~[kafka-schema-registry-client-5.3.0.jar:na]\r\n\tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getIdFromRegistry(CachedSchemaRegistryClient.java:191) ~[kafka-schema-registry-client-5.3.0.jar:na]\r\n\tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getId(CachedSchemaRegistryClient.java:323) ~[kafka-schema-registry-client-5.3.0.jar:na]\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.serializeImpl(AbstractKafkaAvroSerializer.java:73) ~[kafka-avro-serializer-5.3.0.jar:na]\r\n\tat io.confluent.kafka.serializers.KafkaAvroSerializer.serialize(KafkaAvroSerializer.java:53) ~[kafka-avro-serializer-5.3.0.jar:na]\r\n\tat org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1005) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:952) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1022) ~[spring-kafka-3.0.5.jar:3.0.5]\r\n\tat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:752) ~[spring-kafka-3.0.5.jar:3.0.5]\r\n\tat org.springframework.kafka.core.KafkaTemplate.observeSend(KafkaTemplate.java:723) ~[spring-kafka-3.0.5.jar:3.0.5]\r\n\tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:507) ~[spring-kafka-3.0.5.jar:3.0.5]\r\n\tat at.wolf.music.service.Controller.testProducer(Controller.java:32) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:537) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\n```\r\nThis is what my configuration looks like, which is cobbled together from online sources:\r\n```\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n\r\n    @Value(&quot;${kafka.schema.registry.url}&quot;)\r\n    private String schemaRegistryUrl;\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, Charts&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, Charts&gt; stringTemplate(ProducerFactory&lt;String, Charts&gt; pf) {\r\n        return new KafkaTemplate&lt;&gt;(pf);\r\n    }\r\n\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; producerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n        props.put(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n        props.put(KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, false);\r\n        // See https://kafka.apache.org/documentation/#producerconfigs for more properties\r\n        return props;\r\n    }\r\n}\r\n```\r\nI am a bit confused. Where does the field &quot;timestamp&quot; come from? \r\n","title":"Unrecognized field &quot;timestamp&quot; when producing Avro data","body":"<p>I am playing around with Kafka in a spring boot application. I used Avro to define my own schema:</p>\n<pre><code>  &quot;type&quot;: &quot;record&quot;,\n  &quot;namespace&quot;: &quot;at.wolf.music.service.schema&quot;,\n  &quot;name&quot;: &quot;Charts&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;page&quot;,\n      &quot;type&quot;: &quot;int&quot;\n    },\n    {\n      &quot;name&quot;: &quot;tracks&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;array&quot;,\n        &quot;items&quot;: {\n          &quot;name&quot;: &quot;Track&quot;,\n          &quot;type&quot;: &quot;record&quot;,\n          &quot;fields&quot;: [\n            {\n              &quot;name&quot;: &quot;trackName&quot;,\n              &quot;type&quot;: &quot;string&quot;\n            },\n            {\n              &quot;name&quot;: &quot;artistName&quot;,\n              &quot;type&quot;: &quot;string&quot;\n            },\n            {\n              &quot;name&quot;: &quot;playcount&quot;,\n              &quot;type&quot;: &quot;int&quot;\n            },\n            {\n              &quot;name&quot;: &quot;listeners&quot;,\n              &quot;type&quot;: &quot;int&quot;\n            }\n          ]\n        }\n      }\n    }\n  ]\n}\n</code></pre>\n<p>When I try to send as such: <code>kafkaChartsTemplate.send(&quot;topic1&quot;, charts);</code> I get the following exception:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.apache.kafka.common.errors.SerializationException: Error retrieving Avro schema: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;Charts&quot;,&quot;namespace&quot;:&quot;at.wolf.music.service.schema&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;page&quot;,&quot;type&quot;:&quot;int&quot;},{&quot;name&quot;:&quot;tracks&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;Track&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;trackName&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}},{&quot;name&quot;:&quot;artistName&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}},{&quot;name&quot;:&quot;playcount&quot;,&quot;type&quot;:&quot;int&quot;},{&quot;name&quot;:&quot;listeners&quot;,&quot;type&quot;:&quot;int&quot;}]}}}]}] with root cause\n\nio.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Unrecognized field &quot;timestamp&quot; (class io.confluent.kafka.schemaregistry.client.rest.entities.ErrorMessage), not marked as ignorable (2 known properties: &quot;error_code&quot;, &quot;message&quot;])\n at [Source: (sun.net.www.protocol.http.HttpURLConnection$HttpInputStream); line: 1, column: 111] (through reference chain: io.confluent.kafka.schemaregistry.client.rest.entities.ErrorMessage[&quot;timestamp&quot;]); error code: 50005\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:230) ~[kafka-schema-registry-client-5.3.0.jar:na]\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.httpRequest(RestService.java:256) ~[kafka-schema-registry-client-5.3.0.jar:na]\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.lookUpSubjectVersion(RestService.java:323) ~[kafka-schema-registry-client-5.3.0.jar:na]\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.lookUpSubjectVersion(RestService.java:311) ~[kafka-schema-registry-client-5.3.0.jar:na]\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getIdFromRegistry(CachedSchemaRegistryClient.java:191) ~[kafka-schema-registry-client-5.3.0.jar:na]\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getId(CachedSchemaRegistryClient.java:323) ~[kafka-schema-registry-client-5.3.0.jar:na]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.serializeImpl(AbstractKafkaAvroSerializer.java:73) ~[kafka-avro-serializer-5.3.0.jar:na]\n    at io.confluent.kafka.serializers.KafkaAvroSerializer.serialize(KafkaAvroSerializer.java:53) ~[kafka-avro-serializer-5.3.0.jar:na]\n    at org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62) ~[kafka-clients-3.3.2.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1005) ~[kafka-clients-3.3.2.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:952) ~[kafka-clients-3.3.2.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1022) ~[spring-kafka-3.0.5.jar:3.0.5]\n    at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:752) ~[spring-kafka-3.0.5.jar:3.0.5]\n    at org.springframework.kafka.core.KafkaTemplate.observeSend(KafkaTemplate.java:723) ~[spring-kafka-3.0.5.jar:3.0.5]\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:507) ~[spring-kafka-3.0.5.jar:3.0.5]\n    at at.wolf.music.service.Controller.testProducer(Controller.java:32) ~[main/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:537) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n\n</code></pre>\n<p>This is what my configuration looks like, which is cobbled together from online sources:</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n    @Value(&quot;${kafka.schema.registry.url}&quot;)\n    private String schemaRegistryUrl;\n\n    @Bean\n    public ProducerFactory&lt;String, Charts&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, Charts&gt; stringTemplate(ProducerFactory&lt;String, Charts&gt; pf) {\n        return new KafkaTemplate&lt;&gt;(pf);\n    }\n\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n        props.put(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n        props.put(KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, false);\n        // See https://kafka.apache.org/documentation/#producerconfigs for more properties\n        return props;\n    }\n}\n</code></pre>\n<p>I am a bit confused. Where does the field &quot;timestamp&quot; come from?</p>\n"},{"tags":["java","spring","kotlin","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3082242,"reputation":103,"user_id":2610209,"display_name":"hebertrfreitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681523486,"creation_date":1681523486,"answer_id":76019999,"question_id":76018639,"body_markdown":"Try to change `personSearchParam` to `PersonSearchParam` and `@NotBlank` to `@field:NotBlank`.\r\nReference = https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets","title":"JPA Passing List with parameters","body":"<p>Try to change <code>personSearchParam</code> to <code>PersonSearchParam</code> and <code>@NotBlank</code> to <code>@field:NotBlank</code>.\nReference = <a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets</a></p>\n"}],"owner":{"account_id":18222762,"reputation":1,"user_id":13263190,"display_name":"Tasmon8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681523486,"creation_date":1681503306,"question_id":76018639,"body_markdown":"working on refactoring some code from a stream hitting a repository multiple times to simply passing the whole list of objects to the repo and it returning all rows back. I have three params I want to search for in a database and just return the entire row from the db. Here is my current setup:\r\n\r\n\r\n```\r\n    @Query(nativeQuery = true, value = &quot;SELECT * FROM PEOPLE as p WHERE p.id IN :personSearchParams AND s.firstName IN :personSearchParams AND s.lastName IN :personSearchParams&quot;)\r\n    fun findByIdAndFirstNameAndLastName(@Param(&quot;personSearchParams&quot;) personSearchParams: List&lt;PersonSearchParams&gt;): List&lt;Person&gt;\r\n```\r\n\r\nMy data object is:\r\n```\r\ndata class personSearchParam (\r\n\r\n    @NotBlank(message = &quot;id must not be blank.&quot;)\r\n    var id: String,\r\n\r\n    @NotBlank(message = &quot;firstName must not be blank.&quot;)\r\n    var firstName: String,\r\n\r\n    @NotBlank(message = &quot;lastName must not be blank.&quot;)\r\n    var lastName: String\r\n)\r\n```\r\nBut am receiving the following error: ```Could not determine a type for class: com.person.entity.personSearchParam```\r\n\r\nHow can I able to pass the list of params and expect a list of entities back?\r\n\r\n","title":"JPA Passing List with parameters","body":"<p>working on refactoring some code from a stream hitting a repository multiple times to simply passing the whole list of objects to the repo and it returning all rows back. I have three params I want to search for in a database and just return the entire row from the db. Here is my current setup:</p>\n<pre><code>    @Query(nativeQuery = true, value = &quot;SELECT * FROM PEOPLE as p WHERE p.id IN :personSearchParams AND s.firstName IN :personSearchParams AND s.lastName IN :personSearchParams&quot;)\n    fun findByIdAndFirstNameAndLastName(@Param(&quot;personSearchParams&quot;) personSearchParams: List&lt;PersonSearchParams&gt;): List&lt;Person&gt;\n</code></pre>\n<p>My data object is:</p>\n<pre><code>data class personSearchParam (\n\n    @NotBlank(message = &quot;id must not be blank.&quot;)\n    var id: String,\n\n    @NotBlank(message = &quot;firstName must not be blank.&quot;)\n    var firstName: String,\n\n    @NotBlank(message = &quot;lastName must not be blank.&quot;)\n    var lastName: String\n)\n</code></pre>\n<p>But am receiving the following error: <code>Could not determine a type for class: com.person.entity.personSearchParam</code></p>\n<p>How can I able to pass the list of params and expect a list of entities back?</p>\n"},{"tags":["java","android","android-wifi"],"owner":{"account_id":23994005,"reputation":33,"user_id":17979730,"display_name":"Geng Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681521304,"creation_date":1681521304,"question_id":76019911,"body_markdown":"I am developing an Android app featuring the RTT ranging between two WiFi aware peers (one publisher and one subscriber), similar to the [demo app from Google](https://play.google.com/store/apps/details?id=com.google.android.apps.location.rtt.wifinanscan&amp;hl=en_AU&amp;gl=US). I have been following [the Android documentation on WiFiAware](https://developer.android.com/guide/topics/connectivity/wifi-aware#publish_a_service) and at this stage the two devices (publisher and subcriber) can find each other and send message bi-directionally. However I just couldn&#39;t enable RTT ranging between the two, which should be easily enabled by following [addWifiAwarePeer to RangingRequest](https://developer.android.com/guide/topics/connectivity/wifi-aware#publish_a_service). \r\n\r\n\r\nI tried testing my app with the Android demo app. With my app being the publisher, the subscriber from Google demo app can obtain ranging results. However with my app being the subcriber, the Google demo app (publisher) just crashed whenever the subcriber discovered it. So I think theres probably something wrong with my subscriber side. Below is my code in Java:\r\n\r\n    private void subscribeService() {\r\n        mServiceMap.clear();\r\n        SubscribeConfig config = new SubscribeConfig.Builder()\r\n                .setServiceName(SERVICE_NAME)\r\n                .build();\r\n        wifiAwareSession.subscribe(config, new DiscoverySessionCallback() {\r\n            @Override\r\n            /** Called when subscribe is started successfully */\r\n            public void onSubscribeStarted(@NonNull SubscribeDiscoverySession session) {\r\n                super.onSubscribeStarted(session);\r\n                subscribeDiscoverySession = session;\r\n            }\r\n\r\n            @Override\r\n            /** Called when a subscribe operation results in a service discovery */\r\n            public void onServiceDiscovered(PeerHandle peerHandle, byte[] serviceSpecificInfo, List&lt;byte[]&gt; matchFilter) {\r\n                super.onServiceDiscovered(peerHandle, serviceSpecificInfo, matchFilter);\r\n\r\n                String key = new String(serviceSpecificInfo);\r\n                mServiceMap.put(key, peerHandle);\r\n                List&lt;String&gt; list = new ArrayList&lt;&gt;(mServiceMap.keySet());\r\n\r\n                mNormalAdapter.setNewData(list);\r\n                subscribeDiscoverySession.sendMessage(peerHandle, 1, &quot;&quot;.getBytes());\r\n            }\r\n\r\n            @Override\r\n            /** Called when a message is received from a discovery session peer*/\r\n            public void onMessageReceived(PeerHandle peerHandle, byte[] message) {\r\n                super.onMessageReceived(peerHandle, message);\r\n                String receiveMsg = new String(message);\r\n                if (StringUtils.isEmpty(receiveMsg)) {\r\n                    return;\r\n                }\r\n                EditText editText = binding.etMsg;\r\n                editText.setText(receiveMsg);\r\n            }\r\n        }, null);\r\n    }\r\n\r\nThe peerhandle from **onServiceDiscovered** was stored in **mServiceMap** and the key was the **serviceSpecificInfo**. I used this peerhandle for RTT ranging and it returned status 1 meaning operation failed. I really dont know where it went wrong and any help is appreciated!\r\n","title":"RTT ranging between WiFi Aware peers not working","body":"<p>I am developing an Android app featuring the RTT ranging between two WiFi aware peers (one publisher and one subscriber), similar to the <a href=\"https://play.google.com/store/apps/details?id=com.google.android.apps.location.rtt.wifinanscan&amp;hl=en_AU&amp;gl=US\" rel=\"nofollow noreferrer\">demo app from Google</a>. I have been following <a href=\"https://developer.android.com/guide/topics/connectivity/wifi-aware#publish_a_service\" rel=\"nofollow noreferrer\">the Android documentation on WiFiAware</a> and at this stage the two devices (publisher and subcriber) can find each other and send message bi-directionally. However I just couldn't enable RTT ranging between the two, which should be easily enabled by following <a href=\"https://developer.android.com/guide/topics/connectivity/wifi-aware#publish_a_service\" rel=\"nofollow noreferrer\">addWifiAwarePeer to RangingRequest</a>.</p>\n<p>I tried testing my app with the Android demo app. With my app being the publisher, the subscriber from Google demo app can obtain ranging results. However with my app being the subcriber, the Google demo app (publisher) just crashed whenever the subcriber discovered it. So I think theres probably something wrong with my subscriber side. Below is my code in Java:</p>\n<pre><code>private void subscribeService() {\n    mServiceMap.clear();\n    SubscribeConfig config = new SubscribeConfig.Builder()\n            .setServiceName(SERVICE_NAME)\n            .build();\n    wifiAwareSession.subscribe(config, new DiscoverySessionCallback() {\n        @Override\n        /** Called when subscribe is started successfully */\n        public void onSubscribeStarted(@NonNull SubscribeDiscoverySession session) {\n            super.onSubscribeStarted(session);\n            subscribeDiscoverySession = session;\n        }\n\n        @Override\n        /** Called when a subscribe operation results in a service discovery */\n        public void onServiceDiscovered(PeerHandle peerHandle, byte[] serviceSpecificInfo, List&lt;byte[]&gt; matchFilter) {\n            super.onServiceDiscovered(peerHandle, serviceSpecificInfo, matchFilter);\n\n            String key = new String(serviceSpecificInfo);\n            mServiceMap.put(key, peerHandle);\n            List&lt;String&gt; list = new ArrayList&lt;&gt;(mServiceMap.keySet());\n\n            mNormalAdapter.setNewData(list);\n            subscribeDiscoverySession.sendMessage(peerHandle, 1, &quot;&quot;.getBytes());\n        }\n\n        @Override\n        /** Called when a message is received from a discovery session peer*/\n        public void onMessageReceived(PeerHandle peerHandle, byte[] message) {\n            super.onMessageReceived(peerHandle, message);\n            String receiveMsg = new String(message);\n            if (StringUtils.isEmpty(receiveMsg)) {\n                return;\n            }\n            EditText editText = binding.etMsg;\n            editText.setText(receiveMsg);\n        }\n    }, null);\n}\n</code></pre>\n<p>The peerhandle from <strong>onServiceDiscovered</strong> was stored in <strong>mServiceMap</strong> and the key was the <strong>serviceSpecificInfo</strong>. I used this peerhandle for RTT ranging and it returned status 1 meaning operation failed. I really dont know where it went wrong and any help is appreciated!</p>\n"},{"tags":["java","file","arraylist"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681521387,"post_id":76019619,"comment_id":134074780,"body_markdown":"java.text.RuleBasedCollator","body":"java.text.RuleBasedCollator"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681515483,"creation_date":1681515483,"answer_id":76019632,"question_id":76019619,"body_markdown":"You should declare the `List` of lines **outside** the loop in order to collect all the lines together.\r\n\r\n```java\r\nList&lt;String&gt; set = new ArrayList&lt;&gt;();\r\n// lines would probably be a better variable name\r\n```\r\n\r\nUse `Scanner#nextLine` instead of `Scanner#next` to read the entire line, including whitespace.\r\n\r\n```java\r\nString line = filescanner.nextLine();\r\n```\r\n\r\nFinally, sort and display the `List` **after** the loop, after you&#39;ve read everything.\r\n\r\n```java\r\nwhile (filescanner.hasNext()) {\r\n    // ...\r\n}\r\nCollections.sort(set);\r\nSystem.out.println(set);\r\n```","title":"Need help sorting arraylist alphabetically","body":"<p>You should declare the <code>List</code> of lines <strong>outside</strong> the loop in order to collect all the lines together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; set = new ArrayList&lt;&gt;();\n// lines would probably be a better variable name\n</code></pre>\n<p>Use <code>Scanner#nextLine</code> instead of <code>Scanner#next</code> to read the entire line, including whitespace.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line = filescanner.nextLine();\n</code></pre>\n<p>Finally, sort and display the <code>List</code> <strong>after</strong> the loop, after you've read everything.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (filescanner.hasNext()) {\n    // ...\n}\nCollections.sort(set);\nSystem.out.println(set);\n</code></pre>\n"}],"owner":{"display_name":"user18912930"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1681564297,"accepted_answer_id":76019632,"answer_count":1,"score":1,"last_activity_date":1681519543,"creation_date":1681515196,"question_id":76019619,"body_markdown":"I need help sorting an array list that contains all the names in the names.txt file. I tried Collections.sort() like suggested but the list is still unsorted. What am I doing wrong?\r\n\r\n\tprivate static void Excerise04(String fname) throws FileNotFoundException {\r\n\t\tScanner filescanner = new Scanner(new File(fname));\r\n\t\twhile (filescanner.hasNext()) {\r\n\t\t\tString line = filescanner.next();\r\n\t\t\tArrayList&lt;String&gt; set = new ArrayList&lt;&gt;();\r\n\t\t\tset.add(line);\r\n\t\t\tCollections.sort(set);\r\n\t\t\tSystem.out.println(set);\r\n\t\t}\r\n\t}\r\n\r\nI tried adding `Collections.sort(set)` to sort array list alphabetically but nothing happened, it didn&#39;t sort, just printed out unsorted list.","title":"Need help sorting arraylist alphabetically","body":"<p>I need help sorting an array list that contains all the names in the names.txt file. I tried Collections.sort() like suggested but the list is still unsorted. What am I doing wrong?</p>\n<pre><code>private static void Excerise04(String fname) throws FileNotFoundException {\n    Scanner filescanner = new Scanner(new File(fname));\n    while (filescanner.hasNext()) {\n        String line = filescanner.next();\n        ArrayList&lt;String&gt; set = new ArrayList&lt;&gt;();\n        set.add(line);\n        Collections.sort(set);\n        System.out.println(set);\n    }\n}\n</code></pre>\n<p>I tried adding <code>Collections.sort(set)</code> to sort array list alphabetically but nothing happened, it didn't sort, just printed out unsorted list.</p>\n"},{"tags":["java","api","http-status-code-403"],"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1681517391,"post_id":76019706,"comment_id":134074496,"body_markdown":"hi @OldProgrammer mistypo, I just fixed, same result as testing https://api.verbix.com/conjugator/iv1/6153a464-b4f0-11ed-9ece-ee3761609078/1/8442/8442/%EB%B0%9B%EB%8B%A4","body":"hi @OldProgrammer mistypo, I just fixed, same result as testing <a href=\"https://api.verbix.com/conjugator/iv1/6153a464-b4f0-11ed-9ece-ee3761609078/1/8442/8442/%EB%B0%9B%EB%8B%A4\" rel=\"nofollow noreferrer\">api.verbix.com/conjugator/iv1/&hellip;</a>"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1681517662,"post_id":76019706,"comment_id":134074523,"body_markdown":"You need to use HttpsURLConnection, not HttpURLConnection","body":"You need to use HttpsURLConnection, not HttpURLConnection"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1681517736,"post_id":76019706,"comment_id":134074530,"body_markdown":"like this ? @OldProgrammer         HttpsURLConnection con = (HttpsURLConnection) url.openConnection(); still getting same error, feel free to post an answer, test, and I can send points, thanks ! no luck yet","body":"like this ? @OldProgrammer         HttpsURLConnection con = (HttpsURLConnection) url.openConnection(); still getting same error, feel free to post an answer, test, and I can send points, thanks ! no luck yet"}],"answers":[{"tags":[],"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681519194,"creation_date":1681518740,"answer_id":76019796,"question_id":76019706,"body_markdown":"You are missing some request headers. Add the setRequestProperty calls below\r\n\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws IOException {\r\n            URL url = new URL(&quot;https://api.verbix.com/conjugator/iv1/6153a464-b4f0-11ed-9ece-ee3761609078/1/8442/8442/%EB%B0%9B%EB%8B%A4&quot;);\r\n            HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\n            con.setRequestMethod(&quot;GET&quot;);\r\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n\r\n    ...\r\n    }\r\n\r\nIf you look under the Headers tab in Postman for the request, you should see something similar.","title":"Verbix: 403 error in Java API but not browser or Postman","body":"<p>You are missing some request headers. Add the setRequestProperty calls below</p>\n<pre><code>import javax.net.ssl.HttpsURLConnection;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class Test {\n    public static void main(String[] args) throws IOException {\n        URL url = new URL(&quot;https://api.verbix.com/conjugator/iv1/6153a464-b4f0-11ed-9ece-ee3761609078/1/8442/8442/%EB%B0%9B%EB%8B%A4&quot;);\n        HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;GET&quot;);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\n\n...\n}\n</code></pre>\n<p>If you look under the Headers tab in Postman for the request, you should see something similar.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76019796,"answer_count":1,"score":1,"last_activity_date":1681519194,"creation_date":1681516895,"question_id":76019706,"body_markdown":"This API request works from Postman, but not Java. How can I get it working? Its returning this Java 403 error.\r\n\r\n    Java Error: Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 403 for URL: https://www.verbix.com/webverbix/korean/%EB%B0%9B%EB%8B%A4\r\n\r\nLooking at previous stack articles, but no luck yet:\r\n\r\nhttps://stackoverflow.com/questions/64921034/web-client-put-request-returns-403-but-postman-request-does-not-jersey-rest-ap\r\n\r\n**Postman:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Java:**\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        URL url = new URL(&quot;https://api.verbix.com/conjugator/iv1/6153a464-b4f0-11ed-9ece-ee3761609078/1/8442/8442/%EB%B0%9B%EB%8B%A4&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n    \r\n        BufferedReader in = new BufferedReader(\r\n                new InputStreamReader(con.getInputStream()));\r\n        String inputLine;\r\n        StringBuffer content = new StringBuffer();\r\n        while ((inputLine = in.readLine()) != null) {\r\n            content.append(inputLine);\r\n        }\r\n        System.out.println(&quot;JSON String Result &quot; + content.toString());\r\n        in.close();\r\n    }\r\n\r\nResources:\r\n\r\nhttps://stackoverflow.com/questions/66518872/unable-to-retrieve-table-elements-using-jsoup\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YXWts.png","title":"Verbix: 403 error in Java API but not browser or Postman","body":"<p>This API request works from Postman, but not Java. How can I get it working? Its returning this Java 403 error.</p>\n<pre><code>Java Error: Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 403 for URL: https://www.verbix.com/webverbix/korean/%EB%B0%9B%EB%8B%A4\n</code></pre>\n<p>Looking at previous stack articles, but no luck yet:</p>\n<p><a href=\"https://stackoverflow.com/questions/64921034/web-client-put-request-returns-403-but-postman-request-does-not-jersey-rest-ap\">Web Client PUT request returns 403 but Postman request does not - Jersey REST API on Glassfish</a></p>\n<p><strong>Postman:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/YXWts.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YXWts.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java:</strong></p>\n<pre><code>public static void main(String[] args) throws IOException {\n    URL url = new URL(&quot;https://api.verbix.com/conjugator/iv1/6153a464-b4f0-11ed-9ece-ee3761609078/1/8442/8442/%EB%B0%9B%EB%8B%A4&quot;);\n    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n    con.setRequestMethod(&quot;GET&quot;);\n\n    BufferedReader in = new BufferedReader(\n            new InputStreamReader(con.getInputStream()));\n    String inputLine;\n    StringBuffer content = new StringBuffer();\n    while ((inputLine = in.readLine()) != null) {\n        content.append(inputLine);\n    }\n    System.out.println(&quot;JSON String Result &quot; + content.toString());\n    in.close();\n}\n</code></pre>\n<p>Resources:</p>\n<p><a href=\"https://stackoverflow.com/questions/66518872/unable-to-retrieve-table-elements-using-jsoup\">Unable to retrieve table elements using jsoup</a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1681520221,"post_id":76019755,"comment_id":134074700,"body_markdown":"Can you add a compilable example? It&#39;s hard to answer without knowing how the type parameters are used.","body":"Can you add a compilable example? It&#39;s hard to answer without knowing how the type parameters are used."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681547692,"post_id":76019755,"comment_id":134076752,"body_markdown":"if `AbstractConstraint` uses/encapsulates the generic type `&lt;T extends Comparable&lt;T&gt;&gt;`, in the `ConstraintCollection` do you really need 2 generic arguments? would `AbstractConstraint&lt;T&gt;` be enough? in other words, can you discard `T extends Comparable&lt;T&gt;` from that declaration? If you manage to do this, `ConstraintCollection&lt;IntegerConstraint&gt;` will be enough.","body":"if <code>AbstractConstraint</code> uses/encapsulates the generic type <code>&lt;T extends Comparable&lt;T&gt;&gt;</code>, in the <code>ConstraintCollection</code> do you really need 2 generic arguments? would <code>AbstractConstraint&lt;T&gt;</code> be enough? in other words, can you discard <code>T extends Comparable&lt;T&gt;</code> from that declaration? If you manage to do this, <code>ConstraintCollection&lt;IntegerConstraint&gt;</code> will be enough."},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1682806458,"post_id":76019755,"comment_id":134273894,"body_markdown":"why not to define your `ConstraintCollection` as `ConstraintCollection&lt;C extends AbstractConstraint&lt;?&gt;&gt;`? \n\nAs the `AbstractConstraint` already has bound constraints applied to its T","body":"why not to define your <code>ConstraintCollection</code> as <code>ConstraintCollection&lt;C extends AbstractConstraint&lt;?&gt;&gt;</code>?   As the <code>AbstractConstraint</code> already has bound constraints applied to its T"}],"owner":{"account_id":7144993,"reputation":61,"user_id":5461062,"display_name":"Ryan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681518338,"creation_date":1681518037,"question_id":76019755,"body_markdown":"I have a class `AbstractConstraint` like\r\n```Java\r\npublic abstract class AbstractConstraint&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    // ...\r\n}\r\n```\r\n\r\nand several concrete classes such as\r\n```Java\r\npublic class IntegerConstraint extends AbstractConstraint&lt;Integer&gt; {\r\n    // Integer extends Comparable&lt;Integer&gt;\r\n}\r\n```\r\n\r\nThis is well and good, but becomes very unwieldy when I specify an `AbstractConstraint` as a type parameter. For example:\r\n```Java\r\npublic class ConstraintCollection&lt;C extends AbstractConstraint&lt;T&gt;, T extends Comparable&lt;T&gt;&gt; {\r\n    // Implementation that relies on T being Comparable\r\n}\r\n```\r\n\r\nTo get an instance of `ConstraintColleciton` I do\r\n```Java\r\nConstraintCollection&lt;IntegerConstraint, Integer&gt; foor = new ConstraintCollection&lt;&gt;();\r\n```\r\n\r\nHaving to specify `Integer` as a type parameter here seems unnecessary, it seems to me that it is implied by `IntegerConstraint`. The example here is somewhat trivial (I could just use a wildcard) but carrying this further just leads to insanity and code that is best described as &#39;write only.&#39;\r\n\r\nIs there a way to for me to define `ConstraintCollection` so that it requires only one type parameter (or make any other changes to the same effect)?\r\n\r\n","title":"Java - Removing an Unnecessary (maybe) Type Parameter","body":"<p>I have a class <code>AbstractConstraint</code> like</p>\n<pre><code>public abstract class AbstractConstraint&lt;T extends Comparable&lt;T&gt;&gt; {\n    // ...\n}\n</code></pre>\n<p>and several concrete classes such as</p>\n<pre><code>public class IntegerConstraint extends AbstractConstraint&lt;Integer&gt; {\n    // Integer extends Comparable&lt;Integer&gt;\n}\n</code></pre>\n<p>This is well and good, but becomes very unwieldy when I specify an <code>AbstractConstraint</code> as a type parameter. For example:</p>\n<pre><code>public class ConstraintCollection&lt;C extends AbstractConstraint&lt;T&gt;, T extends Comparable&lt;T&gt;&gt; {\n    // Implementation that relies on T being Comparable\n}\n</code></pre>\n<p>To get an instance of <code>ConstraintColleciton</code> I do</p>\n<pre><code>ConstraintCollection&lt;IntegerConstraint, Integer&gt; foor = new ConstraintCollection&lt;&gt;();\n</code></pre>\n<p>Having to specify <code>Integer</code> as a type parameter here seems unnecessary, it seems to me that it is implied by <code>IntegerConstraint</code>. The example here is somewhat trivial (I could just use a wildcard) but carrying this further just leads to insanity and code that is best described as 'write only.'</p>\n<p>Is there a way to for me to define <code>ConstraintCollection</code> so that it requires only one type parameter (or make any other changes to the same effect)?</p>\n"},{"tags":["java","maven","netbeans","dll"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1467961226,"post_id":38260628,"comment_id":63941433,"body_markdown":"Make a tiny example that reproduces the problem that others can see.","body":"Make a tiny example that reproduces the problem that others can see."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1467961254,"post_id":38260628,"comment_id":63941446,"body_markdown":"Try running Maven with the `--debug` option, that should give you more detailed information about what Maven is doing exactly.","body":"Try running Maven with the <code>--debug</code> option, that should give you more detailed information about what Maven is doing exactly."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1467961623,"post_id":38260628,"comment_id":63941630,"body_markdown":"The run does not seem to find a 64bits dll but instead is given a 32bits one, maybe NetBeans ran it under 32 bits. `System.getProperties().list(System.out);` would show that info. Picking &quot;C:/Program Files (x86)/java/...&quot; might help.","body":"The run does not seem to find a 64bits dll but instead is given a 32bits one, maybe NetBeans ran it under 32 bits. <code>System.getProperties().list(System.out);</code> would show that info. Picking &quot;C:/Program Files (x86)/java/...&quot; might help."},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1467963041,"post_id":38260628,"comment_id":63942321,"body_markdown":"Thanks for your interest, guys. See my question&#39;s update for the complete source code of myproject, and run output.","body":"Thanks for your interest, guys. See my question&#39;s update for the complete source code of myproject, and run output."},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1467964023,"post_id":38260628,"comment_id":63942829,"body_markdown":"Added `System.getProperties().list(System.out);`to the source code, to compare when running Netbeans/Maven and from command-line. The output is actually identical.","body":"Added <code>System.getProperties().list(System.out);</code>to the source code, to compare when running Netbeans/Maven and from command-line. The output is actually identical."},{"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"score":0,"creation_date":1467980713,"post_id":38260628,"comment_id":63952591,"body_markdown":"I noticed when I installed netbeans it installed both a 32 and a 64 bit version of the exe in the bin directory under program files\\netbeans.  Which version are you running when it works?  My guess is you&#39;re running the 32 bit version and if you try the same thing with the 64 bit version it will fail similar to the cmd line attempt.  I suspect NB comes with a bundled JVM it uses if you don&#39;t have a suitable version on your machine.","body":"I noticed when I installed netbeans it installed both a 32 and a 64 bit version of the exe in the bin directory under program files\\netbeans.  Which version are you running when it works?  My guess is you&#39;re running the 32 bit version and if you try the same thing with the 64 bit version it will fail similar to the cmd line attempt.  I suspect NB comes with a bundled JVM it uses if you don&#39;t have a suitable version on your machine."},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1468314699,"post_id":38260628,"comment_id":64063923,"body_markdown":"The &quot;bin&quot; directory has three files: `netbeans.exe`, `netbeans64.exe` and `netbeans`. I tried removing the `netbeans.exe` and `netbeans` files, restarted the IDE. The project still runs from Netbeans.","body":"The &quot;bin&quot; directory has three files: <code>netbeans.exe</code>, <code>netbeans64.exe</code> and <code>netbeans</code>. I tried removing the <code>netbeans.exe</code> and <code>netbeans</code> files, restarted the IDE. The project still runs from Netbeans."},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1468318298,"post_id":38260628,"comment_id":64066500,"body_markdown":"hmmm silly though but i have to ask , when maven finishes the build , are you sure it updates properly the /target directory with the latest `myproject-1.0-SNAPSHOT.jar` ?","body":"hmmm silly though but i have to ask , when maven finishes the build , are you sure it updates properly the /target directory with the latest <code>myproject-1.0-SNAPSHOT.jar</code> ?"},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1468318653,"post_id":38260628,"comment_id":64066748,"body_markdown":"Yes, I am sure. Deleted the entire `target` directory, before compiling and tried running the application.","body":"Yes, I am sure. Deleted the entire <code>target</code> directory, before compiling and tried running the application."},{"owner":{"account_id":1079937,"reputation":3752,"user_id":1077177,"accept_rate":86,"display_name":"Yuriy Nakonechnyy"},"score":0,"creation_date":1468319055,"post_id":38260628,"comment_id":64067004,"body_markdown":"In the first edit, in the end of debug Netbeans / Maven output one could see following line: `Executing command line: C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe -Djava.library.path=lib\\ -classpath C:\\Users\\Birger\\Workspace\\myproject\\target\\classes;C:\\Users\\Birger\\.m2\\repository\\jni4net\\jni4net.j\\0.8.8.0\\jni4net.j-0.8.8.0.jar com.mysite.myproject.Main`. Comparing this with your command-line I could see that you don&#39;t include `-classpath` and only add executable jar using `-jar myproject.jar`. I think this could be the issue","body":"In the first edit, in the end of debug Netbeans / Maven output one could see following line: <code>Executing command line: C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe -Djava.library.path=lib\\ -classpath C:\\Users\\Birger\\Workspace\\myproject\\target\\classes;C:\\Users\\&zwnj;&#8203;Birger\\.m2\\repositor&zwnj;&#8203;y\\jni4net\\jni4net.j\\&zwnj;&#8203;0.8.8.0\\jni4net.j-0.&zwnj;&#8203;8.8.0.jar com.mysite.myproject.Main</code>. Comparing this with your command-line I could see that you don&#39;t include <code>-classpath</code> and only add executable jar using <code>-jar myproject.jar</code>. I think this could be the issue"},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1468319273,"post_id":38260628,"comment_id":64067165,"body_markdown":"I also tried running the application without the .jar and providing the classpath with the `-classpath` argument and running the main class. It yields the same error.","body":"I also tried running the application without the .jar and providing the classpath with the <code>-classpath</code> argument and running the main class. It yields the same error."},{"owner":{"account_id":3701415,"reputation":605,"user_id":3081030,"accept_rate":78,"display_name":"Palcente"},"score":0,"creation_date":1468319426,"post_id":38260628,"comment_id":64067264,"body_markdown":"It appears you have two versions(32/64) of dll files and get them mixed together.\nAre you sure you point to correct maven config `\\maven\\conf\\settings.xml` and repository within netbeans and outside ?","body":"It appears you have two versions(32/64) of dll files and get them mixed together. Are you sure you point to correct maven config <code>\\maven\\conf\\settings.xml</code> and repository within netbeans and outside ?"},{"owner":{"account_id":1079937,"reputation":3752,"user_id":1077177,"accept_rate":86,"display_name":"Yuriy Nakonechnyy"},"score":0,"creation_date":1468320835,"post_id":38260628,"comment_id":64068180,"body_markdown":"@Birger could you please provide command with `-classpath` that you used to run it?","body":"@Birger could you please provide command with <code>-classpath</code> that you used to run it?"},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1468322613,"post_id":38260628,"comment_id":64069324,"body_markdown":"@Yura sure, see **EDIT4**","body":"@Yura sure, see <b>EDIT4</b>"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1468323686,"post_id":38260628,"comment_id":64070062,"body_markdown":"Are you sure that `jni4net.n.w32.v20-0.8.8.0.dll` file is not corrupted? Try to download it again (or maybe a different version) and copy-paste it to correct location.","body":"Are you sure that <code>jni4net.n.w32.v20-0.8.8.0.dll</code> file is not corrupted? Try to download it again (or maybe a different version) and copy-paste it to correct location."}],"answers":[{"tags":[],"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468670347,"creation_date":1468327109,"answer_id":38329151,"question_id":38260628,"body_markdown":"Apparently, the .dll&#39;s copied during compile are unusable by my application. To get it working, I have to load the original library files (not the copied ones). Netbeans was doing excactly this, thus my application ran fine from Netbeans but not when trying to use the compiled (and copied) files.\r\n\r\n**FIX**: In my `pom.xml`, resource filtering is set to `true`. I set it to `false` (or remove the entry), and now my application can be launched from outside netbeans. Here&#39;s my new `pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;repo&lt;/id&gt;\r\n                &lt;url&gt;file://${project.basedir}/temp-repo&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jni4net&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jni4net.j&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.10&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;\r\n                                    ${project.build.directory}/lib\r\n                                &lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;mainClass&gt;com.mysite.myproject.Main&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-resources&lt;/id&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                                &lt;resources&gt;          \r\n                                    &lt;resource&gt;\r\n                                        &lt;directory&gt;lib&lt;/directory&gt;\r\n                                        &lt;filtering&gt;false&lt;/filtering&gt;\r\n                                    &lt;/resource&gt;\r\n                                &lt;/resources&gt;\r\n                            &lt;/configuration&gt;            \r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"What kind of sorcery is Maven doing to run this project, when I can&#39;t?","body":"<p>Apparently, the .dll's copied during compile are unusable by my application. To get it working, I have to load the original library files (not the copied ones). Netbeans was doing excactly this, thus my application ran fine from Netbeans but not when trying to use the compiled (and copied) files.</p>\n\n<p><strong>FIX</strong>: In my <code>pom.xml</code>, resource filtering is set to <code>true</code>. I set it to <code>false</code> (or remove the entry), and now my application can be launched from outside netbeans. Here's my new <code>pom.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repo&lt;/id&gt;\n            &lt;url&gt;file://${project.basedir}/temp-repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jni4net&lt;/groupId&gt;\n            &lt;artifactId&gt;jni4net.j&lt;/artifactId&gt;\n            &lt;version&gt;0.8.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;\n                                ${project.build.directory}/lib\n                            &lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.mysite.myproject.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                            &lt;resources&gt;          \n                                &lt;resource&gt;\n                                    &lt;directory&gt;lib&lt;/directory&gt;\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;            \n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":940686,"reputation":1064,"user_id":6230174,"display_name":"Hisham Khalil"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1681518171,"creation_date":1468327115,"answer_id":38329155,"question_id":38260628,"body_markdown":"I faced this problem long time ago.\r\n\r\njust remove the `&lt;filtering&gt;true&lt;/filtering&gt;` ,this get the files corrupted while copying. (Bug !!???). \r\n\r\n I was able to reproduce your issue. this will resolve your problem also\r\n\r\nhope this helps.","title":"What kind of sorcery is Maven doing to run this project, when I can&#39;t?","body":"<p>I faced this problem long time ago.</p>\n<p>just remove the <code>&lt;filtering&gt;true&lt;/filtering&gt;</code> ,this get the files corrupted while copying. (Bug !!???).</p>\n<p>I was able to reproduce your issue. this will resolve your problem also</p>\n<p>hope this helps.</p>\n"}],"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":38329155,"answer_count":2,"score":17,"last_activity_date":1681518171,"creation_date":1467960941,"question_id":38260628,"body_markdown":"I have a maven project with some library dependencies (.dll) (which I put in a &quot;lib&quot; folder). I can run the project without problems in Netbeans, but when I try to run the built .jar outside of Netbeans, I get the following error on loading the library:\r\n\r\n`Can&#39;t load this .dll (machine code=0xbd) on a AMD 64-bit platform`\r\n\r\nI only have **one** instance of Java installed on my computer, it should be the same JVM that Netbeans/Maven uses to run the project. So I can&#39;t understand how Netbeans/Maven is able to run this application on a different platform than me? I&#39;ve tried looking at the command Netbeans executes (from the output) to run the project and I think it&#39;s this:\r\n\r\n    cd C:\\Users\\Birger\\Workspace\\myproject; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91&quot; cmd /c &quot;\\&quot;\\&quot;C:\\\\Program Files\\\\NetBeans 8.1\\\\java\\\\maven\\\\bin\\\\mvn.bat\\&quot; -Dexec.args=\\&quot;-Djava.library.path=lib\\\\ -classpath %classpath com.mysite.myproject.Main\\&quot; -Dexec.executable=\\&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91\\\\bin\\\\java.exe\\&quot; -Dmaven.ext.class.path=\\&quot;C:\\\\Program Files\\\\NetBeans 8.1\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; -Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:1.2.1:exec\\&quot;&quot;\r\n\r\nI tried these two commands\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\jre\\bin\\java.exe&quot; -Djava.library.path=lib\\ -jar myproject-1.0-SNAPSHOT.jar\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe&quot; -Djava.library.path=lib\\ -jar myproject-1.0-SNAPSHOT.jar\r\n\r\nI added `System.out.println(System.getProperty(&quot;sun.arch.data.model&quot;));` to get my application to print out the cpu architecture. It prints `64` in both occasions.\r\n\r\nTried looking into the &quot;mvn.bat&quot; file in `C:\\Program Files\\NetBeans 8.1\\java\\maven\\bin\\mvn.bat` but I couldn&#39;t find any clues as to what Maven is doing to run my application.\r\n\r\nCan somebody help me on this one?\r\n\r\nBirger\r\n\r\n**EDIT**\r\n\r\nHere&#39;s the complete source code of my test project. My project&#39;s `pom.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.mysite&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;repo&lt;/id&gt;\r\n                &lt;url&gt;file://${project.basedir}/temp-repo&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jni4net&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jni4net.j&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.10&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;\r\n                                    ${project.build.directory}/lib\r\n                                &lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;mainClass&gt;com.mysite.myproject.Main&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-resources&lt;/id&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                                &lt;resources&gt;          \r\n                                    &lt;resource&gt;\r\n                                        &lt;directory&gt;lib&lt;/directory&gt;\r\n                                        &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                    &lt;/resource&gt;\r\n                                &lt;/resources&gt;              \r\n                            &lt;/configuration&gt;            \r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nMy project&#39;s class\r\n\r\n    package com.mysite.myproject;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import net.sf.jni4net.Bridge;\r\n    \r\n    public class Main {\r\n    \r\n        static {\r\n            String libDir = System.getProperty(&quot;java.library.path&quot;);\r\n            System.loadLibrary(&quot;jni4net.n-0.8.8.0&quot;);\r\n    \r\n            if (System.getProperty(&quot;sun.arch.data.model&quot;).equals(&quot;64&quot;)) {\r\n                System.loadLibrary(&quot;jni4net.n.w64.v20-0.8.8.0&quot;);\r\n                System.loadLibrary(&quot;jni4net.n.w64.v40-0.8.8.0&quot;);\r\n            } else {\r\n                System.loadLibrary(&quot;jni4net.n.w32.v20-0.8.8.0&quot;);\r\n                System.loadLibrary(&quot;jni4net.n.w32.v40-0.8.8.0&quot;);\r\n            }\r\n    \r\n            try {\r\n                Bridge.init(new File(libDir));\r\n                System.out.println(&quot;Initialized!&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n    \r\n        public Main() {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n        }\r\n    }\r\n\r\nNetbeans output when running the project (added `--debug` option for verbose output):\r\n\r\n    cd C:\\Users\\Birger\\Workspace\\myproject; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91&quot; cmd /c &quot;\\&quot;\\&quot;C:\\\\Program Files\\\\NetBeans 8.1\\\\java\\\\maven\\\\bin\\\\mvn.bat\\&quot; -Dexec.args=\\&quot;-Djava.library.path=lib\\\\ -classpath %classpath com.mysite.myproject.Main\\&quot; -Dexec.executable=\\&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91\\\\bin\\\\java.exe\\&quot; -Dmaven.ext.class.path=\\&quot;C:\\\\Program Files\\\\NetBeans 8.1\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; -Dfile.encoding=UTF-8 --debug org.codehaus.mojo:exec-maven-plugin:1.2.1:exec\\&quot;&quot;\r\n    Running NetBeans Compile On Save execution. Phase execution is skipped and output directories of dependency projects (with Compile on Save turned on) will be used instead of their jar artifacts.\r\n    C:\\Program Files\\Java\\jdk1.8.0_91\r\n    Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 14:51:28+0100)\r\n    Maven home: C:\\Program Files\\NetBeans 8.1\\java\\maven\r\n    Java version: 1.8.0_91, vendor: Oracle Corporation\r\n    Java home: C:\\Program Files\\Java\\jdk1.8.0_91\\jre\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;dos&quot;\r\n    Populating class realm maven.ext\r\n      Included C:\\Program Files\\NetBeans 8.1\\java\\maven-nblib\\netbeans-eventspy.jar\r\n    Error stacktraces are turned on.\r\n    Reading global settings from C:\\Program Files\\NetBeans 8.1\\java\\maven\\conf\\settings.xml\r\n    Reading user settings from C:\\Users\\Birger\\.m2\\settings.xml\r\n    Using local repository at C:\\Users\\Birger\\.m2\\repository\r\n    Using manager EnhancedLocalRepositoryManager with priority 10 for C:\\Users\\Birger\\.m2\\repository\r\n    Scanning for projects...\r\n    Extension realms for project com.mysite:myproject:jar:1.0-SNAPSHOT: (none)\r\n    Looking up lifecyle mappings for packaging jar from ClassRealm[maven.ext, parent: ClassRealm[plexus.core, parent: null]]\r\n    === REACTOR BUILD PLAN ================================================\r\n    Project: com.mysite:myproject:jar:1.0-SNAPSHOT\r\n    Tasks:   [org.codehaus.mojo:exec-maven-plugin:1.2.1:exec]\r\n    Style:   Regular\r\n    =======================================================================\r\n                                                                            \r\n    ------------------------------------------------------------------------\r\n    Building myproject 1.0-SNAPSHOT\r\n    ------------------------------------------------------------------------\r\n    Lifecycle default -&gt; [validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy]\r\n    Lifecycle clean -&gt; [pre-clean, clean, post-clean]\r\n    Lifecycle site -&gt; [pre-site, site, post-site, site-deploy]\r\n    === PROJECT BUILD PLAN ================================================\r\n    Project:       com.mysite:myproject:1.0-SNAPSHOT\r\n    Dependencies (collect): []\r\n    Dependencies (resolve): [test]\r\n    Repositories (dependencies): [libs-release (http://artifactory.osc.no:8081/artifactory/libs-release/, releases), repo (file://C:\\Users\\Birger\\Workspace\\myproject/temp-repo, releases+snapshots), central (http://repo.maven.apache.org/maven2, releases)]\r\n    Repositories (plugins)     : [libs-release (http://artifactory.osc.no:8081/artifactory/libs-release/, releases), central (http://repo.maven.apache.org/maven2, releases)]\r\n    -----------------------------------------------------------------------\r\n    Goal:          org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli)\r\n    Style:         Regular\r\n    Configuration: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n      &lt;basedir default-value=&quot;${basedir}&quot;/&gt;\r\n      &lt;classpathScope default-value=&quot;runtime&quot;&gt;${exec.classpathScope}&lt;/classpathScope&gt;\r\n      &lt;commandlineArgs&gt;${exec.args}&lt;/commandlineArgs&gt;\r\n      &lt;executable&gt;${exec.executable}&lt;/executable&gt;\r\n      &lt;longClasspath default-value=&quot;false&quot;&gt;${exec.longClasspath}&lt;/longClasspath&gt;\r\n      &lt;outputFile&gt;${exec.outputFile}&lt;/outputFile&gt;\r\n      &lt;project default-value=&quot;${project}&quot;/&gt;\r\n      &lt;session default-value=&quot;${session}&quot;/&gt;\r\n      &lt;skip default-value=&quot;false&quot;&gt;${skip}&lt;/skip&gt;\r\n      &lt;sourceRoot&gt;${sourceRoot}&lt;/sourceRoot&gt;\r\n      &lt;testSourceRoot&gt;${testSourceRoot}&lt;/testSourceRoot&gt;\r\n      &lt;workingDirectory&gt;${exec.workingdir}&lt;/workingDirectory&gt;\r\n    &lt;/configuration&gt;\r\n    =======================================================================\r\n    com.mysite:myproject:jar:1.0-SNAPSHOT\r\n       jni4net:jni4net.j:jar:0.8.8.0:compile\r\n    \r\n    --- exec-maven-plugin:1.2.1:exec (default-cli) @ myproject ---\r\n    Created new class realm maven.api\r\n    Importing foreign packages into class realm maven.api\r\n      Imported: org.apache.maven.cli &lt; maven.ext\r\n      Imported: org.codehaus.plexus.lifecycle &lt; maven.ext\r\n      Imported: org.apache.maven.lifecycle &lt; maven.ext\r\n      Imported: org.apache.maven.repository &lt; maven.ext\r\n      Imported: org.codehaus.plexus.personality &lt; maven.ext\r\n      Imported: org.apache.maven.usability &lt; maven.ext\r\n      Imported: org.codehaus.plexus.configuration &lt; maven.ext\r\n      Imported: org.sonatype.aether.version &lt; maven.ext\r\n      Imported: org.sonatype.aether.* &lt; maven.ext\r\n      Imported: org.sonatype.aether.artifact &lt; maven.ext\r\n      Imported: org.apache.maven.* &lt; maven.ext\r\n      Imported: org.apache.maven.project &lt; maven.ext\r\n      Imported: org.sonatype.aether.repository &lt; maven.ext\r\n      Imported: org.sonatype.aether.impl &lt; maven.ext\r\n      Imported: org.apache.maven.exception &lt; maven.ext\r\n      Imported: org.apache.maven.plugin &lt; maven.ext\r\n      Imported: org.sonatype.aether.collection &lt; maven.ext\r\n      Imported: org.codehaus.plexus.* &lt; maven.ext\r\n      Imported: org.codehaus.plexus.logging &lt; maven.ext\r\n      Imported: org.apache.maven.profiles &lt; maven.ext\r\n      Imported: org.sonatype.aether.metadata &lt; maven.ext\r\n      Imported: org.sonatype.aether.spi &lt; maven.ext\r\n      Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; maven.ext\r\n      Imported: org.apache.maven.wagon.* &lt; maven.ext\r\n      Imported: org.sonatype.aether.graph &lt; maven.ext\r\n      Imported: org.apache.maven.rtinfo &lt; maven.ext\r\n      Imported: org.sonatype.aether.installation &lt; maven.ext\r\n      Imported: org.apache.maven.monitor &lt; maven.ext\r\n      Imported: org.sonatype.aether.transfer &lt; maven.ext\r\n      Imported: org.codehaus.plexus.context &lt; maven.ext\r\n      Imported: org.apache.maven.wagon.observers &lt; maven.ext\r\n      Imported: org.apache.maven.wagon.resource &lt; maven.ext\r\n      Imported: org.sonatype.aether.deployment &lt; maven.ext\r\n      Imported: org.apache.maven.model &lt; maven.ext\r\n      Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; maven.ext\r\n      Imported: org.apache.maven.artifact &lt; maven.ext\r\n      Imported: org.apache.maven.toolchain &lt; maven.ext\r\n      Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; maven.ext\r\n      Imported: org.apache.maven.settings &lt; maven.ext\r\n      Imported: org.apache.maven.wagon.authorization &lt; maven.ext\r\n      Imported: org.apache.maven.wagon.events &lt; maven.ext\r\n      Imported: org.apache.maven.wagon.authentication &lt; maven.ext\r\n      Imported: org.apache.maven.reporting &lt; maven.ext\r\n      Imported: org.apache.maven.wagon.repository &lt; maven.ext\r\n      Imported: org.apache.maven.configuration &lt; maven.ext\r\n      Imported: org.codehaus.plexus.classworlds &lt; maven.ext\r\n      Imported: org.codehaus.classworlds &lt; maven.ext\r\n      Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; maven.ext\r\n      Imported: org.apache.maven.classrealm &lt; maven.ext\r\n      Imported: org.sonatype.aether.resolution &lt; maven.ext\r\n      Imported: org.apache.maven.execution &lt; maven.ext\r\n      Imported: org.apache.maven.wagon.proxy &lt; maven.ext\r\n      Imported: org.codehaus.plexus.container &lt; maven.ext\r\n      Imported: org.codehaus.plexus.component &lt; maven.ext\r\n    Populating class realm maven.api\r\n    org.codehaus.mojo:exec-maven-plugin:jar:1.2.1:\r\n       org.apache.maven:maven-toolchain:jar:1.0:compile\r\n       org.apache.maven:maven-project:jar:2.0.6:compile\r\n          org.apache.maven:maven-settings:jar:2.0.6:compile\r\n          org.apache.maven:maven-profile:jar:2.0.6:compile\r\n          org.apache.maven:maven-plugin-registry:jar:2.0.6:compile\r\n       org.apache.maven:maven-model:jar:2.0.6:compile\r\n       org.apache.maven:maven-artifact:jar:2.0.6:compile\r\n       org.apache.maven:maven-artifact-manager:jar:2.0.6:compile\r\n          org.apache.maven:maven-repository-metadata:jar:2.0.6:compile\r\n       org.apache.maven:maven-core:jar:2.0.6:compile\r\n          org.apache.maven:maven-plugin-parameter-documenter:jar:2.0.6:compile\r\n          org.apache.maven.reporting:maven-reporting-api:jar:2.0.6:compile\r\n             org.apache.maven.doxia:doxia-sink-api:jar:1.0-alpha-7:compile\r\n          org.apache.maven:maven-error-diagnostics:jar:2.0.6:compile\r\n          commons-cli:commons-cli:jar:1.0:compile\r\n          org.apache.maven:maven-plugin-descriptor:jar:2.0.6:compile\r\n          org.codehaus.plexus:plexus-interactivity-api:jar:1.0-alpha-4:compile\r\n          org.apache.maven:maven-monitor:jar:2.0.6:compile\r\n          classworlds:classworlds:jar:1.1:compile\r\n       org.apache.maven:maven-plugin-api:jar:2.0.6:compile\r\n       org.codehaus.plexus:plexus-utils:jar:2.0.5:compile\r\n       org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9:compile\r\n          junit:junit:jar:3.8.2:test (scope managed from compile) (version managed from 3.8.1)\r\n       org.apache.commons:commons-exec:jar:1.1:compile\r\n    Created new class realm plugin&gt;org.codehaus.mojo:exec-maven-plugin:1.2.1\r\n    Importing foreign packages into class realm plugin&gt;org.codehaus.mojo:exec-maven-plugin:1.2.1\r\n      Imported:  &lt; maven.api\r\n    Populating class realm plugin&gt;org.codehaus.mojo:exec-maven-plugin:1.2.1\r\n      Included: org.codehaus.mojo:exec-maven-plugin:jar:1.2.1\r\n      Included: org.apache.maven.reporting:maven-reporting-api:jar:2.0.6\r\n      Included: org.apache.maven.doxia:doxia-sink-api:jar:1.0-alpha-7\r\n      Included: commons-cli:commons-cli:jar:1.0\r\n      Included: org.codehaus.plexus:plexus-interactivity-api:jar:1.0-alpha-4\r\n      Included: org.codehaus.plexus:plexus-utils:jar:2.0.5\r\n      Included: org.apache.commons:commons-exec:jar:1.1\r\n      Excluded: org.apache.maven:maven-toolchain:jar:1.0\r\n      Excluded: org.apache.maven:maven-project:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-settings:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-profile:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-plugin-registry:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-model:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-artifact:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-artifact-manager:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-repository-metadata:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-core:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-plugin-parameter-documenter:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-error-diagnostics:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-plugin-descriptor:jar:2.0.6\r\n      Excluded: org.apache.maven:maven-monitor:jar:2.0.6\r\n      Excluded: classworlds:classworlds:jar:1.1\r\n      Excluded: org.apache.maven:maven-plugin-api:jar:2.0.6\r\n      Excluded: org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9\r\n      Excluded: junit:junit:jar:3.8.2\r\n    Configuring mojo org.codehaus.mojo:exec-maven-plugin:1.2.1:exec from plugin realm ClassRealm[plugin&gt;org.codehaus.mojo:exec-maven-plugin:1.2.1, parent: sun.misc.Launcher$AppClassLoader@5c647e05]\r\n    Configuring mojo &#39;org.codehaus.mojo:exec-maven-plugin:1.2.1:exec&#39; with basic configurator --&gt;\r\n      (f) basedir = C:\\Users\\Birger\\Workspace\\myproject\r\n      (f) classpathScope = runtime\r\n      (f) commandlineArgs = -Djava.library.path=lib\\ -classpath %classpath com.mysite.myproject.Main\r\n      (f) executable = C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe\r\n      (f) longClasspath = false\r\n      (f) project = MavenProject: com.mysite:myproject:1.0-SNAPSHOT @ C:\\Users\\Birger\\Workspace\\myproject\\pom.xml\r\n      (f) session = org.apache.maven.execution.MavenSession@2ef14fe\r\n      (f) skip = false\r\n    -- end configuration --\r\n    Collected project artifacts [jni4net:jni4net.j:jar:0.8.8.0:compile]\r\n    Collected project classpath [C:\\Users\\Birger\\Workspace\\myproject\\target\\classes]\r\n    dealing with jni4net:jni4net.j:jar:0.8.8.0:compile\r\n    Toolchains are ignored, &#39;executable&#39; parameter is set to C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe\r\n    Executing command line: C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe -Djava.library.path=lib\\ -classpath C:\\Users\\Birger\\Workspace\\myproject\\target\\classes;C:\\Users\\Birger\\.m2\\repository\\jni4net\\jni4net.j\\0.8.8.0\\jni4net.j-0.8.8.0.jar com.mysite.myproject.Main\r\n    Initialized!\r\n    Hello world!\r\n    ------------------------------------------------------------------------\r\n    BUILD SUCCESS\r\n    ------------------------------------------------------------------------\r\n    Total time: 1.360s\r\n    Finished at: Fri Jul 08 09:26:48 CEST 2016\r\n    Final Memory: 5M/245M\r\n    ------------------------------------------------------------------------\r\n\r\nCommand-line output when trying to run my built .jar\r\n\r\n    C:\\Users\\Birger\\Workspace\\myproject\\target&gt;&quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe&quot; -Djava.library.path=lib\\ -jar myproject-1.0-SNAPSHOT.jar\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\Birger\\Workspace\\myproject\\target\\lib\\jni4net.n-0.8.8.0.dll: Can&#39;t load this .dll (machine code=0xbd) on a AMD 64-bit platform\r\n            at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n            at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\r\n            at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1857)\r\n            at java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n            at java.lang.System.loadLibrary(System.java:1122)\r\n            at com.mysite.myproject.Main.&lt;clinit&gt;(Main.java:11)\r\n\r\n**EDIT2:**\r\n\r\nFor anyone looking to reproduce this error, jni4net can be found [here][1]. I installed the .jar with this windows batch file:\r\n\r\n    set project_dir=YOURPROJECTDIRECTORYHERE\r\n    set proxygen_dir=YOURPROXYGENINSTALLATIONDIRECTORYHERE\r\n    set temp_repo_dir=%project_dir%\\temp-repo\r\n    call mvn install:install-file -DlocalRepositoryPath=%temp_repo_dir% -DcreateChecksum=true -Dpackaging=jar -Dfile=%proxygen_dir%\\lib\\jni4net.j-0.8.8.0.jar -DgroupId=jni4net -DartifactId=jni4net.j -Dversion=0.8.8.0\r\n\r\n**EDIT3:**\r\n\r\nI installed 32-bit JVM, and tried running the application with the following command:\r\n\r\n    &quot;C:\\Program Files (x86)\\Java\\jre1.8.0_91\\bin\\java.exe&quot; -Djava.library.path=lib\\ -jar myproject-1.0-SNAPSHOT.jar\r\n\r\nNow I get:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\Birger\\Workspace\\myproject\\target\\lib\\jni4net.n.w32.v20-0.8.8.0.dll: Can&#39;t load this .dll (machine code=0xbd) on a IA 32-bit platform\r\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n        at java.lang.ClassLoader.loadLibrary0(Unknown Source)\r\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\r\n        at java.lang.System.loadLibrary(Unknown Source)\r\n        at com.mysite.myproject.Main.&lt;clinit&gt;(Main.java:19)\r\n\r\nI&#39;m getting quite desperate here (and a little frustrated with Java tbh)\r\n\r\n**EDIT4:**\r\n\r\nTried these commands, also not working:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java&quot; -Djava.library.path=lib\\ -classpath C:\\Users\\Birger\\Workspace\\myproject\\target\\classes;C:\\Users\\Birger\\.m2\\repositor‌​y\\jni4net\\jni4net.j\\0.8.8.0\\jni4net.j-0.8.8.0.jar com.mysite.myproject.Main\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java&quot; -Djava.library.path=lib\\ -classpath classes;C:\\Users\\Birger\\.m2\\repositor‌​y\\jni4net\\jni4net.j\\0.8.8.0\\jni4net.j-0.8.8.0.jar com.mysite.myproject.Main\r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java&quot; -Djava.library.path=lib\\ -classpath classes com.mysite.myproject.Main\r\n\r\n  [1]: http://jni4net.com/","title":"What kind of sorcery is Maven doing to run this project, when I can&#39;t?","body":"<p>I have a maven project with some library dependencies (.dll) (which I put in a \"lib\" folder). I can run the project without problems in Netbeans, but when I try to run the built .jar outside of Netbeans, I get the following error on loading the library:</p>\n\n<p><code>Can't load this .dll (machine code=0xbd) on a AMD 64-bit platform</code></p>\n\n<p>I only have <strong>one</strong> instance of Java installed on my computer, it should be the same JVM that Netbeans/Maven uses to run the project. So I can't understand how Netbeans/Maven is able to run this application on a different platform than me? I've tried looking at the command Netbeans executes (from the output) to run the project and I think it's this:</p>\n\n<pre><code>cd C:\\Users\\Birger\\Workspace\\myproject; \"JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91\" cmd /c \"\\\"\\\"C:\\\\Program Files\\\\NetBeans 8.1\\\\java\\\\maven\\\\bin\\\\mvn.bat\\\" -Dexec.args=\\\"-Djava.library.path=lib\\\\ -classpath %classpath com.mysite.myproject.Main\\\" -Dexec.executable=\\\"C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91\\\\bin\\\\java.exe\\\" -Dmaven.ext.class.path=\\\"C:\\\\Program Files\\\\NetBeans 8.1\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\\" -Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:1.2.1:exec\\\"\"\n</code></pre>\n\n<p>I tried these two commands</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk1.8.0_91\\jre\\bin\\java.exe\" -Djava.library.path=lib\\ -jar myproject-1.0-SNAPSHOT.jar\n\"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe\" -Djava.library.path=lib\\ -jar myproject-1.0-SNAPSHOT.jar\n</code></pre>\n\n<p>I added <code>System.out.println(System.getProperty(\"sun.arch.data.model\"));</code> to get my application to print out the cpu architecture. It prints <code>64</code> in both occasions.</p>\n\n<p>Tried looking into the \"mvn.bat\" file in <code>C:\\Program Files\\NetBeans 8.1\\java\\maven\\bin\\mvn.bat</code> but I couldn't find any clues as to what Maven is doing to run my application.</p>\n\n<p>Can somebody help me on this one?</p>\n\n<p>Birger</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here's the complete source code of my test project. My project's <code>pom.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mysite&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repo&lt;/id&gt;\n            &lt;url&gt;file://${project.basedir}/temp-repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jni4net&lt;/groupId&gt;\n            &lt;artifactId&gt;jni4net.j&lt;/artifactId&gt;\n            &lt;version&gt;0.8.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;\n                                ${project.build.directory}/lib\n                            &lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.mysite.myproject.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                            &lt;resources&gt;          \n                                &lt;resource&gt;\n                                    &lt;directory&gt;lib&lt;/directory&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;              \n                        &lt;/configuration&gt;            \n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>My project's class</p>\n\n<pre><code>package com.mysite.myproject;\n\nimport java.io.File;\nimport java.io.IOException;\nimport net.sf.jni4net.Bridge;\n\npublic class Main {\n\n    static {\n        String libDir = System.getProperty(\"java.library.path\");\n        System.loadLibrary(\"jni4net.n-0.8.8.0\");\n\n        if (System.getProperty(\"sun.arch.data.model\").equals(\"64\")) {\n            System.loadLibrary(\"jni4net.n.w64.v20-0.8.8.0\");\n            System.loadLibrary(\"jni4net.n.w64.v40-0.8.8.0\");\n        } else {\n            System.loadLibrary(\"jni4net.n.w32.v20-0.8.8.0\");\n            System.loadLibrary(\"jni4net.n.w32.v40-0.8.8.0\");\n        }\n\n        try {\n            Bridge.init(new File(libDir));\n            System.out.println(\"Initialized!\");\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        System.out.println(\"Hello world!\");\n    }\n}\n</code></pre>\n\n<p>Netbeans output when running the project (added <code>--debug</code> option for verbose output):</p>\n\n<pre><code>cd C:\\Users\\Birger\\Workspace\\myproject; \"JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91\" cmd /c \"\\\"\\\"C:\\\\Program Files\\\\NetBeans 8.1\\\\java\\\\maven\\\\bin\\\\mvn.bat\\\" -Dexec.args=\\\"-Djava.library.path=lib\\\\ -classpath %classpath com.mysite.myproject.Main\\\" -Dexec.executable=\\\"C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91\\\\bin\\\\java.exe\\\" -Dmaven.ext.class.path=\\\"C:\\\\Program Files\\\\NetBeans 8.1\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\\" -Dfile.encoding=UTF-8 --debug org.codehaus.mojo:exec-maven-plugin:1.2.1:exec\\\"\"\nRunning NetBeans Compile On Save execution. Phase execution is skipped and output directories of dependency projects (with Compile on Save turned on) will be used instead of their jar artifacts.\nC:\\Program Files\\Java\\jdk1.8.0_91\nApache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 14:51:28+0100)\nMaven home: C:\\Program Files\\NetBeans 8.1\\java\\maven\nJava version: 1.8.0_91, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk1.8.0_91\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"dos\"\nPopulating class realm maven.ext\n  Included C:\\Program Files\\NetBeans 8.1\\java\\maven-nblib\\netbeans-eventspy.jar\nError stacktraces are turned on.\nReading global settings from C:\\Program Files\\NetBeans 8.1\\java\\maven\\conf\\settings.xml\nReading user settings from C:\\Users\\Birger\\.m2\\settings.xml\nUsing local repository at C:\\Users\\Birger\\.m2\\repository\nUsing manager EnhancedLocalRepositoryManager with priority 10 for C:\\Users\\Birger\\.m2\\repository\nScanning for projects...\nExtension realms for project com.mysite:myproject:jar:1.0-SNAPSHOT: (none)\nLooking up lifecyle mappings for packaging jar from ClassRealm[maven.ext, parent: ClassRealm[plexus.core, parent: null]]\n=== REACTOR BUILD PLAN ================================================\nProject: com.mysite:myproject:jar:1.0-SNAPSHOT\nTasks:   [org.codehaus.mojo:exec-maven-plugin:1.2.1:exec]\nStyle:   Regular\n=======================================================================\n\n------------------------------------------------------------------------\nBuilding myproject 1.0-SNAPSHOT\n------------------------------------------------------------------------\nLifecycle default -&gt; [validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy]\nLifecycle clean -&gt; [pre-clean, clean, post-clean]\nLifecycle site -&gt; [pre-site, site, post-site, site-deploy]\n=== PROJECT BUILD PLAN ================================================\nProject:       com.mysite:myproject:1.0-SNAPSHOT\nDependencies (collect): []\nDependencies (resolve): [test]\nRepositories (dependencies): [libs-release (http://artifactory.osc.no:8081/artifactory/libs-release/, releases), repo (file://C:\\Users\\Birger\\Workspace\\myproject/temp-repo, releases+snapshots), central (http://repo.maven.apache.org/maven2, releases)]\nRepositories (plugins)     : [libs-release (http://artifactory.osc.no:8081/artifactory/libs-release/, releases), central (http://repo.maven.apache.org/maven2, releases)]\n-----------------------------------------------------------------------\nGoal:          org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli)\nStyle:         Regular\nConfiguration: &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n  &lt;basedir default-value=\"${basedir}\"/&gt;\n  &lt;classpathScope default-value=\"runtime\"&gt;${exec.classpathScope}&lt;/classpathScope&gt;\n  &lt;commandlineArgs&gt;${exec.args}&lt;/commandlineArgs&gt;\n  &lt;executable&gt;${exec.executable}&lt;/executable&gt;\n  &lt;longClasspath default-value=\"false\"&gt;${exec.longClasspath}&lt;/longClasspath&gt;\n  &lt;outputFile&gt;${exec.outputFile}&lt;/outputFile&gt;\n  &lt;project default-value=\"${project}\"/&gt;\n  &lt;session default-value=\"${session}\"/&gt;\n  &lt;skip default-value=\"false\"&gt;${skip}&lt;/skip&gt;\n  &lt;sourceRoot&gt;${sourceRoot}&lt;/sourceRoot&gt;\n  &lt;testSourceRoot&gt;${testSourceRoot}&lt;/testSourceRoot&gt;\n  &lt;workingDirectory&gt;${exec.workingdir}&lt;/workingDirectory&gt;\n&lt;/configuration&gt;\n=======================================================================\ncom.mysite:myproject:jar:1.0-SNAPSHOT\n   jni4net:jni4net.j:jar:0.8.8.0:compile\n\n--- exec-maven-plugin:1.2.1:exec (default-cli) @ myproject ---\nCreated new class realm maven.api\nImporting foreign packages into class realm maven.api\n  Imported: org.apache.maven.cli &lt; maven.ext\n  Imported: org.codehaus.plexus.lifecycle &lt; maven.ext\n  Imported: org.apache.maven.lifecycle &lt; maven.ext\n  Imported: org.apache.maven.repository &lt; maven.ext\n  Imported: org.codehaus.plexus.personality &lt; maven.ext\n  Imported: org.apache.maven.usability &lt; maven.ext\n  Imported: org.codehaus.plexus.configuration &lt; maven.ext\n  Imported: org.sonatype.aether.version &lt; maven.ext\n  Imported: org.sonatype.aether.* &lt; maven.ext\n  Imported: org.sonatype.aether.artifact &lt; maven.ext\n  Imported: org.apache.maven.* &lt; maven.ext\n  Imported: org.apache.maven.project &lt; maven.ext\n  Imported: org.sonatype.aether.repository &lt; maven.ext\n  Imported: org.sonatype.aether.impl &lt; maven.ext\n  Imported: org.apache.maven.exception &lt; maven.ext\n  Imported: org.apache.maven.plugin &lt; maven.ext\n  Imported: org.sonatype.aether.collection &lt; maven.ext\n  Imported: org.codehaus.plexus.* &lt; maven.ext\n  Imported: org.codehaus.plexus.logging &lt; maven.ext\n  Imported: org.apache.maven.profiles &lt; maven.ext\n  Imported: org.sonatype.aether.metadata &lt; maven.ext\n  Imported: org.sonatype.aether.spi &lt; maven.ext\n  Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; maven.ext\n  Imported: org.apache.maven.wagon.* &lt; maven.ext\n  Imported: org.sonatype.aether.graph &lt; maven.ext\n  Imported: org.apache.maven.rtinfo &lt; maven.ext\n  Imported: org.sonatype.aether.installation &lt; maven.ext\n  Imported: org.apache.maven.monitor &lt; maven.ext\n  Imported: org.sonatype.aether.transfer &lt; maven.ext\n  Imported: org.codehaus.plexus.context &lt; maven.ext\n  Imported: org.apache.maven.wagon.observers &lt; maven.ext\n  Imported: org.apache.maven.wagon.resource &lt; maven.ext\n  Imported: org.sonatype.aether.deployment &lt; maven.ext\n  Imported: org.apache.maven.model &lt; maven.ext\n  Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; maven.ext\n  Imported: org.apache.maven.artifact &lt; maven.ext\n  Imported: org.apache.maven.toolchain &lt; maven.ext\n  Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; maven.ext\n  Imported: org.apache.maven.settings &lt; maven.ext\n  Imported: org.apache.maven.wagon.authorization &lt; maven.ext\n  Imported: org.apache.maven.wagon.events &lt; maven.ext\n  Imported: org.apache.maven.wagon.authentication &lt; maven.ext\n  Imported: org.apache.maven.reporting &lt; maven.ext\n  Imported: org.apache.maven.wagon.repository &lt; maven.ext\n  Imported: org.apache.maven.configuration &lt; maven.ext\n  Imported: org.codehaus.plexus.classworlds &lt; maven.ext\n  Imported: org.codehaus.classworlds &lt; maven.ext\n  Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; maven.ext\n  Imported: org.apache.maven.classrealm &lt; maven.ext\n  Imported: org.sonatype.aether.resolution &lt; maven.ext\n  Imported: org.apache.maven.execution &lt; maven.ext\n  Imported: org.apache.maven.wagon.proxy &lt; maven.ext\n  Imported: org.codehaus.plexus.container &lt; maven.ext\n  Imported: org.codehaus.plexus.component &lt; maven.ext\nPopulating class realm maven.api\norg.codehaus.mojo:exec-maven-plugin:jar:1.2.1:\n   org.apache.maven:maven-toolchain:jar:1.0:compile\n   org.apache.maven:maven-project:jar:2.0.6:compile\n      org.apache.maven:maven-settings:jar:2.0.6:compile\n      org.apache.maven:maven-profile:jar:2.0.6:compile\n      org.apache.maven:maven-plugin-registry:jar:2.0.6:compile\n   org.apache.maven:maven-model:jar:2.0.6:compile\n   org.apache.maven:maven-artifact:jar:2.0.6:compile\n   org.apache.maven:maven-artifact-manager:jar:2.0.6:compile\n      org.apache.maven:maven-repository-metadata:jar:2.0.6:compile\n   org.apache.maven:maven-core:jar:2.0.6:compile\n      org.apache.maven:maven-plugin-parameter-documenter:jar:2.0.6:compile\n      org.apache.maven.reporting:maven-reporting-api:jar:2.0.6:compile\n         org.apache.maven.doxia:doxia-sink-api:jar:1.0-alpha-7:compile\n      org.apache.maven:maven-error-diagnostics:jar:2.0.6:compile\n      commons-cli:commons-cli:jar:1.0:compile\n      org.apache.maven:maven-plugin-descriptor:jar:2.0.6:compile\n      org.codehaus.plexus:plexus-interactivity-api:jar:1.0-alpha-4:compile\n      org.apache.maven:maven-monitor:jar:2.0.6:compile\n      classworlds:classworlds:jar:1.1:compile\n   org.apache.maven:maven-plugin-api:jar:2.0.6:compile\n   org.codehaus.plexus:plexus-utils:jar:2.0.5:compile\n   org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9:compile\n      junit:junit:jar:3.8.2:test (scope managed from compile) (version managed from 3.8.1)\n   org.apache.commons:commons-exec:jar:1.1:compile\nCreated new class realm plugin&gt;org.codehaus.mojo:exec-maven-plugin:1.2.1\nImporting foreign packages into class realm plugin&gt;org.codehaus.mojo:exec-maven-plugin:1.2.1\n  Imported:  &lt; maven.api\nPopulating class realm plugin&gt;org.codehaus.mojo:exec-maven-plugin:1.2.1\n  Included: org.codehaus.mojo:exec-maven-plugin:jar:1.2.1\n  Included: org.apache.maven.reporting:maven-reporting-api:jar:2.0.6\n  Included: org.apache.maven.doxia:doxia-sink-api:jar:1.0-alpha-7\n  Included: commons-cli:commons-cli:jar:1.0\n  Included: org.codehaus.plexus:plexus-interactivity-api:jar:1.0-alpha-4\n  Included: org.codehaus.plexus:plexus-utils:jar:2.0.5\n  Included: org.apache.commons:commons-exec:jar:1.1\n  Excluded: org.apache.maven:maven-toolchain:jar:1.0\n  Excluded: org.apache.maven:maven-project:jar:2.0.6\n  Excluded: org.apache.maven:maven-settings:jar:2.0.6\n  Excluded: org.apache.maven:maven-profile:jar:2.0.6\n  Excluded: org.apache.maven:maven-plugin-registry:jar:2.0.6\n  Excluded: org.apache.maven:maven-model:jar:2.0.6\n  Excluded: org.apache.maven:maven-artifact:jar:2.0.6\n  Excluded: org.apache.maven:maven-artifact-manager:jar:2.0.6\n  Excluded: org.apache.maven:maven-repository-metadata:jar:2.0.6\n  Excluded: org.apache.maven:maven-core:jar:2.0.6\n  Excluded: org.apache.maven:maven-plugin-parameter-documenter:jar:2.0.6\n  Excluded: org.apache.maven:maven-error-diagnostics:jar:2.0.6\n  Excluded: org.apache.maven:maven-plugin-descriptor:jar:2.0.6\n  Excluded: org.apache.maven:maven-monitor:jar:2.0.6\n  Excluded: classworlds:classworlds:jar:1.1\n  Excluded: org.apache.maven:maven-plugin-api:jar:2.0.6\n  Excluded: org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9\n  Excluded: junit:junit:jar:3.8.2\nConfiguring mojo org.codehaus.mojo:exec-maven-plugin:1.2.1:exec from plugin realm ClassRealm[plugin&gt;org.codehaus.mojo:exec-maven-plugin:1.2.1, parent: sun.misc.Launcher$AppClassLoader@5c647e05]\nConfiguring mojo 'org.codehaus.mojo:exec-maven-plugin:1.2.1:exec' with basic configurator --&gt;\n  (f) basedir = C:\\Users\\Birger\\Workspace\\myproject\n  (f) classpathScope = runtime\n  (f) commandlineArgs = -Djava.library.path=lib\\ -classpath %classpath com.mysite.myproject.Main\n  (f) executable = C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe\n  (f) longClasspath = false\n  (f) project = MavenProject: com.mysite:myproject:1.0-SNAPSHOT @ C:\\Users\\Birger\\Workspace\\myproject\\pom.xml\n  (f) session = org.apache.maven.execution.MavenSession@2ef14fe\n  (f) skip = false\n-- end configuration --\nCollected project artifacts [jni4net:jni4net.j:jar:0.8.8.0:compile]\nCollected project classpath [C:\\Users\\Birger\\Workspace\\myproject\\target\\classes]\ndealing with jni4net:jni4net.j:jar:0.8.8.0:compile\nToolchains are ignored, 'executable' parameter is set to C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe\nExecuting command line: C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe -Djava.library.path=lib\\ -classpath C:\\Users\\Birger\\Workspace\\myproject\\target\\classes;C:\\Users\\Birger\\.m2\\repository\\jni4net\\jni4net.j\\0.8.8.0\\jni4net.j-0.8.8.0.jar com.mysite.myproject.Main\nInitialized!\nHello world!\n------------------------------------------------------------------------\nBUILD SUCCESS\n------------------------------------------------------------------------\nTotal time: 1.360s\nFinished at: Fri Jul 08 09:26:48 CEST 2016\nFinal Memory: 5M/245M\n------------------------------------------------------------------------\n</code></pre>\n\n<p>Command-line output when trying to run my built .jar</p>\n\n<pre><code>C:\\Users\\Birger\\Workspace\\myproject\\target&gt;\"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java.exe\" -Djava.library.path=lib\\ -jar myproject-1.0-SNAPSHOT.jar\nException in thread \"main\" java.lang.UnsatisfiedLinkError: C:\\Users\\Birger\\Workspace\\myproject\\target\\lib\\jni4net.n-0.8.8.0.dll: Can't load this .dll (machine code=0xbd) on a AMD 64-bit platform\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1857)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n        at java.lang.System.loadLibrary(System.java:1122)\n        at com.mysite.myproject.Main.&lt;clinit&gt;(Main.java:11)\n</code></pre>\n\n<p><strong>EDIT2:</strong></p>\n\n<p>For anyone looking to reproduce this error, jni4net can be found <a href=\"http://jni4net.com/\" rel=\"noreferrer\">here</a>. I installed the .jar with this windows batch file:</p>\n\n<pre><code>set project_dir=YOURPROJECTDIRECTORYHERE\nset proxygen_dir=YOURPROXYGENINSTALLATIONDIRECTORYHERE\nset temp_repo_dir=%project_dir%\\temp-repo\ncall mvn install:install-file -DlocalRepositoryPath=%temp_repo_dir% -DcreateChecksum=true -Dpackaging=jar -Dfile=%proxygen_dir%\\lib\\jni4net.j-0.8.8.0.jar -DgroupId=jni4net -DartifactId=jni4net.j -Dversion=0.8.8.0\n</code></pre>\n\n<p><strong>EDIT3:</strong></p>\n\n<p>I installed 32-bit JVM, and tried running the application with the following command:</p>\n\n<pre><code>\"C:\\Program Files (x86)\\Java\\jre1.8.0_91\\bin\\java.exe\" -Djava.library.path=lib\\ -jar myproject-1.0-SNAPSHOT.jar\n</code></pre>\n\n<p>Now I get:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: C:\\Users\\Birger\\Workspace\\myproject\\target\\lib\\jni4net.n.w32.v20-0.8.8.0.dll: Can't load this .dll (machine code=0xbd) on a IA 32-bit platform\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(Unknown Source)\n    at java.lang.ClassLoader.loadLibrary(Unknown Source)\n    at java.lang.Runtime.loadLibrary0(Unknown Source)\n    at java.lang.System.loadLibrary(Unknown Source)\n    at com.mysite.myproject.Main.&lt;clinit&gt;(Main.java:19)\n</code></pre>\n\n<p>I'm getting quite desperate here (and a little frustrated with Java tbh)</p>\n\n<p><strong>EDIT4:</strong></p>\n\n<p>Tried these commands, also not working:</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java\" -Djava.library.path=lib\\ -classpath C:\\Users\\Birger\\Workspace\\myproject\\target\\classes;C:\\Users\\Birger\\.m2\\repositor‌​y\\jni4net\\jni4net.j\\0.8.8.0\\jni4net.j-0.8.8.0.jar com.mysite.myproject.Main\n\"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java\" -Djava.library.path=lib\\ -classpath classes;C:\\Users\\Birger\\.m2\\repositor‌​y\\jni4net\\jni4net.j\\0.8.8.0\\jni4net.j-0.8.8.0.jar com.mysite.myproject.Main\n\"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\\java\" -Djava.library.path=lib\\ -classpath classes com.mysite.myproject.Main\n</code></pre>\n"},{"tags":["java","sql","postgresql","jpa","spring-data-jpa"],"owner":{"account_id":4737130,"reputation":870,"user_id":3831201,"display_name":"mauronet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681517602,"creation_date":1681517602,"question_id":76019739,"body_markdown":"I&#39;m trying to implement a way to copy massive data from files using SQL COPY command on a JPA existent repository\r\n\r\nRepository Code:\r\n```\r\n@Repository\r\npublic interface MyRepository extends JpaRepository&lt;MyEntity, String&gt; {\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(value = &quot;COPY myschema.mytable FROM :file DELIMITER &#39;,&#39; CSV&quot;, nativeQuery = true)\r\n    void copyDataFromCSVFile(@Param(&quot;file&quot;) String file);\r\n}\r\n```\r\n\r\nUse of repository:\r\n```\r\nmyRepository.copyDataFromCSVFile(file.getAbsolutePath();\r\n```\r\n\r\nBut it generates next exception:\r\n```\r\n2023-04-14 18:43:59.288 DEBUG --- [http-nio-9051-exec-1] org.hibernate.SQL : COPY myschema.mytable FROM ? DELIMITER &#39;,&#39; CSV\r\n2023-04-14 18:43:59.292 TRACE --- [http-nio-9051-exec-1] org.hibernate.type.descriptor.sql.BasicBinder : binding parameter [1] as [VARCHAR] - [/tmp/myfile.csv]\r\n2023-04-14 18:43:59.307 WARN --- [http-nio-9051-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper : SQL Error: 0, SQLState: 42601\r\n2023-04-14 18:43:59.307 ERROR --- [http-nio-9051-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper : ERROR: syntax error at or near &quot;$1&quot;\r\n  Position: 34\r\n2023-04-14 18:43:59.330 ERROR --- [http-nio-9051-exec-1] com.myapp.service.processor.FileProcessor : Errororg.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\r\n```\r\n\r\nI was thinking that probably the issue was related with backslash character, so I tried to escape it (but it doesn&#39;t work either):\r\n```\r\nmyRepository.copyDataFromCSVFile(file.getAbsolutePath().replace(&quot;/&quot;, &quot;//&quot;));\r\n```","title":"It&#39;s possible to use SQL COPY command on Spring Data Repository native query?","body":"<p>I'm trying to implement a way to copy massive data from files using SQL COPY command on a JPA existent repository</p>\n<p>Repository Code:</p>\n<pre><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;MyEntity, String&gt; {\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;COPY myschema.mytable FROM :file DELIMITER ',' CSV&quot;, nativeQuery = true)\n    void copyDataFromCSVFile(@Param(&quot;file&quot;) String file);\n}\n</code></pre>\n<p>Use of repository:</p>\n<pre><code>myRepository.copyDataFromCSVFile(file.getAbsolutePath();\n</code></pre>\n<p>But it generates next exception:</p>\n<pre><code>2023-04-14 18:43:59.288 DEBUG --- [http-nio-9051-exec-1] org.hibernate.SQL : COPY myschema.mytable FROM ? DELIMITER ',' CSV\n2023-04-14 18:43:59.292 TRACE --- [http-nio-9051-exec-1] org.hibernate.type.descriptor.sql.BasicBinder : binding parameter [1] as [VARCHAR] - [/tmp/myfile.csv]\n2023-04-14 18:43:59.307 WARN --- [http-nio-9051-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper : SQL Error: 0, SQLState: 42601\n2023-04-14 18:43:59.307 ERROR --- [http-nio-9051-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper : ERROR: syntax error at or near &quot;$1&quot;\n  Position: 34\n2023-04-14 18:43:59.330 ERROR --- [http-nio-9051-exec-1] com.myapp.service.processor.FileProcessor : Errororg.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\n</code></pre>\n<p>I was thinking that probably the issue was related with backslash character, so I tried to escape it (but it doesn't work either):</p>\n<pre><code>myRepository.copyDataFromCSVFile(file.getAbsolutePath().replace(&quot;/&quot;, &quot;//&quot;));\n</code></pre>\n"},{"tags":["java","eclipse","jsp","jakarta-ee","java-ee-5"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1672910487,"post_id":75015563,"comment_id":132380774,"body_markdown":"The encoding for a new JSP file can be configured in the preferences _Web &gt; JSP Files_. In the _New JSP File_ dialog click _Next_ to choose a template or click the _JSP Templates_ link to go where you can change the template.","body":"The encoding for a new JSP file can be configured in the preferences <i>Web &gt; JSP Files</i>. In the <i>New JSP File</i> dialog click <i>Next</i> to choose a template or click the <i>JSP Templates</i> link to go where you can change the template."},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1672910601,"post_id":75015563,"comment_id":132380817,"body_markdown":"You can post your answer, I will accept it. How to set value for `${encoding}` ?","body":"You can post your answer, I will accept it. How to set value for <code>${encoding}</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672911543,"creation_date":1672911042,"answer_id":75016301,"question_id":75015563,"body_markdown":"In the ***New JSP File* dialog click *Next***\r\n\r\n - to **choose a template** or\r\n - click the ***JSP Templates* link** to go to the preferences *Web &gt; JSP Files &gt; Editor &gt; Templates* where you can **change the template for JSP**.\r\n\r\nBy default, in the JSP templates the variable **`${encoding}`** is used which can be configured in the **preferences *Web &gt; JSP Files***.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CcY8P.png\r\n  [2]: https://i.stack.imgur.com/aZcBI.png\r\n\r\nsample result\r\n\r\n```jsp\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Eclipse IDE 2022-06, how to change template when create new JSP file?","body":"<p>In the <strong><em>New JSP File</em> dialog click <em>Next</em></strong></p>\n<ul>\n<li>to <strong>choose a template</strong> or</li>\n<li>click the <strong><em>JSP Templates</em> link</strong> to go to the preferences <em>Web &gt; JSP Files &gt; Editor &gt; Templates</em> where you can <strong>change the template for JSP</strong>.</li>\n</ul>\n<p>By default, in the JSP templates the variable <strong><code>${encoding}</code></strong> is used which can be configured in the <strong>preferences <em>Web &gt; JSP Files</em></strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/CcY8P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CcY8P.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aZcBI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZcBI.png\" alt=\"enter image description here\" /></a></p>\n<p>sample result</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2769849,"reputation":21,"user_id":2384656,"display_name":"user-jose garcia-2384656"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681517148,"creation_date":1681517148,"answer_id":76019721,"question_id":75015563,"body_markdown":"If you are working in a Dynamic Web Project in eclipse IDE for web development, then click the &quot;Window&quot; menu tab, then &quot;Preferences&quot;, then the Preferences window comes up, then in the navigation column (left), click &quot;Web&quot; &gt; &quot;Editor&quot; &gt; &quot;Templates&quot;. Then, click on the the &quot;New&quot; template you want to change and click the &quot;Edit&quot; button. The window that allows you to change the tags comes up. Make the changes, then click OK, and then click &quot;Apply and Close&quot; and it&#39;s done.\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ufcm7.jpg","title":"Eclipse IDE 2022-06, how to change template when create new JSP file?","body":"<p>If you are working in a Dynamic Web Project in eclipse IDE for web development, then click the &quot;Window&quot; menu tab, then &quot;Preferences&quot;, then the Preferences window comes up, then in the navigation column (left), click &quot;Web&quot; &gt; &quot;Editor&quot; &gt; &quot;Templates&quot;. Then, click on the the &quot;New&quot; template you want to change and click the &quot;Edit&quot; button. The window that allows you to change the tags comes up. Make the changes, then click OK, and then click &quot;Apply and Close&quot; and it's done.\n<a href=\"https://i.stack.imgur.com/ufcm7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ufcm7.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1681517148,"creation_date":1672906849,"question_id":75015563,"body_markdown":"I am using Eclipse IDE 2022-06 , Java/JDK 1.6, Windows 10 pro x64, Spring 2.5.6 .\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI need encoding `UTF-8` by default, not `ISO-8859-1`. I don&#39;t want edit many files, many time manually. How to change template when create new JSP file?\r\n\r\n  [1]: https://i.stack.imgur.com/wN6Lp.png","title":"Eclipse IDE 2022-06, how to change template when create new JSP file?","body":"<p>I am using Eclipse IDE 2022-06 , Java/JDK 1.6, Windows 10 pro x64, Spring 2.5.6 .</p>\n<p><a href=\"https://i.stack.imgur.com/wN6Lp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wN6Lp.png\" alt=\"enter image description here\" /></a></p>\n<p>I need encoding <code>UTF-8</code> by default, not <code>ISO-8859-1</code>. I don't want edit many files, many time manually. How to change template when create new JSP file?</p>\n"},{"tags":["java","spring","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681517524,"post_id":76019696,"comment_id":134074508,"body_markdown":"Refactor your code so that `MyClassHelper` doesn&#39;t extend anything, and has an instance of `MySession` as a field, passed to the `MyClassHelper` constructor. You can mock this instance.","body":"Refactor your code so that <code>MyClassHelper</code> doesn&#39;t extend anything, and has an instance of <code>MySession</code> as a field, passed to the <code>MyClassHelper</code> constructor. You can mock this instance."},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1681569815,"post_id":76019696,"comment_id":134079394,"body_markdown":"It&#39;s kind of legacy code, and a change would require a lot of testing as per the process. That&#39;s why I am looking for a way to mock it. I am not sure why the helper test MySessionTest is not able to mock MySession methods?","body":"It&#39;s kind of legacy code, and a change would require a lot of testing as per the process. That&#39;s why I am looking for a way to mock it. I am not sure why the helper test MySessionTest is not able to mock MySession methods?"}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681516760,"creation_date":1681516760,"question_id":76019696,"body_markdown":"Updating the original question.\r\n\r\nI will put the original code piece and then put in questions.\r\n\r\nClass under test\r\n\r\npackage my.main.class.package;\r\n\r\n    public class MyClassHelper extends MySession {\r\n    \r\n    //Session is an abstract class.\r\n    \r\n    //the method that I want to test\r\n    public PrimaryKey myMethod() throws Exception {\r\n    try{\r\n    //this is a method of Session class\r\n    beginTransaction(TXN_NOT_TIMED);\r\n    \r\n    //doSomething;\r\n    } catch(Exception e) {\r\n    //another method from abstract class.\r\n    rollback();\r\n    }\r\n    }\r\n\r\nCode of abstract class Session. This class is added as dependency in my project, so its in jar file.\r\n\r\n    package my.class.some.other.package;\r\n    \r\n    public abstract class MySession implements Session {\r\n    protected void beginTransaction(boolean timedTransaction) throws SessionException {\r\n            this.getTransactionBeginWork((String)null, true, timedTransaction, false);\r\n        }\r\n    }\r\n\r\n**My issue:**\r\n- I am not able to mock the part of beginTransaction() when writing unit test for MyClassHelper.  *Reason*: beginTransaction() is in another package and is protected and so not visible when trying to unit test MyClassHelper.\r\n\r\n**Failed Solutions as inline comment.**\r\nadded a class in the same package structure of MySession:\r\n\r\n    package my.class.some.other.package\r\n    \r\n    class MySessionTest {\r\n    \r\n    @Mock private MySession session;\r\n    \r\n    public void beginTransaction() throws SessionException {\r\n    doNothing().when(session).beginTransaction(anyBoolean());\r\n    }\r\n    }\r\n\r\nTest class:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyClassHelperTest {\r\n    private MySimpleSessionTest sessionTest = new MySimpleSessionTest();\r\n    @InjectMock private MyClassHelper myClassHelper;\r\n    @Mock MySession sessionMock;\r\n    \r\n    @Test\r\n    public void myTest() {\r\n    \r\n    //one way\r\n    sessionTest.beginTransaction();\r\n    //what happens here is eventhough I did doNothing() in //MySessionTest, it doesn&#39;t mock that method and instead execution //goes inside beginTransaction() of MySession class.\r\n    \r\n    doNothing().when(sessionMock). //here I don&#39;t get the //beginTransaction() option after &quot;.&quot;\r\n    myClassHelper.myMethod();\r\n    }\r\n    }\r\n\r\nThanks!","title":"how to mock a protected method in an abstract class called from BaseClass","body":"<p>Updating the original question.</p>\n<p>I will put the original code piece and then put in questions.</p>\n<p>Class under test</p>\n<p>package my.main.class.package;</p>\n<pre><code>public class MyClassHelper extends MySession {\n\n//Session is an abstract class.\n\n//the method that I want to test\npublic PrimaryKey myMethod() throws Exception {\ntry{\n//this is a method of Session class\nbeginTransaction(TXN_NOT_TIMED);\n\n//doSomething;\n} catch(Exception e) {\n//another method from abstract class.\nrollback();\n}\n}\n</code></pre>\n<p>Code of abstract class Session. This class is added as dependency in my project, so its in jar file.</p>\n<pre><code>package my.class.some.other.package;\n\npublic abstract class MySession implements Session {\nprotected void beginTransaction(boolean timedTransaction) throws SessionException {\n        this.getTransactionBeginWork((String)null, true, timedTransaction, false);\n    }\n}\n</code></pre>\n<p><strong>My issue:</strong></p>\n<ul>\n<li>I am not able to mock the part of beginTransaction() when writing unit test for MyClassHelper.  <em>Reason</em>: beginTransaction() is in another package and is protected and so not visible when trying to unit test MyClassHelper.</li>\n</ul>\n<p><strong>Failed Solutions as inline comment.</strong>\nadded a class in the same package structure of MySession:</p>\n<pre><code>package my.class.some.other.package\n\nclass MySessionTest {\n\n@Mock private MySession session;\n\npublic void beginTransaction() throws SessionException {\ndoNothing().when(session).beginTransaction(anyBoolean());\n}\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyClassHelperTest {\nprivate MySimpleSessionTest sessionTest = new MySimpleSessionTest();\n@InjectMock private MyClassHelper myClassHelper;\n@Mock MySession sessionMock;\n\n@Test\npublic void myTest() {\n\n//one way\nsessionTest.beginTransaction();\n//what happens here is eventhough I did doNothing() in //MySessionTest, it doesn't mock that method and instead execution //goes inside beginTransaction() of MySession class.\n\ndoNothing().when(sessionMock). //here I don't get the //beginTransaction() option after &quot;.&quot;\nmyClassHelper.myMethod();\n}\n}\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","design-patterns","builder"],"comments":[{"owner":{"account_id":1070944,"reputation":8242,"user_id":1070247,"accept_rate":67,"display_name":"Ivo"},"score":1,"creation_date":1328331116,"post_id":9138027,"comment_id":11487124,"body_markdown":"if the implementations of Child1 and Child2 inherits from the same one that also implements Parent, then you can have a parent Builder that has the method `withParentProperty()`","body":"if the implementations of Child1 and Child2 inherits from the same one that also implements Parent, then you can have a parent Builder that has the method <code>withParentProperty()</code>"},{"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"score":0,"creation_date":1328332232,"post_id":9138027,"comment_id":11487214,"body_markdown":"but the parent Builder will return `Parent` references, not the appropriate Child reference, right?","body":"but the parent Builder will return <code>Parent</code> references, not the appropriate Child reference, right?"},{"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"score":1,"creation_date":1328387566,"post_id":9138027,"comment_id":11495824,"body_markdown":"Once you try the implementation you&#39;ll see that it&#39;s more complicated than this and you need something like seh provided below.  If you can demonstrate a simpler implementation I&#39;d love to see it!","body":"Once you try the implementation you&#39;ll see that it&#39;s more complicated than this and you need something like seh provided below.  If you can demonstrate a simpler implementation I&#39;d love to see it!"}],"answers":[{"tags":[],"owner":{"account_id":373237,"reputation":25892,"user_id":722760,"display_name":"Jon Newmuis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1328324478,"creation_date":1328324478,"answer_id":9138047,"question_id":9138027,"body_markdown":"Use generics, as follows:\r\n\r\n    public interface Parent {\r\n        public Long getParentProperty();\r\n    }\r\n    \r\n    public interface Child&lt;T&gt; {\r\n        public T getChildProperty(); \r\n    }\r\n\r\n\r\nThen instead of Child1, use `Child&lt;Integer&gt;` and instead of Child2, use `Child&lt;String&gt;`.","title":"Builder pattern for polymorphic object hierarchy: possible with Java?","body":"<p>Use generics, as follows:</p>\n\n<pre><code>public interface Parent {\n    public Long getParentProperty();\n}\n\npublic interface Child&lt;T&gt; {\n    public T getChildProperty(); \n}\n</code></pre>\n\n<p>Then instead of Child1, use <code>Child&lt;Integer&gt;</code> and instead of Child2, use <code>Child&lt;String&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1681515403,"creation_date":1328332867,"answer_id":9138629,"question_id":9138027,"body_markdown":"The solution I imagine is like the [*Curiously Recurring Template Pattern*][1], or *CRTP*. You can define a base class to handle the parent-related initialization, but you still may find the two boilerplate `getParent()` and `getThis()` methods to be too much repetition in each derived child-related builder class.\r\n\r\nTake a look:\r\n\r\n    abstract class ParentBase implements Parent\r\n    {\r\n      @Override\r\n      public final Long getParentProperty()\r\n      {\r\n          return parentProperty_;\r\n      }\r\n\r\n\r\n      protected void setParentProperty(Long value)\r\n      {\r\n          parentProperty_ = value;\r\n      }\r\n\r\n\r\n      private Long parentProperty_;\r\n    }\r\n\r\n\r\n    abstract class ParentBuilder&lt;T extends ParentBuilder&lt;T&gt;&gt;\r\n    {\r\n      T withParentProperty(Long value)\r\n      {\r\n          getParent().setParentProperty(value);\r\n          return getThis();\r\n      }\r\n\r\n        \r\n      protected abstract ParentBase getParent();\r\n\r\n\r\n      protected abstract T getThis();\r\n    }\r\n\r\n\r\n    final class ConcreteChild1 extends ParentBase implements Child1\r\n    {\r\n      @Override\r\n      public Integer getChild1Property()\r\n      {\r\n          return childProperty_;\r\n      }\r\n\r\n\r\n      public void setChild1Property(Integer value)\r\n      {\r\n          childProperty_ = value;\r\n      }\r\n\r\n\r\n      private Integer childProperty_;\r\n    }\r\n\r\n\r\n    final class Child1Builder extends ParentBuilder&lt;Child1Builder&gt;\r\n    {\r\n      public Child1Builder()\r\n      {\r\n         pending_ = new ConcreteChild1();\r\n      }\r\n\r\n\r\n      public Child1Builder withChild1Property(Integer value)\r\n      {\r\n          pending_.setChild1Property(value);\r\n          return this;\r\n      }\r\n\r\n\r\n      @Override\r\n      protected ParentBase getParent()\r\n      {\r\n          return pending_;\r\n      }\r\n\r\n\r\n      @Override\r\n      protected Child1Builder getThis()\r\n      {\r\n          return this;\r\n      }\r\n\r\n\r\n      private final ConcreteChild1 pending_;\r\n    }\r\n\r\nAs you can see, the `ParentBuilder` type expects to be cooperating with a derived type to allow it to return a properly-typed instance. Its own `this` reference won&#39;t do, because the type of `this` within `ParentBuilder` is, of course, `ParentBuilder`, and not, say, `Child1Builder` as intended to maintain the &quot;fluent&quot; call chaining.\r\n\r\nI owe the &quot;`getThis()` trick&quot; to [Angelika Langer&#39;s tutorial entry][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\r\n  [2]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#What%20is%20the%20getThis%20trick?","title":"Builder pattern for polymorphic object hierarchy: possible with Java?","body":"<p>The solution I imagine is like the <a href=\"http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\"><em>Curiously Recurring Template Pattern</em></a>, or <em>CRTP</em>. You can define a base class to handle the parent-related initialization, but you still may find the two boilerplate <code>getParent()</code> and <code>getThis()</code> methods to be too much repetition in each derived child-related builder class.</p>\n<p>Take a look:</p>\n<pre><code>abstract class ParentBase implements Parent\n{\n  @Override\n  public final Long getParentProperty()\n  {\n      return parentProperty_;\n  }\n\n\n  protected void setParentProperty(Long value)\n  {\n      parentProperty_ = value;\n  }\n\n\n  private Long parentProperty_;\n}\n\n\nabstract class ParentBuilder&lt;T extends ParentBuilder&lt;T&gt;&gt;\n{\n  T withParentProperty(Long value)\n  {\n      getParent().setParentProperty(value);\n      return getThis();\n  }\n\n    \n  protected abstract ParentBase getParent();\n\n\n  protected abstract T getThis();\n}\n\n\nfinal class ConcreteChild1 extends ParentBase implements Child1\n{\n  @Override\n  public Integer getChild1Property()\n  {\n      return childProperty_;\n  }\n\n\n  public void setChild1Property(Integer value)\n  {\n      childProperty_ = value;\n  }\n\n\n  private Integer childProperty_;\n}\n\n\nfinal class Child1Builder extends ParentBuilder&lt;Child1Builder&gt;\n{\n  public Child1Builder()\n  {\n     pending_ = new ConcreteChild1();\n  }\n\n\n  public Child1Builder withChild1Property(Integer value)\n  {\n      pending_.setChild1Property(value);\n      return this;\n  }\n\n\n  @Override\n  protected ParentBase getParent()\n  {\n      return pending_;\n  }\n\n\n  @Override\n  protected Child1Builder getThis()\n  {\n      return this;\n  }\n\n\n  private final ConcreteChild1 pending_;\n}\n</code></pre>\n<p>As you can see, the <code>ParentBuilder</code> type expects to be cooperating with a derived type to allow it to return a properly-typed instance. Its own <code>this</code> reference won't do, because the type of <code>this</code> within <code>ParentBuilder</code> is, of course, <code>ParentBuilder</code>, and not, say, <code>Child1Builder</code> as intended to maintain the &quot;fluent&quot; call chaining.</p>\n<p>I owe the &quot;<code>getThis()</code> trick&quot; to <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#What%20is%20the%20getThis%20trick?\" rel=\"nofollow noreferrer\">Angelika Langer's tutorial entry</a>.</p>\n"},{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328342134,"creation_date":1328342134,"answer_id":9139366,"question_id":9138027,"body_markdown":"maybe like this without builders?:\r\n\r\n    interface P {\r\n    \tpublic Long getParentProperty();\r\n    }\r\n    interface C1 extends P {\r\n    \tpublic Integer getChild1Property();\r\n    }\r\n    interface C2 extends P {\r\n    \tpublic String getChild2PropertyA();\r\n    \tpublic Object getChild2PropertyB();\r\n    }\r\n    abstract class PABC implements P {\r\n    \t@Override public final Long getParentProperty() {\r\n    \t\treturn parentLong;\r\n    \t}\r\n    \tprotected Long parentLong;\r\n    \tprotected PABC setParentProperty(Long value) {\r\n    \t\tparentLong = value;\r\n    \t\treturn this;\r\n    \t}\r\n    }\r\n    final class C1Impl extends PABC implements C1 {\r\n    \tprotected C1Impl setParentProperty(Long value) {\r\n    \t\tsuper.setParentProperty(value);\r\n    \t\treturn this;\r\n    \t}\r\n    \t@Override public Integer getChild1Property() {\r\n    \t\treturn n;\r\n    \t}\r\n    \tpublic C1Impl setChild1Property(Integer value) {\r\n    \t\tn = value;\r\n    \t\treturn this;\r\n    \t}\r\n    \tprivate Integer n;\r\n    }\r\n    final class C2Impl extends PABC implements C2 {\r\n    \tprivate String string;\r\n    \tprivate Object object;\r\n    \r\n    \tprotected C2Impl setParentProperty(Long value) {\r\n    \t\tsuper.setParentProperty(value);\r\n    \t\treturn this;\r\n    \t}\r\n    \t@Override public String getChild2PropertyA() {\r\n    \treturn string;\r\n    \t}\r\n    \r\n    \t@Override public Object getChild2PropertyB() {\r\n    \t\treturn object;\r\n    \t}\r\n    \tC2Impl setChild2PropertyA(String string) {\r\n    \t\tthis.string=string;\r\n    \t\treturn this;\r\n    \t}\r\n    \tC2Impl setChild2PropertyB(Object o) {\r\n    \t\tthis.object=o;\r\n    \t\treturn this;\r\n    \t}\r\n    }\r\n    public class Myso9138027 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tC1Impl c1 = new C1Impl().setChild1Property(5).setParentProperty(10L);\r\n    \t\tC2Impl c2 = new C2Impl().setChild2PropertyA(&quot;Hello&quot;).setParentProperty(10L).setChild2PropertyB(new Object());\r\n    \t}\r\n    }\r\n\r\n","title":"Builder pattern for polymorphic object hierarchy: possible with Java?","body":"<p>maybe like this without builders?:</p>\n\n<pre><code>interface P {\n    public Long getParentProperty();\n}\ninterface C1 extends P {\n    public Integer getChild1Property();\n}\ninterface C2 extends P {\n    public String getChild2PropertyA();\n    public Object getChild2PropertyB();\n}\nabstract class PABC implements P {\n    @Override public final Long getParentProperty() {\n        return parentLong;\n    }\n    protected Long parentLong;\n    protected PABC setParentProperty(Long value) {\n        parentLong = value;\n        return this;\n    }\n}\nfinal class C1Impl extends PABC implements C1 {\n    protected C1Impl setParentProperty(Long value) {\n        super.setParentProperty(value);\n        return this;\n    }\n    @Override public Integer getChild1Property() {\n        return n;\n    }\n    public C1Impl setChild1Property(Integer value) {\n        n = value;\n        return this;\n    }\n    private Integer n;\n}\nfinal class C2Impl extends PABC implements C2 {\n    private String string;\n    private Object object;\n\n    protected C2Impl setParentProperty(Long value) {\n        super.setParentProperty(value);\n        return this;\n    }\n    @Override public String getChild2PropertyA() {\n    return string;\n    }\n\n    @Override public Object getChild2PropertyB() {\n        return object;\n    }\n    C2Impl setChild2PropertyA(String string) {\n        this.string=string;\n        return this;\n    }\n    C2Impl setChild2PropertyB(Object o) {\n        this.object=o;\n        return this;\n    }\n}\npublic class Myso9138027 {\n    public static void main(String[] args) {\n        C1Impl c1 = new C1Impl().setChild1Property(5).setParentProperty(10L);\n        C2Impl c2 = new C2Impl().setChild2PropertyA(\"Hello\").setParentProperty(10L).setChild2PropertyB(new Object());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328415008,"creation_date":1328415008,"answer_id":9146837,"question_id":9138027,"body_markdown":"    package so9138027take2;\r\n    import java.util.*;\r\n    import so9138027take2.C2.Names;\r\n    interface P {\r\n    \tpublic Object getParentProperty(Names name);\r\n    \tenum Names {\r\n    \t\ti(Integer.class), d(Double.class), s(String.class);\r\n    \t\tNames(Class&lt;?&gt; clazz) {\r\n    \t\t\tthis.clazz = clazz;\r\n    \t\t}\r\n    \t\tfinal Class&lt;?&gt; clazz;\r\n    \t}\r\n    }\r\n    interface C1 extends P {\r\n    \tpublic Object getChildProperty(Names name);\r\n    \tenum Names {\r\n    \t\ta(Integer.class), b(Double.class), c(String.class);\r\n    \t\tNames(Class&lt;?&gt; clazz) {\r\n    \t\t\tthis.clazz = clazz;\r\n    \t\t}\r\n    \t\tfinal Class&lt;?&gt; clazz;\r\n    \t}\r\n    }\r\n    interface C2 extends P {\r\n    \tpublic Object getChildProperty(Names name);\r\n    \tenum Names {\r\n    \t\tx(Integer.class), y(Double.class), z(String.class);\r\n    \t\tNames(Class&lt;?&gt; clazz) {\r\n    \t\t\tthis.clazz = clazz;\r\n    \t\t}\r\n    \t\tfinal Class&lt;?&gt; clazz;\r\n    \t}\r\n    }\r\n    abstract class PABCImmutable implements P {\r\n    \tpublic PABCImmutable(PABC parent) {\r\n    \t\tparentNameToValue = Collections.unmodifiableMap(parent.parentNameToValue);\r\n    \t}\r\n    \t@Override public final Object getParentProperty(Names name) {\r\n    \t\treturn parentNameToValue.get(name);\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn parentNameToValue.toString();\r\n    \t}\r\n    \tfinal Map&lt;Names, Object&gt; parentNameToValue;\r\n    }\r\n    abstract class PABC implements P {\r\n    \t@Override public final Object getParentProperty(Names name) {\r\n    \t\treturn parentNameToValue.get(name);\r\n    \t}\r\n    \tprotected PABC setParentProperty(Names name, Object value) {\r\n    \t\tif (name.clazz.isInstance(value)) parentNameToValue.put(name, value);\r\n    \t\telse\r\n    \t\t\tthrow new RuntimeException(&quot;value is not valid for &quot; + name);\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn parentNameToValue.toString();\r\n    \t}\r\n    \tEnumMap&lt;Names, Object&gt; parentNameToValue = new EnumMap&lt;Names, Object&gt;(P.Names.class);\r\n    }\r\n    final class C1Immutable extends PABCImmutable implements C1 {\r\n    \tpublic C1Immutable(C1Impl c1) {\r\n    \t\tsuper(c1);\r\n    \t\tnameToValue =  Collections.unmodifiableMap(c1.nameToValue);\r\n    \t}\r\n    \t@Override public Object getChildProperty(C1.Names name) {\r\n    \t\treturn nameToValue.get(name);\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn super.toString() + nameToValue.toString();\r\n    \t}\r\n    \tfinal Map&lt;C1.Names, Object&gt; nameToValue;\r\n    }\r\n    final class C1Impl extends PABC implements C1 {\r\n    \t@Override public Object getChildProperty(C1.Names name) {\r\n    \t\treturn nameToValue.get(name);\r\n    \t}\r\n    \tpublic Object setChildProperty(C1.Names name, Object value) {\r\n    \t\tif (name.clazz.isInstance(value)) nameToValue.put(name, value);\r\n    \t\telse\r\n    \t\t\tthrow new RuntimeException(&quot;value is not valid for &quot; + name);\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn super.toString() + nameToValue.toString();\r\n    \t}\r\n    \tEnumMap&lt;C1.Names, Object&gt; nameToValue = new EnumMap&lt;C1.Names, Object&gt;(C1.Names.class);\r\n    }\r\n    final class C2Immutable extends PABCImmutable implements C2 {\r\n    \tpublic C2Immutable(C2Impl c2) {\r\n    \t\tsuper(c2);\r\n    \t\tthis.nameToValue = Collections.unmodifiableMap(c2.nameToValue);\r\n    \t}\r\n    \t@Override public Object getChildProperty(C2.Names name) {\r\n    \t\treturn nameToValue.get(name);\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn super.toString() + nameToValue.toString();\r\n    \t}\r\n    \tfinal Map&lt;C2.Names, Object&gt; nameToValue;\r\n    }\r\n    final class C2Impl extends PABC implements C2 {\r\n    \t@Override public Object getChildProperty(C2.Names name) {\r\n    \t\treturn nameToValue.get(name);\r\n    \t}\r\n    \tpublic Object setChildProperty(C2.Names name, Object value) {\r\n    \t\tif (name.clazz.isInstance(value)) {\r\n    \t\t\tnameToValue.put(name, value);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;name=&quot; + name + &quot;, value=&quot; + value);\r\n    \t\t\tthrow new RuntimeException(&quot;value is not valid for &quot; + name);\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn super.toString() + nameToValue.toString();\r\n    \t}\r\n    \tEnumMap&lt;C2.Names, Object&gt; nameToValue = new EnumMap&lt;C2.Names, Object&gt;(C2.Names.class);\r\n    }\r\n    public class So9138027take2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tObject[] parentValues = new Object[] { 1, 2., &quot;foo&quot; };\r\n    \t\tC1Impl c1 = new C1Impl();\r\n    \t\tObject[] c1Values = new Object[] { 3, 4., &quot;bar&quot; };\r\n    \t\tfor (P.Names name : P.Names.values())\r\n    \t\t\tc1.setParentProperty(name, parentValues[name.ordinal()]);\r\n    \t\tfor (C1.Names name : C1.Names.values())\r\n    \t\t\tc1.setChildProperty(name, c1Values[name.ordinal()]);\r\n    \t\tC2Impl c2 = new C2Impl();\r\n    \t\tObject[] c2Values = new Object[] { 5, 6., &quot;baz&quot; };\r\n    \t\tfor (P.Names name : P.Names.values())\r\n    \t\t\tc2.setParentProperty(name, parentValues[name.ordinal()]);\r\n    \t\tfor (C2.Names name : C2.Names.values())\r\n    \t\t\tc2.setChildProperty(name, c2Values[name.ordinal()]);\r\n    \t\tC1 immutableC1 = new C1Immutable(c1);\r\n    \t\tSystem.out.println(&quot;child 1: &quot;+immutableC1);\r\n    \t\tC2 immutableC2 = new C2Immutable(c2);\r\n    \t\tSystem.out.println(&quot;child 2: &quot;+immutableC2);\r\n    \t}\r\n    }\r\n\r\n","title":"Builder pattern for polymorphic object hierarchy: possible with Java?","body":"<pre><code>package so9138027take2;\nimport java.util.*;\nimport so9138027take2.C2.Names;\ninterface P {\n    public Object getParentProperty(Names name);\n    enum Names {\n        i(Integer.class), d(Double.class), s(String.class);\n        Names(Class&lt;?&gt; clazz) {\n            this.clazz = clazz;\n        }\n        final Class&lt;?&gt; clazz;\n    }\n}\ninterface C1 extends P {\n    public Object getChildProperty(Names name);\n    enum Names {\n        a(Integer.class), b(Double.class), c(String.class);\n        Names(Class&lt;?&gt; clazz) {\n            this.clazz = clazz;\n        }\n        final Class&lt;?&gt; clazz;\n    }\n}\ninterface C2 extends P {\n    public Object getChildProperty(Names name);\n    enum Names {\n        x(Integer.class), y(Double.class), z(String.class);\n        Names(Class&lt;?&gt; clazz) {\n            this.clazz = clazz;\n        }\n        final Class&lt;?&gt; clazz;\n    }\n}\nabstract class PABCImmutable implements P {\n    public PABCImmutable(PABC parent) {\n        parentNameToValue = Collections.unmodifiableMap(parent.parentNameToValue);\n    }\n    @Override public final Object getParentProperty(Names name) {\n        return parentNameToValue.get(name);\n    }\n    public String toString() {\n        return parentNameToValue.toString();\n    }\n    final Map&lt;Names, Object&gt; parentNameToValue;\n}\nabstract class PABC implements P {\n    @Override public final Object getParentProperty(Names name) {\n        return parentNameToValue.get(name);\n    }\n    protected PABC setParentProperty(Names name, Object value) {\n        if (name.clazz.isInstance(value)) parentNameToValue.put(name, value);\n        else\n            throw new RuntimeException(\"value is not valid for \" + name);\n        return this;\n    }\n    public String toString() {\n        return parentNameToValue.toString();\n    }\n    EnumMap&lt;Names, Object&gt; parentNameToValue = new EnumMap&lt;Names, Object&gt;(P.Names.class);\n}\nfinal class C1Immutable extends PABCImmutable implements C1 {\n    public C1Immutable(C1Impl c1) {\n        super(c1);\n        nameToValue =  Collections.unmodifiableMap(c1.nameToValue);\n    }\n    @Override public Object getChildProperty(C1.Names name) {\n        return nameToValue.get(name);\n    }\n    public String toString() {\n        return super.toString() + nameToValue.toString();\n    }\n    final Map&lt;C1.Names, Object&gt; nameToValue;\n}\nfinal class C1Impl extends PABC implements C1 {\n    @Override public Object getChildProperty(C1.Names name) {\n        return nameToValue.get(name);\n    }\n    public Object setChildProperty(C1.Names name, Object value) {\n        if (name.clazz.isInstance(value)) nameToValue.put(name, value);\n        else\n            throw new RuntimeException(\"value is not valid for \" + name);\n        return this;\n    }\n    public String toString() {\n        return super.toString() + nameToValue.toString();\n    }\n    EnumMap&lt;C1.Names, Object&gt; nameToValue = new EnumMap&lt;C1.Names, Object&gt;(C1.Names.class);\n}\nfinal class C2Immutable extends PABCImmutable implements C2 {\n    public C2Immutable(C2Impl c2) {\n        super(c2);\n        this.nameToValue = Collections.unmodifiableMap(c2.nameToValue);\n    }\n    @Override public Object getChildProperty(C2.Names name) {\n        return nameToValue.get(name);\n    }\n    public String toString() {\n        return super.toString() + nameToValue.toString();\n    }\n    final Map&lt;C2.Names, Object&gt; nameToValue;\n}\nfinal class C2Impl extends PABC implements C2 {\n    @Override public Object getChildProperty(C2.Names name) {\n        return nameToValue.get(name);\n    }\n    public Object setChildProperty(C2.Names name, Object value) {\n        if (name.clazz.isInstance(value)) {\n            nameToValue.put(name, value);\n        } else {\n            System.out.println(\"name=\" + name + \", value=\" + value);\n            throw new RuntimeException(\"value is not valid for \" + name);\n        }\n        return this;\n    }\n    public String toString() {\n        return super.toString() + nameToValue.toString();\n    }\n    EnumMap&lt;C2.Names, Object&gt; nameToValue = new EnumMap&lt;C2.Names, Object&gt;(C2.Names.class);\n}\npublic class So9138027take2 {\n    public static void main(String[] args) {\n        Object[] parentValues = new Object[] { 1, 2., \"foo\" };\n        C1Impl c1 = new C1Impl();\n        Object[] c1Values = new Object[] { 3, 4., \"bar\" };\n        for (P.Names name : P.Names.values())\n            c1.setParentProperty(name, parentValues[name.ordinal()]);\n        for (C1.Names name : C1.Names.values())\n            c1.setChildProperty(name, c1Values[name.ordinal()]);\n        C2Impl c2 = new C2Impl();\n        Object[] c2Values = new Object[] { 5, 6., \"baz\" };\n        for (P.Names name : P.Names.values())\n            c2.setParentProperty(name, parentValues[name.ordinal()]);\n        for (C2.Names name : C2.Names.values())\n            c2.setChildProperty(name, c2Values[name.ordinal()]);\n        C1 immutableC1 = new C1Immutable(c1);\n        System.out.println(\"child 1: \"+immutableC1);\n        C2 immutableC2 = new C2Immutable(c2);\n        System.out.println(\"child 2: \"+immutableC2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13566,"reputation":48835,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1330385666,"creation_date":1330385666,"answer_id":9474096,"question_id":9138027,"body_markdown":"I don&#39;t think `getParent()` and `getThis()` are necessary, if you&#39;re willing to accept the restriction that the `withXXXProperty()` methods be called from &quot;youngest&quot; to &quot;oldest&quot;:\r\n\r\n\r\n    class Parent\r\n    {\r\n        private final long parentProperty;\r\n\r\n        public long getParentProperty()\r\n        {\r\n            return parentProperty;\r\n        }\r\n\r\n        public static abstract class Builder&lt;T extends Parent&gt;\r\n        {\r\n            private long parentProperty;\r\n\r\n            public Builder&lt;T&gt; withParentProperty( long parentProperty )\r\n            {\r\n                this.parentProperty = parentProperty;\r\n                return this;\r\n            }\r\n\r\n            public abstract T build();\r\n        }\r\n\r\n        public static Builder&lt;?&gt; builder()\r\n        {\r\n            return new Builder&lt;Parent&gt;()\r\n            {\r\n                @Override\r\n                public Parent build()\r\n                {\r\n                    return new Parent(this);\r\n                }\r\n            };\r\n        }\r\n\r\n        protected Parent( Builder&lt;?&gt; builder )\r\n        {\r\n            this.parentProperty = builder.parentProperty;\r\n        }\r\n    }\r\n\r\n    class Child1 extends Parent\r\n    {\r\n        private final int child1Property;\r\n\r\n        public int getChild1Property()\r\n        {\r\n            return child1Property;\r\n        }\r\n\r\n        public static abstract class Builder&lt;T extends Child1&gt; extends Parent.Builder&lt;T&gt;\r\n        {\r\n            private int child1Property;\r\n\r\n            public Builder&lt;T&gt; withChild1Property( int child1Property )\r\n            {\r\n                this.child1Property = child1Property;\r\n                return this;\r\n            }\r\n\r\n            public abstract T build();\r\n        }\r\n\r\n        public static Builder&lt;?&gt; builder()\r\n        {\r\n            return new Builder&lt;Child1&gt;()\r\n            {\r\n                @Override\r\n                public Child1 build()\r\n                {\r\n                    return new Child1(this);\r\n                }\r\n            };\r\n        }\r\n\r\n        protected Child1( Builder&lt;?&gt; builder )\r\n        {\r\n            super(builder);\r\n            this.child1Property = builder.child1Property;\r\n        }\r\n\r\n    }\r\n\r\n    class Child2 extends Parent\r\n    {\r\n\r\n        private final String child2PropertyA;\r\n        private final Object child2PropertyB;\r\n\r\n        public String getChild2PropertyA()\r\n        {\r\n            return child2PropertyA;\r\n        }\r\n\r\n        public Object getChild2PropertyB()\r\n        {\r\n            return child2PropertyB;\r\n        }\r\n\r\n        public static abstract class Builder&lt;T extends Child2&gt; extends Parent.Builder&lt;T&gt;\r\n        {\r\n            private String child2PropertyA;\r\n            private Object child2PropertyB;\r\n\r\n            public Builder&lt;T&gt; withChild2PropertyA( String child2PropertyA )\r\n            {\r\n                this.child2PropertyA = child2PropertyA;\r\n                return this;\r\n            }\r\n\r\n            public Builder&lt;T&gt; withChild2PropertyB( Object child2PropertyB )\r\n            {\r\n                this.child2PropertyB = child2PropertyB;\r\n                return this;\r\n            }\r\n        }\r\n\r\n        public static Builder&lt;?&gt; builder()\r\n        {\r\n            return new Builder&lt;Child2&gt;()\r\n            {\r\n                @Override\r\n                public Child2 build()\r\n                {\r\n                    return new Child2(this);\r\n                }\r\n            };\r\n        }\r\n\r\n        protected Child2( Builder&lt;?&gt; builder )\r\n        {\r\n            super(builder);\r\n            this.child2PropertyA = builder.child2PropertyA;\r\n            this.child2PropertyB = builder.child2PropertyB;\r\n        }\r\n    }\r\n\r\n    class BuilderTest\r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            Child1 child1 = Child1.builder()\r\n                    .withChild1Property(-3)\r\n                    .withParentProperty(5L)\r\n                    .build();\r\n\r\n            Child2 grandchild = Child2.builder()\r\n                    .withChild2PropertyA(&quot;hello&quot;)\r\n                    .withChild2PropertyB(new Object())\r\n                    .withParentProperty(10L)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nThere&#39;s still some boilerplate here: the anonymous concrete `Builder` in each `builder()` method, and the `super()` call in each constructor. (Note: that assumes that every level is designed for further inheritability. If at any point you have a `final` descendant, you can make the builder class concrete and the constructor private.)\r\n\r\nBut I think this version is easier to follow, for the next programmer who comes along and has to maintain your code (no self-referential generics, for starters; a `Builder&lt;X&gt;` builds `Xs`). And IMHO requiring the child properties to be set on the builder before the parent properties is as much an advantage, in terms of consistency, as it is a disadvantage in terms of flexibility.","title":"Builder pattern for polymorphic object hierarchy: possible with Java?","body":"<p>I don't think <code>getParent()</code> and <code>getThis()</code> are necessary, if you're willing to accept the restriction that the <code>withXXXProperty()</code> methods be called from \"youngest\" to \"oldest\":</p>\n\n<pre><code>class Parent\n{\n    private final long parentProperty;\n\n    public long getParentProperty()\n    {\n        return parentProperty;\n    }\n\n    public static abstract class Builder&lt;T extends Parent&gt;\n    {\n        private long parentProperty;\n\n        public Builder&lt;T&gt; withParentProperty( long parentProperty )\n        {\n            this.parentProperty = parentProperty;\n            return this;\n        }\n\n        public abstract T build();\n    }\n\n    public static Builder&lt;?&gt; builder()\n    {\n        return new Builder&lt;Parent&gt;()\n        {\n            @Override\n            public Parent build()\n            {\n                return new Parent(this);\n            }\n        };\n    }\n\n    protected Parent( Builder&lt;?&gt; builder )\n    {\n        this.parentProperty = builder.parentProperty;\n    }\n}\n\nclass Child1 extends Parent\n{\n    private final int child1Property;\n\n    public int getChild1Property()\n    {\n        return child1Property;\n    }\n\n    public static abstract class Builder&lt;T extends Child1&gt; extends Parent.Builder&lt;T&gt;\n    {\n        private int child1Property;\n\n        public Builder&lt;T&gt; withChild1Property( int child1Property )\n        {\n            this.child1Property = child1Property;\n            return this;\n        }\n\n        public abstract T build();\n    }\n\n    public static Builder&lt;?&gt; builder()\n    {\n        return new Builder&lt;Child1&gt;()\n        {\n            @Override\n            public Child1 build()\n            {\n                return new Child1(this);\n            }\n        };\n    }\n\n    protected Child1( Builder&lt;?&gt; builder )\n    {\n        super(builder);\n        this.child1Property = builder.child1Property;\n    }\n\n}\n\nclass Child2 extends Parent\n{\n\n    private final String child2PropertyA;\n    private final Object child2PropertyB;\n\n    public String getChild2PropertyA()\n    {\n        return child2PropertyA;\n    }\n\n    public Object getChild2PropertyB()\n    {\n        return child2PropertyB;\n    }\n\n    public static abstract class Builder&lt;T extends Child2&gt; extends Parent.Builder&lt;T&gt;\n    {\n        private String child2PropertyA;\n        private Object child2PropertyB;\n\n        public Builder&lt;T&gt; withChild2PropertyA( String child2PropertyA )\n        {\n            this.child2PropertyA = child2PropertyA;\n            return this;\n        }\n\n        public Builder&lt;T&gt; withChild2PropertyB( Object child2PropertyB )\n        {\n            this.child2PropertyB = child2PropertyB;\n            return this;\n        }\n    }\n\n    public static Builder&lt;?&gt; builder()\n    {\n        return new Builder&lt;Child2&gt;()\n        {\n            @Override\n            public Child2 build()\n            {\n                return new Child2(this);\n            }\n        };\n    }\n\n    protected Child2( Builder&lt;?&gt; builder )\n    {\n        super(builder);\n        this.child2PropertyA = builder.child2PropertyA;\n        this.child2PropertyB = builder.child2PropertyB;\n    }\n}\n\nclass BuilderTest\n{\n    public static void main( String[] args )\n    {\n        Child1 child1 = Child1.builder()\n                .withChild1Property(-3)\n                .withParentProperty(5L)\n                .build();\n\n        Child2 grandchild = Child2.builder()\n                .withChild2PropertyA(\"hello\")\n                .withChild2PropertyB(new Object())\n                .withParentProperty(10L)\n                .build();\n    }\n}\n</code></pre>\n\n<p>There's still some boilerplate here: the anonymous concrete <code>Builder</code> in each <code>builder()</code> method, and the <code>super()</code> call in each constructor. (Note: that assumes that every level is designed for further inheritability. If at any point you have a <code>final</code> descendant, you can make the builder class concrete and the constructor private.)</p>\n\n<p>But I think this version is easier to follow, for the next programmer who comes along and has to maintain your code (no self-referential generics, for starters; a <code>Builder&lt;X&gt;</code> builds <code>Xs</code>). And IMHO requiring the child properties to be set on the builder before the parent properties is as much an advantage, in terms of consistency, as it is a disadvantage in terms of flexibility.</p>\n"},{"tags":[],"owner":{"account_id":4770516,"reputation":71,"user_id":3855405,"display_name":"punkstarman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551216959,"creation_date":1551216959,"answer_id":54894495,"question_id":9138027,"body_markdown":"Here is a solution that uses generics.\r\n\r\n```java\r\npublic abstract class ParentBuilder&lt;T extends ParentBuilder&lt;T&gt;&gt; {\r\n\tprivate long parentProperty;\r\n\t\r\n\tprotected abstract T self();\r\n\t\r\n\tpublic T withParentProperty(long parentProperty) {\r\n\t\tthis.parentProperty = parentProperty;\r\n\t\treturn self();\r\n\t}\r\n\t\r\n\tprotected static class SimpleParent implements Parent {\r\n\t\tprivate long parentProperty;\r\n\t\t\r\n\t\tpublic SimpleParent(ParentBuilder&lt;?&gt; builder) {\r\n\t\t\tthis.parentProperty = builder.parentProperty;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Long getParentProperty() {\r\n\t\t\treturn parentProperty;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\npublic final class Child1Builder extends ParentBuilder&lt;Child1Builder&gt; {\r\n\tprivate int child1Property;\r\n\r\n\tprivate Child1Builder() {}\r\n\t\r\n\tpublic static Child1Builder newChild1() {\r\n\t\treturn new Child1Builder();\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected Child1Builder self() {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Child1Builder withChild1Property(int child1Property) {\r\n\t\tthis.child1Property = child1Property;\r\n\t\treturn self();\r\n\t}\r\n\r\n\tpublic Child1 build() {\r\n\t\treturn new SimpleChild1(this);\r\n\t}\r\n\t\r\n\tprivate final class SimpleChild1 extends SimpleParent implements Child1 {\r\n\t\tprivate int child1Property;\r\n\r\n\t\tpublic SimpleChild1(Child1Builder builder) {\r\n\t\t\tsuper(builder);\r\n\t\t\tthis.child1Property = builder.child1Property;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Integer getChild1Property() {\r\n\t\t\treturn child1Property;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\npublic final class Child2Builder extends ParentBuilder&lt;Child2Builder&gt; {\r\n\r\n\tprivate String child2propertyA;\r\n\tprivate Object child2propertyB;\r\n\r\n\tprivate Child2Builder() {}\r\n\t\r\n\tpublic static Child2Builder newChild2() {\r\n\t\treturn new Child2Builder();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Child2Builder self() {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Child2Builder withChild2PropertyA(String child2propertyA) {\r\n\t\tthis.child2propertyA = child2propertyA;\r\n\t\treturn self();\r\n\t}\r\n\r\n\tpublic Child2Builder withChild2PropertyB(Object child2propertyB) {\r\n\t\tthis.child2propertyB = child2propertyB;\r\n\t\treturn self();\r\n\t}\r\n\r\n\tpublic Child2 build() {\r\n\t\treturn new SimpleChild2(this);\r\n\t}\r\n\r\n\tprivate static final class SimpleChild2 extends SimpleParent implements Child2 {\r\n\t\tprivate String child2propertyA;\r\n\t\tprivate Object child2propertyB;\r\n\r\n\t\tpublic SimpleChild2(Child2Builder builder) {\r\n\t\t\tsuper(builder);\r\n\t\t\tthis.child2propertyA = builder.child2propertyA;\r\n\t\t\tthis.child2propertyB = builder.child2propertyB;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getChild2PropertyA() {\r\n\t\t\treturn child2propertyA;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Object getChild2PropertyB() {\r\n\t\t\treturn child2propertyB;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nFor larger hierarchies or ones where concrete classes aren&#39;t just at the leaves, it is necessary to extract part of the above concrete builders into an intermediate abstract class. For instance, `Child1Builder` could be split into the following two classes `Child1Builder` and `AbstractChild1Builder`, of which the latter could be extended by yet another child builder.\r\n\r\n```java\r\npublic abstract class AbstractChild1Builder&lt;T extends AbstractChild1Builder&lt;T&gt;&gt; extends ParentBuilder&lt;T&gt; {\r\n\r\n\tprotected int child1Property;\r\n\r\n\tpublic T withChild1Property(int child1Property) {\r\n\t\tthis.child1Property = child1Property;\r\n\t\treturn self();\r\n\t}\r\n\r\n\tprotected final class SimpleChild1 extends SimpleParent implements Child1 {\r\n\t\tprivate int child1Property;\r\n\r\n\t\tpublic SimpleChild1(AbstractChild1Builder&lt;Child1Builder&gt; builder) {\r\n\t\t\tsuper(builder);\r\n\t\t\tthis.child1Property = builder.child1Property;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Integer getChild1Property() {\r\n\t\t\treturn child1Property;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\npublic final class Child1Builder extends AbstractChild1Builder&lt;Child1Builder&gt; {\r\n\tprivate Child1Builder() {}\r\n\t\r\n\tpublic static AbstractChild1Builder&lt;Child1Builder&gt; newChild1() {\r\n\t\treturn new Child1Builder();\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected Child1Builder self() {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Child1 build() {\r\n\t\treturn new SimpleChild1(this);\r\n\t}\t\r\n}\r\n```","title":"Builder pattern for polymorphic object hierarchy: possible with Java?","body":"<p>Here is a solution that uses generics.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class ParentBuilder&lt;T extends ParentBuilder&lt;T&gt;&gt; {\n    private long parentProperty;\n\n    protected abstract T self();\n\n    public T withParentProperty(long parentProperty) {\n        this.parentProperty = parentProperty;\n        return self();\n    }\n\n    protected static class SimpleParent implements Parent {\n        private long parentProperty;\n\n        public SimpleParent(ParentBuilder&lt;?&gt; builder) {\n            this.parentProperty = builder.parentProperty;\n        }\n\n        @Override\n        public Long getParentProperty() {\n            return parentProperty;\n        }\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child1Builder extends ParentBuilder&lt;Child1Builder&gt; {\n    private int child1Property;\n\n    private Child1Builder() {}\n\n    public static Child1Builder newChild1() {\n        return new Child1Builder();\n    }\n\n    @Override\n    protected Child1Builder self() {\n        return this;\n    }\n\n    public Child1Builder withChild1Property(int child1Property) {\n        this.child1Property = child1Property;\n        return self();\n    }\n\n    public Child1 build() {\n        return new SimpleChild1(this);\n    }\n\n    private final class SimpleChild1 extends SimpleParent implements Child1 {\n        private int child1Property;\n\n        public SimpleChild1(Child1Builder builder) {\n            super(builder);\n            this.child1Property = builder.child1Property;\n        }\n\n        @Override\n        public Integer getChild1Property() {\n            return child1Property;\n        }\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child2Builder extends ParentBuilder&lt;Child2Builder&gt; {\n\n    private String child2propertyA;\n    private Object child2propertyB;\n\n    private Child2Builder() {}\n\n    public static Child2Builder newChild2() {\n        return new Child2Builder();\n    }\n\n    @Override\n    protected Child2Builder self() {\n        return this;\n    }\n\n    public Child2Builder withChild2PropertyA(String child2propertyA) {\n        this.child2propertyA = child2propertyA;\n        return self();\n    }\n\n    public Child2Builder withChild2PropertyB(Object child2propertyB) {\n        this.child2propertyB = child2propertyB;\n        return self();\n    }\n\n    public Child2 build() {\n        return new SimpleChild2(this);\n    }\n\n    private static final class SimpleChild2 extends SimpleParent implements Child2 {\n        private String child2propertyA;\n        private Object child2propertyB;\n\n        public SimpleChild2(Child2Builder builder) {\n            super(builder);\n            this.child2propertyA = builder.child2propertyA;\n            this.child2propertyB = builder.child2propertyB;\n        }\n\n        @Override\n        public String getChild2PropertyA() {\n            return child2propertyA;\n        }\n\n        @Override\n        public Object getChild2PropertyB() {\n            return child2propertyB;\n        }\n    }\n}\n</code></pre>\n\n<p>For larger hierarchies or ones where concrete classes aren't just at the leaves, it is necessary to extract part of the above concrete builders into an intermediate abstract class. For instance, <code>Child1Builder</code> could be split into the following two classes <code>Child1Builder</code> and <code>AbstractChild1Builder</code>, of which the latter could be extended by yet another child builder.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractChild1Builder&lt;T extends AbstractChild1Builder&lt;T&gt;&gt; extends ParentBuilder&lt;T&gt; {\n\n    protected int child1Property;\n\n    public T withChild1Property(int child1Property) {\n        this.child1Property = child1Property;\n        return self();\n    }\n\n    protected final class SimpleChild1 extends SimpleParent implements Child1 {\n        private int child1Property;\n\n        public SimpleChild1(AbstractChild1Builder&lt;Child1Builder&gt; builder) {\n            super(builder);\n            this.child1Property = builder.child1Property;\n        }\n\n        @Override\n        public Integer getChild1Property() {\n            return child1Property;\n        }\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class Child1Builder extends AbstractChild1Builder&lt;Child1Builder&gt; {\n    private Child1Builder() {}\n\n    public static AbstractChild1Builder&lt;Child1Builder&gt; newChild1() {\n        return new Child1Builder();\n    }\n\n    @Override\n    protected Child1Builder self() {\n        return this;\n    }\n\n    public Child1 build() {\n        return new SimpleChild1(this);\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16539,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":9138629,"answer_count":6,"score":27,"last_activity_date":1681515403,"creation_date":1328324260,"question_id":9138027,"body_markdown":"I have a hierarchy of interfaces, with `Child` implementing `Parent`.  I would like to work with immutable objects, so I would like to design `Builder` classes that construct these objects conveniently.  However, I have many `Child` interfaces, and I don&#39;t want to repeat the code for building `Parent`s in each type of child builder.\r\n\r\nSo, assume the following definitions:\r\n\r\n    public interface Parent {\r\n        public Long getParentProperty();\r\n    }\r\n    \r\n    public interface Child1 extends Parent {\r\n        public Integer getChild1Property(); \r\n    }\r\n\r\n    public interface Child2 extends Parent {\r\n        public String getChild2PropertyA();\r\n        public Object getChild2PropertyB();\r\n    }\r\n\r\n\r\nHow can I efficiently implement builders `Child1Builder` and `Child2Builder`? They should  support operation like:\r\n\r\n    Child1 child1 = Child1Builder.newChild1().withChild1Property(5).withParentProperty(10L);\r\n\r\nand\r\n\r\n    Child2 child2 = Child2Builder.newChild2().withChild2PropertyA(&quot;Hello&quot;).withParentProperty(10L).withChild2PropertyB(new Object());\r\n\r\n\r\nI don&#39;t want to implement a special case of `withParentProperty` for each child builder.\r\n\r\nEdited to add second property to `Child2` to clarify that this cannot be done with simple generics.  I am not looking for a way to combine `Child1` and `Child2` - I am looking for a way to implement a `Builder` system that does not duplicate the work of building the parent class for every child class.\r\n\r\nThanks for any help!","title":"Builder pattern for polymorphic object hierarchy: possible with Java?","body":"<p>I have a hierarchy of interfaces, with <code>Child</code> implementing <code>Parent</code>.  I would like to work with immutable objects, so I would like to design <code>Builder</code> classes that construct these objects conveniently.  However, I have many <code>Child</code> interfaces, and I don't want to repeat the code for building <code>Parent</code>s in each type of child builder.</p>\n\n<p>So, assume the following definitions:</p>\n\n<pre><code>public interface Parent {\n    public Long getParentProperty();\n}\n\npublic interface Child1 extends Parent {\n    public Integer getChild1Property(); \n}\n\npublic interface Child2 extends Parent {\n    public String getChild2PropertyA();\n    public Object getChild2PropertyB();\n}\n</code></pre>\n\n<p>How can I efficiently implement builders <code>Child1Builder</code> and <code>Child2Builder</code>? They should  support operation like:</p>\n\n<pre><code>Child1 child1 = Child1Builder.newChild1().withChild1Property(5).withParentProperty(10L);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Child2 child2 = Child2Builder.newChild2().withChild2PropertyA(\"Hello\").withParentProperty(10L).withChild2PropertyB(new Object());\n</code></pre>\n\n<p>I don't want to implement a special case of <code>withParentProperty</code> for each child builder.</p>\n\n<p>Edited to add second property to <code>Child2</code> to clarify that this cannot be done with simple generics.  I am not looking for a way to combine <code>Child1</code> and <code>Child2</code> - I am looking for a way to implement a <code>Builder</code> system that does not duplicate the work of building the parent class for every child class.</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["java","swing","colors","label"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1681515309,"post_id":76019603,"comment_id":134074323,"body_markdown":"It&#39;s because you&#39;re replacing `&lt;` and `&gt;` with HTML escapes. Remove `.replaceAll(&quot;&lt;&quot;,&quot;&amp;lt;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;)` if you don&#39;t want that.","body":"It&#39;s because you&#39;re replacing <code>&lt;</code> and <code>&gt;</code> with HTML escapes. Remove <code>.replaceAll(&quot;&lt;&quot;,&quot;&amp;lt;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;)</code> if you don&#39;t want that."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681515947,"post_id":76019603,"comment_id":134074370,"body_markdown":"`new JLabel(&quot;&lt;html&gt;&lt;font color=red&gt;Test&lt;/font&gt;&lt;/html&gt;&quot;);` works fine for me.  I&#39;m scratching my head over `myArrayList.get(i).replaceAll(&quot;&lt;&quot;,&quot;&amp;lt;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;)` though, replacing `&lt;` with `&amp;lt;` will make the render engine render the `&lt;` character instead of treating as code element","body":"<code>new JLabel(&quot;&lt;html&gt;&lt;font color=red&gt;Test&lt;&#47;font&gt;&lt;&#47;html&gt;&quot;);</code> works fine for me.  I&#39;m scratching my head over <code>myArrayList.get(i).replaceAll(&quot;&lt;&quot;,&quot;&amp;lt;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;)</code> though, replacing <code>&lt;</code> with <code>&amp;lt;</code> will make the render engine render the <code>&lt;</code> character instead of treating as code element"}],"owner":{"account_id":26914658,"reputation":11,"user_id":20489654,"display_name":"Andrea Mancini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681515309,"creation_date":1681514920,"question_id":76019603,"body_markdown":"I&#39;m trying to color some words in a JLabel.\r\n\r\nNote: i&#39;m not putting &lt;&gt; in non-code parts due to the site not displaying it, but i put it in the code.\r\n\r\nIf the &quot;myArrayList.get(i)&quot; text is &quot;Test\\n test\\n&quot; and i go like this\r\n\r\n```\r\nString s = &quot;&lt;font color = red&gt;test&lt;/font&gt;&quot;;\r\nmyLabel.setText(&quot;&lt;html&gt;&quot; + s + myArrayList.get(i).replaceAll(&quot;&lt;&quot;,&quot;&amp;lt;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;).replaceAll(&quot;\\n&quot;, &quot;&lt;br/&gt;&quot;) + &quot;&lt;/html&gt;&quot;);\r\n```\r\nThe s text gets colored, as it should.\r\n\r\nBut if i pass &quot;myArrayList.get(i)&quot; containing the &quot;font color = red&quot; + &quot;Test\\n test\\n&quot; + &quot;/font&quot; and i go again\r\n\r\n```\r\nmyLabel.setText(&quot;&lt;html&gt;&quot; + myArrayList.get(i).replaceAll(&quot;&lt;&quot;,&quot;&amp;lt;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;).replaceAll(&quot;\\n&quot;, &quot;&lt;br/&gt;&quot;) + &quot;&lt;/html&gt;&quot;);\r\n```\r\nIt displays the &quot;font color = red&quot; and &quot;/font&quot; part, without coloring the text.","title":"Why &lt;font&gt; does not work with java swing?","body":"<p>I'm trying to color some words in a JLabel.</p>\n<p>Note: i'm not putting &lt;&gt; in non-code parts due to the site not displaying it, but i put it in the code.</p>\n<p>If the &quot;myArrayList.get(i)&quot; text is &quot;Test\\n test\\n&quot; and i go like this</p>\n<pre><code>String s = &quot;&lt;font color = red&gt;test&lt;/font&gt;&quot;;\nmyLabel.setText(&quot;&lt;html&gt;&quot; + s + myArrayList.get(i).replaceAll(&quot;&lt;&quot;,&quot;&amp;lt;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;).replaceAll(&quot;\\n&quot;, &quot;&lt;br/&gt;&quot;) + &quot;&lt;/html&gt;&quot;);\n</code></pre>\n<p>The s text gets colored, as it should.</p>\n<p>But if i pass &quot;myArrayList.get(i)&quot; containing the &quot;font color = red&quot; + &quot;Test\\n test\\n&quot; + &quot;/font&quot; and i go again</p>\n<pre><code>myLabel.setText(&quot;&lt;html&gt;&quot; + myArrayList.get(i).replaceAll(&quot;&lt;&quot;,&quot;&amp;lt;&quot;).replaceAll(&quot;&gt;&quot;, &quot;&amp;gt;&quot;).replaceAll(&quot;\\n&quot;, &quot;&lt;br/&gt;&quot;) + &quot;&lt;/html&gt;&quot;);\n</code></pre>\n<p>It displays the &quot;font color = red&quot; and &quot;/font&quot; part, without coloring the text.</p>\n"},{"tags":["java","google-cloud-platform","cloud-document-ai"],"answers":[{"tags":[],"owner":{"account_id":14061520,"reputation":400,"user_id":10157465,"display_name":"Noe Romero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596237323,"creation_date":1596234805,"answer_id":63199906,"question_id":63171546,"body_markdown":"According to your code snippet, you&#39;re only setting the &quot;x&quot; coordinate for the normalized vertex coordinates; however, it is necessary to set [&quot;x, y&quot; coordinates][1] to specify the polygon. As reference, you could take a look at the [Node.js sample][2] and [Python example][3].\r\n\r\nChecking the [Client Library for Java][4], it also has a method to set the &quot;y&quot; coordinate.\r\n\r\n    public Builder setY(float value) {\r\n      y_ = value;\r\n      onChanged();\r\n      return this;\r\n    }\r\n\r\nBased on that, the code should look like:\r\n\r\n\r\n\r\n    TableBoundHint tableBoundHints = TableBoundHint.newBuilder()\r\n                        .setBoundingBox(BoundingPoly.newBuilder()\r\n    //                   top left\r\n                        .addNormalizedVertices(NormalizedVertex.newBuilder().setX(0).setY(0).build())\r\n    //                   top right\r\n                        .addNormalizedVertices(NormalizedVertex.newBuilder().setX(1).setY(0).build())\r\n    //                   bottom right\r\n                        .addNormalizedVertices(NormalizedVertex.newBuilder().setX(1).setY(0.25f).build())\r\n    //                   bottom left\r\n                        .addNormalizedVertices(NormalizedVertex.newBuilder().setX(0).setY(0.25f).build()).build())\r\n                        .setPageNumber(1)\r\n                        .build();\r\n\r\n\r\nOn the other hand, the Document AI API is based on Machine Learning models and approach problems statistically and it cannot be guaranteed that the results are going to be perfectly accurate, nevertheless it is continuously improving.\r\n\r\nAs you mentioned this feature is in a Beta stage and might change or have limited support. For more information, see [the product launch stages][5]. \r\n\r\n\r\n  [1]: https://cloud.google.com/document-ai/docs/reference/rest/v1beta2/BoundingPoly#NormalizedVertex\r\n  [2]: https://cloud.google.com/document-ai/docs/process-tables#documentai_parse_table-nodejs\r\n  [3]: https://cloud.google.com/document-ai/docs/process-tables#documentai_parse_table-python\r\n  [4]: https://github.com/googleapis/java-document-ai/blob/d24967a7022b046a549b78280561ac989913e519/proto-google-cloud-document-ai-v1beta2/src/main/java/com/google/cloud/documentai/v1beta2/NormalizedVertex.java\r\n  [5]: https://cloud.google.com/products#product-launch-stages\r\n\r\n","title":"TableBoundHints in Google Cloud Document AI not working","body":"<p>According to your code snippet, you're only setting the &quot;x&quot; coordinate for the normalized vertex coordinates; however, it is necessary to set <a href=\"https://cloud.google.com/document-ai/docs/reference/rest/v1beta2/BoundingPoly#NormalizedVertex\" rel=\"nofollow noreferrer\">&quot;x, y&quot; coordinates</a> to specify the polygon. As reference, you could take a look at the <a href=\"https://cloud.google.com/document-ai/docs/process-tables#documentai_parse_table-nodejs\" rel=\"nofollow noreferrer\">Node.js sample</a> and <a href=\"https://cloud.google.com/document-ai/docs/process-tables#documentai_parse_table-python\" rel=\"nofollow noreferrer\">Python example</a>.</p>\n<p>Checking the <a href=\"https://github.com/googleapis/java-document-ai/blob/d24967a7022b046a549b78280561ac989913e519/proto-google-cloud-document-ai-v1beta2/src/main/java/com/google/cloud/documentai/v1beta2/NormalizedVertex.java\" rel=\"nofollow noreferrer\">Client Library for Java</a>, it also has a method to set the &quot;y&quot; coordinate.</p>\n<pre><code>public Builder setY(float value) {\n  y_ = value;\n  onChanged();\n  return this;\n}\n</code></pre>\n<p>Based on that, the code should look like:</p>\n<pre><code>TableBoundHint tableBoundHints = TableBoundHint.newBuilder()\n                    .setBoundingBox(BoundingPoly.newBuilder()\n//                   top left\n                    .addNormalizedVertices(NormalizedVertex.newBuilder().setX(0).setY(0).build())\n//                   top right\n                    .addNormalizedVertices(NormalizedVertex.newBuilder().setX(1).setY(0).build())\n//                   bottom right\n                    .addNormalizedVertices(NormalizedVertex.newBuilder().setX(1).setY(0.25f).build())\n//                   bottom left\n                    .addNormalizedVertices(NormalizedVertex.newBuilder().setX(0).setY(0.25f).build()).build())\n                    .setPageNumber(1)\n                    .build();\n</code></pre>\n<p>On the other hand, the Document AI API is based on Machine Learning models and approach problems statistically and it cannot be guaranteed that the results are going to be perfectly accurate, nevertheless it is continuously improving.</p>\n<p>As you mentioned this feature is in a Beta stage and might change or have limited support. For more information, see <a href=\"https://cloud.google.com/products#product-launch-stages\" rel=\"nofollow noreferrer\">the product launch stages</a>.</p>\n"},{"tags":[],"owner":{"account_id":8268323,"reputation":1936,"user_id":6216983,"display_name":"Holt Skinner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680037055,"creation_date":1659474625,"answer_id":73213854,"question_id":63171546,"body_markdown":"FYI, there is an actively monitored tag for Document AI [cloud-document-ai]\r\n\r\n---\r\n\r\nDocument AI became Generally Available in 2021, and the `v1` API was released. The API behavior and output has changed significantly between `v1beta2` and the current GA version `v1`. It&#39;s recommended to use the [`v1` API][0] for all activity going forward.\r\n\r\n`TableBoundHint` is no longer supported in the GA version.\r\n\r\nThe [Form Parser][1] is designed for recognizing form fields as key-value pairs and tables in documents. The documentation has been recently updated to show how to handle the processing response from the Form Parser to recognize Tables in the document.\r\n\r\nhttps://cloud.google.com/document-ai/docs/handle-response#forms_and_tables\r\n\r\n[0]: https://cloud.google.com/document-ai/docs/reference/rest\r\n[1]: https://cloud.google.com/document-ai/docs/processors-list#processor_form-parser","title":"TableBoundHints in Google Cloud Document AI not working","body":"<p>FYI, there is an actively monitored tag for Document AI [cloud-document-ai]</p>\n<hr />\n<p>Document AI became Generally Available in 2021, and the <code>v1</code> API was released. The API behavior and output has changed significantly between <code>v1beta2</code> and the current GA version <code>v1</code>. It's recommended to use the <a href=\"https://cloud.google.com/document-ai/docs/reference/rest\" rel=\"nofollow noreferrer\"><code>v1</code> API</a> for all activity going forward.</p>\n<p><code>TableBoundHint</code> is no longer supported in the GA version.</p>\n<p>The <a href=\"https://cloud.google.com/document-ai/docs/processors-list#processor_form-parser\" rel=\"nofollow noreferrer\">Form Parser</a> is designed for recognizing form fields as key-value pairs and tables in documents. The documentation has been recently updated to show how to handle the processing response from the Form Parser to recognize Tables in the document.</p>\n<p><a href=\"https://cloud.google.com/document-ai/docs/handle-response#forms_and_tables\" rel=\"nofollow noreferrer\">https://cloud.google.com/document-ai/docs/handle-response#forms_and_tables</a></p>\n"}],"owner":{"account_id":19191852,"reputation":11,"user_id":14021442,"display_name":"Pankaj Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681513586,"creation_date":1596106119,"question_id":63171546,"body_markdown":"I am trying to give a hint in Document AI to get table only in specific area. but it is not working.\r\n\r\n    TableBoundHint tableBoundHints = TableBoundHint.newBuilder()\r\n    \t\t\t\t\t.setBoundingBox(BoundingPoly.newBuilder()\r\n    //\t\t\t\t\t top left\r\n    \t\t\t\t\t.addNormalizedVertices(NormalizedVertex.newBuilder().setX(0).setX(0).build())\r\n    //\t\t\t\t\t top right\r\n    \t\t\t\t\t.addNormalizedVertices(NormalizedVertex.newBuilder().setX(1).setX(0).build())\r\n    //\t\t\t\t\t bottom right\r\n    \t\t\t\t\t.addNormalizedVertices(NormalizedVertex.newBuilder().setX(1).setX(0.25f).build())\r\n    //\t\t\t\t\t bottom left\r\n    \t\t\t\t\t.addNormalizedVertices(NormalizedVertex.newBuilder().setX(0).setX(0.25f).build()).build())\r\n    \t\t\t\t\t.setPageNumber(1)\r\n    \t\t\t\t\t.build();\r\n\r\nAm I doing it wrong or since it is in beta phase so it is not working?","title":"TableBoundHints in Google Cloud Document AI not working","body":"<p>I am trying to give a hint in Document AI to get table only in specific area. but it is not working.</p>\n<pre><code>TableBoundHint tableBoundHints = TableBoundHint.newBuilder()\n                    .setBoundingBox(BoundingPoly.newBuilder()\n//                   top left\n                    .addNormalizedVertices(NormalizedVertex.newBuilder().setX(0).setX(0).build())\n//                   top right\n                    .addNormalizedVertices(NormalizedVertex.newBuilder().setX(1).setX(0).build())\n//                   bottom right\n                    .addNormalizedVertices(NormalizedVertex.newBuilder().setX(1).setX(0.25f).build())\n//                   bottom left\n                    .addNormalizedVertices(NormalizedVertex.newBuilder().setX(0).setX(0.25f).build()).build())\n                    .setPageNumber(1)\n                    .build();\n</code></pre>\n<p>Am I doing it wrong or since it is in beta phase so it is not working?</p>\n"},{"tags":["java","maven","dependencies","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":26565189,"reputation":1,"user_id":20192366,"display_name":"EmirCGN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681512937,"creation_date":1681512937,"answer_id":76019469,"question_id":76018143,"body_markdown":"I simply added a compiler which fixed the problem\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;main.java.de.emir.main.Main&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Error: Main class cannot be initialized Cause: java.long.NoClassDefFoundError: net/dv8tion/jda/api/EmbedBuilder","body":"<p>I simply added a compiler which fixed the problem</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;main.java.de.emir.main.Main&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":26565189,"reputation":1,"user_id":20192366,"display_name":"EmirCGN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681512937,"creation_date":1681498380,"question_id":76018143,"body_markdown":"when I wanted to update my bot I got exactly this error message as it says in the title `&#39;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/JDABuilder&#39;` and I really have no idea what could be so big the error right now, because I didn&#39;t get an error message anywhere in a class and I don&#39;t really know where that problem could be except in the pom.xml, so I wanted to ask for help.\r\n\r\nThis is my pom.xml: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;GamerSucht&lt;/groupId&gt;\r\n        &lt;artifactId&gt;GamerSucht&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;9&lt;/source&gt;\r\n                        &lt;target&gt;9&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jcenter&lt;/id&gt;\r\n                &lt;name&gt;jcenter-bintray&lt;/name&gt;\r\n                &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\r\n                &lt;artifactId&gt;JDA&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.0_247&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;club.minnced&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;opus-java&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.32&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.40.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.oshi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;oshi-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n                &lt;version&gt;5.12.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n                &lt;version&gt;5.12.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sedmelluq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lavaplayer&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.63&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google&lt;/groupId&gt;\r\n                &lt;artifactId&gt;google&lt;/artifactId&gt;\r\n                &lt;version&gt;5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;31.1-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jda-utilities&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.5&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.rethinkdb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rethinkdb-driver&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/net.jodah/expiringmap --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.jodah&lt;/groupId&gt;\r\n                &lt;artifactId&gt;expiringmap&lt;/artifactId&gt;\r\n                &lt;version&gt;0.5.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n                &lt;version&gt;0.10.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;GamerSucht&lt;/groupId&gt;\r\n                &lt;artifactId&gt;GamerSucht&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nI have tried to update the dependencies but still get the same error message","title":"Error: Main class cannot be initialized Cause: java.long.NoClassDefFoundError: net/dv8tion/jda/api/EmbedBuilder","body":"<p>when I wanted to update my bot I got exactly this error message as it says in the title <code>'Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/JDABuilder'</code> and I really have no idea what could be so big the error right now, because I didn't get an error message anywhere in a class and I don't really know where that problem could be except in the pom.xml, so I wanted to ask for help.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;GamerSucht&lt;/groupId&gt;\n    &lt;artifactId&gt;GamerSucht&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;9&lt;/source&gt;\n                    &lt;target&gt;9&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jcenter&lt;/id&gt;\n            &lt;name&gt;jcenter-bintray&lt;/name&gt;\n            &lt;url&gt;https://jcenter.bintray.com&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0_247&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;club.minnced&lt;/groupId&gt;\n                    &lt;artifactId&gt;opus-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.40.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.oshi&lt;/groupId&gt;\n            &lt;artifactId&gt;oshi-core&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n            &lt;version&gt;5.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\n            &lt;version&gt;5.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sedmelluq&lt;/groupId&gt;\n            &lt;artifactId&gt;lavaplayer&lt;/artifactId&gt;\n            &lt;version&gt;1.3.63&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google&lt;/groupId&gt;\n            &lt;artifactId&gt;google&lt;/artifactId&gt;\n            &lt;version&gt;5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jagrosh&lt;/groupId&gt;\n            &lt;artifactId&gt;jda-utilities&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.rethinkdb&lt;/groupId&gt;\n            &lt;artifactId&gt;rethinkdb-driver&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.jodah/expiringmap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.jodah&lt;/groupId&gt;\n            &lt;artifactId&gt;expiringmap&lt;/artifactId&gt;\n            &lt;version&gt;0.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n            &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n            &lt;version&gt;0.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;GamerSucht&lt;/groupId&gt;\n            &lt;artifactId&gt;GamerSucht&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have tried to update the dependencies but still get the same error message</p>\n"},{"tags":["java","xml","eclipse","testng","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":3726819,"reputation":3176,"user_id":3100494,"accept_rate":85,"display_name":"J-Dizzle"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1493956911,"creation_date":1397670434,"answer_id":23116557,"question_id":23116556,"body_markdown":"**It turns out you just have to make sure your project is a Java Project**, and not a Simple project. **Check that the *navigator* shows a little blue &#39;J&#39;** associated with the folder. If not, then you have created a Simple project.\r\n\r\n&quot;It would appear that the project you created is not Java project.\r\n\r\nEclipse auto-builds the .java file to .class files for all .java files\r\ncontained in a Java project.\r\n\r\nTo create a Java project\r\nFile&gt;New&gt;Project&gt;Java Project\r\nGive the project a name. Click Finish&quot;\r\n\r\nFound this answer hidden deep in [this source](http://www.eclipse.org/forums/index.php?t=msg&amp;th=54820/). \r\n\r\nIn eclipse you should be using Navigator and not Package explorer, as navigator is browsing the actual filesystem, where package explorer is loading certain things only. In the future hopefully people can find the solution more easily.","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p><strong>It turns out you just have to make sure your project is a Java Project</strong>, and not a Simple project. <strong>Check that the <em>navigator</em> shows a little blue 'J'</strong> associated with the folder. If not, then you have created a Simple project.</p>\n\n<p>\"It would appear that the project you created is not Java project.</p>\n\n<p>Eclipse auto-builds the .java file to .class files for all .java files\ncontained in a Java project.</p>\n\n<p>To create a Java project\nFile>New>Project>Java Project\nGive the project a name. Click Finish\"</p>\n\n<p>Found this answer hidden deep in <a href=\"http://www.eclipse.org/forums/index.php?t=msg&amp;th=54820/\" rel=\"noreferrer\">this source</a>. </p>\n\n<p>In eclipse you should be using Navigator and not Package explorer, as navigator is browsing the actual filesystem, where package explorer is loading certain things only. In the future hopefully people can find the solution more easily.</p>\n"},{"tags":[],"owner":{"account_id":913756,"reputation":973,"user_id":1366617,"accept_rate":71,"display_name":"yousafsajjad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424453403,"creation_date":1424453403,"answer_id":28634824,"question_id":23116556,"body_markdown":"If its an existing project, you must have classpath and project file in project root folder to make it java project.\r\n\r\nSample:\r\n\r\n    &lt;!--classpath --&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/resources&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry exported=&quot;true&quot; kind=&quot;con&quot; path=&quot;GROOVY_DSL_SUPPORT&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\r\n&lt;/classpath&gt;\r\n\r\n\r\n    &lt;!-- .project  --&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;projectDescription&gt;\r\n\t&lt;name&gt;testProject&lt;/name&gt;\r\n\t&lt;comment&gt;&lt;/comment&gt;\r\n\t&lt;projects&gt;\r\n\t&lt;/projects&gt;\r\n\t&lt;buildSpec&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t&lt;/buildSpec&gt;\r\n\t&lt;natures&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.groovy.core.groovyNature&lt;/nature&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\r\n\t&lt;/natures&gt;\r\n&lt;/projectDescription&gt;\r\n\r\n\r\n\r\n","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>If its an existing project, you must have classpath and project file in project root folder to make it java project.</p>\n\n<p>Sample:</p>\n\n<pre><code>&lt;!--classpath --&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n&lt;classpathentry kind=\"src\" output=\"target/classes\" path=\"src/main/java\"&gt;\n    &lt;attributes&gt;\n        &lt;attribute name=\"optional\" value=\"true\"/&gt;\n        &lt;attribute name=\"maven.pomderived\" value=\"true\"/&gt;\n    &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n&lt;classpathentry kind=\"src\" output=\"target/test-classes\" path=\"src/test/java\"&gt;\n    &lt;attributes&gt;\n        &lt;attribute name=\"optional\" value=\"true\"/&gt;\n        &lt;attribute name=\"maven.pomderived\" value=\"true\"/&gt;\n    &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n&lt;classpathentry excluding=\"**\" kind=\"src\" output=\"target/test-classes\" path=\"src/test/resources\"&gt;\n    &lt;attributes&gt;\n        &lt;attribute name=\"maven.pomderived\" value=\"true\"/&gt;\n    &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n&lt;classpathentry kind=\"con\" path=\"org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER\"&gt;\n    &lt;attributes&gt;\n        &lt;attribute name=\"maven.pomderived\" value=\"true\"/&gt;\n    &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n&lt;classpathentry exported=\"true\" kind=\"con\" path=\"GROOVY_DSL_SUPPORT\"/&gt;\n&lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.6\"&gt;\n    &lt;attributes&gt;\n        &lt;attribute name=\"maven.pomderived\" value=\"true\"/&gt;\n    &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n&lt;classpathentry kind=\"output\" path=\"target/classes\"/&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;!-- .project  --&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;projectDescription&gt;\n&lt;name&gt;testProject&lt;/name&gt;\n&lt;comment&gt;&lt;/comment&gt;\n&lt;projects&gt;\n&lt;/projects&gt;\n&lt;buildSpec&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n&lt;/buildSpec&gt;\n&lt;natures&gt;\n    &lt;nature&gt;org.eclipse.jdt.groovy.core.groovyNature&lt;/nature&gt;\n    &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n&lt;/natures&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":3760574,"reputation":497,"user_id":3125700,"display_name":"Hridaynath"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1458626739,"creation_date":1458625466,"answer_id":36146974,"question_id":23116556,"body_markdown":"I have faced the same problem while I was working with raspbian OS for raspberry pi.\r\nThe problem was the java project was referencing to one of my previous project.\r\n\r\nI resolved this problem by doing following steps.\r\n\r\n &gt;1. Go to Project-&gt;properties\r\n &gt;2. In properties window&#39;s left pane select &quot;Run/Debug Settings&quot;.\r\n &gt;3. Select &quot;Configure&quot; and click &quot;edit&quot;\r\n &gt;4. In tab &quot;Main&quot; replace Project to your current project.\r\n &gt;5. Select &quot;Main class&quot; by clicking on search button(it will be your class name).\r\n &gt;6. Now hit OK.","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>I have faced the same problem while I was working with raspbian OS for raspberry pi.\nThe problem was the java project was referencing to one of my previous project.</p>\n\n<p>I resolved this problem by doing following steps.</p>\n\n<blockquote>\n  <ol>\n  <li>Go to Project->properties</li>\n  <li>In properties window's left pane select \"Run/Debug Settings\".</li>\n  <li>Select \"Configure\" and click \"edit\"</li>\n  <li>In tab \"Main\" replace Project to your current project.</li>\n  <li>Select \"Main class\" by clicking on search button(it will be your class name).</li>\n  <li>Now hit OK.</li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":404757,"reputation":21691,"user_id":773263,"accept_rate":87,"display_name":"Philip Kirkbride"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1476817189,"creation_date":1476817189,"answer_id":40116014,"question_id":23116556,"body_markdown":"In my case the run shortcut was referencing an old project. \r\n\r\nSimply right clicking on the folder of the project I was trying to run and selecting my java class fixed the problem. \r\n\r\nAfter that pressing the run button started working again.","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>In my case the run shortcut was referencing an old project. </p>\n\n<p>Simply right clicking on the folder of the project I was trying to run and selecting my java class fixed the problem. </p>\n\n<p>After that pressing the run button started working again.</p>\n"},{"tags":[],"owner":{"account_id":5705184,"reputation":579,"user_id":4508988,"display_name":"John Czukkermann"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1508163178,"creation_date":1508163178,"answer_id":46772424,"question_id":23116556,"body_markdown":"I know this is an old post, but I hit this recently when I moved to using a MacBook Pro.\r\n\r\nWhen I created a new Eclipse workspace and loaded all of my projects from the SCM, I got these Ant failures due to referencing an non-existing project.\r\n\r\nThe solution was not easy to discover, but the solution is simple:\r\nChange your Ant run configuration&#39;s JRE to run in the same JRE as the workspace.\r\n\r\nYou DO NOT need to change your build projects to Java projects.","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>I know this is an old post, but I hit this recently when I moved to using a MacBook Pro.</p>\n\n<p>When I created a new Eclipse workspace and loaded all of my projects from the SCM, I got these Ant failures due to referencing an non-existing project.</p>\n\n<p>The solution was not easy to discover, but the solution is simple:\nChange your Ant run configuration's JRE to run in the same JRE as the workspace.</p>\n\n<p>You DO NOT need to change your build projects to Java projects.</p>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510780922,"creation_date":1510096352,"answer_id":47168958,"question_id":23116556,"body_markdown":"Solved in a different way for the same issue.\r\n\r\n1)  Go to Project-&gt;properties.\r\n\r\n2)  In properties window&#39;s left pane select &quot;Project Facets&quot;. \r\n\r\n3) Then click on &quot;Convert to faceted form&quot; \r\n\r\n4) Then choose your server and JDK version.\r\n\r\nApply and Close.\r\n\r\nNote: Verify the project and the default IDE JRE is same version.\r\n\r\n","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>Solved in a different way for the same issue.</p>\n\n<p>1)  Go to Project->properties.</p>\n\n<p>2)  In properties window's left pane select \"Project Facets\". </p>\n\n<p>3) Then click on \"Convert to faceted form\" </p>\n\n<p>4) Then choose your server and JDK version.</p>\n\n<p>Apply and Close.</p>\n\n<p>Note: Verify the project and the default IDE JRE is same version.</p>\n"},{"tags":[],"owner":{"account_id":12283338,"reputation":39,"user_id":8964024,"display_name":"BILAL YILDIZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523380541,"creation_date":1523375688,"answer_id":49758047,"question_id":23116556,"body_markdown":"It doesn&#39;t have to be a Java Project, it could be a Maven one as well. There could be a reference problem with the oldest version of the project. Please try deleting the oldest version from your Eclipse workspace, and then change your reference point.","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>It doesn't have to be a Java Project, it could be a Maven one as well. There could be a reference problem with the oldest version of the project. Please try deleting the oldest version from your Eclipse workspace, and then change your reference point.</p>\n"},{"tags":[],"owner":{"account_id":1345799,"reputation":863,"user_id":1286583,"display_name":"Andrew Norman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530568283,"creation_date":1530568283,"answer_id":51144165,"question_id":23116556,"body_markdown":"This issue will manifest for you if you have a test class in a current project that you are trying to run that matches a test class from the project that you either closed or deleted and had previously run unit tests against.\r\n\r\nChances are you have a test case from this deleted / missing or closed project. Eclipse will hide the launch configurations of deleted and closed projects but still attempts to use them when you do the &#39;right click on class&#39; -&gt; &#39;run-as&#39; way to invoke a unit test. \r\n\r\nThe solution here is to unhide the problem launch configuration so you can delete it or modify it to conform to the current project.\r\n\r\nUnhide the launch configurations of deleted and closed projects:\r\n\r\nThis is done via the dropdown menu path -&gt; Eclipse -&gt; Preferences -&gt; &quot;Run/Debug&quot; -&gt; Launching -&gt; &quot;Launch Configurations&quot; \r\nIn the &quot;Launch Configurations&quot; screen find the &quot;launch configuration filters&quot; \r\n section and uncheck the top 2 checkboxes: \r\n  - &quot;Filter configurations in closed projects&quot;\r\n  - &quot;Filter configurations in deleted or missing projects&quot;\r\nclick the &quot;Apply and close&quot; button and close the popup screen.\r\n\r\nEdit / delete the problem configuration: \r\n\r\nopen the Run -&gt; &quot;Run configurations&quot; from the dropdown menu. On the left find and select the (no longer hidden) run configuration. \r\nIn this configuration you can either update the project references to the current project or you can delete the configuration altogether. If you delete the run configuration eclipse will create a new one from scratch with the correct project settings when you attempt to &quot;run as&quot; on the current class.","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>This issue will manifest for you if you have a test class in a current project that you are trying to run that matches a test class from the project that you either closed or deleted and had previously run unit tests against.</p>\n\n<p>Chances are you have a test case from this deleted / missing or closed project. Eclipse will hide the launch configurations of deleted and closed projects but still attempts to use them when you do the 'right click on class' -> 'run-as' way to invoke a unit test. </p>\n\n<p>The solution here is to unhide the problem launch configuration so you can delete it or modify it to conform to the current project.</p>\n\n<p>Unhide the launch configurations of deleted and closed projects:</p>\n\n<p>This is done via the dropdown menu path -> Eclipse -> Preferences -> \"Run/Debug\" -> Launching -> \"Launch Configurations\" \nIn the \"Launch Configurations\" screen find the \"launch configuration filters\" \n section and uncheck the top 2 checkboxes: \n  - \"Filter configurations in closed projects\"\n  - \"Filter configurations in deleted or missing projects\"\nclick the \"Apply and close\" button and close the popup screen.</p>\n\n<p>Edit / delete the problem configuration: </p>\n\n<p>open the Run -> \"Run configurations\" from the dropdown menu. On the left find and select the (no longer hidden) run configuration. \nIn this configuration you can either update the project references to the current project or you can delete the configuration altogether. If you delete the run configuration eclipse will create a new one from scratch with the correct project settings when you attempt to \"run as\" on the current class.</p>\n"},{"tags":[],"owner":{"account_id":1734438,"reputation":36245,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548929479,"creation_date":1548929479,"answer_id":54458150,"question_id":23116556,"body_markdown":"In my case, the error occurred in a ***Scala project***. It had installed [the eclipse plugin][1], but it had not been used yet.\r\n\r\nDiagnostics: If all goes well, the project has a blue **S** for scala project. If not, it has a yellow PC mouse (for whatever that means).\r\n\r\n\r\nTo fix, you need to\r\n\r\n    sbt eclipse\r\n\r\non the command-line. Eclipse recognizes it as Scala project at the latest on restart.\r\n\r\n\r\n  [1]: https://github.com/sbt/sbteclipse","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>In my case, the error occurred in a <strong><em>Scala project</em></strong>. It had installed <a href=\"https://github.com/sbt/sbteclipse\" rel=\"nofollow noreferrer\">the eclipse plugin</a>, but it had not been used yet.</p>\n\n<p>Diagnostics: If all goes well, the project has a blue <strong>S</strong> for scala project. If not, it has a yellow PC mouse (for whatever that means).</p>\n\n<p>To fix, you need to</p>\n\n<pre><code>sbt eclipse\n</code></pre>\n\n<p>on the command-line. Eclipse recognizes it as Scala project at the latest on restart.</p>\n"},{"tags":[],"owner":{"account_id":18980119,"reputation":1,"user_id":13851670,"display_name":"akansha "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593673650,"creation_date":1593673650,"answer_id":62690796,"question_id":23116556,"body_markdown":"I resolved the issue, follow the below steps:\r\n\r\nRight Click on Feature file&gt; Run configurations&gt;check for the feature path and classpath ..\r\nIt was taking path of previous project. Resolved the issue after selecting current project","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>I resolved the issue, follow the below steps:</p>\n<p>Right Click on Feature file&gt; Run configurations&gt;check for the feature path and classpath ..\nIt was taking path of previous project. Resolved the issue after selecting current project</p>\n"},{"tags":[],"owner":{"account_id":17252381,"reputation":1,"user_id":12492282,"display_name":"dinesh naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594303370,"creation_date":1594303370,"answer_id":62816650,"question_id":23116556,"body_markdown":"I also got the same problem but solved it just by deleting test runner.\r\nGo to file--&gt;Properties--&gt;Run/Debug Setting --&gt;click on test runner and delete it. After this step your eclipse starts working normally as  it was before!.\r\n","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>I also got the same problem but solved it just by deleting test runner.\nGo to file--&gt;Properties--&gt;Run/Debug Setting --&gt;click on test runner and delete it. After this step your eclipse starts working normally as  it was before!.</p>\n"},{"tags":[],"owner":{"account_id":6393731,"reputation":53,"user_id":4958885,"display_name":"Rag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649855862,"creation_date":1649855862,"answer_id":71858172,"question_id":23116556,"body_markdown":"I got this issue when I imported the non maven project to my local workspace from our project repository  Configure build path was also disabled. This is because the nature of the project was not set to java. Right click on your project-&gt;select properties-&gt;Project Natures-&gt;Select Java. This will enable build path and you can add all the dependencies which will resolve the issue ","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>I got this issue when I imported the non maven project to my local workspace from our project repository  Configure build path was also disabled. This is because the nature of the project was not set to java. Right click on your project-&gt;select properties-&gt;Project Natures-&gt;Select Java. This will enable build path and you can add all the dependencies which will resolve the issue</p>\n"},{"tags":[],"owner":{"account_id":6393731,"reputation":53,"user_id":4958885,"display_name":"Rag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650570738,"creation_date":1650570738,"answer_id":71960195,"question_id":23116556,"body_markdown":"I faced this issue when I imported the project into local from the repo. Reference library was disabled and was not allowing me to add external jars. I opened project properties(Right click on project-&gt;Properties) and added Java as the nature of the project. It worked!  ","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>I faced this issue when I imported the project into local from the repo. Reference library was disabled and was not allowing me to add external jars. I opened project properties(Right click on project-&gt;Properties) and added Java as the nature of the project. It worked!</p>\n"},{"tags":[],"owner":{"account_id":14995303,"reputation":113,"user_id":10824878,"display_name":"ZhengguanLi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681512927,"creation_date":1681512927,"answer_id":76019468,"question_id":23116556,"body_markdown":"In my case, the following resolved my issue\r\n\r\n&gt; Right click on Project-&gt; properties\r\n&gt; \r\n&gt; Click &quot;Add&quot;In properties window&#39;s left pane select &quot;Project Natures&quot;.\r\n&gt;\r\n&gt; Under &quot;Select a Nature to add to the Project&quot;, add &quot;J Java&quot;\r\n\r\n","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>In my case, the following resolved my issue</p>\n<blockquote>\n<p>Right click on Project-&gt; properties</p>\n<p>Click &quot;Add&quot;In properties window's left pane select &quot;Project Natures&quot;.</p>\n<p>Under &quot;Select a Nature to add to the Project&quot;, add &quot;J Java&quot;</p>\n</blockquote>\n"}],"owner":{"account_id":3726819,"reputation":3176,"user_id":3100494,"accept_rate":85,"display_name":"J-Dizzle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109141,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":23116557,"answer_count":14,"score":20,"last_activity_date":1681512927,"creation_date":1397670434,"question_id":23116556,"body_markdown":"When trying to run a test as a TestNG suite, I would get a very cryptic error message saying that TestNG can&#39;t launch because it references a non-existant project. I think my project does exist, I see it in the package explorer!","title":"Eclipse -- Testng references non-existing project XXX, launch configuration","body":"<p>When trying to run a test as a TestNG suite, I would get a very cryptic error message saying that TestNG can't launch because it references a non-existant project. I think my project does exist, I see it in the package explorer!</p>\n"},{"tags":["java","sorting","variables","intellij-idea","formatting"],"answers":[{"tags":[],"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674570960,"creation_date":1674570960,"answer_id":75223024,"question_id":75214847,"body_markdown":"You can specify order as &quot;Order by name&quot; for each matching rule in Preferences | Editor | Code Style | Java | Arrangement. See https://www.jetbrains.com/help/idea/code-style-java.html for reference","title":"How to sort lines by the variable name in alphabetical order in Intellij?","body":"<p>You can specify order as &quot;Order by name&quot; for each matching rule in Preferences | Editor | Code Style | Java | Arrangement. See <a href=\"https://www.jetbrains.com/help/idea/code-style-java.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/code-style-java.html</a> for reference</p>\n"},{"tags":[],"owner":{"account_id":5521789,"reputation":440,"user_id":4384501,"display_name":"Russell Lego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681512352,"creation_date":1681512352,"answer_id":76019439,"question_id":75214847,"body_markdown":"I used quickfix&#39;s answer but here is a screenshot.\r\nI used this one since all my variables have public in front of them\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yo6ep.png","title":"How to sort lines by the variable name in alphabetical order in Intellij?","body":"<p>I used quickfix's answer but here is a screenshot.\nI used this one since all my variables have public in front of them</p>\n<p><a href=\"https://i.stack.imgur.com/yo6ep.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yo6ep.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7164495,"reputation":1,"user_id":5474089,"display_name":"jepi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681512352,"creation_date":1674506632,"question_id":75214847,"body_markdown":"So let&#39;s say I declare my variables like this:\r\n\r\n```Java \r\nString cVariable;\r\nInteger eVariable;\r\nboolean dVariable;\r\n```\r\n\r\nIs there a way that when I do a `Sort Lines` in Intellij it format the code like this (variable alphabetical order):\r\n\r\n```Java\r\nString cVariable;\r\nboolean dVariable;\r\nInteger eVariable;\r\n```\r\n\r\nSort Lines seems to order variables with there type name like this:\r\n\r\n```Java\r\nboolean dVariable;\r\nInteger eVariable;\r\nString cVariable;\r\n```\r\n\r\nbut that&#39;s not what I want...","title":"How to sort lines by the variable name in alphabetical order in Intellij?","body":"<p>So let's say I declare my variables like this:</p>\n<pre><code>String cVariable;\nInteger eVariable;\nboolean dVariable;\n</code></pre>\n<p>Is there a way that when I do a <code>Sort Lines</code> in Intellij it format the code like this (variable alphabetical order):</p>\n<pre><code>String cVariable;\nboolean dVariable;\nInteger eVariable;\n</code></pre>\n<p>Sort Lines seems to order variables with there type name like this:</p>\n<pre><code>boolean dVariable;\nInteger eVariable;\nString cVariable;\n</code></pre>\n<p>but that's not what I want...</p>\n"},{"tags":["java","json","spring","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1474634106,"creation_date":1424530191,"answer_id":28647095,"question_id":28646332,"body_markdown":"The first basic thing to understand is the difference in architectures.\r\n\r\nOne end you have the MVC architecture, which is based on your normal web app, using web pages, and the browser makes a request for a page:\r\n\r\n    Browser &lt;---&gt; Controller &lt;---&gt; Model\r\n                   |      |\r\n                   +-View-+\r\n\r\nThe browser makes a request, the controller (@Controller) gets the model (@Entity), and creates the view (JSP) from the model and the view is returned back to the client. This is the basic web app architecture.\r\n\r\nOn the other end, you have a RESTful architecture. In this case, there is no View. The Controller only sends back the model (or resource representation, in more RESTful terms). The client can be a JavaScript application, a Java server application, any application in which we expose our REST API to. With this architecture, the client decides what to do with this model. Take for instance Twitter. Twitter as the Web (REST) API, that allows our applications to use its API to get such things as status updates, so that we can use it to put that data in our application. That data will come in some format like JSON.\r\n\r\nThat being said, when working with Spring MVC, it was first built to handle the basic web application architecture. There are may different method signature flavors that allow a view to be produced from our methods. The method could return a `ModelAndView` where we explicitly create it, or there are implicit ways where we can return some arbitrary object that gets set into model attributes. But either way, somewhere along the request-response cycle, there will be a view produced.\r\n\r\nBut when we use `@ResponseBody`, we are saying that we do not want a view produced. We just want to send the return object as the body, in whatever format we specify. We wouldn&#39;t want it to be a serialized Java object (though possible). So yes, it needs to be converted to some other common type (this type is normally dealt with through content negotiation - see link below). Honestly, I don&#39;t work much with Spring, though I dabble with it here and there. Normally, I use\r\n\r\n    @RequestMapping(..., produces = MediaType.APPLICATION_JSON_VALUE)\r\n\r\nto set the content type, but maybe JSON is the default. Don&#39;t quote me, but if you are getting JSON, and you haven&#39;t specified the `produces`, then maybe it is the default. JSON is not the only format. For instance, the above could easily be sent in XML, but you would need to have the `produces` to `MediaType.APPLICATION_XML_VALUE` and I believe you need to configure the `HttpMessageConverter` for JAXB. As for the JSON `MappingJacksonHttpMessageConverter` configured, when we have Jackson on the classpath. \r\n\r\nI would take some time to learn about [Content Negotiation](http://en.wikipedia.org/wiki/Content_negotiation). It&#39;s a very important part of REST. It&#39;ll help you learn about the different response formats and how to map them to your methods. ","title":"How does the Spring @ResponseBody annotation work?","body":"<p>The first basic thing to understand is the difference in architectures.</p>\n\n<p>One end you have the MVC architecture, which is based on your normal web app, using web pages, and the browser makes a request for a page:</p>\n\n<pre><code>Browser &lt;---&gt; Controller &lt;---&gt; Model\n               |      |\n               +-View-+\n</code></pre>\n\n<p>The browser makes a request, the controller (@Controller) gets the model (@Entity), and creates the view (JSP) from the model and the view is returned back to the client. This is the basic web app architecture.</p>\n\n<p>On the other end, you have a RESTful architecture. In this case, there is no View. The Controller only sends back the model (or resource representation, in more RESTful terms). The client can be a JavaScript application, a Java server application, any application in which we expose our REST API to. With this architecture, the client decides what to do with this model. Take for instance Twitter. Twitter as the Web (REST) API, that allows our applications to use its API to get such things as status updates, so that we can use it to put that data in our application. That data will come in some format like JSON.</p>\n\n<p>That being said, when working with Spring MVC, it was first built to handle the basic web application architecture. There are may different method signature flavors that allow a view to be produced from our methods. The method could return a <code>ModelAndView</code> where we explicitly create it, or there are implicit ways where we can return some arbitrary object that gets set into model attributes. But either way, somewhere along the request-response cycle, there will be a view produced.</p>\n\n<p>But when we use <code>@ResponseBody</code>, we are saying that we do not want a view produced. We just want to send the return object as the body, in whatever format we specify. We wouldn't want it to be a serialized Java object (though possible). So yes, it needs to be converted to some other common type (this type is normally dealt with through content negotiation - see link below). Honestly, I don't work much with Spring, though I dabble with it here and there. Normally, I use</p>\n\n<pre><code>@RequestMapping(..., produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n\n<p>to set the content type, but maybe JSON is the default. Don't quote me, but if you are getting JSON, and you haven't specified the <code>produces</code>, then maybe it is the default. JSON is not the only format. For instance, the above could easily be sent in XML, but you would need to have the <code>produces</code> to <code>MediaType.APPLICATION_XML_VALUE</code> and I believe you need to configure the <code>HttpMessageConverter</code> for JAXB. As for the JSON <code>MappingJacksonHttpMessageConverter</code> configured, when we have Jackson on the classpath. </p>\n\n<p>I would take some time to learn about <a href=\"http://en.wikipedia.org/wiki/Content_negotiation\">Content Negotiation</a>. It's a very important part of REST. It'll help you learn about the different response formats and how to map them to your methods. </p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":184,"is_accepted":true,"score":184,"last_activity_date":1598487062,"creation_date":1424530385,"answer_id":28647129,"question_id":28646332,"body_markdown":"First of all, the annotation doesn&#39;t annotate `List`. It annotates the method, just as `RequestMapping` does. Your code is equivalent to \r\n  \r\n    @RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.GET)\r\n    @ResponseBody\r\n    public List&lt;Account&gt; accountSummary() {\r\n        return accountManager.getAllAccounts();\r\n    }\r\n\r\nNow what the annotation means is that the returned value of the method will constitute the body of the HTTP response. Of course, an HTTP response can&#39;t contain Java objects. So this list of accounts is transformed to a format suitable for REST applications, typically JSON or XML. \r\n\r\nThe choice of the format depends on the installed message converters, on the values of the [`produces` attribute][1] of the `@RequestMapping` annotation, and on the content type that the client accepts (that is available in the HTTP request headers). For example, if the request says it accepts XML, but not JSON, and there is a message converter installed that can transform the list to XML, then XML will be returned.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#produces--","title":"How does the Spring @ResponseBody annotation work?","body":"<p>First of all, the annotation doesn't annotate <code>List</code>. It annotates the method, just as <code>RequestMapping</code> does. Your code is equivalent to</p>\n<pre><code>@RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.GET)\n@ResponseBody\npublic List&lt;Account&gt; accountSummary() {\n    return accountManager.getAllAccounts();\n}\n</code></pre>\n<p>Now what the annotation means is that the returned value of the method will constitute the body of the HTTP response. Of course, an HTTP response can't contain Java objects. So this list of accounts is transformed to a format suitable for REST applications, typically JSON or XML.</p>\n<p>The choice of the format depends on the installed message converters, on the values of the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#produces--\" rel=\"noreferrer\"><code>produces</code> attribute</a> of the <code>@RequestMapping</code> annotation, and on the content type that the client accepts (that is available in the HTTP request headers). For example, if the request says it accepts XML, but not JSON, and there is a message converter installed that can transform the list to XML, then XML will be returned.</p>\n"},{"tags":[],"owner":{"account_id":1556522,"reputation":233,"user_id":1447450,"display_name":"paulchapman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467952476,"creation_date":1467952476,"answer_id":38258959,"question_id":28646332,"body_markdown":"Further to this, the return type is determined by\r\n\r\n 1. What the HTTP Request says it wants - in its Accept header.  Try looking at the initial request as see what Accept is set to.\r\n \r\n 2. What HttpMessageConverters Spring sets up.  Spring MVC will setup converters for XML (using JAXB) and JSON if Jackson libraries are on he classpath. \r\n\r\nIf there is a choice it picks one - in this example, it happens to be JSON.\r\n\r\nThis *is* covered in the course notes.  Look for the notes on Message Convertors and Content Negotiation.","title":"How does the Spring @ResponseBody annotation work?","body":"<p>Further to this, the return type is determined by</p>\n\n<ol>\n<li><p>What the HTTP Request says it wants - in its Accept header.  Try looking at the initial request as see what Accept is set to.</p></li>\n<li><p>What HttpMessageConverters Spring sets up.  Spring MVC will setup converters for XML (using JAXB) and JSON if Jackson libraries are on he classpath. </p></li>\n</ol>\n\n<p>If there is a choice it picks one - in this example, it happens to be JSON.</p>\n\n<p>This <em>is</em> covered in the course notes.  Look for the notes on Message Convertors and Content Negotiation.</p>\n"},{"tags":[],"owner":{"account_id":20792594,"reputation":11,"user_id":15270410,"display_name":"sergey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614116042,"creation_date":1614116042,"answer_id":66341427,"question_id":28646332,"body_markdown":"@RequestBody annotation binds the HTTPRequest body to the domain object. Spring automatically deserializes incoming HTTP Request to object using HttpMessageConverters. HttpMessageConverter converts body of request to resolve the method argument depending on the content type of the request.\r\nMany examples how to use converters https://upcodein.com/search/jc/mg/ResponseBody/page/0","title":"How does the Spring @ResponseBody annotation work?","body":"<p>@RequestBody annotation binds the HTTPRequest body to the domain object. Spring automatically deserializes incoming HTTP Request to object using HttpMessageConverters. HttpMessageConverter converts body of request to resolve the method argument depending on the content type of the request.\nMany examples how to use converters <a href=\"https://upcodein.com/search/jc/mg/ResponseBody/page/0\" rel=\"nofollow noreferrer\">https://upcodein.com/search/jc/mg/ResponseBody/page/0</a></p>\n"},{"tags":[],"owner":{"account_id":21151264,"reputation":1,"user_id":15551518,"display_name":"manci ayman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681512304,"creation_date":1681512304,"answer_id":76019434,"question_id":28646332,"body_markdown":"I would like to include additional information about:\r\n\r\nHow can message converters be configured in terms of response body?\r\nTo handle the serialization of responses using the **HttpMessageCoverter** interface. Spring Boot provides several built-in message converters for data formats such as JSON and XML. You can also create custom message converters to handle other data formats.","title":"How does the Spring @ResponseBody annotation work?","body":"<p>I would like to include additional information about:</p>\n<p>How can message converters be configured in terms of response body?\nTo handle the serialization of responses using the <strong>HttpMessageCoverter</strong> interface. Spring Boot provides several built-in message converters for data formats such as JSON and XML. You can also create custom message converters to handle other data formats.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197145,"favorite_count":0,"down_vote_count":1,"up_vote_count":107,"accepted_answer_id":28647129,"answer_count":5,"score":106,"last_activity_date":1681512304,"creation_date":1424525306,"question_id":28646332,"body_markdown":"I have a method that is annotated in the following way:\r\n\r\n    /**\r\n    * Provide a list of all accounts.\r\n    */\r\n    //\tTODO 02: Complete this method.  Add annotations to respond\r\n    //\tto GET /accounts and return a List&lt;Account&gt; to be converted.\r\n    //\tSave your work and restart the server.  You should get JSON results when accessing \r\n    //\thttp://localhost:8080/rest-ws/app/accounts\r\n    @RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.GET)\r\n    public @ResponseBody List&lt;Account&gt; accountSummary() {\r\n    \treturn accountManager.getAllAccounts();\r\n    }\r\n\r\nSo I know that by this annotation:\r\n\r\n    @RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.GET)\r\n\r\nthis method handle **GET** HTTP requests made to the resource represented by the URL **/orders**.\r\n\r\nThis method calls a DAO object that returns a **List&lt;Account&gt;**.\r\n\r\nwhere **Account** represents a user on the system and has some fields that represent this user, something like:\r\n\r\n    public class Account {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Long entityId;\r\n    \r\n    \t@Column(name = &quot;NUMBER&quot;)\r\n    \tprivate String number;\r\n    \r\n    \t@Column(name = &quot;NAME&quot;)\r\n    \tprivate String name;\r\n    \r\n    \t@OneToMany(cascade=CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;ACCOUNT_ID&quot;)\r\n    \tprivate Set&lt;Beneficiary&gt; beneficiaries = new HashSet&lt;Beneficiary&gt;();\r\n    \r\n        ...............................\r\n        ...............................\r\n        ...............................\r\n    }\r\n\r\nMy question is: **How exactly the does the `@ResponseBody` annotation work?**\r\n\r\nIt is situated before the returned `List&lt;Account&gt;` object so I think that it refers to this List. The course documentation states that this annotation serves the function to:\r\n\r\n&gt; ensure that the result will be written to the HTTP response by an HTTP\r\n&gt; Message Converter (instead of an MVC View).\r\n\r\nAnd also reading on the official Spring documentation: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html\r\n\r\nit seems that it takes the `List&lt;Account&gt;` object and puts it into the `Http Response`. Is this correct or am I misunderstanding?\r\n\r\nWritten into the comment of the previous `accountSummary()` method there is:\r\n\r\n&gt; You should get JSON results when accessing\r\n&gt; http://localhost:8080/rest-ws/app/accounts\r\n\r\nSo what exactly does this mean? Does it mean that the `List&lt;Account&gt;` object returned by the `accountSummary()` method is automatically converted into `JSON` format and then put into the `Http Response`? Or what?\r\n\r\nIf this assertion is true, where is it specified that the object will be automatically converted into `JSON` format? Is the standard format adopted when the `@ResponseBody` annotation is used or is it specified elsewhere?\r\n","title":"How does the Spring @ResponseBody annotation work?","body":"<p>I have a method that is annotated in the following way:</p>\n\n<pre><code>/**\n* Provide a list of all accounts.\n*/\n//  TODO 02: Complete this method.  Add annotations to respond\n//  to GET /accounts and return a List&lt;Account&gt; to be converted.\n//  Save your work and restart the server.  You should get JSON results when accessing \n//  http://localhost:8080/rest-ws/app/accounts\n@RequestMapping(value=\"/orders\", method=RequestMethod.GET)\npublic @ResponseBody List&lt;Account&gt; accountSummary() {\n    return accountManager.getAllAccounts();\n}\n</code></pre>\n\n<p>So I know that by this annotation:</p>\n\n<pre><code>@RequestMapping(value=\"/orders\", method=RequestMethod.GET)\n</code></pre>\n\n<p>this method handle <strong>GET</strong> HTTP requests made to the resource represented by the URL <strong>/orders</strong>.</p>\n\n<p>This method calls a DAO object that returns a <strong>List</strong>.</p>\n\n<p>where <strong>Account</strong> represents a user on the system and has some fields that represent this user, something like:</p>\n\n<pre><code>public class Account {\n\n    @Id\n    @Column(name = \"ID\")\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long entityId;\n\n    @Column(name = \"NUMBER\")\n    private String number;\n\n    @Column(name = \"NAME\")\n    private String name;\n\n    @OneToMany(cascade=CascadeType.ALL)\n    @JoinColumn(name = \"ACCOUNT_ID\")\n    private Set&lt;Beneficiary&gt; beneficiaries = new HashSet&lt;Beneficiary&gt;();\n\n    ...............................\n    ...............................\n    ...............................\n}\n</code></pre>\n\n<p>My question is: <strong>How exactly the does the <code>@ResponseBody</code> annotation work?</strong></p>\n\n<p>It is situated before the returned <code>List&lt;Account&gt;</code> object so I think that it refers to this List. The course documentation states that this annotation serves the function to:</p>\n\n<blockquote>\n  <p>ensure that the result will be written to the HTTP response by an HTTP\n  Message Converter (instead of an MVC View).</p>\n</blockquote>\n\n<p>And also reading on the official Spring documentation: <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html</a></p>\n\n<p>it seems that it takes the <code>List&lt;Account&gt;</code> object and puts it into the <code>Http Response</code>. Is this correct or am I misunderstanding?</p>\n\n<p>Written into the comment of the previous <code>accountSummary()</code> method there is:</p>\n\n<blockquote>\n  <p>You should get JSON results when accessing\n  <a href=\"http://localhost:8080/rest-ws/app/accounts\" rel=\"noreferrer\">http://localhost:8080/rest-ws/app/accounts</a></p>\n</blockquote>\n\n<p>So what exactly does this mean? Does it mean that the <code>List&lt;Account&gt;</code> object returned by the <code>accountSummary()</code> method is automatically converted into <code>JSON</code> format and then put into the <code>Http Response</code>? Or what?</p>\n\n<p>If this assertion is true, where is it specified that the object will be automatically converted into <code>JSON</code> format? Is the standard format adopted when the <code>@ResponseBody</code> annotation is used or is it specified elsewhere?</p>\n"},{"tags":["java","android","data-binding","gradle"],"comments":[{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":0,"creation_date":1443437283,"post_id":32815608,"comment_id":53477806,"body_markdown":"I used same and its working for me . please sync your gradle build","body":"I used same and its working for me . please sync your gradle build"},{"owner":{"account_id":5204790,"reputation":20778,"user_id":4163092,"display_name":"George Mount"},"score":0,"creation_date":1443565839,"post_id":32815608,"comment_id":53543309,"body_markdown":"FYI, rc2 is available with several bug fixes and support for dependency injection.","body":"FYI, rc2 is available with several bug fixes and support for dependency injection."}],"answers":[{"tags":[],"owner":{"account_id":6220260,"reputation":1143,"user_id":4840115,"accept_rate":50,"display_name":"tenprint"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1474131172,"creation_date":1474131172,"answer_id":39549387,"question_id":32815608,"body_markdown":"I had this same problem.  I was digging through gradle settings, cleaning, rebuilding... nothing worked.  Finally all I had to do was restart Android Studio\r\n\r\nhttps://www.bignerdranch.com/blog/descent-into-databinding/\r\n\r\n&gt; As of this writing, this integration needs a little jump-start to get\r\n&gt; going. To make ListItemCrimeBinding available after adding the\r\n&gt; &lt;layout&gt; tag, you must restart Android Studio, then rebuild the\r\n&gt; project.","title":"Android Data binding : Cannot resolve symbol","body":"<p>I had this same problem.  I was digging through gradle settings, cleaning, rebuilding... nothing worked.  Finally all I had to do was restart Android Studio</p>\n\n<p><a href=\"https://www.bignerdranch.com/blog/descent-into-databinding/\" rel=\"noreferrer\">https://www.bignerdranch.com/blog/descent-into-databinding/</a></p>\n\n<blockquote>\n  <p>As of this writing, this integration needs a little jump-start to get\n  going. To make ListItemCrimeBinding available after adding the\n   tag, you must restart Android Studio, then rebuild the\n  project.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9475381,"reputation":137,"user_id":7044890,"accept_rate":50,"display_name":"Ethan Reinsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484334173,"creation_date":1484334173,"answer_id":41641695,"question_id":32815608,"body_markdown":"Either click sync if a dialogue pops up, hit the sync button next to save, or restart Android Studio.","title":"Android Data binding : Cannot resolve symbol","body":"<p>Either click sync if a dialogue pops up, hit the sync button next to save, or restart Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":9928193,"reputation":639,"user_id":7349053,"display_name":"KishoreKittu467"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1557826910,"creation_date":1486627499,"answer_id":42131180,"question_id":32815608,"body_markdown":"enable dataBinding in your **App Level** build.gradle file\r\n\r\n    android {\r\n        ...\r\n        dataBinding{\r\n            enabled=true\r\n        }\r\n    }\r\n\r\n","title":"Android Data binding : Cannot resolve symbol","body":"<p>enable dataBinding in your <strong>App Level</strong> build.gradle file</p>\n\n<pre><code>android {\n    ...\n    dataBinding{\n        enabled=true\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9321614,"reputation":1385,"user_id":6920195,"display_name":"Rohan Lodhi"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1562062723,"creation_date":1533726978,"answer_id":51745333,"question_id":32815608,"body_markdown":"1.Add Below in app gradle\r\n\r\n     dataBinding {\r\n            enabled = true\r\n        }\r\n\r\n2.In xml layout write below code\r\n\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n      &lt;data&gt;&lt;/data&gt;\r\n    &lt;/layout&gt;\r\n\r\n\r\nUPDATED:\r\nCLEAN AND REBUILD THE PROJECT","title":"Android Data binding : Cannot resolve symbol","body":"<p>1.Add Below in app gradle</p>\n\n<pre><code> dataBinding {\n        enabled = true\n    }\n</code></pre>\n\n<p>2.In xml layout write below code</p>\n\n<pre><code>&lt;layout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n  &lt;data&gt;&lt;/data&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>UPDATED:\nCLEAN AND REBUILD THE PROJECT</p>\n"},{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1668240928,"creation_date":1567159534,"answer_id":57724704,"question_id":32815608,"body_markdown":"to implement binding, make sure that:\r\n\r\n1. in the `app.gradle`, enable `dataBinding`:\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n        ...\r\n        \r\n        android {\r\n            ...\r\n            buildFeatures {\r\n                dataBinding true\r\n            }\r\n            ...\r\n        }\r\n        \r\n        dependencies {\r\n            ...\r\n        }\r\n\r\n2. wrap the existing XML layout in a `&lt;layout&gt;` element:\r\n\r\n        &lt;layout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n            &lt;!-- note: xmlns above only needed if used in original XML --&gt;\r\n            &lt;!-- original XML here --&gt;\r\n\r\n        &lt;/layout&gt;\r\n\r\n3. in `Activity`/`Fragment`, use the Binding\r\n\r\n        // inflating xml_layout_name.xml...\r\n        val binding = XmlLayoutNameBinding.inflate(LayoutInflater.from(context))\r\n\r\n4. if is unable to resolve the `XxxBinding` class (even though it can resolve `XxxBindingImpl`)\r\n    1. first try changing a character in ANY XML layout with the &lt;layout&gt; tag\r\n    1. if that doesn&#39;t work, **restart `Android Studio`**, sync &amp; rebuild project","title":"Android Data binding : Cannot resolve symbol","body":"<p>to implement binding, make sure that:</p>\n<ol>\n<li><p>in the <code>app.gradle</code>, enable <code>dataBinding</code>:</p>\n<pre><code> apply plugin: 'com.android.application'\n ...\n\n android {\n     ...\n     buildFeatures {\n         dataBinding true\n     }\n     ...\n }\n\n dependencies {\n     ...\n }\n</code></pre>\n</li>\n<li><p>wrap the existing XML layout in a <code>&lt;layout&gt;</code> element:</p>\n<pre><code> &lt;layout\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n     &lt;!-- note: xmlns above only needed if used in original XML --&gt;\n     &lt;!-- original XML here --&gt;\n\n &lt;/layout&gt;\n</code></pre>\n</li>\n<li><p>in <code>Activity</code>/<code>Fragment</code>, use the Binding</p>\n<pre><code> // inflating xml_layout_name.xml...\n val binding = XmlLayoutNameBinding.inflate(LayoutInflater.from(context))\n</code></pre>\n</li>\n<li><p>if is unable to resolve the <code>XxxBinding</code> class (even though it can resolve <code>XxxBindingImpl</code>)</p>\n<ol>\n<li>first try changing a character in ANY XML layout with the  tag</li>\n<li>if that doesn't work, <strong>restart <code>Android Studio</code></strong>, sync &amp; rebuild project</li>\n</ol>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572863804,"creation_date":1572863804,"answer_id":58691643,"question_id":32815608,"body_markdown":"In my case, my layout file had some errors and therefore AS was not creating the binding class. I could find it by expecting the XML file and seeing the error messages.","title":"Android Data binding : Cannot resolve symbol","body":"<p>In my case, my layout file had some errors and therefore AS was not creating the binding class. I could find it by expecting the XML file and seeing the error messages.</p>\n"},{"tags":[],"owner":{"account_id":9809771,"reputation":6806,"user_id":10699119,"display_name":"Sana Ebadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573491705,"creation_date":1573491705,"answer_id":58805676,"question_id":32815608,"body_markdown":"be sure you add data binding in your build.gradle \r\n\r\nand after that **sync** project after that **Restart and clear caches** from the file in `android studio`. this way solve my problem ","title":"Android Data binding : Cannot resolve symbol","body":"<p>be sure you add data binding in your build.gradle </p>\n\n<p>and after that <strong>sync</strong> project after that <strong>Restart and clear caches</strong> from the file in <code>android studio</code>. this way solve my problem </p>\n"},{"tags":[],"owner":{"account_id":9686627,"reputation":6334,"user_id":7200133,"display_name":"Gk Mohammad Emon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578454672,"creation_date":1578391845,"answer_id":59626299,"question_id":32815608,"body_markdown":"If `clear Project` and `Rebuild Project` don&#39;t work for you try the simple solution. It sometimes doesn&#39;t work when you clone a project from `remote git branches`.You need to just close your project and delete the `.gradle` and `.idea` folder of your android project. Then reopen the project.","title":"Android Data binding : Cannot resolve symbol","body":"<p>If <code>clear Project</code> and <code>Rebuild Project</code> don't work for you try the simple solution. It sometimes doesn't work when you clone a project from <code>remote git branches</code>.You need to just close your project and delete the <code>.gradle</code> and <code>.idea</code> folder of your android project. Then reopen the project.</p>\n"},{"tags":[],"owner":{"account_id":11488354,"reputation":801,"user_id":8420228,"display_name":"bensalcie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585384859,"creation_date":1585382233,"answer_id":60898657,"question_id":32815608,"body_markdown":"For my case I added :\r\n   \r\n             dataBinding {\r\n                      enabled=true\r\n             }\r\n\r\n   Then went to File &gt; Settings &gt; \r\n  Gradle &gt; Untick offline work&gt; Apply&gt; \r\n  Ok\r\n  Then cleaned my project.","title":"Android Data binding : Cannot resolve symbol","body":"<p>For my case I added :</p>\n\n<pre><code>         dataBinding {\n                  enabled=true\n         }\n</code></pre>\n\n<p>Then went to File > Settings > \n  Gradle > Untick offline work> Apply> \n  Ok\n  Then cleaned my project.</p>\n"},{"tags":[],"owner":{"account_id":9888755,"reputation":1402,"user_id":7322476,"display_name":"Mohit Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637995844,"creation_date":1637995844,"answer_id":70132651,"question_id":32815608,"body_markdown":" \r\n\r\n&gt; Add on build.gradle(:app) **viewBinding true** \r\n\r\n    android {\r\n      buildFeatures {\r\n            viewBinding true\r\n        }\r\n    \r\n    }","title":"Android Data binding : Cannot resolve symbol","body":"<blockquote>\n<p>Add on build.gradle(:app) <strong>viewBinding true</strong></p>\n</blockquote>\n<pre><code>android {\n  buildFeatures {\n        viewBinding true\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18351196,"reputation":51,"user_id":13365325,"display_name":"baobab159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639329836,"creation_date":1639329836,"answer_id":70325945,"question_id":32815608,"body_markdown":"I&#39;ve seen this answer nowhere so I suggest: \r\nif you added some activity from context menu by clicking on some package like &#39;data&#39; or &#39;ui&#39;, Android Studio saved path to binding like so: \r\nimport com.damian.yourappname.ui.databinding.ActivitySearchBinding;\r\n\r\nI tested it a few times with my previous projects and it occurs only when sample activity like ScrollingActivity is added to a package other package for all classes.\r\nimport com.damian.yourappname.databinding.ActivitySearchBinding;\r\n\r\nSo best way is just creating sample activity in root folder and after gradle sync moving  to some package","title":"Android Data binding : Cannot resolve symbol","body":"<p>I've seen this answer nowhere so I suggest:\nif you added some activity from context menu by clicking on some package like 'data' or 'ui', Android Studio saved path to binding like so:\nimport com.damian.yourappname.ui.databinding.ActivitySearchBinding;</p>\n<p>I tested it a few times with my previous projects and it occurs only when sample activity like ScrollingActivity is added to a package other package for all classes.\nimport com.damian.yourappname.databinding.ActivitySearchBinding;</p>\n<p>So best way is just creating sample activity in root folder and after gradle sync moving  to some package</p>\n"},{"tags":[],"owner":{"account_id":2216369,"reputation":961,"user_id":1956840,"accept_rate":81,"display_name":"Zock77"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641253175,"creation_date":1641253175,"answer_id":70572600,"question_id":32815608,"body_markdown":"For me I had to add:\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\nto my `build.gradle` file, then run `File-&gt;Sync Project With Gradle Files`","title":"Android Data binding : Cannot resolve symbol","body":"<p>For me I had to add:</p>\n<pre><code>buildFeatures {\n    viewBinding true\n}\n</code></pre>\n<p>to my <code>build.gradle</code> file, then run <code>File-&gt;Sync Project With Gradle Files</code></p>\n"},{"tags":[],"owner":{"account_id":20804099,"reputation":147,"user_id":15279383,"display_name":"Sasmita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647703482,"creation_date":1647703482,"answer_id":71539455,"question_id":32815608,"body_markdown":"I found a way without restart or invalidate cache. I thing this because binding need to restart or something, so I re-write `private ActivityMainBinding binding;` and viewBinding work again.\r\n\r\nI don&#39;t know why this work but this save my time than restart/invalidate cache","title":"Android Data binding : Cannot resolve symbol","body":"<p>I found a way without restart or invalidate cache. I thing this because binding need to restart or something, so I re-write <code>private ActivityMainBinding binding;</code> and viewBinding work again.</p>\n<p>I don't know why this work but this save my time than restart/invalidate cache</p>\n"},{"tags":[],"owner":{"account_id":8167017,"reputation":2883,"user_id":6148931,"display_name":"Martynas B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656594684,"creation_date":1656594684,"answer_id":72816437,"question_id":32815608,"body_markdown":"In my case i deleted build, build-cache folders in project scope, then build folder in app module. Afterwards restarted PC and it started working ","title":"Android Data binding : Cannot resolve symbol","body":"<p>In my case i deleted build, build-cache folders in project scope, then build folder in app module. Afterwards restarted PC and it started working</p>\n"},{"tags":[],"owner":{"account_id":2488135,"reputation":1051,"user_id":2166177,"accept_rate":67,"display_name":"steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681511668,"creation_date":1681511668,"answer_id":76019390,"question_id":32815608,"body_markdown":"I came to this question based on the title (cannot resolve symbol). Oddly the description is about a different issue (databinding class does not generate) and I think all the existing answers are about that. Basically, the OP asked two questions.\r\n\r\nI&#39;m sure one does need the dataBinding{enabled=true} config to make data binding work, but adding that config does not fix the &#39;cannot resolve symbol&#39; error. The namespace changed to androidx. Change the import to androidx.databinding.DataBindingUtil","title":"Android Data binding : Cannot resolve symbol","body":"<p>I came to this question based on the title (cannot resolve symbol). Oddly the description is about a different issue (databinding class does not generate) and I think all the existing answers are about that. Basically, the OP asked two questions.</p>\n<p>I'm sure one does need the dataBinding{enabled=true} config to make data binding work, but adding that config does not fix the 'cannot resolve symbol' error. The namespace changed to androidx. Change the import to androidx.databinding.DataBindingUtil</p>\n"}],"owner":{"account_id":3434377,"reputation":5928,"user_id":2877822,"accept_rate":60,"display_name":"Long Ranger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60633,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":15,"score":25,"last_activity_date":1681511668,"creation_date":1443413724,"question_id":32815608,"body_markdown":"I have tried to use the beta features(data binding) in the android studio. After following the guides from the android studio, I can find the related class DataBindingInfo in the android studio. But the databinding class does not generate after I create the project. Can someone help?\r\n\r\n\r\nbuild.gradle for the app module\r\n \r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    apply plugin: &#39;com.android.databinding&#39;\r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.1&quot;\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.example.pigfamily.myapplication&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;com.android.support:appcompat-v7:23.0.1&#39;\r\n    }\r\n\r\n\r\nbuild.gradle for the project\r\n\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            dependencies {\r\n                classpath &quot;com.android.tools.build:gradle:1.3.0&quot;\r\n                classpath &quot;com.android.databinding:dataBinder:1.0-rc1&quot;\r\n            }\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\nactivity_main.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n        &lt;data&gt;\r\n\r\n            &lt;variable\r\n                name=&quot;user&quot;\r\n                type=&quot;com.example.pigfamily.myapplication.User&quot; /&gt;\r\n        &lt;/data&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n     &gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@{user.name}&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/layout&gt;\r\n\r\nMainActivity.java\r\n\r\n    package com.example.pigfamily.myapplication;\r\n\r\n    import android.databinding.DataBindingUtil;\r\n    import android.databinding.ViewDataBinding;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            ActivityMainBinding //cannot resolve the symbol here\r\n        }\r\n\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle action bar item clicks here. The action bar will\r\n            // automatically handle clicks on the Home/Up button, so long\r\n            // as you specify a parent activity in AndroidManifest.xml.\r\n            int id = item.getItemId();\r\n\r\n            //noinspection SimplifiableIfStatement\r\n            if (id == R.id.action_settings) {\r\n                return true;\r\n            }\r\n\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n","title":"Android Data binding : Cannot resolve symbol","body":"<p>I have tried to use the beta features(data binding) in the android studio. After following the guides from the android studio, I can find the related class DataBindingInfo in the android studio. But the databinding class does not generate after I create the project. Can someone help?</p>\n\n<p>build.gradle for the app module</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'com.android.databinding'\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.1\"\n\n    defaultConfig {\n        applicationId \"com.example.pigfamily.myapplication\"\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:23.0.1'\n}\n</code></pre>\n\n<p>build.gradle for the project</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        dependencies {\n            classpath \"com.android.tools.build:gradle:1.3.0\"\n            classpath \"com.android.databinding:dataBinder:1.0-rc1\"\n        }\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"user\"\n            type=\"com.example.pigfamily.myapplication.User\" /&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n &gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{user.name}\" /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>package com.example.pigfamily.myapplication;\n\nimport android.databinding.DataBindingUtil;\nimport android.databinding.ViewDataBinding;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ActivityMainBinding //cannot resolve the symbol here\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681318770,"post_id":75990984,"comment_id":134038415,"body_markdown":"How are you determining that there is a OneToMany relationship here exactly? The PrimaryJoinColumn in User is just wrong, as you don&#39;t have a foreign key to associate with the primary key (the relationship is marked as mapped by user). Removing this would tell JPA that both tables only have an ID that must be unique, with the Student.ID being a foreign key to User.Id - a One To One.","body":"How are you determining that there is a OneToMany relationship here exactly? The PrimaryJoinColumn in User is just wrong, as you don&#39;t have a foreign key to associate with the primary key (the relationship is marked as mapped by user). Removing this would tell JPA that both tables only have an ID that must be unique, with the Student.ID being a foreign key to User.Id - a One To One."},{"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"score":0,"creation_date":1681321508,"post_id":75990984,"comment_id":134039067,"body_markdown":"i can tell because you can look up the schema in Mysql. and @PrimaryKeyKeyColumn is to my understanding needed to make the association based on the primary key","body":"i can tell because you can look up the schema in Mysql. and @PrimaryKeyKeyColumn is to my understanding needed to make the association based on the primary key"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681323122,"post_id":75990984,"comment_id":134039391,"body_markdown":"Your understanding is incorrect. It is used more commonly in JPA 1.0 before there were derived IDs, where it was mostly aimed at having a way of specifying how to map multiple tables in the same entity (inheritance etc) and got reused on reference mappings. You might have used it on the Student.user mapping instead of MapsId so that JPA would know the foreign key in the mapping is tied to the id property - but JPA would NOT set the id property for you. It would behave as if you set a joinColumn and specified the same ID column and marked it updatable=false, insertable=false.","body":"Your understanding is incorrect. It is used more commonly in JPA 1.0 before there were derived IDs, where it was mostly aimed at having a way of specifying how to map multiple tables in the same entity (inheritance etc) and got reused on reference mappings. You might have used it on the Student.user mapping instead of MapsId so that JPA would know the foreign key in the mapping is tied to the id property - but JPA would NOT set the id property for you. It would behave as if you set a joinColumn and specified the same ID column and marked it updatable=false, insertable=false."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681323609,"post_id":75990984,"comment_id":134039504,"body_markdown":"The @PrimaryKeyJoinColumn shouldn&#39;t be used in the User side because you&#39;ve already told JPA that the mapping is controlled through the Student.user mapping. Adding it just confuses things, effectively stating that both IDs are fks to the other&#39;s ID. As for what you see in the schema ... what do you see in the schema compared to what you expect to see? There isn&#39;t much difference from a ManyToOne and OneToOne without adding a uniqueness constraint on the FK, and from the other side you won&#39;t see a fk at all.","body":"The @PrimaryKeyJoinColumn shouldn&#39;t be used in the User side because you&#39;ve already told JPA that the mapping is controlled through the Student.user mapping. Adding it just confuses things, effectively stating that both IDs are fks to the other&#39;s ID. As for what you see in the schema ... what do you see in the schema compared to what you expect to see? There isn&#39;t much difference from a ManyToOne and OneToOne without adding a uniqueness constraint on the FK, and from the other side you won&#39;t see a fk at all."},{"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"score":0,"creation_date":1681324388,"post_id":75990984,"comment_id":134039670,"body_markdown":"ahh got it. as to what i expect to see, i expect to see a one to one relatioship, as that&#39;s what i define, so what caused the association to be mapped to one to many","body":"ahh got it. as to what i expect to see, i expect to see a one to one relatioship, as that&#39;s what i define, so what caused the association to be mapped to one to many"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681329603,"post_id":75990984,"comment_id":134040799,"body_markdown":"You are not defining what you see, and there is no table structure difference between a bidirectional OneToOne compared to a ManyToOne/OneToMany relationship. One table will have a foreign key to the other. The only functional difference that prevents a Bidirectional one to one from &#39;being&#39; a OneToMany is that you might have a uniqueness constraint placed on the foreign key - ensuring only one child can reference the parent instead of many. You don&#39;t need and won&#39;t see that here because your foreign key is the ID for the child, so it must be unique.","body":"You are not defining what you see, and there is no table structure difference between a bidirectional OneToOne compared to a ManyToOne/OneToMany relationship. One table will have a foreign key to the other. The only functional difference that prevents a Bidirectional one to one from &#39;being&#39; a OneToMany is that you might have a uniqueness constraint placed on the foreign key - ensuring only one child can reference the parent instead of many. You don&#39;t need and won&#39;t see that here because your foreign key is the ID for the child, so it must be unique."}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681297650,"creation_date":1681293844,"answer_id":75994196,"question_id":75990984,"body_markdown":"I tried exactly your code in Hibernate 6.2, and this was the generated DDL:\r\n\r\n```sql\r\n    create table Student (\r\n        id bigint not null,\r\n        institution varchar(255),\r\n        level varchar(255),\r\n        specialty varchar(255),\r\n        type varchar(255),\r\n        primary key (id)\r\n    ) engine=InnoDB\r\n\r\n    create table User (\r\n        id bigint not null,\r\n        adress varchar(255),\r\n        birthDate varchar(255),\r\n        email varchar(255),\r\n        firstName varchar(255),\r\n        gender varchar(255),\r\n        lastName varchar(255),\r\n        password varchar(255),\r\n        phone integer not null,\r\n        type varchar(255),\r\n        username varchar(255),\r\n        primary key (id)\r\n    ) engine=InnoDB\r\n\r\n    alter table Student \r\n       add constraint FKkfqq4nickg8wu56axc7jktv1 \r\n       foreign key (id) \r\n       references User (id)\r\n```\r\n\r\nLooks like a pretty good one-to-one association to me.\r\n\r\n## UPDATE\r\n\r\nNote that I would map your association as follows, assuming that every `Student` has a `User`:\r\n\r\n```java\r\n\t@Entity\r\n\t@Table(name = &quot;Student&quot;)\r\n\tpublic static class Student {\r\n\t\t@Id\r\n\t\tprivate Long id;\r\n\r\n\t\t@OneToOne(optional=false)\r\n        @MapsId \r\n        @JoinColumn(name = &quot;id&quot;)\r\n\t\tprivate User user;\r\n        ...\r\n\t}\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;User&quot;)\r\n\tpublic static class User {\r\n\t\t@Id\r\n\t\tprivate Long id;\r\n\r\n\t\t@OneToOne(mappedBy = &quot;user&quot;)\r\n\t\tprivate Student student;\r\n        ...\r\n\t}\r\n```\r\n","title":"why does spring data jpa map a one to one association to a one to many","body":"<p>I tried exactly your code in Hibernate 6.2, and this was the generated DDL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create table Student (\n        id bigint not null,\n        institution varchar(255),\n        level varchar(255),\n        specialty varchar(255),\n        type varchar(255),\n        primary key (id)\n    ) engine=InnoDB\n\n    create table User (\n        id bigint not null,\n        adress varchar(255),\n        birthDate varchar(255),\n        email varchar(255),\n        firstName varchar(255),\n        gender varchar(255),\n        lastName varchar(255),\n        password varchar(255),\n        phone integer not null,\n        type varchar(255),\n        username varchar(255),\n        primary key (id)\n    ) engine=InnoDB\n\n    alter table Student \n       add constraint FKkfqq4nickg8wu56axc7jktv1 \n       foreign key (id) \n       references User (id)\n</code></pre>\n<p>Looks like a pretty good one-to-one association to me.</p>\n<h2>UPDATE</h2>\n<p>Note that I would map your association as follows, assuming that every <code>Student</code> has a <code>User</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name = &quot;Student&quot;)\n    public static class Student {\n        @Id\n        private Long id;\n\n        @OneToOne(optional=false)\n        @MapsId \n        @JoinColumn(name = &quot;id&quot;)\n        private User user;\n        ...\n    }\n\n    @Entity\n    @Table(name = &quot;User&quot;)\n    public static class User {\n        @Id\n        private Long id;\n\n        @OneToOne(mappedBy = &quot;user&quot;)\n        private Student student;\n        ...\n    }\n</code></pre>\n"}],"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75994196,"answer_count":1,"score":0,"last_activity_date":1681510598,"creation_date":1681258719,"question_id":75990984,"body_markdown":"i have 2 entities, Student and User. I&#39;m using JPA to create a one to one relationship between them as follows: \r\n\r\n```\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;Student&quot;)\r\npublic class Student {\r\n    @Id\r\n    private Long id;\r\n    private String specialty;\r\n    private String level;\r\n    private String type;\r\n    private String institution;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;id&quot;)\r\n    private User user;\r\n}\r\n```\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;User&quot;)\r\npublic class User {\r\n    @Id\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String gender;\r\n    private String birthDate;\r\n    private String adress;\r\n    private int phone;\r\n    private String username;\r\n    private String email;\r\n    private String password;\r\n    private String type;\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;)\r\n    @PrimaryKeyJoinColumn\r\n    private Student student;\r\n\r\n\r\n}\r\n```\r\n\r\nthis does create the relationship, however when i go to Mysql to see the tables the relationship is one to many, not one to one.","title":"why does spring data jpa map a one to one association to a one to many","body":"<p>i have 2 entities, Student and User. I'm using JPA to create a one to one relationship between them as follows:</p>\n<pre><code>\n\n@Entity\n@Table(name = &quot;Student&quot;)\npublic class Student {\n    @Id\n    private Long id;\n    private String specialty;\n    private String level;\n    private String type;\n    private String institution;\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;id&quot;)\n    private User user;\n}\n</code></pre>\n<pre><code>\n@Entity\n@Table(name = &quot;User&quot;)\npublic class User {\n    @Id\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String gender;\n    private String birthDate;\n    private String adress;\n    private int phone;\n    private String username;\n    private String email;\n    private String password;\n    private String type;\n\n    @OneToOne(mappedBy = &quot;user&quot;)\n    @PrimaryKeyJoinColumn\n    private Student student;\n\n\n}\n</code></pre>\n<p>this does create the relationship, however when i go to Mysql to see the tables the relationship is one to many, not one to one.</p>\n"},{"tags":["java","multithreading","semaphore","thread-synchronization"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1666575196,"post_id":74175504,"comment_id":130962852,"body_markdown":"I would suggest giving a meaningful name to `D`. What does it represent? Once that is clear, the problem with the logic is clear. The way the code is implemented, `D` represents whether the container is ready to receive a value from the producer. So, it should be initialised to `true`, not `false`.","body":"I would suggest giving a meaningful name to <code>D</code>. What does it represent? Once that is clear, the problem with the logic is clear. The way the code is implemented, <code>D</code> represents whether the container is ready to receive a value from the producer. So, it should be initialised to <code>true</code>, not <code>false</code>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1666575597,"post_id":74175504,"comment_id":130962896,"body_markdown":"Using `wait` and `notify` directly is likely to cause confusion.  It&#39;s almost certainly better to use a proper API, like [`Condition`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html).","body":"Using <code>wait</code> and <code>notify</code> directly is likely to cause confusion.  It&#39;s almost certainly better to use a proper API, like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\"><code>Condition</code></a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1666622699,"post_id":74175504,"comment_id":130974935,"body_markdown":"Each of you methods, `prendre` and `mettre` is establishing the condition the other thread will wait for, immediately after its own wait. Nothing enforces the other thread to wait until the end of the print statement. Hence, you’re not controlling the order of the print statements. To have control over the print order, you’d have to do “wait”, “print”, “change condition and notify” instead of “wait and change condition and notify”, “print”.","body":"Each of you methods, <code>prendre</code> and <code>mettre</code> is establishing the condition the other thread will wait for, immediately after its own wait. Nothing enforces the other thread to wait until the end of the print statement. Hence, you’re not controlling the order of the print statements. To have control over the print order, you’d have to do “wait”, “print”, “change condition and notify” instead of “wait and change condition and notify”, “print”."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":0,"creation_date":1681510858,"post_id":74175504,"comment_id":134073875,"body_markdown":"Each of your threads notifies and then prints. Nothing prevents the other thread from catching the notification and then printing before the thread that woke it can print. If you want to order the print statements, you have to print *before* you modify `empty` and release the lock.","body":"Each of your threads notifies and then prints. Nothing prevents the other thread from catching the notification and then printing before the thread that woke it can print. If you want to order the print statements, you have to print <i>before</i> you modify <code>empty</code> and release the lock."}],"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681510531,"creation_date":1666568020,"question_id":74175504,"body_markdown":"I tried making these two threads alternate but I failed. The logic is correct I think but the execution is wrong.  What do i do? It&#39;s a producer-consumer problem that I need to do using wait and notify.\r\n\r\nHere is the producer class:\r\n```\r\n\r\n\r\npublic class Producer extends Thread {\r\n\tprivate Container container;\r\n\tprivate int num;\r\n\tpublic Producer(Container s, int num) {\r\n\t\tcontainer=s;\r\n\t\tthis.num=num;\r\n\t}\r\n\t@Override\r\npublic void run() {\r\n\tfor (int i=0;i&lt;10;i++) {\r\n\t\tcontainer.mettre(num);\r\n\t\tSystem.out.println(&quot;producer &quot;+i);\r\n\t\ttry {\r\n\t\t\tsleep((long) (Math.random()*100));}\r\n\t\t\tcatch(InterruptedException e) {}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nConsumer class:\r\n```\r\n\r\n\r\npublic class Consumer extends Thread {\r\n\tprivate Container container;\r\n\tprivate int num;\r\n\tpublic Consumer(Container s, int num) {\r\n\t\tcontainer=s;\r\n\t\tthis.num=num;\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tint valeur=0;\r\n\t\tfor (int i=0;i&lt;10;i++) {\r\n\t\t\tvaleur=container.prendre();\r\n\t\t\tSystem.out.println(&quot;Consumer &quot;+i+&quot; prend &quot;+valeur);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nand this is container class:\r\n```\r\n\r\n\r\npublic class Container {\r\n  private int Contenu;\r\n  private boolean empty= false;\r\n    \r\n  public synchronized int prendre() {\r\n\t  while(empty==true) {\r\n\t\t  try{\r\n\t\t\t  wait();\r\n\t\t\t  }\r\n\t\t  catch(InterruptedException e) {}\r\n\t\t  }\r\n\t  empty=true;\r\n\t  notify();\r\n\t  return Contenu;\r\n\t  }\r\n  public synchronized void mettre(int valeur) {\r\n\t  while(empty==false) {\r\n\t\t  try{\r\n\t\t\t  wait();\r\n\t\t\t  }\r\n\t\t  catch(InterruptedException e) {}\r\n\t\t  }\r\n\t  Contenu=valeur;\r\n\t  empty=false;\r\n\t  notify();\r\n\t  }\r\n  }\r\n```\r\nWhen I execute the order of the 2 threads is random, in theory it should be producer then consumer etc. ","title":"how do i use wait and notify properly","body":"<p>I tried making these two threads alternate but I failed. The logic is correct I think but the execution is wrong.  What do i do? It's a producer-consumer problem that I need to do using wait and notify.</p>\n<p>Here is the producer class:</p>\n<pre><code>\n\npublic class Producer extends Thread {\n    private Container container;\n    private int num;\n    public Producer(Container s, int num) {\n        container=s;\n        this.num=num;\n    }\n    @Override\npublic void run() {\n    for (int i=0;i&lt;10;i++) {\n        container.mettre(num);\n        System.out.println(&quot;producer &quot;+i);\n        try {\n            sleep((long) (Math.random()*100));}\n            catch(InterruptedException e) {}\n        }\n    }\n}\n\n\n</code></pre>\n<p>Consumer class:</p>\n<pre><code>\n\npublic class Consumer extends Thread {\n    private Container container;\n    private int num;\n    public Consumer(Container s, int num) {\n        container=s;\n        this.num=num;\n    }\n    @Override\n    public void run() {\n        int valeur=0;\n        for (int i=0;i&lt;10;i++) {\n            valeur=container.prendre();\n            System.out.println(&quot;Consumer &quot;+i+&quot; prend &quot;+valeur);\n        }\n    }\n\n}\n</code></pre>\n<p>and this is container class:</p>\n<pre><code>\n\npublic class Container {\n  private int Contenu;\n  private boolean empty= false;\n    \n  public synchronized int prendre() {\n      while(empty==true) {\n          try{\n              wait();\n              }\n          catch(InterruptedException e) {}\n          }\n      empty=true;\n      notify();\n      return Contenu;\n      }\n  public synchronized void mettre(int valeur) {\n      while(empty==false) {\n          try{\n              wait();\n              }\n          catch(InterruptedException e) {}\n          }\n      Contenu=valeur;\n      empty=false;\n      notify();\n      }\n  }\n</code></pre>\n<p>When I execute the order of the 2 threads is random, in theory it should be producer then consumer etc.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2885864,"reputation":861,"user_id":2475798,"display_name":"Neenad"},"score":0,"creation_date":1677225180,"post_id":75503252,"comment_id":133299347,"body_markdown":"Does this answer your question? [How do I add HTTP basic auth for a specific endpoint with spring security?](https://stackoverflow.com/questions/43524211/how-do-i-add-http-basic-auth-for-a-specific-endpoint-with-spring-security)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43524211/how-do-i-add-http-basic-auth-for-a-specific-endpoint-with-spring-security\">How do I add HTTP basic auth for a specific endpoint with spring security?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676839957,"creation_date":1676839957,"answer_id":75503376,"question_id":75503252,"body_markdown":"I believe the issue might have to do with how you are organizing the packages. By default, Spring will look under the package of the main application or any sub-packages.\r\n\r\nIt&#39;s hard to be sure from the information provided in the question, but for instance, if your main application class is under the package `com.example`, and the security configuration class is under the package `Security`, it won&#39;t find it by default. Also, be sure to not use the default package (or &quot;no package&quot;).\r\n\r\nSo the options are:\r\n* Add `@ComponentScan` annotation to the main class to indicate where to look: `@ComponentScan(&quot;Security&quot;)`\r\n* Move the security config class under the same package as the main class or a sub-package: `com.example.security` (recommended).\r\n\r\nSee [Spring documentation](https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html) for reference.\r\n\r\nI also suggest that you use the standard naming and styling conventions for Java. (lower-case package names, lower-case method attributes, pascal-case class names). See [Naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) for reference. It will not only look better and consistent with other code bases but will also make it compatible with many tools that follow convention over configuration, which is favored a lot in the Spring ecosystem.","title":"why does spring security refuse to use my config file","body":"<p>I believe the issue might have to do with how you are organizing the packages. By default, Spring will look under the package of the main application or any sub-packages.</p>\n<p>It's hard to be sure from the information provided in the question, but for instance, if your main application class is under the package <code>com.example</code>, and the security configuration class is under the package <code>Security</code>, it won't find it by default. Also, be sure to not use the default package (or &quot;no package&quot;).</p>\n<p>So the options are:</p>\n<ul>\n<li>Add <code>@ComponentScan</code> annotation to the main class to indicate where to look: <code>@ComponentScan(&quot;Security&quot;)</code></li>\n<li>Move the security config class under the same package as the main class or a sub-package: <code>com.example.security</code> (recommended).</li>\n</ul>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">Spring documentation</a> for reference.</p>\n<p>I also suggest that you use the standard naming and styling conventions for Java. (lower-case package names, lower-case method attributes, pascal-case class names). See <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Naming conventions</a> for reference. It will not only look better and consistent with other code bases but will also make it compatible with many tools that follow convention over configuration, which is favored a lot in the Spring ecosystem.</p>\n"}],"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75503376,"answer_count":1,"score":1,"last_activity_date":1681510468,"creation_date":1676838623,"question_id":75503252,"body_markdown":"im learning Spring security and created a config file to change the login from form to basic as a first step, however the config file doesn&#39;t do anything and no changes happen \r\n\r\nhere is the code in the config file: \r\n\r\n```\r\npackage Security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class securityConfiguration {\r\n\r\n@Bean\r\n    public SecurityFilterChain configure(HttpSecurity Sec ) throws Exception {\r\n        Sec\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .httpBasic();\r\n        return Sec.build();}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nand this is my POM.xml :\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;test&lt;/name&gt;\r\n    &lt;description&gt;test&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\ni suspected the problem might be spring not picking up the config file but the annotations did nothing to fix this. ","title":"why does spring security refuse to use my config file","body":"<p>im learning Spring security and created a config file to change the login from form to basic as a first step, however the config file doesn't do anything and no changes happen</p>\n<p>here is the code in the config file:</p>\n<pre><code>package Security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class securityConfiguration {\n\n@Bean\n    public SecurityFilterChain configure(HttpSecurity Sec ) throws Exception {\n        Sec\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic();\n        return Sec.build();}\n\n\n\n}\n\n\n\n\n</code></pre>\n<p>and this is my POM.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;test&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>i suspected the problem might be spring not picking up the config file but the annotations did nothing to fix this.</p>\n"},{"tags":["java","spring-boot","kotlin"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1561518619,"post_id":56764255,"comment_id":100085726,"body_markdown":"I&#39;ll offer an aside here to broaden the perspective a bit.  One of my good friends is a Scala fanatic,  We can&#39;t talk languages any more, at least not JVM languages, because he gets so religious about Scala.  As I say below, my company and I went with Kotlin.  My only reason for saying this is that my friend is also a Big Time Spring fan.  I don&#39;t know the details, but he builds great projects with Spring and Scala.  So just because Spring Initializr doesn&#39;t support a particular alternative JVM language doesn&#39;t mean it isn&#39;t a valid option.","body":"I&#39;ll offer an aside here to broaden the perspective a bit.  One of my good friends is a Scala fanatic,  We can&#39;t talk languages any more, at least not JVM languages, because he gets so religious about Scala.  As I say below, my company and I went with Kotlin.  My only reason for saying this is that my friend is also a Big Time Spring fan.  I don&#39;t know the details, but he builds great projects with Spring and Scala.  So just because Spring Initializr doesn&#39;t support a particular alternative JVM language doesn&#39;t mean it isn&#39;t a valid option."},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":1,"creation_date":1561546380,"post_id":56764255,"comment_id":100097602,"body_markdown":"One of the thing to be aware of is that Kotlin compiler doesn&#39;t force you catching/declaring checked exceptions, so you need to pay extra attention to `@Transactional` methods as rollback is *not* executed for checked exceptions. That is easier to &quot;remember&quot; in Java, where you are forced to either handle them or declare them in the method&#39;s signature","body":"One of the thing to be aware of is that Kotlin compiler doesn&#39;t force you catching/declaring checked exceptions, so you need to pay extra attention to <code>@Transactional</code> methods as rollback is <i>not</i> executed for checked exceptions. That is easier to &quot;remember&quot; in Java, where you are forced to either handle them or declare them in the method&#39;s signature"}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1681510336,"creation_date":1561516179,"answer_id":56764356,"question_id":56764255,"body_markdown":"The main difference is: with Kotlin, you&#39;re programming in Kotlin...with Java, you&#39;re programming in Java.  Spring makes use of some languages features exclusive to Kotlin to streamline certain operations, but I wouldn&#39;t think you&#39;d want to choose one language over the other just because of those few additional benefits.  For the most part, there is no difference.  Spring supports both languages well.\r\n\r\nUPDATE: I guess I should add that Kotlin does introduce a few minor problems into the whole Spring thing, just because Spring is actually written in Java and was originally designed to be utilized via Java.  But just like the pros you get with Spring and Kotlin, these minor negatives should likewise not dictate your choice as to which language to use.\r\n\r\nI think what you should be asking is &quot;which language should I use?&quot; leaving Spring out of it.  My company is coding new modules in Kotlin because we consider it a significantly better language than Java.  But we have lots of legacy Java code, and we&#39;ve chosen to for the most part not mix languages within a single module, so we still code in Java too.  You have to make your own decision.  Decide what language you want to program in based on the language itself, and on your existing codebase, but not on how Spring works with it.  Spring will work great with either.\r\n\r\n\r\nThere are many articles and blogs out there comparing the two languages, listing their relative pros and cons.  I&#39;d suggest that you read everything you can.  There&#39;s no &quot;right&quot; answer here. (...which is why I know this question is going to be closed as being opinion-based).  Try Kotlin.  Heck, try Groovy and Scala too.  &quot;live&quot; the pros and cons for yourself, and then decide what will work best for you.\r\n\r\nBTW, you list &quot;Risk to have Java moving faster than Kotlin&quot; as a Con of Kotlin.  I think the risk is in the other direction.  Java moves very slowly compared to Kotlin and other alternative languages.  That&#39;s why you see it playing catch-up...finally introducing features into the language that have been in the alternative languages for many years.\r\n","title":"What are the differences using spring boot with Kotlin and with Java?","body":"<p>The main difference is: with Kotlin, you're programming in Kotlin...with Java, you're programming in Java.  Spring makes use of some languages features exclusive to Kotlin to streamline certain operations, but I wouldn't think you'd want to choose one language over the other just because of those few additional benefits.  For the most part, there is no difference.  Spring supports both languages well.</p>\n<p>UPDATE: I guess I should add that Kotlin does introduce a few minor problems into the whole Spring thing, just because Spring is actually written in Java and was originally designed to be utilized via Java.  But just like the pros you get with Spring and Kotlin, these minor negatives should likewise not dictate your choice as to which language to use.</p>\n<p>I think what you should be asking is &quot;which language should I use?&quot; leaving Spring out of it.  My company is coding new modules in Kotlin because we consider it a significantly better language than Java.  But we have lots of legacy Java code, and we've chosen to for the most part not mix languages within a single module, so we still code in Java too.  You have to make your own decision.  Decide what language you want to program in based on the language itself, and on your existing codebase, but not on how Spring works with it.  Spring will work great with either.</p>\n<p>There are many articles and blogs out there comparing the two languages, listing their relative pros and cons.  I'd suggest that you read everything you can.  There's no &quot;right&quot; answer here. (...which is why I know this question is going to be closed as being opinion-based).  Try Kotlin.  Heck, try Groovy and Scala too.  &quot;live&quot; the pros and cons for yourself, and then decide what will work best for you.</p>\n<p>BTW, you list &quot;Risk to have Java moving faster than Kotlin&quot; as a Con of Kotlin.  I think the risk is in the other direction.  Java moves very slowly compared to Kotlin and other alternative languages.  That's why you see it playing catch-up...finally introducing features into the language that have been in the alternative languages for many years.</p>\n"},{"tags":[],"owner":{"account_id":7105431,"reputation":2516,"user_id":5435216,"display_name":"Tahir Hussain Mir"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1561517155,"creation_date":1561517155,"answer_id":56764477,"question_id":56764255,"body_markdown":"Since Kotlin is simply a dependency and plugin for Maven (that&#39;s it!). It&#39;s such a nice, compact, easy-to-grok language that removes all the syntactic fat (opposed to syntactic sugar) that Java provides.\r\n\r\nFrom 5.0.0 onward Kotlin has first-class support from Spring, which effectively means it has all the same guarantees as Java in terms of code working correctly.\r\n\r\nKotlin itself has a ton of interoperability features to smoothly integrate with any already existing Java library, which means you have the same freedom of choice.\r\n\r\nKotlin&#39;s Java interop is amazing, and was by no means an afterthought by Jet Brains. Thus Kotlin works nicely with Spring, which provides a lot of the boilerplate functionality for web applications, especially Spring Boot.\r\n\r\nThese are some points which You already mentioned but I will still have a say about it. Kotlin has a much more compact syntax and its type system allows for much more robust code through null-safety, sealed classes, and immutable/mutable collection distinction, which together significantly reduce development time on any project.\r\n\r\n","title":"What are the differences using spring boot with Kotlin and with Java?","body":"<p>Since Kotlin is simply a dependency and plugin for Maven (that's it!). It's such a nice, compact, easy-to-grok language that removes all the syntactic fat (opposed to syntactic sugar) that Java provides.</p>\n\n<p>From 5.0.0 onward Kotlin has first-class support from Spring, which effectively means it has all the same guarantees as Java in terms of code working correctly.</p>\n\n<p>Kotlin itself has a ton of interoperability features to smoothly integrate with any already existing Java library, which means you have the same freedom of choice.</p>\n\n<p>Kotlin's Java interop is amazing, and was by no means an afterthought by Jet Brains. Thus Kotlin works nicely with Spring, which provides a lot of the boilerplate functionality for web applications, especially Spring Boot.</p>\n\n<p>These are some points which You already mentioned but I will still have a say about it. Kotlin has a much more compact syntax and its type system allows for much more robust code through null-safety, sealed classes, and immutable/mutable collection distinction, which together significantly reduce development time on any project.</p>\n"}],"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18083,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":56764477,"answer_count":2,"score":9,"last_activity_date":1681510336,"creation_date":1561515322,"question_id":56764255,"body_markdown":"What are the differences using spring boot with Kotlin and with Java?\r\n\r\nKotlin is among the three languages you could choose to start your app with https://start.spring.io. So it&#39;s supported by the spring boot team. I used it to develop some microservices and as far as I know everything went fine at the end but I would like to have some feedback from other developers because I try to convince my new team to start our new microservices in Kotlin.\r\n\r\nPros:\r\n\r\n - Null safety \r\n - Clearer code\r\n - Val over var\r\n\r\nCons:\r\n\r\n - Mockito not Kotlin friendly (I switched to mockk) \r\n - Code coverage was not out of the box (we had to develop our own plugin) \r\n - Risk to have Java moving faster than Kotlin","title":"What are the differences using spring boot with Kotlin and with Java?","body":"<p>What are the differences using spring boot with Kotlin and with Java?</p>\n\n<p>Kotlin is among the three languages you could choose to start your app with <a href=\"https://start.spring.io\" rel=\"noreferrer\">https://start.spring.io</a>. So it's supported by the spring boot team. I used it to develop some microservices and as far as I know everything went fine at the end but I would like to have some feedback from other developers because I try to convince my new team to start our new microservices in Kotlin.</p>\n\n<p>Pros:</p>\n\n<ul>\n<li>Null safety </li>\n<li>Clearer code</li>\n<li>Val over var</li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li>Mockito not Kotlin friendly (I switched to mockk) </li>\n<li>Code coverage was not out of the box (we had to develop our own plugin) </li>\n<li>Risk to have Java moving faster than Kotlin</li>\n</ul>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":463036,"reputation":5197,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"score":1,"creation_date":1681507939,"post_id":76019031,"comment_id":134073454,"body_markdown":"Try adding a System.out.println of ans and ans.length() to see what you are really inputting. Also the last else if() can simply be an else.","body":"Try adding a System.out.println of ans and ans.length() to see what you are really inputting. Also the last else if() can simply be an else."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":1,"creation_date":1681508235,"post_id":76019031,"comment_id":134073497,"body_markdown":"Why are you passing in a scanner as an argument just to create a new scanner? Although this isn&#39;t the source of your problem (I have checked) you should not be calling `Object.equals`. You should be calling `equals()` on a String object.","body":"Why are you passing in a scanner as an argument just to create a new scanner? Although this isn&#39;t the source of your problem (I have checked) you should not be calling <code>Object.equals</code>. You should be calling <code>equals()</code> on a String object."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":1,"creation_date":1681508327,"post_id":76019031,"comment_id":134073516,"body_markdown":"As noted in the answer below, these scanning from user input problems are notorious.\n\nI would suggest you change your logic so that you only ever &quot;read a line&quot; whenever you want user input. You should then do further processing on that string which you have ready to strip any unwanted characters and convert to the correct type, eg an integer, in some cases.","body":"As noted in the answer below, these scanning from user input problems are notorious.  I would suggest you change your logic so that you only ever &quot;read a line&quot; whenever you want user input. You should then do further processing on that string which you have ready to strip any unwanted characters and convert to the correct type, eg an integer, in some cases."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":1,"creation_date":1681508405,"post_id":76019031,"comment_id":134073530,"body_markdown":"You also should absolutly NOT be calling your get function recursively. Every time you enter an invalid value, you are pushing one level deeper into the stack. If you enter 10 wrong values, you have to pop back out of that stack 10 more times. Essentially, the logic doesn&#39;t make any sense. This is not a recusion problem.","body":"You also should absolutly NOT be calling your get function recursively. Every time you enter an invalid value, you are pushing one level deeper into the stack. If you enter 10 wrong values, you have to pop back out of that stack 10 more times. Essentially, the logic doesn&#39;t make any sense. This is not a recusion problem."}],"answers":[{"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681509622,"creation_date":1681509198,"answer_id":76019207,"question_id":76019031,"body_markdown":"I have tested this modified code and it works when run with Eclipse on Windows with OpenJDK, Java Version 17.\r\n\r\nThere were several problems with your code which meant the logic didn&#39;t make any sense.\r\n\r\nIn particular, using a recursive method to get user input which you can&#39;t short circuit escape from, makes no sense at all.\r\n\r\nDoing things like `inputStream.nextint()` is also a sign of some fragile logic. It is usually better to read a whole line into a string (something that can&#39;t really fail) and then process the string to get the input you want.\r\n\r\nIn this case you want to:\r\n\r\n- Strip any whitespace and newlines\r\n- Perform integer conversion with `Integer.valueOf`\r\n\r\nDoing it this way will be much more reliable.\r\n\r\nI have no idea what `nextInt` does, or under what conditions it works. (eg: does it work if you prepend tabs or spaces? does it work with extra characters following the string? etc...)\r\n\r\nThere are so many possible combinations of input - the behaviour could be any number of possibilities and only reading the documentation carefully would resolve this.\r\n\r\nBy the way, the actual reason for your failure (assides from logic errors) was because `nextInt` reads just that - the integer - without the new line character. A new line is left in your input stream, which is then picked up by the next input reading function call.\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.InputMismatchException;\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n\t\r\n    private static int getPressure(Scanner l, String pres) {\r\n\r\n        String ans;\r\n        boolean badUserInput = true;\r\n        Integer num = Integer.valueOf(0);\r\n        \r\n        //get user input only if it is an integer, otherwise return error message\r\n        //and get user input again\r\n        while(badUserInput) {\r\n            try {\r\n                System.out.println(&quot;Please input &quot; + pres + &quot; Blood Pressure:&quot;);\r\n                ans = l.nextLine();\r\n                ans = ans.strip();\r\n                num = Integer.valueOf(ans);\r\n                badUserInput = false;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Sorry, that didn&#39;t work. Please ensure your input is a whole number.&quot;);\r\n            }\r\n        }\r\n        \r\n        return num.intValue();\r\n    }\r\n\r\n    private static boolean checkPressure(Scanner l, int num, String pres) {\r\n        System.out.println(&quot;You typed &quot; + num + &quot;, is that correct? (Yes/No)&quot;);\r\n\r\n        //if input does not match one of expected values (&quot;Yes&quot; and &quot;No&quot;)\r\n        //return error message and take input again\r\n        String ans;\r\n        boolean badUserInput = true;\r\n        boolean returnOk = false;\r\n        while(badUserInput ) {\r\n            ans = l.nextLine();\r\n            \r\n            if (ans.equals(&quot;Yes&quot;)) {\r\n                badUserInput = false;\r\n                returnOk = true;\r\n            } else if (ans.equals(&quot;No&quot;)) {\r\n            \tbadUserInput = false;\r\n            \treturnOk = false;\r\n            } else {\r\n                System.out.println(&quot;Sorry, invalid input, please type &#39;Yes&#39; or &#39;No&#39;&quot;);\r\n            }\r\n        }\r\n        \r\n        return returnOk;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n\r\n        int sys = 0;\r\n        int dias = 0;\r\n        String systolic = &quot;Systolic&quot;;\r\n        String diastolic = &quot;Diastolic&quot;;\r\n        Scanner p = new Scanner(System.in);\r\n        \r\n        boolean repeat = true;\r\n        while(repeat) {\r\n        \tsys = getPressure(p, systolic);\r\n        \tboolean returnedValue = checkPressure(p, sys, systolic);\r\n        \trepeat = !returnedValue;\r\n        }\r\n        \r\n        repeat = true;\r\n        while(repeat) {\r\n        \tdias = getPressure(p, diastolic);\r\n        \tboolean returnedValue = checkPressure(p, sys, diastolic);\r\n        \trepeat = !returnedValue;\r\n        }\r\n    }\r\n}\r\n```","title":"Why is my Java program automatically executing if statement?","body":"<p>I have tested this modified code and it works when run with Eclipse on Windows with OpenJDK, Java Version 17.</p>\n<p>There were several problems with your code which meant the logic didn't make any sense.</p>\n<p>In particular, using a recursive method to get user input which you can't short circuit escape from, makes no sense at all.</p>\n<p>Doing things like <code>inputStream.nextint()</code> is also a sign of some fragile logic. It is usually better to read a whole line into a string (something that can't really fail) and then process the string to get the input you want.</p>\n<p>In this case you want to:</p>\n<ul>\n<li>Strip any whitespace and newlines</li>\n<li>Perform integer conversion with <code>Integer.valueOf</code></li>\n</ul>\n<p>Doing it this way will be much more reliable.</p>\n<p>I have no idea what <code>nextInt</code> does, or under what conditions it works. (eg: does it work if you prepend tabs or spaces? does it work with extra characters following the string? etc...)</p>\n<p>There are so many possible combinations of input - the behaviour could be any number of possibilities and only reading the documentation carefully would resolve this.</p>\n<p>By the way, the actual reason for your failure (assides from logic errors) was because <code>nextInt</code> reads just that - the integer - without the new line character. A new line is left in your input stream, which is then picked up by the next input reading function call.</p>\n<pre><code>package test;\n\nimport java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class App {\n    \n    private static int getPressure(Scanner l, String pres) {\n\n        String ans;\n        boolean badUserInput = true;\n        Integer num = Integer.valueOf(0);\n        \n        //get user input only if it is an integer, otherwise return error message\n        //and get user input again\n        while(badUserInput) {\n            try {\n                System.out.println(&quot;Please input &quot; + pres + &quot; Blood Pressure:&quot;);\n                ans = l.nextLine();\n                ans = ans.strip();\n                num = Integer.valueOf(ans);\n                badUserInput = false;\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Sorry, that didn't work. Please ensure your input is a whole number.&quot;);\n            }\n        }\n        \n        return num.intValue();\n    }\n\n    private static boolean checkPressure(Scanner l, int num, String pres) {\n        System.out.println(&quot;You typed &quot; + num + &quot;, is that correct? (Yes/No)&quot;);\n\n        //if input does not match one of expected values (&quot;Yes&quot; and &quot;No&quot;)\n        //return error message and take input again\n        String ans;\n        boolean badUserInput = true;\n        boolean returnOk = false;\n        while(badUserInput ) {\n            ans = l.nextLine();\n            \n            if (ans.equals(&quot;Yes&quot;)) {\n                badUserInput = false;\n                returnOk = true;\n            } else if (ans.equals(&quot;No&quot;)) {\n                badUserInput = false;\n                returnOk = false;\n            } else {\n                System.out.println(&quot;Sorry, invalid input, please type 'Yes' or 'No'&quot;);\n            }\n        }\n        \n        return returnOk;\n    }\n    \n    public static void main(String[] args) {\n\n        int sys = 0;\n        int dias = 0;\n        String systolic = &quot;Systolic&quot;;\n        String diastolic = &quot;Diastolic&quot;;\n        Scanner p = new Scanner(System.in);\n        \n        boolean repeat = true;\n        while(repeat) {\n            sys = getPressure(p, systolic);\n            boolean returnedValue = checkPressure(p, sys, systolic);\n            repeat = !returnedValue;\n        }\n        \n        repeat = true;\n        while(repeat) {\n            dias = getPressure(p, diastolic);\n            boolean returnedValue = checkPressure(p, sys, diastolic);\n            repeat = !returnedValue;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27853983,"reputation":43,"user_id":21267909,"display_name":"Dharco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681509622,"creation_date":1681507345,"question_id":76019031,"body_markdown":"I am currently writing a Java program as a class project (we&#39;re allowed notes and SO as a resource) to take an integer systolic and diastolic blood pressure input from a user, and return a corresponding diagnosis (&quot;Your blood pressure is in the range of pre-hypertension&quot;, etc.). I am only halfway done with the project, but I cannot for the life of me figure out why this block of code is automatically executing. \r\n\r\nHere&#39;s the whole code:\r\n``` \r\nimport java.util.InputMismatchException;\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    //create method for getting blood pressure and handling exceptions\r\n    private static int getPressure (Scanner l, int num, String pres) {\r\n        //localize variables\r\n        l = new Scanner(System.in);\r\n        String ans;\r\n        //get user input only if it is an integer, otherwise return error message\r\n        //and get user input again\r\n        while (true) {\r\n            try {\r\n                System.out.println(&quot;Please input &quot; + pres + &quot; Blood Pressure:&quot;);\r\n                num = l.nextInt();\r\n                break;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Sorry, that didn&#39;t work. Please ensure your input is a whole number.&quot;);\r\n                l.next();\r\n            }\r\n        }\r\n        //Verify user input is as intended, otherwise take input again\r\n        System.out.println(&quot;You typed &quot; + num + &quot;, is that correct? (Yes/No)&quot;);\r\n        //take input\r\n        ans = l.nextLine();\r\n        //if input does not match one of expected values (&quot;Yes&quot; and &quot;No&quot;)\r\n        //return error message and take input again\r\n        do {\r\n            if (Objects.equals(ans, &quot;Yes&quot;)) {\r\n                break;\r\n            } else if (Objects.equals(ans, &quot;No&quot;)) {\r\n                getPressure(l, num, pres);\r\n            } else if(!(Objects.equals(ans, &quot;Yes&quot;) &amp;&amp; !(Objects.equals(ans, &quot;No&quot;)))) {\r\n                System.out.println(&quot;Sorry, invalid input, please type &#39;Yes&#39; or &#39;No&#39;&quot;);\r\n            }\r\n\r\n        } while (true);\r\n        return num;\r\n    }\r\n    public static void main(String[] args) {\r\n        //Declare variables\r\n        int sys = 0;\r\n        int dias = 0;\r\n        String systolic = &quot;Systolic&quot;;\r\n        String diastolic = &quot;Diastolic&quot;;\r\n        Scanner p = new Scanner(System.in);\r\n        getPressure(p, sys, systolic);\r\n        getPressure(p, dias, diastolic);\r\n    }\r\n}\r\n``` \r\n\r\nand here is the block that is automatically executing for some reason:\r\n\r\n``` \r\n else if(!(Objects.equals(ans, &quot;Yes&quot;) &amp;&amp; !(Objects.equals(ans, &quot;No&quot;)))) {\r\n                System.out.println(&quot;Sorry, invalid input, please type &#39;Yes&#39; or &#39;No&#39;&quot;);\r\n            }\r\n``` \r\n\r\nHere are some sample input/output scenarios with the output unquoted and the input in single quotes:\r\n\r\nExpected:\r\n\r\n**Please input Systolic Blood Pressure:**\r\n\r\n**&#39;120&#39;**\r\n\r\n**You typed 120, is that correct? (Yes/No)**\r\n\r\n**&#39;Yes&#39;**\r\n\r\n**Please input Diastolic Blood Pressure:**\r\n\r\n**&#39;90&#39;**\r\n\r\n**Process finished with exit code ...**\r\n\r\nActual:\r\n\r\n**Please input Systolic Blood Pressure:**\r\n\r\n**&#39;120&#39;**\r\n\r\n**You typed 120, is that correct? (Yes/No)**\r\n\r\n**&#39;Yes&#39;**\r\n\r\n**Sorry, invalid input please type &#39;Yes&#39; or &#39;No&#39;**\r\n\r\n**Please input Diastolic Blood Pressure:**\r\n\r\n**&#39;90&#39;**\r\n\r\n**Process finished with exit code ...**\r\n\r\nSome things I have tried (perhaps foolishly as I truly don&#39;t understand certain aspects of Java&#39;s Scanner Class&quot;\r\n\r\n-Adding l.next(); in various places (just infinitely returns &quot;Sorry, invalid input, please type &#39;Yes&#39; or &#39;No&#39;&quot;)\r\n\r\n-Using ans.equals (same as adding l.next())\r\n\r\n-Changing the if/else if/else statements in every way I can imagine (Only produces one of either outcome mentioned here)","title":"Why is my Java program automatically executing if statement?","body":"<p>I am currently writing a Java program as a class project (we're allowed notes and SO as a resource) to take an integer systolic and diastolic blood pressure input from a user, and return a corresponding diagnosis (&quot;Your blood pressure is in the range of pre-hypertension&quot;, etc.). I am only halfway done with the project, but I cannot for the life of me figure out why this block of code is automatically executing.</p>\n<p>Here's the whole code:</p>\n<pre><code>import java.util.InputMismatchException;\nimport java.util.Objects;\nimport java.util.Scanner;\n\npublic class Main {\n    //create method for getting blood pressure and handling exceptions\n    private static int getPressure (Scanner l, int num, String pres) {\n        //localize variables\n        l = new Scanner(System.in);\n        String ans;\n        //get user input only if it is an integer, otherwise return error message\n        //and get user input again\n        while (true) {\n            try {\n                System.out.println(&quot;Please input &quot; + pres + &quot; Blood Pressure:&quot;);\n                num = l.nextInt();\n                break;\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Sorry, that didn't work. Please ensure your input is a whole number.&quot;);\n                l.next();\n            }\n        }\n        //Verify user input is as intended, otherwise take input again\n        System.out.println(&quot;You typed &quot; + num + &quot;, is that correct? (Yes/No)&quot;);\n        //take input\n        ans = l.nextLine();\n        //if input does not match one of expected values (&quot;Yes&quot; and &quot;No&quot;)\n        //return error message and take input again\n        do {\n            if (Objects.equals(ans, &quot;Yes&quot;)) {\n                break;\n            } else if (Objects.equals(ans, &quot;No&quot;)) {\n                getPressure(l, num, pres);\n            } else if(!(Objects.equals(ans, &quot;Yes&quot;) &amp;&amp; !(Objects.equals(ans, &quot;No&quot;)))) {\n                System.out.println(&quot;Sorry, invalid input, please type 'Yes' or 'No'&quot;);\n            }\n\n        } while (true);\n        return num;\n    }\n    public static void main(String[] args) {\n        //Declare variables\n        int sys = 0;\n        int dias = 0;\n        String systolic = &quot;Systolic&quot;;\n        String diastolic = &quot;Diastolic&quot;;\n        Scanner p = new Scanner(System.in);\n        getPressure(p, sys, systolic);\n        getPressure(p, dias, diastolic);\n    }\n}\n</code></pre>\n<p>and here is the block that is automatically executing for some reason:</p>\n<pre><code> else if(!(Objects.equals(ans, &quot;Yes&quot;) &amp;&amp; !(Objects.equals(ans, &quot;No&quot;)))) {\n                System.out.println(&quot;Sorry, invalid input, please type 'Yes' or 'No'&quot;);\n            }\n</code></pre>\n<p>Here are some sample input/output scenarios with the output unquoted and the input in single quotes:</p>\n<p>Expected:</p>\n<p><strong>Please input Systolic Blood Pressure:</strong></p>\n<p><strong>'120'</strong></p>\n<p><strong>You typed 120, is that correct? (Yes/No)</strong></p>\n<p><strong>'Yes'</strong></p>\n<p><strong>Please input Diastolic Blood Pressure:</strong></p>\n<p><strong>'90'</strong></p>\n<p><strong>Process finished with exit code ...</strong></p>\n<p>Actual:</p>\n<p><strong>Please input Systolic Blood Pressure:</strong></p>\n<p><strong>'120'</strong></p>\n<p><strong>You typed 120, is that correct? (Yes/No)</strong></p>\n<p><strong>'Yes'</strong></p>\n<p><strong>Sorry, invalid input please type 'Yes' or 'No'</strong></p>\n<p><strong>Please input Diastolic Blood Pressure:</strong></p>\n<p><strong>'90'</strong></p>\n<p><strong>Process finished with exit code ...</strong></p>\n<p>Some things I have tried (perhaps foolishly as I truly don't understand certain aspects of Java's Scanner Class&quot;</p>\n<p>-Adding l.next(); in various places (just infinitely returns &quot;Sorry, invalid input, please type 'Yes' or 'No'&quot;)</p>\n<p>-Using ans.equals (same as adding l.next())</p>\n<p>-Changing the if/else if/else statements in every way I can imagine (Only produces one of either outcome mentioned here)</p>\n"},{"tags":["java","maven","dependencies","esapi"],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1451785084,"creation_date":1451785084,"answer_id":34572533,"question_id":34295088,"body_markdown":"ESAPI does not support SLF4J, even though that in turn supports log4j. Your logging choices for ESAPI are either log4j or java.util.logging, controlled via the ESAPI.logger property in ESAPI.properties. If you decide to use log4j (i.e., ESAPI.Logger=org.owasp.esapi.reference.Log4JLogFactory), then you need the log4j.jar and either a log4j.xml or log4j.properties in your classpath, depending on which version of log4j you are using. Alternately, you can use java.util.logging by setting ESAPI.Logger=org.owasp.esapi.reference.JavaLogFactory in your ESAPI.properties file.\r\n\r\nI see you appear to be doing this for Wells Fargo. If you have further questions, look up &quot;Kevin W. Wall&quot; in Teamworks and send me an email as I am part of the Secure Code Review team there as well as project lead for ESAPI, so given more context, I may be able to suggest other possibilities.  \r\n\r\n-kevin","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>ESAPI does not support SLF4J, even though that in turn supports log4j. Your logging choices for ESAPI are either log4j or java.util.logging, controlled via the ESAPI.logger property in ESAPI.properties. If you decide to use log4j (i.e., ESAPI.Logger=org.owasp.esapi.reference.Log4JLogFactory), then you need the log4j.jar and either a log4j.xml or log4j.properties in your classpath, depending on which version of log4j you are using. Alternately, you can use java.util.logging by setting ESAPI.Logger=org.owasp.esapi.reference.JavaLogFactory in your ESAPI.properties file.</p>\n\n<p>I see you appear to be doing this for Wells Fargo. If you have further questions, look up \"Kevin W. Wall\" in Teamworks and send me an email as I am part of the Secure Code Review team there as well as project lead for ESAPI, so given more context, I may be able to suggest other possibilities.  </p>\n\n<p>-kevin</p>\n"},{"tags":[],"owner":{"account_id":1044767,"reputation":1686,"user_id":1050015,"accept_rate":100,"display_name":"Carlo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1581321385,"creation_date":1581321385,"answer_id":60146194,"question_id":34295088,"body_markdown":"Just an update: the support for SLF4J has been added, so if you are using ESAPI version 2.2.0.0 you may use it by setting the `ESAPI.Logger` property to the value `org.owasp.esapi.logging.slf4j.Slf4JLogFactory`","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>Just an update: the support for SLF4J has been added, so if you are using ESAPI version 2.2.0.0 you may use it by setting the <code>ESAPI.Logger</code> property to the value <code>org.owasp.esapi.logging.slf4j.Slf4JLogFactory</code></p>\n"},{"tags":[],"owner":{"account_id":1548204,"reputation":1114,"user_id":1441210,"display_name":"andre"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1601065702,"creation_date":1601065702,"answer_id":64070973,"question_id":34295088,"body_markdown":"I upgraded to the latest version `2.2.1.1` and I needed to add two additional properties (in addition to the one that @Carlo pointed out) in `ESAPI.properties`:\r\n```\r\nESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\r\nLogger.UserInfo=false\r\nLogger.ClientInfo=false\r\n```","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>I upgraded to the latest version <code>2.2.1.1</code> and I needed to add two additional properties (in addition to the one that @Carlo pointed out) in <code>ESAPI.properties</code>:</p>\n<pre><code>ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\nLogger.UserInfo=false\nLogger.ClientInfo=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20506725,"reputation":109,"user_id":15049342,"display_name":"MonishGhutke"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614977353,"creation_date":1614977353,"answer_id":66499461,"question_id":34295088,"body_markdown":"If your SpringBoot project does not have ESAPI.properties, then add file with name ESAPI.properties in src/main/resource folder and add following lines to it.\r\n\r\n    ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\r\n    ESAPI.LogEncodingRequired=false\r\n\r\nAlso check maven referenced libraries and check version of esapi, it should be esapi-2.2.0.0 or esapi-2.2.1.1(basically you should be using these esapi versions)\r\n\r\nNote: You can add more properties based on errors you get when you run your application.\r\n\r\n    ","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>If your SpringBoot project does not have ESAPI.properties, then add file with name ESAPI.properties in src/main/resource folder and add following lines to it.</p>\n<pre><code>ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\nESAPI.LogEncodingRequired=false\n</code></pre>\n<p>Also check maven referenced libraries and check version of esapi, it should be esapi-2.2.0.0 or esapi-2.2.1.1(basically you should be using these esapi versions)</p>\n<p>Note: You can add more properties based on errors you get when you run your application.</p>\n"}],"owner":{"account_id":3027973,"reputation":694,"user_id":2567546,"accept_rate":100,"display_name":"Dinesh M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33362,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":34572533,"answer_count":4,"score":12,"last_activity_date":1681509428,"creation_date":1450198734,"question_id":34295088,"body_markdown":"I am using [tag:ESPAI]ESAPI to encode string value to resolve cross site scripting issue as shown below (code snippet).\r\n\r\n    String encodedString = ESAPI.encoder().encodeForHTML(value);\r\n\r\n**Exception Trace** \r\n\r\n    org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\r\n    \tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\r\n    \tat org.owasp.esapi.ESAPI.encoder(ESAPI.java:99)\r\n    &lt;bold&gt;Caused by: java.lang.NoClassDefFoundError: org/apache/log4j/spi/LoggerFactory&lt;/bold&gt;\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:190)\r\n    \tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74)\r\n    \tat org.owasp.esapi.ESAPI.logFactory(ESAPI.java:137)\r\n    \tat org.owasp.esapi.ESAPI.getLogger(ESAPI.java:154)\r\n    \tat org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:75)\r\n    \tat org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:59)\r\n    \t... 71 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.log4j.spi.LoggerFactory\r\n    \tat weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:297)\r\n    \tat weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:270)\r\n    \tat weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:64)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\r\nMaven repository **pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;esapi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${org.owasp.esapi.version}&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;xercesImpl&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.owasp.antisamy&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;antisamy&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIf I don&#39;t exclude **log4j** then it will throw dependency convergence error because **log4j** is declared in maven banned dependency as shown below\r\n\r\n    &lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;enforce&lt;/id&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;rules&gt;\r\n\t\t\t\t\t&lt;requireJavaVersion&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${java.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/requireJavaVersion&gt;\r\n\t\t\t\t\t&lt;requireMavenVersion&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/requireMavenVersion&gt;\r\n\t\t\t\t\t&lt;DependencyConvergence /&gt;\r\n\t\t\t\t\t&lt;bannedDependencies&gt;\r\n\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t&lt;!-- This should not exist as it will force SLF4J calls to be \r\n\t\t\t\t\t\t\t\tdelegated to log4j --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;org.slf4j:slf4j-log4j12&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;!-- This should not exist as it will force SLF4J calls to be \r\n\t\t\t\t\t\t\t\tdelegated to jul --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;org.slf4j:slf4j-jdk14&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Ensure only the slf4j binding for logback is on the classpath --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;log4j:log4j&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;!-- As recommended from the slf4j guide, exclude commons-logging --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;commons-logging:commons-logging&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;/excludes&gt;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t&lt;/bannedDependencies&gt;\r\n\t\t\t\t&lt;/rules&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;enforce&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\r\nHelp in this regard would be appreciated. Please let me know if you need any more details. Thanks in advance!\r\n\r\n\r\n\r\n","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>I am using <a href=\"/questions/tagged/espai\" class=\"post-tag\" title=\"show questions tagged &#39;espai&#39;\" rel=\"tag\">espai</a>ESAPI to encode string value to resolve cross site scripting issue as shown below (code snippet).</p>\n\n<pre><code>String encodedString = ESAPI.encoder().encodeForHTML(value);\n</code></pre>\n\n<p><strong>Exception Trace</strong> </p>\n\n<pre><code>org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\n    at org.owasp.esapi.ESAPI.encoder(ESAPI.java:99)\n&lt;bold&gt;Caused by: java.lang.NoClassDefFoundError: org/apache/log4j/spi/LoggerFactory&lt;/bold&gt;\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:190)\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74)\n    at org.owasp.esapi.ESAPI.logFactory(ESAPI.java:137)\n    at org.owasp.esapi.ESAPI.getLogger(ESAPI.java:154)\n    at org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:75)\n    at org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:59)\n    ... 71 more\nCaused by: java.lang.ClassNotFoundException: org.apache.log4j.spi.LoggerFactory\n    at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:297)\n    at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:270)\n    at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:64)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n</code></pre>\n\n<p>Maven repository <strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\n    &lt;artifactId&gt;esapi&lt;/artifactId&gt;\n    &lt;version&gt;${org.owasp.esapi.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;xercesImpl&lt;/groupId&gt;\n            &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.owasp.antisamy&lt;/groupId&gt;\n            &lt;artifactId&gt;antisamy&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If I don't exclude <strong>log4j</strong> then it will throw dependency convergence error because <strong>log4j</strong> is declared in maven banned dependency as shown below</p>\n\n<pre><code>&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;enforce&lt;/id&gt;\n        &lt;configuration&gt;\n            &lt;rules&gt;\n                &lt;requireJavaVersion&gt;\n                    &lt;version&gt;${java.version}&lt;/version&gt;\n                &lt;/requireJavaVersion&gt;\n                &lt;requireMavenVersion&gt;\n                    &lt;version&gt;3.0&lt;/version&gt;\n                &lt;/requireMavenVersion&gt;\n                &lt;DependencyConvergence /&gt;\n                &lt;bannedDependencies&gt;\n                    &lt;excludes&gt;\n                        &lt;!-- This should not exist as it will force SLF4J calls to be \n                            delegated to log4j --&gt;\n                        &lt;exclude&gt;org.slf4j:slf4j-log4j12&lt;/exclude&gt;\n                        &lt;!-- This should not exist as it will force SLF4J calls to be \n                            delegated to jul --&gt;\n                        &lt;exclude&gt;org.slf4j:slf4j-jdk14&lt;/exclude&gt;\n                        &lt;!-- Ensure only the slf4j binding for logback is on the classpath --&gt;\n                        &lt;exclude&gt;log4j:log4j&lt;/exclude&gt;\n                        &lt;!-- As recommended from the slf4j guide, exclude commons-logging --&gt;\n                        &lt;exclude&gt;commons-logging:commons-logging&lt;/exclude&gt;\n                    &lt;/excludes&gt;                                     \n                &lt;/bannedDependencies&gt;\n            &lt;/rules&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;enforce&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>Help in this regard would be appreciated. Please let me know if you need any more details. Thanks in advance!</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1681511587,"post_id":76019048,"comment_id":134073974,"body_markdown":"Please avoid linking to code on external sites, especially if it could change at any time, like the branch head of a GitHub project. It’s also hard to figure out which of the 990 lines of code you’re referring to. It’s much better to copy the example into the question text.","body":"Please avoid linking to code on external sites, especially if it could change at any time, like the branch head of a GitHub project. It’s also hard to figure out which of the 990 lines of code you’re referring to. It’s much better to copy the example into the question text."},{"owner":{"account_id":19156344,"reputation":47,"user_id":13993098,"display_name":"TravelKidKurty"},"score":0,"creation_date":1681513145,"post_id":76019048,"comment_id":134074143,"body_markdown":"@TimMoore thanks, I will keep that in mind! I only linked the entire code this time as I wasnt sure if I maybe left an important part out of it in my code that could have been causing the issue","body":"@TimMoore thanks, I will keep that in mind! I only linked the entire code this time as I wasnt sure if I maybe left an important part out of it in my code that could have been causing the issue"}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681509375,"creation_date":1681509375,"answer_id":76019224,"question_id":76019048,"body_markdown":"The constructor is calling itself:\r\n\r\n        //recursive error comes from here\r\n        Tags(String tag, String value)  \r\n        {\r\n            this(tag, value);\r\n        }\r\n\r\nIf the compiler allowed this the constructor would enter an infinite loop when called.\r\n\r\nRewrite it to simply initialise the two fields from the given arguments, like this:\r\n\r\n        Tags(String tag, String value)  \r\n        {\r\n            this.tag = tag;\r\n            this.value = value;\r\n        }\r\n","title":"Recursive Constructor Invocation in Class","body":"<p>The constructor is calling itself:</p>\n<pre><code>    //recursive error comes from here\n    Tags(String tag, String value)  \n    {\n        this(tag, value);\n    }\n</code></pre>\n<p>If the compiler allowed this the constructor would enter an infinite loop when called.</p>\n<p>Rewrite it to simply initialise the two fields from the given arguments, like this:</p>\n<pre><code>    Tags(String tag, String value)  \n    {\n        this.tag = tag;\n        this.value = value;\n    }\n</code></pre>\n"}],"owner":{"account_id":19156344,"reputation":47,"user_id":13993098,"display_name":"TravelKidKurty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76019224,"answer_count":1,"score":0,"last_activity_date":1681509375,"creation_date":1681507490,"question_id":76019048,"body_markdown":"```\r\n    final List&lt;Tags&gt; tags = new ArrayList&lt;&gt;();\r\n\r\n    public void startUp() {\r\n        //load tags from Config text box\r\n        reloadTags();\r\n    }\r\n\r\n    @Getter\r\n    @ToString\r\n    @EqualsAndHashCode\r\n    static class Tags  \r\n    {\r\n        private final String tag;\r\n        private final String value;\r\n\r\n        //recursive error comes from here\r\n        Tags(String tag, String value)  \r\n        {\r\n            this(tag, value);\r\n        }\r\n    }\r\n\r\n   //detect change in Config textbox, update tags\r\n    @Subscribe\r\n    public void onConfigChanged(ConfigChanged configChanged) {\r\n        if (configChanged.getGroup().equals(&quot;calculatorpro&quot;)) {\r\n            reloadTags();\r\n        }\r\n    }\r\n\r\n    //clear current Tags list &amp; update with new tags from Config Text box\r\n    private void reloadTags()\r\n    {\r\n        tags.clear();\r\n        tags.addAll(loadTags(config.customTags()));\r\n    }\r\n\r\n    //load tags from Config text box\r\n    private Collection&lt;? extends Tags&gt; loadTags(String textbox)\r\n    {\r\n        List&lt;Tags&gt; swaps = new ArrayList&lt;&gt;();\r\n        for (String line : textbox.split(&quot;\\n&quot;))\r\n        {\r\n            if (line.trim().equals(&quot;&quot;)) continue;\r\n            String[] split = line.split(&quot;=&quot;);\r\n            swaps.add(new Tags(\r\n                    split[0].toLowerCase().trim(),\r\n                    split.length &gt; 1 ? split[1].toLowerCase().trim() : &quot;&quot;\r\n            ));\r\n        }\r\n        return swaps;\r\n    }\r\n```\r\nI get the error: &quot;java: recursive constructor invocation&quot; from my &quot;static class Tags&quot; class.\r\n\r\nIm trying to make a list of tag name and value, which I get from a user textbox (config.customTags()). They will be input as a string, in the form of tag=value (oak=255). When a change is detected in the textbox, the old list is cleared, and a new list is created with the new contents of the textbox (done in the function loadTags). \r\n\r\nThe code is actually off another file created by someone else that works, I just took the parts of it that suit my purpose, but the actual contents are the same but with altered names, so Im not sure why theirs works and is not recursive, but mine does not work and is recursive? [Here][1] is a link to their code (there is a lot of extra functionality in their code that I do not use in mine). \r\n\r\nIm a beginner programmer (this is my first java program!), so any information that anyone can provide would be great! (also I apologize if Ive left out any pertinent information, I tried to only share what is related with the error)\r\n\r\n\r\n  [1]: https://github.com/geheur/More-menu-entry-swaps/blob/master/src/main/java/com/hotkeyablemenuswaps/HotkeyableMenuSwapsPlugin.java","title":"Recursive Constructor Invocation in Class","body":"<pre><code>    final List&lt;Tags&gt; tags = new ArrayList&lt;&gt;();\n\n    public void startUp() {\n        //load tags from Config text box\n        reloadTags();\n    }\n\n    @Getter\n    @ToString\n    @EqualsAndHashCode\n    static class Tags  \n    {\n        private final String tag;\n        private final String value;\n\n        //recursive error comes from here\n        Tags(String tag, String value)  \n        {\n            this(tag, value);\n        }\n    }\n\n   //detect change in Config textbox, update tags\n    @Subscribe\n    public void onConfigChanged(ConfigChanged configChanged) {\n        if (configChanged.getGroup().equals(&quot;calculatorpro&quot;)) {\n            reloadTags();\n        }\n    }\n\n    //clear current Tags list &amp; update with new tags from Config Text box\n    private void reloadTags()\n    {\n        tags.clear();\n        tags.addAll(loadTags(config.customTags()));\n    }\n\n    //load tags from Config text box\n    private Collection&lt;? extends Tags&gt; loadTags(String textbox)\n    {\n        List&lt;Tags&gt; swaps = new ArrayList&lt;&gt;();\n        for (String line : textbox.split(&quot;\\n&quot;))\n        {\n            if (line.trim().equals(&quot;&quot;)) continue;\n            String[] split = line.split(&quot;=&quot;);\n            swaps.add(new Tags(\n                    split[0].toLowerCase().trim(),\n                    split.length &gt; 1 ? split[1].toLowerCase().trim() : &quot;&quot;\n            ));\n        }\n        return swaps;\n    }\n</code></pre>\n<p>I get the error: &quot;java: recursive constructor invocation&quot; from my &quot;static class Tags&quot; class.</p>\n<p>Im trying to make a list of tag name and value, which I get from a user textbox (config.customTags()). They will be input as a string, in the form of tag=value (oak=255). When a change is detected in the textbox, the old list is cleared, and a new list is created with the new contents of the textbox (done in the function loadTags).</p>\n<p>The code is actually off another file created by someone else that works, I just took the parts of it that suit my purpose, but the actual contents are the same but with altered names, so Im not sure why theirs works and is not recursive, but mine does not work and is recursive? <a href=\"https://github.com/geheur/More-menu-entry-swaps/blob/master/src/main/java/com/hotkeyablemenuswaps/HotkeyableMenuSwapsPlugin.java\" rel=\"nofollow noreferrer\">Here</a> is a link to their code (there is a lot of extra functionality in their code that I do not use in mine).</p>\n<p>Im a beginner programmer (this is my first java program!), so any information that anyone can provide would be great! (also I apologize if Ive left out any pertinent information, I tried to only share what is related with the error)</p>\n"},{"tags":["java","pcap","jnetpcap"],"answers":[{"tags":[],"owner":{"account_id":3212773,"reputation":36,"user_id":2712365,"display_name":"Mark Bednarczyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681508667,"creation_date":1681508667,"answer_id":76019160,"question_id":75843247,"body_markdown":"A couple of suggestions. Try checking for error codes returned from your two pcap.loop() calls:\r\n\r\n    System.out.println(&quot;Loop1 should start now :&quot;);\r\n        new Thread(() -&gt; {\r\n            int result = pcap.loop(Pcap.LOOP_INFINITE, port1, &quot;pcap1&quot;);\r\n            if (result &lt; 0) \r\n            \tSystem.out.println(pcap.getErr());\r\n            \t\r\n        }).start();\r\n    System.out.println(&quot;Loop2 should start now :&quot;);\r\n        int result = pcap2.loop(Pcap.LOOP_INFINITE, port2,&quot;pcap2&quot;);\r\n        if (result &lt; 0) \r\n        \tSystem.out.println(pcap.getErr());\r\n\r\n\r\nSecond, if possible, please migrate to [jNetpcap v2][1]. It has full support going forward and works well currently. It requires a minimum of JDK19 however because of its use of Foreign Function feature which is still in preview in JDK19/20.\r\n\r\n\r\n  [1]: https://github.com/slytechs-repos/jnetpcap","title":"Java Pcap loop not starting","body":"<p>A couple of suggestions. Try checking for error codes returned from your two pcap.loop() calls:</p>\n<pre><code>System.out.println(&quot;Loop1 should start now :&quot;);\n    new Thread(() -&gt; {\n        int result = pcap.loop(Pcap.LOOP_INFINITE, port1, &quot;pcap1&quot;);\n        if (result &lt; 0) \n            System.out.println(pcap.getErr());\n            \n    }).start();\nSystem.out.println(&quot;Loop2 should start now :&quot;);\n    int result = pcap2.loop(Pcap.LOOP_INFINITE, port2,&quot;pcap2&quot;);\n    if (result &lt; 0) \n        System.out.println(pcap.getErr());\n</code></pre>\n<p>Second, if possible, please migrate to <a href=\"https://github.com/slytechs-repos/jnetpcap\" rel=\"nofollow noreferrer\">jNetpcap v2</a>. It has full support going forward and works well currently. It requires a minimum of JDK19 however because of its use of Foreign Function feature which is still in preview in JDK19/20.</p>\n"}],"owner":{"account_id":27651042,"reputation":1,"user_id":21105949,"display_name":"TeemoPerson534"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681508667,"creation_date":1679763699,"question_id":75843247,"body_markdown":"I using jnetpcap library for listening to network traffic, and basically using the PcapPacketHandlers for listening to packets, after initializing them I start a pcap.loop() method so it will start listening.\r\nHowever about 50% of the time when I run my program the loops will not start and the program just gets stuck, no errors, no exceptions nothing. I only get 1 prinout and nothing more, this printout: loop1DEVICES CHOSEN: \\Device\\NPF_{0A6670EB-FED6-4AD0-9EE6-1F9BA35A75A5},\\Device\\NPF_{E0FB8017-9FFB-4489-A894-8D256394087C}\r\nIP: [removed]\r\nTHS SHOULD BE IT : 192.168.1.2\r\nIP: [removed]\r\nTHS SHOULD BE IT : 147.66.12.4\r\nstart ...\r\nReal start\r\nLoop1 should start now :\r\nLoop2 should start now :\r\n\r\nThis is the code:\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport org.jnetpcap.Pcap;\r\nimport org.jnetpcap.PcapBpfProgram;\r\nimport org.jnetpcap.PcapDumper;\r\nimport org.jnetpcap.PcapIf;\r\nimport org.jnetpcap.nio.JBuffer;\r\nimport org.jnetpcap.packet.PcapPacket;\r\nimport org.jnetpcap.packet.PcapPacketHandler;\r\nimport org.jnetpcap.protocol.network.Ip4;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.awt.desktop.AppEvent;\r\nimport java.io.IOException;\r\nimport java.net.*;\r\nimport java.util.*;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Switch extends Application\r\n{\r\n    private int pcn1=0;\r\n    private int pcn2=0;\r\n    private int counter =0;\r\n    private Map&lt;String, ScheduledExecutorService&gt; pingThreads;\r\n    public static ArrayList&lt;String&gt; devices;\r\n    private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n    PcapPacketHashTable packetTable = PcapPacketHashTable.getInstance();\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        //GUI SETUP\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;GUI.fxml&quot;));\r\n        Parent root = loader.load();\r\n        primaryStage.setTitle(&quot;Network Traffic&quot;);\r\n        primaryStage.setScene(new Scene(root, 835, 1000));\r\n        primaryStage.show();\r\n\r\n\r\n        //Switch setup\r\n        SwitchMacTable macT= SwitchMacTable.getInstance();\r\n        Port p1= new Port(null,null,&quot;Fa0/&quot;,null,null,macT);\r\n        Port p2= new Port(null,null,&quot;Fa0/&quot;,null,null,macT);\r\n        Packet statisticsInPort1 = new Packet();\r\n        Packet statisticsOutPort1 = new Packet();\r\n        Packet statisticsInPort2 = new Packet();\r\n        Packet statisticsOutPort2 = new Packet();\r\n        p1.setIn(statisticsInPort1);\r\n        p1.setOut(statisticsOutPort2);\r\n        p2.setIn(statisticsInPort2);\r\n        p2.setOut(statisticsOutPort1);\r\n        // packet sniffer\r\n        int snaplen = 64 * 1024;\r\n        int flags = Pcap.MODE_PROMISCUOUS;\r\n        int timeout = 1000;           // 10ms\r\n        int opt = 0;\r\n        int mask = 0xffffff00;\r\n\r\n\r\n        //start GUI\r\n        GUI gui= loader.getController();\r\n        gui.initialize(p1,p2);\r\n\r\n        devices = new ArrayList&lt;String&gt;();\r\n\r\n\r\n\r\n        List devicelist = new ArrayList();\r\n        List&lt;PcapIf&gt; tempdevices = new ArrayList&lt;PcapIf&gt;();\r\n\r\n        StringBuilder errbuf = new StringBuilder();\r\n        String err = &quot;&quot;;\r\n\r\n        //nacitanie sietovych zariadeni\r\n        int foundd = Pcap.findAllDevs(devicelist, errbuf);\r\n\r\n        if (foundd != Pcap.OK) {\r\n            System.err.printf(&quot;Can&#39;t read list of devices, error is %s&quot;, errbuf.toString());\r\n\r\n            return;\r\n        }\r\n\r\n        for (Object dev : devicelist) {\r\n            tempdevices.add((PcapIf) dev);\r\n            devices.add(dev.toString());\r\n        }\r\n\r\n        System.out.println(tempdevices.size() + &quot; network devices found:&quot;);\r\n\r\n\r\n        int i = 0;\r\n        ArrayList&lt;String&gt; dvar = new ArrayList&lt;&gt;();\r\n        for (PcapIf device : tempdevices) {\r\n            String description = (device.getDescription() != null) ? device.getDescription() : &quot;No description available&quot;;\r\n\r\n            dvar.add(description);\r\n\r\n\r\n\r\n        }\r\n\r\n        gui.addCombos(dvar);\r\n\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                int iiii = 1;\r\n                   int b=5;\r\n                   int yt=iiii+b;\r\n               System.out.print(&quot;smp&quot;);\r\n                    try {\r\n\r\n\r\n\r\n                        while(p1.getStop()==0) {\r\n                           System.out.print(&quot;loop2&quot;);\r\n\r\n                            while (p1.getStart() == 0) {\r\n                                //waiting for adapter choice.\r\n                                int ii = 1;int bbb=5;\r\n                                int yttt=iiii+bbb;\r\n                              System.out.print(&quot;loop1&quot;);\r\n                            }\r\n\r\n                            PcapIf device = tempdevices.get(gui.getAdapterC1());\r\n                            Thread.sleep(1000);\r\n\r\n                            PcapIf device2 = tempdevices.get(gui.getAdapterC2());\r\n                            Thread.sleep(1000);\r\n                            byte[] ar = device.getHardwareAddress();\r\n                            byte[] ar2 = device2.getHardwareAddress();\r\n                            Packet np = new Packet();\r\n                            String devname1 = device.getName();\r\n                            String devname2 = device2.getName();\r\n                            System.out.println(&quot;DEVICES CHOSEN: &quot; + devname1 + &quot;,&quot; + devname2);\r\n                            InetAddress adaIp1=null;\r\n                            InetAddress adaIp2=null;\r\n\r\n                            if (ar != null) {\r\n\r\n                                System.out.println(&quot;IP: &quot;+device.getAddresses().get(0).getAddr());\r\n                                byte[] adapip = device.getAddresses().get(0).getAddr().getData();\r\n                                try {\r\n                                    adaIp1 = InetAddress.getByAddress(adapip);\r\n                                    System.out.println(&quot;THS SHOULD BE IT : &quot;+ adaIp1.getHostAddress());\r\n\r\n                                } catch (UnknownHostException e) {\r\n                                    e.printStackTrace();\r\n                                    System.exit(0);\r\n                                }\r\n\r\n\r\n                            }\r\n                            if (ar2 != null) {\r\n\r\n                                System.out.println(&quot;IP: &quot;+device2.getAddresses().get(0).getAddr());\r\n                                byte[] adapip = device2.getAddresses().get(0).getAddr().getData();\r\n                                try {\r\n                                    adaIp2 = InetAddress.getByAddress(adapip);\r\n                                    System.out.println(&quot;THS SHOULD BE IT : &quot;+ adaIp2.getHostAddress());\r\n\r\n                                } catch (UnknownHostException e) {\r\n                                    e.printStackTrace();\r\n                                    System.exit(0);\r\n                                }\r\n\r\n                            }\r\n\r\n\r\n                            //Open the selected device to capture packets\r\n                            Pcap pcap = Pcap.openLive(device.getName(), snaplen, flags, timeout, errbuf);\r\n                            Thread.sleep(1000);\r\n                            Pcap pcap2 = Pcap.openLive(device2.getName(), snaplen, flags, timeout, errbuf);\r\n                            Thread.sleep(1000);\r\n                            if (pcap == null || pcap2 == null) {\r\n                                if (pcap == null) {\r\n                                    System.err.printf(&quot;Error  while opening device for capture: &quot; + errbuf.toString());\r\n                                } else {\r\n                                    System.err.printf(&quot;Error while opening device for capture: &quot; + errbuf.toString());\r\n                                }\r\n                                return;\r\n                            }\r\n\r\n                            PcapBpfProgram program = new PcapBpfProgram();\r\n                            String filter = &quot;ether proto \\\\ip or arp or udp or tcp or icmp or (tcp port 80) or (tcp port 443)&quot;;\r\n\r\n                            if (pcap.compile(program, filter, opt, mask) != Pcap.OK) {\r\n                                System.out.println(pcap.getErr());\r\n                                return;\r\n                            }\r\n\r\n                            if (pcap.setFilter(program) != Pcap.OK) {\r\n                                System.out.println(pcap.getErr());\r\n                                return;\r\n                            }\r\n                            if (pcap2.compile(program, filter, opt, mask) != Pcap.OK) {\r\n                                System.out.println(pcap2.getErr());\r\n                                return;\r\n                            }\r\n\r\n                            if (pcap2.setFilter(program) != Pcap.OK) {\r\n                                System.out.println(pcap2.getErr());\r\n                                return;\r\n                            }\r\n\r\n                            System.out.println(&quot;start ...&quot;);\r\n\r\n                            p1.setInterfaceName(devname1);\r\n                            p2.setInterfaceName(devname2);\r\n                            p1.setPcap(pcap);\r\n                            p2.setPcap(pcap2);\r\n                            PingThread pt1 = new PingThread(null,adaIp1,macT,null);\r\n                            PingThread pt2 = new PingThread(null,adaIp2,macT,null);\r\n                            byte[] adapterMacAddress = device.getHardwareAddress();\r\n                            byte[] adapter2MacAddress = device2.getHardwareAddress();\r\n                            System.out.println(&quot;Real start&quot;);\r\n\r\n                            // LOOP    1 1 1 1 1  LOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOP\r\n\r\n                            PcapPacketHandler&lt;String&gt; port1 = (packet, user) -&gt; {\r\n                                System.out.println(&quot;PICSA&quot;);\r\n                                if (1 == 1) {\r\n\r\n                                    if((Arrays.equals(packet.getByteArray(6, 6), adapterMacAddress)) || (Arrays.equals(packet.getByteArray(6, 6), adapter2MacAddress)))\r\n                                    {\r\n                                        System.out.println(&quot;ret1 + &quot; + p1.getIn().bytesToHexString(packet.getByteArray(0, 6)));\r\n                                        return ;\r\n                                    }\r\n                                    System.out.println(&quot;p total size: &quot;+ packet.getTotalSize() + &quot; size: &quot;+ packet.size());\r\n                                    if (packetTable.contains(packet)) {\r\n                                        System.out.println(&quot;REMOVING PACKET&quot;);\r\n                                        packetTable.remove(packet);\r\n                                        return;\r\n                                    }\r\n\r\n                                    ArrayList&lt;String&gt; ars = p1.getIn().categorize(packet);\r\n                                    String destIP = ars.get(0);\r\n                                    String srcIP = ars.get(1);\r\n                                    String maca = ars.get(2);\r\n\r\n                                    //ICMP PING NOT YET IGNORED, DO IT NEXT TIME !!!!\r\n                                    macT.addToMacTable(packet, 1, p1);  //addmac,refrespack1,setbytepack,sendpcap,categ2,refresh2\r\n\r\n\r\n                                    Platform.runLater(() -&gt; {\r\n                                        gui.refresh(macT.getMacAddress());\r\n                                    });\r\n\r\n\r\n                                    packetTable.put(packet);\r\n                                    pcap2.sendPacket(packet);\r\n\r\n\r\n                                    p1.getOut().categorize(packet);\r\n\r\n                                    System.out.println(&quot;pack sent&quot;);\r\n                                    Platform.runLater(() -&gt; {\r\n\r\n                                        gui.refreshPacketCounters(p1.getIn().getChange(), 0);\r\n                                        gui.refreshPacketCounters(p1.getOut().getChange(), 2);\r\n\r\n                                    });\r\n\r\n                                   // PingThread.startPingThread(srcIP, pt1.getSourceAddresss(), pt1.getSmts(), maca);\r\n\r\n\r\n                                }\r\n                                }\r\n                                ;\r\n\r\n\r\n\r\n\r\n                            // LOOP    2 2 222  LOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOP\r\n\r\n\r\n\r\n                            PcapPacketHandler&lt;String&gt; port2 = (packet, user) -&gt; {\r\n                                System.out.println(&quot;picsa2&quot;);\r\n                                if (1 == 1) {\r\n                                    if((Arrays.equals(packet.getByteArray(6, 6), adapterMacAddress)) || (Arrays.equals(packet.getByteArray(6, 6), adapter2MacAddress)))\r\n                                { System.out.println(&quot;ret2 + &quot; + p1.getIn().bytesToHexString(packet.getByteArray(0, 6))) ;\r\n                                    return ;\r\n                                }\r\n                                if (   packetTable.contains(packet)) {\r\n                                    System.out.println(&quot;REMOVING PACKET&quot;);\r\n                                    packetTable.remove(packet);\r\n                                    return ;\r\n                                }\r\n                                    System.out.println(&quot;GOTR PACK ///////////////////////////////////////&quot;);\r\n                                ArrayList&lt;String&gt; ars = p2.getIn().categorize(packet);\r\n                                String  destIP = ars.get(0);\r\n                                String srcIP = ars.get(1);\r\n                                String maca= ars.get(2);\r\n\r\n                                    macT.addToMacTable(packet, 2, p2);\r\n                                    System.out.println(p1.getIn().bytesToHexString(adapter2MacAddress) + &quot;  or &quot;+ adapter2MacAddress);\r\n\r\n\r\n                                 //   Platform.runLater(() -&gt; {\r\n                                   //     gui.refresh(macT.getMacAddress());\r\n                                    //});\r\n\r\n\r\n                                Platform.runLater(() -&gt; {\r\n                                    gui.refresh(macT.getMacAddress());\r\n                                });\r\n\r\n\r\n\r\n                                int packetH = packet.hashCode();\r\n                                packetTable.put( packet);\r\n                                    pcap.sendPacket(packet);\r\n\r\n\r\n                                            p2.getOut().categorize(packet);\r\n\r\n                                        Platform.runLater(() -&gt; {\r\n                                            gui.refreshPacketCounters(p2.getIn().getChange(), 1);\r\n                                            gui.refreshPacketCounters(p2.getOut().getChange(), 3);\r\n                                        });\r\n\r\n                                //PingThread.startPingThread(srcIP, pt2.getSourceAddresss(),pt2.getSmts());\r\n\r\n                                }\r\n                            }\r\n                                ;\r\n\r\n                            System.out.println(&quot;Loop1 should start now :&quot;);\r\n                                new Thread(() -&gt; {\r\n                                    pcap.loop(Pcap.LOOP_INFINITE, port1, &quot;pcap1&quot;);\r\n                                }).start();\r\n                            System.out.println(&quot;Loop2 should start now :&quot;);\r\n                                pcap2.loop(Pcap.LOOP_INFINITE, port2,&quot;pcap2&quot;);\r\n\r\n\r\n\r\n                        }\r\n\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;WTF?&quot;);\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n\r\n            }\r\n        }).start();\r\n    }\r\n\r\n\r\n```\r\n\r\nI tried everything but I&#39;m running out of ideas how to even understand the cause of this bug.","title":"Java Pcap loop not starting","body":"<p>I using jnetpcap library for listening to network traffic, and basically using the PcapPacketHandlers for listening to packets, after initializing them I start a pcap.loop() method so it will start listening.\nHowever about 50% of the time when I run my program the loops will not start and the program just gets stuck, no errors, no exceptions nothing. I only get 1 prinout and nothing more, this printout: loop1DEVICES CHOSEN: \\Device\\NPF_{0A6670EB-FED6-4AD0-9EE6-1F9BA35A75A5},\\Device\\NPF_{E0FB8017-9FFB-4489-A894-8D256394087C}\nIP: [removed]\nTHS SHOULD BE IT : 192.168.1.2\nIP: [removed]\nTHS SHOULD BE IT : 147.66.12.4\nstart ...\nReal start\nLoop1 should start now :\nLoop2 should start now :</p>\n<p>This is the code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.jnetpcap.Pcap;\nimport org.jnetpcap.PcapBpfProgram;\nimport org.jnetpcap.PcapDumper;\nimport org.jnetpcap.PcapIf;\nimport org.jnetpcap.nio.JBuffer;\nimport org.jnetpcap.packet.PcapPacket;\nimport org.jnetpcap.packet.PcapPacketHandler;\nimport org.jnetpcap.protocol.network.Ip4;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.awt.desktop.AppEvent;\nimport java.io.IOException;\nimport java.net.*;\nimport java.util.*;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class Switch extends Application\n{\n    private int pcn1=0;\n    private int pcn2=0;\n    private int counter =0;\n    private Map&lt;String, ScheduledExecutorService&gt; pingThreads;\n    public static ArrayList&lt;String&gt; devices;\n    private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n    PcapPacketHashTable packetTable = PcapPacketHashTable.getInstance();\n\n\n\n\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        //GUI SETUP\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;GUI.fxml&quot;));\n        Parent root = loader.load();\n        primaryStage.setTitle(&quot;Network Traffic&quot;);\n        primaryStage.setScene(new Scene(root, 835, 1000));\n        primaryStage.show();\n\n\n        //Switch setup\n        SwitchMacTable macT= SwitchMacTable.getInstance();\n        Port p1= new Port(null,null,&quot;Fa0/&quot;,null,null,macT);\n        Port p2= new Port(null,null,&quot;Fa0/&quot;,null,null,macT);\n        Packet statisticsInPort1 = new Packet();\n        Packet statisticsOutPort1 = new Packet();\n        Packet statisticsInPort2 = new Packet();\n        Packet statisticsOutPort2 = new Packet();\n        p1.setIn(statisticsInPort1);\n        p1.setOut(statisticsOutPort2);\n        p2.setIn(statisticsInPort2);\n        p2.setOut(statisticsOutPort1);\n        // packet sniffer\n        int snaplen = 64 * 1024;\n        int flags = Pcap.MODE_PROMISCUOUS;\n        int timeout = 1000;           // 10ms\n        int opt = 0;\n        int mask = 0xffffff00;\n\n\n        //start GUI\n        GUI gui= loader.getController();\n        gui.initialize(p1,p2);\n\n        devices = new ArrayList&lt;String&gt;();\n\n\n\n        List devicelist = new ArrayList();\n        List&lt;PcapIf&gt; tempdevices = new ArrayList&lt;PcapIf&gt;();\n\n        StringBuilder errbuf = new StringBuilder();\n        String err = &quot;&quot;;\n\n        //nacitanie sietovych zariadeni\n        int foundd = Pcap.findAllDevs(devicelist, errbuf);\n\n        if (foundd != Pcap.OK) {\n            System.err.printf(&quot;Can't read list of devices, error is %s&quot;, errbuf.toString());\n\n            return;\n        }\n\n        for (Object dev : devicelist) {\n            tempdevices.add((PcapIf) dev);\n            devices.add(dev.toString());\n        }\n\n        System.out.println(tempdevices.size() + &quot; network devices found:&quot;);\n\n\n        int i = 0;\n        ArrayList&lt;String&gt; dvar = new ArrayList&lt;&gt;();\n        for (PcapIf device : tempdevices) {\n            String description = (device.getDescription() != null) ? device.getDescription() : &quot;No description available&quot;;\n\n            dvar.add(description);\n\n\n\n        }\n\n        gui.addCombos(dvar);\n\n        new Thread(() -&gt; {\n            while (true) {\n                int iiii = 1;\n                   int b=5;\n                   int yt=iiii+b;\n               System.out.print(&quot;smp&quot;);\n                    try {\n\n\n\n                        while(p1.getStop()==0) {\n                           System.out.print(&quot;loop2&quot;);\n\n                            while (p1.getStart() == 0) {\n                                //waiting for adapter choice.\n                                int ii = 1;int bbb=5;\n                                int yttt=iiii+bbb;\n                              System.out.print(&quot;loop1&quot;);\n                            }\n\n                            PcapIf device = tempdevices.get(gui.getAdapterC1());\n                            Thread.sleep(1000);\n\n                            PcapIf device2 = tempdevices.get(gui.getAdapterC2());\n                            Thread.sleep(1000);\n                            byte[] ar = device.getHardwareAddress();\n                            byte[] ar2 = device2.getHardwareAddress();\n                            Packet np = new Packet();\n                            String devname1 = device.getName();\n                            String devname2 = device2.getName();\n                            System.out.println(&quot;DEVICES CHOSEN: &quot; + devname1 + &quot;,&quot; + devname2);\n                            InetAddress adaIp1=null;\n                            InetAddress adaIp2=null;\n\n                            if (ar != null) {\n\n                                System.out.println(&quot;IP: &quot;+device.getAddresses().get(0).getAddr());\n                                byte[] adapip = device.getAddresses().get(0).getAddr().getData();\n                                try {\n                                    adaIp1 = InetAddress.getByAddress(adapip);\n                                    System.out.println(&quot;THS SHOULD BE IT : &quot;+ adaIp1.getHostAddress());\n\n                                } catch (UnknownHostException e) {\n                                    e.printStackTrace();\n                                    System.exit(0);\n                                }\n\n\n                            }\n                            if (ar2 != null) {\n\n                                System.out.println(&quot;IP: &quot;+device2.getAddresses().get(0).getAddr());\n                                byte[] adapip = device2.getAddresses().get(0).getAddr().getData();\n                                try {\n                                    adaIp2 = InetAddress.getByAddress(adapip);\n                                    System.out.println(&quot;THS SHOULD BE IT : &quot;+ adaIp2.getHostAddress());\n\n                                } catch (UnknownHostException e) {\n                                    e.printStackTrace();\n                                    System.exit(0);\n                                }\n\n                            }\n\n\n                            //Open the selected device to capture packets\n                            Pcap pcap = Pcap.openLive(device.getName(), snaplen, flags, timeout, errbuf);\n                            Thread.sleep(1000);\n                            Pcap pcap2 = Pcap.openLive(device2.getName(), snaplen, flags, timeout, errbuf);\n                            Thread.sleep(1000);\n                            if (pcap == null || pcap2 == null) {\n                                if (pcap == null) {\n                                    System.err.printf(&quot;Error  while opening device for capture: &quot; + errbuf.toString());\n                                } else {\n                                    System.err.printf(&quot;Error while opening device for capture: &quot; + errbuf.toString());\n                                }\n                                return;\n                            }\n\n                            PcapBpfProgram program = new PcapBpfProgram();\n                            String filter = &quot;ether proto \\\\ip or arp or udp or tcp or icmp or (tcp port 80) or (tcp port 443)&quot;;\n\n                            if (pcap.compile(program, filter, opt, mask) != Pcap.OK) {\n                                System.out.println(pcap.getErr());\n                                return;\n                            }\n\n                            if (pcap.setFilter(program) != Pcap.OK) {\n                                System.out.println(pcap.getErr());\n                                return;\n                            }\n                            if (pcap2.compile(program, filter, opt, mask) != Pcap.OK) {\n                                System.out.println(pcap2.getErr());\n                                return;\n                            }\n\n                            if (pcap2.setFilter(program) != Pcap.OK) {\n                                System.out.println(pcap2.getErr());\n                                return;\n                            }\n\n                            System.out.println(&quot;start ...&quot;);\n\n                            p1.setInterfaceName(devname1);\n                            p2.setInterfaceName(devname2);\n                            p1.setPcap(pcap);\n                            p2.setPcap(pcap2);\n                            PingThread pt1 = new PingThread(null,adaIp1,macT,null);\n                            PingThread pt2 = new PingThread(null,adaIp2,macT,null);\n                            byte[] adapterMacAddress = device.getHardwareAddress();\n                            byte[] adapter2MacAddress = device2.getHardwareAddress();\n                            System.out.println(&quot;Real start&quot;);\n\n                            // LOOP    1 1 1 1 1  LOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOP\n\n                            PcapPacketHandler&lt;String&gt; port1 = (packet, user) -&gt; {\n                                System.out.println(&quot;PICSA&quot;);\n                                if (1 == 1) {\n\n                                    if((Arrays.equals(packet.getByteArray(6, 6), adapterMacAddress)) || (Arrays.equals(packet.getByteArray(6, 6), adapter2MacAddress)))\n                                    {\n                                        System.out.println(&quot;ret1 + &quot; + p1.getIn().bytesToHexString(packet.getByteArray(0, 6)));\n                                        return ;\n                                    }\n                                    System.out.println(&quot;p total size: &quot;+ packet.getTotalSize() + &quot; size: &quot;+ packet.size());\n                                    if (packetTable.contains(packet)) {\n                                        System.out.println(&quot;REMOVING PACKET&quot;);\n                                        packetTable.remove(packet);\n                                        return;\n                                    }\n\n                                    ArrayList&lt;String&gt; ars = p1.getIn().categorize(packet);\n                                    String destIP = ars.get(0);\n                                    String srcIP = ars.get(1);\n                                    String maca = ars.get(2);\n\n                                    //ICMP PING NOT YET IGNORED, DO IT NEXT TIME !!!!\n                                    macT.addToMacTable(packet, 1, p1);  //addmac,refrespack1,setbytepack,sendpcap,categ2,refresh2\n\n\n                                    Platform.runLater(() -&gt; {\n                                        gui.refresh(macT.getMacAddress());\n                                    });\n\n\n                                    packetTable.put(packet);\n                                    pcap2.sendPacket(packet);\n\n\n                                    p1.getOut().categorize(packet);\n\n                                    System.out.println(&quot;pack sent&quot;);\n                                    Platform.runLater(() -&gt; {\n\n                                        gui.refreshPacketCounters(p1.getIn().getChange(), 0);\n                                        gui.refreshPacketCounters(p1.getOut().getChange(), 2);\n\n                                    });\n\n                                   // PingThread.startPingThread(srcIP, pt1.getSourceAddresss(), pt1.getSmts(), maca);\n\n\n                                }\n                                }\n                                ;\n\n\n\n\n                            // LOOP    2 2 222  LOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOP\n\n\n\n                            PcapPacketHandler&lt;String&gt; port2 = (packet, user) -&gt; {\n                                System.out.println(&quot;picsa2&quot;);\n                                if (1 == 1) {\n                                    if((Arrays.equals(packet.getByteArray(6, 6), adapterMacAddress)) || (Arrays.equals(packet.getByteArray(6, 6), adapter2MacAddress)))\n                                { System.out.println(&quot;ret2 + &quot; + p1.getIn().bytesToHexString(packet.getByteArray(0, 6))) ;\n                                    return ;\n                                }\n                                if (   packetTable.contains(packet)) {\n                                    System.out.println(&quot;REMOVING PACKET&quot;);\n                                    packetTable.remove(packet);\n                                    return ;\n                                }\n                                    System.out.println(&quot;GOTR PACK ///////////////////////////////////////&quot;);\n                                ArrayList&lt;String&gt; ars = p2.getIn().categorize(packet);\n                                String  destIP = ars.get(0);\n                                String srcIP = ars.get(1);\n                                String maca= ars.get(2);\n\n                                    macT.addToMacTable(packet, 2, p2);\n                                    System.out.println(p1.getIn().bytesToHexString(adapter2MacAddress) + &quot;  or &quot;+ adapter2MacAddress);\n\n\n                                 //   Platform.runLater(() -&gt; {\n                                   //     gui.refresh(macT.getMacAddress());\n                                    //});\n\n\n                                Platform.runLater(() -&gt; {\n                                    gui.refresh(macT.getMacAddress());\n                                });\n\n\n\n                                int packetH = packet.hashCode();\n                                packetTable.put( packet);\n                                    pcap.sendPacket(packet);\n\n\n                                            p2.getOut().categorize(packet);\n\n                                        Platform.runLater(() -&gt; {\n                                            gui.refreshPacketCounters(p2.getIn().getChange(), 1);\n                                            gui.refreshPacketCounters(p2.getOut().getChange(), 3);\n                                        });\n\n                                //PingThread.startPingThread(srcIP, pt2.getSourceAddresss(),pt2.getSmts());\n\n                                }\n                            }\n                                ;\n\n                            System.out.println(&quot;Loop1 should start now :&quot;);\n                                new Thread(() -&gt; {\n                                    pcap.loop(Pcap.LOOP_INFINITE, port1, &quot;pcap1&quot;);\n                                }).start();\n                            System.out.println(&quot;Loop2 should start now :&quot;);\n                                pcap2.loop(Pcap.LOOP_INFINITE, port2,&quot;pcap2&quot;);\n\n\n\n                        }\n\n                    } catch (Exception e) {\n                        System.out.println(&quot;WTF?&quot;);\n                        e.printStackTrace();\n                    }\n\n\n\n            }\n        }).start();\n    }\n\n\n</code></pre>\n<p>I tried everything but I'm running out of ideas how to even understand the cause of this bug.</p>\n"},{"tags":["java","mysql","spring","spring-mvc","godaddy-api"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1681154712,"post_id":75980057,"comment_id":134007865,"body_markdown":"Do you have a concrete implementation of `DriverService`?","body":"Do you have a concrete implementation of <code>DriverService</code>?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1681154791,"post_id":75980057,"comment_id":134007885,"body_markdown":"And it’s the concrete class implementing DriverService that should be annotated @Service.","body":"And it’s the concrete class implementing DriverService that should be annotated @Service."}],"answers":[{"tags":[],"owner":{"account_id":28268600,"reputation":1,"user_id":21612166,"display_name":"Kirtan Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681508580,"creation_date":1681157904,"answer_id":75980407,"question_id":75980057,"body_markdown":"Remove `@Service` annotation from the `DriverService` interface and add that into the `DriverServiceImplementation` class.","title":"Spring: Field in --- required a bean of type","body":"<p>Remove <code>@Service</code> annotation from the <code>DriverService</code> interface and add that into the <code>DriverServiceImplementation</code> class.</p>\n"}],"owner":{"account_id":28268192,"reputation":1,"user_id":21611798,"display_name":"Daniel Ortlieb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681508580,"creation_date":1681154517,"question_id":75980057,"body_markdown":"Hello everyone and indeed I have the following problem. I am trying to connect to a GoDaddy DB with my Spring Boot application. \r\n\r\nHere I encounter the following problem: \r\n\r\n`Field driverService in com.example.accounting.controller.ClientController required a bean of type &#39;com.example.accounting.service.DriverService&#39; that could not be found.`\r\n\r\nMy folder structure looks like this: \r\n\r\n```\r\nNova_2_Test-master\r\n    ├───.mvn\r\n    │   └───wrapper\r\n    ├───.vscode\r\n    ├───src\r\n    │   ├───main\r\n    │   │   ├───java\r\n    │   │   │   └───com\r\n    │   │   │       └───example\r\n    │   │   │           └───accounting\r\n    │   │   │               ├───controller\r\n    │   │   │               ├───model\r\n    │   │   │               ├───repo\r\n    │   │   │               └───service\r\n    │   │   └───resources\r\n    │   └───test\r\n    │       └───java\r\n    │           └───com\r\n    │               └───example\r\n    │                   └───accounting\r\n    └───target\r\n        ├───classes\r\n        │   └───com\r\n        │       └───example\r\n        │               ├───controller\r\n        │               ├───model\r\n        │               ├───repo\r\n        │               └───service\r\n        ├───generated-sources\r\n        │   └───annotations\r\n        ├───generated-test-sources\r\n        │   └───test-annotations\r\n        └───test-classes\r\n            └───com\r\n                └───example\r\n                    └───accounting\r\n```\r\n\r\n\r\nClientController\r\n```\r\npackage com.example.accounting.controller;\r\n\r\n\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.accounting.model.Driver;\r\nimport com.example.accounting.service.DriverService;\r\n//import com.example.accounting.service.DriverServiceImplementation;\r\n\r\n@RestController\r\npublic class ClientController {\r\n    @Autowired\r\n    private DriverService driverService;\r\n    \r\n\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String helloworld(){\r\n        return &quot;Hello World!&quot;;\r\n    }\r\n\r\n    // Rest API Crud - Create Driver - POST\r\n    // Read Driver - GET\r\n    // Delete Driver - DELETE\r\n    // Update Driver - PUT\r\n\r\n    //create Driver\r\n    @PostMapping(&quot;/add&quot;)\r\n    public Driver createDriver(@RequestBody Driver driver){\r\n        Driver driver1 = driverService.createDriver(driver);\r\n        return driver1;\r\n    }\r\n\r\n    // Read Drivers\r\n    @GetMapping(&quot;/drivers&quot;)\r\n    public List&lt;Driver&gt; getDrivers(){\r\n        return driverService.getDrivers();\r\n    }\r\n    \r\n    // Update Drivers By DL_Number\r\n    @PutMapping(&quot;/update/{DL_Number}&quot;)\r\n    public Driver updateDriverById(@RequestBody Driver driver, @PathVariable(&quot;DL_Number&quot;) String DL_Number) {\r\n        return driverService.updateDriver(driver, DL_Number);\r\n    }\r\n\r\n    // Delete Driver By DL_Number\r\n    @DeleteMapping(&quot;/delete/{DL_Number}&quot;)\r\n    public String deleteDriver(@PathVariable(&quot;DL_Number&quot;) String DL_Number) {\r\n        driverService.deleteDriver(DL_Number);\r\n        return &quot;Driver Deleted Successfully..&quot;;\r\n    }\r\n\r\n    // Get Driver By DL_Number\r\n    @GetMapping(&quot;/driver/{DL_Number}&quot;)\r\n    public Driver getDriverById(@PathVariable(&quot;DL_Number&quot;) String DL_Number) {\r\n        return driverService.getDriverById(DL_Number);\r\n    }\r\n\r\n}\r\n\r\n```\r\nDriverService\r\n```\r\npackage com.example.accounting.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.example.accounting.model.Driver;\r\n\r\n@Service\r\n\r\npublic interface DriverService {\r\n    // create driver\r\n    public Driver createDriver(Driver driver);\r\n\r\n    // read drivers\r\n    public List&lt;Driver&gt; getDrivers();\r\n\r\n    // read driver by DL_Number\r\n    public Driver getDriverById(String DL_Number);\r\n\r\n    // delete driver by DL_Number\r\n    public void deleteDriver(String DL_Number);\r\n\r\n    // update driver by DL_Number\r\n    public Driver updateDriver(Driver driver, String DL_NumbeString);\r\n}\r\n\r\n```\r\nDriverServiceImplementation\r\n\r\n```\r\npackage com.example.accounting.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n\r\nimport com.example.accounting.model.Driver;\r\nimport com.example.accounting.repo.DriverRepo;\r\n\r\n\r\n\r\npublic class DriverServiceImplementation implements DriverService{\r\n    \r\n@Autowired\r\nprivate DriverRepo driverRepo;\r\n\r\n    @Override\r\n    public Driver createDriver(Driver driver) {\r\n        return driverRepo.save(driver);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Driver&gt; getDrivers() {\r\n        return (List&lt;Driver&gt;) driverRepo.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Driver getDriverById(String DL_Number) {\r\n        return driverRepo.findById(DL_Number).get();\r\n    }\r\n\r\n    @Override\r\n    public void deleteDriver(String DL_Number) {\r\n        driverRepo.deleteById(DL_Number);\r\n    }\r\n\r\n    @Override\r\n    public Driver updateDriver(Driver driver, String DL_Number) {\r\n        Driver driver1 = driverRepo.findById(DL_Number).get();\r\n        driver1.setCell(driver.getCell());\r\n        driver1.setCompanyName(driver.getCompanyName());\r\n        driver1.setDOB(driver.getDOB());\r\n        driver1.setDriving_Under(driver.getDriving_Under());\r\n        driver1.setEmail(driver.getEmail());\r\n        driver1.setFirstname(driver.getFirstname());\r\n        driver1.setLastname(driver.getLastname());\r\n        driver1.setPrepass(driver.getPrepass());\r\n        driver1.setDL_State(driver.getDL_State());\r\n        driver1.setStatus(driver.getStatus());\r\n        return driverRepo.save(driver1);\r\n    }\r\n    \r\n\r\n}\r\n\r\n```\r\n\r\nI would be very grateful if you could help me. I am new to programming and have to do this for university and am pretty hopeless right now.\r\n\r\n\r\nI tried to switch to the class DriverServiceImplementation within the class ClientControler instead of using the interface Driver Service. Only gives more errors","title":"Spring: Field in --- required a bean of type","body":"<p>Hello everyone and indeed I have the following problem. I am trying to connect to a GoDaddy DB with my Spring Boot application.</p>\n<p>Here I encounter the following problem:</p>\n<p><code>Field driverService in com.example.accounting.controller.ClientController required a bean of type 'com.example.accounting.service.DriverService' that could not be found.</code></p>\n<p>My folder structure looks like this:</p>\n<pre><code>Nova_2_Test-master\n    ├───.mvn\n    │   └───wrapper\n    ├───.vscode\n    ├───src\n    │   ├───main\n    │   │   ├───java\n    │   │   │   └───com\n    │   │   │       └───example\n    │   │   │           └───accounting\n    │   │   │               ├───controller\n    │   │   │               ├───model\n    │   │   │               ├───repo\n    │   │   │               └───service\n    │   │   └───resources\n    │   └───test\n    │       └───java\n    │           └───com\n    │               └───example\n    │                   └───accounting\n    └───target\n        ├───classes\n        │   └───com\n        │       └───example\n        │               ├───controller\n        │               ├───model\n        │               ├───repo\n        │               └───service\n        ├───generated-sources\n        │   └───annotations\n        ├───generated-test-sources\n        │   └───test-annotations\n        └───test-classes\n            └───com\n                └───example\n                    └───accounting\n</code></pre>\n<p>ClientController</p>\n<pre><code>package com.example.accounting.controller;\n\n\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.accounting.model.Driver;\nimport com.example.accounting.service.DriverService;\n//import com.example.accounting.service.DriverServiceImplementation;\n\n@RestController\npublic class ClientController {\n    @Autowired\n    private DriverService driverService;\n    \n\n\n    @GetMapping(&quot;/&quot;)\n    public String helloworld(){\n        return &quot;Hello World!&quot;;\n    }\n\n    // Rest API Crud - Create Driver - POST\n    // Read Driver - GET\n    // Delete Driver - DELETE\n    // Update Driver - PUT\n\n    //create Driver\n    @PostMapping(&quot;/add&quot;)\n    public Driver createDriver(@RequestBody Driver driver){\n        Driver driver1 = driverService.createDriver(driver);\n        return driver1;\n    }\n\n    // Read Drivers\n    @GetMapping(&quot;/drivers&quot;)\n    public List&lt;Driver&gt; getDrivers(){\n        return driverService.getDrivers();\n    }\n    \n    // Update Drivers By DL_Number\n    @PutMapping(&quot;/update/{DL_Number}&quot;)\n    public Driver updateDriverById(@RequestBody Driver driver, @PathVariable(&quot;DL_Number&quot;) String DL_Number) {\n        return driverService.updateDriver(driver, DL_Number);\n    }\n\n    // Delete Driver By DL_Number\n    @DeleteMapping(&quot;/delete/{DL_Number}&quot;)\n    public String deleteDriver(@PathVariable(&quot;DL_Number&quot;) String DL_Number) {\n        driverService.deleteDriver(DL_Number);\n        return &quot;Driver Deleted Successfully..&quot;;\n    }\n\n    // Get Driver By DL_Number\n    @GetMapping(&quot;/driver/{DL_Number}&quot;)\n    public Driver getDriverById(@PathVariable(&quot;DL_Number&quot;) String DL_Number) {\n        return driverService.getDriverById(DL_Number);\n    }\n\n}\n\n</code></pre>\n<p>DriverService</p>\n<pre><code>package com.example.accounting.service;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Service;\n\nimport com.example.accounting.model.Driver;\n\n@Service\n\npublic interface DriverService {\n    // create driver\n    public Driver createDriver(Driver driver);\n\n    // read drivers\n    public List&lt;Driver&gt; getDrivers();\n\n    // read driver by DL_Number\n    public Driver getDriverById(String DL_Number);\n\n    // delete driver by DL_Number\n    public void deleteDriver(String DL_Number);\n\n    // update driver by DL_Number\n    public Driver updateDriver(Driver driver, String DL_NumbeString);\n}\n\n</code></pre>\n<p>DriverServiceImplementation</p>\n<pre><code>package com.example.accounting.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\n\nimport com.example.accounting.model.Driver;\nimport com.example.accounting.repo.DriverRepo;\n\n\n\npublic class DriverServiceImplementation implements DriverService{\n    \n@Autowired\nprivate DriverRepo driverRepo;\n\n    @Override\n    public Driver createDriver(Driver driver) {\n        return driverRepo.save(driver);\n    }\n\n    @Override\n    public List&lt;Driver&gt; getDrivers() {\n        return (List&lt;Driver&gt;) driverRepo.findAll();\n    }\n\n    @Override\n    public Driver getDriverById(String DL_Number) {\n        return driverRepo.findById(DL_Number).get();\n    }\n\n    @Override\n    public void deleteDriver(String DL_Number) {\n        driverRepo.deleteById(DL_Number);\n    }\n\n    @Override\n    public Driver updateDriver(Driver driver, String DL_Number) {\n        Driver driver1 = driverRepo.findById(DL_Number).get();\n        driver1.setCell(driver.getCell());\n        driver1.setCompanyName(driver.getCompanyName());\n        driver1.setDOB(driver.getDOB());\n        driver1.setDriving_Under(driver.getDriving_Under());\n        driver1.setEmail(driver.getEmail());\n        driver1.setFirstname(driver.getFirstname());\n        driver1.setLastname(driver.getLastname());\n        driver1.setPrepass(driver.getPrepass());\n        driver1.setDL_State(driver.getDL_State());\n        driver1.setStatus(driver.getStatus());\n        return driverRepo.save(driver1);\n    }\n    \n\n}\n\n</code></pre>\n<p>I would be very grateful if you could help me. I am new to programming and have to do this for university and am pretty hopeless right now.</p>\n<p>I tried to switch to the class DriverServiceImplementation within the class ClientControler instead of using the interface Driver Service. Only gives more errors</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1681509942,"post_id":76018123,"comment_id":134073736,"body_markdown":"Can you provide a reproducible example. Your code is missing the GenericListDTOBuilder.dataList method for example.","body":"Can you provide a reproducible example. Your code is missing the GenericListDTOBuilder.dataList method for example."}],"answers":[{"tags":[],"owner":{"account_id":539671,"reputation":25438,"user_id":907590,"accept_rate":57,"display_name":"Parvin Gasimzade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681501343,"creation_date":1681501343,"answer_id":76018455,"question_id":76018123,"body_markdown":"Issue seems to be on the ``GenericListDTOBuilder.data()`` method. You are assigning parameter value instead of `data`.\r\n\r\n    public GenericListDTOBuilder&lt;DTO&gt; data(@NotNull Collection&lt;DTO&gt; data) {\r\n       this.dataList = data;\r\n       return this;\r\n    }","title":"java generic declaration defaulting to type object when calling it via a builder method","body":"<p>Issue seems to be on the <code>GenericListDTOBuilder.data()</code> method. You are assigning parameter value instead of <code>data</code>.</p>\n<pre><code>public GenericListDTOBuilder&lt;DTO&gt; data(@NotNull Collection&lt;DTO&gt; data) {\n   this.dataList = data;\n   return this;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681508509,"creation_date":1681508509,"answer_id":76019145,"question_id":76018123,"body_markdown":"This is probably a problem with inferring the return type of `builder()` in your `just()` method.\r\n\r\nThere are two ways I can see to fix this. Firstly, extract the return value of `builder()` to a local variable, and then call methods on that: \r\n\r\n```java\r\n    GenericListDTOBuilder&lt;DTO&gt; builder = builder();\r\n    return builder.dataList(dataList).total(dataList.size()).build();\r\n```\r\nSecondly, provide the type parameter when calling the `builder()` method. To get the type parameter in, you also need to qualify the static method with the class name:\r\n\r\n\r\n```java\r\n    return GenericListDTOBuilder.&lt;DTO&gt;builder().dataList(dataList).total(dataList.size()).build();\r\n```\r\n\r\nNote that the type variable `DTO` in your static `just` method is not the same as the type variable `DTO` in the class. You would be best off renaming this type variable to avoid any confusion.\r\n\r\nSee also &lt;a href=&quot;https://stackoverflow.com/a/4409195&quot;&gt;this answer&lt;/a&gt;.","title":"java generic declaration defaulting to type object when calling it via a builder method","body":"<p>This is probably a problem with inferring the return type of <code>builder()</code> in your <code>just()</code> method.</p>\n<p>There are two ways I can see to fix this. Firstly, extract the return value of <code>builder()</code> to a local variable, and then call methods on that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    GenericListDTOBuilder&lt;DTO&gt; builder = builder();\n    return builder.dataList(dataList).total(dataList.size()).build();\n</code></pre>\n<p>Secondly, provide the type parameter when calling the <code>builder()</code> method. To get the type parameter in, you also need to qualify the static method with the class name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    return GenericListDTOBuilder.&lt;DTO&gt;builder().dataList(dataList).total(dataList.size()).build();\n</code></pre>\n<p>Note that the type variable <code>DTO</code> in your static <code>just</code> method is not the same as the type variable <code>DTO</code> in the class. You would be best off renaming this type variable to avoid any confusion.</p>\n<p>See also <a href=\"https://stackoverflow.com/a/4409195\">this answer</a>.</p>\n"}],"owner":{"account_id":19537573,"reputation":1,"user_id":14296031,"display_name":"Steven Keck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681508509,"creation_date":1681498143,"question_id":76018123,"body_markdown":"I have a series of Data Transport Objects, DTO. They have a few elements that are common to each different DTO. One element is a collection of the DTO, because we can have a list, or series of these DTO&#39;s to process at a time. I&#39;ve used generics so Spring can handle the different DTOs and pass up to the UI. Here are some excerpts from my GenericListDTO() class.\r\n\r\n\r\n```\r\n @XmlElement\r\n    @NotNull\r\n    private Collection&lt;DTO&gt; dataList;\r\n    @XmlElement\r\n    private int totObjs;\r\n```\r\nMy DTO builder is defined like this: \r\n```\r\npublic static &lt;DTO&gt; GenericListDTOBuilder&lt;DTO&gt; builder() { \r\n   return new GenericListDTOBuilder&lt;&gt;(); \r\n}\r\n```\r\nHere is the builder class defined inside my GenericList Class.\r\n\r\n```\r\npublic static class GenericListDTOBuilder&lt;DTO&gt; {\r\n        private Collection&lt;DTO&gt; dataList;\r\n\r\n        public GenericListDTOBuilder&lt;DTO&gt; data(@NotNull Collection&lt;DTO&gt; data) {\r\n            this.dataList = dataList;\r\n            return this;\r\n        }\r\n\r\n        private int total;\r\n        \r\n        public GenericListDTOBuilder&lt;DTO&gt; total(int total) {\r\n            this.total = total;\r\n            return this;\r\n        }\r\n\r\n        public GenericListDTO&lt;DTO&gt; build() {\r\n            return new GenericListDTO&lt;&gt;(this.data, this.total, this.validUntil);\r\n        }\r\n\r\n        \r\n        }\r\n\r\n    }\r\n```\r\n\r\nLater in the class I have this constructor.\r\n\r\n```\r\n@NotNull\r\n    public static &lt;DTO&gt; GenericListDTO&lt;DTO&gt; just(@NotNull Collection&lt;DTO&gt; dataList) {\r\n        \r\n        return  builder().dataList(dataList).total(dataList.size()).build();\r\n    }\r\n```\r\nIntellij at the .dataList(dataList) portion gives this error, &quot;Required type: Collection&lt;Object&gt; Provided:Collection&lt;DTO&gt;.\r\n\r\nI don&#39;t understand why it&#39;s giving that error when dataList has been defined as private Collection&lt;DTO&gt; dataList; and I&#39;m passing in a Collection&lt;DTO&gt; object.\r\n\r\n\r\n\r\n\r\nTo get this to not have an error I have to double cast it.\r\n\r\n return (GenericListDTA&lt;DTO&gt;) builder().dataList((Collection&lt;Object&gt;) dataList).total(dataList.size()).build();\r\n\r\nWhy do wont it recognize dataList as a Collection of DTO? Why is it defaulting to Collection&lt;Object&gt;","title":"java generic declaration defaulting to type object when calling it via a builder method","body":"<p>I have a series of Data Transport Objects, DTO. They have a few elements that are common to each different DTO. One element is a collection of the DTO, because we can have a list, or series of these DTO's to process at a time. I've used generics so Spring can handle the different DTOs and pass up to the UI. Here are some excerpts from my GenericListDTO() class.</p>\n<pre><code> @XmlElement\n    @NotNull\n    private Collection&lt;DTO&gt; dataList;\n    @XmlElement\n    private int totObjs;\n</code></pre>\n<p>My DTO builder is defined like this:</p>\n<pre><code>public static &lt;DTO&gt; GenericListDTOBuilder&lt;DTO&gt; builder() { \n   return new GenericListDTOBuilder&lt;&gt;(); \n}\n</code></pre>\n<p>Here is the builder class defined inside my GenericList Class.</p>\n<pre><code>public static class GenericListDTOBuilder&lt;DTO&gt; {\n        private Collection&lt;DTO&gt; dataList;\n\n        public GenericListDTOBuilder&lt;DTO&gt; data(@NotNull Collection&lt;DTO&gt; data) {\n            this.dataList = dataList;\n            return this;\n        }\n\n        private int total;\n        \n        public GenericListDTOBuilder&lt;DTO&gt; total(int total) {\n            this.total = total;\n            return this;\n        }\n\n        public GenericListDTO&lt;DTO&gt; build() {\n            return new GenericListDTO&lt;&gt;(this.data, this.total, this.validUntil);\n        }\n\n        \n        }\n\n    }\n</code></pre>\n<p>Later in the class I have this constructor.</p>\n<pre><code>@NotNull\n    public static &lt;DTO&gt; GenericListDTO&lt;DTO&gt; just(@NotNull Collection&lt;DTO&gt; dataList) {\n        \n        return  builder().dataList(dataList).total(dataList.size()).build();\n    }\n</code></pre>\n<p>Intellij at the .dataList(dataList) portion gives this error, &quot;Required type: Collection Provided:Collection.</p>\n<p>I don't understand why it's giving that error when dataList has been defined as private Collection dataList; and I'm passing in a Collection object.</p>\n<p>To get this to not have an error I have to double cast it.</p>\n<p>return (GenericListDTA) builder().dataList((Collection) dataList).total(dataList.size()).build();</p>\n<p>Why do wont it recognize dataList as a Collection of DTO? Why is it defaulting to Collection</p>\n"},{"tags":["java","r","selenium","web-scraping","rselenium"],"answers":[{"tags":[],"owner":{"account_id":20178496,"reputation":29,"user_id":14799558,"display_name":"jaechang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673508425,"creation_date":1673508425,"answer_id":75092837,"question_id":75092535,"body_markdown":"I recommend &#39;remoteDriver&#39; instead of &#39;rsDriver&#39;\r\n```\r\nbinman::list_versions(appname = &#39;chromedriver&#39;)\r\ndriver&lt;-wdman::chrome(port=4576L, version = &#39;108.0.5359.71&#39;)\r\n\r\n# first data\r\nremote&lt;-remoteDriver(port=4576L, browserName=&#39;chrome&#39;)\r\nremote$open()\r\n```","title":"RSelenium fails to open browser","body":"<p>I recommend 'remoteDriver' instead of 'rsDriver'</p>\n<pre><code>binman::list_versions(appname = 'chromedriver')\ndriver&lt;-wdman::chrome(port=4576L, version = '108.0.5359.71')\n\n# first data\nremote&lt;-remoteDriver(port=4576L, browserName='chrome')\nremote$open()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27527281,"reputation":1,"user_id":21006390,"display_name":"jffj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673697670,"creation_date":1673697670,"answer_id":75117759,"question_id":75092535,"body_markdown":"I have experienced exactly the same issue since I upgraded to chromedriver 109.0.5414.74. It might be a problem with the latest chromedriver version.\r\n\r\nThe only way I make rsDriver to run again was by replacing in your code 109.0.5414.74 by 108.0.5359.71.\r\n\r\nTry:\r\n\r\n    library(tidyverse)\r\n    library(RSelenium)\r\n    library(netstat)\r\n    library(Rcpp)\r\n    library(wdman)\r\n        \r\n    binman::list_versions(&quot;chromedriver&quot;)\r\n        \r\n        \r\n    rdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\r\n    chromever = &quot;108.0.5359.71&quot;,\r\n    verbose = TRUE,\r\n    port = free_port())\r\n        \r\n    rdriver$server$log()","title":"RSelenium fails to open browser","body":"<p>I have experienced exactly the same issue since I upgraded to chromedriver 109.0.5414.74. It might be a problem with the latest chromedriver version.</p>\n<p>The only way I make rsDriver to run again was by replacing in your code 109.0.5414.74 by 108.0.5359.71.</p>\n<p>Try:</p>\n<pre><code>library(tidyverse)\nlibrary(RSelenium)\nlibrary(netstat)\nlibrary(Rcpp)\nlibrary(wdman)\n    \nbinman::list_versions(&quot;chromedriver&quot;)\n    \n    \nrdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\nchromever = &quot;108.0.5359.71&quot;,\nverbose = TRUE,\nport = free_port())\n    \nrdriver$server$log()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20912442,"reputation":66,"user_id":15363011,"display_name":"bingbongtelecom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674153726,"creation_date":1674153726,"answer_id":75176907,"question_id":75092535,"body_markdown":"The chrome driver version &quot;109.0.5414.74&quot; now includes an additional file that confuses wdman/binman. Using an earlier version like `chromever = &quot;108.0.5359.71&quot;` will work. Alternatively you can use the newer drivers by finding your chrome driver path using selenium(retcommand = T) and deleting the LICENSE.chromedriver files ","title":"RSelenium fails to open browser","body":"<p>The chrome driver version &quot;109.0.5414.74&quot; now includes an additional file that confuses wdman/binman. Using an earlier version like <code>chromever = &quot;108.0.5359.71&quot;</code> will work. Alternatively you can use the newer drivers by finding your chrome driver path using selenium(retcommand = T) and deleting the LICENSE.chromedriver files</p>\n"},{"tags":[],"owner":{"account_id":27806571,"reputation":1,"user_id":21229841,"display_name":"user21229841"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676582771,"creation_date":1676582771,"answer_id":75478097,"question_id":75092535,"body_markdown":"Execute this code in a separate script:\r\n\r\n    library(wdman) \r\n    selenium(retcommand=T)\r\n\r\nIn the console read the path where is the file LICENSE.chromedriver in your system. This file will be in the chromedriver folders from version 109 and above.\r\n\r\nDelete LICENSE.chromedriver.\r\n\r\nNow your code shuold be ok again when you run the rsDriver().\r\n\r\n\r\n","title":"RSelenium fails to open browser","body":"<p>Execute this code in a separate script:</p>\n<pre><code>library(wdman) \nselenium(retcommand=T)\n</code></pre>\n<p>In the console read the path where is the file LICENSE.chromedriver in your system. This file will be in the chromedriver folders from version 109 and above.</p>\n<p>Delete LICENSE.chromedriver.</p>\n<p>Now your code shuold be ok again when you run the rsDriver().</p>\n"},{"tags":[],"owner":{"account_id":12727747,"reputation":1955,"user_id":9245623,"display_name":"Emmanuel Hamel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681508186,"creation_date":1681508186,"answer_id":76019108,"question_id":75092535,"body_markdown":"You can consider the two following approaches :\r\n\r\n```\r\nlibrary(RSelenium)\r\nshell(&#39;docker run -d -p 4445:4444 selenium/standalone-firefox&#39;)\r\nremDr &lt;- remoteDriver(remoteServerAddr = &quot;localhost&quot;, port = 4445L, browserName = &quot;firefox&quot;)\r\nremDr$open()\r\nremDr$navigate(&quot;https://www.google.com/&quot;)\r\n```\r\n\r\nand\r\n\r\n```\r\nlibrary(RSelenium)\r\nlibrary(wdman)\r\n\r\nurl &lt;- &quot;https://www.google.com/&quot;\r\nport &lt;- as.integer(4444L + rpois(lambda = 1000, 1))\r\npJS &lt;- wdman::phantomjs(port = port)\r\nremDrPJS &lt;- remoteDriver(browserName = &quot;phantomjs&quot;, port = port)\r\nremDrPJS$open()\r\nremDrPJS$navigate(url)\r\n```\r\n\r\nYou need to install Docker for the first approach. It is easy to install.","title":"RSelenium fails to open browser","body":"<p>You can consider the two following approaches :</p>\n<pre><code>library(RSelenium)\nshell('docker run -d -p 4445:4444 selenium/standalone-firefox')\nremDr &lt;- remoteDriver(remoteServerAddr = &quot;localhost&quot;, port = 4445L, browserName = &quot;firefox&quot;)\nremDr$open()\nremDr$navigate(&quot;https://www.google.com/&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>library(RSelenium)\nlibrary(wdman)\n\nurl &lt;- &quot;https://www.google.com/&quot;\nport &lt;- as.integer(4444L + rpois(lambda = 1000, 1))\npJS &lt;- wdman::phantomjs(port = port)\nremDrPJS &lt;- remoteDriver(browserName = &quot;phantomjs&quot;, port = port)\nremDrPJS$open()\nremDrPJS$navigate(url)\n</code></pre>\n<p>You need to install Docker for the first approach. It is easy to install.</p>\n"}],"owner":{"account_id":18501125,"reputation":43,"user_id":13478435,"display_name":"Etxeberri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1681508186,"creation_date":1673506129,"question_id":75092535,"body_markdown":"I wan&#39;t to use Selenium for webscrapping from R. \r\n\r\n - My Windows version: Windows 11, 21H2\r\n - I have the latest Java update. (1.8.0_351) Commenting it since I&#39;ve seen it could be a fix in this cases. \r\n\r\nHowever, when defining the driver object I get the following error:\r\n\r\n    Could not open chrome browser.\r\n    Client error message:\r\n    Undefined error in httr call. httr output: Failed to connect to localhost port 14415: Connection refused\r\n    Check server log for further details.\r\n    Warning message:\r\n    In rsDriver(browser = &quot;chrome&quot;, chromever = &quot;109.0.5414.74&quot;, verbose = FALSE,  :\r\n      Could not determine server status. \r\n\r\nWhen checking the server log for further details I get:\r\n\r\n    Could not find or load main class c(-Dwebdriver.chrome.driver=\\&quot;C:\\\\\\\\Users\\\\\\\\xherr\\\\\\\\AppData\\\\\\\\Local\\\\\\\\binman\\\\\\\\binman_chromedriver\\\\\\\\win32\\\\\\\\109.0.5414.74.chromedriver.exe\\&quot;,&quot;\r\n\r\nHere&#39;s my code:\r\n\r\n    library(tidyverse)\r\n    library(RSelenium)\r\n    library(netstat)\r\n    library(Rcpp)\r\n    library(wdman)\r\n    \r\n    binman::list_versions(&quot;chromedriver&quot;)\r\n    \r\n    \r\n    rdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\r\n                        chromever = &quot;109.0.5414.74&quot;,\r\n                        verbose = TRUE,\r\n                        port = free_port())\r\n    \r\n    rdriver$server$log()\r\n\r\nDoes anyone know how to fix this?\r\nThank you very much\r\n\r\n","title":"RSelenium fails to open browser","body":"<p>I wan't to use Selenium for webscrapping from R.</p>\n<ul>\n<li>My Windows version: Windows 11, 21H2</li>\n<li>I have the latest Java update. (1.8.0_351) Commenting it since I've seen it could be a fix in this cases.</li>\n</ul>\n<p>However, when defining the driver object I get the following error:</p>\n<pre><code>Could not open chrome browser.\nClient error message:\nUndefined error in httr call. httr output: Failed to connect to localhost port 14415: Connection refused\nCheck server log for further details.\nWarning message:\nIn rsDriver(browser = &quot;chrome&quot;, chromever = &quot;109.0.5414.74&quot;, verbose = FALSE,  :\n  Could not determine server status. \n</code></pre>\n<p>When checking the server log for further details I get:</p>\n<pre><code>Could not find or load main class c(-Dwebdriver.chrome.driver=\\&quot;C:\\\\\\\\Users\\\\\\\\xherr\\\\\\\\AppData\\\\\\\\Local\\\\\\\\binman\\\\\\\\binman_chromedriver\\\\\\\\win32\\\\\\\\109.0.5414.74.chromedriver.exe\\&quot;,&quot;\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>library(tidyverse)\nlibrary(RSelenium)\nlibrary(netstat)\nlibrary(Rcpp)\nlibrary(wdman)\n\nbinman::list_versions(&quot;chromedriver&quot;)\n\n\nrdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\n                    chromever = &quot;109.0.5414.74&quot;,\n                    verbose = TRUE,\n                    port = free_port())\n\nrdriver$server$log()\n</code></pre>\n<p>Does anyone know how to fix this?\nThank you very much</p>\n"},{"tags":["java","hibernate","nosuchmethoderror"],"answers":[{"tags":[],"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681507949,"creation_date":1681507949,"answer_id":76019088,"question_id":76017943,"body_markdown":"I figured out, what the problem was. If the tests are run in Intellij (or possibly other IDEs) the option to build before running the tests needs to be disabled, otherwise the enhanced classes are overwritten again.\r\n\r\nMy solution in detail:\r\n\r\nRun -&gt; Edit Configurations -&gt; Choose JUnit Test Configuration that should be run -&gt; Modify options (Alt + M) -&gt; Do not build before run","title":"Hibernate Byte Code Enhancement NoSuchMethodError","body":"<p>I figured out, what the problem was. If the tests are run in Intellij (or possibly other IDEs) the option to build before running the tests needs to be disabled, otherwise the enhanced classes are overwritten again.</p>\n<p>My solution in detail:</p>\n<p>Run -&gt; Edit Configurations -&gt; Choose JUnit Test Configuration that should be run -&gt; Modify options (Alt + M) -&gt; Do not build before run</p>\n"}],"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681507949,"creation_date":1681496498,"question_id":76017943,"body_markdown":"I set up byte code enhancement for Hibernate version 5.2.4-Final as follows:\r\n\r\n    &lt;plugin&gt;\r\n       \t&lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n       \t&lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n       \t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t  &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1&lt;/version&gt;\r\n\t\t  &lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n       \t&lt;executions&gt;\r\n       \t  &lt;execution&gt;\r\n            &lt;configuration&gt;\r\n                &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n                &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\r\n                &lt;enableDirtyTracking&gt;false&lt;/enableDirtyTracking&gt;\r\n                &lt;enableAssociationManagement&gt;false&lt;/enableAssociationManagement&gt;\r\n       \t  \t&lt;/configuration&gt;\r\n\t\t  \t&lt;goals&gt;\r\n              &lt;goal&gt;enhance&lt;/goal&gt;\r\n       \t  \t&lt;/goals&gt;\r\n       \t  &lt;/execution&gt;\r\n       \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI had to add the jta-dependency since I got [this error][1] on building my project.\r\nNow after building, when I run my tests, it gives me the following error for different classes (seemingly non deterministic) and different attributes. In this example it is the `listAttribute` in `myPackage.MyClass`:\r\n\r\n        Caused by: org.hibernate.PropertyAccessException: Exception occurred inside setter of myPackage.MyClass.listAttribute\r\n    \tat org.hibernate.property.access.spi.EnhancedSetterImpl.set(EnhancedSetterImpl.java:86)\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:611)\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:205)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4619)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:442)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:233)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:173)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:69)\r\n    \tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:863)\r\n    \t... 174 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.hibernate.property.access.spi.EnhancedSetterImpl.set(EnhancedSetterImpl.java:61)\r\n    \t... 182 more\r\n    Caused by: java.lang.NoSuchMethodError: myPackage.MyClass.$$_hibernate_read_listAttribute()Ljava/util/List;\r\n    \tat myPackage.MyClass.$$_hibernate_write_listAttribute(MyClass.java)\r\n    \t... 187 more\r\n\r\nWhat can I do to get rid of these types of errors?\r\n\r\n  [1]: https://stackoverflow.com/questions/18125294/hibernate-4-javax-transaction-systemexception-error","title":"Hibernate Byte Code Enhancement NoSuchMethodError","body":"<p>I set up byte code enhancement for Hibernate version 5.2.4-Final as follows:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;jta&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;configuration&gt;\n            &lt;failOnError&gt;true&lt;/failOnError&gt;\n            &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\n            &lt;enableDirtyTracking&gt;false&lt;/enableDirtyTracking&gt;\n            &lt;enableAssociationManagement&gt;false&lt;/enableAssociationManagement&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;enhance&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I had to add the jta-dependency since I got <a href=\"https://stackoverflow.com/questions/18125294/hibernate-4-javax-transaction-systemexception-error\">this error</a> on building my project.\nNow after building, when I run my tests, it gives me the following error for different classes (seemingly non deterministic) and different attributes. In this example it is the <code>listAttribute</code> in <code>myPackage.MyClass</code>:</p>\n<pre><code>    Caused by: org.hibernate.PropertyAccessException: Exception occurred inside setter of myPackage.MyClass.listAttribute\n    at org.hibernate.property.access.spi.EnhancedSetterImpl.set(EnhancedSetterImpl.java:86)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:611)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:205)\n    at org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4619)\n    at org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:442)\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:233)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:173)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:69)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:863)\n    ... 174 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.hibernate.property.access.spi.EnhancedSetterImpl.set(EnhancedSetterImpl.java:61)\n    ... 182 more\nCaused by: java.lang.NoSuchMethodError: myPackage.MyClass.$$_hibernate_read_listAttribute()Ljava/util/List;\n    at myPackage.MyClass.$$_hibernate_write_listAttribute(MyClass.java)\n    ... 187 more\n</code></pre>\n<p>What can I do to get rid of these types of errors?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9493,"page":499,"page_size":100}
